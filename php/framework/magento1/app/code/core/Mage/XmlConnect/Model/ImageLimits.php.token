[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * XmlConnect Image Limits model\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Model_ImageLimits",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Model_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Screen size update type glue\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","SCREEN_SIZE_UPDATE_TYPE_GLUE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'_'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Screen size glue\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","SCREEN_SIZE_GLUE",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'x'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Maximum allowed screen sizes\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","MAX_ALLOWED_SCREEN_SIZES",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","2560",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Current screen size\n     *\n     * @var string\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_screenSize",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Current screen rate\n     *\n     * @var float\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_screenRate",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Update type\n     *\n     * @var string\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_updateType",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Screen size image limits array\n     *\n     * @var array\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_imageLimits",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",")",";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Screen size config update model\n     *\n     * @var Mage_XmlConnect_Model_ImageLimits_Abstract\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$_sizeModel",84],";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Application model\n     *\n     * @var Mage_XmlConnect_Model_Application\n     *\/",86],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$_applicationModel",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Initialize model\n     *\n     * @param null|Mage_XmlConnect_Model_Application $applicationModel\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","__construct",98],"(",["T_VARIABLE","$applicationModel",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","null",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_STRING","parent",100],["T_DOUBLE_COLON","::",100],["T_STRING","_construct",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_setApplicationModel",101],"(",["T_VARIABLE","$applicationModel",101],")",["T_OBJECT_OPERATOR","->",101],["T_STRING","_setScreenSize",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","_initSizeModel",101],"(",")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Set application model\n     *\n     * @param Mage_XmlConnect_Model_Application $applicationModel\n     * @return Mage_XmlConnect_Model_Device_Abstract\n     *\/",104],["T_WHITESPACE","\n    ",109],["T_PROTECTED","protected",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","_setApplicationModel",110],"(",["T_VARIABLE","$applicationModel",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","null",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$applicationModel",112],["T_WHITESPACE"," ",112],["T_INSTANCEOF","instanceof",112],["T_WHITESPACE"," ",112],["T_STRING","Mage_XmlConnect_Model_Application",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_applicationModel",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$applicationModel",113],";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE"," ",114],["T_ELSE","else",114],["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_applicationModel",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","Mage",115],["T_DOUBLE_COLON","::",115],["T_STRING","helper",115],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getApplication",115],"(",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Get application model\n     *\n     * @return Mage_XmlConnect_Model_Application\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","_getApplicationModel",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_STRING","null",127],["T_WHITESPACE"," ",127],["T_IS_IDENTICAL","===",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_applicationModel",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","setApplicationModel",128],"(",["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","helper",128],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getApplication",128],"(",")",")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_applicationModel",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Do steps to set current screen size and image limits configuration\n     *\n     * @param string $screenSize\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",133],["T_WHITESPACE","\n    ",138],["T_PROTECTED","protected",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","_doUpdateConfig",139],"(",["T_VARIABLE","$screenSize",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","''",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_setScreenSize",141],"(",["T_VARIABLE","$screenSize",141],")",["T_OBJECT_OPERATOR","->",141],["T_STRING","_initSizeModel",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","_afterCalculate",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Set screen current screen siz\n     *\n     * @param string $screenSize\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","_setScreenSize",151],"(",["T_VARIABLE","$screenSize",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","''",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_DOC_COMMENT","\/** @var $applicationModel Mage_XmlConnect_Model_Application *\/",153],["T_WHITESPACE","\n        ",153],["T_VARIABLE","$applicationModel",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","Mage",154],["T_DOUBLE_COLON","::",154],["T_STRING","helper",154],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","getApplication",154],"(",")",";",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(","!",["T_VARIABLE","$screenSize",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$screenSize",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$applicationModel",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getScreenSize",156],"(",")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_ISSET","isset",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_imageLimits",159],"[",["T_VARIABLE","$screenSize",159],"]",")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$screenSizeExplodeArray",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","explode",163],"(",["T_STRING","self",163],["T_DOUBLE_COLON","::",163],["T_STRING","SCREEN_SIZE_UPDATE_TYPE_GLUE",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$screenSize",163],")",";",["T_WHITESPACE","\n        ",163],["T_SWITCH","switch",164],["T_WHITESPACE"," ",164],"(",["T_STRING","count",164],"(",["T_VARIABLE","$screenSizeExplodeArray",164],")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_CASE","case",165],["T_WHITESPACE"," ",165],["T_LNUMBER","2",165],":",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_updateType",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$screenSizeExplodeArray",166],"[",["T_LNUMBER","1",166],"]",";",["T_WHITESPACE","\n            ",166],["T_CASE","case",167],["T_WHITESPACE"," ",167],["T_LNUMBER","1",167],":",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_screenSize",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$screenSizeExplodeArray",168],"[",["T_LNUMBER","0",168],"]",";",["T_WHITESPACE","\n                ",168],["T_BREAK","break",169],";",["T_WHITESPACE","\n            ",169],["T_DEFAULT","default",170],":",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_screenSize",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$applicationModel",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getScreenSize",171],"(",")",";",["T_WHITESPACE","\n                ",171],["T_BREAK","break",172],";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_checkMaximumAllowedSize",174],"(",")",";",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Check maximum allowed screen size for devices\n     *\n     * @throws Mage_Core_Exception\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","_checkMaximumAllowedSize",184],"(",")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$screenSizeArray",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","explode",186],"(",["T_STRING","self",186],["T_DOUBLE_COLON","::",186],["T_STRING","SCREEN_SIZE_GLUE",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_screenSize",186],")",";",["T_WHITESPACE","\n        ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_STRING","count",187],"(",["T_VARIABLE","$screenSizeArray",187],")",["T_WHITESPACE"," ",187],["T_IS_NOT_EQUAL","!=",187],["T_WHITESPACE"," ",187],["T_LNUMBER","2",187],["T_WHITESPACE"," ",187],["T_BOOLEAN_OR","||",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$screenSizeArray",187],"[",["T_LNUMBER","0",187],"]",["T_WHITESPACE"," ",187],">",["T_WHITESPACE"," ",187],["T_STRING","self",187],["T_DOUBLE_COLON","::",187],["T_STRING","MAX_ALLOWED_SCREEN_SIZES",187],["T_WHITESPACE","\n            ",187],["T_BOOLEAN_OR","||",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$screenSizeArray",188],"[",["T_LNUMBER","1",188],"]",["T_WHITESPACE"," ",188],">",["T_WHITESPACE"," ",188],["T_STRING","self",188],["T_DOUBLE_COLON","::",188],["T_STRING","MAX_ALLOWED_SCREEN_SIZES",188],["T_WHITESPACE","\n        ",188],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_STRING","Mage",190],["T_DOUBLE_COLON","::",190],["T_STRING","throwException",190],"(",["T_STRING","Mage",190],["T_DOUBLE_COLON","::",190],["T_STRING","helper",190],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","__",190],"(",["T_CONSTANT_ENCAPSED_STRING","'Screen resolution is not supported'",190],")",")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Init image limit configuration model\n     *\n     * @throws Mage_Core_Exception\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",195],["T_WHITESPACE","\n    ",200],["T_PROTECTED","protected",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","_initSizeModel",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$defaultScreenSize",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_getApplicationModel",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getDeviceModel",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getDefaultScreenSize",203],"(",")",";",["T_WHITESPACE","\n\n        ",203],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_screenSize",205],["T_WHITESPACE"," ",205],["T_BOOLEAN_AND","&&",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_screenSize",205],["T_WHITESPACE"," ",205],["T_IS_NOT_EQUAL","!=",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$defaultScreenSize",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(","!",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getSizeModel",206],"(",")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                ",206],["T_VARIABLE","$modelClass",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","Mage",207],["T_DOUBLE_COLON","::",207],["T_STRING","getConfig",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getModelClassName",207],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/imageLimits_'",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_screenSize",207],")",";",["T_WHITESPACE","\n                ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_STRING","class_exists",208],"(",["T_VARIABLE","$modelClass",208],",",["T_WHITESPACE"," ",208],["T_STRING","false",208],")",["T_WHITESPACE"," ",208],["T_BOOLEAN_OR","||",208],["T_WHITESPACE"," ",208],["T_STRING","mageFindClassFile",208],"(",["T_VARIABLE","$modelClass",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                    ",208],["T_VARIABLE","$sizeModel",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","Mage",209],["T_DOUBLE_COLON","::",209],["T_STRING","getModel",209],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/imageLimits_'",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_screenSize",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_updateType",209],")",";",["T_WHITESPACE","\n                    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","setSizeModel",210],"(",["T_VARIABLE","$sizeModel",210],")",";",["T_WHITESPACE","\n                ",210],"}",["T_WHITESPACE","\n            ",211],"}",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_calculateImageLimits",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","_afterCalculate",213],"(",")",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE"," ",214],["T_ELSE","else",214],["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_setScreenSize",215],"(",["T_VARIABLE","$defaultScreenSize",215],")",["T_OBJECT_OPERATOR","->",215],["T_STRING","_setDefaultSizeModel",215],"(",")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Set default image size model\n     *\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",220],["T_WHITESPACE","\n    ",224],["T_PROTECTED","protected",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","_setDefaultSizeModel",225],"(",")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$defaultSizeModel",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_getApplicationModel",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","getDeviceModel",227],"(",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_imageLimits",228],"[",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_screenSize",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$defaultSizeModel",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getImageSizeConfig",228],"(",")",";",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * After calculate image limits screen size update\n     *\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE","  ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","_afterCalculate",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_ISSET","isset",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_imageLimits",239],"[",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_screenSize",239],"]",")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_imageLimits",242],"[",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_screenSize",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getSizeModel",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","getScreenSizeConfig",242],"(",")",";",["T_WHITESPACE","\n        ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Calculate image limits for current screen size\n     *\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",246],["T_WHITESPACE","\n    ",250],["T_PROTECTED","protected",251],["T_WHITESPACE","  ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","_calculateImageLimits",251],"(",")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$defaultSizeModel",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_getApplicationModel",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","getDeviceModel",253],"(",")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$sizeModel",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getSizeModel",254],"(",")",";",["T_WHITESPACE","\n\n        ",254],["T_VARIABLE","$updatedConfiguration",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","_calculateImageRate",256],"(",")",["T_OBJECT_OPERATOR","->",256],["T_STRING","_updateConfigByRate",256],"(",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$defaultSizeModel",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getImageSizeConfig",257],"(",")",["T_WHITESPACE","\n        ",257],")",";",["T_WHITESPACE","\n\n        ",258],["T_IF","if",260],["T_WHITESPACE"," ",260],"(","!",["T_VARIABLE","$sizeModel",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_imageLimits",261],"[",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_screenSize",261],"]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$updatedConfiguration",261],";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE"," ",262],["T_ELSE","else",262],["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$sizeModel",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","setConfig",263],"(",["T_VARIABLE","$updatedConfiguration",263],")",";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Calculate image rate\n     *\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",268],["T_WHITESPACE","\n    ",272],["T_PROTECTED","protected",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","_calculateImageRate",273],"(",")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$defaultScaleValue",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_getApplicationModel",275],"(",")",["T_OBJECT_OPERATOR","->",275],["T_STRING","getDeviceModel",275],"(",")",["T_OBJECT_OPERATOR","->",275],["T_STRING","getDefaultScaleValue",275],"(",")",";",["T_WHITESPACE","\n\n        ",275],["T_LIST","list",277],"(",["T_VARIABLE","$width",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$height",277],")",["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","explode",277],"(",["T_STRING","self",277],["T_DOUBLE_COLON","::",277],["T_STRING","SCREEN_SIZE_GLUE",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_screenSize",277],")",";",["T_WHITESPACE","\n        ",277],["T_COMMENT","\/\/ Calculate rate for current resolution\n",278],["T_WHITESPACE","        ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_screenRate",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","min",279],"(",["T_VARIABLE","$width",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$height",279],")",["T_WHITESPACE"," ",279],"\/",["T_WHITESPACE"," ",279],["T_VARIABLE","$defaultScaleValue",279],";",["T_WHITESPACE","\n\n        ",279],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Update image limits based on device default screen size\n     *\n     * @param array $defaultValues\n     * @return array\n     *\/",284],["T_WHITESPACE","\n    ",289],["T_PROTECTED","protected",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","_updateConfigByRate",290],"(",["T_VARIABLE","$defaultValues",290],")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_FOREACH","foreach",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$defaultValues",292],["T_WHITESPACE"," ",292],["T_AS","as",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$key",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$value",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_STRING","is_array",293],"(",["T_VARIABLE","$value",293],")",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$defaultValues",294],"[",["T_VARIABLE","$key",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","_updateConfigByRate",294],"(",["T_VARIABLE","$value",294],")",";",["T_WHITESPACE","\n            ",294],"}",["T_WHITESPACE"," ",295],["T_ELSE","else",295],["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$defaultValues",296],"[",["T_VARIABLE","$key",296],"]",["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","round",296],"(",["T_VARIABLE","$value",296],["T_WHITESPACE"," ",296],"*",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_screenRate",296],")",";",["T_WHITESPACE","\n            ",296],"}",["T_WHITESPACE","\n        ",297],"}",["T_WHITESPACE","\n        ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$defaultValues",299],";",["T_WHITESPACE","\n    ",299],"}",["T_WHITESPACE","\n\n    ",300],["T_DOC_COMMENT","\/**\n     * Get screen size config update model\n     *\n     * @return Mage_XmlConnect_Model_ImageLimits_Abstract\n     *\/",302],["T_WHITESPACE","\n    ",306],["T_PUBLIC","public",307],["T_WHITESPACE"," ",307],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","getSizeModel",307],"(",")",["T_WHITESPACE","\n    ",307],"{",["T_WHITESPACE","\n        ",308],["T_RETURN","return",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_sizeModel",309],";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * Set screen size config update model\n     *\n     * @param object $sizeModel\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",312],["T_WHITESPACE","\n    ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","setSizeModel",318],"(",["T_VARIABLE","$sizeModel",318],")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_sizeModel",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$sizeModel",320],";",["T_WHITESPACE","\n        ",320],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],";",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_DOC_COMMENT","\/**\n     * Get image limits config\n     *\n     * @return array\n     *\/",324],["T_WHITESPACE","\n    ",328],["T_PUBLIC","public",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","getImageLimits",329],"(",")",["T_WHITESPACE","\n    ",329],"{",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_imageLimits",331],";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Set image limits config\n     *\n     * @param array $imageLimits\n     * @return Mage_XmlConnect_Model_ImageLimits\n     *\/",334],["T_WHITESPACE","\n    ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","setImageLimits",340],"(",["T_VARIABLE","$imageLimits",340],")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_imageLimits",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$imageLimits",342],";",["T_WHITESPACE","\n        ",342],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Get image limits by type\n     *\n     * @param string $key\n     * @param null|string $index\n     * @param string $screenSize\n     * @return mixed\n     *\/",346],["T_WHITESPACE","\n    ",353],["T_PUBLIC","public",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","getImageLimitsByType",354],"(",["T_VARIABLE","$key",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","''",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$index",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","null",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$screenSize",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","''",354],")",["T_WHITESPACE","\n    ",354],"{",["T_WHITESPACE","\n        ",355],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$screenSize",356],["T_WHITESPACE"," ",356],["T_BOOLEAN_AND","&&",356],["T_WHITESPACE"," ",356],"!",["T_ISSET","isset",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_imageLimits",356],"[",["T_VARIABLE","$screenSize",356],"]",")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_doUpdateConfig",357],"(",["T_VARIABLE","$screenSize",357],")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n\n        ",358],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","setData",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_imageLimits",360],"[",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_screenSize",360],"]",")",";",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$result",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getData",361],"(",["T_VARIABLE","$key",361],",",["T_WHITESPACE"," ",361],["T_VARIABLE","$index",361],")",";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","unsetData",362],"(",")",";",["T_WHITESPACE","\n\n        ",362],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$result",364],";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n",365],"}",["T_WHITESPACE","\n",366]]