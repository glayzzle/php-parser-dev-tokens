[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Xmlconnect form country list select element\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Model_Simplexml_Form_Element_CountryListSelect",34],["T_WHITESPACE","\n    ",34],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_XmlConnect_Model_Simplexml_Form_Element_Select",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Country list values array\n     *\n     * @var array\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE","  ",42],["T_VARIABLE","$_countryListValues",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'country_id'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'region_id'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'region'",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Init country list select element\n     *\n     * @param array $attributes\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_VARIABLE","$attributes",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_STRING","parent",51],["T_DOUBLE_COLON","::",51],["T_STRING","__construct",51],"(",["T_VARIABLE","$attributes",51],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Set country list values 'country_id' and 'region_id'\n     *\n     * @return Mage_XmlConnect_Model_Simplexml_Form_Element_CountryListSelect\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","_setValues",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$value",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getValue",61],"(",")",";",["T_WHITESPACE","\n\n        ",61],["T_FOREACH","foreach",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_countryListValues",63],["T_WHITESPACE"," ",63],["T_AS","as",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$param",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(","!",["T_ISSET","isset",64],"(",["T_VARIABLE","$value",64],"[",["T_VARIABLE","$param",64],"]",")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                ",64],["T_CONTINUE","continue",65],";",["T_WHITESPACE","\n            ",65],"}",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","setData",67],"(",["T_VARIABLE","$param",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$value",67],"[",["T_VARIABLE","$param",67],"]",")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n\n        ",68],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Get values using old standard\n     *\n     * @deprecated old output standard\n     * @param Mage_XmlConnect_Model_Simplexml_Element $xmlObj\n     * @return Mage_XmlConnect_Model_Simplexml_Form_Element_CountryListSelect\n     *\/",73],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","_addOldStandardValue",80],"(",["T_STRING","Mage_XmlConnect_Model_Simplexml_Element",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$xmlObj",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$countries",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_getCountryOptions",82],"(",")",";",["T_WHITESPACE","\n\n        ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","is_array",84],"(",["T_VARIABLE","$countries",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$valuesXmlObj",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$xmlObj",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","addCustomChild",85],"(",["T_CONSTANT_ENCAPSED_STRING","'values'",85],")",";",["T_WHITESPACE","\n            ",85],["T_FOREACH","foreach",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$countries",86],["T_WHITESPACE"," ",86],["T_AS","as",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$data",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$regions",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",")",";",["T_WHITESPACE","\n\n                ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",89],"]",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                    ",89],["T_VARIABLE","$regions",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_getRegionOptions",90],"(",["T_VARIABLE","$data",90],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",90],"]",")",";",["T_WHITESPACE","\n                ",90],"}",["T_WHITESPACE","\n\n                ",91],["T_VARIABLE","$relationType",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","is_array",93],"(",["T_VARIABLE","$regions",93],")",["T_WHITESPACE"," ",93],["T_BOOLEAN_AND","&&",93],["T_WHITESPACE"," ",93],"!",["T_EMPTY","empty",93],"(",["T_VARIABLE","$regions",93],")",["T_WHITESPACE"," ",93],"?",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'region_id'",93],["T_WHITESPACE"," ",93],":",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'region'",93],";",["T_WHITESPACE","\n\n                ",93],["T_VARIABLE","$selectedCountry",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",")",";",["T_WHITESPACE","\n                ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getCountryId",96],"(",")",["T_WHITESPACE"," ",96],["T_IS_EQUAL","==",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",96],"]",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                    ",96],["T_VARIABLE","$selectedCountry",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_CONSTANT_ENCAPSED_STRING","'selected'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_LNUMBER","1",97],")",";",["T_WHITESPACE","\n                ",97],"}",["T_WHITESPACE","\n\n                ",98],["T_VARIABLE","$item",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$valuesXmlObj",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","addCustomChild",100],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",100],",",["T_WHITESPACE"," ",100],["T_STRING","null",100],",",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",["T_WHITESPACE","\n                    ",100],["T_CONSTANT_ENCAPSED_STRING","'relation'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$relationType",101],["T_WHITESPACE","\n                ",101],")",["T_WHITESPACE"," ",102],"+",["T_WHITESPACE"," ",102],["T_VARIABLE","$selectedCountry",102],")",";",["T_WHITESPACE","\n\n                ",102],["T_VARIABLE","$item",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","addCustomChild",104],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",104],",",["T_WHITESPACE"," ",104],["T_STRING_CAST","(string)",104],["T_VARIABLE","$data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",104],"]",")",";",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$item",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","addCustomChild",105],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$data",105],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",105],"]",")",";",["T_WHITESPACE","\n\n                ",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$relationType",107],["T_WHITESPACE"," ",107],["T_IS_EQUAL","==",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'region_id'",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                    ",107],["T_VARIABLE","$regionsXmlObj",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$item",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","addCustomChild",108],"(",["T_CONSTANT_ENCAPSED_STRING","'regions'",108],")",";",["T_WHITESPACE","\n                    ",108],["T_FOREACH","foreach",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$regions",109],["T_WHITESPACE"," ",109],["T_AS","as",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$regionData",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                        ",109],["T_VARIABLE","$selectedRegion",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",")",";",["T_WHITESPACE","\n\n                        ",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(","!",["T_EMPTY","empty",112],"(",["T_VARIABLE","$selectedCountry",112],")",["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getRegionId",112],"(",")",["T_WHITESPACE"," ",112],["T_IS_EQUAL","==",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$regionData",112],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",112],"]",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                            ",112],["T_VARIABLE","$selectedRegion",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_CONSTANT_ENCAPSED_STRING","'selected'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_LNUMBER","1",113],")",";",["T_WHITESPACE","\n                        ",113],"}",["T_WHITESPACE","\n\n                        ",114],["T_VARIABLE","$regionItem",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$regionsXmlObj",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","addCustomChild",116],"(",["T_CONSTANT_ENCAPSED_STRING","'region_item'",116],",",["T_WHITESPACE"," ",116],["T_STRING","null",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$selectedRegion",116],")",";",["T_WHITESPACE","\n                        ",116],["T_VARIABLE","$regionItem",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","addCustomChild",117],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",117],",",["T_WHITESPACE"," ",117],["T_STRING_CAST","(string)",117],["T_VARIABLE","$regionData",117],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",117],"]",")",";",["T_WHITESPACE","\n                        ",117],["T_VARIABLE","$regionItem",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","addCustomChild",118],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",118],",",["T_WHITESPACE"," ",118],["T_STRING_CAST","(string)",118],["T_VARIABLE","$regionData",118],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",118],"]",")",";",["T_WHITESPACE","\n                    ",118],"}",["T_WHITESPACE","\n                ",119],"}",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n        ",122],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Add value to element\n     *\n     * @param Mage_XmlConnect_Model_Simplexml_Element $xmlObj\n     * @return Mage_XmlConnect_Model_Simplexml_Form_Element_Abstract\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","_addValue",133],"(",["T_STRING","Mage_XmlConnect_Model_Simplexml_Element",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$xmlObj",133],")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_setValues",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$form",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getForm",136],"(",")",";",["T_WHITESPACE","\n\n        ",136],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getOldFormat",138],"(",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_addOldStandardValue",139],"(",["T_VARIABLE","$xmlObj",139],")",";",["T_WHITESPACE","\n            ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getCountryId",143],"(",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$xmlObj",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","addAttribute",144],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$xmlObj",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","xmlAttribute",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getCountryId",144],"(",")",")",")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$countries",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_getCountryOptions",146],"(",")",";",["T_WHITESPACE","\n\n        ",146],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_STRING","is_array",148],"(",["T_VARIABLE","$countries",148],")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$values",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$xmlObj",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","addCustomChild",149],"(",["T_CONSTANT_ENCAPSED_STRING","'values'",149],")",";",["T_WHITESPACE","\n            ",149],["T_FOREACH","foreach",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$countries",150],["T_WHITESPACE"," ",150],["T_AS","as",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$data",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$regions",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",";",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$countryValueAttribute",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],";",["T_WHITESPACE","\n                ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$data",153],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",153],"]",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$regions",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_getRegionOptions",154],"(",["T_VARIABLE","$data",154],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",154],"]",")",";",["T_WHITESPACE","\n                ",154],"}",["T_WHITESPACE","\n\n                ",155],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_STRING","is_array",157],"(",["T_VARIABLE","$regions",157],")",["T_WHITESPACE"," ",157],["T_BOOLEAN_AND","&&",157],["T_WHITESPACE"," ",157],"!",["T_EMPTY","empty",157],"(",["T_VARIABLE","$regions",157],")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                    ",157],["T_VARIABLE","$relationType",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'region_id'",158],";",["T_WHITESPACE","\n                    ",158],["T_VARIABLE","$countryValueAttribute",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$data",159],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",159],"]",";",["T_WHITESPACE","\n                ",159],"}",["T_WHITESPACE"," ",160],["T_ELSE","else",160],["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                    ",160],["T_VARIABLE","$relationType",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'region'",161],";",["T_WHITESPACE","\n                ",161],"}",["T_WHITESPACE","\n\n                ",162],["T_VARIABLE","$countryData",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",["T_WHITESPACE","\n                    ",164],["T_CONSTANT_ENCAPSED_STRING","'relation'",165],["T_WHITESPACE","  ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$relationType",165],",",["T_WHITESPACE","\n                    ",165],["T_CONSTANT_ENCAPSED_STRING","'label'",166],["T_WHITESPACE","     ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_STRING_CAST","(string)",166],["T_VARIABLE","$data",166],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",166],"]",["T_WHITESPACE","\n                ",166],")",";",["T_WHITESPACE","\n\n                ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$countryValueAttribute",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                    ",169],["T_VARIABLE","$countryData",170],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$countryValueAttribute",170],";",["T_WHITESPACE","\n                ",170],"}",["T_WHITESPACE","\n\n                ",171],["T_VARIABLE","$item",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$values",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","addCustomChild",173],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$data",173],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",173],"]",",",["T_WHITESPACE"," ",173],["T_VARIABLE","$countryData",173],")",";",["T_WHITESPACE","\n\n                ",173],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$relationType",175],["T_WHITESPACE"," ",175],["T_IS_NOT_IDENTICAL","!==",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'region'",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n\n                    ",175],["T_VARIABLE","$selectedRegion",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_ARRAY","array",177],"(",")",";",["T_WHITESPACE","\n                    ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getCountryId",178],"(",")",["T_WHITESPACE"," ",178],["T_IS_EQUAL","==",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$data",178],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",178],"]",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                        ",178],["T_VARIABLE","$selectedRegion",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getRegionId",179],"(",")",")",";",["T_WHITESPACE","\n                    ",179],"}",["T_WHITESPACE","\n\n                    ",180],["T_VARIABLE","$suffix",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$form",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getFieldNameSuffix",182],"(",")",";",["T_WHITESPACE","\n                    ",182],["T_VARIABLE","$regionFieldName",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'region_id'",183],";",["T_WHITESPACE","\n                    ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$suffix",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                        ",184],["T_VARIABLE","$regionFieldName",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$form",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","addSuffixToName",185],"(",["T_VARIABLE","$regionFieldName",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$suffix",185],")",";",["T_WHITESPACE","\n                    ",185],"}",["T_WHITESPACE","\n\n                    ",186],["T_VARIABLE","$regionsXmlObj",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$item",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","addCustomChild",188],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",188],",",["T_WHITESPACE"," ",188],["T_STRING","null",188],",",["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",["T_WHITESPACE","\n                            ",188],["T_CONSTANT_ENCAPSED_STRING","'id'",189],["T_WHITESPACE","    ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'region_id_'",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_VARIABLE","$data",189],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",189],"]",",",["T_WHITESPACE","\n                            ",189],["T_CONSTANT_ENCAPSED_STRING","'name'",190],["T_WHITESPACE","  ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$regionFieldName",190],",",["T_WHITESPACE","\n                            ",190],["T_CONSTANT_ENCAPSED_STRING","'label'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_STRING","Mage",191],["T_DOUBLE_COLON","::",191],["T_STRING","helper",191],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",191],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","__",191],"(",["T_CONSTANT_ENCAPSED_STRING","'State\/Province'",191],")",",",["T_WHITESPACE","\n                            ",191],["T_CONSTANT_ENCAPSED_STRING","'type'",192],["T_WHITESPACE","  ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'select'",192],",",["T_WHITESPACE","\n                            ",192],["T_CONSTANT_ENCAPSED_STRING","'required'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_LNUMBER","1",193],["T_WHITESPACE","\n                        ",193],")",["T_WHITESPACE"," ",194],"+",["T_WHITESPACE"," ",194],["T_VARIABLE","$selectedRegion",194],["T_WHITESPACE","\n                    ",194],")",";",["T_WHITESPACE","\n\n                    ",195],["T_VARIABLE","$regionValues",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$regionsXmlObj",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","addCustomChild",197],"(",["T_CONSTANT_ENCAPSED_STRING","'values'",197],")",";",["T_WHITESPACE","\n\n                    ",197],["T_FOREACH","foreach",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$regions",199],["T_WHITESPACE"," ",199],["T_AS","as",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$regionData",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                        ",199],["T_COMMENT","\/\/ Skip \"Please select\" item\n",200],["T_WHITESPACE","                        ",201],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$regionData",201],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",201],"]",["T_WHITESPACE"," ",201],["T_IS_EQUAL","==",201],["T_WHITESPACE"," ",201],["T_LNUMBER","0",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                            ",201],["T_CONTINUE","continue",202],";",["T_WHITESPACE","\n                        ",202],"}",["T_WHITESPACE","\n                        ",203],["T_VARIABLE","$regionValues",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","addCustomChild",204],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",204],",",["T_WHITESPACE"," ",204],["T_STRING_CAST","(string)",204],["T_VARIABLE","$regionData",204],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",204],"]",",",["T_WHITESPACE"," ",204],["T_ARRAY","array",204],"(",["T_WHITESPACE","\n                            ",204],["T_CONSTANT_ENCAPSED_STRING","'label'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_STRING_CAST","(string)",205],["T_VARIABLE","$regionData",205],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",205],"]",["T_WHITESPACE","\n                        ",205],")",")",";",["T_WHITESPACE","\n                    ",206],"}",["T_WHITESPACE","\n                ",207],"}",["T_WHITESPACE"," ",208],["T_ELSEIF","elseif",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getCountryId",208],"(",")",["T_WHITESPACE"," ",208],["T_IS_EQUAL","==",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$data",208],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",208],"]",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                    ",208],["T_VARIABLE","$item",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","addAttribute",209],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$data",209],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",209],"]",")",";",["T_WHITESPACE","\n                    ",209],["T_VARIABLE","$item",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","addCustomChild",210],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",210],",",["T_WHITESPACE"," ",210],["T_STRING","null",210],",",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",["T_WHITESPACE","\n                        ",210],["T_CONSTANT_ENCAPSED_STRING","'id'",211],["T_WHITESPACE","    ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'region_'",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_VARIABLE","$data",211],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",211],"]",",",["T_WHITESPACE","\n                        ",211],["T_CONSTANT_ENCAPSED_STRING","'name'",212],["T_WHITESPACE","  ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'region'",212],",",["T_WHITESPACE","\n                        ",212],["T_CONSTANT_ENCAPSED_STRING","'label'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_STRING","Mage",213],["T_DOUBLE_COLON","::",213],["T_STRING","helper",213],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",213],")",["T_OBJECT_OPERATOR","->",213],["T_STRING","__",213],"(",["T_CONSTANT_ENCAPSED_STRING","'State\/Province'",213],")",",",["T_WHITESPACE","\n                        ",213],["T_CONSTANT_ENCAPSED_STRING","'type'",214],["T_WHITESPACE","  ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'text'",214],",",["T_WHITESPACE","\n                        ",214],["T_CONSTANT_ENCAPSED_STRING","'value'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getRegion",215],"(",")",",",["T_WHITESPACE","\n                        ",215],["T_CONSTANT_ENCAPSED_STRING","'required'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_LNUMBER","1",216],["T_WHITESPACE","\n                    ",216],")",")",";",["T_WHITESPACE","\n                ",217],"}",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n        ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Retrieve regions by country\n     *\n     * @param string $countryId\n     * @return array\n     *\/",224],["T_WHITESPACE","\n    ",229],["T_PROTECTED","protected",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","_getRegionOptions",230],"(",["T_VARIABLE","$countryId",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$cacheKey",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'DIRECTORY_REGION_SELECT_STORE'",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_STRING","Mage",232],["T_DOUBLE_COLON","::",232],["T_STRING","app",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","getStore",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","getId",232],"(",")",["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_VARIABLE","$countryId",232],";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$cache",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","Mage",233],["T_DOUBLE_COLON","::",233],["T_STRING","app",233],"(",")",["T_OBJECT_OPERATOR","->",233],["T_STRING","loadCache",233],"(",["T_VARIABLE","$cacheKey",233],")",";",["T_WHITESPACE","\n        ",233],["T_IF","if",234],["T_WHITESPACE"," ",234],"(",["T_STRING","Mage",234],["T_DOUBLE_COLON","::",234],["T_STRING","app",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","useCache",234],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",234],")",["T_WHITESPACE"," ",234],["T_BOOLEAN_AND","&&",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$cache",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$options",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","unserialize",235],"(",["T_VARIABLE","$cache",235],")",";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE"," ",236],["T_ELSE","else",236],["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$collection",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","Mage",237],["T_DOUBLE_COLON","::",237],["T_STRING","getModel",237],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/region'",237],")",["T_OBJECT_OPERATOR","->",237],["T_STRING","getResourceCollection",237],"(",")",["T_OBJECT_OPERATOR","->",237],["T_STRING","addCountryFilter",237],"(",["T_VARIABLE","$countryId",237],")",["T_WHITESPACE","\n                ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","load",238],"(",")",";",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$options",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$collection",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","toOptionArray",239],"(",")",";",["T_WHITESPACE","\n            ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_STRING","Mage",240],["T_DOUBLE_COLON","::",240],["T_STRING","app",240],"(",")",["T_OBJECT_OPERATOR","->",240],["T_STRING","useCache",240],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                ",240],["T_STRING","Mage",241],["T_DOUBLE_COLON","::",241],["T_STRING","app",241],"(",")",["T_OBJECT_OPERATOR","->",241],["T_STRING","saveCache",241],"(",["T_STRING","serialize",241],"(",["T_VARIABLE","$options",241],")",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$cacheKey",241],",",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",241],")",")",";",["T_WHITESPACE","\n            ",241],"}",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$options",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Retrieve countries\n     *\n     * @return array\n     *\/",247],["T_WHITESPACE","\n    ",251],["T_PROTECTED","protected",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","_getCountryOptions",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$cacheKey",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'DIRECTORY_COUNTRY_SELECT_STORE_'",254],["T_WHITESPACE"," ",254],".",["T_WHITESPACE"," ",254],["T_STRING","Mage",254],["T_DOUBLE_COLON","::",254],["T_STRING","app",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","getStore",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","getCode",254],"(",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$cache",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","Mage",255],["T_DOUBLE_COLON","::",255],["T_STRING","app",255],"(",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","loadCache",255],"(",["T_VARIABLE","$cacheKey",255],")",";",["T_WHITESPACE","\n        ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_STRING","Mage",256],["T_DOUBLE_COLON","::",256],["T_STRING","app",256],"(",")",["T_OBJECT_OPERATOR","->",256],["T_STRING","useCache",256],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",256],")",["T_WHITESPACE"," ",256],["T_BOOLEAN_AND","&&",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$cache",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$options",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","unserialize",257],"(",["T_VARIABLE","$cache",257],")",";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE"," ",258],["T_ELSE","else",258],["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$collection",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","Mage",259],["T_DOUBLE_COLON","::",259],["T_STRING","getModel",259],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/country'",259],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","getResourceCollection",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","loadByStore",259],"(",")",";",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$options",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$collection",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","toOptionArray",260],"(",["T_STRING","false",260],")",";",["T_WHITESPACE","\n            ",260],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_STRING","Mage",261],["T_DOUBLE_COLON","::",261],["T_STRING","app",261],"(",")",["T_OBJECT_OPERATOR","->",261],["T_STRING","useCache",261],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",261],")",")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n                ",261],["T_STRING","Mage",262],["T_DOUBLE_COLON","::",262],["T_STRING","app",262],"(",")",["T_OBJECT_OPERATOR","->",262],["T_STRING","saveCache",262],"(",["T_STRING","serialize",262],"(",["T_VARIABLE","$options",262],")",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$cacheKey",262],",",["T_WHITESPACE"," ",262],["T_ARRAY","array",262],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",262],")",")",";",["T_WHITESPACE","\n            ",262],"}",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$options",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n",266],"}",["T_WHITESPACE","\n",267]]