[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Customer address book xml renderer\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Block_Customer_Address_List",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Block_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Render customer address list xml\n     *\n     * @return string\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","_toHtml",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$addressXmlObj",43],["T_WHITESPACE","          ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","Mage",43],["T_DOUBLE_COLON","::",43],["T_STRING","getModel",43],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/simplexml_element'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'<address><\/address>'",43],")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$customer",44],["T_WHITESPACE","               ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","Mage",44],["T_DOUBLE_COLON","::",44],["T_STRING","getSingleton",44],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/session'",44],")",["T_OBJECT_OPERATOR","->",44],["T_STRING","getCustomer",44],"(",")",";",["T_WHITESPACE","\n\n        ",44],["T_VARIABLE","$billingAddssesId",46],["T_WHITESPACE","      ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$customer",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getDefaultBilling",46],"(",")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$shippingAddssesId",47],["T_WHITESPACE","     ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$customer",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getDefaultShipping",47],"(",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$billingAddress",48],["T_WHITESPACE","         ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$customer",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getAddressById",48],"(",["T_VARIABLE","$billingAddssesId",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$shippingAddress",49],["T_WHITESPACE","        ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$customer",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getAddressById",49],"(",["T_VARIABLE","$shippingAddssesId",49],")",";",["T_WHITESPACE","\n\n        ",49],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$billingAddress",51],["T_WHITESPACE"," ",51],["T_BOOLEAN_AND","&&",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$billingAddress",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getId",51],"(",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$item",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$addressXmlObj",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","addChild",52],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",52],")",";",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$item",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","addAttribute",53],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","__",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Default Billing Address'",53],")",")",";",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$item",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","addAttribute",54],"(",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",54],",",["T_WHITESPACE"," ",54],["T_LNUMBER","1",54],")",";",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","prepareAddressData",55],"(",["T_VARIABLE","$billingAddress",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$item",55],")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n        ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$shippingAddress",57],["T_WHITESPACE"," ",57],["T_BOOLEAN_AND","&&",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$shippingAddress",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getId",57],"(",")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$item",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$addressXmlObj",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","addChild",58],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",58],")",";",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$item",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","addAttribute",59],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","__",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Default Shipping Address'",59],")",")",";",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$item",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","addAttribute",60],"(",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",60],",",["T_WHITESPACE"," ",60],["T_LNUMBER","1",60],")",";",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","prepareAddressData",61],"(",["T_VARIABLE","$shippingAddress",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$item",61],")",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$additionalAddresses",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$customer",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getAdditionalAddresses",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$additionalAddresses",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_FOREACH","foreach",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$additionalAddresses",65],["T_WHITESPACE"," ",65],["T_AS","as",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$address",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                ",65],["T_VARIABLE","$item",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$addressXmlObj",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","addChild",66],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",66],")",";",["T_WHITESPACE","\n                ",66],["T_VARIABLE","$item",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","addAttribute",67],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","__",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Additional Address'",67],")",")",";",["T_WHITESPACE","\n                ",67],["T_VARIABLE","$item",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","addAttribute",68],"(",["T_CONSTANT_ENCAPSED_STRING","'additional'",68],",",["T_WHITESPACE"," ",68],["T_LNUMBER","1",68],")",";",["T_WHITESPACE","\n                ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","prepareAddressData",69],"(",["T_VARIABLE","$address",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$item",69],")",";",["T_WHITESPACE","\n            ",69],"}",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$addressXmlObj",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","asNiceXml",73],"(",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Collect address data to xml node\n     * Remove objects from data array and escape data values\n     *\n     * @param Mage_Customer_Model_Address $address\n     * @param Mage_XmlConnect_Model_Simplexml_Element $item\n     * @return array\n     *\/",76],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","prepareAddressData",84],"(",["T_STRING","Mage_Customer_Model_Address",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$address",84],",",["T_WHITESPACE","\n        ",84],["T_STRING","Mage_XmlConnect_Model_Simplexml_Element",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$item",85],")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_VARIABLE","$address",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$attributes",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","Mage",91],["T_DOUBLE_COLON","::",91],["T_STRING","helper",91],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/address'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getAttributes",91],"(",")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$data",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$address",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getId",93],"(",")",")",";",["T_WHITESPACE","\n\n        ",93],["T_FOREACH","foreach",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$attributes",95],["T_WHITESPACE"," ",95],["T_AS","as",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$attribute",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_COMMENT","\/* @var $attribute Mage_Customer_Model_Attribute *\/",96],["T_WHITESPACE","\n            ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","!",["T_VARIABLE","$attribute",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getIsVisible",97],"(",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                ",97],["T_CONTINUE","continue",98],";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n            ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$attribute",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getAttributeCode",100],"(",")",["T_WHITESPACE"," ",100],["T_IS_EQUAL","==",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'country_id'",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'country'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$address",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getCountryModel",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","getName",101],"(",")",";",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$address",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getCountryId",102],"(",")",";",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE"," ",103],["T_ELSE","else",103],["T_WHITESPACE"," ",103],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$attribute",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getAttributeCode",103],"(",")",["T_WHITESPACE"," ",103],["T_IS_EQUAL","==",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'region'",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$address",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getRegion",104],"(",")",";",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE"," ",105],["T_ELSE","else",105],["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$dataModel",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","Mage_Customer_Model_Attribute_Data",106],["T_DOUBLE_COLON","::",106],["T_STRING","factory",106],"(",["T_VARIABLE","$attribute",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$address",106],")",";",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$value",107],["T_WHITESPACE","     ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$dataModel",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","outputValue",107],"(",["T_STRING","Mage_Customer_Model_Attribute_Data",107],["T_DOUBLE_COLON","::",107],["T_STRING","OUTPUT_FORMAT_ONELINE",107],")",";",["T_WHITESPACE","\n                ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$attribute",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getFrontendInput",108],"(",")",["T_WHITESPACE"," ",108],["T_IS_EQUAL","==",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'multiline'",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                    ",108],["T_VARIABLE","$values",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$dataModel",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","outputValue",109],"(",["T_STRING","Mage_Customer_Model_Attribute_Data",109],["T_DOUBLE_COLON","::",109],["T_STRING","OUTPUT_FORMAT_ARRAY",109],")",";",["T_WHITESPACE","\n                    ",109],["T_COMMENT","\/\/ explode lines\n",110],["T_WHITESPACE","                    ",111],["T_FOREACH","foreach",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$values",111],["T_WHITESPACE"," ",111],["T_AS","as",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$k",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$v",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                        ",111],["T_VARIABLE","$key",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","sprintf",112],"(",["T_CONSTANT_ENCAPSED_STRING","'%s%d'",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$attribute",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getAttributeCode",112],"(",")",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$k",112],["T_WHITESPACE"," ",112],"+",["T_WHITESPACE"," ",112],["T_LNUMBER","1",112],")",";",["T_WHITESPACE","\n                        ",112],["T_VARIABLE","$data",113],"[",["T_VARIABLE","$key",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$v",113],";",["T_WHITESPACE","\n                    ",113],"}",["T_WHITESPACE","\n                ",114],"}",["T_WHITESPACE","\n                ",115],["T_VARIABLE","$data",116],"[",["T_VARIABLE","$attribute",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getAttributeCode",116],"(",")","]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$value",116],";",["T_WHITESPACE","\n            ",116],"}",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n\n        ",118],["T_FOREACH","foreach",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$data",120],["T_WHITESPACE"," ",120],["T_AS","as",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$key",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$value",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_EMPTY","empty",121],"(",["T_VARIABLE","$value",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                ",121],["T_CONTINUE","continue",122],";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$item",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","addChild",124],"(",["T_VARIABLE","$key",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$item",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","escapeXml",124],"(",["T_VARIABLE","$value",124],")",")",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n",126],"}",["T_WHITESPACE","\n",127]]