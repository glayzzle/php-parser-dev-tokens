[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Grouped product options xml renderer\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Block_Catalog_Product_Options_Grouped",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Block_Catalog_Product_Options",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Generate bundle product options xml\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param bool $isObject\n     * @return string|Mage_XmlConnect_Model_Simplexml_Element\n     *\/",36],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","getProductOptionsXml",43],"(",["T_STRING","Mage_Catalog_Model_Product",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$product",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$isObject",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","false",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$xmlModel",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","Mage",45],["T_DOUBLE_COLON","::",45],["T_STRING","getModel",45],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/simplexml_element'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'<product><\/product>'",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$optionsNode",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$xmlModel",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","addChild",46],"(",["T_CONSTANT_ENCAPSED_STRING","'options'",46],")",";",["T_WHITESPACE","\n\n        ",46],["T_IF","if",48],["T_WHITESPACE"," ",48],"(","!",["T_VARIABLE","$product",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getId",48],"(",")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$isObject",49],["T_WHITESPACE"," ",49],"?",["T_WHITESPACE"," ",49],["T_VARIABLE","$xmlModel",49],["T_WHITESPACE"," ",49],":",["T_WHITESPACE"," ",49],["T_VARIABLE","$xmlModel",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","asNiceXml",49],"(",")",";",["T_WHITESPACE","\n        ",49],"}",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$xmlModel",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","addAttribute",51],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$product",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getId",51],"(",")",")",";",["T_WHITESPACE","\n        ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(","!",["T_VARIABLE","$product",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","isSaleable",52],"(",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$isObject",53],["T_WHITESPACE"," ",53],"?",["T_WHITESPACE"," ",53],["T_VARIABLE","$xmlModel",53],["T_WHITESPACE"," ",53],":",["T_WHITESPACE"," ",53],["T_VARIABLE","$xmlModel",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","asNiceXml",53],"(",")",";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n        ",54],["T_DOC_COMMENT","\/**\n         * Grouped (associated) products\n         *\/",55],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$associatedProducts",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$product",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getTypeInstance",58],"(",["T_STRING","true",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getAssociatedProducts",58],"(",["T_VARIABLE","$product",58],")",";",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(","!",["T_STRING","sizeof",59],"(",["T_VARIABLE","$associatedProducts",59],")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$isObject",60],["T_WHITESPACE"," ",60],"?",["T_WHITESPACE"," ",60],["T_VARIABLE","$xmlModel",60],["T_WHITESPACE"," ",60],":",["T_WHITESPACE"," ",60],["T_VARIABLE","$xmlModel",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","asNiceXml",60],"(",")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n\n        ",61],["T_FOREACH","foreach",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$associatedProducts",63],["T_WHITESPACE"," ",63],["T_AS","as",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$item",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(","!",["T_VARIABLE","$item",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","isSaleable",64],"(",")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                ",64],["T_CONTINUE","continue",65],";",["T_WHITESPACE","\n            ",65],"}",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$optionNode",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$optionsNode",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","addChild",67],"(",["T_CONSTANT_ENCAPSED_STRING","'option'",67],")",";",["T_WHITESPACE","\n\n            ",67],["T_VARIABLE","$optionNode",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","addAttribute",69],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'super_group['",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_VARIABLE","$item",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getId",69],"(",")",["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","']'",69],")",";",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$optionNode",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","addAttribute",70],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'product'",70],")",";",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$optionNode",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","addAttribute",71],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$xmlModel",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","escapeXml",71],"(",["T_VARIABLE","$item",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getName",71],"(",")",")",")",";",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$optionNode",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","addAttribute",72],"(",["T_CONSTANT_ENCAPSED_STRING","'is_qty_editable'",72],",",["T_WHITESPACE"," ",72],["T_LNUMBER","1",72],")",";",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$optionNode",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","addAttribute",73],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$item",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getQty",73],"(",")","*",["T_LNUMBER","1",73],")",";",["T_WHITESPACE","\n\n            ",73],["T_DOC_COMMENT","\/**\n             * Process product price\n             *\/",75],["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$item",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getPrice",78],"(",")",["T_WHITESPACE"," ",78],["T_IS_NOT_EQUAL","!=",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$item",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getFinalPrice",78],"(",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_VARIABLE","$productPrice",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$item",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getFinalPrice",79],"(",")",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE"," ",80],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$productPrice",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$item",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getPrice",81],"(",")",";",["T_WHITESPACE","\n            ",81],"}",["T_WHITESPACE","\n\n            ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$productPrice",84],["T_WHITESPACE"," ",84],["T_IS_NOT_EQUAL","!=",84],["T_WHITESPACE"," ",84],["T_LNUMBER","0",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$productPrice",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","Mage",85],["T_DOUBLE_COLON","::",85],["T_STRING","helper",85],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","formatPriceForXml",85],"(",["T_VARIABLE","$productPrice",85],")",";",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$optionNode",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","addAttribute",86],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",86],",",["T_WHITESPACE"," ",86],["T_STRING","Mage",86],["T_DOUBLE_COLON","::",86],["T_STRING","helper",86],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",86],")",["T_OBJECT_OPERATOR","->",86],["T_STRING","formatPriceForXml",86],"(",["T_WHITESPACE","\n                    ",86],["T_STRING","Mage",87],["T_DOUBLE_COLON","::",87],["T_STRING","helper",87],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","currency",87],"(",["T_VARIABLE","$productPrice",87],",",["T_WHITESPACE"," ",87],["T_STRING","false",87],",",["T_WHITESPACE"," ",87],["T_STRING","false",87],")",["T_WHITESPACE","\n                ",87],")",")",";",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$optionNode",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","addAttribute",89],"(",["T_CONSTANT_ENCAPSED_STRING","'formated_price'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_formatPriceString",89],"(",["T_VARIABLE","$productPrice",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$product",89],")",")",";",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$isObject",93],["T_WHITESPACE"," ",93],"?",["T_WHITESPACE"," ",93],["T_VARIABLE","$xmlModel",93],["T_WHITESPACE"," ",93],":",["T_WHITESPACE"," ",93],["T_VARIABLE","$xmlModel",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","asNiceXml",93],"(",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n",94],"}",["T_WHITESPACE","\n",95]]