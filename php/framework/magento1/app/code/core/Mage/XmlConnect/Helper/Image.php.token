[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * XmlConnect image helper\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Helper_Image",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Helper_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Xml connect glue\n     *\n     * @deprecated will delete in the next version\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","XMLCONNECT_GLUE",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","Mage_XmlConnect_Model_ImageLimits",41],["T_DOUBLE_COLON","::",41],["T_STRING","SCREEN_SIZE_UPDATE_TYPE_GLUE",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Image limits for content\n     *\n     * @deprecated will delete in the next version\n     * @var array|null\n     *\/",43],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_content",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Image limits for interface\n     *\n     * @deprecated will delete in the next version\n     * @var array|null\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_interface",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Array of interface image paths in xmlConfig\n     *\n     * @deprecated will delete in the next version\n     * @var array\n     *\/",59],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_interfacePath",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",")",";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Image limits array\n     *\n     * @deprecated will delete in the next version\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$_imageLimits",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Images paths in the config\n     *\n     * @deprecated will delete in the next version\n     * @var array|null\n     *\/",75],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_confPaths",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Process uploaded file\n     * setup file names to the configuration\n     *\n     * @deprecated will delete in the next version\n     * @param string $field\n     * @return string\n     *\/",83],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","handleUpload",91],"(",["T_VARIABLE","$field",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$uploadedFilename",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","''",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$uploadDir",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getOriginalSizeUploadDir",94],"(",")",";",["T_WHITESPACE","\n\n        ",94],["T_TRY","try",96],["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_forcedConvertPng",97],"(",["T_VARIABLE","$field",97],")",";",["T_WHITESPACE","\n\n            ",97],["T_DOC_COMMENT","\/** @var $uploader Mage_Core_Model_File_Uploader *\/",99],["T_WHITESPACE","\n            ",99],["T_VARIABLE","$uploader",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","Mage",100],["T_DOUBLE_COLON","::",100],["T_STRING","getModel",100],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/file_uploader'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$field",100],")",";",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$uploader",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setAllowedExtensions",101],"(",["T_ARRAY","array",101],"(",["T_CONSTANT_ENCAPSED_STRING","'jpg'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'jpeg'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'gif'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'png'",101],")",")",";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$uploader",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","setAllowRenameFiles",102],"(",["T_STRING","true",102],")",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$uploader",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","save",103],"(",["T_VARIABLE","$uploadDir",103],")",";",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$uploadedFilename",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$uploader",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getUploadedFileName",104],"(",")",";",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$uploadedFilename",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_getResizedFilename",105],"(",["T_VARIABLE","$field",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$uploadedFilename",105],",",["T_WHITESPACE"," ",105],["T_STRING","true",105],")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE"," ",106],["T_CATCH","catch",106],["T_WHITESPACE"," ",106],"(",["T_STRING","Exception",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$e",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_DOC_COMMENT","\/**\n             * Hard coded exception catch\n             *\/",107],["T_WHITESPACE","\n            ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(","!",["T_STRING","strlen",110],"(",["T_VARIABLE","$_FILES",110],"[",["T_VARIABLE","$field",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",110],"]",")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_STRING","Mage",111],["T_DOUBLE_COLON","::",111],["T_STRING","throwException",111],"(",["T_STRING","Mage",111],["T_DOUBLE_COLON","::",111],["T_STRING","helper",111],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",111],")",["T_OBJECT_OPERATOR","->",111],["T_STRING","__",111],"(",["T_CONSTANT_ENCAPSED_STRING","'File can\\'t be uploaded.'",111],")",")",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE"," ",112],["T_ELSEIF","elseif",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$e",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getMessage",112],"(",")",["T_WHITESPACE"," ",112],["T_IS_EQUAL","==",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Disallowed file type.'",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$filename",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$_FILES",113],"[",["T_VARIABLE","$field",113],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",113],"]",";",["T_WHITESPACE","\n                ",113],["T_VARIABLE","$io",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","Varien_Io_File",114],"(",")",";",["T_WHITESPACE","\n                ",114],["T_STRING","Mage",115],["T_DOUBLE_COLON","::",115],["T_STRING","throwException",115],"(",["T_WHITESPACE","\n                    ",115],["T_STRING","Mage",116],["T_DOUBLE_COLON","::",116],["T_STRING","helper",116],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","__",116],"(",["T_WHITESPACE","\n                        ",116],["T_CONSTANT_ENCAPSED_STRING","'Error while uploading file \"%s\".'",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE","\n                        ",117],["T_CONSTANT_ENCAPSED_STRING","' Disallowed file type. Only \"jpg\", \"jpeg\", \"gif\", \"png\" are allowed.'",118],",",["T_WHITESPACE","\n                        ",118],["T_VARIABLE","$io",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getFilteredPath",119],"(",["T_VARIABLE","$filename",119],")",")",["T_WHITESPACE","\n                ",119],")",";",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE"," ",121],["T_ELSE","else",121],["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                ",121],["T_STRING","Mage",122],["T_DOUBLE_COLON","::",122],["T_STRING","logException",122],"(",["T_VARIABLE","$e",122],")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_STRING","basename",125],"(",["T_VARIABLE","$uploadedFilename",125],")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Return current screen_size parameter\n     *\n     * @deprecated will delete in the next version\n     * @return string\n     *\/",128],["T_WHITESPACE","\n    ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","_getScreenSize",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","filterScreenSize",136],"(",["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","helper",136],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","getApplication",136],"(",")",["T_OBJECT_OPERATOR","->",136],["T_STRING","getScreenSize",136],"(",")",")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Return correct system filename for current screenSize\n     *\n     * @deprecated will delete in the next version\n     * @throws Mage_Core_Exception\n     * @param string $fieldPath\n     * @param string $fileName\n     * @param bool $default\n     * @return string\n     *\/",139],["T_WHITESPACE","\n    ",148],["T_PROTECTED","protected",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","_getResizedFilename",149],"(",["T_VARIABLE","$fieldPath",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$fileName",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$default",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","false",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$fileName",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","basename",151],"(",["T_VARIABLE","$fileName",151],")",";",["T_WHITESPACE","\n        ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$default",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$dir",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getDefaultSizeUploadDir",153],"(",")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE"," ",154],["T_ELSE","else",154],["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$dir",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getCustomSizeUploadDir",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_getScreenSize",155],"(",")",")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$customSizeFileName",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE","  ",157],["T_VARIABLE","$dir",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_STRING","DS",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$fileName",157],";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$originalSizeFileName",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getOriginalSizeUploadDir",158],"(",")",".",["T_WHITESPACE"," ",158],["T_STRING","DS",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_VARIABLE","$fileName",158],";",["T_WHITESPACE","\n\n        ",158],["T_DOC_COMMENT","\/**\n         * Compatibility with old versions of XmlConnect\n         *\/",160],["T_WHITESPACE","\n        ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(","!",["T_STRING","file_exists",163],"(",["T_VARIABLE","$originalSizeFileName",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$oldFileName",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getOldUploadDir",164],"(",")",["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_STRING","DS",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_VARIABLE","$fileName",164],";",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$io",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_NEW","new",165],["T_WHITESPACE"," ",165],["T_STRING","Varien_Io_File",165],"(",")",";",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_STRING","file_exists",166],"(",["T_VARIABLE","$oldFileName",166],")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!","(",["T_STRING","copy",167],"(",["T_VARIABLE","$oldFileName",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$originalSizeFileName",167],")",["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],"(",["T_STRING","is_readable",167],"(",["T_VARIABLE","$customSizeFileName",167],")",["T_WHITESPACE","\n                    ",167],["T_BOOLEAN_OR","||",168],["T_WHITESPACE"," ",168],["T_STRING","chmod",168],"(",["T_VARIABLE","$customSizeFileName",168],",",["T_WHITESPACE"," ",168],["T_LNUMBER","0644",168],")",")",["T_WHITESPACE","\n                ",168],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                    ",169],["T_STRING","Mage",170],["T_DOUBLE_COLON","::",170],["T_STRING","throwException",170],"(",["T_WHITESPACE","\n                        ",170],["T_STRING","Mage",171],["T_DOUBLE_COLON","::",171],["T_STRING","helper",171],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","__",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Error while processing file \"%s\".'",171],",",["T_WHITESPACE","\n                            ",171],["T_VARIABLE","$io",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getFilteredPath",172],"(",["T_VARIABLE","$fileName",172],")",")",["T_WHITESPACE","\n                    ",172],")",";",["T_WHITESPACE","\n                ",173],"}",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE"," ",175],["T_ELSE","else",175],["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_STRING","Mage",176],["T_DOUBLE_COLON","::",176],["T_STRING","throwException",176],"(",["T_STRING","Mage",176],["T_DOUBLE_COLON","::",176],["T_STRING","helper",176],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","__",176],"(",["T_CONSTANT_ENCAPSED_STRING","'No such file \"%s\".'",176],",",["T_WHITESPACE","\n                    ",176],["T_VARIABLE","$io",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getFilteredPath",177],"(",["T_VARIABLE","$fileName",177],")",")",")",";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$isCopied",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","copy",181],"(",["T_VARIABLE","$originalSizeFileName",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$customSizeFileName",181],")",";",["T_WHITESPACE","\n        ",181],["T_STRING","clearstatcache",182],"(",")",";",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$isCopied",183],["T_WHITESPACE"," ",183],["T_BOOLEAN_AND","&&",183],["T_WHITESPACE"," ",183],"(",["T_STRING","is_readable",183],"(",["T_VARIABLE","$customSizeFileName",183],")",["T_WHITESPACE"," ",183],["T_BOOLEAN_OR","||",183],["T_WHITESPACE"," ",183],["T_STRING","chmod",183],"(",["T_VARIABLE","$customSizeFileName",183],",",["T_WHITESPACE"," ",183],["T_LNUMBER","0644",183],")",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_handleResize",184],"(",["T_VARIABLE","$fieldPath",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$customSizeFileName",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$fileName",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","''",186],";",["T_WHITESPACE","\n            ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_ISSET","isset",187],"(",["T_VARIABLE","$_FILES",187],"[",["T_VARIABLE","$fieldPath",187],"]",")",["T_WHITESPACE"," ",187],["T_BOOLEAN_AND","&&",187],["T_WHITESPACE"," ",187],["T_STRING","is_array",187],"(",["T_VARIABLE","$_FILES",187],"[",["T_VARIABLE","$fieldPath",187],"]",")",["T_WHITESPACE"," ",187],["T_BOOLEAN_AND","&&",187],["T_WHITESPACE"," ",187],["T_ISSET","isset",187],"(",["T_VARIABLE","$_FILES",187],"[",["T_VARIABLE","$fieldPath",187],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",187],"]",")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$fileName",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$_FILES",188],"[",["T_VARIABLE","$fieldPath",188],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",188],"]",";",["T_WHITESPACE","\n            ",188],"}",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$io",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_STRING","Varien_Io_File",190],"(",")",";",["T_WHITESPACE","\n            ",190],["T_STRING","Mage",191],["T_DOUBLE_COLON","::",191],["T_STRING","throwException",191],"(",["T_STRING","Mage",191],["T_DOUBLE_COLON","::",191],["T_STRING","helper",191],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",191],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","__",191],"(",["T_CONSTANT_ENCAPSED_STRING","'Error while uploading file \"%s\".'",191],",",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$io",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getFilteredPath",192],"(",["T_VARIABLE","$fileName",192],")",")",")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n        ",193],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$customSizeFileName",194],";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Resize uploaded file\n     *\n     * @deprecated will delete in the next version\n     * @param string $fieldPath\n     * @param string $file\n     * @return null\n     *\/",197],["T_WHITESPACE","\n    ",204],["T_PROTECTED","protected",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","_handleResize",205],"(",["T_VARIABLE","$fieldPath",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$file",205],")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$nameParts",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","explode",207],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$fieldPath",207],")",";",["T_WHITESPACE","\n        ",207],["T_STRING","array_shift",208],"(",["T_VARIABLE","$nameParts",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$conf",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getInterfaceImageLimits",209],"(",")",";",["T_WHITESPACE","\n        ",209],["T_WHILE","while",210],["T_WHITESPACE"," ",210],"(",["T_STRING","count",210],"(",["T_VARIABLE","$nameParts",210],")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$next",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","array_shift",211],"(",["T_VARIABLE","$nameParts",211],")",";",["T_WHITESPACE","\n            ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_ISSET","isset",212],"(",["T_VARIABLE","$conf",212],"[",["T_VARIABLE","$next",212],"]",")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$conf",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$conf",213],"[",["T_VARIABLE","$next",213],"]",";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE"," ",214],["T_ELSE","else",214],["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                ",214],["T_DOC_COMMENT","\/**\n                 * No config data - nothing to resize\n                 *\/",215],["T_WHITESPACE","\n                ",217],["T_RETURN","return",218],";",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_VARIABLE","$image",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_NEW","new",222],["T_WHITESPACE"," ",222],["T_STRING","Varien_Image",222],"(",["T_VARIABLE","$file",222],")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$width",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$image",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getOriginalWidth",223],"(",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$height",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$image",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getOriginalHeight",224],"(",")",";",["T_WHITESPACE","\n\n        ",224],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_ISSET","isset",226],"(",["T_VARIABLE","$conf",226],"[",["T_CONSTANT_ENCAPSED_STRING","'widthMax'",226],"]",")",["T_WHITESPACE"," ",226],["T_BOOLEAN_AND","&&",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$conf",226],"[",["T_CONSTANT_ENCAPSED_STRING","'widthMax'",226],"]",["T_WHITESPACE"," ",226],"<",["T_WHITESPACE"," ",226],["T_VARIABLE","$width",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$width",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$conf",227],"[",["T_CONSTANT_ENCAPSED_STRING","'widthMax'",227],"]",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE"," ",228],["T_ELSEIF","elseif",228],["T_WHITESPACE"," ",228],"(",["T_ISSET","isset",228],"(",["T_VARIABLE","$conf",228],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",228],"]",")",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$width",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$conf",229],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",229],"]",";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n\n        ",230],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_ISSET","isset",232],"(",["T_VARIABLE","$conf",232],"[",["T_CONSTANT_ENCAPSED_STRING","'heightMax'",232],"]",")",["T_WHITESPACE"," ",232],["T_BOOLEAN_AND","&&",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$conf",232],"[",["T_CONSTANT_ENCAPSED_STRING","'heightMax'",232],"]",["T_WHITESPACE"," ",232],"<",["T_WHITESPACE"," ",232],["T_VARIABLE","$height",232],")",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$height",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$conf",233],"[",["T_CONSTANT_ENCAPSED_STRING","'heightMax'",233],"]",";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE"," ",234],["T_ELSEIF","elseif",234],["T_WHITESPACE"," ",234],"(",["T_ISSET","isset",234],"(",["T_VARIABLE","$conf",234],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",234],"]",")",")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$height",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$conf",235],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",235],"]",";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n\n        ",236],["T_IF","if",238],["T_WHITESPACE"," ",238],"(","(",["T_VARIABLE","$width",238],["T_WHITESPACE"," ",238],["T_IS_NOT_EQUAL","!=",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$image",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getOriginalWidth",238],"(",")",")",["T_WHITESPACE"," ",238],["T_BOOLEAN_OR","||",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$height",238],["T_WHITESPACE"," ",238],["T_IS_NOT_EQUAL","!=",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$image",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getOriginalHeight",238],"(",")",")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$image",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","keepTransparency",239],"(",["T_STRING","true",239],")",";",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$image",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","keepFrame",240],"(",["T_STRING","true",240],")",";",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$image",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","keepAspectRatio",241],"(",["T_STRING","true",241],")",";",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$image",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","backgroundColor",242],"(",["T_ARRAY","array",242],"(",["T_LNUMBER","255",242],",",["T_WHITESPACE"," ",242],["T_LNUMBER","255",242],",",["T_WHITESPACE"," ",242],["T_LNUMBER","255",242],")",")",";",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$image",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","resize",243],"(",["T_VARIABLE","$width",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$height",243],")",";",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$image",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","save",244],"(",["T_STRING","null",244],",",["T_WHITESPACE"," ",244],["T_STRING","basename",244],"(",["T_VARIABLE","$file",244],")",")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Convert uploaded file to PNG\n     *\n     * @deprecated will delete in the next version\n     * @param string $field\n     *\/",248],["T_WHITESPACE","\n    ",253],["T_PROTECTED","protected",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","_forcedConvertPng",254],"(",["T_VARIABLE","$field",254],")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$file",256],["T_WHITESPACE"," ",256],"=","&",["T_WHITESPACE"," ",256],["T_VARIABLE","$_FILES",256],"[",["T_VARIABLE","$field",256],"]",";",["T_WHITESPACE","\n\n        ",256],["T_VARIABLE","$dotPosition",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","strrpos",258],"(",["T_VARIABLE","$file",258],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",258],"]",",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'.'",258],")",";",["T_WHITESPACE","\n        ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$dotPosition",259],["T_WHITESPACE"," ",259],["T_IS_NOT_IDENTICAL","!==",259],["T_WHITESPACE"," ",259],["T_STRING","false",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$file",260],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",260],"]",["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","substr",260],"(",["T_VARIABLE","$file",260],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",260],"]",",",["T_WHITESPACE"," ",260],["T_LNUMBER","0",260],["T_WHITESPACE"," ",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$dotPosition",260],")",";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$file",262],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",262],"]",["T_WHITESPACE"," ",262],["T_CONCAT_EQUAL",".=",262],["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'.png'",262],";",["T_WHITESPACE","\n\n",262],["T_COMMENT","\/\/      We can't use exif extension, because magento doesn't require it.\n",264],["T_COMMENT","\/\/      $fileType = exif_imagetype($file['tmp_name']);\n",265],["T_WHITESPACE","        ",266],["T_LIST","list",266],"(",["T_VARIABLE","$unnecessaryVar",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$unnecessaryVar",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$fileType",266],")",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","getimagesize",266],"(",["T_VARIABLE","$file",266],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",266],"]",")",";",["T_WHITESPACE","\n        ",266],["T_UNSET","unset",267],"(",["T_VARIABLE","$unnecessaryVar",267],")",";",["T_WHITESPACE","\n\n        ",267],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$fileType",269],["T_WHITESPACE"," ",269],["T_IS_NOT_EQUAL","!=",269],["T_WHITESPACE"," ",269],["T_STRING","IMAGETYPE_PNG",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_SWITCH","switch",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$fileType",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_CASE","case",271],["T_WHITESPACE"," ",271],["T_STRING","IMAGETYPE_GIF",271],":",["T_WHITESPACE","\n                    ",271],["T_VARIABLE","$img",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","imagecreatefromgif",272],"(",["T_VARIABLE","$file",272],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",272],"]",")",";",["T_WHITESPACE","\n                    ",272],["T_STRING","imagealphablending",273],"(",["T_VARIABLE","$img",273],",",["T_WHITESPACE"," ",273],["T_STRING","false",273],")",";",["T_WHITESPACE","\n                    ",273],["T_STRING","imagesavealpha",274],"(",["T_VARIABLE","$img",274],",",["T_WHITESPACE"," ",274],["T_STRING","true",274],")",";",["T_WHITESPACE","\n                    ",274],["T_BREAK","break",275],";",["T_WHITESPACE","\n                ",275],["T_CASE","case",276],["T_WHITESPACE"," ",276],["T_STRING","IMAGETYPE_JPEG",276],":",["T_WHITESPACE","\n                    ",276],["T_VARIABLE","$img",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","imagecreatefromjpeg",277],"(",["T_VARIABLE","$file",277],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",277],"]",")",";",["T_WHITESPACE","\n                    ",277],["T_BREAK","break",278],";",["T_WHITESPACE","\n                ",278],["T_CASE","case",279],["T_WHITESPACE"," ",279],["T_STRING","IMAGETYPE_WBMP",279],":",["T_WHITESPACE","\n                    ",279],["T_VARIABLE","$img",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","imagecreatefromwbmp",280],"(",["T_VARIABLE","$file",280],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",280],"]",")",";",["T_WHITESPACE","\n                    ",280],["T_BREAK","break",281],";",["T_WHITESPACE","\n                ",281],["T_CASE","case",282],["T_WHITESPACE"," ",282],["T_STRING","IMAGETYPE_XBM",282],":",["T_WHITESPACE","\n                    ",282],["T_VARIABLE","$img",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","imagecreatefromxbm",283],"(",["T_VARIABLE","$file",283],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",283],"]",")",";",["T_WHITESPACE","\n                    ",283],["T_BREAK","break",284],";",["T_WHITESPACE","\n                ",284],["T_DEFAULT","default",285],":",["T_WHITESPACE","\n                    ",285],["T_RETURN","return",286],";",["T_WHITESPACE","\n            ",286],"}",["T_WHITESPACE","\n            ",287],["T_STRING","imagepng",288],"(",["T_VARIABLE","$img",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$file",288],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",288],"]",")",";",["T_WHITESPACE","\n            ",288],["T_STRING","imagedestroy",289],"(",["T_VARIABLE","$img",289],")",";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_DOC_COMMENT","\/**\n     * Retrieve xmlconnect images skin url\n     *\n     * @param string $name\n     * @return string\n     *\/",293],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","getSkinImagesUrl",299],"(",["T_VARIABLE","$name",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","null",299],")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_STRING","Mage",301],["T_DOUBLE_COLON","::",301],["T_STRING","getDesign",301],"(",")",["T_OBJECT_OPERATOR","->",301],["T_STRING","getSkinUrl",301],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/xmlconnect\/'",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE"," ",301],["T_VARIABLE","$name",301],")",";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Return CustomSizeDirPrefix\n     *\n     * @deprecated will delete in the next version\n     * @return string\n     *\/",304],["T_WHITESPACE","\n    ",309],["T_PUBLIC","public",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","getCustomSizeDirPrefix",310],"(",")",["T_WHITESPACE","\n    ",310],"{",["T_WHITESPACE","\n        ",311],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_getScreenSize",312],"(",")",["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_STRING","DS",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'custom'",312],";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_DOC_COMMENT","\/**\n     * Return FileDefaultSizeSuffixAsUrl\n     *\n     * @todo get rid of this method\n     * @deprecated will delete in the next version\n     * @param string $fileName\n     * @return string\n     *\/",315],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","getFileDefaultSizeSuffixAsUrl",323],"(",["T_VARIABLE","$fileName",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'custom'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'\/'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_getScreenSize",325],"(",")",["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'\/'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_STRING","basename",325],"(",["T_VARIABLE","$fileName",325],")",";",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n\n    ",326],["T_DOC_COMMENT","\/**\n     * Return getFileCustomDirSuffixAsUrl\n     *\n     * @deprecated will delete in the next version\n     * @param string $confPath\n     * @param string $fileName\n     * @return string\n     *\/",328],["T_WHITESPACE","\n    ",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","getFileCustomDirSuffixAsUrl",336],"(",["T_VARIABLE","$confPath",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$fileName",336],")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'custom'",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'\/'",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_getScreenSize",338],"(",")",["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'\/'",338],["T_WHITESPACE","\n            ",338],".",["T_WHITESPACE"," ",339],["T_STRING","basename",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_getResizedFilename",339],"(",["T_VARIABLE","$confPath",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$fileName",339],")",")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Return correct size for given $imageName and device screen_size\n     *\n     * @deprecated will delete in the next version\n     * @param string $imageName\n     * @return int\n     *\/",342],["T_WHITESPACE","\n    ",348],["T_PUBLIC","public",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","getImageSizeForContent",349],"(",["T_VARIABLE","$imageName",349],")",["T_WHITESPACE","\n    ",349],"{",["T_WHITESPACE","\n        ",350],["T_IF","if",351],["T_WHITESPACE"," ",351],"(","!",["T_ISSET","isset",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_content",351],")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_VARIABLE","$imageLimits",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getImageLimits",352],"(",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_getScreenSize",352],"(",")",")",";",["T_WHITESPACE","\n            ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(","(",["T_VARIABLE","$imageLimits",353],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",353],"]",")",["T_WHITESPACE"," ",353],["T_BOOLEAN_AND","&&",353],["T_WHITESPACE"," ",353],["T_STRING","is_array",353],"(",["T_VARIABLE","$imageLimits",353],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",353],"]",")",")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_content",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$imageLimits",354],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",354],"]",";",["T_WHITESPACE","\n            ",354],"}",["T_WHITESPACE"," ",355],["T_ELSE","else",355],["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n                ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_content",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_ARRAY","array",356],"(",")",";",["T_WHITESPACE","\n            ",356],"}",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$size",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_ISSET","isset",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_content",359],"[",["T_VARIABLE","$imageName",359],"]",")",["T_WHITESPACE"," ",359],"?",["T_WHITESPACE"," ",359],["T_INT_CAST","(int)",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_content",359],"[",["T_VARIABLE","$imageName",359],"]",["T_WHITESPACE"," ",359],":",["T_WHITESPACE"," ",359],["T_LNUMBER","0",359],";",["T_WHITESPACE","\n        ",359],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$size",360],";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Return setting for interface images (image size limits)\n     *\n     * @deprecated will delete in the next version\n     * @return array\n     *\/",363],["T_WHITESPACE","\n    ",368],["T_PUBLIC","public",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","getInterfaceImageLimits",369],"(",")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_IF","if",371],["T_WHITESPACE"," ",371],"(","!",["T_ISSET","isset",371],"(",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_interface",371],")",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$imageLimits",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getImageLimits",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_getScreenSize",372],"(",")",")",";",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_interface",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$imageLimits",373],"[",["T_CONSTANT_ENCAPSED_STRING","'interface'",373],"]",";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n        ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_interface",375],";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Return correct size for given $imageName and device screen_size\n     *\n     * @deprecated will delete in the next version\n     * @param string $imagePath\n     * @return int\n     *\/",378],["T_WHITESPACE","\n    ",384],["T_PUBLIC","public",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","getImageSizeForInterface",385],"(",["T_VARIABLE","$imagePath",385],")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_IF","if",387],["T_WHITESPACE"," ",387],"(","!",["T_ISSET","isset",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_interfacePath",387],"[",["T_VARIABLE","$imagePath",387],"]",")",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_DOC_COMMENT","\/** @var $app Mage_XmlConnect_Model_Application *\/",388],["T_WHITESPACE","\n            ",388],["T_VARIABLE","$app",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_STRING","Mage",389],["T_DOUBLE_COLON","::",389],["T_STRING","helper",389],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",389],")",["T_OBJECT_OPERATOR","->",389],["T_STRING","getApplication",389],"(",")",";",["T_WHITESPACE","\n            ",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(","!",["T_VARIABLE","$app",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n                ",390],["T_RETURN","return",391],["T_WHITESPACE"," ",391],["T_LNUMBER","0",391],";",["T_WHITESPACE","\n            ",391],"}",["T_WHITESPACE"," ",392],["T_ELSE","else",392],["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n                ",392],["T_VARIABLE","$imageLimits",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getImageLimits",393],"(",["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_getScreenSize",393],"(",")",")",";",["T_WHITESPACE","\n                ",393],["T_VARIABLE","$size",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","findPath",394],"(",["T_VARIABLE","$imageLimits",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$imagePath",394],")",";",["T_WHITESPACE","\n                ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_interfacePath",395],"[",["T_VARIABLE","$imagePath",395],"]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$size",395],";",["T_WHITESPACE","\n            ",395],"}",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$size",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_ISSET","isset",398],"(",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_interfacePath",398],"[",["T_VARIABLE","$imagePath",398],"]",")",["T_WHITESPACE"," ",398],"?",["T_WHITESPACE"," ",398],["T_INT_CAST","(int)",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_interfacePath",398],"[",["T_VARIABLE","$imagePath",398],"]",["T_WHITESPACE"," ",398],":",["T_WHITESPACE"," ",398],["T_LNUMBER","0",398],";",["T_WHITESPACE","\n        ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$size",399],";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n    ",400],["T_DOC_COMMENT","\/**\n     * Return the filesystem path to XmlConnect media files\n     *\n     * @param string $path Right part of the path\n     * @return string\n     *\/",402],["T_WHITESPACE","\n    ",407],["T_PUBLIC","public",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","getMediaPath",408],"(",["T_VARIABLE","$path",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","''",408],")",["T_WHITESPACE","\n    ",408],"{",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$path",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","trim",410],"(",["T_VARIABLE","$path",410],")",";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$result",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_STRING","Mage",411],["T_DOUBLE_COLON","::",411],["T_STRING","getBaseDir",411],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",411],")",["T_WHITESPACE"," ",411],".",["T_WHITESPACE"," ",411],["T_STRING","DS",411],["T_WHITESPACE"," ",411],".",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",411],";",["T_WHITESPACE","\n\n        ",411],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_VARIABLE","$path",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n            ",413],["T_IF","if",414],["T_WHITESPACE"," ",414],"(",["T_STRING","strpos",414],"(",["T_VARIABLE","$path",414],",",["T_WHITESPACE"," ",414],["T_STRING","DS",414],")",["T_WHITESPACE"," ",414],["T_IS_NOT_IDENTICAL","!==",414],["T_WHITESPACE"," ",414],["T_LNUMBER","0",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n                ",414],["T_VARIABLE","$path",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","DS",415],["T_WHITESPACE"," ",415],".",["T_WHITESPACE"," ",415],["T_VARIABLE","$path",415],";",["T_WHITESPACE","\n            ",415],"}",["T_WHITESPACE","\n            ",416],["T_VARIABLE","$result",417],["T_WHITESPACE"," ",417],["T_CONCAT_EQUAL",".=",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$path",417],";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n        ",418],["T_RETURN","return",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$result",419],";",["T_WHITESPACE","\n    ",419],"}",["T_WHITESPACE","\n\n    ",420],["T_DOC_COMMENT","\/**\n     * Return Url for media image\n     *\n     * @param string $image\n     * @return string\n     *\/",422],["T_WHITESPACE","\n    ",427],["T_PUBLIC","public",428],["T_WHITESPACE"," ",428],["T_FUNCTION","function",428],["T_WHITESPACE"," ",428],["T_STRING","getMediaUrl",428],"(",["T_VARIABLE","$image",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","''",428],")",["T_WHITESPACE","\n    ",428],"{",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$image",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_STRING","trim",430],"(",["T_VARIABLE","$image",430],")",";",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$result",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","Mage",431],["T_DOUBLE_COLON","::",431],["T_STRING","getBaseUrl",431],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",431],")",["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",431],";",["T_WHITESPACE","\n\n        ",431],["T_IF","if",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$image",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n            ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_STRING","strpos",434],"(",["T_VARIABLE","$image",434],",",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'\/'",434],")",["T_WHITESPACE"," ",434],["T_IS_NOT_IDENTICAL","!==",434],["T_WHITESPACE"," ",434],["T_LNUMBER","0",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                ",434],["T_VARIABLE","$image",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'\/'",435],["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_VARIABLE","$image",435],";",["T_WHITESPACE","\n            ",435],"}",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$result",437],["T_WHITESPACE"," ",437],["T_CONCAT_EQUAL",".=",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$image",437],";",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n        ",438],["T_RETURN","return",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$result",439],";",["T_WHITESPACE","\n    ",439],"}",["T_WHITESPACE","\n\n    ",440],["T_DOC_COMMENT","\/**\n     * Return URL for default design image\n     *\n     * @param string $image\n     * @return string\n     *\/",442],["T_WHITESPACE","\n    ",447],["T_PUBLIC","public",448],["T_WHITESPACE"," ",448],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],["T_STRING","getDefaultDesignUrl",448],"(",["T_VARIABLE","$image",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","''",448],")",["T_WHITESPACE","\n    ",448],"{",["T_WHITESPACE","\n        ",449],["T_RETURN","return",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getSkinImagesUrl",450],"(",["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getDefaultDesignSuffixAsUrl",450],"(",["T_VARIABLE","$image",450],")",")",";",["T_WHITESPACE","\n    ",450],"}",["T_WHITESPACE","\n\n    ",451],["T_DOC_COMMENT","\/**\n     * Return suffix as URL for default design image\n     *\n     * @param string $image\n     * @return string\n     *\/",453],["T_WHITESPACE","\n    ",458],["T_PUBLIC","public",459],["T_WHITESPACE"," ",459],["T_FUNCTION","function",459],["T_WHITESPACE"," ",459],["T_STRING","getDefaultDesignSuffixAsUrl",459],"(",["T_VARIABLE","$image",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","''",459],")",["T_WHITESPACE","\n    ",459],"{",["T_WHITESPACE","\n        ",460],["T_RETURN","return",461],["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'design_default\/'",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_STRING","trim",461],"(",["T_STRING","ltrim",461],"(",["T_VARIABLE","$image",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'\/'",461],")",")",";",["T_WHITESPACE","\n    ",461],"}",["T_WHITESPACE","\n\n    ",462],["T_DOC_COMMENT","\/**\n     * Retrieve custom size image url\n     *\n     *\n     * @param string $imageUrl\n     * @param int $width\n     * @param int $height\n     * @return string|null\n     *\/",464],["T_WHITESPACE","\n    ",472],["T_PUBLIC","public",473],["T_WHITESPACE"," ",473],["T_FUNCTION","function",473],["T_WHITESPACE"," ",473],["T_STRING","getCustomSizeImageUrl",473],"(",["T_VARIABLE","$imageUrl",473],",",["T_WHITESPACE"," ",473],["T_VARIABLE","$width",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_LNUMBER","100",473],",",["T_WHITESPACE"," ",473],["T_VARIABLE","$height",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_LNUMBER","100",473],")",["T_WHITESPACE","\n    ",473],"{",["T_WHITESPACE","\n        ",474],["T_VARIABLE","$screenSize",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$width",475],["T_WHITESPACE"," ",475],".",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'x'",475],["T_WHITESPACE"," ",475],".",["T_WHITESPACE"," ",475],["T_VARIABLE","$height",475],";",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$customDir",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getMediaPath",476],"(",["T_CONSTANT_ENCAPSED_STRING","'custom'",476],["T_WHITESPACE"," ",476],".",["T_WHITESPACE"," ",476],["T_STRING","DS",476],["T_WHITESPACE"," ",476],".",["T_WHITESPACE"," ",476],["T_VARIABLE","$screenSize",476],")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_verifyDirExist",477],"(",["T_VARIABLE","$customDir",477],")",";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$imageUrl",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_STRING","explode",478],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$imageUrl",478],")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$file",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_STRING","array_pop",479],"(",["T_VARIABLE","$imageUrl",479],")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$filePath",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_STRING","Mage_XmlConnect_Model_Images",480],["T_DOUBLE_COLON","::",480],["T_STRING","getBasePath",480],"(",")",["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_STRING","DS",480],["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_VARIABLE","$file",480],";",["T_WHITESPACE","\n        ",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(","!",["T_STRING","file_exists",481],"(",["T_VARIABLE","$customDir",481],["T_WHITESPACE"," ",481],".",["T_WHITESPACE"," ",481],["T_STRING","DS",481],["T_WHITESPACE"," ",481],".",["T_WHITESPACE"," ",481],["T_VARIABLE","$file",481],")",")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n            ",481],["T_VARIABLE","$image",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_NEW","new",482],["T_WHITESPACE"," ",482],["T_STRING","Varien_Image",482],"(",["T_VARIABLE","$filePath",482],")",";",["T_WHITESPACE","\n            ",482],["T_VARIABLE","$widthOriginal",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$image",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getOriginalWidth",483],"(",")",";",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$heightOriginal",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$image",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getOriginalHeight",484],"(",")",";",["T_WHITESPACE","\n\n            ",484],["T_IF","if",486],["T_WHITESPACE"," ",486],"(",["T_VARIABLE","$width",486],["T_WHITESPACE"," ",486],["T_IS_NOT_EQUAL","!=",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$widthOriginal",486],")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n                ",486],["T_VARIABLE","$widthOriginal",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_VARIABLE","$width",487],";",["T_WHITESPACE","\n            ",487],"}",["T_WHITESPACE","\n\n            ",488],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_VARIABLE","$height",490],["T_WHITESPACE"," ",490],["T_IS_NOT_EQUAL","!=",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$heightOriginal",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                ",490],["T_VARIABLE","$heightOriginal",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$height",491],";",["T_WHITESPACE","\n            ",491],"}",["T_WHITESPACE","\n\n            ",492],["T_IF","if",494],["T_WHITESPACE"," ",494],"(","(",["T_VARIABLE","$widthOriginal",494],["T_WHITESPACE"," ",494],["T_IS_NOT_EQUAL","!=",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$image",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getOriginalWidth",494],"(",")",")",["T_WHITESPACE"," ",494],["T_BOOLEAN_OR","||",494],["T_WHITESPACE","\n                ",494],"(",["T_VARIABLE","$heightOriginal",495],["T_WHITESPACE"," ",495],["T_IS_NOT_EQUAL","!=",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$image",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getOriginalHeight",495],"(",")",")",["T_WHITESPACE"," ",495],")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n                ",495],["T_VARIABLE","$image",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","keepTransparency",496],"(",["T_STRING","true",496],")",";",["T_WHITESPACE","\n                ",496],["T_VARIABLE","$image",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","keepFrame",497],"(",["T_STRING","true",497],")",";",["T_WHITESPACE","\n                ",497],["T_VARIABLE","$image",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","keepAspectRatio",498],"(",["T_STRING","true",498],")",";",["T_WHITESPACE","\n                ",498],["T_VARIABLE","$image",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","backgroundColor",499],"(",["T_ARRAY","array",499],"(",["T_LNUMBER","255",499],",",["T_WHITESPACE"," ",499],["T_LNUMBER","255",499],",",["T_WHITESPACE"," ",499],["T_LNUMBER","255",499],")",")",";",["T_WHITESPACE","\n                ",499],["T_VARIABLE","$image",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","resize",500],"(",["T_VARIABLE","$widthOriginal",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$heightOriginal",500],")",";",["T_WHITESPACE","\n                ",500],["T_VARIABLE","$image",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","save",501],"(",["T_VARIABLE","$customDir",501],",",["T_WHITESPACE"," ",501],["T_STRING","basename",501],"(",["T_VARIABLE","$file",501],")",")",";",["T_WHITESPACE","\n            ",501],"}",["T_WHITESPACE","\n        ",502],"}",["T_WHITESPACE","\n        ",503],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getMediaUrl",504],"(","\"",["T_ENCAPSED_AND_WHITESPACE","custom\/",504],["T_CURLY_OPEN","{",504],["T_VARIABLE","$screenSize",504],"}",["T_ENCAPSED_AND_WHITESPACE","\/",504],"\"",["T_WHITESPACE"," ",504],".",["T_WHITESPACE"," ",504],["T_STRING","basename",504],"(",["T_VARIABLE","$file",504],")",")",";",["T_WHITESPACE","\n    ",504],"}",["T_WHITESPACE","\n\n    ",505],["T_DOC_COMMENT","\/**\n     * Ensure correct $screenSize value\n     *\n     * @deprecated will delete in the next version\n     * @param string $screenSize\n     * @return string\n     *\/",507],["T_WHITESPACE","\n    ",513],["T_PUBLIC","public",514],["T_WHITESPACE"," ",514],["T_FUNCTION","function",514],["T_WHITESPACE"," ",514],["T_STRING","filterScreenSize",514],"(",["T_VARIABLE","$screenSize",514],")",["T_WHITESPACE","\n    ",514],"{",["T_WHITESPACE","\n        ",515],["T_VARIABLE","$screenSize",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_STRING","preg_replace",516],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^0-9A-z_]\/'",516],",",["T_WHITESPACE"," ",516],["T_CONSTANT_ENCAPSED_STRING","''",516],",",["T_WHITESPACE"," ",516],["T_VARIABLE","$screenSize",516],")",";",["T_WHITESPACE","\n        ",516],["T_IF","if",517],["T_WHITESPACE"," ",517],"(",["T_ISSET","isset",517],"(",["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_imageLimits",517],"[",["T_VARIABLE","$screenSize",517],"]",")",")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n            ",517],["T_RETURN","return",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$screenSize",518],";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$screenSizeExplodeArray",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_STRING","explode",520],"(",["T_STRING","self",520],["T_DOUBLE_COLON","::",520],["T_STRING","XMLCONNECT_GLUE",520],",",["T_WHITESPACE"," ",520],["T_VARIABLE","$screenSize",520],")",";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$version",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","''",521],";",["T_WHITESPACE","\n        ",521],["T_SWITCH","switch",522],["T_WHITESPACE"," ",522],"(",["T_STRING","count",522],"(",["T_VARIABLE","$screenSizeExplodeArray",522],")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_CASE","case",523],["T_WHITESPACE"," ",523],["T_LNUMBER","2",523],":",["T_WHITESPACE","\n                ",523],["T_VARIABLE","$version",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$screenSizeExplodeArray",524],"[",["T_LNUMBER","1",524],"]",";",["T_WHITESPACE","\n            ",524],["T_CASE","case",525],["T_WHITESPACE"," ",525],["T_LNUMBER","1",525],":",["T_WHITESPACE","\n                ",525],["T_VARIABLE","$resolution",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$screenSizeExplodeArray",526],"[",["T_LNUMBER","0",526],"]",";",["T_WHITESPACE","\n                ",526],["T_BREAK","break",527],";",["T_WHITESPACE","\n            ",527],["T_DEFAULT","default",528],":",["T_WHITESPACE","\n                ",528],["T_VARIABLE","$resolution",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_STRING","Mage_XmlConnect_Model_Application",529],["T_DOUBLE_COLON","::",529],["T_STRING","APP_SCREEN_SIZE_DEFAULT",529],";",["T_WHITESPACE","\n                ",529],["T_BREAK","break",530],";",["T_WHITESPACE","\n        ",530],"}",["T_WHITESPACE","\n\n        ",531],["T_VARIABLE","$sourcePath",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_EMPTY","empty",533],"(",["T_VARIABLE","$version",533],")",["T_WHITESPACE"," ",533],"?",["T_WHITESPACE"," ",533],["T_STRING","Mage_XmlConnect_Model_Application",533],["T_DOUBLE_COLON","::",533],["T_STRING","APP_SCREEN_SOURCE_DEFAULT",533],["T_WHITESPACE"," ",533],":",["T_WHITESPACE"," ",533],["T_VARIABLE","$version",533],";",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$xmlPath",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_CONSTANT_ENCAPSED_STRING","'screen_size\/'",534],["T_WHITESPACE"," ",534],".",["T_WHITESPACE"," ",534],["T_STRING","self",534],["T_DOUBLE_COLON","::",534],["T_STRING","XMLCONNECT_GLUE",534],["T_WHITESPACE"," ",534],".",["T_WHITESPACE"," ",534],["T_VARIABLE","$resolution",534],["T_WHITESPACE"," ",534],".",["T_WHITESPACE"," ",534],["T_CONSTANT_ENCAPSED_STRING","'\/'",534],["T_WHITESPACE"," ",534],".",["T_WHITESPACE"," ",534],["T_VARIABLE","$sourcePath",534],["T_WHITESPACE"," ",534],".",["T_WHITESPACE"," ",534],["T_CONSTANT_ENCAPSED_STRING","'\/source'",534],";",["T_WHITESPACE","\n\n        ",534],["T_VARIABLE","$source",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_STRING","Mage",536],["T_DOUBLE_COLON","::",536],["T_STRING","getStoreConfig",536],"(",["T_VARIABLE","$xmlPath",536],")",";",["T_WHITESPACE","\n        ",536],["T_IF","if",537],["T_WHITESPACE"," ",537],"(","!",["T_EMPTY","empty",537],"(",["T_VARIABLE","$source",537],")",")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$screenSize",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$resolution",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],"(",["T_EMPTY","empty",538],"(",["T_VARIABLE","$version",538],")",["T_WHITESPACE"," ",538],"?",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","''",538],["T_WHITESPACE"," ",538],":",["T_WHITESPACE"," ",538],["T_STRING","self",538],["T_DOUBLE_COLON","::",538],["T_STRING","XMLCONNECT_GLUE",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_VARIABLE","$version",538],")",";",["T_WHITESPACE","\n        ",538],"}",["T_WHITESPACE"," ",539],["T_ELSE","else",539],["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n            ",539],["T_VARIABLE","$screenSize",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_STRING","Mage_XmlConnect_Model_Application",540],["T_DOUBLE_COLON","::",540],["T_STRING","APP_SCREEN_SIZE_DEFAULT",540],";",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE","\n        ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$screenSize",542],";",["T_WHITESPACE","\n    ",542],"}",["T_WHITESPACE","\n\n    ",543],["T_DOC_COMMENT","\/**\n     * Return correct size array for given device screen_size(320x480\/640x960_a)\n     *\n     * @deprecated will delete in the next version\n     * @param string $screenSize\n     * @return array\n     *\/",545],["T_WHITESPACE","\n    ",551],["T_PUBLIC","public",552],["T_WHITESPACE"," ",552],["T_FUNCTION","function",552],["T_WHITESPACE"," ",552],["T_STRING","getImageLimits",552],"(",["T_VARIABLE","$screenSize",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_STRING","Mage_XmlConnect_Model_Application",552],["T_DOUBLE_COLON","::",552],["T_STRING","APP_SCREEN_SIZE_DEFAULT",552],")",["T_WHITESPACE","\n    ",552],"{",["T_WHITESPACE","\n        ",553],["T_VARIABLE","$defaultScreenSize",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_STRING","Mage_XmlConnect_Model_Application",554],["T_DOUBLE_COLON","::",554],["T_STRING","APP_SCREEN_SIZE_DEFAULT",554],";",["T_WHITESPACE","\n        ",554],["T_VARIABLE","$defaultScreenSource",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_STRING","Mage_XmlConnect_Model_Application",555],["T_DOUBLE_COLON","::",555],["T_STRING","APP_SCREEN_SOURCE_DEFAULT",555],";",["T_WHITESPACE","\n\n        ",555],["T_VARIABLE","$screenSize",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_STRING","preg_replace",557],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^0-9A-z_]\/'",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","''",557],",",["T_WHITESPACE"," ",557],["T_VARIABLE","$screenSize",557],")",";",["T_WHITESPACE","\n        ",557],["T_IF","if",558],["T_WHITESPACE"," ",558],"(",["T_ISSET","isset",558],"(",["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","_imageLimits",558],"[",["T_VARIABLE","$screenSize",558],"]",")",")",["T_WHITESPACE"," ",558],"{",["T_WHITESPACE","\n            ",558],["T_RETURN","return",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","_imageLimits",559],"[",["T_VARIABLE","$screenSize",559],"]",";",["T_WHITESPACE","\n        ",559],"}",["T_WHITESPACE","\n\n        ",560],["T_VARIABLE","$screenSizeExplodeArray",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_STRING","explode",562],"(",["T_STRING","self",562],["T_DOUBLE_COLON","::",562],["T_STRING","XMLCONNECT_GLUE",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$screenSize",562],")",";",["T_WHITESPACE","\n        ",562],["T_VARIABLE","$version",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","''",563],";",["T_WHITESPACE","\n        ",563],["T_SWITCH","switch",564],["T_WHITESPACE"," ",564],"(",["T_STRING","count",564],"(",["T_VARIABLE","$screenSizeExplodeArray",564],")",")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n            ",564],["T_CASE","case",565],["T_WHITESPACE"," ",565],["T_LNUMBER","2",565],":",["T_WHITESPACE","\n                ",565],["T_VARIABLE","$version",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_VARIABLE","$screenSizeExplodeArray",566],"[",["T_LNUMBER","1",566],"]",";",["T_WHITESPACE","\n            ",566],["T_CASE","case",567],["T_WHITESPACE"," ",567],["T_LNUMBER","1",567],":",["T_WHITESPACE","\n                ",567],["T_VARIABLE","$resolution",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_VARIABLE","$screenSizeExplodeArray",568],"[",["T_LNUMBER","0",568],"]",";",["T_WHITESPACE","\n                ",568],["T_BREAK","break",569],";",["T_WHITESPACE","\n            ",569],["T_DEFAULT","default",570],":",["T_WHITESPACE","\n                ",570],["T_VARIABLE","$resolution",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_VARIABLE","$defaultScreenSize",571],";",["T_WHITESPACE","\n                ",571],["T_BREAK","break",572],";",["T_WHITESPACE","\n        ",572],"}",["T_WHITESPACE","\n\n        ",573],["T_VARIABLE","$sourcePath",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_EMPTY","empty",575],"(",["T_VARIABLE","$version",575],")",["T_WHITESPACE"," ",575],"?",["T_WHITESPACE"," ",575],["T_VARIABLE","$defaultScreenSource",575],["T_WHITESPACE"," ",575],":",["T_WHITESPACE"," ",575],["T_VARIABLE","$version",575],";",["T_WHITESPACE","\n        ",575],["T_VARIABLE","$xmlPath",576],["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],["T_CONSTANT_ENCAPSED_STRING","'screen_size\/'",576],["T_WHITESPACE"," ",576],".",["T_WHITESPACE"," ",576],["T_STRING","self",576],["T_DOUBLE_COLON","::",576],["T_STRING","XMLCONNECT_GLUE",576],["T_WHITESPACE"," ",576],".",["T_WHITESPACE"," ",576],["T_VARIABLE","$resolution",576],["T_WHITESPACE"," ",576],".",["T_WHITESPACE"," ",576],["T_CONSTANT_ENCAPSED_STRING","'\/'",576],["T_WHITESPACE"," ",576],".",["T_WHITESPACE"," ",576],["T_VARIABLE","$sourcePath",576],";",["T_WHITESPACE","\n\n        ",576],["T_VARIABLE","$root",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_STRING","Mage",578],["T_DOUBLE_COLON","::",578],["T_STRING","getStoreConfig",578],"(",["T_VARIABLE","$xmlPath",578],")",";",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$updates",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_ARRAY","array",579],"(",")",";",["T_WHITESPACE","\n\n        ",579],["T_IF","if",581],["T_WHITESPACE"," ",581],"(","!",["T_EMPTY","empty",581],"(",["T_VARIABLE","$root",581],")",")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n            ",581],["T_VARIABLE","$screenSize",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$resolution",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],"(",["T_EMPTY","empty",582],"(",["T_VARIABLE","$version",582],")",["T_WHITESPACE"," ",582],"?",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","''",582],["T_WHITESPACE"," ",582],":",["T_WHITESPACE"," ",582],["T_STRING","self",582],["T_DOUBLE_COLON","::",582],["T_STRING","XMLCONNECT_GLUE",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_VARIABLE","$version",582],")",";",["T_WHITESPACE","\n            ",582],["T_VARIABLE","$source",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],"!",["T_EMPTY","empty",583],"(",["T_VARIABLE","$root",583],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",583],"]",")",["T_WHITESPACE"," ",583],"?",["T_WHITESPACE"," ",583],["T_VARIABLE","$root",583],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",583],"]",["T_WHITESPACE"," ",583],":",["T_WHITESPACE"," ",583],["T_VARIABLE","$defaultScreenSource",583],";",["T_WHITESPACE","\n            ",583],["T_VARIABLE","$updates",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_ISSET","isset",584],"(",["T_VARIABLE","$root",584],"[",["T_CONSTANT_ENCAPSED_STRING","'updates'",584],"]",")",["T_WHITESPACE"," ",584],["T_BOOLEAN_AND","&&",584],["T_WHITESPACE"," ",584],["T_STRING","is_array",584],"(",["T_VARIABLE","$root",584],"[",["T_CONSTANT_ENCAPSED_STRING","'updates'",584],"]",")",["T_WHITESPACE"," ",584],"?",["T_WHITESPACE"," ",584],["T_VARIABLE","$root",584],"[",["T_CONSTANT_ENCAPSED_STRING","'updates'",584],"]",["T_WHITESPACE"," ",584],":",["T_WHITESPACE"," ",584],["T_ARRAY","array",584],"(",")",";",["T_WHITESPACE","\n        ",584],"}",["T_WHITESPACE"," ",585],["T_ELSE","else",585],["T_WHITESPACE"," ",585],"{",["T_WHITESPACE","\n            ",585],["T_VARIABLE","$screenSize",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_VARIABLE","$defaultScreenSize",586],";",["T_WHITESPACE","\n            ",586],["T_VARIABLE","$source",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_VARIABLE","$defaultScreenSource",587],";",["T_WHITESPACE","\n        ",587],"}",["T_WHITESPACE","\n\n        ",588],["T_VARIABLE","$imageLimits",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_STRING","Mage",590],["T_DOUBLE_COLON","::",590],["T_STRING","getStoreConfig",590],"(",["T_CONSTANT_ENCAPSED_STRING","'screen_size\/'",590],["T_WHITESPACE"," ",590],".",["T_WHITESPACE"," ",590],["T_VARIABLE","$source",590],")",";",["T_WHITESPACE","\n        ",590],["T_IF","if",591],["T_WHITESPACE"," ",591],"(","!",["T_STRING","is_array",591],"(",["T_VARIABLE","$imageLimits",591],")",")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n            ",591],["T_VARIABLE","$imageLimits",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_STRING","Mage",592],["T_DOUBLE_COLON","::",592],["T_STRING","getStoreConfig",592],"(",["T_CONSTANT_ENCAPSED_STRING","'screen_size\/default'",592],")",";",["T_WHITESPACE","\n        ",592],"}",["T_WHITESPACE","\n\n        ",593],["T_FOREACH","foreach",595],["T_WHITESPACE"," ",595],"(",["T_VARIABLE","$updates",595],["T_WHITESPACE"," ",595],["T_AS","as",595],["T_WHITESPACE"," ",595],["T_VARIABLE","$update",595],")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n            ",595],["T_VARIABLE","$path",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$update",596],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",596],"]",";",["T_WHITESPACE","\n            ",596],["T_VARIABLE","$function",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_VARIABLE","$update",597],"[",["T_CONSTANT_ENCAPSED_STRING","'function'",597],"]",";",["T_WHITESPACE","\n            ",597],["T_SWITCH","switch",598],["T_WHITESPACE"," ",598],"(",["T_VARIABLE","$function",598],")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n                ",598],["T_CASE","case",599],["T_WHITESPACE"," ",599],["T_CONSTANT_ENCAPSED_STRING","'zoom'",599],":",["T_WHITESPACE","\n                    ",599],["T_VARIABLE","$data",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$update",600],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",600],"]",";",["T_WHITESPACE","\n                    ",600],["T_VARIABLE","$target",601],["T_WHITESPACE"," ",601],"=","&",["T_WHITESPACE"," ",601],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","findPath",601],"(",["T_VARIABLE","$imageLimits",601],",",["T_WHITESPACE"," ",601],["T_VARIABLE","$path",601],")",";",["T_WHITESPACE","\n                    ",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(",["T_STRING","is_array",602],"(",["T_VARIABLE","$target",602],")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n                        ",602],["T_STRING","array_walk_recursive",603],"(",["T_VARIABLE","$target",603],",",["T_WHITESPACE"," ",603],["T_ARRAY","array",603],"(",["T_VARIABLE","$this",603],",",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","'_zoom'",603],")",",",["T_WHITESPACE"," ",603],["T_VARIABLE","$data",603],")",";",["T_WHITESPACE","\n                    ",603],"}",["T_WHITESPACE"," ",604],["T_ELSE","else",604],["T_WHITESPACE"," ",604],"{",["T_WHITESPACE","\n                        ",604],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","_zoom",605],"(",["T_VARIABLE","$target",605],",",["T_WHITESPACE"," ",605],["T_STRING","null",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$data",605],")",";",["T_WHITESPACE","\n                    ",605],"}",["T_WHITESPACE","\n                    ",606],["T_BREAK","break",607],";",["T_WHITESPACE","\n                ",607],["T_CASE","case",608],["T_WHITESPACE"," ",608],["T_CONSTANT_ENCAPSED_STRING","'update'",608],":",["T_WHITESPACE","\n                    ",608],["T_VARIABLE","$data",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_VARIABLE","$update",609],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",609],"]",";",["T_WHITESPACE","\n                    ",609],["T_VARIABLE","$target",610],["T_WHITESPACE"," ",610],"=","&",["T_WHITESPACE"," ",610],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","findPath",610],"(",["T_VARIABLE","$imageLimits",610],",",["T_WHITESPACE"," ",610],["T_VARIABLE","$path",610],")",";",["T_WHITESPACE","\n                    ",610],["T_VARIABLE","$target",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_VARIABLE","$data",611],";",["T_WHITESPACE","\n                    ",611],["T_BREAK","break",612],";",["T_WHITESPACE","\n                ",612],["T_CASE","case",613],["T_WHITESPACE"," ",613],["T_CONSTANT_ENCAPSED_STRING","'insert'",613],":",["T_WHITESPACE","\n                    ",613],["T_VARIABLE","$data",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_VARIABLE","$update",614],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",614],"]",";",["T_WHITESPACE","\n                    ",614],["T_VARIABLE","$target",615],["T_WHITESPACE"," ",615],"=","&",["T_WHITESPACE"," ",615],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","findPath",615],"(",["T_VARIABLE","$imageLimits",615],",",["T_WHITESPACE"," ",615],["T_VARIABLE","$path",615],")",";",["T_WHITESPACE","\n                    ",615],["T_IF","if",616],["T_WHITESPACE"," ",616],"(","(",["T_VARIABLE","$target",616],["T_WHITESPACE"," ",616],["T_IS_NOT_IDENTICAL","!==",616],["T_WHITESPACE"," ",616],["T_STRING","null",616],")",["T_WHITESPACE"," ",616],["T_BOOLEAN_AND","&&",616],["T_WHITESPACE"," ",616],"(",["T_STRING","is_array",616],"(",["T_VARIABLE","$target",616],")",")",["T_WHITESPACE"," ",616],["T_BOOLEAN_AND","&&",616],["T_WHITESPACE"," ",616],"(",["T_STRING","is_array",616],"(",["T_VARIABLE","$data",616],")",")",")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n                        ",616],["T_FOREACH","foreach",617],["T_WHITESPACE"," ",617],"(",["T_VARIABLE","$data",617],["T_WHITESPACE"," ",617],["T_AS","as",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$key",617],["T_WHITESPACE"," ",617],["T_DOUBLE_ARROW","=>",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$val",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n                            ",617],["T_VARIABLE","$target",618],"[",["T_VARIABLE","$key",618],"]",["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_VARIABLE","$val",618],";",["T_WHITESPACE","\n                        ",618],"}",["T_WHITESPACE","\n                    ",619],"}",["T_WHITESPACE","\n                    ",620],["T_BREAK","break",621],";",["T_WHITESPACE","\n                ",621],["T_CASE","case",622],["T_WHITESPACE"," ",622],["T_CONSTANT_ENCAPSED_STRING","'delete'",622],":",["T_WHITESPACE","\n                    ",622],["T_VARIABLE","$data",623],["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_VARIABLE","$update",623],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",623],"]",";",["T_WHITESPACE","\n                    ",623],["T_VARIABLE","$target",624],["T_WHITESPACE"," ",624],"=","&",["T_WHITESPACE"," ",624],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","findPath",624],"(",["T_VARIABLE","$imageLimits",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$path",624],")",";",["T_WHITESPACE","\n                    ",624],["T_IF","if",625],["T_WHITESPACE"," ",625],"(",["T_ISSET","isset",625],"(",["T_VARIABLE","$target",625],"[",["T_VARIABLE","$data",625],"]",")",")",["T_WHITESPACE"," ",625],"{",["T_WHITESPACE","\n                        ",625],["T_UNSET","unset",626],"(",["T_VARIABLE","$target",626],"[",["T_VARIABLE","$data",626],"]",")",";",["T_WHITESPACE","\n                    ",626],"}",["T_WHITESPACE","\n                    ",627],["T_BREAK","break",628],";",["T_WHITESPACE","\n                ",628],["T_DEFAULT","default",629],":",["T_WHITESPACE","\n                    ",629],["T_BREAK","break",630],";",["T_WHITESPACE","\n            ",630],"}",["T_WHITESPACE","\n\n        ",631],"}",["T_WHITESPACE","\n        ",633],["T_IF","if",634],["T_WHITESPACE"," ",634],"(","!",["T_STRING","is_array",634],"(",["T_VARIABLE","$imageLimits",634],")",")",["T_WHITESPACE"," ",634],"{",["T_WHITESPACE","\n            ",634],["T_VARIABLE","$imageLimits",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_ARRAY","array",635],"(",")",";",["T_WHITESPACE","\n        ",635],"}",["T_WHITESPACE","\n\n        ",636],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","_imageLimits",638],"[",["T_VARIABLE","$screenSize",638],"]",["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_VARIABLE","$imageLimits",638],";",["T_WHITESPACE","\n        ",638],["T_RETURN","return",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$imageLimits",639],";",["T_WHITESPACE","\n    ",639],"}",["T_WHITESPACE","\n\n    ",640],["T_DOC_COMMENT","\/**\n     * Return reference to the $path in $array\n     *\n     * @deprecated will delete in the next version\n     * @param array &$array\n     * @param string $path\n     * @return mixed reference\n     *\/",642],["T_WHITESPACE","\n    ",649],["T_PUBLIC","public",650],["T_WHITESPACE"," ",650],["T_FUNCTION","function",650],["T_WHITESPACE"," ",650],"&",["T_STRING","findPath",650],"(","&",["T_VARIABLE","$array",650],",",["T_WHITESPACE"," ",650],["T_VARIABLE","$path",650],")",["T_WHITESPACE","\n    ",650],"{",["T_WHITESPACE","\n        ",651],["T_VARIABLE","$target",652],["T_WHITESPACE"," ",652],"=","&",["T_WHITESPACE"," ",652],["T_VARIABLE","$array",652],";",["T_WHITESPACE","\n        ",652],["T_IF","if",653],["T_WHITESPACE"," ",653],"(",["T_VARIABLE","$path",653],["T_WHITESPACE"," ",653],["T_IS_NOT_IDENTICAL","!==",653],["T_WHITESPACE"," ",653],["T_CONSTANT_ENCAPSED_STRING","'\/'",653],")",["T_WHITESPACE"," ",653],"{",["T_WHITESPACE","\n            ",653],["T_VARIABLE","$pathArray",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_STRING","explode",654],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",654],",",["T_WHITESPACE"," ",654],["T_VARIABLE","$path",654],")",";",["T_WHITESPACE","\n            ",654],["T_FOREACH","foreach",655],["T_WHITESPACE"," ",655],"(",["T_VARIABLE","$pathArray",655],["T_WHITESPACE"," ",655],["T_AS","as",655],["T_WHITESPACE"," ",655],["T_VARIABLE","$node",655],")",["T_WHITESPACE"," ",655],"{",["T_WHITESPACE","\n                ",655],["T_IF","if",656],["T_WHITESPACE"," ",656],"(",["T_STRING","is_array",656],"(",["T_VARIABLE","$target",656],")",["T_WHITESPACE"," ",656],["T_BOOLEAN_AND","&&",656],["T_WHITESPACE"," ",656],["T_ISSET","isset",656],"(",["T_VARIABLE","$target",656],"[",["T_VARIABLE","$node",656],"]",")",")",["T_WHITESPACE"," ",656],"{",["T_WHITESPACE","\n                    ",656],["T_VARIABLE","$target",657],["T_WHITESPACE"," ",657],"=","&",["T_WHITESPACE"," ",657],["T_VARIABLE","$target",657],"[",["T_VARIABLE","$node",657],"]",";",["T_WHITESPACE","\n                ",657],"}",["T_WHITESPACE"," ",658],["T_ELSE","else",658],["T_WHITESPACE"," ",658],"{",["T_WHITESPACE","\n                    ",658],["T_RETURN","return",659],["T_WHITESPACE"," ",659],["T_STRING","null",659],";",["T_WHITESPACE","\n                ",659],"}",["T_WHITESPACE","\n            ",660],"}",["T_WHITESPACE","\n        ",661],"}",["T_WHITESPACE","\n        ",662],["T_RETURN","return",663],["T_WHITESPACE"," ",663],["T_VARIABLE","$target",663],";",["T_WHITESPACE","\n    ",663],"}",["T_WHITESPACE","\n\n    ",664],["T_DOC_COMMENT","\/**\n     * Multiply given $item by $value if non array\n     *\n     * @deprecated will delete in the next version\n     * @param mixed $item (argument to change)\n     * @param mixed $key (used with array_walk_recursive function as a key of given array)\n     * @param string $value (contains float)\n     * @return null\n     *\/",666],["T_WHITESPACE","\n    ",674],["T_PROTECTED","protected",675],["T_WHITESPACE"," ",675],["T_FUNCTION","function",675],["T_WHITESPACE"," ",675],["T_STRING","_zoom",675],"(","&",["T_VARIABLE","$item",675],",",["T_WHITESPACE"," ",675],["T_VARIABLE","$key",675],",",["T_WHITESPACE"," ",675],["T_VARIABLE","$value",675],")",["T_WHITESPACE","\n    ",675],"{",["T_WHITESPACE","\n        ",676],["T_IF","if",677],["T_WHITESPACE"," ",677],"(",["T_STRING","is_string",677],"(",["T_VARIABLE","$item",677],")",")",["T_WHITESPACE"," ",677],"{",["T_WHITESPACE","\n            ",677],["T_VARIABLE","$item",678],["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_INT_CAST","(int)",678],["T_WHITESPACE"," ",678],["T_STRING","round",678],"(",["T_VARIABLE","$item",678],["T_WHITESPACE"," ",678],"*",["T_WHITESPACE"," ",678],["T_VARIABLE","$value",678],")",";",["T_WHITESPACE","\n        ",678],"}",["T_WHITESPACE","\n    ",679],"}",["T_WHITESPACE","\n\n    ",680],["T_DOC_COMMENT","\/**\n     * Ensure $dir exists (if not then create one)\n     *\n     * @param string $dir\n     * @throw Mage_Core_Exception\n     *\/",682],["T_WHITESPACE","\n    ",687],["T_PROTECTED","protected",688],["T_WHITESPACE"," ",688],["T_FUNCTION","function",688],["T_WHITESPACE"," ",688],["T_STRING","_verifyDirExist",688],"(",["T_VARIABLE","$dir",688],")",["T_WHITESPACE","\n    ",688],"{",["T_WHITESPACE","\n        ",689],["T_TRY","try",690],["T_WHITESPACE"," ",690],"{",["T_WHITESPACE","\n            ",690],["T_VARIABLE","$ioFile",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_NEW","new",691],["T_WHITESPACE"," ",691],["T_STRING","Varien_Io_File",691],"(",")",";",["T_WHITESPACE","\n            ",691],["T_VARIABLE","$ioFile",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","checkAndCreateFolder",692],"(",["T_VARIABLE","$dir",692],")",";",["T_WHITESPACE","\n        ",692],"}",["T_WHITESPACE"," ",693],["T_CATCH","catch",693],["T_WHITESPACE"," ",693],"(",["T_STRING","Exception",693],["T_WHITESPACE"," ",693],["T_VARIABLE","$e",693],")",["T_WHITESPACE"," ",693],"{",["T_WHITESPACE","\n            ",693],["T_STRING","Mage",694],["T_DOUBLE_COLON","::",694],["T_STRING","throwException",694],"(",["T_VARIABLE","$e",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","getMessage",694],"(",")",")",";",["T_WHITESPACE","\n        ",694],"}",["T_WHITESPACE","\n    ",695],"}",["T_WHITESPACE","\n\n    ",696],["T_DOC_COMMENT","\/**\n     * Return customSizeUploadDir path\n     *\n     * @deprecated will delete in the next version\n     * @param string $screenSize\n     * @return string\n     *\/",698],["T_WHITESPACE","\n    ",704],["T_PUBLIC","public",705],["T_WHITESPACE"," ",705],["T_FUNCTION","function",705],["T_WHITESPACE"," ",705],["T_STRING","getCustomSizeUploadDir",705],"(",["T_VARIABLE","$screenSize",705],")",["T_WHITESPACE","\n    ",705],"{",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$screenSize",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","filterScreenSize",707],"(",["T_VARIABLE","$screenSize",707],")",";",["T_WHITESPACE","\n        ",707],["T_VARIABLE","$customDir",708],["T_WHITESPACE"," ",708],"=",["T_WHITESPACE"," ",708],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","getMediaPath",708],"(",["T_CONSTANT_ENCAPSED_STRING","'custom'",708],["T_WHITESPACE"," ",708],".",["T_WHITESPACE"," ",708],["T_STRING","DS",708],["T_WHITESPACE"," ",708],".",["T_WHITESPACE"," ",708],["T_VARIABLE","$screenSize",708],")",";",["T_WHITESPACE","\n        ",708],["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","_verifyDirExist",709],"(",["T_VARIABLE","$customDir",709],")",";",["T_WHITESPACE","\n        ",709],["T_RETURN","return",710],["T_WHITESPACE"," ",710],["T_VARIABLE","$customDir",710],";",["T_WHITESPACE","\n    ",710],"}",["T_WHITESPACE","\n\n    ",711],["T_DOC_COMMENT","\/**\n     * Return originalSizeUploadDir path\n     *\n     * @deprecated will delete in the next version\n     * @return string\n     *\/",713],["T_WHITESPACE","\n    ",718],["T_PUBLIC","public",719],["T_WHITESPACE"," ",719],["T_FUNCTION","function",719],["T_WHITESPACE"," ",719],["T_STRING","getOriginalSizeUploadDir",719],"(",")",["T_WHITESPACE","\n    ",719],"{",["T_WHITESPACE","\n        ",720],["T_VARIABLE","$dir",721],["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","getMediaPath",721],"(",["T_CONSTANT_ENCAPSED_STRING","'original'",721],")",";",["T_WHITESPACE","\n        ",721],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","_verifyDirExist",722],"(",["T_VARIABLE","$dir",722],")",";",["T_WHITESPACE","\n        ",722],["T_RETURN","return",723],["T_WHITESPACE"," ",723],["T_VARIABLE","$dir",723],";",["T_WHITESPACE","\n    ",723],"}",["T_WHITESPACE","\n\n    ",724],["T_DOC_COMMENT","\/**\n     * Return oldUpload dir path  (media\/xmlconnect)\n     *\n     * @deprecated from 1.6.1.0\n     * @return string\n     *\/",726],["T_WHITESPACE","\n    ",731],["T_PUBLIC","public",732],["T_WHITESPACE"," ",732],["T_FUNCTION","function",732],["T_WHITESPACE"," ",732],["T_STRING","getOldUploadDir",732],"(",")",["T_WHITESPACE","\n    ",732],"{",["T_WHITESPACE","\n        ",733],["T_VARIABLE","$dir",734],["T_WHITESPACE"," ",734],"=",["T_WHITESPACE"," ",734],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","getMediaPath",734],"(",")",";",["T_WHITESPACE","\n        ",734],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","_verifyDirExist",735],"(",["T_VARIABLE","$dir",735],")",";",["T_WHITESPACE","\n        ",735],["T_RETURN","return",736],["T_WHITESPACE"," ",736],["T_VARIABLE","$dir",736],";",["T_WHITESPACE","\n    ",736],"}",["T_WHITESPACE","\n\n    ",737],["T_DOC_COMMENT","\/**\n     * Return default size upload dir path\n     *\n     * @deprecated will delete in the next version\n     * @return string\n     *\/",739],["T_WHITESPACE","\n    ",744],["T_PUBLIC","public",745],["T_WHITESPACE"," ",745],["T_FUNCTION","function",745],["T_WHITESPACE"," ",745],["T_STRING","getDefaultSizeUploadDir",745],"(",")",["T_WHITESPACE","\n    ",745],"{",["T_WHITESPACE","\n        ",746],["T_RETURN","return",747],["T_WHITESPACE"," ",747],["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","getCustomSizeUploadDir",747],"(",["T_STRING","Mage_XmlConnect_Model_Application",747],["T_DOUBLE_COLON","::",747],["T_STRING","APP_SCREEN_SIZE_DEFAULT",747],")",";",["T_WHITESPACE","\n    ",747],"}",["T_WHITESPACE","\n\n    ",748],["T_DOC_COMMENT","\/**\n     * Return array for interface images paths in the config\n     *\n     * @deprecated will delete in the next version\n     * @return array\n     *\/",750],["T_WHITESPACE","\n    ",755],["T_PUBLIC","public",756],["T_WHITESPACE"," ",756],["T_FUNCTION","function",756],["T_WHITESPACE"," ",756],["T_STRING","getInterfaceImagesPathsConf",756],"(",")",["T_WHITESPACE","\n    ",756],"{",["T_WHITESPACE","\n        ",757],["T_IF","if",758],["T_WHITESPACE"," ",758],"(","!",["T_ISSET","isset",758],"(",["T_VARIABLE","$this",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","_confPaths",758],")",")",["T_WHITESPACE"," ",758],"{",["T_WHITESPACE","\n            ",758],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","_confPaths",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_ARRAY","array",759],"(",")",";",["T_WHITESPACE","\n            ",759],["T_VARIABLE","$paths",760],["T_WHITESPACE"," ",760],"=",["T_WHITESPACE"," ",760],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","getInterfaceImagesPaths",760],"(",")",";",["T_WHITESPACE","\n            ",760],["T_IF","if",761],["T_WHITESPACE"," ",761],"(",["T_STRING","is_array",761],"(",["T_VARIABLE","$paths",761],")",")",["T_WHITESPACE"," ",761],"{",["T_WHITESPACE","\n                ",761],["T_VARIABLE","$len",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_STRING","strlen",762],"(",["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/'",762],")",";",["T_WHITESPACE","\n                ",762],["T_WHILE","while",763],["T_WHITESPACE"," ",763],"(",["T_LIST","list",763],"(",["T_VARIABLE","$path",763],",",")",["T_WHITESPACE"," ",763],"=",["T_WHITESPACE"," ",763],["T_STRING","each",763],"(",["T_VARIABLE","$paths",763],")",")",["T_WHITESPACE"," ",763],"{",["T_WHITESPACE","\n                    ",763],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_confPaths",764],"[",["T_VARIABLE","$path",764],"]",["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_STRING","substr",764],"(",["T_VARIABLE","$path",764],",",["T_WHITESPACE"," ",764],["T_VARIABLE","$len",764],")",";",["T_WHITESPACE","\n                ",764],"}",["T_WHITESPACE","\n            ",765],"}",["T_WHITESPACE","\n        ",766],"}",["T_WHITESPACE","\n        ",767],["T_RETURN","return",768],["T_WHITESPACE"," ",768],["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","_confPaths",768],";",["T_WHITESPACE","\n    ",768],"}",["T_WHITESPACE","\n\n    ",769],["T_DOC_COMMENT","\/**\n     * Return\n     * - default interface image path for specified $imagePath\n     * - array of image paths\n     *\n     * @deprecated will delete in the next version\n     * @param string $imagePath\n     * @return array|string\n     *\/",771],["T_WHITESPACE","\n    ",779],["T_PUBLIC","public",780],["T_WHITESPACE"," ",780],["T_FUNCTION","function",780],["T_WHITESPACE"," ",780],["T_STRING","getInterfaceImagesPaths",780],"(",["T_VARIABLE","$imagePath",780],["T_WHITESPACE"," ",780],"=",["T_WHITESPACE"," ",780],["T_STRING","null",780],")",["T_WHITESPACE","\n    ",780],"{",["T_WHITESPACE","\n        ",781],["T_VARIABLE","$paths",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],["T_ARRAY","array",782],["T_WHITESPACE"," ",782],"(",["T_WHITESPACE","\n            ",782],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/navigationBar\/icon'",783],["T_WHITESPACE"," ",783],["T_DOUBLE_ARROW","=>",783],["T_WHITESPACE"," ",783],["T_CONSTANT_ENCAPSED_STRING","'smallIcon_1_6.png'",783],",",["T_WHITESPACE","\n            ",783],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/body\/bannerImage'",784],["T_WHITESPACE"," ",784],["T_DOUBLE_ARROW","=>",784],["T_WHITESPACE"," ",784],["T_CONSTANT_ENCAPSED_STRING","'banner_1_2.png'",784],",",["T_WHITESPACE","\n            ",784],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/body\/bannerIpadLandscapeImage'",785],["T_WHITESPACE"," ",785],["T_DOUBLE_ARROW","=>",785],["T_WHITESPACE"," ",785],["T_CONSTANT_ENCAPSED_STRING","'banner_ipad_l.png'",785],",",["T_WHITESPACE","\n            ",785],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/body\/bannerIpadImage'",786],["T_WHITESPACE"," ",786],["T_DOUBLE_ARROW","=>",786],["T_WHITESPACE"," ",786],["T_CONSTANT_ENCAPSED_STRING","'banner_ipad.png'",786],",",["T_WHITESPACE","\n            ",786],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/body\/bannerAndroidImage'",787],["T_WHITESPACE"," ",787],["T_DOUBLE_ARROW","=>",787],["T_WHITESPACE"," ",787],["T_CONSTANT_ENCAPSED_STRING","'banner_android.png'",787],",",["T_WHITESPACE","\n            ",787],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/body\/backgroundImage'",788],["T_WHITESPACE"," ",788],["T_DOUBLE_ARROW","=>",788],["T_WHITESPACE"," ",788],["T_CONSTANT_ENCAPSED_STRING","'accordion_open.png'",788],",",["T_WHITESPACE","\n            ",788],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/body\/backgroundIpadLandscapeImage'",789],["T_WHITESPACE"," ",789],["T_DOUBLE_ARROW","=>",789],["T_WHITESPACE"," ",789],["T_CONSTANT_ENCAPSED_STRING","'accordion_open_ipad_l.png'",789],",",["T_WHITESPACE","\n            ",789],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/body\/backgroundIpadPortraitImage'",790],["T_WHITESPACE"," ",790],["T_DOUBLE_ARROW","=>",790],["T_WHITESPACE"," ",790],["T_CONSTANT_ENCAPSED_STRING","'accordion_open_ipad_p.png'",790],",",["T_WHITESPACE","\n            ",790],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/body\/backgroundAndroidLandscapeImage'",791],["T_WHITESPACE"," ",791],["T_DOUBLE_ARROW","=>",791],["T_WHITESPACE"," ",791],["T_CONSTANT_ENCAPSED_STRING","'accordion_open_android_l.png'",791],",",["T_WHITESPACE","\n            ",791],["T_CONSTANT_ENCAPSED_STRING","'conf\/native\/body\/backgroundAndroidPortraitImage'",792],["T_WHITESPACE"," ",792],["T_DOUBLE_ARROW","=>",792],["T_WHITESPACE"," ",792],["T_CONSTANT_ENCAPSED_STRING","'accordion_open_android_p.png'",792],",",["T_WHITESPACE","\n        ",792],")",";",["T_WHITESPACE","\n        ",793],["T_IF","if",794],["T_WHITESPACE"," ",794],"(",["T_VARIABLE","$imagePath",794],["T_WHITESPACE"," ",794],["T_IS_EQUAL","==",794],["T_WHITESPACE"," ",794],["T_STRING","null",794],")",["T_WHITESPACE"," ",794],"{",["T_WHITESPACE","\n            ",794],["T_RETURN","return",795],["T_WHITESPACE"," ",795],["T_VARIABLE","$paths",795],";",["T_WHITESPACE","\n        ",795],"}",["T_WHITESPACE"," ",796],["T_ELSE","else",796],["T_WHITESPACE"," ",796],["T_IF","if",796],["T_WHITESPACE"," ",796],"(",["T_ISSET","isset",796],"(",["T_VARIABLE","$paths",796],"[",["T_VARIABLE","$imagePath",796],"]",")",")",["T_WHITESPACE"," ",796],"{",["T_WHITESPACE","\n            ",796],["T_RETURN","return",797],["T_WHITESPACE"," ",797],["T_VARIABLE","$paths",797],"[",["T_VARIABLE","$imagePath",797],"]",";",["T_WHITESPACE","\n        ",797],"}",["T_WHITESPACE"," ",798],["T_ELSE","else",798],["T_WHITESPACE"," ",798],"{",["T_WHITESPACE","\n            ",798],["T_RETURN","return",799],["T_WHITESPACE"," ",799],["T_STRING","null",799],";",["T_WHITESPACE","\n        ",799],"}",["T_WHITESPACE","\n    ",800],"}",["T_WHITESPACE","\n\n    ",801],["T_DOC_COMMENT","\/**\n     * Check image and get full file path\n     *\n     * @deprecated will delete in the next version\n     * @param string &$icon\n     * @return bool\n     *\/",803],["T_WHITESPACE","\n    ",809],["T_PUBLIC","public",810],["T_WHITESPACE"," ",810],["T_FUNCTION","function",810],["T_WHITESPACE"," ",810],["T_STRING","checkAndGetImagePath",810],"(","&",["T_VARIABLE","$icon",810],")",["T_WHITESPACE","\n    ",810],"{",["T_WHITESPACE","\n        ",811],["T_VARIABLE","$icon",812],["T_WHITESPACE"," ",812],"=",["T_WHITESPACE"," ",812],["T_STRING","basename",812],"(",["T_VARIABLE","$icon",812],")",";",["T_WHITESPACE","\n        ",812],["T_IF","if",813],["T_WHITESPACE"," ",813],"(",["T_STRING","is_file",813],"(",["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","getDefaultSizeUploadDir",813],"(",")",["T_WHITESPACE"," ",813],".",["T_WHITESPACE"," ",813],["T_STRING","DS",813],["T_WHITESPACE"," ",813],".",["T_WHITESPACE"," ",813],["T_VARIABLE","$icon",813],")",")",["T_WHITESPACE"," ",813],"{",["T_WHITESPACE","\n            ",813],["T_VARIABLE","$icon",814],["T_WHITESPACE"," ",814],"=",["T_WHITESPACE"," ",814],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","getDefaultSizeUploadDir",814],"(",")",["T_WHITESPACE"," ",814],".",["T_WHITESPACE"," ",814],["T_STRING","DS",814],["T_WHITESPACE"," ",814],".",["T_WHITESPACE"," ",814],["T_VARIABLE","$icon",814],";",["T_WHITESPACE","\n            ",814],["T_RETURN","return",815],["T_WHITESPACE"," ",815],["T_STRING","true",815],";",["T_WHITESPACE","\n        ",815],"}",["T_WHITESPACE","\n        ",816],["T_RETURN","return",817],["T_WHITESPACE"," ",817],["T_STRING","false",817],";",["T_WHITESPACE","\n    ",817],"}",["T_WHITESPACE","\n",818],"}",["T_WHITESPACE","\n",819]]