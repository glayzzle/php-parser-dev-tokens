[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * XmlConnect default helper\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Helper_Data",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Helper_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Thumbnail image width\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","THUMBNAIL_IMAGE_WIDTH",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","160",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Thumbnail image height\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","THUMBNAIL_IMAGE_HEIGHT",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","115",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Push title length\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","PUSH_TITLE_LENGTH",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","140",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Message title length\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","MESSAGE_TITLE_LENGTH",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_LNUMBER","255",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * List of the keys for xml config that have to be excluded form application config\n     *\n     * @var array\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_excludedXmlConfigKeys",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'notifications\/applicationMasterSecret'",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Application names array\n     *\n     * @var array\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_appNames",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",")",";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Template names array\n     *\n     * @var array\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_tplNames",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * XML path to nodes to be excluded\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_CONST","const",80],["T_WHITESPACE"," ",80],["T_STRING","XML_NODE_CONFIG_EXCLUDE_FROM_XML",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/mobile_application\/nodes_excluded_from_config_xml'",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Default device type\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_CONST","const",85],["T_WHITESPACE"," ",85],["T_STRING","DEVICE_TYPE_DEFAULT",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'unknown'",85],";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * iPhone device identifier\n     *\/",87],["T_WHITESPACE","\n    ",89],["T_CONST","const",90],["T_WHITESPACE"," ",90],["T_STRING","DEVICE_TYPE_IPHONE",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'iphone'",90],";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * iPad device identifier\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_CONST","const",95],["T_WHITESPACE"," ",95],["T_STRING","DEVICE_TYPE_IPAD",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'ipad'",95],";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Android device identifier\n     *\/",97],["T_WHITESPACE","\n    ",99],["T_CONST","const",100],["T_WHITESPACE"," ",100],["T_STRING","DEVICE_TYPE_ANDROID",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'android'",100],";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Social network Twitter id\n     *\/",102],["T_WHITESPACE","\n    ",104],["T_CONST","const",105],["T_WHITESPACE"," ",105],["T_STRING","SOCIAL_NETWORK_TWITTER",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'twitter'",105],";",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Social network Facebook id\n     *\/",107],["T_WHITESPACE","\n    ",109],["T_CONST","const",110],["T_WHITESPACE"," ",110],["T_STRING","SOCIAL_NETWORK_FACEBOOK",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'facebook'",110],";",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Social network LinkedIn id\n     *\/",112],["T_WHITESPACE","\n    ",114],["T_CONST","const",115],["T_WHITESPACE"," ",115],["T_STRING","SOCIAL_NETWORK_LINKEDIN",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'linkedin'",115],";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Api changes for version 23\n     *\/",117],["T_WHITESPACE","\n    ",119],["T_CONST","const",120],["T_WHITESPACE"," ",120],["T_STRING","DEVICE_API_V_23",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'23'",120],";",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * API version request param\n     *\/",122],["T_WHITESPACE","\n    ",124],["T_CONST","const",125],["T_WHITESPACE"," ",125],["T_STRING","API_VERSION_REQUEST_PARAM",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'api_version'",125],";",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Get device preview model\n     *\n     * @throws Mage_Core_Exception\n     * @return Mage_XmlConnect_Model_Preview_Abstract\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","getPreviewModel",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$deviceType",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getDeviceType",135],"(",")",";",["T_WHITESPACE","\n\n        ",135],["T_SWITCH","switch",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$deviceType",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_CASE","case",138],["T_WHITESPACE"," ",138],["T_STRING","self",138],["T_DOUBLE_COLON","::",138],["T_STRING","DEVICE_TYPE_IPHONE",138],":",["T_WHITESPACE","\n            ",138],["T_CASE","case",139],["T_WHITESPACE"," ",139],["T_STRING","self",139],["T_DOUBLE_COLON","::",139],["T_STRING","DEVICE_TYPE_IPAD",139],":",["T_WHITESPACE","\n            ",139],["T_CASE","case",140],["T_WHITESPACE"," ",140],["T_STRING","self",140],["T_DOUBLE_COLON","::",140],["T_STRING","DEVICE_TYPE_ANDROID",140],":",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$previewModel",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","Mage",141],["T_DOUBLE_COLON","::",141],["T_STRING","getSingleton",141],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/preview_'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_STRING","strtolower",141],"(",["T_VARIABLE","$deviceType",141],")",")",";",["T_WHITESPACE","\n                ",141],["T_BREAK","break",142],";",["T_WHITESPACE","\n            ",142],["T_DEFAULT","default",143],":",["T_WHITESPACE","\n                ",143],["T_STRING","Mage",144],["T_DOUBLE_COLON","::",144],["T_STRING","throwException",144],"(",["T_WHITESPACE","\n                    ",144],["T_STRING","Mage",145],["T_DOUBLE_COLON","::",145],["T_STRING","helper",145],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","__",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Device doesn\\'t recognized: \"%s\". Unable to load preview model.'",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$deviceType",145],")",["T_WHITESPACE","\n                ",145],")",";",["T_WHITESPACE","\n                ",146],["T_BREAK","break",147],";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$previewModel",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Get device helper\n     *\n     * @throws Mage_Core_Exception\n     * @param Mage_XmlConnect_Model_Application $application\n     * @return Mage_Core_Helper_Abstract\n     *\/",152],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","getDeviceHelper",159],"(",["T_VARIABLE","$application",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","null",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$deviceType",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getDeviceType",161],"(",["T_VARIABLE","$application",161],")",";",["T_WHITESPACE","\n\n        ",161],["T_SWITCH","switch",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$deviceType",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_CASE","case",164],["T_WHITESPACE"," ",164],["T_STRING","self",164],["T_DOUBLE_COLON","::",164],["T_STRING","DEVICE_TYPE_IPHONE",164],":",["T_WHITESPACE","\n            ",164],["T_CASE","case",165],["T_WHITESPACE"," ",165],["T_STRING","self",165],["T_DOUBLE_COLON","::",165],["T_STRING","DEVICE_TYPE_IPAD",165],":",["T_WHITESPACE","\n            ",165],["T_CASE","case",166],["T_WHITESPACE"," ",166],["T_STRING","self",166],["T_DOUBLE_COLON","::",166],["T_STRING","DEVICE_TYPE_ANDROID",166],":",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$helper",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE","  ",167],["T_STRING","Mage",167],["T_DOUBLE_COLON","::",167],["T_STRING","helper",167],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/'",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_VARIABLE","$deviceType",167],")",";",["T_WHITESPACE","\n                ",167],["T_BREAK","break",168],";",["T_WHITESPACE","\n            ",168],["T_DEFAULT","default",169],":",["T_WHITESPACE","\n                ",169],["T_STRING","Mage",170],["T_DOUBLE_COLON","::",170],["T_STRING","throwException",170],"(",["T_WHITESPACE","\n                    ",170],["T_STRING","Mage",171],["T_DOUBLE_COLON","::",171],["T_STRING","helper",171],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","__",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Device doesn\\'t recognized: \"%s\". Unable to load a helper.'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$deviceType",171],")",["T_WHITESPACE","\n                ",171],")",";",["T_WHITESPACE","\n                ",172],["T_BREAK","break",173],";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$helper",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Get device tipe from application\n     *\n     * @param Mage_XmlConnect_Model_Application $application\n     * @return string\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getDeviceType",184],"(",["T_VARIABLE","$application",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","null",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$deviceType",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","null",186],";",["T_WHITESPACE","\n        ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_EMPTY","empty",187],"(",["T_VARIABLE","$application",187],")",["T_WHITESPACE"," ",187],["T_BOOLEAN_AND","&&",187],["T_WHITESPACE"," ",187],["T_STRING","Mage",187],["T_DOUBLE_COLON","::",187],["T_STRING","registry",187],"(",["T_CONSTANT_ENCAPSED_STRING","'current_app'",187],")",["T_WHITESPACE"," ",187],["T_IS_NOT_IDENTICAL","!==",187],["T_WHITESPACE"," ",187],["T_STRING","null",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$deviceType",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING_CAST","(string)",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getApplication",188],"(",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","getType",188],"(",")",";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE"," ",189],["T_ELSEIF","elseif",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$application",189],["T_WHITESPACE"," ",189],["T_INSTANCEOF","instanceof",189],["T_WHITESPACE"," ",189],["T_STRING","Mage_XmlConnect_Model_Application",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$deviceType",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING_CAST","(string)",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$application",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getType",190],"(",")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_EMPTY","empty",192],"(",["T_VARIABLE","$deviceType",192],")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$deviceType",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","self",193],["T_DOUBLE_COLON","::",193],["T_STRING","DEVICE_TYPE_DEFAULT",193],";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n        ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$deviceType",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Getter for current loaded application model\n     *\n     * @throws Mage_Core_Exception\n     * @return Mage_XmlConnect_Model_Application\n     *\/",198],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","getApplication",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$model",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","Mage",206],["T_DOUBLE_COLON","::",206],["T_STRING","registry",206],"(",["T_CONSTANT_ENCAPSED_STRING","'current_app'",206],")",";",["T_WHITESPACE","\n        ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!","(",["T_VARIABLE","$model",207],["T_WHITESPACE"," ",207],["T_INSTANCEOF","instanceof",207],["T_WHITESPACE"," ",207],["T_STRING","Mage_XmlConnect_Model_Application",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_STRING","Mage",208],["T_DOUBLE_COLON","::",208],["T_STRING","throwException",208],"(",["T_STRING","Mage",208],["T_DOUBLE_COLON","::",208],["T_STRING","helper",208],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",208],")",["T_OBJECT_OPERATOR","->",208],["T_STRING","__",208],"(",["T_CONSTANT_ENCAPSED_STRING","'App model not loaded.'",208],")",")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n\n        ",209],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$model",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Get application id from model in registry\n     *\n     * @return int\n     *\/",214],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","getApplicationId",219],"(",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getApplication",221],"(",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","getId",221],"(",")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Create array with filter model and filter block by key\n     *\n     * Create array with:\n     * - Mage_Catalog_Model_Layer_Filter_Abstract\n     * - Mage_Catalog_Block_Layer_Filter_Abstract\n     *\n     * @param string $key\n     * @return array\n     *\/",224],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","getFilterByKey",234],"(",["T_VARIABLE","$key",234],")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_SWITCH","switch",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$key",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_CASE","case",237],["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'price'",237],":",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$filterModelName",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'catalog\/layer_filter_price'",238],";",["T_WHITESPACE","\n                ",238],["T_BREAK","break",239],";",["T_WHITESPACE","\n            ",239],["T_CASE","case",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'decimal'",240],":",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$filterModelName",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'catalog\/layer_filter_decimal'",241],";",["T_WHITESPACE","\n                ",241],["T_BREAK","break",242],";",["T_WHITESPACE","\n            ",242],["T_CASE","case",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'category'",243],":",["T_WHITESPACE","\n                ",243],["T_VARIABLE","$filterModelName",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'catalog\/layer_filter_category'",244],";",["T_WHITESPACE","\n                ",244],["T_BREAK","break",245],";",["T_WHITESPACE","\n            ",245],["T_DEFAULT","default",246],":",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$filterModelName",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'catalog\/layer_filter_attribute'",247],";",["T_WHITESPACE","\n                ",247],["T_BREAK","break",248],";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n        ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_ARRAY","array",250],"(",["T_STRING","Mage",250],["T_DOUBLE_COLON","::",250],["T_STRING","getModel",250],"(",["T_VARIABLE","$filterModelName",250],")",",",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getLayout",250],"(",")",["T_OBJECT_OPERATOR","->",250],["T_STRING","createBlock",250],"(",["T_VARIABLE","$filterModelName",250],")",")",";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Export $this->_getUrl() function to public\n     *\n     * @param string $route\n     * @param array $params\n     * @return array\n     *\/",253],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","getUrl",260],"(",["T_VARIABLE","$route",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$params",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],"(",")",")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_getUrl",262],"(",["T_VARIABLE","$route",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$params",262],")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Retrieve device specific country options array\n     *\n     * @throws Mage_Core_Exception\n     * @param bool $isItunes deprecated after 1.6.0.0\n     * @return array\n     *\/",265],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","getCountryOptionsArray",272],"(",["T_VARIABLE","$isItunes",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","false",272],")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_STRING","Varien_Profiler",274],["T_DOUBLE_COLON","::",274],["T_STRING","start",274],"(",["T_CONSTANT_ENCAPSED_STRING","'TEST: '",274],["T_WHITESPACE"," ",274],".",["T_WHITESPACE"," ",274],["T_METHOD_C","__METHOD__",274],")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$deviceType",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getDeviceType",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$deviceCountries",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getDeviceHelper",276],"(",")",["T_OBJECT_OPERATOR","->",276],["T_STRING","getAllowedCountriesArray",276],"(",")",";",["T_WHITESPACE","\n        ",276],["T_SWITCH","switch",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$deviceType",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_CASE","case",278],["T_WHITESPACE"," ",278],["T_STRING","self",278],["T_DOUBLE_COLON","::",278],["T_STRING","DEVICE_TYPE_IPHONE",278],":",["T_WHITESPACE","\n            ",278],["T_CASE","case",279],["T_WHITESPACE"," ",279],["T_STRING","self",279],["T_DOUBLE_COLON","::",279],["T_STRING","DEVICE_TYPE_IPAD",279],":",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$cacheKey",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'XMLCONNECT_COUNTRY_ITUNES_SELECT_STORE_'",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_STRING","Mage",280],["T_DOUBLE_COLON","::",280],["T_STRING","app",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","getStore",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","getCode",280],"(",")",";",["T_WHITESPACE","\n                ",280],["T_BREAK","break",281],";",["T_WHITESPACE","\n            ",281],["T_CASE","case",282],["T_WHITESPACE"," ",282],["T_STRING","self",282],["T_DOUBLE_COLON","::",282],["T_STRING","DEVICE_TYPE_ANDROID",282],":",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$cacheKey",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'XMLCONNECT_COUNTRY_ANDROID_SELECT_STORE_'",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_STRING","Mage",283],["T_DOUBLE_COLON","::",283],["T_STRING","app",283],"(",")",["T_OBJECT_OPERATOR","->",283],["T_STRING","getStore",283],"(",")",["T_OBJECT_OPERATOR","->",283],["T_STRING","getCode",283],"(",")",";",["T_WHITESPACE","\n                ",283],["T_BREAK","break",284],";",["T_WHITESPACE","\n            ",284],["T_DEFAULT","default",285],":",["T_WHITESPACE","\n                ",285],["T_STRING","Mage",286],["T_DOUBLE_COLON","::",286],["T_STRING","throwException",286],"(",["T_WHITESPACE","\n                    ",286],["T_STRING","Mage",287],["T_DOUBLE_COLON","::",287],["T_STRING","helper",287],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",287],")",["T_OBJECT_OPERATOR","->",287],["T_STRING","__",287],"(",["T_CONSTANT_ENCAPSED_STRING","'Country options don\\'t recognized for \"%s\".'",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$deviceType",287],")",["T_WHITESPACE","\n                ",287],")",";",["T_WHITESPACE","\n                ",288],["T_BREAK","break",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n\n        ",290],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_STRING","Mage",292],["T_DOUBLE_COLON","::",292],["T_STRING","app",292],"(",")",["T_OBJECT_OPERATOR","->",292],["T_STRING","useCache",292],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",292],")",["T_WHITESPACE"," ",292],["T_BOOLEAN_AND","&&",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$cache",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","Mage",292],["T_DOUBLE_COLON","::",292],["T_STRING","app",292],"(",")",["T_OBJECT_OPERATOR","->",292],["T_STRING","loadCache",292],"(",["T_VARIABLE","$cacheKey",292],")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_VARIABLE","$options",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","unserialize",293],"(",["T_VARIABLE","$cache",293],")",";",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE"," ",294],["T_ELSE","else",294],["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_ISSET","isset",295],"(",["T_VARIABLE","$deviceCountries",295],")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$options",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","Mage",296],["T_DOUBLE_COLON","::",296],["T_STRING","getModel",296],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/country'",296],")",["T_OBJECT_OPERATOR","->",296],["T_STRING","getResourceCollection",296],"(",")",["T_WHITESPACE","\n                    ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","addFieldToFilter",297],"(",["T_CONSTANT_ENCAPSED_STRING","'country_id'",297],",",["T_WHITESPACE"," ",297],["T_ARRAY","array",297],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$deviceCountries",297],")",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","loadByStore",297],"(",")",["T_WHITESPACE","\n                    ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","toOptionArray",298],"(",["T_STRING","false",298],")",";",["T_WHITESPACE","\n            ",298],"}",["T_WHITESPACE","\n            ",299],["T_IF","if",300],["T_WHITESPACE"," ",300],"(",["T_STRING","Mage",300],["T_DOUBLE_COLON","::",300],["T_STRING","app",300],"(",")",["T_OBJECT_OPERATOR","->",300],["T_STRING","useCache",300],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",300],")",")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n                ",300],["T_STRING","Mage",301],["T_DOUBLE_COLON","::",301],["T_STRING","app",301],"(",")",["T_OBJECT_OPERATOR","->",301],["T_STRING","saveCache",301],"(",["T_STRING","serialize",301],"(",["T_VARIABLE","$options",301],")",",",["T_WHITESPACE"," ",301],["T_VARIABLE","$cacheKey",301],",",["T_WHITESPACE"," ",301],["T_ARRAY","array",301],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",301],")",")",";",["T_WHITESPACE","\n            ",301],"}",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE","\n        ",303],["T_STRING","Varien_Profiler",304],["T_DOUBLE_COLON","::",304],["T_STRING","stop",304],"(",["T_CONSTANT_ENCAPSED_STRING","'TEST: '",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_METHOD_C","__METHOD__",304],")",";",["T_WHITESPACE","\n\n        ",304],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_STRING","count",306],"(",["T_VARIABLE","$options",306],")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$options",307],"[","]",["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_ARRAY","array",307],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'NEW_COUNTRIES'",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'label'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'New Territories As Added'",307],")",";",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n\n        ",308],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$options",310],";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Get list of predefined and supported Devices\n     *\n     * @return array\n     *\/",313],["T_WHITESPACE","\n    ",317],["T_STATIC","static",318],["T_WHITESPACE"," ",318],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","getSupportedDevices",318],"(",")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$devices",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],["T_WHITESPACE"," ",320],"(",["T_WHITESPACE","\n            ",320],["T_STRING","self",321],["T_DOUBLE_COLON","::",321],["T_STRING","DEVICE_TYPE_IPAD",321],["T_WHITESPACE","      ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_STRING","Mage",321],["T_DOUBLE_COLON","::",321],["T_STRING","helper",321],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",321],")",["T_OBJECT_OPERATOR","->",321],["T_STRING","__",321],"(",["T_CONSTANT_ENCAPSED_STRING","'iPad'",321],")",",",["T_WHITESPACE","\n            ",321],["T_STRING","self",322],["T_DOUBLE_COLON","::",322],["T_STRING","DEVICE_TYPE_IPHONE",322],["T_WHITESPACE","    ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_STRING","Mage",322],["T_DOUBLE_COLON","::",322],["T_STRING","helper",322],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",322],")",["T_OBJECT_OPERATOR","->",322],["T_STRING","__",322],"(",["T_CONSTANT_ENCAPSED_STRING","'iPhone'",322],")",",",["T_WHITESPACE","\n            ",322],["T_STRING","self",323],["T_DOUBLE_COLON","::",323],["T_STRING","DEVICE_TYPE_ANDROID",323],["T_WHITESPACE","   ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_STRING","Mage",323],["T_DOUBLE_COLON","::",323],["T_STRING","helper",323],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",323],")",["T_OBJECT_OPERATOR","->",323],["T_STRING","__",323],"(",["T_CONSTANT_ENCAPSED_STRING","'Android'",323],")",["T_WHITESPACE","\n        ",323],")",";",["T_WHITESPACE","\n\n        ",324],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$devices",326],";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * Get list of predefined and supported Devices\n     *\n     * @return array\n     *\/",329],["T_WHITESPACE","\n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","getStatusOptions",334],"(",")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$options",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_ARRAY","array",336],["T_WHITESPACE"," ",336],"(",["T_WHITESPACE","\n            ",336],["T_STRING","Mage_XmlConnect_Model_Application",337],["T_DOUBLE_COLON","::",337],["T_STRING","APP_STATUS_SUCCESS",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_STRING","Mage",337],["T_DOUBLE_COLON","::",337],["T_STRING","helper",337],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","__",337],"(",["T_CONSTANT_ENCAPSED_STRING","'Submitted'",337],")",",",["T_WHITESPACE","\n            ",337],["T_STRING","Mage_XmlConnect_Model_Application",338],["T_DOUBLE_COLON","::",338],["T_STRING","APP_STATUS_INACTIVE",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_STRING","Mage",338],["T_DOUBLE_COLON","::",338],["T_STRING","helper",338],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",338],")",["T_OBJECT_OPERATOR","->",338],["T_STRING","__",338],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Submitted'",338],")",",",["T_WHITESPACE","\n        ",338],")",";",["T_WHITESPACE","\n        ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$options",340],";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * Retrieve supported device types as \"html select options\"\n     *\n     * @return array\n     *\/",343],["T_WHITESPACE","\n    ",347],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","getDeviceTypeOptions",348],"(",")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$devices",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","self",350],["T_DOUBLE_COLON","::",350],["T_STRING","getSupportedDevices",350],"(",")",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$options",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_ARRAY","array",351],"(",")",";",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$options",352],"[","]",["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_ARRAY","array",352],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","''",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'label'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_STRING","Mage",352],["T_DOUBLE_COLON","::",352],["T_STRING","helper",352],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",352],")",["T_OBJECT_OPERATOR","->",352],["T_STRING","__",352],"(",["T_CONSTANT_ENCAPSED_STRING","'Please Select Device Type'",352],")",")",";",["T_WHITESPACE","\n        ",352],["T_FOREACH","foreach",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$devices",353],["T_WHITESPACE"," ",353],["T_AS","as",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$type",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$label",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$options",354],"[","]",["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_ARRAY","array",354],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$type",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'label'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$label",354],")",";",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE","\n        ",355],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$options",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Get default application tabs\n     *\n     * @return array\n     *\/",359],["T_WHITESPACE","\n    ",363],["T_PUBLIC","public",364],["T_WHITESPACE"," ",364],["T_FUNCTION","function",364],["T_WHITESPACE"," ",364],["T_STRING","getDefaultApplicationDesignTabs",364],"(",")",["T_WHITESPACE","\n    ",364],"{",["T_WHITESPACE","\n        ",365],["T_RETURN","return",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getDeviceHelper",366],"(",")",["T_OBJECT_OPERATOR","->",366],["T_STRING","getDefaultDesignTabs",366],"(",")",";",["T_WHITESPACE","\n    ",366],"}",["T_WHITESPACE","\n\n    ",367],["T_DOC_COMMENT","\/**\n     * Get default Cache Lifetime\n     *\n     * @return int\n     *\/",369],["T_WHITESPACE","\n    ",373],["T_PUBLIC","public",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","getDefaultCacheLifetime",374],"(",")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_RETURN","return",376],["T_WHITESPACE"," ",376],["T_INT_CAST","(int)",376],["T_STRING","Mage",376],["T_DOUBLE_COLON","::",376],["T_STRING","getStoreConfig",376],"(",["T_WHITESPACE","\n            ",376],["T_STRING","Mage_XmlConnect_Model_Application",377],["T_DOUBLE_COLON","::",377],["T_STRING","XML_PATH_DEFAULT_CACHE_LIFETIME",377],["T_WHITESPACE","\n        ",377],")",";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Return array for tabs like label -> action array\n     *\n     * @return array\n     *\/",381],["T_WHITESPACE","\n    ",385],["T_PROTECTED","protected",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","_getTabLabelActionArray",386],"(",")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(","!",["T_ISSET","isset",388],"(",["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_tabLabelActionArray",388],")",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_tabLabelActionArray",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_ARRAY","array",389],"(",")",";",["T_WHITESPACE","\n            ",389],["T_FOREACH","foreach",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getDefaultApplicationDesignTabs",390],"(",")",["T_WHITESPACE"," ",390],["T_AS","as",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$tab",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n                ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_tabLabelActionArray",391],"[",["T_VARIABLE","$tab",391],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",391],"]","]",["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$tab",391],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",391],"]",";",["T_WHITESPACE","\n            ",391],"}",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n        ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_tabLabelActionArray",394],";",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n\n    ",395],["T_DOC_COMMENT","\/**\n     * Return Translated tab label for given $action\n     *\n     * @param string $action\n     * @return string|bool\n     *\/",397],["T_WHITESPACE","\n    ",402],["T_PUBLIC","public",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","getTabLabel",403],"(",["T_VARIABLE","$action",403],")",["T_WHITESPACE","\n    ",403],"{",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$action",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_STRING_CAST","(string)",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$action",405],";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$tabs",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_getTabLabelActionArray",406],"(",")",";",["T_WHITESPACE","\n        ",406],["T_RETURN","return",407],["T_WHITESPACE"," ",407],"(",["T_ISSET","isset",407],"(",["T_VARIABLE","$tabs",407],"[",["T_VARIABLE","$action",407],"]",")",")",["T_WHITESPACE"," ",407],"?",["T_WHITESPACE"," ",407],["T_VARIABLE","$tabs",407],"[",["T_VARIABLE","$action",407],"]",["T_WHITESPACE"," ",407],":",["T_WHITESPACE"," ",407],["T_STRING","false",407],";",["T_WHITESPACE","\n    ",407],"}",["T_WHITESPACE","\n\n    ",408],["T_DOC_COMMENT","\/**\n     * Merges $changes array to $target array recursive, overwriting existing key, and adding new one\n     *\n     * @param mixed $target\n     * @param mixed $changes\n     * @return array\n     *\/",410],["T_WHITESPACE","\n    ",416],["T_STATIC","static",417],["T_WHITESPACE"," ",417],["T_PUBLIC","public",417],["T_WHITESPACE"," ",417],["T_FUNCTION","function",417],["T_WHITESPACE"," ",417],["T_STRING","arrayMergeRecursive",417],"(",["T_VARIABLE","$target",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$changes",417],")",["T_WHITESPACE","\n    ",417],"{",["T_WHITESPACE","\n        ",418],["T_IF","if",419],["T_WHITESPACE"," ",419],"(","!",["T_STRING","is_array",419],"(",["T_VARIABLE","$target",419],")",")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n            ",419],["T_VARIABLE","$target",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_EMPTY","empty",420],"(",["T_VARIABLE","$target",420],")",["T_WHITESPACE"," ",420],"?",["T_WHITESPACE"," ",420],["T_ARRAY","array",420],"(",")",["T_WHITESPACE"," ",420],":",["T_WHITESPACE"," ",420],["T_ARRAY","array",420],"(",["T_VARIABLE","$target",420],")",";",["T_WHITESPACE","\n        ",420],"}",["T_WHITESPACE","\n        ",421],["T_IF","if",422],["T_WHITESPACE"," ",422],"(","!",["T_STRING","is_array",422],"(",["T_VARIABLE","$changes",422],")",")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n            ",422],["T_VARIABLE","$changes",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_ARRAY","array",423],"(",["T_VARIABLE","$changes",423],")",";",["T_WHITESPACE","\n        ",423],"}",["T_WHITESPACE","\n        ",424],["T_FOREACH","foreach",425],["T_WHITESPACE"," ",425],"(",["T_VARIABLE","$changes",425],["T_WHITESPACE"," ",425],["T_AS","as",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$key",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$value",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(","!",["T_STRING","array_key_exists",426],"(",["T_VARIABLE","$key",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$target",426],")",["T_WHITESPACE"," ",426],["T_LOGICAL_AND","and",426],["T_WHITESPACE"," ",426],"!",["T_STRING","is_numeric",426],"(",["T_VARIABLE","$key",426],")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                ",426],["T_VARIABLE","$target",427],"[",["T_VARIABLE","$key",427],"]",["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$changes",427],"[",["T_VARIABLE","$key",427],"]",";",["T_WHITESPACE","\n                ",427],["T_CONTINUE","continue",428],";",["T_WHITESPACE","\n            ",428],"}",["T_WHITESPACE","\n            ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_STRING","is_array",430],"(",["T_VARIABLE","$value",430],")",["T_WHITESPACE"," ",430],["T_LOGICAL_OR","or",430],["T_WHITESPACE"," ",430],["T_STRING","is_array",430],"(",["T_VARIABLE","$target",430],"[",["T_VARIABLE","$key",430],"]",")",")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n                ",430],["T_VARIABLE","$target",431],"[",["T_VARIABLE","$key",431],"]",["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","self",431],["T_DOUBLE_COLON","::",431],["T_STRING","arrayMergeRecursive",431],"(",["T_VARIABLE","$target",431],"[",["T_VARIABLE","$key",431],"]",",",["T_WHITESPACE"," ",431],["T_VARIABLE","$changes",431],"[",["T_VARIABLE","$key",431],"]",")",";",["T_WHITESPACE","\n            ",431],"}",["T_WHITESPACE"," ",432],["T_ELSE","else",432],["T_WHITESPACE"," ",432],["T_IF","if",432],["T_WHITESPACE"," ",432],"(",["T_STRING","is_numeric",432],"(",["T_VARIABLE","$key",432],")",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n                ",432],["T_IF","if",433],["T_WHITESPACE"," ",433],"(","!",["T_STRING","in_array",433],"(",["T_VARIABLE","$value",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$target",433],")",")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n                    ",433],["T_VARIABLE","$target",434],"[","]",["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$value",434],";",["T_WHITESPACE","\n                ",434],"}",["T_WHITESPACE","\n            ",435],"}",["T_WHITESPACE"," ",436],["T_ELSE","else",436],["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n                ",436],["T_VARIABLE","$target",437],"[",["T_VARIABLE","$key",437],"]",["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$value",437],";",["T_WHITESPACE","\n            ",437],"}",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n\n        ",439],["T_RETURN","return",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$target",441],";",["T_WHITESPACE","\n    ",441],"}",["T_WHITESPACE","\n\n    ",442],["T_DOC_COMMENT","\/**\n     * Wrap $body with HTML4 headers\n     *\n     * @param string $body\n     * @return string\n     *\/",444],["T_WHITESPACE","\n    ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","htmlize",450],"(",["T_VARIABLE","$body",450],")",["T_WHITESPACE","\n    ",450],"{",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$w3cUrl",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-strict.dtd'",452],";",["T_WHITESPACE","\n        ",452],["T_RETURN","return",453],["T_WHITESPACE"," ",453],["T_START_HEREDOC","<<<EOT\n",453],["T_ENCAPSED_AND_WHITESPACE","&lt;!DOCTYPE html PUBLIC &quot;-\/\/W3C\/\/DTD XHTML 1.0 Strict\/\/EN&quot; &quot;",454],["T_VARIABLE","$w3cUrl",454],["T_ENCAPSED_AND_WHITESPACE","&quot;&gt;\n&lt;html xmlns=&quot;http:\/\/www.w3.org\/1999\/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;\n&lt;head&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text\/css&quot; href=&quot;style.css&quot; media=&quot;screen&quot;\/&gt;\n&lt;\/head&gt;\n&lt;body&gt;",454],["T_VARIABLE","$body",459],["T_ENCAPSED_AND_WHITESPACE","&lt;\/body&gt;&lt;\/html&gt;\n",459],["T_END_HEREDOC","EOT",460],";",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n\n    ",461],["T_DOC_COMMENT","\/**\n     * Return select options for xml from array\n     *\n     * @param array $dataArray source array\n     * @param string $selected selected item\n     * @return string\n     *\/",463],["T_WHITESPACE","\n    ",469],["T_PUBLIC","public",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","getArrayAsXmlItemValues",470],"(",["T_VARIABLE","$dataArray",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$selected",470],")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_VARIABLE","$items",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_ARRAY","array",472],"(",")",";",["T_WHITESPACE","\n        ",472],["T_FOREACH","foreach",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$dataArray",473],["T_WHITESPACE"," ",473],["T_AS","as",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$k",473],["T_WHITESPACE"," ",473],["T_DOUBLE_ARROW","=>",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$v",473],")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n            ",473],["T_IF","if",474],["T_WHITESPACE"," ",474],"(","!",["T_VARIABLE","$k",474],")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n                ",474],["T_CONTINUE","continue",475],";",["T_WHITESPACE","\n            ",475],"}",["T_WHITESPACE","\n            ",476],["T_VARIABLE","$items",477],"[","]",["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'\n            <item'",477],["T_WHITESPACE"," ",478],".",["T_WHITESPACE"," ",478],"(",["T_VARIABLE","$k",478],["T_WHITESPACE"," ",478],["T_IS_EQUAL","==",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$selected",478],["T_WHITESPACE"," ",478],"?",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","' selected=\"1\"'",478],["T_WHITESPACE"," ",478],":",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","''",478],")",["T_WHITESPACE"," ",478],".",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'>\n                <label>'",478],["T_WHITESPACE"," ",479],".",["T_WHITESPACE"," ",479],["T_VARIABLE","$v",479],["T_WHITESPACE"," ",479],".",["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'<\/label>\n                <value>'",479],["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],"(",["T_VARIABLE","$k",480],["T_WHITESPACE"," ",480],"?",["T_WHITESPACE"," ",480],["T_VARIABLE","$k",480],["T_WHITESPACE"," ",480],":",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","''",480],")",["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'<\/value>\n            <\/item>'",480],";",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n        ",482],["T_VARIABLE","$result",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_STRING","implode",483],"(",["T_STRING","PHP_EOL",483],",",["T_WHITESPACE"," ",483],["T_VARIABLE","$items",483],")",";",["T_WHITESPACE","\n        ",483],["T_RETURN","return",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$result",484],";",["T_WHITESPACE","\n    ",484],"}",["T_WHITESPACE","\n\n    ",485],["T_DOC_COMMENT","\/**\n     * Return Solo Xml optional fieldset\n     *\n     * @param string $ssCcMonths\n     * @param string $ssCcYears\n     * @return string\n     *\/",487],["T_WHITESPACE","\n    ",493],["T_PUBLIC","public",494],["T_WHITESPACE"," ",494],["T_FUNCTION","function",494],["T_WHITESPACE"," ",494],["T_STRING","getSoloXml",494],"(",["T_VARIABLE","$ssCcMonths",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$ssCcYears",494],")",["T_WHITESPACE","\n    ",494],"{",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$validatorMessage",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","__",496],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter issue number or start date for switch\/solo card type.'",496],")",";",["T_WHITESPACE","\n        ",496],["T_COMMENT","\/\/ issue number ==== validate-cc-ukss cvv\n",497],["T_WHITESPACE","        ",498],["T_VARIABLE","$solo",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_START_HEREDOC","<<<EOT\n",498],["T_ENCAPSED_AND_WHITESPACE","<fieldset_optional>\n    <depend_on name=\"payment[cc_type]\">\n        <show_value>\n            <item>SS<\/item>\n            <item>SM<\/item>\n            <item>SO<\/item>\n        <\/show_value>\n    <\/depend_on>\n\n    <field name=\"payment[cc_ss_issue]\" type=\"text\" label=\"",499],["T_CURLY_OPEN","{",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","__",508],"(",["T_CONSTANT_ENCAPSED_STRING","'Issue Number'",508],")","}",["T_ENCAPSED_AND_WHITESPACE","\">\n        <validators>\n            <validator relation=\"payment[cc_type]\" type=\"credit_card_ukss\" message=\"",508],["T_CURLY_OPEN","{",510],["T_VARIABLE","$validatorMessage",510],"}",["T_ENCAPSED_AND_WHITESPACE","\"\/>\n        <\/validators>\n    <\/field>;\n    <field name=\"payment[cc_ss_start_month]\" type=\"select\" label=\"",510],["T_CURLY_OPEN","{",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","__",513],"(",["T_CONSTANT_ENCAPSED_STRING","'Start Date - Month'",513],")","}",["T_ENCAPSED_AND_WHITESPACE","\">\n        <values>\n            ",513],["T_VARIABLE","$ssCcMonths",515],["T_ENCAPSED_AND_WHITESPACE","\n        <\/values>\n    <\/field>\n    <field name=\"payment[cc_ss_start_year]\" type=\"select\" label=\"",515],["T_CURLY_OPEN","{",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","__",518],"(",["T_CONSTANT_ENCAPSED_STRING","'Start Date - Year'",518],")","}",["T_ENCAPSED_AND_WHITESPACE","\">\n        <values>\n            ",518],["T_VARIABLE","$ssCcYears",520],["T_ENCAPSED_AND_WHITESPACE","\n        <\/values>\n    <\/field>\n<\/fieldset_optional>\n",520],["T_END_HEREDOC","EOT",524],";",["T_WHITESPACE","\n        ",524],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$solo",525],";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n\n    ",526],["T_DOC_COMMENT","\/**\n     * Format price for correct view inside xml strings\n     *\n     * @param float $price\n     * @return string\n     *\/",528],["T_WHITESPACE","\n    ",533],["T_PUBLIC","public",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","formatPriceForXml",534],"(",["T_VARIABLE","$price",534],")",["T_WHITESPACE","\n    ",534],"{",["T_WHITESPACE","\n        ",535],["T_RETURN","return",536],["T_WHITESPACE"," ",536],["T_STRING","sprintf",536],"(",["T_CONSTANT_ENCAPSED_STRING","'%01.2F'",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$price",536],")",";",["T_WHITESPACE","\n    ",536],"}",["T_WHITESPACE","\n\n    ",537],["T_DOC_COMMENT","\/**\n     * Get list of predefined and supported message types\n     *\n     * @return array\n     *\/",539],["T_WHITESPACE","\n    ",543],["T_STATIC","static",544],["T_WHITESPACE"," ",544],["T_PUBLIC","public",544],["T_WHITESPACE"," ",544],["T_FUNCTION","function",544],["T_WHITESPACE"," ",544],["T_STRING","getSupportedMessageTypes",544],"(",")",["T_WHITESPACE","\n    ",544],"{",["T_WHITESPACE","\n        ",545],["T_VARIABLE","$messages",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_ARRAY","array",546],["T_WHITESPACE"," ",546],"(",["T_WHITESPACE","\n            ",546],["T_STRING","Mage_XmlConnect_Model_Queue",547],["T_DOUBLE_COLON","::",547],["T_STRING","MESSAGE_TYPE_PUSH",547],["T_WHITESPACE","      ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_STRING","Mage",547],["T_DOUBLE_COLON","::",547],["T_STRING","helper",547],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",547],")",["T_OBJECT_OPERATOR","->",547],["T_STRING","__",547],"(",["T_CONSTANT_ENCAPSED_STRING","'Push message'",547],")",",",["T_WHITESPACE","\n            ",547],["T_STRING","Mage_XmlConnect_Model_Queue",548],["T_DOUBLE_COLON","::",548],["T_STRING","MESSAGE_TYPE_AIRMAIL",548],["T_WHITESPACE","   ",548],["T_DOUBLE_ARROW","=>",548],["T_WHITESPACE"," ",548],["T_STRING","Mage",548],["T_DOUBLE_COLON","::",548],["T_STRING","helper",548],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",548],")",["T_OBJECT_OPERATOR","->",548],["T_STRING","__",548],"(",["T_CONSTANT_ENCAPSED_STRING","'AirMail message'",548],")",",",["T_WHITESPACE","\n        ",548],")",";",["T_WHITESPACE","\n\n        ",549],["T_RETURN","return",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$messages",551],";",["T_WHITESPACE","\n    ",551],"}",["T_WHITESPACE","\n\n    ",552],["T_DOC_COMMENT","\/**\n     * Retrieve supported message types as \"html select options\"\n     *\n     * @return array\n     *\/",554],["T_WHITESPACE","\n    ",558],["T_PUBLIC","public",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","getMessageTypeOptions",559],"(",")",["T_WHITESPACE","\n    ",559],"{",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$options",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_ARRAY","array",561],"(",")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$messages",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_STRING","self",562],["T_DOUBLE_COLON","::",562],["T_STRING","getSupportedMessageTypes",562],"(",")",";",["T_WHITESPACE","\n        ",562],["T_FOREACH","foreach",563],["T_WHITESPACE"," ",563],"(",["T_VARIABLE","$messages",563],["T_WHITESPACE"," ",563],["T_AS","as",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$type",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$label",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n            ",563],["T_VARIABLE","$options",564],"[","]",["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_ARRAY","array",564],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",564],["T_WHITESPACE"," ",564],["T_DOUBLE_ARROW","=>",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$type",564],",",["T_WHITESPACE"," ",564],["T_CONSTANT_ENCAPSED_STRING","'label'",564],["T_WHITESPACE"," ",564],["T_DOUBLE_ARROW","=>",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$label",564],")",";",["T_WHITESPACE","\n        ",564],"}",["T_WHITESPACE","\n        ",565],["T_RETURN","return",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$options",566],";",["T_WHITESPACE","\n    ",566],"}",["T_WHITESPACE","\n\n    ",567],["T_DOC_COMMENT","\/**\n     * Get push title length\n     *\n     * @return int\n     *\/",569],["T_WHITESPACE","\n    ",573],["T_PUBLIC","public",574],["T_WHITESPACE"," ",574],["T_FUNCTION","function",574],["T_WHITESPACE"," ",574],["T_STRING","getPushTitleLength",574],"(",")",["T_WHITESPACE","\n    ",574],"{",["T_WHITESPACE","\n        ",575],["T_RETURN","return",576],["T_WHITESPACE"," ",576],["T_STRING","self",576],["T_DOUBLE_COLON","::",576],["T_STRING","PUSH_TITLE_LENGTH",576],";",["T_WHITESPACE","\n    ",576],"}",["T_WHITESPACE","\n\n    ",577],["T_DOC_COMMENT","\/**\n     * Get message title length\n     *\n     * @return int\n     *\/",579],["T_WHITESPACE","\n    ",583],["T_PUBLIC","public",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","getMessageTitleLength",584],"(",")",["T_WHITESPACE","\n    ",584],"{",["T_WHITESPACE","\n        ",585],["T_RETURN","return",586],["T_WHITESPACE"," ",586],["T_STRING","self",586],["T_DOUBLE_COLON","::",586],["T_STRING","MESSAGE_TITLE_LENGTH",586],";",["T_WHITESPACE","\n    ",586],"}",["T_WHITESPACE","\n\n    ",587],["T_DOC_COMMENT","\/**\n     * Retrieve applications as \"html select options\"\n     *\n     * @return array\n     *\/",589],["T_WHITESPACE","\n    ",593],["T_PUBLIC","public",594],["T_WHITESPACE"," ",594],["T_FUNCTION","function",594],["T_WHITESPACE"," ",594],["T_STRING","getApplicationOptions",594],"(",")",["T_WHITESPACE","\n    ",594],"{",["T_WHITESPACE","\n        ",595],["T_VARIABLE","$options",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_ARRAY","array",596],"(",")",";",["T_WHITESPACE","\n        ",596],["T_DOC_COMMENT","\/** @var $app Mage_XmlConnect_Model_Application *\/",597],["T_WHITESPACE","\n        ",597],["T_FOREACH","foreach",598],["T_WHITESPACE"," ",598],"(",["T_STRING","Mage",598],["T_DOUBLE_COLON","::",598],["T_STRING","getModel",598],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/application'",598],")",["T_OBJECT_OPERATOR","->",598],["T_STRING","getCollection",598],"(",")",["T_WHITESPACE"," ",598],["T_AS","as",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$app",598],")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n            ",598],["T_VARIABLE","$options",599],"[","]",["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_ARRAY","array",599],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",599],["T_WHITESPACE"," ",599],["T_DOUBLE_ARROW","=>",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$app",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","getId",599],"(",")",",",["T_WHITESPACE"," ",599],["T_CONSTANT_ENCAPSED_STRING","'label'",599],["T_WHITESPACE"," ",599],["T_DOUBLE_ARROW","=>",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$app",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","getName",599],"(",")",")",";",["T_WHITESPACE","\n        ",599],"}",["T_WHITESPACE","\n        ",600],["T_IF","if",601],["T_WHITESPACE"," ",601],"(",["T_STRING","count",601],"(",["T_VARIABLE","$options",601],")",["T_WHITESPACE"," ",601],">",["T_WHITESPACE"," ",601],["T_LNUMBER","1",601],")",["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n            ",601],["T_STRING","array_unshift",602],"(",["T_VARIABLE","$options",602],",",["T_WHITESPACE"," ",602],["T_ARRAY","array",602],"(",["T_WHITESPACE","\n                ",602],["T_CONSTANT_ENCAPSED_STRING","'value'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","''",603],",",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","'label'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_STRING","Mage",603],["T_DOUBLE_COLON","::",603],["T_STRING","helper",603],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",603],")",["T_OBJECT_OPERATOR","->",603],["T_STRING","__",603],"(",["T_CONSTANT_ENCAPSED_STRING","'Please Select Application'",603],")",["T_WHITESPACE","\n            ",603],")",")",";",["T_WHITESPACE","\n        ",604],"}",["T_WHITESPACE","\n        ",605],["T_RETURN","return",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$options",606],";",["T_WHITESPACE","\n    ",606],"}",["T_WHITESPACE","\n\n    ",607],["T_DOC_COMMENT","\/**\n     * Get applications array like `code` as `name`\n     *\n     * @static array $apps\n     * @return array\n     *\/",609],["T_WHITESPACE","\n    ",614],["T_PUBLIC","public",615],["T_WHITESPACE"," ",615],["T_FUNCTION","function",615],["T_WHITESPACE"," ",615],["T_STRING","getApplications",615],"(",")",["T_WHITESPACE","\n    ",615],"{",["T_WHITESPACE","\n        ",616],["T_STATIC","static",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$apps",617],["T_WHITESPACE"," ",617],"=",["T_WHITESPACE"," ",617],["T_ARRAY","array",617],"(",")",";",["T_WHITESPACE","\n\n        ",617],["T_IF","if",619],["T_WHITESPACE"," ",619],"(",["T_EMPTY","empty",619],"(",["T_VARIABLE","$apps",619],")",")",["T_WHITESPACE"," ",619],"{",["T_WHITESPACE","\n            ",619],["T_FOREACH","foreach",620],["T_WHITESPACE"," ",620],"(",["T_STRING","Mage",620],["T_DOUBLE_COLON","::",620],["T_STRING","getModel",620],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/application'",620],")",["T_OBJECT_OPERATOR","->",620],["T_STRING","getCollection",620],"(",")",["T_WHITESPACE"," ",620],["T_AS","as",620],["T_WHITESPACE"," ",620],["T_VARIABLE","$app",620],")",["T_WHITESPACE"," ",620],"{",["T_WHITESPACE","\n                ",620],["T_VARIABLE","$apps",621],"[",["T_VARIABLE","$app",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","getCode",621],"(",")","]",["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_VARIABLE","$app",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","getName",621],"(",")",";",["T_WHITESPACE","\n            ",621],"}",["T_WHITESPACE","\n        ",622],"}",["T_WHITESPACE","\n        ",623],["T_RETURN","return",624],["T_WHITESPACE"," ",624],["T_VARIABLE","$apps",624],";",["T_WHITESPACE","\n    ",624],"}",["T_WHITESPACE","\n\n    ",625],["T_DOC_COMMENT","\/**\n     * Check if creating AirMail template for the application is allowed\n     *\n     * @param Mage_XmlConnect_Model_Application $application\n     * @deprecated after 1.6.0.0\n     * @return boolean\n     *\/",627],["T_WHITESPACE","\n    ",633],["T_PUBLIC","public",634],["T_WHITESPACE"," ",634],["T_STATIC","static",634],["T_WHITESPACE"," ",634],["T_FUNCTION","function",634],["T_WHITESPACE"," ",634],["T_STRING","isTemplateAllowedForApplication",634],"(",["T_VARIABLE","$application",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_STRING","null",634],")",["T_WHITESPACE","\n    ",634],"{",["T_WHITESPACE","\n        ",635],["T_RETURN","return",636],["T_WHITESPACE"," ",636],["T_STRING","true",636],";",["T_WHITESPACE","\n    ",636],"}",["T_WHITESPACE","\n\n    ",637],["T_DOC_COMMENT","\/**\n     * Send broadcast message\n     *\n     * @throws Mage_Core_Exception\n     * @param Mage_XmlConnect_Model_Queue $queue\n     *\/",639],["T_WHITESPACE","\n    ",644],["T_PUBLIC","public",645],["T_WHITESPACE"," ",645],["T_FUNCTION","function",645],["T_WHITESPACE"," ",645],["T_STRING","sendBroadcastMessage",645],"(",["T_STRING","Mage_XmlConnect_Model_Queue",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$queue",645],")",["T_WHITESPACE","\n    ",645],"{",["T_WHITESPACE","\n        ",646],["T_IF","if",647],["T_WHITESPACE"," ",647],"(",["T_VARIABLE","$queue",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","getStatus",647],"(",")",["T_WHITESPACE"," ",647],["T_IS_NOT_EQUAL","!=",647],["T_WHITESPACE"," ",647],["T_STRING","Mage_XmlConnect_Model_Queue",647],["T_DOUBLE_COLON","::",647],["T_STRING","STATUS_IN_QUEUE",647],")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n            ",647],["T_RETURN","return",648],";",["T_WHITESPACE","\n        ",648],"}",["T_WHITESPACE","\n\n        ",649],["T_TRY","try",651],["T_WHITESPACE"," ",651],"{",["T_WHITESPACE","\n            ",651],["T_DOC_COMMENT","\/** @var $app Mage_XmlConnect_Model_Application *\/",652],["T_WHITESPACE","\n            ",652],["T_VARIABLE","$templateModel",653],["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],["T_STRING","Mage",653],["T_DOUBLE_COLON","::",653],["T_STRING","getModel",653],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/template'",653],")",["T_OBJECT_OPERATOR","->",653],["T_STRING","load",653],"(",["T_VARIABLE","$queue",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","getTemplateId",653],"(",")",")",";",["T_WHITESPACE","\n            ",653],["T_IF","if",654],["T_WHITESPACE"," ",654],"(","!",["T_VARIABLE","$templateModel",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","getId",654],"(",")",")",["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n                ",654],["T_STRING","Mage",655],["T_DOUBLE_COLON","::",655],["T_STRING","throwException",655],"(",["T_WHITESPACE","\n                    ",655],["T_STRING","Mage",656],["T_DOUBLE_COLON","::",656],["T_STRING","helper",656],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",656],")",["T_OBJECT_OPERATOR","->",656],["T_STRING","__",656],"(",["T_CONSTANT_ENCAPSED_STRING","'Can\\'t load template with id \"%s\"'",656],",",["T_WHITESPACE"," ",656],["T_VARIABLE","$templateModel",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","getId",656],"(",")",")",["T_WHITESPACE","\n                ",656],")",";",["T_WHITESPACE","\n            ",657],"}",["T_WHITESPACE","\n            ",658],["T_VARIABLE","$app",659],["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_STRING","Mage",659],["T_DOUBLE_COLON","::",659],["T_STRING","getModel",659],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/application'",659],")",["T_OBJECT_OPERATOR","->",659],["T_STRING","load",659],"(",["T_VARIABLE","$templateModel",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","getApplicationId",659],"(",")",")",";",["T_WHITESPACE","\n            ",659],["T_IF","if",660],["T_WHITESPACE"," ",660],"(","!",["T_VARIABLE","$app",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getId",660],"(",")",")",["T_WHITESPACE"," ",660],"{",["T_WHITESPACE","\n                ",660],["T_STRING","Mage",661],["T_DOUBLE_COLON","::",661],["T_STRING","throwException",661],"(",["T_WHITESPACE","\n                    ",661],["T_STRING","Mage",662],["T_DOUBLE_COLON","::",662],["T_STRING","helper",662],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",662],")",["T_OBJECT_OPERATOR","->",662],["T_STRING","__",662],"(",["T_CONSTANT_ENCAPSED_STRING","'Can\\'t load application with id \"%s\"'",662],",",["T_WHITESPACE"," ",662],["T_VARIABLE","$templateModel",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","getApplicationId",662],"(",")",")",["T_WHITESPACE","\n                ",662],")",";",["T_WHITESPACE","\n            ",663],"}",["T_WHITESPACE","\n\n            ",664],["T_IF","if",666],["T_WHITESPACE"," ",666],"(","!",["T_VARIABLE","$app",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","isNotificationsActive",666],"(",")",")",["T_WHITESPACE"," ",666],"{",["T_WHITESPACE","\n                ",666],["T_VARIABLE","$queue",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","setStatus",667],"(",["T_STRING","Mage_XmlConnect_Model_Queue",667],["T_DOUBLE_COLON","::",667],["T_STRING","STATUS_CANCELED",667],")",";",["T_WHITESPACE","\n                ",667],["T_RETURN","return",668],";",["T_WHITESPACE","\n            ",668],"}",["T_WHITESPACE","\n\n            ",669],["T_VARIABLE","$sendType",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_VARIABLE","$queue",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","getData",671],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",671],")",";",["T_WHITESPACE","\n\n            ",671],["T_SWITCH","switch",673],["T_WHITESPACE"," ",673],"(",["T_VARIABLE","$sendType",673],")",["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n                ",673],["T_CASE","case",674],["T_WHITESPACE"," ",674],["T_STRING","Mage_XmlConnect_Model_Queue",674],["T_DOUBLE_COLON","::",674],["T_STRING","MESSAGE_TYPE_AIRMAIL",674],":",["T_WHITESPACE","\n                    ",674],["T_VARIABLE","$configPath",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/'",675],["T_WHITESPACE"," ",675],".",["T_WHITESPACE"," ",675],["T_STRING","Mage_XmlConnect_Model_Queue",675],["T_DOUBLE_COLON","::",675],["T_STRING","MESSAGE_TYPE_AIRMAIL",675],["T_WHITESPACE"," ",675],".",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'\/broadcast_url'",675],";",["T_WHITESPACE","\n                    ",675],["T_VARIABLE","$params",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_VARIABLE","$queue",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","getAirmailBroadcastParams",676],"(",")",";",["T_WHITESPACE","\n                    ",676],["T_BREAK","break",677],";",["T_WHITESPACE","\n\n                ",677],["T_CASE","case",679],["T_WHITESPACE"," ",679],["T_STRING","Mage_XmlConnect_Model_Queue",679],["T_DOUBLE_COLON","::",679],["T_STRING","MESSAGE_TYPE_PUSH",679],":",["T_WHITESPACE","\n                ",679],["T_DEFAULT","default",680],":",["T_WHITESPACE","\n                    ",680],["T_VARIABLE","$configPath",681],["T_WHITESPACE"," ",681],"=",["T_WHITESPACE"," ",681],["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/'",681],["T_WHITESPACE"," ",681],".",["T_WHITESPACE"," ",681],["T_STRING","Mage_XmlConnect_Model_Queue",681],["T_DOUBLE_COLON","::",681],["T_STRING","MESSAGE_TYPE_PUSH",681],["T_WHITESPACE"," ",681],".",["T_WHITESPACE"," ",681],["T_CONSTANT_ENCAPSED_STRING","'\/broadcast_url'",681],";",["T_WHITESPACE","\n                    ",681],["T_VARIABLE","$params",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_VARIABLE","$queue",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","getPushBroadcastParams",682],"(",")",";",["T_WHITESPACE","\n                    ",682],["T_BREAK","break",683],";",["T_WHITESPACE","\n            ",683],"}",["T_WHITESPACE","\n\n            ",684],["T_VARIABLE","$curlHandler",686],["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_STRING","curl_init",686],"(",["T_STRING","Mage",686],["T_DOUBLE_COLON","::",686],["T_STRING","getStoreConfig",686],"(",["T_VARIABLE","$configPath",686],")",")",";",["T_WHITESPACE","\n\n            ",686],["T_VARIABLE","$httpHeaders",688],["T_WHITESPACE"," ",688],"=",["T_WHITESPACE"," ",688],["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","getHttpHeaders",688],"(",")",";",["T_WHITESPACE","\n\n            ",688],["T_STRING","curl_setopt",690],"(",["T_VARIABLE","$curlHandler",690],",",["T_WHITESPACE"," ",690],["T_STRING","CURLOPT_POST",690],",",["T_WHITESPACE"," ",690],["T_LNUMBER","1",690],")",";",["T_WHITESPACE","\n            ",690],["T_STRING","curl_setopt",691],"(",["T_VARIABLE","$curlHandler",691],",",["T_WHITESPACE"," ",691],["T_STRING","CURLOPT_HTTPHEADER",691],",",["T_WHITESPACE"," ",691],["T_VARIABLE","$httpHeaders",691],")",";",["T_WHITESPACE","\n            ",691],["T_STRING","curl_setopt",692],"(",["T_VARIABLE","$curlHandler",692],",",["T_WHITESPACE"," ",692],["T_STRING","CURLOPT_POSTFIELDS",692],",",["T_WHITESPACE"," ",692],["T_VARIABLE","$params",692],")",";",["T_WHITESPACE","\n            ",692],["T_STRING","curl_setopt",693],"(",["T_VARIABLE","$curlHandler",693],",",["T_WHITESPACE"," ",693],["T_STRING","CURLOPT_RETURNTRANSFER",693],",",["T_WHITESPACE"," ",693],["T_LNUMBER","1",693],")",";",["T_WHITESPACE","\n            ",693],["T_STRING","curl_setopt",694],"(",["T_VARIABLE","$curlHandler",694],",",["T_WHITESPACE"," ",694],["T_STRING","CURLOPT_USERPWD",694],",",["T_WHITESPACE"," ",694],["T_VARIABLE","$app",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","getUserpwd",694],"(",")",")",";",["T_WHITESPACE","\n            ",694],["T_STRING","curl_setopt",695],"(",["T_VARIABLE","$curlHandler",695],",",["T_WHITESPACE"," ",695],["T_STRING","CURLOPT_TIMEOUT",695],",",["T_WHITESPACE"," ",695],["T_LNUMBER","60",695],")",";",["T_WHITESPACE","\n\n            ",695],["T_COMMENT","\/\/ Execute the request.\n",697],["T_WHITESPACE","            ",698],["T_VARIABLE","$result",698],["T_WHITESPACE"," ",698],"=",["T_WHITESPACE"," ",698],["T_STRING","curl_exec",698],"(",["T_VARIABLE","$curlHandler",698],")",";",["T_WHITESPACE","\n            ",698],["T_VARIABLE","$succeeded",699],["T_WHITESPACE","  ",699],"=",["T_WHITESPACE"," ",699],["T_STRING","curl_errno",699],"(",["T_VARIABLE","$curlHandler",699],")",["T_WHITESPACE"," ",699],["T_IS_EQUAL","==",699],["T_WHITESPACE"," ",699],["T_LNUMBER","0",699],";",["T_WHITESPACE","\n            ",699],["T_VARIABLE","$responseCode",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_STRING","curl_getinfo",700],"(",["T_VARIABLE","$curlHandler",700],",",["T_WHITESPACE"," ",700],["T_STRING","CURLINFO_HTTP_CODE",700],")",";",["T_WHITESPACE","\n            ",700],["T_COMMENT","\/\/ close cURL resource, and free up system resources\n",701],["T_WHITESPACE","            ",702],["T_STRING","curl_close",702],"(",["T_VARIABLE","$curlHandler",702],")",";",["T_WHITESPACE","\n\n            ",702],["T_IF","if",704],["T_WHITESPACE"," ",704],"(",["T_VARIABLE","$succeeded",704],["T_WHITESPACE"," ",704],["T_BOOLEAN_AND","&&",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$responseCode",704],["T_WHITESPACE"," ",704],["T_IS_EQUAL","==",704],["T_WHITESPACE"," ",704],["T_LNUMBER","200",704],")",["T_WHITESPACE"," ",704],"{",["T_WHITESPACE","\n                ",704],["T_VARIABLE","$queue",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","setStatus",705],"(",["T_STRING","Mage_XmlConnect_Model_Queue",705],["T_DOUBLE_COLON","::",705],["T_STRING","STATUS_COMPLETED",705],")",";",["T_WHITESPACE","\n            ",705],"}",["T_WHITESPACE"," ",706],["T_ELSE","else",706],["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n                ",706],["T_STRING","Mage",707],["T_DOUBLE_COLON","::",707],["T_STRING","log",707],"(",["T_VARIABLE","$result",707],")",";",["T_WHITESPACE","\n                ",707],["T_VARIABLE","$queue",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","setStatus",708],"(",["T_STRING","Mage_XmlConnect_Model_Queue",708],["T_DOUBLE_COLON","::",708],["T_STRING","STATUS_CANCELED",708],")",";",["T_WHITESPACE","\n            ",708],"}",["T_WHITESPACE","\n            ",709],["T_VARIABLE","$queue",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","setIsSent",710],"(",["T_STRING","true",710],")",";",["T_WHITESPACE","\n            ",710],["T_VARIABLE","$queue",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","save",711],"(",")",";",["T_WHITESPACE","\n            ",711],["T_RETURN","return",712],";",["T_WHITESPACE","\n        ",712],"}",["T_WHITESPACE"," ",713],["T_CATCH","catch",713],["T_WHITESPACE"," ",713],"(",["T_STRING","Exception",713],["T_WHITESPACE"," ",713],["T_VARIABLE","$e",713],")",["T_WHITESPACE"," ",713],"{",["T_WHITESPACE","\n            ",713],["T_STRING","Mage",714],["T_DOUBLE_COLON","::",714],["T_STRING","logException",714],"(",["T_VARIABLE","$e",714],")",";",["T_WHITESPACE","\n            ",714],["T_THROW","throw",715],["T_WHITESPACE"," ",715],["T_VARIABLE","$e",715],";",["T_WHITESPACE","\n        ",715],"}",["T_WHITESPACE","\n    ",716],"}",["T_WHITESPACE","\n\n    ",717],["T_DOC_COMMENT","\/**\n     * Get headers for broadcast message\n     *\n     * @return array\n     *\/",719],["T_WHITESPACE","\n    ",723],["T_PUBLIC","public",724],["T_WHITESPACE"," ",724],["T_FUNCTION","function",724],["T_WHITESPACE"," ",724],["T_STRING","getHttpHeaders",724],"(",")",["T_WHITESPACE","\n    ",724],"{",["T_WHITESPACE","\n        ",725],["T_RETURN","return",726],["T_WHITESPACE"," ",726],["T_ARRAY","array",726],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/json'",726],")",";",["T_WHITESPACE","\n    ",726],"}",["T_WHITESPACE","\n\n    ",727],["T_DOC_COMMENT","\/**\n     * Remove from array the unnecessary parameters by given keys\n     *\n     * @param array $data Source array\n     * @param array $excludedKeys Keys to be excluded from array. Keys must be in xPath notation\n     * @return array\n     *\/",729],["T_WHITESPACE","\n    ",735],["T_PUBLIC","public",736],["T_WHITESPACE"," ",736],["T_FUNCTION","function",736],["T_WHITESPACE"," ",736],["T_STRING","excludeXmlConfigKeys",736],"(",["T_VARIABLE","$data",736],",",["T_WHITESPACE"," ",736],["T_VARIABLE","$excludedKeys",736],["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_ARRAY","array",736],"(",")",")",["T_WHITESPACE","\n    ",736],"{",["T_WHITESPACE","\n        ",737],["T_VARIABLE","$excludedKeys",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","getExcludedXmlConfigKeys",738],"(",")",";",["T_WHITESPACE","\n        ",738],["T_IF","if",739],["T_WHITESPACE"," ",739],"(","!",["T_EMPTY","empty",739],"(",["T_VARIABLE","$excludedKeys",739],")",")",["T_WHITESPACE"," ",739],"{",["T_WHITESPACE","\n            ",739],["T_FOREACH","foreach",740],["T_WHITESPACE"," ",740],"(",["T_VARIABLE","$excludedKeys",740],["T_WHITESPACE"," ",740],["T_AS","as",740],["T_WHITESPACE"," ",740],["T_VARIABLE","$keyToExclude",740],")",["T_WHITESPACE"," ",740],"{",["T_WHITESPACE","\n                ",740],["T_IF","if",741],["T_WHITESPACE"," ",741],"(",["T_STRING","strpos",741],"(",["T_VARIABLE","$keyToExclude",741],",",["T_WHITESPACE"," ",741],["T_CONSTANT_ENCAPSED_STRING","'\/'",741],")",")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n                    ",741],["T_VARIABLE","$keys",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_ARRAY","array",742],"(",")",";",["T_WHITESPACE","\n                    ",742],["T_FOREACH","foreach",743],["T_WHITESPACE"," ",743],"(",["T_STRING","explode",743],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",743],",",["T_WHITESPACE"," ",743],["T_VARIABLE","$keyToExclude",743],")",["T_WHITESPACE"," ",743],["T_AS","as",743],["T_WHITESPACE"," ",743],["T_VARIABLE","$key",743],")",["T_WHITESPACE"," ",743],"{",["T_WHITESPACE","\n                        ",743],["T_VARIABLE","$key",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_STRING","trim",744],"(",["T_VARIABLE","$key",744],")",";",["T_WHITESPACE","\n                        ",744],["T_IF","if",745],["T_WHITESPACE"," ",745],"(","!",["T_EMPTY","empty",745],"(",["T_VARIABLE","$key",745],")",")",["T_WHITESPACE"," ",745],"{",["T_WHITESPACE","\n                            ",745],["T_VARIABLE","$keys",746],"[","]",["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_VARIABLE","$key",746],";",["T_WHITESPACE","\n                        ",746],"}",["T_WHITESPACE","\n                    ",747],"}",["T_WHITESPACE","\n                    ",748],["T_IF","if",749],["T_WHITESPACE"," ",749],"(","!",["T_EMPTY","empty",749],"(",["T_VARIABLE","$keys",749],")",")",["T_WHITESPACE"," ",749],"{",["T_WHITESPACE","\n                        ",749],["T_VARIABLE","$keys",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'$data[\"'",750],["T_WHITESPACE"," ",750],".",["T_WHITESPACE"," ",750],["T_STRING","implode",750],"(",["T_CONSTANT_ENCAPSED_STRING","'\"][\"'",750],",",["T_WHITESPACE"," ",750],["T_VARIABLE","$keys",750],")",["T_WHITESPACE"," ",750],".",["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'\"]'",750],";",["T_WHITESPACE","\n                        ",750],["T_EVAL","eval",751],"(",["T_CONSTANT_ENCAPSED_STRING","'if (isset('",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE"," ",751],["T_VARIABLE","$keys",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","')) unset('",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE"," ",751],["T_VARIABLE","$keys",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","');'",751],")",";",["T_WHITESPACE","\n                    ",751],"}",["T_WHITESPACE","\n                ",752],"}",["T_WHITESPACE"," ",753],["T_ELSEIF","elseif",753],["T_WHITESPACE"," ",753],"(","!",["T_EMPTY","empty",753],"(",["T_VARIABLE","$keyToExclude",753],")",["T_WHITESPACE"," ",753],["T_BOOLEAN_AND","&&",753],["T_WHITESPACE"," ",753],["T_ISSET","isset",753],"(",["T_VARIABLE","$data",753],"[",["T_VARIABLE","$keyToExclude",753],"]",")",")",["T_WHITESPACE"," ",753],"{",["T_WHITESPACE","\n                    ",753],["T_UNSET","unset",754],"(",["T_VARIABLE","$data",754],"[",["T_VARIABLE","$keyToExclude",754],"]",")",";",["T_WHITESPACE","\n                ",754],"}",["T_WHITESPACE","\n            ",755],"}",["T_WHITESPACE","\n        ",756],"}",["T_WHITESPACE","\n        ",757],["T_RETURN","return",758],["T_WHITESPACE"," ",758],["T_VARIABLE","$data",758],";",["T_WHITESPACE","\n    ",758],"}",["T_WHITESPACE","\n\n    ",759],["T_DOC_COMMENT","\/**\n     * Get excluded keys as array\n     *\n     * @return array\n     *\/",761],["T_WHITESPACE","\n    ",765],["T_PUBLIC","public",766],["T_WHITESPACE"," ",766],["T_FUNCTION","function",766],["T_WHITESPACE"," ",766],["T_STRING","getExcludedXmlConfigKeys",766],"(",")",["T_WHITESPACE","\n    ",766],"{",["T_WHITESPACE","\n        ",767],["T_VARIABLE","$toExclude",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_STRING","Mage",768],["T_DOUBLE_COLON","::",768],["T_STRING","getStoreConfig",768],"(",["T_STRING","self",768],["T_DOUBLE_COLON","::",768],["T_STRING","XML_NODE_CONFIG_EXCLUDE_FROM_XML",768],")",";",["T_WHITESPACE","\n        ",768],["T_VARIABLE","$nodes",769],["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_ARRAY","array",769],"(",")",";",["T_WHITESPACE","\n        ",769],["T_FOREACH","foreach",770],["T_WHITESPACE"," ",770],"(",["T_VARIABLE","$toExclude",770],["T_WHITESPACE"," ",770],["T_AS","as",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$value",770],")",["T_WHITESPACE"," ",770],"{",["T_WHITESPACE","\n            ",770],["T_VARIABLE","$nodes",771],"[","]",["T_WHITESPACE"," ",771],"=",["T_WHITESPACE"," ",771],["T_STRING","trim",771],"(",["T_VARIABLE","$value",771],",",["T_WHITESPACE"," ",771],["T_CONSTANT_ENCAPSED_STRING","'\/'",771],")",";",["T_WHITESPACE","\n        ",771],"}",["T_WHITESPACE","\n\n        ",772],["T_RETURN","return",774],["T_WHITESPACE"," ",774],["T_VARIABLE","$nodes",774],";",["T_WHITESPACE","\n    ",774],"}",["T_WHITESPACE","\n\n    ",775],["T_DOC_COMMENT","\/**\n     * Returns Application name by it's code\n     * @param string $appCode\n     * @return string\n     *\/",777],["T_WHITESPACE","\n    ",781],["T_PUBLIC","public",782],["T_WHITESPACE"," ",782],["T_FUNCTION","function",782],["T_WHITESPACE"," ",782],["T_STRING","getApplicationName",782],"(",["T_VARIABLE","$appCode",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],["T_STRING","null",782],")",["T_WHITESPACE","\n    ",782],"{",["T_WHITESPACE","\n        ",783],["T_IF","if",784],["T_WHITESPACE"," ",784],"(",["T_EMPTY","empty",784],"(",["T_VARIABLE","$appCode",784],")",")",["T_WHITESPACE"," ",784],"{",["T_WHITESPACE","\n            ",784],["T_RETURN","return",785],["T_WHITESPACE"," ",785],["T_CONSTANT_ENCAPSED_STRING","''",785],";",["T_WHITESPACE","\n        ",785],"}",["T_WHITESPACE","\n        ",786],["T_IF","if",787],["T_WHITESPACE"," ",787],"(","!",["T_ISSET","isset",787],"(",["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","_appNames",787],"[",["T_VARIABLE","$appCode",787],"]",")",")",["T_WHITESPACE"," ",787],"{",["T_WHITESPACE","\n            ",787],["T_VARIABLE","$app",788],["T_WHITESPACE"," ",788],"=",["T_WHITESPACE"," ",788],["T_STRING","Mage",788],["T_DOUBLE_COLON","::",788],["T_STRING","getModel",788],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/application'",788],")",["T_OBJECT_OPERATOR","->",788],["T_STRING","loadByCode",788],"(",["T_VARIABLE","$appCode",788],")",";",["T_WHITESPACE","\n            ",788],["T_IF","if",789],["T_WHITESPACE"," ",789],"(",["T_VARIABLE","$app",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","getId",789],"(",")",")",["T_WHITESPACE"," ",789],"{",["T_WHITESPACE","\n                ",789],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","_appNames",790],"[",["T_VARIABLE","$appCode",790],"]",["T_WHITESPACE"," ",790],"=",["T_WHITESPACE"," ",790],["T_VARIABLE","$app",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","getName",790],"(",")",";",["T_WHITESPACE","\n            ",790],"}",["T_WHITESPACE"," ",791],["T_ELSE","else",791],["T_WHITESPACE"," ",791],"{",["T_WHITESPACE","\n                ",791],["T_RETURN","return",792],["T_WHITESPACE"," ",792],["T_CONSTANT_ENCAPSED_STRING","''",792],";",["T_WHITESPACE","\n            ",792],"}",["T_WHITESPACE","\n        ",793],"}",["T_WHITESPACE","\n        ",794],["T_RETURN","return",795],["T_WHITESPACE"," ",795],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","_appNames",795],"[",["T_VARIABLE","$appCode",795],"]",";",["T_WHITESPACE","\n    ",795],"}",["T_WHITESPACE","\n\n    ",796],["T_DOC_COMMENT","\/**\n     * Returns Application name by it's code\n     * @param string $templateId\n     * @return string\n     *\/",798],["T_WHITESPACE","\n    ",802],["T_PUBLIC","public",803],["T_WHITESPACE"," ",803],["T_FUNCTION","function",803],["T_WHITESPACE"," ",803],["T_STRING","getTemplateName",803],"(",["T_VARIABLE","$templateId",803],["T_WHITESPACE"," ",803],"=",["T_WHITESPACE"," ",803],["T_STRING","null",803],")",["T_WHITESPACE","\n    ",803],"{",["T_WHITESPACE","\n        ",804],["T_IF","if",805],["T_WHITESPACE"," ",805],"(",["T_EMPTY","empty",805],"(",["T_VARIABLE","$templateId",805],")",")",["T_WHITESPACE"," ",805],"{",["T_WHITESPACE","\n            ",805],["T_RETURN","return",806],["T_WHITESPACE"," ",806],["T_CONSTANT_ENCAPSED_STRING","''",806],";",["T_WHITESPACE","\n        ",806],"}",["T_WHITESPACE","\n        ",807],["T_IF","if",808],["T_WHITESPACE"," ",808],"(","!",["T_ISSET","isset",808],"(",["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","_tplNames",808],"[",["T_VARIABLE","$templateId",808],"]",")",")",["T_WHITESPACE"," ",808],"{",["T_WHITESPACE","\n            ",808],["T_VARIABLE","$template",809],["T_WHITESPACE"," ",809],"=",["T_WHITESPACE"," ",809],["T_STRING","Mage",809],["T_DOUBLE_COLON","::",809],["T_STRING","getModel",809],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/template'",809],")",["T_OBJECT_OPERATOR","->",809],["T_STRING","load",809],"(",["T_VARIABLE","$templateId",809],")",";",["T_WHITESPACE","\n            ",809],["T_IF","if",810],["T_WHITESPACE"," ",810],"(",["T_VARIABLE","$template",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","getId",810],"(",")",")",["T_WHITESPACE"," ",810],"{",["T_WHITESPACE","\n                ",810],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","_tplNames",811],"[",["T_VARIABLE","$templateId",811],"]",["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$template",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","getName",811],"(",")",";",["T_WHITESPACE","\n            ",811],"}",["T_WHITESPACE"," ",812],["T_ELSE","else",812],["T_WHITESPACE"," ",812],"{",["T_WHITESPACE","\n                ",812],["T_RETURN","return",813],["T_WHITESPACE"," ",813],["T_CONSTANT_ENCAPSED_STRING","''",813],";",["T_WHITESPACE","\n            ",813],"}",["T_WHITESPACE","\n        ",814],"}",["T_WHITESPACE","\n        ",815],["T_RETURN","return",816],["T_WHITESPACE"," ",816],["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","_tplNames",816],"[",["T_VARIABLE","$templateId",816],"]",";",["T_WHITESPACE","\n    ",816],"}",["T_WHITESPACE","\n\n    ",817],["T_DOC_COMMENT","\/**\n     * Set value into multidimensional array 'conf\/native\/navigationBar\/icon'\n     *\n     * @param array &$target pointer to target array\n     * @param string $fieldPath 'conf\/native\/navigationBar\/icon'\n     * @param mixed $fieldValue 'Some Value' || 12345 || array(1=>3, 'aa'=>43)\n     * @param string $delimiter path delimiter\n     * @return null\n     *\/",819],["T_WHITESPACE","\n    ",827],["T_PUBLIC","public",828],["T_WHITESPACE"," ",828],["T_FUNCTION","function",828],["T_WHITESPACE"," ",828],["T_STRING","_injectFieldToArray",828],"(","&",["T_VARIABLE","$target",828],",",["T_WHITESPACE"," ",828],["T_VARIABLE","$fieldPath",828],",",["T_WHITESPACE"," ",828],["T_VARIABLE","$fieldValue",828],",",["T_WHITESPACE"," ",828],["T_VARIABLE","$delimiter",828],["T_WHITESPACE"," ",828],"=",["T_WHITESPACE"," ",828],["T_CONSTANT_ENCAPSED_STRING","'\/'",828],")",["T_WHITESPACE","\n    ",828],"{",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$nameParts",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_STRING","explode",830],"(",["T_VARIABLE","$delimiter",830],",",["T_WHITESPACE"," ",830],["T_VARIABLE","$fieldPath",830],")",";",["T_WHITESPACE","\n        ",830],["T_FOREACH","foreach",831],["T_WHITESPACE"," ",831],"(",["T_VARIABLE","$nameParts",831],["T_WHITESPACE"," ",831],["T_AS","as",831],["T_WHITESPACE"," ",831],["T_VARIABLE","$next",831],")",["T_WHITESPACE"," ",831],"{",["T_WHITESPACE","\n            ",831],["T_IF","if",832],["T_WHITESPACE"," ",832],"(","!",["T_ISSET","isset",832],"(",["T_VARIABLE","$target",832],"[",["T_VARIABLE","$next",832],"]",")",")",["T_WHITESPACE"," ",832],"{",["T_WHITESPACE","\n                ",832],["T_VARIABLE","$target",833],"[",["T_VARIABLE","$next",833],"]",["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_ARRAY","array",833],"(",")",";",["T_WHITESPACE","\n            ",833],"}",["T_WHITESPACE","\n            ",834],["T_VARIABLE","$target",835],["T_WHITESPACE"," ",835],"=","&",["T_WHITESPACE"," ",835],["T_VARIABLE","$target",835],"[",["T_VARIABLE","$next",835],"]",";",["T_WHITESPACE","\n        ",835],"}",["T_WHITESPACE","\n        ",836],["T_VARIABLE","$target",837],["T_WHITESPACE"," ",837],"=",["T_WHITESPACE"," ",837],["T_VARIABLE","$fieldValue",837],";",["T_WHITESPACE","\n        ",837],["T_RETURN","return",838],["T_WHITESPACE"," ",838],["T_STRING","null",838],";",["T_WHITESPACE","\n    ",838],"}",["T_WHITESPACE","\n\n    ",839],["T_DOC_COMMENT","\/**\n     * Convert Url link to file path for images\n     *\n     * @deprecated will remove in new release\n     * @param string $icon\n     * @return string\n     *\/",841],["T_WHITESPACE","\n    ",847],["T_PUBLIC","public",848],["T_WHITESPACE"," ",848],["T_FUNCTION","function",848],["T_WHITESPACE"," ",848],["T_STRING","urlToPath",848],"(",["T_VARIABLE","$icon",848],")",["T_WHITESPACE","\n    ",848],"{",["T_WHITESPACE","\n        ",849],["T_VARIABLE","$baseUrl",850],["T_WHITESPACE"," ",850],"=",["T_WHITESPACE"," ",850],["T_STRING","Mage",850],["T_DOUBLE_COLON","::",850],["T_STRING","getBaseUrl",850],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",850],")",";",["T_WHITESPACE","\n        ",850],["T_VARIABLE","$path",851],["T_WHITESPACE"," ",851],"=",["T_WHITESPACE"," ",851],["T_STRING","str_replace",851],"(",["T_VARIABLE","$baseUrl",851],",",["T_WHITESPACE"," ",851],["T_CONSTANT_ENCAPSED_STRING","''",851],",",["T_WHITESPACE"," ",851],["T_VARIABLE","$icon",851],")",";",["T_WHITESPACE","\n        ",851],["T_VARIABLE","$filePath",852],["T_WHITESPACE"," ",852],"=",["T_WHITESPACE"," ",852],["T_STRING","Mage",852],["T_DOUBLE_COLON","::",852],["T_STRING","getBaseDir",852],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",852],")",["T_WHITESPACE"," ",852],".",["T_WHITESPACE"," ",852],["T_STRING","DS",852],["T_WHITESPACE"," ",852],".",["T_WHITESPACE"," ",852],["T_STRING","str_replace",852],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",852],",",["T_WHITESPACE"," ",852],["T_STRING","DS",852],",",["T_WHITESPACE"," ",852],["T_VARIABLE","$path",852],")",";",["T_WHITESPACE","\n        ",852],["T_RETURN","return",853],["T_WHITESPACE"," ",853],["T_VARIABLE","$filePath",853],";",["T_WHITESPACE","\n\n    ",853],"}",["T_WHITESPACE","\n\n    ",855],["T_DOC_COMMENT","\/**\n     * Validate config body field is not empty\n     *\n     * @param string $field\n     * @param array $native\n     * @return bool\n     *\/",857],["T_WHITESPACE","\n    ",863],["T_PUBLIC","public",864],["T_WHITESPACE"," ",864],["T_FUNCTION","function",864],["T_WHITESPACE"," ",864],["T_STRING","validateConfFieldNotEmpty",864],"(",["T_VARIABLE","$field",864],",",["T_WHITESPACE"," ",864],["T_VARIABLE","$native",864],")",["T_WHITESPACE","\n    ",864],"{",["T_WHITESPACE","\n        ",865],["T_IF","if",866],["T_WHITESPACE"," ",866],"(","(",["T_VARIABLE","$native",866],["T_WHITESPACE"," ",866],["T_IS_IDENTICAL","===",866],["T_WHITESPACE"," ",866],["T_STRING","false",866],")",["T_WHITESPACE"," ",866],["T_BOOLEAN_OR","||",866],["T_WHITESPACE"," ",866],"(","!",["T_ISSET","isset",866],"(",["T_VARIABLE","$native",866],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",866],"]",")",["T_WHITESPACE"," ",866],["T_BOOLEAN_OR","||",866],["T_WHITESPACE"," ",866],"!",["T_STRING","is_array",866],"(",["T_VARIABLE","$native",866],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",866],"]",")",["T_WHITESPACE","\n            ",866],["T_BOOLEAN_OR","||",867],["T_WHITESPACE"," ",867],"!",["T_ISSET","isset",867],"(",["T_VARIABLE","$native",867],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",867],"]","[",["T_VARIABLE","$field",867],"]",")",["T_WHITESPACE"," ",867],["T_BOOLEAN_OR","||",867],["T_WHITESPACE"," ",867],"!",["T_STRING","Zend_Validate",867],["T_DOUBLE_COLON","::",867],["T_STRING","is",867],"(",["T_VARIABLE","$native",867],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",867],"]","[",["T_VARIABLE","$field",867],"]",",",["T_WHITESPACE"," ",867],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",867],")",")",["T_WHITESPACE","\n        ",867],")",["T_WHITESPACE"," ",868],"{",["T_WHITESPACE","\n            ",868],["T_RETURN","return",869],["T_WHITESPACE"," ",869],["T_STRING","false",869],";",["T_WHITESPACE","\n        ",869],"}",["T_WHITESPACE","\n        ",870],["T_RETURN","return",871],["T_WHITESPACE"," ",871],["T_STRING","true",871],";",["T_WHITESPACE","\n    ",871],"}",["T_WHITESPACE","\n\n    ",872],["T_DOC_COMMENT","\/**\n     * Check the notifications are allowed for current type of application\n     *\n     * @param Mage_XmlConnect_Model_Application $application\n     * @return bool\n     *\/",874],["T_WHITESPACE","\n    ",879],["T_PUBLIC","public",880],["T_WHITESPACE"," ",880],["T_FUNCTION","function",880],["T_WHITESPACE"," ",880],["T_STRING","isNotificationsAllowed",880],"(",["T_VARIABLE","$application",880],["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_STRING","null",880],")",["T_WHITESPACE","\n    ",880],"{",["T_WHITESPACE","\n        ",881],["T_RETURN","return",882],["T_WHITESPACE"," ",882],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","getDeviceHelper",882],"(",["T_VARIABLE","$application",882],")",["T_OBJECT_OPERATOR","->",882],["T_STRING","isNotificationsAllowed",882],"(",")",";",["T_WHITESPACE","\n    ",882],"}",["T_WHITESPACE","\n\n    ",883],["T_DOC_COMMENT","\/**\n     * Get front url for action\n     *\n     * @param string $action\n     * @param array $params\n     * @return string url\n     *\/",885],["T_WHITESPACE","\n    ",891],["T_PUBLIC","public",892],["T_WHITESPACE"," ",892],["T_FUNCTION","function",892],["T_WHITESPACE"," ",892],["T_STRING","getActionUrl",892],"(",["T_VARIABLE","$action",892],",",["T_WHITESPACE"," ",892],["T_VARIABLE","$params",892],["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_ARRAY","array",892],"(",")",")",["T_WHITESPACE","\n    ",892],"{",["T_WHITESPACE","\n        ",893],["T_VARIABLE","$defaultParams",894],["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_ARRAY","array",894],"(",["T_WHITESPACE","\n            ",894],["T_CONSTANT_ENCAPSED_STRING","'_store'",895],["T_WHITESPACE"," ",895],["T_DOUBLE_ARROW","=>",895],["T_WHITESPACE"," ",895],["T_VARIABLE","$this",895],["T_OBJECT_OPERATOR","->",895],["T_STRING","getApplication",895],"(",")",["T_OBJECT_OPERATOR","->",895],["T_STRING","getStoreId",895],"(",")",",",["T_WHITESPACE","\n            ",895],["T_CONSTANT_ENCAPSED_STRING","'_nosid'",896],["T_WHITESPACE"," ",896],["T_DOUBLE_ARROW","=>",896],["T_WHITESPACE"," ",896],["T_STRING","true",896],",",["T_WHITESPACE","\n            ",896],["T_CONSTANT_ENCAPSED_STRING","'_secure'",897],["T_WHITESPACE"," ",897],["T_DOUBLE_ARROW","=>",897],["T_WHITESPACE"," ",897],["T_VARIABLE","$this",897],["T_OBJECT_OPERATOR","->",897],["T_STRING","getApplication",897],"(",")",["T_OBJECT_OPERATOR","->",897],["T_STRING","getUseSecureURLInFrontend",897],"(",")",["T_WHITESPACE","\n        ",897],")",";",["T_WHITESPACE","\n        ",898],["T_VARIABLE","$params",899],["T_WHITESPACE"," ",899],"=",["T_WHITESPACE"," ",899],["T_STRING","array_merge",899],"(",["T_VARIABLE","$defaultParams",899],",",["T_WHITESPACE"," ",899],["T_VARIABLE","$params",899],")",";",["T_WHITESPACE","\n        ",899],["T_RETURN","return",900],["T_WHITESPACE"," ",900],["T_STRING","Mage",900],["T_DOUBLE_COLON","::",900],["T_STRING","getUrl",900],"(",["T_VARIABLE","$action",900],",",["T_WHITESPACE"," ",900],["T_VARIABLE","$params",900],")",";",["T_WHITESPACE","\n    ",900],"}",["T_WHITESPACE","\n\n    ",901],["T_DOC_COMMENT","\/**\n     * Remove trilling line breaks\n     *\n     * @param string $string\n     * @return string\n     *\/",903],["T_WHITESPACE","\n    ",908],["T_PUBLIC","public",909],["T_WHITESPACE"," ",909],["T_FUNCTION","function",909],["T_WHITESPACE"," ",909],["T_STRING","trimLineBreaks",909],"(",["T_VARIABLE","$string",909],")",["T_WHITESPACE","\n    ",909],"{",["T_WHITESPACE","\n        ",910],["T_RETURN","return",911],["T_WHITESPACE"," ",911],["T_STRING","preg_replace",911],"(",["T_ARRAY","array",911],"(",["T_CONSTANT_ENCAPSED_STRING","'@\\r@'",911],",",["T_WHITESPACE"," ",911],["T_CONSTANT_ENCAPSED_STRING","'@\\n+@'",911],")",",",["T_WHITESPACE"," ",911],["T_ARRAY","array",911],"(",["T_CONSTANT_ENCAPSED_STRING","''",911],",",["T_WHITESPACE"," ",911],["T_STRING","PHP_EOL",911],")",",",["T_WHITESPACE"," ",911],["T_VARIABLE","$string",911],")",";",["T_WHITESPACE","\n    ",911],"}",["T_WHITESPACE","\n\n    ",912],["T_DOC_COMMENT","\/**\n     * Add item to total node\n     *\n     * @param Mage_XmlConnect_Model_Simplexml_Element $xmlObj\n     * @param string $code\n     * @param string $label\n     * @param float $value\n     * @param string $formattedValue\n     * @return Mage_XmlConnect_Helper_Data\n     *\/",914],["T_WHITESPACE","\n    ",923],["T_PUBLIC","public",924],["T_WHITESPACE"," ",924],["T_FUNCTION","function",924],["T_WHITESPACE"," ",924],["T_STRING","addTotalItemToXmlObj",924],"(",["T_VARIABLE","$xmlObj",924],",",["T_WHITESPACE"," ",924],["T_VARIABLE","$code",924],",",["T_WHITESPACE"," ",924],["T_VARIABLE","$label",924],",",["T_WHITESPACE"," ",924],["T_VARIABLE","$value",924],",",["T_WHITESPACE"," ",924],["T_VARIABLE","$formattedValue",924],")",["T_WHITESPACE","\n    ",924],"{",["T_WHITESPACE","\n        ",925],["T_VARIABLE","$xmlObj",926],["T_OBJECT_OPERATOR","->",926],["T_STRING","addCustomChild",926],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",926],",",["T_WHITESPACE"," ",926],["T_STRING","Mage",926],["T_DOUBLE_COLON","::",926],["T_STRING","helper",926],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",926],")",["T_OBJECT_OPERATOR","->",926],["T_STRING","formatPriceForXml",926],"(",["T_VARIABLE","$value",926],")",",",["T_WHITESPACE"," ",926],["T_ARRAY","array",926],"(",["T_WHITESPACE","\n            ",926],["T_CONSTANT_ENCAPSED_STRING","'id'",927],["T_WHITESPACE"," ",927],["T_DOUBLE_ARROW","=>",927],["T_WHITESPACE"," ",927],["T_VARIABLE","$code",927],",",["T_WHITESPACE","\n            ",927],["T_CONSTANT_ENCAPSED_STRING","'label'",928],["T_WHITESPACE"," ",928],["T_DOUBLE_ARROW","=>",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$label",928],",",["T_WHITESPACE","\n            ",928],["T_CONSTANT_ENCAPSED_STRING","'formatted_value'",929],["T_WHITESPACE"," ",929],["T_DOUBLE_ARROW","=>",929],["T_WHITESPACE"," ",929],["T_VARIABLE","$formattedValue",929],["T_WHITESPACE","\n        ",929],")",")",";",["T_WHITESPACE","\n        ",930],["T_RETURN","return",931],["T_WHITESPACE"," ",931],["T_VARIABLE","$this",931],";",["T_WHITESPACE","\n    ",931],"}",["T_WHITESPACE","\n\n    ",932],["T_DOC_COMMENT","\/**\n     * Check if current api version equal to device api version\n     *\n     * @param string $apiVersion\n     * @param string $operator\n     * @return bool\n     *\/",934],["T_WHITESPACE","\n    ",940],["T_PUBLIC","public",941],["T_WHITESPACE"," ",941],["T_FUNCTION","function",941],["T_WHITESPACE"," ",941],["T_STRING","checkApiVersion",941],"(",["T_VARIABLE","$apiVersion",941],",",["T_WHITESPACE"," ",941],["T_VARIABLE","$operator",941],["T_WHITESPACE"," ",941],"=",["T_WHITESPACE"," ",941],["T_CONSTANT_ENCAPSED_STRING","'>='",941],")",["T_WHITESPACE","\n    ",941],"{",["T_WHITESPACE","\n        ",942],["T_IF","if",943],["T_WHITESPACE"," ",943],"(",["T_STRING","version_compare",943],"(",["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","getApiVersion",943],"(",")",",",["T_WHITESPACE"," ",943],["T_VARIABLE","$apiVersion",943],",",["T_WHITESPACE"," ",943],["T_VARIABLE","$operator",943],")",["T_WHITESPACE"," ",943],["T_IS_IDENTICAL","===",943],["T_WHITESPACE"," ",943],["T_STRING","true",943],")",["T_WHITESPACE"," ",943],"{",["T_WHITESPACE","\n            ",943],["T_RETURN","return",944],["T_WHITESPACE"," ",944],["T_STRING","true",944],";",["T_WHITESPACE","\n        ",944],"}",["T_WHITESPACE","\n        ",945],["T_RETURN","return",946],["T_WHITESPACE"," ",946],["T_STRING","false",946],";",["T_WHITESPACE","\n    ",946],"}",["T_WHITESPACE","\n\n    ",947],["T_DOC_COMMENT","\/**\n     * Get api version param\n     *\n     * @return string\n     *\/",949],["T_WHITESPACE","\n    ",953],["T_PUBLIC","public",954],["T_WHITESPACE"," ",954],["T_FUNCTION","function",954],["T_WHITESPACE"," ",954],["T_STRING","getApiVersion",954],"(",")",["T_WHITESPACE","\n    ",954],"{",["T_WHITESPACE","\n        ",955],["T_RETURN","return",956],["T_WHITESPACE"," ",956],["T_STRING","Mage",956],["T_DOUBLE_COLON","::",956],["T_STRING","app",956],"(",")",["T_OBJECT_OPERATOR","->",956],["T_STRING","getRequest",956],"(",")",["T_OBJECT_OPERATOR","->",956],["T_STRING","getParam",956],"(",["T_STRING","self",956],["T_DOUBLE_COLON","::",956],["T_STRING","API_VERSION_REQUEST_PARAM",956],",",["T_WHITESPACE"," ",956],["T_STRING","false",956],")",";",["T_WHITESPACE","\n    ",956],"}",["T_WHITESPACE","\n\n    ",957],["T_DOC_COMMENT","\/**\n     * Check is localization has been changed\n     *\n     * @return bool\n     *\/",959],["T_WHITESPACE","\n    ",963],["T_PUBLIC","public",964],["T_WHITESPACE"," ",964],["T_FUNCTION","function",964],["T_WHITESPACE"," ",964],["T_STRING","isChangeLocalization",964],"(",")",["T_WHITESPACE","\n    ",964],"{",["T_WHITESPACE","\n        ",965],["T_DOC_COMMENT","\/** @var $translateHelper Mage_XmlConnect_Helper_Translate *\/",966],["T_WHITESPACE","\n        ",966],["T_VARIABLE","$translateHelper",967],["T_WHITESPACE"," ",967],"=",["T_WHITESPACE"," ",967],["T_STRING","Mage",967],["T_DOUBLE_COLON","::",967],["T_STRING","helper",967],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/translate'",967],")",";",["T_WHITESPACE","\n        ",967],["T_VARIABLE","$localizationHash",968],["T_WHITESPACE"," ",968],"=",["T_WHITESPACE"," ",968],["T_VARIABLE","$translateHelper",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","getHash",968],"(",")",";",["T_WHITESPACE","\n\n        ",968],["T_DOC_COMMENT","\/** @var $configuration Mage_XmlConnect_Model_Configuration *\/",970],["T_WHITESPACE","\n        ",970],["T_VARIABLE","$configuration",971],["T_WHITESPACE"," ",971],"=",["T_WHITESPACE"," ",971],["T_STRING","Mage",971],["T_DOUBLE_COLON","::",971],["T_STRING","getSingleton",971],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/configuration'",971],")",";",["T_WHITESPACE","\n        ",971],["T_IF","if",972],["T_WHITESPACE"," ",972],"(",["T_VARIABLE","$configuration",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","getPreviousLocalizationHash",972],"(",")",["T_WHITESPACE"," ",972],["T_IS_NOT_IDENTICAL","!==",972],["T_WHITESPACE"," ",972],["T_VARIABLE","$localizationHash",972],")",["T_WHITESPACE"," ",972],"{",["T_WHITESPACE","\n            ",972],["T_VARIABLE","$configuration",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","setPreviousLocalizationHash",973],"(",["T_VARIABLE","$localizationHash",973],")",";",["T_WHITESPACE","\n            ",973],["T_VARIABLE","$configuration",974],["T_OBJECT_OPERATOR","->",974],["T_STRING","getApplicationModel",974],"(",")",["T_OBJECT_OPERATOR","->",974],["T_STRING","updateAllAppsUpdatedAtParameter",974],"(",")",";",["T_WHITESPACE","\n            ",974],["T_RETURN","return",975],["T_WHITESPACE"," ",975],["T_STRING","true",975],";",["T_WHITESPACE","\n        ",975],"}",["T_WHITESPACE","\n        ",976],["T_RETURN","return",977],["T_WHITESPACE"," ",977],["T_STRING","false",977],";",["T_WHITESPACE","\n    ",977],"}",["T_WHITESPACE","\n",978],"}",["T_WHITESPACE","\n",979]]