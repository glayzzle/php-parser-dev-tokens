[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Theme helper\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Helper_Theme",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Helper_Data",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Color Themes Cache\n     *\n     * @param array|null\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_themeArray",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","null",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Return for Color Themes Fields array.\n     *\n     * @return array\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","getThemeAjaxParameters",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$themesArray",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],["T_WHITESPACE"," ",50],"(",["T_WHITESPACE","\n            ",50],["T_CONSTANT_ENCAPSED_STRING","'conf_native_navigationBar_tintColor'",51],["T_WHITESPACE","\n                ",51],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'conf[native][navigationBar][tintColor]'",52],",",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'conf_native_body_primaryColor'",53],["T_WHITESPACE","\n                ",53],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'conf[native][body][primaryColor]'",54],",",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'conf_native_body_secondaryColor'",55],["T_WHITESPACE","\n                ",55],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'conf[native][body][secondaryColor]'",56],",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'conf_native_categoryItem_backgroundColor'",57],["T_WHITESPACE","\n                ",57],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'conf[native][categoryItem][backgroundColor]'",58],",",["T_WHITESPACE","\n            ",58],["T_CONSTANT_ENCAPSED_STRING","'conf_native_categoryItem_tintColor'",59],["T_WHITESPACE","\n                ",59],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'conf[native][categoryItem][tintColor]'",60],",",["T_WHITESPACE","\n\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'conf_extra_fontColors_header'",62],["T_WHITESPACE","\n                ",62],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'conf[extra][fontColors][header]'",63],",",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'conf_extra_fontColors_primary'",64],["T_WHITESPACE","\n                ",64],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'conf[extra][fontColors][primary]'",65],",",["T_WHITESPACE","\n            ",65],["T_CONSTANT_ENCAPSED_STRING","'conf_extra_fontColors_secondary'",66],["T_WHITESPACE","\n                ",66],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'conf[extra][fontColors][secondary]'",67],",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'conf_extra_fontColors_price'",68],["T_WHITESPACE","\n                ",68],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'conf[extra][fontColors][price]'",69],",",["T_WHITESPACE","\n\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'conf_native_body_backgroundColor'",71],["T_WHITESPACE","\n                ",71],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'conf[native][body][backgroundColor]'",72],",",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","'conf_native_body_scrollBackgroundColor'",73],["T_WHITESPACE","\n                ",73],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'conf[native][body][scrollBackgroundColor]'",74],",",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'conf_native_itemActions_relatedProductBackgroundColor'",75],["T_WHITESPACE","\n                ",75],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'conf[native][itemActions][relatedProductBackgroundColor]'",76],["T_WHITESPACE","\n        ",76],")",";",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$themesArray",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Returns JSON ready Themes array\n     *\n     * @param bool $flushCache load defaults\n     * @return array\n     *\/",81],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getAllThemesArray",87],"(",["T_VARIABLE","$flushCache",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","false",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$result",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$themes",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getAllThemes",90],"(",["T_VARIABLE","$flushCache",90],")",";",["T_WHITESPACE","\n        ",90],["T_FOREACH","foreach",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$themes",91],["T_WHITESPACE"," ",91],["T_AS","as",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$theme",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$result",92],"[",["T_VARIABLE","$theme",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getName",92],"(",")","]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$theme",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getFormData",92],"(",")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$result",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Get dropdown select image for theme\n     *\n     * @param string $themeId\n     * @return string Image url\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","getThemeImageUrl",103],"(",["T_VARIABLE","$themeId",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$themeImage",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","array_key_exists",105],"(",["T_VARIABLE","$themeId",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getDefaultThemes",105],"(",")",")",["T_WHITESPACE"," ",105],"?",["T_WHITESPACE"," ",105],["T_VARIABLE","$themeId",105],["T_WHITESPACE"," ",105],":",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'user_custom'",105],";",["T_WHITESPACE","\n        ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_STRING","Mage",106],["T_DOUBLE_COLON","::",106],["T_STRING","helper",106],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/image'",106],")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getSkinImagesUrl",106],"(",["T_CONSTANT_ENCAPSED_STRING","'swatch_'",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_VARIABLE","$themeImage",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'.gif'",106],")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Get themes dropdown selector html\n     *\n     * @param string $themeId\n     * @return string\n     *\/",109],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getThemesSelector",115],"(",["T_VARIABLE","$themeId",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","''",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_STRING","Mage",117],["T_DOUBLE_COLON","::",117],["T_STRING","registry",117],"(",["T_CONSTANT_ENCAPSED_STRING","'current_app'",117],")",["T_WHITESPACE"," ",117],["T_IS_NOT_IDENTICAL","!==",117],["T_WHITESPACE"," ",117],["T_STRING","null",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$themeId",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","Mage",118],["T_DOUBLE_COLON","::",118],["T_STRING","registry",118],"(",["T_CONSTANT_ENCAPSED_STRING","'current_app'",118],")",["T_OBJECT_OPERATOR","->",118],["T_STRING","getData",118],"(",["T_CONSTANT_ENCAPSED_STRING","'conf\/extra\/theme'",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_VARIABLE","$themeId",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$themeId",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getDefaultThemeName",122],"(",")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$currentTheme",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getThemeByName",125],"(",["T_VARIABLE","$themeId",125],")",";",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$currentTheme",126],["T_WHITESPACE"," ",126],["T_IS_IDENTICAL","===",126],["T_WHITESPACE"," ",126],["T_STRING","null",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$themeId",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getDefaultThemeName",127],"(",")",";",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$currentTheme",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getThemeByName",128],"(",["T_VARIABLE","$themeId",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!","(",["T_VARIABLE","$currentTheme",131],["T_WHITESPACE"," ",131],["T_INSTANCEOF","instanceof",131],["T_WHITESPACE"," ",131],["T_STRING","Mage_XmlConnect_Model_Theme",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_STRING","Mage",132],["T_DOUBLE_COLON","::",132],["T_STRING","throwException",132],"(",["T_WHITESPACE","\n                ",132],["T_STRING","Mage",133],["T_DOUBLE_COLON","::",133],["T_STRING","helper",133],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","__",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Can\\'t load selected theme. Please check your media folder permissions.'",133],")",["T_WHITESPACE","\n            ",133],")",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$themeList",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","''",137],";",["T_WHITESPACE","\n        ",137],["T_FOREACH","foreach",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getAllThemes",138],"(",["T_STRING","true",138],")",["T_WHITESPACE"," ",138],["T_AS","as",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$theme",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$themeList",139],["T_WHITESPACE"," ",139],["T_CONCAT_EQUAL",".=",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'<li id=\"'",139],["T_WHITESPACE"," ",139],".",["T_WHITESPACE"," ",139],["T_VARIABLE","$theme",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getName",139],"(",")",["T_WHITESPACE"," ",139],".",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'\">'",139],";",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$themeList",140],["T_WHITESPACE"," ",140],["T_CONCAT_EQUAL",".=",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'<a rel=\"'",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_VARIABLE","$theme",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getName",140],"(",")",["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'\" style=\"cursor:pointer;\">'",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_VARIABLE","$theme",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getLabel",140],"(",")",";",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$themeList",141],["T_WHITESPACE"," ",141],["T_CONCAT_EQUAL",".=",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'<span>'",141],";",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$themeList",142],["T_WHITESPACE"," ",142],["T_CONCAT_EQUAL",".=",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getThemeImageUrl",142],"(",["T_VARIABLE","$theme",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getName",142],"(",")",")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'\"\/>'",142],";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$themeList",143],["T_WHITESPACE"," ",143],["T_CONCAT_EQUAL",".=",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'<\/span><\/a><\/li>'",143],";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$themesDdl",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_START_HEREDOC","<<<EOT\n",146],["T_ENCAPSED_AND_WHITESPACE","        <ul class=\"dropdown theme_selector\" id=\"theme_selector_id\">\n            <li class=\"ddtitle theme_selector\">\n                <a style=\"cursor:pointer;\">",147],["T_CURLY_OPEN","{",149],["T_VARIABLE","$currentTheme",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getLabel",149],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","\n                    <span>\n                        <img src=\"",149],["T_CURLY_OPEN","{",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getThemeImageUrl",151],"(",["T_VARIABLE","$themeId",151],")","}",["T_ENCAPSED_AND_WHITESPACE","\"\/>\n                    <\/span>\n                <\/a>\n            <\/li>\n            <li style=\"display:none;\" class=\"ddlist\">\n                <ul>\n                ",151],["T_CURLY_OPEN","{",157],["T_VARIABLE","$themeList",157],"}",["T_ENCAPSED_AND_WHITESPACE","\n                <\/ul>\n            <\/li>\n        <\/ul>\n",157],["T_END_HEREDOC","EOT",161],";",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$themesDdl",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Reads directory media\/xmlconnect\/themes\/*\n     *\n     * @param bool $flushCache Reads default color Themes\n     * @return array contains Mage_XmlConnect_Model_Theme\n     *\/",165],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","getAllThemes",171],"(",["T_VARIABLE","$flushCache",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","false",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_themeArray",173],["T_WHITESPACE"," ",173],["T_BOOLEAN_OR","||",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$flushCache",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_TRY","try",174],["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_VARIABLE","$saveLibxmlErrors",175],["T_WHITESPACE","   ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","libxml_use_internal_errors",175],"(",["T_STRING","true",175],")",";",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_themeArray",176],["T_WHITESPACE","  ",176],"=",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",";",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$themeDir",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getMediaThemePath",177],"(",")",";",["T_WHITESPACE","\n\n                ",177],["T_VARIABLE","$ioFile",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_NEW","new",179],["T_WHITESPACE"," ",179],["T_STRING","Varien_Io_File",179],"(",")",";",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$ioFile",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","checkAndCreateFolder",180],"(",["T_VARIABLE","$themeDir",180],")",";",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$ioFile",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","open",181],"(",["T_ARRAY","array",181],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$themeDir",181],")",")",";",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$fileList",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$ioFile",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","ls",182],"(",["T_STRING","Varien_Io_File",182],["T_DOUBLE_COLON","::",182],["T_STRING","GREP_FILES",182],")",";",["T_WHITESPACE","\n                ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","!",["T_STRING","count",183],"(",["T_VARIABLE","$fileList",183],")",["T_WHITESPACE"," ",183],["T_BOOLEAN_OR","||",183],["T_WHITESPACE"," ",183],"!",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_checkDefaultThemes",183],"(",["T_VARIABLE","$fileList",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","resetTheme",184],"(",")",";",["T_WHITESPACE","\n                    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getAllThemes",185],"(",["T_STRING","true",185],")",";",["T_WHITESPACE","\n                ",185],"}",["T_WHITESPACE","\n                ",186],["T_FOREACH","foreach",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$fileList",187],["T_WHITESPACE"," ",187],["T_AS","as",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$file",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                    ",187],["T_VARIABLE","$src",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$themeDir",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_STRING","DS",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_VARIABLE","$file",188],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",188],"]",";",["T_WHITESPACE","\n                    ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_STRING","is_readable",189],"(",["T_VARIABLE","$src",189],")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                        ",189],["T_VARIABLE","$theme",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","Mage",190],["T_DOUBLE_COLON","::",190],["T_STRING","getModel",190],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/theme'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$src",190],")",";",["T_WHITESPACE","\n                        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_themeArray",191],"[",["T_VARIABLE","$theme",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getName",191],"(",")","]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$theme",191],";",["T_WHITESPACE","\n                    ",191],"}",["T_WHITESPACE","\n                ",192],"}",["T_WHITESPACE","\n                ",193],["T_STRING","asort",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_themeArray",194],")",";",["T_WHITESPACE","\n                ",194],["T_STRING","libxml_use_internal_errors",195],"(",["T_VARIABLE","$saveLibxmlErrors",195],")",";",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE"," ",196],["T_CATCH","catch",196],["T_WHITESPACE"," ",196],"(",["T_STRING","Exception",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$e",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                ",196],["T_STRING","Mage",197],["T_DOUBLE_COLON","::",197],["T_STRING","logException",197],"(",["T_VARIABLE","$e",197],")",";",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_themeArray",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Check are default themes files present in media folder or not\n     *\n     * @param array $fileList\n     * @return bool\n     *\/",203],["T_WHITESPACE","\n    ",208],["T_PROTECTED","protected",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","_checkDefaultThemes",209],"(",["T_VARIABLE","$fileList",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$cacheKey",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'MAGENTO_MOBILE_DEFAULT_THEMES_CACHE_KEY'",211],";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$cache",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","Mage",212],["T_DOUBLE_COLON","::",212],["T_STRING","app",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","loadCache",212],"(",["T_VARIABLE","$cacheKey",212],")",";",["T_WHITESPACE","\n        ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_STRING","Mage",213],["T_DOUBLE_COLON","::",213],["T_STRING","app",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","useCache",213],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",213],")",["T_WHITESPACE"," ",213],["T_BOOLEAN_AND","&&",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$cache",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$defaultFiles",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","unserialize",214],"(",["T_VARIABLE","$cache",214],")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE"," ",215],["T_ELSE","else",215],["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$ioFile",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_STRING","Varien_Io_File",216],"(",")",";",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$ioFile",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","open",217],"(",["T_ARRAY","array",217],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_getDefaultThemePath",217],"(",")",")",")",";",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$fileDefaultList",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$ioFile",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","ls",218],"(",["T_STRING","Varien_Io_File",218],["T_DOUBLE_COLON","::",218],["T_STRING","GREP_FILES",218],")",";",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$defaultFiles",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_ARRAY","array",219],"(",")",";",["T_WHITESPACE","\n            ",219],["T_FOREACH","foreach",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$fileDefaultList",220],["T_WHITESPACE"," ",220],["T_AS","as",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$defaultFileData",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",221],["T_WHITESPACE"," ",221],["T_IS_NOT_EQUAL","!=",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$defaultFileData",221],"[",["T_CONSTANT_ENCAPSED_STRING","'filetype'",221],"]",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                    ",221],["T_CONTINUE","continue",222],";",["T_WHITESPACE","\n                ",222],"}",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$defaultFiles",224],"[","]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$defaultFileData",224],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",224],"]",";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n            ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_STRING","Mage",226],["T_DOUBLE_COLON","::",226],["T_STRING","app",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","useCache",226],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_STRING","Mage",227],["T_DOUBLE_COLON","::",227],["T_STRING","app",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","saveCache",227],"(",["T_STRING","serialize",227],"(",["T_VARIABLE","$defaultFiles",227],")",",",["T_WHITESPACE"," ",227],["T_VARIABLE","$cacheKey",227],",",["T_WHITESPACE"," ",227],["T_ARRAY","array",227],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",227],")",")",";",["T_WHITESPACE","\n            ",227],"}",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_EMPTY","empty",231],"(",["T_VARIABLE","$defaultFiles",231],")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_STRING","Mage",232],["T_DOUBLE_COLON","::",232],["T_STRING","throwException",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","__",232],"(",["T_CONSTANT_ENCAPSED_STRING","'Default themes are missed.'",232],")",")",";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$matches",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_LNUMBER","0",234],";",["T_WHITESPACE","\n        ",234],["T_FOREACH","foreach",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$fileList",235],["T_WHITESPACE"," ",235],["T_AS","as",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$fileData",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_STRING","in_array",236],"(",["T_VARIABLE","$fileData",236],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",236],"]",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$defaultFiles",236],")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n                ",236],["T_INC","++",237],["T_VARIABLE","$matches",237],";",["T_WHITESPACE","\n            ",237],"}",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$matches",240],["T_WHITESPACE"," ",240],["T_IS_EQUAL","==",240],["T_WHITESPACE"," ",240],["T_STRING","count",240],"(",["T_VARIABLE","$defaultFiles",240],")",";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Reads default theme directory\n     *\n     * @throws Mage_Core_Exception\n     * @return array contains Mage_XmlConnect_Model_Theme\n     *\/",243],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","getDefaultThemes",249],"(",")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$saveLibxmlErrors",251],["T_WHITESPACE","   ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","libxml_use_internal_errors",251],"(",["T_STRING","true",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$defaultThemeArray",252],["T_WHITESPACE","  ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$themeDir",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_getDefaultThemePath",253],"(",")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$ioFile",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_NEW","new",254],["T_WHITESPACE"," ",254],["T_STRING","Varien_Io_File",254],"(",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$ioFile",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","open",255],"(",["T_ARRAY","array",255],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$themeDir",255],")",")",";",["T_WHITESPACE","\n        ",255],["T_TRY","try",256],["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$fileList",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$ioFile",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","ls",257],"(",["T_STRING","Varien_Io_File",257],["T_DOUBLE_COLON","::",257],["T_STRING","GREP_FILES",257],")",";",["T_WHITESPACE","\n            ",257],["T_FOREACH","foreach",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$fileList",258],["T_WHITESPACE"," ",258],["T_AS","as",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$file",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                ",258],["T_VARIABLE","$src",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$themeDir",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_STRING","DS",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_VARIABLE","$file",259],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",259],"]",";",["T_WHITESPACE","\n                ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_STRING","is_readable",260],"(",["T_VARIABLE","$src",260],")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                    ",260],["T_VARIABLE","$theme",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","Mage",261],["T_DOUBLE_COLON","::",261],["T_STRING","getModel",261],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/theme'",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$src",261],")",";",["T_WHITESPACE","\n                    ",261],["T_VARIABLE","$defaultThemeArray",262],"[",["T_VARIABLE","$theme",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getName",262],"(",")","]",["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$theme",262],";",["T_WHITESPACE","\n                ",262],"}",["T_WHITESPACE","\n            ",263],"}",["T_WHITESPACE","\n            ",264],["T_STRING","libxml_use_internal_errors",265],"(",["T_VARIABLE","$saveLibxmlErrors",265],")",";",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE"," ",266],["T_CATCH","catch",266],["T_WHITESPACE"," ",266],"(",["T_STRING","Exception",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$e",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_STRING","Mage",267],["T_DOUBLE_COLON","::",267],["T_STRING","logException",267],"(",["T_VARIABLE","$e",267],")",";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n        ",268],["T_IF","if",269],["T_WHITESPACE"," ",269],"(","!",["T_STRING","count",269],"(",["T_VARIABLE","$defaultThemeArray",269],")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_STRING","Mage",270],["T_DOUBLE_COLON","::",270],["T_STRING","throwException",270],"(",["T_STRING","Mage",270],["T_DOUBLE_COLON","::",270],["T_STRING","helper",270],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",270],")",["T_OBJECT_OPERATOR","->",270],["T_STRING","__",270],"(",["T_CONSTANT_ENCAPSED_STRING","'Can\\'t load default themes.'",270],")",")",";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n        ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$defaultThemeArray",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Create new custom theme\n     *\n     * @param  $themeName string\n     * @param  $data array\n     * @return Mage_XmlConnect_Model_Theme\n     *\/",275],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","createNewTheme",282],"(",["T_VARIABLE","$themeName",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$data",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_DOC_COMMENT","\/** @var $defaultTheme Mage_XmlConnect_Model_Theme *\/",284],["T_WHITESPACE","\n        ",284],["T_VARIABLE","$defaultTheme",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getThemeByName",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getDefaultThemeName",285],"(",")",")",";",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$defaultTheme",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","createNewTheme",286],"(",["T_VARIABLE","$themeName",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$data",286],")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Get default theme path: \/xmlconnect\/etc\/themes\/*\n     *\n     * @return string\n     *\/",289],["T_WHITESPACE","\n    ",293],["T_PROTECTED","protected",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","_getDefaultThemePath",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_STRING","Mage",296],["T_DOUBLE_COLON","::",296],["T_STRING","getModuleDir",296],"(",["T_CONSTANT_ENCAPSED_STRING","'etc'",296],",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'Mage_XmlConnect'",296],")",["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_STRING","DS",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'themes'",296],";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Get media theme path: media\/xmlconnect\/themes\/*\n     *\n     * @return string\n     *\/",299],["T_WHITESPACE","\n    ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","getMediaThemePath",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_STRING","Mage",306],["T_DOUBLE_COLON","::",306],["T_STRING","getBaseDir",306],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",306],")",["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_STRING","DS",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_STRING","DS",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'themes'",306],";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Reset themes color changes\n     * Copy \/xmlconnect\/etc\/themes\/* to media\/xmlconnect\/themes\/*\n     *\n     * @throws Mage_Core_Exception\n     * @param null $theme\n     * @return null\n     *\/",309],["T_WHITESPACE","\n    ",316],["T_PUBLIC","public",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","resetTheme",317],"(",["T_VARIABLE","$theme",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_STRING","null",317],")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$themeDir",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getMediaThemePath",319],"(",")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$defaultThemeDir",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_getDefaultThemePath",320],"(",")",";",["T_WHITESPACE","\n\n        ",320],["T_VARIABLE","$ioFile",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_NEW","new",322],["T_WHITESPACE"," ",322],["T_STRING","Varien_Io_File",322],"(",")",";",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$ioFile",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","open",323],"(",["T_ARRAY","array",323],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$defaultThemeDir",323],")",")",";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$fileList",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$ioFile",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","ls",324],"(",["T_STRING","Varien_Io_File",324],["T_DOUBLE_COLON","::",324],["T_STRING","GREP_FILES",324],")",";",["T_WHITESPACE","\n        ",324],["T_FOREACH","foreach",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$fileList",325],["T_WHITESPACE"," ",325],["T_AS","as",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$file",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$f",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$file",326],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",326],"]",";",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$src",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$defaultThemeDir",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_STRING","DS",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_VARIABLE","$f",327],";",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$dst",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$themeDir",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_STRING","DS",328],["T_WHITESPACE"," ",328],".",["T_VARIABLE","$f",328],";",["T_WHITESPACE","\n\n            ",328],["T_IF","if",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$theme",330],["T_WHITESPACE"," ",330],["T_BOOLEAN_AND","&&",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$theme",330],["T_WHITESPACE"," ",330],".",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'.xml'",330],")",["T_WHITESPACE"," ",330],["T_IS_NOT_EQUAL","!=",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$f",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                ",330],["T_CONTINUE","continue",331],";",["T_WHITESPACE","\n            ",331],"}",["T_WHITESPACE","\n\n            ",332],["T_IF","if",334],["T_WHITESPACE"," ",334],"(","!",["T_VARIABLE","$ioFile",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","cp",334],"(",["T_VARIABLE","$src",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$dst",334],")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                ",334],["T_STRING","Mage",335],["T_DOUBLE_COLON","::",335],["T_STRING","throwException",335],"(",["T_STRING","Mage",335],["T_DOUBLE_COLON","::",335],["T_STRING","helper",335],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",335],")",["T_OBJECT_OPERATOR","->",335],["T_STRING","__",335],"(",["T_CONSTANT_ENCAPSED_STRING","'Can\\'t copy file \"%s\" to \"%s\".'",335],",",["T_WHITESPACE","\n                    ",335],["T_VARIABLE","$ioFile",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getFilteredPath",336],"(",["T_VARIABLE","$src",336],")",",",["T_WHITESPACE"," ",336],["T_VARIABLE","$ioFile",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getFilteredPath",336],"(",["T_VARIABLE","$dst",336],")",")",")",";",["T_WHITESPACE","\n            ",336],"}",["T_WHITESPACE"," ",337],["T_ELSE","else",337],["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n                ",337],["T_VARIABLE","$ioFile",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","chmod",338],"(",["T_VARIABLE","$dst",338],",",["T_WHITESPACE"," ",338],["T_LNUMBER","0755",338],")",";",["T_WHITESPACE","\n            ",338],"}",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * Get theme object by name\n     *\n     * @param string $name\n     * @return Mage_XmlConnect_Model_Theme|null\n     *\/",343],["T_WHITESPACE","\n    ",348],["T_PUBLIC","public",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","getThemeByName",349],"(",["T_VARIABLE","$name",349],")",["T_WHITESPACE","\n    ",349],"{",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$themes",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getAllThemes",351],"(",")",";",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$theme",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_ISSET","isset",352],"(",["T_VARIABLE","$themes",352],"[",["T_VARIABLE","$name",352],"]",")",["T_WHITESPACE"," ",352],"?",["T_WHITESPACE"," ",352],["T_VARIABLE","$themes",352],"[",["T_VARIABLE","$name",352],"]",["T_WHITESPACE"," ",352],":",["T_WHITESPACE"," ",352],["T_STRING","null",352],";",["T_WHITESPACE","\n        ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$theme",353],";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n\n    ",354],["T_DOC_COMMENT","\/**\n     * Return predefined custom theme name\n     *\n     * @return string\n     *\/",356],["T_WHITESPACE","\n    ",360],["T_PUBLIC","public",361],["T_WHITESPACE"," ",361],["T_FUNCTION","function",361],["T_WHITESPACE"," ",361],["T_STRING","getCustomThemeName",361],"(",")",["T_WHITESPACE","\n    ",361],"{",["T_WHITESPACE","\n        ",362],["T_RETURN","return",363],["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'custom'",363],";",["T_WHITESPACE","\n    ",363],"}",["T_WHITESPACE","\n\n    ",364],["T_DOC_COMMENT","\/**\n     * Return predefined default theme name\n     *\n     * @return string\n     *\/",366],["T_WHITESPACE","\n    ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","getDefaultThemeName",371],"(",")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'default'",373],";",["T_WHITESPACE","\n    ",373],"}",["T_WHITESPACE","\n\n    ",374],["T_DOC_COMMENT","\/**\n     * Get current theme name\n     *\n     * @return string\n     *\/",376],["T_WHITESPACE","\n    ",380],["T_PUBLIC","public",381],["T_WHITESPACE"," ",381],["T_FUNCTION","function",381],["T_WHITESPACE"," ",381],["T_STRING","getThemeId",381],"(",")",["T_WHITESPACE","\n    ",381],"{",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$themeId",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","Mage",383],["T_DOUBLE_COLON","::",383],["T_STRING","helper",383],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",383],")",["T_OBJECT_OPERATOR","->",383],["T_STRING","getApplication",383],"(",")",["T_OBJECT_OPERATOR","->",383],["T_STRING","getData",383],"(",["T_CONSTANT_ENCAPSED_STRING","'conf\/extra\/theme'",383],")",";",["T_WHITESPACE","\n\n        ",383],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getThemeByName",385],"(",["T_VARIABLE","$themeId",385],")",["T_WHITESPACE"," ",385],["T_IS_IDENTICAL","===",385],["T_WHITESPACE"," ",385],["T_STRING","null",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n            ",385],["T_VARIABLE","$themeId",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_STRING","null",386],";",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n\n        ",387],["T_IF","if",389],["T_WHITESPACE"," ",389],"(",["T_EMPTY","empty",389],"(",["T_VARIABLE","$themeId",389],")",")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n            ",389],["T_VARIABLE","$themeId",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getDefaultThemeName",390],"(",")",";",["T_WHITESPACE","\n        ",390],"}",["T_WHITESPACE","\n        ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$themeId",392],";",["T_WHITESPACE","\n    ",392],"}",["T_WHITESPACE","\n\n    ",393],["T_DOC_COMMENT","\/**\n     * Get theme label by theme name\n     *\n     * @param array $themes\n     * @param bool $themeId\n     * @return string\n     *\/",395],["T_WHITESPACE","\n    ",401],["T_PUBLIC","public",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","getThemeLabel",402],"(",["T_ARRAY","array",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$themes",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$themeId",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_STRING","false",402],")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$themeLabel",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","''",404],";",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$themeId",405],["T_WHITESPACE","    ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$themeId",405],["T_WHITESPACE"," ",405],"?",["T_WHITESPACE"," ",405],["T_VARIABLE","$themeId",405],["T_WHITESPACE"," ",405],":",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getThemeId",405],"(",")",";",["T_WHITESPACE","\n\n        ",405],["T_FOREACH","foreach",407],["T_WHITESPACE"," ",407],"(",["T_VARIABLE","$themes",407],["T_WHITESPACE"," ",407],["T_AS","as",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$theme",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n            ",407],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_VARIABLE","$theme",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getName",408],"(",")",["T_WHITESPACE"," ",408],["T_IS_EQUAL","==",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$themeId",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n                ",408],["T_VARIABLE","$themeLabel",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$theme",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getLabel",409],"(",")",";",["T_WHITESPACE","\n                ",409],["T_BREAK","break",410],";",["T_WHITESPACE","\n            ",410],"}",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE","\n        ",412],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$themeLabel",413],";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Delete theme by id\n     *\n     * @param  $themeId\n     * @return bool\n     *\/",416],["T_WHITESPACE","\n    ",421],["T_PUBLIC","public",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","deleteTheme",422],"(",["T_VARIABLE","$themeId",422],")",["T_WHITESPACE","\n    ",422],"{",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$result",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","false",424],";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$ioFile",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_NEW","new",425],["T_WHITESPACE"," ",425],["T_STRING","Varien_Io_File",425],"(",")",";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$ioFile",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","cd",426],"(",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getMediaThemePath",426],"(",")",")",";",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$themeFile",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_STRING","basename",427],"(",["T_VARIABLE","$themeId",427],["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'.xml'",427],")",";",["T_WHITESPACE","\n        ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_VARIABLE","$ioFile",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","fileExists",428],"(",["T_VARIABLE","$themeFile",428],")",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$result",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$ioFile",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","rm",429],"(",["T_VARIABLE","$themeFile",429],")",";",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE","\n        ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$result",431],";",["T_WHITESPACE","\n    ",431],"}",["T_WHITESPACE","\n",432],"}",["T_WHITESPACE","\n",433]]