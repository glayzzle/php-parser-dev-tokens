[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Most viewed products xml renderer block\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_MostViewedProducts",34],["T_WHITESPACE","\n    ",34],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Dashboard_Tab_Products_Viewed",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Products count to display\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","PRODUCTS_COUNT_LIMIT",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","5",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Get rid of unnecessary collection initialization\n     *\n     * @return Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_MostViewedProducts\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","_prepareCollection",47],"(",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Init last search terms collection\n     *\n     * @param int|null $storeId\n     * @return Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_MostViewedProducts\n     *\/",52],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","_initCollection",58],"(",["T_VARIABLE","$storeId",58],")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$collection",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","Mage",60],["T_DOUBLE_COLON","::",60],["T_STRING","getResourceModel",60],"(",["T_CONSTANT_ENCAPSED_STRING","'reports\/product_collection'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","addAttributeToSelect",60],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","addViewsCount",60],"(",")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","setStoreId",61],"(",["T_VARIABLE","$storeId",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","addStoreFilter",61],"(",["T_VARIABLE","$storeId",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","setPageSize",61],"(",["T_STRING","self",61],["T_DOUBLE_COLON","::",61],["T_STRING","PRODUCTS_COUNT_LIMIT",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setCollection",62],"(",["T_VARIABLE","$collection",62],")",";",["T_WHITESPACE","\n        ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Clear collection\n     *\n     * @return Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_MostViewedProducts\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","_clearCollection",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_collection",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],";",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Add most viewed products to xml object\n     *\n     * @param Mage_XmlConnect_Model_Simplexml_Element $xmlObj\n     * @return Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_MostViewedProducts\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","addMostViewedProductsToXmlObj",83],"(",["T_STRING","Mage_XmlConnect_Model_Simplexml_Element",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$xmlObj",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_FOREACH","foreach",85],["T_WHITESPACE"," ",85],"(",["T_STRING","Mage",85],["T_DOUBLE_COLON","::",85],["T_STRING","helper",85],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/adminApplication'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getSwitcherList",85],"(",")",["T_WHITESPACE"," ",85],["T_AS","as",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$storeId",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_clearCollection",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","_initCollection",86],"(",["T_VARIABLE","$storeId",86],")",";",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$valuesXml",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$xmlObj",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","addCustomChild",87],"(",["T_CONSTANT_ENCAPSED_STRING","'values'",87],",",["T_WHITESPACE"," ",87],["T_STRING","null",87],",",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_WHITESPACE","\n                ",87],["T_CONSTANT_ENCAPSED_STRING","'store_id'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$storeId",88],["T_WHITESPACE"," ",88],"?",["T_WHITESPACE"," ",88],["T_VARIABLE","$storeId",88],["T_WHITESPACE"," ",88],":",["T_WHITESPACE"," ",88],["T_STRING","Mage_XmlConnect_Helper_AdminApplication",88],["T_DOUBLE_COLON","::",88],["T_STRING","ALL_STORE_VIEWS",88],["T_WHITESPACE","\n            ",88],")",")",";",["T_WHITESPACE","\n\n            ",89],["T_IF","if",91],"(","!",["T_STRING","count",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getCollection",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getItems",91],"(",")",")",["T_WHITESPACE"," ",91],">",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_CONTINUE","continue",92],";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n\n            ",93],["T_DOC_COMMENT","\/** @var $orderHelper Mage_XmlConnect_Helper_Adminhtml_Dashboard_Order *\/",95],["T_WHITESPACE","\n            ",95],["T_VARIABLE","$orderHelper",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","Mage",96],["T_DOUBLE_COLON","::",96],["T_STRING","helper",96],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/adminhtml_dashboard_order'",96],")",";",["T_WHITESPACE","\n\n            ",96],["T_FOREACH","foreach",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getCollection",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getItems",98],"(",")",["T_WHITESPACE"," ",98],["T_AS","as",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$item",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$itemListXml",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$valuesXml",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","addCustomChild",99],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",99],")",";",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$itemListXml",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","addCustomChild",100],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$item",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getName",100],"(",")",",",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",["T_WHITESPACE","\n                    ",100],["T_CONSTANT_ENCAPSED_STRING","'label'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_STRING","Mage",101],["T_DOUBLE_COLON","::",101],["T_STRING","helper",101],"(",["T_CONSTANT_ENCAPSED_STRING","'reports'",101],")",["T_OBJECT_OPERATOR","->",101],["T_STRING","__",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Product Name'",101],")",["T_WHITESPACE","\n                ",101],")",")",";",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$itemListXml",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","addCustomChild",103],"(",["T_WHITESPACE","\n                    ",103],["T_CONSTANT_ENCAPSED_STRING","'price'",104],",",["T_WHITESPACE","\n                    ",104],["T_VARIABLE","$orderHelper",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","preparePrice",105],"(",["T_VARIABLE","$item",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getPrice",105],"(",")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$storeId",105],")",",",["T_WHITESPACE","\n                    ",105],["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_STRING","Mage",106],["T_DOUBLE_COLON","::",106],["T_STRING","helper",106],"(",["T_CONSTANT_ENCAPSED_STRING","'reports'",106],")",["T_OBJECT_OPERATOR","->",106],["T_STRING","__",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Price'",106],")",")",["T_WHITESPACE","\n                ",106],")",";",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$itemListXml",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","addCustomChild",108],"(",["T_WHITESPACE","\n                    ",108],["T_CONSTANT_ENCAPSED_STRING","'views'",109],",",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$item",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getViews",110],"(",")",",",["T_WHITESPACE","\n                    ",110],["T_ARRAY","array",111],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","Mage",111],["T_DOUBLE_COLON","::",111],["T_STRING","helper",111],"(",["T_CONSTANT_ENCAPSED_STRING","'reports'",111],")",["T_OBJECT_OPERATOR","->",111],["T_STRING","__",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Number of Views'",111],")",")",["T_WHITESPACE","\n                ",111],")",";",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n",116],"}",["T_WHITESPACE","\n",117]]