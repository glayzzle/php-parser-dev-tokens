[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Admin application last search terms xml renderer\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_LastSearchTerms",34],["T_WHITESPACE","\n    ",34],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Dashboard_Searches_Last",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Search terms count to display\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","TERMS_COUNT_LIMIT",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","5",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Get rid of unnecessary collection initialization\n     *\n     * @return Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_LastSearchTerms\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","_prepareCollection",47],"(",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Init last search terms collection\n     *\n     * @param int|null $storeId\n     * @return Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_LastSearchTerms\n     *\/",52],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","_initCollection",58],"(",["T_VARIABLE","$storeId",58],")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_STRING","Mage",60],["T_DOUBLE_COLON","::",60],["T_STRING","helper",60],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","isModuleEnabled",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_CatalogSearch'",60],")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE","\n        ",62],["T_DOC_COMMENT","\/** @var $_collection Mage_CatalogSearch_Model_Resource_Query_Collection *\/",63],["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_collection",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","Mage",64],["T_DOUBLE_COLON","::",64],["T_STRING","getModel",64],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch\/query'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getResourceCollection",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_collection",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setRecentQueryFilter",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","setPageSize",65],"(",["T_STRING","self",65],["T_DOUBLE_COLON","::",65],["T_STRING","TERMS_COUNT_LIMIT",65],")",";",["T_WHITESPACE","\n\n        ",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$storeId",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_collection",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","addFieldToFilter",68],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$storeId",68],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setCollection",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_collection",70],")",";",["T_WHITESPACE","\n        ",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Clear collection\n     *\n     * @return Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_LastSearchTerms\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","_clearCollection",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_collection",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],";",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Add last search terms info to xml object\n     *\n     * @param Mage_XmlConnect_Model_Simplexml_Element $xmlObj\n     * @return Mage_XmlConnect_Block_Adminhtml_Connect_Dashboard_LastSearchTerms\n     *\/",85],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","addLastSearchTermsToXmlObj",91],"(",["T_STRING","Mage_XmlConnect_Model_Simplexml_Element",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$xmlObj",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_FOREACH","foreach",93],["T_WHITESPACE"," ",93],"(",["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","helper",93],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/adminApplication'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getSwitcherList",93],"(",")",["T_WHITESPACE"," ",93],["T_AS","as",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$storeId",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_clearCollection",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","_initCollection",94],"(",["T_VARIABLE","$storeId",94],")",";",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$valuesXml",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$xmlObj",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","addCustomChild",95],"(",["T_CONSTANT_ENCAPSED_STRING","'values'",95],",",["T_WHITESPACE"," ",95],["T_STRING","null",95],",",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'store_id'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$storeId",96],["T_WHITESPACE"," ",96],"?",["T_WHITESPACE"," ",96],["T_VARIABLE","$storeId",96],["T_WHITESPACE"," ",96],":",["T_WHITESPACE"," ",96],["T_STRING","Mage_XmlConnect_Helper_AdminApplication",96],["T_DOUBLE_COLON","::",96],["T_STRING","ALL_STORE_VIEWS",96],["T_WHITESPACE","\n            ",96],")",")",";",["T_WHITESPACE","\n\n            ",97],["T_IF","if",99],"(","!",["T_STRING","count",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getCollection",99],"(",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","getItems",99],"(",")",")",["T_WHITESPACE"," ",99],">",["T_WHITESPACE"," ",99],["T_LNUMBER","0",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_CONTINUE","continue",100],";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n\n            ",101],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getCollection",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","getItems",103],"(",")",["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$item",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$itemListXml",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$valuesXml",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","addCustomChild",104],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",104],")",";",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$itemListXml",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","addCustomChild",105],"(",["T_CONSTANT_ENCAPSED_STRING","'query_text'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$item",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getQueryText",105],"(",")",",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_WHITESPACE","\n                    ",105],["T_CONSTANT_ENCAPSED_STRING","'label'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","__",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Search Term'",106],")",["T_WHITESPACE","\n                ",106],")",")",";",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$itemListXml",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","addCustomChild",108],"(",["T_CONSTANT_ENCAPSED_STRING","'num_results'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$item",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getNumResults",108],"(",")",",",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_WHITESPACE","\n                    ",108],["T_CONSTANT_ENCAPSED_STRING","'label'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","__",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Results'",109],")",["T_WHITESPACE","\n                ",109],")",")",";",["T_WHITESPACE","\n                ",110],["T_VARIABLE","$itemListXml",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","addCustomChild",111],"(",["T_CONSTANT_ENCAPSED_STRING","'popularity'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$item",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getPopularity",111],"(",")",",",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_WHITESPACE","\n                    ",111],["T_CONSTANT_ENCAPSED_STRING","'label'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","__",112],"(",["T_CONSTANT_ENCAPSED_STRING","'Number of Uses'",112],")",["T_WHITESPACE","\n                ",112],")",")",";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n",117],"}",["T_WHITESPACE","\n",118]]