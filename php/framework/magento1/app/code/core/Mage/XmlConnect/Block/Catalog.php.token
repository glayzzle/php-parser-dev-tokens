[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog xml renderer\n *\n * @category    Mage\n * @package     Mage_Xmlconnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Block_Catalog",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Catalog_Block_Product_List_Toolbar",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Limit for product sorting fields to return\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","PRODUCT_SORT_FIELDS_NUMBER",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","3",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Prefix that used in specifying filters on request\n     *\n     * @deprecated renamed\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","REQUEST_FILTER_PARAM_REFIX",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","self",46],["T_DOUBLE_COLON","::",46],["T_STRING","REQUEST_FILTER_PARAM_PREFIX",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Prefix that used in specifying filters on request\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","REQUEST_FILTER_PARAM_PREFIX",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'filter_'",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Prefix that used in specifying sort order params on request\n     *\n     * @deprecated renamed\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","REQUEST_SORT_ORDER_PARAM_REFIX",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","self",58],["T_DOUBLE_COLON","::",58],["T_STRING","REQUEST_SORT_ORDER_PARAM_PREFIX",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Prefix that used in specifying sort order params on request\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","REQUEST_SORT_ORDER_PARAM_PREFIX",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'order_'",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Retrieve product sort fields as xml object\n     *\n     * @deprecated method renamed\n     * @return Mage_XmlConnect_Model_Simplexml_Element\n     *\/",65],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","getProductSortFeildsXmlObject",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getProductSortFieldsXmlObject",73],"(",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Retrieve product sort fields as xml object\n     *\n     * @return Mage_XmlConnect_Model_Simplexml_Element\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","getProductSortFieldsXmlObject",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_DOC_COMMENT","\/** @var $ordersXmlObject Mage_XmlConnect_Model_Simplexml_Element *\/",83],["T_WHITESPACE","\n        ",83],["T_VARIABLE","$ordersXmlObject",84],["T_WHITESPACE","    ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","Mage",84],["T_DOUBLE_COLON","::",84],["T_STRING","getModel",84],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/simplexml_element'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'<orders><\/orders>'",84],")",";",["T_WHITESPACE","\n        ",84],["T_COMMENT","\/* @var $category Mage_Catalog_Model_Category *\/",85],["T_WHITESPACE","\n        ",85],["T_VARIABLE","$category",86],["T_WHITESPACE","           ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","Mage",86],["T_DOUBLE_COLON","::",86],["T_STRING","getModel",86],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category'",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$sortOptions",87],["T_WHITESPACE","        ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$category",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getAvailableSortByOptions",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$sortOptions",88],["T_WHITESPACE","        ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","array_slice",88],"(",["T_VARIABLE","$sortOptions",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0",88],",",["T_WHITESPACE"," ",88],["T_STRING","self",88],["T_DOUBLE_COLON","::",88],["T_STRING","PRODUCT_SORT_FIELDS_NUMBER",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$defaultSort",89],["T_WHITESPACE","        ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$category",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getDefaultSortBy",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$sortOptions",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$code",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$name",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$item",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$ordersXmlObject",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","addChild",91],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",91],")",";",["T_WHITESPACE","\n            ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$code",92],["T_WHITESPACE"," ",92],["T_IS_EQUAL","==",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$defaultSort",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$item",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","addAttribute",93],"(",["T_CONSTANT_ENCAPSED_STRING","'isDefault'",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","1",93],")",";",["T_WHITESPACE","\n            ",93],"}",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$item",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","addChild",95],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$code",95],")",";",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$item",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addChild",96],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$ordersXmlObject",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","escapeXml",96],"(",["T_VARIABLE","$name",96],")",")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n\n        ",97],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$ordersXmlObject",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Retrieve catalog search product sort fields as xml object\n     *\n     * @return Mage_XmlConnect_Model_Simplexml_Element\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","getSearchProductSortFieldsXmlObject",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_DOC_COMMENT","\/** @var $ordersXmlObject Mage_XmlConnect_Model_Simplexml_Element *\/",109],["T_WHITESPACE","\n        ",109],["T_VARIABLE","$ordersXmlObject",110],["T_WHITESPACE","    ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","Mage",110],["T_DOUBLE_COLON","::",110],["T_STRING","getModel",110],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/simplexml_element'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'<orders><\/orders>'",110],")",";",["T_WHITESPACE","\n        ",110],["T_COMMENT","\/* @var $category Mage_Catalog_Model_Category *\/",111],["T_WHITESPACE","\n        ",111],["T_VARIABLE","$category",112],["T_WHITESPACE","           ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","Mage",112],["T_DOUBLE_COLON","::",112],["T_STRING","getModel",112],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category'",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$sortOptions",113],["T_WHITESPACE","        ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$category",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getAvailableSortByOptions",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$sortOptions",114],["T_WHITESPACE","        ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","array_slice",114],"(",["T_VARIABLE","$sortOptions",114],",",["T_WHITESPACE"," ",114],["T_LNUMBER","0",114],",",["T_WHITESPACE"," ",114],["T_STRING","self",114],["T_DOUBLE_COLON","::",114],["T_STRING","PRODUCT_SORT_FIELDS_NUMBER",114],")",";",["T_WHITESPACE","\n        ",114],["T_UNSET","unset",115],"(",["T_VARIABLE","$sortOptions",115],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",115],"]",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$sortOptions",116],["T_WHITESPACE","        ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","array_merge",116],"(",["T_ARRAY","array",116],"(",["T_CONSTANT_ENCAPSED_STRING","'relevance'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","__",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Relevance'",116],")",")",",",["T_WHITESPACE"," ",116],["T_VARIABLE","$sortOptions",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setAvailableOrders",117],"(",["T_VARIABLE","$sortOptions",117],")",["T_OBJECT_OPERATOR","->",117],["T_STRING","setDefaultDirection",117],"(",["T_CONSTANT_ENCAPSED_STRING","'desc'",117],")",["T_OBJECT_OPERATOR","->",117],["T_STRING","setSortBy",117],"(",["T_CONSTANT_ENCAPSED_STRING","'relevance'",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_FOREACH","foreach",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getAvailableOrders",119],"(",")",["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$key",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$order",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$item",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$ordersXmlObject",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","addChild",120],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",120],")",";",["T_WHITESPACE","\n            ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","isOrderCurrent",121],"(",["T_VARIABLE","$key",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$item",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","addAttribute",122],"(",["T_CONSTANT_ENCAPSED_STRING","'isDefault'",122],",",["T_WHITESPACE"," ",122],["T_LNUMBER","1",122],")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$item",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","addChild",124],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$key",124],")",";",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$item",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","addChild",125],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$ordersXmlObject",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","escapeXml",125],"(",["T_VARIABLE","$order",125],")",")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$ordersXmlObject",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n",128],"}",["T_WHITESPACE","\n",129]]