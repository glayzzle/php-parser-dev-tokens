[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Downloadable product options xml renderer\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Block_Catalog_Product_Options_Downloadable",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Block_Catalog_Product_Options",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Generate downloadable product options xml\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param bool $isObject\n     * @return string | Mage_XmlConnect_Model_Simplexml_Element\n     *\/",36],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","getProductOptionsXml",43],"(",["T_STRING","Mage_Catalog_Model_Product",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$product",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$isObject",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","false",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_DOC_COMMENT","\/** set current product object *\/",45],["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setProduct",46],"(",["T_VARIABLE","$product",46],")",";",["T_WHITESPACE","\n\n        ",46],["T_DOC_COMMENT","\/** @var $xmlModel Mage_XmlConnect_Model_Simplexml_Element *\/",48],["T_WHITESPACE","\n        ",48],["T_VARIABLE","$xmlModel",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getProductCustomOptionsXmlObject",49],"(",["T_VARIABLE","$product",49],")",";",["T_WHITESPACE","\n\n        ",49],["T_DOC_COMMENT","\/** @var $linksBlock Mage_Downloadable_Block_Catalog_Product_Links *\/",51],["T_WHITESPACE","\n        ",51],["T_VARIABLE","$linksBlock",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getLayout",52],"(",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","addBlock",52],"(",["T_CONSTANT_ENCAPSED_STRING","'downloadable\/catalog_product_links'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'product_links'",52],")",";",["T_WHITESPACE","\n\n        ",52],["T_IF","if",54],["T_WHITESPACE"," ",54],"(","!",["T_VARIABLE","$product",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","isSalable",54],"(",")",["T_WHITESPACE"," ",54],["T_BOOLEAN_OR","||",54],["T_WHITESPACE"," ",54],"!",["T_VARIABLE","$linksBlock",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","hasLinks",54],"(",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$isObject",55],["T_WHITESPACE"," ",55],"?",["T_WHITESPACE"," ",55],["T_VARIABLE","$xmlModel",55],["T_WHITESPACE"," ",55],":",["T_WHITESPACE"," ",55],["T_VARIABLE","$xmlModel",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","asNiceXml",55],"(",")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n\n        ",56],["T_DOC_COMMENT","\/** @var $optionsXmlObj Mage_XmlConnect_Model_Simplexml_Element *\/",58],["T_WHITESPACE","\n        ",58],["T_VARIABLE","$optionsXmlObj",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$xmlModel",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","options",59],";",["T_WHITESPACE","\n\n        ",59],["T_DOC_COMMENT","\/** @var $samplesBlock Mage_Downloadable_Block_Catalog_Product_Samples *\/",61],["T_WHITESPACE","\n        ",61],["T_VARIABLE","$samplesBlock",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getLayout",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","addBlock",62],"(",["T_CONSTANT_ENCAPSED_STRING","'downloadable\/catalog_product_samples'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'product_samples'",62],")",";",["T_WHITESPACE","\n\n        ",62],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$samplesBlock",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","hasSamples",64],"(",")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$samplesXmlObj",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$optionsXmlObj",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","addCustomChild",65],"(",["T_CONSTANT_ENCAPSED_STRING","'samples'",65],",",["T_WHITESPACE"," ",65],["T_STRING","null",65],",",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n                ",65],["T_CONSTANT_ENCAPSED_STRING","'label'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$samplesBlock",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getSamplesTitle",66],"(",")",["T_WHITESPACE","\n            ",66],")",")",";",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$samples",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$samplesBlock",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getSamples",68],"(",")",";",["T_WHITESPACE","\n            ",68],["T_FOREACH","foreach",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$samples",69],["T_WHITESPACE"," ",69],["T_AS","as",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$sample",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$samplesXmlObj",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","addCustomChild",70],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",70],",",["T_WHITESPACE"," ",70],["T_STRING","null",70],",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_WHITESPACE","\n                    ",70],["T_CONSTANT_ENCAPSED_STRING","'label'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$sample",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getTitle",71],"(",")",",",["T_WHITESPACE","\n                    ",71],["T_CONSTANT_ENCAPSED_STRING","'url'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$samplesBlock",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getSampleUrl",72],"(",["T_VARIABLE","$sample",72],")",["T_WHITESPACE","\n                ",72],")",")",";",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$linksOptions",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$linksBlock",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getLinksTitle",77],"(",")",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$selectionRequired",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$linksBlock",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getLinkSelectionRequired",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$selectionRequired",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$linksOptions",80],["T_WHITESPACE"," ",80],["T_PLUS_EQUAL","+=",80],["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'links[]'",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$linksXmlObj",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$optionsXmlObj",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","addCustomChild",82],"(",["T_CONSTANT_ENCAPSED_STRING","'links'",82],",",["T_WHITESPACE"," ",82],["T_STRING","null",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$linksOptions",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$links",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$linksBlock",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getLinks",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$links",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$link",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$linkOptions",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$link",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getTitle",85],"(",")",")",";",["T_WHITESPACE","\n\n            ",85],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$selectionRequired",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$linkOptions",88],["T_WHITESPACE"," ",88],["T_PLUS_EQUAL","+=",88],["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$link",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getId",88],"(",")",")",";",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$price",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","strip_tags",89],"(",["T_VARIABLE","$linksBlock",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getFormattedLinkPrice",89],"(",["T_VARIABLE","$link",89],")",")",";",["T_WHITESPACE","\n                ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$price",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                    ",90],["T_VARIABLE","$linkOptions",91],["T_WHITESPACE"," ",91],["T_PLUS_EQUAL","+=",91],["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_CONSTANT_ENCAPSED_STRING","'formatted_price'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$price",91],")",";",["T_WHITESPACE","\n                ",91],"}",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n\n            ",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$product",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","hasPreconfiguredValues",95],"(",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$optionData",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$product",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getPreconfiguredValues",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getData",96],"(",["T_CONSTANT_ENCAPSED_STRING","'links'",96],")",";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$isSelected",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ISSET","isset",98],"(",["T_VARIABLE","$optionData",98],")",["T_WHITESPACE"," ",98],"?",["T_WHITESPACE"," ",98],["T_STRING","in_array",98],"(",["T_VARIABLE","$link",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getId",98],"(",")",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$optionData",98],")",["T_WHITESPACE"," ",98],":",["T_WHITESPACE"," ",98],["T_STRING","false",98],";",["T_WHITESPACE","\n\n            ",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$linksBlock",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getLinkCheckedValue",100],"(",["T_VARIABLE","$link",100],")",["T_WHITESPACE"," ",100],["T_BOOLEAN_OR","||",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$isSelected",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$linkOptions",101],["T_WHITESPACE"," ",101],["T_PLUS_EQUAL","+=",101],["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_CONSTANT_ENCAPSED_STRING","'selected'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'1'",101],")",";",["T_WHITESPACE","\n            ",101],"}",["T_WHITESPACE","\n\n            ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$link",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getSampleFile",104],"(",")",["T_WHITESPACE"," ",104],["T_BOOLEAN_OR","||",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$link",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getSampleUrl",104],"(",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$linkOptions",105],["T_WHITESPACE"," ",105],["T_PLUS_EQUAL","+=",105],["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'sample_url'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$linksBlock",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getLinkSamlpeUrl",105],"(",["T_VARIABLE","$link",105],")",")",";",["T_WHITESPACE","\n            ",105],"}",["T_WHITESPACE","\n\n            ",106],["T_VARIABLE","$linksXmlObj",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","addCustomChild",108],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",108],",",["T_WHITESPACE"," ",108],["T_STRING","null",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$linkOptions",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$isObject",111],["T_WHITESPACE"," ",111],"?",["T_WHITESPACE"," ",111],["T_VARIABLE","$xmlModel",111],["T_WHITESPACE"," ",111],":",["T_WHITESPACE"," ",111],["T_VARIABLE","$xmlModel",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","asNiceXml",111],"(",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n",112],"}",["T_WHITESPACE","\n",113]]