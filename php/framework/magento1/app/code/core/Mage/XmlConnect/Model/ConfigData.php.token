[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Configuration data model\n *\n * @category    Mage\n * @package     Mage_Xmlconnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Model_ConfigData",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Model_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Default category\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","DEFAULT_CATEGORY",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'default'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Configuration prefix\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","CONFIG_PREFIX",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'app_'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Delete on update paths array\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_deleteOnUpdate",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Configuration data\n     *\n     * @var array\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_configuration",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Initialize configuration data\n     *\n     * @return null\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","_construct",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_init",67],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/configData'",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Create an array that will be stored in configuration data\n     *\n     * Create an array: application id with a prefix as key and\n     * configuration data as value\n     *\n     * @param int $applicationId\n     * @param array $configData\n     * @return array\n     *\/",70],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","_assignConfig",80],"(",["T_VARIABLE","$applicationId",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$configData",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",["T_STRING","self",82],["T_DOUBLE_COLON","::",82],["T_STRING","CONFIG_PREFIX",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$applicationId",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$configData",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Prepare posted data to store at configuration.\n     *\n     * Posted data have to be in predefined format:\n     * - array('category:config\/path\/param' => 'value')\n     * where : is a separator of category\n     * - array('config\/path\/param' => 'value')\n     * if key doesn't have a separator category will be set as default\n     *\n     * @param array $configuration posted data array\n     * @return array configuration data array\n     *\/",85],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","_prepareData",97],"(",["T_VARIABLE","$configuration",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$configData",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$configuration",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$key",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$val",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_LIST","list",101],"(",["T_VARIABLE","$category",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$path",101],")",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","explode",101],"(",["T_CONSTANT_ENCAPSED_STRING","':'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$key",101],",",["T_WHITESPACE"," ",101],["T_LNUMBER","2",101],")",["T_WHITESPACE"," ",101],"+",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_CONSTANT_ENCAPSED_STRING","''",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","''",101],")",";",["T_WHITESPACE","\n            ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_EMPTY","empty",102],"(",["T_VARIABLE","$path",102],")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$path",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$category",103],";",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$category",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","self",104],["T_DOUBLE_COLON","::",104],["T_STRING","DEFAULT_CATEGORY",104],";",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$val",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","is_array",106],"(",["T_VARIABLE","$val",106],")",["T_WHITESPACE"," ",106],"?",["T_WHITESPACE"," ",106],["T_STRING","implode",106],"(",["T_CONSTANT_ENCAPSED_STRING","','",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$val",106],")",["T_WHITESPACE"," ",106],":",["T_WHITESPACE"," ",106],["T_VARIABLE","$val",106],";",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$configData",107],"[",["T_STRING","strtolower",107],"(",["T_VARIABLE","$category",107],")","]","[",["T_STRING","strtolower",107],"(",["T_VARIABLE","$path",107],")","]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$val",107],";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$configData",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Prepare and set configuration data\n     *\n     * @param int $applicationId\n     * @param array $configData\n     * @param bool $replace\n     * @return Mage_XmlConnect_Model_ConfigData\n     *\/",112],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","setConfigData",120],"(",["T_VARIABLE","$applicationId",120],",",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$configData",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$replace",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","true",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$configData",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_prepareData",122],"(",["T_VARIABLE","$configData",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$arrayToStore",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_assignConfig",123],"(",["T_VARIABLE","$applicationId",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$configData",123],")",";",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$replace",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_configuration",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","array_merge",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_configuration",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$arrayToStore",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE"," ",126],["T_ELSE","else",126],["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_configuration",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_configuration",127],["T_WHITESPACE"," ",127],"+",["T_WHITESPACE"," ",127],["T_VARIABLE","$arrayToStore",127],";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Get configuration data\n     *\n     * @param int $applicationId\n     * @return array\n     *\/",132],["T_WHITESPACE","\n    ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","getConfigData",138],"(",["T_VARIABLE","$applicationId",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_LNUMBER","0",138],")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$applicationId",140],["T_WHITESPACE"," ",140],["T_BOOLEAN_AND","&&",140],["T_WHITESPACE"," ",140],["T_ISSET","isset",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_configuration",140],"[",["T_STRING","self",140],["T_DOUBLE_COLON","::",140],["T_STRING","CONFIG_PREFIX",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_VARIABLE","$applicationId",140],"]",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_configuration",141],"[",["T_STRING","self",141],["T_DOUBLE_COLON","::",141],["T_STRING","CONFIG_PREFIX",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$applicationId",141],"]",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_configuration",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Save predefined configuration data\n     *\n     * @return Mage_XmlConnect_Model_ConfigData\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","initSaveConfig",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_FOREACH","foreach",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_configuration",153],["T_WHITESPACE"," ",153],["T_AS","as",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$application",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$data",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$applicationId",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","str_ireplace",154],"(",["T_STRING","self",154],["T_DOUBLE_COLON","::",154],["T_STRING","CONFIG_PREFIX",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$application",154],")",";",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_deleteOnUpdate",155],"(",["T_VARIABLE","$applicationId",155],")",";",["T_WHITESPACE","\n            ",155],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$data",156],["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$category",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$config",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","saveConfig",157],"(",["T_VARIABLE","$applicationId",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$config",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$category",157],")",";",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Save configuration data by given params\n     *\n     * @param int $applicationId\n     * @param array $configData\n     * @param string $category\n     * @return Mage_XmlConnect_Model_ConfigData\n     *\/",163],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","saveConfig",171],"(",["T_VARIABLE","$applicationId",171],",",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$configData",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$category",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","self",171],["T_DOUBLE_COLON","::",171],["T_STRING","DEFAULT_CATEGORY",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_FOREACH","foreach",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$configData",173],["T_WHITESPACE"," ",173],["T_AS","as",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$path",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$value",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(","!",["T_STRING","is_scalar",174],"(",["T_VARIABLE","$value",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_STRING","Mage",175],["T_DOUBLE_COLON","::",175],["T_STRING","throwException",175],"(",["T_STRING","Mage",175],["T_DOUBLE_COLON","::",175],["T_STRING","helper",175],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect'",175],")",["T_OBJECT_OPERATOR","->",175],["T_STRING","__",175],"(",["T_CONSTANT_ENCAPSED_STRING","'Unsupported value type received'",175],")",")",";",["T_WHITESPACE","\n            ",175],"}",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getResource",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","saveConfig",177],"(",["T_VARIABLE","$applicationId",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$category",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$path",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$value",177],")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Get delete on update array paths\n     *\n     * @return array\n     *\/",182],["T_WHITESPACE","\n    ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","getDeleteOnUpdate",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_deleteOnUpdate",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Set delete on update array paths\n     *\n     * @param array $pathsToDelete\n     * @return Mage_XmlConnect_Model_ConfigData\n     *\/",192],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","setDeleteOnUpdate",198],"(",["T_ARRAY","array",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$pathsToDelete",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_deleteOnUpdate",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","array_merge",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_deleteOnUpdate",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$pathsToDelete",200],")",";",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Delete group of records those have to be deleted with update process\n     *\n     * @param int $applicationId\n     * @return Mage_XmlConnect_Model_ConfigData\n     *\/",204],["T_WHITESPACE","\n    ",209],["T_PROTECTED","protected",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","_deleteOnUpdate",210],"(",["T_VARIABLE","$applicationId",210],")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_FOREACH","foreach",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_deleteOnUpdate",212],["T_WHITESPACE"," ",212],["T_AS","as",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$category",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$path",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","deleteConfig",213],"(",["T_VARIABLE","$applicationId",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$category",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$path",213],",",["T_WHITESPACE"," ",213],["T_STRING","true",213],")",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n        ",214],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Delete config record\n     *\n     * @param int $applicationId\n     * @param string $category\n     * @param string $path\n     * @param bool $pathLike\n     * @return Mage_XmlConnect_Model_ConfigData\n     *\/",218],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","deleteConfig",227],"(",["T_VARIABLE","$applicationId",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$category",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","''",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$path",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","''",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$pathLike",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","false",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getResource",229],"(",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","deleteConfig",229],"(",["T_VARIABLE","$applicationId",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$category",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$path",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$pathLike",229],")",";",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Load Configuration data by filter params\n     *\n     * @param int $applicationId\n     * @param string $category\n     * @param string $path\n     * @param bool $pathLike\n     * @return array\n     *\/",233],["T_WHITESPACE","\n    ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","loadApplicationData",242],"(",["T_VARIABLE","$applicationId",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$category",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","''",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$path",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","''",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$pathLike",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","true",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_DOC_COMMENT","\/** @var $collection Mage_XmlConnect_Model_Resource_ConfigData_Collection *\/",244],["T_WHITESPACE","\n        ",244],["T_VARIABLE","$collection",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getCollection",245],"(",")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$collection",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","addApplicationIdFilter",246],"(",["T_VARIABLE","$applicationId",246],")",";",["T_WHITESPACE","\n\n        ",246],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$category",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$collection",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","addCategoryFilter",249],"(",["T_VARIABLE","$category",249],")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$path",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$collection",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","addPathFilter",253],"(",["T_VARIABLE","$path",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$pathLike",253],")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n\n        ",254],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$collection",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","toOptionArray",256],"(",")",";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Load configuration node value\n     *\n     * @param int $applicationId\n     * @param string $category\n     * @param string $path\n     * @return mixed\n     *\/",259],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","loadScalarValue",267],"(",["T_VARIABLE","$applicationId",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$category",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$path",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_DOC_COMMENT","\/** @var $collection Mage_XmlConnect_Model_Resource_ConfigData_Collection *\/",269],["T_WHITESPACE","\n        ",269],["T_VARIABLE","$collection",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getCollection",270],"(",")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$collection",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","addApplicationIdFilter",271],"(",["T_VARIABLE","$applicationId",271],")",";",["T_WHITESPACE","\n\n        ",271],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$category",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$collection",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","addCategoryFilter",274],"(",["T_VARIABLE","$category",274],")",";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n\n        ",275],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$path",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$collection",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","addPathFilter",278],"(",["T_VARIABLE","$path",278],",",["T_WHITESPACE"," ",278],["T_STRING","false",278],")",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n\n        ",279],["T_RETURN","return",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$result",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$collection",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","fetchItem",281],"(",")",")",["T_WHITESPACE"," ",281],"?",["T_WHITESPACE"," ",281],["T_VARIABLE","$result",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getValue",281],"(",")",["T_WHITESPACE"," ",281],":",["T_WHITESPACE"," ",281],["T_STRING","null",281],";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Update old pages records in database\n     * For data upgrade usage only\n     *\n     * @see data upgrade file: mysql4-data-upgrade-1.6.0.0-1.6.0.0.1.php\n     * @param array $records\n     * @return null\n     *\/",284],["T_WHITESPACE","\n    ",291],["T_PUBLIC","public",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","pagesUpgradeOldConfig",292],"(",["T_VARIABLE","$records",292],")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$newConfig",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",")",";",["T_WHITESPACE","\n        ",294],["T_DOC_COMMENT","\/** @var $applicationModel Mage_XmlConnect_Model_Application *\/",295],["T_WHITESPACE","\n        ",295],["T_VARIABLE","$applicationModel",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","Mage",296],["T_DOUBLE_COLON","::",296],["T_STRING","getModel",296],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/application'",296],")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$deprecatedFlag",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","Mage_XmlConnect_Model_Application",297],["T_DOUBLE_COLON","::",297],["T_STRING","DEPRECATED_CONFIG_FLAG",297],";",["T_WHITESPACE","\n\n        ",297],["T_FOREACH","foreach",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$records",299],["T_WHITESPACE"," ",299],["T_AS","as",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$applicationId",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_DOC_COMMENT","\/** @var $applicationModel Mage_XmlConnect_Model_Application *\/",300],["T_WHITESPACE","\n            ",300],["T_VARIABLE","$applicationModel",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","load",301],"(",["T_VARIABLE","$applicationId",301],")",";",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$configData",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","loadApplicationData",302],"(",["T_VARIABLE","$applicationId",302],")",";",["T_WHITESPACE","\n\n            ",302],["T_FOREACH","foreach",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$configData",304],"[",["T_VARIABLE","$deprecatedFlag",304],"]",["T_WHITESPACE"," ",304],["T_AS","as",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$deprecatedConfigKey",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$deprecatedConfigValue",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$pagesConfigPath",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'native\/pages\/'",305],";",["T_WHITESPACE","\n                ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_STRING","strpos",306],"(",["T_VARIABLE","$deprecatedConfigKey",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$pagesConfigPath",306],")",["T_WHITESPACE"," ",306],["T_IS_NOT_IDENTICAL","!==",306],["T_WHITESPACE"," ",306],["T_STRING","false",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                    ",306],["T_VARIABLE","$pagePath",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","substr",307],"(",["T_VARIABLE","$deprecatedConfigKey",307],",",["T_WHITESPACE"," ",307],["T_STRING","strlen",307],"(",["T_VARIABLE","$pagesConfigPath",307],")",")",";",["T_WHITESPACE","\n                    ",307],["T_LIST","list",308],"(",["T_VARIABLE","$id",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$type",308],")",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","explode",308],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$pagePath",308],")",";",["T_WHITESPACE","\n                    ",308],["T_VARIABLE","$newConfig",309],"[",["T_VARIABLE","$id",309],"]","[",["T_VARIABLE","$type",309],"]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$deprecatedConfigValue",309],";",["T_WHITESPACE","\n\n                    ",309],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","deleteConfig",311],"(",["T_VARIABLE","$applicationId",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$deprecatedFlag",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$deprecatedConfigKey",311],")",";",["T_WHITESPACE","\n                ",311],"}",["T_WHITESPACE","\n            ",312],"}",["T_WHITESPACE","\n\n            ",313],["T_FOREACH","foreach",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$newConfig",315],["T_WHITESPACE"," ",315],["T_AS","as",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$id",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$page",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n                ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_EMPTY","empty",316],"(",["T_VARIABLE","$page",316],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",316],"]",")",["T_WHITESPACE"," ",316],["T_BOOLEAN_OR","||",316],["T_WHITESPACE"," ",316],["T_EMPTY","empty",316],"(",["T_VARIABLE","$page",316],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",316],"]",")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                    ",316],["T_CONTINUE","continue",317],";",["T_WHITESPACE","\n                ",317],"}",["T_WHITESPACE","\n                ",318],["T_VARIABLE","$path",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'staticpage\/'",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_VARIABLE","$id",319],";",["T_WHITESPACE","\n\n                ",319],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getResource",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","saveConfig",321],"(",["T_WHITESPACE","\n                    ",321],["T_VARIABLE","$applicationId",322],",",["T_WHITESPACE"," ",322],["T_STRING","Mage_XmlConnect_Model_Application",322],["T_DOUBLE_COLON","::",322],["T_STRING","STATIC_PAGE_CATEGORY",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$path",322],",",["T_WHITESPACE"," ",322],["T_STRING","serialize",322],"(",["T_VARIABLE","$page",322],")",["T_WHITESPACE","\n                ",322],")",";",["T_WHITESPACE","\n            ",323],"}",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n",326],"}",["T_WHITESPACE","\n",327]]