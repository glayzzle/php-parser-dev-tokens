[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Customer order taxes xml renderer\n *\n * @category    Mage\n * @package     Mage_XmlConnect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_XmlConnect_Block_Customer_Order_Totals_Tax",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Tax_Block_Sales_Order_Tax",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Add order taxes rendered to XML object\n     *\n     * @param Mage_XmlConnect_Model_Simplexml_Element $totalsXmlObj\n     * @return null\n     *\/",36],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","addToXmlObject",42],"(",["T_STRING","Mage_XmlConnect_Model_Simplexml_Element",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$totalsXmlObj",42],")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getNewApi",44],"(",")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","addToXmlObjectApi23",45],"(",["T_VARIABLE","$totalsXmlObj",45],")",";",["T_WHITESPACE","\n            ",45],["T_RETURN","return",46],";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE","\n\n        ",47],["T_DOC_COMMENT","\/** @var $taxesXmlObj Mage_XmlConnect_Model_Simplexml_Element *\/",49],["T_WHITESPACE","\n        ",49],["T_VARIABLE","$taxesXmlObj",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$totalsXmlObj",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","addChild",50],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",50],")",";",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$fullInfo",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getOrder",52],"(",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","getFullTaxInfo",52],"(",")",";",["T_WHITESPACE","\n\n        ",52],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","displayFullSummary",54],"(",")",["T_WHITESPACE"," ",54],["T_BOOLEAN_AND","&&",54],["T_WHITESPACE"," ",54],"!",["T_EMPTY","empty",54],"(",["T_VARIABLE","$fullInfo",54],")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_FOREACH","foreach",55],["T_WHITESPACE"," ",55],"(",["T_ARRAY_CAST","(array)",55],["T_VARIABLE","$fullInfo",55],["T_WHITESPACE"," ",55],["T_AS","as",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$info",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_ISSET","isset",56],"(",["T_VARIABLE","$info",56],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",56],"]",")",["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$info",56],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",56],"]",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                    ",56],["T_CONTINUE","continue",57],";",["T_WHITESPACE","\n                ",57],"}",["T_WHITESPACE","\n\n                ",58],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_ARRAY_CAST","(array)",60],["T_VARIABLE","$info",60],"[",["T_CONSTANT_ENCAPSED_STRING","'rates'",60],"]",["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$rate",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                    ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_ISSET","isset",61],"(",["T_VARIABLE","$info",61],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",61],"]",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n                        ",61],["T_VARIABLE","$config",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$rate",62],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",62],"]",")",";",["T_WHITESPACE","\n                        ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(","!",["T_STRING","is_null",63],"(",["T_VARIABLE","$rate",63],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",63],"]",")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                            ",63],["T_VARIABLE","$config",64],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","sprintf",64],"(",["T_CONSTANT_ENCAPSED_STRING","'(%0.2f%%)'",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$rate",64],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",64],"]",")",";",["T_WHITESPACE","\n                        ",64],"}",["T_WHITESPACE","\n                        ",65],["T_VARIABLE","$taxesXmlObj",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","addCustomChild",66],"(",["T_WHITESPACE","\n                            ",66],["T_CONSTANT_ENCAPSED_STRING","'item'",67],",",["T_WHITESPACE"," ",67],["T_STRING","is_null",67],"(",["T_VARIABLE","$rate",67],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",67],"]",")",["T_WHITESPACE"," ",67],"?",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","''",67],["T_WHITESPACE"," ",67],":",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_formatPrice",67],"(",["T_VARIABLE","$info",67],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",67],"]",")",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$config",67],["T_WHITESPACE","\n                        ",67],")",";",["T_WHITESPACE","\n                    ",68],"}",["T_WHITESPACE","\n                ",69],"}",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$taxesXmlObj",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","addCustomChild",74],"(",["T_CONSTANT_ENCAPSED_STRING","'summary'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_formatPrice",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getSource",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getTaxAmount",74],"(",")",")",",",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'label'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","__",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax'",75],")",["T_WHITESPACE","\n        ",75],")",")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Add order taxes rendered to XML object. Api version 23\n     *\n     * @param Mage_XmlConnect_Model_Simplexml_Element $totalsXmlObj\n     * @return null\n     *\/",79],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","addToXmlObjectApi23",85],"(",["T_STRING","Mage_XmlConnect_Model_Simplexml_Element",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$totalsXmlObj",85],")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$fullInfo",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getOrder",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","getFullTaxInfo",87],"(",")",";",["T_WHITESPACE","\n\n        ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","displayFullSummary",89],"(",")",["T_WHITESPACE"," ",89],["T_BOOLEAN_AND","&&",89],["T_WHITESPACE"," ",89],"!",["T_EMPTY","empty",89],"(",["T_VARIABLE","$fullInfo",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_ARRAY_CAST","(array)",90],["T_VARIABLE","$fullInfo",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$info",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_ISSET","isset",91],"(",["T_VARIABLE","$info",91],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",91],"]",")",["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$info",91],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",91],"]",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                    ",91],["T_CONTINUE","continue",92],";",["T_WHITESPACE","\n                ",92],"}",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$i",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],";",["T_WHITESPACE","\n                ",94],["T_FOREACH","foreach",95],["T_WHITESPACE"," ",95],"(",["T_ARRAY_CAST","(array)",95],["T_VARIABLE","$info",95],"[",["T_CONSTANT_ENCAPSED_STRING","'rates'",95],"]",["T_WHITESPACE"," ",95],["T_AS","as",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$rate",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                    ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_ISSET","isset",96],"(",["T_VARIABLE","$info",96],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                        ",96],["T_VARIABLE","$config",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'tax_rate_'",97],["T_WHITESPACE"," ",97],".",["T_WHITESPACE"," ",97],["T_VARIABLE","$i",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'label'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$rate",97],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",97],"]",")",";",["T_WHITESPACE","\n                        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_STRING","is_null",98],"(",["T_VARIABLE","$rate",98],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",98],"]",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                            ",98],["T_VARIABLE","$config",99],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","sprintf",99],"(",["T_CONSTANT_ENCAPSED_STRING","'(%0.2f%%)'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$rate",99],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",99],"]",")",";",["T_WHITESPACE","\n                        ",99],"}",["T_WHITESPACE","\n                        ",100],["T_VARIABLE","$totalsXmlObj",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","addCustomChild",101],"(",["T_WHITESPACE","\n                            ",101],["T_CONSTANT_ENCAPSED_STRING","'item'",102],",",["T_WHITESPACE"," ",102],["T_STRING","is_null",102],"(",["T_VARIABLE","$rate",102],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",102],"]",")",["T_WHITESPACE"," ",102],"?",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],["T_WHITESPACE"," ",102],":",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_formatPrice",102],"(",["T_VARIABLE","$info",102],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",102],"]",")",",",["T_WHITESPACE"," ",102],["T_VARIABLE","$config",102],["T_WHITESPACE","\n                        ",102],")",";",["T_WHITESPACE","\n                        ",103],["T_INC","++",104],["T_VARIABLE","$i",104],";",["T_WHITESPACE","\n                    ",104],"}",["T_WHITESPACE","\n                ",105],"}",["T_WHITESPACE","\n            ",106],"}",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$totalsXmlObj",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","addCustomChild",110],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_formatPrice",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getSource",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getTaxAmount",110],"(",")",")",",",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",["T_WHITESPACE","\n            ",110],["T_CONSTANT_ENCAPSED_STRING","'id'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'tax_summary'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'label'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","__",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax'",111],")",["T_WHITESPACE","\n        ",111],")",")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Format price using order currency\n     *\n     * @param   float $amount\n     * @return  string\n     *\/",115],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","_formatPrice",121],"(",["T_VARIABLE","$amount",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_STRING","Mage",123],["T_DOUBLE_COLON","::",123],["T_STRING","helper",123],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/customer_order'",123],")",["T_OBJECT_OPERATOR","->",123],["T_STRING","formatPrice",123],"(",["T_VARIABLE","$this",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$amount",123],")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n",124],"}",["T_WHITESPACE","\n",125]]