[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Widget\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * WYSIWYG widget plugin form\n *\n * @category   Mage\n * @package    Mage_Widget\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Widget_Block_Adminhtml_Widget_Form",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Widget_Form",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Form with widget to select\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","_prepareForm",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$form",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_STRING","Varien_Data_Form",42],"(",")",";",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$fieldset",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$form",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","addFieldset",44],"(",["T_CONSTANT_ENCAPSED_STRING","'base_fieldset'",44],",",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","'legend'",45],["T_WHITESPACE","    ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","helper",45],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","__",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget'",45],")",["T_WHITESPACE","\n        ",45],")",")",";",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$select",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$fieldset",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","addField",48],"(",["T_CONSTANT_ENCAPSED_STRING","'select_widget_type'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'select'",48],",",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'label'",49],["T_WHITESPACE","                 ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","helper",49],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","__",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget Type'",49],")",",",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'title'",50],["T_WHITESPACE","                 ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","helper",50],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","__",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget Type'",50],")",",",["T_WHITESPACE","\n            ",50],["T_CONSTANT_ENCAPSED_STRING","'name'",51],["T_WHITESPACE","                  ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'widget_type'",51],",",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'required'",52],["T_WHITESPACE","              ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","true",52],",",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'options'",53],["T_WHITESPACE","               ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_getWidgetSelectOptions",53],"(",")",",",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'after_element_html'",54],["T_WHITESPACE","    ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_getWidgetSelectAfterHtml",54],"(",")",",",["T_WHITESPACE","\n        ",54],")",")",";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$form",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","setUseContainer",57],"(",["T_STRING","true",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$form",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","setId",58],"(",["T_CONSTANT_ENCAPSED_STRING","'widget_options_form'",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$form",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setMethod",59],"(",["T_CONSTANT_ENCAPSED_STRING","'post'",59],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$form",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","setAction",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getUrl",60],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/buildWidget'",60],")",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setForm",61],"(",["T_VARIABLE","$form",61],")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Prepare options for widgets HTML select\n     *\n     * @return array\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","_getWidgetSelectOptions",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_getAvailableWidgets",71],"(",["T_STRING","true",71],")",["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$data",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$options",72],"[",["T_VARIABLE","$data",72],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",72],"]","]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$data",72],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",72],"]",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$options",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Prepare widgets select after element HTML\n     *\n     * @return string\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","_getWidgetSelectAfterHtml",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$html",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'<p class=\"nm\"><small><\/small><\/p>'",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$i",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_LNUMBER","0",85],";",["T_WHITESPACE","\n        ",85],["T_FOREACH","foreach",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_getAvailableWidgets",86],"(",["T_STRING","true",86],")",["T_WHITESPACE"," ",86],["T_AS","as",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$data",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$html",87],["T_WHITESPACE"," ",87],["T_CONCAT_EQUAL",".=",87],["T_WHITESPACE"," ",87],["T_STRING","sprintf",87],"(",["T_CONSTANT_ENCAPSED_STRING","'<div id=\"widget-description-%s\" class=\"no-display\">%s<\/div>'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$i",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$data",87],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",87],"]",")",";",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$i",88],["T_INC","++",88],";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$html",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Return array of available widgets based on configuration\n     *\n     * @return array\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","_getAvailableWidgets",98],"(",["T_VARIABLE","$withEmptyElement",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","false",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","hasData",100],"(",["T_CONSTANT_ENCAPSED_STRING","'available_widgets'",100],")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$result",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",")",";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$allWidgets",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Mage",102],["T_DOUBLE_COLON","::",102],["T_STRING","getModel",102],"(",["T_CONSTANT_ENCAPSED_STRING","'widget\/widget'",102],")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getWidgetsArray",102],"(",")",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$skipped",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_getSkippedWidgets",103],"(",")",";",["T_WHITESPACE","\n            ",103],["T_FOREACH","foreach",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$allWidgets",104],["T_WHITESPACE"," ",104],["T_AS","as",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$widget",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_STRING","is_array",105],"(",["T_VARIABLE","$skipped",105],")",["T_WHITESPACE"," ",105],["T_BOOLEAN_AND","&&",105],["T_WHITESPACE"," ",105],["T_STRING","in_array",105],"(",["T_VARIABLE","$widget",105],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",105],"]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$skipped",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                    ",105],["T_CONTINUE","continue",106],";",["T_WHITESPACE","\n                ",106],"}",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$result",108],"[","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$widget",108],";",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n            ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$withEmptyElement",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_STRING","array_unshift",111],"(",["T_VARIABLE","$result",111],",",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_WHITESPACE","\n                    ",111],["T_CONSTANT_ENCAPSED_STRING","'type'",112],["T_WHITESPACE","        ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","''",112],",",["T_WHITESPACE","\n                    ",112],["T_CONSTANT_ENCAPSED_STRING","'name'",113],["T_WHITESPACE","        ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","helper",113],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","__",113],"(",["T_CONSTANT_ENCAPSED_STRING","'-- Please Select --'",113],")",",",["T_WHITESPACE","\n                    ",113],["T_CONSTANT_ENCAPSED_STRING","'description'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","''",114],",",["T_WHITESPACE","\n                ",114],")",")",";",["T_WHITESPACE","\n            ",115],"}",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setData",117],"(",["T_CONSTANT_ENCAPSED_STRING","'available_widgets'",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$result",117],")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n\n        ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_getData",120],"(",["T_CONSTANT_ENCAPSED_STRING","'available_widgets'",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Return array of widgets disabled for selection\n     *\n     * @return array\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","_getSkippedWidgets",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_STRING","Mage",130],["T_DOUBLE_COLON","::",130],["T_STRING","registry",130],"(",["T_CONSTANT_ENCAPSED_STRING","'skip_widgets'",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n",131],"}",["T_WHITESPACE","\n",132]]