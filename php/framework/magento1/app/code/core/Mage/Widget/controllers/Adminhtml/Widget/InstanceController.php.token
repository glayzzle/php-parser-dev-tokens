[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Widget\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Admihtml Manage Widgets Instance Controller\n *\n * @category   Mage\n * @package    Mage_Widget\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Widget_Adminhtml_Widget_InstanceController",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Controller_Action",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Session getter\n     *\n     * @return Mage_Adminhtml_Model_Session\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","_getSession",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_STRING","Mage",43],["T_DOUBLE_COLON","::",43],["T_STRING","getSingleton",43],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Load layout, set active menu and breadcrumbs\n     *\n     * @return Mage_Widget_Adminhtml_Widget_InstanceController\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","_initAction",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","loadLayout",53],"(",")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","_setActiveMenu",54],"(",["T_CONSTANT_ENCAPSED_STRING","'cms\/widgets'",54],")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","_addBreadcrumb",55],"(",["T_STRING","Mage",55],["T_DOUBLE_COLON","::",55],["T_STRING","helper",55],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",55],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","__",55],"(",["T_CONSTANT_ENCAPSED_STRING","'CMS'",55],")",",",["T_WHITESPACE","\n                ",55],["T_STRING","Mage",56],["T_DOUBLE_COLON","::",56],["T_STRING","helper",56],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","__",56],"(",["T_CONSTANT_ENCAPSED_STRING","'CMS'",56],")",")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","_addBreadcrumb",57],"(",["T_STRING","Mage",57],["T_DOUBLE_COLON","::",57],["T_STRING","helper",57],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","__",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Widget Instances'",57],")",",",["T_WHITESPACE","\n                ",57],["T_STRING","Mage",58],["T_DOUBLE_COLON","::",58],["T_STRING","helper",58],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","__",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Widget Instances'",58],")",")",";",["T_WHITESPACE","\n        ",58],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Init widget instance object and set it to registry\n     *\n     * @return Mage_Widget_Model_Widget_Instance|boolean\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","_initWidgetInstance",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_title",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","__",69],"(",["T_CONSTANT_ENCAPSED_STRING","'CMS'",69],")",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","_title",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","__",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Widgets'",69],")",")",";",["T_WHITESPACE","\n\n        ",69],["T_DOC_COMMENT","\/** @var $widgetInstance Mage_Widget_Model_Widget_Instance *\/",71],["T_WHITESPACE","\n        ",71],["T_VARIABLE","$widgetInstance",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","Mage",72],["T_DOUBLE_COLON","::",72],["T_STRING","getModel",72],"(",["T_CONSTANT_ENCAPSED_STRING","'widget\/widget_instance'",72],")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$instanceId",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getRequest",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getParam",74],"(",["T_CONSTANT_ENCAPSED_STRING","'instance_id'",74],",",["T_WHITESPACE"," ",74],["T_STRING","null",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$type",75],["T_WHITESPACE","       ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getRequest",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","getParam",75],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",75],",",["T_WHITESPACE"," ",75],["T_STRING","null",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$package",76],["T_WHITESPACE","    ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getRequest",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getParam",76],"(",["T_CONSTANT_ENCAPSED_STRING","'package'",76],",",["T_WHITESPACE"," ",76],["T_STRING","null",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$theme",77],["T_WHITESPACE","      ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getRequest",77],"(",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getParam",77],"(",["T_CONSTANT_ENCAPSED_STRING","'theme'",77],",",["T_WHITESPACE"," ",77],["T_STRING","null",77],")",";",["T_WHITESPACE","\n\n        ",77],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$instanceId",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$widgetInstance",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","load",80],"(",["T_VARIABLE","$instanceId",80],")",";",["T_WHITESPACE","\n            ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_VARIABLE","$widgetInstance",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getId",81],"(",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_getSession",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","addError",82],"(",["T_STRING","Mage",82],["T_DOUBLE_COLON","::",82],["T_STRING","helper",82],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong widget instance specified.'",82],")",")",";",["T_WHITESPACE","\n                ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_STRING","false",83],";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE"," ",85],["T_ELSE","else",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$packageTheme",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$package",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'\/'",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_VARIABLE","$theme",86],["T_WHITESPACE"," ",86],["T_IS_EQUAL","==",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'\/'",86],["T_WHITESPACE"," ",86],"?",["T_WHITESPACE"," ",86],["T_STRING","null",86],["T_WHITESPACE"," ",86],":",["T_WHITESPACE"," ",86],["T_VARIABLE","$package",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'\/'",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_VARIABLE","$theme",86],";",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$widgetInstance",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setType",87],"(",["T_VARIABLE","$type",87],")",["T_WHITESPACE","\n                ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","setPackageTheme",88],"(",["T_VARIABLE","$packageTheme",88],")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n        ",89],["T_STRING","Mage",90],["T_DOUBLE_COLON","::",90],["T_STRING","register",90],"(",["T_CONSTANT_ENCAPSED_STRING","'current_widget_instance'",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$widgetInstance",90],")",";",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$widgetInstance",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Widget Instances Grid\n     *\n     *\/",94],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","indexAction",98],"(",")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_title",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","__",100],"(",["T_CONSTANT_ENCAPSED_STRING","'CMS'",100],")",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","_title",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","__",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Widgets'",100],")",")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_initAction",102],"(",")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","renderLayout",103],"(",")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * New widget instance action (forward to edit action)\n     *\n     *\/",106],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","newAction",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_forward",112],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",112],")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Edit widget instance action\n     *\n     *\/",115],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","editAction",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$widgetInstance",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_initWidgetInstance",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_VARIABLE","$widgetInstance",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_redirect",123],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",123],")",";",["T_WHITESPACE","\n            ",123],["T_RETURN","return",124],";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_title",127],"(",["T_VARIABLE","$widgetInstance",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getId",127],"(",")",["T_WHITESPACE"," ",127],"?",["T_WHITESPACE"," ",127],["T_VARIABLE","$widgetInstance",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getTitle",127],"(",")",["T_WHITESPACE"," ",127],":",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","__",127],"(",["T_CONSTANT_ENCAPSED_STRING","'New Instance'",127],")",")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_initAction",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","renderLayout",130],"(",")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Set body to response\n     *\n     * @param string $body\n     *\/",133],["T_WHITESPACE","\n    ",137],["T_PRIVATE","private",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","setBody",138],"(",["T_VARIABLE","$body",138],")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_STRING","Mage",140],["T_DOUBLE_COLON","::",140],["T_STRING","getSingleton",140],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate_inline'",140],")",["T_OBJECT_OPERATOR","->",140],["T_STRING","processResponseBody",140],"(",["T_VARIABLE","$body",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getResponse",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","setBody",141],"(",["T_VARIABLE","$body",141],")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Validate action\n     *\n     *\/",144],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","validateAction",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$response",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_NEW","new",150],["T_WHITESPACE"," ",150],["T_STRING","Varien_Object",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$response",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","setError",151],"(",["T_STRING","false",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$widgetInstance",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_initWidgetInstance",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$result",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$widgetInstance",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","validate",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$result",154],["T_WHITESPACE"," ",154],["T_IS_NOT_IDENTICAL","!==",154],["T_WHITESPACE"," ",154],["T_STRING","true",154],["T_WHITESPACE"," ",154],["T_BOOLEAN_AND","&&",154],["T_WHITESPACE"," ",154],["T_STRING","is_string",154],"(",["T_VARIABLE","$result",154],")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_getSession",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","addError",155],"(",["T_VARIABLE","$result",155],")",";",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_initLayoutMessages",156],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",156],")",";",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$response",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","setError",157],"(",["T_STRING","true",157],")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$response",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","setMessage",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getLayout",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getMessagesBlock",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getGroupedHtml",158],"(",")",")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setBody",160],"(",["T_VARIABLE","$response",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","toJson",160],"(",")",")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Save action\n     *\n     *\/",163],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","saveAction",167],"(",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$widgetInstance",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_initWidgetInstance",169],"(",")",";",["T_WHITESPACE","\n        ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(","!",["T_VARIABLE","$widgetInstance",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_redirect",171],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",171],")",";",["T_WHITESPACE","\n            ",171],["T_RETURN","return",172],";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$widgetInstance",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","setTitle",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getRequest",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getPost",174],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",174],")",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","setStoreIds",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getRequest",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getPost",175],"(",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",175],",",["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",["T_LNUMBER","0",175],")",")",")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","setSortOrder",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getRequest",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getPost",176],"(",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",176],",",["T_WHITESPACE"," ",176],["T_LNUMBER","0",176],")",")",["T_WHITESPACE","\n            ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","setPageGroups",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getRequest",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","getPost",177],"(",["T_CONSTANT_ENCAPSED_STRING","'widget_instance'",177],")",")",["T_WHITESPACE","\n            ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","setWidgetParameters",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getRequest",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","getPost",178],"(",["T_CONSTANT_ENCAPSED_STRING","'parameters'",178],")",")",";",["T_WHITESPACE","\n        ",178],["T_TRY","try",179],["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$widgetInstance",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","save",180],"(",")",";",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_getSession",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","addSuccess",181],"(",["T_WHITESPACE","\n                ",181],["T_STRING","Mage",182],["T_DOUBLE_COLON","::",182],["T_STRING","helper",182],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","__",182],"(",["T_CONSTANT_ENCAPSED_STRING","'The widget instance has been saved.'",182],")",["T_WHITESPACE","\n            ",182],")",";",["T_WHITESPACE","\n            ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getRequest",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","getParam",184],"(",["T_CONSTANT_ENCAPSED_STRING","'back'",184],",",["T_WHITESPACE"," ",184],["T_STRING","false",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_redirect",185],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",185],",",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_WHITESPACE","\n                    ",185],["T_CONSTANT_ENCAPSED_STRING","'instance_id'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$widgetInstance",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getId",186],"(",")",",",["T_WHITESPACE","\n                    ",186],["T_CONSTANT_ENCAPSED_STRING","'_current'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_STRING","true",187],["T_WHITESPACE","\n                ",187],")",")",";",["T_WHITESPACE","\n            ",188],"}",["T_WHITESPACE"," ",189],["T_ELSE","else",189],["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_redirect",190],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",190],")",";",["T_WHITESPACE","\n            ",190],"}",["T_WHITESPACE","\n            ",191],["T_RETURN","return",192],";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE"," ",193],["T_CATCH","catch",193],["T_WHITESPACE"," ",193],"(",["T_STRING","Mage_Core_Exception",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$e",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_getSession",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","addError",194],"(",["T_VARIABLE","$e",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getMessage",194],"(",")",")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE"," ",195],["T_CATCH","catch",195],["T_WHITESPACE"," ",195],"(",["T_STRING","Exception",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$e",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_STRING","Mage",196],["T_DOUBLE_COLON","::",196],["T_STRING","logException",196],"(",["T_VARIABLE","$e",196],")",";",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_getSession",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","addError",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","__",197],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred during saving a widget: %s'",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$e",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getMessage",197],"(",")",")",")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_redirect",199],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",199],",",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_STRING","true",199],")",")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Delete Action\n     *\n     *\/",202],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","deleteAction",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$widgetInstance",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_initWidgetInstance",208],"(",")",";",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$widgetInstance",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_TRY","try",210],["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$widgetInstance",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","delete",211],"(",")",";",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_getSession",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","addSuccess",212],"(",["T_WHITESPACE","\n                    ",212],["T_STRING","Mage",213],["T_DOUBLE_COLON","::",213],["T_STRING","helper",213],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",213],")",["T_OBJECT_OPERATOR","->",213],["T_STRING","__",213],"(",["T_CONSTANT_ENCAPSED_STRING","'The widget instance has been deleted.'",213],")",["T_WHITESPACE","\n                ",213],")",";",["T_WHITESPACE","\n            ",214],"}",["T_WHITESPACE"," ",215],["T_CATCH","catch",215],["T_WHITESPACE"," ",215],"(",["T_STRING","Exception",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$e",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_getSession",216],"(",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","addError",216],"(",["T_VARIABLE","$e",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getMessage",216],"(",")",")",";",["T_WHITESPACE","\n            ",216],"}",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_redirect",219],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",219],")",";",["T_WHITESPACE","\n        ",219],["T_RETURN","return",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Categories chooser Action (Ajax request)\n     *\n     *\/",223],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","categoriesAction",227],"(",")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$selected",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getRequest",229],"(",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","getParam",229],"(",["T_CONSTANT_ENCAPSED_STRING","'selected'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","''",229],")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$isAnchorOnly",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getRequest",230],"(",")",["T_OBJECT_OPERATOR","->",230],["T_STRING","getParam",230],"(",["T_CONSTANT_ENCAPSED_STRING","'is_anchor_only'",230],",",["T_WHITESPACE"," ",230],["T_LNUMBER","0",230],")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$chooser",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getLayout",231],"(",")",["T_WHITESPACE","\n            ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","createBlock",232],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_category_widget_chooser'",232],")",["T_WHITESPACE","\n            ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","setUseMassaction",233],"(",["T_STRING","true",233],")",["T_WHITESPACE","\n            ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","setId",234],"(",["T_STRING","Mage",234],["T_DOUBLE_COLON","::",234],["T_STRING","helper",234],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",234],")",["T_OBJECT_OPERATOR","->",234],["T_STRING","uniqHash",234],"(",["T_CONSTANT_ENCAPSED_STRING","'categories'",234],")",")",["T_WHITESPACE","\n            ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","setIsAnchorOnly",235],"(",["T_VARIABLE","$isAnchorOnly",235],")",["T_WHITESPACE","\n            ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","setSelectedCategories",236],"(",["T_STRING","explode",236],"(",["T_CONSTANT_ENCAPSED_STRING","','",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$selected",236],")",")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","setBody",237],"(",["T_VARIABLE","$chooser",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","toHtml",237],"(",")",")",";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n\n    ",238],["T_DOC_COMMENT","\/**\n     * Products chooser Action (Ajax request)\n     *\n     *\/",240],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","productsAction",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$selected",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getRequest",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","getParam",246],"(",["T_CONSTANT_ENCAPSED_STRING","'selected'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","''",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$productTypeId",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getRequest",247],"(",")",["T_OBJECT_OPERATOR","->",247],["T_STRING","getParam",247],"(",["T_CONSTANT_ENCAPSED_STRING","'product_type_id'",247],",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","''",247],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$chooser",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getLayout",248],"(",")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","createBlock",249],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_widget_chooser'",249],")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","setName",250],"(",["T_STRING","Mage",250],["T_DOUBLE_COLON","::",250],["T_STRING","helper",250],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",250],")",["T_OBJECT_OPERATOR","->",250],["T_STRING","uniqHash",250],"(",["T_CONSTANT_ENCAPSED_STRING","'products_grid_'",250],")",")",["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","setUseMassaction",251],"(",["T_STRING","true",251],")",["T_WHITESPACE","\n            ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","setProductTypeId",252],"(",["T_VARIABLE","$productTypeId",252],")",["T_WHITESPACE","\n            ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","setSelectedProducts",253],"(",["T_STRING","explode",253],"(",["T_CONSTANT_ENCAPSED_STRING","','",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$selected",253],")",")",";",["T_WHITESPACE","\n        ",253],["T_COMMENT","\/* @var $serializer Mage_Adminhtml_Block_Widget_Grid_Serializer *\/",254],["T_WHITESPACE","\n        ",254],["T_VARIABLE","$serializer",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getLayout",255],"(",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","createBlock",255],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/widget_grid_serializer'",255],")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$serializer",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","initSerializerBlock",256],"(",["T_VARIABLE","$chooser",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'getSelectedProducts'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'selected_products'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'selected_products'",256],")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","setBody",257],"(",["T_VARIABLE","$chooser",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","toHtml",257],"(",")",".",["T_VARIABLE","$serializer",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","toHtml",257],"(",")",")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Blocks Action (Ajax request)\n     *\n     *\/",260],["T_WHITESPACE","\n    ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","blocksAction",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_COMMENT","\/* @var $widgetInstance age_Widget_Model_Widget_Instance *\/",266],["T_WHITESPACE","\n        ",266],["T_VARIABLE","$widgetInstance",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_initWidgetInstance",267],"(",")",";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$layout",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getRequest",268],"(",")",["T_OBJECT_OPERATOR","->",268],["T_STRING","getParam",268],"(",["T_CONSTANT_ENCAPSED_STRING","'layout'",268],")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$selected",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getRequest",269],"(",")",["T_OBJECT_OPERATOR","->",269],["T_STRING","getParam",269],"(",["T_CONSTANT_ENCAPSED_STRING","'selected'",269],",",["T_WHITESPACE"," ",269],["T_STRING","null",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$blocksChooser",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getLayout",270],"(",")",["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","createBlock",271],"(",["T_CONSTANT_ENCAPSED_STRING","'widget\/adminhtml_widget_instance_edit_chooser_block'",271],")",["T_WHITESPACE","\n            ",271],["T_OBJECT_OPERATOR","->",272],["T_STRING","setArea",272],"(",["T_VARIABLE","$widgetInstance",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getArea",272],"(",")",")",["T_WHITESPACE","\n            ",272],["T_OBJECT_OPERATOR","->",273],["T_STRING","setPackage",273],"(",["T_VARIABLE","$widgetInstance",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getPackage",273],"(",")",")",["T_WHITESPACE","\n            ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","setTheme",274],"(",["T_VARIABLE","$widgetInstance",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getTheme",274],"(",")",")",["T_WHITESPACE","\n            ",274],["T_OBJECT_OPERATOR","->",275],["T_STRING","setLayoutHandle",275],"(",["T_VARIABLE","$layout",275],")",["T_WHITESPACE","\n            ",275],["T_OBJECT_OPERATOR","->",276],["T_STRING","setSelected",276],"(",["T_VARIABLE","$selected",276],")",["T_WHITESPACE","\n            ",276],["T_OBJECT_OPERATOR","->",277],["T_STRING","setAllowedBlocks",277],"(",["T_VARIABLE","$widgetInstance",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getWidgetSupportedBlocks",277],"(",")",")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","setBody",278],"(",["T_VARIABLE","$blocksChooser",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","toHtml",278],"(",")",")",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Templates Chooser Action (Ajax request)\n     *\n     *\/",281],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","templateAction",285],"(",")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_COMMENT","\/* @var $widgetInstance age_Widget_Model_Widget_Instance *\/",287],["T_WHITESPACE","\n        ",287],["T_VARIABLE","$widgetInstance",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_initWidgetInstance",288],"(",")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$block",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getRequest",289],"(",")",["T_OBJECT_OPERATOR","->",289],["T_STRING","getParam",289],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",289],")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$selected",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getRequest",290],"(",")",["T_OBJECT_OPERATOR","->",290],["T_STRING","getParam",290],"(",["T_CONSTANT_ENCAPSED_STRING","'selected'",290],",",["T_WHITESPACE"," ",290],["T_STRING","null",290],")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$templateChooser",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getLayout",291],"(",")",["T_WHITESPACE","\n            ",291],["T_OBJECT_OPERATOR","->",292],["T_STRING","createBlock",292],"(",["T_CONSTANT_ENCAPSED_STRING","'widget\/adminhtml_widget_instance_edit_chooser_template'",292],")",["T_WHITESPACE","\n            ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","setSelected",293],"(",["T_VARIABLE","$selected",293],")",["T_WHITESPACE","\n            ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","setWidgetTemplates",294],"(",["T_VARIABLE","$widgetInstance",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getWidgetSupportedTemplatesByBlock",294],"(",["T_VARIABLE","$block",294],")",")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","setBody",295],"(",["T_VARIABLE","$templateChooser",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","toHtml",295],"(",")",")",";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_DOC_COMMENT","\/**\n     * Check is allowed access to action\n     *\n     * @return bool\n     *\/",298],["T_WHITESPACE","\n    ",302],["T_PROTECTED","protected",303],["T_WHITESPACE"," ",303],["T_FUNCTION","function",303],["T_WHITESPACE"," ",303],["T_STRING","_isAllowed",303],"(",")",["T_WHITESPACE","\n    ",303],"{",["T_WHITESPACE","\n        ",304],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_STRING","Mage",305],["T_DOUBLE_COLON","::",305],["T_STRING","getSingleton",305],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",305],")",["T_OBJECT_OPERATOR","->",305],["T_STRING","isAllowed",305],"(",["T_CONSTANT_ENCAPSED_STRING","'cms\/widget_instance'",305],")",";",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n",306],"}",["T_WHITESPACE","\n",307]]