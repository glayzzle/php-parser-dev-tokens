[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Widget\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Widget Instance layouts chooser\n *\n * @category    Mage\n * @package     Mage_Widget\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Widget_Block_Adminhtml_Widget_Instance_Edit_Chooser_Layout",34],["T_WHITESPACE","\n    ",34],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Widget",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_layoutHandles",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",")",";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * layout handles wildcar patterns\n     *\n     * @var array\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_layoutHandlePatterns",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n        ",44],["T_CONSTANT_ENCAPSED_STRING","'^default$'",45],",",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'^catalog_category_*'",46],",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'^catalog_product_*'",47],",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'^PRODUCT_*'",48],["T_WHITESPACE","\n    ",48],")",";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","_construct",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_STRING","parent",56],["T_DOUBLE_COLON","::",56],["T_STRING","_construct",56],"(",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Add not allowed layout handle pattern\n     *\n     * @param string $pattern\n     * @return Mage_Widget_Block_Adminhtml_Widget_Instance_Edit_Chooser_Layout\n     *\/",59],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","addLayoutHandlePattern",65],"(",["T_VARIABLE","$pattern",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_layoutHandlePatterns",67],"[","]",["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$pattern",67],";",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Getter\n     *\n     * @return array\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","getLayoutHandlePatterns",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_layoutHandlePatterns",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Getter\n     *\n     * @return string\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getArea",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(","!",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_getData",88],"(",["T_CONSTANT_ENCAPSED_STRING","'area'",88],")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_STRING","Mage_Core_Model_Design_Package",89],["T_DOUBLE_COLON","::",89],["T_STRING","DEFAULT_AREA",89],";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_getData",91],"(",["T_CONSTANT_ENCAPSED_STRING","'area'",91],")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Getter\n     *\n     * @return string\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","getPackage",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_getData",101],"(",["T_CONSTANT_ENCAPSED_STRING","'package'",101],")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_STRING","Mage_Core_Model_Design_Package",102],["T_DOUBLE_COLON","::",102],["T_STRING","DEFAULT_PACKAGE",102],";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_getData",104],"(",["T_CONSTANT_ENCAPSED_STRING","'package'",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Getter\n     *\n     * @return string\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","getTheme",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(","!",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_getData",114],"(",["T_CONSTANT_ENCAPSED_STRING","'theme'",114],")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING","Mage_Core_Model_Design_Package",115],["T_DOUBLE_COLON","::",115],["T_STRING","DEFAULT_THEME",115],";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_getData",117],"(",["T_CONSTANT_ENCAPSED_STRING","'theme'",117],")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Prepare html output\n     *\n     * @return string\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","_toHtml",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$selectBlock",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getLayout",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","createBlock",127],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/html_select'",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","setName",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getSelectName",128],"(",")",")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","setId",129],"(",["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",129],")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","setClass",130],"(",["T_CONSTANT_ENCAPSED_STRING","'required-entry select'",130],")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","setExtraParams",131],"(",["T_CONSTANT_ENCAPSED_STRING","\"onchange=\\\"WidgetInstance.loadSelectBoxByType(\\'block_reference\\', \"",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE","\n                            ",131],["T_CONSTANT_ENCAPSED_STRING","\"this.up(\\'div.pages\\'), this.value)\\\"\"",132],")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","setOptions",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getLayoutHandles",133],"(",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getArea",134],"(",")",",",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getPackage",135],"(",")",",",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getTheme",136],"(",")",")",")",";",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_STRING","parent",137],["T_DOUBLE_COLON","::",137],["T_STRING","_toHtml",137],"(",")",".",["T_VARIABLE","$selectBlock",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","toHtml",137],"(",")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Retrieve layout handles\n     *\n     * @param string $area\n     * @param string $package\n     * @param string $theme\n     * @return array\n     *\/",140],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","getLayoutHandles",148],"(",["T_VARIABLE","$area",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$package",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$theme",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_EMPTY","empty",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_layoutHandles",150],")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_COMMENT","\/* @var $update Mage_Core_Model_Layout_Update *\/",151],["T_WHITESPACE","\n            ",151],["T_VARIABLE","$update",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","Mage",152],["T_DOUBLE_COLON","::",152],["T_STRING","getModel",152],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/layout'",152],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","getUpdate",152],"(",")",";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_layoutHandles",153],"[",["T_CONSTANT_ENCAPSED_STRING","''",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","Mage",153],["T_DOUBLE_COLON","::",153],["T_STRING","helper",153],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","__",153],"(",["T_CONSTANT_ENCAPSED_STRING","'-- Please Select --'",153],")",";",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_collectLayoutHandles",154],"(",["T_VARIABLE","$update",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getFileLayoutUpdatesXml",154],"(",["T_VARIABLE","$area",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$package",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$theme",154],")",")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n        ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_layoutHandles",156],";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Filter and collect layout handles into array\n     *\n     * @param Mage_Core_Model_Layout_Element $layoutHandles\n     *\/",159],["T_WHITESPACE","\n    ",163],["T_PROTECTED","protected",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","_collectLayoutHandles",164],"(",["T_VARIABLE","$layoutHandles",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$layoutHandlesArr",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$layoutHandles",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","xpath",166],"(",["T_CONSTANT_ENCAPSED_STRING","'\/*\/*\/label\/..'",166],")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_FOREACH","foreach",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$layoutHandlesArr",167],["T_WHITESPACE"," ",167],["T_AS","as",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$node",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_filterLayoutHandle",168],"(",["T_VARIABLE","$node",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getName",168],"(",")",")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$helper",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","Mage",169],["T_DOUBLE_COLON","::",169],["T_STRING","helper",169],"(",["T_STRING","Mage_Core_Model_Layout",169],["T_DOUBLE_COLON","::",169],["T_STRING","findTranslationModuleName",169],"(",["T_VARIABLE","$node",169],")",")",";",["T_WHITESPACE","\n                    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_layoutHandles",170],"[",["T_VARIABLE","$node",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getName",170],"(",")","]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","helper",170],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","jsQuoteEscape",170],"(",["T_WHITESPACE","\n                        ",170],["T_VARIABLE","$helper",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","__",171],"(",["T_STRING_CAST","(string)",171],["T_VARIABLE","$node",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","label",171],")",["T_WHITESPACE","\n                    ",171],")",";",["T_WHITESPACE","\n                ",172],"}",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE","\n            ",174],["T_STRING","asort",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_layoutHandles",175],",",["T_WHITESPACE"," ",175],["T_STRING","SORT_STRING",175],")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Check if given layout handle allowed (do not match not allowed patterns)\n     *\n     * @param string $layoutHandle\n     * @return boolean\n     *\/",179],["T_WHITESPACE","\n    ",184],["T_PROTECTED","protected",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","_filterLayoutHandle",185],"(",["T_VARIABLE","$layoutHandle",185],")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$wildCard",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'\/('",187],".",["T_STRING","implode",187],"(",["T_CONSTANT_ENCAPSED_STRING","')|('",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getLayoutHandlePatterns",187],"(",")",")",".",["T_CONSTANT_ENCAPSED_STRING","')\/'",187],";",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_STRING","preg_match",188],"(",["T_VARIABLE","$wildCard",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$layoutHandle",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_STRING","false",189],";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n        ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_STRING","true",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n",192],"}",["T_WHITESPACE","\n",193]]