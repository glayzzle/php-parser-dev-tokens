[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Checkout\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Wishlist sidebar block\n *\n * @category    Mage\n * @package     Mage_Checkout\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Checkout_Block_Cart_Sidebar",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Checkout_Block_Cart_Minicart",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","XML_PATH_CHECKOUT_SIDEBAR_COUNT",37],["T_WHITESPACE","                  ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'checkout\/sidebar\/count'",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","XML_PATH_CHECKOUT_MINICART_VISIBLE_ITEMS_COUNT",38],["T_WHITESPACE","   ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart\/minicart_visible_items'",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Class constructor\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","__construct",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","__construct",45],"(",")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","addItemRender",46],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart_item_renderer'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart\/sidebar\/default.phtml'",46],")",";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Retrieve count of display recently added items\n     *\n     * @return int\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","getItemCount",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$count",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getData",56],"(",["T_CONSTANT_ENCAPSED_STRING","'item_count'",56],")",";",["T_WHITESPACE","\n        ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_STRING","is_null",57],"(",["T_VARIABLE","$count",57],")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$count",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","Mage",58],["T_DOUBLE_COLON","::",58],["T_STRING","getStoreConfig",58],"(",["T_STRING","self",58],["T_DOUBLE_COLON","::",58],["T_STRING","XML_PATH_CHECKOUT_SIDEBAR_COUNT",58],")",";",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setData",59],"(",["T_CONSTANT_ENCAPSED_STRING","'item_count'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$count",59],")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n        ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$count",61],";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Get array of last added items\n     *\n     * @param null $count\n     * @return array\n     *\/",64],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","getRecentItems",70],"(",["T_VARIABLE","$count",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","null",70],")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(","!",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getSummaryCount",72],"(",")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",")",";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n        ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$count",75],["T_WHITESPACE"," ",75],["T_IS_IDENTICAL","===",75],["T_WHITESPACE"," ",75],["T_STRING","null",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$count",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getItemCount",76],"(",")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_STRING","array_slice",78],"(",["T_STRING","array_reverse",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getItems",78],"(",")",")",",",["T_WHITESPACE"," ",78],["T_LNUMBER","0",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$count",78],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Get shopping cart subtotal.\n     *\n     * It will include tax, if required by config settings.\n     *\n     * @param   bool $skipTax flag for getting price with tax or not. Ignored in case when we display just subtotal incl.tax\n     * @return  decimal\n     *\/",81],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","getSubtotal",89],"(",["T_VARIABLE","$skipTax",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","true",89],")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$subtotal",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$totals",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getTotals",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$config",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","getSingleton",93],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/config'",93],")",";",["T_WHITESPACE","\n        ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$totals",94],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$config",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","displayCartSubtotalBoth",95],"(",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$skipTax",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                    ",96],["T_VARIABLE","$subtotal",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$totals",97],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal'",97],"]",["T_OBJECT_OPERATOR","->",97],["T_STRING","getValueExclTax",97],"(",")",";",["T_WHITESPACE","\n                ",97],"}",["T_WHITESPACE"," ",98],["T_ELSE","else",98],["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                    ",98],["T_VARIABLE","$subtotal",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$totals",99],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal'",99],"]",["T_OBJECT_OPERATOR","->",99],["T_STRING","getValueInclTax",99],"(",")",";",["T_WHITESPACE","\n                ",99],"}",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE"," ",101],["T_ELSEIF","elseif",101],"(",["T_VARIABLE","$config",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","displayCartSubtotalInclTax",101],"(",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$subtotal",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$totals",102],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal'",102],"]",["T_OBJECT_OPERATOR","->",102],["T_STRING","getValueInclTax",102],"(",")",";",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE"," ",103],["T_ELSE","else",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$subtotal",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$totals",104],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal'",104],"]",["T_OBJECT_OPERATOR","->",104],["T_STRING","getValue",104],"(",")",";",["T_WHITESPACE","\n                ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_VARIABLE","$skipTax",105],["T_WHITESPACE"," ",105],["T_BOOLEAN_AND","&&",105],["T_WHITESPACE"," ",105],["T_ISSET","isset",105],"(",["T_VARIABLE","$totals",105],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",105],"]",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                    ",105],["T_VARIABLE","$subtotal",106],["T_PLUS_EQUAL","+=",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$totals",106],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",106],"]",["T_OBJECT_OPERATOR","->",106],["T_STRING","getValue",106],"(",")",";",["T_WHITESPACE","\n                ",106],"}",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$subtotal",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Get subtotal, including tax.\n     * Will return > 0 only if appropriate config settings are enabled.\n     *\n     * @return decimal\n     *\/",113],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","getSubtotalInclTax",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_STRING","Mage",121],["T_DOUBLE_COLON","::",121],["T_STRING","getSingleton",121],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/config'",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","displayCartSubtotalBoth",121],"(",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_LNUMBER","0",122],";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getSubtotal",124],"(",["T_STRING","false",124],")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Add tax to amount\n     *\n     * @param float $price\n     * @param bool $exclShippingTax\n     * @return float\n     *\/",127],["T_WHITESPACE","\n    ",133],["T_PRIVATE","private",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","_addTax",134],"(",["T_VARIABLE","$price",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$exclShippingTax",134],"=",["T_STRING","true",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$totals",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTotals",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_ISSET","isset",136],"(",["T_VARIABLE","$totals",136],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",136],"]",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$exclShippingTax",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$price",138],["T_WHITESPACE"," ",138],["T_PLUS_EQUAL","+=",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$totals",138],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",138],"]",["T_OBJECT_OPERATOR","->",138],["T_STRING","getValue",138],"(",")","-",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_getShippingTaxAmount",138],"(",")",";",["T_WHITESPACE","\n            ",138],"}",["T_WHITESPACE"," ",139],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$price",140],["T_WHITESPACE"," ",140],["T_PLUS_EQUAL","+=",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$totals",140],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",140],"]",["T_OBJECT_OPERATOR","->",140],["T_STRING","getValue",140],"(",")",";",["T_WHITESPACE","\n            ",140],"}",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$price",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Get shipping tax amount\n     *\n     * @return float\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","_getShippingTaxAmount",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$quote",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getCustomQuote",153],"(",")",["T_WHITESPACE"," ",153],"?",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getCustomQuote",153],"(",")",["T_WHITESPACE"," ",153],":",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getQuote",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$quote",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getShippingAddress",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","getShippingTaxAmount",154],"(",")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Get incl\/excl tax label\n     *\n     * @param bool $flag\n     * @return string\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","getIncExcTax",163],"(",["T_VARIABLE","$flag",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$text",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","Mage",165],["T_DOUBLE_COLON","::",165],["T_STRING","helper",165],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",165],")",["T_OBJECT_OPERATOR","->",165],["T_STRING","getIncExcText",165],"(",["T_VARIABLE","$flag",165],")",";",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$text",166],["T_WHITESPACE"," ",166],"?",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","' ('",166],".",["T_VARIABLE","$text",166],".",["T_CONSTANT_ENCAPSED_STRING","')'",166],["T_WHITESPACE"," ",166],":",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","''",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Check if one page checkout is available\n     *\n     * @return bool\n     *\/",169],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","isPossibleOnepageCheckout",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","helper",176],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout'",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","canOnepageCheckout",176],"(",")",["T_WHITESPACE"," ",176],["T_BOOLEAN_AND","&&",176],["T_WHITESPACE"," ",176],"!",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getQuote",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getHasError",176],"(",")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Get one page checkout page url\n     *\n     * @return bool\n     *\/",179],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getCheckoutUrl",184],"(",")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","helper",186],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/url'",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getCheckoutUrl",186],"(",")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Define if Shopping Cart Sidebar enabled\n     *\n     * @return bool\n     *\/",189],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","getIsNeedToDisplaySideBar",194],"(",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_BOOL_CAST","(bool)",196],["T_WHITESPACE"," ",196],["T_STRING","Mage",196],["T_DOUBLE_COLON","::",196],["T_STRING","app",196],"(",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getStore",196],"(",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getConfig",196],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/sidebar\/display'",196],")",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Return customer quote items\n     *\n     * @return array\n     *\/",199],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","getItems",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getCustomQuote",206],"(",")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getCustomQuote",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getAllVisibleItems",207],"(",")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_STRING","parent",210],["T_DOUBLE_COLON","::",210],["T_STRING","getItems",210],"(",")",";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_COMMENT","\/*\n     * Return totals from custom quote if needed\n     *\n     * @return array\n     *\/",213],["T_WHITESPACE","\n    ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","getTotalsCache",218],"(",")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_EMPTY","empty",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_totals",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$quote",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getCustomQuote",221],"(",")",["T_WHITESPACE"," ",221],"?",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getCustomQuote",221],"(",")",["T_WHITESPACE"," ",221],":",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getQuote",221],"(",")",";",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_totals",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$quote",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getTotals",222],"(",")",";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n        ",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_totals",224],";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Get cache key informative items\n     *\n     * @return array\n     *\/",227],["T_WHITESPACE","\n    ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","getCacheKeyInfo",232],"(",")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$cacheKeyInfo",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","parent",234],["T_DOUBLE_COLON","::",234],["T_STRING","getCacheKeyInfo",234],"(",")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$cacheKeyInfo",235],"[",["T_CONSTANT_ENCAPSED_STRING","'item_renders'",235],"]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_serializeRenders",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$cacheKeyInfo",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Serialize renders\n     *\n     * @return string\n     *\/",239],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","_serializeRenders",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$result",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_FOREACH","foreach",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_itemRenders",247],["T_WHITESPACE"," ",247],["T_AS","as",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$type",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$renderer",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$result",248],"[","]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","implode",248],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",248],",",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",["T_VARIABLE","$type",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$renderer",248],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",248],"]",",",["T_WHITESPACE"," ",248],["T_VARIABLE","$renderer",248],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",248],"]",")",")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n        ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_STRING","implode",250],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$result",250],")",";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Deserialize renders from string\n     *\n     * @param string $renders\n     * @return Mage_Checkout_Block_Cart_Sidebar\n     *\/",253],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","deserializeRenders",259],"(",["T_VARIABLE","$renders",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_IF","if",261],["T_WHITESPACE"," ",261],"(","!",["T_STRING","is_string",261],"(",["T_VARIABLE","$renders",261],")",")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$renders",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","explode",265],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$renders",265],")",";",["T_WHITESPACE","\n        ",265],["T_WHILE","while",266],["T_WHITESPACE"," ",266],"(","!",["T_EMPTY","empty",266],"(",["T_VARIABLE","$renders",266],")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$template",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING","array_pop",267],"(",["T_VARIABLE","$renders",267],")",";",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$block",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","array_pop",268],"(",["T_VARIABLE","$renders",268],")",";",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$type",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","array_pop",269],"(",["T_VARIABLE","$renders",269],")",";",["T_WHITESPACE","\n            ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_VARIABLE","$template",270],["T_WHITESPACE"," ",270],["T_BOOLEAN_OR","||",270],["T_WHITESPACE"," ",270],"!",["T_VARIABLE","$block",270],["T_WHITESPACE"," ",270],["T_BOOLEAN_OR","||",270],["T_WHITESPACE"," ",270],"!",["T_VARIABLE","$type",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_CONTINUE","continue",271],";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","addItemRender",273],"(",["T_VARIABLE","$type",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$block",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$template",273],")",";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n\n        ",274],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Retrieve block cache tags\n     *\n     * @return array\n     *\/",279],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","getCacheTags",284],"(",")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$quoteTags",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getQuote",286],"(",")",["T_OBJECT_OPERATOR","->",286],["T_STRING","getCacheIdTags",286],"(",")",";",["T_WHITESPACE","\n\n        ",286],["T_VARIABLE","$items",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",")",";",["T_WHITESPACE","\n        ",288],["T_DOC_COMMENT","\/** @var $item Mage_Sales_Model_Quote_Item *\/",289],["T_WHITESPACE","\n        ",289],["T_FOREACH","foreach",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getItems",290],"(",")",["T_WHITESPACE"," ",290],["T_AS","as",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$item",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$items",291],"[","]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$item",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getProduct",291],"(",")",";",["T_WHITESPACE","\n       ",291],"}",["T_WHITESPACE","\n\n        ",292],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_STRING","array_merge",294],"(",["T_WHITESPACE","\n            ",294],["T_STRING","parent",295],["T_DOUBLE_COLON","::",295],["T_STRING","getCacheTags",295],"(",")",",",["T_WHITESPACE","\n            ",295],"(","!",["T_VARIABLE","$quoteTags",296],")","?",["T_WHITESPACE"," ",296],["T_ARRAY","array",296],"(",")",["T_WHITESPACE"," ",296],":",["T_WHITESPACE"," ",296],["T_VARIABLE","$quoteTags",296],",",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getItemsTags",297],"(",["T_VARIABLE","$items",297],")",["T_WHITESPACE","\n        ",297],")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Get form key\n     *\n     * @return string\n     *\/",301],["T_WHITESPACE","\n    ",305],["T_PUBLIC","public",306],["T_WHITESPACE"," ",306],["T_FUNCTION","function",306],["T_WHITESPACE"," ",306],["T_STRING","getFormKey",306],"(",")",["T_WHITESPACE","\n    ",306],"{",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_STRING","Mage",308],["T_DOUBLE_COLON","::",308],["T_STRING","getSingleton",308],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/session'",308],")",["T_OBJECT_OPERATOR","->",308],["T_STRING","getFormKey",308],"(",")",";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Processing block html after rendering\n     *\n     * @param   string $html\n     * @return  string\n     *\/",311],["T_WHITESPACE","\n    ",316],["T_PROTECTED","protected",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","_afterToHtml",317],"(",["T_VARIABLE","$html",317],")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$html",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","parent",319],["T_DOUBLE_COLON","::",319],["T_STRING","_afterToHtml",319],"(",["T_VARIABLE","$html",319],")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$transport",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_NEW","new",320],["T_WHITESPACE"," ",320],["T_STRING","Varien_Object",320],"(",")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$transport",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","setHtml",321],"(",["T_VARIABLE","$html",321],")",";",["T_WHITESPACE","\n        ",321],["T_STRING","Mage",322],["T_DOUBLE_COLON","::",322],["T_STRING","dispatchEvent",322],"(",["T_WHITESPACE","\n            ",322],["T_CONSTANT_ENCAPSED_STRING","'checkout_block_cart_sidebar_aftertohtml'",323],",",["T_WHITESPACE","\n            ",323],["T_ARRAY","array",324],"(",["T_WHITESPACE","\n                ",324],["T_CONSTANT_ENCAPSED_STRING","'block'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],",",["T_WHITESPACE","\n                ",325],["T_CONSTANT_ENCAPSED_STRING","'transport'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$transport",326],",",["T_WHITESPACE","\n            ",326],")",["T_WHITESPACE","\n        ",327],")",";",["T_WHITESPACE","\n        ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$transport",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getHtml",329],"(",")",";",["T_WHITESPACE","\n    ",329],"}",["T_WHITESPACE","\n",330],"}",["T_WHITESPACE","\n",331]]