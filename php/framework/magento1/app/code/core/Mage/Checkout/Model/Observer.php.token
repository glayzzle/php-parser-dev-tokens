[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Checkout\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Checkout observer model\n *\n * @category   Mage\n * @package    Mage_Checkout\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Checkout_Model_Observer",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","unsetAll",36],"(",")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_STRING","Mage",38],["T_DOUBLE_COLON","::",38],["T_STRING","getSingleton",38],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/session'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","unsetAll",38],"(",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","loadCustomerQuote",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_TRY","try",43],["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_STRING","Mage",44],["T_DOUBLE_COLON","::",44],["T_STRING","getSingleton",44],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/session'",44],")",["T_OBJECT_OPERATOR","->",44],["T_STRING","loadCustomerQuote",44],"(",")",";",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE","\n        ",45],["T_CATCH","catch",46],["T_WHITESPACE"," ",46],"(",["T_STRING","Mage_Core_Exception",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$e",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n            ",46],["T_STRING","Mage",47],["T_DOUBLE_COLON","::",47],["T_STRING","getSingleton",47],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/session'",47],")",["T_OBJECT_OPERATOR","->",47],["T_STRING","addError",47],"(",["T_VARIABLE","$e",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMessage",47],"(",")",")",";",["T_WHITESPACE","\n        ",47],"}",["T_WHITESPACE","\n        ",48],["T_CATCH","catch",49],["T_WHITESPACE"," ",49],"(",["T_STRING","Exception",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$e",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n            ",49],["T_STRING","Mage",50],["T_DOUBLE_COLON","::",50],["T_STRING","getSingleton",50],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/session'",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","addException",50],"(",["T_WHITESPACE","\n                ",50],["T_VARIABLE","$e",51],",",["T_WHITESPACE","\n                ",51],["T_STRING","Mage",52],["T_DOUBLE_COLON","::",52],["T_STRING","helper",52],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout'",52],")",["T_OBJECT_OPERATOR","->",52],["T_STRING","__",52],"(",["T_CONSTANT_ENCAPSED_STRING","'Load customer quote error'",52],")",["T_WHITESPACE","\n            ",52],")",";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","salesQuoteSaveAfter",57],"(",["T_VARIABLE","$observer",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$quote",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$observer",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getEvent",59],"(",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","getQuote",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_COMMENT","\/* @var $quote Mage_Sales_Model_Quote *\/",60],["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$quote",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getIsCheckoutCart",61],"(",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_STRING","Mage",62],["T_DOUBLE_COLON","::",62],["T_STRING","getSingleton",62],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/session'",62],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getQuoteId",62],"(",["T_VARIABLE","$quote",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getId",62],"(",")",")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n",64],"}",["T_WHITESPACE","\n",65]]