[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Persistent\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Persistent Session Model\n *\n * @category   Mage\n * @package    Mage_Persistent\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Persistent_Model_Session",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","KEY_LENGTH",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_LNUMBER","50",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","COOKIE_NAME",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'persistent_shopping_cart'",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Fields which model does not save into `info` db field\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_unserializableFields",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_CONSTANT_ENCAPSED_STRING","'persistent_id'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'key'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'website_id'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'info'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * If model loads expired sessions\n     *\n     * @var bool\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_loadExpired",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","false",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Define resource model\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","_construct",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_init",59],"(",["T_CONSTANT_ENCAPSED_STRING","'persistent\/session'",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Set if load expired persistent session\n     *\n     * @param bool $loadExpired\n     * @return Mage_Persistent_Model_Session\n     *\/",62],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","setLoadExpired",68],"(",["T_VARIABLE","$loadExpired",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","true",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_loadExpired",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$loadExpired",70],";",["T_WHITESPACE","\n        ",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Get if model loads expired sessions\n     *\n     * @return bool\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","getLoadExpired",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_loadExpired",81],";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Get date-time before which persistent session is expired\n     *\n     * @param int|string|Mage_Core_Model_Store $store\n     * @return string\n     *\/",84],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getExpiredBefore",90],"(",["T_VARIABLE","$store",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","null",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_STRING","gmdate",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",92],",",["T_WHITESPACE"," ",92],["T_STRING","time",92],"(",")",["T_WHITESPACE"," ",92],"-",["T_WHITESPACE"," ",92],["T_STRING","Mage",92],["T_DOUBLE_COLON","::",92],["T_STRING","helper",92],"(",["T_CONSTANT_ENCAPSED_STRING","'persistent'",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","getLifeTime",92],"(",["T_VARIABLE","$store",92],")",")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Serialize info for Resource Model to save\n     * For new model check and set available cookie key\n     *\n     * @return Mage_Persistent_Model_Session\n     *\/",95],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","_beforeSave",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_STRING","parent",103],["T_DOUBLE_COLON","::",103],["T_STRING","_beforeSave",103],"(",")",";",["T_WHITESPACE","\n\n        ",103],["T_COMMENT","\/\/ Setting info\n",105],["T_WHITESPACE","        ",106],["T_VARIABLE","$info",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getData",107],"(",")",["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$index",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$value",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_STRING","in_array",108],"(",["T_VARIABLE","$index",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_unserializableFields",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_VARIABLE","$info",109],"[",["T_VARIABLE","$index",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$value",109],";",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setInfo",112],"(",["T_STRING","Mage",112],["T_DOUBLE_COLON","::",112],["T_STRING","helper",112],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","jsonEncode",112],"(",["T_VARIABLE","$info",112],")",")",";",["T_WHITESPACE","\n\n        ",112],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","isObjectNew",114],"(",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setWebsiteId",115],"(",["T_STRING","Mage",115],["T_DOUBLE_COLON","::",115],["T_STRING","app",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getStore",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getWebsiteId",115],"(",")",")",";",["T_WHITESPACE","\n            ",115],["T_COMMENT","\/\/ Setting cookie key\n",116],["T_WHITESPACE","            ",117],["T_DO","do",117],["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","setKey",118],"(",["T_STRING","Mage",118],["T_DOUBLE_COLON","::",118],["T_STRING","helper",118],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",118],")",["T_OBJECT_OPERATOR","->",118],["T_STRING","getRandomString",118],"(",["T_STRING","self",118],["T_DOUBLE_COLON","::",118],["T_STRING","KEY_LENGTH",118],")",")",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE"," ",119],["T_WHILE","while",119],["T_WHITESPACE"," ",119],"(","!",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getResource",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","isKeyAllowed",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getKey",119],"(",")",")",")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Set model data from info field\n     *\n     * @return Mage_Persistent_Model_Session\n     *\/",125],["T_WHITESPACE","\n    ",129],["T_PROTECTED","protected",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","_afterLoad",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_STRING","parent",132],["T_DOUBLE_COLON","::",132],["T_STRING","_afterLoad",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$info",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","Mage",133],["T_DOUBLE_COLON","::",133],["T_STRING","helper",133],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","jsonDecode",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getInfo",133],"(",")",")",";",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_STRING","is_array",134],"(",["T_VARIABLE","$info",134],")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$info",135],["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$key",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$value",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setData",136],"(",["T_VARIABLE","$key",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$value",136],")",";",["T_WHITESPACE","\n            ",136],"}",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n        ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Get persistent session by cookie key\n     *\n     * @param string $key\n     * @return Mage_Persistent_Model_Session\n     *\/",142],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","loadByCookieKey",148],"(",["T_VARIABLE","$key",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","null",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_STRING","is_null",150],"(",["T_VARIABLE","$key",150],")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$key",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","Mage",151],["T_DOUBLE_COLON","::",151],["T_STRING","getSingleton",151],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/cookie'",151],")",["T_OBJECT_OPERATOR","->",151],["T_STRING","get",151],"(",["T_STRING","Mage_Persistent_Model_Session",151],["T_DOUBLE_COLON","::",151],["T_STRING","COOKIE_NAME",151],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$key",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","load",154],"(",["T_VARIABLE","$key",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'key'",154],")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n\n        ",155],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Load session model by specified customer id\n     *\n     * @param int $id\n     * @return Mage_Core_Model_Abstract\n     *\/",160],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","loadByCustomerId",166],"(",["T_VARIABLE","$id",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","load",168],"(",["T_VARIABLE","$id",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",168],")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Delete customer persistent session by customer id\n     *\n     * @param int $customerId\n     * @param bool $clearCookie\n     * @return Mage_Persistent_Model_Session\n     *\/",171],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","deleteByCustomerId",178],"(",["T_VARIABLE","$customerId",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$clearCookie",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","true",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$clearCookie",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","removePersistentCookie",181],"(",")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getResource",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","deleteByCustomerId",183],"(",["T_VARIABLE","$customerId",183],")",";",["T_WHITESPACE","\n        ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Remove persistent cookie\n     *\n     * @return Mage_Persistent_Model_Session\n     *\/",187],["T_WHITESPACE","\n    ",191],["T_PUBLIC","public",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","removePersistentCookie",192],"(",")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_STRING","Mage",194],["T_DOUBLE_COLON","::",194],["T_STRING","getSingleton",194],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/cookie'",194],")",["T_OBJECT_OPERATOR","->",194],["T_STRING","delete",194],"(",["T_STRING","Mage_Persistent_Model_Session",194],["T_DOUBLE_COLON","::",194],["T_STRING","COOKIE_NAME",194],")",";",["T_WHITESPACE","\n        ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Delete expired persistent sessions for the website\n     *\n     * @param null|int $websiteId\n     * @return Mage_Persistent_Model_Session\n     *\/",198],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","deleteExpired",204],"(",["T_VARIABLE","$websiteId",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","null",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_STRING","is_null",206],"(",["T_VARIABLE","$websiteId",206],")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$websiteId",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","Mage",207],["T_DOUBLE_COLON","::",207],["T_STRING","app",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getStore",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getWebsiteId",207],"(",")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$lifetime",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","Mage",210],["T_DOUBLE_COLON","::",210],["T_STRING","getConfig",210],"(",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","getNode",210],"(",["T_WHITESPACE","\n            ",210],["T_STRING","Mage_Persistent_Helper_Data",211],["T_DOUBLE_COLON","::",211],["T_STRING","XML_PATH_LIFE_TIME",211],",",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","'website'",212],",",["T_WHITESPACE","\n            ",212],["T_STRING","intval",213],"(",["T_VARIABLE","$websiteId",213],")",["T_WHITESPACE","\n        ",213],")",";",["T_WHITESPACE","\n\n        ",214],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$lifetime",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getResource",217],"(",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","deleteExpired",217],"(",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$websiteId",218],",",["T_WHITESPACE","\n                ",218],["T_STRING","gmdate",219],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",219],",",["T_WHITESPACE"," ",219],["T_STRING","time",219],"(",")",["T_WHITESPACE"," ",219],"-",["T_WHITESPACE"," ",219],["T_VARIABLE","$lifetime",219],")",["T_WHITESPACE","\n            ",219],")",";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n\n        ",221],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Delete 'persistent' cookie\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",226],["T_WHITESPACE","\n    ",230],["T_PROTECTED","protected",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","_afterDeleteCommit",231],"(",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n        ",231],["T_STRING","Mage",232],["T_DOUBLE_COLON","::",232],["T_STRING","getSingleton",232],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/cookie'",232],")",["T_OBJECT_OPERATOR","->",232],["T_STRING","delete",232],"(",["T_STRING","Mage_Persistent_Model_Session",232],["T_DOUBLE_COLON","::",232],["T_STRING","COOKIE_NAME",232],")",";",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_STRING","parent",233],["T_DOUBLE_COLON","::",233],["T_STRING","_afterDeleteCommit",233],"(",")",";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Set `updated_at` to be always changed\n     *\n     * @return Mage_Persistent_Model_Session\n     *\/",236],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","save",241],"(",")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","setUpdatedAt",243],"(",["T_STRING","gmdate",243],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",243],")",")",";",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_STRING","parent",244],["T_DOUBLE_COLON","::",244],["T_STRING","save",244],"(",")",";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n",245],"}",["T_WHITESPACE","\n",246]]