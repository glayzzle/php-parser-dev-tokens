[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Persistent\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Persistent Shopping Cart Data Helper\n *\n * @category   Mage\n * @package    Mage_Persistent\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Persistent_Helper_Data",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Helper_Data",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","XML_PATH_ENABLED",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'persistent\/options\/enabled'",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","XML_PATH_LIFE_TIME",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'persistent\/options\/lifetime'",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","XML_PATH_LOGOUT_CLEAR",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'persistent\/options\/logout_clear'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","XML_PATH_REMEMBER_ME_ENABLED",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'persistent\/options\/remember_enabled'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","XML_PATH_REMEMBER_ME_DEFAULT",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'persistent\/options\/remember_default'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","XML_PATH_PERSIST_SHOPPING_CART",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'persistent\/options\/shopping_cart'",42],";",["T_WHITESPACE","\n\n    ",42],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","LOGGED_IN_LAYOUT_HANDLE",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'customer_logged_in_psc_handle'",44],";",["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","LOGGED_OUT_LAYOUT_HANDLE",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'customer_logged_out_psc_handle'",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Name of config file\n     *\n     * @var string\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_configFileName",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'persistent.xml'",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Checks whether Persistence Functionality is enabled\n     *\n     * @param int|string|Mage_Core_Model_Store $store\n     * @return bool\n     *\/",54],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","isEnabled",60],"(",["T_VARIABLE","$store",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","null",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_STRING","Mage",62],["T_DOUBLE_COLON","::",62],["T_STRING","getStoreConfigFlag",62],"(",["T_STRING","self",62],["T_DOUBLE_COLON","::",62],["T_STRING","XML_PATH_ENABLED",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$store",62],")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Checks whether \"Remember Me\" enabled\n     *\n     * @param int|string|Mage_Core_Model_Store $store\n     * @return bool\n     *\/",65],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","isRememberMeEnabled",71],"(",["T_VARIABLE","$store",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_STRING","Mage",73],["T_DOUBLE_COLON","::",73],["T_STRING","getStoreConfigFlag",73],"(",["T_STRING","self",73],["T_DOUBLE_COLON","::",73],["T_STRING","XML_PATH_REMEMBER_ME_ENABLED",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$store",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Is \"Remember Me\" checked by default\n     *\n     * @param int|string|Mage_Core_Model_Store $store\n     * @return bool\n     *\/",76],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","isRememberMeCheckedDefault",82],"(",["T_VARIABLE","$store",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","null",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","Mage",84],["T_DOUBLE_COLON","::",84],["T_STRING","getStoreConfigFlag",84],"(",["T_STRING","self",84],["T_DOUBLE_COLON","::",84],["T_STRING","XML_PATH_REMEMBER_ME_DEFAULT",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$store",84],")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Is shopping cart persist\n     *\n     * @param int|string|Mage_Core_Model_Store $store\n     * @return bool\n     *\/",87],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","isShoppingCartPersist",93],"(",["T_VARIABLE","$store",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","null",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_STRING","Mage",95],["T_DOUBLE_COLON","::",95],["T_STRING","getStoreConfigFlag",95],"(",["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","XML_PATH_PERSIST_SHOPPING_CART",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$store",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Get Persistence Lifetime\n     *\n     * @param int|string|Mage_Core_Model_Store $store\n     * @return int\n     *\/",98],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getLifeTime",104],"(",["T_VARIABLE","$store",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","null",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$lifeTime",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","intval",106],"(",["T_STRING","Mage",106],["T_DOUBLE_COLON","::",106],["T_STRING","getStoreConfig",106],"(",["T_STRING","self",106],["T_DOUBLE_COLON","::",106],["T_STRING","XML_PATH_LIFE_TIME",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$store",106],")",")",";",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$lifeTime",107],["T_WHITESPACE"," ",107],"<",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],")",["T_WHITESPACE"," ",107],"?",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],["T_WHITESPACE"," ",107],":",["T_WHITESPACE"," ",107],["T_VARIABLE","$lifeTime",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Check if set `Clear on Logout` in config settings\n     *\n     * @return bool\n     *\/",110],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getClearOnLogout",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_STRING","Mage",117],["T_DOUBLE_COLON","::",117],["T_STRING","getStoreConfigFlag",117],"(",["T_STRING","self",117],["T_DOUBLE_COLON","::",117],["T_STRING","XML_PATH_LOGOUT_CLEAR",117],")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Retrieve url for unset long-term cookie\n     *\n     * @return string\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","getUnsetCookieUrl",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_getUrl",127],"(",["T_CONSTANT_ENCAPSED_STRING","'persistent\/index\/unsetCookie'",127],")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Retrieve name of persistent customer\n     *\n     * @return string\n     *\/",130],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getPersistentName",135],"(",")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","__",137],"(",["T_CONSTANT_ENCAPSED_STRING","'(Not %s?)'",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","escapeHtml",137],"(",["T_STRING","Mage",137],["T_DOUBLE_COLON","::",137],["T_STRING","helper",137],"(",["T_CONSTANT_ENCAPSED_STRING","'persistent\/session'",137],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getCustomer",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getName",137],"(",")",")",")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Retrieve path for config file\n     *\n     * @return string\n     *\/",140],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","getPersistentConfigFilePath",145],"(",")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","getConfig",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getModuleDir",147],"(",["T_CONSTANT_ENCAPSED_STRING","'etc'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_getModuleName",147],"(",")",")",["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_STRING","DS",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_configFileName",147],";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Check whether specified action should be processed\n     *\n     * @param Varien_Event_Observer $observer\n     * @return bool\n     *\/",150],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","canProcess",156],"(",["T_VARIABLE","$observer",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$action",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$observer",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getEvent",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getAction",158],"(",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$controllerAction",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$observer",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getEvent",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","getControllerAction",159],"(",")",";",["T_WHITESPACE","\n\n        ",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$action",161],["T_WHITESPACE"," ",161],["T_INSTANCEOF","instanceof",161],["T_WHITESPACE"," ",161],["T_STRING","Mage_Core_Controller_Varien_Action",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],"!",["T_VARIABLE","$action",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getFlag",162],"(",["T_CONSTANT_ENCAPSED_STRING","''",162],",",["T_WHITESPACE"," ",162],["T_STRING","Mage_Core_Controller_Varien_Action",162],["T_DOUBLE_COLON","::",162],["T_STRING","FLAG_NO_START_SESSION",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n        ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$controllerAction",164],["T_WHITESPACE"," ",164],["T_INSTANCEOF","instanceof",164],["T_WHITESPACE"," ",164],["T_STRING","Mage_Core_Controller_Varien_Action",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],"!",["T_VARIABLE","$controllerAction",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getFlag",165],"(",["T_CONSTANT_ENCAPSED_STRING","''",165],",",["T_WHITESPACE"," ",165],["T_STRING","Mage_Core_Controller_Varien_Action",165],["T_DOUBLE_COLON","::",165],["T_STRING","FLAG_NO_START_SESSION",165],")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_STRING","true",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Get create account url depends on checkout\n     *\n     * @param  $url string\n     * @return string\n     *\/",170],["T_WHITESPACE","\n    ",175],["T_PUBLIC","public",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","getCreateAccountUrl",176],"(",["T_VARIABLE","$url",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_STRING","Mage",178],["T_DOUBLE_COLON","::",178],["T_STRING","helper",178],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout'",178],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","isContextCheckout",178],"(",")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$url",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","Mage",179],["T_DOUBLE_COLON","::",179],["T_STRING","helper",179],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/url'",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","addRequestParam",179],"(",["T_VARIABLE","$url",179],",",["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","'context'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'checkout'",179],")",")",";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n        ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$url",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n",182],"}",["T_WHITESPACE","\n",184]]