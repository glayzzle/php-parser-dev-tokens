[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Downloadable\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Downloadable links validator\n *\n * @category    Mage\n * @package     Mage_Downloadable\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Downloadable_Model_Link_Api_Validator",34],["T_WHITESPACE"," ",34],["T_COMMENT","\/\/extends Mage_Api_Model_Resource_Abstract\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Acceptable resourceTypes array\n     * @var array\n     *\/",36],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_types",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_CONSTANT_ENCAPSED_STRING","'link'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'sample'",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Acceptable upload types array\n     * @var array\n     *\/",42],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_uploadTypes",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'url'",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * List of all attributes and names endings of validation functions\n     *\n     * @var array\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_defaultAttributes",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'link'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'title'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Title'",55],",",["T_WHITESPACE","                         ",55],["T_COMMENT","\/\/ $1\n",55],["T_WHITESPACE","            ",56],["T_CONSTANT_ENCAPSED_STRING","'price'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'Price'",56],",",["T_WHITESPACE","                         ",56],["T_COMMENT","\/\/ $2\n",56],["T_WHITESPACE","            ",57],["T_CONSTANT_ENCAPSED_STRING","'number_of_downloads'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'NumOfDownloads'",57],",",["T_WHITESPACE","  ",57],["T_COMMENT","\/\/ if no set is_unlimited to 1 $3\n",57],["T_WHITESPACE","            ",58],["T_CONSTANT_ENCAPSED_STRING","'is_unlimited'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Unlimited'",58],",",["T_WHITESPACE","              ",58],["T_COMMENT","\/\/ 1|0 $4\n",58],["T_WHITESPACE","            ",59],["T_CONSTANT_ENCAPSED_STRING","'is_shareable'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Shareable'",59],",",["T_WHITESPACE","              ",59],["T_COMMENT","\/\/ 1|0|2 (2) $5\n",59],["T_WHITESPACE","            ",60],["T_CONSTANT_ENCAPSED_STRING","'type'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'UploadType'",60],",",["T_WHITESPACE","                     ",60],["T_COMMENT","\/\/ file|url (file) $6\n",60],["T_WHITESPACE","            ",61],["T_CONSTANT_ENCAPSED_STRING","'file'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'File'",61],",",["T_WHITESPACE","                           ",61],["T_COMMENT","\/\/ array(name, base64_content) $7\n",61],["T_WHITESPACE","            ",62],["T_CONSTANT_ENCAPSED_STRING","'link_url'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Url'",62],",",["T_WHITESPACE","                        ",62],["T_COMMENT","\/\/ URL $8\n",62],["T_WHITESPACE","            ",63],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Order'",63],",",["T_WHITESPACE","                    ",63],["T_COMMENT","\/\/ int (0) $9\n",63],["T_WHITESPACE","            ",64],["T_CONSTANT_ENCAPSED_STRING","'sample'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'type'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'UploadType'",65],",",["T_WHITESPACE","                 ",65],["T_COMMENT","\/\/ file|url (file) $6\n",65],["T_WHITESPACE","                ",66],["T_CONSTANT_ENCAPSED_STRING","'file'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'File'",66],",",["T_WHITESPACE","                       ",66],["T_COMMENT","\/\/ array(name, base64_content) $7\n",66],["T_WHITESPACE","                ",67],["T_CONSTANT_ENCAPSED_STRING","'url'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Url'",67],["T_WHITESPACE","                          ",67],["T_COMMENT","\/\/ URL $8\n",67],["T_WHITESPACE","            ",68],")",["T_WHITESPACE","\n        ",68],")",",",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'sample'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_WHITESPACE","\n            ",70],["T_CONSTANT_ENCAPSED_STRING","'title'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Title'",71],",",["T_WHITESPACE","                         ",71],["T_COMMENT","\/\/ $1\n",71],["T_WHITESPACE","            ",72],["T_CONSTANT_ENCAPSED_STRING","'type'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'UploadType'",72],",",["T_WHITESPACE","                     ",72],["T_COMMENT","\/\/ file|url (file) $6\n",72],["T_WHITESPACE","            ",73],["T_CONSTANT_ENCAPSED_STRING","'file'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'File'",73],",",["T_WHITESPACE","                           ",73],["T_COMMENT","\/\/ array(name, base64_content) $7\n",73],["T_WHITESPACE","            ",74],["T_CONSTANT_ENCAPSED_STRING","'sample_url'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Url'",74],",",["T_WHITESPACE","                      ",74],["T_COMMENT","\/\/ URL $8\n",74],["T_WHITESPACE","            ",75],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Order'",75],["T_WHITESPACE","                     ",75],["T_COMMENT","\/\/ int (0) $9\n",75],["T_WHITESPACE","        ",76],")",["T_WHITESPACE","\n    ",76],")",";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Get resource types\n     *\n     * @return array\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","getResourceTypes",84],"(",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_types",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Validate resourceType, it should be one of (links|samples|link_samples)\n     *\n     * @param string $type\n     * @return boolean\n     *\/",89],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","validateType",95],"(",["T_VARIABLE","$type",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","!",["T_STRING","in_array",97],"(",["T_VARIABLE","$type",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getResourceTypes",97],"(",")",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_THROW","throw",98],["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","Exception",98],"(",["T_CONSTANT_ENCAPSED_STRING","'unknown_resource_type'",98],")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_STRING","true",100],";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Validate all parameters and loads default values for omitted parameters.\n     *\n     * @param array $resource\n     * @param string $resourceType\n     *\/",103],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","validateAttributes",109],"(","&",["T_VARIABLE","$resource",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$resourceType",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$fields",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_defaultAttributes",111],"[",["T_VARIABLE","$resourceType",111],"]",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_dispatch",112],"(",["T_VARIABLE","$resource",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$fields",112],")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","completeCheck",114],"(",["T_VARIABLE","$resource",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$resourceType",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Final check\n     *\n     * @param array $resource\n     * @param string $resourceType\n     *\/",117],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","completeCheck",123],"(","&",["T_VARIABLE","$resource",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$resourceType",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$resourceType",125],["T_WHITESPACE"," ",125],["T_IS_EQUAL","==",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'link'",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$resource",126],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",126],"]",["T_WHITESPACE"," ",126],["T_IS_EQUAL","==",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'file'",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","validateFileDetails",127],"(",["T_VARIABLE","$resource",127],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",127],"]",")",";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n            ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$resource",129],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",129],"]",["T_WHITESPACE"," ",129],["T_IS_EQUAL","==",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'url'",129],["T_WHITESPACE"," ",129],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE"," ",129],["T_EMPTY","empty",129],"(",["T_VARIABLE","$resource",129],"[",["T_CONSTANT_ENCAPSED_STRING","'link_url'",129],"]",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_THROW","throw",130],["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_STRING","Exception",130],"(",["T_CONSTANT_ENCAPSED_STRING","'empty_url'",130],")",";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n            ",131],["T_COMMENT","\/\/ sample\n",132],["T_WHITESPACE","            ",133],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$resource",133],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",133],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",133],"]",["T_WHITESPACE"," ",133],["T_IS_EQUAL","==",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'file'",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","validateFileDetails",134],"(",["T_VARIABLE","$resource",134],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",134],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",134],"]",")",";",["T_WHITESPACE","\n            ",134],"}",["T_WHITESPACE","\n            ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$resource",136],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",136],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",136],"]",["T_WHITESPACE"," ",136],["T_IS_EQUAL","==",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'url'",136],["T_WHITESPACE"," ",136],["T_BOOLEAN_AND","&&",136],["T_WHITESPACE"," ",136],["T_EMPTY","empty",136],"(",["T_VARIABLE","$resource",136],"[",["T_CONSTANT_ENCAPSED_STRING","'sample'",136],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url'",136],"]",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_THROW","throw",137],["T_WHITESPACE"," ",137],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","Exception",137],"(",["T_CONSTANT_ENCAPSED_STRING","'empty_url'",137],")",";",["T_WHITESPACE","\n            ",137],"}",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$resourceType",140],["T_WHITESPACE"," ",140],["T_IS_EQUAL","==",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'sample'",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$resource",141],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",141],"]",["T_WHITESPACE"," ",141],["T_IS_EQUAL","==",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'file'",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","validateFileDetails",142],"(",["T_VARIABLE","$resource",142],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",142],"]",")",";",["T_WHITESPACE","\n            ",142],"}",["T_WHITESPACE","\n            ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$resource",144],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",144],"]",["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'url'",144],["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE"," ",144],["T_EMPTY","empty",144],"(",["T_VARIABLE","$resource",144],"[",["T_CONSTANT_ENCAPSED_STRING","'sample_url'",144],"]",")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                ",144],["T_THROW","throw",145],["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","Exception",145],"(",["T_CONSTANT_ENCAPSED_STRING","'empty_url'",145],")",";",["T_WHITESPACE","\n            ",145],"}",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault throw exception\n     *\n     * @param mixed $var\n     *\/",150],["T_WHITESPACE","\n    ",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","validateFileDetails",155],"(","&",["T_VARIABLE","$var",155],")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","!",["T_ISSET","isset",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$var",157],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",157],"]",")",["T_WHITESPACE"," ",157],["T_BOOLEAN_OR","||",157],["T_WHITESPACE"," ",157],"!",["T_STRING","is_string",157],"(",["T_VARIABLE","$var",157],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",157],"]",")",["T_WHITESPACE"," ",157],["T_BOOLEAN_OR","||",157],["T_WHITESPACE"," ",157],["T_STRING","strlen",157],"(",["T_VARIABLE","$var",157],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",157],"]",")",["T_WHITESPACE"," ",157],["T_IS_IDENTICAL","===",157],["T_WHITESPACE"," ",157],["T_LNUMBER","0",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_THROW","throw",158],["T_WHITESPACE"," ",158],["T_NEW","new",158],["T_WHITESPACE"," ",158],["T_STRING","Exception",158],"(",["T_CONSTANT_ENCAPSED_STRING","'no_filename'",158],")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_ISSET","isset",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$var",160],"[",["T_CONSTANT_ENCAPSED_STRING","'base64_content'",160],"]",")",["T_WHITESPACE","\n            ",160],["T_BOOLEAN_OR","||",161],["T_WHITESPACE"," ",161],"!",["T_STRING","is_string",161],"(",["T_VARIABLE","$var",161],"[",["T_CONSTANT_ENCAPSED_STRING","'base64_content'",161],"]",")",["T_WHITESPACE","\n            ",161],["T_BOOLEAN_OR","||",162],["T_WHITESPACE"," ",162],["T_STRING","strlen",162],"(",["T_VARIABLE","$var",162],"[",["T_CONSTANT_ENCAPSED_STRING","'base64_content'",162],"]",")",["T_WHITESPACE"," ",162],["T_IS_IDENTICAL","===",162],["T_WHITESPACE"," ",162],["T_LNUMBER","0",162],["T_WHITESPACE","\n        ",162],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_THROW","throw",164],["T_WHITESPACE"," ",164],["T_NEW","new",164],["T_WHITESPACE"," ",164],["T_STRING","Exception",164],"(",["T_CONSTANT_ENCAPSED_STRING","'no_file_base64_content'",164],")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Runs all checks.\n     *\n     * @param array $resource\n     * @param array $fields\n     *\/",168],["T_WHITESPACE","\n    ",173],["T_PROTECTED","protected",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","_dispatch",174],"(","&",["T_VARIABLE","$resource",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$fields",174],")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_FOREACH","foreach",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$fields",176],["T_WHITESPACE"," ",176],["T_AS","as",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$name",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$validator",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_STRING","is_string",177],"(",["T_VARIABLE","$validator",177],")",["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],["T_STRING","strlen",177],"(",["T_VARIABLE","$validator",177],")",["T_WHITESPACE"," ",177],">",["T_WHITESPACE"," ",177],["T_LNUMBER","0",177],["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],["T_STRING","array_key_exists",177],"(",["T_VARIABLE","$name",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$resource",177],")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_VARIABLE","$call",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'validate'",178],["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_VARIABLE","$validator",178],";",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_VARIABLE","$call",179],"(",["T_VARIABLE","$resource",179],"[",["T_VARIABLE","$name",179],"]",")",";",["T_WHITESPACE","\n            ",179],"}",["T_WHITESPACE","\n            ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_STRING","is_array",181],"(",["T_VARIABLE","$validator",181],")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_dispatch",182],"(",["T_VARIABLE","$resource",182],"[",["T_VARIABLE","$name",182],"]",",",["T_WHITESPACE"," ",182],["T_VARIABLE","$validator",182],")",";",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault loads default entity.\n     *\n     * @param string $var\n     *\/",187],["T_WHITESPACE","\n    ",191],["T_PUBLIC","public",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","validateTitle",192],"(","&",["T_VARIABLE","$var",192],")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(","!",["T_STRING","is_string",194],"(",["T_VARIABLE","$var",194],")",["T_WHITESPACE"," ",194],["T_BOOLEAN_OR","||",194],["T_WHITESPACE"," ",194],["T_STRING","strlen",194],"(",["T_VARIABLE","$var",194],")",["T_WHITESPACE"," ",194],["T_IS_IDENTICAL","===",194],["T_WHITESPACE"," ",194],["T_LNUMBER","0",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n           ",194],["T_THROW","throw",195],["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_STRING","Exception",195],"(",["T_CONSTANT_ENCAPSED_STRING","'no_title'",195],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault loads default entity.\n     *\n     * @param float $var\n     *\/",199],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","validatePrice",204],"(","&",["T_VARIABLE","$var",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$var",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","is_numeric",206],"(",["T_VARIABLE","$var",206],")","?",["T_WHITESPACE"," ",206],["T_STRING","floatval",206],"(",["T_VARIABLE","$var",206],")",["T_WHITESPACE"," ",206],":",["T_WHITESPACE"," ",206],["T_STRING","floatval",206],"(",["T_LNUMBER","0",206],")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault loads default entity.\n     *\n     * @param int $var\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","validateNumOfDownloads",214],"(","&",["T_VARIABLE","$var",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$var",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","is_numeric",216],"(",["T_VARIABLE","$var",216],")","?",["T_WHITESPACE"," ",216],["T_STRING","intval",216],"(",["T_VARIABLE","$var",216],")",["T_WHITESPACE"," ",216],":",["T_WHITESPACE"," ",216],["T_LNUMBER","0",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault loads default entity.\n     *\n     * @param int|boolean $var\n     *\/",219],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","validateUnlimited",224],"(","&",["T_VARIABLE","$var",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$var",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],"(","(",["T_STRING","is_numeric",226],"(",["T_VARIABLE","$var",226],")",["T_WHITESPACE"," ",226],["T_BOOLEAN_AND","&&",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$var",226],["T_WHITESPACE"," ",226],["T_IS_GREATER_OR_EQUAL",">=",226],["T_WHITESPACE"," ",226],["T_LNUMBER","0",226],["T_WHITESPACE"," ",226],["T_BOOLEAN_AND","&&",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$var",226],["T_WHITESPACE"," ",226],["T_IS_SMALLER_OR_EQUAL","<=",226],["T_WHITESPACE"," ",226],["T_LNUMBER","1",226],")",["T_WHITESPACE"," ",226],["T_BOOLEAN_OR","||",226],["T_WHITESPACE"," ",226],"(",["T_STRING","is_bool",226],"(",["T_VARIABLE","$var",226],")",")",")","?",["T_WHITESPACE"," ",226],["T_STRING","intval",226],"(",["T_VARIABLE","$var",226],")",["T_WHITESPACE"," ",226],":",["T_WHITESPACE"," ",226],["T_LNUMBER","0",226],";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault loads default entity.\n     *\n     * @param int $var\n     *\/",229],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","validateShareable",234],"(","&",["T_VARIABLE","$var",234],")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$var",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],"(",["T_STRING","is_numeric",236],"(",["T_VARIABLE","$var",236],")",["T_WHITESPACE"," ",236],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$var",236],["T_WHITESPACE"," ",236],["T_IS_GREATER_OR_EQUAL",">=",236],["T_WHITESPACE"," ",236],["T_LNUMBER","0",236],["T_WHITESPACE"," ",236],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$var",236],["T_WHITESPACE"," ",236],["T_IS_SMALLER_OR_EQUAL","<=",236],["T_WHITESPACE"," ",236],["T_LNUMBER","2",236],")","?",["T_WHITESPACE"," ",236],["T_STRING","intval",236],"(",["T_VARIABLE","$var",236],")",["T_WHITESPACE"," ",236],":",["T_WHITESPACE"," ",236],["T_LNUMBER","2",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault loads default entity.\n     *\n     * @param array $var\n     *\/",239],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","validateFile",244],"(","&",["T_VARIABLE","$var",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$var",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","is_array",246],"(",["T_VARIABLE","$var",246],")","?",["T_WHITESPACE"," ",246],["T_VARIABLE","$var",246],["T_WHITESPACE"," ",246],":",["T_WHITESPACE"," ",246],["T_STRING","null",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault loads default entity.\n     *\n     * @param string $var\n     *\/",249],["T_WHITESPACE","\n    ",253],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","validateUrl",254],"(","&",["T_VARIABLE","$var",254],")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n\n        ",255],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_STRING","is_string",257],"(",["T_VARIABLE","$var",257],")",["T_WHITESPACE"," ",257],["T_BOOLEAN_AND","&&",257],["T_WHITESPACE"," ",257],["T_STRING","strlen",257],"(",["T_VARIABLE","$var",257],")",["T_WHITESPACE"," ",257],">",["T_WHITESPACE"," ",257],["T_LNUMBER","0",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$urlregex",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","\"\/^(https?|ftp)\\:\\\/\\\/([a-z0-9+\\!\\*\\(\\)\\,\\;\\?\\&\\=\\$\\_\\.\\-]+(\\:[a-z0-9+\\!\\*\\(\\)\\,\\;\\?\\&\\=\\$\\_\\.\\-]+)?@)?[a-z0-9\\+\\$\\_\\-]+(\\.[a-z0-9+\\$\\_\\-]+)*(\\:[0-9]{2,5})?(\\\/([a-z0-9+\\$\\_\\-]\\.?)+)*\\\/?(\\?[a-z\\+\\&\\$\\_\\.\\-][a-z0-9\\;\\:\\@\\\/\\&\\%\\=\\+\\$\\_\\.\\-]*)?(#[a-z\\_\\.\\-][a-z0-9\\+\\$\\_\\.\\-]*)?$\/i\"",258],";",["T_WHITESPACE","\n            ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(","!",["T_STRING","preg_match",259],"(",["T_VARIABLE","$urlregex",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$var",259],")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                ",259],["T_THROW","throw",260],["T_WHITESPACE"," ",260],["T_NEW","new",260],["T_WHITESPACE"," ",260],["T_STRING","Exception",260],"(",["T_CONSTANT_ENCAPSED_STRING","'url_not_valid'",260],")",";",["T_WHITESPACE","\n            ",260],"}",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE"," ",262],["T_ELSE","else",262],["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$var",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","''",263],";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault loads default entity.\n     *\n     * @param int $var\n     *\/",267],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","validateOrder",272],"(","&",["T_VARIABLE","$var",272],")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$var",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","is_numeric",274],"(",["T_VARIABLE","$var",274],")","?",["T_WHITESPACE"," ",274],["T_STRING","intval",274],"(",["T_VARIABLE","$var",274],")",["T_WHITESPACE"," ",274],":",["T_WHITESPACE"," ",274],["T_LNUMBER","0",274],";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_DOC_COMMENT","\/**\n     * Validate variable, in case of fault loads default entity.\n     *\n     * @param string $var\n     *\/",277],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","validateUploadType",282],"(","&",["T_VARIABLE","$var",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$var",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","in_array",284],"(",["T_VARIABLE","$var",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_uploadTypes",284],")","?",["T_WHITESPACE"," ",284],["T_VARIABLE","$var",284],["T_WHITESPACE"," ",284],":",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'file'",284],";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n",285],"}",["T_WHITESPACE","\n",286]]