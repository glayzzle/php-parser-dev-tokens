[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Api\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * ACL user resource\n *\n * @category    Mage\n * @package     Mage_Api\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Api_Model_Resource_User",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Resource_Db_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Resource initialization\n     *\n     *\/",37],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","_construct",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_init",43],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/user'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'user_id'",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Initialize unique fields\n     *\n     * @return Mage_Api_Model_Resource_User\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","_initUniqueFields",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_uniqueFields",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_WHITESPACE","\n            ",53],["T_ARRAY","array",54],"(",["T_WHITESPACE","\n                ",54],["T_CONSTANT_ENCAPSED_STRING","'field'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'email'",55],",",["T_WHITESPACE","\n                ",55],["T_CONSTANT_ENCAPSED_STRING","'title'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","Mage",56],["T_DOUBLE_COLON","::",56],["T_STRING","helper",56],"(",["T_CONSTANT_ENCAPSED_STRING","'api'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","__",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Email'",56],")",["T_WHITESPACE","\n            ",56],")",",",["T_WHITESPACE","\n            ",57],["T_ARRAY","array",58],"(",["T_WHITESPACE","\n                ",58],["T_CONSTANT_ENCAPSED_STRING","'field'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'username'",59],",",["T_WHITESPACE","\n                ",59],["T_CONSTANT_ENCAPSED_STRING","'title'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","Mage",60],["T_DOUBLE_COLON","::",60],["T_STRING","helper",60],"(",["T_CONSTANT_ENCAPSED_STRING","'api'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","__",60],"(",["T_CONSTANT_ENCAPSED_STRING","'User Name'",60],")",["T_WHITESPACE","\n            ",60],")",",",["T_WHITESPACE","\n        ",61],")",";",["T_WHITESPACE","\n        ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Authenticate user by $username and $password\n     *\n     * @param Mage_Api_Model_User $user\n     * @return Mage_Api_Model_Resource_User\n     *\/",66],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","recordLogin",72],"(",["T_STRING","Mage_Api_Model_User",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$user",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$data",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'lognum'",75],["T_WHITESPACE","  ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$user",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getLognum",75],"(",")","+",["T_LNUMBER","1",75],",",["T_WHITESPACE","\n        ",75],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$condition",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_getReadAdapter",77],"(",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","quoteInto",77],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id=?'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$user",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getUserId",77],"(",")",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_getWriteAdapter",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","update",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getTable",78],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/user'",78],")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$data",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$condition",78],")",";",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Record api user session\n     *\n     * @param Mage_Api_Model_User $user\n     * @return Mage_Api_Model_Resource_User\n     *\/",82],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","recordSession",88],"(",["T_STRING","Mage_Api_Model_User",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$user",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$readAdapter",90],["T_WHITESPACE","    ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_getReadAdapter",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$writeAdapter",91],["T_WHITESPACE","   ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_getWriteAdapter",91],"(",")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$select",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$readAdapter",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","select",92],"(",")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","from",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getTable",93],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/session'",93],")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'user_id'",93],")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","where",94],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id = ?'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$user",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getId",94],"(",")",")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","where",95],"(",["T_CONSTANT_ENCAPSED_STRING","'sessid = ?'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$user",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getSessid",95],"(",")",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$loginDate",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","now",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$readAdapter",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","fetchRow",97],"(",["T_VARIABLE","$select",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$writeAdapter",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","update",98],"(",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getTable",99],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/session'",99],")",",",["T_WHITESPACE","\n                ",99],["T_ARRAY","array",100],["T_WHITESPACE"," ",100],"(",["T_CONSTANT_ENCAPSED_STRING","'logdate'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$loginDate",100],")",",",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$readAdapter",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","quoteInto",101],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id = ?'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$user",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getId",101],"(",")",")",["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","' AND '",101],["T_WHITESPACE","\n                ",101],".",["T_WHITESPACE"," ",102],["T_VARIABLE","$readAdapter",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","quoteInto",102],"(",["T_CONSTANT_ENCAPSED_STRING","'sessid = ?'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$user",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getSessid",102],"(",")",")",["T_WHITESPACE","\n            ",102],")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE"," ",104],["T_ELSE","else",104],["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$writeAdapter",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","insert",105],"(",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getTable",106],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/session'",106],")",",",["T_WHITESPACE","\n                ",106],["T_ARRAY","array",107],"(",["T_WHITESPACE","\n                    ",107],["T_CONSTANT_ENCAPSED_STRING","'user_id'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$user",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getId",108],"(",")",",",["T_WHITESPACE","\n                    ",108],["T_CONSTANT_ENCAPSED_STRING","'logdate'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$loginDate",109],",",["T_WHITESPACE","\n                    ",109],["T_CONSTANT_ENCAPSED_STRING","'sessid'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$user",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getSessid",110],"(",")",["T_WHITESPACE","\n                ",110],")",["T_WHITESPACE","\n            ",111],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$user",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","setLogdate",114],"(",["T_VARIABLE","$loginDate",114],")",";",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Clean old session\n     *\n     * @param Mage_Api_Model_User $user\n     * @return Mage_Api_Model_Resource_User\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","cleanOldSessions",124],"(",["T_STRING","Mage_Api_Model_User",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$user",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$readAdapter",126],["T_WHITESPACE","    ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_getReadAdapter",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$writeAdapter",127],["T_WHITESPACE","   ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_getWriteAdapter",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$timeout",128],["T_WHITESPACE","        ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","getStoreConfig",128],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/config\/session_timeout'",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$timeSubtract",129],["T_WHITESPACE","     ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$readAdapter",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getDateAddSql",129],"(",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'logdate'",130],",",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$timeout",131],",",["T_WHITESPACE","\n            ",131],["T_STRING","Varien_Db_Adapter_Interface",132],["T_DOUBLE_COLON","::",132],["T_STRING","INTERVAL_SECOND",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$writeAdapter",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","delete",133],"(",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getTable",134],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/session'",134],")",",",["T_WHITESPACE","\n            ",134],["T_ARRAY","array",135],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id = ?'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$user",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getId",135],"(",")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$readAdapter",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","quote",135],"(",["T_STRING","now",135],"(",")",")",["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","' > '",135],".",["T_VARIABLE","$timeSubtract",135],")",["T_WHITESPACE","\n        ",135],")",";",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Load data by username\n     *\n     * @param string $username\n     * @return array\n     *\/",140],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","loadByUsername",146],"(",["T_VARIABLE","$username",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$adapter",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_getReadAdapter",148],"(",")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$select",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$adapter",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","select",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","from",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getTable",149],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/user'",149],")",")",["T_WHITESPACE","\n            ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","where",150],"(",["T_CONSTANT_ENCAPSED_STRING","'username=:username'",150],")",";",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$adapter",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","fetchRow",151],"(",["T_VARIABLE","$select",151],",",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_CONSTANT_ENCAPSED_STRING","'username'",151],["T_DOUBLE_ARROW","=>",151],["T_VARIABLE","$username",151],")",")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * load by session id\n     *\n     * @param string $sessId\n     * @return array\n     *\/",154],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","loadBySessId",160],"(",["T_VARIABLE","$sessId",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$result",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$adapter",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_getReadAdapter",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$select",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$adapter",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","select",164],"(",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","from",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getTable",165],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/session'",165],")",")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","where",166],"(",["T_CONSTANT_ENCAPSED_STRING","'sessid = ?'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$sessId",166],")",";",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$apiSession",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$adapter",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","fetchRow",167],"(",["T_VARIABLE","$select",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$selectUser",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$adapter",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","select",168],"(",")",["T_WHITESPACE","\n                ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","from",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getTable",169],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/user'",169],")",")",["T_WHITESPACE","\n                ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","where",170],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id = ?'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$apiSession",170],"[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",170],"]",")",";",["T_WHITESPACE","\n                ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$user",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$adapter",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","fetchRow",171],"(",["T_VARIABLE","$selectUser",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                    ",171],["T_VARIABLE","$result",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","array_merge",172],"(",["T_VARIABLE","$user",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$apiSession",172],")",";",["T_WHITESPACE","\n                ",172],"}",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$result",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Clear by session\n     *\n     * @param string $sessid\n     * @return Mage_Api_Model_Resource_User\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","clearBySessId",184],"(",["T_VARIABLE","$sessid",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_getWriteAdapter",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","delete",186],"(",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getTable",187],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/session'",187],")",",",["T_WHITESPACE","\n            ",187],["T_ARRAY","array",188],"(",["T_CONSTANT_ENCAPSED_STRING","'sessid = ?'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$sessid",188],")",["T_WHITESPACE","\n        ",188],")",";",["T_WHITESPACE","\n        ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Retrieve api user role data if it was assigned to role\n     *\n     * @param int | Mage_Api_Model_User $user\n     * @return null | array\n     *\/",193],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","hasAssigned2Role",199],"(",["T_VARIABLE","$user",199],")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$userId",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","null",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$result",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","null",202],";",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_STRING","is_numeric",203],"(",["T_VARIABLE","$user",203],")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$userId",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$user",204],";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$user",205],["T_WHITESPACE"," ",205],["T_INSTANCEOF","instanceof",205],["T_WHITESPACE"," ",205],["T_STRING","Mage_Core_Model_Abstract",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$userId",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$user",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getUserId",206],"(",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$userId",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$adapter",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_getReadAdapter",210],"(",")",";",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$select",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$adapter",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","select",211],"(",")",";",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$select",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","from",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getTable",212],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",212],")",")",["T_WHITESPACE","\n                ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","where",213],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id > 0 AND user_id = ?'",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$userId",213],")",";",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$result",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$adapter",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","fetchAll",214],"(",["T_VARIABLE","$select",214],")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$result",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Action before save\n     *\n     * @param Mage_Core_Model_Abstract $user\n     * @return Mage_Api_Model_Resource_User\n     *\/",219],["T_WHITESPACE","\n    ",224],["T_PROTECTED","protected",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","_beforeSave",225],"(",["T_STRING","Mage_Core_Model_Abstract",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$user",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(","!",["T_VARIABLE","$user",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getId",227],"(",")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$user",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setCreated",228],"(",["T_STRING","now",228],"(",")",")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$user",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","setModified",230],"(",["T_STRING","now",230],"(",")",")",";",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Delete the object\n     *\n     * @param Mage_Core_Model_Abstract $user\n     * @return boolean\n     *\/",234],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","delete",240],"(",["T_STRING","Mage_Core_Model_Abstract",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$user",240],")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$dbh",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_getWriteAdapter",242],"(",")",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$uid",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_INT_CAST","(int)",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$user",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getId",243],"(",")",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$dbh",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","beginTransaction",244],"(",")",";",["T_WHITESPACE","\n        ",244],["T_TRY","try",245],["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$dbh",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","delete",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getTable",246],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/user'",246],")",",",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id = ?'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$uid",246],")",")",";",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$dbh",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","delete",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getTable",247],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",247],")",",",["T_WHITESPACE"," ",247],["T_ARRAY","array",247],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id = ?'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$uid",247],")",")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE"," ",248],["T_CATCH","catch",248],["T_WHITESPACE"," ",248],"(",["T_STRING","Mage_Core_Exception",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$e",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_THROW","throw",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$e",249],";",["T_WHITESPACE","\n            ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_STRING","false",250],";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE"," ",251],["T_CATCH","catch",251],["T_WHITESPACE"," ",251],"(",["T_STRING","Exception",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$e",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$dbh",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","rollBack",252],"(",")",";",["T_WHITESPACE","\n            ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_STRING","false",253],";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$dbh",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","commit",255],"(",")",";",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_STRING","true",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Save user roles\n     *\n     * @param Mage_Core_Model_Abstract $user\n     * @return unknown\n     *\/",259],["T_WHITESPACE","\n    ",264],["T_PUBLIC","public",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","_saveRelations",265],"(",["T_STRING","Mage_Core_Model_Abstract",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$user",265],")",["T_WHITESPACE","\n    ",265],"{",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$rolesIds",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$user",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getRoleIds",267],"(",")",";",["T_WHITESPACE","\n        ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(","!",["T_STRING","is_array",268],"(",["T_VARIABLE","$rolesIds",268],")",["T_WHITESPACE"," ",268],["T_BOOLEAN_OR","||",268],["T_WHITESPACE"," ",268],["T_STRING","count",268],"(",["T_VARIABLE","$rolesIds",268],")",["T_WHITESPACE"," ",268],["T_IS_EQUAL","==",268],["T_WHITESPACE"," ",268],["T_LNUMBER","0",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$user",269],";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n\n        ",270],["T_VARIABLE","$adapter",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_getWriteAdapter",272],"(",")",";",["T_WHITESPACE","\n\n        ",272],["T_VARIABLE","$adapter",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","beginTransaction",274],"(",")",";",["T_WHITESPACE","\n\n        ",274],["T_TRY","try",276],["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$adapter",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","delete",277],"(",["T_WHITESPACE","\n                ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getTable",278],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",278],")",",",["T_WHITESPACE","\n                ",278],["T_ARRAY","array",279],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id = ?'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_INT_CAST","(int)",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$user",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getId",279],"(",")",")",")",";",["T_WHITESPACE","\n            ",279],["T_FOREACH","foreach",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$rolesIds",280],["T_WHITESPACE"," ",280],["T_AS","as",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$rid",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$rid",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","intval",281],"(",["T_VARIABLE","$rid",281],")",";",["T_WHITESPACE","\n                ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$rid",282],["T_WHITESPACE"," ",282],">",["T_WHITESPACE"," ",282],["T_LNUMBER","0",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                    ",282],["T_COMMENT","\/\/$row = $this->load($user, $rid);\n",283],["T_WHITESPACE","                ",284],"}",["T_WHITESPACE"," ",284],["T_ELSE","else",284],["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n                    ",284],["T_VARIABLE","$row",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",["T_CONSTANT_ENCAPSED_STRING","'tree_level'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_LNUMBER","0",285],")",";",["T_WHITESPACE","\n                ",285],"}",["T_WHITESPACE","\n                ",286],["T_VARIABLE","$row",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_ARRAY","array",287],"(",["T_CONSTANT_ENCAPSED_STRING","'tree_level'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_LNUMBER","0",287],")",";",["T_WHITESPACE","\n\n                ",287],["T_VARIABLE","$data",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_ARRAY","array",289],"(",["T_WHITESPACE","\n                    ",289],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",290],["T_WHITESPACE","     ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$rid",290],",",["T_WHITESPACE","\n                    ",290],["T_CONSTANT_ENCAPSED_STRING","'tree_level'",291],["T_WHITESPACE","    ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$row",291],"[",["T_CONSTANT_ENCAPSED_STRING","'tree_level'",291],"]",["T_WHITESPACE"," ",291],"+",["T_WHITESPACE"," ",291],["T_LNUMBER","1",291],",",["T_WHITESPACE","\n                    ",291],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",292],["T_WHITESPACE","    ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_LNUMBER","0",292],",",["T_WHITESPACE","\n                    ",292],["T_CONSTANT_ENCAPSED_STRING","'role_type'",293],["T_WHITESPACE","     ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_STRING","Mage_Api_Model_Acl",293],["T_DOUBLE_COLON","::",293],["T_STRING","ROLE_TYPE_USER",293],",",["T_WHITESPACE","\n                    ",293],["T_CONSTANT_ENCAPSED_STRING","'user_id'",294],["T_WHITESPACE","       ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$user",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getId",294],"(",")",",",["T_WHITESPACE","\n                    ",294],["T_CONSTANT_ENCAPSED_STRING","'role_name'",295],["T_WHITESPACE","     ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$user",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getFirstname",295],"(",")",["T_WHITESPACE","\n                ",295],")",";",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$adapter",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","insert",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getTable",297],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",297],")",",",["T_WHITESPACE"," ",297],["T_VARIABLE","$data",297],")",";",["T_WHITESPACE","\n            ",297],"}",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$adapter",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","commit",299],"(",")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE"," ",300],["T_CATCH","catch",300],["T_WHITESPACE"," ",300],"(",["T_STRING","Mage_Core_Exception",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$e",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_THROW","throw",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$e",301],";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE"," ",302],["T_CATCH","catch",302],["T_WHITESPACE"," ",302],"(",["T_STRING","Exception",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$e",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$adapter",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","rollBack",303],"(",")",";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n        ",304],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],";",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * Retrieve roles data\n     *\n     * @param Mage_Core_Model_Abstract $user\n     * @return array\n     *\/",308],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","_getRoles",314],"(",["T_STRING","Mage_Core_Model_Abstract",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$user",314],")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(","!",["T_VARIABLE","$user",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getId",316],"(",")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_ARRAY","array",317],"(",")",";",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$table",319],["T_WHITESPACE","   ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getTable",319],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",319],")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$adapter",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_getReadAdapter",320],"(",")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$select",321],["T_WHITESPACE","  ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$adapter",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","select",321],"(",")",["T_WHITESPACE","\n            ",321],["T_OBJECT_OPERATOR","->",322],["T_STRING","from",322],"(",["T_VARIABLE","$table",322],",",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",")",")",["T_WHITESPACE","\n            ",322],["T_OBJECT_OPERATOR","->",323],["T_STRING","joinLeft",323],"(",["T_WHITESPACE","\n                ",323],["T_ARRAY","array",324],"(",["T_CONSTANT_ENCAPSED_STRING","'ar'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$table",324],")",",",["T_WHITESPACE","\n                ",324],["T_VARIABLE","$adapter",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","quoteInto",325],"(",["T_WHITESPACE","\n                    ",325],"\"",["T_ENCAPSED_AND_WHITESPACE","ar.role_id = ",326],["T_CURLY_OPEN","{",326],["T_VARIABLE","$table",326],"}",["T_ENCAPSED_AND_WHITESPACE",".parent_id AND ar.role_type = ?",326],"\"",",",["T_WHITESPACE","\n                    ",326],["T_STRING","Mage_Api_Model_Acl",327],["T_DOUBLE_COLON","::",327],["T_STRING","ROLE_TYPE_GROUP",327],")",",",["T_WHITESPACE","\n                ",327],["T_ARRAY","array",328],"(",["T_CONSTANT_ENCAPSED_STRING","'role_id'",328],")",")",["T_WHITESPACE","\n            ",328],["T_OBJECT_OPERATOR","->",329],["T_STRING","where",329],"(","\"",["T_CURLY_OPEN","{",329],["T_VARIABLE","$table",329],"}",["T_ENCAPSED_AND_WHITESPACE",".user_id = ?",329],"\"",",",["T_WHITESPACE"," ",329],["T_VARIABLE","$user",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getId",329],"(",")",")",";",["T_WHITESPACE","\n\n        ",329],["T_RETURN","return",331],["T_WHITESPACE"," ",331],"(","(",["T_VARIABLE","$roles",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$adapter",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","fetchCol",331],"(",["T_VARIABLE","$select",331],")",")",["T_WHITESPACE"," ",331],"?",["T_WHITESPACE"," ",331],["T_VARIABLE","$roles",331],["T_WHITESPACE"," ",331],":",["T_WHITESPACE"," ",331],["T_ARRAY","array",331],"(",")",")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Add Role\n     *\n     * @param Mage_Core_Model_Abstract $user\n     * @return Mage_Api_Model_Resource_User\n     *\/",334],["T_WHITESPACE","\n    ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","add",340],"(",["T_STRING","Mage_Core_Model_Abstract",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$user",340],")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$adapter",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_getWriteAdapter",342],"(",")",";",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$aRoles",343],["T_WHITESPACE","  ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","hasAssigned2Role",343],"(",["T_VARIABLE","$user",343],")",";",["T_WHITESPACE","\n        ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_STRING","sizeof",344],"(",["T_VARIABLE","$aRoles",344],")",["T_WHITESPACE"," ",344],">",["T_WHITESPACE"," ",344],["T_LNUMBER","0",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_FOREACH","foreach",345],["T_WHITESPACE"," ",345],"(",["T_VARIABLE","$aRoles",345],["T_WHITESPACE"," ",345],["T_AS","as",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$idx",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$data",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                ",345],["T_VARIABLE","$adapter",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","delete",346],"(",["T_WHITESPACE","\n                    ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getTable",347],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",347],")",",",["T_WHITESPACE","\n                    ",347],["T_ARRAY","array",348],"(",["T_CONSTANT_ENCAPSED_STRING","'role_id = ?'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$data",348],"[",["T_CONSTANT_ENCAPSED_STRING","'role_id'",348],"]",")",["T_WHITESPACE","\n                ",348],")",";",["T_WHITESPACE","\n            ",349],"}",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n\n        ",351],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$user",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getId",353],"(",")",["T_WHITESPACE"," ",353],">",["T_WHITESPACE"," ",353],["T_LNUMBER","0",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$role",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","Mage",354],["T_DOUBLE_COLON","::",354],["T_STRING","getModel",354],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",354],")",["T_OBJECT_OPERATOR","->",354],["T_STRING","load",354],"(",["T_VARIABLE","$user",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getRoleId",354],"(",")",")",";",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE"," ",355],["T_ELSE","else",355],["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$role",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_NEW","new",356],["T_WHITESPACE"," ",356],["T_STRING","Varien_Object",356],"(",["T_ARRAY","array",356],"(",["T_CONSTANT_ENCAPSED_STRING","'tree_level'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_LNUMBER","0",356],")",")",";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$adapter",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","insert",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getTable",358],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",358],")",",",["T_WHITESPACE"," ",358],["T_ARRAY","array",358],"(",["T_WHITESPACE","\n            ",358],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$user",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getRoleId",359],"(",")",",",["T_WHITESPACE","\n            ",359],["T_CONSTANT_ENCAPSED_STRING","'tree_level'",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],"(",["T_VARIABLE","$role",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getTreeLevel",360],"(",")",["T_WHITESPACE"," ",360],"+",["T_WHITESPACE"," ",360],["T_LNUMBER","1",360],")",",",["T_WHITESPACE","\n            ",360],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_LNUMBER","0",361],",",["T_WHITESPACE","\n            ",361],["T_CONSTANT_ENCAPSED_STRING","'role_type'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_STRING","Mage_Api_Model_Acl",362],["T_DOUBLE_COLON","::",362],["T_STRING","ROLE_TYPE_USER",362],",",["T_WHITESPACE","\n            ",362],["T_CONSTANT_ENCAPSED_STRING","'user_id'",363],["T_WHITESPACE","   ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$user",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getUserId",363],"(",")",",",["T_WHITESPACE","\n            ",363],["T_CONSTANT_ENCAPSED_STRING","'role_name'",364],["T_WHITESPACE"," ",364],["T_DOUBLE_ARROW","=>",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$user",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getFirstname",364],"(",")",["T_WHITESPACE","\n        ",364],")",")",";",["T_WHITESPACE","\n\n        ",365],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Delete from role\n     *\n     * @param Mage_Core_Model_Abstract $user\n     * @return Mage_Api_Model_Resource_User\n     *\/",370],["T_WHITESPACE","\n    ",375],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","deleteFromRole",376],"(",["T_STRING","Mage_Core_Model_Abstract",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$user",376],")",["T_WHITESPACE","\n    ",376],"{",["T_WHITESPACE","\n        ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$user",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getUserId",378],"(",")",["T_WHITESPACE"," ",378],["T_IS_SMALLER_OR_EQUAL","<=",378],["T_WHITESPACE"," ",378],["T_LNUMBER","0",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],";",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n        ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$user",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getRoleId",381],"(",")",["T_WHITESPACE"," ",381],["T_IS_SMALLER_OR_EQUAL","<=",381],["T_WHITESPACE"," ",381],["T_LNUMBER","0",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n            ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],";",["T_WHITESPACE","\n        ",382],"}",";",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$adapter",385],["T_WHITESPACE","   ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_getWriteAdapter",385],"(",")",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$table",386],["T_WHITESPACE","     ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getTable",386],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",386],")",";",["T_WHITESPACE","\n\n        ",386],["T_VARIABLE","$condition",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",["T_WHITESPACE","\n            ",388],"\"",["T_CURLY_OPEN","{",389],["T_VARIABLE","$table",389],"}",["T_ENCAPSED_AND_WHITESPACE",".user_id = ?",389],"\"",["T_WHITESPACE","  ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$user",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getUserId",389],"(",")",",",["T_WHITESPACE","\n            ",389],"\"",["T_CURLY_OPEN","{",390],["T_VARIABLE","$table",390],"}",["T_ENCAPSED_AND_WHITESPACE",".parent_id = ?",390],"\"",["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$user",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getRoleId",390],"(",")",["T_WHITESPACE","\n        ",390],")",";",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$adapter",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","delete",392],"(",["T_VARIABLE","$table",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$condition",392],")",";",["T_WHITESPACE","\n        ",392],["T_RETURN","return",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],";",["T_WHITESPACE","\n    ",393],"}",["T_WHITESPACE","\n\n    ",394],["T_DOC_COMMENT","\/**\n     * Retrieve roles which exists for user\n     *\n     * @param Mage_Core_Model_Abstract $user\n     * @return array\n     *\/",396],["T_WHITESPACE","\n    ",401],["T_PUBLIC","public",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","roleUserExists",402],"(",["T_STRING","Mage_Core_Model_Abstract",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$user",402],")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$result",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_ARRAY","array",404],"(",")",";",["T_WHITESPACE","\n        ",404],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_VARIABLE","$user",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getUserId",405],"(",")",["T_WHITESPACE"," ",405],">",["T_WHITESPACE"," ",405],["T_LNUMBER","0",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$adapter",406],["T_WHITESPACE","    ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_getReadAdapter",406],"(",")",";",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$select",407],["T_WHITESPACE","     ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$adapter",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","select",407],"(",")",["T_OBJECT_OPERATOR","->",407],["T_STRING","from",407],"(",["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getTable",407],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/role'",407],")",")",["T_WHITESPACE","\n                ",407],["T_OBJECT_OPERATOR","->",408],["T_STRING","where",408],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id = ?'",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$user",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getRoleId",408],"(",")",")",["T_WHITESPACE","\n                ",408],["T_OBJECT_OPERATOR","->",409],["T_STRING","where",409],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id = ?'",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$user",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getUserId",409],"(",")",")",";",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$result",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$adapter",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","fetchCol",410],"(",["T_VARIABLE","$select",410],")",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n        ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$result",412],";",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n\n    ",413],["T_DOC_COMMENT","\/**\n     * Check if user not unique\n     *\n     * @param Mage_Core_Model_Abstract $user\n     * @return array\n     *\/",415],["T_WHITESPACE","\n    ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","userExists",421],"(",["T_STRING","Mage_Core_Model_Abstract",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$user",421],")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$usersTable",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getTable",423],"(",["T_CONSTANT_ENCAPSED_STRING","'api\/user'",423],")",";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$adapter",424],["T_WHITESPACE","    ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_getReadAdapter",424],"(",")",";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$condition",425],["T_WHITESPACE","  ",425],"=",["T_WHITESPACE"," ",425],["T_ARRAY","array",425],"(",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$adapter",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","quoteInto",426],"(","\"",["T_CURLY_OPEN","{",426],["T_VARIABLE","$usersTable",426],"}",["T_ENCAPSED_AND_WHITESPACE",".username = ?",426],"\"",",",["T_WHITESPACE"," ",426],["T_VARIABLE","$user",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getUsername",426],"(",")",")",",",["T_WHITESPACE","\n            ",426],["T_VARIABLE","$adapter",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","quoteInto",427],"(","\"",["T_CURLY_OPEN","{",427],["T_VARIABLE","$usersTable",427],"}",["T_ENCAPSED_AND_WHITESPACE",".email = ?",427],"\"",",",["T_WHITESPACE"," ",427],["T_VARIABLE","$user",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getEmail",427],"(",")",")",",",["T_WHITESPACE","\n        ",427],")",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$select",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$adapter",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","select",429],"(",")",["T_WHITESPACE","\n            ",429],["T_OBJECT_OPERATOR","->",430],["T_STRING","from",430],"(",["T_VARIABLE","$usersTable",430],")",["T_WHITESPACE","\n            ",430],["T_OBJECT_OPERATOR","->",431],["T_STRING","where",431],"(",["T_STRING","implode",431],"(",["T_CONSTANT_ENCAPSED_STRING","' OR '",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$condition",431],")",")",["T_WHITESPACE","\n            ",431],["T_OBJECT_OPERATOR","->",432],["T_STRING","where",432],"(",["T_VARIABLE","$usersTable",432],".",["T_CONSTANT_ENCAPSED_STRING","'.user_id != ?'",432],",",["T_WHITESPACE"," ",432],["T_INT_CAST","(int)",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$user",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","getId",432],"(",")",")",";",["T_WHITESPACE","\n        ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$adapter",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","fetchRow",433],"(",["T_VARIABLE","$select",433],")",";",["T_WHITESPACE","\n    ",433],"}",["T_WHITESPACE","\n",434],"}",["T_WHITESPACE","\n",435]]