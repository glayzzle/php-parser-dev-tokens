[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Oauth\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Application model\n *\n * @category    Mage\n * @package     Mage_Oauth\n * @author      Magento Core Team <core@magentocommerce.com>\n * @method Mage_Oauth_Model_Resource_Consumer _getResource()\n * @method Mage_Oauth_Model_Resource_Consumer getResource()\n * @method Mage_Oauth_Model_Resource_Consumer_Collection getCollection()\n * @method Mage_Oauth_Model_Resource_Consumer_Collection getResourceCollection()\n * @method string getName()\n * @method Mage_Oauth_Model_Consumer setName() setName(string $name)\n * @method string getKey()\n * @method Mage_Oauth_Model_Consumer setKey() setKey(string $key)\n * @method string getSecret()\n * @method Mage_Oauth_Model_Consumer setSecret() setSecret(string $secret)\n * @method string getCallbackUrl()\n * @method Mage_Oauth_Model_Consumer setCallbackUrl() setCallbackUrl(string $url)\n * @method string getCreatedAt()\n * @method Mage_Oauth_Model_Consumer setCreatedAt() setCreatedAt(string $date)\n * @method string getUpdatedAt()\n * @method Mage_Oauth_Model_Consumer setUpdatedAt() setUpdatedAt(string $date)\n * @method string getRejectedCallbackUrl()\n * @method Mage_Oauth_Model_Consumer setRejectedCallbackUrl() setRejectedCallbackUrl(string $rejectedCallbackUrl)\n *\/",27],["T_WHITESPACE","\n",51],["T_CLASS","class",52],["T_WHITESPACE"," ",52],["T_STRING","Mage_Oauth_Model_Consumer",52],["T_WHITESPACE"," ",52],["T_EXTENDS","extends",52],["T_WHITESPACE"," ",52],["T_STRING","Mage_Core_Model_Abstract",52],["T_WHITESPACE","\n",52],"{",["T_WHITESPACE","\n    ",53],["T_DOC_COMMENT","\/**\n     * Key hash length\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","KEY_LENGTH",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_LNUMBER","32",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Secret hash length\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_CONST","const",62],["T_WHITESPACE"," ",62],["T_STRING","SECRET_LENGTH",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_LNUMBER","32",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\n     * @return void\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","_construct",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_init",71],"(",["T_CONSTANT_ENCAPSED_STRING","'oauth\/consumer'",71],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * BeforeSave actions\n     *\n     * @return Mage_Oauth_Model_Consumer\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","_beforeSave",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getId",81],"(",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","setUpdatedAt",82],"(",["T_STRING","time",82],"(",")",")",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","validate",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_STRING","parent",85],["T_DOUBLE_COLON","::",85],["T_STRING","_beforeSave",85],"(",")",";",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Validate data\n     *\n     * @return array|bool\n     * @throw Mage_Core_Exception|Exception   Throw exception on fail validation\n     *\/",89],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","validate",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getCallbackUrl",97],"(",")",["T_WHITESPACE"," ",97],["T_BOOLEAN_OR","||",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getRejectedCallbackUrl",97],"(",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setCallbackUrl",98],"(",["T_STRING","trim",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getCallbackUrl",98],"(",")",")",")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setRejectedCallbackUrl",99],"(",["T_STRING","trim",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getRejectedCallbackUrl",99],"(",")",")",")",";",["T_WHITESPACE","\n\n            ",99],["T_DOC_COMMENT","\/** @var $validatorUrl Mage_Core_Model_Url_Validator *\/",101],["T_WHITESPACE","\n            ",101],["T_VARIABLE","$validatorUrl",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Mage",102],["T_DOUBLE_COLON","::",102],["T_STRING","getSingleton",102],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/url_validator'",102],")",";",["T_WHITESPACE","\n\n            ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getCallbackUrl",104],"(",")",["T_WHITESPACE"," ",104],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE"," ",104],"!",["T_VARIABLE","$validatorUrl",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","isValid",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getCallbackUrl",104],"(",")",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_STRING","Mage",105],["T_DOUBLE_COLON","::",105],["T_STRING","throwException",105],"(",["T_STRING","Mage",105],["T_DOUBLE_COLON","::",105],["T_STRING","helper",105],"(",["T_CONSTANT_ENCAPSED_STRING","'oauth'",105],")",["T_OBJECT_OPERATOR","->",105],["T_STRING","__",105],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Callback URL'",105],")",")",";",["T_WHITESPACE","\n            ",105],"}",["T_WHITESPACE","\n            ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getRejectedCallbackUrl",107],"(",")",["T_WHITESPACE"," ",107],["T_BOOLEAN_AND","&&",107],["T_WHITESPACE"," ",107],"!",["T_VARIABLE","$validatorUrl",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","isValid",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getRejectedCallbackUrl",107],"(",")",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                ",107],["T_STRING","Mage",108],["T_DOUBLE_COLON","::",108],["T_STRING","throwException",108],"(",["T_STRING","Mage",108],["T_DOUBLE_COLON","::",108],["T_STRING","helper",108],"(",["T_CONSTANT_ENCAPSED_STRING","'oauth'",108],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","__",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Rejected Callback URL'",108],")",")",";",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_DOC_COMMENT","\/** @var $validatorLength Mage_Oauth_Model_Consumer_Validator_KeyLength *\/",112],["T_WHITESPACE","\n        ",112],["T_VARIABLE","$validatorLength",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","Mage",113],["T_DOUBLE_COLON","::",113],["T_STRING","getModel",113],"(",["T_CONSTANT_ENCAPSED_STRING","'oauth\/consumer_validator_keyLength'",113],",",["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_CONSTANT_ENCAPSED_STRING","'length'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_STRING","self",113],["T_DOUBLE_COLON","::",113],["T_STRING","KEY_LENGTH",113],")",")",";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$validatorLength",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setName",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Consumer Key'",115],")",";",["T_WHITESPACE","\n        ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_VARIABLE","$validatorLength",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","isValid",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getKey",116],"(",")",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$messages",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$validatorLength",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMessages",117],"(",")",";",["T_WHITESPACE","\n            ",117],["T_STRING","Mage",118],["T_DOUBLE_COLON","::",118],["T_STRING","throwException",118],"(",["T_STRING","array_shift",118],"(",["T_VARIABLE","$messages",118],")",")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$validatorLength",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setLength",121],"(",["T_STRING","self",121],["T_DOUBLE_COLON","::",121],["T_STRING","SECRET_LENGTH",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$validatorLength",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setName",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Consumer Secret'",122],")",";",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_VARIABLE","$validatorLength",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","isValid",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getSecret",123],"(",")",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$messages",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$validatorLength",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMessages",124],"(",")",";",["T_WHITESPACE","\n            ",124],["T_STRING","Mage",125],["T_DOUBLE_COLON","::",125],["T_STRING","throwException",125],"(",["T_STRING","array_shift",125],"(",["T_VARIABLE","$messages",125],")",")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_STRING","true",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n",128],"}",["T_WHITESPACE","\n",129]]