[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_PaypalUk\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * NVP API wrappers model\n *\/",27],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","Mage_PaypalUk_Model_Api_Nvp",30],["T_WHITESPACE"," ",30],["T_EXTENDS","extends",30],["T_WHITESPACE"," ",30],["T_STRING","Mage_Paypal_Model_Api_Nvp",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_COMMENT","\/**#@+\n     * Transaction types declaration\n     *\n     * @var mixed\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","TRXTYPE_AUTH_ONLY",37],["T_WHITESPACE","         ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'A'",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","TRXTYPE_SALE",38],["T_WHITESPACE","              ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'S'",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","TRXTYPE_CREDIT",39],["T_WHITESPACE","            ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'C'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","TRXTYPE_DELAYED_CAPTURE",40],["T_WHITESPACE","   ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'D'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","TRXTYPE_DELAYED_VOID",41],["T_WHITESPACE","      ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'V'",41],";",["T_WHITESPACE","\n    ",41],["T_COMMENT","\/**#@-*\/",42],["T_WHITESPACE","\n\n    ",42],["T_COMMENT","\/**#@+\n     * Tender definition\n     *\n     * @var mixed\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","TENDER_CC",49],["T_WHITESPACE","                 ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'C'",49],";",["T_WHITESPACE","\n    ",49],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","TENDER_PAYPAL",50],["T_WHITESPACE","             ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'P'",50],";",["T_WHITESPACE","\n    ",50],["T_COMMENT","\/**#@-*\/",51],["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/**#@+\n     * Express Checkout Actions\n     *\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","EXPRESS_SET",58],["T_WHITESPACE","               ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'S'",58],";",["T_WHITESPACE","\n    ",58],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","EXPRESS_GET",59],["T_WHITESPACE","               ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'G'",59],";",["T_WHITESPACE","\n    ",59],["T_CONST","const",60],["T_WHITESPACE"," ",60],["T_STRING","EXPRESS_DO_PAYMENT",60],["T_WHITESPACE","        ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'D'",60],";",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/**#@-*\/",61],["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/**#@+\n     * Response codes definition\n     *\n     * @var mixed\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_CONST","const",68],["T_WHITESPACE"," ",68],["T_STRING","RESPONSE_CODE_APPROVED",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_LNUMBER","0",68],";",["T_WHITESPACE","\n    ",68],["T_CONST","const",69],["T_WHITESPACE"," ",69],["T_STRING","RESPONSE_CODE_FRAUD",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_LNUMBER","126",69],";",["T_WHITESPACE","\n    ",69],["T_COMMENT","\/**#@-*\/",70],["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/**#@+\n     * Capture types (make authorization close or remain open)\n     *\n     * @var string\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_captureTypeComplete",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Y'",77],";",["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_captureTypeNotcomplete",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'N'",78],";",["T_WHITESPACE","\n    ",78],["T_COMMENT","\/**#@-*\/",79],["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Global public interface map\n     *\n     * @var array\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_globalMap",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n        ",86],["T_COMMENT","\/\/ each call\n",87],["T_WHITESPACE","        ",88],["T_CONSTANT_ENCAPSED_STRING","'PARTNER'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'partner'",88],",",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'VENDOR'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'vendor'",89],",",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'USER'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'user'",90],",",["T_WHITESPACE","\n        ",90],["T_CONSTANT_ENCAPSED_STRING","'PWD'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'password'",91],",",["T_WHITESPACE","\n        ",91],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'build_notation_code'",92],",",["T_WHITESPACE","\n        ",92],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'tender'",93],",",["T_WHITESPACE","\n        ",93],["T_COMMENT","\/\/ commands\n",94],["T_WHITESPACE","        ",95],["T_CONSTANT_ENCAPSED_STRING","'RETURNURL'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'return_url'",95],",",["T_WHITESPACE","\n        ",95],["T_CONSTANT_ENCAPSED_STRING","'CANCELURL'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'cancel_url'",96],",",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'inv_num'",97],",",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'token'",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'correlation_id'",99],",",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'CUSTIP'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'ip_address'",100],",",["T_WHITESPACE","\n        ",100],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'notify_url'",101],",",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'note'",102],",",["T_WHITESPACE","\n        ",102],["T_COMMENT","\/\/ style settings\n",103],["T_WHITESPACE","        ",104],["T_CONSTANT_ENCAPSED_STRING","'PAGESTYLE'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'page_style'",104],",",["T_WHITESPACE","\n        ",104],["T_CONSTANT_ENCAPSED_STRING","'HDRIMG'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'hdrimg'",105],",",["T_WHITESPACE","\n        ",105],["T_CONSTANT_ENCAPSED_STRING","'HDRBORDERCOLOR'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'hdrbordercolor'",106],",",["T_WHITESPACE","\n        ",106],["T_CONSTANT_ENCAPSED_STRING","'HDRBACKCOLOR'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'hdrbackcolor'",107],",",["T_WHITESPACE","\n        ",107],["T_CONSTANT_ENCAPSED_STRING","'PAYFLOWCOLOR'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'payflowcolor'",108],",",["T_WHITESPACE","\n        ",108],["T_CONSTANT_ENCAPSED_STRING","'LOCALECODE'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'locale_code'",109],",",["T_WHITESPACE","\n\n        ",109],["T_COMMENT","\/\/ transaction info\n",111],["T_WHITESPACE","        ",112],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",112],",",["T_WHITESPACE"," ",112],["T_COMMENT","\/\/We need to store paypal trx id for correct IPN working\n",112],["T_WHITESPACE","        ",113],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_TRANSACTIONID'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",113],",",["T_WHITESPACE","\n        ",113],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",114],",",["T_WHITESPACE","\n        ",114],["T_CONSTANT_ENCAPSED_STRING","'REFUNDTRANSACTIONID'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",115],",",["T_WHITESPACE","\n\n        ",115],["T_CONSTANT_ENCAPSED_STRING","'PNREF'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",117],",",["T_WHITESPACE","\n        ",117],["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'authorization_id'",118],",",["T_WHITESPACE","\n        ",118],["T_CONSTANT_ENCAPSED_STRING","'CAPTURECOMPLETE'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'complete_type'",119],",",["T_WHITESPACE","\n        ",119],["T_CONSTANT_ENCAPSED_STRING","'AMT'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'amount'",120],",",["T_WHITESPACE","\n        ",120],["T_CONSTANT_ENCAPSED_STRING","'AVSADDR'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'address_verification'",121],",",["T_WHITESPACE","\n        ",121],["T_CONSTANT_ENCAPSED_STRING","'AVSZIP'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'postcode_verification'",122],",",["T_WHITESPACE","\n\n        ",122],["T_COMMENT","\/\/ payment\/billing info\n",124],["T_WHITESPACE","        ",125],["T_CONSTANT_ENCAPSED_STRING","'CURRENCY'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'currency_code'",125],",",["T_WHITESPACE","\n        ",125],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'payment_status'",126],",",["T_WHITESPACE","\n        ",126],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",127],",",["T_WHITESPACE","\n        ",127],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'payer_id'",128],",",["T_WHITESPACE","\n        ",128],["T_CONSTANT_ENCAPSED_STRING","'PAYERSTATUS'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'payer_status'",129],",",["T_WHITESPACE","\n        ",129],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'email'",130],",",["T_WHITESPACE","\n        ",130],["T_COMMENT","\/\/ backwards compatibility\n",131],["T_WHITESPACE","        ",132],["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'firstname'",132],",",["T_WHITESPACE","\n        ",132],["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'lastname'",133],",",["T_WHITESPACE","\n        ",133],["T_COMMENT","\/\/ paypal direct credit card information\n",134],["T_WHITESPACE","        ",135],["T_CONSTANT_ENCAPSED_STRING","'ACCT'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'credit_card_number'",135],",",["T_WHITESPACE","\n        ",135],["T_CONSTANT_ENCAPSED_STRING","'EXPDATE'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'credit_card_expiration_date'",136],",",["T_WHITESPACE","\n        ",136],["T_CONSTANT_ENCAPSED_STRING","'CVV2'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'credit_card_cvv2'",137],",",["T_WHITESPACE","\n        ",137],["T_CONSTANT_ENCAPSED_STRING","'CARDSTART'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'maestro_solo_issue_date'",138],",",["T_WHITESPACE"," ",138],["T_COMMENT","\/\/ MMYY, including leading zero\n",138],["T_WHITESPACE","        ",139],["T_CONSTANT_ENCAPSED_STRING","'CARDISSUE'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'maestro_solo_issue_number'",139],",",["T_WHITESPACE","\n        ",139],["T_CONSTANT_ENCAPSED_STRING","'CVV2MATCH'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'cvv2_check_result'",140],",",["T_WHITESPACE","\n        ",140],["T_COMMENT","\/\/ cardinal centinel\n",141],["T_WHITESPACE","        ",142],["T_CONSTANT_ENCAPSED_STRING","'AUTHSTATUS3DS'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'centinel_authstatus'",142],",",["T_WHITESPACE","\n        ",142],["T_CONSTANT_ENCAPSED_STRING","'MPIVENDOR3DS'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'centinel_mpivendor'",143],",",["T_WHITESPACE","\n        ",143],["T_CONSTANT_ENCAPSED_STRING","'CAVV'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'centinel_cavv'",144],",",["T_WHITESPACE","\n        ",144],["T_CONSTANT_ENCAPSED_STRING","'ECI'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'centinel_eci'",145],",",["T_WHITESPACE","\n        ",145],["T_CONSTANT_ENCAPSED_STRING","'XID'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'centinel_xid'",146],",",["T_WHITESPACE","\n        ",146],["T_CONSTANT_ENCAPSED_STRING","'VPAS'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'centinel_vpas_result'",147],",",["T_WHITESPACE","\n        ",147],["T_CONSTANT_ENCAPSED_STRING","'ECISUBMITTED3DS'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'centinel_eci_result'",148],",",["T_WHITESPACE","\n        ",148],["T_CONSTANT_ENCAPSED_STRING","'USERSELECTEDFUNDINGSOURCE'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'funding_source'",149],",",["T_WHITESPACE","\n    ",149],")",";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Fields that should be replaced in debug with '***'\n     *\n     * @var array\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$_debugReplacePrivateDataKeys",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",["T_WHITESPACE","\n        ",157],["T_CONSTANT_ENCAPSED_STRING","'ACCT'",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'EXPDATE'",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'CVV2'",158],",",["T_WHITESPACE","\n        ",158],["T_CONSTANT_ENCAPSED_STRING","'PARTNER'",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'USER'",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'VENDOR'",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'PWD'",159],",",["T_WHITESPACE","\n    ",159],")",";",["T_WHITESPACE","\n\n    ",160],["T_COMMENT","\/**#@+\n     * DoDirectPayment request\/response map\n     *\n     * @var array\n     *\/",162],["T_WHITESPACE","\n    ",166],["T_PROTECTED","protected",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$_doDirectPaymentRequest",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_WHITESPACE","\n        ",167],["T_CONSTANT_ENCAPSED_STRING","'ACCT'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'EXPDATE'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'CVV2'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'CURRENCY'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",168],",",["T_WHITESPACE","\n        ",168],["T_CONSTANT_ENCAPSED_STRING","'AMT'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'CUSTIP'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",169],",",["T_WHITESPACE","\n        ",169],["T_CONSTANT_ENCAPSED_STRING","'CARDISSUE'",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'CARDSTART'",170],",",["T_WHITESPACE","\n        ",170],["T_CONSTANT_ENCAPSED_STRING","'AUTHSTATUS3DS'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'MPIVENDOR3DS'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'CAVV'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'ECI'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'XID'",171],",",["T_COMMENT","\/\/cardinal centinel params\n",171],["T_WHITESPACE","        ",172],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",172],",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'FREIGHTAMT'",172],["T_WHITESPACE","\n    ",172],")",";",["T_WHITESPACE","\n    ",173],["T_PROTECTED","protected",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$_doDirectPaymentResponse",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_WHITESPACE","\n        ",174],["T_CONSTANT_ENCAPSED_STRING","'PNREF'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'CVV2MATCH'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'AVSADDR'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'AVSZIP'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",175],["T_WHITESPACE","\n    ",175],")",";",["T_WHITESPACE","\n    ",176],["T_COMMENT","\/**#@-*\/",177],["T_WHITESPACE","\n\n    ",177],["T_COMMENT","\/**#@+\n     * DoCapture request\/response map\n     *\n     * @var array\n     *\/",179],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$_doCaptureRequest",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'CAPTURECOMPLETE'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'AMT'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",184],")",";",["T_WHITESPACE","\n    ",184],["T_PROTECTED","protected",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$_doCaptureResponse",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_CONSTANT_ENCAPSED_STRING","'PNREF'",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",185],")",";",["T_WHITESPACE","\n    ",185],["T_COMMENT","\/**#@-*\/",186],["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * DoVoid request map\n     *\n     * @var array\n     *\/",188],["T_WHITESPACE","\n    ",192],["T_PROTECTED","protected",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$_doVoidRequest",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",193],")",";",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Request map for each API call\n     *\n     * @var array\n     *\/",195],["T_WHITESPACE","\n    ",199],["T_PROTECTED","protected",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$_eachCallRequest",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_CONSTANT_ENCAPSED_STRING","'PARTNER'",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'USER'",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'VENDOR'",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'PWD'",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",200],")",";",["T_WHITESPACE","\n\n    ",200],["T_COMMENT","\/**#@+\n     * RefundTransaction request\/response map\n     *\n     * @var array\n     *\/",202],["T_WHITESPACE","\n    ",206],["T_PROTECTED","protected",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$_refundTransactionRequest",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",207],")",";",["T_WHITESPACE","\n    ",207],["T_PROTECTED","protected",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$_refundTransactionResponse",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_CONSTANT_ENCAPSED_STRING","'PNREF'",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",208],")",";",["T_WHITESPACE","\n    ",208],["T_COMMENT","\/**#@-*\/",209],["T_WHITESPACE","\n\n    ",209],["T_COMMENT","\/**#@+\n     * SetExpressCheckout request\/response map\n     *\n     * @var array\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$_setExpressCheckoutRequest",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_ARRAY","array",216],"(",["T_WHITESPACE","\n        ",216],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'AMT'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'CURRENCY'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'RETURNURL'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'CANCELURL'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",217],",",["T_WHITESPACE","\n        ",217],["T_CONSTANT_ENCAPSED_STRING","'PAGESTYLE'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'HDRIMG'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'HDRBORDERCOLOR'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'HDRBACKCOLOR'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'PAYFLOWCOLOR'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'LOCALECODE'",218],",",["T_WHITESPACE","\n        ",218],["T_CONSTANT_ENCAPSED_STRING","'USERSELECTEDFUNDINGSOURCE'",219],["T_WHITESPACE","\n    ",219],")",";",["T_WHITESPACE","\n    ",220],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$_setExpressCheckoutResponse",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_CONSTANT_ENCAPSED_STRING","'REPMSG'",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",221],")",";",["T_WHITESPACE","\n    ",221],["T_COMMENT","\/**#@-*\/",222],["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * GetExpressCheckoutDetails request\/response map\n     *\n     * @var array\n     *\/",224],["T_WHITESPACE","\n    ",228],["T_PROTECTED","protected",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$_getExpressCheckoutDetailsRequest",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_CONSTANT_ENCAPSED_STRING","'TENDER'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",229],")",";",["T_WHITESPACE","\n\n    ",229],["T_COMMENT","\/**#@+\n     * DoExpressCheckoutPayment request\/response map\n     *\n     * @var array\n     *\/",231],["T_WHITESPACE","\n    ",235],["T_PROTECTED","protected",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$_doExpressCheckoutPaymentRequest",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_ARRAY","array",236],"(",["T_WHITESPACE","\n        ",236],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'AMT'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'CURRENCY'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'CUSTIP'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",237],",",["T_WHITESPACE","\n    ",237],")",";",["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$_doExpressCheckoutPaymentResponse",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",["T_WHITESPACE","\n        ",239],["T_CONSTANT_ENCAPSED_STRING","'PNREF'",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'REPMSG'",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'AMT'",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",240],",",["T_WHITESPACE","\n        ",240],["T_CONSTANT_ENCAPSED_STRING","'CVV2MATCH'",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'AVSADDR'",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'AVSZIP'",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",241],["T_WHITESPACE","\n    ",241],")",";",["T_WHITESPACE","\n    ",242],["T_COMMENT","\/**#@-*\/",243],["T_WHITESPACE","\n\n    ",243],["T_COMMENT","\/**#@+\n     * GetTransactionDetailsRequest\n     *\n     * @var array\n     *\/",245],["T_WHITESPACE","\n    ",249],["T_PROTECTED","protected",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$_getTransactionDetailsRequest",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_ARRAY","array",250],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",250],",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",250],")",";",["T_WHITESPACE","\n    ",250],["T_PROTECTED","protected",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$_getTransactionDetailsResponse",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",["T_WHITESPACE","\n        ",251],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",252],",",["T_WHITESPACE","\n        ",252],["T_CONSTANT_ENCAPSED_STRING","'PARENTTRANSACTIONID'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'AMT'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",253],["T_WHITESPACE","\n    ",253],")",";",["T_WHITESPACE","\n    ",254],["T_COMMENT","\/**#@-*\/",255],["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Map for shipping address import\/export (extends billing address mapper)\n     *\n     * @var array\n     *\/",257],["T_WHITESPACE","\n    ",261],["T_PROTECTED","protected",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$_shippingAddressMap",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_ARRAY","array",262],"(",["T_WHITESPACE","\n        ",262],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCOUNTRY'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'country_id'",263],",",["T_WHITESPACE","\n        ",263],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTATE'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'region'",264],",",["T_WHITESPACE","\n        ",264],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCITY'",265],["T_WHITESPACE","    ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'city'",265],",",["T_WHITESPACE","\n        ",265],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET'",266],["T_WHITESPACE","  ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'street'",266],",",["T_WHITESPACE","\n        ",266],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET2'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'street2'",267],",",["T_WHITESPACE","\n        ",267],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOZIP'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'postcode'",268],",",["T_WHITESPACE","\n        ",268],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOPHONENUM'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'telephone'",269],",",["T_WHITESPACE"," ",269],["T_COMMENT","\/\/ does not supported by PaypalUk\n",269],["T_WHITESPACE","    ",270],")",";",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Map for billing address import\/export\n     *\n     * @var array\n     *\/",272],["T_WHITESPACE","\n    ",276],["T_PROTECTED","protected",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$_billingAddressMap",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_ARRAY","array",277],"(",["T_WHITESPACE","\n        ",277],["T_CONSTANT_ENCAPSED_STRING","'BUSINESS'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'company'",278],",",["T_WHITESPACE","\n        ",278],["T_CONSTANT_ENCAPSED_STRING","'NOTETEXT'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'customer_notes'",279],",",["T_WHITESPACE","\n        ",279],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'email'",280],",",["T_WHITESPACE","\n        ",280],["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'firstname'",281],",",["T_WHITESPACE","\n        ",281],["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'lastname'",282],",",["T_WHITESPACE","\n        ",282],["T_CONSTANT_ENCAPSED_STRING","'MIDDLENAME'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'middlename'",283],",",["T_WHITESPACE","\n        ",283],["T_CONSTANT_ENCAPSED_STRING","'SALUTATION'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'prefix'",284],",",["T_WHITESPACE","\n        ",284],["T_CONSTANT_ENCAPSED_STRING","'SUFFIX'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'suffix'",285],",",["T_WHITESPACE","\n\n        ",285],["T_CONSTANT_ENCAPSED_STRING","'COUNTRYCODE'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'country_id'",287],",",["T_WHITESPACE"," ",287],["T_COMMENT","\/\/ iso-3166 two-character code\n",287],["T_WHITESPACE","        ",288],["T_CONSTANT_ENCAPSED_STRING","'STATE'",288],["T_WHITESPACE","    ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'region'",288],",",["T_WHITESPACE","\n        ",288],["T_CONSTANT_ENCAPSED_STRING","'CITY'",289],["T_WHITESPACE","     ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'city'",289],",",["T_WHITESPACE","\n        ",289],["T_CONSTANT_ENCAPSED_STRING","'STREET'",290],["T_WHITESPACE","   ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'street'",290],",",["T_WHITESPACE","\n        ",290],["T_CONSTANT_ENCAPSED_STRING","'STREET2'",291],["T_WHITESPACE","  ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'street2'",291],",",["T_WHITESPACE","\n        ",291],["T_CONSTANT_ENCAPSED_STRING","'ZIP'",292],["T_WHITESPACE","      ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'postcode'",292],",",["T_WHITESPACE","\n        ",292],["T_CONSTANT_ENCAPSED_STRING","'PHONENUM'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'telephone'",293],",",["T_WHITESPACE","\n    ",293],")",";",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Map for billing address to do request to PayPalUk\n     *\n     * @var array\n     *\/",296],["T_WHITESPACE","\n    ",300],["T_PROTECTED","protected",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$_billingAddressMapRequest",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_ARRAY","array",301],"(",["T_WHITESPACE","\n        ",301],["T_CONSTANT_ENCAPSED_STRING","'country_id'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'COUNTRY'",302],",",["T_WHITESPACE","\n    ",302],")",";",["T_WHITESPACE","\n\n    ",303],["T_COMMENT","\/**#@+\n     * Line items export mapping settings\n     *\n     * @var array\n     *\/",305],["T_WHITESPACE","\n    ",309],["T_PROTECTED","protected",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$_lineItemTotalExportMap",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_ARRAY","array",310],"(",["T_WHITESPACE","\n        ",310],["T_STRING","Mage_Paypal_Model_Cart",311],["T_DOUBLE_COLON","::",311],["T_STRING","TOTAL_TAX",311],["T_WHITESPACE","      ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",311],",",["T_WHITESPACE","\n        ",311],["T_STRING","Mage_Paypal_Model_Cart",312],["T_DOUBLE_COLON","::",312],["T_STRING","TOTAL_SHIPPING",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'FREIGHTAMT'",312],",",["T_WHITESPACE","\n    ",312],")",";",["T_WHITESPACE","\n\n    ",313],["T_PROTECTED","protected",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$_lineItemExportItemsFormat",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",["T_WHITESPACE","\n        ",315],["T_CONSTANT_ENCAPSED_STRING","'name'",316],["T_WHITESPACE","   ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'L_NAME%d'",316],",",["T_WHITESPACE","\n        ",316],["T_CONSTANT_ENCAPSED_STRING","'qty'",317],["T_WHITESPACE","    ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'L_QTY%d'",317],",",["T_WHITESPACE","\n        ",317],["T_CONSTANT_ENCAPSED_STRING","'amount'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'L_COST%d'",318],",",["T_WHITESPACE","\n    ",318],")",";",["T_WHITESPACE","\n    ",319],["T_COMMENT","\/**#@-*\/",320],["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Payment information response specifically to be collected after some requests\n     *\n     * @var array\n     *\/",322],["T_WHITESPACE","\n    ",326],["T_PROTECTED","protected",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$_paymentInformationResponse",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_ARRAY","array",327],"(",["T_WHITESPACE","\n        ",327],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'ADDRESSID'",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'ADDRESSSTATUS'",328],",",["T_WHITESPACE","\n        ",328],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'PROTECTIONELIGIBILITY'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",329],",",["T_WHITESPACE","\n    ",329],")",";",["T_WHITESPACE","\n\n    ",330],["T_DOC_COMMENT","\/**\n     * Required fields in the response\n     *\n     * @var array\n     *\/",332],["T_WHITESPACE","\n    ",336],["T_PROTECTED","protected",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$_requiredResponseParams",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_ARRAY","array",337],"(",["T_WHITESPACE","\n        ",337],["T_STRING","self",338],["T_DOUBLE_COLON","::",338],["T_STRING","DO_DIRECT_PAYMENT",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",["T_CONSTANT_ENCAPSED_STRING","'RESULT'",338],",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'PNREF'",338],")",["T_WHITESPACE","\n    ",338],")",";",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * API endpoint getter\n     *\n     * @return string\n     *\/",341],["T_WHITESPACE","\n    ",345],["T_PUBLIC","public",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","getApiEndpoint",346],"(",")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_STRING","sprintf",348],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/%spayflowpro.paypal.com\/transaction'",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_config",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","sandboxFlag",348],["T_WHITESPACE"," ",348],"?",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'pilot-'",348],["T_WHITESPACE"," ",348],":",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","''",348],")",";",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n\n    ",349],["T_DOC_COMMENT","\/**\n     * Return PaypalUk partner based on config data\n     *\n     * @return string\n     *\/",351],["T_WHITESPACE","\n    ",355],["T_PUBLIC","public",356],["T_WHITESPACE"," ",356],["T_FUNCTION","function",356],["T_WHITESPACE"," ",356],["T_STRING","getPartner",356],"(",")",["T_WHITESPACE","\n    ",356],"{",["T_WHITESPACE","\n        ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_getDataOrConfig",358],"(",["T_CONSTANT_ENCAPSED_STRING","'partner'",358],")",";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * Return PaypalUk user based on config data\n     *\n     * @return string\n     *\/",361],["T_WHITESPACE","\n    ",365],["T_PUBLIC","public",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","getUser",366],"(",")",["T_WHITESPACE","\n    ",366],"{",["T_WHITESPACE","\n        ",367],["T_RETURN","return",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_getDataOrConfig",368],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",368],")",";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n\n    ",369],["T_DOC_COMMENT","\/**\n     * Return PaypalUk password based on config data\n     *\n     * @return string\n     *\/",371],["T_WHITESPACE","\n    ",375],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","getPassword",376],"(",")",["T_WHITESPACE","\n    ",376],"{",["T_WHITESPACE","\n        ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_getDataOrConfig",378],"(",["T_CONSTANT_ENCAPSED_STRING","'pwd'",378],")",";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Return PaypalUk vendor based on config data\n     *\n     * @return string\n     *\/",381],["T_WHITESPACE","\n    ",385],["T_PUBLIC","public",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","getVendor",386],"(",")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_getDataOrConfig",388],"(",["T_CONSTANT_ENCAPSED_STRING","'vendor'",388],")",";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_DOC_COMMENT","\/**\n     * Return PaypalUk tender based on config data\n     *\n     * @return string\n     *\/",391],["T_WHITESPACE","\n    ",395],["T_PUBLIC","public",396],["T_WHITESPACE"," ",396],["T_FUNCTION","function",396],["T_WHITESPACE"," ",396],["T_STRING","getTender",396],"(",")",["T_WHITESPACE","\n    ",396],"{",["T_WHITESPACE","\n        ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_config",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getMethodCode",398],"(",")",["T_WHITESPACE"," ",398],["T_IS_EQUAL","==",398],["T_WHITESPACE"," ",398],["T_STRING","Mage_Paypal_Model_Config",398],["T_DOUBLE_COLON","::",398],["T_STRING","METHOD_WPP_PE_EXPRESS",398],")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n            ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_STRING","self",399],["T_DOUBLE_COLON","::",399],["T_STRING","TENDER_PAYPAL",399],";",["T_WHITESPACE","\n        ",399],"}",["T_WHITESPACE","\n        ",400],["T_RETURN","return",401],["T_WHITESPACE"," ",401],["T_STRING","self",401],["T_DOUBLE_COLON","::",401],["T_STRING","TENDER_CC",401],";",["T_WHITESPACE","\n    ",401],"}",["T_WHITESPACE","\n\n    ",402],["T_DOC_COMMENT","\/**\n     * Override transaction id getting to process payflow accounts not assigned to paypal side\n     *\n     * @return string\n     *\/",404],["T_WHITESPACE","\n    ",408],["T_PUBLIC","public",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","getPaypalTransactionId",409],"(",")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_IF","if",411],["T_WHITESPACE"," ",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","getData",411],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",411],")",")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","getData",412],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",412],")",";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n        ",413],["T_RETURN","return",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getTransactionId",414],"(",")",";",["T_WHITESPACE","\n    ",414],"}",["T_WHITESPACE","\n\n    ",415],["T_DOC_COMMENT","\/**\n     * Add method to request array\n     *\n     * @param string $methodName\n     * @param array $request\n     * @return array\n     *\/",417],["T_WHITESPACE","\n    ",423],["T_PROTECTED","protected",424],["T_WHITESPACE"," ",424],["T_FUNCTION","function",424],["T_WHITESPACE"," ",424],["T_STRING","_addMethodToRequest",424],"(",["T_VARIABLE","$methodName",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$request",424],")",["T_WHITESPACE","\n    ",424],"{",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$request",426],"[",["T_CONSTANT_ENCAPSED_STRING","'TRXTYPE'",426],"]",["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_mapPaypalMethodName",426],"(",["T_VARIABLE","$methodName",426],")",";",["T_WHITESPACE","\n        ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(","!",["T_STRING","is_null",427],"(",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_getPaypalUkActionName",427],"(",["T_VARIABLE","$methodName",427],")",")",")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$request",428],"[",["T_CONSTANT_ENCAPSED_STRING","'ACTION'",428],"]",["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_getPaypalUkActionName",428],"(",["T_VARIABLE","$methodName",428],")",";",["T_WHITESPACE","\n        ",428],"}",["T_WHITESPACE","\n        ",429],["T_RETURN","return",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$request",430],";",["T_WHITESPACE","\n    ",430],"}",["T_WHITESPACE","\n\n    ",431],["T_DOC_COMMENT","\/**\n     * Return Payflow Edition\n     *\n     * @param string\n     * @return string | null\n     *\/",433],["T_WHITESPACE","\n    ",438],["T_PROTECTED","protected",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","_getPaypalUkActionName",439],"(",["T_VARIABLE","$methodName",439],")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_SWITCH","switch",441],"(",["T_VARIABLE","$methodName",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_CASE","case",442],["T_WHITESPACE"," ",442],["T_STRING","Mage_Paypal_Model_Api_Nvp",442],["T_DOUBLE_COLON","::",442],["T_STRING","SET_EXPRESS_CHECKOUT",442],":",["T_WHITESPACE","\n                ",442],["T_RETURN","return",443],["T_WHITESPACE"," ",443],["T_STRING","self",443],["T_DOUBLE_COLON","::",443],["T_STRING","EXPRESS_SET",443],";",["T_WHITESPACE","\n            ",443],["T_CASE","case",444],["T_WHITESPACE"," ",444],["T_STRING","Mage_Paypal_Model_Api_Nvp",444],["T_DOUBLE_COLON","::",444],["T_STRING","GET_EXPRESS_CHECKOUT_DETAILS",444],":",["T_WHITESPACE","\n                ",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_STRING","self",445],["T_DOUBLE_COLON","::",445],["T_STRING","EXPRESS_GET",445],";",["T_WHITESPACE","\n            ",445],["T_CASE","case",446],["T_WHITESPACE"," ",446],["T_STRING","Mage_Paypal_Model_Api_Nvp",446],["T_DOUBLE_COLON","::",446],["T_STRING","DO_EXPRESS_CHECKOUT_PAYMENT",446],":",["T_WHITESPACE","\n                ",446],["T_RETURN","return",447],["T_WHITESPACE"," ",447],["T_STRING","self",447],["T_DOUBLE_COLON","::",447],["T_STRING","EXPRESS_DO_PAYMENT",447],";",["T_WHITESPACE","\n        ",447],"}",["T_WHITESPACE","\n        ",448],["T_RETURN","return",449],["T_WHITESPACE"," ",449],["T_STRING","null",449],";",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n\n    ",450],["T_DOC_COMMENT","\/**\n     * Map paypal method names\n     *\n     * @param string| $methodName\n     * @return string\n     *\/",452],["T_WHITESPACE","\n    ",457],["T_PROTECTED","protected",458],["T_WHITESPACE"," ",458],["T_FUNCTION","function",458],["T_WHITESPACE"," ",458],["T_STRING","_mapPaypalMethodName",458],"(",["T_VARIABLE","$methodName",458],")",["T_WHITESPACE","\n    ",458],"{",["T_WHITESPACE","\n        ",459],["T_SWITCH","switch",460],"(",["T_VARIABLE","$methodName",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_CASE","case",461],["T_WHITESPACE"," ",461],["T_STRING","Mage_Paypal_Model_Api_Nvp",461],["T_DOUBLE_COLON","::",461],["T_STRING","DO_EXPRESS_CHECKOUT_PAYMENT",461],":",["T_WHITESPACE","\n            ",461],["T_CASE","case",462],["T_WHITESPACE"," ",462],["T_STRING","Mage_Paypal_Model_Api_Nvp",462],["T_DOUBLE_COLON","::",462],["T_STRING","GET_EXPRESS_CHECKOUT_DETAILS",462],":",["T_WHITESPACE","\n            ",462],["T_CASE","case",463],["T_WHITESPACE"," ",463],["T_STRING","Mage_Paypal_Model_Api_Nvp",463],["T_DOUBLE_COLON","::",463],["T_STRING","SET_EXPRESS_CHECKOUT",463],":",["T_WHITESPACE","\n            ",463],["T_CASE","case",464],["T_WHITESPACE"," ",464],["T_STRING","Mage_Paypal_Model_Api_Nvp",464],["T_DOUBLE_COLON","::",464],["T_STRING","DO_DIRECT_PAYMENT",464],":",["T_WHITESPACE","\n                ",464],["T_RETURN","return",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","_config",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","payment_action",465],["T_WHITESPACE"," ",465],["T_IS_EQUAL","==",465],["T_WHITESPACE"," ",465],["T_STRING","Mage_Paypal_Model_Config",465],["T_DOUBLE_COLON","::",465],["T_STRING","PAYMENT_ACTION_AUTH",465],")",["T_WHITESPACE","\n                    ",465],"?",["T_WHITESPACE"," ",466],["T_STRING","self",466],["T_DOUBLE_COLON","::",466],["T_STRING","TRXTYPE_AUTH_ONLY",466],["T_WHITESPACE","\n                    ",466],":",["T_WHITESPACE"," ",467],["T_STRING","self",467],["T_DOUBLE_COLON","::",467],["T_STRING","TRXTYPE_SALE",467],";",["T_WHITESPACE","\n            ",467],["T_CASE","case",468],["T_WHITESPACE"," ",468],["T_STRING","Mage_Paypal_Model_Api_Nvp",468],["T_DOUBLE_COLON","::",468],["T_STRING","DO_CAPTURE",468],":",["T_WHITESPACE","\n                ",468],["T_RETURN","return",469],["T_WHITESPACE"," ",469],["T_STRING","self",469],["T_DOUBLE_COLON","::",469],["T_STRING","TRXTYPE_DELAYED_CAPTURE",469],";",["T_WHITESPACE","\n            ",469],["T_CASE","case",470],["T_WHITESPACE"," ",470],["T_STRING","Mage_Paypal_Model_Api_Nvp",470],["T_DOUBLE_COLON","::",470],["T_STRING","DO_VOID",470],":",["T_WHITESPACE","\n                ",470],["T_RETURN","return",471],["T_WHITESPACE"," ",471],["T_STRING","self",471],["T_DOUBLE_COLON","::",471],["T_STRING","TRXTYPE_DELAYED_VOID",471],";",["T_WHITESPACE","\n            ",471],["T_CASE","case",472],["T_WHITESPACE"," ",472],["T_STRING","Mage_Paypal_Model_Api_Nvp",472],["T_DOUBLE_COLON","::",472],["T_STRING","REFUND_TRANSACTION",472],":",["T_WHITESPACE","\n                ",472],["T_RETURN","return",473],["T_WHITESPACE"," ",473],["T_STRING","self",473],["T_DOUBLE_COLON","::",473],["T_STRING","TRXTYPE_CREDIT",473],";",["T_WHITESPACE","\n        ",473],"}",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n\n    ",475],["T_DOC_COMMENT","\/**\n     * Catch success calls and collect warnings\n     *\n     * @param array\n     * @return bool| success flag\n     *\/",477],["T_WHITESPACE","\n    ",482],["T_PROTECTED","protected",483],["T_WHITESPACE"," ",483],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","_isCallSuccessful",483],"(",["T_VARIABLE","$response",483],")",["T_WHITESPACE","\n    ",483],"{",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_callWarnings",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_ARRAY","array",485],"(",")",";",["T_WHITESPACE","\n        ",485],["T_IF","if",486],["T_WHITESPACE"," ",486],"(",["T_VARIABLE","$response",486],"[",["T_CONSTANT_ENCAPSED_STRING","'RESULT'",486],"]",["T_WHITESPACE"," ",486],["T_IS_EQUAL","==",486],["T_WHITESPACE"," ",486],["T_STRING","self",486],["T_DOUBLE_COLON","::",486],["T_STRING","RESPONSE_CODE_APPROVED",486],")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n            ",486],["T_COMMENT","\/\/ collect warnings\n",487],["T_WHITESPACE","            ",488],["T_IF","if",488],["T_WHITESPACE"," ",488],"(","!",["T_EMPTY","empty",488],"(",["T_VARIABLE","$response",488],"[",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",488],"]",")",["T_WHITESPACE"," ",488],["T_BOOLEAN_AND","&&",488],["T_WHITESPACE"," ",488],["T_STRING","strtoupper",488],"(",["T_VARIABLE","$response",488],"[",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",488],"]",")",["T_WHITESPACE"," ",488],["T_IS_NOT_EQUAL","!=",488],["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","'APPROVED'",488],")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n                ",488],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_callWarnings",489],"[","]",["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$response",489],"[",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",489],"]",";",["T_WHITESPACE","\n            ",489],"}",["T_WHITESPACE","\n            ",490],["T_RETURN","return",491],["T_WHITESPACE"," ",491],["T_STRING","true",491],";",["T_WHITESPACE","\n        ",491],"}",["T_WHITESPACE","\n        ",492],["T_RETURN","return",493],["T_WHITESPACE"," ",493],["T_STRING","false",493],";",["T_WHITESPACE","\n    ",493],"}",["T_WHITESPACE","\n\n    ",494],["T_DOC_COMMENT","\/**\n     * Handle logical errors\n     *\n     * @param array\n     *\/",496],["T_WHITESPACE","\n    ",500],["T_PROTECTED","protected",501],["T_WHITESPACE"," ",501],["T_FUNCTION","function",501],["T_WHITESPACE"," ",501],["T_STRING","_handleCallErrors",501],"(",["T_VARIABLE","$response",501],")",["T_WHITESPACE","\n    ",501],"{",["T_WHITESPACE","\n        ",502],["T_IF","if",503],["T_WHITESPACE"," ",503],"(",["T_VARIABLE","$response",503],"[",["T_CONSTANT_ENCAPSED_STRING","'RESULT'",503],"]",["T_WHITESPACE"," ",503],["T_IS_NOT_EQUAL","!=",503],["T_WHITESPACE"," ",503],["T_STRING","self",503],["T_DOUBLE_COLON","::",503],["T_STRING","RESPONSE_CODE_APPROVED",503],")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n            ",503],["T_VARIABLE","$message",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$response",504],"[",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",504],"]",";",["T_WHITESPACE","\n            ",504],["T_VARIABLE","$e",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_NEW","new",505],["T_WHITESPACE"," ",505],["T_STRING","Exception",505],"(",["T_STRING","sprintf",505],"(",["T_CONSTANT_ENCAPSED_STRING","'PayPal gateway errors: %s.'",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$message",505],")",")",";",["T_WHITESPACE","\n            ",505],["T_STRING","Mage",506],["T_DOUBLE_COLON","::",506],["T_STRING","logException",506],"(",["T_VARIABLE","$e",506],")",";",["T_WHITESPACE","\n            ",506],["T_STRING","Mage",507],["T_DOUBLE_COLON","::",507],["T_STRING","throwException",507],"(",["T_WHITESPACE","\n                ",507],["T_STRING","Mage",508],["T_DOUBLE_COLON","::",508],["T_STRING","helper",508],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal'",508],")",["T_OBJECT_OPERATOR","->",508],["T_STRING","__",508],"(",["T_CONSTANT_ENCAPSED_STRING","'PayPal gateway rejected the request. %s'",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$message",508],")",["T_WHITESPACE","\n            ",508],")",";",["T_WHITESPACE","\n        ",509],"}",["T_WHITESPACE","\n    ",510],"}",["T_WHITESPACE","\n\n    ",511],["T_DOC_COMMENT","\/**\n     * Build query string without urlencoding from request\n     *\n     * @param array $request\n     * @return string\n     *\/",513],["T_WHITESPACE","\n    ",518],["T_PROTECTED","protected",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","_buildQuery",519],"(",["T_VARIABLE","$request",519],")",["T_WHITESPACE","\n    ",519],"{",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$result",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","''",521],";",["T_WHITESPACE","\n        ",521],["T_FOREACH","foreach",522],["T_WHITESPACE"," ",522],"(",["T_VARIABLE","$request",522],["T_WHITESPACE"," ",522],["T_AS","as",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$k",522],["T_DOUBLE_ARROW","=>",522],["T_VARIABLE","$v",522],")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_VARIABLE","$result",523],["T_WHITESPACE"," ",523],["T_CONCAT_EQUAL",".=",523],["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'&'",523],".",["T_VARIABLE","$k",523],".",["T_CONSTANT_ENCAPSED_STRING","'='",523],".",["T_VARIABLE","$v",523],";",["T_WHITESPACE","\n        ",523],"}",["T_WHITESPACE","\n        ",524],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_STRING","trim",525],"(",["T_VARIABLE","$result",525],",",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","'&'",525],")",";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n\n    ",526],["T_DOC_COMMENT","\/**\n     * Generate Request ID\n     *\n     * @return\n     *\/",528],["T_WHITESPACE","\n    ",532],["T_PROTECTED","protected",533],["T_WHITESPACE"," ",533],["T_FUNCTION","function",533],["T_WHITESPACE"," ",533],["T_STRING","getRequestId",533],"(",")",["T_WHITESPACE","\n    ",533],"{",["T_WHITESPACE","\n        ",534],["T_RETURN","return",535],["T_WHITESPACE"," ",535],["T_STRING","Mage",535],["T_DOUBLE_COLON","::",535],["T_STRING","helper",535],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",535],")",["T_OBJECT_OPERATOR","->",535],["T_STRING","uniqHash",535],"(",")",";",["T_WHITESPACE","\n    ",535],"}",["T_WHITESPACE","\n\n    ",536],["T_DOC_COMMENT","\/**\n     * \"GetTransactionDetails\" method does not exists in PaypalUK\n     *\/",538],["T_WHITESPACE","\n    ",540],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","callGetTransactionDetails",541],"(",")",["T_WHITESPACE","\n    ",541],"{",["T_WHITESPACE","\n    ",542],"}",["T_WHITESPACE","\n\n    ",543],["T_DOC_COMMENT","\/**\n     * Get FMF results from response, if any\n     *\n     * @param array $from\n     * @param array $collectedWarnings\n     *\/",545],["T_WHITESPACE","\n    ",550],["T_PROTECTED","protected",551],["T_WHITESPACE"," ",551],["T_FUNCTION","function",551],["T_WHITESPACE"," ",551],["T_STRING","_importFraudFiltersResult",551],"(",["T_ARRAY","array",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$from",551],",",["T_WHITESPACE"," ",551],["T_ARRAY","array",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$collectedWarnings",551],")",["T_WHITESPACE","\n    ",551],"{",["T_WHITESPACE","\n        ",552],["T_IF","if",553],["T_WHITESPACE"," ",553],"(",["T_VARIABLE","$from",553],"[",["T_CONSTANT_ENCAPSED_STRING","'RESULT'",553],"]",["T_WHITESPACE"," ",553],["T_IS_NOT_EQUAL","!=",553],["T_WHITESPACE"," ",553],["T_STRING","self",553],["T_DOUBLE_COLON","::",553],["T_STRING","RESPONSE_CODE_FRAUD",553],")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n            ",553],["T_RETURN","return",554],";",["T_WHITESPACE","\n        ",554],"}",["T_WHITESPACE","\n        ",555],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","setIsPaymentPending",556],"(",["T_STRING","true",556],")",";",["T_WHITESPACE","\n    ",556],"}",["T_WHITESPACE","\n\n    ",557],["T_DOC_COMMENT","\/**\n     * Return each call request fields\n     * (PayFlow edition doesn't support Unilateral payments)\n     *\n     * @param string $methodName Current method name\n     * @return array\n     *\/",559],["T_WHITESPACE","\n    ",565],["T_PROTECTED","protected",566],["T_WHITESPACE"," ",566],["T_FUNCTION","function",566],["T_WHITESPACE"," ",566],["T_STRING","_prepareEachCallRequest",566],"(",["T_VARIABLE","$methodName",566],")",["T_WHITESPACE","\n    ",566],"{",["T_WHITESPACE","\n        ",567],["T_RETURN","return",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_eachCallRequest",568],";",["T_WHITESPACE","\n    ",568],"}",["T_WHITESPACE","\n\n    ",569],["T_DOC_COMMENT","\/**\n     * Overwrite parent logic, simply return input data\n     * (PayFlow edition doesn't support Unilateral payments)\n     *\n     * @param array $requestFields Standard set of values\n     * @return array\n     *\/",571],["T_WHITESPACE","\n    ",577],["T_PROTECTED","protected",578],["T_WHITESPACE"," ",578],["T_FUNCTION","function",578],["T_WHITESPACE"," ",578],["T_STRING","_prepareExpressCheckoutCallRequest",578],"(","&",["T_VARIABLE","$requestFields",578],")",["T_WHITESPACE","\n    ",578],"{",["T_WHITESPACE","\n        ",579],["T_RETURN","return",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$requestFields",580],";",["T_WHITESPACE","\n    ",580],"}",["T_WHITESPACE","\n\n    ",581],["T_DOC_COMMENT","\/**\n     * Adopt specified request array to be compatible with Paypal\n     * Puerto Rico should be as state of USA and not as a country\n     *\n     * @param array $request\n     *\/",583],["T_WHITESPACE","\n    ",588],["T_PROTECTED","protected",589],["T_WHITESPACE"," ",589],["T_FUNCTION","function",589],["T_WHITESPACE"," ",589],["T_STRING","_applyCountryWorkarounds",589],"(","&",["T_VARIABLE","$request",589],")",["T_WHITESPACE","\n    ",589],"{",["T_WHITESPACE","\n        ",590],["T_IF","if",591],["T_WHITESPACE"," ",591],"(",["T_ISSET","isset",591],"(",["T_VARIABLE","$request",591],"[",["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCOUNTRY'",591],"]",")",["T_WHITESPACE"," ",591],["T_BOOLEAN_AND","&&",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$request",591],"[",["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCOUNTRY'",591],"]",["T_WHITESPACE"," ",591],["T_IS_EQUAL","==",591],["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'PR'",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n            ",591],["T_VARIABLE","$request",592],"[",["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCOUNTRY'",592],"]",["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_CONSTANT_ENCAPSED_STRING","'US'",592],";",["T_WHITESPACE","\n            ",592],["T_VARIABLE","$request",593],"[",["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTATE'",593],"]",["T_WHITESPACE","   ",593],"=",["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","'PR'",593],";",["T_WHITESPACE","\n        ",593],"}",["T_WHITESPACE","\n    ",594],"}",["T_WHITESPACE","\n\n    ",595],["T_DOC_COMMENT","\/**\n     * Checking negative line items\n     *\n     * @param array $request\n     * @param int $i\n     * @return null|true\n     *\/",597],["T_WHITESPACE","\n    ",603],["T_PROTECTED","protected",604],["T_WHITESPACE"," ",604],["T_FUNCTION","function",604],["T_WHITESPACE"," ",604],["T_STRING","_exportLineItems",604],"(",["T_ARRAY","array",604],["T_WHITESPACE"," ",604],"&",["T_VARIABLE","$request",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$i",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_LNUMBER","0",604],")",["T_WHITESPACE","\n    ",604],"{",["T_WHITESPACE","\n        ",605],["T_VARIABLE","$requestBefore",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_VARIABLE","$request",606],";",["T_WHITESPACE","\n        ",606],["T_VARIABLE","$result",607],["T_WHITESPACE"," ",607],"=",["T_WHITESPACE"," ",607],["T_STRING","parent",607],["T_DOUBLE_COLON","::",607],["T_STRING","_exportLineItems",607],"(",["T_VARIABLE","$request",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$i",607],")",";",["T_WHITESPACE","\n        ",607],["T_IF","if",608],["T_WHITESPACE"," ",608],"(",["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","getIsLineItemsEnabled",608],"(",")",["T_WHITESPACE"," ",608],["T_BOOLEAN_AND","&&",608],["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","_cart",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","hasNegativeItemAmount",608],"(",")",")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n            ",608],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","_lineItemTotalExportMap",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_ARRAY","array",609],"(",["T_WHITESPACE","\n                ",609],["T_STRING","Mage_Paypal_Model_Cart",610],["T_DOUBLE_COLON","::",610],["T_STRING","TOTAL_TAX",610],["T_WHITESPACE","       ",610],["T_DOUBLE_ARROW","=>",610],["T_WHITESPACE"," ",610],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",610],",",["T_WHITESPACE","\n                ",610],["T_STRING","Mage_Paypal_Model_Cart",611],["T_DOUBLE_COLON","::",611],["T_STRING","TOTAL_SHIPPING",611],["T_WHITESPACE","  ",611],["T_DOUBLE_ARROW","=>",611],["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","'FREIGHTAMT'",611],",",["T_WHITESPACE","\n                ",611],["T_CONSTANT_ENCAPSED_STRING","'amount'",612],["T_WHITESPACE","                                ",612],["T_DOUBLE_ARROW","=>",612],["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_ITEMAMT'",612],",",["T_WHITESPACE","\n            ",612],")",";",["T_WHITESPACE","\n            ",613],["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","_lineItemExportItemsFormat",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_ARRAY","array",614],"(",["T_WHITESPACE","\n                ",614],["T_CONSTANT_ENCAPSED_STRING","'name'",615],["T_WHITESPACE","   ",615],["T_DOUBLE_ARROW","=>",615],["T_WHITESPACE"," ",615],["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_NAME%d'",615],",",["T_WHITESPACE","\n                ",615],["T_CONSTANT_ENCAPSED_STRING","'qty'",616],["T_WHITESPACE","    ",616],["T_DOUBLE_ARROW","=>",616],["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_QTY%d'",616],",",["T_WHITESPACE","\n                ",616],["T_CONSTANT_ENCAPSED_STRING","'amount'",617],["T_WHITESPACE"," ",617],["T_DOUBLE_ARROW","=>",617],["T_WHITESPACE"," ",617],["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_AMT%d'",617],",",["T_WHITESPACE","\n            ",617],")",";",["T_WHITESPACE","\n            ",618],["T_VARIABLE","$request",619],["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],["T_VARIABLE","$requestBefore",619],";",["T_WHITESPACE","\n            ",619],["T_VARIABLE","$result",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_STRING","parent",620],["T_DOUBLE_COLON","::",620],["T_STRING","_exportLineItems",620],"(",["T_VARIABLE","$request",620],",",["T_WHITESPACE"," ",620],["T_VARIABLE","$i",620],")",";",["T_WHITESPACE","\n            ",620],["T_VARIABLE","$paypalNvp",621],["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_NEW","new",621],["T_WHITESPACE"," ",621],["T_STRING","Mage_Paypal_Model_Api_Nvp",621],"(",")",";",["T_WHITESPACE","\n            ",621],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","_doCaptureResponse",622],["T_WHITESPACE"," ",622],"=",["T_WHITESPACE"," ",622],["T_VARIABLE","$paypalNvp",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","_doCaptureResponse",622],";",["T_WHITESPACE","\n            ",622],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","_refundTransactionResponse",623],["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_VARIABLE","$paypalNvp",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","_refundTransactionResponse",623],";",["T_WHITESPACE","\n            ",623],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","_getTransactionDetailsResponse",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_VARIABLE","$paypalNvp",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","_getTransactionDetailsResponse",624],";",["T_WHITESPACE","\n            ",624],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","_paymentInformationResponse",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_VARIABLE","$paypalNvp",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","_paymentInformationResponse",625],";",["T_WHITESPACE","\n            ",625],["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","_headers",626],"[","]",["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'PAYPAL-NVP: Y'",626],";",["T_WHITESPACE","\n            ",626],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","_setSpecificForNegativeLineItems",627],"(",")",";",["T_WHITESPACE","\n        ",627],"}",["T_WHITESPACE","\n        ",628],["T_RETURN","return",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$result",629],";",["T_WHITESPACE","\n    ",629],"}",["T_WHITESPACE","\n\n    ",630],["T_DOC_COMMENT","\/**\n     * Set specific data when negative line item case\n     *\/",632],["T_WHITESPACE","\n    ",634],["T_PROTECTED","protected",635],["T_WHITESPACE"," ",635],["T_FUNCTION","function",635],["T_WHITESPACE"," ",635],["T_STRING","_setSpecificForNegativeLineItems",635],"(",")",["T_WHITESPACE","\n    ",635],"{",["T_WHITESPACE","\n        ",636],["T_VARIABLE","$index",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_STRING","array_search",637],"(",["T_CONSTANT_ENCAPSED_STRING","'PPREF'",637],",",["T_WHITESPACE"," ",637],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","_doDirectPaymentResponse",637],")",";",["T_WHITESPACE","\n        ",637],["T_IF","if",638],["T_WHITESPACE"," ",638],"(",["T_STRING","false",638],["T_WHITESPACE"," ",638],["T_IS_NOT_IDENTICAL","!==",638],["T_WHITESPACE"," ",638],["T_VARIABLE","$index",638],")",["T_WHITESPACE"," ",638],"{",["T_WHITESPACE","\n            ",638],["T_UNSET","unset",639],"(",["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","_doDirectPaymentResponse",639],"[",["T_VARIABLE","$index",639],"]",")",";",["T_WHITESPACE","\n        ",639],"}",["T_WHITESPACE","\n        ",640],["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","_doDirectPaymentResponse",641],"[","]",["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",641],";",["T_WHITESPACE","\n    ",641],"}",["T_WHITESPACE","\n",642],"}",["T_WHITESPACE","\n",643]]