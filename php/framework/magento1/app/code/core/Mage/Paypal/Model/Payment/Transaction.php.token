[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Paypal\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Payment transaction model\n * Tracks transaction history\n *\n * @method Mage_Paypal_Model_Resource_Payment_Transaction _getResource()\n * @method Mage_Paypal_Model_Resource_Payment_Transaction getResource()\n * @method string getTxnId()\n * @method string getCreatedAt()\n * @method Mage_Paypal_Model_Payment_Transaction setCreatedAt(string $value)\n *\n * @category    Mage\n * @package     Mage_Paypal\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",40],["T_CLASS","class",41],["T_WHITESPACE"," ",41],["T_STRING","Mage_Paypal_Model_Payment_Transaction",41],["T_WHITESPACE"," ",41],["T_EXTENDS","extends",41],["T_WHITESPACE"," ",41],["T_STRING","Mage_Core_Model_Abstract",41],["T_WHITESPACE","\n",41],"{",["T_WHITESPACE","\n    ",42],["T_DOC_COMMENT","\/**\n     * Whether to throw exceptions on different operations\n     *\n     * @var bool\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_isFailsafe",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","false",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Event object prefix\n     *\n     * @see Mage_Core_Model_Absctract::$_eventPrefix\n     * @var string\n     *\/",50],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_eventPrefix",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'paypal_payment_transaction'",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Event object prefix\n     *\n     * @see Mage_Core_Model_Absctract::$_eventObject\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_eventObject",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'paypal_payment_transaction'",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Order website id\n     *\n     * @var int\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_orderWebsiteId",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","_construct",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_init",78],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal\/payment_transaction'",78],")",";",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_STRING","parent",79],["T_DOUBLE_COLON","::",79],["T_STRING","_construct",79],"(",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Transaction ID setter\n     * @param string $txnId\n     * @return Mage_Paypal_Model_Payment_Transaction\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","setTxnId",87],"(",["T_VARIABLE","$txnId",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_verifyTxnId",89],"(",["T_VARIABLE","$txnId",89],")",";",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setData",90],"(",["T_CONSTANT_ENCAPSED_STRING","'txn_id'",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$txnId",90],")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Check object before loading by by specified transaction ID\n     * @param $txnId\n     * @return Mage_Paypal_Model_Payment_Transaction\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","_beforeLoadByTxnId",98],"(",["T_VARIABLE","$txnId",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_STRING","Mage",100],["T_DOUBLE_COLON","::",100],["T_STRING","dispatchEvent",100],"(",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_eventPrefix",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'_load_by_txn_id_before'",101],",",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_getEventData",102],"(",")",["T_WHITESPACE"," ",102],"+",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'txn_id'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$txnId",102],")",["T_WHITESPACE","\n        ",102],")",";",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Load self by specified transaction ID. Requires the valid payment object to be set\n     * @param string $txnId\n     * @return Mage_Paypal_Model_Payment_Transaction\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","loadByTxnId",112],"(",["T_VARIABLE","$txnId",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_beforeLoadByTxnId",114],"(",["T_VARIABLE","$txnId",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getResource",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","loadObjectByTxnId",115],"(",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$txnId",116],["T_WHITESPACE","\n        ",116],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_afterLoadByTxnId",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Check object after loading by by specified transaction ID\n     * @param $txnId\n     * @return Mage_Paypal_Model_Payment_Transaction\n     *\/",122],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","_afterLoadByTxnId",127],"(",")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_STRING","Mage",129],["T_DOUBLE_COLON","::",129],["T_STRING","dispatchEvent",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_eventPrefix",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'_load_by_txn_id_after'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_getEventData",129],"(",")",")",";",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Additional information setter\n     * Updates data inside the 'additional_information' array\n     * Doesn't allow to set arrays\n     *\n     * @param string $key\n     * @param mixed $value\n     * @return Mage_Paypal_Model_Order_Payment_Transaction\n     * @throws Mage_Core_Exception\n     *\/",134],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","setAdditionalInformation",144],"(",["T_VARIABLE","$key",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$value",144],")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_STRING","is_object",146],"(",["T_VARIABLE","$value",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","throwException",147],"(",["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","helper",147],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","__",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Payment transactions disallow storing objects.'",147],")",")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$info",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_getData",149],"(",["T_CONSTANT_ENCAPSED_STRING","'additional_information'",149],")",";",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(","!",["T_VARIABLE","$info",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$info",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$info",153],"[",["T_VARIABLE","$key",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$value",153],";",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","setData",154],"(",["T_CONSTANT_ENCAPSED_STRING","'additional_information'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$info",154],")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Getter for entire additional_information value or one of its element by key\n     * @param string $key\n     * @return array|null|mixed\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","getAdditionalInformation",162],"(",["T_VARIABLE","$key",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","null",162],")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$info",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_getData",164],"(",["T_CONSTANT_ENCAPSED_STRING","'additional_information'",164],")",";",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(","!",["T_VARIABLE","$info",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$info",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$key",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],"(",["T_ISSET","isset",169],"(",["T_VARIABLE","$info",169],"[",["T_VARIABLE","$key",169],"]",")",["T_WHITESPACE"," ",169],"?",["T_WHITESPACE"," ",169],["T_VARIABLE","$info",169],"[",["T_VARIABLE","$key",169],"]",["T_WHITESPACE"," ",169],":",["T_WHITESPACE"," ",169],["T_STRING","null",169],")",";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n        ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$info",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Unsetter for entire additional_information value or one of its element by key\n     * @param string $key\n     * @return Mage_Paypal_Model_Payment_Transaction\n     *\/",174],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","unsAdditionalInformation",179],"(",["T_VARIABLE","$key",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","null",179],")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$key",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$info",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_getData",182],"(",["T_CONSTANT_ENCAPSED_STRING","'additional_information'",182],")",";",["T_WHITESPACE","\n            ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_STRING","is_array",183],"(",["T_VARIABLE","$info",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                ",183],["T_UNSET","unset",184],"(",["T_VARIABLE","$info",184],"[",["T_VARIABLE","$key",184],"]",")",";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE"," ",186],["T_ELSE","else",186],["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$info",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setData",189],"(",["T_CONSTANT_ENCAPSED_STRING","'additional_information'",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$info",189],")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Setter\/Getter whether transaction is supposed to prevent exceptions on saving\n     *\n     * @param bool $failsafe\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","isFailsafe",197],"(",["T_VARIABLE","$setFailsafe",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","null",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_STRING","null",199],["T_WHITESPACE"," ",199],["T_IS_IDENTICAL","===",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$setFailsafe",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_isFailsafe",200],";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_isFailsafe",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_BOOL_CAST","(bool)",202],["T_VARIABLE","$setFailsafe",202],";",["T_WHITESPACE","\n        ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Verify data required for saving\n     * @return Mage_Paypal_Model_Payment_Transaction\n     * @throws Mage_Core_Exception\n     *\/",206],["T_WHITESPACE","\n    ",210],["T_PROTECTED","protected",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","_beforeSave",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(","!",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getId",213],"(",")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setCreatedAt",214],"(",["T_STRING","Mage",214],["T_DOUBLE_COLON","::",214],["T_STRING","getModel",214],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/date'",214],")",["T_OBJECT_OPERATOR","->",214],["T_STRING","gmtDate",214],"(",")",")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_STRING","parent",216],["T_DOUBLE_COLON","::",216],["T_STRING","_beforeSave",216],"(",")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Check whether specified transaction ID is valid\n     * @param string $txnId\n     * @throws Mage_Core_Exception\n     *\/",219],["T_WHITESPACE","\n    ",223],["T_PROTECTED","protected",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","_verifyTxnId",224],"(",["T_VARIABLE","$txnId",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_STRING","null",226],["T_WHITESPACE"," ",226],["T_IS_NOT_IDENTICAL","!==",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$txnId",226],["T_WHITESPACE"," ",226],["T_BOOLEAN_AND","&&",226],["T_WHITESPACE"," ",226],["T_LNUMBER","0",226],["T_WHITESPACE"," ",226],["T_IS_EQUAL","==",226],["T_WHITESPACE"," ",226],["T_STRING","strlen",226],"(",["T_VARIABLE","$txnId",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_STRING","Mage",227],["T_DOUBLE_COLON","::",227],["T_STRING","throwException",227],"(",["T_STRING","Mage",227],["T_DOUBLE_COLON","::",227],["T_STRING","helper",227],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal'",227],")",["T_OBJECT_OPERATOR","->",227],["T_STRING","__",227],"(",["T_CONSTANT_ENCAPSED_STRING","'Transaction ID must not be empty.'",227],")",")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Make sure this object is a valid transaction\n     * TODO for more restriction we can check for data consistency\n     * @throws Mage_Core_Exception\n     *\/",231],["T_WHITESPACE","\n    ",235],["T_PROTECTED","protected",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","_verifyThisTransactionExists",236],"(",")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(","!",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getId",238],"(",")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_STRING","Mage",239],["T_DOUBLE_COLON","::",239],["T_STRING","throwException",239],"(",["T_STRING","Mage",239],["T_DOUBLE_COLON","::",239],["T_STRING","helper",239],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal'",239],")",["T_OBJECT_OPERATOR","->",239],["T_STRING","__",239],"(",["T_CONSTANT_ENCAPSED_STRING","'This operation requires an existing transaction object.'",239],")",")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n",241],"}",["T_WHITESPACE","\n",242]]