[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Paypal\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Website Payments Pro Hosted Solution payment gateway model\n *\n * @category    Mage\n * @package     Mage_Paypal\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Paypal_Model_Hostedpro",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Paypal_Model_Direct",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Default layout template\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","LAYOUT_TEMPLATE",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'templateD'",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Mobile layout template\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","MOBILE_LAYOUT_TEMPLATE",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'mobile-iframe'",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Button code\n     *\n     * @var string\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","BM_BUTTON_CODE",52],["T_WHITESPACE","    ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Button type\n     *\n     * @var string\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","BM_BUTTON_TYPE",59],["T_WHITESPACE","    ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'PAYMENT'",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Paypal API method name for button creation\n     *\n     * @var string\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_CONST","const",66],["T_WHITESPACE"," ",66],["T_STRING","BM_BUTTON_METHOD",66],["T_WHITESPACE","  ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'BMCreateButton'",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Payment method code\n     *\/",68],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_code",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","Mage_Paypal_Model_Config",71],["T_DOUBLE_COLON","::",71],["T_STRING","METHOD_HOSTEDPRO",71],";",["T_WHITESPACE","\n\n    ",71],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$_formBlockType",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'paypal\/hosted_pro_form'",73],";",["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_infoBlockType",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'paypal\/hosted_pro_info'",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Availability options\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_canUseInternal",79],["T_WHITESPACE","          ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","false",79],";",["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$_canUseForMultishipping",80],["T_WHITESPACE","  ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","false",80],";",["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_canSaveCc",81],["T_WHITESPACE","               ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","false",81],";",["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_isInitializeNeeded",82],["T_WHITESPACE","      ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","true",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Return available CC types for gateway based on merchant country.\n     * We do not have to check the availability of card types.\n     *\n     * @return bool\n     *\/",84],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getAllowedCcTypes",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_STRING","true",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Return merchant country code from config,\n     * use default country if it not specified in General settings\n     *\n     * @return string\n     *\/",95],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","getMerchantCountry",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_pro",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getConfig",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","getMerchantCountry",103],"(",")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Return iframe template value depending on config\n     *\n     * @return string\n     *\/",106],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","getTemplate",111],"(",")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getConfigData",113],"(",["T_CONSTANT_ENCAPSED_STRING","'mobile_optimized'",113],")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_STRING","self",114],["T_DOUBLE_COLON","::",114],["T_STRING","MOBILE_LAYOUT_TEMPLATE",114],";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE"," ",115],["T_ELSE","else",115],["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_STRING","self",116],["T_DOUBLE_COLON","::",116],["T_STRING","LAYOUT_TEMPLATE",116],";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Do not validate payment form using server methods\n     *\n     * @return  bool\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","validate",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_STRING","true",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Instantiate state and set it to state object\n     *\n     * @param string $paymentAction\n     * @param Varien_Object $stateObject\n     *\/",130],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","initialize",136],"(",["T_VARIABLE","$paymentAction",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$stateObject",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_SWITCH","switch",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$paymentAction",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_CASE","case",139],["T_WHITESPACE"," ",139],["T_STRING","Mage_Paypal_Model_Config",139],["T_DOUBLE_COLON","::",139],["T_STRING","PAYMENT_ACTION_AUTH",139],":",["T_WHITESPACE","\n            ",139],["T_CASE","case",140],["T_WHITESPACE"," ",140],["T_STRING","Mage_Paypal_Model_Config",140],["T_DOUBLE_COLON","::",140],["T_STRING","PAYMENT_ACTION_SALE",140],":",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$payment",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getInfoInstance",141],"(",")",";",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$order",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$payment",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getOrder",142],"(",")",";",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$order",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setCanSendNewEmailFlag",143],"(",["T_STRING","false",143],")",";",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$payment",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setAmountAuthorized",144],"(",["T_VARIABLE","$order",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getTotalDue",144],"(",")",")",";",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$payment",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setBaseAmountAuthorized",145],"(",["T_VARIABLE","$order",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getBaseTotalDue",145],"(",")",")",";",["T_WHITESPACE","\n\n                ",145],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_setPaymentFormUrl",147],"(",["T_VARIABLE","$payment",147],")",";",["T_WHITESPACE","\n\n                ",147],["T_VARIABLE","$stateObject",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","setState",149],"(",["T_STRING","Mage_Sales_Model_Order",149],["T_DOUBLE_COLON","::",149],["T_STRING","STATE_PENDING_PAYMENT",149],")",";",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$stateObject",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","setStatus",150],"(",["T_CONSTANT_ENCAPSED_STRING","'pending_payment'",150],")",";",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$stateObject",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","setIsNotified",151],"(",["T_STRING","false",151],")",";",["T_WHITESPACE","\n                ",151],["T_BREAK","break",152],";",["T_WHITESPACE","\n            ",152],["T_DEFAULT","default",153],":",["T_WHITESPACE","\n                ",153],["T_BREAK","break",154],";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Sends API request to PayPal to get form URL, then sets this URL to $payment object.\n     *\n     * @param Mage_Payment_Model_Info $payment\n     *\/",158],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","_setPaymentFormUrl",163],"(",["T_STRING","Mage_Payment_Model_Info",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$payment",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$request",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_buildFormUrlRequest",165],"(",["T_VARIABLE","$payment",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$response",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_sendFormUrlRequest",166],"(",["T_VARIABLE","$request",166],")",";",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$response",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$payment",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setAdditionalInformation",168],"(",["T_CONSTANT_ENCAPSED_STRING","'secure_form_url'",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$response",168],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE"," ",169],["T_ELSE","else",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_STRING","Mage",170],["T_DOUBLE_COLON","::",170],["T_STRING","throwException",170],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot get secure form URL from PayPal'",170],")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Returns request object with needed data for API request to PayPal to get form URL.\n     *\n     * @param Mage_Payment_Model_Info $payment\n     * @return Mage_Paypal_Model_Hostedpro_Request\n     *\/",174],["T_WHITESPACE","\n    ",179],["T_PROTECTED","protected",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","_buildFormUrlRequest",180],"(",["T_STRING","Mage_Payment_Model_Info",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$payment",180],")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$request",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_buildBasicRequest",182],"(",")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","setOrder",183],"(",["T_VARIABLE","$payment",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getOrder",183],"(",")",")",["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","setPaymentMethod",184],"(",["T_VARIABLE","$this",184],")",";",["T_WHITESPACE","\n\n        ",184],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$request",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Returns form URL from request to PayPal.\n     *\n     * @param Mage_Paypal_Model_Hostedpro_Request $request\n     * @return string | false\n     *\/",189],["T_WHITESPACE","\n    ",194],["T_PROTECTED","protected",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","_sendFormUrlRequest",195],"(",["T_STRING","Mage_Paypal_Model_Hostedpro_Request",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$request",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$api",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_pro",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getApi",197],"(",")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$response",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$api",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","call",198],"(",["T_STRING","self",198],["T_DOUBLE_COLON","::",198],["T_STRING","BM_BUTTON_METHOD",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$request",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getRequestData",198],"(",")",")",";",["T_WHITESPACE","\n\n        ",198],["T_IF","if",200],["T_WHITESPACE"," ",200],"(","!",["T_ISSET","isset",200],"(",["T_VARIABLE","$response",200],"[",["T_CONSTANT_ENCAPSED_STRING","'EMAILLINK'",200],"]",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_STRING","false",201],";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n        ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$response",203],"[",["T_CONSTANT_ENCAPSED_STRING","'EMAILLINK'",203],"]",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Return request object with basic information\n     *\n     * @return Mage_Paypal_Model_Hostedpro_Request\n     *\/",206],["T_WHITESPACE","\n    ",210],["T_PROTECTED","protected",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","_buildBasicRequest",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$request",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","Mage",213],["T_DOUBLE_COLON","::",213],["T_STRING","getModel",213],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal\/hostedpro_request'",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$request",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setData",214],"(",["T_ARRAY","array",214],"(",["T_WHITESPACE","\n            ",214],["T_CONSTANT_ENCAPSED_STRING","'METHOD'",215],["T_WHITESPACE","     ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_STRING","self",215],["T_DOUBLE_COLON","::",215],["T_STRING","BM_BUTTON_METHOD",215],",",["T_WHITESPACE","\n            ",215],["T_CONSTANT_ENCAPSED_STRING","'BUTTONCODE'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_STRING","self",216],["T_DOUBLE_COLON","::",216],["T_STRING","BM_BUTTON_CODE",216],",",["T_WHITESPACE","\n            ",216],["T_CONSTANT_ENCAPSED_STRING","'BUTTONTYPE'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_STRING","self",217],["T_DOUBLE_COLON","::",217],["T_STRING","BM_BUTTON_TYPE",217],["T_WHITESPACE","\n        ",217],")",")",";",["T_WHITESPACE","\n        ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$request",219],";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Get return URL\n     *\n     * @param int $storeId\n     * @return string\n     *\/",222],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","getReturnUrl",228],"(",["T_VARIABLE","$storeId",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","null",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_getUrl",230],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal\/hostedpro\/return'",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$storeId",230],")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Get notify (IPN) URL\n     *\n     * @param int $storeId\n     * @return string\n     *\/",233],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","getNotifyUrl",239],"(",["T_VARIABLE","$storeId",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","null",239],")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_getUrl",241],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal\/ipn'",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$storeId",241],")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Get cancel URL\n     *\n     * @param int $storeId\n     * @return string\n     *\/",244],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","getCancelUrl",250],"(",["T_VARIABLE","$storeId",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","null",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_getUrl",252],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal\/hostedpro\/cancel'",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$storeId",252],")",";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Build URL for store\n     *\n     * @param string $path\n     * @param int $storeId\n     * @param bool $secure\n     * @return string\n     *\/",255],["T_WHITESPACE","\n    ",262],["T_PROTECTED","protected",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","_getUrl",263],"(",["T_VARIABLE","$path",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$storeId",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$secure",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","null",263],")",["T_WHITESPACE","\n    ",263],"{",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$store",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","Mage",265],["T_DOUBLE_COLON","::",265],["T_STRING","app",265],"(",")",["T_OBJECT_OPERATOR","->",265],["T_STRING","getStore",265],"(",["T_VARIABLE","$storeId",265],")",";",["T_WHITESPACE","\n        ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_STRING","Mage",266],["T_DOUBLE_COLON","::",266],["T_STRING","getUrl",266],"(",["T_VARIABLE","$path",266],",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_WHITESPACE","\n            ",266],["T_CONSTANT_ENCAPSED_STRING","\"_store\"",267],["T_WHITESPACE","   ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$store",267],",",["T_WHITESPACE","\n            ",267],["T_CONSTANT_ENCAPSED_STRING","\"_secure\"",268],["T_WHITESPACE","  ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_STRING","is_null",268],"(",["T_VARIABLE","$secure",268],")",["T_WHITESPACE"," ",268],"?",["T_WHITESPACE"," ",268],["T_VARIABLE","$store",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","isCurrentlySecure",268],"(",")",["T_WHITESPACE"," ",268],":",["T_WHITESPACE"," ",268],["T_VARIABLE","$secure",268],["T_WHITESPACE","\n        ",268],")",")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n",270],"}",["T_WHITESPACE","\n",271]]