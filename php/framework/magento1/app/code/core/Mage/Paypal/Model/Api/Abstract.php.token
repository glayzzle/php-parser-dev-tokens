[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Paypal\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Abstract class for Paypal API wrappers\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",31],["T_ABSTRACT","abstract",32],["T_WHITESPACE"," ",32],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","Mage_Paypal_Model_Api_Abstract",32],["T_WHITESPACE"," ",32],["T_EXTENDS","extends",32],["T_WHITESPACE"," ",32],["T_STRING","Varien_Object",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_DOC_COMMENT","\/**\n     * Config instance\n     * @var Mage_Paypal_Model_Config\n     *\/",34],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_config",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","null",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Global private to public interface map\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_globalMap",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Filter callbacks for exporting $this data to API call\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_exportToRequestFilters",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Filter callbacks for importing API result to $this data\n     *\n     * @var array\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_importFromRequestFilters",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Line items export to request mapping settings\n     * @var array\n     *\/",60],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_lineItemExportItemsFormat",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",")",";",["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_lineItemExportItemsFilters",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_lineItemTotalExportMap",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",")",";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * PayPal shopping cart instance\n     *\n     * @var Mage_Paypal_Model_Cart\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$_cart",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Shipping options export to request mapping settings\n     * @var array\n     *\/",75],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_shippingOptionsExportItemsFormat",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Imported recurring profiles array\n     *\n     * @var array\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_recurringPaymentProfiles",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",")",";",["T_WHITESPACE","\n\n   ",86],["T_DOC_COMMENT","\/**\n     * Fields that should be replaced in debug with '***'\n     *\n     * @var array\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_debugReplacePrivateDataKeys",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",")",";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Return Paypal Api user name based on config data\n     *\n     * @return string\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getApiUsername",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_config",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","apiUsername",102],";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Return Paypal Api password based on config data\n     *\n     * @return string\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","getApiPassword",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_config",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","apiPassword",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Return Paypal Api signature based on config data\n     *\n     * @return string\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getApiSignature",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_config",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","apiSignature",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Return Paypal Api certificate based on config data\n     *\n     * @return string\n     *\/",125],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getApiCertificate",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_config",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getApiCertificate",132],"(",")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * BN code getter\n     *\n     * @return string\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","getBuildNotationCode",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_config",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getBuildNotationCode",142],"(",")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Return Paypal Api proxy status based on config data\n     *\n     * @return bool\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","getUseProxy",150],"(",")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_getDataOrConfig",152],"(",["T_CONSTANT_ENCAPSED_STRING","'use_proxy'",152],",",["T_WHITESPACE"," ",152],["T_STRING","false",152],")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Return Paypal Api proxy host based on config data\n     *\n     * @return string\n     *\/",155],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","getProxyHost",160],"(",")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_getDataOrConfig",162],"(",["T_CONSTANT_ENCAPSED_STRING","'proxy_host'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",162],")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Return Paypal Api proxy port based on config data\n     *\n     * @return string\n     *\/",165],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","getProxyPort",170],"(",")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_getDataOrConfig",172],"(",["T_CONSTANT_ENCAPSED_STRING","'proxy_port'",172],",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'808'",172],")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * @deprecated after 1.4.1.0\n     *\n     * @return bool\n     *\/",175],["T_WHITESPACE","\n    ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","getDebug",180],"(",")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getDebugFlag",182],"(",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * PayPal page CSS getter\n     *\n     * @return string\n     *\/",185],["T_WHITESPACE","\n    ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","getPageStyle",190],"(",")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_getDataOrConfig",192],"(",["T_CONSTANT_ENCAPSED_STRING","'page_style'",192],")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * PayPal page header image URL getter\n     *\n     * @return string\n     *\/",195],["T_WHITESPACE","\n    ",199],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","getHdrimg",200],"(",")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_getDataOrConfig",202],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_hdrimg'",202],")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * PayPal page header border color getter\n     *\n     * @return string\n     *\/",205],["T_WHITESPACE","\n    ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","getHdrbordercolor",210],"(",")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_getDataOrConfig",212],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_hdrbordercolor'",212],")",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * PayPal page header background color getter\n     *\n     * @return string\n     *\/",215],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","getHdrbackcolor",220],"(",")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_getDataOrConfig",222],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_hdrbackcolor'",222],")",";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * PayPal page \"payflow color\" (?) getter\n     *\n     * @return string\n     *\/",225],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","getPayflowcolor",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_getDataOrConfig",232],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_payflowcolor'",232],")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Payment action getter\n     *\n     * @return string\n     *\/",235],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","getPaymentAction",240],"(",")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_getDataOrConfig",242],"(",["T_CONSTANT_ENCAPSED_STRING","'payment_action'",242],")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * PayPal merchant email getter\n     *\/",245],["T_WHITESPACE","\n    ",247],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","getBusinessAccount",248],"(",")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_getDataOrConfig",250],"(",["T_CONSTANT_ENCAPSED_STRING","'business_account'",250],")",";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Import $this public data to specified object or array\n     *\n     * @param array|Varien_Object $to\n     * @param array $publicMap\n     * @return array|Varien_Object\n     *\/",253],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],"&",["T_STRING","import",260],"(",["T_VARIABLE","$to",260],",",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$publicMap",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],"(",")",")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_STRING","Varien_Object_Mapper",262],["T_DOUBLE_COLON","::",262],["T_STRING","accumulateByMap",262],"(",["T_ARRAY","array",262],"(",["T_VARIABLE","$this",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'getDataUsingMethod'",262],")",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$to",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$publicMap",262],")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Export $this public data from specified object or array\n     *\n     * @param array|Varien_Object $from\n     * @param array $publicMap\n     * @return Mage_Paypal_Model_Api_Abstract\n     *\/",265],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","export",272],"(",["T_VARIABLE","$from",272],",",["T_WHITESPACE"," ",272],["T_ARRAY","array",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$publicMap",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_ARRAY","array",272],"(",")",")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_STRING","Varien_Object_Mapper",274],["T_DOUBLE_COLON","::",274],["T_STRING","accumulateByMap",274],"(",["T_VARIABLE","$from",274],",",["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",["T_VARIABLE","$this",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'setDataUsingMethod'",274],")",",",["T_WHITESPACE"," ",274],["T_VARIABLE","$publicMap",274],")",";",["T_WHITESPACE","\n        ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * Set PayPal cart instance\n     *\n     * @param Mage_Paypal_Model_Cart $cart\n     * @return Mage_Paypal_Model_Api_Abstract\n     *\/",278],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","setPaypalCart",284],"(",["T_STRING","Mage_Paypal_Model_Cart",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$cart",284],")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_cart",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$cart",286],";",["T_WHITESPACE","\n        ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Config instance setter\n     * @param Mage_Paypal_Model_Config $config\n     * @return Mage_Paypal_Model_Api_Abstract\n     *\/",290],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","setConfigObject",295],"(",["T_STRING","Mage_Paypal_Model_Config",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$config",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_config",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$config",297],";",["T_WHITESPACE","\n        ",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Current locale code getter\n     *\n     * @return string\n     *\/",301],["T_WHITESPACE","\n    ",305],["T_PUBLIC","public",306],["T_WHITESPACE"," ",306],["T_FUNCTION","function",306],["T_WHITESPACE"," ",306],["T_STRING","getLocaleCode",306],"(",")",["T_WHITESPACE","\n    ",306],"{",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_STRING","Mage",308],["T_DOUBLE_COLON","::",308],["T_STRING","app",308],"(",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","getLocale",308],"(",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","getLocaleCode",308],"(",")",";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Always take into accoun\n     *\/",311],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","getFraudManagementFiltersEnabled",314],"(",")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_LNUMBER","1",316],";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * Set recurring profiles\n     *\n     * @param array $items\n     * @return Mage_Paypal_Model_Api_Abstract\n     *\/",319],["T_WHITESPACE","\n    ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","addRecurringPaymentProfiles",325],"(",["T_ARRAY","array",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$items",325],")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$items",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_recurringPaymentProfiles",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$items",328],";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Export $this public data to private request array\n     *\n     * @param array $internalRequestMap\n     * @param array $request\n     * @return array\n     *\/",333],["T_WHITESPACE","\n    ",339],["T_PROTECTED","protected",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],"&",["T_STRING","_exportToRequest",340],"(",["T_ARRAY","array",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$privateRequestMap",340],",",["T_WHITESPACE"," ",340],["T_ARRAY","array",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$request",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_ARRAY","array",340],"(",")",")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$map",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_ARRAY","array",342],"(",")",";",["T_WHITESPACE","\n        ",342],["T_FOREACH","foreach",343],["T_WHITESPACE"," ",343],"(",["T_VARIABLE","$privateRequestMap",343],["T_WHITESPACE"," ",343],["T_AS","as",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$key",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n            ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_ISSET","isset",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_globalMap",344],"[",["T_VARIABLE","$key",344],"]",")",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n                ",344],["T_VARIABLE","$map",345],"[",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_globalMap",345],"[",["T_VARIABLE","$key",345],"]","]",["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$key",345],";",["T_WHITESPACE","\n            ",345],"}",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$result",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","Varien_Object_Mapper",348],["T_DOUBLE_COLON","::",348],["T_STRING","accumulateByMap",348],"(",["T_ARRAY","array",348],"(",["T_VARIABLE","$this",348],",",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'getDataUsingMethod'",348],")",",",["T_WHITESPACE"," ",348],["T_VARIABLE","$request",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$map",348],")",";",["T_WHITESPACE","\n        ",348],["T_FOREACH","foreach",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$privateRequestMap",349],["T_WHITESPACE"," ",349],["T_AS","as",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$key",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_ISSET","isset",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_exportToRequestFilters",350],"[",["T_VARIABLE","$key",350],"]",")",["T_WHITESPACE"," ",350],["T_BOOLEAN_AND","&&",350],["T_WHITESPACE"," ",350],["T_ISSET","isset",350],"(",["T_VARIABLE","$result",350],"[",["T_VARIABLE","$key",350],"]",")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$callback",351],["T_WHITESPACE","   ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_exportToRequestFilters",351],"[",["T_VARIABLE","$key",351],"]",";",["T_WHITESPACE","\n                ",351],["T_VARIABLE","$privateKey",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$result",352],"[",["T_VARIABLE","$key",352],"]",";",["T_WHITESPACE","\n                ",352],["T_VARIABLE","$publicKey",353],["T_WHITESPACE","  ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$map",353],"[",["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_globalMap",353],"[",["T_VARIABLE","$key",353],"]","]",";",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$result",354],"[",["T_VARIABLE","$key",354],"]",["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","call_user_func",354],"(",["T_ARRAY","array",354],"(",["T_VARIABLE","$this",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$callback",354],")",",",["T_WHITESPACE"," ",354],["T_VARIABLE","$privateKey",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$publicKey",354],")",";",["T_WHITESPACE","\n            ",354],"}",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE","\n        ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$result",357],";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Import $this public data from a private response array\n     *\n     * @param array $privateResponseMap\n     * @param array $response\n     *\/",360],["T_WHITESPACE","\n    ",365],["T_PROTECTED","protected",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","_importFromResponse",366],"(",["T_ARRAY","array",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$privateResponseMap",366],",",["T_WHITESPACE"," ",366],["T_ARRAY","array",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$response",366],")",["T_WHITESPACE","\n    ",366],"{",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$map",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_ARRAY","array",368],"(",")",";",["T_WHITESPACE","\n        ",368],["T_FOREACH","foreach",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$privateResponseMap",369],["T_WHITESPACE"," ",369],["T_AS","as",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$key",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_IF","if",370],["T_WHITESPACE"," ",370],"(",["T_ISSET","isset",370],"(",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_globalMap",370],"[",["T_VARIABLE","$key",370],"]",")",")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n                ",370],["T_VARIABLE","$map",371],"[",["T_VARIABLE","$key",371],"]",["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_globalMap",371],"[",["T_VARIABLE","$key",371],"]",";",["T_WHITESPACE","\n            ",371],"}",["T_WHITESPACE","\n            ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_ISSET","isset",373],"(",["T_VARIABLE","$response",373],"[",["T_VARIABLE","$key",373],"]",")",["T_WHITESPACE"," ",373],["T_BOOLEAN_AND","&&",373],["T_WHITESPACE"," ",373],["T_ISSET","isset",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_importFromRequestFilters",373],"[",["T_VARIABLE","$key",373],"]",")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n                ",373],["T_VARIABLE","$callback",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_importFromRequestFilters",374],"[",["T_VARIABLE","$key",374],"]",";",["T_WHITESPACE","\n                ",374],["T_VARIABLE","$response",375],"[",["T_VARIABLE","$key",375],"]",["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","call_user_func",375],"(",["T_ARRAY","array",375],"(",["T_VARIABLE","$this",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$callback",375],")",",",["T_WHITESPACE"," ",375],["T_VARIABLE","$response",375],"[",["T_VARIABLE","$key",375],"]",",",["T_WHITESPACE"," ",375],["T_VARIABLE","$key",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$map",375],"[",["T_VARIABLE","$key",375],"]",")",";",["T_WHITESPACE","\n            ",375],"}",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n        ",377],["T_STRING","Varien_Object_Mapper",378],["T_DOUBLE_COLON","::",378],["T_STRING","accumulateByMap",378],"(",["T_VARIABLE","$response",378],",",["T_WHITESPACE"," ",378],["T_ARRAY","array",378],"(",["T_VARIABLE","$this",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'setDataUsingMethod'",378],")",",",["T_WHITESPACE"," ",378],["T_VARIABLE","$map",378],")",";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Prepare line items request\n     *\n     * Returns true if there were line items added\n     *\n     * @param array &$request\n     * @param int $i\n     * @return true|bool\n     *\/",381],["T_WHITESPACE","\n    ",389],["T_PROTECTED","protected",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","_exportLineItems",390],"(",["T_ARRAY","array",390],["T_WHITESPACE"," ",390],"&",["T_VARIABLE","$request",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$i",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_LNUMBER","0",390],")",["T_WHITESPACE","\n    ",390],"{",["T_WHITESPACE","\n        ",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(","!",["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_cart",392],")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n            ",392],["T_RETURN","return",393],";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n\n        ",394],["T_COMMENT","\/\/ always add cart totals, even if line items are not requested\n",396],["T_WHITESPACE","        ",397],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_lineItemTotalExportMap",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_FOREACH","foreach",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_cart",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getTotals",398],"(",")",["T_WHITESPACE"," ",398],["T_AS","as",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$key",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$total",398],")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                ",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_ISSET","isset",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_lineItemTotalExportMap",399],"[",["T_VARIABLE","$key",399],"]",")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE"," ",399],["T_COMMENT","\/\/ !empty($total)\n",399],["T_WHITESPACE","                    ",400],["T_VARIABLE","$privateKey",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_lineItemTotalExportMap",400],"[",["T_VARIABLE","$key",400],"]",";",["T_WHITESPACE","\n                    ",400],["T_VARIABLE","$request",401],"[",["T_VARIABLE","$privateKey",401],"]",["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_filterAmount",401],"(",["T_VARIABLE","$total",401],")",";",["T_WHITESPACE","\n                ",401],"}",["T_WHITESPACE","\n            ",402],"}",["T_WHITESPACE","\n        ",403],"}",["T_WHITESPACE","\n\n        ",404],["T_COMMENT","\/\/ add cart line items\n",406],["T_WHITESPACE","        ",407],["T_VARIABLE","$items",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_cart",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getItems",407],"(",")",";",["T_WHITESPACE","\n        ",407],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_EMPTY","empty",408],"(",["T_VARIABLE","$items",408],")",["T_WHITESPACE"," ",408],["T_BOOLEAN_OR","||",408],["T_WHITESPACE"," ",408],"!",["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getIsLineItemsEnabled",408],"(",")",")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n            ",408],["T_RETURN","return",409],";",["T_WHITESPACE","\n        ",409],"}",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$result",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_STRING","null",411],";",["T_WHITESPACE","\n        ",411],["T_FOREACH","foreach",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$items",412],["T_WHITESPACE"," ",412],["T_AS","as",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$item",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_FOREACH","foreach",413],["T_WHITESPACE"," ",413],"(",["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_lineItemExportItemsFormat",413],["T_WHITESPACE"," ",413],["T_AS","as",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$publicKey",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$privateFormat",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n                ",413],["T_VARIABLE","$result",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_STRING","true",414],";",["T_WHITESPACE","\n                ",414],["T_VARIABLE","$value",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$item",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getDataUsingMethod",415],"(",["T_VARIABLE","$publicKey",415],")",";",["T_WHITESPACE","\n                ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_ISSET","isset",416],"(",["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","_lineItemExportItemsFilters",416],"[",["T_VARIABLE","$publicKey",416],"]",")",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n                    ",416],["T_VARIABLE","$callback",417],["T_WHITESPACE","   ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","_lineItemExportItemsFilters",417],"[",["T_VARIABLE","$publicKey",417],"]",";",["T_WHITESPACE","\n                    ",417],["T_VARIABLE","$value",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","call_user_func",418],"(",["T_ARRAY","array",418],"(",["T_VARIABLE","$this",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$callback",418],")",",",["T_WHITESPACE"," ",418],["T_VARIABLE","$value",418],")",";",["T_WHITESPACE","\n                ",418],"}",["T_WHITESPACE","\n                ",419],["T_IF","if",420],["T_WHITESPACE"," ",420],"(",["T_STRING","is_float",420],"(",["T_VARIABLE","$value",420],")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n                    ",420],["T_VARIABLE","$value",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_filterAmount",421],"(",["T_VARIABLE","$value",421],")",";",["T_WHITESPACE","\n                ",421],"}",["T_WHITESPACE","\n                ",422],["T_VARIABLE","$request",423],"[",["T_STRING","sprintf",423],"(",["T_VARIABLE","$privateFormat",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$i",423],")","]",["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$value",423],";",["T_WHITESPACE","\n            ",423],"}",["T_WHITESPACE","\n            ",424],["T_VARIABLE","$i",425],["T_INC","++",425],";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n        ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$result",427],";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * Prepare shipping options request\n     * Returns false if there are no shipping options\n     *\n     * @param array &$request\n     * @param int $i\n     * @return bool\n     *\/",430],["T_WHITESPACE","\n    ",437],["T_PROTECTED","protected",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","_exportShippingOptions",438],"(",["T_ARRAY","array",438],["T_WHITESPACE"," ",438],"&",["T_VARIABLE","$request",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$i",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_LNUMBER","0",438],")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$options",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getShippingOptions",440],"(",")",";",["T_WHITESPACE","\n        ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_EMPTY","empty",441],"(",["T_VARIABLE","$options",441],")",")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_STRING","false",442],";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE","\n        ",443],["T_FOREACH","foreach",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$options",444],["T_WHITESPACE"," ",444],["T_AS","as",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$option",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_FOREACH","foreach",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_shippingOptionsExportItemsFormat",445],["T_WHITESPACE"," ",445],["T_AS","as",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$publicKey",445],["T_WHITESPACE"," ",445],["T_DOUBLE_ARROW","=>",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$privateFormat",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                ",445],["T_VARIABLE","$value",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$option",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getDataUsingMethod",446],"(",["T_VARIABLE","$publicKey",446],")",";",["T_WHITESPACE","\n                ",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_STRING","is_float",447],"(",["T_VARIABLE","$value",447],")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n                    ",447],["T_VARIABLE","$value",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_filterAmount",448],"(",["T_VARIABLE","$value",448],")",";",["T_WHITESPACE","\n                ",448],"}",["T_WHITESPACE","\n                ",449],["T_IF","if",450],["T_WHITESPACE"," ",450],"(",["T_STRING","is_bool",450],"(",["T_VARIABLE","$value",450],")",")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n                    ",450],["T_VARIABLE","$value",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_filterBool",451],"(",["T_VARIABLE","$value",451],")",";",["T_WHITESPACE","\n                ",451],"}",["T_WHITESPACE","\n                ",452],["T_VARIABLE","$request",453],"[",["T_STRING","sprintf",453],"(",["T_VARIABLE","$privateFormat",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$i",453],")","]",["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$value",453],";",["T_WHITESPACE","\n            ",453],"}",["T_WHITESPACE","\n            ",454],["T_VARIABLE","$i",455],["T_INC","++",455],";",["T_WHITESPACE","\n        ",455],"}",["T_WHITESPACE","\n        ",456],["T_RETURN","return",457],["T_WHITESPACE"," ",457],["T_STRING","true",457],";",["T_WHITESPACE","\n    ",457],"}",["T_WHITESPACE","\n\n    ",458],["T_DOC_COMMENT","\/**\n     * Filter amounts in API calls\n     * @param float|string $value\n     * @return string\n     *\/",460],["T_WHITESPACE","\n    ",464],["T_PROTECTED","protected",465],["T_WHITESPACE"," ",465],["T_FUNCTION","function",465],["T_WHITESPACE"," ",465],["T_STRING","_filterAmount",465],"(",["T_VARIABLE","$value",465],")",["T_WHITESPACE","\n    ",465],"{",["T_WHITESPACE","\n        ",466],["T_RETURN","return",467],["T_WHITESPACE"," ",467],["T_STRING","sprintf",467],"(",["T_CONSTANT_ENCAPSED_STRING","'%.2F'",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$value",467],")",";",["T_WHITESPACE","\n    ",467],"}",["T_WHITESPACE","\n\n    ",468],["T_DOC_COMMENT","\/**\n     * Filter boolean values in API calls\n     *\n     * @param mixed $value\n     * @return string\n     *\/",470],["T_WHITESPACE","\n    ",475],["T_PROTECTED","protected",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","_filterBool",476],"(",["T_VARIABLE","$value",476],")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_RETURN","return",478],["T_WHITESPACE"," ",478],"(",["T_VARIABLE","$value",478],")",["T_WHITESPACE"," ",478],"?",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'true'",478],["T_WHITESPACE"," ",478],":",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'false'",478],";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * Filter int values in API calls\n     *\n     * @param mixed $value\n     * @return int\n     *\/",481],["T_WHITESPACE","\n    ",486],["T_PROTECTED","protected",487],["T_WHITESPACE"," ",487],["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],["T_STRING","_filterInt",487],"(",["T_VARIABLE","$value",487],")",["T_WHITESPACE","\n    ",487],"{",["T_WHITESPACE","\n        ",488],["T_RETURN","return",489],["T_WHITESPACE"," ",489],["T_INT_CAST","(int)",489],["T_VARIABLE","$value",489],";",["T_WHITESPACE","\n    ",489],"}",["T_WHITESPACE","\n\n    ",490],["T_DOC_COMMENT","\/**\n     * Unified getter that looks in data or falls back to config\n     *\n     * @param string $key\n     * @param mixed $default\n     * @return mixed\n     *\/",492],["T_WHITESPACE","\n    ",498],["T_PROTECTED","protected",499],["T_WHITESPACE"," ",499],["T_FUNCTION","function",499],["T_WHITESPACE"," ",499],["T_STRING","_getDataOrConfig",499],"(",["T_VARIABLE","$key",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$default",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_STRING","null",499],")",["T_WHITESPACE","\n    ",499],"{",["T_WHITESPACE","\n        ",500],["T_IF","if",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","hasData",501],"(",["T_VARIABLE","$key",501],")",")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n            ",501],["T_RETURN","return",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","getData",502],"(",["T_VARIABLE","$key",502],")",";",["T_WHITESPACE","\n        ",502],"}",["T_WHITESPACE","\n        ",503],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","_config",504],["T_OBJECT_OPERATOR","->",504],["T_VARIABLE","$key",504],["T_WHITESPACE"," ",504],"?",["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","_config",504],["T_OBJECT_OPERATOR","->",504],["T_VARIABLE","$key",504],["T_WHITESPACE"," ",504],":",["T_WHITESPACE"," ",504],["T_VARIABLE","$default",504],";",["T_WHITESPACE","\n    ",504],"}",["T_WHITESPACE","\n\n\n    ",505],["T_DOC_COMMENT","\/**\n     * region_id workaround: PayPal requires state code, try to find one in the address\n     *\n     * @param Varien_Object $address\n     * @return string\n     *\/",508],["T_WHITESPACE","\n    ",513],["T_PROTECTED","protected",514],["T_WHITESPACE"," ",514],["T_FUNCTION","function",514],["T_WHITESPACE"," ",514],["T_STRING","_lookupRegionCodeFromAddress",514],"(",["T_STRING","Varien_Object",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$address",514],")",["T_WHITESPACE","\n    ",514],"{",["T_WHITESPACE","\n        ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$regionId",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$address",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getData",516],"(",["T_CONSTANT_ENCAPSED_STRING","'region_id'",516],")",")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n            ",516],["T_VARIABLE","$region",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_STRING","Mage",517],["T_DOUBLE_COLON","::",517],["T_STRING","getModel",517],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/region'",517],")",["T_OBJECT_OPERATOR","->",517],["T_STRING","load",517],"(",["T_VARIABLE","$regionId",517],")",";",["T_WHITESPACE","\n            ",517],["T_IF","if",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$region",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getId",518],"(",")",")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n                ",518],["T_RETURN","return",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$region",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getCode",519],"(",")",";",["T_WHITESPACE","\n            ",519],"}",["T_WHITESPACE","\n        ",520],"}",["T_WHITESPACE","\n        ",521],["T_RETURN","return",522],["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","''",522],";",["T_WHITESPACE","\n    ",522],"}",["T_WHITESPACE","\n\n    ",523],["T_DOC_COMMENT","\/**\n     * Street address workaround: divides address lines into parts by specified keys\n     * (keys should go as 3rd, 4th[...] parameters)\n     *\n     * @param Varien_Object $address\n     * @param array $request\n     *\/",525],["T_WHITESPACE","\n    ",531],["T_PROTECTED","protected",532],["T_WHITESPACE"," ",532],["T_FUNCTION","function",532],["T_WHITESPACE"," ",532],["T_STRING","_importStreetFromAddress",532],"(",["T_STRING","Varien_Object",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$address",532],",",["T_WHITESPACE"," ",532],["T_ARRAY","array",532],["T_WHITESPACE"," ",532],"&",["T_VARIABLE","$to",532],")",["T_WHITESPACE","\n    ",532],"{",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$keys",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_STRING","func_get_args",534],"(",")",";",["T_WHITESPACE"," ",534],["T_STRING","array_shift",534],"(",["T_VARIABLE","$keys",534],")",";",["T_WHITESPACE"," ",534],["T_STRING","array_shift",534],"(",["T_VARIABLE","$keys",534],")",";",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$street",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$address",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getStreet",535],"(",")",";",["T_WHITESPACE","\n        ",535],["T_IF","if",536],["T_WHITESPACE"," ",536],"(","!",["T_VARIABLE","$keys",536],["T_WHITESPACE"," ",536],["T_BOOLEAN_OR","||",536],["T_WHITESPACE"," ",536],"!",["T_VARIABLE","$street",536],["T_WHITESPACE"," ",536],["T_BOOLEAN_OR","||",536],["T_WHITESPACE"," ",536],"!",["T_STRING","is_array",536],"(",["T_VARIABLE","$street",536],")",")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n            ",536],["T_RETURN","return",537],";",["T_WHITESPACE","\n        ",537],"}",["T_WHITESPACE","\n\n        ",538],["T_VARIABLE","$street",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_STRING","Mage",540],["T_DOUBLE_COLON","::",540],["T_STRING","helper",540],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/address'",540],")",["T_WHITESPACE","\n            ",540],["T_OBJECT_OPERATOR","->",541],["T_STRING","convertStreetLines",541],"(",["T_VARIABLE","$address",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getStreet",541],"(",")",",",["T_WHITESPACE"," ",541],["T_STRING","count",541],"(",["T_VARIABLE","$keys",541],")",")",";",["T_WHITESPACE","\n\n        ",541],["T_VARIABLE","$i",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_LNUMBER","0",543],";",["T_WHITESPACE","\n        ",543],["T_FOREACH","foreach",544],["T_WHITESPACE"," ",544],"(",["T_VARIABLE","$keys",544],["T_WHITESPACE"," ",544],["T_AS","as",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$key",544],")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n            ",544],["T_VARIABLE","$to",545],"[",["T_VARIABLE","$key",545],"]",["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_ISSET","isset",545],"(",["T_VARIABLE","$street",545],"[",["T_VARIABLE","$i",545],"]",")",["T_WHITESPACE"," ",545],"?",["T_WHITESPACE"," ",545],["T_VARIABLE","$street",545],"[",["T_VARIABLE","$i",545],"]",":",["T_WHITESPACE"," ",545],["T_CONSTANT_ENCAPSED_STRING","''",545],";",["T_WHITESPACE","\n            ",545],["T_VARIABLE","$i",546],["T_INC","++",546],";",["T_WHITESPACE","\n        ",546],"}",["T_WHITESPACE","\n    ",547],"}",["T_WHITESPACE","\n\n    ",548],["T_DOC_COMMENT","\/**\n     * Build query string from request\n     *\n     * @param array $request\n     * @return string\n     *\/",550],["T_WHITESPACE","\n    ",555],["T_PROTECTED","protected",556],["T_WHITESPACE"," ",556],["T_FUNCTION","function",556],["T_WHITESPACE"," ",556],["T_STRING","_buildQuery",556],"(",["T_VARIABLE","$request",556],")",["T_WHITESPACE","\n    ",556],"{",["T_WHITESPACE","\n        ",557],["T_RETURN","return",558],["T_WHITESPACE"," ",558],["T_STRING","http_build_query",558],"(",["T_VARIABLE","$request",558],")",";",["T_WHITESPACE","\n    ",558],"}",["T_WHITESPACE","\n\n    ",559],["T_DOC_COMMENT","\/**\n     * Filter qty in API calls\n     * Paypal note: The value for quantity must be a positive integer. Null, zero, or negative numbers are not allowed.\n     *\n     * @param float|string|int $value\n     * @return string\n     *\/",561],["T_WHITESPACE","\n    ",567],["T_PROTECTED","protected",568],["T_WHITESPACE"," ",568],["T_FUNCTION","function",568],["T_WHITESPACE"," ",568],["T_STRING","_filterQty",568],"(",["T_VARIABLE","$value",568],")",["T_WHITESPACE","\n    ",568],"{",["T_WHITESPACE","\n        ",569],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_STRING","intval",570],"(",["T_VARIABLE","$value",570],")",";",["T_WHITESPACE","\n    ",570],"}",["T_WHITESPACE","\n\n    ",571],["T_DOC_COMMENT","\/**\n     * Log debug data to file\n     *\n     * @param mixed $debugData\n     *\/",573],["T_WHITESPACE","\n    ",577],["T_PROTECTED","protected",578],["T_WHITESPACE"," ",578],["T_FUNCTION","function",578],["T_WHITESPACE"," ",578],["T_STRING","_debug",578],"(",["T_VARIABLE","$debugData",578],")",["T_WHITESPACE","\n    ",578],"{",["T_WHITESPACE","\n        ",579],["T_IF","if",580],["T_WHITESPACE"," ",580],"(",["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","getDebugFlag",580],"(",")",")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n            ",580],["T_STRING","Mage",581],["T_DOUBLE_COLON","::",581],["T_STRING","getModel",581],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/log_adapter'",581],",",["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","'payment_'",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","_config",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","getMethodCode",581],"(",")",["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","'.log'",581],")",["T_WHITESPACE","\n               ",581],["T_OBJECT_OPERATOR","->",582],["T_STRING","setFilterDataKeys",582],"(",["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","_debugReplacePrivateDataKeys",582],")",["T_WHITESPACE","\n               ",582],["T_OBJECT_OPERATOR","->",583],["T_STRING","log",583],"(",["T_VARIABLE","$debugData",583],")",";",["T_WHITESPACE","\n        ",583],"}",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Define if debugging is enabled\n     *\n     * @return bool\n     *\/",587],["T_WHITESPACE","\n    ",591],["T_PUBLIC","public",592],["T_WHITESPACE"," ",592],["T_FUNCTION","function",592],["T_WHITESPACE"," ",592],["T_STRING","getDebugFlag",592],"(",")",["T_WHITESPACE","\n    ",592],"{",["T_WHITESPACE","\n        ",593],["T_RETURN","return",594],["T_WHITESPACE"," ",594],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","_config",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","debug",594],";",["T_WHITESPACE","\n    ",594],"}",["T_WHITESPACE","\n\n    ",595],["T_DOC_COMMENT","\/**\n     * Check whether API certificate authentication should be used\n     *\n     * @return bool\n     *\/",597],["T_WHITESPACE","\n    ",601],["T_PUBLIC","public",602],["T_WHITESPACE"," ",602],["T_FUNCTION","function",602],["T_WHITESPACE"," ",602],["T_STRING","getUseCertAuthentication",602],"(",")",["T_WHITESPACE","\n    ",602],"{",["T_WHITESPACE","\n        ",603],["T_RETURN","return",604],["T_WHITESPACE"," ",604],["T_BOOL_CAST","(bool)",604],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_config",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","apiAuthentication",604],";",["T_WHITESPACE","\n    ",604],"}",["T_WHITESPACE","\n",605],"}",["T_WHITESPACE","\n",606]]