[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_CatalogIndex\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Event observer and indexer running application\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Mage_CatalogIndex_Model_Observer",33],["T_WHITESPACE"," ",33],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","Mage_Core_Model_Abstract",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_parentProductIds",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",")",";",["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_productIdsMassupdate",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",";",["T_WHITESPACE","\n\n    ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","_construct",38],"(",")",["T_WHITESPACE"," ",38],"{","}",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Get indexer object\n     *\n     * @return Mage_CatalogIndex_Model_Indexer\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","_getIndexer",45],"(",")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_STRING","Mage",47],["T_DOUBLE_COLON","::",47],["T_STRING","getSingleton",47],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogindex\/indexer'",47],")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Get aggregation object\n     *\n     * @return Mage_CatalogIndex_Model_Aggregation\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","_getAggregator",55],"(",")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_STRING","Mage",57],["T_DOUBLE_COLON","::",57],["T_STRING","getSingleton",57],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogindex\/aggregation'",57],")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Reindex all catalog data\n     *\n     * @return Mage_CatalogIndex_Model_Observer\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","reindexAll",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_getIndexer",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","plainReindex",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_getAggregator",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","clearCacheData",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Reindex daily related data (prices)\n     *\n     * @return Mage_CatalogIndex_Model_Observer\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","reindexDaily",77],"(",")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_getIndexer",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","plainReindex",79],"(",["T_WHITESPACE","\n            ",79],["T_STRING","null",80],",",["T_WHITESPACE","\n            ",80],["T_STRING","Mage_CatalogIndex_Model_Indexer",81],["T_DOUBLE_COLON","::",81],["T_STRING","REINDEX_TYPE_PRICE",81],["T_WHITESPACE","\n        ",81],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","clearPriceAggregation",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Process product after save\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",87],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","processAfterSaveEvent",93],"(",["T_STRING","Varien_Event_Observer",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$observer",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$productIds",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$eventProduct",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$observer",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getEvent",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getProduct",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$productIds",97],"[","]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$eventProduct",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getId",97],"(",")",";",["T_WHITESPACE","\n\n        ",97],["T_IF","if",99],["T_WHITESPACE"," ",99],"(","!",["T_VARIABLE","$eventProduct",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getIsMassupdate",99],"(",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_getIndexer",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","plainReindex",100],"(",["T_VARIABLE","$eventProduct",100],")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE"," ",101],["T_ELSE","else",101],["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_productIdsMassupdate",102],"[","]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$eventProduct",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getId",102],"(",")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$eventProduct",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","loadParentProductIds",105],"(",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$parentProductIds",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$eventProduct",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getParentProductIds",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$parentProductIds",107],["T_WHITESPACE"," ",107],["T_BOOLEAN_AND","&&",107],["T_WHITESPACE"," ",107],"!",["T_VARIABLE","$eventProduct",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getIsMassupdate",107],"(",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_getIndexer",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","plainReindex",108],"(",["T_VARIABLE","$parentProductIds",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE"," ",109],["T_ELSEIF","elseif",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$parentProductIds",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_productIdsMassupdate",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","array_merge",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_productIdsMassupdate",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$parentProductIds",110],")",";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$productIds",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","array_merge",111],"(",["T_VARIABLE","$productIds",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$parentProductIds",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_getAggregator",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","clearProductData",113],"(",["T_VARIABLE","$productIds",113],")",";",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Reindex price data after attribute scope change\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",117],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","processPriceScopeChange",123],"(",["T_STRING","Varien_Event_Observer",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$observer",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$configOption",125],["T_WHITESPACE","   ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$observer",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getEvent",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getOption",125],"(",")",";",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$configOption",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","isValueChanged",126],"(",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_getIndexer",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","plainReindex",127],"(",["T_WHITESPACE","\n                ",127],["T_STRING","null",128],",",["T_WHITESPACE","\n                ",128],["T_STRING","Mage_CatalogIndex_Model_Indexer",129],["T_DOUBLE_COLON","::",129],["T_STRING","REINDEX_TYPE_PRICE",129],["T_WHITESPACE","\n            ",129],")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","clearPriceAggregation",131],"(",")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Process catalog index after price rules were applied\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",136],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","processPriceRuleApplication",142],"(",["T_STRING","Varien_Event_Observer",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$observer",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$eventProduct",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$observer",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getEvent",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","getProduct",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$productCondition",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$observer",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getEvent",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getProductCondition",145],"(",")",";",["T_WHITESPACE","\n        ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$productCondition",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$eventProduct",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$productCondition",147],";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_getIndexer",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","plainReindex",149],"(",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$eventProduct",150],",",["T_WHITESPACE","\n            ",150],["T_STRING","Mage_CatalogIndex_Model_Indexer",151],["T_DOUBLE_COLON","::",151],["T_STRING","REINDEX_TYPE_PRICE",151],["T_WHITESPACE","\n        ",151],")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","clearPriceAggregation",154],"(",")",";",["T_WHITESPACE","\n        ",154],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Cleanup product index after product delete\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",158],["T_WHITESPACE","\n    ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","processAfterDeleteEvent",164],"(",["T_STRING","Varien_Event_Observer",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$observer",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$eventProduct",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$observer",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getEvent",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getProduct",166],"(",")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$eventProduct",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","setNeedStoreForReindex",167],"(",["T_STRING","true",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_getIndexer",168],"(",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","cleanup",168],"(",["T_VARIABLE","$eventProduct",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$parentProductIds",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$eventProduct",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getParentProductIds",169],"(",")",";",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$parentProductIds",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_getIndexer",172],"(",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","plainReindex",172],"(",["T_VARIABLE","$parentProductIds",172],")",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Process index data after attribute information was changed\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",177],["T_WHITESPACE","\n    ",182],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","processAttributeChangeEvent",183],"(",["T_STRING","Varien_Event_Observer",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$observer",183],")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_DOC_COMMENT","\/**\n         * @todo add flag to attribute model which will notify what options was changed\n         *\/",185],["T_WHITESPACE","\n        ",187],["T_VARIABLE","$attribute",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$observer",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getEvent",188],"(",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","getAttribute",188],"(",")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$tags",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_WHITESPACE","\n            ",189],["T_STRING","Mage_Eav_Model_Entity_Attribute",190],["T_DOUBLE_COLON","::",190],["T_STRING","CACHE_TAG",190],".",["T_CONSTANT_ENCAPSED_STRING","':'",190],".",["T_VARIABLE","$attribute",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getId",190],"(",")",["T_WHITESPACE","\n        ",190],")",";",["T_WHITESPACE","\n\n        ",191],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$attribute",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getOrigData",193],"(",["T_CONSTANT_ENCAPSED_STRING","'is_filterable'",193],")",["T_WHITESPACE"," ",193],["T_IS_NOT_EQUAL","!=",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$attribute",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getIsFilterable",193],"(",")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$attribute",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getIsFilterable",194],"(",")",["T_WHITESPACE"," ",194],["T_IS_NOT_EQUAL","!=",194],["T_WHITESPACE"," ",194],["T_LNUMBER","0",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_getIndexer",195],"(",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","plainReindex",195],"(",["T_STRING","null",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$attribute",195],")",";",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE"," ",196],["T_ELSE","else",196],["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_getAggregator",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","clearCacheData",197],"(",["T_VARIABLE","$tags",197],")",";",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE"," ",199],["T_ELSEIF","elseif",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$attribute",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getIsFilterable",199],"(",")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_getAggregator",200],"(",")",["T_OBJECT_OPERATOR","->",200],["T_STRING","clearCacheData",200],"(",["T_VARIABLE","$tags",200],")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n\n        ",201],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Create index for new store\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",206],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","processStoreAdd",212],"(",["T_STRING","Varien_Event_Observer",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$observer",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$store",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$observer",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getEvent",214],"(",")",["T_OBJECT_OPERATOR","->",214],["T_STRING","getStore",214],"(",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_getIndexer",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","plainReindex",215],"(",["T_STRING","null",215],",",["T_WHITESPACE"," ",215],["T_STRING","null",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$store",215],")",";",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Rebuild index after catalog import\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",219],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","catalogProductImportAfter",225],"(",["T_STRING","Varien_Event_Observer",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$observer",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_getIndexer",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","plainReindex",227],"(",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_getAggregator",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","clearCacheData",228],"(",")",";",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Run planed reindex\n     *\n     * @return Mage_CatalogIndex_Model_Observer\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","runQueuedIndexing",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$flag",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","Mage",239],["T_DOUBLE_COLON","::",239],["T_STRING","getModel",239],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogindex\/catalog_index_flag'",239],")",["T_OBJECT_OPERATOR","->",239],["T_STRING","loadSelf",239],"(",")",";",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$flag",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getState",240],"(",")",["T_WHITESPACE"," ",240],["T_IS_EQUAL","==",240],["T_WHITESPACE"," ",240],["T_STRING","Mage_CatalogIndex_Model_Catalog_Index_Flag",240],["T_DOUBLE_COLON","::",240],["T_STRING","STATE_QUEUED",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_getIndexer",241],"(",")",["T_OBJECT_OPERATOR","->",241],["T_STRING","plainReindex",241],"(",")",";",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_getAggregator",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","clearCacheData",242],"(",")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Clear aggregated layered navigation data\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",247],["T_WHITESPACE","\n    ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","cleanCache",253],"(",["T_STRING","Varien_Event_Observer",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$observer",253],")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$tagsArray",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$observer",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getEvent",255],"(",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","getTags",255],"(",")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$tagName",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","Mage_CatalogIndex_Model_Aggregation",256],["T_DOUBLE_COLON","::",256],["T_STRING","CACHE_FLAG_NAME",256],";",["T_WHITESPACE","\n\n        ",256],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_EMPTY","empty",258],"(",["T_VARIABLE","$tagsArray",258],")",["T_WHITESPACE"," ",258],["T_BOOLEAN_OR","||",258],["T_WHITESPACE"," ",258],["T_STRING","in_array",258],"(",["T_VARIABLE","$tagName",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$tagsArray",258],")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_getAggregator",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","clearCacheData",259],"(",")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Process index data after category save\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",264],["T_WHITESPACE","\n    ",269],["T_PUBLIC","public",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","catalogCategorySaveAfter",270],"(",["T_STRING","Varien_Event_Observer",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$observer",270],")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$category",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$observer",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getEvent",272],"(",")",["T_OBJECT_OPERATOR","->",272],["T_STRING","getCategory",272],"(",")",";",["T_WHITESPACE","\n        ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$category",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getInitialSetupFlag",273],"(",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$tags",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_ARRAY","array",276],"(",["T_WHITESPACE","\n            ",276],["T_STRING","Mage_Catalog_Model_Category",277],["T_DOUBLE_COLON","::",277],["T_STRING","CACHE_TAG",277],".",["T_CONSTANT_ENCAPSED_STRING","':'",277],".",["T_VARIABLE","$category",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getPath",277],"(",")",["T_WHITESPACE","\n        ",277],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_getAggregator",279],"(",")",["T_OBJECT_OPERATOR","->",279],["T_STRING","clearCacheData",279],"(",["T_VARIABLE","$tags",279],")",";",["T_WHITESPACE","\n        ",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Delete price aggreagation data\n     *\n     * @return Mage_CatalogIndex_Model_Observer\n     *\/",283],["T_WHITESPACE","\n    ",287],["T_PUBLIC","public",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","clearPriceAggregation",288],"(",")",["T_WHITESPACE","\n    ",288],"{",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_getAggregator",290],"(",")",["T_OBJECT_OPERATOR","->",290],["T_STRING","clearCacheData",290],"(",["T_ARRAY","array",290],"(",["T_WHITESPACE","\n            ",290],["T_STRING","Mage_Catalog_Model_Product_Type_Price",291],["T_DOUBLE_COLON","::",291],["T_STRING","CACHE_TAG",291],["T_WHITESPACE","\n        ",291],")",")",";",["T_WHITESPACE","\n        ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Clear layer navigation cache for search results\n     *\n     * @return Mage_CatalogIndex_Model_Observer\n     *\/",296],["T_WHITESPACE","\n    ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","clearSearchLayerCache",301],"(",")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_getAggregator",303],"(",")",["T_OBJECT_OPERATOR","->",303],["T_STRING","clearCacheData",303],"(",["T_ARRAY","array",303],"(",["T_WHITESPACE","\n            ",303],["T_STRING","Mage_CatalogSearch_Model_Query",304],["T_DOUBLE_COLON","::",304],["T_STRING","CACHE_TAG",304],["T_WHITESPACE","\n        ",304],")",")",";",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Load parent ids for products before deleting\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",309],["T_WHITESPACE","\n    ",314],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","registerParentIds",315],"(",["T_STRING","Varien_Event_Observer",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$observer",315],")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$product",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$observer",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getEvent",317],"(",")",["T_OBJECT_OPERATOR","->",317],["T_STRING","getProduct",317],"(",")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$product",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","loadParentProductIds",318],"(",")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$productIds",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_ARRAY","array",319],"(",["T_VARIABLE","$product",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getId",319],"(",")",")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$productIds",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_STRING","array_merge",320],"(",["T_VARIABLE","$productIds",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$product",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getParentProductIds",320],"(",")",")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","_getAggregator",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","clearProductData",321],"(",["T_VARIABLE","$productIds",321],")",";",["T_WHITESPACE","\n        ",321],["T_RETURN","return",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],";",["T_WHITESPACE","\n    ",322],"}",["T_WHITESPACE","\n\n    ",323],["T_DOC_COMMENT","\/**\n     * Reindex producs after change websites associations\n     *\n     * @param   Varien_Event_Observer $observer\n     * @return  Mage_CatalogIndex_Model_Observer\n     *\/",325],["T_WHITESPACE","\n    ",330],["T_PUBLIC","public",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","processProductsWebsitesChange",331],"(",["T_STRING","Varien_Event_Observer",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$observer",331],")",["T_WHITESPACE","\n    ",331],"{",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$productIds",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$observer",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getEvent",333],"(",")",["T_OBJECT_OPERATOR","->",333],["T_STRING","getProducts",333],"(",")",";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_getIndexer",334],"(",")",["T_OBJECT_OPERATOR","->",334],["T_STRING","plainReindex",334],"(",["T_VARIABLE","$productIds",334],")",";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_getAggregator",335],"(",")",["T_OBJECT_OPERATOR","->",335],["T_STRING","clearProductData",335],"(",["T_VARIABLE","$productIds",335],")",";",["T_WHITESPACE","\n        ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * Prepare columns for catalog product flat\n     *\n     * @param Varien_Event_Observer $observer\n     * @return Mage_CatalogIndex_Model_Observer\n     *\/",339],["T_WHITESPACE","\n    ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","catalogProductFlatPrepareColumns",345],"(",["T_STRING","Varien_Event_Observer",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$observer",345],")",["T_WHITESPACE","\n    ",345],"{",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$columns",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$observer",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getEvent",347],"(",")",["T_OBJECT_OPERATOR","->",347],["T_STRING","getColumns",347],"(",")",";",["T_WHITESPACE","\n\n        ",347],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_getIndexer",349],"(",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","prepareCatalogProductFlatColumns",349],"(",["T_VARIABLE","$columns",349],")",";",["T_WHITESPACE","\n\n        ",349],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * Prepare indexes for catalog product flat\n     *\n     * @param Varien_Event_Observer $observer\n     * @return Mage_CatalogIndex_Model_Observer\n     *\/",354],["T_WHITESPACE","\n    ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","catalogProductFlatPrepareIndexes",360],"(",["T_STRING","Varien_Event_Observer",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$observer",360],")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$indexes",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$observer",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getEvent",362],"(",")",["T_OBJECT_OPERATOR","->",362],["T_STRING","getIndexes",362],"(",")",";",["T_WHITESPACE","\n\n        ",362],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_getIndexer",364],"(",")",["T_OBJECT_OPERATOR","->",364],["T_STRING","prepareCatalogProductFlatIndexes",364],"(",["T_VARIABLE","$indexes",364],")",";",["T_WHITESPACE","\n\n        ",364],["T_RETURN","return",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],";",["T_WHITESPACE","\n    ",366],"}",["T_WHITESPACE","\n\n    ",367],["T_DOC_COMMENT","\/**\n     * Rebuild catalog product flat\n     *\n     * @param Varien_Event_Observer $observer\n     * @return Mage_CatalogIndex_Model_Observer\n     *\/",369],["T_WHITESPACE","\n    ",374],["T_PUBLIC","public",375],["T_WHITESPACE"," ",375],["T_FUNCTION","function",375],["T_WHITESPACE"," ",375],["T_STRING","catalogProductFlatRebuild",375],"(",["T_STRING","Varien_Event_Observer",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$observer",375],")",["T_WHITESPACE","\n    ",375],"{",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$storeId",377],["T_WHITESPACE","    ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$observer",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getEvent",377],"(",")",["T_OBJECT_OPERATOR","->",377],["T_STRING","getStoreId",377],"(",")",";",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$tableName",378],["T_WHITESPACE","  ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$observer",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getEvent",378],"(",")",["T_OBJECT_OPERATOR","->",378],["T_STRING","getTable",378],"(",")",";",["T_WHITESPACE","\n\n        ",378],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_getIndexer",380],"(",")",["T_OBJECT_OPERATOR","->",380],["T_STRING","updateCatalogProductFlat",380],"(",["T_VARIABLE","$storeId",380],",",["T_WHITESPACE"," ",380],["T_STRING","null",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$tableName",380],")",";",["T_WHITESPACE","\n\n        ",380],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * Catalog Product Flat update product(s)\n     *\n     * @param Varien_Event_Observer $observer\n     * @return Mage_CatalogIndex_Model_Observer\n     *\/",385],["T_WHITESPACE","\n    ",390],["T_PUBLIC","public",391],["T_WHITESPACE"," ",391],["T_FUNCTION","function",391],["T_WHITESPACE"," ",391],["T_STRING","catalogProductFlatUpdateProduct",391],"(",["T_STRING","Varien_Event_Observer",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$observer",391],")",["T_WHITESPACE","\n    ",391],"{",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$storeId",393],["T_WHITESPACE","    ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$observer",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getEvent",393],"(",")",["T_OBJECT_OPERATOR","->",393],["T_STRING","getStoreId",393],"(",")",";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$tableName",394],["T_WHITESPACE","  ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$observer",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","getEvent",394],"(",")",["T_OBJECT_OPERATOR","->",394],["T_STRING","getTable",394],"(",")",";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$productIds",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$observer",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getEvent",395],"(",")",["T_OBJECT_OPERATOR","->",395],["T_STRING","getProductIds",395],"(",")",";",["T_WHITESPACE","\n\n        ",395],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_getIndexer",397],"(",")",["T_OBJECT_OPERATOR","->",397],["T_STRING","updateCatalogProductFlat",397],"(",["T_VARIABLE","$storeId",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$productIds",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$tableName",397],")",";",["T_WHITESPACE","\n\n        ",397],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n",400],"}",["T_WHITESPACE","\n",401]]