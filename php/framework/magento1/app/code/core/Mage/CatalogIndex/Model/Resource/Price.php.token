[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_CatalogIndex\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Price index resource model\n *\n * @category    Mage\n * @package     Mage_CatalogIndex\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_CatalogIndex_Model_Resource_Price",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_CatalogIndex_Model_Resource_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @var unknown\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_rate",42],["T_WHITESPACE","               ",42],"=",["T_WHITESPACE"," ",42],["T_LNUMBER","1",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @var unknown\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_customerGroupId",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @var unknown\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_taxRates",56],["T_WHITESPACE","           ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","null",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     *\/",58],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","_construct",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_init",64],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogindex\/price'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'index_id'",64],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @param unknown_type $rate\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","setRate",72],"(",["T_VARIABLE","$rate",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_rate",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$rate",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @return unknown\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","getRate",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_rate",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_rate",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_LNUMBER","1",85],";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_rate",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @param unknown_type $customerGroupId\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","setCustomerGroupId",95],"(",["T_VARIABLE","$customerGroupId",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_customerGroupId",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$customerGroupId",97],";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @return unknown\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getCustomerGroupId",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_customerGroupId",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @param unknown_type $attribute\n     * @param unknown_type $entitySelect\n     * @return unknown\n     *\/",110],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","getMaxValue",117],"(",["T_VARIABLE","$attribute",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$entitySelect",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$select",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_CLONE","clone",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$entitySelect",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$select",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","reset",120],"(",["T_STRING","Zend_Db_Select",120],["T_DOUBLE_COLON","::",120],["T_STRING","COLUMNS",120],")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$select",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","reset",121],"(",["T_STRING","Zend_Db_Select",121],["T_DOUBLE_COLON","::",121],["T_STRING","ORDER",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$select",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","reset",122],"(",["T_STRING","Zend_Db_Select",122],["T_DOUBLE_COLON","::",122],["T_STRING","LIMIT_COUNT",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$select",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","reset",123],"(",["T_STRING","Zend_Db_Select",123],["T_DOUBLE_COLON","::",123],["T_STRING","LIMIT_OFFSET",123],")",";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$response",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","Varien_Object",125],"(",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$response",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","setAdditionalCalculations",126],"(",["T_ARRAY","array",126],"(",")",")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$select",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","join",128],"(",["T_ARRAY","array",128],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table'",128],["T_DOUBLE_ARROW","=>",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMainTable",128],"(",")",")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'price_table.entity_id=e.entity_id'",128],",",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",")",")",";",["T_WHITESPACE","\n\n        ",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$attribute",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getAttributeCode",130],"(",")",["T_WHITESPACE"," ",130],["T_IS_EQUAL","==",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'price'",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$select",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","where",131],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.customer_group_id = ?'",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getCustomerGroupId",131],"(",")",")",";",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$args",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_WHITESPACE","\n                ",132],["T_CONSTANT_ENCAPSED_STRING","'select'",133],["T_DOUBLE_ARROW","=>",133],["T_VARIABLE","$select",133],",",["T_WHITESPACE","\n                ",133],["T_CONSTANT_ENCAPSED_STRING","'table'",134],["T_DOUBLE_ARROW","=>",134],["T_CONSTANT_ENCAPSED_STRING","'price_table'",134],",",["T_WHITESPACE","\n                ",134],["T_CONSTANT_ENCAPSED_STRING","'store_id'",135],["T_DOUBLE_ARROW","=>",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getStoreId",135],"(",")",",",["T_WHITESPACE","\n                ",135],["T_CONSTANT_ENCAPSED_STRING","'response_object'",136],["T_DOUBLE_ARROW","=>",136],["T_VARIABLE","$response",136],",",["T_WHITESPACE","\n            ",136],")",";",["T_WHITESPACE","\n            ",137],["T_STRING","Mage",138],["T_DOUBLE_COLON","::",138],["T_STRING","dispatchEvent",138],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogindex_prepare_price_select'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$args",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$select",141],["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","columns",142],"(",["T_CONSTANT_ENCAPSED_STRING","\"MAX(price_table.value\"",142],".",["T_STRING","implode",142],"(",["T_CONSTANT_ENCAPSED_STRING","''",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$response",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getAdditionalCalculations",142],"(",")",")",".",["T_CONSTANT_ENCAPSED_STRING","\")\"",142],")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","where",143],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.website_id = ?'",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getWebsiteId",143],"(",")",")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","where",144],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.attribute_id = ?'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$attribute",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getId",144],"(",")",")",";",["T_WHITESPACE","\n\n        ",144],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_getReadAdapter",146],"(",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","fetchOne",146],"(",["T_VARIABLE","$select",146],")","*",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getRate",146],"(",")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @param unknown_type $range\n     * @param unknown_type $attribute\n     * @param unknown_type $entitySelect\n     * @return unknown\n     *\/",149],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","getCount",157],"(",["T_VARIABLE","$range",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$attribute",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$entitySelect",157],")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$select",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_CLONE","clone",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$entitySelect",159],";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$select",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","reset",160],"(",["T_STRING","Zend_Db_Select",160],["T_DOUBLE_COLON","::",160],["T_STRING","COLUMNS",160],")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$select",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","reset",161],"(",["T_STRING","Zend_Db_Select",161],["T_DOUBLE_COLON","::",161],["T_STRING","ORDER",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$select",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","reset",162],"(",["T_STRING","Zend_Db_Select",162],["T_DOUBLE_COLON","::",162],["T_STRING","LIMIT_COUNT",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$select",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","reset",163],"(",["T_STRING","Zend_Db_Select",163],["T_DOUBLE_COLON","::",163],["T_STRING","LIMIT_OFFSET",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$select",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","join",165],"(",["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table'",165],["T_DOUBLE_ARROW","=>",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getMainTable",165],"(",")",")",",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'price_table.entity_id=e.entity_id'",165],",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",")",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$response",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_STRING","Varien_Object",166],"(",")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$response",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","setAdditionalCalculations",167],"(",["T_ARRAY","array",167],"(",")",")",";",["T_WHITESPACE","\n\n        ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$attribute",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getAttributeCode",169],"(",")",["T_WHITESPACE"," ",169],["T_IS_EQUAL","==",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'price'",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$select",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","where",170],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.customer_group_id = ?'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getCustomerGroupId",170],"(",")",")",";",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$args",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'select'",172],["T_DOUBLE_ARROW","=>",172],["T_VARIABLE","$select",172],",",["T_WHITESPACE","\n                ",172],["T_CONSTANT_ENCAPSED_STRING","'table'",173],["T_DOUBLE_ARROW","=>",173],["T_CONSTANT_ENCAPSED_STRING","'price_table'",173],",",["T_WHITESPACE","\n                ",173],["T_CONSTANT_ENCAPSED_STRING","'store_id'",174],["T_DOUBLE_ARROW","=>",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getStoreId",174],"(",")",",",["T_WHITESPACE","\n                ",174],["T_CONSTANT_ENCAPSED_STRING","'response_object'",175],["T_DOUBLE_ARROW","=>",175],["T_VARIABLE","$response",175],",",["T_WHITESPACE","\n            ",175],")",";",["T_WHITESPACE","\n            ",176],["T_STRING","Mage",177],["T_DOUBLE_COLON","::",177],["T_STRING","dispatchEvent",177],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogindex_prepare_price_select'",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$args",177],")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n\n\n        ",178],["T_VARIABLE","$fields",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",["T_CONSTANT_ENCAPSED_STRING","'count'",181],["T_DOUBLE_ARROW","=>",181],["T_CONSTANT_ENCAPSED_STRING","'COUNT(DISTINCT price_table.entity_id)'",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'range'",181],["T_DOUBLE_ARROW","=>",181],["T_CONSTANT_ENCAPSED_STRING","\"FLOOR(((price_table.value\"",181],".",["T_STRING","implode",181],"(",["T_CONSTANT_ENCAPSED_STRING","''",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$response",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getAdditionalCalculations",181],"(",")",")",".","\"",["T_ENCAPSED_AND_WHITESPACE",")*",181],["T_CURLY_OPEN","{",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getRate",181],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",")\/",181],["T_CURLY_OPEN","{",181],["T_VARIABLE","$range",181],"}",["T_ENCAPSED_AND_WHITESPACE",")+1",181],"\"",")",";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$select",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","columns",183],"(",["T_VARIABLE","$fields",183],")",["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","group",184],"(",["T_CONSTANT_ENCAPSED_STRING","'range'",184],")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","where",185],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.website_id = ?'",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getWebsiteId",185],"(",")",")",["T_WHITESPACE","\n            ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","where",186],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.attribute_id = ?'",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$attribute",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getId",186],"(",")",")",";",["T_WHITESPACE","\n\n\n        ",186],["T_VARIABLE","$result",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_getReadAdapter",189],"(",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","fetchAll",189],"(",["T_VARIABLE","$select",189],")",";",["T_WHITESPACE","\n\n        ",189],["T_VARIABLE","$counts",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_ARRAY","array",191],"(",")",";",["T_WHITESPACE","\n        ",191],["T_FOREACH","foreach",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$result",192],["T_WHITESPACE"," ",192],["T_AS","as",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$row",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$counts",193],"[",["T_VARIABLE","$row",193],"[",["T_CONSTANT_ENCAPSED_STRING","'range'",193],"]","]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$row",193],"[",["T_CONSTANT_ENCAPSED_STRING","'count'",193],"]",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n        ",194],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$counts",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @param unknown_type $range\n     * @param unknown_type $index\n     * @param unknown_type $attribute\n     * @param unknown_type $entityIdsFilter\n     * @param unknown_type $tableName\n     * @return unknown\n     *\/",199],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getFilteredEntities",209],"(",["T_VARIABLE","$range",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$index",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$attribute",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$entityIdsFilter",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$tableName",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'price_table'",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$select",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_getReadAdapter",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","select",211],"(",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$select",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","from",212],"(",["T_ARRAY","array",212],"(",["T_VARIABLE","$tableName",212],["T_DOUBLE_ARROW","=>",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getMainTable",212],"(",")",")",",",["T_WHITESPACE"," ",212],["T_VARIABLE","$tableName",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'.entity_id'",212],")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$response",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_NEW","new",214],["T_WHITESPACE"," ",214],["T_STRING","Varien_Object",214],"(",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$response",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","setAdditionalCalculations",215],"(",["T_ARRAY","array",215],"(",")",")",";",["T_WHITESPACE","\n\n        ",215],["T_VARIABLE","$select",217],["T_WHITESPACE","\n            ",217],["T_OBJECT_OPERATOR","->",218],["T_STRING","distinct",218],"(",["T_STRING","true",218],")",["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","where",219],"(",["T_VARIABLE","$tableName",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'.entity_id in (?)'",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$entityIdsFilter",219],")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","where",220],"(",["T_VARIABLE","$tableName",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'.website_id = ?'",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getWebsiteId",220],"(",")",")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","where",221],"(",["T_VARIABLE","$tableName",221],["T_WHITESPACE"," ",221],".",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'.attribute_id = ?'",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$attribute",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getId",221],"(",")",")",";",["T_WHITESPACE","\n\n        ",221],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$attribute",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getAttributeCode",223],"(",")",["T_WHITESPACE"," ",223],["T_IS_EQUAL","==",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'price'",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$select",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","where",224],"(",["T_VARIABLE","$tableName",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'.customer_group_id = ?'",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getCustomerGroupId",224],"(",")",")",";",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$args",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",["T_WHITESPACE","\n                ",225],["T_CONSTANT_ENCAPSED_STRING","'select'",226],["T_DOUBLE_ARROW","=>",226],["T_VARIABLE","$select",226],",",["T_WHITESPACE","\n                ",226],["T_CONSTANT_ENCAPSED_STRING","'table'",227],["T_DOUBLE_ARROW","=>",227],["T_VARIABLE","$tableName",227],",",["T_WHITESPACE","\n                ",227],["T_CONSTANT_ENCAPSED_STRING","'store_id'",228],["T_DOUBLE_ARROW","=>",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getStoreId",228],"(",")",",",["T_WHITESPACE","\n                ",228],["T_CONSTANT_ENCAPSED_STRING","'response_object'",229],["T_DOUBLE_ARROW","=>",229],["T_VARIABLE","$response",229],",",["T_WHITESPACE","\n            ",229],")",";",["T_WHITESPACE","\n            ",230],["T_STRING","Mage",231],["T_DOUBLE_COLON","::",231],["T_STRING","dispatchEvent",231],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogindex_prepare_price_select'",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$args",231],")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$select",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","where",234],"(","\"",["T_ENCAPSED_AND_WHITESPACE","((",234],["T_CURLY_OPEN","{",234],["T_VARIABLE","$tableName",234],"}",["T_ENCAPSED_AND_WHITESPACE",".value",234],"\"",".",["T_STRING","implode",234],"(",["T_CONSTANT_ENCAPSED_STRING","''",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$response",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getAdditionalCalculations",234],"(",")",")",".","\"",["T_ENCAPSED_AND_WHITESPACE",")*",234],["T_CURLY_OPEN","{",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getRate",234],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",") >= ?",234],"\"",",",["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$index",234],"-",["T_LNUMBER","1",234],")","*",["T_VARIABLE","$range",234],")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$select",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","where",235],"(","\"",["T_ENCAPSED_AND_WHITESPACE","((",235],["T_CURLY_OPEN","{",235],["T_VARIABLE","$tableName",235],"}",["T_ENCAPSED_AND_WHITESPACE",".value",235],"\"",".",["T_STRING","implode",235],"(",["T_CONSTANT_ENCAPSED_STRING","''",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$response",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getAdditionalCalculations",235],"(",")",")",".","\"",["T_ENCAPSED_AND_WHITESPACE",")*",235],["T_CURLY_OPEN","{",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getRate",235],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",") < ?",235],"\"",",",["T_WHITESPACE"," ",235],["T_VARIABLE","$index",235],"*",["T_VARIABLE","$range",235],")",";",["T_WHITESPACE","\n\n\n        ",235],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_getReadAdapter",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","fetchCol",238],"(",["T_VARIABLE","$select",238],")",";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @param unknown_type $collection\n     * @param unknown_type $attribute\n     * @param unknown_type $range\n     * @param unknown_type $index\n     * @param unknown_type $tableName\n     * @return Mage_CatalogIndex_Model_Resource_Price\n     *\/",241],["T_WHITESPACE","\n    ",250],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","applyFilterToCollection",251],"(",["T_VARIABLE","$collection",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$attribute",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$range",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$index",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$tableName",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'price_table'",251],")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_DOC_COMMENT","\/**\n         * Distinct required for removing duplicates in case when we have grouped products\n         * which contain multiple rows for one product id\n         *\/",253],["T_WHITESPACE","\n        ",256],["T_VARIABLE","$collection",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getSelect",257],"(",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","distinct",257],"(",["T_STRING","true",257],")",";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$tableName",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$tableName",258],".",["T_CONSTANT_ENCAPSED_STRING","'_'",258],".",["T_VARIABLE","$attribute",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getAttributeCode",258],"(",")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$collection",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getSelect",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","joinLeft",259],"(",["T_WHITESPACE","\n            ",259],["T_ARRAY","array",260],"(",["T_VARIABLE","$tableName",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getMainTable",260],"(",")",")",",",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$tableName",261],["T_WHITESPACE"," ",261],".",["T_CONSTANT_ENCAPSED_STRING","'.entity_id=e.entity_id'",261],",",["T_WHITESPACE","\n            ",261],["T_ARRAY","array",262],"(",")",["T_WHITESPACE","\n        ",262],")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$response",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_NEW","new",265],["T_WHITESPACE"," ",265],["T_STRING","Varien_Object",265],"(",")",";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$response",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","setAdditionalCalculations",266],"(",["T_ARRAY","array",266],"(",")",")",";",["T_WHITESPACE","\n\n        ",266],["T_VARIABLE","$collection",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getSelect",268],"(",")",["T_WHITESPACE","\n            ",268],["T_OBJECT_OPERATOR","->",269],["T_STRING","where",269],"(",["T_VARIABLE","$tableName",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'.website_id = ?'",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getWebsiteId",269],"(",")",")",["T_WHITESPACE","\n            ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","where",270],"(",["T_VARIABLE","$tableName",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'.attribute_id = ?'",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$attribute",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getId",270],"(",")",")",";",["T_WHITESPACE","\n\n        ",270],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$attribute",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getAttributeCode",272],"(",")",["T_WHITESPACE"," ",272],["T_IS_EQUAL","==",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'price'",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$collection",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getSelect",273],"(",")",["T_OBJECT_OPERATOR","->",273],["T_STRING","where",273],"(",["T_VARIABLE","$tableName",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'.customer_group_id = ?'",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getCustomerGroupId",273],"(",")",")",";",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$args",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",["T_WHITESPACE","\n                ",274],["T_CONSTANT_ENCAPSED_STRING","'select'",275],["T_DOUBLE_ARROW","=>",275],["T_VARIABLE","$collection",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getSelect",275],"(",")",",",["T_WHITESPACE","\n                ",275],["T_CONSTANT_ENCAPSED_STRING","'table'",276],["T_DOUBLE_ARROW","=>",276],["T_VARIABLE","$tableName",276],",",["T_WHITESPACE","\n                ",276],["T_CONSTANT_ENCAPSED_STRING","'store_id'",277],["T_DOUBLE_ARROW","=>",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getStoreId",277],"(",")",",",["T_WHITESPACE","\n                ",277],["T_CONSTANT_ENCAPSED_STRING","'response_object'",278],["T_DOUBLE_ARROW","=>",278],["T_VARIABLE","$response",278],",",["T_WHITESPACE","\n            ",278],")",";",["T_WHITESPACE","\n\n            ",279],["T_STRING","Mage",281],["T_DOUBLE_COLON","::",281],["T_STRING","dispatchEvent",281],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogindex_prepare_price_select'",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$args",281],")",";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$collection",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getSelect",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","where",284],"(","\"",["T_ENCAPSED_AND_WHITESPACE","((",284],["T_CURLY_OPEN","{",284],["T_VARIABLE","$tableName",284],"}",["T_ENCAPSED_AND_WHITESPACE",".value",284],"\"",".",["T_STRING","implode",284],"(",["T_CONSTANT_ENCAPSED_STRING","''",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$response",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getAdditionalCalculations",284],"(",")",")",".","\"",["T_ENCAPSED_AND_WHITESPACE",")*",284],["T_CURLY_OPEN","{",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getRate",284],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",") >= ?",284],"\"",",",["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$index",284],"-",["T_LNUMBER","1",284],")","*",["T_VARIABLE","$range",284],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$collection",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getSelect",285],"(",")",["T_OBJECT_OPERATOR","->",285],["T_STRING","where",285],"(","\"",["T_ENCAPSED_AND_WHITESPACE","((",285],["T_CURLY_OPEN","{",285],["T_VARIABLE","$tableName",285],"}",["T_ENCAPSED_AND_WHITESPACE",".value",285],"\"",".",["T_STRING","implode",285],"(",["T_CONSTANT_ENCAPSED_STRING","''",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$response",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getAdditionalCalculations",285],"(",")",")",".","\"",["T_ENCAPSED_AND_WHITESPACE",")*",285],["T_CURLY_OPEN","{",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getRate",285],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",") < ?",285],"\"",",",["T_WHITESPACE"," ",285],["T_VARIABLE","$index",285],"*",["T_VARIABLE","$range",285],")",";",["T_WHITESPACE","\n\n        ",285],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Enter description here ...\n     *\n     * @param unknown_type $ids\n     * @return unknown\n     *\/",290],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","getMinimalPrices",296],"(",["T_VARIABLE","$ids",296],")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(","!",["T_VARIABLE","$ids",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_ARRAY","array",299],"(",")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$select",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_getReadAdapter",301],"(",")",["T_OBJECT_OPERATOR","->",301],["T_STRING","select",301],"(",")",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$select",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","from",302],"(",["T_ARRAY","array",302],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table'",302],["T_DOUBLE_ARROW","=>",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getTable",302],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogindex\/minimal_price'",302],")",")",",",["T_WHITESPACE","\n            ",302],["T_ARRAY","array",303],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.entity_id'",303],",",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'value'",303],["T_DOUBLE_ARROW","=>",303],["T_CONSTANT_ENCAPSED_STRING","\"(price_table.value)\"",303],",",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",303],["T_DOUBLE_ARROW","=>",303],["T_CONSTANT_ENCAPSED_STRING","'(price_table.tax_class_id)'",303],")",")",["T_WHITESPACE","\n            ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","where",304],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.entity_id in (?)'",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$ids",304],")",["T_WHITESPACE","\n            ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","where",305],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.website_id = ?'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getWebsiteId",305],"(",")",")",["T_WHITESPACE","\n            ",305],["T_OBJECT_OPERATOR","->",306],["T_STRING","where",306],"(",["T_CONSTANT_ENCAPSED_STRING","'price_table.customer_group_id = ?'",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getCustomerGroupId",306],"(",")",")",";",["T_WHITESPACE","\n        ",306],["T_RETURN","return",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_getReadAdapter",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","fetchAll",307],"(",["T_VARIABLE","$select",307],")",";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n",308],"}",["T_WHITESPACE","\n",309]]