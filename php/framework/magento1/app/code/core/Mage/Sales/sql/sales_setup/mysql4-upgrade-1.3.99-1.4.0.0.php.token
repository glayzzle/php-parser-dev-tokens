[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Sales\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_COMMENT","\/* @var $installer Mage_Sales_Model_Entity_Setup *\/",27],["T_WHITESPACE","\n",27],["T_VARIABLE","$installer",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],";",["T_WHITESPACE","\n",28],["T_VARIABLE","$installer",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","startSetup",29],"(",")",";",["T_WHITESPACE","\n\n",29],["T_COMMENT","\/* Include code from mysql4-upgrade-0.9.38-0.9.39.php *\/",31],["T_WHITESPACE","\n",31],["T_VARIABLE","$installer",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getConnection",32],"(",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","addColumn",32],"(",["T_VARIABLE","$installer",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getTable",32],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_quote_item'",32],")",",",["T_WHITESPACE","\n    ",32],["T_CONSTANT_ENCAPSED_STRING","'store_id'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'smallint(5) unsigned default null AFTER `product_id`'",33],")",";",["T_WHITESPACE","\n",33],["T_VARIABLE","$installer",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getConnection",34],"(",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","addConstraint",34],"(",["T_CONSTANT_ENCAPSED_STRING","'FK_SALES_QUOTE_ITEM_STORE'",34],",",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$installer",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getTable",35],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_quote_item'",35],")",",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'store_id'",35],",",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$installer",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getTable",36],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store'",36],")",",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'store_id'",36],",",["T_WHITESPACE","\n    ",36],["T_CONSTANT_ENCAPSED_STRING","'set null'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'cascade'",37],["T_WHITESPACE","\n",37],")",";",["T_WHITESPACE","\n",38],["T_VARIABLE","$installer",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getConnection",39],"(",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","addColumn",39],"(",["T_VARIABLE","$installer",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getTable",39],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_item'",39],")",",",["T_WHITESPACE","\n    ",39],["T_CONSTANT_ENCAPSED_STRING","'store_id'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'smallint(5) unsigned default null AFTER `quote_item_id`'",40],")",";",["T_WHITESPACE","\n",40],["T_VARIABLE","$installer",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getConnection",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","addConstraint",41],"(",["T_CONSTANT_ENCAPSED_STRING","'FK_SALES_ORDER_ITEM_STORE'",41],",",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$installer",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getTable",42],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_item'",42],")",",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'store_id'",42],",",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$installer",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getTable",43],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store'",43],")",",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'store_id'",43],",",["T_WHITESPACE","\n    ",43],["T_CONSTANT_ENCAPSED_STRING","'set null'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'cascade'",44],["T_WHITESPACE","\n",44],")",";",["T_WHITESPACE","\n",45],["T_VARIABLE","$installer",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","addAttribute",46],"(",["T_CONSTANT_ENCAPSED_STRING","'quote_item'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'redirect_url'",46],",",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_WHITESPACE","\n    ",46],["T_CONSTANT_ENCAPSED_STRING","'type'",47],["T_WHITESPACE","  ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'varchar'",47],",",["T_WHITESPACE","\n",47],")",")",";",["T_WHITESPACE","\n",48],["T_COMMENT","\/* including end *\/",49],["T_WHITESPACE","\n\n",49],["T_VARIABLE","$installer",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","run",51],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\n\/* Orders *\/\nCREATE TABLE `",51],["T_CURLY_OPEN","{",53],["T_VARIABLE","$installer",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getTable",53],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",53],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `state` varchar(32) default NULL,\n    `status` varchar(32) default NULL,\n    `coupon_code` varchar(255) default NULL,\n    `protect_code` varchar(255) default NULL,\n    `shipping_description` varchar(255) default NULL,\n    `is_virtual` tinyint(1) unsigned default NULL,\n    `store_id` smallint(5) unsigned default NULL,\n    `customer_id` int(10) unsigned default NULL,\n    `base_discount_amount` decimal(12,4) default NULL,\n    `base_discount_canceled` decimal(12,4) default NULL,\n    `base_discount_invoiced` decimal(12,4) default NULL,\n    `base_discount_refunded` decimal(12,4) default NULL,\n    `base_grand_total` decimal(12,4) default NULL,\n    `base_shipping_amount` decimal(12,4) default NULL,\n    `base_shipping_canceled` decimal(12,4) default NULL,\n    `base_shipping_invoiced` decimal(12,4) default NULL,\n    `base_shipping_refunded` decimal(12,4) default NULL,\n    `base_shipping_tax_amount` decimal(12,4) default NULL,\n    `base_shipping_tax_refunded` decimal(12,4) default NULL,\n    `base_subtotal` decimal(12,4) default NULL,\n    `base_subtotal_canceled` decimal(12,4) default NULL,\n    `base_subtotal_invoiced` decimal(12,4) default NULL,\n    `base_subtotal_refunded` decimal(12,4) default NULL,\n    `base_tax_amount` decimal(12,4) default NULL,\n    `base_tax_canceled` decimal(12,4) default NULL,\n    `base_tax_invoiced` decimal(12,4) default NULL,\n    `base_tax_refunded` decimal(12,4) default NULL,\n    `base_to_global_rate` decimal(12,4) default NULL,\n    `base_to_order_rate` decimal(12,4) default NULL,\n    `base_total_canceled` decimal(12,4) default NULL,\n    `base_total_invoiced` decimal(12,4) default NULL,\n    `base_total_invoiced_cost` decimal(12,4) default NULL,\n    `base_total_offline_refunded` decimal(12,4) default NULL,\n    `base_total_online_refunded` decimal(12,4) default NULL,\n    `base_total_paid` decimal(12,4) default NULL,\n    `base_total_qty_ordered` decimal(12,4) default NULL,\n    `base_total_refunded` decimal(12,4) default NULL,\n    `discount_amount` decimal(12,4) default NULL,\n    `discount_canceled` decimal(12,4) default NULL,\n    `discount_invoiced` decimal(12,4) default NULL,\n    `discount_refunded` decimal(12,4) default NULL,\n    `grand_total` decimal(12,4) default NULL,\n    `shipping_amount` decimal(12,4) default NULL,\n    `shipping_canceled` decimal(12,4) default NULL,\n    `shipping_invoiced` decimal(12,4) default NULL,\n    `shipping_refunded` decimal(12,4) default NULL,\n    `shipping_tax_amount` decimal(12,4) default NULL,\n    `shipping_tax_refunded` decimal(12,4) default NULL,\n    `store_to_base_rate` decimal(12,4) default NULL,\n    `store_to_order_rate` decimal(12,4) default NULL,\n    `subtotal` decimal(12,4) default NULL,\n    `subtotal_canceled` decimal(12,4) default NULL,\n    `subtotal_invoiced` decimal(12,4) default NULL,\n    `subtotal_refunded` decimal(12,4) default NULL,\n    `tax_amount` decimal(12,4) default NULL,\n    `tax_canceled` decimal(12,4) default NULL,\n    `tax_invoiced` decimal(12,4) default NULL,\n    `tax_refunded` decimal(12,4) default NULL,\n    `total_canceled` decimal(12,4) default NULL,\n    `total_invoiced` decimal(12,4) default NULL,\n    `total_offline_refunded` decimal(12,4) default NULL,\n    `total_online_refunded` decimal(12,4) default NULL,\n    `total_paid` decimal(12,4) default NULL,\n    `total_qty_ordered` decimal(12,4) default NULL,\n    `total_refunded` decimal(12,4) default NULL,\n    `can_ship_partially` tinyint(1) unsigned default NULL,\n    `can_ship_partially_item` tinyint(1) unsigned default NULL,\n    `customer_is_guest` tinyint(1) unsigned default NULL,\n    `customer_note_notify` tinyint(1) unsigned default NULL,\n    `billing_address_id` int(10) default NULL,\n    `customer_group_id` smallint(5) default NULL,\n    `edit_increment` int(10) default NULL,\n    `email_sent` tinyint(1) unsigned default NULL,\n    `forced_do_shipment_with_invoice` tinyint(1) unsigned default NULL,\n    `gift_message_id` int(10) default NULL,\n    `payment_authorization_expiration` int(10) default NULL,\n    `paypal_ipn_customer_notified` int(10) default NULL,\n    `quote_address_id` int(10) default NULL,\n    `quote_id` int(10) default NULL,\n    `shipping_address_id` int(10) default NULL,\n    `adjustment_negative` decimal(12,4) default NULL,\n    `adjustment_positive` decimal(12,4) default NULL,\n    `base_adjustment_negative` decimal(12,4) default NULL,\n    `base_adjustment_positive` decimal(12,4) default NULL,\n    `base_shipping_discount_amount` decimal(12,4) default NULL,\n    `base_subtotal_incl_tax` decimal(12,4) default NULL,\n    `base_total_due` decimal(12,4) default NULL,\n    `payment_authorization_amount` decimal(12,4) default NULL,\n    `shipping_discount_amount` decimal(12,4) default NULL,\n    `subtotal_incl_tax` decimal(12,4) default NULL,\n    `total_due` decimal(12,4) default NULL,\n    `weight` decimal(12,4) default NULL,\n    `customer_dob` datetime default NULL,\n    `increment_id` varchar(50) default NULL,\n    `applied_rule_ids` varchar(255) default NULL,\n    `base_currency_code` char(3) default NULL,\n    `customer_email` varchar(255) default NULL,\n    `customer_firstname` varchar(255) default NULL,\n    `customer_lastname` varchar(255) default NULL,\n    `customer_middlename` varchar(255) default NULL,\n    `customer_prefix` varchar(255) default NULL,\n    `customer_suffix` varchar(255) default NULL,\n    `customer_taxvat` varchar(255) default NULL,\n    `discount_description` varchar(255) default NULL,\n    `ext_customer_id` varchar(255) default NULL,\n    `ext_order_id` varchar(255) default NULL,\n    `global_currency_code` char(3) default NULL,\n    `hold_before_state` varchar(255) default NULL,\n    `hold_before_status` varchar(255) default NULL,\n    `order_currency_code` varchar(255) default NULL,\n    `original_increment_id` varchar(50) default NULL,\n    `relation_child_id` varchar(32) default NULL,\n    `relation_child_real_id` varchar(32) default NULL,\n    `relation_parent_id` varchar(32) default NULL,\n    `relation_parent_real_id` varchar(32) default NULL,\n    `remote_ip` varchar(255) default NULL,\n    `shipping_method` varchar(255) default NULL,\n    `store_currency_code` char(3) default NULL,\n    `store_name` varchar(255) default NULL,\n    `x_forwarded_for` varchar(255) default NULL,\n    `customer_note` text,\n    `created_at` datetime default NULL,\n    `updated_at` datetime default NULL,\n    `total_item_count` smallint(5) unsigned DEFAULT '0',\n    `customer_gender` int(11) DEFAULT NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_STATUS` (`status`),\n    KEY `IDX_STATE` (`state`),\n    KEY `IDX_STORE_ID` (`store_id`),\n    KEY `IDX_INCREMENT_ID` (`increment_id`),\n    KEY `IDX_CREATED_AT` (`created_at`),\n    KEY `IDX_CUSTOMER_ID` (`customer_id`),\n    KEY `IDX_EXT_ORDER_ID` (`ext_order_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Orders Grid *\/\nCREATE TABLE `",53],["T_CURLY_OPEN","{",191],["T_VARIABLE","$installer",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getTable",191],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_grid'",191],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `status` varchar(32) default NULL,\n    `store_id` smallint(5) unsigned default NULL,\n    `customer_id` int(10) unsigned default NULL,\n    `base_grand_total` decimal(12,4) default NULL,\n    `base_total_paid` decimal(12,4) default NULL,\n    `grand_total` decimal(12,4) default NULL,\n    `total_paid` decimal(12,4) default NULL,\n    `increment_id` varchar(50) default NULL,\n    `base_currency_code` char(3) default NULL,\n    `order_currency_code` varchar(255) default NULL,\n    `shipping_name` varchar(255) default NULL,\n    `billing_name` varchar(255) default NULL,\n    `created_at` datetime default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_STATUS` (`status`),\n    KEY `IDX_STORE_ID` (`store_id`),\n    KEY `IDX_BASE_GRAND_TOTAL` (`base_grand_total`),\n    KEY `IDX_BASE_TOTAL_PAID` (`base_total_paid`),\n    KEY `IDX_GRAND_TOTAL` (`grand_total`),\n    KEY `IDX_TOTAL_PAID` (`total_paid`),\n    KEY `IDX_INCREMENT_ID` (`increment_id`),\n    KEY `IDX_SHIPPING_NAME` (`shipping_name`),\n    KEY `IDX_BILLING_NAME` (`billing_name`),\n    KEY `IDX_CREATED_AT` (`created_at`),\n    KEY `IDX_CUSTOMER_ID` (`customer_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Order Address *\/\nCREATE TABLE `",191],["T_CURLY_OPEN","{",221],["T_VARIABLE","$installer",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getTable",221],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_address'",221],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned default NULL,\n    `customer_address_id` int(10) default NULL,\n    `quote_address_id` int(10) default NULL,\n    `region_id` int(10) default NULL,\n    `customer_id` int(10) default NULL,\n    `fax` varchar(255) default NULL,\n    `region` varchar(255) default NULL,\n    `postcode` varchar(255) default NULL,\n    `lastname` varchar(255) default NULL,\n    `street` varchar(255) default NULL,\n    `city` varchar(255) default NULL,\n    `email` varchar(255) default NULL,\n    `telephone` varchar(255) default NULL,\n    `country_id` char(2) default NULL,\n    `firstname` varchar(255) default NULL,\n    `address_type` varchar(255) default NULL,\n    `prefix` varchar(255) default NULL,\n    `middlename` varchar(255) default NULL,\n    `suffix` varchar(255) default NULL,\n    `company` varchar(255) default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_PARENT_ID` (`parent_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Order Comments *\/\nCREATE TABLE `",221],["T_CURLY_OPEN","{",248],["T_VARIABLE","$installer",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getTable",248],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_status_history'",248],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned NOT NULL,\n    `is_customer_notified` int(10) default NULL,\n    `comment` text,\n    `status` varchar(32) default NULL,\n    `created_at` datetime default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_PARENT_ID` (`parent_id`),\n    KEY `IDX_CREATED_AT` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Order Payment *\/\n\nCREATE TABLE `",248],["T_CURLY_OPEN","{",262],["T_VARIABLE","$installer",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getTable",262],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_payment'",262],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned NOT NULL,\n    `base_shipping_captured` decimal(12,4) default NULL,\n    `shipping_captured` decimal(12,4) default NULL,\n    `amount_refunded` decimal(12,4) default NULL,\n    `base_amount_paid` decimal(12,4) default NULL,\n    `amount_canceled` decimal(12,4) default NULL,\n    `base_amount_authorized` decimal(12,4) default NULL,\n    `base_amount_paid_online` decimal(12,4) default NULL,\n    `base_amount_refunded_online` decimal(12,4) default NULL,\n    `base_shipping_amount` decimal(12,4) default NULL,\n    `shipping_amount` decimal(12,4) default NULL,\n    `amount_paid` decimal(12,4) default NULL,\n    `amount_authorized` decimal(12,4) default NULL,\n    `base_amount_ordered` decimal(12,4) default NULL,\n    `base_shipping_refunded` decimal(12,4) default NULL,\n    `shipping_refunded` decimal(12,4) default NULL,\n    `base_amount_refunded` decimal(12,4) default NULL,\n    `amount_ordered` decimal(12,4) default NULL,\n    `base_amount_canceled` decimal(12,4) default NULL,\n    `ideal_transaction_checked` tinyint(1) unsigned default NULL,\n    `quote_payment_id` int(10) default NULL,\n    `additional_data` text,\n    `cc_exp_month` varchar(255) default NULL,\n    `cc_ss_start_year` varchar(255) default NULL,\n    `echeck_bank_name` varchar(255) default NULL,\n    `method` varchar(255) default NULL,\n    `cc_debug_request_body` varchar(255) default NULL,\n    `cc_secure_verify` varchar(255) default NULL,\n    `cybersource_token` varchar(255) default NULL,\n    `ideal_issuer_title` varchar(255) default NULL,\n    `protection_eligibility` varchar(255) default NULL,\n    `cc_approval` varchar(255) default NULL,\n    `cc_last4` varchar(255) default NULL,\n    `cc_status_description` varchar(255) default NULL,\n    `echeck_type` varchar(255) default NULL,\n    `paybox_question_number` varchar(255) default NULL,\n    `cc_debug_response_serialized` varchar(255) default NULL,\n    `cc_ss_start_month` varchar(255) default NULL,\n    `echeck_account_type` varchar(255) default NULL,\n    `last_trans_id` varchar(255) default NULL,\n    `cc_cid_status` varchar(255) default NULL,\n    `cc_owner` varchar(255) default NULL,\n    `cc_type` varchar(255) default NULL,\n    `ideal_issuer_id` varchar(255) default NULL,\n    `po_number` varchar(255) default NULL,\n    `cc_exp_year` varchar(255) default NULL,\n    `cc_status` varchar(255) default NULL,\n    `echeck_routing_number` varchar(255) default NULL,\n    `account_status` varchar(255) default NULL,\n    `anet_trans_method` varchar(255) default NULL,\n    `cc_debug_response_body` varchar(255) default NULL,\n    `cc_ss_issue` varchar(255) default NULL,\n    `echeck_account_name` varchar(255) default NULL,\n    `cc_avs_status` varchar(255) default NULL,\n    `cc_number_enc` varchar(255) default NULL,\n    `cc_trans_id` varchar(255) default NULL,\n    `flo2cash_account_id` varchar(255) default NULL,\n    `paybox_request_number` varchar(255) default NULL,\n    `address_status` varchar(255) default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_PARENT_ID` (`parent_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Shipments *\/\n\nCREATE TABLE `",262],["T_CURLY_OPEN","{",329],["T_VARIABLE","$installer",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getTable",329],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment'",329],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `store_id` smallint(5) unsigned default NULL,\n    `total_weight` decimal(12,4) default NULL,\n    `total_qty` decimal(12,4) default NULL,\n    `email_sent` tinyint(1) unsigned default NULL,\n    `order_id` int(10) unsigned NOT NULL,\n    `customer_id` int(10) default NULL,\n    `shipping_address_id` int(10) default NULL,\n    `billing_address_id` int(10) default NULL,\n    `shipment_status` int(10) default NULL,\n    `increment_id` varchar(50) default NULL,\n    `created_at` datetime default NULL,\n    `updated_at` datetime default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_STORE_ID` (`store_id`),\n    KEY `IDX_TOTAL_QTY` (`total_qty`),\n    KEY `IDX_INCREMENT_ID` (`increment_id`),\n    KEY `IDX_ORDER_ID` (`order_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Shipments Grid *\/\n\nCREATE TABLE `",329],["T_CURLY_OPEN","{",352],["T_VARIABLE","$installer",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getTable",352],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment_grid'",352],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `store_id` smallint(5) unsigned default NULL,\n    `total_qty` decimal(12,4) default NULL,\n    `order_id` int(10) unsigned NOT NULL,\n    `shipment_status` int(10) default NULL,\n    `increment_id` varchar(50) default NULL,\n    `order_increment_id` varchar(50) default NULL,\n    `created_at` datetime default NULL,\n    `order_created_at` datetime default NULL,\n    `shipping_name` varchar(255) default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_STORE_ID` (`store_id`),\n    KEY `IDX_TOTAL_QTY` (`total_qty`),\n    KEY `IDX_ORDER_ID` (`order_id`),\n    KEY `IDX_SHIPMENT_STATUS` (`shipment_status`),\n    KEY `IDX_INCREMENT_ID` (`increment_id`),\n    KEY `IDX_ORDER_INCREMENT_ID` (`order_increment_id`),\n    KEY `IDX_CREATED_AT` (`created_at`),\n    KEY `IDX_ORDER_CREATED_AT` (`order_created_at`),\n    KEY `IDX_SHIPPING_NAME` (`shipping_name`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Shipment Items *\/\n\nCREATE TABLE `",352],["T_CURLY_OPEN","{",377],["T_VARIABLE","$installer",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getTable",377],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment_item'",377],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned NOT NULL,\n    `row_total` decimal(12,4) default NULL,\n    `price` decimal(12,4) default NULL,\n    `weight` decimal(12,4) default NULL,\n    `qty` decimal(12,4) default NULL,\n    `product_id` int(10) default NULL,\n    `order_item_id` int(10) default NULL,\n    `additional_data` text,\n    `description` text,\n    `name` varchar(255) default NULL,\n    `sku` varchar(255) default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_PARENT_ID` (`parent_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Shipping tracking *\/\n\nCREATE TABLE `",377],["T_CURLY_OPEN","{",396],["T_VARIABLE","$installer",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","getTable",396],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment_track'",396],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned NOT NULL,\n    `weight` decimal(12,4) default NULL,\n    `qty` decimal(12,4) default NULL,\n    `order_id` int(10) unsigned NOT NULL,\n    `number` text,\n    `description` text,\n    `title` varchar(255) default NULL,\n    `carrier_code` varchar(32) default NULL,\n    `created_at` datetime default NULL,\n    `updated_at` datetime default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_PARENT_ID` (`parent_id`),\n    KEY `IDX_ORDER_ID` (`order_id`),\n    KEY `IDX_CREATED_AT` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Shipment Comment *\/\nCREATE TABLE `",396],["T_CURLY_OPEN","{",415],["T_VARIABLE","$installer",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getTable",415],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment_comment'",415],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned NOT NULL,\n    `is_customer_notified` int(10) default NULL,\n    `comment` text,\n    `created_at` datetime default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_CREATED_AT` (`created_at`),\n    KEY `IDX_PARENT_ID` (`parent_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Invoice Main Table *\/\nCREATE TABLE `",415],["T_CURLY_OPEN","{",427],["T_VARIABLE","$installer",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getTable",427],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice'",427],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `store_id` smallint(5) unsigned default NULL,\n    `base_grand_total` decimal(12,4) default NULL,\n    `shipping_tax_amount` decimal(12,4) default NULL,\n    `tax_amount` decimal(12,4) default NULL,\n    `base_tax_amount` decimal(12,4) default NULL,\n    `store_to_order_rate` decimal(12,4) default NULL,\n    `base_shipping_tax_amount` decimal(12,4) default NULL,\n    `base_discount_amount` decimal(12,4) default NULL,\n    `base_to_order_rate` decimal(12,4) default NULL,\n    `grand_total` decimal(12,4) default NULL,\n    `shipping_amount` decimal(12,4) default NULL,\n    `subtotal_incl_tax` decimal(12,4) default NULL,\n    `base_subtotal_incl_tax` decimal(12,4) default NULL,\n    `store_to_base_rate` decimal(12,4) default NULL,\n    `base_shipping_amount` decimal(12,4) default NULL,\n    `total_qty` decimal(12,4) default NULL,\n    `base_to_global_rate` decimal(12,4) default NULL,\n    `subtotal` decimal(12,4) default NULL,\n    `base_subtotal` decimal(12,4) default NULL,\n    `discount_amount` decimal(12,4) default NULL,\n    `billing_address_id` int(10) default NULL,\n    `is_used_for_refund` tinyint(1) unsigned default NULL,\n    `order_id` int(10) unsigned NOT NULL,\n    `email_sent` tinyint(1) unsigned default NULL,\n    `can_void_flag` tinyint(1) unsigned default NULL,\n    `state` int(10) default NULL,\n    `shipping_address_id` int(10) default NULL,\n    `cybersource_token` varchar(255) default NULL,\n    `store_currency_code` char(3) default NULL,\n    `transaction_id` varchar(255) default NULL,\n    `order_currency_code` char(3) default NULL,\n    `base_currency_code` char(3) default NULL,\n    `global_currency_code` char(3) default NULL,\n    `increment_id` varchar(50) default NULL,\n    `created_at` datetime default NULL,\n    `updated_at` datetime default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_STORE_ID` (`store_id`),\n    KEY `IDX_GRAND_TOTAL` (`grand_total`),\n    KEY `IDX_ORDER_ID` (`order_id`),\n    KEY `IDX_STATE` (`state`),\n    KEY `IDX_INCREMENT_ID` (`increment_id`),\n    KEY `IDX_CREATED_AT` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Invoices Grid *\/\nCREATE TABLE `",427],["T_CURLY_OPEN","{",475],["T_VARIABLE","$installer",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getTable",475],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice_grid'",475],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `store_id` smallint(5) unsigned default NULL,\n    `base_grand_total` decimal(12,4) default NULL,\n    `grand_total` decimal(12,4) default NULL,\n    `order_id` int(10) unsigned NOT NULL,\n    `state` int(10) default NULL,\n    `store_currency_code` char(3) default NULL,\n    `order_currency_code` char(3) default NULL,\n    `base_currency_code` char(3) default NULL,\n    `global_currency_code` char(3) default NULL,\n    `increment_id` varchar(50) default NULL,\n    `order_increment_id` varchar(50) default NULL,\n    `created_at` datetime default NULL,\n    `order_created_at` datetime default NULL,\n    `billing_name` varchar(255) default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_STORE_ID` (`store_id`),\n    KEY `IDX_GRAND_TOTAL` (`grand_total`),\n    KEY `IDX_ORDER_ID` (`order_id`),\n    KEY `IDX_STATE` (`state`),\n    KEY `IDX_INCREMENT_ID` (`increment_id`),\n    KEY `IDX_ORDER_INCREMENT_ID` (`order_increment_id`),\n    KEY `IDX_CREATED_AT` (`created_at`),\n    KEY `IDX_ORDER_CREATED_AT` (`order_created_at`),\n    KEY `IDX_BILLING_NAME` (`billing_name`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Invoice Items *\/\n\nCREATE TABLE `",475],["T_CURLY_OPEN","{",505],["T_VARIABLE","$installer",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","getTable",505],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice_item'",505],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned NOT NULL,\n    `base_price` decimal(12,4) default NULL,\n    `base_weee_tax_row_disposition` decimal(12,4) default NULL,\n    `weee_tax_applied_row_amount` decimal(12,4) default NULL,\n    `base_weee_tax_applied_amount` decimal(12,4) default NULL,\n    `tax_amount` decimal(12,4) default NULL,\n    `base_row_total` decimal(12,4) default NULL,\n    `discount_amount` decimal(12,4) default NULL,\n    `row_total` decimal(12,4) default NULL,\n    `weee_tax_row_disposition` decimal(12,4) default NULL,\n    `base_discount_amount` decimal(12,4) default NULL,\n    `base_weee_tax_disposition` decimal(12,4) default NULL,\n    `price_incl_tax` decimal(12,4) default NULL,\n    `weee_tax_applied_amount` decimal(12,4) default NULL,\n    `base_tax_amount` decimal(12,4) default NULL,\n    `base_price_incl_tax` decimal(12,4) default NULL,\n    `qty` decimal(12,4) default NULL,\n    `weee_tax_disposition` decimal(12,4) default NULL,\n    `base_cost` decimal(12,4) default NULL,\n    `base_weee_tax_applied_row_amount` decimal(12,4) default NULL,\n    `price` decimal(12,4) default NULL,\n    `base_row_total_incl_tax` decimal(12,4) default NULL,\n    `row_total_incl_tax` decimal(12,4) default NULL,\n    `product_id` int(10) default NULL,\n    `order_item_id` int(10) default NULL,\n    `additional_data` text,\n    `description` text,\n    `weee_tax_applied` text,\n    `sku` varchar(255) default NULL,\n    `name` varchar(255) default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_PARENT_ID` (`parent_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* Invoice Comments *\/\nCREATE TABLE `",505],["T_CURLY_OPEN","{",542],["T_VARIABLE","$installer",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getTable",542],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice_comment'",542],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned NOT NULL,\n    `is_customer_notified` tinyint(1) unsigned default NULL,\n    `comment` text,\n    `created_at` datetime default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_CREATED_AT` (`created_at`),\n    KEY `IDX_PARENT_ID` (`parent_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* CreditMemo Main table *\/\nCREATE TABLE `",542],["T_CURLY_OPEN","{",554],["T_VARIABLE","$installer",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","getTable",554],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo'",554],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `store_id` smallint(5) unsigned default NULL,\n    `adjustment_positive` decimal(12,4) default NULL,\n    `base_shipping_tax_amount` decimal(12,4) default NULL,\n    `store_to_order_rate` decimal(12,4) default NULL,\n    `base_discount_amount` decimal(12,4) default NULL,\n    `base_to_order_rate` decimal(12,4) default NULL,\n    `grand_total` decimal(12,4) default NULL,\n    `base_adjustment_negative` decimal(12,4) default NULL,\n    `base_subtotal_incl_tax` decimal(12,4) default NULL,\n    `shipping_amount` decimal(12,4) default NULL,\n    `subtotal_incl_tax` decimal(12,4) default NULL,\n    `adjustment_negative` decimal(12,4) default NULL,\n    `base_shipping_amount` decimal(12,4) default NULL,\n    `store_to_base_rate` decimal(12,4) default NULL,\n    `base_to_global_rate` decimal(12,4) default NULL,\n    `base_adjustment` decimal(12,4) default NULL,\n    `base_subtotal` decimal(12,4) default NULL,\n    `discount_amount` decimal(12,4) default NULL,\n    `subtotal` decimal(12,4) default NULL,\n    `adjustment` decimal(12,4) default NULL,\n    `base_grand_total` decimal(12,4) default NULL,\n    `base_adjustment_positive` decimal(12,4) default NULL,\n    `base_tax_amount` decimal(12,4) default NULL,\n    `shipping_tax_amount` decimal(12,4) default NULL,\n    `tax_amount` decimal(12,4) default NULL,\n    `order_id` int(10) unsigned NOT NULL,\n    `email_sent` tinyint(1) unsigned default NULL,\n    `creditmemo_status` int(10) default NULL,\n    `state` int(10) default NULL,\n    `shipping_address_id` int(10) default NULL,\n    `billing_address_id` int(10) default NULL,\n    `invoice_id` int(10) default NULL,\n    `cybersource_token` varchar(255) default NULL,\n    `store_currency_code` char(3) default NULL,\n    `order_currency_code` char(3) default NULL,\n    `base_currency_code` char(3) default NULL,\n    `global_currency_code` char(3) default NULL,\n    `transaction_id` varchar(255) default NULL,\n    `increment_id` varchar(50) default NULL,\n    `created_at` datetime default NULL,\n    `updated_at` datetime default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_STORE_ID` (`store_id`),\n    KEY `IDX_ORDER_ID` (`order_id`),\n    KEY `IDX_CREDITMEMO_STATUS` (`creditmemo_status`),\n    KEY `IDX_INCREMENT_ID` (`increment_id`),\n    KEY `IDX_STATE` (`state`),\n    KEY `IDX_CREATED_AT` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* CreditMemo Grid *\/\nCREATE TABLE `",554],["T_CURLY_OPEN","{",607],["T_VARIABLE","$installer",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","getTable",607],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo_grid'",607],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `store_id` smallint(5) unsigned default NULL,\n    `store_to_order_rate` decimal(12,4) default NULL,\n    `base_to_order_rate` decimal(12,4) default NULL,\n    `grand_total` decimal(12,4) default NULL,\n    `store_to_base_rate` decimal(12,4) default NULL,\n    `base_to_global_rate` decimal(12,4) default NULL,\n    `base_grand_total` decimal(12,4) default NULL,\n    `order_id` int(10) unsigned NOT NULL,\n    `creditmemo_status` int(10) default NULL,\n    `state` int(10) default NULL,\n    `invoice_id` int(10) default NULL,\n    `store_currency_code` char(3) default NULL,\n    `order_currency_code` char(3) default NULL,\n    `base_currency_code` char(3) default NULL,\n    `global_currency_code` char(3) default NULL,\n    `increment_id` varchar(50) default NULL,\n    `order_increment_id` varchar(50) default NULL,\n    `created_at` datetime default NULL,\n    `order_created_at` datetime default NULL,\n    `billing_name` varchar(255) default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_STORE_ID` (`store_id`),\n    KEY `IDX_GRAND_TOTAL` (`grand_total`),\n    KEY `IDX_BASE_GRAND_TOTAL` (`base_grand_total`),\n    KEY `IDX_ORDER_ID` (`order_id`),\n    KEY `IDX_CREDITMEMO_STATUS` (`creditmemo_status`),\n    KEY `IDX_STATE` (`state`),\n    KEY `IDX_INCREMENT_ID` (`increment_id`),\n    KEY `IDX_ORDER_INCREMENT_ID` (`order_increment_id`),\n    KEY `IDX_CREATED_AT` (`created_at`),\n    KEY `IDX_ORDER_CREATED_AT` (`order_created_at`),\n    KEY `IDX_BILLING_NAME` (`billing_name`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* CreditMemo Item *\/\n\nCREATE TABLE `",607],["T_CURLY_OPEN","{",645],["T_VARIABLE","$installer",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getTable",645],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo_item'",645],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned NOT NULL,\n    `weee_tax_applied_row_amount` decimal(12,4) default NULL,\n    `base_price` decimal(12,4) default NULL,\n    `base_weee_tax_row_disposition` decimal(12,4) default NULL,\n    `tax_amount` decimal(12,4) default NULL,\n    `base_weee_tax_applied_amount` decimal(12,4) default NULL,\n    `weee_tax_row_disposition` decimal(12,4) default NULL,\n    `base_row_total` decimal(12,4) default NULL,\n    `discount_amount` decimal(12,4) default NULL,\n    `row_total` decimal(12,4) default NULL,\n    `weee_tax_applied_amount` decimal(12,4) default NULL,\n    `base_discount_amount` decimal(12,4) default NULL,\n    `base_weee_tax_disposition` decimal(12,4) default NULL,\n    `price_incl_tax` decimal(12,4) default NULL,\n    `base_tax_amount` decimal(12,4) default NULL,\n    `weee_tax_disposition` decimal(12,4) default NULL,\n    `base_price_incl_tax` decimal(12,4) default NULL,\n    `qty` decimal(12,4) default NULL,\n    `base_cost` decimal(12,4) default NULL,\n    `base_weee_tax_applied_row_amount` decimal(12,4) default NULL,\n    `price` decimal(12,4) default NULL,\n    `base_row_total_incl_tax` decimal(12,4) default NULL,\n    `row_total_incl_tax` decimal(12,4) default NULL,\n    `product_id` int(10) default NULL,\n    `order_item_id` int(10) default NULL,\n    `additional_data` text,\n    `description` text,\n    `weee_tax_applied` text,\n    `sku` varchar(255) default NULL,\n    `name` varchar(255) default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_PARENT_ID` (`parent_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/* CreditMemo Comment *\/\n\nCREATE TABLE `",645],["T_CURLY_OPEN","{",683],["T_VARIABLE","$installer",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","getTable",683],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo_comment'",683],")","}",["T_ENCAPSED_AND_WHITESPACE","` (\n    `entity_id` int(10) unsigned NOT NULL auto_increment,\n    `parent_id` int(10) unsigned NOT NULL,\n    `is_customer_notified` int(10) default NULL,\n    `comment` text,\n    `created_at` datetime default NULL,\n    PRIMARY KEY (`entity_id`),\n    KEY `IDX_CREATED_AT` (`created_at`),\n    KEY `IDX_PARENT_ID` (`parent_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n",683],"\"",")",";",["T_WHITESPACE","\n\n",693],["T_VARIABLE","$installer",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","getConnection",695],"(",")",["T_OBJECT_OPERATOR","->",695],["T_STRING","dropForeignKey",695],"(",["T_WHITESPACE","\n    ",695],["T_VARIABLE","$installer",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","getTable",696],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_item'",696],")",",",["T_WHITESPACE","\n    ",696],["T_CONSTANT_ENCAPSED_STRING","'FK_SALES_ORDER_ITEM_STORE'",697],["T_WHITESPACE","\n",697],")",";",["T_WHITESPACE","\n\n",698],["T_VARIABLE","$installer",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","getConnection",700],"(",")",["T_OBJECT_OPERATOR","->",700],["T_STRING","dropForeignKey",700],"(",["T_WHITESPACE","\n    ",700],["T_VARIABLE","$installer",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","getTable",701],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_payment_transaction'",701],")",",",["T_WHITESPACE","\n    ",701],["T_CONSTANT_ENCAPSED_STRING","'FK_SALES_PAYMENT_TXN_PARENT'",702],["T_WHITESPACE","\n",702],")",";",["T_WHITESPACE","\n\n",703],["T_VARIABLE","$installer",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","getConnection",705],"(",")",["T_OBJECT_OPERATOR","->",705],["T_STRING","dropForeignKey",705],"(",["T_WHITESPACE","\n    ",705],["T_VARIABLE","$installer",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","getTable",706],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_payment_transaction'",706],")",",",["T_WHITESPACE","\n    ",706],["T_CONSTANT_ENCAPSED_STRING","'FK_SALES_TXN_ORDER'",707],["T_WHITESPACE","\n",707],")",";",["T_WHITESPACE","\n\n",708],["T_VARIABLE","$installer",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","getConnection",710],"(",")",["T_OBJECT_OPERATOR","->",710],["T_STRING","dropForeignKey",710],"(",["T_WHITESPACE","\n    ",710],["T_VARIABLE","$installer",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","getTable",711],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_payment_transaction'",711],")",",",["T_WHITESPACE","\n    ",711],["T_CONSTANT_ENCAPSED_STRING","'FK_SALES_TXN_PAYMENT'",712],["T_WHITESPACE","\n",712],")",";",["T_WHITESPACE","\n\n",713],["T_VARIABLE","$installer",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","getConnection",715],"(",")",["T_OBJECT_OPERATOR","->",715],["T_STRING","dropKey",715],"(",["T_WHITESPACE","\n    ",715],["T_VARIABLE","$installer",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","getTable",716],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_item'",716],")",",",["T_WHITESPACE","\n    ",716],["T_CONSTANT_ENCAPSED_STRING","'FK_SALES_ORDER_ITEM_STORE'",717],["T_WHITESPACE","\n",717],")",";",["T_WHITESPACE","\n\n",718],["T_VARIABLE","$installer",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","getConnection",720],"(",")",["T_OBJECT_OPERATOR","->",720],["T_STRING","addKey",720],"(",["T_WHITESPACE","\n    ",720],["T_VARIABLE","$installer",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","getTable",721],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_item'",721],")",",",["T_WHITESPACE","\n    ",721],["T_CONSTANT_ENCAPSED_STRING","'IDX_STORE_ID'",722],",",["T_WHITESPACE","\n    ",722],["T_CONSTANT_ENCAPSED_STRING","'store_id'",723],["T_WHITESPACE","\n",723],")",";",["T_WHITESPACE","\n\n",724],["T_VARIABLE","$installer",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","getConnection",726],"(",")",["T_OBJECT_OPERATOR","->",726],["T_STRING","dropColumn",726],"(",["T_VARIABLE","$installer",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","getTable",726],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_item'",726],")",",",["T_WHITESPACE"," ",726],["T_CONSTANT_ENCAPSED_STRING","'is_active'",726],")",";",["T_WHITESPACE","\n\n",726],["T_VARIABLE","$excludeAttributes",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_ARRAY","array",728],"(",["T_WHITESPACE","\n    ",728],["T_CONSTANT_ENCAPSED_STRING","'all'",729],["T_WHITESPACE","                   ",729],["T_DOUBLE_ARROW","=>",729],["T_WHITESPACE"," ",729],["T_ARRAY","array",729],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",729],",",["T_WHITESPACE"," ",729],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",729],",",["T_WHITESPACE"," ",729],["T_CONSTANT_ENCAPSED_STRING","'is_active'",729],")",",",["T_WHITESPACE","\n    ",729],["T_CONSTANT_ENCAPSED_STRING","'order_payment'",730],["T_WHITESPACE","         ",730],["T_DOUBLE_ARROW","=>",730],["T_WHITESPACE"," ",730],["T_ARRAY","array",730],"(",["T_CONSTANT_ENCAPSED_STRING","'increment_id'",730],",",["T_CONSTANT_ENCAPSED_STRING","'created_at'",730],",",["T_WHITESPACE"," ",730],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",730],",",["T_WHITESPACE"," ",730],["T_CONSTANT_ENCAPSED_STRING","'store_id'",730],")",",",["T_WHITESPACE","\n    ",730],["T_CONSTANT_ENCAPSED_STRING","'order_status_history'",731],["T_WHITESPACE","  ",731],["T_DOUBLE_ARROW","=>",731],["T_WHITESPACE"," ",731],["T_ARRAY","array",731],"(",["T_CONSTANT_ENCAPSED_STRING","'updated_at'",731],",",["T_WHITESPACE"," ",731],["T_CONSTANT_ENCAPSED_STRING","'store_id'",731],",",["T_WHITESPACE"," ",731],["T_CONSTANT_ENCAPSED_STRING","'increment_id'",731],")",",",["T_WHITESPACE","\n    ",731],["T_CONSTANT_ENCAPSED_STRING","'invoice_comment'",732],["T_WHITESPACE","       ",732],["T_DOUBLE_ARROW","=>",732],["T_WHITESPACE"," ",732],["T_ARRAY","array",732],"(",["T_CONSTANT_ENCAPSED_STRING","'updated_at'",732],",",["T_WHITESPACE"," ",732],["T_CONSTANT_ENCAPSED_STRING","'store_id'",732],",",["T_WHITESPACE"," ",732],["T_CONSTANT_ENCAPSED_STRING","'increment_id'",732],")",",",["T_WHITESPACE","\n    ",732],["T_CONSTANT_ENCAPSED_STRING","'shipment_comment'",733],["T_WHITESPACE","      ",733],["T_DOUBLE_ARROW","=>",733],["T_WHITESPACE"," ",733],["T_ARRAY","array",733],"(",["T_CONSTANT_ENCAPSED_STRING","'updated_at'",733],",",["T_WHITESPACE"," ",733],["T_CONSTANT_ENCAPSED_STRING","'store_id'",733],",",["T_WHITESPACE"," ",733],["T_CONSTANT_ENCAPSED_STRING","'increment_id'",733],")",",",["T_WHITESPACE","\n    ",733],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_comment'",734],["T_WHITESPACE","    ",734],["T_DOUBLE_ARROW","=>",734],["T_WHITESPACE"," ",734],["T_ARRAY","array",734],"(",["T_CONSTANT_ENCAPSED_STRING","'updated_at'",734],",",["T_WHITESPACE"," ",734],["T_CONSTANT_ENCAPSED_STRING","'store_id'",734],",",["T_WHITESPACE"," ",734],["T_CONSTANT_ENCAPSED_STRING","'increment_id'",734],")",",",["T_WHITESPACE","\n    ",734],["T_CONSTANT_ENCAPSED_STRING","'invoice_item'",735],["T_WHITESPACE","          ",735],["T_DOUBLE_ARROW","=>",735],["T_WHITESPACE"," ",735],["T_ARRAY","array",735],"(",["T_CONSTANT_ENCAPSED_STRING","'increment_id'",735],",",["T_CONSTANT_ENCAPSED_STRING","'created_at'",735],",",["T_WHITESPACE"," ",735],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",735],",",["T_WHITESPACE"," ",735],["T_CONSTANT_ENCAPSED_STRING","'store_id'",735],")",",",["T_WHITESPACE","\n    ",735],["T_CONSTANT_ENCAPSED_STRING","'shipment_item'",736],["T_WHITESPACE","         ",736],["T_DOUBLE_ARROW","=>",736],["T_WHITESPACE"," ",736],["T_ARRAY","array",736],"(",["T_CONSTANT_ENCAPSED_STRING","'increment_id'",736],",",["T_CONSTANT_ENCAPSED_STRING","'created_at'",736],",",["T_WHITESPACE"," ",736],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",736],",",["T_WHITESPACE"," ",736],["T_CONSTANT_ENCAPSED_STRING","'store_id'",736],")",",",["T_WHITESPACE","\n    ",736],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_item'",737],["T_WHITESPACE","       ",737],["T_DOUBLE_ARROW","=>",737],["T_WHITESPACE"," ",737],["T_ARRAY","array",737],"(",["T_CONSTANT_ENCAPSED_STRING","'increment_id'",737],",",["T_CONSTANT_ENCAPSED_STRING","'created_at'",737],",",["T_WHITESPACE"," ",737],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",737],",",["T_WHITESPACE"," ",737],["T_CONSTANT_ENCAPSED_STRING","'store_id'",737],")",",",["T_WHITESPACE","\n    ",737],["T_CONSTANT_ENCAPSED_STRING","'order_address'",738],["T_WHITESPACE","         ",738],["T_DOUBLE_ARROW","=>",738],["T_WHITESPACE"," ",738],["T_ARRAY","array",738],"(",["T_CONSTANT_ENCAPSED_STRING","'increment_id'",738],",",["T_CONSTANT_ENCAPSED_STRING","'created_at'",738],",",["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",738],",",["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","'store_id'",738],")",",",["T_WHITESPACE","\n    ",738],["T_CONSTANT_ENCAPSED_STRING","'order'",739],["T_WHITESPACE","                 ",739],["T_DOUBLE_ARROW","=>",739],["T_WHITESPACE"," ",739],["T_ARRAY","array",739],"(",["T_CONSTANT_ENCAPSED_STRING","'payment_authorization_amount'",739],",",["T_WHITESPACE"," ",739],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",739],")",",",["T_WHITESPACE","\n    ",739],["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",740],["T_WHITESPACE","            ",740],["T_DOUBLE_ARROW","=>",740],["T_WHITESPACE"," ",740],["T_ARRAY","array",740],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",740],")",",",["T_WHITESPACE","\n    ",740],["T_CONSTANT_ENCAPSED_STRING","'invoice'",741],["T_WHITESPACE","               ",741],["T_DOUBLE_ARROW","=>",741],["T_WHITESPACE"," ",741],["T_ARRAY","array",741],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",741],")",",",["T_WHITESPACE","\n    ",741],["T_CONSTANT_ENCAPSED_STRING","'shipment'",742],["T_WHITESPACE","              ",742],["T_DOUBLE_ARROW","=>",742],["T_WHITESPACE"," ",742],["T_ARRAY","array",742],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",742],")",",",["T_WHITESPACE","\n    ",742],["T_CONSTANT_ENCAPSED_STRING","'shipment_track'",743],["T_WHITESPACE","        ",743],["T_DOUBLE_ARROW","=>",743],["T_WHITESPACE"," ",743],["T_ARRAY","array",743],"(",["T_CONSTANT_ENCAPSED_STRING","'increment_id'",743],",",["T_WHITESPACE"," ",743],["T_CONSTANT_ENCAPSED_STRING","'store_id'",743],")",",",["T_WHITESPACE","\n",743],")",";",["T_WHITESPACE","\n\n",744],["T_VARIABLE","$entityToFlat",746],["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_ARRAY","array",746],"(",["T_WHITESPACE","\n    ",746],["T_CONSTANT_ENCAPSED_STRING","'order'",747],["T_WHITESPACE","                 ",747],["T_DOUBLE_ARROW","=>",747],["T_WHITESPACE"," ",747],["T_ARRAY","array",747],"(",["T_CONSTANT_ENCAPSED_STRING","'grid'",747],["T_DOUBLE_ARROW","=>",747],["T_STRING","true",747],")",",",["T_WHITESPACE","\n    ",747],["T_CONSTANT_ENCAPSED_STRING","'order_item'",748],["T_WHITESPACE","            ",748],["T_DOUBLE_ARROW","=>",748],["T_WHITESPACE"," ",748],["T_ARRAY","array",748],"(",["T_CONSTANT_ENCAPSED_STRING","'flat'",748],["T_DOUBLE_ARROW","=>",748],["T_WHITESPACE"," ",748],["T_STRING","true",748],")",",",["T_WHITESPACE","\n    ",748],["T_CONSTANT_ENCAPSED_STRING","'order_address'",749],["T_WHITESPACE","         ",749],["T_DOUBLE_ARROW","=>",749],["T_WHITESPACE"," ",749],["T_ARRAY","array",749],"(",")",",",["T_WHITESPACE","\n    ",749],["T_CONSTANT_ENCAPSED_STRING","'order_payment'",750],["T_WHITESPACE","         ",750],["T_DOUBLE_ARROW","=>",750],["T_WHITESPACE"," ",750],["T_ARRAY","array",750],"(",")",",",["T_WHITESPACE","\n    ",750],["T_CONSTANT_ENCAPSED_STRING","'order_status_history'",751],["T_WHITESPACE","  ",751],["T_DOUBLE_ARROW","=>",751],["T_WHITESPACE"," ",751],["T_ARRAY","array",751],"(",")",",",["T_WHITESPACE","\n    ",751],["T_CONSTANT_ENCAPSED_STRING","'invoice'",752],["T_WHITESPACE","               ",752],["T_DOUBLE_ARROW","=>",752],["T_WHITESPACE"," ",752],["T_ARRAY","array",752],"(",["T_CONSTANT_ENCAPSED_STRING","'grid'",752],["T_WHITESPACE"," ",752],["T_DOUBLE_ARROW","=>",752],["T_WHITESPACE"," ",752],["T_STRING","true",752],")",",",["T_WHITESPACE","\n    ",752],["T_CONSTANT_ENCAPSED_STRING","'invoice_item'",753],["T_WHITESPACE","          ",753],["T_DOUBLE_ARROW","=>",753],["T_WHITESPACE"," ",753],["T_ARRAY","array",753],"(",")",",",["T_WHITESPACE","\n    ",753],["T_CONSTANT_ENCAPSED_STRING","'invoice_comment'",754],["T_WHITESPACE","       ",754],["T_DOUBLE_ARROW","=>",754],["T_WHITESPACE"," ",754],["T_ARRAY","array",754],"(",")",",",["T_WHITESPACE","\n    ",754],["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",755],["T_WHITESPACE","            ",755],["T_DOUBLE_ARROW","=>",755],["T_WHITESPACE"," ",755],["T_ARRAY","array",755],"(",["T_CONSTANT_ENCAPSED_STRING","'grid'",755],["T_WHITESPACE"," ",755],["T_DOUBLE_ARROW","=>",755],["T_WHITESPACE"," ",755],["T_STRING","true",755],")",",",["T_WHITESPACE","\n    ",755],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_item'",756],["T_WHITESPACE","       ",756],["T_DOUBLE_ARROW","=>",756],["T_WHITESPACE"," ",756],["T_ARRAY","array",756],"(",")",",",["T_WHITESPACE","\n    ",756],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_comment'",757],["T_WHITESPACE","    ",757],["T_DOUBLE_ARROW","=>",757],["T_WHITESPACE"," ",757],["T_ARRAY","array",757],"(",")",",",["T_WHITESPACE","\n    ",757],["T_CONSTANT_ENCAPSED_STRING","'shipment'",758],["T_WHITESPACE","              ",758],["T_DOUBLE_ARROW","=>",758],["T_WHITESPACE"," ",758],["T_ARRAY","array",758],"(",["T_CONSTANT_ENCAPSED_STRING","'grid'",758],["T_WHITESPACE"," ",758],["T_DOUBLE_ARROW","=>",758],["T_WHITESPACE"," ",758],["T_STRING","true",758],")",",",["T_WHITESPACE","\n    ",758],["T_CONSTANT_ENCAPSED_STRING","'shipment_item'",759],["T_WHITESPACE","         ",759],["T_DOUBLE_ARROW","=>",759],["T_WHITESPACE"," ",759],["T_ARRAY","array",759],"(",")",",",["T_WHITESPACE","\n    ",759],["T_CONSTANT_ENCAPSED_STRING","'shipment_comment'",760],["T_WHITESPACE","      ",760],["T_DOUBLE_ARROW","=>",760],["T_WHITESPACE"," ",760],["T_ARRAY","array",760],"(",")",",",["T_WHITESPACE","\n    ",760],["T_CONSTANT_ENCAPSED_STRING","'shipment_track'",761],["T_WHITESPACE","        ",761],["T_DOUBLE_ARROW","=>",761],["T_WHITESPACE"," ",761],["T_ARRAY","array",761],"(",")",["T_WHITESPACE","\n",761],")",";",["T_WHITESPACE","\n\n",762],["T_COMMENT","\/* @var $select Varien_Db_Select *\/",764],["T_WHITESPACE","\n",764],["T_VARIABLE","$select",765],["T_WHITESPACE"," ",765],"=",["T_WHITESPACE"," ",765],["T_VARIABLE","$installer",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","getConnection",765],"(",")",["T_OBJECT_OPERATOR","->",765],["T_STRING","select",765],"(",")",";",["T_WHITESPACE","\n\n",765],["T_VARIABLE","$select",767],["T_WHITESPACE","\n    ",767],["T_OBJECT_OPERATOR","->",768],["T_STRING","from",768],"(",["T_ARRAY","array",768],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute'",768],["T_WHITESPACE"," ",768],["T_DOUBLE_ARROW","=>",768],["T_WHITESPACE"," ",768],["T_VARIABLE","$installer",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","getTable",768],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute'",768],")",")",",",["T_WHITESPACE"," ",768],["T_ARRAY","array",768],"(",["T_WHITESPACE","\n        ",768],["T_CONSTANT_ENCAPSED_STRING","'id'",769],["T_WHITESPACE","   ",769],["T_DOUBLE_ARROW","=>",769],["T_WHITESPACE"," ",769],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",769],",",["T_WHITESPACE","\n        ",769],["T_CONSTANT_ENCAPSED_STRING","'code'",770],["T_WHITESPACE"," ",770],["T_DOUBLE_ARROW","=>",770],["T_WHITESPACE"," ",770],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",770],",",["T_WHITESPACE","\n        ",770],["T_CONSTANT_ENCAPSED_STRING","'type'",771],["T_WHITESPACE"," ",771],["T_DOUBLE_ARROW","=>",771],["T_WHITESPACE"," ",771],["T_CONSTANT_ENCAPSED_STRING","'backend_type'",771],",",["T_WHITESPACE","\n        ",771],["T_CONSTANT_ENCAPSED_STRING","'table'",772],["T_WHITESPACE"," ",772],["T_DOUBLE_ARROW","=>",772],["T_WHITESPACE"," ",772],["T_CONSTANT_ENCAPSED_STRING","'backend_table'",772],")",")",["T_WHITESPACE","\n    ",772],["T_OBJECT_OPERATOR","->",773],["T_STRING","join",773],"(",["T_ARRAY","array",773],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",773],["T_WHITESPACE"," ",773],["T_DOUBLE_ARROW","=>",773],["T_WHITESPACE"," ",773],["T_VARIABLE","$installer",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","getTable",773],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_type'",773],")",")",",",["T_WHITESPACE"," ",773],["T_CONSTANT_ENCAPSED_STRING","'attribute.entity_type_id = entity.entity_type_id'",773],",",["T_WHITESPACE"," ",773],["T_ARRAY","array",773],"(",["T_WHITESPACE","\n        ",773],["T_CONSTANT_ENCAPSED_STRING","'entity'",774],["T_WHITESPACE"," ",774],["T_DOUBLE_ARROW","=>",774],["T_WHITESPACE"," ",774],["T_CONSTANT_ENCAPSED_STRING","'entity_type_code'",774],",",["T_WHITESPACE","\n        ",774],["T_CONSTANT_ENCAPSED_STRING","'type_id'",775],["T_WHITESPACE"," ",775],["T_DOUBLE_ARROW","=>",775],["T_WHITESPACE"," ",775],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",775],["T_WHITESPACE","\n    ",775],")",")",["T_WHITESPACE","\n    ",776],["T_OBJECT_OPERATOR","->",777],["T_STRING","where",777],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.entity_type_code IN (?)'",777],",",["T_WHITESPACE"," ",777],["T_STRING","array_keys",777],"(",["T_VARIABLE","$entityToFlat",777],")",")",["T_WHITESPACE","\n    ",777],["T_OBJECT_OPERATOR","->",778],["T_STRING","where",778],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute.attribute_code NOT IN(?)'",778],",",["T_WHITESPACE"," ",778],["T_VARIABLE","$excludeAttributes",778],"[",["T_CONSTANT_ENCAPSED_STRING","'all'",778],"]",")",";",["T_WHITESPACE","\n",778],";",["T_WHITESPACE","\n\n\n",779],["T_VARIABLE","$attributes",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],["T_ARRAY","array",782],"(",")",";",["T_WHITESPACE","\n\n",782],["T_FOREACH","foreach",784],["T_WHITESPACE"," ",784],"(",["T_VARIABLE","$installer",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","getConnection",784],"(",")",["T_OBJECT_OPERATOR","->",784],["T_STRING","fetchAll",784],"(",["T_VARIABLE","$select",784],")",["T_WHITESPACE"," ",784],["T_AS","as",784],["T_WHITESPACE"," ",784],["T_VARIABLE","$attribute",784],")",["T_WHITESPACE"," ",784],"{",["T_WHITESPACE","\n    ",784],["T_VARIABLE","$attributes",785],"[",["T_VARIABLE","$attribute",785],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",785],"]","]","[",["T_VARIABLE","$attribute",785],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",785],"]","]",["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_VARIABLE","$attribute",785],";",["T_WHITESPACE","\n",785],"}",["T_WHITESPACE","\n\n\n",786],["T_VARIABLE","$definitions",789],["T_WHITESPACE"," ",789],"=",["T_WHITESPACE"," ",789],["T_ARRAY","array",789],"(",["T_WHITESPACE","\n    ",789],["T_CONSTANT_ENCAPSED_STRING","'datetime'",790],["T_WHITESPACE"," ",790],["T_DOUBLE_ARROW","=>",790],["T_WHITESPACE"," ",790],["T_CONSTANT_ENCAPSED_STRING","'datetime default null'",790],",",["T_WHITESPACE","\n    ",790],["T_CONSTANT_ENCAPSED_STRING","'int'",791],["T_WHITESPACE","      ",791],["T_DOUBLE_ARROW","=>",791],["T_WHITESPACE"," ",791],["T_CONSTANT_ENCAPSED_STRING","'int(11) default null'",791],",",["T_WHITESPACE","\n    ",791],["T_CONSTANT_ENCAPSED_STRING","'varchar'",792],["T_WHITESPACE","  ",792],["T_DOUBLE_ARROW","=>",792],["T_WHITESPACE"," ",792],["T_CONSTANT_ENCAPSED_STRING","'varchar(255) default null'",792],",",["T_WHITESPACE","\n    ",792],["T_CONSTANT_ENCAPSED_STRING","'text'",793],["T_WHITESPACE","  ",793],["T_DOUBLE_ARROW","=>",793],["T_WHITESPACE"," ",793],["T_CONSTANT_ENCAPSED_STRING","'text default null'",793],",",["T_WHITESPACE","\n    ",793],["T_CONSTANT_ENCAPSED_STRING","'decimal'",794],["T_WHITESPACE","  ",794],["T_DOUBLE_ARROW","=>",794],["T_WHITESPACE"," ",794],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) default null'",794],["T_WHITESPACE","\n",794],")",";",["T_WHITESPACE","\n\n",795],["T_FOREACH","foreach",797],["T_WHITESPACE"," ",797],"(",["T_VARIABLE","$entityToFlat",797],["T_WHITESPACE"," ",797],["T_AS","as",797],["T_WHITESPACE"," ",797],["T_VARIABLE","$entityCode",797],["T_WHITESPACE"," ",797],["T_DOUBLE_ARROW","=>",797],["T_WHITESPACE"," ",797],["T_VARIABLE","$flags",797],")",["T_WHITESPACE"," ",797],"{",["T_WHITESPACE","\n    ",797],["T_VARIABLE","$flatTablePrefix",798],["T_WHITESPACE"," ",798],"=",["T_WHITESPACE"," ",798],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_'",798],["T_WHITESPACE"," ",798],".",["T_WHITESPACE"," ",798],["T_VARIABLE","$entityCode",798],";",["T_WHITESPACE","\n    ",798],["T_VARIABLE","$flatFields",799],["T_WHITESPACE"," ",799],"=",["T_WHITESPACE"," ",799],["T_VARIABLE","$installer",799],["T_OBJECT_OPERATOR","->",799],["T_STRING","getConnection",799],"(",")",["T_OBJECT_OPERATOR","->",799],["T_STRING","fetchPairs",799],"(",["T_WHITESPACE","\n        ",799],["T_CONSTANT_ENCAPSED_STRING","'DESCRIBE '",800],["T_WHITESPACE"," ",800],".",["T_WHITESPACE"," ",800],["T_VARIABLE","$installer",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","getTable",800],"(",["T_VARIABLE","$flatTablePrefix",800],")",["T_WHITESPACE","\n    ",800],")",";",["T_WHITESPACE","\n\n    ",801],["T_IF","if",803],["T_WHITESPACE"," ",803],"(","!",["T_EMPTY","empty",803],"(",["T_VARIABLE","$flags",803],"[",["T_CONSTANT_ENCAPSED_STRING","'flat'",803],"]",")",")",["T_WHITESPACE"," ",803],"{",["T_WHITESPACE","\n        ",803],["T_VARIABLE","$entityTable",804],["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_VARIABLE","$installer",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","getTable",804],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_'",804],["T_WHITESPACE"," ",804],".",["T_WHITESPACE"," ",804],["T_VARIABLE","$entityCode",804],")",";",["T_WHITESPACE","\n    ",804],"}",["T_WHITESPACE"," ",805],["T_ELSE","else",805],["T_WHITESPACE"," ",805],"{",["T_WHITESPACE","\n        ",805],["T_VARIABLE","$entityTable",806],["T_WHITESPACE"," ",806],"=",["T_WHITESPACE"," ",806],["T_VARIABLE","$this",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","getTable",806],"(",["T_VARIABLE","$entityCode",806],["T_WHITESPACE"," ",806],["T_IS_EQUAL","==",806],["T_WHITESPACE"," ",806],["T_CONSTANT_ENCAPSED_STRING","'order'",806],["T_WHITESPACE"," ",806],"?",["T_WHITESPACE"," ",806],["T_CONSTANT_ENCAPSED_STRING","'sales_order'",806],["T_WHITESPACE"," ",806],":",["T_WHITESPACE"," ",806],["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity'",806],")",";",["T_WHITESPACE","\n        ",806],["T_VARIABLE","$firstAttribute",807],["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_STRING","current",807],"(",["T_VARIABLE","$attributes",807],"[",["T_VARIABLE","$entityCode",807],"]",")",";",["T_WHITESPACE","\n        ",807],["T_VARIABLE","$entityTypeId",808],["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_VARIABLE","$firstAttribute",808],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",808],"]",";",["T_WHITESPACE","\n    ",808],"}",["T_WHITESPACE","\n\n    ",809],["T_VARIABLE","$entityFields",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$installer",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","getConnection",811],"(",")",["T_OBJECT_OPERATOR","->",811],["T_STRING","fetchPairs",811],"(",["T_WHITESPACE","\n        ",811],["T_CONSTANT_ENCAPSED_STRING","'DESCRIBE '",812],["T_WHITESPACE"," ",812],".",["T_WHITESPACE"," ",812],["T_VARIABLE","$entityTable",812],["T_WHITESPACE","\n    ",812],")",";",["T_WHITESPACE","\n\n    ",813],["T_VARIABLE","$entityIndex",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_VARIABLE","$installer",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","getConnection",815],"(",")",["T_OBJECT_OPERATOR","->",815],["T_STRING","getIndexList",815],"(",["T_VARIABLE","$entityTable",815],")",";",["T_WHITESPACE","\n    ",815],["T_VARIABLE","$entityFieldInIndex",816],["T_WHITESPACE"," ",816],"=",["T_WHITESPACE"," ",816],["T_ARRAY","array",816],"(",")",";",["T_WHITESPACE","\n\n    ",816],["T_COMMENT","\/\/ Create list of entity fields in index to not loose them.\n",818],["T_WHITESPACE","    ",819],["T_FOREACH","foreach",819],["T_WHITESPACE"," ",819],"(",["T_VARIABLE","$entityIndex",819],["T_WHITESPACE"," ",819],["T_AS","as",819],["T_WHITESPACE"," ",819],["T_VARIABLE","$name",819],["T_WHITESPACE"," ",819],["T_DOUBLE_ARROW","=>",819],["T_WHITESPACE"," ",819],["T_VARIABLE","$info",819],")",["T_WHITESPACE"," ",819],"{",["T_WHITESPACE","\n        ",819],["T_VARIABLE","$entityFieldInIndex",820],["T_WHITESPACE"," ",820],["T_PLUS_EQUAL","+=",820],["T_WHITESPACE"," ",820],["T_STRING","array_combine",820],"(",["T_VARIABLE","$info",820],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",820],"]",",",["T_WHITESPACE"," ",820],["T_STRING","array_fill",820],"(",["T_LNUMBER","0",820],",",["T_WHITESPACE"," ",820],["T_STRING","count",820],"(",["T_VARIABLE","$info",820],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",820],"]",")",",",["T_WHITESPACE"," ",820],["T_VARIABLE","$name",820],")",")",";",["T_WHITESPACE","\n    ",820],"}",["T_WHITESPACE","\n\n    ",821],["T_COMMENT","\/\/ Copy all fields from entity tables\n",823],["T_WHITESPACE","    ",824],["T_VARIABLE","$addIndex",824],["T_WHITESPACE"," ",824],"=",["T_WHITESPACE"," ",824],["T_ARRAY","array",824],"(",")",";",["T_WHITESPACE","\n\n    ",824],["T_FOREACH","foreach",826],["T_WHITESPACE"," ",826],"(",["T_VARIABLE","$entityFields",826],["T_WHITESPACE"," ",826],["T_AS","as",826],["T_WHITESPACE"," ",826],["T_VARIABLE","$code",826],["T_WHITESPACE"," ",826],["T_DOUBLE_ARROW","=>",826],["T_WHITESPACE"," ",826],["T_VARIABLE","$definition",826],")",["T_WHITESPACE"," ",826],"{",["T_WHITESPACE","\n        ",826],["T_IF","if",827],["T_WHITESPACE"," ",827],"(","!",["T_ISSET","isset",827],"(",["T_VARIABLE","$flatFields",827],"[",["T_VARIABLE","$code",827],"]",")",["T_WHITESPACE"," ",827],["T_BOOLEAN_AND","&&",827],["T_WHITESPACE","\n            ",827],"!",["T_STRING","in_array",828],"(",["T_VARIABLE","$code",828],",",["T_WHITESPACE"," ",828],["T_VARIABLE","$excludeAttributes",828],"[",["T_CONSTANT_ENCAPSED_STRING","'all'",828],"]",")",["T_WHITESPACE"," ",828],["T_BOOLEAN_AND","&&",828],["T_WHITESPACE","\n            ",828],"(","!",["T_ISSET","isset",829],"(",["T_VARIABLE","$excludeAttributes",829],"[",["T_VARIABLE","$entityCode",829],"]",")",["T_WHITESPACE"," ",829],["T_BOOLEAN_OR","||",829],["T_WHITESPACE","\n                ",829],"!",["T_STRING","in_array",830],"(",["T_VARIABLE","$code",830],",",["T_WHITESPACE"," ",830],["T_VARIABLE","$excludeAttributes",830],"[",["T_VARIABLE","$entityCode",830],"]",")",")",")",["T_WHITESPACE"," ",830],"{",["T_WHITESPACE","\n\n            ",830],["T_VARIABLE","$installer",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","getConnection",832],"(",")",["T_OBJECT_OPERATOR","->",832],["T_STRING","addColumn",832],"(",["T_WHITESPACE","\n                ",832],["T_VARIABLE","$installer",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","getTable",833],"(",["T_VARIABLE","$flatTablePrefix",833],")",",",["T_WHITESPACE","\n                ",833],["T_VARIABLE","$code",834],",",["T_WHITESPACE"," ",834],["T_VARIABLE","$definition",834],["T_WHITESPACE","\n            ",834],")",";",["T_WHITESPACE","\n\n            ",835],["T_IF","if",837],["T_WHITESPACE"," ",837],"(",["T_ISSET","isset",837],"(",["T_VARIABLE","$entityFieldInIndex",837],"[",["T_VARIABLE","$code",837],"]",")",")",["T_WHITESPACE"," ",837],"{",["T_WHITESPACE"," ",837],["T_COMMENT","\/\/ Add entity table indexes with custom fields\n",837],["T_WHITESPACE","                ",838],["T_VARIABLE","$addIndex",838],"[","]",["T_WHITESPACE"," ",838],"=",["T_WHITESPACE"," ",838],["T_VARIABLE","$entityFieldInIndex",838],"[",["T_VARIABLE","$code",838],"]",";",["T_WHITESPACE","\n            ",838],"}",["T_WHITESPACE","\n\n            ",839],["T_VARIABLE","$flatFields",841],"[",["T_VARIABLE","$code",841],"]",["T_WHITESPACE"," ",841],"=",["T_WHITESPACE"," ",841],["T_VARIABLE","$definition",841],";",["T_WHITESPACE","\n        ",841],"}",["T_WHITESPACE","\n    ",842],"}",["T_WHITESPACE","\n\n    ",843],["T_FOREACH","foreach",845],["T_WHITESPACE"," ",845],"(",["T_VARIABLE","$addIndex",845],["T_WHITESPACE"," ",845],["T_AS","as",845],["T_WHITESPACE"," ",845],["T_VARIABLE","$indexName",845],")",["T_WHITESPACE"," ",845],"{",["T_WHITESPACE"," ",845],["T_COMMENT","\/\/ Adding indexes to not loose them in customizations\n",845],["T_WHITESPACE","        ",846],["T_VARIABLE","$fields",846],["T_WHITESPACE"," ",846],"=",["T_WHITESPACE"," ",846],["T_STRING","array_intersect",846],"(",["T_VARIABLE","$entityIndex",846],"[",["T_VARIABLE","$indexName",846],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",846],"]",",",["T_WHITESPACE"," ",846],["T_STRING","array_keys",846],"(",["T_VARIABLE","$flatFields",846],")",")",";",["T_WHITESPACE","\n        ",846],["T_VARIABLE","$installer",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","getConnection",847],"(",")",["T_OBJECT_OPERATOR","->",847],["T_STRING","addKey",847],"(",["T_WHITESPACE","\n            ",847],["T_VARIABLE","$installer",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","getTable",848],"(",["T_VARIABLE","$flatTablePrefix",848],")",",",["T_WHITESPACE","\n            ",848],["T_VARIABLE","$indexName",849],",",["T_WHITESPACE","\n            ",849],["T_VARIABLE","$fields",850],",",["T_WHITESPACE","\n            ",850],["T_VARIABLE","$entityIndex",851],"[",["T_VARIABLE","$indexName",851],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",851],"]",["T_WHITESPACE","\n        ",851],")",";",["T_WHITESPACE","\n    ",852],"}",["T_WHITESPACE","\n\n    ",853],["T_VARIABLE","$attributesByTable",855],["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],["T_ARRAY","array",855],"(",")",";",["T_WHITESPACE","\n\n    ",855],["T_IF","if",857],["T_WHITESPACE"," ",857],"(",["T_EMPTY","empty",857],"(",["T_VARIABLE","$flags",857],"[",["T_CONSTANT_ENCAPSED_STRING","'flat'",857],"]",")",["T_WHITESPACE"," ",857],["T_BOOLEAN_AND","&&",857],["T_WHITESPACE"," ",857],["T_ISSET","isset",857],"(",["T_VARIABLE","$attributes",857],"[",["T_VARIABLE","$entityCode",857],"]",")",")",["T_WHITESPACE"," ",857],"{",["T_WHITESPACE","\n        ",857],["T_COMMENT","\/\/ If our table is not flat we need to add field from attributes too\n",858],["T_WHITESPACE","        ",859],["T_FOREACH","foreach",859],["T_WHITESPACE"," ",859],"(",["T_VARIABLE","$attributes",859],"[",["T_VARIABLE","$entityCode",859],"]",["T_WHITESPACE"," ",859],["T_AS","as",859],["T_WHITESPACE"," ",859],["T_VARIABLE","$attributeCode",859],["T_WHITESPACE"," ",859],["T_DOUBLE_ARROW","=>",859],["T_WHITESPACE"," ",859],["T_VARIABLE","$attribute",859],")",["T_WHITESPACE"," ",859],"{",["T_WHITESPACE","\n            ",859],["T_IF","if",860],["T_WHITESPACE"," ",860],"(",["T_VARIABLE","$attribute",860],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",860],"]",["T_WHITESPACE"," ",860],["T_IS_EQUAL","==",860],["T_WHITESPACE"," ",860],["T_CONSTANT_ENCAPSED_STRING","'static'",860],")",["T_WHITESPACE"," ",860],"{",["T_WHITESPACE","\n                ",860],["T_CONTINUE","continue",861],";",["T_WHITESPACE","\n            ",861],"}",["T_WHITESPACE","\n\n            ",862],["T_IF","if",864],["T_WHITESPACE"," ",864],"(","!",["T_ISSET","isset",864],"(",["T_VARIABLE","$flatFields",864],"[",["T_VARIABLE","$attributeCode",864],"]",")",["T_WHITESPACE"," ",864],["T_BOOLEAN_AND","&&",864],["T_WHITESPACE","\n                ",864],["T_ISSET","isset",865],"(",["T_VARIABLE","$definitions",865],"[",["T_VARIABLE","$attribute",865],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",865],"]","]",")",["T_WHITESPACE"," ",865],["T_BOOLEAN_AND","&&",865],["T_WHITESPACE","\n                ",865],"!",["T_STRING","in_array",866],"(",["T_VARIABLE","$attributeCode",866],",",["T_WHITESPACE"," ",866],["T_VARIABLE","$excludeAttributes",866],"[",["T_CONSTANT_ENCAPSED_STRING","'all'",866],"]",")",["T_WHITESPACE"," ",866],["T_BOOLEAN_AND","&&",866],["T_WHITESPACE","\n                ",866],"(","!",["T_ISSET","isset",867],"(",["T_VARIABLE","$excludeAttributes",867],"[",["T_VARIABLE","$entityCode",867],"]",")",["T_WHITESPACE"," ",867],["T_BOOLEAN_OR","||",867],["T_WHITESPACE","\n                ",867],"!",["T_STRING","in_array",868],"(",["T_VARIABLE","$attributeCode",868],",",["T_WHITESPACE"," ",868],["T_VARIABLE","$excludeAttributes",868],"[",["T_VARIABLE","$entityCode",868],"]",")",")",")",["T_WHITESPACE"," ",868],"{",["T_WHITESPACE","\n\n                ",868],["T_VARIABLE","$installer",870],["T_OBJECT_OPERATOR","->",870],["T_STRING","getConnection",870],"(",")",["T_OBJECT_OPERATOR","->",870],["T_STRING","addColumn",870],"(",["T_WHITESPACE","\n                    ",870],["T_VARIABLE","$installer",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","getTable",871],"(",["T_VARIABLE","$flatTablePrefix",871],")",",",["T_WHITESPACE","\n                    ",871],["T_VARIABLE","$attributeCode",872],",",["T_WHITESPACE"," ",872],["T_VARIABLE","$definitions",872],"[",["T_VARIABLE","$attribute",872],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",872],"]","]",["T_WHITESPACE","\n                ",872],")",";",["T_WHITESPACE","\n\n\n                ",873],["T_VARIABLE","$flatFields",876],"[",["T_VARIABLE","$attributeCode",876],"]",["T_WHITESPACE"," ",876],"=",["T_WHITESPACE"," ",876],["T_VARIABLE","$definitions",876],"[",["T_VARIABLE","$attribute",876],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",876],"]","]",";",["T_WHITESPACE","\n            ",876],"}",["T_WHITESPACE","\n\n            ",877],["T_COMMENT","\/\/ Collect data for fast access on update\n",879],["T_WHITESPACE","            ",880],["T_VARIABLE","$attributesByTable",880],"[",["T_VARIABLE","$entityTable",880],["T_WHITESPACE"," ",880],".",["T_WHITESPACE"," ",880],["T_CONSTANT_ENCAPSED_STRING","'_'",880],["T_WHITESPACE"," ",880],".",["T_WHITESPACE"," ",880],["T_VARIABLE","$attribute",880],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",880],"]","]","[","]",["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_VARIABLE","$attribute",880],";",["T_WHITESPACE","\n        ",880],"}",["T_WHITESPACE","\n    ",881],"}",["T_WHITESPACE","\n\n    ",882],["T_COMMENT","\/\/ Create list of keys inserted from base entity table\n",884],["T_WHITESPACE","    ",885],["T_VARIABLE","$keys",885],["T_WHITESPACE"," ",885],"=",["T_WHITESPACE"," ",885],["T_STRING","array_keys",885],"(",["T_STRING","array_intersect_key",885],"(",["T_VARIABLE","$entityFields",885],",",["T_WHITESPACE"," ",885],["T_VARIABLE","$flatFields",885],")",")",";",["T_WHITESPACE","\n\n    ",885],["T_VARIABLE","$fields",887],["T_WHITESPACE"," ",887],"=",["T_WHITESPACE"," ",887],["T_STRING","array_combine",887],"(",["T_VARIABLE","$keys",887],",",["T_WHITESPACE"," ",887],["T_VARIABLE","$keys",887],")",";",["T_WHITESPACE","\n\n    ",887],["T_IF","if",889],["T_WHITESPACE"," ",889],"(",["T_VARIABLE","$entityTable",889],["T_WHITESPACE"," ",889],["T_IS_NOT_IDENTICAL","!==",889],["T_WHITESPACE"," ",889],["T_VARIABLE","$installer",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","getTable",889],"(",["T_VARIABLE","$flatTablePrefix",889],")",")",["T_WHITESPACE"," ",889],"{",["T_WHITESPACE","\n        ",889],["T_VARIABLE","$select",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","reset",890],"(",")",["T_WHITESPACE","\n            ",890],["T_OBJECT_OPERATOR","->",891],["T_STRING","from",891],"(",["T_ARRAY","array",891],"(",["T_CONSTANT_ENCAPSED_STRING","'e'",891],["T_WHITESPACE"," ",891],["T_DOUBLE_ARROW","=>",891],["T_WHITESPACE"," ",891],["T_VARIABLE","$entityTable",891],")",",",["T_WHITESPACE"," ",891],["T_VARIABLE","$fields",891],")",";",["T_WHITESPACE","\n\n        ",891],["T_VARIABLE","$select",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","where",893],"(",["T_CONSTANT_ENCAPSED_STRING","'e.entity_type_id = ?'",893],",",["T_WHITESPACE"," ",893],["T_VARIABLE","$entityTypeId",893],")",";",["T_WHITESPACE","\n\n\n        ",893],["T_VARIABLE","$sql",896],["T_WHITESPACE"," ",896],"=",["T_WHITESPACE"," ",896],["T_VARIABLE","$select",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","insertFromSelect",896],"(",["T_VARIABLE","$installer",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","getTable",896],"(",["T_VARIABLE","$flatTablePrefix",896],")",",",["T_WHITESPACE"," ",896],["T_STRING","array_keys",896],"(",["T_VARIABLE","$fields",896],")",",",["T_WHITESPACE"," ",896],["T_STRING","false",896],")",["T_WHITESPACE"," ",896],".",["T_WHITESPACE"," ",896],["T_CONSTANT_ENCAPSED_STRING","\"; \\n\"",896],";",["T_WHITESPACE","\n\n        ",896],["T_COMMENT","\/\/ Update base record with eav attributes values\n",898],["T_WHITESPACE","        ",899],["T_FOREACH","foreach",899],["T_WHITESPACE"," ",899],"(",["T_VARIABLE","$attributesByTable",899],["T_WHITESPACE"," ",899],["T_AS","as",899],["T_WHITESPACE"," ",899],["T_VARIABLE","$table",899],["T_WHITESPACE"," ",899],["T_DOUBLE_ARROW","=>",899],["T_WHITESPACE"," ",899],["T_VARIABLE","$updateAttributes",899],")",["T_WHITESPACE"," ",899],"{",["T_WHITESPACE","\n            ",899],["T_VARIABLE","$select",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","reset",900],"(",")",";",["T_WHITESPACE","\n            ",900],["T_VARIABLE","$joinCount",901],["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_LNUMBER","0",901],";",["T_WHITESPACE","\n            ",901],["T_FOREACH","foreach",902],["T_WHITESPACE"," ",902],"(",["T_VARIABLE","$updateAttributes",902],["T_WHITESPACE"," ",902],["T_AS","as",902],["T_WHITESPACE"," ",902],["T_VARIABLE","$attribute",902],")",["T_WHITESPACE"," ",902],"{",["T_WHITESPACE","\n                ",902],["T_IF","if",903],["T_WHITESPACE"," ",903],"(",["T_ISSET","isset",903],"(",["T_VARIABLE","$entityFields",903],"[",["T_VARIABLE","$attribute",903],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",903],"]","]",")",["T_WHITESPACE"," ",903],["T_BOOLEAN_OR","||",903],["T_WHITESPACE"," ",903],"!",["T_ISSET","isset",903],"(",["T_VARIABLE","$flatFields",903],"[",["T_VARIABLE","$attribute",903],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",903],"]","]",")",")",["T_WHITESPACE"," ",903],"{",["T_WHITESPACE","\n                    ",903],["T_CONTINUE","continue",904],";",["T_WHITESPACE","\n                ",904],"}",["T_WHITESPACE","\n\n                ",905],["T_VARIABLE","$alias",907],["T_WHITESPACE"," ",907],"=",["T_WHITESPACE"," ",907],["T_CONSTANT_ENCAPSED_STRING","'_table_'",907],["T_WHITESPACE"," ",907],".",["T_WHITESPACE"," ",907],["T_VARIABLE","$attribute",907],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",907],"]",";",["T_WHITESPACE","\n                ",907],["T_VARIABLE","$select",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","joinLeft",908],"(",["T_WHITESPACE","\n                    ",908],["T_ARRAY","array",909],"(",["T_VARIABLE","$alias",909],["T_DOUBLE_ARROW","=>",909],["T_VARIABLE","$table",909],")",",",["T_WHITESPACE","\n                    ",909],["T_VARIABLE","$alias",910],["T_WHITESPACE"," ",910],".",["T_WHITESPACE"," ",910],["T_CONSTANT_ENCAPSED_STRING","'.entity_id = e.entity_id AND '",910],["T_WHITESPACE"," ",910],".",["T_WHITESPACE"," ",910],["T_VARIABLE","$alias",910],["T_WHITESPACE"," ",910],".",["T_WHITESPACE"," ",910],["T_CONSTANT_ENCAPSED_STRING","'.attribute_id = '",910],["T_WHITESPACE"," ",910],".",["T_WHITESPACE"," ",910],["T_VARIABLE","$attribute",910],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",910],"]",",",["T_WHITESPACE","\n                    ",910],["T_ARRAY","array",911],"(",["T_VARIABLE","$attribute",911],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",911],"]",["T_WHITESPACE"," ",911],["T_DOUBLE_ARROW","=>",911],["T_WHITESPACE"," ",911],["T_CONSTANT_ENCAPSED_STRING","'value'",911],")",["T_WHITESPACE","\n                ",911],")",";",["T_WHITESPACE","\n                ",912],["T_VARIABLE","$joinCount",913],["T_WHITESPACE"," ",913],["T_INC","++",913],";",["T_WHITESPACE","\n\n                ",913],["T_IF","if",915],["T_WHITESPACE"," ",915],"(",["T_VARIABLE","$joinCount",915],["T_WHITESPACE"," ",915],">",["T_WHITESPACE"," ",915],["T_LNUMBER","60",915],")",["T_WHITESPACE"," ",915],"{",["T_WHITESPACE"," ",915],["T_COMMENT","\/\/ If we have too much joins for mysql\n",915],["T_WHITESPACE","                    ",916],["T_VARIABLE","$joinCount",916],["T_WHITESPACE"," ",916],"=",["T_WHITESPACE"," ",916],["T_LNUMBER","0",916],";",["T_WHITESPACE","\n                    ",916],["T_VARIABLE","$sql",917],["T_WHITESPACE"," ",917],["T_CONCAT_EQUAL",".=",917],["T_WHITESPACE"," ",917],["T_VARIABLE","$select",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","crossUpdateFromSelect",917],"(",["T_ARRAY","array",917],"(",["T_CONSTANT_ENCAPSED_STRING","'e'",917],["T_DOUBLE_ARROW","=>",917],["T_VARIABLE","$installer",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","getTable",917],"(",["T_VARIABLE","$flatTablePrefix",917],")",")",")",["T_WHITESPACE","  ",917],".",["T_WHITESPACE"," ",917],["T_CONSTANT_ENCAPSED_STRING","\"; \\n\"",917],";",["T_WHITESPACE","\n                    ",917],["T_VARIABLE","$select",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","reset",918],"(",")",";",["T_WHITESPACE","\n                ",918],"}",["T_WHITESPACE","\n            ",919],"}",["T_WHITESPACE","\n\n            ",920],["T_IF","if",922],["T_WHITESPACE"," ",922],"(",["T_VARIABLE","$joinCount",922],["T_WHITESPACE"," ",922],">",["T_WHITESPACE"," ",922],["T_LNUMBER","0",922],")",["T_WHITESPACE"," ",922],"{",["T_WHITESPACE","\n                ",922],["T_VARIABLE","$sql",923],["T_WHITESPACE"," ",923],["T_CONCAT_EQUAL",".=",923],["T_WHITESPACE"," ",923],["T_VARIABLE","$select",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","crossUpdateFromSelect",923],"(",["T_ARRAY","array",923],"(",["T_CONSTANT_ENCAPSED_STRING","'e'",923],["T_DOUBLE_ARROW","=>",923],["T_VARIABLE","$installer",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","getTable",923],"(",["T_VARIABLE","$flatTablePrefix",923],")",")",")",["T_WHITESPACE","  ",923],".",["T_WHITESPACE"," ",923],["T_CONSTANT_ENCAPSED_STRING","\"; \\n\"",923],";",["T_WHITESPACE","\n            ",923],"}",["T_WHITESPACE","\n        ",924],"}",["T_WHITESPACE","\n\n    ",925],"}",["T_WHITESPACE"," ",927],["T_ELSE","else",927],["T_WHITESPACE","  ",927],"{",["T_WHITESPACE","\n        ",927],["T_VARIABLE","$sql",928],["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],["T_CONSTANT_ENCAPSED_STRING","''",928],";",["T_WHITESPACE","\n    ",928],"}",["T_WHITESPACE","\n\n    ",929],["T_IF","if",931],["T_WHITESPACE"," ",931],"(","!",["T_EMPTY","empty",931],"(",["T_VARIABLE","$flags",931],"[",["T_CONSTANT_ENCAPSED_STRING","'grid'",931],"]",")",")",["T_WHITESPACE"," ",931],"{",["T_WHITESPACE"," ",931],["T_COMMENT","\/\/ Filling grid table with default base record\n",931],["T_WHITESPACE","        ",932],["T_VARIABLE","$gridFields",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_STRING","array_keys",932],"(",["T_WHITESPACE","\n            ",932],["T_STRING","array_intersect_key",933],"(",["T_WHITESPACE","\n                ",933],["T_VARIABLE","$installer",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","getConnection",934],"(",")",["T_OBJECT_OPERATOR","->",934],["T_STRING","describeTable",934],"(",["T_WHITESPACE","\n                    ",934],["T_VARIABLE","$installer",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","getTable",935],"(",["T_VARIABLE","$flatTablePrefix",935],["T_WHITESPACE"," ",935],".",["T_WHITESPACE"," ",935],["T_CONSTANT_ENCAPSED_STRING","'_grid'",935],")",["T_WHITESPACE","\n                ",935],")",",",["T_WHITESPACE","\n                ",936],["T_VARIABLE","$flatFields",937],["T_WHITESPACE","\n            ",937],")",["T_WHITESPACE","\n        ",938],")",";",["T_WHITESPACE","\n\n        ",939],["T_VARIABLE","$select",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","reset",941],"(",")",";",["T_WHITESPACE","\n        ",941],["T_VARIABLE","$select",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","from",942],"(",["T_VARIABLE","$installer",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","getTable",942],"(",["T_VARIABLE","$flatTablePrefix",942],")",",",["T_WHITESPACE"," ",942],["T_VARIABLE","$gridFields",942],")",";",["T_WHITESPACE","\n        ",942],["T_VARIABLE","$sql",943],["T_WHITESPACE"," ",943],["T_CONCAT_EQUAL",".=",943],["T_WHITESPACE"," ",943],["T_VARIABLE","$select",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","insertFromSelect",943],"(",["T_VARIABLE","$installer",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","getTable",943],"(",["T_VARIABLE","$flatTablePrefix",943],["T_WHITESPACE"," ",943],".",["T_WHITESPACE"," ",943],["T_CONSTANT_ENCAPSED_STRING","'_grid'",943],")",",",["T_WHITESPACE"," ",943],["T_VARIABLE","$gridFields",943],",",["T_WHITESPACE"," ",943],["T_STRING","false",943],")",";",["T_WHITESPACE","\n    ",943],"}",["T_WHITESPACE","\n\n    ",944],["T_VARIABLE","$installer",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","run",946],"(",["T_VARIABLE","$sql",946],")",";",["T_WHITESPACE","\n",946],"}",["T_WHITESPACE","\n\n",947],["T_COMMENT","\/\/ Insert virtual grid fields (shipping_name, billing_name, etc)\n",949],["T_WHITESPACE","\n",950],["T_COMMENT","\/\/ Order Grid\n",951],["T_VARIABLE","$select",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","reset",952],"(",")",";",["T_WHITESPACE","\n",952],["T_VARIABLE","$select",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","join",953],"(",["T_WHITESPACE","\n    ",953],["T_ARRAY","array",954],"(",["T_CONSTANT_ENCAPSED_STRING","'order'",954],["T_WHITESPACE"," ",954],["T_DOUBLE_ARROW","=>",954],["T_WHITESPACE"," ",954],["T_VARIABLE","$installer",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","getTable",954],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",954],")",")",",",["T_WHITESPACE","\n    ",954],["T_CONSTANT_ENCAPSED_STRING","'order.entity_id = e.entity_id'",955],",",["T_WHITESPACE","\n    ",955],["T_ARRAY","array",956],"(",")",["T_WHITESPACE","\n",956],")",";",["T_WHITESPACE","\n\n",957],["T_VARIABLE","$select",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","joinLeft",959],"(",["T_WHITESPACE","\n    ",959],["T_ARRAY","array",960],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",960],["T_WHITESPACE"," ",960],["T_DOUBLE_ARROW","=>",960],["T_WHITESPACE"," ",960],["T_VARIABLE","$installer",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","getTable",960],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_address'",960],")",")",",",["T_WHITESPACE","\n    ",960],["T_CONSTANT_ENCAPSED_STRING","'order.shipping_address_id = shipping_address.entity_id'",961],",",["T_WHITESPACE","\n    ",961],["T_ARRAY","array",962],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_name'",962],["T_WHITESPACE"," ",962],["T_DOUBLE_ARROW","=>",962],["T_WHITESPACE"," ",962],["T_CONSTANT_ENCAPSED_STRING","'IF(shipping_address.entity_id IS NOT NULL, CONCAT(shipping_address.firstname, \\' \\', shipping_address.lastname), NULL)'",962],")",["T_WHITESPACE","\n",962],")",";",["T_WHITESPACE","\n\n",963],["T_VARIABLE","$select",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","joinLeft",965],"(",["T_WHITESPACE","\n    ",965],["T_ARRAY","array",966],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_address'",966],["T_WHITESPACE"," ",966],["T_DOUBLE_ARROW","=>",966],["T_WHITESPACE"," ",966],["T_VARIABLE","$installer",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","getTable",966],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_address'",966],")",")",",",["T_WHITESPACE","\n    ",966],["T_CONSTANT_ENCAPSED_STRING","'order.billing_address_id = billing_address.entity_id'",967],",",["T_WHITESPACE","\n    ",967],["T_ARRAY","array",968],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_name'",968],["T_WHITESPACE"," ",968],["T_DOUBLE_ARROW","=>",968],["T_WHITESPACE"," ",968],["T_CONSTANT_ENCAPSED_STRING","'IF(billing_address.entity_id IS NOT NULL, CONCAT(billing_address.firstname, \\' \\', billing_address.lastname), NULL)'",968],")",["T_WHITESPACE","\n",968],")",";",["T_WHITESPACE","\n\n",969],["T_VARIABLE","$installer",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","run",971],"(",["T_VARIABLE","$select",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","crossUpdateFromSelect",971],"(",["T_ARRAY","array",971],"(",["T_CONSTANT_ENCAPSED_STRING","'e'",971],["T_DOUBLE_ARROW","=>",971],["T_VARIABLE","$installer",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","getTable",971],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_grid'",971],")",")",")",")",";",["T_WHITESPACE","\n\n",971],["T_COMMENT","\/\/ Invoice and Creditmemo grid\n",973],["T_VARIABLE","$select",974],["T_OBJECT_OPERATOR","->",974],["T_STRING","reset",974],"(",")",";",["T_WHITESPACE","\n",974],["T_VARIABLE","$select",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","join",975],"(",["T_WHITESPACE","\n    ",975],["T_ARRAY","array",976],"(",["T_CONSTANT_ENCAPSED_STRING","'order'",976],["T_WHITESPACE"," ",976],["T_DOUBLE_ARROW","=>",976],["T_WHITESPACE"," ",976],["T_VARIABLE","$installer",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","getTable",976],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",976],")",")",",",["T_WHITESPACE","\n    ",976],["T_CONSTANT_ENCAPSED_STRING","'order.entity_id = e.order_id'",977],",",["T_WHITESPACE","\n    ",977],["T_ARRAY","array",978],"(",["T_CONSTANT_ENCAPSED_STRING","'order_increment_id'",978],["T_WHITESPACE"," ",978],["T_DOUBLE_ARROW","=>",978],["T_WHITESPACE"," ",978],["T_CONSTANT_ENCAPSED_STRING","'increment_id'",978],",",["T_WHITESPACE"," ",978],["T_CONSTANT_ENCAPSED_STRING","'order_created_at'",978],["T_WHITESPACE"," ",978],["T_DOUBLE_ARROW","=>",978],["T_WHITESPACE"," ",978],["T_CONSTANT_ENCAPSED_STRING","'created_at'",978],")",["T_WHITESPACE","\n",978],")",";",["T_WHITESPACE","\n\n",979],["T_VARIABLE","$select",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","joinLeft",981],"(",["T_WHITESPACE","\n    ",981],["T_ARRAY","array",982],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_address'",982],["T_WHITESPACE"," ",982],["T_DOUBLE_ARROW","=>",982],["T_WHITESPACE"," ",982],["T_VARIABLE","$installer",982],["T_OBJECT_OPERATOR","->",982],["T_STRING","getTable",982],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_address'",982],")",")",",",["T_WHITESPACE","\n    ",982],["T_CONSTANT_ENCAPSED_STRING","'order.billing_address_id = billing_address.entity_id'",983],",",["T_WHITESPACE","\n    ",983],["T_ARRAY","array",984],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_name'",984],["T_WHITESPACE"," ",984],["T_DOUBLE_ARROW","=>",984],["T_WHITESPACE"," ",984],["T_CONSTANT_ENCAPSED_STRING","'IF(billing_address.entity_id IS NOT NULL, CONCAT(billing_address.firstname, \\' \\', billing_address.lastname), NULL)'",984],")",["T_WHITESPACE","\n",984],")",";",["T_WHITESPACE","\n\n",985],["T_VARIABLE","$installer",987],["T_OBJECT_OPERATOR","->",987],["T_STRING","run",987],"(",["T_VARIABLE","$select",987],["T_OBJECT_OPERATOR","->",987],["T_STRING","crossUpdateFromSelect",987],"(",["T_ARRAY","array",987],"(",["T_CONSTANT_ENCAPSED_STRING","'e'",987],["T_DOUBLE_ARROW","=>",987],["T_VARIABLE","$installer",987],["T_OBJECT_OPERATOR","->",987],["T_STRING","getTable",987],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo_grid'",987],")",")",")",")",";",["T_WHITESPACE","\n",987],["T_VARIABLE","$installer",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","run",988],"(",["T_VARIABLE","$select",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","crossUpdateFromSelect",988],"(",["T_ARRAY","array",988],"(",["T_CONSTANT_ENCAPSED_STRING","'e'",988],["T_DOUBLE_ARROW","=>",988],["T_VARIABLE","$installer",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","getTable",988],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice_grid'",988],")",")",")",")",";",["T_WHITESPACE","\n\n",988],["T_COMMENT","\/\/ Shipment grid\n",990],["T_VARIABLE","$select",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","reset",991],"(",")",";",["T_WHITESPACE","\n",991],["T_VARIABLE","$select",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","join",992],"(",["T_WHITESPACE","\n    ",992],["T_ARRAY","array",993],"(",["T_CONSTANT_ENCAPSED_STRING","'order'",993],["T_WHITESPACE"," ",993],["T_DOUBLE_ARROW","=>",993],["T_WHITESPACE"," ",993],["T_VARIABLE","$installer",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","getTable",993],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",993],")",")",",",["T_WHITESPACE","\n    ",993],["T_CONSTANT_ENCAPSED_STRING","'order.entity_id = e.order_id'",994],",",["T_WHITESPACE","\n    ",994],["T_ARRAY","array",995],"(",["T_CONSTANT_ENCAPSED_STRING","'order_increment_id'",995],["T_WHITESPACE"," ",995],["T_DOUBLE_ARROW","=>",995],["T_WHITESPACE"," ",995],["T_CONSTANT_ENCAPSED_STRING","'increment_id'",995],",",["T_WHITESPACE"," ",995],["T_CONSTANT_ENCAPSED_STRING","'order_created_at'",995],["T_WHITESPACE"," ",995],["T_DOUBLE_ARROW","=>",995],["T_WHITESPACE"," ",995],["T_CONSTANT_ENCAPSED_STRING","'created_at'",995],")",["T_WHITESPACE","\n",995],")",";",["T_WHITESPACE","\n\n",996],["T_VARIABLE","$select",998],["T_OBJECT_OPERATOR","->",998],["T_STRING","joinLeft",998],"(",["T_WHITESPACE","\n    ",998],["T_ARRAY","array",999],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",999],["T_WHITESPACE"," ",999],["T_DOUBLE_ARROW","=>",999],["T_WHITESPACE"," ",999],["T_VARIABLE","$installer",999],["T_OBJECT_OPERATOR","->",999],["T_STRING","getTable",999],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_address'",999],")",")",",",["T_WHITESPACE","\n    ",999],["T_CONSTANT_ENCAPSED_STRING","'order.shipping_address_id = shipping_address.entity_id'",1000],",",["T_WHITESPACE","\n    ",1000],["T_ARRAY","array",1001],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_name'",1001],["T_WHITESPACE"," ",1001],["T_DOUBLE_ARROW","=>",1001],["T_WHITESPACE"," ",1001],["T_CONSTANT_ENCAPSED_STRING","'IF(shipping_address.entity_id IS NOT NULL, CONCAT(shipping_address.firstname, \\' \\', shipping_address.lastname), NULL)'",1001],")",["T_WHITESPACE","\n",1001],")",";",["T_WHITESPACE","\n\n",1002],["T_VARIABLE","$installer",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","run",1004],"(",["T_VARIABLE","$select",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","crossUpdateFromSelect",1004],"(",["T_ARRAY","array",1004],"(",["T_CONSTANT_ENCAPSED_STRING","'e'",1004],["T_DOUBLE_ARROW","=>",1004],["T_VARIABLE","$installer",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","getTable",1004],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment_grid'",1004],")",")",")",")",";",["T_WHITESPACE","\n\n",1004],["T_VARIABLE","$constraints",1006],["T_WHITESPACE"," ",1006],"=",["T_WHITESPACE"," ",1006],["T_ARRAY","array",1006],"(",["T_WHITESPACE","\n    ",1006],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1007],["T_WHITESPACE"," ",1007],["T_DOUBLE_ARROW","=>",1007],["T_WHITESPACE"," ",1007],["T_ARRAY","array",1007],"(",["T_WHITESPACE","\n        ",1007],["T_CONSTANT_ENCAPSED_STRING","'customer'",1008],["T_WHITESPACE"," ",1008],["T_DOUBLE_ARROW","=>",1008],["T_WHITESPACE"," ",1008],["T_ARRAY","array",1008],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",1008],",",["T_WHITESPACE"," ",1008],["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",1008],",",["T_WHITESPACE"," ",1008],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1008],",",["T_WHITESPACE"," ",1008],["T_CONSTANT_ENCAPSED_STRING","'set null'",1008],")",",",["T_WHITESPACE","\n        ",1008],["T_CONSTANT_ENCAPSED_STRING","'store'",1009],["T_WHITESPACE"," ",1009],["T_DOUBLE_ARROW","=>",1009],["T_WHITESPACE"," ",1009],["T_ARRAY","array",1009],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1009],",",["T_WHITESPACE"," ",1009],["T_CONSTANT_ENCAPSED_STRING","'core_store'",1009],",",["T_WHITESPACE"," ",1009],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1009],",",["T_WHITESPACE"," ",1009],["T_CONSTANT_ENCAPSED_STRING","'set null'",1009],")",",",["T_WHITESPACE","\n    ",1009],")",",",["T_WHITESPACE","\n    ",1010],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_grid'",1011],["T_WHITESPACE"," ",1011],["T_DOUBLE_ARROW","=>",1011],["T_WHITESPACE"," ",1011],["T_ARRAY","array",1011],"(",["T_WHITESPACE","\n        ",1011],["T_CONSTANT_ENCAPSED_STRING","'parent'",1012],["T_WHITESPACE"," ",1012],["T_DOUBLE_ARROW","=>",1012],["T_WHITESPACE"," ",1012],["T_ARRAY","array",1012],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1012],",",["T_WHITESPACE"," ",1012],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1012],",",["T_WHITESPACE"," ",1012],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1012],")",",",["T_WHITESPACE","\n        ",1012],["T_CONSTANT_ENCAPSED_STRING","'customer'",1013],["T_WHITESPACE"," ",1013],["T_DOUBLE_ARROW","=>",1013],["T_WHITESPACE"," ",1013],["T_ARRAY","array",1013],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",1013],",",["T_WHITESPACE"," ",1013],["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",1013],",",["T_WHITESPACE"," ",1013],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1013],",",["T_WHITESPACE"," ",1013],["T_CONSTANT_ENCAPSED_STRING","'set null'",1013],")",",",["T_WHITESPACE","\n        ",1013],["T_CONSTANT_ENCAPSED_STRING","'store'",1014],["T_WHITESPACE"," ",1014],["T_DOUBLE_ARROW","=>",1014],["T_WHITESPACE"," ",1014],["T_ARRAY","array",1014],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1014],",",["T_WHITESPACE"," ",1014],["T_CONSTANT_ENCAPSED_STRING","'core_store'",1014],",",["T_WHITESPACE"," ",1014],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1014],",",["T_WHITESPACE"," ",1014],["T_CONSTANT_ENCAPSED_STRING","'set null'",1014],")",",",["T_WHITESPACE","\n    ",1014],")",",",["T_WHITESPACE","\n    ",1015],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_item'",1016],["T_WHITESPACE"," ",1016],["T_DOUBLE_ARROW","=>",1016],["T_WHITESPACE"," ",1016],["T_ARRAY","array",1016],"(",["T_WHITESPACE","\n        ",1016],["T_CONSTANT_ENCAPSED_STRING","'parent'",1017],["T_WHITESPACE"," ",1017],["T_DOUBLE_ARROW","=>",1017],["T_WHITESPACE"," ",1017],["T_ARRAY","array",1017],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1017],",",["T_WHITESPACE"," ",1017],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1017],",",["T_WHITESPACE"," ",1017],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1017],")",",",["T_WHITESPACE","\n        ",1017],["T_CONSTANT_ENCAPSED_STRING","'store'",1018],["T_WHITESPACE"," ",1018],["T_DOUBLE_ARROW","=>",1018],["T_WHITESPACE"," ",1018],["T_ARRAY","array",1018],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1018],",",["T_WHITESPACE"," ",1018],["T_CONSTANT_ENCAPSED_STRING","'core_store'",1018],",",["T_WHITESPACE"," ",1018],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1018],",",["T_WHITESPACE"," ",1018],["T_CONSTANT_ENCAPSED_STRING","'set null'",1018],")",["T_WHITESPACE","\n    ",1018],")",",",["T_WHITESPACE","\n    ",1019],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_address'",1020],["T_WHITESPACE"," ",1020],["T_DOUBLE_ARROW","=>",1020],["T_WHITESPACE"," ",1020],["T_ARRAY","array",1020],"(",["T_WHITESPACE","\n        ",1020],["T_CONSTANT_ENCAPSED_STRING","'parent'",1021],["T_WHITESPACE"," ",1021],["T_DOUBLE_ARROW","=>",1021],["T_WHITESPACE"," ",1021],["T_ARRAY","array",1021],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1021],",",["T_WHITESPACE"," ",1021],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1021],",",["T_WHITESPACE"," ",1021],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1021],")",",",["T_WHITESPACE","\n    ",1021],")",",",["T_WHITESPACE","\n    ",1022],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_payment'",1023],["T_WHITESPACE"," ",1023],["T_DOUBLE_ARROW","=>",1023],["T_WHITESPACE"," ",1023],["T_ARRAY","array",1023],"(",["T_WHITESPACE","\n        ",1023],["T_CONSTANT_ENCAPSED_STRING","'parent'",1024],["T_WHITESPACE"," ",1024],["T_DOUBLE_ARROW","=>",1024],["T_WHITESPACE"," ",1024],["T_ARRAY","array",1024],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1024],",",["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1024],",",["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1024],")",",",["T_WHITESPACE","\n    ",1024],")",",",["T_WHITESPACE","\n    ",1025],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_status_history'",1026],["T_WHITESPACE"," ",1026],["T_DOUBLE_ARROW","=>",1026],["T_WHITESPACE"," ",1026],["T_ARRAY","array",1026],"(",["T_WHITESPACE","\n        ",1026],["T_CONSTANT_ENCAPSED_STRING","'parent'",1027],["T_WHITESPACE"," ",1027],["T_DOUBLE_ARROW","=>",1027],["T_WHITESPACE"," ",1027],["T_ARRAY","array",1027],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1027],",",["T_WHITESPACE"," ",1027],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1027],",",["T_WHITESPACE"," ",1027],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1027],")",",",["T_WHITESPACE","\n    ",1027],")",",",["T_WHITESPACE","\n    ",1028],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment'",1029],["T_WHITESPACE"," ",1029],["T_DOUBLE_ARROW","=>",1029],["T_WHITESPACE"," ",1029],["T_ARRAY","array",1029],"(",["T_WHITESPACE","\n        ",1029],["T_CONSTANT_ENCAPSED_STRING","'parent'",1030],["T_WHITESPACE"," ",1030],["T_DOUBLE_ARROW","=>",1030],["T_WHITESPACE"," ",1030],["T_ARRAY","array",1030],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1030],",",["T_WHITESPACE"," ",1030],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1030],",",["T_WHITESPACE"," ",1030],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1030],")",",",["T_WHITESPACE","\n        ",1030],["T_CONSTANT_ENCAPSED_STRING","'store'",1031],["T_WHITESPACE"," ",1031],["T_DOUBLE_ARROW","=>",1031],["T_WHITESPACE"," ",1031],["T_ARRAY","array",1031],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1031],",",["T_WHITESPACE"," ",1031],["T_CONSTANT_ENCAPSED_STRING","'core_store'",1031],",",["T_WHITESPACE"," ",1031],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1031],",",["T_WHITESPACE"," ",1031],["T_CONSTANT_ENCAPSED_STRING","'set null'",1031],")",["T_WHITESPACE","\n    ",1031],")",",",["T_WHITESPACE","\n    ",1032],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment_grid'",1033],["T_WHITESPACE"," ",1033],["T_DOUBLE_ARROW","=>",1033],["T_WHITESPACE"," ",1033],["T_ARRAY","array",1033],"(",["T_WHITESPACE","\n        ",1033],["T_CONSTANT_ENCAPSED_STRING","'parent'",1034],["T_WHITESPACE"," ",1034],["T_DOUBLE_ARROW","=>",1034],["T_WHITESPACE"," ",1034],["T_ARRAY","array",1034],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1034],",",["T_WHITESPACE"," ",1034],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment'",1034],",",["T_WHITESPACE"," ",1034],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1034],")",",",["T_WHITESPACE","\n        ",1034],["T_CONSTANT_ENCAPSED_STRING","'store'",1035],["T_WHITESPACE"," ",1035],["T_DOUBLE_ARROW","=>",1035],["T_WHITESPACE"," ",1035],["T_ARRAY","array",1035],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1035],",",["T_WHITESPACE"," ",1035],["T_CONSTANT_ENCAPSED_STRING","'core_store'",1035],",",["T_WHITESPACE"," ",1035],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1035],",",["T_WHITESPACE"," ",1035],["T_CONSTANT_ENCAPSED_STRING","'set null'",1035],")",["T_WHITESPACE","\n    ",1035],")",",",["T_WHITESPACE","\n    ",1036],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment_track'",1037],["T_WHITESPACE"," ",1037],["T_DOUBLE_ARROW","=>",1037],["T_WHITESPACE"," ",1037],["T_ARRAY","array",1037],"(",["T_WHITESPACE","\n        ",1037],["T_CONSTANT_ENCAPSED_STRING","'parent'",1038],["T_WHITESPACE"," ",1038],["T_DOUBLE_ARROW","=>",1038],["T_WHITESPACE"," ",1038],["T_ARRAY","array",1038],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1038],",",["T_WHITESPACE"," ",1038],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment'",1038],",",["T_WHITESPACE"," ",1038],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1038],")",",",["T_WHITESPACE","\n    ",1038],")",",",["T_WHITESPACE","\n    ",1039],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment_item'",1040],["T_WHITESPACE"," ",1040],["T_DOUBLE_ARROW","=>",1040],["T_WHITESPACE"," ",1040],["T_ARRAY","array",1040],"(",["T_WHITESPACE","\n        ",1040],["T_CONSTANT_ENCAPSED_STRING","'parent'",1041],["T_WHITESPACE"," ",1041],["T_DOUBLE_ARROW","=>",1041],["T_WHITESPACE"," ",1041],["T_ARRAY","array",1041],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1041],",",["T_WHITESPACE"," ",1041],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment'",1041],",",["T_WHITESPACE"," ",1041],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1041],")",",",["T_WHITESPACE","\n    ",1041],")",",",["T_WHITESPACE","\n    ",1042],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment_comment'",1043],["T_WHITESPACE"," ",1043],["T_DOUBLE_ARROW","=>",1043],["T_WHITESPACE"," ",1043],["T_ARRAY","array",1043],"(",["T_WHITESPACE","\n        ",1043],["T_CONSTANT_ENCAPSED_STRING","'parent'",1044],["T_WHITESPACE"," ",1044],["T_DOUBLE_ARROW","=>",1044],["T_WHITESPACE"," ",1044],["T_ARRAY","array",1044],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1044],",",["T_WHITESPACE"," ",1044],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_shipment'",1044],",",["T_WHITESPACE"," ",1044],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1044],")",",",["T_WHITESPACE","\n    ",1044],")",",",["T_WHITESPACE","\n    ",1045],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice'",1046],["T_WHITESPACE"," ",1046],["T_DOUBLE_ARROW","=>",1046],["T_WHITESPACE"," ",1046],["T_ARRAY","array",1046],"(",["T_WHITESPACE","\n        ",1046],["T_CONSTANT_ENCAPSED_STRING","'parent'",1047],["T_WHITESPACE"," ",1047],["T_DOUBLE_ARROW","=>",1047],["T_WHITESPACE"," ",1047],["T_ARRAY","array",1047],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1047],",",["T_WHITESPACE"," ",1047],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1047],",",["T_WHITESPACE"," ",1047],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1047],")",",",["T_WHITESPACE","\n        ",1047],["T_CONSTANT_ENCAPSED_STRING","'store'",1048],["T_WHITESPACE"," ",1048],["T_DOUBLE_ARROW","=>",1048],["T_WHITESPACE"," ",1048],["T_ARRAY","array",1048],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1048],",",["T_WHITESPACE"," ",1048],["T_CONSTANT_ENCAPSED_STRING","'core_store'",1048],",",["T_WHITESPACE"," ",1048],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1048],",",["T_WHITESPACE"," ",1048],["T_CONSTANT_ENCAPSED_STRING","'set null'",1048],")",["T_WHITESPACE","\n    ",1048],")",",",["T_WHITESPACE","\n    ",1049],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice_grid'",1050],["T_WHITESPACE"," ",1050],["T_DOUBLE_ARROW","=>",1050],["T_WHITESPACE"," ",1050],["T_ARRAY","array",1050],"(",["T_WHITESPACE","\n        ",1050],["T_CONSTANT_ENCAPSED_STRING","'parent'",1051],["T_WHITESPACE"," ",1051],["T_DOUBLE_ARROW","=>",1051],["T_WHITESPACE"," ",1051],["T_ARRAY","array",1051],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1051],",",["T_WHITESPACE"," ",1051],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice'",1051],",",["T_WHITESPACE"," ",1051],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1051],")",",",["T_WHITESPACE","\n        ",1051],["T_CONSTANT_ENCAPSED_STRING","'store'",1052],["T_WHITESPACE"," ",1052],["T_DOUBLE_ARROW","=>",1052],["T_WHITESPACE"," ",1052],["T_ARRAY","array",1052],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1052],",",["T_WHITESPACE"," ",1052],["T_CONSTANT_ENCAPSED_STRING","'core_store'",1052],",",["T_WHITESPACE"," ",1052],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1052],",",["T_WHITESPACE"," ",1052],["T_CONSTANT_ENCAPSED_STRING","'set null'",1052],")",["T_WHITESPACE","\n    ",1052],")",",",["T_WHITESPACE","\n    ",1053],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice_item'",1054],["T_WHITESPACE"," ",1054],["T_DOUBLE_ARROW","=>",1054],["T_WHITESPACE"," ",1054],["T_ARRAY","array",1054],"(",["T_WHITESPACE","\n        ",1054],["T_CONSTANT_ENCAPSED_STRING","'parent'",1055],["T_WHITESPACE"," ",1055],["T_DOUBLE_ARROW","=>",1055],["T_WHITESPACE"," ",1055],["T_ARRAY","array",1055],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1055],",",["T_WHITESPACE"," ",1055],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice'",1055],",",["T_WHITESPACE"," ",1055],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1055],")",",",["T_WHITESPACE","\n    ",1055],")",",",["T_WHITESPACE","\n    ",1056],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice_comment'",1057],["T_WHITESPACE"," ",1057],["T_DOUBLE_ARROW","=>",1057],["T_WHITESPACE"," ",1057],["T_ARRAY","array",1057],"(",["T_WHITESPACE","\n        ",1057],["T_CONSTANT_ENCAPSED_STRING","'parent'",1058],["T_WHITESPACE"," ",1058],["T_DOUBLE_ARROW","=>",1058],["T_WHITESPACE"," ",1058],["T_ARRAY","array",1058],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1058],",",["T_WHITESPACE"," ",1058],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_invoice'",1058],",",["T_WHITESPACE"," ",1058],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1058],")",",",["T_WHITESPACE","\n    ",1058],")",",",["T_WHITESPACE","\n    ",1059],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo'",1060],["T_WHITESPACE"," ",1060],["T_DOUBLE_ARROW","=>",1060],["T_WHITESPACE"," ",1060],["T_ARRAY","array",1060],"(",["T_WHITESPACE","\n        ",1060],["T_CONSTANT_ENCAPSED_STRING","'parent'",1061],["T_WHITESPACE"," ",1061],["T_DOUBLE_ARROW","=>",1061],["T_WHITESPACE"," ",1061],["T_ARRAY","array",1061],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1061],",",["T_WHITESPACE"," ",1061],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1061],",",["T_WHITESPACE"," ",1061],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1061],")",",",["T_WHITESPACE","\n        ",1061],["T_CONSTANT_ENCAPSED_STRING","'store'",1062],["T_WHITESPACE"," ",1062],["T_DOUBLE_ARROW","=>",1062],["T_WHITESPACE"," ",1062],["T_ARRAY","array",1062],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1062],",",["T_WHITESPACE"," ",1062],["T_CONSTANT_ENCAPSED_STRING","'core_store'",1062],",",["T_WHITESPACE"," ",1062],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1062],",",["T_WHITESPACE"," ",1062],["T_CONSTANT_ENCAPSED_STRING","'set null'",1062],")",["T_WHITESPACE","\n    ",1062],")",",",["T_WHITESPACE","\n    ",1063],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo_grid'",1064],["T_WHITESPACE"," ",1064],["T_DOUBLE_ARROW","=>",1064],["T_WHITESPACE"," ",1064],["T_ARRAY","array",1064],"(",["T_WHITESPACE","\n        ",1064],["T_CONSTANT_ENCAPSED_STRING","'parent'",1065],["T_WHITESPACE"," ",1065],["T_DOUBLE_ARROW","=>",1065],["T_WHITESPACE"," ",1065],["T_ARRAY","array",1065],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1065],",",["T_WHITESPACE"," ",1065],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo'",1065],",",["T_WHITESPACE"," ",1065],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1065],")",",",["T_WHITESPACE","\n        ",1065],["T_CONSTANT_ENCAPSED_STRING","'store'",1066],["T_WHITESPACE"," ",1066],["T_DOUBLE_ARROW","=>",1066],["T_WHITESPACE"," ",1066],["T_ARRAY","array",1066],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1066],",",["T_WHITESPACE"," ",1066],["T_CONSTANT_ENCAPSED_STRING","'core_store'",1066],",",["T_WHITESPACE"," ",1066],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1066],",",["T_WHITESPACE"," ",1066],["T_CONSTANT_ENCAPSED_STRING","'set null'",1066],")",["T_WHITESPACE","\n    ",1066],")",",",["T_WHITESPACE","\n    ",1067],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo_item'",1068],["T_WHITESPACE"," ",1068],["T_DOUBLE_ARROW","=>",1068],["T_WHITESPACE"," ",1068],["T_ARRAY","array",1068],"(",["T_WHITESPACE","\n        ",1068],["T_CONSTANT_ENCAPSED_STRING","'parent'",1069],["T_WHITESPACE"," ",1069],["T_DOUBLE_ARROW","=>",1069],["T_WHITESPACE"," ",1069],["T_ARRAY","array",1069],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1069],",",["T_WHITESPACE"," ",1069],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo'",1069],",",["T_WHITESPACE"," ",1069],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1069],")",",",["T_WHITESPACE","\n    ",1069],")",",",["T_WHITESPACE","\n    ",1070],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo_comment'",1071],["T_WHITESPACE"," ",1071],["T_DOUBLE_ARROW","=>",1071],["T_WHITESPACE"," ",1071],["T_ARRAY","array",1071],"(",["T_WHITESPACE","\n        ",1071],["T_CONSTANT_ENCAPSED_STRING","'parent'",1072],["T_WHITESPACE"," ",1072],["T_DOUBLE_ARROW","=>",1072],["T_WHITESPACE"," ",1072],["T_ARRAY","array",1072],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1072],",",["T_WHITESPACE"," ",1072],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_creditmemo'",1072],",",["T_WHITESPACE"," ",1072],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1072],")",",",["T_WHITESPACE","\n    ",1072],")",",",["T_WHITESPACE","\n    ",1073],["T_CONSTANT_ENCAPSED_STRING","'sales_payment_transaction'",1074],["T_WHITESPACE"," ",1074],["T_DOUBLE_ARROW","=>",1074],["T_WHITESPACE"," ",1074],["T_ARRAY","array",1074],"(",["T_WHITESPACE","\n        ",1074],["T_CONSTANT_ENCAPSED_STRING","'parent'",1075],["T_WHITESPACE"," ",1075],["T_DOUBLE_ARROW","=>",1075],["T_WHITESPACE"," ",1075],["T_ARRAY","array",1075],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1075],",",["T_WHITESPACE"," ",1075],["T_CONSTANT_ENCAPSED_STRING","'sales_payment_transaction'",1075],",",["T_WHITESPACE"," ",1075],["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",1075],")",",",["T_WHITESPACE","\n        ",1075],["T_CONSTANT_ENCAPSED_STRING","'order'",1076],["T_WHITESPACE"," ",1076],["T_DOUBLE_ARROW","=>",1076],["T_WHITESPACE"," ",1076],["T_ARRAY","array",1076],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1076],",",["T_WHITESPACE"," ",1076],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1076],",",["T_WHITESPACE"," ",1076],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1076],")",",",["T_WHITESPACE","\n        ",1076],["T_CONSTANT_ENCAPSED_STRING","'payment'",1077],["T_WHITESPACE"," ",1077],["T_DOUBLE_ARROW","=>",1077],["T_WHITESPACE"," ",1077],["T_ARRAY","array",1077],"(",["T_CONSTANT_ENCAPSED_STRING","'payment_id'",1077],",",["T_WHITESPACE"," ",1077],["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order_payment'",1077],",",["T_WHITESPACE"," ",1077],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1077],")",",",["T_WHITESPACE","\n    ",1077],")",["T_WHITESPACE","\n",1078],")",";",["T_WHITESPACE","\n\n",1079],["T_FOREACH","foreach",1081],["T_WHITESPACE"," ",1081],"(",["T_VARIABLE","$constraints",1081],["T_WHITESPACE"," ",1081],["T_AS","as",1081],["T_WHITESPACE"," ",1081],["T_VARIABLE","$table",1081],["T_WHITESPACE"," ",1081],["T_DOUBLE_ARROW","=>",1081],["T_WHITESPACE"," ",1081],["T_VARIABLE","$list",1081],")",["T_WHITESPACE"," ",1081],"{",["T_WHITESPACE","\n    ",1081],["T_FOREACH","foreach",1082],["T_WHITESPACE"," ",1082],"(",["T_VARIABLE","$list",1082],["T_WHITESPACE"," ",1082],["T_AS","as",1082],["T_WHITESPACE"," ",1082],["T_VARIABLE","$code",1082],["T_WHITESPACE"," ",1082],["T_DOUBLE_ARROW","=>",1082],["T_WHITESPACE"," ",1082],["T_VARIABLE","$constraint",1082],")",["T_WHITESPACE"," ",1082],"{",["T_WHITESPACE","\n        ",1082],["T_VARIABLE","$constraint",1083],"[",["T_LNUMBER","1",1083],"]",["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_VARIABLE","$installer",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","getTable",1083],"(",["T_VARIABLE","$constraint",1083],"[",["T_LNUMBER","1",1083],"]",")",";",["T_WHITESPACE","\n        ",1083],["T_STRING","array_unshift",1084],"(",["T_VARIABLE","$constraint",1084],",",["T_WHITESPACE"," ",1084],["T_VARIABLE","$installer",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","getTable",1084],"(",["T_VARIABLE","$table",1084],")",")",";",["T_WHITESPACE","\n        ",1084],["T_STRING","array_unshift",1085],"(",["T_VARIABLE","$constraint",1085],",",["T_WHITESPACE"," ",1085],["T_STRING","strtoupper",1085],"(",["T_VARIABLE","$table",1085],["T_WHITESPACE"," ",1085],".",["T_WHITESPACE"," ",1085],["T_CONSTANT_ENCAPSED_STRING","'_'",1085],["T_WHITESPACE"," ",1085],".",["T_WHITESPACE"," ",1085],["T_VARIABLE","$code",1085],")",")",";",["T_WHITESPACE","\n\n        ",1085],["T_STRING","call_user_func_array",1087],"(",["T_ARRAY","array",1087],"(",["T_VARIABLE","$installer",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","getConnection",1087],"(",")",",",["T_WHITESPACE"," ",1087],["T_CONSTANT_ENCAPSED_STRING","'addConstraint'",1087],")",",",["T_WHITESPACE"," ",1087],["T_VARIABLE","$constraint",1087],")",";",["T_WHITESPACE","\n    ",1087],"}",["T_WHITESPACE","\n",1088],"}",["T_WHITESPACE","\n\n",1089],["T_DOC_COMMENT","\/**\n * Add additional columns for order aggregation table\n *\/",1091],["T_WHITESPACE","\n",1093],["T_VARIABLE","$table",1094],["T_WHITESPACE"," ",1094],"=",["T_WHITESPACE"," ",1094],["T_VARIABLE","$installer",1094],["T_OBJECT_OPERATOR","->",1094],["T_STRING","getTable",1094],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_aggregated_created'",1094],")",";",["T_WHITESPACE","\n",1094],["T_VARIABLE","$installer",1095],["T_OBJECT_OPERATOR","->",1095],["T_STRING","run",1095],"(",["T_CONSTANT_ENCAPSED_STRING","'TRUNCATE TABLE '",1095],["T_WHITESPACE"," ",1095],".",["T_WHITESPACE"," ",1095],["T_VARIABLE","$installer",1095],["T_OBJECT_OPERATOR","->",1095],["T_STRING","getConnection",1095],"(",")",["T_OBJECT_OPERATOR","->",1095],["T_STRING","quoteIdentifier",1095],"(",["T_VARIABLE","$table",1095],")",")",";",["T_WHITESPACE","\n",1095],["T_VARIABLE","$installer",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","getConnection",1096],"(",")",["T_OBJECT_OPERATOR","->",1096],["T_STRING","addColumn",1096],"(",["T_VARIABLE","$table",1096],",",["T_WHITESPACE"," ",1096],["T_CONSTANT_ENCAPSED_STRING","'base_tax_invoiced_amount'",1096],",",["T_WHITESPACE"," ",1096],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1096],")",";",["T_WHITESPACE","\n",1096],["T_VARIABLE","$installer",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","getConnection",1097],"(",")",["T_OBJECT_OPERATOR","->",1097],["T_STRING","addColumn",1097],"(",["T_VARIABLE","$table",1097],",",["T_WHITESPACE"," ",1097],["T_CONSTANT_ENCAPSED_STRING","'base_tax_canceled_amount'",1097],",",["T_WHITESPACE"," ",1097],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1097],")",";",["T_WHITESPACE","\n",1097],["T_VARIABLE","$installer",1098],["T_OBJECT_OPERATOR","->",1098],["T_STRING","getConnection",1098],"(",")",["T_OBJECT_OPERATOR","->",1098],["T_STRING","addColumn",1098],"(",["T_VARIABLE","$table",1098],",",["T_WHITESPACE"," ",1098],["T_CONSTANT_ENCAPSED_STRING","'base_tax_refunded_amount'",1098],",",["T_WHITESPACE"," ",1098],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1098],")",";",["T_WHITESPACE","\n\n",1098],["T_VARIABLE","$installer",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","getConnection",1100],"(",")",["T_OBJECT_OPERATOR","->",1100],["T_STRING","addColumn",1100],"(",["T_VARIABLE","$table",1100],",",["T_WHITESPACE"," ",1100],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_invoiced_amount'",1100],",",["T_WHITESPACE"," ",1100],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1100],")",";",["T_WHITESPACE","\n",1100],["T_VARIABLE","$installer",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","getConnection",1101],"(",")",["T_OBJECT_OPERATOR","->",1101],["T_STRING","addColumn",1101],"(",["T_VARIABLE","$table",1101],",",["T_WHITESPACE"," ",1101],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_refunded_amount'",1101],",",["T_WHITESPACE"," ",1101],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1101],")",";",["T_WHITESPACE","\n",1101],["T_VARIABLE","$installer",1102],["T_OBJECT_OPERATOR","->",1102],["T_STRING","getConnection",1102],"(",")",["T_OBJECT_OPERATOR","->",1102],["T_STRING","addColumn",1102],"(",["T_VARIABLE","$table",1102],",",["T_WHITESPACE"," ",1102],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_canceled_amount'",1102],",",["T_WHITESPACE"," ",1102],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1102],")",";",["T_WHITESPACE","\n\n",1102],["T_VARIABLE","$installer",1104],["T_OBJECT_OPERATOR","->",1104],["T_STRING","getConnection",1104],"(",")",["T_OBJECT_OPERATOR","->",1104],["T_STRING","addColumn",1104],"(",["T_VARIABLE","$table",1104],",",["T_WHITESPACE"," ",1104],["T_CONSTANT_ENCAPSED_STRING","'base_discount_invoiced_amount'",1104],",",["T_WHITESPACE"," ",1104],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1104],")",";",["T_WHITESPACE","\n",1104],["T_VARIABLE","$installer",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","getConnection",1105],"(",")",["T_OBJECT_OPERATOR","->",1105],["T_STRING","addColumn",1105],"(",["T_VARIABLE","$table",1105],",",["T_WHITESPACE"," ",1105],["T_CONSTANT_ENCAPSED_STRING","'base_discount_canceled_amount'",1105],",",["T_WHITESPACE"," ",1105],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1105],")",";",["T_WHITESPACE","\n",1105],["T_VARIABLE","$installer",1106],["T_OBJECT_OPERATOR","->",1106],["T_STRING","getConnection",1106],"(",")",["T_OBJECT_OPERATOR","->",1106],["T_STRING","addColumn",1106],"(",["T_VARIABLE","$table",1106],",",["T_WHITESPACE"," ",1106],["T_CONSTANT_ENCAPSED_STRING","'base_discount_refunded_amount'",1106],",",["T_WHITESPACE"," ",1106],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1106],")",";",["T_WHITESPACE","\n\n",1106],["T_VARIABLE","$installer",1108],["T_OBJECT_OPERATOR","->",1108],["T_STRING","getConnection",1108],"(",")",["T_OBJECT_OPERATOR","->",1108],["T_STRING","addColumn",1108],"(",["T_VARIABLE","$table",1108],",",["T_WHITESPACE"," ",1108],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_invoiced_amount'",1108],",",["T_WHITESPACE"," ",1108],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1108],")",";",["T_WHITESPACE","\n",1108],["T_VARIABLE","$installer",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","getConnection",1109],"(",")",["T_OBJECT_OPERATOR","->",1109],["T_STRING","addColumn",1109],"(",["T_VARIABLE","$table",1109],",",["T_WHITESPACE"," ",1109],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_canceled_amount'",1109],",",["T_WHITESPACE"," ",1109],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1109],")",";",["T_WHITESPACE","\n",1109],["T_VARIABLE","$installer",1110],["T_OBJECT_OPERATOR","->",1110],["T_STRING","getConnection",1110],"(",")",["T_OBJECT_OPERATOR","->",1110],["T_STRING","addColumn",1110],"(",["T_VARIABLE","$table",1110],",",["T_WHITESPACE"," ",1110],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_refunded_amount'",1110],",",["T_WHITESPACE"," ",1110],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1110],")",";",["T_WHITESPACE","\n",1110],["T_VARIABLE","$installer",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","getConnection",1111],"(",")",["T_OBJECT_OPERATOR","->",1111],["T_STRING","addColumn",1111],"(",["T_VARIABLE","$table",1111],",",["T_WHITESPACE"," ",1111],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_discount_amount'",1111],",",["T_WHITESPACE"," ",1111],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1111],")",";",["T_WHITESPACE","\n",1111],["T_VARIABLE","$installer",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","getConnection",1112],"(",")",["T_OBJECT_OPERATOR","->",1112],["T_STRING","addColumn",1112],"(",["T_VARIABLE","$table",1112],",",["T_WHITESPACE"," ",1112],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_tax_amount'",1112],",",["T_WHITESPACE"," ",1112],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1112],")",";",["T_WHITESPACE","\n",1112],["T_VARIABLE","$installer",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","getConnection",1113],"(",")",["T_OBJECT_OPERATOR","->",1113],["T_STRING","addColumn",1113],"(",["T_VARIABLE","$table",1113],",",["T_WHITESPACE"," ",1113],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_tax_refunded_amount'",1113],",",["T_WHITESPACE"," ",1113],["T_CONSTANT_ENCAPSED_STRING","'decimal(12,4) NOT NULL DEFAULT \\'0.0000\\''",1113],")",";",["T_WHITESPACE","\n\n",1113],["T_VARIABLE","$flag",1115],["T_WHITESPACE"," ",1115],"=",["T_WHITESPACE"," ",1115],["T_STRING","Mage",1115],["T_DOUBLE_COLON","::",1115],["T_STRING","getModel",1115],"(",["T_CONSTANT_ENCAPSED_STRING","'reports\/flag'",1115],")",["T_WHITESPACE","\n    ",1115],["T_OBJECT_OPERATOR","->",1116],["T_STRING","setReportFlagCode",1116],"(",["T_STRING","Mage_Reports_Model_Flag",1116],["T_DOUBLE_COLON","::",1116],["T_STRING","REPORT_ORDER_FLAG_CODE",1116],")",["T_WHITESPACE","\n    ",1116],["T_OBJECT_OPERATOR","->",1117],["T_STRING","loadSelf",1117],"(",")",";",["T_WHITESPACE","\n\n",1117],["T_IF","if",1119],"(",["T_VARIABLE","$flag",1119],["T_OBJECT_OPERATOR","->",1119],["T_STRING","getId",1119],"(",")",")",["T_WHITESPACE"," ",1119],"{",["T_WHITESPACE","\n    ",1119],["T_VARIABLE","$flag",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","delete",1120],"(",")",";",["T_WHITESPACE","\n",1120],"}",["T_WHITESPACE","\n\n\n",1121],["T_VARIABLE","$select",1124],["T_WHITESPACE"," ",1124],"=",["T_WHITESPACE"," ",1124],["T_VARIABLE","$installer",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","getConnection",1124],"(",")",["T_OBJECT_OPERATOR","->",1124],["T_STRING","select",1124],"(",")",";",["T_WHITESPACE","\n",1124],["T_VARIABLE","$select",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","from",1125],"(",["T_VARIABLE","$installer",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","getTable",1125],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_item'",1125],")",",",["T_WHITESPACE"," ",1125],["T_ARRAY","array",1125],"(",["T_WHITESPACE","\n        ",1125],["T_CONSTANT_ENCAPSED_STRING","'total_item_count'",1126],["T_WHITESPACE","   ",1126],["T_DOUBLE_ARROW","=>",1126],["T_WHITESPACE"," ",1126],["T_CONSTANT_ENCAPSED_STRING","'COUNT(item_id)'",1126],",",["T_WHITESPACE","\n        ",1126],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1127],["T_WHITESPACE","           ",1127],["T_DOUBLE_ARROW","=>",1127],["T_WHITESPACE"," ",1127],["T_CONSTANT_ENCAPSED_STRING","'order_id'",1127],")",")",["T_WHITESPACE","\n    ",1127],["T_OBJECT_OPERATOR","->",1128],["T_STRING","where",1128],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_item_id IS NULL'",1128],")",["T_WHITESPACE","\n    ",1128],["T_OBJECT_OPERATOR","->",1129],["T_STRING","group",1129],"(",["T_ARRAY","array",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",1129],")",")",";",["T_WHITESPACE","\n\n",1129],["T_VARIABLE","$temporaryTable",1131],["T_WHITESPACE"," ",1131],"=",["T_WHITESPACE","  ",1131],["T_CONSTANT_ENCAPSED_STRING","'tmp_sales_order_item_count_'",1131],["T_WHITESPACE"," ",1131],".",["T_WHITESPACE"," ",1131],["T_STRING","md5",1131],"(",["T_STRING","uniqid",1131],"(",["T_CONSTANT_ENCAPSED_STRING","'order_item_count'",1131],")",")",";",["T_WHITESPACE","\n\n",1131],["T_VARIABLE","$installer",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","getConnection",1133],"(",")",["T_OBJECT_OPERATOR","->",1133],["T_STRING","query",1133],"(",["T_CONSTANT_ENCAPSED_STRING","'CREATE TEMPORARY TABLE '",1133],["T_WHITESPACE"," ",1133],".",["T_WHITESPACE"," ",1133],["T_VARIABLE","$installer",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","getConnection",1133],"(",")",["T_OBJECT_OPERATOR","->",1133],["T_STRING","quoteIdentifier",1133],"(",["T_VARIABLE","$temporaryTable",1133],")",["T_WHITESPACE"," ",1133],".",["T_WHITESPACE"," ",1133],["T_CONSTANT_ENCAPSED_STRING","' '",1133],["T_WHITESPACE"," ",1133],".",["T_WHITESPACE"," ",1133],["T_VARIABLE","$select",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","assemble",1133],"(",")",")",";",["T_WHITESPACE","\n\n",1133],["T_VARIABLE","$select",1135],["T_OBJECT_OPERATOR","->",1135],["T_STRING","reset",1135],"(",")",["T_WHITESPACE","\n    ",1135],["T_OBJECT_OPERATOR","->",1136],["T_STRING","join",1136],"(",["T_ARRAY","array",1136],"(",["T_CONSTANT_ENCAPSED_STRING","'items_count_table'",1136],["T_DOUBLE_ARROW","=>",1136],["T_VARIABLE","$temporaryTable",1136],")",",",["T_WHITESPACE"," ",1136],["T_CONSTANT_ENCAPSED_STRING","'items_count_table.entity_id = order_table.entity_id'",1136],",",["T_WHITESPACE"," ",1136],["T_ARRAY","array",1136],"(",["T_WHITESPACE","\n        ",1136],["T_CONSTANT_ENCAPSED_STRING","'total_item_count'",1137],["T_DOUBLE_ARROW","=>",1137],["T_CONSTANT_ENCAPSED_STRING","'total_item_count'",1137],["T_WHITESPACE","\n    ",1137],")",")",";",["T_WHITESPACE","\n\n",1138],["T_VARIABLE","$installer",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","getConnection",1140],"(",")",["T_OBJECT_OPERATOR","->",1140],["T_STRING","query",1140],"(",["T_VARIABLE","$select",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","crossUpdateFromSelect",1140],"(",["T_ARRAY","array",1140],"(",["T_CONSTANT_ENCAPSED_STRING","'order_table'",1140],["T_WHITESPACE"," ",1140],["T_DOUBLE_ARROW","=>",1140],["T_WHITESPACE"," ",1140],["T_VARIABLE","$installer",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","getTable",1140],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order'",1140],")",")",")",")",";",["T_WHITESPACE","\n",1140],["T_VARIABLE","$installer",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","getConnection",1141],"(",")",["T_OBJECT_OPERATOR","->",1141],["T_STRING","query",1141],"(",["T_CONSTANT_ENCAPSED_STRING","'DROP TEMPORARY TABLE '",1141],["T_WHITESPACE"," ",1141],".",["T_WHITESPACE"," ",1141],["T_VARIABLE","$temporaryTable",1141],")",";",["T_WHITESPACE","\n\n\n",1141],["T_DOC_COMMENT","\/**\n * Workaround for the coupon_code attribute that may be missed in the Mage_SalesRule\/sql\/mysql4-upgrade-0.7.10-0.7.11.php\n * The problem is that Mage_SalesRule depends on Mage_Sales and sometimes the attribute doesn't get updated before this line of code.\n * As a result: an existing column in the sales_flat_order table, but wrong type in the attribute registry and sometimes even data lost\n * Reproduces on upgrading from 1.4.0.x to 1.4.1.0\n *\n * Test case:\n * 1) Have Magento instance without flat sales yet, and without Mage_SalesRule\/sql\/mysql4-upgrade-0.7.10-0.7.11.php\n * 2) Upgrade it to the flat one instantly (runs this upgrade). Without this code the proper upgrade of coupon_code is missed. Data is lost.\n * 3) The Mage_SalesRule\/sql\/mysql4-upgrade-0.7.10-0.7.11.php runs AFTER this code, because it depends on Mage_Sales. But it is too late.\n * Result: the attribute has wrong type and data may be lost depending on upgrade history.\n *\/",1144],["T_WHITESPACE","\n",1155],["T_VARIABLE","$orderEntityType",1156],["T_WHITESPACE"," ",1156],"=",["T_WHITESPACE"," ",1156],["T_VARIABLE","$installer",1156],["T_OBJECT_OPERATOR","->",1156],["T_STRING","getEntityType",1156],"(",["T_CONSTANT_ENCAPSED_STRING","'order'",1156],")",";",["T_WHITESPACE","\n",1156],["T_VARIABLE","$orderEntityTypeId",1157],["T_WHITESPACE"," ",1157],"=",["T_WHITESPACE"," ",1157],["T_VARIABLE","$orderEntityType",1157],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",1157],"]",";",["T_WHITESPACE","\n",1157],["T_VARIABLE","$attribute",1158],["T_WHITESPACE"," ",1158],"=",["T_WHITESPACE"," ",1158],["T_VARIABLE","$installer",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","getAttribute",1158],"(",["T_VARIABLE","$orderEntityTypeId",1158],",",["T_WHITESPACE"," ",1158],["T_CONSTANT_ENCAPSED_STRING","'coupon_code'",1158],")",";",["T_WHITESPACE","\n\n",1158],["T_IF","if",1160],["T_WHITESPACE"," ",1160],"(",["T_VARIABLE","$attribute",1160],["T_WHITESPACE"," ",1160],["T_BOOLEAN_AND","&&",1160],["T_WHITESPACE"," ",1160],["T_STRING","is_array",1160],"(",["T_VARIABLE","$attribute",1160],")",["T_WHITESPACE"," ",1160],["T_BOOLEAN_AND","&&",1160],["T_WHITESPACE"," ",1160],["T_ISSET","isset",1160],"(",["T_VARIABLE","$attribute",1160],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",1160],"]",")",["T_WHITESPACE"," ",1160],["T_BOOLEAN_AND","&&",1160],["T_WHITESPACE"," ",1160],["T_VARIABLE","$attribute",1160],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",1160],"]",["T_WHITESPACE"," ",1160],["T_IS_NOT_IDENTICAL","!==",1160],["T_WHITESPACE"," ",1160],["T_CONSTANT_ENCAPSED_STRING","'static'",1160],")",["T_WHITESPACE"," ",1160],"{",["T_WHITESPACE","\n    ",1160],["T_TRY","try",1161],["T_WHITESPACE"," ",1161],"{",["T_WHITESPACE","\n        ",1161],["T_VARIABLE","$installer",1162],["T_OBJECT_OPERATOR","->",1162],["T_STRING","getConnection",1162],"(",")",["T_OBJECT_OPERATOR","->",1162],["T_STRING","beginTransaction",1162],"(",")",";",["T_WHITESPACE","\n        ",1162],["T_VARIABLE","$installer",1163],["T_OBJECT_OPERATOR","->",1163],["T_STRING","run",1163],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\n            UPDATE ",1163],["T_CURLY_OPEN","{",1164],["T_VARIABLE","$installer",1164],["T_OBJECT_OPERATOR","->",1164],["T_STRING","getTable",1164],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_flat_order'",1164],")","}",["T_ENCAPSED_AND_WHITESPACE"," AS o, ",1164],["T_CURLY_OPEN","{",1164],["T_VARIABLE","$installer",1164],["T_OBJECT_OPERATOR","->",1164],["T_STRING","getTable",1164],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity_varchar'",1164],")","}",["T_ENCAPSED_AND_WHITESPACE"," AS od\n            SET o.",1164],["T_CURLY_OPEN","{",1165],["T_VARIABLE","$attribute",1165],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",1165],"]","}",["T_ENCAPSED_AND_WHITESPACE"," = od.value\n            WHERE od.entity_id = o.entity_id\n                AND od.attribute_id = ",1165],["T_CURLY_OPEN","{",1167],["T_VARIABLE","$attribute",1167],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1167],"]","}",["T_ENCAPSED_AND_WHITESPACE","\n                AND od.entity_type_id = ",1167],["T_CURLY_OPEN","{",1168],["T_VARIABLE","$orderEntityTypeId",1168],"}",["T_ENCAPSED_AND_WHITESPACE","\n        ",1168],"\"",")",";",["T_WHITESPACE","\n        ",1169],["T_VARIABLE","$installer",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","updateAttribute",1170],"(",["T_VARIABLE","$orderEntityTypeId",1170],",",["T_WHITESPACE"," ",1170],["T_VARIABLE","$attribute",1170],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",1170],"]",",",["T_WHITESPACE"," ",1170],["T_ARRAY","array",1170],"(",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",1170],["T_WHITESPACE"," ",1170],["T_DOUBLE_ARROW","=>",1170],["T_WHITESPACE"," ",1170],["T_CONSTANT_ENCAPSED_STRING","'static'",1170],")",")",";",["T_WHITESPACE","\n        ",1170],["T_VARIABLE","$installer",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","getConnection",1171],"(",")",["T_OBJECT_OPERATOR","->",1171],["T_STRING","commit",1171],"(",")",";",["T_WHITESPACE","\n    ",1171],"}",["T_WHITESPACE"," ",1172],["T_CATCH","catch",1172],["T_WHITESPACE"," ",1172],"(",["T_STRING","Exception",1172],["T_WHITESPACE"," ",1172],["T_VARIABLE","$e",1172],")",["T_WHITESPACE"," ",1172],"{",["T_WHITESPACE","\n        ",1172],["T_VARIABLE","$installer",1173],["T_OBJECT_OPERATOR","->",1173],["T_STRING","getConnection",1173],"(",")",["T_OBJECT_OPERATOR","->",1173],["T_STRING","rollback",1173],"(",")",";",["T_WHITESPACE","\n        ",1173],["T_THROW","throw",1174],["T_WHITESPACE"," ",1174],["T_VARIABLE","$e",1174],";",["T_WHITESPACE","\n    ",1174],"}",["T_WHITESPACE","\n",1175],"}",["T_WHITESPACE","\n\n",1176],["T_COMMENT","\/\/ Remove previous tables\n",1178],["T_VARIABLE","$tablesToDrop",1179],["T_WHITESPACE"," ",1179],"=",["T_WHITESPACE"," ",1179],["T_ARRAY","array",1179],"(",["T_WHITESPACE","\n    ",1179],["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity_decimal'",1180],",",["T_WHITESPACE","\n    ",1180],["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity_datetime'",1181],",",["T_WHITESPACE","\n    ",1181],["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity_int'",1182],",",["T_WHITESPACE","\n    ",1182],["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity_text'",1183],",",["T_WHITESPACE","\n    ",1183],["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity_varchar'",1184],",",["T_WHITESPACE","\n    ",1184],["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity'",1185],",",["T_WHITESPACE","\n    ",1185],["T_CONSTANT_ENCAPSED_STRING","'sales_order_decimal'",1186],",",["T_WHITESPACE","\n    ",1186],["T_CONSTANT_ENCAPSED_STRING","'sales_order_datetime'",1187],",",["T_WHITESPACE","\n    ",1187],["T_CONSTANT_ENCAPSED_STRING","'sales_order_int'",1188],",",["T_WHITESPACE","\n    ",1188],["T_CONSTANT_ENCAPSED_STRING","'sales_order_text'",1189],",",["T_WHITESPACE","\n    ",1189],["T_CONSTANT_ENCAPSED_STRING","'sales_order_varchar'",1190],",",["T_WHITESPACE","\n    ",1190],["T_CONSTANT_ENCAPSED_STRING","'sales_order'",1191],["T_WHITESPACE","\n",1191],")",";",["T_WHITESPACE","\n\n",1192],["T_FOREACH","foreach",1194],["T_WHITESPACE"," ",1194],"(",["T_VARIABLE","$tablesToDrop",1194],["T_WHITESPACE"," ",1194],["T_AS","as",1194],["T_WHITESPACE"," ",1194],["T_VARIABLE","$table",1194],")",["T_WHITESPACE"," ",1194],"{",["T_WHITESPACE","\n    ",1194],["T_VARIABLE","$table",1195],["T_WHITESPACE"," ",1195],"=",["T_WHITESPACE"," ",1195],["T_VARIABLE","$installer",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","getTable",1195],"(",["T_VARIABLE","$table",1195],")",";",["T_WHITESPACE","\n    ",1195],["T_IF","if",1196],["T_WHITESPACE"," ",1196],"(","!",["T_VARIABLE","$installer",1196],["T_OBJECT_OPERATOR","->",1196],["T_STRING","tableExists",1196],"(",["T_VARIABLE","$table",1196],")",")",["T_WHITESPACE"," ",1196],"{",["T_WHITESPACE","\n        ",1196],["T_CONTINUE","continue",1197],";",["T_WHITESPACE","\n    ",1197],"}",["T_WHITESPACE","\n    ",1198],["T_VARIABLE","$installer",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","getConnection",1199],"(",")",["T_OBJECT_OPERATOR","->",1199],["T_STRING","query",1199],"(",["T_WHITESPACE","\n        ",1199],["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE '",1200],["T_WHITESPACE"," ",1200],".",["T_WHITESPACE"," ",1200],["T_VARIABLE","$installer",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","getConnection",1200],"(",")",["T_OBJECT_OPERATOR","->",1200],["T_STRING","quoteIdentifier",1200],"(",["T_VARIABLE","$table",1200],")",["T_WHITESPACE","\n    ",1200],")",";",["T_WHITESPACE","\n",1201],"}",["T_WHITESPACE","\n\n\n",1202],["T_COMMENT","\/* Add columns to tables *\/",1205],["T_WHITESPACE","\n",1205],["T_VARIABLE","$tableData",1206],["T_WHITESPACE"," ",1206],"=",["T_WHITESPACE"," ",1206],["T_ARRAY","array",1206],"(",["T_WHITESPACE","\n    ",1206],["T_CONSTANT_ENCAPSED_STRING","'sales\/quote_item'",1207],["T_WHITESPACE"," ",1207],["T_DOUBLE_ARROW","=>",1207],["T_WHITESPACE"," ",1207],["T_ARRAY","array",1207],"(",["T_WHITESPACE","\n        ",1207],["T_CONSTANT_ENCAPSED_STRING","'price_incl_tax'",1208],["T_WHITESPACE"," ",1208],["T_DOUBLE_ARROW","=>",1208],["T_WHITESPACE"," ",1208],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1208],",",["T_WHITESPACE","\n        ",1208],["T_CONSTANT_ENCAPSED_STRING","'base_price_incl_tax'",1209],["T_WHITESPACE"," ",1209],["T_DOUBLE_ARROW","=>",1209],["T_WHITESPACE"," ",1209],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1209],",",["T_WHITESPACE","\n        ",1209],["T_CONSTANT_ENCAPSED_STRING","'row_total_incl_tax'",1210],["T_WHITESPACE"," ",1210],["T_DOUBLE_ARROW","=>",1210],["T_WHITESPACE"," ",1210],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1210],",",["T_WHITESPACE","\n        ",1210],["T_CONSTANT_ENCAPSED_STRING","'base_row_total_incl_tax'",1211],["T_WHITESPACE"," ",1211],["T_DOUBLE_ARROW","=>",1211],["T_WHITESPACE"," ",1211],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1211],["T_WHITESPACE","\n    ",1211],")",",",["T_WHITESPACE","\n    ",1212],["T_CONSTANT_ENCAPSED_STRING","'sales\/order_item'",1213],["T_WHITESPACE"," ",1213],["T_DOUBLE_ARROW","=>",1213],["T_WHITESPACE"," ",1213],["T_ARRAY","array",1213],"(",["T_WHITESPACE","\n        ",1213],["T_CONSTANT_ENCAPSED_STRING","'price_incl_tax'",1214],["T_WHITESPACE"," ",1214],["T_DOUBLE_ARROW","=>",1214],["T_WHITESPACE"," ",1214],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1214],",",["T_WHITESPACE","\n        ",1214],["T_CONSTANT_ENCAPSED_STRING","'base_price_incl_tax'",1215],["T_WHITESPACE"," ",1215],["T_DOUBLE_ARROW","=>",1215],["T_WHITESPACE"," ",1215],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1215],",",["T_WHITESPACE","\n        ",1215],["T_CONSTANT_ENCAPSED_STRING","'row_total_incl_tax'",1216],["T_WHITESPACE"," ",1216],["T_DOUBLE_ARROW","=>",1216],["T_WHITESPACE"," ",1216],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1216],",",["T_WHITESPACE","\n        ",1216],["T_CONSTANT_ENCAPSED_STRING","'base_row_total_incl_tax'",1217],["T_WHITESPACE"," ",1217],["T_DOUBLE_ARROW","=>",1217],["T_WHITESPACE"," ",1217],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1217],["T_WHITESPACE","\n    ",1217],")",",",["T_WHITESPACE","\n    ",1218],["T_CONSTANT_ENCAPSED_STRING","'sales\/quote_address'",1219],["T_WHITESPACE"," ",1219],["T_DOUBLE_ARROW","=>",1219],["T_WHITESPACE"," ",1219],["T_ARRAY","array",1219],"(",["T_WHITESPACE","\n        ",1219],["T_CONSTANT_ENCAPSED_STRING","'shipping_discount_amount'",1220],["T_WHITESPACE"," ",1220],["T_DOUBLE_ARROW","=>",1220],["T_WHITESPACE"," ",1220],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1220],",",["T_WHITESPACE","\n        ",1220],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_discount_amount'",1221],["T_WHITESPACE"," ",1221],["T_DOUBLE_ARROW","=>",1221],["T_WHITESPACE"," ",1221],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1221],",",["T_WHITESPACE","\n        ",1221],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",1222],["T_WHITESPACE"," ",1222],["T_DOUBLE_ARROW","=>",1222],["T_WHITESPACE"," ",1222],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1222],",",["T_WHITESPACE","\n        ",1222],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_total_incl_tax'",1223],["T_WHITESPACE"," ",1223],["T_DOUBLE_ARROW","=>",1223],["T_WHITESPACE"," ",1223],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1223],",",["T_WHITESPACE","\n        ",1223],["T_CONSTANT_ENCAPSED_STRING","'discount_description'",1224],["T_WHITESPACE"," ",1224],["T_DOUBLE_ARROW","=>",1224],["T_WHITESPACE"," ",1224],["T_CONSTANT_ENCAPSED_STRING","'varchar'",1224],["T_WHITESPACE","\n    ",1224],")",",",["T_WHITESPACE","\n    ",1225],["T_CONSTANT_ENCAPSED_STRING","'sales\/quote_address_item'",1226],["T_WHITESPACE"," ",1226],["T_DOUBLE_ARROW","=>",1226],["T_WHITESPACE"," ",1226],["T_ARRAY","array",1226],"(",["T_WHITESPACE","\n        ",1226],["T_CONSTANT_ENCAPSED_STRING","'product_id'",1227],["T_WHITESPACE"," ",1227],["T_DOUBLE_ARROW","=>",1227],["T_WHITESPACE"," ",1227],["T_CONSTANT_ENCAPSED_STRING","'int'",1227],",",["T_WHITESPACE","\n        ",1227],["T_CONSTANT_ENCAPSED_STRING","'super_product_id'",1228],["T_WHITESPACE"," ",1228],["T_DOUBLE_ARROW","=>",1228],["T_WHITESPACE"," ",1228],["T_CONSTANT_ENCAPSED_STRING","'int'",1228],",",["T_WHITESPACE","\n        ",1228],["T_CONSTANT_ENCAPSED_STRING","'parent_product_id'",1229],["T_WHITESPACE"," ",1229],["T_DOUBLE_ARROW","=>",1229],["T_WHITESPACE"," ",1229],["T_CONSTANT_ENCAPSED_STRING","'int'",1229],",",["T_WHITESPACE","\n        ",1229],["T_CONSTANT_ENCAPSED_STRING","'sku'",1230],["T_WHITESPACE"," ",1230],["T_DOUBLE_ARROW","=>",1230],["T_WHITESPACE"," ",1230],["T_CONSTANT_ENCAPSED_STRING","'varchar'",1230],",",["T_WHITESPACE","\n        ",1230],["T_CONSTANT_ENCAPSED_STRING","'image'",1231],["T_WHITESPACE"," ",1231],["T_DOUBLE_ARROW","=>",1231],["T_WHITESPACE"," ",1231],["T_CONSTANT_ENCAPSED_STRING","'varchar'",1231],",",["T_WHITESPACE","\n        ",1231],["T_CONSTANT_ENCAPSED_STRING","'name'",1232],["T_WHITESPACE"," ",1232],["T_DOUBLE_ARROW","=>",1232],["T_WHITESPACE"," ",1232],["T_CONSTANT_ENCAPSED_STRING","'varchar'",1232],",",["T_WHITESPACE","\n        ",1232],["T_CONSTANT_ENCAPSED_STRING","'description'",1233],["T_WHITESPACE"," ",1233],["T_DOUBLE_ARROW","=>",1233],["T_WHITESPACE"," ",1233],["T_CONSTANT_ENCAPSED_STRING","'text'",1233],",",["T_WHITESPACE","\n        ",1233],["T_CONSTANT_ENCAPSED_STRING","'free_shipping'",1234],["T_WHITESPACE"," ",1234],["T_DOUBLE_ARROW","=>",1234],["T_WHITESPACE"," ",1234],["T_CONSTANT_ENCAPSED_STRING","'int'",1234],",",["T_WHITESPACE","\n        ",1234],["T_CONSTANT_ENCAPSED_STRING","'is_qty_decimal'",1235],["T_WHITESPACE"," ",1235],["T_DOUBLE_ARROW","=>",1235],["T_WHITESPACE"," ",1235],["T_CONSTANT_ENCAPSED_STRING","'int'",1235],",",["T_WHITESPACE","\n        ",1235],["T_CONSTANT_ENCAPSED_STRING","'price'",1236],["T_WHITESPACE"," ",1236],["T_DOUBLE_ARROW","=>",1236],["T_WHITESPACE"," ",1236],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1236],",",["T_WHITESPACE","\n        ",1236],["T_CONSTANT_ENCAPSED_STRING","'discount_percent'",1237],["T_WHITESPACE"," ",1237],["T_DOUBLE_ARROW","=>",1237],["T_WHITESPACE"," ",1237],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1237],",",["T_WHITESPACE","\n        ",1237],["T_CONSTANT_ENCAPSED_STRING","'no_discount'",1238],["T_WHITESPACE"," ",1238],["T_DOUBLE_ARROW","=>",1238],["T_WHITESPACE"," ",1238],["T_CONSTANT_ENCAPSED_STRING","'int'",1238],",",["T_WHITESPACE","\n        ",1238],["T_CONSTANT_ENCAPSED_STRING","'tax_percent'",1239],["T_WHITESPACE"," ",1239],["T_DOUBLE_ARROW","=>",1239],["T_WHITESPACE"," ",1239],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1239],",",["T_WHITESPACE","\n        ",1239],["T_CONSTANT_ENCAPSED_STRING","'base_price'",1240],["T_WHITESPACE"," ",1240],["T_DOUBLE_ARROW","=>",1240],["T_WHITESPACE"," ",1240],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1240],",",["T_WHITESPACE","\n        ",1240],["T_CONSTANT_ENCAPSED_STRING","'price_incl_tax'",1241],["T_WHITESPACE"," ",1241],["T_DOUBLE_ARROW","=>",1241],["T_WHITESPACE"," ",1241],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1241],",",["T_WHITESPACE","\n        ",1241],["T_CONSTANT_ENCAPSED_STRING","'base_price_incl_tax'",1242],["T_WHITESPACE"," ",1242],["T_DOUBLE_ARROW","=>",1242],["T_WHITESPACE"," ",1242],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1242],",",["T_WHITESPACE","\n        ",1242],["T_CONSTANT_ENCAPSED_STRING","'row_total_incl_tax'",1243],["T_WHITESPACE"," ",1243],["T_DOUBLE_ARROW","=>",1243],["T_WHITESPACE"," ",1243],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1243],",",["T_WHITESPACE","\n        ",1243],["T_CONSTANT_ENCAPSED_STRING","'base_row_total_incl_tax'",1244],["T_WHITESPACE"," ",1244],["T_DOUBLE_ARROW","=>",1244],["T_WHITESPACE"," ",1244],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1244],["T_WHITESPACE","\n    ",1244],")",",",["T_WHITESPACE","\n    ",1245],["T_CONSTANT_ENCAPSED_STRING","'sales\/quote_payment'",1246],["T_WHITESPACE"," ",1246],["T_DOUBLE_ARROW","=>",1246],["T_WHITESPACE"," ",1246],["T_ARRAY","array",1246],"(",["T_WHITESPACE","\n        ",1246],["T_CONSTANT_ENCAPSED_STRING","'additional_data'",1247],["T_WHITESPACE"," ",1247],["T_DOUBLE_ARROW","=>",1247],["T_WHITESPACE"," ",1247],["T_CONSTANT_ENCAPSED_STRING","'text'",1247],",",["T_WHITESPACE","\n        ",1247],["T_CONSTANT_ENCAPSED_STRING","'cc_ss_issue'",1248],["T_WHITESPACE"," ",1248],["T_DOUBLE_ARROW","=>",1248],["T_WHITESPACE"," ",1248],["T_CONSTANT_ENCAPSED_STRING","'varchar'",1248],["T_WHITESPACE","\n    ",1248],")",",",["T_WHITESPACE","\n    ",1249],["T_CONSTANT_ENCAPSED_STRING","'sales\/quote_address_shipping_rate'",1250],["T_WHITESPACE"," ",1250],["T_DOUBLE_ARROW","=>",1250],["T_WHITESPACE"," ",1250],["T_ARRAY","array",1250],"(",["T_WHITESPACE","\n        ",1250],["T_CONSTANT_ENCAPSED_STRING","'error_message'",1251],["T_WHITESPACE"," ",1251],["T_DOUBLE_ARROW","=>",1251],["T_WHITESPACE"," ",1251],["T_CONSTANT_ENCAPSED_STRING","'text'",1251],["T_WHITESPACE","\n    ",1251],")",["T_WHITESPACE","\n",1252],")",";",["T_WHITESPACE","\n\n",1253],["T_FOREACH","foreach",1255],["T_WHITESPACE"," ",1255],"(",["T_VARIABLE","$tableData",1255],["T_WHITESPACE"," ",1255],["T_AS","as",1255],["T_WHITESPACE"," ",1255],["T_VARIABLE","$table",1255],["T_WHITESPACE"," ",1255],["T_DOUBLE_ARROW","=>",1255],["T_WHITESPACE"," ",1255],["T_VARIABLE","$columns",1255],")",["T_WHITESPACE"," ",1255],"{",["T_WHITESPACE","\n    ",1255],["T_FOREACH","foreach",1256],["T_WHITESPACE"," ",1256],"(",["T_VARIABLE","$columns",1256],["T_WHITESPACE"," ",1256],["T_AS","as",1256],["T_WHITESPACE"," ",1256],["T_VARIABLE","$columnName",1256],["T_WHITESPACE"," ",1256],["T_DOUBLE_ARROW","=>",1256],["T_WHITESPACE"," ",1256],["T_VARIABLE","$columnType",1256],")",["T_WHITESPACE"," ",1256],"{",["T_WHITESPACE","\n        ",1256],["T_VARIABLE","$installer",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","getConnection",1257],"(",")",["T_OBJECT_OPERATOR","->",1257],["T_STRING","addColumn",1257],"(",["T_WHITESPACE","\n            ",1257],["T_VARIABLE","$installer",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","getTable",1258],"(",["T_VARIABLE","$table",1258],")",",",["T_WHITESPACE"," ",1258],["T_VARIABLE","$columnName",1258],",",["T_WHITESPACE"," ",1258],["T_VARIABLE","$definitions",1258],"[",["T_VARIABLE","$columnType",1258],"]",["T_WHITESPACE","\n        ",1258],")",";",["T_WHITESPACE","\n    ",1259],"}",["T_WHITESPACE","\n",1260],"}",["T_WHITESPACE","\n\n",1261],["T_VARIABLE","$installer",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","endSetup",1263],"(",")",";",["T_WHITESPACE","\n",1263]]