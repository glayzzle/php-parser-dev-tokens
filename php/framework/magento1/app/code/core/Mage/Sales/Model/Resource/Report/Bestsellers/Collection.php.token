[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Sales\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Report bestsellers collection\n *\n * @category    Mage\n * @package     Mage_Sales\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Sales_Model_Resource_Report_Bestsellers_Collection",35],["T_WHITESPACE","\n    ",35],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Sales_Model_Resource_Report_Collection_Abstract",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Rating limit\n     *\n     * @var int\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_ratingLimit",43],["T_WHITESPACE","        ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","5",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Columns for select\n     *\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_selectedColumns",50],["T_WHITESPACE","    ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Initialize custom resource model\n     *\n     *\/",52],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","__construct",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_STRING","parent",58],["T_DOUBLE_COLON","::",58],["T_STRING","_construct",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setModel",59],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/report_item'",59],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_resource",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","Mage",60],["T_DOUBLE_COLON","::",60],["T_STRING","getResourceModel",60],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/report'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","init",60],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/bestsellers_aggregated_daily'",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setConnection",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getResource",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getReadConnection",61],"(",")",")",";",["T_WHITESPACE","\n        ",61],["T_COMMENT","\/\/ overwrite default behaviour\n",62],["T_WHITESPACE","        ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_applyFilters",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","false",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Retrieve columns for select\n     *\n     * @return array\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","_getSelectedColumns",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$adapter",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getConnection",73],"(",")",";",["T_WHITESPACE","\n\n        ",73],["T_IF","if",75],["T_WHITESPACE"," ",75],"(","!",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_selectedColumns",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","isTotals",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_selectedColumns",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getAggregatedColumns",77],"(",")",";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE"," ",78],["T_ELSE","else",78],["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_selectedColumns",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n                    ",79],["T_CONSTANT_ENCAPSED_STRING","'period'",80],["T_WHITESPACE","          ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE","  ",80],["T_STRING","sprintf",80],"(",["T_CONSTANT_ENCAPSED_STRING","'MAX(%s)'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$adapter",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getDateFormatSql",80],"(",["T_CONSTANT_ENCAPSED_STRING","'period'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'%Y-%m-%d'",80],")",")",",",["T_WHITESPACE","\n                    ",80],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",81],["T_WHITESPACE","     ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'SUM(qty_ordered)'",81],",",["T_WHITESPACE","\n                    ",81],["T_CONSTANT_ENCAPSED_STRING","'product_id'",82],["T_WHITESPACE","      ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'product_id'",82],",",["T_WHITESPACE","\n                    ",82],["T_CONSTANT_ENCAPSED_STRING","'product_name'",83],["T_WHITESPACE","    ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'MAX(product_name)'",83],",",["T_WHITESPACE","\n                    ",83],["T_CONSTANT_ENCAPSED_STRING","'product_price'",84],["T_WHITESPACE","   ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'MAX(product_price)'",84],",",["T_WHITESPACE","\n                    ",84],["T_CONSTANT_ENCAPSED_STRING","'product_type_id'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'product_type_id'",85],["T_WHITESPACE","\n                ",85],")",";",["T_WHITESPACE","\n                ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_CONSTANT_ENCAPSED_STRING","'year'",87],["T_WHITESPACE"," ",87],["T_IS_EQUAL","==",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_period",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_selectedColumns",88],"[",["T_CONSTANT_ENCAPSED_STRING","'period'",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$adapter",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getDateFormatSql",88],"(",["T_CONSTANT_ENCAPSED_STRING","'period'",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'%Y'",88],")",";",["T_WHITESPACE","\n                ",88],"}",["T_WHITESPACE"," ",89],["T_ELSEIF","elseif",89],["T_WHITESPACE"," ",89],"(",["T_CONSTANT_ENCAPSED_STRING","'month'",89],["T_WHITESPACE"," ",89],["T_IS_EQUAL","==",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_period",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_selectedColumns",90],"[",["T_CONSTANT_ENCAPSED_STRING","'period'",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$adapter",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getDateFormatSql",90],"(",["T_CONSTANT_ENCAPSED_STRING","'period'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'%Y-%m'",90],")",";",["T_WHITESPACE","\n                ",90],"}",["T_WHITESPACE","\n            ",91],"}",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_selectedColumns",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Make select object for date boundary\n     *\n     * @param mixed $from\n     * @param mixed $to\n     * @return Zend_Db_Select\n     *\/",97],["T_WHITESPACE","\n    ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","_makeBoundarySelect",104],"(",["T_VARIABLE","$from",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$to",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$adapter",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getConnection",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$cols",107],["T_WHITESPACE","    ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_getSelectedColumns",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$cols",108],"[",["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'SUM(qty_ordered)'",108],";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$sel",109],["T_WHITESPACE","     ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$adapter",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","select",109],"(",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","from",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getResource",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getMainTable",110],"(",")",",",["T_WHITESPACE"," ",110],["T_VARIABLE","$cols",110],")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","where",111],"(",["T_CONSTANT_ENCAPSED_STRING","'period >= ?'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$from",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","where",112],"(",["T_CONSTANT_ENCAPSED_STRING","'period <= ?'",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$to",112],")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","group",113],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id'",113],")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","order",114],"(",["T_CONSTANT_ENCAPSED_STRING","'qty_ordered DESC'",114],")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","limit",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_ratingLimit",115],")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_applyProductTypeFilter",117],"(",["T_VARIABLE","$sel",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_applyStoresFilterToSelect",118],"(",["T_VARIABLE","$sel",118],")",";",["T_WHITESPACE","\n\n        ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$sel",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Add selected data\n     *\n     * @return Mage_Sales_Model_Resource_Report_Bestsellers_Collection\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","_initSelect",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$select",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getSelect",130],"(",")",";",["T_WHITESPACE","\n\n        ",130],["T_COMMENT","\/\/ if grouping by product, not by period\n",132],["T_WHITESPACE","        ",133],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_period",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$cols",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_getSelectedColumns",134],"(",")",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$cols",135],"[",["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'SUM(qty_ordered)'",135],";",["T_WHITESPACE","\n            ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_from",136],["T_WHITESPACE"," ",136],["T_BOOLEAN_OR","||",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_to",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_VARIABLE","$mainTable",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getTable",137],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/bestsellers_aggregated_daily'",137],")",";",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$select",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","from",138],"(",["T_VARIABLE","$mainTable",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$cols",138],")",";",["T_WHITESPACE","\n            ",138],"}",["T_WHITESPACE"," ",139],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$mainTable",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getTable",140],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/bestsellers_aggregated_yearly'",140],")",";",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$select",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","from",141],"(",["T_VARIABLE","$mainTable",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$cols",141],")",";",["T_WHITESPACE","\n            ",141],"}",["T_WHITESPACE","\n\n            ",142],["T_COMMENT","\/\/exclude removed products\n",144],["T_WHITESPACE","            ",145],["T_VARIABLE","$subSelect",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getConnection",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","select",145],"(",")",";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$subSelect",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","from",146],"(",["T_ARRAY","array",146],"(",["T_CONSTANT_ENCAPSED_STRING","'existed_products'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getTable",146],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",146],")",")",",",["T_WHITESPACE"," ",146],["T_NEW","new",146],["T_WHITESPACE"," ",146],["T_STRING","Zend_Db_Expr",146],"(",["T_CONSTANT_ENCAPSED_STRING","'1)'",146],")",")",";",["T_WHITESPACE","\n\n            ",146],["T_VARIABLE","$select",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","exists",148],"(",["T_VARIABLE","$subSelect",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$mainTable",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'.product_id = existed_products.entity_id'",148],")",["T_WHITESPACE","\n                ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","group",149],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id'",149],")",["T_WHITESPACE","\n                ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","order",150],"(",["T_CONSTANT_ENCAPSED_STRING","'qty_ordered '",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_STRING","Varien_Db_Select",150],["T_DOUBLE_COLON","::",150],["T_STRING","SQL_DESC",150],")",["T_WHITESPACE","\n                ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","limit",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_ratingLimit",151],")",";",["T_WHITESPACE","\n\n            ",151],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n\n        ",154],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_CONSTANT_ENCAPSED_STRING","'year'",156],["T_WHITESPACE"," ",156],["T_IS_EQUAL","==",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_period",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$mainTable",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getTable",157],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/bestsellers_aggregated_yearly'",157],")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$select",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","from",158],"(",["T_VARIABLE","$mainTable",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_getSelectedColumns",158],"(",")",")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE"," ",159],["T_ELSEIF","elseif",159],["T_WHITESPACE"," ",159],"(",["T_CONSTANT_ENCAPSED_STRING","'month'",159],["T_WHITESPACE"," ",159],["T_IS_EQUAL","==",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_period",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$mainTable",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getTable",160],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/bestsellers_aggregated_monthly'",160],")",";",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$select",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","from",161],"(",["T_VARIABLE","$mainTable",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_getSelectedColumns",161],"(",")",")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE"," ",162],["T_ELSE","else",162],["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$mainTable",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getTable",163],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/bestsellers_aggregated_daily'",163],")",";",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$select",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","from",164],"(",["T_VARIABLE","$mainTable",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_getSelectedColumns",164],"(",")",")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n        ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(","!",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","isTotals",166],"(",")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$select",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","group",167],"(",["T_ARRAY","array",167],"(",["T_CONSTANT_ENCAPSED_STRING","'period'",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'product_id'",167],")",")",";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$select",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","where",169],"(",["T_CONSTANT_ENCAPSED_STRING","'rating_pos <= ?'",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_ratingLimit",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Get SQL for get record count\n     *\n     * @return Varien_Db_Select\n     *\/",174],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","getSelectCountSql",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_renderFilters",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$select",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_CLONE","clone",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getSelect",182],"(",")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$select",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","reset",183],"(",["T_STRING","Zend_Db_Select",183],["T_DOUBLE_COLON","::",183],["T_STRING","ORDER",183],")",";",["T_WHITESPACE","\n        ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getConnection",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","select",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","from",184],"(",["T_VARIABLE","$select",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'COUNT(*)'",184],")",";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Set ids for store restrictions\n     *\n     * @param  array $storeIds\n     * @return Mage_Sales_Model_Resource_Report_Bestsellers_Collection\n     *\/",187],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","addStoreRestrictions",193],"(",["T_VARIABLE","$storeIds",193],")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(","!",["T_STRING","is_array",195],"(",["T_VARIABLE","$storeIds",195],")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$storeIds",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",["T_VARIABLE","$storeIds",196],")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$currentStoreIds",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_storesIds",198],";",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_ISSET","isset",199],"(",["T_VARIABLE","$currentStoreIds",199],")",["T_WHITESPACE"," ",199],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$currentStoreIds",199],["T_WHITESPACE"," ",199],["T_IS_NOT_EQUAL","!=",199],["T_WHITESPACE"," ",199],["T_STRING","Mage_Core_Model_App",199],["T_DOUBLE_COLON","::",199],["T_STRING","ADMIN_STORE_ID",199],["T_WHITESPACE","\n            ",199],["T_BOOLEAN_AND","&&",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$currentStoreIds",200],["T_WHITESPACE"," ",200],["T_IS_NOT_EQUAL","!=",200],["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_STRING","Mage_Core_Model_App",200],["T_DOUBLE_COLON","::",200],["T_STRING","ADMIN_STORE_ID",200],")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(","!",["T_STRING","is_array",201],"(",["T_VARIABLE","$currentStoreIds",201],")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$currentStoreIds",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_ARRAY","array",202],"(",["T_VARIABLE","$currentStoreIds",202],")",";",["T_WHITESPACE","\n            ",202],"}",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_storesIds",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","array_intersect",204],"(",["T_VARIABLE","$currentStoreIds",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$storeIds",204],")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_storesIds",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$storeIds",206],";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * Redeclare parent method for applying filters after parent method\n     * but before adding unions and calculating totals\n     *\n     * @return Mage_Sales_Model_Resource_Report_Bestsellers_Collection\n     *\/",212],["T_WHITESPACE","\n    ",217],["T_PROTECTED","protected",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","_beforeLoad",218],"(",")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_STRING","parent",220],["T_DOUBLE_COLON","::",220],["T_STRING","_beforeLoad",220],"(",")",";",["T_WHITESPACE","\n\n        ",220],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_applyStoresFilter",222],"(",")",";",["T_WHITESPACE","\n\n        ",222],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_period",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$selectUnions",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",")",";",["T_WHITESPACE","\n\n            ",225],["T_COMMENT","\/\/ apply date boundaries (before calling $this->_applyDateRangeFilter())\n",227],["T_WHITESPACE","            ",228],["T_VARIABLE","$dtFormat",228],["T_WHITESPACE","   ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","Varien_Date",228],["T_DOUBLE_COLON","::",228],["T_STRING","DATE_INTERNAL_FORMAT",228],";",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$periodFrom",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],"(","!",["T_STRING","is_null",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_from",229],")",["T_WHITESPACE"," ",229],"?",["T_WHITESPACE"," ",229],["T_NEW","new",229],["T_WHITESPACE"," ",229],["T_STRING","Zend_Date",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_from",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$dtFormat",229],")",["T_WHITESPACE"," ",229],":",["T_WHITESPACE"," ",229],["T_STRING","null",229],")",";",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$periodTo",230],["T_WHITESPACE","   ",230],"=",["T_WHITESPACE"," ",230],"(","!",["T_STRING","is_null",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_to",230],")",["T_WHITESPACE","   ",230],"?",["T_WHITESPACE"," ",230],["T_NEW","new",230],["T_WHITESPACE"," ",230],["T_STRING","Zend_Date",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_to",230],",",["T_WHITESPACE","   ",230],["T_VARIABLE","$dtFormat",230],")",["T_WHITESPACE"," ",230],":",["T_WHITESPACE"," ",230],["T_STRING","null",230],")",";",["T_WHITESPACE","\n            ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_CONSTANT_ENCAPSED_STRING","'year'",231],["T_WHITESPACE"," ",231],["T_IS_EQUAL","==",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_period",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n\n                ",231],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$periodFrom",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                    ",233],["T_COMMENT","\/\/ not the first day of the year\n",234],["T_WHITESPACE","                    ",235],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$periodFrom",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","toValue",235],"(",["T_STRING","Zend_Date",235],["T_DOUBLE_COLON","::",235],["T_STRING","MONTH",235],")",["T_WHITESPACE"," ",235],["T_IS_NOT_EQUAL","!=",235],["T_WHITESPACE"," ",235],["T_LNUMBER","1",235],["T_WHITESPACE"," ",235],["T_BOOLEAN_OR","||",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$periodFrom",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","toValue",235],"(",["T_STRING","Zend_Date",235],["T_DOUBLE_COLON","::",235],["T_STRING","DAY",235],")",["T_WHITESPACE"," ",235],["T_IS_NOT_EQUAL","!=",235],["T_WHITESPACE"," ",235],["T_LNUMBER","1",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                        ",235],["T_VARIABLE","$dtFrom",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$periodFrom",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getDate",236],"(",")",";",["T_WHITESPACE","\n                        ",236],["T_COMMENT","\/\/ last day of the year\n",237],["T_WHITESPACE","                        ",238],["T_VARIABLE","$dtTo",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$periodFrom",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getDate",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","setMonth",238],"(",["T_LNUMBER","12",238],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","setDay",238],"(",["T_LNUMBER","31",238],")",";",["T_WHITESPACE","\n                        ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(","!",["T_VARIABLE","$periodTo",239],["T_WHITESPACE"," ",239],["T_BOOLEAN_OR","||",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$dtTo",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","isEarlier",239],"(",["T_VARIABLE","$periodTo",239],")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                            ",239],["T_VARIABLE","$selectUnions",240],"[","]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_makeBoundarySelect",240],"(",["T_WHITESPACE","\n                                ",240],["T_VARIABLE","$dtFrom",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","toString",241],"(",["T_VARIABLE","$dtFormat",241],")",",",["T_WHITESPACE","\n                                ",241],["T_VARIABLE","$dtTo",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","toString",242],"(",["T_VARIABLE","$dtFormat",242],")",["T_WHITESPACE","\n                            ",242],")",";",["T_WHITESPACE","\n\n                            ",243],["T_COMMENT","\/\/ first day of the next year\n",245],["T_WHITESPACE","                            ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_from",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$periodFrom",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getDate",246],"(",")",["T_WHITESPACE","\n                                ",246],["T_OBJECT_OPERATOR","->",247],["T_STRING","addYear",247],"(",["T_LNUMBER","1",247],")",["T_WHITESPACE","\n                                ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","setMonth",248],"(",["T_LNUMBER","1",248],")",["T_WHITESPACE","\n                                ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","setDay",249],"(",["T_LNUMBER","1",249],")",["T_WHITESPACE","\n                                ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","toString",250],"(",["T_VARIABLE","$dtFormat",250],")",";",["T_WHITESPACE","\n                        ",250],"}",["T_WHITESPACE","\n                    ",251],"}",["T_WHITESPACE","\n                ",252],"}",["T_WHITESPACE","\n\n                ",253],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$periodTo",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                    ",255],["T_COMMENT","\/\/ not the last day of the year\n",256],["T_WHITESPACE","                    ",257],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_VARIABLE","$periodTo",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","toValue",257],"(",["T_STRING","Zend_Date",257],["T_DOUBLE_COLON","::",257],["T_STRING","MONTH",257],")",["T_WHITESPACE"," ",257],["T_IS_NOT_EQUAL","!=",257],["T_WHITESPACE"," ",257],["T_LNUMBER","12",257],["T_WHITESPACE"," ",257],["T_BOOLEAN_OR","||",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$periodTo",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","toValue",257],"(",["T_STRING","Zend_Date",257],["T_DOUBLE_COLON","::",257],["T_STRING","DAY",257],")",["T_WHITESPACE"," ",257],["T_IS_NOT_EQUAL","!=",257],["T_WHITESPACE"," ",257],["T_LNUMBER","31",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n                        ",257],["T_VARIABLE","$dtFrom",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$periodTo",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getDate",258],"(",")",["T_OBJECT_OPERATOR","->",258],["T_STRING","setMonth",258],"(",["T_LNUMBER","1",258],")",["T_OBJECT_OPERATOR","->",258],["T_STRING","setDay",258],"(",["T_LNUMBER","1",258],")",";",["T_WHITESPACE","  ",258],["T_COMMENT","\/\/ first day of the year\n",258],["T_WHITESPACE","                        ",259],["T_VARIABLE","$dtTo",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$periodTo",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getDate",259],"(",")",";",["T_WHITESPACE","\n                        ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(","!",["T_VARIABLE","$periodFrom",260],["T_WHITESPACE"," ",260],["T_BOOLEAN_OR","||",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$dtFrom",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","isLater",260],"(",["T_VARIABLE","$periodFrom",260],")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                            ",260],["T_VARIABLE","$selectUnions",261],"[","]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_makeBoundarySelect",261],"(",["T_WHITESPACE","\n                                ",261],["T_VARIABLE","$dtFrom",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","toString",262],"(",["T_VARIABLE","$dtFormat",262],")",",",["T_WHITESPACE","\n                                ",262],["T_VARIABLE","$dtTo",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","toString",263],"(",["T_VARIABLE","$dtFormat",263],")",["T_WHITESPACE","\n                            ",263],")",";",["T_WHITESPACE","\n\n                            ",264],["T_COMMENT","\/\/ last day of the previous year\n",266],["T_WHITESPACE","                            ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_to",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$periodTo",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getDate",267],"(",")",["T_WHITESPACE","\n                                ",267],["T_OBJECT_OPERATOR","->",268],["T_STRING","subYear",268],"(",["T_LNUMBER","1",268],")",["T_WHITESPACE","\n                                ",268],["T_OBJECT_OPERATOR","->",269],["T_STRING","setMonth",269],"(",["T_LNUMBER","12",269],")",["T_WHITESPACE","\n                                ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","setDay",270],"(",["T_LNUMBER","31",270],")",["T_WHITESPACE","\n                                ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","toString",271],"(",["T_VARIABLE","$dtFormat",271],")",";",["T_WHITESPACE","\n                        ",271],"}",["T_WHITESPACE","\n                    ",272],"}",["T_WHITESPACE","\n                ",273],"}",["T_WHITESPACE","\n\n                ",274],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$periodFrom",276],["T_WHITESPACE"," ",276],["T_BOOLEAN_AND","&&",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$periodTo",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n                    ",276],["T_COMMENT","\/\/ the same year\n",277],["T_WHITESPACE","                    ",278],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$periodFrom",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","toValue",278],"(",["T_STRING","Zend_Date",278],["T_DOUBLE_COLON","::",278],["T_STRING","YEAR",278],")",["T_WHITESPACE"," ",278],["T_IS_EQUAL","==",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$periodTo",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","toValue",278],"(",["T_STRING","Zend_Date",278],["T_DOUBLE_COLON","::",278],["T_STRING","YEAR",278],")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n                        ",278],["T_VARIABLE","$dtFrom",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$periodFrom",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getDate",279],"(",")",";",["T_WHITESPACE","\n                        ",279],["T_VARIABLE","$dtTo",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$periodTo",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getDate",280],"(",")",";",["T_WHITESPACE","\n                        ",280],["T_VARIABLE","$selectUnions",281],"[","]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_makeBoundarySelect",281],"(",["T_WHITESPACE","\n                            ",281],["T_VARIABLE","$dtFrom",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","toString",282],"(",["T_VARIABLE","$dtFormat",282],")",",",["T_WHITESPACE","\n                            ",282],["T_VARIABLE","$dtTo",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","toString",283],"(",["T_VARIABLE","$dtFormat",283],")",["T_WHITESPACE","\n                        ",283],")",";",["T_WHITESPACE","\n\n                        ",284],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getSelect",286],"(",")",["T_OBJECT_OPERATOR","->",286],["T_STRING","where",286],"(",["T_CONSTANT_ENCAPSED_STRING","'1<>1'",286],")",";",["T_WHITESPACE","\n                    ",286],"}",["T_WHITESPACE","\n                ",287],"}",["T_WHITESPACE","\n\n            ",288],"}",["T_WHITESPACE","\n            ",290],["T_ELSE","else",291],["T_WHITESPACE"," ",291],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_CONSTANT_ENCAPSED_STRING","'month'",291],["T_WHITESPACE"," ",291],["T_IS_EQUAL","==",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_period",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$periodFrom",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n                    ",292],["T_COMMENT","\/\/ not the first day of the month\n",293],["T_WHITESPACE","                    ",294],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$periodFrom",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","toValue",294],"(",["T_STRING","Zend_Date",294],["T_DOUBLE_COLON","::",294],["T_STRING","DAY",294],")",["T_WHITESPACE"," ",294],["T_IS_NOT_EQUAL","!=",294],["T_WHITESPACE"," ",294],["T_LNUMBER","1",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                        ",294],["T_VARIABLE","$dtFrom",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$periodFrom",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getDate",295],"(",")",";",["T_WHITESPACE","\n                        ",295],["T_COMMENT","\/\/ last day of the month\n",296],["T_WHITESPACE","                        ",297],["T_VARIABLE","$dtTo",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$periodFrom",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getDate",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","addMonth",297],"(",["T_LNUMBER","1",297],")",["T_OBJECT_OPERATOR","->",297],["T_STRING","setDay",297],"(",["T_LNUMBER","1",297],")",["T_OBJECT_OPERATOR","->",297],["T_STRING","subDay",297],"(",["T_LNUMBER","1",297],")",";",["T_WHITESPACE","\n                        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(","!",["T_VARIABLE","$periodTo",298],["T_WHITESPACE"," ",298],["T_BOOLEAN_OR","||",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$dtTo",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","isEarlier",298],"(",["T_VARIABLE","$periodTo",298],")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                            ",298],["T_VARIABLE","$selectUnions",299],"[","]",["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_makeBoundarySelect",299],"(",["T_WHITESPACE","\n                                ",299],["T_VARIABLE","$dtFrom",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","toString",300],"(",["T_VARIABLE","$dtFormat",300],")",",",["T_WHITESPACE","\n                                ",300],["T_VARIABLE","$dtTo",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","toString",301],"(",["T_VARIABLE","$dtFormat",301],")",["T_WHITESPACE","\n                            ",301],")",";",["T_WHITESPACE","\n\n                            ",302],["T_COMMENT","\/\/ first day of the next month\n",304],["T_WHITESPACE","                            ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_from",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$periodFrom",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getDate",305],"(",")",["T_OBJECT_OPERATOR","->",305],["T_STRING","addMonth",305],"(",["T_LNUMBER","1",305],")",["T_OBJECT_OPERATOR","->",305],["T_STRING","setDay",305],"(",["T_LNUMBER","1",305],")",["T_OBJECT_OPERATOR","->",305],["T_STRING","toString",305],"(",["T_VARIABLE","$dtFormat",305],")",";",["T_WHITESPACE","\n                        ",305],"}",["T_WHITESPACE","\n                    ",306],"}",["T_WHITESPACE","\n                ",307],"}",["T_WHITESPACE","\n\n                ",308],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$periodTo",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n                    ",310],["T_COMMENT","\/\/ not the last day of the month\n",311],["T_WHITESPACE","                    ",312],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$periodTo",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","toValue",312],"(",["T_STRING","Zend_Date",312],["T_DOUBLE_COLON","::",312],["T_STRING","DAY",312],")",["T_WHITESPACE"," ",312],["T_IS_NOT_EQUAL","!=",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$periodTo",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","toValue",312],"(",["T_STRING","Zend_Date",312],["T_DOUBLE_COLON","::",312],["T_STRING","MONTH_DAYS",312],")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                        ",312],["T_VARIABLE","$dtFrom",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$periodTo",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getDate",313],"(",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","setDay",313],"(",["T_LNUMBER","1",313],")",";",["T_WHITESPACE","  ",313],["T_COMMENT","\/\/ first day of the month\n",313],["T_WHITESPACE","                        ",314],["T_VARIABLE","$dtTo",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$periodTo",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getDate",314],"(",")",";",["T_WHITESPACE","\n                        ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(","!",["T_VARIABLE","$periodFrom",315],["T_WHITESPACE"," ",315],["T_BOOLEAN_OR","||",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$dtFrom",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","isLater",315],"(",["T_VARIABLE","$periodFrom",315],")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n                            ",315],["T_VARIABLE","$selectUnions",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_makeBoundarySelect",316],"(",["T_WHITESPACE","\n                                ",316],["T_VARIABLE","$dtFrom",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","toString",317],"(",["T_VARIABLE","$dtFormat",317],")",",",["T_WHITESPACE","\n                                ",317],["T_VARIABLE","$dtTo",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","toString",318],"(",["T_VARIABLE","$dtFormat",318],")",["T_WHITESPACE","\n                            ",318],")",";",["T_WHITESPACE","\n\n                            ",319],["T_COMMENT","\/\/ last day of the previous month\n",321],["T_WHITESPACE","                            ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_to",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$periodTo",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getDate",322],"(",")",["T_OBJECT_OPERATOR","->",322],["T_STRING","setDay",322],"(",["T_LNUMBER","1",322],")",["T_OBJECT_OPERATOR","->",322],["T_STRING","subDay",322],"(",["T_LNUMBER","1",322],")",["T_OBJECT_OPERATOR","->",322],["T_STRING","toString",322],"(",["T_VARIABLE","$dtFormat",322],")",";",["T_WHITESPACE","\n                        ",322],"}",["T_WHITESPACE","\n                    ",323],"}",["T_WHITESPACE","\n                ",324],"}",["T_WHITESPACE","\n\n                ",325],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$periodFrom",327],["T_WHITESPACE"," ",327],["T_BOOLEAN_AND","&&",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$periodTo",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                    ",327],["T_COMMENT","\/\/ the same month\n",328],["T_WHITESPACE","                    ",329],["T_IF","if",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$periodFrom",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","toValue",329],"(",["T_STRING","Zend_Date",329],["T_DOUBLE_COLON","::",329],["T_STRING","YEAR",329],")",["T_WHITESPACE"," ",329],["T_IS_EQUAL","==",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$periodTo",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","toValue",329],"(",["T_STRING","Zend_Date",329],["T_DOUBLE_COLON","::",329],["T_STRING","YEAR",329],")",["T_WHITESPACE","\n                        ",329],["T_BOOLEAN_AND","&&",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$periodFrom",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","toValue",330],"(",["T_STRING","Zend_Date",330],["T_DOUBLE_COLON","::",330],["T_STRING","MONTH",330],")",["T_WHITESPACE"," ",330],["T_IS_EQUAL","==",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$periodTo",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","toValue",330],"(",["T_STRING","Zend_Date",330],["T_DOUBLE_COLON","::",330],["T_STRING","MONTH",330],")",["T_WHITESPACE","\n                    ",330],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n                        ",331],["T_VARIABLE","$dtFrom",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$periodFrom",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getDate",332],"(",")",";",["T_WHITESPACE","\n                        ",332],["T_VARIABLE","$dtTo",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$periodTo",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getDate",333],"(",")",";",["T_WHITESPACE","\n                        ",333],["T_VARIABLE","$selectUnions",334],"[","]",["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_makeBoundarySelect",334],"(",["T_WHITESPACE","\n                            ",334],["T_VARIABLE","$dtFrom",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","toString",335],"(",["T_VARIABLE","$dtFormat",335],")",",",["T_WHITESPACE","\n                            ",335],["T_VARIABLE","$dtTo",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","toString",336],"(",["T_VARIABLE","$dtFormat",336],")",["T_WHITESPACE","\n                        ",336],")",";",["T_WHITESPACE","\n\n                        ",337],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getSelect",339],"(",")",["T_OBJECT_OPERATOR","->",339],["T_STRING","where",339],"(",["T_CONSTANT_ENCAPSED_STRING","'1<>1'",339],")",";",["T_WHITESPACE","\n                    ",339],"}",["T_WHITESPACE","\n                ",340],"}",["T_WHITESPACE","\n\n            ",341],"}",["T_WHITESPACE","\n\n            ",343],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_applyDateRangeFilter",345],"(",")",";",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_applyProductTypeFilter",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getSelect",346],"(",")",")",";",["T_WHITESPACE","\n\n            ",346],["T_COMMENT","\/\/ add unions to select\n",348],["T_WHITESPACE","            ",349],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$selectUnions",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$unionParts",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_ARRAY","array",350],"(",")",";",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$cloneSelect",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_CLONE","clone",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getSelect",351],"(",")",";",["T_WHITESPACE","\n                ",351],["T_VARIABLE","$helper",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","Mage",352],["T_DOUBLE_COLON","::",352],["T_STRING","getResourceHelper",352],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",352],")",";",["T_WHITESPACE","\n                ",352],["T_VARIABLE","$unionParts",353],"[","]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'('",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_VARIABLE","$cloneSelect",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","')'",353],";",["T_WHITESPACE","\n                ",353],["T_FOREACH","foreach",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$selectUnions",354],["T_WHITESPACE"," ",354],["T_AS","as",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$union",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n                    ",354],["T_VARIABLE","$query",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$helper",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getQueryUsingAnalyticFunction",355],"(",["T_VARIABLE","$union",355],")",";",["T_WHITESPACE","\n                    ",355],["T_VARIABLE","$unionParts",356],"[","]",["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'('",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_VARIABLE","$query",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","')'",356],";",["T_WHITESPACE","\n                ",356],"}",["T_WHITESPACE","\n                ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getSelect",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","reset",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","union",358],"(",["T_VARIABLE","$unionParts",358],",",["T_WHITESPACE"," ",358],["T_STRING","Zend_Db_Select",358],["T_DOUBLE_COLON","::",358],["T_STRING","SQL_UNION_ALL",358],")",";",["T_WHITESPACE","\n            ",358],"}",["T_WHITESPACE","\n\n            ",359],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","isTotals",361],"(",")",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n                ",361],["T_COMMENT","\/\/ calculate total\n",362],["T_WHITESPACE","                ",363],["T_VARIABLE","$cloneSelect",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_CLONE","clone",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getSelect",363],"(",")",";",["T_WHITESPACE","\n                ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getSelect",364],"(",")",["T_OBJECT_OPERATOR","->",364],["T_STRING","reset",364],"(",")",["T_OBJECT_OPERATOR","->",364],["T_STRING","from",364],"(",["T_VARIABLE","$cloneSelect",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getAggregatedColumns",364],"(",")",")",";",["T_WHITESPACE","\n            ",364],"}",["T_WHITESPACE"," ",365],["T_ELSE","else",365],["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n                ",365],["T_COMMENT","\/\/ add sorting\n",366],["T_WHITESPACE","                ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getSelect",367],"(",")",["T_OBJECT_OPERATOR","->",367],["T_STRING","order",367],"(",["T_ARRAY","array",367],"(",["T_CONSTANT_ENCAPSED_STRING","'period ASC'",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered DESC'",367],")",")",";",["T_WHITESPACE","\n            ",367],"}",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n\n        ",369],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_DOC_COMMENT","\/**\n     * Apply filter to exclude certain product types from the collection\n     *\n     * @return Mage_Sales_Model_Resource_Report_Collection_Abstract\n     *\/",374],["T_WHITESPACE","\n    ",378],["T_PROTECTED","protected",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","_applyProductTypeFilter",379],"(",["T_STRING","Zend_Db_Select",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$select",379],")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$select",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","where",381],"(",["T_CONSTANT_ENCAPSED_STRING","'product_type_id NOT IN (?)'",381],",",["T_WHITESPACE"," ",381],["T_STRING","Mage_Catalog_Model_Product_Type",381],["T_DOUBLE_COLON","::",381],["T_STRING","getCompositeTypes",381],"(",")",")",";",["T_WHITESPACE","\n        ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n",383],"}",["T_WHITESPACE","\n",384]]