[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Sales\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Sales Order Creditmemo PDF model\n *\n * @category   Mage\n * @package    Mage_Sales\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Sales_Model_Order_Pdf_Creditmemo",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Sales_Model_Order_Pdf_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Draw table header for product items\n     *\n     * @param  Zend_Pdf_Page $page\n     * @return void\n     *\/",37],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","_drawHeader",43],"(",["T_STRING","Zend_Pdf_Page",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$page",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_setFontRegular",45],"(",["T_VARIABLE","$page",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","10",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$page",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setFillColor",46],"(",["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","Zend_Pdf_Color_RGB",46],"(",["T_DNUMBER","0.93",46],",",["T_WHITESPACE"," ",46],["T_DNUMBER","0.92",46],",",["T_WHITESPACE"," ",46],["T_DNUMBER","0.92",46],")",")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$page",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setLineColor",47],"(",["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_STRING","Zend_Pdf_Color_GrayScale",47],"(",["T_DNUMBER","0.5",47],")",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$page",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setLineWidth",48],"(",["T_DNUMBER","0.5",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$page",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drawRectangle",49],"(",["T_LNUMBER","25",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","y",49],",",["T_WHITESPACE"," ",49],["T_LNUMBER","570",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","y",49],["T_WHITESPACE"," ",49],"-",["T_WHITESPACE"," ",49],["T_LNUMBER","30",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","y",50],["T_WHITESPACE"," ",50],["T_MINUS_EQUAL","-=",50],["T_WHITESPACE"," ",50],["T_LNUMBER","10",50],";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$page",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","setFillColor",51],"(",["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","Zend_Pdf_Color_RGB",51],"(",["T_LNUMBER","0",51],",",["T_WHITESPACE"," ",51],["T_LNUMBER","0",51],",",["T_WHITESPACE"," ",51],["T_LNUMBER","0",51],")",")",";",["T_WHITESPACE","\n\n        ",51],["T_COMMENT","\/\/columns headers\n",53],["T_WHITESPACE","        ",54],["T_VARIABLE","$lines",54],"[",["T_LNUMBER","0",54],"]","[","]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'text'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","Mage",55],["T_DOUBLE_COLON","::",55],["T_STRING","helper",55],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",55],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","__",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Products'",55],")",",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'feed'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","35",56],",",["T_WHITESPACE","\n        ",56],")",";",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$lines",59],"[",["T_LNUMBER","0",59],"]","[","]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","'text'",60],["T_WHITESPACE","  ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","Mage",60],["T_DOUBLE_COLON","::",60],["T_STRING","helper",60],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","str_split",60],"(",["T_STRING","Mage",60],["T_DOUBLE_COLON","::",60],["T_STRING","helper",60],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","__",60],"(",["T_CONSTANT_ENCAPSED_STRING","'SKU'",60],")",",",["T_WHITESPACE"," ",60],["T_LNUMBER","12",60],",",["T_WHITESPACE"," ",60],["T_STRING","true",60],",",["T_WHITESPACE"," ",60],["T_STRING","true",60],")",",",["T_WHITESPACE","\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'feed'",61],["T_WHITESPACE","  ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","255",61],",",["T_WHITESPACE","\n            ",61],["T_CONSTANT_ENCAPSED_STRING","'align'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'right'",62],["T_WHITESPACE","\n        ",62],")",";",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$lines",65],"[",["T_LNUMBER","0",65],"]","[","]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n            ",65],["T_CONSTANT_ENCAPSED_STRING","'text'",66],["T_WHITESPACE","  ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_STRING","Mage",66],["T_DOUBLE_COLON","::",66],["T_STRING","helper",66],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","str_split",66],"(",["T_STRING","Mage",66],["T_DOUBLE_COLON","::",66],["T_STRING","helper",66],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","__",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Total (ex)'",66],")",",",["T_WHITESPACE"," ",66],["T_LNUMBER","12",66],",",["T_WHITESPACE"," ",66],["T_STRING","true",66],",",["T_WHITESPACE"," ",66],["T_STRING","true",66],")",",",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","'feed'",67],["T_WHITESPACE","  ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_LNUMBER","330",67],",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'align'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'right'",68],",",["T_WHITESPACE","\n            ",68],["T_COMMENT","\/\/'width' => 50,\n",69],["T_WHITESPACE","        ",70],")",";",["T_WHITESPACE","\n\n        ",70],["T_VARIABLE","$lines",72],"[",["T_LNUMBER","0",72],"]","[","]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","'text'",73],["T_WHITESPACE","  ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_STRING","Mage",73],["T_DOUBLE_COLON","::",73],["T_STRING","helper",73],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","str_split",73],"(",["T_STRING","Mage",73],["T_DOUBLE_COLON","::",73],["T_STRING","helper",73],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","__",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Discount'",73],")",",",["T_WHITESPACE"," ",73],["T_LNUMBER","12",73],",",["T_WHITESPACE"," ",73],["T_STRING","true",73],",",["T_WHITESPACE"," ",73],["T_STRING","true",73],")",",",["T_WHITESPACE","\n            ",73],["T_CONSTANT_ENCAPSED_STRING","'feed'",74],["T_WHITESPACE","  ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_LNUMBER","380",74],",",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'align'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'right'",75],",",["T_WHITESPACE","\n            ",75],["T_COMMENT","\/\/'width' => 50,\n",76],["T_WHITESPACE","        ",77],")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$lines",79],"[",["T_LNUMBER","0",79],"]","[","]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n            ",79],["T_CONSTANT_ENCAPSED_STRING","'text'",80],["T_WHITESPACE","  ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_STRING","Mage",80],["T_DOUBLE_COLON","::",80],["T_STRING","helper",80],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","str_split",80],"(",["T_STRING","Mage",80],["T_DOUBLE_COLON","::",80],["T_STRING","helper",80],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","__",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Qty'",80],")",",",["T_WHITESPACE"," ",80],["T_LNUMBER","12",80],",",["T_WHITESPACE"," ",80],["T_STRING","true",80],",",["T_WHITESPACE"," ",80],["T_STRING","true",80],")",",",["T_WHITESPACE","\n            ",80],["T_CONSTANT_ENCAPSED_STRING","'feed'",81],["T_WHITESPACE","  ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_LNUMBER","445",81],",",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'align'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'right'",82],",",["T_WHITESPACE","\n            ",82],["T_COMMENT","\/\/'width' => 30,\n",83],["T_WHITESPACE","        ",84],")",";",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$lines",86],"[",["T_LNUMBER","0",86],"]","[","]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n            ",86],["T_CONSTANT_ENCAPSED_STRING","'text'",87],["T_WHITESPACE","  ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","Mage",87],["T_DOUBLE_COLON","::",87],["T_STRING","helper",87],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","str_split",87],"(",["T_STRING","Mage",87],["T_DOUBLE_COLON","::",87],["T_STRING","helper",87],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","__",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax'",87],")",",",["T_WHITESPACE"," ",87],["T_LNUMBER","12",87],",",["T_WHITESPACE"," ",87],["T_STRING","true",87],",",["T_WHITESPACE"," ",87],["T_STRING","true",87],")",",",["T_WHITESPACE","\n            ",87],["T_CONSTANT_ENCAPSED_STRING","'feed'",88],["T_WHITESPACE","  ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_LNUMBER","495",88],",",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'align'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'right'",89],",",["T_WHITESPACE","\n            ",89],["T_COMMENT","\/\/'width' => 45,\n",90],["T_WHITESPACE","        ",91],")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$lines",93],"[",["T_LNUMBER","0",93],"]","[","]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'text'",94],["T_WHITESPACE","  ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","Mage",94],["T_DOUBLE_COLON","::",94],["T_STRING","helper",94],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","str_split",94],"(",["T_STRING","Mage",94],["T_DOUBLE_COLON","::",94],["T_STRING","helper",94],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","__",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Total (inc)'",94],")",",",["T_WHITESPACE"," ",94],["T_LNUMBER","12",94],",",["T_WHITESPACE"," ",94],["T_STRING","true",94],",",["T_WHITESPACE"," ",94],["T_STRING","true",94],")",",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'feed'",95],["T_WHITESPACE","  ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_LNUMBER","565",95],",",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'align'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'right'",96],["T_WHITESPACE","\n        ",96],")",";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$lineBlock",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'lines'",100],["T_WHITESPACE","  ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$lines",100],",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","'height'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_LNUMBER","10",101],["T_WHITESPACE","\n        ",101],")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","drawLineBlocks",104],"(",["T_VARIABLE","$page",104],",",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_VARIABLE","$lineBlock",104],")",",",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_CONSTANT_ENCAPSED_STRING","'table_header'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_STRING","true",104],")",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$page",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","setFillColor",105],"(",["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","Zend_Pdf_Color_GrayScale",105],"(",["T_LNUMBER","0",105],")",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","y",106],["T_WHITESPACE"," ",106],["T_MINUS_EQUAL","-=",106],["T_WHITESPACE"," ",106],["T_LNUMBER","20",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Return PDF document\n     *\n     * @param  array $creditmemos\n     * @return Zend_Pdf\n     *\/",109],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getPdf",115],"(",["T_VARIABLE","$creditmemos",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_beforeGetPdf",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_initRenderer",118],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",118],")",";",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$pdf",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_STRING","Zend_Pdf",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_setPdf",121],"(",["T_VARIABLE","$pdf",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$style",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","Zend_Pdf_Style",122],"(",")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_setFontBold",123],"(",["T_VARIABLE","$style",123],",",["T_WHITESPACE"," ",123],["T_LNUMBER","10",123],")",";",["T_WHITESPACE","\n\n        ",123],["T_FOREACH","foreach",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$creditmemos",125],["T_WHITESPACE"," ",125],["T_AS","as",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$creditmemo",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$creditmemo",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getStoreId",126],"(",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_STRING","Mage",127],["T_DOUBLE_COLON","::",127],["T_STRING","app",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getLocale",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","emulate",127],"(",["T_VARIABLE","$creditmemo",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getStoreId",127],"(",")",")",";",["T_WHITESPACE","\n                ",127],["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","app",128],"(",")",["T_OBJECT_OPERATOR","->",128],["T_STRING","setCurrentStore",128],"(",["T_VARIABLE","$creditmemo",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getStoreId",128],"(",")",")",";",["T_WHITESPACE","\n            ",128],"}",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$page",130],["T_WHITESPACE","  ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","newPage",130],"(",")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$order",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$creditmemo",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getOrder",131],"(",")",";",["T_WHITESPACE","\n            ",131],["T_COMMENT","\/* Add image *\/",132],["T_WHITESPACE","\n            ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","insertLogo",133],"(",["T_VARIABLE","$page",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$creditmemo",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getStore",133],"(",")",")",";",["T_WHITESPACE","\n            ",133],["T_COMMENT","\/* Add address *\/",134],["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","insertAddress",135],"(",["T_VARIABLE","$page",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$creditmemo",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getStore",135],"(",")",")",";",["T_WHITESPACE","\n            ",135],["T_COMMENT","\/* Add head *\/",136],["T_WHITESPACE","\n            ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","insertOrder",137],"(",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$page",138],",",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$order",139],",",["T_WHITESPACE","\n                ",139],["T_STRING","Mage",140],["T_DOUBLE_COLON","::",140],["T_STRING","getStoreConfigFlag",140],"(",["T_STRING","self",140],["T_DOUBLE_COLON","::",140],["T_STRING","XML_PATH_SALES_PDF_CREDITMEMO_PUT_ORDER_ID",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$order",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getStoreId",140],"(",")",")",["T_WHITESPACE","\n            ",140],")",";",["T_WHITESPACE","\n            ",141],["T_COMMENT","\/* Add document text and number *\/",142],["T_WHITESPACE","\n            ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","insertDocumentNumber",143],"(",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$page",144],",",["T_WHITESPACE","\n                ",144],["T_STRING","Mage",145],["T_DOUBLE_COLON","::",145],["T_STRING","helper",145],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","__",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Credit Memo # '",145],")",["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_VARIABLE","$creditmemo",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getIncrementId",145],"(",")",["T_WHITESPACE","\n            ",145],")",";",["T_WHITESPACE","\n            ",146],["T_COMMENT","\/* Add table head *\/",147],["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_drawHeader",148],"(",["T_VARIABLE","$page",148],")",";",["T_WHITESPACE","\n            ",148],["T_COMMENT","\/* Add body *\/",149],["T_WHITESPACE","\n            ",149],["T_FOREACH","foreach",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$creditmemo",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getAllItems",150],"(",")",["T_WHITESPACE"," ",150],["T_AS","as",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$item",150],")","{",["T_WHITESPACE","\n                ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$item",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getOrderItem",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","getParentItem",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                    ",151],["T_CONTINUE","continue",152],";",["T_WHITESPACE","\n                ",152],"}",["T_WHITESPACE","\n                ",153],["T_COMMENT","\/* Draw item *\/",154],["T_WHITESPACE","\n                ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_drawItem",155],"(",["T_VARIABLE","$item",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$page",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$order",155],")",";",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$page",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","end",156],"(",["T_VARIABLE","$pdf",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","pages",156],")",";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE","\n            ",157],["T_COMMENT","\/* Add totals *\/",158],["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","insertTotals",159],"(",["T_VARIABLE","$page",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$creditmemo",159],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_afterGetPdf",161],"(",")",";",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$creditmemo",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getStoreId",162],"(",")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_STRING","Mage",163],["T_DOUBLE_COLON","::",163],["T_STRING","app",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getLocale",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","revert",163],"(",")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n        ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$pdf",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Create new page and assign to PDF object\n     *\n     * @param  array $settings\n     * @return Zend_Pdf_Page\n     *\/",168],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","newPage",174],"(",["T_ARRAY","array",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$settings",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",")",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$page",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","parent",176],["T_DOUBLE_COLON","::",176],["T_STRING","newPage",176],"(",["T_VARIABLE","$settings",176],")",";",["T_WHITESPACE","\n        ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(","!",["T_EMPTY","empty",177],"(",["T_VARIABLE","$settings",177],"[",["T_CONSTANT_ENCAPSED_STRING","'table_header'",177],"]",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_drawHeader",178],"(",["T_VARIABLE","$page",178],")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$page",180],";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n",181],"}",["T_WHITESPACE","\n",182]]