[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Sales\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Invoice API\n *\n * @category   Mage\n * @package    Mage_Sales\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Sales_Model_Order_Invoice_Api",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Sales_Model_Api_Resource",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Initialize attributes map\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_attributesMap",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_WHITESPACE","\n            ",41],["T_CONSTANT_ENCAPSED_STRING","'invoice'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'invoice_id'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",42],")",",",["T_WHITESPACE","\n            ",42],["T_CONSTANT_ENCAPSED_STRING","'invoice_item'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_CONSTANT_ENCAPSED_STRING","'item_id'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",43],")",",",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","'invoice_comment'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_id'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",44],")",")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Retrive invoices list. Filtration could be applied\n     *\n     * @param null|object|array $filters\n     * @return array\n     *\/",47],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","items",53],"(",["T_VARIABLE","$filters",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","null",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$invoices",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_DOC_COMMENT","\/** @var $invoiceCollection Mage_Sales_Model_Mysql4_Order_Invoice_Collection *\/",56],["T_WHITESPACE","\n        ",56],["T_VARIABLE","$invoiceCollection",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","Mage",57],["T_DOUBLE_COLON","::",57],["T_STRING","getResourceModel",57],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_invoice_collection'",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$invoiceCollection",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","addAttributeToSelect",58],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",58],")",["T_WHITESPACE","\n            ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","addAttributeToSelect",59],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",59],")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","addAttributeToSelect",60],"(",["T_CONSTANT_ENCAPSED_STRING","'increment_id'",60],")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","addAttributeToSelect",61],"(",["T_CONSTANT_ENCAPSED_STRING","'created_at'",61],")",["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","addAttributeToSelect",62],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",62],")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","addAttributeToSelect",63],"(",["T_CONSTANT_ENCAPSED_STRING","'grand_total'",63],")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","addAttributeToSelect",64],"(",["T_CONSTANT_ENCAPSED_STRING","'order_currency_code'",64],")",";",["T_WHITESPACE","\n\n        ",64],["T_DOC_COMMENT","\/** @var $apiHelper Mage_Api_Helper_Data *\/",66],["T_WHITESPACE","\n        ",66],["T_VARIABLE","$apiHelper",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","Mage",67],["T_DOUBLE_COLON","::",67],["T_STRING","helper",67],"(",["T_CONSTANT_ENCAPSED_STRING","'api'",67],")",";",["T_WHITESPACE","\n        ",67],["T_TRY","try",68],["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$filters",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$apiHelper",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","parseFilters",69],"(",["T_VARIABLE","$filters",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_attributesMap",69],"[",["T_CONSTANT_ENCAPSED_STRING","'invoice'",69],"]",")",";",["T_WHITESPACE","\n            ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$filters",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$field",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$value",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                ",70],["T_VARIABLE","$invoiceCollection",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","addFieldToFilter",71],"(",["T_VARIABLE","$field",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$value",71],")",";",["T_WHITESPACE","\n            ",71],"}",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE"," ",73],["T_CATCH","catch",73],["T_WHITESPACE"," ",73],"(",["T_STRING","Mage_Core_Exception",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$e",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_fault",74],"(",["T_CONSTANT_ENCAPSED_STRING","'filters_invalid'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$e",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMessage",74],"(",")",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n        ",75],["T_FOREACH","foreach",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$invoiceCollection",76],["T_WHITESPACE"," ",76],["T_AS","as",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$invoice",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$invoices",77],"[","]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_getAttributes",77],"(",["T_VARIABLE","$invoice",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'invoice'",77],")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$invoices",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Retrieve invoice information\n     *\n     * @param string $invoiceIncrementId\n     * @return array\n     *\/",82],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","info",88],"(",["T_VARIABLE","$invoiceIncrementId",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$invoice",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","Mage",90],["T_DOUBLE_COLON","::",90],["T_STRING","getModel",90],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_invoice'",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","loadByIncrementId",90],"(",["T_VARIABLE","$invoiceIncrementId",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_COMMENT","\/* @var Mage_Sales_Model_Order_Invoice $invoice *\/",92],["T_WHITESPACE","\n\n        ",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(","!",["T_VARIABLE","$invoice",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getId",94],"(",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_fault",95],"(",["T_CONSTANT_ENCAPSED_STRING","'not_exists'",95],")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$result",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_getAttributes",98],"(",["T_VARIABLE","$invoice",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'invoice'",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$result",99],"[",["T_CONSTANT_ENCAPSED_STRING","'order_increment_id'",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$invoice",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getOrderIncrementId",99],"(",")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$result",101],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",")",";",["T_WHITESPACE","\n        ",101],["T_FOREACH","foreach",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$invoice",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getAllItems",102],"(",")",["T_WHITESPACE"," ",102],["T_AS","as",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$item",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$result",103],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",103],"]","[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_getAttributes",103],"(",["T_VARIABLE","$item",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'invoice_item'",103],")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$result",106],"[",["T_CONSTANT_ENCAPSED_STRING","'comments'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$invoice",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getCommentsCollection",107],"(",")",["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$comment",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$result",108],"[",["T_CONSTANT_ENCAPSED_STRING","'comments'",108],"]","[","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_getAttributes",108],"(",["T_VARIABLE","$comment",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'invoice_comment'",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$result",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Create new invoice for order\n     *\n     * @param string $orderIncrementId\n     * @param array $itemsQty\n     * @param string $comment\n     * @param booleam $email\n     * @param boolean $includeComment\n     * @return string\n     *\/",114],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","create",124],"(",["T_VARIABLE","$orderIncrementId",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$itemsQty",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$comment",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","null",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$email",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","false",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$includeComment",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","false",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$order",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","Mage",126],["T_DOUBLE_COLON","::",126],["T_STRING","getModel",126],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order'",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","loadByIncrementId",126],"(",["T_VARIABLE","$orderIncrementId",126],")",";",["T_WHITESPACE","\n\n        ",126],["T_COMMENT","\/* @var $order Mage_Sales_Model_Order *\/",128],["T_WHITESPACE","\n        ",128],["T_DOC_COMMENT","\/**\n          * Check order existing\n          *\/",129],["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","!",["T_VARIABLE","$order",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getId",132],"(",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n             ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_fault",133],"(",["T_CONSTANT_ENCAPSED_STRING","'order_not_exists'",133],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_DOC_COMMENT","\/**\n         * Check invoice create availability\n         *\/",136],["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_VARIABLE","$order",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","canInvoice",139],"(",")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n             ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_fault",140],"(",["T_CONSTANT_ENCAPSED_STRING","'data_invalid'",140],",",["T_WHITESPACE"," ",140],["T_STRING","Mage",140],["T_DOUBLE_COLON","::",140],["T_STRING","helper",140],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",140],")",["T_OBJECT_OPERATOR","->",140],["T_STRING","__",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot do invoice for order.'",140],")",")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$invoice",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$order",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","prepareInvoice",143],"(",["T_VARIABLE","$itemsQty",143],")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$invoice",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","register",145],"(",")",";",["T_WHITESPACE","\n\n        ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$comment",147],["T_WHITESPACE"," ",147],["T_IS_NOT_IDENTICAL","!==",147],["T_WHITESPACE"," ",147],["T_STRING","null",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$invoice",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","addComment",148],"(",["T_VARIABLE","$comment",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$email",148],")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n\n        ",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$email",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$invoice",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setEmailSent",152],"(",["T_STRING","true",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$invoice",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getOrder",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","setIsInProcess",155],"(",["T_STRING","true",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_TRY","try",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$transactionSave",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","Mage",158],["T_DOUBLE_COLON","::",158],["T_STRING","getModel",158],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource_transaction'",158],")",["T_WHITESPACE","\n                ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","addObject",159],"(",["T_VARIABLE","$invoice",159],")",["T_WHITESPACE","\n                ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","addObject",160],"(",["T_VARIABLE","$invoice",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getOrder",160],"(",")",")",["T_WHITESPACE","\n                ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","save",161],"(",")",";",["T_WHITESPACE","\n\n            ",161],["T_VARIABLE","$invoice",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","sendEmail",163],"(",["T_VARIABLE","$email",163],",",["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$includeComment",163],["T_WHITESPACE"," ",163],"?",["T_WHITESPACE"," ",163],["T_VARIABLE","$comment",163],["T_WHITESPACE"," ",163],":",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","''",163],")",")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE"," ",164],["T_CATCH","catch",164],["T_WHITESPACE"," ",164],"(",["T_STRING","Mage_Core_Exception",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$e",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_fault",165],"(",["T_CONSTANT_ENCAPSED_STRING","'data_invalid'",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$e",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getMessage",165],"(",")",")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n\n        ",166],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$invoice",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getIncrementId",168],"(",")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Add comment to invoice\n     *\n     * @param string $invoiceIncrementId\n     * @param string $comment\n     * @param boolean $email\n     * @param boolean $includeComment\n     * @return boolean\n     *\/",171],["T_WHITESPACE","\n    ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","addComment",180],"(",["T_VARIABLE","$invoiceIncrementId",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$comment",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$email",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","false",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$includeComment",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","false",180],")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$invoice",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","Mage",182],["T_DOUBLE_COLON","::",182],["T_STRING","getModel",182],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_invoice'",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","loadByIncrementId",182],"(",["T_VARIABLE","$invoiceIncrementId",182],")",";",["T_WHITESPACE","\n\n        ",182],["T_COMMENT","\/* @var $invoice Mage_Sales_Model_Order_Invoice *\/",184],["T_WHITESPACE","\n\n        ",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(","!",["T_VARIABLE","$invoice",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getId",186],"(",")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_fault",187],"(",["T_CONSTANT_ENCAPSED_STRING","'not_exists'",187],")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n\n        ",188],["T_TRY","try",191],["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$invoice",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","addComment",192],"(",["T_VARIABLE","$comment",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$email",192],")",";",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$invoice",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","sendUpdateEmail",193],"(",["T_VARIABLE","$email",193],",",["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$includeComment",193],["T_WHITESPACE"," ",193],"?",["T_WHITESPACE"," ",193],["T_VARIABLE","$comment",193],["T_WHITESPACE"," ",193],":",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","''",193],")",")",";",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$invoice",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","save",194],"(",")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE"," ",195],["T_CATCH","catch",195],["T_WHITESPACE"," ",195],"(",["T_STRING","Mage_Core_Exception",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$e",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_fault",196],"(",["T_CONSTANT_ENCAPSED_STRING","'data_invalid'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$e",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getMessage",196],"(",")",")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n\n        ",197],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_STRING","true",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Capture invoice\n     *\n     * @param string $invoiceIncrementId\n     * @return boolean\n     *\/",202],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","capture",208],"(",["T_VARIABLE","$invoiceIncrementId",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$invoice",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","Mage",210],["T_DOUBLE_COLON","::",210],["T_STRING","getModel",210],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_invoice'",210],")",["T_OBJECT_OPERATOR","->",210],["T_STRING","loadByIncrementId",210],"(",["T_VARIABLE","$invoiceIncrementId",210],")",";",["T_WHITESPACE","\n\n        ",210],["T_COMMENT","\/* @var $invoice Mage_Sales_Model_Order_Invoice *\/",212],["T_WHITESPACE","\n\n        ",212],["T_IF","if",214],["T_WHITESPACE"," ",214],"(","!",["T_VARIABLE","$invoice",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getId",214],"(",")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_fault",215],"(",["T_CONSTANT_ENCAPSED_STRING","'not_exists'",215],")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_VARIABLE","$invoice",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","canCapture",218],"(",")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_fault",219],"(",["T_CONSTANT_ENCAPSED_STRING","'status_not_changed'",219],",",["T_WHITESPACE"," ",219],["T_STRING","Mage",219],["T_DOUBLE_COLON","::",219],["T_STRING","helper",219],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",219],")",["T_OBJECT_OPERATOR","->",219],["T_STRING","__",219],"(",["T_CONSTANT_ENCAPSED_STRING","'Invoice cannot be captured.'",219],")",")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_TRY","try",222],["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$invoice",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","capture",223],"(",")",";",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$invoice",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getOrder",224],"(",")",["T_OBJECT_OPERATOR","->",224],["T_STRING","setIsInProcess",224],"(",["T_STRING","true",224],")",";",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$transactionSave",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","Mage",225],["T_DOUBLE_COLON","::",225],["T_STRING","getModel",225],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource_transaction'",225],")",["T_WHITESPACE","\n                ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","addObject",226],"(",["T_VARIABLE","$invoice",226],")",["T_WHITESPACE","\n                ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","addObject",227],"(",["T_VARIABLE","$invoice",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getOrder",227],"(",")",")",["T_WHITESPACE","\n                ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","save",228],"(",")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE"," ",229],["T_CATCH","catch",229],["T_WHITESPACE"," ",229],"(",["T_STRING","Mage_Core_Exception",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$e",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_fault",230],"(",["T_CONSTANT_ENCAPSED_STRING","'status_not_changed'",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$e",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getMessage",230],"(",")",")",";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE"," ",231],["T_CATCH","catch",231],["T_WHITESPACE"," ",231],"(",["T_STRING","Exception",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$e",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_fault",232],"(",["T_CONSTANT_ENCAPSED_STRING","'status_not_changed'",232],",",["T_WHITESPACE"," ",232],["T_STRING","Mage",232],["T_DOUBLE_COLON","::",232],["T_STRING","helper",232],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",232],")",["T_OBJECT_OPERATOR","->",232],["T_STRING","__",232],"(",["T_CONSTANT_ENCAPSED_STRING","'Invoice capturing problem.'",232],")",")",";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n\n        ",233],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_STRING","true",235],";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * Void invoice\n     *\n     * @param unknown_type $invoiceIncrementId\n     * @return unknown\n     *\/",238],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","void",244],"(",["T_VARIABLE","$invoiceIncrementId",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$invoice",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","Mage",246],["T_DOUBLE_COLON","::",246],["T_STRING","getModel",246],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_invoice'",246],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","loadByIncrementId",246],"(",["T_VARIABLE","$invoiceIncrementId",246],")",";",["T_WHITESPACE","\n\n        ",246],["T_COMMENT","\/* @var $invoice Mage_Sales_Model_Order_Invoice *\/",248],["T_WHITESPACE","\n\n        ",248],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!",["T_VARIABLE","$invoice",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getId",250],"(",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_fault",251],"(",["T_CONSTANT_ENCAPSED_STRING","'not_exists'",251],")",";",["T_WHITESPACE","\n        ",251],"}",["T_WHITESPACE","\n\n        ",252],["T_IF","if",254],["T_WHITESPACE"," ",254],"(","!",["T_VARIABLE","$invoice",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","canVoid",254],"(",")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_fault",255],"(",["T_CONSTANT_ENCAPSED_STRING","'status_not_changed'",255],",",["T_WHITESPACE"," ",255],["T_STRING","Mage",255],["T_DOUBLE_COLON","::",255],["T_STRING","helper",255],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",255],")",["T_OBJECT_OPERATOR","->",255],["T_STRING","__",255],"(",["T_CONSTANT_ENCAPSED_STRING","'Invoice cannot be voided.'",255],")",")",";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n\n        ",256],["T_TRY","try",258],["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$invoice",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","void",259],"(",")",";",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$invoice",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getOrder",260],"(",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","setIsInProcess",260],"(",["T_STRING","true",260],")",";",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$transactionSave",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","Mage",261],["T_DOUBLE_COLON","::",261],["T_STRING","getModel",261],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource_transaction'",261],")",["T_WHITESPACE","\n                ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","addObject",262],"(",["T_VARIABLE","$invoice",262],")",["T_WHITESPACE","\n                ",262],["T_OBJECT_OPERATOR","->",263],["T_STRING","addObject",263],"(",["T_VARIABLE","$invoice",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getOrder",263],"(",")",")",["T_WHITESPACE","\n                ",263],["T_OBJECT_OPERATOR","->",264],["T_STRING","save",264],"(",")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE"," ",265],["T_CATCH","catch",265],["T_WHITESPACE"," ",265],"(",["T_STRING","Mage_Core_Exception",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$e",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_fault",266],"(",["T_CONSTANT_ENCAPSED_STRING","'status_not_changed'",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$e",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getMessage",266],"(",")",")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE"," ",267],["T_CATCH","catch",267],["T_WHITESPACE"," ",267],"(",["T_STRING","Exception",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$e",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_fault",268],"(",["T_CONSTANT_ENCAPSED_STRING","'status_not_changed'",268],",",["T_WHITESPACE"," ",268],["T_STRING","Mage",268],["T_DOUBLE_COLON","::",268],["T_STRING","helper",268],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",268],")",["T_OBJECT_OPERATOR","->",268],["T_STRING","__",268],"(",["T_CONSTANT_ENCAPSED_STRING","'Invoice void problem'",268],")",")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_STRING","true",271],";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * Cancel invoice\n     *\n     * @param string $invoiceIncrementId\n     * @return boolean\n     *\/",274],["T_WHITESPACE","\n    ",279],["T_PUBLIC","public",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","cancel",280],"(",["T_VARIABLE","$invoiceIncrementId",280],")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$invoice",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","Mage",282],["T_DOUBLE_COLON","::",282],["T_STRING","getModel",282],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_invoice'",282],")",["T_OBJECT_OPERATOR","->",282],["T_STRING","loadByIncrementId",282],"(",["T_VARIABLE","$invoiceIncrementId",282],")",";",["T_WHITESPACE","\n\n        ",282],["T_COMMENT","\/* @var $invoice Mage_Sales_Model_Order_Invoice *\/",284],["T_WHITESPACE","\n\n        ",284],["T_IF","if",286],["T_WHITESPACE"," ",286],"(","!",["T_VARIABLE","$invoice",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getId",286],"(",")",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_fault",287],"(",["T_CONSTANT_ENCAPSED_STRING","'not_exists'",287],")",";",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE","\n\n        ",288],["T_IF","if",290],["T_WHITESPACE"," ",290],"(","!",["T_VARIABLE","$invoice",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","canCancel",290],"(",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_fault",291],"(",["T_CONSTANT_ENCAPSED_STRING","'status_not_changed'",291],",",["T_WHITESPACE"," ",291],["T_STRING","Mage",291],["T_DOUBLE_COLON","::",291],["T_STRING","helper",291],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",291],")",["T_OBJECT_OPERATOR","->",291],["T_STRING","__",291],"(",["T_CONSTANT_ENCAPSED_STRING","'Invoice cannot be canceled.'",291],")",")",";",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n\n        ",292],["T_TRY","try",294],["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$invoice",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","cancel",295],"(",")",";",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$invoice",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getOrder",296],"(",")",["T_OBJECT_OPERATOR","->",296],["T_STRING","setIsInProcess",296],"(",["T_STRING","true",296],")",";",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$transactionSave",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","Mage",297],["T_DOUBLE_COLON","::",297],["T_STRING","getModel",297],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource_transaction'",297],")",["T_WHITESPACE","\n                ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","addObject",298],"(",["T_VARIABLE","$invoice",298],")",["T_WHITESPACE","\n                ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","addObject",299],"(",["T_VARIABLE","$invoice",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getOrder",299],"(",")",")",["T_WHITESPACE","\n                ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","save",300],"(",")",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE"," ",301],["T_CATCH","catch",301],["T_WHITESPACE"," ",301],"(",["T_STRING","Mage_Core_Exception",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$e",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_fault",302],"(",["T_CONSTANT_ENCAPSED_STRING","'status_not_changed'",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$e",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getMessage",302],"(",")",")",";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE"," ",303],["T_CATCH","catch",303],["T_WHITESPACE"," ",303],"(",["T_STRING","Exception",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$e",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_fault",304],"(",["T_CONSTANT_ENCAPSED_STRING","'status_not_changed'",304],",",["T_WHITESPACE"," ",304],["T_STRING","Mage",304],["T_DOUBLE_COLON","::",304],["T_STRING","helper",304],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",304],")",["T_OBJECT_OPERATOR","->",304],["T_STRING","__",304],"(",["T_CONSTANT_ENCAPSED_STRING","'Invoice canceling problem.'",304],")",")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_RETURN","return",307],["T_WHITESPACE"," ",307],["T_STRING","true",307],";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n",308],"}",["T_WHITESPACE","\n",309]]