[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Sales\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Order item render block\n *\n * @category    Mage\n * @package     Mage_Sales\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Sales_Block_Order_Item_Renderer_Default",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Block_Template",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","setItem",36],"(",["T_STRING","Varien_Object",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$item",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","setData",38],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$item",38],")",";",["T_WHITESPACE","\n        ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","getItem",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_getData",44],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",44],")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Retrieve current order model instance\n     *\n     * @return Mage_Sales_Model_Order\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","getOrder",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getOrderItem",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getOrder",54],"(",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n\n    ",55],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","getOrderItem",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getItem",60],"(",")",["T_WHITESPACE"," ",60],["T_INSTANCEOF","instanceof",60],["T_WHITESPACE"," ",60],["T_STRING","Mage_Sales_Model_Order_Item",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getItem",61],"(",")",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE"," ",62],["T_ELSE","else",62],["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getItem",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getOrderItem",63],"(",")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","getItemOptions",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$result",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$options",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getOrderItem",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getProductOptions",70],"(",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_ISSET","isset",71],"(",["T_VARIABLE","$options",71],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",71],"]",")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                ",71],["T_VARIABLE","$result",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","array_merge",72],"(",["T_VARIABLE","$result",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$options",72],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",72],"]",")",";",["T_WHITESPACE","\n            ",72],"}",["T_WHITESPACE","\n            ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_ISSET","isset",74],"(",["T_VARIABLE","$options",74],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_options'",74],"]",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$result",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","array_merge",75],"(",["T_VARIABLE","$result",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$options",75],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_options'",75],"]",")",";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE","\n            ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_ISSET","isset",77],"(",["T_VARIABLE","$options",77],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes_info'",77],"]",")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n                ",77],["T_VARIABLE","$result",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","array_merge",78],"(",["T_VARIABLE","$result",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$options",78],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes_info'",78],"]",")",";",["T_WHITESPACE","\n            ",78],"}",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n        ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$result",81],";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Accept option value and return its formatted view\n     *\n     * @param mixed $optionValue\n     * Method works well with these $optionValue format:\n     *      1. String\n     *      2. Indexed array e.g. array(val1, val2, ...)\n     *      3. Associative array, containing additional option info, including option value, e.g.\n     *          array\n     *          (\n     *              [label] => ...,\n     *              [value] => ...,\n     *              [print_value] => ...,\n     *              [option_id] => ...,\n     *              [option_type] => ...,\n     *              [custom_view] =>...,\n     *          )\n     *\n     * @return array\n     *\/",84],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getFormatedOptionValue",104],"(",["T_VARIABLE","$optionValue",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$optionInfo",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",";",["T_WHITESPACE","\n\n        ",106],["T_COMMENT","\/\/ define input data format\n",108],["T_WHITESPACE","        ",109],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_STRING","is_array",109],"(",["T_VARIABLE","$optionValue",109],")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_ISSET","isset",110],"(",["T_VARIABLE","$optionValue",110],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",110],"]",")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_VARIABLE","$optionInfo",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$optionValue",111],";",["T_WHITESPACE","\n                ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_ISSET","isset",112],"(",["T_VARIABLE","$optionInfo",112],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",112],"]",")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                    ",112],["T_VARIABLE","$optionValue",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$optionInfo",113],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",113],"]",";",["T_WHITESPACE","\n                ",113],"}",["T_WHITESPACE","\n            ",114],"}",["T_WHITESPACE"," ",115],["T_ELSEIF","elseif",115],["T_WHITESPACE"," ",115],"(",["T_ISSET","isset",115],"(",["T_VARIABLE","$optionValue",115],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",115],"]",")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n                ",115],["T_VARIABLE","$optionValue",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$optionValue",116],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",116],"]",";",["T_WHITESPACE","\n            ",116],"}",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n\n        ",118],["T_COMMENT","\/\/ render customized option view\n",120],["T_WHITESPACE","        ",121],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_ISSET","isset",121],"(",["T_VARIABLE","$optionInfo",121],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_view'",121],"]",")",["T_WHITESPACE"," ",121],["T_BOOLEAN_AND","&&",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$optionInfo",121],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_view'",121],"]",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$_default",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$optionValue",122],")",";",["T_WHITESPACE","\n            ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_ISSET","isset",123],"(",["T_VARIABLE","$optionInfo",123],"[",["T_CONSTANT_ENCAPSED_STRING","'option_type'",123],"]",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_TRY","try",124],["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                    ",124],["T_VARIABLE","$group",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","Mage",125],["T_DOUBLE_COLON","::",125],["T_STRING","getModel",125],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_option'",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","groupFactory",125],"(",["T_VARIABLE","$optionInfo",125],"[",["T_CONSTANT_ENCAPSED_STRING","'option_type'",125],"]",")",";",["T_WHITESPACE","\n                    ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$group",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getCustomizedView",126],"(",["T_VARIABLE","$optionInfo",126],")",")",";",["T_WHITESPACE","\n                ",126],"}",["T_WHITESPACE"," ",127],["T_CATCH","catch",127],["T_WHITESPACE"," ",127],"(",["T_STRING","Exception",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$e",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                    ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$_default",128],";",["T_WHITESPACE","\n                ",128],"}",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n            ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$_default",131],";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n        ",132],["T_COMMENT","\/\/ truncate standard view\n",134],["T_WHITESPACE","        ",135],["T_VARIABLE","$result",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_STRING","is_array",136],"(",["T_VARIABLE","$optionValue",136],")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$_truncatedValue",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","implode",137],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$optionValue",137],")",";",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$_truncatedValue",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","nl2br",138],"(",["T_VARIABLE","$_truncatedValue",138],")",";",["T_WHITESPACE","\n            ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$_truncatedValue",139],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE"," ",140],["T_ELSE","else",140],["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$_truncatedValue",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","Mage",141],["T_DOUBLE_COLON","::",141],["T_STRING","helper",141],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",141],")",["T_OBJECT_OPERATOR","->",141],["T_STRING","truncate",141],"(",["T_VARIABLE","$optionValue",141],",",["T_WHITESPACE"," ",141],["T_LNUMBER","55",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","''",141],")",";",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$_truncatedValue",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","nl2br",142],"(",["T_VARIABLE","$_truncatedValue",142],")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$result",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$_truncatedValue",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","helper",147],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","strlen",147],"(",["T_VARIABLE","$optionValue",147],")",["T_WHITESPACE"," ",147],">",["T_WHITESPACE"," ",147],["T_LNUMBER","55",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$result",148],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",148],"]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$result",148],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",148],"]",["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","' <a href=\"#\" class=\"dots\" onclick=\"return false\">...<\/a>'",148],";",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$optionValue",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","nl2br",149],"(",["T_VARIABLE","$optionValue",149],")",";",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$result",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","array_merge",150],"(",["T_VARIABLE","$result",150],",",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_CONSTANT_ENCAPSED_STRING","'full_view'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$optionValue",150],")",")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$result",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Return sku of order item.\n     *\n     * @return string\n     *\/",156],["T_WHITESPACE","\n    ",160],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","getSku",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_COMMENT","\/*if ($this->getOrderItem()->getProductType() == Mage_Catalog_Model_Product_Type::TYPE_CONFIGURABLE) {\n            return $this->getOrderItem()->getProductOptionByCode('simple_sku');\n        }*\/",163],["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getItem",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getSku",166],"(",")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Return product additional information block\n     *\n     * @return Mage_Core_Block_Abstract\n     *\/",169],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","getProductAdditionalInformationBlock",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getLayout",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getBlock",176],"(",["T_CONSTANT_ENCAPSED_STRING","'additional.product.info'",176],")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n",177],"}",["T_WHITESPACE","\n",178]]