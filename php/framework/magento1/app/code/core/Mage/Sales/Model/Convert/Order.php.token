[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Sales\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Order data convert model\n *\n * @category    Mage\n * @package     Mage_Sales\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Sales_Model_Convert_Order",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Varien_Object",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Converting order object to quote object\n     *\n     * @param   Mage_Sales_Model_Order $order\n     * @return  Mage_Sales_Model_Quote\n     *\/",36],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","toQuote",42],"(",["T_STRING","Mage_Sales_Model_Order",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$order",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$quote",42],"=",["T_STRING","null",42],")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(","!","(",["T_VARIABLE","$quote",44],["T_WHITESPACE"," ",44],["T_INSTANCEOF","instanceof",44],["T_WHITESPACE"," ",44],["T_STRING","Mage_Sales_Model_Quote",44],")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$quote",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","Mage",45],["T_DOUBLE_COLON","::",45],["T_STRING","getModel",45],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/quote'",45],")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$quote",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setStoreId",48],"(",["T_VARIABLE","$order",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getStoreId",48],"(",")",")",["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","setOrderId",49],"(",["T_VARIABLE","$order",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getId",49],"(",")",")",";",["T_WHITESPACE","\n\n        ",49],["T_STRING","Mage",51],["T_DOUBLE_COLON","::",51],["T_STRING","helper",51],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","copyFieldset",51],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'to_quote'",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$order",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$quote",51],")",";",["T_WHITESPACE","\n\n        ",51],["T_STRING","Mage",53],["T_DOUBLE_COLON","::",53],["T_STRING","dispatchEvent",53],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order_to_quote'",53],",",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_CONSTANT_ENCAPSED_STRING","'order'",53],["T_DOUBLE_ARROW","=>",53],["T_VARIABLE","$order",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'quote'",53],["T_DOUBLE_ARROW","=>",53],["T_VARIABLE","$quote",53],")",")",";",["T_WHITESPACE","\n        ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$quote",54],";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Convert order to shipping address\n     *\n     * @param   Mage_Sales_Model_Order $order\n     * @return  Mage_Sales_Model_Quote_Address\n     *\/",57],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","toQuoteShippingAddress",63],"(",["T_STRING","Mage_Sales_Model_Order",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$order",63],")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$address",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","addressToQuoteAddress",65],"(",["T_VARIABLE","$order",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getShippingAddress",65],"(",")",")",";",["T_WHITESPACE","\n\n        ",65],["T_STRING","Mage",67],["T_DOUBLE_COLON","::",67],["T_STRING","helper",67],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",67],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","copyFieldset",67],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'to_quote_address'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$order",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$address",67],")",";",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$address",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Convert order address to quote address\n     *\n     * @param   Mage_Sales_Model_Order_Address $address\n     * @return  Mage_Sales_Model_Quote_Address\n     *\/",71],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","addressToQuoteAddress",77],"(",["T_STRING","Mage_Sales_Model_Order_Address",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$address",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$quoteAddress",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","Mage",79],["T_DOUBLE_COLON","::",79],["T_STRING","getModel",79],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/quote_address'",79],")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","setStoreId",80],"(",["T_VARIABLE","$address",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getStoreId",80],"(",")",")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","setAddressType",81],"(",["T_VARIABLE","$address",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getAddressType",81],"(",")",")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","setCustomerId",82],"(",["T_VARIABLE","$address",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getCustomerId",82],"(",")",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","setCustomerAddressId",83],"(",["T_VARIABLE","$address",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getCustomerAddressId",83],"(",")",")",";",["T_WHITESPACE","\n\n        ",83],["T_STRING","Mage",85],["T_DOUBLE_COLON","::",85],["T_STRING","helper",85],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","copyFieldset",85],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order_address'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'to_quote_address'",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$address",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$quoteAddress",85],")",";",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$quoteAddress",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Convert order payment to quote payment\n     *\n     * @param   Mage_Sales_Model_Order_Payment $payment\n     * @return  Mage_Sales_Model_Quote_Payment\n     *\/",89],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","paymentToQuotePayment",95],"(",["T_STRING","Mage_Sales_Model_Order_Payment",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$payment",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$quotePayment",95],"=",["T_STRING","null",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","!","(",["T_VARIABLE","$quotePayment",97],["T_WHITESPACE"," ",97],["T_INSTANCEOF","instanceof",97],["T_WHITESPACE"," ",97],["T_STRING","Mage_Sales_Model_Quote_Payment",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$quotePayment",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","Mage",98],["T_DOUBLE_COLON","::",98],["T_STRING","getModel",98],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/quote_payment'",98],")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$quotePayment",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setStoreId",101],"(",["T_VARIABLE","$payment",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getStoreId",101],"(",")",")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","setCustomerPaymentId",102],"(",["T_VARIABLE","$payment",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getCustomerPaymentId",102],"(",")",")",";",["T_WHITESPACE","\n\n        ",102],["T_STRING","Mage",104],["T_DOUBLE_COLON","::",104],["T_STRING","helper",104],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","copyFieldset",104],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order_payment'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'to_quote_payment'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$payment",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$quotePayment",104],")",";",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$quotePayment",105],";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Retrieve\n     *\n     * @param Mage_Sales_Model_Order_Item $item\n     * @return unknown\n     *\/",108],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","itemToQuoteItem",114],"(",["T_STRING","Mage_Sales_Model_Order_Item",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$item",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$quoteItem",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","Mage",116],["T_DOUBLE_COLON","::",116],["T_STRING","getModel",116],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/quote_item'",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","setStoreId",117],"(",["T_VARIABLE","$item",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getOrder",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getStoreId",117],"(",")",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","setQuoteItemId",118],"(",["T_VARIABLE","$item",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getId",118],"(",")",")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","setProductId",119],"(",["T_VARIABLE","$item",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getProductId",119],"(",")",")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","setParentProductId",120],"(",["T_VARIABLE","$item",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getParentProductId",120],"(",")",")",";",["T_WHITESPACE","\n\n        ",120],["T_STRING","Mage",122],["T_DOUBLE_COLON","::",122],["T_STRING","helper",122],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",122],")",["T_OBJECT_OPERATOR","->",122],["T_STRING","copyFieldset",122],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order_item'",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'to_quote_item'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$item",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$quoteItem",122],")",";",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$quoteItem",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Convert order object to invoice\n     *\n     * @param   Mage_Sales_Model_Order $order\n     * @return  Mage_Sales_Model_Order_Invoice\n     *\/",126],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","toInvoice",132],"(",["T_STRING","Mage_Sales_Model_Order",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$order",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$invoice",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","Mage",134],["T_DOUBLE_COLON","::",134],["T_STRING","getModel",134],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_invoice'",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$invoice",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setOrder",135],"(",["T_VARIABLE","$order",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","setStoreId",136],"(",["T_VARIABLE","$order",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getStoreId",136],"(",")",")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","setCustomerId",137],"(",["T_VARIABLE","$order",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getCustomerId",137],"(",")",")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","setBillingAddressId",138],"(",["T_VARIABLE","$order",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getBillingAddressId",138],"(",")",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","setShippingAddressId",139],"(",["T_VARIABLE","$order",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getShippingAddressId",139],"(",")",")",";",["T_WHITESPACE","\n\n        ",139],["T_STRING","Mage",141],["T_DOUBLE_COLON","::",141],["T_STRING","helper",141],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",141],")",["T_OBJECT_OPERATOR","->",141],["T_STRING","copyFieldset",141],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'to_invoice'",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$order",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$invoice",141],")",";",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$invoice",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Convert order item object to invoice item\n     *\n     * @param   Mage_Sales_Model_Order_Item $item\n     * @return  Mage_Sales_Model_Order_Invoice_Item\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","itemToInvoiceItem",151],"(",["T_STRING","Mage_Sales_Model_Order_Item",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$item",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$invoiceItem",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","Mage",153],["T_DOUBLE_COLON","::",153],["T_STRING","getModel",153],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_invoice_item'",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$invoiceItem",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","setOrderItem",154],"(",["T_VARIABLE","$item",154],")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","setProductId",155],"(",["T_VARIABLE","$item",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getProductId",155],"(",")",")",";",["T_WHITESPACE","\n\n        ",155],["T_STRING","Mage",157],["T_DOUBLE_COLON","::",157],["T_STRING","helper",157],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",157],")",["T_OBJECT_OPERATOR","->",157],["T_STRING","copyFieldset",157],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order_item'",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'to_invoice_item'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$item",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$invoiceItem",157],")",";",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$invoiceItem",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Convert order object to Shipment\n     *\n     * @param   Mage_Sales_Model_Order $order\n     * @return  Mage_Sales_Model_Order_Shipment\n     *\/",161],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","toShipment",167],"(",["T_STRING","Mage_Sales_Model_Order",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$order",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$shipment",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","Mage",169],["T_DOUBLE_COLON","::",169],["T_STRING","getModel",169],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_shipment'",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$shipment",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setOrder",170],"(",["T_VARIABLE","$order",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","setStoreId",171],"(",["T_VARIABLE","$order",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getStoreId",171],"(",")",")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","setCustomerId",172],"(",["T_VARIABLE","$order",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getCustomerId",172],"(",")",")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","setBillingAddressId",173],"(",["T_VARIABLE","$order",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getBillingAddressId",173],"(",")",")",["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","setShippingAddressId",174],"(",["T_VARIABLE","$order",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getShippingAddressId",174],"(",")",")",";",["T_WHITESPACE","\n\n        ",174],["T_STRING","Mage",176],["T_DOUBLE_COLON","::",176],["T_STRING","helper",176],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","copyFieldset",176],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order'",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'to_shipment'",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$order",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$shipment",176],")",";",["T_WHITESPACE","\n        ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$shipment",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Convert order item object to Shipment item\n     *\n     * @param   Mage_Sales_Model_Order_Item $item\n     * @return  Mage_Sales_Model_Order_Shipment_Item\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","itemToShipmentItem",186],"(",["T_STRING","Mage_Sales_Model_Order_Item",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$item",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$shipmentItem",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","Mage",188],["T_DOUBLE_COLON","::",188],["T_STRING","getModel",188],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_shipment_item'",188],")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$shipmentItem",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setOrderItem",189],"(",["T_VARIABLE","$item",189],")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","setProductId",190],"(",["T_VARIABLE","$item",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getProductId",190],"(",")",")",";",["T_WHITESPACE","\n\n        ",190],["T_STRING","Mage",192],["T_DOUBLE_COLON","::",192],["T_STRING","helper",192],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",192],")",["T_OBJECT_OPERATOR","->",192],["T_STRING","copyFieldset",192],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order_item'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'to_shipment_item'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$item",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$shipmentItem",192],")",";",["T_WHITESPACE","\n        ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$shipmentItem",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Convert order object to creditmemo\n     *\n     * @param   Mage_Sales_Model_Order $order\n     * @return  Mage_Sales_Model_Order_Creditmemo\n     *\/",196],["T_WHITESPACE","\n    ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","toCreditmemo",202],"(",["T_STRING","Mage_Sales_Model_Order",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$order",202],")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$creditmemo",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","Mage",204],["T_DOUBLE_COLON","::",204],["T_STRING","getModel",204],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_creditmemo'",204],")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$creditmemo",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","setOrder",205],"(",["T_VARIABLE","$order",205],")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","setStoreId",206],"(",["T_VARIABLE","$order",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getStoreId",206],"(",")",")",["T_WHITESPACE","\n            ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","setCustomerId",207],"(",["T_VARIABLE","$order",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getCustomerId",207],"(",")",")",["T_WHITESPACE","\n            ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","setBillingAddressId",208],"(",["T_VARIABLE","$order",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getBillingAddressId",208],"(",")",")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","setShippingAddressId",209],"(",["T_VARIABLE","$order",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getShippingAddressId",209],"(",")",")",";",["T_WHITESPACE","\n\n        ",209],["T_STRING","Mage",211],["T_DOUBLE_COLON","::",211],["T_STRING","helper",211],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",211],")",["T_OBJECT_OPERATOR","->",211],["T_STRING","copyFieldset",211],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'to_cm'",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$order",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$creditmemo",211],")",";",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$creditmemo",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Convert order item object to Creditmemo item\n     *\n     * @param   Mage_Sales_Model_Order_Item $item\n     * @return  Mage_Sales_Model_Order_Creditmemo_Item\n     *\/",215],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","itemToCreditmemoItem",221],"(",["T_STRING","Mage_Sales_Model_Order_Item",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$item",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$creditmemoItem",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","Mage",223],["T_DOUBLE_COLON","::",223],["T_STRING","getModel",223],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_creditmemo_item'",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$creditmemoItem",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","setOrderItem",224],"(",["T_VARIABLE","$item",224],")",["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","setProductId",225],"(",["T_VARIABLE","$item",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getProductId",225],"(",")",")",";",["T_WHITESPACE","\n\n        ",225],["T_STRING","Mage",227],["T_DOUBLE_COLON","::",227],["T_STRING","helper",227],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",227],")",["T_OBJECT_OPERATOR","->",227],["T_STRING","copyFieldset",227],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_convert_order_item'",227],",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'to_cm_item'",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$item",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$creditmemoItem",227],")",";",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$creditmemoItem",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n",229],"}",["T_WHITESPACE","\n",230]]