[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Sales\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_VARIABLE","$installer",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],";",["T_WHITESPACE","\n",27],["T_COMMENT","\/* @var $installer Mage_Sales_Model_Entity_Setup *\/",28],["T_WHITESPACE","\n\n",28],["T_VARIABLE","$installer",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","startSetup",30],"(",")",";",["T_WHITESPACE","\n\n",30],["T_VARIABLE","$installer",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","run",32],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\n\n\/*Table structure for table `sales_order` *\/\n\nDROP TABLE IF EXISTS ",32],["T_CURLY_OPEN","{",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getTable",36],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",36],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",36],["T_CURLY_OPEN","{",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getTable",37],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",37],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `entity_id` int(10) unsigned NOT NULL auto_increment,\n  `entity_type_id` smallint(5) unsigned NOT NULL default '0',\n  `attribute_set_id` smallint(5) unsigned NOT NULL default '0',\n  `increment_id` varchar(50) NOT NULL default '',\n  `parent_id` int(10) unsigned NOT NULL default '0',\n  `store_id` smallint(5) unsigned default NULL,\n  `created_at` datetime NOT NULL default '0000-00-00 00:00:00',\n  `updated_at` datetime NOT NULL default '0000-00-00 00:00:00',\n  `is_active` tinyint(1) unsigned NOT NULL default '1',\n  `customer_id` int(11),\n  `tax_amount` decimal(12,4) NOT NULL default '0.0000',\n  `shipping_amount` decimal(12,4) NOT NULL default '0.0000',\n  `discount_amount` decimal(12,4) NOT NULL default '0.0000',\n  `subtotal` decimal(12,4) NOT NULL default '0.0000',\n  `grand_total` decimal(12,4) NOT NULL default '0.0000',\n  `total_paid` decimal(12,4) NOT NULL default '0.0000',\n  `total_refunded` decimal(12,4) NOT NULL default '0.0000',\n  `total_qty_ordered` decimal(12,4) NOT NULL default '0.0000',\n  `total_canceled` decimal(12,4) NOT NULL default '0.0000',\n  `total_invoiced` decimal(12,4) NOT NULL default '0.0000',\n  `total_online_refunded` decimal(12,4) NOT NULL default '0.0000',\n  `total_offline_refunded` decimal(12,4) NOT NULL default '0.0000',\n  `base_tax_amount` decimal(12,4) NOT NULL default '0.0000',\n  `base_shipping_amount` decimal(12,4) NOT NULL default '0.0000',\n  `base_discount_amount` decimal(12,4) NOT NULL default '0.0000',\n  `base_subtotal` decimal(12,4) NOT NULL default '0.0000',\n  `base_grand_total` decimal(12,4) NOT NULL default '0.0000',\n  `base_total_paid` decimal(12,4) NOT NULL default '0.0000',\n  `base_total_refunded` decimal(12,4) NOT NULL default '0.0000',\n  `base_total_qty_ordered` decimal(12,4) NOT NULL default '0.0000',\n  `base_total_canceled` decimal(12,4) NOT NULL default '0.0000',\n  `base_total_invoiced` decimal(12,4) NOT NULL default '0.0000',\n  `base_total_online_refunded` decimal(12,4) NOT NULL default '0.0000',\n  `base_total_offline_refunded` decimal(12,4) NOT NULL default '0.0000',\n  PRIMARY KEY  (`entity_id`),\n  KEY `FK_sales_order_type` (`entity_type_id`),\n  KEY `FK_sales_order_store` (`store_id`),\n  CONSTRAINT `FK_SALE_ORDER_STORE` FOREIGN KEY (`store_id`) REFERENCES `",37],["T_CURLY_OPEN","{",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getTable",75],"(",["T_CONSTANT_ENCAPSED_STRING","'core_store'",75],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`store_id`) ON DELETE SET NULL ON UPDATE CASCADE,\n  CONSTRAINT `FK_SALE_ORDER_TYPE` FOREIGN KEY (`entity_type_id`) REFERENCES `",75],["T_CURLY_OPEN","{",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getTable",76],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_type'",76],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_type_id`) ON DELETE CASCADE ON UPDATE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;\n\n\nDROP TABLE IF EXISTS ",76],["T_CURLY_OPEN","{",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getTable",80],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",80],")","}",["T_ENCAPSED_AND_WHITESPACE","_datetime;\nCREATE TABLE `",80],["T_CURLY_OPEN","{",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getTable",81],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",81],")","}",["T_ENCAPSED_AND_WHITESPACE","_datetime` (\n  `value_id` int(11) NOT NULL auto_increment,\n  `entity_type_id` smallint(5) unsigned NOT NULL default '0',\n  `attribute_id` smallint(5) unsigned NOT NULL default '0',\n  `entity_id` int(10) unsigned NOT NULL default '0',\n  `value` datetime NOT NULL default '0000-00-00 00:00:00',\n  PRIMARY KEY  (`value_id`),\n  KEY `FK_sales_order_datetime_entity_type` (`entity_type_id`),\n  KEY `FK_sales_order_datetime_attribute` (`attribute_id`),\n  KEY `FK_sales_order_datetime` (`entity_id`),\n  CONSTRAINT `FK_sales_order_datetime` FOREIGN KEY (`entity_id`) REFERENCES `",81],["T_CURLY_OPEN","{",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getTable",91],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",91],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_datetime_attribute` FOREIGN KEY (`attribute_id`) REFERENCES `",91],["T_CURLY_OPEN","{",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getTable",92],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",92],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`attribute_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_datetime_entity_type` FOREIGN KEY (`entity_type_id`) REFERENCES `",92],["T_CURLY_OPEN","{",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getTable",93],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_type'",93],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_type_id`) ON DELETE CASCADE ON UPDATE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nDROP TABLE IF EXISTS ",93],["T_CURLY_OPEN","{",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getTable",96],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",96],")","}",["T_ENCAPSED_AND_WHITESPACE","_decimal;\nCREATE TABLE `",96],["T_CURLY_OPEN","{",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getTable",97],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",97],")","}",["T_ENCAPSED_AND_WHITESPACE","_decimal` (\n  `value_id` int(11) NOT NULL auto_increment,\n  `entity_type_id` smallint(5) unsigned NOT NULL default '0',\n  `attribute_id` smallint(5) unsigned NOT NULL default '0',\n  `entity_id` int(10) unsigned NOT NULL default '0',\n  `value` decimal(12,4) NOT NULL default '0.0000',\n  PRIMARY KEY  (`value_id`),\n  KEY `FK_sales_order_decimal_entity_type` (`entity_type_id`),\n  KEY `FK_sales_order_decimal_attribute` (`attribute_id`),\n  KEY `FK_sales_order_decimal` (`entity_id`),\n  CONSTRAINT `FK_sales_order_decimal` FOREIGN KEY (`entity_id`) REFERENCES `",97],["T_CURLY_OPEN","{",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getTable",107],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",107],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_decimal_attribute` FOREIGN KEY (`attribute_id`) REFERENCES `",107],["T_CURLY_OPEN","{",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getTable",108],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",108],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`attribute_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_decimal_entity_type` FOREIGN KEY (`entity_type_id`) REFERENCES `",108],["T_CURLY_OPEN","{",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getTable",109],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_type'",109],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_type_id`) ON DELETE CASCADE ON UPDATE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nDROP TABLE IF EXISTS ",109],["T_CURLY_OPEN","{",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getTable",112],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",112],")","}",["T_ENCAPSED_AND_WHITESPACE","_int;\nCREATE TABLE `",112],["T_CURLY_OPEN","{",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getTable",113],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",113],")","}",["T_ENCAPSED_AND_WHITESPACE","_int` (\n  `value_id` int(11) NOT NULL auto_increment,\n  `entity_type_id` smallint(5) unsigned NOT NULL default '0',\n  `attribute_id` smallint(5) unsigned NOT NULL default '0',\n  `entity_id` int(10) unsigned NOT NULL default '0',\n  `value` int(11) NOT NULL default '0',\n  PRIMARY KEY  (`value_id`),\n  KEY `FK_sales_order_int_entity_type` (`entity_type_id`),\n  KEY `FK_sales_order_int_attribute` (`attribute_id`),\n  KEY `FK_sales_order_int` (`entity_id`),\n  CONSTRAINT `FK_sales_order_int` FOREIGN KEY (`entity_id`) REFERENCES `",113],["T_CURLY_OPEN","{",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getTable",123],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",123],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_int_attribute` FOREIGN KEY (`attribute_id`) REFERENCES `",123],["T_CURLY_OPEN","{",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getTable",124],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",124],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`attribute_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_int_entity_type` FOREIGN KEY (`entity_type_id`) REFERENCES `",124],["T_CURLY_OPEN","{",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getTable",125],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_type'",125],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_type_id`) ON DELETE CASCADE ON UPDATE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nDROP TABLE IF EXISTS ",125],["T_CURLY_OPEN","{",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getTable",128],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",128],")","}",["T_ENCAPSED_AND_WHITESPACE","_text;\nCREATE TABLE `",128],["T_CURLY_OPEN","{",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getTable",129],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",129],")","}",["T_ENCAPSED_AND_WHITESPACE","_text` (\n  `value_id` int(11) NOT NULL auto_increment,\n  `entity_type_id` smallint(5) unsigned NOT NULL default '0',\n  `attribute_id` smallint(5) unsigned NOT NULL default '0',\n  `entity_id` int(10) unsigned NOT NULL default '0',\n  `value` text NOT NULL,\n  PRIMARY KEY  (`value_id`),\n  KEY `FK_sales_order_text_entity_type` (`entity_type_id`),\n  KEY `FK_sales_order_text_attribute` (`attribute_id`),\n  KEY `FK_sales_order_text` (`entity_id`),\n  CONSTRAINT `FK_sales_order_text` FOREIGN KEY (`entity_id`) REFERENCES `",129],["T_CURLY_OPEN","{",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getTable",139],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",139],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_text_attribute` FOREIGN KEY (`attribute_id`) REFERENCES `",139],["T_CURLY_OPEN","{",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getTable",140],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",140],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`attribute_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_text_entity_type` FOREIGN KEY (`entity_type_id`) REFERENCES `",140],["T_CURLY_OPEN","{",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getTable",141],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_type'",141],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_type_id`) ON DELETE CASCADE ON UPDATE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nDROP TABLE IF EXISTS ",141],["T_CURLY_OPEN","{",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getTable",144],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",144],")","}",["T_ENCAPSED_AND_WHITESPACE","_varchar;\nCREATE TABLE `",144],["T_CURLY_OPEN","{",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getTable",145],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",145],")","}",["T_ENCAPSED_AND_WHITESPACE","_varchar` (\n  `value_id` int(11) NOT NULL auto_increment,\n  `entity_type_id` smallint(5) unsigned NOT NULL default '0',\n  `attribute_id` smallint(5) unsigned NOT NULL default '0',\n  `entity_id` int(10) unsigned NOT NULL default '0',\n  `value` varchar(255) NOT NULL default '',\n  PRIMARY KEY  (`value_id`),\n  KEY `FK_sales_order_varchar_entity_type` (`entity_type_id`),\n  KEY `FK_sales_order_varchar_attribute` (`attribute_id`),\n  KEY `FK_sales_order_varchar` (`entity_id`),\n  CONSTRAINT `FK_sales_order_varchar` FOREIGN KEY (`entity_id`) REFERENCES `",145],["T_CURLY_OPEN","{",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getTable",155],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",155],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_varchar_attribute` FOREIGN KEY (`attribute_id`) REFERENCES `",155],["T_CURLY_OPEN","{",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getTable",156],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",156],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`attribute_id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `FK_sales_order_varchar_entity_type` FOREIGN KEY (`entity_type_id`) REFERENCES `",156],["T_CURLY_OPEN","{",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getTable",157],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_type'",157],")","}",["T_ENCAPSED_AND_WHITESPACE","` (`entity_type_id`) ON DELETE CASCADE ON UPDATE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n",157],"\"",")",";",["T_WHITESPACE","\n\n",160],["T_VARIABLE","$installer",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","endSetup",162],"(",")",";",["T_WHITESPACE","\n\n",162],["T_VARIABLE","$orderEntityTypeId",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getEntityTypeId",164],"(",["T_CONSTANT_ENCAPSED_STRING","'order'",164],")",";",["T_WHITESPACE","\n\n",164],["T_VARIABLE","$attributes",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_WHITESPACE","\n    ",166],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",")",",",["T_WHITESPACE","\n    ",167],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",",",["T_WHITESPACE","\n    ",168],["T_CONSTANT_ENCAPSED_STRING","'shipping_amount'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",")",",",["T_WHITESPACE","\n    ",169],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",")",",",["T_WHITESPACE","\n    ",170],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",")",",",["T_WHITESPACE","\n    ",171],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",")",",",["T_WHITESPACE","\n    ",172],["T_CONSTANT_ENCAPSED_STRING","'total_paid'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",")",",",["T_WHITESPACE","\n    ",173],["T_CONSTANT_ENCAPSED_STRING","'total_refunded'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",")",",",["T_WHITESPACE","\n    ",174],["T_CONSTANT_ENCAPSED_STRING","'total_qty_ordered'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",")",",",["T_WHITESPACE","\n    ",175],["T_CONSTANT_ENCAPSED_STRING","'total_canceled'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",",",["T_WHITESPACE","\n    ",176],["T_CONSTANT_ENCAPSED_STRING","'total_invoiced'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_ARRAY","array",177],"(",")",",",["T_WHITESPACE","\n    ",177],["T_CONSTANT_ENCAPSED_STRING","'total_online_refunded'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",")",",",["T_WHITESPACE","\n    ",178],["T_CONSTANT_ENCAPSED_STRING","'total_offline_refunded'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",")",",",["T_WHITESPACE","\n    ",179],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",")",",",["T_WHITESPACE","\n    ",180],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_amount'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",")",",",["T_WHITESPACE","\n    ",181],["T_CONSTANT_ENCAPSED_STRING","'base_discount_amount'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",")",",",["T_WHITESPACE","\n    ",182],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_ARRAY","array",183],"(",")",",",["T_WHITESPACE","\n    ",183],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",")",",",["T_WHITESPACE","\n    ",184],["T_CONSTANT_ENCAPSED_STRING","'base_total_paid'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",")",",",["T_WHITESPACE","\n    ",185],["T_CONSTANT_ENCAPSED_STRING","'base_total_refunded'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",")",",",["T_WHITESPACE","\n    ",186],["T_CONSTANT_ENCAPSED_STRING","'base_total_qty_ordered'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",")",",",["T_WHITESPACE","\n    ",187],["T_CONSTANT_ENCAPSED_STRING","'base_total_canceled'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",")",",",["T_WHITESPACE","\n    ",188],["T_CONSTANT_ENCAPSED_STRING","'base_total_invoiced'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",")",",",["T_WHITESPACE","\n    ",189],["T_CONSTANT_ENCAPSED_STRING","'base_total_online_refunded'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",")",",",["T_WHITESPACE","\n    ",190],["T_CONSTANT_ENCAPSED_STRING","'base_total_offline_refunded'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_ARRAY","array",191],"(",")",["T_WHITESPACE","\n",191],")",";",["T_WHITESPACE","\n\n",192],["T_VARIABLE","$select",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_NEW","new",194],["T_WHITESPACE"," ",194],["T_STRING","Zend_Db_Select",194],"(",["T_VARIABLE","$installer",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getConnection",194],"(",")",")",";",["T_WHITESPACE","\n",194],["T_VARIABLE","$select",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","from",195],"(",["T_ARRAY","array",195],"(",["T_CONSTANT_ENCAPSED_STRING","'e'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getTable",195],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity'",195],")",")",")",";",["T_WHITESPACE","\n\n\n\n",195],["T_VARIABLE","$attributeIds",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",")",";",["T_WHITESPACE","\n",199],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$attributes",200],["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$code",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$params",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$attributes",201],"[",["T_VARIABLE","$code",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$installer",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getAttribute",201],"(",["T_VARIABLE","$orderEntityTypeId",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$code",201],")",";",["T_WHITESPACE","\n    ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$attributes",202],"[",["T_VARIABLE","$code",202],"]","[",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",202],"]",["T_WHITESPACE"," ",202],["T_IS_NOT_EQUAL","!=",202],["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'static'",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$select",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","joinLeft",203],"(",["T_ARRAY","array",203],"(","\"",["T_ENCAPSED_AND_WHITESPACE","_table_",203],["T_CURLY_OPEN","{",203],["T_VARIABLE","$code",203],"}","\"",["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],"\"",["T_CURLY_OPEN","{",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getTable",203],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity'",203],")","}",["T_ENCAPSED_AND_WHITESPACE","_",203],["T_CURLY_OPEN","{",203],["T_VARIABLE","$attributes",203],"[",["T_VARIABLE","$code",203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",203],"]","}","\"",")",",",["T_WHITESPACE","\n                ",203],"\"",["T_ENCAPSED_AND_WHITESPACE","_table_",204],["T_CURLY_OPEN","{",204],["T_VARIABLE","$code",204],"}",["T_ENCAPSED_AND_WHITESPACE",".attribute_id = ",204],["T_CURLY_OPEN","{",204],["T_VARIABLE","$attributes",204],"[",["T_VARIABLE","$code",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",204],"]","}",["T_ENCAPSED_AND_WHITESPACE"," AND _table_",204],["T_CURLY_OPEN","{",204],["T_VARIABLE","$code",204],"}",["T_ENCAPSED_AND_WHITESPACE",".entity_id = e.entity_id",204],"\"",",",["T_WHITESPACE","\n                ",204],["T_ARRAY","array",205],"(",["T_VARIABLE","$code",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'value'",205],")",")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$select",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","join",206],"(",["T_WHITESPACE","\n            ",206],["T_ARRAY","array",207],"(","\"",["T_ENCAPSED_AND_WHITESPACE","_eav_atr_",207],["T_CURLY_OPEN","{",207],["T_VARIABLE","$code",207],"}","\"",["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getTable",207],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute'",207],")",")",",",["T_WHITESPACE","\n            ",207],"\"",["T_ENCAPSED_AND_WHITESPACE","_eav_atr_",208],["T_CURLY_OPEN","{",208],["T_VARIABLE","$code",208],"}",["T_ENCAPSED_AND_WHITESPACE",".attribute_id = ",208],["T_CURLY_OPEN","{",208],["T_VARIABLE","$attributes",208],"[",["T_VARIABLE","$code",208],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",208],"]","}","\"",",",["T_WHITESPACE","\n            ",208],["T_ARRAY","array",209],"(",")",["T_WHITESPACE","\n        ",209],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$attributeIds",211],"[","]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$attributes",211],"[",["T_VARIABLE","$code",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",211],"]",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n",212],"}",["T_WHITESPACE","\n\n",213],["T_VARIABLE","$select",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","where",215],"(","\"",["T_ENCAPSED_AND_WHITESPACE","e.entity_type_id = ",215],["T_CURLY_OPEN","{",215],["T_VARIABLE","$orderEntityTypeId",215],"}","\"",")",";",["T_WHITESPACE","\n\n",215],["T_VARIABLE","$orders",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$installer",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getConnection",217],"(",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","fetchAll",217],"(",["T_VARIABLE","$select",217],")",";",["T_WHITESPACE","\n\n",217],["T_FOREACH","foreach",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$orders",219],["T_WHITESPACE"," ",219],["T_AS","as",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$order",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$old_entity_id",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$order",220],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",220],"]",";",["T_WHITESPACE","\n    ",220],["T_UNSET","unset",221],"(",["T_VARIABLE","$order",221],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",221],"]",")",";",["T_WHITESPACE","\n    ",221],["T_UNSET","unset",222],"(",["T_VARIABLE","$order",222],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",222],"]",")",";",["T_WHITESPACE","\n    ",222],["T_FOREACH","foreach",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$order",223],["T_WHITESPACE"," ",223],["T_AS","as",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$key",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$field",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$field",224],["T_WHITESPACE"," ",224],["T_IS_EQUAL","==",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","''",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_UNSET","unset",225],"(",["T_VARIABLE","$order",225],"[",["T_VARIABLE","$key",225],"]",")",";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$installer",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getConnection",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","insert",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getTable",228],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",228],")",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$order",228],")",";",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$new_entity_id",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$installer",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getConnection",229],"(",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","lastInsertId",229],"(",")",";",["T_WHITESPACE","\n\n    ",229],["T_VARIABLE","$installer",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","run",231],"(","\"",["T_ENCAPSED_AND_WHITESPACE","UPDATE ",231],["T_CURLY_OPEN","{",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getTable",231],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity'",231],")","}",["T_ENCAPSED_AND_WHITESPACE"," SET parent_id=",231],["T_CURLY_OPEN","{",231],["T_VARIABLE","$new_entity_id",231],"}",["T_ENCAPSED_AND_WHITESPACE"," WHERE parent_id=",231],["T_CURLY_OPEN","{",231],["T_VARIABLE","$old_entity_id",231],"}","\"",")",";",["T_WHITESPACE","\n\n    ",231],["T_VARIABLE","$tables",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",["T_CONSTANT_ENCAPSED_STRING","\"varchar\"",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\"int\"",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\"datetime\"",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\"text\"",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\"decimal\"",233],")",";",["T_WHITESPACE","\n    ",233],["T_FOREACH","foreach",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$tables",234],["T_WHITESPACE"," ",234],["T_AS","as",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$table",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$delete",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$attrs",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$installer",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getConnection",236],"(",")",["T_OBJECT_OPERATOR","->",236],["T_STRING","fetchAll",236],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT tt.* FROM ",236],["T_CURLY_OPEN","{",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getTable",236],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity'",236],")","}",["T_ENCAPSED_AND_WHITESPACE","_",236],["T_CURLY_OPEN","{",236],["T_VARIABLE","$table",236],"}",["T_ENCAPSED_AND_WHITESPACE"," tt JOIN eav_attribute on eav_attribute.attribute_id = tt.attribute_id  WHERE entity_id=",236],["T_CURLY_OPEN","{",236],["T_VARIABLE","$old_entity_id",236],"}","\"",")",";",["T_WHITESPACE","\n        ",236],["T_FOREACH","foreach",237],"(",["T_VARIABLE","$attrs",237],["T_WHITESPACE"," ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$attr",237],["T_WHITESPACE"," ",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(","!",["T_STRING","in_array",238],"(",["T_VARIABLE","$attr",238],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",238],"]",",",["T_WHITESPACE"," ",238],["T_VARIABLE","$attributeIds",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                ",238],["T_UNSET","unset",239],"(",["T_VARIABLE","$attr",239],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",239],"]",")",";",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$attr",240],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",240],"]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$new_entity_id",240],";",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$installer",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getConnection",241],"(",")",["T_OBJECT_OPERATOR","->",241],["T_STRING","insert",241],"(","\"",["T_CURLY_OPEN","{",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getTable",241],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",241],")","}",["T_ENCAPSED_AND_WHITESPACE","_",241],["T_CURLY_OPEN","{",241],["T_VARIABLE","$table",241],"}","\"",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$attr",241],")",";",["T_WHITESPACE","\n            ",241],"}",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n",244],"}",["T_WHITESPACE","\n\n",245],["T_VARIABLE","$installer",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","run",247],"(","\"",["T_ENCAPSED_AND_WHITESPACE","DELETE FROM ",247],["T_CURLY_OPEN","{",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getTable",247],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_entity'",247],")","}",["T_ENCAPSED_AND_WHITESPACE"," WHERE parent_id=0",247],"\"",")",";",["T_WHITESPACE","\n\n",247],["T_VARIABLE","$installer",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","installEntities",249],"(",")",";",["T_WHITESPACE","\n",249]]