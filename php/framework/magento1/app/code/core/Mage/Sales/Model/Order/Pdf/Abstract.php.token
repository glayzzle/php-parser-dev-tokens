[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Sales\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Sales Order PDF abstract model\n *\n * @category   Mage\n * @package    Mage_Sales\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_ABSTRACT","abstract",34],["T_WHITESPACE"," ",34],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Sales_Model_Order_Pdf_Abstract",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Varien_Object",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Y coordinate\n     *\n     * @var int\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$y",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Item renderers with render type key\n     *\n     * model    => the model name\n     * renderer => the renderer model\n     *\n     * @var array\n     *\/",43],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_renderers",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Predefined constants\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","XML_PATH_SALES_PDF_INVOICE_PUT_ORDER_ID",56],["T_WHITESPACE","       ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'sales_pdf\/invoice\/put_order_id'",56],";",["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","XML_PATH_SALES_PDF_SHIPMENT_PUT_ORDER_ID",57],["T_WHITESPACE","      ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'sales_pdf\/shipment\/put_order_id'",57],";",["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","XML_PATH_SALES_PDF_CREDITMEMO_PUT_ORDER_ID",58],["T_WHITESPACE","    ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'sales_pdf\/creditmemo\/put_order_id'",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Zend PDF object\n     *\n     * @var Zend_Pdf\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_pdf",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Default total model\n     *\n     * @var string\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_defaultTotalModel",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'sales\/order_pdf_total_default'",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Retrieve PDF\n     *\n     * @return Zend_Pdf\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_ABSTRACT","abstract",79],["T_WHITESPACE"," ",79],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","getPdf",79],"(",")",";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Returns the total width in points of the string using the specified font and\n     * size.\n     *\n     * This is not the most efficient way to perform this calculation. I'm\n     * concentrating optimization efforts on the upcoming layout manager class.\n     * Similar calculations exist inside the layout manager class, but widths are\n     * generally calculated only after determining line fragments.\n     *\n     * @param  string $string\n     * @param  Zend_Pdf_Resource_Font $font\n     * @param  float $fontSize Font size in points\n     * @return float\n     *\/",81],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","widthForStringUsingFontSize",95],"(",["T_VARIABLE","$string",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$font",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$fontSize",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$drawingString",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'\"libiconv\"'",97],["T_WHITESPACE"," ",97],["T_IS_EQUAL","==",97],["T_WHITESPACE"," ",97],["T_STRING","ICONV_IMPL",97],["T_WHITESPACE"," ",97],"?",["T_WHITESPACE","\n            ",97],["T_STRING","iconv",98],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'UTF-16BE\/\/IGNORE'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$string",98],")",["T_WHITESPACE"," ",98],":",["T_WHITESPACE","\n            ",98],"@",["T_STRING","iconv",99],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'UTF-16BE'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$string",99],")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$characters",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",")",";",["T_WHITESPACE","\n        ",101],["T_FOR","for",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$i",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_LNUMBER","0",102],";",["T_WHITESPACE"," ",102],["T_VARIABLE","$i",102],["T_WHITESPACE"," ",102],"<",["T_WHITESPACE"," ",102],["T_STRING","strlen",102],"(",["T_VARIABLE","$drawingString",102],")",";",["T_WHITESPACE"," ",102],["T_VARIABLE","$i",102],["T_INC","++",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$characters",103],"[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"(",["T_STRING","ord",103],"(",["T_VARIABLE","$drawingString",103],"[",["T_VARIABLE","$i",103],["T_INC","++",103],"]",")",["T_WHITESPACE"," ",103],["T_SL","<<",103],["T_WHITESPACE"," ",103],["T_LNUMBER","8",103],")",["T_WHITESPACE"," ",103],"|",["T_WHITESPACE"," ",103],["T_STRING","ord",103],"(",["T_VARIABLE","$drawingString",103],"[",["T_VARIABLE","$i",103],"]",")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$glyphs",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$font",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","glyphNumbersForCharacters",105],"(",["T_VARIABLE","$characters",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$widths",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$font",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","widthsForGlyphs",106],"(",["T_VARIABLE","$glyphs",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$stringWidth",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],"(",["T_STRING","array_sum",107],"(",["T_VARIABLE","$widths",107],")",["T_WHITESPACE"," ",107],"\/",["T_WHITESPACE"," ",107],["T_VARIABLE","$font",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getUnitsPerEm",107],"(",")",")",["T_WHITESPACE"," ",107],"*",["T_WHITESPACE"," ",107],["T_VARIABLE","$fontSize",107],";",["T_WHITESPACE","\n        ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$stringWidth",108],";",["T_WHITESPACE","\n\n    ",108],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Calculate coordinates to draw something in a column aligned to the right\n     *\n     * @param  string $string\n     * @param  int $x\n     * @param  int $columnWidth\n     * @param  Zend_Pdf_Resource_Font $font\n     * @param  int $fontSize\n     * @param  int $padding\n     * @return int\n     *\/",112],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getAlignRight",123],"(",["T_VARIABLE","$string",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$x",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$columnWidth",123],",",["T_WHITESPACE"," ",123],["T_STRING","Zend_Pdf_Resource_Font",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$font",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$fontSize",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$padding",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_LNUMBER","5",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$width",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","widthForStringUsingFontSize",125],"(",["T_VARIABLE","$string",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$font",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$fontSize",125],")",";",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$x",126],["T_WHITESPACE"," ",126],"+",["T_WHITESPACE"," ",126],["T_VARIABLE","$columnWidth",126],["T_WHITESPACE"," ",126],"-",["T_WHITESPACE"," ",126],["T_VARIABLE","$width",126],["T_WHITESPACE"," ",126],"-",["T_WHITESPACE"," ",126],["T_VARIABLE","$padding",126],";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Calculate coordinates to draw something in a column aligned to the center\n     *\n     * @param  string $string\n     * @param  int $x\n     * @param  int $columnWidth\n     * @param  Zend_Pdf_Resource_Font $font\n     * @param  int $fontSize\n     * @return int\n     *\/",129],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","getAlignCenter",139],"(",["T_VARIABLE","$string",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$x",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$columnWidth",139],",",["T_WHITESPACE"," ",139],["T_STRING","Zend_Pdf_Resource_Font",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$font",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$fontSize",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$width",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","widthForStringUsingFontSize",141],"(",["T_VARIABLE","$string",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$font",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$fontSize",141],")",";",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$x",142],["T_WHITESPACE"," ",142],"+",["T_WHITESPACE"," ",142],["T_STRING","round",142],"(","(",["T_VARIABLE","$columnWidth",142],["T_WHITESPACE"," ",142],"-",["T_WHITESPACE"," ",142],["T_VARIABLE","$width",142],")",["T_WHITESPACE"," ",142],"\/",["T_WHITESPACE"," ",142],["T_LNUMBER","2",142],")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Insert logo to pdf page\n     *\n     * @param Zend_Pdf_Page $page\n     * @param null $store\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","insertLogo",151],"(","&",["T_VARIABLE","$page",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$store",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","null",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","y",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","y",153],["T_WHITESPACE"," ",153],"?",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","y",153],["T_WHITESPACE"," ",153],":",["T_WHITESPACE"," ",153],["T_LNUMBER","815",153],";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$image",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","Mage",154],["T_DOUBLE_COLON","::",154],["T_STRING","getStoreConfig",154],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/identity\/logo'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$store",154],")",";",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$image",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$image",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","Mage",156],["T_DOUBLE_COLON","::",156],["T_STRING","getBaseDir",156],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",156],")",["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'\/sales\/store\/logo\/'",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$image",156],";",["T_WHITESPACE","\n            ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_STRING","is_file",157],"(",["T_VARIABLE","$image",157],")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$image",158],["T_WHITESPACE","       ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","Zend_Pdf_Image",158],["T_DOUBLE_COLON","::",158],["T_STRING","imageWithPath",158],"(",["T_VARIABLE","$image",158],")",";",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$top",159],["T_WHITESPACE","         ",159],"=",["T_WHITESPACE"," ",159],["T_LNUMBER","830",159],";",["T_WHITESPACE"," ",159],["T_COMMENT","\/\/top border of the page\n",159],["T_WHITESPACE","                ",160],["T_VARIABLE","$widthLimit",160],["T_WHITESPACE","  ",160],"=",["T_WHITESPACE"," ",160],["T_LNUMBER","270",160],";",["T_WHITESPACE"," ",160],["T_COMMENT","\/\/half of the page width\n",160],["T_WHITESPACE","                ",161],["T_VARIABLE","$heightLimit",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_LNUMBER","270",161],";",["T_WHITESPACE"," ",161],["T_COMMENT","\/\/assuming the image is not a \"skyscraper\"\n",161],["T_WHITESPACE","                ",162],["T_VARIABLE","$width",162],["T_WHITESPACE","       ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$image",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getPixelWidth",162],"(",")",";",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$height",163],["T_WHITESPACE","      ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$image",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getPixelHeight",163],"(",")",";",["T_WHITESPACE","\n\n                ",163],["T_COMMENT","\/\/preserving aspect ratio (proportions)\n",165],["T_WHITESPACE","                ",166],["T_VARIABLE","$ratio",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$width",166],["T_WHITESPACE"," ",166],"\/",["T_WHITESPACE"," ",166],["T_VARIABLE","$height",166],";",["T_WHITESPACE","\n                ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$ratio",167],["T_WHITESPACE"," ",167],">",["T_WHITESPACE"," ",167],["T_LNUMBER","1",167],["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$width",167],["T_WHITESPACE"," ",167],">",["T_WHITESPACE"," ",167],["T_VARIABLE","$widthLimit",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$width",168],["T_WHITESPACE","  ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$widthLimit",168],";",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$height",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$width",169],["T_WHITESPACE"," ",169],"\/",["T_WHITESPACE"," ",169],["T_VARIABLE","$ratio",169],";",["T_WHITESPACE","\n                ",169],"}",["T_WHITESPACE"," ",170],["T_ELSEIF","elseif",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$ratio",170],["T_WHITESPACE"," ",170],"<",["T_WHITESPACE"," ",170],["T_LNUMBER","1",170],["T_WHITESPACE"," ",170],["T_BOOLEAN_AND","&&",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$height",170],["T_WHITESPACE"," ",170],">",["T_WHITESPACE"," ",170],["T_VARIABLE","$heightLimit",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                    ",170],["T_VARIABLE","$height",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$heightLimit",171],";",["T_WHITESPACE","\n                    ",171],["T_VARIABLE","$width",172],["T_WHITESPACE","  ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$height",172],["T_WHITESPACE"," ",172],"*",["T_WHITESPACE"," ",172],["T_VARIABLE","$ratio",172],";",["T_WHITESPACE","\n                ",172],"}",["T_WHITESPACE"," ",173],["T_ELSEIF","elseif",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$ratio",173],["T_WHITESPACE"," ",173],["T_IS_EQUAL","==",173],["T_WHITESPACE"," ",173],["T_LNUMBER","1",173],["T_WHITESPACE"," ",173],["T_BOOLEAN_AND","&&",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$height",173],["T_WHITESPACE"," ",173],">",["T_WHITESPACE"," ",173],["T_VARIABLE","$heightLimit",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                    ",173],["T_VARIABLE","$height",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$heightLimit",174],";",["T_WHITESPACE","\n                    ",174],["T_VARIABLE","$width",175],["T_WHITESPACE","  ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$widthLimit",175],";",["T_WHITESPACE","\n                ",175],"}",["T_WHITESPACE","\n\n                ",176],["T_VARIABLE","$y1",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$top",178],["T_WHITESPACE"," ",178],"-",["T_WHITESPACE"," ",178],["T_VARIABLE","$height",178],";",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$y2",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$top",179],";",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$x1",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_LNUMBER","25",180],";",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$x2",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$x1",181],["T_WHITESPACE"," ",181],"+",["T_WHITESPACE"," ",181],["T_VARIABLE","$width",181],";",["T_WHITESPACE","\n\n                ",181],["T_COMMENT","\/\/coordinates after transformation are rounded by Zend\n",183],["T_WHITESPACE","                ",184],["T_VARIABLE","$page",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","drawImage",184],"(",["T_VARIABLE","$image",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$x1",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$y1",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$x2",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$y2",184],")",";",["T_WHITESPACE","\n\n                ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","y",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$y1",186],["T_WHITESPACE"," ",186],"-",["T_WHITESPACE"," ",186],["T_LNUMBER","10",186],";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * Insert address to pdf page\n     *\n     * @param Zend_Pdf_Page $page\n     * @param null $store\n     *\/",191],["T_WHITESPACE","\n    ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","insertAddress",197],"(","&",["T_VARIABLE","$page",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$store",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","null",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$page",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","setFillColor",199],"(",["T_NEW","new",199],["T_WHITESPACE"," ",199],["T_STRING","Zend_Pdf_Color_GrayScale",199],"(",["T_LNUMBER","0",199],")",")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$font",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_setFontRegular",200],"(",["T_VARIABLE","$page",200],",",["T_WHITESPACE"," ",200],["T_LNUMBER","10",200],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$page",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","setLineWidth",201],"(",["T_LNUMBER","0",201],")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","y",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","y",202],["T_WHITESPACE"," ",202],"?",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","y",202],["T_WHITESPACE"," ",202],":",["T_WHITESPACE"," ",202],["T_LNUMBER","815",202],";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$top",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_LNUMBER","815",203],";",["T_WHITESPACE","\n        ",203],["T_FOREACH","foreach",204],["T_WHITESPACE"," ",204],"(",["T_STRING","explode",204],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",204],",",["T_WHITESPACE"," ",204],["T_STRING","Mage",204],["T_DOUBLE_COLON","::",204],["T_STRING","getStoreConfig",204],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/identity\/address'",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$store",204],")",")",["T_WHITESPACE"," ",204],["T_AS","as",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$value",204],")","{",["T_WHITESPACE","\n            ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$value",205],["T_WHITESPACE"," ",205],["T_IS_NOT_IDENTICAL","!==",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","''",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$value",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","preg_replace",206],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<br[^>]*>\/i'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$value",206],")",";",["T_WHITESPACE","\n                ",206],["T_FOREACH","foreach",207],["T_WHITESPACE"," ",207],"(",["T_STRING","Mage",207],["T_DOUBLE_COLON","::",207],["T_STRING","helper",207],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",207],")",["T_OBJECT_OPERATOR","->",207],["T_STRING","str_split",207],"(",["T_VARIABLE","$value",207],",",["T_WHITESPACE"," ",207],["T_LNUMBER","45",207],",",["T_WHITESPACE"," ",207],["T_STRING","true",207],",",["T_WHITESPACE"," ",207],["T_STRING","true",207],")",["T_WHITESPACE"," ",207],["T_AS","as",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$_value",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                    ",207],["T_VARIABLE","$page",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","drawText",208],"(",["T_STRING","trim",208],"(",["T_STRING","strip_tags",208],"(",["T_VARIABLE","$_value",208],")",")",",",["T_WHITESPACE","\n                        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getAlignRight",209],"(",["T_VARIABLE","$_value",209],",",["T_WHITESPACE"," ",209],["T_LNUMBER","130",209],",",["T_WHITESPACE"," ",209],["T_LNUMBER","440",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$font",209],",",["T_WHITESPACE"," ",209],["T_LNUMBER","10",209],")",",",["T_WHITESPACE","\n                        ",209],["T_VARIABLE","$top",210],",",["T_WHITESPACE","\n                        ",210],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",211],")",";",["T_WHITESPACE","\n                    ",211],["T_VARIABLE","$top",212],["T_WHITESPACE"," ",212],["T_MINUS_EQUAL","-=",212],["T_WHITESPACE"," ",212],["T_LNUMBER","10",212],";",["T_WHITESPACE","\n                ",212],"}",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","y",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","y",216],["T_WHITESPACE"," ",216],">",["T_WHITESPACE"," ",216],["T_VARIABLE","$top",216],")",["T_WHITESPACE"," ",216],"?",["T_WHITESPACE"," ",216],["T_VARIABLE","$top",216],["T_WHITESPACE"," ",216],":",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","y",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Format address\n     *\n     * @param  string $address\n     * @return array\n     *\/",219],["T_WHITESPACE","\n    ",224],["T_PROTECTED","protected",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","_formatAddress",225],"(",["T_VARIABLE","$address",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$return",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_ARRAY","array",227],"(",")",";",["T_WHITESPACE","\n        ",227],["T_FOREACH","foreach",228],["T_WHITESPACE"," ",228],"(",["T_STRING","explode",228],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$address",228],")",["T_WHITESPACE"," ",228],["T_AS","as",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$str",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_FOREACH","foreach",229],["T_WHITESPACE"," ",229],"(",["T_STRING","Mage",229],["T_DOUBLE_COLON","::",229],["T_STRING","helper",229],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",229],")",["T_OBJECT_OPERATOR","->",229],["T_STRING","str_split",229],"(",["T_VARIABLE","$str",229],",",["T_WHITESPACE"," ",229],["T_LNUMBER","45",229],",",["T_WHITESPACE"," ",229],["T_STRING","true",229],",",["T_WHITESPACE"," ",229],["T_STRING","true",229],")",["T_WHITESPACE"," ",229],["T_AS","as",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$part",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n                ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_EMPTY","empty",230],"(",["T_VARIABLE","$part",230],")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                    ",230],["T_CONTINUE","continue",231],";",["T_WHITESPACE","\n                ",231],"}",["T_WHITESPACE","\n                ",232],["T_VARIABLE","$return",233],"[","]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$part",233],";",["T_WHITESPACE","\n            ",233],"}",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$return",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Calculate address height\n     *\n     * @param  array $address\n     * @return int Height\n     *\/",239],["T_WHITESPACE","\n    ",244],["T_PROTECTED","protected",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","_calcAddressHeight",245],"(",["T_VARIABLE","$address",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$y",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_LNUMBER","0",247],";",["T_WHITESPACE","\n        ",247],["T_FOREACH","foreach",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$address",248],["T_WHITESPACE"," ",248],["T_AS","as",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$value",248],")","{",["T_WHITESPACE","\n            ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$value",249],["T_WHITESPACE"," ",249],["T_IS_NOT_IDENTICAL","!==",249],["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","''",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$text",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_ARRAY","array",250],"(",")",";",["T_WHITESPACE","\n                ",250],["T_FOREACH","foreach",251],["T_WHITESPACE"," ",251],"(",["T_STRING","Mage",251],["T_DOUBLE_COLON","::",251],["T_STRING","helper",251],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",251],")",["T_OBJECT_OPERATOR","->",251],["T_STRING","str_split",251],"(",["T_VARIABLE","$value",251],",",["T_WHITESPACE"," ",251],["T_LNUMBER","55",251],",",["T_WHITESPACE"," ",251],["T_STRING","true",251],",",["T_WHITESPACE"," ",251],["T_STRING","true",251],")",["T_WHITESPACE"," ",251],["T_AS","as",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$_value",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                    ",251],["T_VARIABLE","$text",252],"[","]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$_value",252],";",["T_WHITESPACE","\n                ",252],"}",["T_WHITESPACE","\n                ",253],["T_FOREACH","foreach",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$text",254],["T_WHITESPACE"," ",254],["T_AS","as",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$part",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                    ",254],["T_VARIABLE","$y",255],["T_WHITESPACE"," ",255],["T_PLUS_EQUAL","+=",255],["T_WHITESPACE"," ",255],["T_LNUMBER","15",255],";",["T_WHITESPACE","\n                ",255],"}",["T_WHITESPACE","\n            ",256],"}",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$y",259],";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Insert order to pdf page\n     *\n     * @param Zend_Pdf_Page $page\n     * @param Mage_Sales_Model_Order $obj\n     * @param bool $putOrderId\n     *\/",262],["T_WHITESPACE","\n    ",268],["T_PROTECTED","protected",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","insertOrder",269],"(","&",["T_VARIABLE","$page",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$obj",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$putOrderId",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","true",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$obj",271],["T_WHITESPACE"," ",271],["T_INSTANCEOF","instanceof",271],["T_WHITESPACE"," ",271],["T_STRING","Mage_Sales_Model_Order",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$shipment",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","null",272],";",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$order",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$obj",273],";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE"," ",274],["T_ELSEIF","elseif",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$obj",274],["T_WHITESPACE"," ",274],["T_INSTANCEOF","instanceof",274],["T_WHITESPACE"," ",274],["T_STRING","Mage_Sales_Model_Order_Shipment",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$shipment",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$obj",275],";",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$order",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$shipment",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getOrder",276],"(",")",";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n\n        ",277],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","y",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","y",279],["T_WHITESPACE"," ",279],"?",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","y",279],["T_WHITESPACE"," ",279],":",["T_WHITESPACE"," ",279],["T_LNUMBER","815",279],";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$top",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","y",280],";",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$page",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","setFillColor",282],"(",["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","Zend_Pdf_Color_GrayScale",282],"(",["T_DNUMBER","0.45",282],")",")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$page",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","setLineColor",283],"(",["T_NEW","new",283],["T_WHITESPACE"," ",283],["T_STRING","Zend_Pdf_Color_GrayScale",283],"(",["T_DNUMBER","0.45",283],")",")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$page",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","drawRectangle",284],"(",["T_LNUMBER","25",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$top",284],",",["T_WHITESPACE"," ",284],["T_LNUMBER","570",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$top",284],["T_WHITESPACE"," ",284],"-",["T_WHITESPACE"," ",284],["T_LNUMBER","55",284],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$page",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","setFillColor",285],"(",["T_NEW","new",285],["T_WHITESPACE"," ",285],["T_STRING","Zend_Pdf_Color_GrayScale",285],"(",["T_LNUMBER","1",285],")",")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","setDocHeaderCoordinates",286],"(",["T_ARRAY","array",286],"(",["T_LNUMBER","25",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$top",286],",",["T_WHITESPACE"," ",286],["T_LNUMBER","570",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$top",286],["T_WHITESPACE"," ",286],"-",["T_WHITESPACE"," ",286],["T_LNUMBER","55",286],")",")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_setFontRegular",287],"(",["T_VARIABLE","$page",287],",",["T_WHITESPACE"," ",287],["T_LNUMBER","10",287],")",";",["T_WHITESPACE","\n\n        ",287],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$putOrderId",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_VARIABLE","$page",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","drawText",290],"(",["T_WHITESPACE","\n                ",290],["T_STRING","Mage",291],["T_DOUBLE_COLON","::",291],["T_STRING","helper",291],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",291],")",["T_OBJECT_OPERATOR","->",291],["T_STRING","__",291],"(",["T_CONSTANT_ENCAPSED_STRING","'Order # '",291],")",["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_VARIABLE","$order",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getRealOrderId",291],"(",")",",",["T_WHITESPACE"," ",291],["T_LNUMBER","35",291],",",["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$top",291],["T_WHITESPACE"," ",291],["T_MINUS_EQUAL","-=",291],["T_WHITESPACE"," ",291],["T_LNUMBER","30",291],")",",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",291],["T_WHITESPACE","\n            ",291],")",";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$page",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","drawText",294],"(",["T_WHITESPACE","\n            ",294],["T_STRING","Mage",295],["T_DOUBLE_COLON","::",295],["T_STRING","helper",295],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",295],")",["T_OBJECT_OPERATOR","->",295],["T_STRING","__",295],"(",["T_CONSTANT_ENCAPSED_STRING","'Order Date: '",295],")",["T_WHITESPACE"," ",295],".",["T_WHITESPACE"," ",295],["T_STRING","Mage",295],["T_DOUBLE_COLON","::",295],["T_STRING","helper",295],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",295],")",["T_OBJECT_OPERATOR","->",295],["T_STRING","formatDate",295],"(",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$order",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getCreatedAtStoreDate",296],"(",")",",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'medium'",296],",",["T_WHITESPACE"," ",296],["T_STRING","false",296],["T_WHITESPACE","\n            ",296],")",",",["T_WHITESPACE","\n            ",297],["T_LNUMBER","35",298],",",["T_WHITESPACE","\n            ",298],"(",["T_VARIABLE","$top",299],["T_WHITESPACE"," ",299],["T_MINUS_EQUAL","-=",299],["T_WHITESPACE"," ",299],["T_LNUMBER","15",299],")",",",["T_WHITESPACE","\n            ",299],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",300],["T_WHITESPACE","\n        ",300],")",";",["T_WHITESPACE","\n\n        ",301],["T_VARIABLE","$top",303],["T_WHITESPACE"," ",303],["T_MINUS_EQUAL","-=",303],["T_WHITESPACE"," ",303],["T_LNUMBER","10",303],";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$page",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","setFillColor",304],"(",["T_NEW","new",304],["T_WHITESPACE"," ",304],["T_STRING","Zend_Pdf_Color_Rgb",304],"(",["T_DNUMBER","0.93",304],",",["T_WHITESPACE"," ",304],["T_DNUMBER","0.92",304],",",["T_WHITESPACE"," ",304],["T_DNUMBER","0.92",304],")",")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$page",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","setLineColor",305],"(",["T_NEW","new",305],["T_WHITESPACE"," ",305],["T_STRING","Zend_Pdf_Color_GrayScale",305],"(",["T_DNUMBER","0.5",305],")",")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$page",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","setLineWidth",306],"(",["T_DNUMBER","0.5",306],")",";",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$page",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","drawRectangle",307],"(",["T_LNUMBER","25",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$top",307],",",["T_WHITESPACE"," ",307],["T_LNUMBER","275",307],",",["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$top",307],["T_WHITESPACE"," ",307],"-",["T_WHITESPACE"," ",307],["T_LNUMBER","25",307],")",")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$page",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","drawRectangle",308],"(",["T_LNUMBER","275",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$top",308],",",["T_WHITESPACE"," ",308],["T_LNUMBER","570",308],",",["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$top",308],["T_WHITESPACE"," ",308],"-",["T_WHITESPACE"," ",308],["T_LNUMBER","25",308],")",")",";",["T_WHITESPACE","\n\n        ",308],["T_COMMENT","\/* Calculate blocks info *\/",310],["T_WHITESPACE","\n\n        ",310],["T_COMMENT","\/* Billing Address *\/",312],["T_WHITESPACE","\n        ",312],["T_VARIABLE","$billingAddress",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_formatAddress",313],"(",["T_VARIABLE","$order",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getBillingAddress",313],"(",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","format",313],"(",["T_CONSTANT_ENCAPSED_STRING","'pdf'",313],")",")",";",["T_WHITESPACE","\n\n        ",313],["T_COMMENT","\/* Payment *\/",315],["T_WHITESPACE","\n        ",315],["T_VARIABLE","$paymentInfo",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","Mage",316],["T_DOUBLE_COLON","::",316],["T_STRING","helper",316],"(",["T_CONSTANT_ENCAPSED_STRING","'payment'",316],")",["T_OBJECT_OPERATOR","->",316],["T_STRING","getInfoBlock",316],"(",["T_VARIABLE","$order",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getPayment",316],"(",")",")",["T_WHITESPACE","\n            ",316],["T_OBJECT_OPERATOR","->",317],["T_STRING","setIsSecureMode",317],"(",["T_STRING","true",317],")",["T_WHITESPACE","\n            ",317],["T_OBJECT_OPERATOR","->",318],["T_STRING","toPdf",318],"(",")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$paymentInfo",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","htmlspecialchars_decode",319],"(",["T_VARIABLE","$paymentInfo",319],",",["T_WHITESPACE"," ",319],["T_STRING","ENT_QUOTES",319],")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$payment",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_STRING","explode",320],"(",["T_CONSTANT_ENCAPSED_STRING","'{{pdf_row_separator}}'",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$paymentInfo",320],")",";",["T_WHITESPACE","\n        ",320],["T_FOREACH","foreach",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$payment",321],["T_WHITESPACE"," ",321],["T_AS","as",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$key",321],["T_DOUBLE_ARROW","=>",321],["T_VARIABLE","$value",321],")","{",["T_WHITESPACE","\n            ",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_STRING","strip_tags",322],"(",["T_STRING","trim",322],"(",["T_VARIABLE","$value",322],")",")",["T_WHITESPACE"," ",322],["T_IS_EQUAL","==",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","''",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                ",322],["T_UNSET","unset",323],"(",["T_VARIABLE","$payment",323],"[",["T_VARIABLE","$key",323],"]",")",";",["T_WHITESPACE","\n            ",323],"}",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n        ",325],["T_STRING","reset",326],"(",["T_VARIABLE","$payment",326],")",";",["T_WHITESPACE","\n\n        ",326],["T_COMMENT","\/* Shipping Address and Method *\/",328],["T_WHITESPACE","\n        ",328],["T_IF","if",329],["T_WHITESPACE"," ",329],"(","!",["T_VARIABLE","$order",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getIsVirtual",329],"(",")",")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_COMMENT","\/* Shipping Address *\/",330],["T_WHITESPACE","\n            ",330],["T_VARIABLE","$shippingAddress",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_formatAddress",331],"(",["T_VARIABLE","$order",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getShippingAddress",331],"(",")",["T_OBJECT_OPERATOR","->",331],["T_STRING","format",331],"(",["T_CONSTANT_ENCAPSED_STRING","'pdf'",331],")",")",";",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$shippingMethod",332],["T_WHITESPACE","  ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$order",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getShippingDescription",332],"(",")",";",["T_WHITESPACE","\n        ",332],"}",["T_WHITESPACE","\n\n        ",333],["T_VARIABLE","$page",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","setFillColor",335],"(",["T_NEW","new",335],["T_WHITESPACE"," ",335],["T_STRING","Zend_Pdf_Color_GrayScale",335],"(",["T_LNUMBER","0",335],")",")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_setFontBold",336],"(",["T_VARIABLE","$page",336],",",["T_WHITESPACE"," ",336],["T_LNUMBER","12",336],")",";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$page",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","drawText",337],"(",["T_STRING","Mage",337],["T_DOUBLE_COLON","::",337],["T_STRING","helper",337],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","__",337],"(",["T_CONSTANT_ENCAPSED_STRING","'Sold to:'",337],")",",",["T_WHITESPACE"," ",337],["T_LNUMBER","35",337],",",["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$top",337],["T_WHITESPACE"," ",337],"-",["T_WHITESPACE"," ",337],["T_LNUMBER","15",337],")",",",["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",337],")",";",["T_WHITESPACE","\n\n        ",337],["T_IF","if",339],["T_WHITESPACE"," ",339],"(","!",["T_VARIABLE","$order",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getIsVirtual",339],"(",")",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$page",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","drawText",340],"(",["T_STRING","Mage",340],["T_DOUBLE_COLON","::",340],["T_STRING","helper",340],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",340],")",["T_OBJECT_OPERATOR","->",340],["T_STRING","__",340],"(",["T_CONSTANT_ENCAPSED_STRING","'Ship to:'",340],")",",",["T_WHITESPACE"," ",340],["T_LNUMBER","285",340],",",["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$top",340],["T_WHITESPACE"," ",340],"-",["T_WHITESPACE"," ",340],["T_LNUMBER","15",340],")",",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",340],")",";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE"," ",341],["T_ELSE","else",341],["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n            ",341],["T_VARIABLE","$page",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","drawText",342],"(",["T_STRING","Mage",342],["T_DOUBLE_COLON","::",342],["T_STRING","helper",342],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",342],")",["T_OBJECT_OPERATOR","->",342],["T_STRING","__",342],"(",["T_CONSTANT_ENCAPSED_STRING","'Payment Method:'",342],")",",",["T_WHITESPACE"," ",342],["T_LNUMBER","285",342],",",["T_WHITESPACE"," ",342],"(",["T_VARIABLE","$top",342],["T_WHITESPACE"," ",342],"-",["T_WHITESPACE"," ",342],["T_LNUMBER","15",342],")",",",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",342],")",";",["T_WHITESPACE","\n        ",342],"}",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$addressesHeight",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_calcAddressHeight",345],"(",["T_VARIABLE","$billingAddress",345],")",";",["T_WHITESPACE","\n        ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_ISSET","isset",346],"(",["T_VARIABLE","$shippingAddress",346],")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n            ",346],["T_VARIABLE","$addressesHeight",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","max",347],"(",["T_VARIABLE","$addressesHeight",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_calcAddressHeight",347],"(",["T_VARIABLE","$shippingAddress",347],")",")",";",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n\n        ",348],["T_VARIABLE","$page",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","setFillColor",350],"(",["T_NEW","new",350],["T_WHITESPACE"," ",350],["T_STRING","Zend_Pdf_Color_GrayScale",350],"(",["T_LNUMBER","1",350],")",")",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$page",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","drawRectangle",351],"(",["T_LNUMBER","25",351],",",["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$top",351],["T_WHITESPACE"," ",351],"-",["T_WHITESPACE"," ",351],["T_LNUMBER","25",351],")",",",["T_WHITESPACE"," ",351],["T_LNUMBER","570",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$top",351],["T_WHITESPACE"," ",351],"-",["T_WHITESPACE"," ",351],["T_LNUMBER","33",351],["T_WHITESPACE"," ",351],"-",["T_WHITESPACE"," ",351],["T_VARIABLE","$addressesHeight",351],")",";",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$page",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","setFillColor",352],"(",["T_NEW","new",352],["T_WHITESPACE"," ",352],["T_STRING","Zend_Pdf_Color_GrayScale",352],"(",["T_LNUMBER","0",352],")",")",";",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_setFontRegular",353],"(",["T_VARIABLE","$page",353],",",["T_WHITESPACE"," ",353],["T_LNUMBER","10",353],")",";",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","y",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$top",354],["T_WHITESPACE"," ",354],"-",["T_WHITESPACE"," ",354],["T_LNUMBER","40",354],";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$addressesStartY",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","y",355],";",["T_WHITESPACE","\n\n        ",355],["T_FOREACH","foreach",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$billingAddress",357],["T_WHITESPACE"," ",357],["T_AS","as",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$value",357],")","{",["T_WHITESPACE","\n            ",357],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$value",358],["T_WHITESPACE"," ",358],["T_IS_NOT_IDENTICAL","!==",358],["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","''",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n                ",358],["T_VARIABLE","$text",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_ARRAY","array",359],"(",")",";",["T_WHITESPACE","\n                ",359],["T_FOREACH","foreach",360],["T_WHITESPACE"," ",360],"(",["T_STRING","Mage",360],["T_DOUBLE_COLON","::",360],["T_STRING","helper",360],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",360],")",["T_OBJECT_OPERATOR","->",360],["T_STRING","str_split",360],"(",["T_VARIABLE","$value",360],",",["T_WHITESPACE"," ",360],["T_LNUMBER","45",360],",",["T_WHITESPACE"," ",360],["T_STRING","true",360],",",["T_WHITESPACE"," ",360],["T_STRING","true",360],")",["T_WHITESPACE"," ",360],["T_AS","as",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$_value",360],")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n                    ",360],["T_VARIABLE","$text",361],"[","]",["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$_value",361],";",["T_WHITESPACE","\n                ",361],"}",["T_WHITESPACE","\n                ",362],["T_FOREACH","foreach",363],["T_WHITESPACE"," ",363],"(",["T_VARIABLE","$text",363],["T_WHITESPACE"," ",363],["T_AS","as",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$part",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n                    ",363],["T_VARIABLE","$page",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","drawText",364],"(",["T_STRING","strip_tags",364],"(",["T_STRING","ltrim",364],"(",["T_VARIABLE","$part",364],")",")",",",["T_WHITESPACE"," ",364],["T_LNUMBER","35",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","y",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",364],")",";",["T_WHITESPACE","\n                    ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","y",365],["T_WHITESPACE"," ",365],["T_MINUS_EQUAL","-=",365],["T_WHITESPACE"," ",365],["T_LNUMBER","15",365],";",["T_WHITESPACE","\n                ",365],"}",["T_WHITESPACE","\n            ",366],"}",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n\n        ",368],["T_VARIABLE","$addressesEndY",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","y",370],";",["T_WHITESPACE","\n\n        ",370],["T_IF","if",372],["T_WHITESPACE"," ",372],"(","!",["T_VARIABLE","$order",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getIsVirtual",372],"(",")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","y",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$addressesStartY",373],";",["T_WHITESPACE","\n            ",373],["T_FOREACH","foreach",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$shippingAddress",374],["T_WHITESPACE"," ",374],["T_AS","as",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$value",374],")","{",["T_WHITESPACE","\n                ",374],["T_IF","if",375],["T_WHITESPACE"," ",375],"(",["T_VARIABLE","$value",375],["T_IS_NOT_IDENTICAL","!==",375],["T_CONSTANT_ENCAPSED_STRING","''",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n                    ",375],["T_VARIABLE","$text",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_ARRAY","array",376],"(",")",";",["T_WHITESPACE","\n                    ",376],["T_FOREACH","foreach",377],["T_WHITESPACE"," ",377],"(",["T_STRING","Mage",377],["T_DOUBLE_COLON","::",377],["T_STRING","helper",377],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",377],")",["T_OBJECT_OPERATOR","->",377],["T_STRING","str_split",377],"(",["T_VARIABLE","$value",377],",",["T_WHITESPACE"," ",377],["T_LNUMBER","45",377],",",["T_WHITESPACE"," ",377],["T_STRING","true",377],",",["T_WHITESPACE"," ",377],["T_STRING","true",377],")",["T_WHITESPACE"," ",377],["T_AS","as",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$_value",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n                        ",377],["T_VARIABLE","$text",378],"[","]",["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$_value",378],";",["T_WHITESPACE","\n                    ",378],"}",["T_WHITESPACE","\n                    ",379],["T_FOREACH","foreach",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$text",380],["T_WHITESPACE"," ",380],["T_AS","as",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$part",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                        ",380],["T_VARIABLE","$page",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","drawText",381],"(",["T_STRING","strip_tags",381],"(",["T_STRING","ltrim",381],"(",["T_VARIABLE","$part",381],")",")",",",["T_WHITESPACE"," ",381],["T_LNUMBER","285",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","y",381],",",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",381],")",";",["T_WHITESPACE","\n                        ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","y",382],["T_WHITESPACE"," ",382],["T_MINUS_EQUAL","-=",382],["T_WHITESPACE"," ",382],["T_LNUMBER","15",382],";",["T_WHITESPACE","\n                    ",382],"}",["T_WHITESPACE","\n                ",383],"}",["T_WHITESPACE","\n            ",384],"}",["T_WHITESPACE","\n\n            ",385],["T_VARIABLE","$addressesEndY",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_STRING","min",387],"(",["T_VARIABLE","$addressesEndY",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","y",387],")",";",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","y",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$addressesEndY",388],";",["T_WHITESPACE","\n\n            ",388],["T_VARIABLE","$page",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","setFillColor",390],"(",["T_NEW","new",390],["T_WHITESPACE"," ",390],["T_STRING","Zend_Pdf_Color_Rgb",390],"(",["T_DNUMBER","0.93",390],",",["T_WHITESPACE"," ",390],["T_DNUMBER","0.92",390],",",["T_WHITESPACE"," ",390],["T_DNUMBER","0.92",390],")",")",";",["T_WHITESPACE","\n            ",390],["T_VARIABLE","$page",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","setLineWidth",391],"(",["T_DNUMBER","0.5",391],")",";",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$page",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","drawRectangle",392],"(",["T_LNUMBER","25",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","y",392],",",["T_WHITESPACE"," ",392],["T_LNUMBER","275",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","y",392],"-",["T_LNUMBER","25",392],")",";",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$page",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","drawRectangle",393],"(",["T_LNUMBER","275",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","y",393],",",["T_WHITESPACE"," ",393],["T_LNUMBER","570",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","y",393],"-",["T_LNUMBER","25",393],")",";",["T_WHITESPACE","\n\n            ",393],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","y",395],["T_WHITESPACE"," ",395],["T_MINUS_EQUAL","-=",395],["T_WHITESPACE"," ",395],["T_LNUMBER","15",395],";",["T_WHITESPACE","\n            ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_setFontBold",396],"(",["T_VARIABLE","$page",396],",",["T_WHITESPACE"," ",396],["T_LNUMBER","12",396],")",";",["T_WHITESPACE","\n            ",396],["T_VARIABLE","$page",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","setFillColor",397],"(",["T_NEW","new",397],["T_WHITESPACE"," ",397],["T_STRING","Zend_Pdf_Color_GrayScale",397],"(",["T_LNUMBER","0",397],")",")",";",["T_WHITESPACE","\n            ",397],["T_VARIABLE","$page",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","drawText",398],"(",["T_STRING","Mage",398],["T_DOUBLE_COLON","::",398],["T_STRING","helper",398],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",398],")",["T_OBJECT_OPERATOR","->",398],["T_STRING","__",398],"(",["T_CONSTANT_ENCAPSED_STRING","'Payment Method'",398],")",",",["T_WHITESPACE"," ",398],["T_LNUMBER","35",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","y",398],",",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",398],")",";",["T_WHITESPACE","\n            ",398],["T_VARIABLE","$page",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","drawText",399],"(",["T_STRING","Mage",399],["T_DOUBLE_COLON","::",399],["T_STRING","helper",399],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",399],")",["T_OBJECT_OPERATOR","->",399],["T_STRING","__",399],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipping Method:'",399],")",",",["T_WHITESPACE"," ",399],["T_LNUMBER","285",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","y",399],["T_WHITESPACE"," ",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",399],")",";",["T_WHITESPACE","\n\n            ",399],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","y",401],["T_WHITESPACE"," ",401],["T_MINUS_EQUAL","-=",401],["T_LNUMBER","10",401],";",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$page",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","setFillColor",402],"(",["T_NEW","new",402],["T_WHITESPACE"," ",402],["T_STRING","Zend_Pdf_Color_GrayScale",402],"(",["T_LNUMBER","1",402],")",")",";",["T_WHITESPACE","\n\n            ",402],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","_setFontRegular",404],"(",["T_VARIABLE","$page",404],",",["T_WHITESPACE"," ",404],["T_LNUMBER","10",404],")",";",["T_WHITESPACE","\n            ",404],["T_VARIABLE","$page",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","setFillColor",405],"(",["T_NEW","new",405],["T_WHITESPACE"," ",405],["T_STRING","Zend_Pdf_Color_GrayScale",405],"(",["T_LNUMBER","0",405],")",")",";",["T_WHITESPACE","\n\n            ",405],["T_VARIABLE","$paymentLeft",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_LNUMBER","35",407],";",["T_WHITESPACE","\n            ",407],["T_VARIABLE","$yPayments",408],["T_WHITESPACE","   ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","y",408],["T_WHITESPACE"," ",408],"-",["T_WHITESPACE"," ",408],["T_LNUMBER","15",408],";",["T_WHITESPACE","\n        ",408],"}",["T_WHITESPACE","\n        ",409],["T_ELSE","else",410],["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$yPayments",411],["T_WHITESPACE","   ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$addressesStartY",411],";",["T_WHITESPACE","\n            ",411],["T_VARIABLE","$paymentLeft",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_LNUMBER","285",412],";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n\n        ",413],["T_FOREACH","foreach",415],["T_WHITESPACE"," ",415],"(",["T_VARIABLE","$payment",415],["T_WHITESPACE"," ",415],["T_AS","as",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$value",415],")","{",["T_WHITESPACE","\n            ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_STRING","trim",416],"(",["T_VARIABLE","$value",416],")",["T_WHITESPACE"," ",416],["T_IS_NOT_EQUAL","!=",416],["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","''",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n                ",416],["T_COMMENT","\/\/Printing \"Payment Method\" lines\n",417],["T_WHITESPACE","                ",418],["T_VARIABLE","$value",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","preg_replace",418],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<br[^>]*>\/i'",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$value",418],")",";",["T_WHITESPACE","\n                ",418],["T_FOREACH","foreach",419],["T_WHITESPACE"," ",419],"(",["T_STRING","Mage",419],["T_DOUBLE_COLON","::",419],["T_STRING","helper",419],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",419],")",["T_OBJECT_OPERATOR","->",419],["T_STRING","str_split",419],"(",["T_VARIABLE","$value",419],",",["T_WHITESPACE"," ",419],["T_LNUMBER","45",419],",",["T_WHITESPACE"," ",419],["T_STRING","true",419],",",["T_WHITESPACE"," ",419],["T_STRING","true",419],")",["T_WHITESPACE"," ",419],["T_AS","as",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$_value",419],")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n                    ",419],["T_VARIABLE","$page",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","drawText",420],"(",["T_STRING","strip_tags",420],"(",["T_STRING","trim",420],"(",["T_VARIABLE","$_value",420],")",")",",",["T_WHITESPACE"," ",420],["T_VARIABLE","$paymentLeft",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$yPayments",420],",",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",420],")",";",["T_WHITESPACE","\n                    ",420],["T_VARIABLE","$yPayments",421],["T_WHITESPACE"," ",421],["T_MINUS_EQUAL","-=",421],["T_WHITESPACE"," ",421],["T_LNUMBER","15",421],";",["T_WHITESPACE","\n                ",421],"}",["T_WHITESPACE","\n            ",422],"}",["T_WHITESPACE","\n        ",423],"}",["T_WHITESPACE","\n\n        ",424],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$order",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getIsVirtual",426],"(",")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n            ",426],["T_COMMENT","\/\/ replacement of Shipments-Payments rectangle block\n",427],["T_WHITESPACE","            ",428],["T_VARIABLE","$yPayments",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_STRING","min",428],"(",["T_VARIABLE","$addressesEndY",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$yPayments",428],")",";",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$page",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","drawLine",429],"(",["T_LNUMBER","25",429],",",["T_WHITESPACE","  ",429],"(",["T_VARIABLE","$top",429],["T_WHITESPACE"," ",429],"-",["T_WHITESPACE"," ",429],["T_LNUMBER","25",429],")",",",["T_WHITESPACE"," ",429],["T_LNUMBER","25",429],",",["T_WHITESPACE","  ",429],["T_VARIABLE","$yPayments",429],")",";",["T_WHITESPACE","\n            ",429],["T_VARIABLE","$page",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","drawLine",430],"(",["T_LNUMBER","570",430],",",["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$top",430],["T_WHITESPACE"," ",430],"-",["T_WHITESPACE"," ",430],["T_LNUMBER","25",430],")",",",["T_WHITESPACE"," ",430],["T_LNUMBER","570",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$yPayments",430],")",";",["T_WHITESPACE","\n            ",430],["T_VARIABLE","$page",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","drawLine",431],"(",["T_LNUMBER","25",431],",",["T_WHITESPACE","  ",431],["T_VARIABLE","$yPayments",431],",",["T_WHITESPACE","  ",431],["T_LNUMBER","570",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$yPayments",431],")",";",["T_WHITESPACE","\n\n            ",431],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","y",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$yPayments",433],["T_WHITESPACE"," ",433],"-",["T_WHITESPACE"," ",433],["T_LNUMBER","15",433],";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE"," ",434],["T_ELSE","else",434],["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n            ",434],["T_VARIABLE","$topMargin",435],["T_WHITESPACE","    ",435],"=",["T_WHITESPACE"," ",435],["T_LNUMBER","15",435],";",["T_WHITESPACE","\n            ",435],["T_VARIABLE","$methodStartY",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","y",436],";",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","y",437],["T_WHITESPACE","     ",437],["T_MINUS_EQUAL","-=",437],["T_WHITESPACE"," ",437],["T_LNUMBER","15",437],";",["T_WHITESPACE","\n\n            ",437],["T_FOREACH","foreach",439],["T_WHITESPACE"," ",439],"(",["T_STRING","Mage",439],["T_DOUBLE_COLON","::",439],["T_STRING","helper",439],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",439],")",["T_OBJECT_OPERATOR","->",439],["T_STRING","str_split",439],"(",["T_VARIABLE","$shippingMethod",439],",",["T_WHITESPACE"," ",439],["T_LNUMBER","45",439],",",["T_WHITESPACE"," ",439],["T_STRING","true",439],",",["T_WHITESPACE"," ",439],["T_STRING","true",439],")",["T_WHITESPACE"," ",439],["T_AS","as",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$_value",439],")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n                ",439],["T_VARIABLE","$page",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","drawText",440],"(",["T_STRING","strip_tags",440],"(",["T_STRING","trim",440],"(",["T_VARIABLE","$_value",440],")",")",",",["T_WHITESPACE"," ",440],["T_LNUMBER","285",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","y",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",440],")",";",["T_WHITESPACE","\n                ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","y",441],["T_WHITESPACE"," ",441],["T_MINUS_EQUAL","-=",441],["T_WHITESPACE"," ",441],["T_LNUMBER","15",441],";",["T_WHITESPACE","\n            ",441],"}",["T_WHITESPACE","\n\n            ",442],["T_VARIABLE","$yShipments",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","y",444],";",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$totalShippingChargesText",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","\"(\"",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_STRING","Mage",445],["T_DOUBLE_COLON","::",445],["T_STRING","helper",445],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",445],")",["T_OBJECT_OPERATOR","->",445],["T_STRING","__",445],"(",["T_CONSTANT_ENCAPSED_STRING","'Total Shipping Charges'",445],")",["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","\" \"",445],["T_WHITESPACE","\n                ",445],".",["T_WHITESPACE"," ",446],["T_VARIABLE","$order",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","formatPriceTxt",446],"(",["T_VARIABLE","$order",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getShippingAmount",446],"(",")",")",["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","\")\"",446],";",["T_WHITESPACE","\n\n            ",446],["T_VARIABLE","$page",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","drawText",448],"(",["T_VARIABLE","$totalShippingChargesText",448],",",["T_WHITESPACE"," ",448],["T_LNUMBER","285",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$yShipments",448],["T_WHITESPACE"," ",448],"-",["T_WHITESPACE"," ",448],["T_VARIABLE","$topMargin",448],",",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",448],")",";",["T_WHITESPACE","\n            ",448],["T_VARIABLE","$yShipments",449],["T_WHITESPACE"," ",449],["T_MINUS_EQUAL","-=",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$topMargin",449],["T_WHITESPACE"," ",449],"+",["T_WHITESPACE"," ",449],["T_LNUMBER","10",449],";",["T_WHITESPACE","\n\n            ",449],["T_VARIABLE","$tracks",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_ARRAY","array",451],"(",")",";",["T_WHITESPACE","\n            ",451],["T_IF","if",452],["T_WHITESPACE"," ",452],"(",["T_VARIABLE","$shipment",452],")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n                ",452],["T_VARIABLE","$tracks",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$shipment",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getAllTracks",453],"(",")",";",["T_WHITESPACE","\n            ",453],"}",["T_WHITESPACE","\n            ",454],["T_IF","if",455],["T_WHITESPACE"," ",455],"(",["T_STRING","count",455],"(",["T_VARIABLE","$tracks",455],")",")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n                ",455],["T_VARIABLE","$page",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","setFillColor",456],"(",["T_NEW","new",456],["T_WHITESPACE"," ",456],["T_STRING","Zend_Pdf_Color_Rgb",456],"(",["T_DNUMBER","0.93",456],",",["T_WHITESPACE"," ",456],["T_DNUMBER","0.92",456],",",["T_WHITESPACE"," ",456],["T_DNUMBER","0.92",456],")",")",";",["T_WHITESPACE","\n                ",456],["T_VARIABLE","$page",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","setLineWidth",457],"(",["T_DNUMBER","0.5",457],")",";",["T_WHITESPACE","\n                ",457],["T_VARIABLE","$page",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","drawRectangle",458],"(",["T_LNUMBER","285",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$yShipments",458],",",["T_WHITESPACE"," ",458],["T_LNUMBER","510",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$yShipments",458],["T_WHITESPACE"," ",458],"-",["T_WHITESPACE"," ",458],["T_LNUMBER","10",458],")",";",["T_WHITESPACE","\n                ",458],["T_VARIABLE","$page",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","drawLine",459],"(",["T_LNUMBER","400",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$yShipments",459],",",["T_WHITESPACE"," ",459],["T_LNUMBER","400",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$yShipments",459],["T_WHITESPACE"," ",459],"-",["T_WHITESPACE"," ",459],["T_LNUMBER","10",459],")",";",["T_WHITESPACE","\n                ",459],["T_COMMENT","\/\/$page->drawLine(510, $yShipments, 510, $yShipments - 10);\n",460],["T_WHITESPACE","\n                ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_setFontRegular",462],"(",["T_VARIABLE","$page",462],",",["T_WHITESPACE"," ",462],["T_LNUMBER","9",462],")",";",["T_WHITESPACE","\n                ",462],["T_VARIABLE","$page",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","setFillColor",463],"(",["T_NEW","new",463],["T_WHITESPACE"," ",463],["T_STRING","Zend_Pdf_Color_GrayScale",463],"(",["T_LNUMBER","0",463],")",")",";",["T_WHITESPACE","\n                ",463],["T_COMMENT","\/\/$page->drawText(Mage::helper('sales')->__('Carrier'), 290, $yShipments - 7 , 'UTF-8');\n",464],["T_WHITESPACE","                ",465],["T_VARIABLE","$page",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","drawText",465],"(",["T_STRING","Mage",465],["T_DOUBLE_COLON","::",465],["T_STRING","helper",465],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",465],")",["T_OBJECT_OPERATOR","->",465],["T_STRING","__",465],"(",["T_CONSTANT_ENCAPSED_STRING","'Title'",465],")",",",["T_WHITESPACE"," ",465],["T_LNUMBER","290",465],",",["T_WHITESPACE"," ",465],["T_VARIABLE","$yShipments",465],["T_WHITESPACE"," ",465],"-",["T_WHITESPACE"," ",465],["T_LNUMBER","7",465],",",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",465],")",";",["T_WHITESPACE","\n                ",465],["T_VARIABLE","$page",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","drawText",466],"(",["T_STRING","Mage",466],["T_DOUBLE_COLON","::",466],["T_STRING","helper",466],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",466],")",["T_OBJECT_OPERATOR","->",466],["T_STRING","__",466],"(",["T_CONSTANT_ENCAPSED_STRING","'Number'",466],")",",",["T_WHITESPACE"," ",466],["T_LNUMBER","410",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$yShipments",466],["T_WHITESPACE"," ",466],"-",["T_WHITESPACE"," ",466],["T_LNUMBER","7",466],",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",466],")",";",["T_WHITESPACE","\n\n                ",466],["T_VARIABLE","$yShipments",468],["T_WHITESPACE"," ",468],["T_MINUS_EQUAL","-=",468],["T_WHITESPACE"," ",468],["T_LNUMBER","20",468],";",["T_WHITESPACE","\n                ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","_setFontRegular",469],"(",["T_VARIABLE","$page",469],",",["T_WHITESPACE"," ",469],["T_LNUMBER","8",469],")",";",["T_WHITESPACE","\n                ",469],["T_FOREACH","foreach",470],["T_WHITESPACE"," ",470],"(",["T_VARIABLE","$tracks",470],["T_WHITESPACE"," ",470],["T_AS","as",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$track",470],")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n\n                    ",470],["T_VARIABLE","$CarrierCode",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$track",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getCarrierCode",472],"(",")",";",["T_WHITESPACE","\n                    ",472],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$CarrierCode",473],["T_WHITESPACE"," ",473],["T_IS_NOT_EQUAL","!=",473],["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'custom'",473],")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n                        ",473],["T_VARIABLE","$carrier",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_STRING","Mage",474],["T_DOUBLE_COLON","::",474],["T_STRING","getSingleton",474],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/config'",474],")",["T_OBJECT_OPERATOR","->",474],["T_STRING","getCarrierInstance",474],"(",["T_VARIABLE","$CarrierCode",474],")",";",["T_WHITESPACE","\n                        ",474],["T_VARIABLE","$carrierTitle",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$carrier",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getConfigData",475],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",475],")",";",["T_WHITESPACE","\n                    ",475],"}",["T_WHITESPACE"," ",476],["T_ELSE","else",476],["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\n                        ",476],["T_VARIABLE","$carrierTitle",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_STRING","Mage",477],["T_DOUBLE_COLON","::",477],["T_STRING","helper",477],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",477],")",["T_OBJECT_OPERATOR","->",477],["T_STRING","__",477],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom Value'",477],")",";",["T_WHITESPACE","\n                    ",477],"}",["T_WHITESPACE","\n\n                    ",478],["T_COMMENT","\/\/$truncatedCarrierTitle = substr($carrierTitle, 0, 35) . (strlen($carrierTitle) > 35 ? '...' : '');\n",480],["T_WHITESPACE","                    ",481],["T_VARIABLE","$maxTitleLen",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_LNUMBER","45",481],";",["T_WHITESPACE","\n                    ",481],["T_VARIABLE","$endOfTitle",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_STRING","strlen",482],"(",["T_VARIABLE","$track",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getTitle",482],"(",")",")",["T_WHITESPACE"," ",482],">",["T_WHITESPACE"," ",482],["T_VARIABLE","$maxTitleLen",482],["T_WHITESPACE"," ",482],"?",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'...'",482],["T_WHITESPACE"," ",482],":",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","''",482],";",["T_WHITESPACE","\n                    ",482],["T_VARIABLE","$truncatedTitle",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_STRING","substr",483],"(",["T_VARIABLE","$track",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getTitle",483],"(",")",",",["T_WHITESPACE"," ",483],["T_LNUMBER","0",483],",",["T_WHITESPACE"," ",483],["T_VARIABLE","$maxTitleLen",483],")",["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_VARIABLE","$endOfTitle",483],";",["T_WHITESPACE","\n                    ",483],["T_COMMENT","\/\/$page->drawText($truncatedCarrierTitle, 285, $yShipments , 'UTF-8');\n",484],["T_WHITESPACE","                    ",485],["T_VARIABLE","$page",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","drawText",485],"(",["T_VARIABLE","$truncatedTitle",485],",",["T_WHITESPACE"," ",485],["T_LNUMBER","292",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$yShipments",485],["T_WHITESPACE"," ",485],",",["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",485],")",";",["T_WHITESPACE","\n                    ",485],["T_VARIABLE","$page",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","drawText",486],"(",["T_VARIABLE","$track",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getNumber",486],"(",")",",",["T_WHITESPACE"," ",486],["T_LNUMBER","410",486],",",["T_WHITESPACE"," ",486],["T_VARIABLE","$yShipments",486],["T_WHITESPACE"," ",486],",",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",486],")",";",["T_WHITESPACE","\n                    ",486],["T_VARIABLE","$yShipments",487],["T_WHITESPACE"," ",487],["T_MINUS_EQUAL","-=",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$topMargin",487],["T_WHITESPACE"," ",487],"-",["T_WHITESPACE"," ",487],["T_LNUMBER","5",487],";",["T_WHITESPACE","\n                ",487],"}",["T_WHITESPACE","\n            ",488],"}",["T_WHITESPACE"," ",489],["T_ELSE","else",489],["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n                ",489],["T_VARIABLE","$yShipments",490],["T_WHITESPACE"," ",490],["T_MINUS_EQUAL","-=",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$topMargin",490],["T_WHITESPACE"," ",490],"-",["T_WHITESPACE"," ",490],["T_LNUMBER","5",490],";",["T_WHITESPACE","\n            ",490],"}",["T_WHITESPACE","\n\n            ",491],["T_VARIABLE","$currentY",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_STRING","min",493],"(",["T_VARIABLE","$yPayments",493],",",["T_WHITESPACE"," ",493],["T_VARIABLE","$yShipments",493],")",";",["T_WHITESPACE","\n\n            ",493],["T_COMMENT","\/\/ replacement of Shipments-Payments rectangle block\n",495],["T_WHITESPACE","            ",496],["T_VARIABLE","$page",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","drawLine",496],"(",["T_LNUMBER","25",496],",",["T_WHITESPACE","  ",496],["T_VARIABLE","$methodStartY",496],",",["T_WHITESPACE"," ",496],["T_LNUMBER","25",496],",",["T_WHITESPACE","  ",496],["T_VARIABLE","$currentY",496],")",";",["T_WHITESPACE"," ",496],["T_COMMENT","\/\/left\n",496],["T_WHITESPACE","            ",497],["T_VARIABLE","$page",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","drawLine",497],"(",["T_LNUMBER","25",497],",",["T_WHITESPACE","  ",497],["T_VARIABLE","$currentY",497],",",["T_WHITESPACE","     ",497],["T_LNUMBER","570",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$currentY",497],")",";",["T_WHITESPACE"," ",497],["T_COMMENT","\/\/bottom\n",497],["T_WHITESPACE","            ",498],["T_VARIABLE","$page",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","drawLine",498],"(",["T_LNUMBER","570",498],",",["T_WHITESPACE"," ",498],["T_VARIABLE","$currentY",498],",",["T_WHITESPACE","     ",498],["T_LNUMBER","570",498],",",["T_WHITESPACE"," ",498],["T_VARIABLE","$methodStartY",498],")",";",["T_WHITESPACE"," ",498],["T_COMMENT","\/\/right\n",498],["T_WHITESPACE","\n            ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","y",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$currentY",500],";",["T_WHITESPACE","\n            ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","y",501],["T_WHITESPACE"," ",501],["T_MINUS_EQUAL","-=",501],["T_WHITESPACE"," ",501],["T_LNUMBER","15",501],";",["T_WHITESPACE","\n        ",501],"}",["T_WHITESPACE","\n    ",502],"}",["T_WHITESPACE","\n\n    ",503],["T_DOC_COMMENT","\/**\n     * Insert title and number for concrete document type\n     *\n     * @param  Zend_Pdf_Page $page\n     * @param  string $text\n     * @return void\n     *\/",505],["T_WHITESPACE","\n    ",511],["T_PUBLIC","public",512],["T_WHITESPACE"," ",512],["T_FUNCTION","function",512],["T_WHITESPACE"," ",512],["T_STRING","insertDocumentNumber",512],"(",["T_STRING","Zend_Pdf_Page",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$page",512],",",["T_WHITESPACE"," ",512],["T_VARIABLE","$text",512],")",["T_WHITESPACE","\n    ",512],"{",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$page",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","setFillColor",514],"(",["T_NEW","new",514],["T_WHITESPACE"," ",514],["T_STRING","Zend_Pdf_Color_GrayScale",514],"(",["T_LNUMBER","1",514],")",")",";",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","_setFontRegular",515],"(",["T_VARIABLE","$page",515],",",["T_WHITESPACE"," ",515],["T_LNUMBER","10",515],")",";",["T_WHITESPACE","\n        ",515],["T_VARIABLE","$docHeader",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getDocHeaderCoordinates",516],"(",")",";",["T_WHITESPACE","\n        ",516],["T_VARIABLE","$page",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","drawText",517],"(",["T_VARIABLE","$text",517],",",["T_WHITESPACE"," ",517],["T_LNUMBER","35",517],",",["T_WHITESPACE"," ",517],["T_VARIABLE","$docHeader",517],"[",["T_LNUMBER","1",517],"]",["T_WHITESPACE"," ",517],"-",["T_WHITESPACE"," ",517],["T_LNUMBER","15",517],",",["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",517],")",";",["T_WHITESPACE","\n    ",517],"}",["T_WHITESPACE","\n\n    ",518],["T_DOC_COMMENT","\/**\n     * Sort totals list\n     *\n     * @param  array $a\n     * @param  array $b\n     * @return int\n     *\/",520],["T_WHITESPACE","\n    ",526],["T_PROTECTED","protected",527],["T_WHITESPACE"," ",527],["T_FUNCTION","function",527],["T_WHITESPACE"," ",527],["T_STRING","_sortTotalsList",527],"(",["T_VARIABLE","$a",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$b",527],")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n        ",527],["T_IF","if",528],["T_WHITESPACE"," ",528],"(","!",["T_ISSET","isset",528],"(",["T_VARIABLE","$a",528],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",528],"]",")",["T_WHITESPACE"," ",528],["T_BOOLEAN_OR","||",528],["T_WHITESPACE"," ",528],"!",["T_ISSET","isset",528],"(",["T_VARIABLE","$b",528],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",528],"]",")",")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n            ",528],["T_RETURN","return",529],["T_WHITESPACE"," ",529],["T_LNUMBER","0",529],";",["T_WHITESPACE","\n        ",529],"}",["T_WHITESPACE","\n\n        ",530],["T_IF","if",532],["T_WHITESPACE"," ",532],"(",["T_VARIABLE","$a",532],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",532],"]",["T_WHITESPACE"," ",532],["T_IS_EQUAL","==",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$b",532],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",532],"]",")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n            ",532],["T_RETURN","return",533],["T_WHITESPACE"," ",533],["T_LNUMBER","0",533],";",["T_WHITESPACE","\n        ",533],"}",["T_WHITESPACE","\n\n        ",534],["T_RETURN","return",536],["T_WHITESPACE"," ",536],"(",["T_VARIABLE","$a",536],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",536],"]",["T_WHITESPACE"," ",536],">",["T_WHITESPACE"," ",536],["T_VARIABLE","$b",536],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",536],"]",")",["T_WHITESPACE"," ",536],"?",["T_WHITESPACE"," ",536],["T_LNUMBER","1",536],["T_WHITESPACE"," ",536],":",["T_WHITESPACE"," ",536],"-",["T_LNUMBER","1",536],";",["T_WHITESPACE","\n    ",536],"}",["T_WHITESPACE","\n\n    ",537],["T_DOC_COMMENT","\/**\n     * Return total list\n     *\n     * @param  Mage_Sales_Model_Abstract $source\n     * @return array\n     *\/",539],["T_WHITESPACE","\n    ",544],["T_PROTECTED","protected",545],["T_WHITESPACE"," ",545],["T_FUNCTION","function",545],["T_WHITESPACE"," ",545],["T_STRING","_getTotalsList",545],"(",["T_VARIABLE","$source",545],")",["T_WHITESPACE","\n    ",545],"{",["T_WHITESPACE","\n        ",546],["T_VARIABLE","$totals",547],["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_STRING","Mage",547],["T_DOUBLE_COLON","::",547],["T_STRING","getConfig",547],"(",")",["T_OBJECT_OPERATOR","->",547],["T_STRING","getNode",547],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/pdf\/totals'",547],")",["T_OBJECT_OPERATOR","->",547],["T_STRING","asArray",547],"(",")",";",["T_WHITESPACE","\n        ",547],["T_STRING","usort",548],"(",["T_VARIABLE","$totals",548],",",["T_WHITESPACE"," ",548],["T_ARRAY","array",548],"(",["T_VARIABLE","$this",548],",",["T_WHITESPACE"," ",548],["T_CONSTANT_ENCAPSED_STRING","'_sortTotalsList'",548],")",")",";",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$totalModels",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_ARRAY","array",549],"(",")",";",["T_WHITESPACE","\n        ",549],["T_FOREACH","foreach",550],["T_WHITESPACE"," ",550],"(",["T_VARIABLE","$totals",550],["T_WHITESPACE"," ",550],["T_AS","as",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$index",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$totalInfo",550],")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n            ",550],["T_IF","if",551],["T_WHITESPACE"," ",551],"(","!",["T_EMPTY","empty",551],"(",["T_VARIABLE","$totalInfo",551],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",551],"]",")",")",["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n                ",551],["T_VARIABLE","$totalModel",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_STRING","Mage",552],["T_DOUBLE_COLON","::",552],["T_STRING","getModel",552],"(",["T_VARIABLE","$totalInfo",552],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",552],"]",")",";",["T_WHITESPACE","\n                ",552],["T_IF","if",553],["T_WHITESPACE"," ",553],"(",["T_VARIABLE","$totalModel",553],["T_WHITESPACE"," ",553],["T_INSTANCEOF","instanceof",553],["T_WHITESPACE"," ",553],["T_STRING","Mage_Sales_Model_Order_Pdf_Total_Default",553],")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n                    ",553],["T_VARIABLE","$totalInfo",554],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",554],"]",["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_VARIABLE","$totalModel",554],";",["T_WHITESPACE","\n                ",554],"}",["T_WHITESPACE"," ",555],["T_ELSE","else",555],["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n                    ",555],["T_STRING","Mage",556],["T_DOUBLE_COLON","::",556],["T_STRING","throwException",556],"(",["T_WHITESPACE","\n                        ",556],["T_STRING","Mage",557],["T_DOUBLE_COLON","::",557],["T_STRING","helper",557],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",557],")",["T_OBJECT_OPERATOR","->",557],["T_STRING","__",557],"(",["T_CONSTANT_ENCAPSED_STRING","'PDF total model should extend Mage_Sales_Model_Order_Pdf_Total_Default'",557],")",["T_WHITESPACE","\n                    ",557],")",";",["T_WHITESPACE","\n                ",558],"}",["T_WHITESPACE","\n            ",559],"}",["T_WHITESPACE"," ",560],["T_ELSE","else",560],["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n                ",560],["T_VARIABLE","$totalModel",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_STRING","Mage",561],["T_DOUBLE_COLON","::",561],["T_STRING","getModel",561],"(",["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_defaultTotalModel",561],")",";",["T_WHITESPACE","\n            ",561],"}",["T_WHITESPACE","\n            ",562],["T_VARIABLE","$totalModel",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","setData",563],"(",["T_VARIABLE","$totalInfo",563],")",";",["T_WHITESPACE","\n            ",563],["T_VARIABLE","$totalModels",564],"[","]",["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_VARIABLE","$totalModel",564],";",["T_WHITESPACE","\n        ",564],"}",["T_WHITESPACE","\n\n        ",565],["T_RETURN","return",567],["T_WHITESPACE"," ",567],["T_VARIABLE","$totalModels",567],";",["T_WHITESPACE","\n    ",567],"}",["T_WHITESPACE","\n\n    ",568],["T_DOC_COMMENT","\/**\n     * Insert totals to pdf page\n     *\n     * @param  Zend_Pdf_Page $page\n     * @param  Mage_Sales_Model_Abstract $source\n     * @return Zend_Pdf_Page\n     *\/",570],["T_WHITESPACE","\n    ",576],["T_PROTECTED","protected",577],["T_WHITESPACE"," ",577],["T_FUNCTION","function",577],["T_WHITESPACE"," ",577],["T_STRING","insertTotals",577],"(",["T_VARIABLE","$page",577],",",["T_WHITESPACE"," ",577],["T_VARIABLE","$source",577],")","{",["T_WHITESPACE","\n        ",577],["T_VARIABLE","$order",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$source",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","getOrder",578],"(",")",";",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$totals",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","_getTotalsList",579],"(",["T_VARIABLE","$source",579],")",";",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$lineBlock",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_ARRAY","array",580],"(",["T_WHITESPACE","\n            ",580],["T_CONSTANT_ENCAPSED_STRING","'lines'",581],["T_WHITESPACE","  ",581],["T_DOUBLE_ARROW","=>",581],["T_WHITESPACE"," ",581],["T_ARRAY","array",581],"(",")",",",["T_WHITESPACE","\n            ",581],["T_CONSTANT_ENCAPSED_STRING","'height'",582],["T_WHITESPACE"," ",582],["T_DOUBLE_ARROW","=>",582],["T_WHITESPACE"," ",582],["T_LNUMBER","15",582],["T_WHITESPACE","\n        ",582],")",";",["T_WHITESPACE","\n        ",583],["T_FOREACH","foreach",584],["T_WHITESPACE"," ",584],"(",["T_VARIABLE","$totals",584],["T_WHITESPACE"," ",584],["T_AS","as",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$total",584],")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n            ",584],["T_VARIABLE","$total",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","setOrder",585],"(",["T_VARIABLE","$order",585],")",["T_WHITESPACE","\n                ",585],["T_OBJECT_OPERATOR","->",586],["T_STRING","setSource",586],"(",["T_VARIABLE","$source",586],")",";",["T_WHITESPACE","\n\n            ",586],["T_IF","if",588],["T_WHITESPACE"," ",588],"(",["T_VARIABLE","$total",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","canDisplay",588],"(",")",")",["T_WHITESPACE"," ",588],"{",["T_WHITESPACE","\n                ",588],["T_VARIABLE","$total",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","setFontSize",589],"(",["T_LNUMBER","10",589],")",";",["T_WHITESPACE","\n                ",589],["T_FOREACH","foreach",590],["T_WHITESPACE"," ",590],"(",["T_VARIABLE","$total",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","getTotalsForDisplay",590],"(",")",["T_WHITESPACE"," ",590],["T_AS","as",590],["T_WHITESPACE"," ",590],["T_VARIABLE","$totalData",590],")",["T_WHITESPACE"," ",590],"{",["T_WHITESPACE","\n                    ",590],["T_VARIABLE","$lineBlock",591],"[",["T_CONSTANT_ENCAPSED_STRING","'lines'",591],"]","[","]",["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],["T_ARRAY","array",591],"(",["T_WHITESPACE","\n                        ",591],["T_ARRAY","array",592],"(",["T_WHITESPACE","\n                            ",592],["T_CONSTANT_ENCAPSED_STRING","'text'",593],["T_WHITESPACE","      ",593],["T_DOUBLE_ARROW","=>",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$totalData",593],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",593],"]",",",["T_WHITESPACE","\n                            ",593],["T_CONSTANT_ENCAPSED_STRING","'feed'",594],["T_WHITESPACE","      ",594],["T_DOUBLE_ARROW","=>",594],["T_WHITESPACE"," ",594],["T_LNUMBER","475",594],",",["T_WHITESPACE","\n                            ",594],["T_CONSTANT_ENCAPSED_STRING","'align'",595],["T_WHITESPACE","     ",595],["T_DOUBLE_ARROW","=>",595],["T_WHITESPACE"," ",595],["T_CONSTANT_ENCAPSED_STRING","'right'",595],",",["T_WHITESPACE","\n                            ",595],["T_CONSTANT_ENCAPSED_STRING","'font_size'",596],["T_WHITESPACE"," ",596],["T_DOUBLE_ARROW","=>",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$totalData",596],"[",["T_CONSTANT_ENCAPSED_STRING","'font_size'",596],"]",",",["T_WHITESPACE","\n                            ",596],["T_CONSTANT_ENCAPSED_STRING","'font'",597],["T_WHITESPACE","      ",597],["T_DOUBLE_ARROW","=>",597],["T_WHITESPACE"," ",597],["T_CONSTANT_ENCAPSED_STRING","'bold'",597],["T_WHITESPACE","\n                        ",597],")",",",["T_WHITESPACE","\n                        ",598],["T_ARRAY","array",599],"(",["T_WHITESPACE","\n                            ",599],["T_CONSTANT_ENCAPSED_STRING","'text'",600],["T_WHITESPACE","      ",600],["T_DOUBLE_ARROW","=>",600],["T_WHITESPACE"," ",600],["T_VARIABLE","$totalData",600],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",600],"]",",",["T_WHITESPACE","\n                            ",600],["T_CONSTANT_ENCAPSED_STRING","'feed'",601],["T_WHITESPACE","      ",601],["T_DOUBLE_ARROW","=>",601],["T_WHITESPACE"," ",601],["T_LNUMBER","565",601],",",["T_WHITESPACE","\n                            ",601],["T_CONSTANT_ENCAPSED_STRING","'align'",602],["T_WHITESPACE","     ",602],["T_DOUBLE_ARROW","=>",602],["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","'right'",602],",",["T_WHITESPACE","\n                            ",602],["T_CONSTANT_ENCAPSED_STRING","'font_size'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$totalData",603],"[",["T_CONSTANT_ENCAPSED_STRING","'font_size'",603],"]",",",["T_WHITESPACE","\n                            ",603],["T_CONSTANT_ENCAPSED_STRING","'font'",604],["T_WHITESPACE","      ",604],["T_DOUBLE_ARROW","=>",604],["T_WHITESPACE"," ",604],["T_CONSTANT_ENCAPSED_STRING","'bold'",604],["T_WHITESPACE","\n                        ",604],")",",",["T_WHITESPACE","\n                    ",605],")",";",["T_WHITESPACE","\n                ",606],"}",["T_WHITESPACE","\n            ",607],"}",["T_WHITESPACE","\n        ",608],"}",["T_WHITESPACE","\n\n        ",609],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","y",611],["T_WHITESPACE"," ",611],["T_MINUS_EQUAL","-=",611],["T_WHITESPACE"," ",611],["T_LNUMBER","20",611],";",["T_WHITESPACE","\n        ",611],["T_VARIABLE","$page",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","drawLineBlocks",612],"(",["T_VARIABLE","$page",612],",",["T_WHITESPACE"," ",612],["T_ARRAY","array",612],"(",["T_VARIABLE","$lineBlock",612],")",")",";",["T_WHITESPACE","\n        ",612],["T_RETURN","return",613],["T_WHITESPACE"," ",613],["T_VARIABLE","$page",613],";",["T_WHITESPACE","\n    ",613],"}",["T_WHITESPACE","\n\n    ",614],["T_DOC_COMMENT","\/**\n     * Parse item description\n     *\n     * @param  Varien_Object $item\n     * @return array\n     *\/",616],["T_WHITESPACE","\n    ",621],["T_PROTECTED","protected",622],["T_WHITESPACE"," ",622],["T_FUNCTION","function",622],["T_WHITESPACE"," ",622],["T_STRING","_parseItemDescription",622],"(",["T_VARIABLE","$item",622],")",["T_WHITESPACE","\n    ",622],"{",["T_WHITESPACE","\n        ",623],["T_VARIABLE","$matches",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_ARRAY","array",624],"(",")",";",["T_WHITESPACE","\n        ",624],["T_VARIABLE","$description",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_VARIABLE","$item",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","getDescription",625],"(",")",";",["T_WHITESPACE","\n        ",625],["T_IF","if",626],["T_WHITESPACE"," ",626],"(",["T_STRING","preg_match_all",626],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<li.*?>(.*?)<\\\/li>\/i'",626],",",["T_WHITESPACE"," ",626],["T_VARIABLE","$description",626],",",["T_WHITESPACE"," ",626],["T_VARIABLE","$matches",626],")",")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n            ",626],["T_RETURN","return",627],["T_WHITESPACE"," ",627],["T_VARIABLE","$matches",627],"[",["T_LNUMBER","1",627],"]",";",["T_WHITESPACE","\n        ",627],"}",["T_WHITESPACE","\n\n        ",628],["T_RETURN","return",630],["T_WHITESPACE"," ",630],["T_ARRAY","array",630],"(",["T_VARIABLE","$description",630],")",";",["T_WHITESPACE","\n    ",630],"}",["T_WHITESPACE","\n\n    ",631],["T_DOC_COMMENT","\/**\n     * Before getPdf processing\n     *\/",633],["T_WHITESPACE","\n    ",635],["T_PROTECTED","protected",636],["T_WHITESPACE"," ",636],["T_FUNCTION","function",636],["T_WHITESPACE"," ",636],["T_STRING","_beforeGetPdf",636],"(",")",["T_WHITESPACE"," ",636],"{",["T_WHITESPACE","\n        ",636],["T_VARIABLE","$translate",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_STRING","Mage",637],["T_DOUBLE_COLON","::",637],["T_STRING","getSingleton",637],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate'",637],")",";",["T_WHITESPACE","\n        ",637],["T_COMMENT","\/* @var $translate Mage_Core_Model_Translate *\/",638],["T_WHITESPACE","\n        ",638],["T_VARIABLE","$translate",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","setTranslateInline",639],"(",["T_STRING","false",639],")",";",["T_WHITESPACE","\n    ",639],"}",["T_WHITESPACE","\n\n    ",640],["T_DOC_COMMENT","\/**\n     * After getPdf processing\n     *\/",642],["T_WHITESPACE","\n    ",644],["T_PROTECTED","protected",645],["T_WHITESPACE"," ",645],["T_FUNCTION","function",645],["T_WHITESPACE"," ",645],["T_STRING","_afterGetPdf",645],"(",")",["T_WHITESPACE"," ",645],"{",["T_WHITESPACE","\n        ",645],["T_VARIABLE","$translate",646],["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],["T_STRING","Mage",646],["T_DOUBLE_COLON","::",646],["T_STRING","getSingleton",646],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate'",646],")",";",["T_WHITESPACE","\n        ",646],["T_COMMENT","\/* @var $translate Mage_Core_Model_Translate *\/",647],["T_WHITESPACE","\n        ",647],["T_VARIABLE","$translate",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","setTranslateInline",648],"(",["T_STRING","true",648],")",";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n\n    ",649],["T_DOC_COMMENT","\/**\n     * Format option value process\n     *\n     * @param  array|string $value\n     * @param  Mage_Sales_Model_Order $order\n     * @return string\n     *\/",651],["T_WHITESPACE","\n    ",657],["T_PROTECTED","protected",658],["T_WHITESPACE"," ",658],["T_FUNCTION","function",658],["T_WHITESPACE"," ",658],["T_STRING","_formatOptionValue",658],"(",["T_VARIABLE","$value",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$order",658],")",["T_WHITESPACE","\n    ",658],"{",["T_WHITESPACE","\n        ",659],["T_VARIABLE","$resultValue",660],["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_CONSTANT_ENCAPSED_STRING","''",660],";",["T_WHITESPACE","\n        ",660],["T_IF","if",661],["T_WHITESPACE"," ",661],"(",["T_STRING","is_array",661],"(",["T_VARIABLE","$value",661],")",")",["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n            ",661],["T_IF","if",662],["T_WHITESPACE"," ",662],"(",["T_ISSET","isset",662],"(",["T_VARIABLE","$value",662],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",662],"]",")",")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n                ",662],["T_VARIABLE","$resultValue",663],["T_WHITESPACE"," ",663],["T_CONCAT_EQUAL",".=",663],["T_WHITESPACE"," ",663],["T_STRING","sprintf",663],"(",["T_CONSTANT_ENCAPSED_STRING","'%d'",663],",",["T_WHITESPACE"," ",663],["T_VARIABLE","$value",663],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",663],"]",")",["T_WHITESPACE"," ",663],".",["T_WHITESPACE"," ",663],["T_CONSTANT_ENCAPSED_STRING","' x '",663],";",["T_WHITESPACE","\n            ",663],"}",["T_WHITESPACE","\n\n            ",664],["T_VARIABLE","$resultValue",666],["T_WHITESPACE"," ",666],["T_CONCAT_EQUAL",".=",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$value",666],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",666],"]",";",["T_WHITESPACE","\n\n            ",666],["T_IF","if",668],["T_WHITESPACE"," ",668],"(",["T_ISSET","isset",668],"(",["T_VARIABLE","$value",668],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",668],"]",")",")",["T_WHITESPACE"," ",668],"{",["T_WHITESPACE","\n                ",668],["T_VARIABLE","$resultValue",669],["T_WHITESPACE"," ",669],["T_CONCAT_EQUAL",".=",669],["T_WHITESPACE"," ",669],["T_CONSTANT_ENCAPSED_STRING","\" \"",669],["T_WHITESPACE"," ",669],".",["T_WHITESPACE"," ",669],["T_VARIABLE","$order",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","formatPrice",669],"(",["T_VARIABLE","$value",669],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",669],"]",")",";",["T_WHITESPACE","\n            ",669],"}",["T_WHITESPACE","\n            ",670],["T_RETURN","return",671],["T_WHITESPACE","  ",671],["T_VARIABLE","$resultValue",671],";",["T_WHITESPACE","\n        ",671],"}",["T_WHITESPACE"," ",672],["T_ELSE","else",672],["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n            ",672],["T_RETURN","return",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$value",673],";",["T_WHITESPACE","\n        ",673],"}",["T_WHITESPACE","\n    ",674],"}",["T_WHITESPACE","\n\n    ",675],["T_DOC_COMMENT","\/**\n     * Initialize renderer process\n     *\n     * @param string $type\n     *\/",677],["T_WHITESPACE","\n    ",681],["T_PROTECTED","protected",682],["T_WHITESPACE"," ",682],["T_FUNCTION","function",682],["T_WHITESPACE"," ",682],["T_STRING","_initRenderer",682],"(",["T_VARIABLE","$type",682],")",["T_WHITESPACE","\n    ",682],"{",["T_WHITESPACE","\n        ",683],["T_VARIABLE","$node",684],["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_STRING","Mage",684],["T_DOUBLE_COLON","::",684],["T_STRING","getConfig",684],"(",")",["T_OBJECT_OPERATOR","->",684],["T_STRING","getNode",684],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/pdf\/'",684],["T_WHITESPACE"," ",684],".",["T_WHITESPACE"," ",684],["T_VARIABLE","$type",684],")",";",["T_WHITESPACE","\n        ",684],["T_FOREACH","foreach",685],["T_WHITESPACE"," ",685],"(",["T_VARIABLE","$node",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","children",685],"(",")",["T_WHITESPACE"," ",685],["T_AS","as",685],["T_WHITESPACE"," ",685],["T_VARIABLE","$renderer",685],")",["T_WHITESPACE"," ",685],"{",["T_WHITESPACE","\n            ",685],["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","_renderers",686],"[",["T_VARIABLE","$renderer",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","getName",686],"(",")","]",["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_ARRAY","array",686],"(",["T_WHITESPACE","\n                ",686],["T_CONSTANT_ENCAPSED_STRING","'model'",687],["T_WHITESPACE","     ",687],["T_DOUBLE_ARROW","=>",687],["T_WHITESPACE"," ",687],["T_STRING_CAST","(string)",687],["T_VARIABLE","$renderer",687],",",["T_WHITESPACE","\n                ",687],["T_CONSTANT_ENCAPSED_STRING","'renderer'",688],["T_WHITESPACE","  ",688],["T_DOUBLE_ARROW","=>",688],["T_WHITESPACE"," ",688],["T_STRING","null",688],["T_WHITESPACE","\n            ",688],")",";",["T_WHITESPACE","\n        ",689],"}",["T_WHITESPACE","\n    ",690],"}",["T_WHITESPACE","\n\n    ",691],["T_DOC_COMMENT","\/**\n     * Retrieve renderer model\n     *\n     * @param  string $type\n     * @throws Mage_Core_Exception\n     * @return Mage_Sales_Model_Order_Pdf_Items_Abstract\n     *\/",693],["T_WHITESPACE","\n    ",699],["T_PROTECTED","protected",700],["T_WHITESPACE"," ",700],["T_FUNCTION","function",700],["T_WHITESPACE"," ",700],["T_STRING","_getRenderer",700],"(",["T_VARIABLE","$type",700],")",["T_WHITESPACE","\n    ",700],"{",["T_WHITESPACE","\n        ",701],["T_IF","if",702],["T_WHITESPACE"," ",702],"(","!",["T_ISSET","isset",702],"(",["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","_renderers",702],"[",["T_VARIABLE","$type",702],"]",")",")",["T_WHITESPACE"," ",702],"{",["T_WHITESPACE","\n            ",702],["T_VARIABLE","$type",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_CONSTANT_ENCAPSED_STRING","'default'",703],";",["T_WHITESPACE","\n        ",703],"}",["T_WHITESPACE","\n\n        ",704],["T_IF","if",706],["T_WHITESPACE"," ",706],"(","!",["T_ISSET","isset",706],"(",["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","_renderers",706],"[",["T_VARIABLE","$type",706],"]",")",")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n            ",706],["T_STRING","Mage",707],["T_DOUBLE_COLON","::",707],["T_STRING","throwException",707],"(",["T_STRING","Mage",707],["T_DOUBLE_COLON","::",707],["T_STRING","helper",707],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",707],")",["T_OBJECT_OPERATOR","->",707],["T_STRING","__",707],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid renderer model'",707],")",")",";",["T_WHITESPACE","\n        ",707],"}",["T_WHITESPACE","\n\n        ",708],["T_IF","if",710],["T_WHITESPACE"," ",710],"(",["T_STRING","is_null",710],"(",["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","_renderers",710],"[",["T_VARIABLE","$type",710],"]","[",["T_CONSTANT_ENCAPSED_STRING","'renderer'",710],"]",")",")",["T_WHITESPACE"," ",710],"{",["T_WHITESPACE","\n            ",710],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","_renderers",711],"[",["T_VARIABLE","$type",711],"]","[",["T_CONSTANT_ENCAPSED_STRING","'renderer'",711],"]",["T_WHITESPACE"," ",711],"=",["T_WHITESPACE"," ",711],["T_STRING","Mage",711],["T_DOUBLE_COLON","::",711],["T_STRING","getSingleton",711],"(",["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","_renderers",711],"[",["T_VARIABLE","$type",711],"]","[",["T_CONSTANT_ENCAPSED_STRING","'model'",711],"]",")",";",["T_WHITESPACE","\n        ",711],"}",["T_WHITESPACE","\n\n        ",712],["T_RETURN","return",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","_renderers",714],"[",["T_VARIABLE","$type",714],"]","[",["T_CONSTANT_ENCAPSED_STRING","'renderer'",714],"]",";",["T_WHITESPACE","\n    ",714],"}",["T_WHITESPACE","\n\n    ",715],["T_DOC_COMMENT","\/**\n     * Public method of protected @see _getRenderer()\n     *\n     * Retrieve renderer model\n     *\n     * @param  string $type\n     * @return Mage_Sales_Model_Order_Pdf_Items_Abstract\n     *\/",717],["T_WHITESPACE","\n    ",724],["T_PUBLIC","public",725],["T_WHITESPACE"," ",725],["T_FUNCTION","function",725],["T_WHITESPACE"," ",725],["T_STRING","getRenderer",725],"(",["T_VARIABLE","$type",725],")",["T_WHITESPACE","\n    ",725],"{",["T_WHITESPACE","\n        ",726],["T_RETURN","return",727],["T_WHITESPACE"," ",727],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","_getRenderer",727],"(",["T_VARIABLE","$type",727],")",";",["T_WHITESPACE","\n    ",727],"}",["T_WHITESPACE","\n\n    ",728],["T_DOC_COMMENT","\/**\n     * Render item\n     *\n     * @param Varien_Object $item\n     * @param Zend_Pdf_Page $page\n     * @param Mage_Sales_Model_Order $order\n     * @param Mage_Sales_Model_Order_Pdf_Items_Abstract $renderer\n     *\n     * @return Mage_Sales_Model_Order_Pdf_Abstract\n     *\/",730],["T_WHITESPACE","\n    ",739],["T_PUBLIC","public",740],["T_WHITESPACE"," ",740],["T_FUNCTION","function",740],["T_WHITESPACE"," ",740],["T_STRING","renderItem",740],"(",["T_STRING","Varien_Object",740],["T_WHITESPACE"," ",740],["T_VARIABLE","$item",740],",",["T_WHITESPACE"," ",740],["T_STRING","Zend_Pdf_Page",740],["T_WHITESPACE"," ",740],["T_VARIABLE","$page",740],",",["T_WHITESPACE"," ",740],["T_STRING","Mage_Sales_Model_Order",740],["T_WHITESPACE"," ",740],["T_VARIABLE","$order",740],",",["T_WHITESPACE"," ",740],["T_VARIABLE","$renderer",740],")",["T_WHITESPACE","\n    ",740],"{",["T_WHITESPACE","\n        ",741],["T_VARIABLE","$renderer",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","setOrder",742],"(",["T_VARIABLE","$order",742],")",["T_WHITESPACE","\n            ",742],["T_OBJECT_OPERATOR","->",743],["T_STRING","setItem",743],"(",["T_VARIABLE","$item",743],")",["T_WHITESPACE","\n            ",743],["T_OBJECT_OPERATOR","->",744],["T_STRING","setPdf",744],"(",["T_VARIABLE","$this",744],")",["T_WHITESPACE","\n            ",744],["T_OBJECT_OPERATOR","->",745],["T_STRING","setPage",745],"(",["T_VARIABLE","$page",745],")",["T_WHITESPACE","\n            ",745],["T_OBJECT_OPERATOR","->",746],["T_STRING","setRenderedModel",746],"(",["T_VARIABLE","$this",746],")",["T_WHITESPACE","\n            ",746],["T_OBJECT_OPERATOR","->",747],["T_STRING","draw",747],"(",")",";",["T_WHITESPACE","\n\n        ",747],["T_RETURN","return",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$this",749],";",["T_WHITESPACE","\n    ",749],"}",["T_WHITESPACE","\n\n    ",750],["T_DOC_COMMENT","\/**\n     * Draw Item process\n     *\n     * @param  Varien_Object $item\n     * @param  Zend_Pdf_Page $page\n     * @param  Mage_Sales_Model_Order $order\n     * @return Zend_Pdf_Page\n     *\/",752],["T_WHITESPACE","\n    ",759],["T_PROTECTED","protected",760],["T_WHITESPACE"," ",760],["T_FUNCTION","function",760],["T_WHITESPACE"," ",760],["T_STRING","_drawItem",760],"(",["T_STRING","Varien_Object",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$item",760],",",["T_WHITESPACE"," ",760],["T_STRING","Zend_Pdf_Page",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$page",760],",",["T_WHITESPACE"," ",760],["T_STRING","Mage_Sales_Model_Order",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$order",760],")",["T_WHITESPACE","\n    ",760],"{",["T_WHITESPACE","\n        ",761],["T_VARIABLE","$orderItem",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_VARIABLE","$item",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","getOrderItem",762],"(",")",";",["T_WHITESPACE","\n        ",762],["T_VARIABLE","$type",763],["T_WHITESPACE"," ",763],"=",["T_WHITESPACE"," ",763],["T_VARIABLE","$orderItem",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","getProductType",763],"(",")",";",["T_WHITESPACE","\n        ",763],["T_VARIABLE","$renderer",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_getRenderer",764],"(",["T_VARIABLE","$type",764],")",";",["T_WHITESPACE","\n\n        ",764],["T_VARIABLE","$this",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","renderItem",766],"(",["T_VARIABLE","$item",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$page",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$order",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$renderer",766],")",";",["T_WHITESPACE","\n\n        ",766],["T_VARIABLE","$transportObject",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_NEW","new",768],["T_WHITESPACE"," ",768],["T_STRING","Varien_Object",768],"(",["T_ARRAY","array",768],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer_type_list'",768],["T_WHITESPACE"," ",768],["T_DOUBLE_ARROW","=>",768],["T_WHITESPACE"," ",768],["T_ARRAY","array",768],"(",")",")",")",";",["T_WHITESPACE","\n        ",768],["T_STRING","Mage",769],["T_DOUBLE_COLON","::",769],["T_STRING","dispatchEvent",769],"(",["T_CONSTANT_ENCAPSED_STRING","'pdf_item_draw_after'",769],",",["T_WHITESPACE"," ",769],["T_ARRAY","array",769],"(",["T_WHITESPACE","\n            ",769],["T_CONSTANT_ENCAPSED_STRING","'transport_object'",770],["T_WHITESPACE"," ",770],["T_DOUBLE_ARROW","=>",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$transportObject",770],",",["T_WHITESPACE","\n            ",770],["T_CONSTANT_ENCAPSED_STRING","'entity_item'",771],["T_WHITESPACE","      ",771],["T_DOUBLE_ARROW","=>",771],["T_WHITESPACE"," ",771],["T_VARIABLE","$item",771],["T_WHITESPACE","\n        ",771],")",")",";",["T_WHITESPACE","\n\n        ",772],["T_FOREACH","foreach",774],["T_WHITESPACE"," ",774],"(",["T_VARIABLE","$transportObject",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","getRendererTypeList",774],"(",")",["T_WHITESPACE"," ",774],["T_AS","as",774],["T_WHITESPACE"," ",774],["T_VARIABLE","$type",774],")",["T_WHITESPACE"," ",774],"{",["T_WHITESPACE","\n            ",774],["T_VARIABLE","$renderer",775],["T_WHITESPACE"," ",775],"=",["T_WHITESPACE"," ",775],["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","_getRenderer",775],"(",["T_VARIABLE","$type",775],")",";",["T_WHITESPACE","\n            ",775],["T_IF","if",776],["T_WHITESPACE"," ",776],"(",["T_VARIABLE","$renderer",776],")",["T_WHITESPACE"," ",776],"{",["T_WHITESPACE","\n                ",776],["T_VARIABLE","$this",777],["T_OBJECT_OPERATOR","->",777],["T_STRING","renderItem",777],"(",["T_VARIABLE","$orderItem",777],",",["T_WHITESPACE"," ",777],["T_VARIABLE","$page",777],",",["T_WHITESPACE"," ",777],["T_VARIABLE","$order",777],",",["T_WHITESPACE"," ",777],["T_VARIABLE","$renderer",777],")",";",["T_WHITESPACE","\n            ",777],"}",["T_WHITESPACE","\n        ",778],"}",["T_WHITESPACE","\n\n        ",779],["T_RETURN","return",781],["T_WHITESPACE"," ",781],["T_VARIABLE","$renderer",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","getPage",781],"(",")",";",["T_WHITESPACE","\n    ",781],"}",["T_WHITESPACE","\n\n    ",782],["T_DOC_COMMENT","\/**\n     * Set font as regular\n     *\n     * @param  Zend_Pdf_Page $object\n     * @param  int $size\n     * @return Zend_Pdf_Resource_Font\n     *\/",784],["T_WHITESPACE","\n    ",790],["T_PROTECTED","protected",791],["T_WHITESPACE"," ",791],["T_FUNCTION","function",791],["T_WHITESPACE"," ",791],["T_STRING","_setFontRegular",791],"(",["T_VARIABLE","$object",791],",",["T_WHITESPACE"," ",791],["T_VARIABLE","$size",791],["T_WHITESPACE"," ",791],"=",["T_WHITESPACE"," ",791],["T_LNUMBER","7",791],")",["T_WHITESPACE","\n    ",791],"{",["T_WHITESPACE","\n        ",792],["T_VARIABLE","$font",793],["T_WHITESPACE"," ",793],"=",["T_WHITESPACE"," ",793],["T_STRING","Zend_Pdf_Font",793],["T_DOUBLE_COLON","::",793],["T_STRING","fontWithPath",793],"(",["T_STRING","Mage",793],["T_DOUBLE_COLON","::",793],["T_STRING","getBaseDir",793],"(",")",["T_WHITESPACE"," ",793],".",["T_WHITESPACE"," ",793],["T_CONSTANT_ENCAPSED_STRING","'\/lib\/LinLibertineFont\/LinLibertine_Re-4.4.1.ttf'",793],")",";",["T_WHITESPACE","\n        ",793],["T_VARIABLE","$object",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","setFont",794],"(",["T_VARIABLE","$font",794],",",["T_WHITESPACE"," ",794],["T_VARIABLE","$size",794],")",";",["T_WHITESPACE","\n        ",794],["T_RETURN","return",795],["T_WHITESPACE"," ",795],["T_VARIABLE","$font",795],";",["T_WHITESPACE","\n    ",795],"}",["T_WHITESPACE","\n\n    ",796],["T_DOC_COMMENT","\/**\n     * Set font as bold\n     *\n     * @param  Zend_Pdf_Page $object\n     * @param  int $size\n     * @return Zend_Pdf_Resource_Font\n     *\/",798],["T_WHITESPACE","\n    ",804],["T_PROTECTED","protected",805],["T_WHITESPACE"," ",805],["T_FUNCTION","function",805],["T_WHITESPACE"," ",805],["T_STRING","_setFontBold",805],"(",["T_VARIABLE","$object",805],",",["T_WHITESPACE"," ",805],["T_VARIABLE","$size",805],["T_WHITESPACE"," ",805],"=",["T_WHITESPACE"," ",805],["T_LNUMBER","7",805],")",["T_WHITESPACE","\n    ",805],"{",["T_WHITESPACE","\n        ",806],["T_VARIABLE","$font",807],["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_STRING","Zend_Pdf_Font",807],["T_DOUBLE_COLON","::",807],["T_STRING","fontWithPath",807],"(",["T_STRING","Mage",807],["T_DOUBLE_COLON","::",807],["T_STRING","getBaseDir",807],"(",")",["T_WHITESPACE"," ",807],".",["T_WHITESPACE"," ",807],["T_CONSTANT_ENCAPSED_STRING","'\/lib\/LinLibertineFont\/LinLibertine_Bd-2.8.1.ttf'",807],")",";",["T_WHITESPACE","\n        ",807],["T_VARIABLE","$object",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","setFont",808],"(",["T_VARIABLE","$font",808],",",["T_WHITESPACE"," ",808],["T_VARIABLE","$size",808],")",";",["T_WHITESPACE","\n        ",808],["T_RETURN","return",809],["T_WHITESPACE"," ",809],["T_VARIABLE","$font",809],";",["T_WHITESPACE","\n    ",809],"}",["T_WHITESPACE","\n\n    ",810],["T_DOC_COMMENT","\/**\n     * Set font as italic\n     *\n     * @param  Zend_Pdf_Page $object\n     * @param  int $size\n     * @return Zend_Pdf_Resource_Font\n     *\/",812],["T_WHITESPACE","\n    ",818],["T_PROTECTED","protected",819],["T_WHITESPACE"," ",819],["T_FUNCTION","function",819],["T_WHITESPACE"," ",819],["T_STRING","_setFontItalic",819],"(",["T_VARIABLE","$object",819],",",["T_WHITESPACE"," ",819],["T_VARIABLE","$size",819],["T_WHITESPACE"," ",819],"=",["T_WHITESPACE"," ",819],["T_LNUMBER","7",819],")",["T_WHITESPACE","\n    ",819],"{",["T_WHITESPACE","\n        ",820],["T_VARIABLE","$font",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_STRING","Zend_Pdf_Font",821],["T_DOUBLE_COLON","::",821],["T_STRING","fontWithPath",821],"(",["T_STRING","Mage",821],["T_DOUBLE_COLON","::",821],["T_STRING","getBaseDir",821],"(",")",["T_WHITESPACE"," ",821],".",["T_WHITESPACE"," ",821],["T_CONSTANT_ENCAPSED_STRING","'\/lib\/LinLibertineFont\/LinLibertine_It-2.8.2.ttf'",821],")",";",["T_WHITESPACE","\n        ",821],["T_VARIABLE","$object",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","setFont",822],"(",["T_VARIABLE","$font",822],",",["T_WHITESPACE"," ",822],["T_VARIABLE","$size",822],")",";",["T_WHITESPACE","\n        ",822],["T_RETURN","return",823],["T_WHITESPACE"," ",823],["T_VARIABLE","$font",823],";",["T_WHITESPACE","\n    ",823],"}",["T_WHITESPACE","\n\n    ",824],["T_DOC_COMMENT","\/**\n     * Set PDF object\n     *\n     * @param  Zend_Pdf $pdf\n     * @return Mage_Sales_Model_Order_Pdf_Abstract\n     *\/",826],["T_WHITESPACE","\n    ",831],["T_PROTECTED","protected",832],["T_WHITESPACE"," ",832],["T_FUNCTION","function",832],["T_WHITESPACE"," ",832],["T_STRING","_setPdf",832],"(",["T_STRING","Zend_Pdf",832],["T_WHITESPACE"," ",832],["T_VARIABLE","$pdf",832],")",["T_WHITESPACE","\n    ",832],"{",["T_WHITESPACE","\n        ",833],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","_pdf",834],["T_WHITESPACE"," ",834],"=",["T_WHITESPACE"," ",834],["T_VARIABLE","$pdf",834],";",["T_WHITESPACE","\n        ",834],["T_RETURN","return",835],["T_WHITESPACE"," ",835],["T_VARIABLE","$this",835],";",["T_WHITESPACE","\n    ",835],"}",["T_WHITESPACE","\n\n    ",836],["T_DOC_COMMENT","\/**\n     * Retrieve PDF object\n     *\n     * @throws Mage_Core_Exception\n     * @return Zend_Pdf\n     *\/",838],["T_WHITESPACE","\n    ",843],["T_PROTECTED","protected",844],["T_WHITESPACE"," ",844],["T_FUNCTION","function",844],["T_WHITESPACE"," ",844],["T_STRING","_getPdf",844],"(",")",["T_WHITESPACE","\n    ",844],"{",["T_WHITESPACE","\n        ",845],["T_IF","if",846],["T_WHITESPACE"," ",846],"(","!",["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","_pdf",846],["T_WHITESPACE"," ",846],["T_INSTANCEOF","instanceof",846],["T_WHITESPACE"," ",846],["T_STRING","Zend_Pdf",846],")",["T_WHITESPACE"," ",846],"{",["T_WHITESPACE","\n            ",846],["T_STRING","Mage",847],["T_DOUBLE_COLON","::",847],["T_STRING","throwException",847],"(",["T_STRING","Mage",847],["T_DOUBLE_COLON","::",847],["T_STRING","helper",847],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",847],")",["T_OBJECT_OPERATOR","->",847],["T_STRING","__",847],"(",["T_CONSTANT_ENCAPSED_STRING","'Please define PDF object before using.'",847],")",")",";",["T_WHITESPACE","\n        ",847],"}",["T_WHITESPACE","\n\n        ",848],["T_RETURN","return",850],["T_WHITESPACE"," ",850],["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","_pdf",850],";",["T_WHITESPACE","\n    ",850],"}",["T_WHITESPACE","\n\n    ",851],["T_DOC_COMMENT","\/**\n     * Create new page and assign to PDF object\n     *\n     * @param  array $settings\n     * @return Zend_Pdf_Page\n     *\/",853],["T_WHITESPACE","\n    ",858],["T_PUBLIC","public",859],["T_WHITESPACE"," ",859],["T_FUNCTION","function",859],["T_WHITESPACE"," ",859],["T_STRING","newPage",859],"(",["T_ARRAY","array",859],["T_WHITESPACE"," ",859],["T_VARIABLE","$settings",859],["T_WHITESPACE"," ",859],"=",["T_WHITESPACE"," ",859],["T_ARRAY","array",859],"(",")",")",["T_WHITESPACE","\n    ",859],"{",["T_WHITESPACE","\n        ",860],["T_VARIABLE","$pageSize",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],"!",["T_EMPTY","empty",861],"(",["T_VARIABLE","$settings",861],"[",["T_CONSTANT_ENCAPSED_STRING","'page_size'",861],"]",")",["T_WHITESPACE"," ",861],"?",["T_WHITESPACE"," ",861],["T_VARIABLE","$settings",861],"[",["T_CONSTANT_ENCAPSED_STRING","'page_size'",861],"]",["T_WHITESPACE"," ",861],":",["T_WHITESPACE"," ",861],["T_STRING","Zend_Pdf_Page",861],["T_DOUBLE_COLON","::",861],["T_STRING","SIZE_A4",861],";",["T_WHITESPACE","\n        ",861],["T_VARIABLE","$page",862],["T_WHITESPACE"," ",862],"=",["T_WHITESPACE"," ",862],["T_VARIABLE","$this",862],["T_OBJECT_OPERATOR","->",862],["T_STRING","_getPdf",862],"(",")",["T_OBJECT_OPERATOR","->",862],["T_STRING","newPage",862],"(",["T_VARIABLE","$pageSize",862],")",";",["T_WHITESPACE","\n        ",862],["T_VARIABLE","$this",863],["T_OBJECT_OPERATOR","->",863],["T_STRING","_getPdf",863],"(",")",["T_OBJECT_OPERATOR","->",863],["T_STRING","pages",863],"[","]",["T_WHITESPACE"," ",863],"=",["T_WHITESPACE"," ",863],["T_VARIABLE","$page",863],";",["T_WHITESPACE","\n        ",863],["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","y",864],["T_WHITESPACE"," ",864],"=",["T_WHITESPACE"," ",864],["T_LNUMBER","800",864],";",["T_WHITESPACE","\n\n        ",864],["T_RETURN","return",866],["T_WHITESPACE"," ",866],["T_VARIABLE","$page",866],";",["T_WHITESPACE","\n    ",866],"}",["T_WHITESPACE","\n\n    ",867],["T_DOC_COMMENT","\/**\n     * Draw lines\n     *\n     * draw items array format:\n     * lines        array;array of line blocks (required)\n     * shift        int; full line height (optional)\n     * height       int;line spacing (default 10)\n     *\n     * line block has line columns array\n     *\n     * column array format\n     * text         string|array; draw text (required)\n     * feed         int; x position (required)\n     * font         string; font style, optional: bold, italic, regular\n     * font_file    string; path to font file (optional for use your custom font)\n     * font_size    int; font size (default 7)\n     * align        string; text align (also see feed parametr), optional left, right\n     * height       int;line spacing (default 10)\n     *\n     * @param  Zend_Pdf_Page $page\n     * @param  array $draw\n     * @param  array $pageSettings\n     * @throws Mage_Core_Exception\n     * @return Zend_Pdf_Page\n     *\/",869],["T_WHITESPACE","\n    ",893],["T_PUBLIC","public",894],["T_WHITESPACE"," ",894],["T_FUNCTION","function",894],["T_WHITESPACE"," ",894],["T_STRING","drawLineBlocks",894],"(",["T_STRING","Zend_Pdf_Page",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$page",894],",",["T_WHITESPACE"," ",894],["T_ARRAY","array",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$draw",894],",",["T_WHITESPACE"," ",894],["T_ARRAY","array",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$pageSettings",894],["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_ARRAY","array",894],"(",")",")",["T_WHITESPACE","\n    ",894],"{",["T_WHITESPACE","\n        ",895],["T_FOREACH","foreach",896],["T_WHITESPACE"," ",896],"(",["T_VARIABLE","$draw",896],["T_WHITESPACE"," ",896],["T_AS","as",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$itemsProp",896],")",["T_WHITESPACE"," ",896],"{",["T_WHITESPACE","\n            ",896],["T_IF","if",897],["T_WHITESPACE"," ",897],"(","!",["T_ISSET","isset",897],"(",["T_VARIABLE","$itemsProp",897],"[",["T_CONSTANT_ENCAPSED_STRING","'lines'",897],"]",")",["T_WHITESPACE"," ",897],["T_BOOLEAN_OR","||",897],["T_WHITESPACE"," ",897],"!",["T_STRING","is_array",897],"(",["T_VARIABLE","$itemsProp",897],"[",["T_CONSTANT_ENCAPSED_STRING","'lines'",897],"]",")",")",["T_WHITESPACE"," ",897],"{",["T_WHITESPACE","\n                ",897],["T_STRING","Mage",898],["T_DOUBLE_COLON","::",898],["T_STRING","throwException",898],"(",["T_STRING","Mage",898],["T_DOUBLE_COLON","::",898],["T_STRING","helper",898],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",898],")",["T_OBJECT_OPERATOR","->",898],["T_STRING","__",898],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid draw line data. Please define \"lines\" array.'",898],")",")",";",["T_WHITESPACE","\n            ",898],"}",["T_WHITESPACE","\n            ",899],["T_VARIABLE","$lines",900],["T_WHITESPACE","  ",900],"=",["T_WHITESPACE"," ",900],["T_VARIABLE","$itemsProp",900],"[",["T_CONSTANT_ENCAPSED_STRING","'lines'",900],"]",";",["T_WHITESPACE","\n            ",900],["T_VARIABLE","$height",901],["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_ISSET","isset",901],"(",["T_VARIABLE","$itemsProp",901],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",901],"]",")",["T_WHITESPACE"," ",901],"?",["T_WHITESPACE"," ",901],["T_VARIABLE","$itemsProp",901],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",901],"]",["T_WHITESPACE"," ",901],":",["T_WHITESPACE"," ",901],["T_LNUMBER","10",901],";",["T_WHITESPACE","\n\n            ",901],["T_IF","if",903],["T_WHITESPACE"," ",903],"(",["T_EMPTY","empty",903],"(",["T_VARIABLE","$itemsProp",903],"[",["T_CONSTANT_ENCAPSED_STRING","'shift'",903],"]",")",")",["T_WHITESPACE"," ",903],"{",["T_WHITESPACE","\n                ",903],["T_VARIABLE","$shift",904],["T_WHITESPACE"," ",904],"=",["T_WHITESPACE"," ",904],["T_LNUMBER","0",904],";",["T_WHITESPACE","\n                ",904],["T_FOREACH","foreach",905],["T_WHITESPACE"," ",905],"(",["T_VARIABLE","$lines",905],["T_WHITESPACE"," ",905],["T_AS","as",905],["T_WHITESPACE"," ",905],["T_VARIABLE","$line",905],")",["T_WHITESPACE"," ",905],"{",["T_WHITESPACE","\n                    ",905],["T_VARIABLE","$maxHeight",906],["T_WHITESPACE"," ",906],"=",["T_WHITESPACE"," ",906],["T_LNUMBER","0",906],";",["T_WHITESPACE","\n                    ",906],["T_FOREACH","foreach",907],["T_WHITESPACE"," ",907],"(",["T_VARIABLE","$line",907],["T_WHITESPACE"," ",907],["T_AS","as",907],["T_WHITESPACE"," ",907],["T_VARIABLE","$column",907],")",["T_WHITESPACE"," ",907],"{",["T_WHITESPACE","\n                        ",907],["T_VARIABLE","$lineSpacing",908],["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],"!",["T_EMPTY","empty",908],"(",["T_VARIABLE","$column",908],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",908],"]",")",["T_WHITESPACE"," ",908],"?",["T_WHITESPACE"," ",908],["T_VARIABLE","$column",908],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",908],"]",["T_WHITESPACE"," ",908],":",["T_WHITESPACE"," ",908],["T_VARIABLE","$height",908],";",["T_WHITESPACE","\n                        ",908],["T_IF","if",909],["T_WHITESPACE"," ",909],"(","!",["T_STRING","is_array",909],"(",["T_VARIABLE","$column",909],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",909],"]",")",")",["T_WHITESPACE"," ",909],"{",["T_WHITESPACE","\n                            ",909],["T_VARIABLE","$column",910],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",910],"]",["T_WHITESPACE"," ",910],"=",["T_WHITESPACE"," ",910],["T_ARRAY","array",910],"(",["T_VARIABLE","$column",910],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",910],"]",")",";",["T_WHITESPACE","\n                        ",910],"}",["T_WHITESPACE","\n                        ",911],["T_VARIABLE","$top",912],["T_WHITESPACE"," ",912],"=",["T_WHITESPACE"," ",912],["T_LNUMBER","0",912],";",["T_WHITESPACE","\n                        ",912],["T_FOREACH","foreach",913],["T_WHITESPACE"," ",913],"(",["T_VARIABLE","$column",913],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",913],"]",["T_WHITESPACE"," ",913],["T_AS","as",913],["T_WHITESPACE"," ",913],["T_VARIABLE","$part",913],")",["T_WHITESPACE"," ",913],"{",["T_WHITESPACE","\n                            ",913],["T_VARIABLE","$top",914],["T_WHITESPACE"," ",914],["T_PLUS_EQUAL","+=",914],["T_WHITESPACE"," ",914],["T_VARIABLE","$lineSpacing",914],";",["T_WHITESPACE","\n                        ",914],"}",["T_WHITESPACE","\n\n                        ",915],["T_VARIABLE","$maxHeight",917],["T_WHITESPACE"," ",917],"=",["T_WHITESPACE"," ",917],["T_VARIABLE","$top",917],["T_WHITESPACE"," ",917],">",["T_WHITESPACE"," ",917],["T_VARIABLE","$maxHeight",917],["T_WHITESPACE"," ",917],"?",["T_WHITESPACE"," ",917],["T_VARIABLE","$top",917],["T_WHITESPACE"," ",917],":",["T_WHITESPACE"," ",917],["T_VARIABLE","$maxHeight",917],";",["T_WHITESPACE","\n                    ",917],"}",["T_WHITESPACE","\n                    ",918],["T_VARIABLE","$shift",919],["T_WHITESPACE"," ",919],["T_PLUS_EQUAL","+=",919],["T_WHITESPACE"," ",919],["T_VARIABLE","$maxHeight",919],";",["T_WHITESPACE","\n                ",919],"}",["T_WHITESPACE","\n                ",920],["T_VARIABLE","$itemsProp",921],"[",["T_CONSTANT_ENCAPSED_STRING","'shift'",921],"]",["T_WHITESPACE"," ",921],"=",["T_WHITESPACE"," ",921],["T_VARIABLE","$shift",921],";",["T_WHITESPACE","\n            ",921],"}",["T_WHITESPACE","\n\n            ",922],["T_IF","if",924],["T_WHITESPACE"," ",924],"(",["T_VARIABLE","$this",924],["T_OBJECT_OPERATOR","->",924],["T_STRING","y",924],["T_WHITESPACE"," ",924],"-",["T_WHITESPACE"," ",924],["T_VARIABLE","$itemsProp",924],"[",["T_CONSTANT_ENCAPSED_STRING","'shift'",924],"]",["T_WHITESPACE"," ",924],"<",["T_WHITESPACE"," ",924],["T_LNUMBER","15",924],")",["T_WHITESPACE"," ",924],"{",["T_WHITESPACE","\n                ",924],["T_VARIABLE","$page",925],["T_WHITESPACE"," ",925],"=",["T_WHITESPACE"," ",925],["T_VARIABLE","$this",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","newPage",925],"(",["T_VARIABLE","$pageSettings",925],")",";",["T_WHITESPACE","\n            ",925],"}",["T_WHITESPACE","\n\n            ",926],["T_FOREACH","foreach",928],["T_WHITESPACE"," ",928],"(",["T_VARIABLE","$lines",928],["T_WHITESPACE"," ",928],["T_AS","as",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$line",928],")",["T_WHITESPACE"," ",928],"{",["T_WHITESPACE","\n                ",928],["T_VARIABLE","$maxHeight",929],["T_WHITESPACE"," ",929],"=",["T_WHITESPACE"," ",929],["T_LNUMBER","0",929],";",["T_WHITESPACE","\n                ",929],["T_FOREACH","foreach",930],["T_WHITESPACE"," ",930],"(",["T_VARIABLE","$line",930],["T_WHITESPACE"," ",930],["T_AS","as",930],["T_WHITESPACE"," ",930],["T_VARIABLE","$column",930],")",["T_WHITESPACE"," ",930],"{",["T_WHITESPACE","\n                    ",930],["T_VARIABLE","$fontSize",931],["T_WHITESPACE"," ",931],"=",["T_WHITESPACE"," ",931],["T_EMPTY","empty",931],"(",["T_VARIABLE","$column",931],"[",["T_CONSTANT_ENCAPSED_STRING","'font_size'",931],"]",")",["T_WHITESPACE"," ",931],"?",["T_WHITESPACE"," ",931],["T_LNUMBER","10",931],["T_WHITESPACE"," ",931],":",["T_WHITESPACE"," ",931],["T_VARIABLE","$column",931],"[",["T_CONSTANT_ENCAPSED_STRING","'font_size'",931],"]",";",["T_WHITESPACE","\n                    ",931],["T_IF","if",932],["T_WHITESPACE"," ",932],"(","!",["T_EMPTY","empty",932],"(",["T_VARIABLE","$column",932],"[",["T_CONSTANT_ENCAPSED_STRING","'font_file'",932],"]",")",")",["T_WHITESPACE"," ",932],"{",["T_WHITESPACE","\n                        ",932],["T_VARIABLE","$font",933],["T_WHITESPACE"," ",933],"=",["T_WHITESPACE"," ",933],["T_STRING","Zend_Pdf_Font",933],["T_DOUBLE_COLON","::",933],["T_STRING","fontWithPath",933],"(",["T_VARIABLE","$column",933],"[",["T_CONSTANT_ENCAPSED_STRING","'font_file'",933],"]",")",";",["T_WHITESPACE","\n                        ",933],["T_VARIABLE","$page",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","setFont",934],"(",["T_VARIABLE","$font",934],",",["T_WHITESPACE"," ",934],["T_VARIABLE","$fontSize",934],")",";",["T_WHITESPACE","\n                    ",934],"}",["T_WHITESPACE"," ",935],["T_ELSE","else",935],["T_WHITESPACE"," ",935],"{",["T_WHITESPACE","\n                        ",935],["T_VARIABLE","$fontStyle",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_EMPTY","empty",936],"(",["T_VARIABLE","$column",936],"[",["T_CONSTANT_ENCAPSED_STRING","'font'",936],"]",")",["T_WHITESPACE"," ",936],"?",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'regular'",936],["T_WHITESPACE"," ",936],":",["T_WHITESPACE"," ",936],["T_VARIABLE","$column",936],"[",["T_CONSTANT_ENCAPSED_STRING","'font'",936],"]",";",["T_WHITESPACE","\n                        ",936],["T_SWITCH","switch",937],["T_WHITESPACE"," ",937],"(",["T_VARIABLE","$fontStyle",937],")",["T_WHITESPACE"," ",937],"{",["T_WHITESPACE","\n                            ",937],["T_CASE","case",938],["T_WHITESPACE"," ",938],["T_CONSTANT_ENCAPSED_STRING","'bold'",938],":",["T_WHITESPACE","\n                                ",938],["T_VARIABLE","$font",939],["T_WHITESPACE"," ",939],"=",["T_WHITESPACE"," ",939],["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","_setFontBold",939],"(",["T_VARIABLE","$page",939],",",["T_WHITESPACE"," ",939],["T_VARIABLE","$fontSize",939],")",";",["T_WHITESPACE","\n                                ",939],["T_BREAK","break",940],";",["T_WHITESPACE","\n                            ",940],["T_CASE","case",941],["T_WHITESPACE"," ",941],["T_CONSTANT_ENCAPSED_STRING","'italic'",941],":",["T_WHITESPACE","\n                                ",941],["T_VARIABLE","$font",942],["T_WHITESPACE"," ",942],"=",["T_WHITESPACE"," ",942],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","_setFontItalic",942],"(",["T_VARIABLE","$page",942],",",["T_WHITESPACE"," ",942],["T_VARIABLE","$fontSize",942],")",";",["T_WHITESPACE","\n                                ",942],["T_BREAK","break",943],";",["T_WHITESPACE","\n                            ",943],["T_DEFAULT","default",944],":",["T_WHITESPACE","\n                                ",944],["T_VARIABLE","$font",945],["T_WHITESPACE"," ",945],"=",["T_WHITESPACE"," ",945],["T_VARIABLE","$this",945],["T_OBJECT_OPERATOR","->",945],["T_STRING","_setFontRegular",945],"(",["T_VARIABLE","$page",945],",",["T_WHITESPACE"," ",945],["T_VARIABLE","$fontSize",945],")",";",["T_WHITESPACE","\n                                ",945],["T_BREAK","break",946],";",["T_WHITESPACE","\n                        ",946],"}",["T_WHITESPACE","\n                    ",947],"}",["T_WHITESPACE","\n\n                    ",948],["T_IF","if",950],["T_WHITESPACE"," ",950],"(","!",["T_STRING","is_array",950],"(",["T_VARIABLE","$column",950],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",950],"]",")",")",["T_WHITESPACE"," ",950],"{",["T_WHITESPACE","\n                        ",950],["T_VARIABLE","$column",951],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",951],"]",["T_WHITESPACE"," ",951],"=",["T_WHITESPACE"," ",951],["T_ARRAY","array",951],"(",["T_VARIABLE","$column",951],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",951],"]",")",";",["T_WHITESPACE","\n                    ",951],"}",["T_WHITESPACE","\n\n                    ",952],["T_VARIABLE","$lineSpacing",954],["T_WHITESPACE"," ",954],"=",["T_WHITESPACE"," ",954],"!",["T_EMPTY","empty",954],"(",["T_VARIABLE","$column",954],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",954],"]",")",["T_WHITESPACE"," ",954],"?",["T_WHITESPACE"," ",954],["T_VARIABLE","$column",954],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",954],"]",["T_WHITESPACE"," ",954],":",["T_WHITESPACE"," ",954],["T_VARIABLE","$height",954],";",["T_WHITESPACE","\n                    ",954],["T_VARIABLE","$top",955],["T_WHITESPACE"," ",955],"=",["T_WHITESPACE"," ",955],["T_LNUMBER","0",955],";",["T_WHITESPACE","\n                    ",955],["T_FOREACH","foreach",956],["T_WHITESPACE"," ",956],"(",["T_VARIABLE","$column",956],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",956],"]",["T_WHITESPACE"," ",956],["T_AS","as",956],["T_WHITESPACE"," ",956],["T_VARIABLE","$part",956],")",["T_WHITESPACE"," ",956],"{",["T_WHITESPACE","\n                        ",956],["T_IF","if",957],["T_WHITESPACE"," ",957],"(",["T_VARIABLE","$this",957],["T_OBJECT_OPERATOR","->",957],["T_STRING","y",957],["T_WHITESPACE"," ",957],"-",["T_WHITESPACE"," ",957],["T_VARIABLE","$lineSpacing",957],["T_WHITESPACE"," ",957],"<",["T_WHITESPACE"," ",957],["T_LNUMBER","15",957],")",["T_WHITESPACE"," ",957],"{",["T_WHITESPACE","\n                            ",957],["T_VARIABLE","$page",958],["T_WHITESPACE"," ",958],"=",["T_WHITESPACE"," ",958],["T_VARIABLE","$this",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","newPage",958],"(",["T_VARIABLE","$pageSettings",958],")",";",["T_WHITESPACE","\n                        ",958],"}",["T_WHITESPACE","\n\n                        ",959],["T_VARIABLE","$feed",961],["T_WHITESPACE"," ",961],"=",["T_WHITESPACE"," ",961],["T_VARIABLE","$column",961],"[",["T_CONSTANT_ENCAPSED_STRING","'feed'",961],"]",";",["T_WHITESPACE","\n                        ",961],["T_VARIABLE","$textAlign",962],["T_WHITESPACE"," ",962],"=",["T_WHITESPACE"," ",962],["T_EMPTY","empty",962],"(",["T_VARIABLE","$column",962],"[",["T_CONSTANT_ENCAPSED_STRING","'align'",962],"]",")",["T_WHITESPACE"," ",962],"?",["T_WHITESPACE"," ",962],["T_CONSTANT_ENCAPSED_STRING","'left'",962],["T_WHITESPACE"," ",962],":",["T_WHITESPACE"," ",962],["T_VARIABLE","$column",962],"[",["T_CONSTANT_ENCAPSED_STRING","'align'",962],"]",";",["T_WHITESPACE","\n                        ",962],["T_VARIABLE","$width",963],["T_WHITESPACE"," ",963],"=",["T_WHITESPACE"," ",963],["T_EMPTY","empty",963],"(",["T_VARIABLE","$column",963],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",963],"]",")",["T_WHITESPACE"," ",963],"?",["T_WHITESPACE"," ",963],["T_LNUMBER","0",963],["T_WHITESPACE"," ",963],":",["T_WHITESPACE"," ",963],["T_VARIABLE","$column",963],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",963],"]",";",["T_WHITESPACE","\n                        ",963],["T_SWITCH","switch",964],["T_WHITESPACE"," ",964],"(",["T_VARIABLE","$textAlign",964],")",["T_WHITESPACE"," ",964],"{",["T_WHITESPACE","\n                            ",964],["T_CASE","case",965],["T_WHITESPACE"," ",965],["T_CONSTANT_ENCAPSED_STRING","'right'",965],":",["T_WHITESPACE","\n                                ",965],["T_IF","if",966],["T_WHITESPACE"," ",966],"(",["T_VARIABLE","$width",966],")",["T_WHITESPACE"," ",966],"{",["T_WHITESPACE","\n                                    ",966],["T_VARIABLE","$feed",967],["T_WHITESPACE"," ",967],"=",["T_WHITESPACE"," ",967],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","getAlignRight",967],"(",["T_VARIABLE","$part",967],",",["T_WHITESPACE"," ",967],["T_VARIABLE","$feed",967],",",["T_WHITESPACE"," ",967],["T_VARIABLE","$width",967],",",["T_WHITESPACE"," ",967],["T_VARIABLE","$font",967],",",["T_WHITESPACE"," ",967],["T_VARIABLE","$fontSize",967],")",";",["T_WHITESPACE","\n                                ",967],"}",["T_WHITESPACE","\n                                ",968],["T_ELSE","else",969],["T_WHITESPACE"," ",969],"{",["T_WHITESPACE","\n                                    ",969],["T_VARIABLE","$feed",970],["T_WHITESPACE"," ",970],"=",["T_WHITESPACE"," ",970],["T_VARIABLE","$feed",970],["T_WHITESPACE"," ",970],"-",["T_WHITESPACE"," ",970],["T_VARIABLE","$this",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","widthForStringUsingFontSize",970],"(",["T_VARIABLE","$part",970],",",["T_WHITESPACE"," ",970],["T_VARIABLE","$font",970],",",["T_WHITESPACE"," ",970],["T_VARIABLE","$fontSize",970],")",";",["T_WHITESPACE","\n                                ",970],"}",["T_WHITESPACE","\n                                ",971],["T_BREAK","break",972],";",["T_WHITESPACE","\n                            ",972],["T_CASE","case",973],["T_WHITESPACE"," ",973],["T_CONSTANT_ENCAPSED_STRING","'center'",973],":",["T_WHITESPACE","\n                                ",973],["T_IF","if",974],["T_WHITESPACE"," ",974],"(",["T_VARIABLE","$width",974],")",["T_WHITESPACE"," ",974],"{",["T_WHITESPACE","\n                                    ",974],["T_VARIABLE","$feed",975],["T_WHITESPACE"," ",975],"=",["T_WHITESPACE"," ",975],["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","getAlignCenter",975],"(",["T_VARIABLE","$part",975],",",["T_WHITESPACE"," ",975],["T_VARIABLE","$feed",975],",",["T_WHITESPACE"," ",975],["T_VARIABLE","$width",975],",",["T_WHITESPACE"," ",975],["T_VARIABLE","$font",975],",",["T_WHITESPACE"," ",975],["T_VARIABLE","$fontSize",975],")",";",["T_WHITESPACE","\n                                ",975],"}",["T_WHITESPACE","\n                                ",976],["T_BREAK","break",977],";",["T_WHITESPACE","\n                        ",977],"}",["T_WHITESPACE","\n                        ",978],["T_VARIABLE","$page",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","drawText",979],"(",["T_VARIABLE","$part",979],",",["T_WHITESPACE"," ",979],["T_VARIABLE","$feed",979],",",["T_WHITESPACE"," ",979],["T_VARIABLE","$this",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","y",979],"-",["T_VARIABLE","$top",979],",",["T_WHITESPACE"," ",979],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",979],")",";",["T_WHITESPACE","\n                        ",979],["T_VARIABLE","$top",980],["T_WHITESPACE"," ",980],["T_PLUS_EQUAL","+=",980],["T_WHITESPACE"," ",980],["T_VARIABLE","$lineSpacing",980],";",["T_WHITESPACE","\n                    ",980],"}",["T_WHITESPACE","\n\n                    ",981],["T_VARIABLE","$maxHeight",983],["T_WHITESPACE"," ",983],"=",["T_WHITESPACE"," ",983],["T_VARIABLE","$top",983],["T_WHITESPACE"," ",983],">",["T_WHITESPACE"," ",983],["T_VARIABLE","$maxHeight",983],["T_WHITESPACE"," ",983],"?",["T_WHITESPACE"," ",983],["T_VARIABLE","$top",983],["T_WHITESPACE"," ",983],":",["T_WHITESPACE"," ",983],["T_VARIABLE","$maxHeight",983],";",["T_WHITESPACE","\n                ",983],"}",["T_WHITESPACE","\n                ",984],["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","y",985],["T_WHITESPACE"," ",985],["T_MINUS_EQUAL","-=",985],["T_WHITESPACE"," ",985],["T_VARIABLE","$maxHeight",985],";",["T_WHITESPACE","\n            ",985],"}",["T_WHITESPACE","\n        ",986],"}",["T_WHITESPACE","\n\n        ",987],["T_RETURN","return",989],["T_WHITESPACE"," ",989],["T_VARIABLE","$page",989],";",["T_WHITESPACE","\n    ",989],"}",["T_WHITESPACE","\n",990],"}",["T_WHITESPACE","\n",991]]