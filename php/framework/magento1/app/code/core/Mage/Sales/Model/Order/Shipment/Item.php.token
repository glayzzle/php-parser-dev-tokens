[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Sales\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Enter description here ...\n *\n * @method Mage_Sales_Model_Resource_Order_Shipment_Item _getResource()\n * @method Mage_Sales_Model_Resource_Order_Shipment_Item getResource()\n * @method int getParentId()\n * @method Mage_Sales_Model_Order_Shipment_Item setParentId(int $value)\n * @method float getRowTotal()\n * @method Mage_Sales_Model_Order_Shipment_Item setRowTotal(float $value)\n * @method float getPrice()\n * @method Mage_Sales_Model_Order_Shipment_Item setPrice(float $value)\n * @method float getWeight()\n * @method Mage_Sales_Model_Order_Shipment_Item setWeight(float $value)\n * @method float getQty()\n * @method int getProductId()\n * @method Mage_Sales_Model_Order_Shipment_Item setProductId(int $value)\n * @method int getOrderItemId()\n * @method Mage_Sales_Model_Order_Shipment_Item setOrderItemId(int $value)\n * @method string getAdditionalData()\n * @method Mage_Sales_Model_Order_Shipment_Item setAdditionalData(string $value)\n * @method string getDescription()\n * @method Mage_Sales_Model_Order_Shipment_Item setDescription(string $value)\n * @method string getName()\n * @method Mage_Sales_Model_Order_Shipment_Item setName(string $value)\n * @method string getSku()\n * @method Mage_Sales_Model_Order_Shipment_Item setSku(string $value)\n *\n * @category    Mage\n * @package     Mage_Sales\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",57],["T_CLASS","class",58],["T_WHITESPACE"," ",58],["T_STRING","Mage_Sales_Model_Order_Shipment_Item",58],["T_WHITESPACE"," ",58],["T_EXTENDS","extends",58],["T_WHITESPACE"," ",58],["T_STRING","Mage_Core_Model_Abstract",58],["T_WHITESPACE","\n",58],"{",["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_eventPrefix",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'sales_shipment_item'",60],";",["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_eventObject",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'shipment_item'",61],";",["T_WHITESPACE","\n\n    ",61],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_shipment",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","null",63],";",["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_orderItem",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","null",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","_construct",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_init",71],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_shipment_item'",71],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Declare Shipment instance\n     *\n     * @param   Mage_Sales_Model_Order_Shipment $shipment\n     * @return  Mage_Sales_Model_Order_Shipment_Item\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","setShipment",80],"(",["T_STRING","Mage_Sales_Model_Order_Shipment",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$shipment",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_shipment",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$shipment",82],";",["T_WHITESPACE","\n        ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Retrieve Shipment instance\n     *\n     * @return Mage_Sales_Model_Order_Shipment\n     *\/",86],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","getShipment",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_shipment",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Declare order item instance\n     *\n     * @param   Mage_Sales_Model_Order_Item $item\n     * @return  Mage_Sales_Model_Order_Shipment_Item\n     *\/",96],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","setOrderItem",102],"(",["T_STRING","Mage_Sales_Model_Order_Item",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$item",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_orderItem",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$item",104],";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","setOrderItemId",105],"(",["T_VARIABLE","$item",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getId",105],"(",")",")",";",["T_WHITESPACE","\n        ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Retrieve order item instance\n     *\n     * @return Mage_Sales_Model_Order_Item\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","getOrderItem",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_STRING","is_null",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_orderItem",116],")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getShipment",117],"(",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_orderItem",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getShipment",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","getOrder",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","getItemById",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getOrderItemId",118],"(",")",")",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n            ",119],["T_ELSE","else",120],["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_orderItem",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","Mage",121],["T_DOUBLE_COLON","::",121],["T_STRING","getModel",121],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order_item'",121],")",["T_WHITESPACE","\n                    ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","load",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getOrderItemId",122],"(",")",")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_orderItem",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Declare qty\n     *\n     * @param   float $qty\n     * @return  Mage_Sales_Model_Order_Invoice_Item\n     *\/",128],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","setQty",134],"(",["T_VARIABLE","$qty",134],")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getOrderItem",136],"(",")",["T_OBJECT_OPERATOR","->",136],["T_STRING","getIsQtyDecimal",136],"(",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$qty",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_DOUBLE_CAST","(float)",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$qty",137],";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n        ",138],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$qty",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_INT_CAST","(int)",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$qty",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$qty",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$qty",142],["T_WHITESPACE"," ",142],">",["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],["T_WHITESPACE"," ",142],"?",["T_WHITESPACE"," ",142],["T_VARIABLE","$qty",142],["T_WHITESPACE"," ",142],":",["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],";",["T_WHITESPACE","\n        ",142],["T_DOC_COMMENT","\/**\n         * Check qty availability\n         *\/",143],["T_WHITESPACE","\n        ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$qty",146],["T_WHITESPACE"," ",146],["T_IS_SMALLER_OR_EQUAL","<=",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getOrderItem",146],"(",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","getQtyToShip",146],"(",")",["T_WHITESPACE"," ",146],["T_BOOLEAN_OR","||",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getOrderItem",146],"(",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","isDummy",146],"(",["T_STRING","true",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","setData",147],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$qty",147],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n        ",148],["T_ELSE","else",149],["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_STRING","Mage",150],["T_DOUBLE_COLON","::",150],["T_STRING","throwException",150],"(",["T_WHITESPACE","\n                ",150],["T_STRING","Mage",151],["T_DOUBLE_COLON","::",151],["T_STRING","helper",151],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",151],")",["T_OBJECT_OPERATOR","->",151],["T_STRING","__",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid qty to ship for item \"%s\"'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getName",151],"(",")",")",["T_WHITESPACE","\n            ",151],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Applying qty to order item\n     *\n     * @return Mage_Sales_Model_Order_Shipment_Item\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","register",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getOrderItem",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","setQtyShipped",164],"(",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getOrderItem",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","getQtyShipped",165],"(",")","+",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getQty",165],"(",")",["T_WHITESPACE","\n        ",165],")",";",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Before object save\n     *\n     * @return Mage_Sales_Model_Order_Shipment_Item\n     *\/",170],["T_WHITESPACE","\n    ",174],["T_PROTECTED","protected",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","_beforeSave",175],"(",")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_STRING","parent",177],["T_DOUBLE_COLON","::",177],["T_STRING","_beforeSave",177],"(",")",";",["T_WHITESPACE","\n\n        ",177],["T_IF","if",179],["T_WHITESPACE"," ",179],"(","!",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getParentId",179],"(",")",["T_WHITESPACE"," ",179],["T_BOOLEAN_AND","&&",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getShipment",179],"(",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","setParentId",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getShipment",180],"(",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","getId",180],"(",")",")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n\n        ",181],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n",184],"}",["T_WHITESPACE","\n",186]]