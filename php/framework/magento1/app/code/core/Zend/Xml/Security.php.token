[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Xml\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n \n",20],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Xml_SecurityScan\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",23],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","Zend_Xml_Security",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","ENTITY_DETECT",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'Detected use of ENTITY in XML, disabled to prevent XXE\/XEE attacks'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Heuristic scan to detect entity in XML\n     *\n     * @param  string $xml\n     * @throws Zend_Xml_Exception If entity expansion or external entity declaration was discovered.\n     *\/",33],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_STATIC","static",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","heuristicScan",39],"(",["T_VARIABLE","$xml",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_FOREACH","foreach",41],["T_WHITESPACE"," ",41],"(",["T_STRING","self",41],["T_DOUBLE_COLON","::",41],["T_STRING","getEntityComparison",41],"(",["T_VARIABLE","$xml",41],")",["T_WHITESPACE"," ",41],["T_AS","as",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$compare",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n            ",41],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_STRING","strpos",42],"(",["T_VARIABLE","$xml",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$compare",42],")",["T_WHITESPACE"," ",42],["T_IS_NOT_IDENTICAL","!==",42],["T_WHITESPACE"," ",42],["T_STRING","false",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n                ",42],["T_THROW","throw",43],["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","Zend_Xml_Exception",43],"(",["T_STRING","self",43],["T_DOUBLE_COLON","::",43],["T_STRING","ENTITY_DETECT",43],")",";",["T_WHITESPACE","\n            ",43],"}",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @param integer $errno\n     * @param string $errstr\n     * @param string $errfile\n     * @param integer $errline\n     * @return bool\n     *\/",48],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_STATIC","static",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","loadXmlErrorHandler",55],"(",["T_VARIABLE","$errno",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$errstr",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$errfile",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$errline",55],")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_STRING","substr_count",57],"(",["T_VARIABLE","$errstr",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'DOMDocument::loadXML()'",57],")",["T_WHITESPACE"," ",57],">",["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_STRING","true",58],";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n        ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_STRING","false",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Scan XML string for potential XXE and XEE attacks\n     *\n     * @param   string $xml\n     * @param   DomDocument $dom\n     * @throws  Zend_Xml_Exception\n     * @return  SimpleXMLElement|DomDocument|boolean\n     *\/",63],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_STATIC","static",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","scan",71],"(",["T_VARIABLE","$xml",71],",",["T_WHITESPACE"," ",71],["T_STRING","DOMDocument",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$dom",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_COMMENT","\/\/ If running with PHP-FPM we perform an heuristic scan\n",73],["T_WHITESPACE","        ",74],["T_COMMENT","\/\/ We cannot use libxml_disable_entity_loader because of this bug\n",74],["T_WHITESPACE","        ",75],["T_COMMENT","\/\/ @see https:\/\/bugs.php.net\/bug.php?id=64938\n",75],["T_WHITESPACE","        ",76],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_STRING","self",76],["T_DOUBLE_COLON","::",76],["T_STRING","isPhpFpm",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_STRING","self",77],["T_DOUBLE_COLON","::",77],["T_STRING","heuristicScan",77],"(",["T_VARIABLE","$xml",77],")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n\n        ",78],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_STRING","null",80],["T_WHITESPACE"," ",80],["T_IS_IDENTICAL","===",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$dom",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$simpleXml",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","true",81],";",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$dom",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","DOMDocument",82],"(",")",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n\n        ",83],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","!",["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_STRING","isPhpFpm",85],"(",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$loadEntities",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","libxml_disable_entity_loader",86],"(",["T_STRING","true",86],")",";",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$useInternalXmlErrors",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","libxml_use_internal_errors",87],"(",["T_STRING","true",87],")",";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n\n        ",88],["T_COMMENT","\/\/ Load XML with network access disabled (LIBXML_NONET)\n",90],["T_WHITESPACE","        ",91],["T_COMMENT","\/\/ error disabled with @ for PHP-FPM scenario\n",91],["T_WHITESPACE","        ",92],["T_STRING","set_error_handler",92],"(",["T_ARRAY","array",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Zend_Xml_Security'",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'loadXmlErrorHandler'",92],")",",",["T_WHITESPACE"," ",92],["T_STRING","E_WARNING",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$result",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$dom",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","loadXml",94],"(",["T_VARIABLE","$xml",94],",",["T_WHITESPACE"," ",94],["T_STRING","LIBXML_NONET",94],")",";",["T_WHITESPACE","\n        ",94],["T_STRING","restore_error_handler",95],"(",")",";",["T_WHITESPACE","\n\n        ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","!",["T_VARIABLE","$result",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_COMMENT","\/\/ Entity load to previous setting\n",98],["T_WHITESPACE","            ",99],["T_IF","if",99],["T_WHITESPACE"," ",99],"(","!",["T_STRING","self",99],["T_DOUBLE_COLON","::",99],["T_STRING","isPhpFpm",99],"(",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_STRING","libxml_disable_entity_loader",100],"(",["T_VARIABLE","$loadEntities",100],")",";",["T_WHITESPACE","\n                ",100],["T_STRING","libxml_use_internal_errors",101],"(",["T_VARIABLE","$useInternalXmlErrors",101],")",";",["T_WHITESPACE","\n            ",101],"}",["T_WHITESPACE","\n            ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_STRING","false",103],";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n\n        ",104],["T_COMMENT","\/\/ Scan for potential XEE attacks using ENTITY, if not PHP-FPM\n",106],["T_WHITESPACE","        ",107],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_STRING","self",107],["T_DOUBLE_COLON","::",107],["T_STRING","isPhpFpm",107],"(",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$dom",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","childNodes",108],["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$child",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$child",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","nodeType",109],["T_WHITESPACE"," ",109],["T_IS_IDENTICAL","===",109],["T_WHITESPACE"," ",109],["T_STRING","XML_DOCUMENT_TYPE_NODE",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                    ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$child",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","entities",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","length",110],["T_WHITESPACE"," ",110],">",["T_WHITESPACE"," ",110],["T_LNUMBER","0",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                        ",110],["T_STRING","libxml_disable_entity_loader",111],"(",["T_VARIABLE","$loadEntities",111],")",";",["T_WHITESPACE","\n                        ",111],["T_STRING","libxml_use_internal_errors",112],"(",["T_VARIABLE","$useInternalXmlErrors",112],")",";",["T_WHITESPACE","\n\n                        ",112],["T_COMMENT","#require_once 'Exception.php';\n",114],["T_WHITESPACE","                        ",115],["T_THROW","throw",115],["T_WHITESPACE"," ",115],["T_NEW","new",115],["T_WHITESPACE"," ",115],["T_STRING","Zend_Xml_Exception",115],"(",["T_STRING","self",115],["T_DOUBLE_COLON","::",115],["T_STRING","ENTITY_DETECT",115],")",";",["T_WHITESPACE","\n                    ",115],"}",["T_WHITESPACE","\n                ",116],"}",["T_WHITESPACE","\n            ",117],"}",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_COMMENT","\/\/ Entity load to previous setting\n",121],["T_WHITESPACE","        ",122],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_STRING","self",122],["T_DOUBLE_COLON","::",122],["T_STRING","isPhpFpm",122],"(",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_STRING","libxml_disable_entity_loader",123],"(",["T_VARIABLE","$loadEntities",123],")",";",["T_WHITESPACE","\n            ",123],["T_STRING","libxml_use_internal_errors",124],"(",["T_VARIABLE","$useInternalXmlErrors",124],")",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n\n        ",125],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_ISSET","isset",127],"(",["T_VARIABLE","$simpleXml",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$result",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","simplexml_import_dom",128],"(",["T_VARIABLE","$dom",128],")",";",["T_WHITESPACE","\n            ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(","!",["T_VARIABLE","$result",129],["T_WHITESPACE"," ",129],["T_INSTANCEOF","instanceof",129],["T_WHITESPACE"," ",129],["T_STRING","SimpleXMLElement",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_STRING","false",130],";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n            ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$result",132],";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$dom",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Scan XML file for potential XXE\/XEE attacks\n     *\n     * @param  string $file\n     * @param  DOMDocument $dom\n     * @throws Zend_Xml_Exception\n     * @return SimpleXMLElement|DomDocument\n     *\/",137],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_STATIC","static",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","scanFile",145],"(",["T_VARIABLE","$file",145],",",["T_WHITESPACE"," ",145],["T_STRING","DOMDocument",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$dom",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","null",145],")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(","!",["T_STRING","file_exists",147],"(",["T_VARIABLE","$file",147],")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_COMMENT","#require_once 'Exception.php';\n",148],["T_WHITESPACE","            ",149],["T_THROW","throw",149],["T_WHITESPACE"," ",149],["T_NEW","new",149],["T_WHITESPACE"," ",149],["T_STRING","Zend_Xml_Exception",149],"(",["T_WHITESPACE","\n                ",149],"\"",["T_ENCAPSED_AND_WHITESPACE","The file ",150],["T_VARIABLE","$file",150],["T_ENCAPSED_AND_WHITESPACE"," specified doesn't exist",150],"\"",["T_WHITESPACE","\n            ",150],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_STRING","self",153],["T_DOUBLE_COLON","::",153],["T_STRING","scan",153],"(",["T_STRING","file_get_contents",153],"(",["T_VARIABLE","$file",153],")",",",["T_WHITESPACE"," ",153],["T_VARIABLE","$dom",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Return true if PHP is running with PHP-FPM\n     *\n     * This method is mainly used to determine whether or not heuristic checks\n     * (vs libxml checks) should be made, due to threading issues in libxml;\n     * under php-fpm, threading becomes a concern.\n     *\n     * @return boolean\n     *\/",156],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_STATIC","static",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","isPhpFpm",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_STRING","substr",167],"(",["T_STRING","php_sapi_name",167],"(",")",",",["T_WHITESPACE"," ",167],["T_LNUMBER","0",167],",",["T_WHITESPACE"," ",167],["T_LNUMBER","3",167],")",["T_WHITESPACE"," ",167],["T_IS_IDENTICAL","===",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'fpm'",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_STRING","true",168],";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","false",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Determine and return the string(s) to use for the <!ENTITY comparison.\n     *\n     * @param string $xml\n     * @return string[]\n     *\/",173],["T_WHITESPACE","\n    ",178],["T_PROTECTED","protected",179],["T_WHITESPACE"," ",179],["T_STATIC","static",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","getEntityComparison",179],"(",["T_VARIABLE","$xml",179],")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$encodingMap",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","self",181],["T_DOUBLE_COLON","::",181],["T_STRING","getAsciiEncodingMap",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_STRING","array_map",182],"(",["T_WHITESPACE","\n            ",182],["T_ARRAY","array",183],"(",["T_CLASS_C","__CLASS__",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'generateEntityComparison'",183],")",",",["T_WHITESPACE","\n            ",183],["T_STRING","self",184],["T_DOUBLE_COLON","::",184],["T_STRING","detectXmlEncoding",184],"(",["T_VARIABLE","$xml",184],",",["T_WHITESPACE"," ",184],["T_STRING","self",184],["T_DOUBLE_COLON","::",184],["T_STRING","detectStringEncoding",184],"(",["T_VARIABLE","$xml",184],")",")",["T_WHITESPACE","\n        ",184],")",";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Determine the string encoding.\n     *\n     * Determines string encoding from either a detected BOM or a\n     * heuristic.\n     *\n     * @param string $xml\n     * @return string File encoding\n     *\/",188],["T_WHITESPACE","\n    ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_STATIC","static",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","detectStringEncoding",197],"(",["T_VARIABLE","$xml",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$encoding",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","self",199],["T_DOUBLE_COLON","::",199],["T_STRING","detectBom",199],"(",["T_VARIABLE","$xml",199],")",";",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$encoding",200],")",["T_WHITESPACE"," ",200],"?",["T_WHITESPACE"," ",200],["T_VARIABLE","$encoding",200],["T_WHITESPACE"," ",200],":",["T_WHITESPACE"," ",200],["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","detectXmlStringEncoding",200],"(",["T_VARIABLE","$xml",200],")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Attempt to match a known BOM.\n     *\n     * Iterates through the return of getBomMap(), comparing the initial bytes\n     * of the provided string to the BOM of each; if a match is determined,\n     * it returns the encoding.\n     *\n     * @param string $string\n     * @return false|string Returns encoding on success.\n     *\/",203],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_STATIC","static",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","detectBom",213],"(",["T_VARIABLE","$string",213],")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_FOREACH","foreach",215],["T_WHITESPACE"," ",215],"(",["T_STRING","self",215],["T_DOUBLE_COLON","::",215],["T_STRING","getBomMap",215],"(",")",["T_WHITESPACE"," ",215],["T_AS","as",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$criteria",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_LNUMBER","0",216],["T_WHITESPACE"," ",216],["T_IS_IDENTICAL","===",216],["T_WHITESPACE"," ",216],["T_STRING","strncmp",216],"(",["T_VARIABLE","$string",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$criteria",216],"[",["T_CONSTANT_ENCAPSED_STRING","'bom'",216],"]",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$criteria",216],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",216],"]",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$criteria",217],"[",["T_CONSTANT_ENCAPSED_STRING","'encoding'",217],"]",";",["T_WHITESPACE","\n            ",217],"}",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n        ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_STRING","false",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Attempt to detect the string encoding of an XML string.\n     *\n     * @param string $xml\n     * @return string Encoding\n     *\/",223],["T_WHITESPACE","\n    ",228],["T_PROTECTED","protected",229],["T_WHITESPACE"," ",229],["T_STATIC","static",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","detectXmlStringEncoding",229],"(",["T_VARIABLE","$xml",229],")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_FOREACH","foreach",231],["T_WHITESPACE"," ",231],"(",["T_STRING","self",231],["T_DOUBLE_COLON","::",231],["T_STRING","getAsciiEncodingMap",231],"(",")",["T_WHITESPACE"," ",231],["T_AS","as",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$encoding",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$generator",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$prefix",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","call_user_func",232],"(",["T_VARIABLE","$generator",232],",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'<'",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'?xml'",232],")",";",["T_WHITESPACE","\n            ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_LNUMBER","0",233],["T_WHITESPACE"," ",233],["T_IS_IDENTICAL","===",233],["T_WHITESPACE"," ",233],["T_STRING","strncmp",233],"(",["T_VARIABLE","$xml",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$prefix",233],",",["T_WHITESPACE"," ",233],["T_STRING","strlen",233],"(",["T_VARIABLE","$prefix",233],")",")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$encoding",234],";",["T_WHITESPACE","\n            ",234],"}",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n\n        ",236],["T_COMMENT","\/\/ Fallback\n",238],["T_WHITESPACE","        ",239],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",239],";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_DOC_COMMENT","\/**\n     * Attempt to detect the specified XML encoding.\n     *\n     * Using the file's encoding, determines if an \"encoding\" attribute is\n     * present and well-formed in the XML declaration; if so, it returns a\n     * list with both the ASCII representation of that declaration and the\n     * original file encoding.\n     *\n     * If not, a list containing only the provided file encoding is returned.\n     *\n     * @param string $xml\n     * @param string $fileEncoding\n     * @return string[] Potential XML encodings\n     *\/",242],["T_WHITESPACE","\n    ",255],["T_PROTECTED","protected",256],["T_WHITESPACE"," ",256],["T_STATIC","static",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","detectXmlEncoding",256],"(",["T_VARIABLE","$xml",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$fileEncoding",256],")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$encodingMap",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","self",258],["T_DOUBLE_COLON","::",258],["T_STRING","getAsciiEncodingMap",258],"(",")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$generator",259],["T_WHITESPACE","   ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$encodingMap",259],"[",["T_VARIABLE","$fileEncoding",259],"]",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$encAttr",260],["T_WHITESPACE","     ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","call_user_func",260],"(",["T_VARIABLE","$generator",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'encoding=\"'",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$quote",261],["T_WHITESPACE","       ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","call_user_func",261],"(",["T_VARIABLE","$generator",261],",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'\"'",261],")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$close",262],["T_WHITESPACE","       ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","call_user_func",262],"(",["T_VARIABLE","$generator",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'>'",262],")",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$closePos",264],["T_WHITESPACE","    ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","strpos",264],"(",["T_VARIABLE","$xml",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$close",264],")",";",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_STRING","false",265],["T_WHITESPACE"," ",265],["T_IS_IDENTICAL","===",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$closePos",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_VARIABLE","$fileEncoding",266],")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$encPos",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","strpos",269],"(",["T_VARIABLE","$xml",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$encAttr",269],")",";",["T_WHITESPACE","\n        ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_STRING","false",270],["T_WHITESPACE"," ",270],["T_IS_IDENTICAL","===",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$encPos",270],["T_WHITESPACE","\n            ",270],["T_BOOLEAN_OR","||",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$encPos",271],["T_WHITESPACE"," ",271],">",["T_WHITESPACE"," ",271],["T_VARIABLE","$closePos",271],["T_WHITESPACE","\n        ",271],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_ARRAY","array",273],"(",["T_VARIABLE","$fileEncoding",273],")",";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n\n        ",274],["T_VARIABLE","$encPos",276],["T_WHITESPACE","   ",276],["T_PLUS_EQUAL","+=",276],["T_WHITESPACE"," ",276],["T_STRING","strlen",276],"(",["T_VARIABLE","$encAttr",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$quotePos",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","strpos",277],"(",["T_VARIABLE","$xml",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$quote",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$encPos",277],")",";",["T_WHITESPACE","\n        ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_STRING","false",278],["T_WHITESPACE"," ",278],["T_IS_IDENTICAL","===",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$quotePos",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_ARRAY","array",279],"(",["T_VARIABLE","$fileEncoding",279],")",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$encoding",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","self",282],["T_DOUBLE_COLON","::",282],["T_STRING","substr",282],"(",["T_VARIABLE","$xml",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$encPos",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$quotePos",282],")",";",["T_WHITESPACE","\n        ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_ARRAY","array",283],"(",["T_WHITESPACE","\n            ",283],["T_COMMENT","\/\/ Following line works because we're only supporting 8-bit safe encodings at this time.\n",284],["T_WHITESPACE","            ",285],["T_STRING","str_replace",285],"(",["T_CONSTANT_ENCAPSED_STRING","'\\0'",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","''",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$encoding",285],")",",",["T_WHITESPACE"," ",285],["T_COMMENT","\/\/ detected encoding\n",285],["T_WHITESPACE","            ",286],["T_VARIABLE","$fileEncoding",286],",",["T_WHITESPACE","                    ",286],["T_COMMENT","\/\/ file encoding\n",286],["T_WHITESPACE","        ",287],")",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Return a list of BOM maps.\n     *\n     * Returns a list of common encoding -> BOM maps, along with the character\n     * length to compare against.\n     *\n     * @link https:\/\/en.wikipedia.org\/wiki\/Byte_order_mark\n     * @return array\n     *\/",290],["T_WHITESPACE","\n    ",298],["T_PROTECTED","protected",299],["T_WHITESPACE"," ",299],["T_STATIC","static",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","getBomMap",299],"(",")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_ARRAY","array",301],"(",["T_WHITESPACE","\n            ",301],["T_ARRAY","array",302],"(",["T_WHITESPACE","\n                ",302],["T_CONSTANT_ENCAPSED_STRING","'encoding'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'UTF-32BE'",303],",",["T_WHITESPACE","\n                ",303],["T_CONSTANT_ENCAPSED_STRING","'bom'",304],["T_WHITESPACE","      ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_STRING","pack",304],"(",["T_CONSTANT_ENCAPSED_STRING","'CCCC'",304],",",["T_WHITESPACE"," ",304],["T_LNUMBER","0x00",304],",",["T_WHITESPACE"," ",304],["T_LNUMBER","0x00",304],",",["T_WHITESPACE"," ",304],["T_LNUMBER","0xfe",304],",",["T_WHITESPACE"," ",304],["T_LNUMBER","0xff",304],")",",",["T_WHITESPACE","\n                ",304],["T_CONSTANT_ENCAPSED_STRING","'length'",305],["T_WHITESPACE","   ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_LNUMBER","4",305],",",["T_WHITESPACE","\n            ",305],")",",",["T_WHITESPACE","\n            ",306],["T_ARRAY","array",307],"(",["T_WHITESPACE","\n                ",307],["T_CONSTANT_ENCAPSED_STRING","'encoding'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'UTF-32LE'",308],",",["T_WHITESPACE","\n                ",308],["T_CONSTANT_ENCAPSED_STRING","'bom'",309],["T_WHITESPACE","      ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_STRING","pack",309],"(",["T_CONSTANT_ENCAPSED_STRING","'CCCC'",309],",",["T_WHITESPACE"," ",309],["T_LNUMBER","0xff",309],",",["T_WHITESPACE"," ",309],["T_LNUMBER","0xfe",309],",",["T_WHITESPACE"," ",309],["T_LNUMBER","0x00",309],",",["T_WHITESPACE"," ",309],["T_LNUMBER","0x00",309],")",",",["T_WHITESPACE","\n                ",309],["T_CONSTANT_ENCAPSED_STRING","'length'",310],["T_WHITESPACE","   ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_LNUMBER","4",310],",",["T_WHITESPACE","\n            ",310],")",",",["T_WHITESPACE","\n            ",311],["T_ARRAY","array",312],"(",["T_WHITESPACE","\n                ",312],["T_CONSTANT_ENCAPSED_STRING","'encoding'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'GB-18030'",313],",",["T_WHITESPACE","\n                ",313],["T_CONSTANT_ENCAPSED_STRING","'bom'",314],["T_WHITESPACE","      ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_STRING","pack",314],"(",["T_CONSTANT_ENCAPSED_STRING","'CCCC'",314],",",["T_WHITESPACE"," ",314],["T_LNUMBER","0x84",314],",",["T_WHITESPACE"," ",314],["T_LNUMBER","0x31",314],",",["T_WHITESPACE"," ",314],["T_LNUMBER","0x95",314],",",["T_WHITESPACE"," ",314],["T_LNUMBER","0x33",314],")",",",["T_WHITESPACE","\n                ",314],["T_CONSTANT_ENCAPSED_STRING","'length'",315],["T_WHITESPACE","   ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_LNUMBER","4",315],",",["T_WHITESPACE","\n            ",315],")",",",["T_WHITESPACE","\n            ",316],["T_ARRAY","array",317],"(",["T_WHITESPACE","\n                ",317],["T_CONSTANT_ENCAPSED_STRING","'encoding'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'UTF-16BE'",318],",",["T_WHITESPACE","\n                ",318],["T_CONSTANT_ENCAPSED_STRING","'bom'",319],["T_WHITESPACE","      ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_STRING","pack",319],"(",["T_CONSTANT_ENCAPSED_STRING","'CC'",319],",",["T_WHITESPACE"," ",319],["T_LNUMBER","0xfe",319],",",["T_WHITESPACE"," ",319],["T_LNUMBER","0xff",319],")",",",["T_WHITESPACE","\n                ",319],["T_CONSTANT_ENCAPSED_STRING","'length'",320],["T_WHITESPACE","   ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_LNUMBER","2",320],",",["T_WHITESPACE","\n            ",320],")",",",["T_WHITESPACE","\n            ",321],["T_ARRAY","array",322],"(",["T_WHITESPACE","\n                ",322],["T_CONSTANT_ENCAPSED_STRING","'encoding'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'UTF-16LE'",323],",",["T_WHITESPACE","\n                ",323],["T_CONSTANT_ENCAPSED_STRING","'bom'",324],["T_WHITESPACE","      ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_STRING","pack",324],"(",["T_CONSTANT_ENCAPSED_STRING","'CC'",324],",",["T_WHITESPACE"," ",324],["T_LNUMBER","0xff",324],",",["T_WHITESPACE"," ",324],["T_LNUMBER","0xfe",324],")",",",["T_WHITESPACE","\n                ",324],["T_CONSTANT_ENCAPSED_STRING","'length'",325],["T_WHITESPACE","   ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_LNUMBER","2",325],",",["T_WHITESPACE","\n            ",325],")",",",["T_WHITESPACE","\n            ",326],["T_ARRAY","array",327],"(",["T_WHITESPACE","\n                ",327],["T_CONSTANT_ENCAPSED_STRING","'encoding'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",328],",",["T_WHITESPACE","\n                ",328],["T_CONSTANT_ENCAPSED_STRING","'bom'",329],["T_WHITESPACE","      ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_STRING","pack",329],"(",["T_CONSTANT_ENCAPSED_STRING","'CCC'",329],",",["T_WHITESPACE"," ",329],["T_LNUMBER","0xef",329],",",["T_WHITESPACE"," ",329],["T_LNUMBER","0xbb",329],",",["T_WHITESPACE"," ",329],["T_LNUMBER","0xbf",329],")",",",["T_WHITESPACE","\n                ",329],["T_CONSTANT_ENCAPSED_STRING","'length'",330],["T_WHITESPACE","   ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_LNUMBER","3",330],",",["T_WHITESPACE","\n            ",330],")",",",["T_WHITESPACE","\n        ",331],")",";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Return a map of encoding => generator pairs.\n     *\n     * Returns a map of encoding => generator pairs, where the generator is a\n     * callable that accepts a string and returns the appropriate byte order\n     * sequence of that string for the encoding.\n     *\n     * @return array\n     *\/",335],["T_WHITESPACE","\n    ",343],["T_PROTECTED","protected",344],["T_WHITESPACE"," ",344],["T_STATIC","static",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","getAsciiEncodingMap",344],"(",")",["T_WHITESPACE","\n    ",344],"{",["T_WHITESPACE","\n        ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_ARRAY","array",346],"(",["T_WHITESPACE","\n            ",346],["T_CONSTANT_ENCAPSED_STRING","'UTF-32BE'",347],["T_WHITESPACE","   ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_ARRAY","array",347],"(",["T_CLASS_C","__CLASS__",347],",",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'encodeToUTF32BE'",347],")",",",["T_WHITESPACE","\n            ",347],["T_CONSTANT_ENCAPSED_STRING","'UTF-32LE'",348],["T_WHITESPACE","   ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_ARRAY","array",348],"(",["T_CLASS_C","__CLASS__",348],",",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'encodeToUTF32LE'",348],")",",",["T_WHITESPACE","\n            ",348],["T_CONSTANT_ENCAPSED_STRING","'UTF-32odd1'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_ARRAY","array",349],"(",["T_CLASS_C","__CLASS__",349],",",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'encodeToUTF32odd1'",349],")",",",["T_WHITESPACE","\n            ",349],["T_CONSTANT_ENCAPSED_STRING","'UTF-32odd2'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_ARRAY","array",350],"(",["T_CLASS_C","__CLASS__",350],",",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'encodeToUTF32odd2'",350],")",",",["T_WHITESPACE","\n            ",350],["T_CONSTANT_ENCAPSED_STRING","'UTF-16BE'",351],["T_WHITESPACE","   ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_ARRAY","array",351],"(",["T_CLASS_C","__CLASS__",351],",",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'encodeToUTF16BE'",351],")",",",["T_WHITESPACE","\n            ",351],["T_CONSTANT_ENCAPSED_STRING","'UTF-16LE'",352],["T_WHITESPACE","   ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_ARRAY","array",352],"(",["T_CLASS_C","__CLASS__",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'encodeToUTF16LE'",352],")",",",["T_WHITESPACE","\n            ",352],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",353],["T_WHITESPACE","      ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_ARRAY","array",353],"(",["T_CLASS_C","__CLASS__",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'encodeToUTF8'",353],")",",",["T_WHITESPACE","\n            ",353],["T_CONSTANT_ENCAPSED_STRING","'GB-18030'",354],["T_WHITESPACE","   ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_ARRAY","array",354],"(",["T_CLASS_C","__CLASS__",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'encodeToUTF8'",354],")",",",["T_WHITESPACE","\n        ",354],")",";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Binary-safe substr.\n     *\n     * substr() is not binary-safe; this method loops by character to ensure\n     * multi-byte characters are aggregated correctly.\n     *\n     * @param string $string\n     * @param int $start\n     * @param int $end\n     * @return string\n     *\/",358],["T_WHITESPACE","\n    ",368],["T_PROTECTED","protected",369],["T_WHITESPACE"," ",369],["T_STATIC","static",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","substr",369],"(",["T_VARIABLE","$string",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$start",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$end",369],")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$substr",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","''",371],";",["T_WHITESPACE","\n        ",371],["T_FOR","for",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$i",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$start",372],";",["T_WHITESPACE"," ",372],["T_VARIABLE","$i",372],["T_WHITESPACE"," ",372],"<",["T_WHITESPACE"," ",372],["T_VARIABLE","$end",372],";",["T_WHITESPACE"," ",372],["T_VARIABLE","$i",372],["T_WHITESPACE"," ",372],["T_PLUS_EQUAL","+=",372],["T_WHITESPACE"," ",372],["T_LNUMBER","1",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$substr",373],["T_WHITESPACE"," ",373],["T_CONCAT_EQUAL",".=",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$string",373],"[",["T_VARIABLE","$i",373],"]",";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n        ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$substr",375],";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Generate an entity comparison based on the given encoding.\n     *\n     * This patch is internal only, and public only so it can be used as a\n     * callable to pass to array_map.\n     *\n     * @internal\n     * @param string $encoding\n     * @return string\n     *\/",378],["T_WHITESPACE","\n    ",387],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_STATIC","static",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","generateEntityComparison",388],"(",["T_VARIABLE","$encoding",388],")",["T_WHITESPACE","\n    ",388],"{",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$encodingMap",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_STRING","self",390],["T_DOUBLE_COLON","::",390],["T_STRING","getAsciiEncodingMap",390],"(",")",";",["T_WHITESPACE","\n        ",390],["T_VARIABLE","$generator",391],["T_WHITESPACE","   ",391],"=",["T_WHITESPACE"," ",391],["T_ISSET","isset",391],"(",["T_VARIABLE","$encodingMap",391],"[",["T_VARIABLE","$encoding",391],"]",")",["T_WHITESPACE"," ",391],"?",["T_WHITESPACE"," ",391],["T_VARIABLE","$encodingMap",391],"[",["T_VARIABLE","$encoding",391],"]",["T_WHITESPACE"," ",391],":",["T_WHITESPACE"," ",391],["T_VARIABLE","$encodingMap",391],"[",["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",391],"]",";",["T_WHITESPACE","\n        ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_STRING","call_user_func",392],"(",["T_VARIABLE","$generator",392],",",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'<!ENTITY'",392],")",";",["T_WHITESPACE","\n    ",392],"}",["T_WHITESPACE","\n\n    ",393],["T_DOC_COMMENT","\/**\n     * Encode an ASCII string to UTF-32BE\n     *\n     * @internal\n     * @param string $ascii\n     * @return string\n     *\/",395],["T_WHITESPACE","\n    ",401],["T_PUBLIC","public",402],["T_WHITESPACE"," ",402],["T_STATIC","static",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","encodeToUTF32BE",402],"(",["T_VARIABLE","$ascii",402],")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_STRING","preg_replace",404],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.)\/'",404],",",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","\"\\0\\0\\0\\\\1\"",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$ascii",404],")",";",["T_WHITESPACE","\n    ",404],"}",["T_WHITESPACE","\n\n    ",405],["T_DOC_COMMENT","\/**\n     * Encode an ASCII string to UTF-32LE\n     *\n     * @internal\n     * @param string $ascii\n     * @return string\n     *\/",407],["T_WHITESPACE","\n    ",413],["T_PUBLIC","public",414],["T_WHITESPACE"," ",414],["T_STATIC","static",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","encodeToUTF32LE",414],"(",["T_VARIABLE","$ascii",414],")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_STRING","preg_replace",416],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.)\/'",416],",",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","\"\\\\1\\0\\0\\0\"",416],",",["T_WHITESPACE"," ",416],["T_VARIABLE","$ascii",416],")",";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Encode an ASCII string to UTF-32odd1\n     *\n     * @internal\n     * @param string $ascii\n     * @return string\n     *\/",419],["T_WHITESPACE","\n    ",425],["T_PUBLIC","public",426],["T_WHITESPACE"," ",426],["T_STATIC","static",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","encodeToUTF32odd1",426],"(",["T_VARIABLE","$ascii",426],")",["T_WHITESPACE","\n    ",426],"{",["T_WHITESPACE","\n        ",427],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_STRING","preg_replace",428],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.)\/'",428],",",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","\"\\0\\\\1\\0\\0\"",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$ascii",428],")",";",["T_WHITESPACE","\n    ",428],"}",["T_WHITESPACE","\n\n    ",429],["T_DOC_COMMENT","\/**\n     * Encode an ASCII string to UTF-32odd2\n     *\n     * @internal\n     * @param string $ascii\n     * @return string\n     *\/",431],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_STATIC","static",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","encodeToUTF32odd2",438],"(",["T_VARIABLE","$ascii",438],")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_STRING","preg_replace",440],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.)\/'",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","\"\\0\\0\\\\1\\0\"",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$ascii",440],")",";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n\n    ",441],["T_DOC_COMMENT","\/**\n     * Encode an ASCII string to UTF-16BE\n     *\n     * @internal\n     * @param string $ascii\n     * @return string\n     *\/",443],["T_WHITESPACE","\n    ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_STATIC","static",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","encodeToUTF16BE",450],"(",["T_VARIABLE","$ascii",450],")",["T_WHITESPACE","\n    ",450],"{",["T_WHITESPACE","\n        ",451],["T_RETURN","return",452],["T_WHITESPACE"," ",452],["T_STRING","preg_replace",452],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.)\/'",452],",",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","\"\\0\\\\1\"",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$ascii",452],")",";",["T_WHITESPACE","\n    ",452],"}",["T_WHITESPACE","\n\n    ",453],["T_DOC_COMMENT","\/**\n     * Encode an ASCII string to UTF-16LE\n     *\n     * @internal\n     * @param string $ascii\n     * @return string\n     *\/",455],["T_WHITESPACE","\n    ",461],["T_PUBLIC","public",462],["T_WHITESPACE"," ",462],["T_STATIC","static",462],["T_WHITESPACE"," ",462],["T_FUNCTION","function",462],["T_WHITESPACE"," ",462],["T_STRING","encodeToUTF16LE",462],"(",["T_VARIABLE","$ascii",462],")",["T_WHITESPACE","\n    ",462],"{",["T_WHITESPACE","\n        ",463],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_STRING","preg_replace",464],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.)\/'",464],",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","\"\\\\1\\0\"",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$ascii",464],")",";",["T_WHITESPACE","\n    ",464],"}",["T_WHITESPACE","\n\n    ",465],["T_DOC_COMMENT","\/**\n     * Encode an ASCII string to UTF-8\n     *\n     * @internal\n     * @param string $ascii\n     * @return string\n     *\/",467],["T_WHITESPACE","\n    ",473],["T_PUBLIC","public",474],["T_WHITESPACE"," ",474],["T_STATIC","static",474],["T_WHITESPACE"," ",474],["T_FUNCTION","function",474],["T_WHITESPACE"," ",474],["T_STRING","encodeToUTF8",474],"(",["T_VARIABLE","$ascii",474],")",["T_WHITESPACE","\n    ",474],"{",["T_WHITESPACE","\n        ",475],["T_RETURN","return",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$ascii",476],";",["T_WHITESPACE","\n    ",476],"}",["T_WHITESPACE","\n",477],"}",["T_WHITESPACE","\n",478]]