[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE_AFL.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    design\n * @package     default_default\n * @copyright   Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license     http:\/\/opensource.org\/licenses\/afl-3.0.php  Academic Free License (AFL 3.0)\n *\/",2],["T_WHITESPACE","\n",25],["T_CLOSE_TAG","?>\n",26],["T_INLINE_HTML","\n",27],["T_OPEN_TAG","<?php\n",28],["T_DOC_COMMENT","\/**\n * @see Mage_Api2_Block_Adminhtml_Attribute_Tab_Resource\n *\/",29],["T_WHITESPACE","\n",31],["T_CLOSE_TAG","?>\n",32],["T_INLINE_HTML","\n",33],["T_OPEN_TAG","<?php ",34],["T_ECHO","echo",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getChildHtml",34],"(",")",";",["T_WHITESPACE"," ",34],["T_CLOSE_TAG","?>\n",34],["T_INLINE_HTML","\n<div class=\"entry-edit\">\n    <div class=\"entry-edit-head\">\n        <h4 class=\"icon-head head-edit-form fieldset-legend\">",35],["T_OPEN_TAG","<?php ",38],["T_ECHO","echo",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","__",38],"(",["T_CONSTANT_ENCAPSED_STRING","'User Type Resources'",38],")",["T_WHITESPACE"," ",38],["T_CLOSE_TAG","?>",38],["T_INLINE_HTML","<\/h4>\n    <\/div>\n    <input type=\"hidden\" name=\"resource\" id=\"role_resources\" value=\"\" \/>\n    <fieldset id=\"role_resources\">\n\n        <span class=\"field-row\">\n            <label for=\"all\">",38],["T_OPEN_TAG","<?php ",44],["T_ECHO","echo",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","__",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Resource Access'",44],")",["T_WHITESPACE"," ",44],["T_CLOSE_TAG","?>",44],["T_INLINE_HTML","<\/label>\n            <select id=\"all\" name=\"all\" onchange=\"$('resources_container').toggle()\" class=\"select\">\n                <option value=\"0\" ",44],["T_OPEN_TAG","<?php ",46],["T_ECHO","echo",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getEverythingAllowed",46],"(",")","?",["T_CONSTANT_ENCAPSED_STRING","''",46],":",["T_CONSTANT_ENCAPSED_STRING","'selected'",46],")",";",["T_WHITESPACE"," ",46],["T_CLOSE_TAG","?>",46],["T_INLINE_HTML",">",46],["T_OPEN_TAG","<?php ",46],["T_ECHO","echo",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","__",46],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom'",46],")",["T_WHITESPACE"," ",46],["T_CLOSE_TAG","?>",46],["T_INLINE_HTML","<\/option>\n                <option value=\"1\" ",46],["T_OPEN_TAG","<?php ",47],["T_ECHO","echo",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getEverythingAllowed",47],"(",")","?",["T_CONSTANT_ENCAPSED_STRING","'selected'",47],":",["T_CONSTANT_ENCAPSED_STRING","''",47],")",";",["T_WHITESPACE"," ",47],["T_CLOSE_TAG","?>",47],["T_INLINE_HTML",">",47],["T_OPEN_TAG","<?php ",47],["T_ECHO","echo",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","__",47],"(",["T_CONSTANT_ENCAPSED_STRING","'All'",47],")",["T_WHITESPACE"," ",47],["T_CLOSE_TAG","?>",47],["T_INLINE_HTML","<\/option>\n            <\/select>\n        <\/span>\n\n        <span class=\"field-row\" id=\"resources_container\">\n            <label>",47],["T_OPEN_TAG","<?php ",52],["T_ECHO","echo",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","__",52],"(",["T_CONSTANT_ENCAPSED_STRING","'Resources'",52],")",["T_WHITESPACE"," ",52],["T_CLOSE_TAG","?>",52],["T_INLINE_HTML","<\/label>\n            <div class=\"f-left\">\n                <div class=\"tree x-tree\" id=\"resource-tree\"><\/div>\n            <\/div>\n            ",52],["T_OPEN_TAG","<?php ",56],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","hasEntityOnlyAttributes",56],"(",")",")",":",["T_WHITESPACE"," ",56],["T_CLOSE_TAG","?>\n",56],["T_INLINE_HTML","                <div class=\"clear\"><\/div>\n                <span>* This attribute data will be returned for a single resource only.<\/span>\n            ",57],["T_OPEN_TAG","<?php ",59],["T_ENDIF","endif",59],";",["T_WHITESPACE"," ",59],["T_CLOSE_TAG","?>\n",59],["T_INLINE_HTML","        <\/span>\n\n    <\/fieldset>\n<\/div>\n<!-- Draw Resources Tree -->\n<script type=\"text\/javascript\">\n\/\/<![CDATA[\n",60],["T_OPEN_TAG","<?php ",67],["T_IF","if",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getEverythingAllowed",67],"(",")",")",":",["T_WHITESPACE"," ",67],["T_CLOSE_TAG","?>\n",67],["T_INLINE_HTML","    $('resources_container').hide();\n",68],["T_OPEN_TAG","<?php ",69],["T_ENDIF","endif",69],";",["T_WHITESPACE"," ",69],["T_CLOSE_TAG","?>\n",69],["T_INLINE_HTML","Ext.EventManager.onDocumentReady(function() {\n    var tree = new Ext.tree.TreePanel('resource-tree', {\n        animate:false,\n        loader: false,\n        enableDD:false,\n        containerScroll: true,\n        rootUIProvider: Ext.tree.CheckboxNodeUI,\n        selModel: new Ext.tree.CheckNodeMultiSelectionModel(),\n        rootVisible: false\n    });\n\n    tree.on('check', checkHandler, tree);\n\n    \/\/ set the root node\n    var root = new Ext.tree.TreeNode({\n        text: 'root',\n        draggable:false,\n        checked:'false',\n        id:'__root__',\n        uiProvider: Ext.tree.CheckboxNodeUI\n    });\n\n    tree.setRootNode(root);\n    bildResourcesTree(root, ",70],["T_OPEN_TAG","<?php ",93],["T_ECHO","echo",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getResTreeJson",93],"(",")",["T_WHITESPACE"," ",93],["T_CLOSE_TAG","?>",93],["T_INLINE_HTML",");\n    tree.addListener('click', resourceClick.createDelegate(this));\n\n    \/\/ render the tree\n    tree.render();\n    \/\/ root.expand();\n    tree.expandAll();\n\n    $('role_resources').value = tree.getChecked().join(',');\n});\n\nfunction resourceClick(node, e){\n    node.getUI().check(!node.getUI().checked());\n    varienElementMethods.setHasChanges(Event.element(e), e);\n};\n\nfunction bildResourcesTree(parent, config){\n    if (!config) return null;\n\n    if (parent && config && config.length){\n        for (var i = 0; i < config.length; i++){\n            config[i].uiProvider = Ext.tree.CheckboxNodeUI;\n            var node = new Ext.tree.TreeNode(config[i]);\n            parent.appendChild(node);\n            if(config[i].children){\n                bildResourcesTree(node, config[i].children);\n            }\n        }\n    }\n}\n\nfunction checkHandler(node)\n{\n    if ( node.attributes.checked && node.parentNode ) {\n        var n = node.parentNode;\n        this.removeListener('check', checkHandler);\n        do {\n            if (!n || n.attributes.id == 'admin' || n.attributes.id == '__root__') {\n                break;\n            } else {\n                n.ui.check(true);\n            }\n        } while (n = n.parentNode );\n        this.on('check', checkHandler);\n    }\n    if ( !node.isLeaf() && node.hasChildNodes() ) {\n        this.removeListener('check', checkHandler);\n        processChildren(node, node.attributes.checked);\n        this.on('check', checkHandler);\n    }\n    $('role_resources').value = this.getChecked().join(',');\n}\n\nfunction processChildren(node, state)\n{\n    if ( !node.hasChildNodes() ) return false;\n    for(var i = 0; i < node.childNodes.length; i++ ) {\n        node.childNodes[i].ui.check(state);\n        if ( node.childNodes[i].hasChildNodes() ) {\n            processChildren(node.childNodes[i], state);\n        }\n    }\n    return true;\n}\n\/\/]]>\n<\/script>\n",93]]