[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE_AFL.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    design\n * @package     default_default\n * @copyright   Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license     http:\/\/opensource.org\/licenses\/afl-3.0.php  Academic Free License (AFL 3.0)\n *\/",2],["T_WHITESPACE","\n",25],["T_CLOSE_TAG","?>\n",26],["T_INLINE_HTML","<div class=\"entry-edit\">\n    <div class=\"entry-edit-head\">\n        <h4 class=\"icon-head head-edit-form fieldset-legend\">",27],["T_OPEN_TAG","<?php ",29],["T_ECHO","echo",29],["T_WHITESPACE"," ",29],["T_STRING","Mage",29],["T_DOUBLE_COLON","::",29],["T_STRING","helper",29],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",29],")",["T_OBJECT_OPERATOR","->",29],["T_STRING","__",29],"(",["T_CONSTANT_ENCAPSED_STRING","'Product Categories'",29],")",["T_WHITESPACE"," ",29],["T_CLOSE_TAG","?>",29],["T_INLINE_HTML","<\/h4>\n    <\/div>\n    <fieldset id=\"grop_fields\">\n        <input type=\"hidden\" name=\"category_ids\" id=\"product_categories\" value=\"",29],["T_OPEN_TAG","<?php ",32],["T_ECHO","echo",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getIdsString",32],"(",")",["T_WHITESPACE"," ",32],["T_CLOSE_TAG","?>",32],["T_INLINE_HTML","\">\n        <div id=\"product-categories\" class=\"tree\"><\/div>\n    <\/fieldset>\n<\/div>\n",32],["T_OPEN_TAG","<?php ",36],["T_IF","if",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getRootNode",36],"(",")",["T_WHITESPACE"," ",36],["T_BOOLEAN_AND","&&",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getRootNode",36],"(",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","hasChildren",36],"(",")",")",":",["T_WHITESPACE"," ",36],["T_CLOSE_TAG","?>\n",36],["T_INLINE_HTML","<script type=\"text\/javascript\">\nExt.EventManager.onDocumentReady(function() {\n    var categoryLoader = new Ext.tree.TreeLoader({\n       dataUrl: '",37],["T_OPEN_TAG","<?php ",40],["T_ECHO","echo",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getLoadTreeUrl",40],"(",")",["T_CLOSE_TAG","?>",40],["T_INLINE_HTML","'\n    });\n\n    categoryLoader.createNode = function(config) {\n        config.uiProvider = Ext.tree.CheckboxNodeUI;\n        var node;\n        if (config.children && !config.children.length) {\n            delete(config.children);\n            node = new Ext.tree.AsyncTreeNode(config);\n\n        } else {\n            node = new Ext.tree.TreeNode(config);\n        }\n        return node;\n    };\n\n    categoryLoader.on(\"beforeload\", function(treeLoader, node) {\n        treeLoader.baseParams.category = node.attributes.id;\n    });\n\n    categoryLoader.on(\"load\", function(treeLoader, node, config) {\n        varienWindowOnload();\n    });\n\n    var tree = new Ext.tree.TreePanel('product-categories', {\n        animate:true,\n        loader: categoryLoader,\n        enableDD:false,\n        containerScroll: true,\n        rootUIProvider: Ext.tree.CheckboxNodeUI,\n        selModel: new Ext.tree.CheckNodeMultiSelectionModel(),\n        rootVisible: '",40],["T_OPEN_TAG","<?php ",71],["T_ECHO","echo",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getRootNode",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getIsVisible",71],"(",")",["T_WHITESPACE"," ",71],["T_CLOSE_TAG","?>",71],["T_INLINE_HTML","'\n    });\n\n    tree.on('check', function(node) {\n        if(node.attributes.checked) {\n            categoryAdd(node.id);\n        } else {\n            categoryRemove(node.id);\n        }\n        varienElementMethods.setHasChanges(node.getUI().checkbox);\n    }, tree);\n\n    \/\/ set the root node\n    var root = new Ext.tree.TreeNode({\n        text: '",71],["T_OPEN_TAG","<?php ",85],["T_ECHO","echo",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","jsQuoteEscape",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getRootNode",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getName",85],"(",")",")",["T_WHITESPACE"," ",85],["T_CLOSE_TAG","?>",85],["T_INLINE_HTML","',\n        draggable:false,\n        checked:'",85],["T_OPEN_TAG","<?php ",87],["T_ECHO","echo",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getRootNode",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","getChecked",87],"(",")",["T_WHITESPACE"," ",87],["T_CLOSE_TAG","?>",87],["T_INLINE_HTML","',\n        id:'",87],["T_OPEN_TAG","<?php ",88],["T_ECHO","echo",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getRootNode",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getId",88],"(",")",["T_WHITESPACE"," ",88],["T_CLOSE_TAG","?>",88],["T_INLINE_HTML","',\n        disabled: ",88],["T_OPEN_TAG","<?php ",89],["T_ECHO","echo",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getRootNode",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getDisabled",89],"(",")",["T_WHITESPACE"," ",89],"?",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'true'",89],["T_WHITESPACE"," ",89],":",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'false'",89],")",["T_WHITESPACE"," ",89],["T_CLOSE_TAG","?>",89],["T_INLINE_HTML",",\n        uiProvider: Ext.tree.CheckboxNodeUI\n    });\n\n    tree.setRootNode(root);\n    bildCategoryTree(root, ",89],["T_OPEN_TAG","<?php ",94],["T_ECHO","echo",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getTreeJson",94],"(",")",["T_WHITESPACE"," ",94],["T_CLOSE_TAG","?>",94],["T_INLINE_HTML",");\n    tree.addListener('click', categoryClick.createDelegate(this));\n\n    \/\/ render the tree\n    tree.render();\n    root.expand();\n    \/\/tree.expandAll();\n});\n\nfunction bildCategoryTree(parent, config){\n    if (!config) return null;\n\n    if (parent && config && config.length){\n        for (var i = 0; i < config.length; i++){\n            config[i].uiProvider = Ext.tree.CheckboxNodeUI;\n            var node;\n            var _node = Object.clone(config[i]);\n            if (_node.children && !_node.children.length) {\n                delete(_node.children);\n                node = new Ext.tree.AsyncTreeNode(_node);\n\n            } else {\n                node = new Ext.tree.TreeNode(config[i]);\n            }\n            parent.appendChild(node);\n            node.loader = node.getOwnerTree().loader;\n            if(config[i].children){\n                bildCategoryTree(node, config[i].children);\n            }\n        }\n    }\n}\n\nfunction categoryClick(node, e){\n    if (node.disabled) {\n        return;\n    }\n    node.getUI().check(!node.getUI().checked());\n    varienElementMethods.setHasChanges(Event.element(e), e);\n};\nfunction categoryAdd(id) {\n    var ids = $('product_categories').value.split(',');\n    ids.push(id);\n    $('product_categories').value = ids.join(',');\n}\nfunction categoryRemove(id) {\n    var ids = $('product_categories').value.split(',');\n    \/\/ bug #7654 fixed\n    while (-1 != ids.indexOf(id)) {\n        ids.splice(ids.indexOf(id), 1);\n    }\n    $('product_categories').value = ids.join(',');\n}\n<\/script>\n",94],["T_OPEN_TAG","<?php ",148],["T_ENDIF","endif",148],";",["T_WHITESPACE"," ",148],["T_CLOSE_TAG","?>\n",148]]