[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE_AFL.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    design\n * @package     default_default\n * @copyright   Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license     http:\/\/opensource.org\/licenses\/afl-3.0.php  Academic Free License (AFL 3.0)\n *\/",2],["T_WHITESPACE","\n",25],["T_COMMENT","\/* @var $this Mage_Adminhtml_Block_Newsletter_Template_Edit *\/",26],["T_WHITESPACE","\n",26],["T_CLOSE_TAG","?>\n",27],["T_INLINE_HTML","<div class=\"content-header\">\n   <h3 class=\"icon-head head-newsletter-list\">",28],["T_OPEN_TAG","<?php ",29],["T_ECHO","echo",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getHeaderText",29],"(",")",["T_WHITESPACE"," ",29],["T_CLOSE_TAG","?>",29],["T_INLINE_HTML","<\/h3>\n   <p class=\"content-buttons form-buttons\">\n                ",29],["T_OPEN_TAG","<?php ",31],["T_ECHO","echo",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getBackButtonHtml",31],"(",")",";",["T_WHITESPACE"," ",31],["T_CLOSE_TAG","?>\n",31],["T_INLINE_HTML","                ",32],["T_OPEN_TAG","<?php ",32],["T_ECHO","echo",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getResetButtonHtml",32],"(",")",";",["T_WHITESPACE"," ",32],["T_CLOSE_TAG","?>\n",32],["T_INLINE_HTML","                ",33],["T_OPEN_TAG","<?php ",33],["T_IF","if",33],"(","!",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","isTextType",33],"(",")",")",":",["T_WHITESPACE"," ",33],["T_CLOSE_TAG","?>\n",33],["T_INLINE_HTML","                ",34],["T_OPEN_TAG","<?php ",34],["T_ECHO","echo",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getToPlainButtonHtml",34],"(",")",";",["T_WHITESPACE"," ",34],["T_CLOSE_TAG","?>\n",34],["T_INLINE_HTML","                ",35],["T_OPEN_TAG","<?php ",35],["T_ECHO","echo",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getToHtmlButtonHtml",35],"(",")",";",["T_WHITESPACE"," ",35],["T_CLOSE_TAG","?>\n",35],["T_INLINE_HTML","                ",36],["T_OPEN_TAG","<?php ",36],["T_ENDIF","endif",36],["T_WHITESPACE"," ",36],["T_CLOSE_TAG","?>\n",36],["T_INLINE_HTML","                ",37],["T_OPEN_TAG","<?php ",37],["T_ECHO","echo",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getPreviewButtonHtml",37],"(",")",";",["T_WHITESPACE"," ",37],["T_CLOSE_TAG","?>\n",37],["T_INLINE_HTML","                ",38],["T_OPEN_TAG","<?php ",38],["T_IF","if",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getEditMode",38],"(",")",")",":",["T_WHITESPACE"," ",38],["T_CLOSE_TAG","?>\n",38],["T_INLINE_HTML","                ",39],["T_OPEN_TAG","<?php ",39],["T_ECHO","echo",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getDeleteButtonHtml",39],"(",")",";",["T_WHITESPACE"," ",39],["T_CLOSE_TAG","?>\n",39],["T_INLINE_HTML","                ",40],["T_OPEN_TAG","<?php ",40],["T_ENDIF","endif",40],["T_WHITESPACE"," ",40],["T_CLOSE_TAG","?>\n",40],["T_INLINE_HTML","                ",41],["T_OPEN_TAG","<?php ",41],["T_IF","if",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getEditMode",41],"(",")",")",":",["T_WHITESPACE"," ",41],["T_CLOSE_TAG","?>\n",41],["T_INLINE_HTML","                ",42],["T_OPEN_TAG","<?php ",42],["T_ECHO","echo",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getSaveAsButtonHtml",42],"(",")",";",["T_WHITESPACE"," ",42],["T_CLOSE_TAG","?>\n",42],["T_INLINE_HTML","                ",43],["T_OPEN_TAG","<?php ",43],["T_ENDIF","endif",43],["T_WHITESPACE"," ",43],["T_CLOSE_TAG","?>\n",43],["T_INLINE_HTML","                ",44],["T_OPEN_TAG","<?php ",44],["T_ECHO","echo",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getSaveButtonHtml",44],"(",")",";",["T_WHITESPACE"," ",44],["T_CLOSE_TAG","?>\n",44],["T_INLINE_HTML","    <\/p>\n<\/div>\n<form action=\"",45],["T_OPEN_TAG","<?php ",47],["T_ECHO","echo",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getSaveUrl",47],"(",")",["T_WHITESPACE"," ",47],["T_CLOSE_TAG","?>",47],["T_INLINE_HTML","\" method=\"post\" id=\"newsletter_template_edit_form\">\n    ",47],["T_OPEN_TAG","<?php ",48],["T_ECHO","echo",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getBlockHtml",48],"(",["T_CONSTANT_ENCAPSED_STRING","'formkey'",48],")",["T_CLOSE_TAG","?>\n",48],["T_INLINE_HTML","    <div class=\"no-display\">\n        <input type=\"hidden\" id=\"change_flag_element\" name=\"_change_type_flag\" value=\"\" \/>\n        <input type=\"hidden\" id=\"save_as_flag\" name=\"_save_as_flag\" value=\"",49],["T_OPEN_TAG","<?php ",51],["T_ECHO","echo",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getSaveAsFlag",51],"(",")",["T_WHITESPACE"," ",51],["T_CLOSE_TAG","?>",51],["T_INLINE_HTML","\" \/>\n    <\/div>\n    ",51],["T_OPEN_TAG","<?php ",53],["T_ECHO","echo",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getForm",53],"(",")",["T_WHITESPACE"," ",53],["T_CLOSE_TAG","?>\n",53],["T_INLINE_HTML","<\/form>\n<form action=\"",54],["T_OPEN_TAG","<?php ",55],["T_ECHO","echo",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getPreviewUrl",55],"(",")",["T_WHITESPACE"," ",55],["T_CLOSE_TAG","?>",55],["T_INLINE_HTML","\" method=\"post\" id=\"newsletter_template_preview_form\" target=\"_blank\">\n    ",55],["T_OPEN_TAG","<?php ",56],["T_ECHO","echo",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getBlockHtml",56],"(",["T_CONSTANT_ENCAPSED_STRING","'formkey'",56],")",["T_CLOSE_TAG","?>\n",56],["T_INLINE_HTML","    <div class=\"no-display\">\n        <input type=\"hidden\" id=\"preview_type\" name=\"type\" value=\"",57],["T_OPEN_TAG","<?php ",58],["T_ECHO","echo",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","isTextType",58],"(",")","?",["T_LNUMBER","1",58],":",["T_LNUMBER","2",58],["T_WHITESPACE"," ",58],["T_CLOSE_TAG","?>",58],["T_INLINE_HTML","\" \/>\n        <input type=\"hidden\" id=\"preview_text\" name=\"text\" value=\"\" \/>\n        <input type=\"hidden\" id=\"preview_styles\" name=\"styles\" value=\"\" \/>\n        <input type=\"hidden\" id=\"preview_id\" name=\"id\" value=\"\" \/>\n    <\/div>\n<\/form>\n<script type=\"text\/javascript\">\n\/\/<![CDATA[\n    var templateForm = new varienForm('newsletter_template_edit_form');\n    var templatePreviewForm = new varienForm('newsletter_template_preview_form');\n    var templateControl = {\n\n        unconvertedText: '',\n        typeChange: false,\n        templateName: false,\n        id: 'text',\n\n        init: function () {\n            if ($('convert_button_back')) {\n                $('convert_button_back').hide();\n            }\n        },\n\n        stripTags: function () {\n            if(!window.confirm(\"",58],["T_OPEN_TAG","<?php ",82],["T_ECHO","echo",82],["T_WHITESPACE"," ",82],["T_STRING","Mage",82],["T_DOUBLE_COLON","::",82],["T_STRING","helper",82],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","jsQuoteEscape",82],"(",["T_STRING","Mage",82],["T_DOUBLE_COLON","::",82],["T_STRING","helper",82],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure that you want to strip all tags?'",82],")",")",["T_WHITESPACE"," ",82],["T_CLOSE_TAG","?>",82],["T_INLINE_HTML","\")) {\n                return false;\n            }\n            if(this.isEditor()) {\n                this.getEditor().turnOff();\n                this.getEditor().getToggleButton().hide();\n            }\n            this.unconvertedText = $(this.id).value;\n            $('convert_button').hide();\n            $('convert_button_back').show();\n            $(this.id).value =  $(this.id).value.stripScripts().stripTags();\n            $('field_template_styles').hide();\n            this.typeChange = true;\n            return false;\n        },\n\n        unStripTags: function () {\n            $('convert_button').show();\n            $('convert_button_back').hide();\n            $(this.id).value =  this.unconvertedText;\n            if(this.isEditor()) {\n                this.getEditor().turnOn();\n                this.getEditor().getToggleButton().show();\n            }\n            this.typeChange = false;\n            $('field_template_styles').show();\n            return false;\n        },\n\n        save: function() {\n            if (this.typeChange) {\n                $('change_flag_element').value = '1';\n            }\n            if(this.isEditor()) {\n                tinyMCE.triggerSave();\n            }\n            templateForm.submit();\n            return false;\n        },\n\n        saveAs: function() {\n            if (this.typeChange) {\n                $('change_flag_element').value = '1';\n            }\n\n            if($F('code').blank() || $F('code')==templateControl.templateName) {\n               value = prompt('",82],["T_OPEN_TAG","<?php ",128],["T_ECHO","echo",128],["T_WHITESPACE"," ",128],["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","helper",128],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","jsQuoteEscape",128],"(",["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","helper",128],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","__",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter new template name'",128],")",")",["T_WHITESPACE"," ",128],["T_CLOSE_TAG","?>",128],["T_INLINE_HTML","', templateControl.templateName + '",128],["T_OPEN_TAG","<?php ",128],["T_ECHO","echo",128],["T_WHITESPACE"," ",128],["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","helper",128],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","jsQuoteEscape",128],"(",["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","helper",128],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","__",128],"(",["T_CONSTANT_ENCAPSED_STRING","' Copy'",128],")",")",["T_WHITESPACE"," ",128],["T_CLOSE_TAG","?>",128],["T_INLINE_HTML","');\n               if(!value) {\n                   if(value !== null) {\n                       $('code').value = '';\n                       templateForm.submit();\n                   }\n                   return false;\n               } else {\n                   $('code').value = value;\n               }\n            }\n\n            $('save_as_flag').value = '1';\n\n            if(this.isEditor()) {\n                tinyMCE.triggerSave();\n            }\n            templateForm.submit();\n            return false;\n        },\n\n        preview: function() {\n            if (this.typeChange) {\n                $('preview_type').value = 1;\n            } else {\n                $('preview_type').value = 2;\n            }\n            if (this.isEditor() && tinyMCE.get(this.id)) {\n                tinyMCE.triggerSave();\n                $('preview_text').value = $(this.id).value;\n                tinyMCE.triggerSave();\n            } else {\n                $('preview_text').value = $(this.id).value;\n            }\n            if ($('template_styles') != undefined) {\n                $('preview_styles').value = $('template_styles').value;\n            }\n            if ($('id') != undefined) {\n                $('preview_id').value = $('id').value;\n            }\n            templatePreviewForm.submit();\n            return false;\n        },\n\n        deleteTemplate: function() {\n            if(window.confirm(\"",128],["T_OPEN_TAG","<?php ",173],["T_ECHO","echo",173],["T_WHITESPACE"," ",173],["T_STRING","Mage",173],["T_DOUBLE_COLON","::",173],["T_STRING","helper",173],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","jsQuoteEscape",173],"(",["T_STRING","Mage",173],["T_DOUBLE_COLON","::",173],["T_STRING","helper",173],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter'",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","__",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure that you want to delete this template?'",173],")",")",["T_WHITESPACE"," ",173],["T_CLOSE_TAG","?>",173],["T_INLINE_HTML","\")) {\n                   window.location.href = '",173],["T_OPEN_TAG","<?php ",174],["T_ECHO","echo",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getDeleteUrl",174],"(",")",["T_WHITESPACE"," ",174],["T_CLOSE_TAG","?>",174],["T_INLINE_HTML","';\n            }\n        },\n\n        isEditor: function() {\n            return (typeof tinyMceEditors != 'undefined' && tinyMceEditors.get(this.id) != undefined)\n        },\n\n        getEditor: function() {\n            return tinyMceEditors.get(this.id);\n        }\n    };\n\n    templateControl.init();\n    templateControl.templateName = \"",174],["T_OPEN_TAG","<?php ",188],["T_ECHO","echo",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getJsTemplateName",188],"(",")",["T_WHITESPACE"," ",188],["T_CLOSE_TAG","?>",188],["T_INLINE_HTML","\";\n\/\/]]>\n<\/script>\n",188]]