[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE_AFL.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    design\n * @package     default_default\n * @copyright   Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license     http:\/\/opensource.org\/licenses\/afl-3.0.php  Academic Free License (AFL 3.0)\n *\/",2],["T_WHITESPACE","\n",25],["T_CLOSE_TAG","?>\n",26],["T_INLINE_HTML","<div class=\"entry-edit-head\">\n    <h4>",27],["T_OPEN_TAG","<?php ",28],["T_ECHO","echo",28],["T_WHITESPACE"," ",28],["T_STRING","Mage",28],["T_DOUBLE_COLON","::",28],["T_STRING","helper",28],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",28],")",["T_OBJECT_OPERATOR","->",28],["T_STRING","__",28],"(",["T_CONSTANT_ENCAPSED_STRING","'Layout Updates'",28],")",["T_WHITESPACE"," ",28],["T_CLOSE_TAG","?>",28],["T_INLINE_HTML","<\/h4>\n    <div class=\"right\">",28],["T_OPEN_TAG","<?php ",29],["T_ECHO","echo",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getAddLayoutButtonHtml",29],"(",")",["T_WHITESPACE"," ",29],["T_CLOSE_TAG","?>",29],["T_INLINE_HTML","<\/div>\n<\/div>\n<div class=\"fieldset\">\n    <div class=\"hor-scroll\">\n            <div id=\"page_group_container\"><\/div>\n    <\/div>\n<\/div>\n<script type=\"text\/javascript\">\n\/\/<![CDATA[\n\nvar pageGroupTemplate = '<div class=\"options-box page_group_container\" id=\"page_group_container_{{id}}\">'+\n    '<div class=\"option-box\">'+\n        '<div class=\"option-title\">'+\n            '",29],["T_OPEN_TAG","<?php ",42],["T_ECHO","echo",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getRemoveLayoutButtonHtml",42],"(",")",["T_WHITESPACE"," ",42],["T_CLOSE_TAG","?>",42],["T_INLINE_HTML","'+\n            '<label for=\"widget_instance[{{id}}][page_group]\">Display On <span class=\"required\">*<\/span><\/label>'+\n            '",42],["T_OPEN_TAG","<?php ",44],["T_ECHO","echo",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getDisplayOnSelectHtml",44],"(",")",";",["T_WHITESPACE"," ",44],["T_CLOSE_TAG","?>",44],["T_INLINE_HTML","'+\n        '<\/div>'+\n",44],["T_OPEN_TAG","<?php ",46],["T_FOREACH","foreach",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getDisplayOnContainers",46],"(",")",["T_WHITESPACE"," ",46],["T_AS","as",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$container",46],")",":",["T_WHITESPACE"," ",46],["T_CLOSE_TAG","?>\n",46],["T_INLINE_HTML","    '<div class=\"no-display ",47],["T_OPEN_TAG","<?php ",47],["T_ECHO","echo",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$container",47],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",47],"]",["T_WHITESPACE"," ",47],["T_CLOSE_TAG","?>",47],["T_INLINE_HTML"," group_container\" id=\"",47],["T_OPEN_TAG","<?php ",47],["T_ECHO","echo",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$container",47],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",47],"]",["T_WHITESPACE"," ",47],["T_CLOSE_TAG","?>",47],["T_INLINE_HTML","_{{id}}\">'+\n        '<input type=\"hidden\" class=\"container_name\" name=\"__[container_name]\" value=\"widget_instance[{{id}}][",47],["T_OPEN_TAG","<?php ",48],["T_ECHO","echo",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$container",48],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",48],"]",["T_WHITESPACE"," ",48],["T_CLOSE_TAG","?>",48],["T_INLINE_HTML","]\" \/>'+\n        '<input type=\"hidden\" name=\"widget_instance[{{id}}][",48],["T_OPEN_TAG","<?php ",49],["T_ECHO","echo",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$container",49],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",49],"]",["T_WHITESPACE"," ",49],["T_CLOSE_TAG","?>",49],["T_INLINE_HTML","][page_id]\" value=\"{{page_id}}\" \/>'+\n        '<input type=\"hidden\" class=\"layout_handle_pattern\" name=\"widget_instance[{{id}}][",49],["T_OPEN_TAG","<?php ",50],["T_ECHO","echo",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$container",50],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",50],"]",["T_WHITESPACE"," ",50],["T_CLOSE_TAG","?>",50],["T_INLINE_HTML","][layout_handle]\" value=\"",50],["T_OPEN_TAG","<?php ",50],["T_ECHO","echo",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$container",50],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",50],"]",["T_WHITESPACE"," ",50],["T_CLOSE_TAG","?>",50],["T_INLINE_HTML","\" \/>'+\n        '<table cellspacing=\"0\" class=\"option-header\">'+\n            '<col width=\"200\" \/>'+\n            '<col width=\"220\" \/>'+\n            '<col width=\"320\" \/>'+\n            '<col \/>'+\n            '<thead>'+\n                '<tr>'+\n                    '<th><label>",50],["T_OPEN_TAG","<?php ",58],["T_ECHO","echo",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","helper",58],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","jsQuoteEscape",58],"(",["T_STRING","Mage",58],["T_DOUBLE_COLON","::",58],["T_STRING","helper",58],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","__",58],"(",["T_CONSTANT_ENCAPSED_STRING","'%s'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$container",58],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",58],"]",")",")",["T_WHITESPACE"," ",58],["T_CLOSE_TAG","?>",58],["T_INLINE_HTML","<\/label><\/th>'+\n                    '<th><label>",58],["T_OPEN_TAG","<?php ",59],["T_ECHO","echo",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","helper",59],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","jsQuoteEscape",59],"(",["T_STRING","Mage",59],["T_DOUBLE_COLON","::",59],["T_STRING","helper",59],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","__",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Block Reference'",59],")",")",["T_WHITESPACE"," ",59],["T_CLOSE_TAG","?>",59],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                    '<th><label>",59],["T_OPEN_TAG","<?php ",60],["T_ECHO","echo",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","helper",60],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","jsQuoteEscape",60],"(",["T_STRING","Mage",60],["T_DOUBLE_COLON","::",60],["T_STRING","helper",60],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","__",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",60],")",")",["T_WHITESPACE"," ",60],["T_CLOSE_TAG","?>",60],["T_INLINE_HTML","<\/label><\/th>'+\n                    '<th>&nbsp;<\/th>'+\n                '<\/tr>'+\n            '<\/thead>'+\n            '<tbody>'+\n                '<tr>'+\n                    '<td>'+\n                        '<input type=\"radio\" class=\"radio for_all\" id=\"all_",60],["T_OPEN_TAG","<?php ",67],["T_ECHO","echo",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$container",67],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",67],"]",["T_WHITESPACE"," ",67],["T_CLOSE_TAG","?>",67],["T_INLINE_HTML","_{{id}}\" name=\"widget_instance[{{id}}][",67],["T_OPEN_TAG","<?php ",67],["T_ECHO","echo",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$container",67],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",67],"]",["T_WHITESPACE"," ",67],["T_CLOSE_TAG","?>",67],["T_INLINE_HTML","][for]\" value=\"all\" onclick=\"WidgetInstance.togglePageGroupChooser(this)\" checked=\"checked\" \/>&nbsp;'+\n                        '<label for=\"all_",67],["T_OPEN_TAG","<?php ",68],["T_ECHO","echo",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$container",68],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",68],"]",["T_WHITESPACE"," ",68],["T_CLOSE_TAG","?>",68],["T_INLINE_HTML","_{{id}}\">",68],["T_OPEN_TAG","<?php ",68],["T_ECHO","echo",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","helper",68],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","jsQuoteEscape",68],"(",["T_STRING","Mage",68],["T_DOUBLE_COLON","::",68],["T_STRING","helper",68],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","__",68],"(",["T_CONSTANT_ENCAPSED_STRING","'All'",68],")",")",["T_WHITESPACE"," ",68],["T_CLOSE_TAG","?>",68],["T_INLINE_HTML","<\/label>&nbsp;&nbsp;&nbsp;'+\n                        '<input type=\"radio\" class=\"radio for_specific\" id=\"specific_",68],["T_OPEN_TAG","<?php ",69],["T_ECHO","echo",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$container",69],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",69],"]",["T_WHITESPACE"," ",69],["T_CLOSE_TAG","?>",69],["T_INLINE_HTML","_{{id}}\" name=\"widget_instance[{{id}}][",69],["T_OPEN_TAG","<?php ",69],["T_ECHO","echo",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$container",69],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",69],"]",["T_WHITESPACE"," ",69],["T_CLOSE_TAG","?>",69],["T_INLINE_HTML","][for]\" value=\"specific\" onclick=\"WidgetInstance.togglePageGroupChooser(this)\" \/>&nbsp;'+\n                        '<label for=\"specific_",69],["T_OPEN_TAG","<?php ",70],["T_ECHO","echo",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$container",70],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",70],"]",["T_WHITESPACE"," ",70],["T_CLOSE_TAG","?>",70],["T_INLINE_HTML","_{{id}}\">",70],["T_OPEN_TAG","<?php ",70],["T_ECHO","echo",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","helper",70],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","jsQuoteEscape",70],"(",["T_STRING","Mage",70],["T_DOUBLE_COLON","::",70],["T_STRING","helper",70],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","__",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Specific %s'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$container",70],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",70],"]",")",")",["T_WHITESPACE"," ",70],["T_CLOSE_TAG","?>",70],["T_INLINE_HTML","<\/label>'+\n                    '<\/td>'+\n                    '<td>'+\n                        '<div class=\"block_reference_container\">'+\n                            '<div class=\"block_reference\"><\/div>'+\n                        '<\/div>'+\n                    '<\/td>'+\n                    '<td>'+\n                        '<div class=\"block_template_container\">'+\n                            '<div class=\"block_template\"><\/div>'+\n                        '<\/div>'+\n                    '<\/td>'+\n                '<\/tr>'+\n            '<\/tbody>'+\n        '<\/table>'+\n        '<div class=\"no-display chooser_container\" id=\"",70],["T_OPEN_TAG","<?php ",85],["T_ECHO","echo",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$container",85],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",85],"]",["T_WHITESPACE"," ",85],["T_CLOSE_TAG","?>",85],["T_INLINE_HTML","_ids_{{id}}\">'+\n            '<input type=\"hidden\" class=\"is_anchor_only\" name=\"widget_instance[{{id}}][",85],["T_OPEN_TAG","<?php ",86],["T_ECHO","echo",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$container",86],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",86],"]",["T_WHITESPACE"," ",86],["T_CLOSE_TAG","?>",86],["T_INLINE_HTML","][is_anchor_only]\" value=\"",86],["T_OPEN_TAG","<?php ",86],["T_ECHO","echo",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$container",86],"[",["T_CONSTANT_ENCAPSED_STRING","'is_anchor_only'",86],"]",["T_WHITESPACE"," ",86],["T_CLOSE_TAG","?>",86],["T_INLINE_HTML","\" \/>'+\n            '<input type=\"hidden\" class=\"product_type_id\" name=\"widget_instance[{{id}}][",86],["T_OPEN_TAG","<?php ",87],["T_ECHO","echo",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$container",87],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",87],"]",["T_WHITESPACE"," ",87],["T_CLOSE_TAG","?>",87],["T_INLINE_HTML","][product_type_id]\" value=\"",87],["T_OPEN_TAG","<?php ",87],["T_ECHO","echo",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$container",87],"[",["T_CONSTANT_ENCAPSED_STRING","'product_type_id'",87],"]",["T_WHITESPACE"," ",87],["T_CLOSE_TAG","?>",87],["T_INLINE_HTML","\" \/>'+\n            '<p>' +\n                '<input type=\"text\" class=\"input-text entities\" name=\"widget_instance[{{id}}][",87],["T_OPEN_TAG","<?php ",89],["T_ECHO","echo",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$container",89],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",89],"]",["T_WHITESPACE"," ",89],["T_CLOSE_TAG","?>",89],["T_INLINE_HTML","][entities]\" value=\"{{",89],["T_OPEN_TAG","<?php ",89],["T_ECHO","echo",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$container",89],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",89],"]",["T_WHITESPACE"," ",89],["T_CLOSE_TAG","?>",89],["T_INLINE_HTML","_entities}}\" readonly=\"readonly\" \/>&nbsp;' +\n                '<a class=\"widget-option-chooser\" href=\"javascript:void(0)\" onclick=\"WidgetInstance.displayEntityChooser(\\'",89],["T_OPEN_TAG","<?php ",90],["T_ECHO","echo",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$container",90],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",90],"]",["T_WHITESPACE"," ",90],["T_CLOSE_TAG","?>",90],["T_INLINE_HTML","\\', \\'",90],["T_OPEN_TAG","<?php ",90],["T_ECHO","echo",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$container",90],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",90],"]",["T_WHITESPACE"," ",90],["T_CLOSE_TAG","?>",90],["T_INLINE_HTML","_ids_{{id}}\\')\"  title=\"",90],["T_OPEN_TAG","<?php ",90],["T_ECHO","echo",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","helper",90],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","jsQuoteEscape",90],"(",["T_STRING","Mage",90],["T_DOUBLE_COLON","::",90],["T_STRING","helper",90],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","__",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Open Chooser'",90],")",")",["T_WHITESPACE"," ",90],["T_CLOSE_TAG","?>",90],["T_INLINE_HTML","\">' +\n                    '<img src=\"",90],["T_OPEN_TAG","<?php ",91],["T_ECHO","echo",91],["T_WHITESPACE"," ",91],["T_STRING","Mage",91],["T_DOUBLE_COLON","::",91],["T_STRING","getDesign",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getSkinUrl",91],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/rule_chooser_trigger.gif'",91],")",["T_WHITESPACE"," ",91],["T_CLOSE_TAG","?>",91],["T_INLINE_HTML","\" class=\"v-middle\" alt=\"",91],["T_OPEN_TAG","<?php ",91],["T_ECHO","echo",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","helper",91],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","jsQuoteEscape",91],"(",["T_STRING","Mage",91],["T_DOUBLE_COLON","::",91],["T_STRING","helper",91],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","__",91],"(",["T_CONSTANT_ENCAPSED_STRING","'Open Chooser'",91],")",")",";",["T_WHITESPACE"," ",91],["T_CLOSE_TAG","?>",91],["T_INLINE_HTML","\" \/>' +\n                '<\/a>&nbsp;' +\n                '<a href=\"javascript:void(0)\" onclick=\"WidgetInstance.hideEntityChooser(\\'",91],["T_OPEN_TAG","<?php ",93],["T_ECHO","echo",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$container",93],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",93],"]",["T_WHITESPACE"," ",93],["T_CLOSE_TAG","?>",93],["T_INLINE_HTML","_ids_{{id}}\\')\" title=\"",93],["T_OPEN_TAG","<?php ",93],["T_ECHO","echo",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","helper",93],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","jsQuoteEscape",93],"(",["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","helper",93],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","__",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",93],")",")",";",["T_WHITESPACE"," ",93],["T_CLOSE_TAG","?>",93],["T_INLINE_HTML","\">' +\n                    '<img src=\"",93],["T_OPEN_TAG","<?php ",94],["T_ECHO","echo",94],["T_WHITESPACE"," ",94],["T_STRING","Mage",94],["T_DOUBLE_COLON","::",94],["T_STRING","getDesign",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getSkinUrl",94],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/rule_component_apply.gif'",94],")",["T_WHITESPACE"," ",94],["T_CLOSE_TAG","?>",94],["T_INLINE_HTML","\" class=\"v-middle\" alt=\"",94],["T_OPEN_TAG","<?php ",94],["T_ECHO","echo",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","helper",94],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","jsQuoteEscape",94],"(",["T_STRING","Mage",94],["T_DOUBLE_COLON","::",94],["T_STRING","helper",94],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","__",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",94],")",")",";",["T_WHITESPACE"," ",94],["T_CLOSE_TAG","?>",94],["T_INLINE_HTML","\" \/>' +\n                '<\/a>' +\n            '<\/p>'+\n            '<div class=\"chooser\"><\/div>'+\n        '<\/div>'+\n    '<\/div>'+\n",94],["T_OPEN_TAG","<?php ",100],["T_ENDFOREACH","endforeach",100],";",["T_WHITESPACE"," ",100],["T_CLOSE_TAG","?>\n",100],["T_INLINE_HTML","'<div class=\"no-display all_pages group_container\" id=\"all_pages_{{id}}\">'+\n    '<input type=\"hidden\" class=\"container_name\" name=\"__[container_name]\" value=\"widget_instance[{{id}}][all_pages]\" \/>'+\n    '<input type=\"hidden\" name=\"widget_instance[{{id}}][all_pages][page_id]\" value=\"{{page_id}}\" \/>'+\n    '<input type=\"hidden\" class=\"layout_handle_pattern\" name=\"widget_instance[{{id}}][all_pages][layout_handle]\" value=\"default\" \/>'+\n    '<input type=\"hidden\" class=\"for_all\" name=\"widget_instance[{{id}}][all_pages][for]\" value=\"all\" \/>'+\n    '<table cellspacing=\"0\" class=\"option-header\">'+\n        '<col width=\"220\" \/>'+\n        '<col width=\"320\" \/>'+\n        '<col \/>'+\n        '<thead>'+\n            '<tr>'+\n                '<th><label>",101],["T_OPEN_TAG","<?php ",112],["T_ECHO","echo",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","helper",112],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","jsQuoteEscape",112],"(",["T_STRING","Mage",112],["T_DOUBLE_COLON","::",112],["T_STRING","helper",112],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","__",112],"(",["T_CONSTANT_ENCAPSED_STRING","'Block Reference'",112],")",")",["T_WHITESPACE"," ",112],["T_CLOSE_TAG","?>",112],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                '<th><label>",112],["T_OPEN_TAG","<?php ",113],["T_ECHO","echo",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","helper",113],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","jsQuoteEscape",113],"(",["T_STRING","Mage",113],["T_DOUBLE_COLON","::",113],["T_STRING","helper",113],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","__",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",113],")",")",["T_WHITESPACE"," ",113],["T_CLOSE_TAG","?>",113],["T_INLINE_HTML","<\/label><\/th>'+\n                '<th>&nbsp;<\/th>'+\n            '<\/tr>'+\n        '<\/thead>'+\n        '<tbody>'+\n            '<tr>'+\n                '<td>'+\n                    '<div class=\"block_reference_container\">'+\n                        '<div class=\"block_reference\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>'+\n                    '<div class=\"block_template_container\">'+\n                        '<div class=\"block_template\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>&nbsp;<\/td>'+\n            '<\/tr>'+\n        '<\/tbody>'+\n    '<\/table>'+\n'<\/div>'+\n'<div class=\"no-display ignore-validate pages group_container\" id=\"pages_{{id}}\">'+\n    '<input type=\"hidden\" class=\"container_name\" name=\"__[container_name]\" value=\"widget_instance[{{id}}][pages]\" \/>'+\n    '<input type=\"hidden\" name=\"widget_instance[{{id}}][pages][page_id]\" value=\"{{page_id}}\" \/>'+\n    '<input type=\"hidden\" class=\"for_all\" name=\"widget_instance[{{id}}][pages][for]\" value=\"all\" \/>'+\n    '<table cellspacing=\"0\" class=\"option-header\">'+\n        '<col width=\"200\" \/>'+\n        '<col width=\"220\" \/>'+\n        '<col width=\"320\" \/>'+\n        '<col \/>'+\n        '<thead>'+\n            '<tr>'+\n                '<th><label>",113],["T_OPEN_TAG","<?php ",145],["T_ECHO","echo",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","helper",145],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","jsQuoteEscape",145],"(",["T_STRING","Mage",145],["T_DOUBLE_COLON","::",145],["T_STRING","helper",145],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","__",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Page'",145],")",")",["T_WHITESPACE"," ",145],["T_CLOSE_TAG","?>",145],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                '<th><label>",145],["T_OPEN_TAG","<?php ",146],["T_ECHO","echo",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","helper",146],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",146],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","jsQuoteEscape",146],"(",["T_STRING","Mage",146],["T_DOUBLE_COLON","::",146],["T_STRING","helper",146],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",146],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","__",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Block Reference'",146],")",")",["T_WHITESPACE"," ",146],["T_CLOSE_TAG","?>",146],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                '<th><label>",146],["T_OPEN_TAG","<?php ",147],["T_ECHO","echo",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","helper",147],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","jsQuoteEscape",147],"(",["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","helper",147],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","__",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",147],")",")",["T_WHITESPACE"," ",147],["T_CLOSE_TAG","?>",147],["T_INLINE_HTML","<\/label><\/th>'+\n                '<th>&nbsp;<\/th>'+\n            '<\/tr>'+\n        '<\/thead>'+\n        '<tbody>'+\n            '<tr>'+\n                '<td>",147],["T_OPEN_TAG","<?php ",153],["T_ECHO","echo",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getLayoutsChooser",153],"(",")",["T_WHITESPACE"," ",153],["T_CLOSE_TAG","?>",153],["T_INLINE_HTML","<\/td>'+\n                '<td>'+\n                    '<div class=\"block_reference_container\">'+\n                        '<div class=\"block_reference\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>'+\n                    '<div class=\"block_template_container\">'+\n                        '<div class=\"block_template\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>&nbsp;<\/td>'+\n            '<\/tr>'+\n        '<\/tbody>'+\n    '<\/table>'+\n'<\/div>'+\n'<\/div>'+\n'<\/div>';\n\nvar WidgetInstance = {\n    pageGroupTemplate    : pageGroupTemplate,\n    pageGroupContainerId : 'page_group_container',\n    templatePattern : \/(^|.|\\r|\\n)({{(\\w+)}})\/,\n    count : 0,\n    activePageGroups : $H({}),\n    selectedItems : {},\n\n    addPageGroup : function(data) {\n        if (this.pageGroupTemplate && (pageGroupContainer = $(this.pageGroupContainerId))) {\n            if (!data.page_id) {\n                data = {};\n                data.page_id = 0;\n                data.entities = '';\n            }\n            data.id = this.count++;\n            if (data[data.group + '_entities']) {\n                var selected_entities = data[data.group + '_entities'].split(',');\n                if (selected_entities.length > 0) {\n                    for (var i = 0; i < selected_entities.length; i++) {\n                        this.addProductItemToSelection(data.group + '_ids_' + data.id, selected_entities[i]);\n                    }\n                }\n            }\n            pageGroupTemplateObj = new Template(this.pageGroupTemplate, this.templatePattern);\n            Element.insert(pageGroupContainer, {'top':pageGroupTemplateObj.evaluate(data)});\n            if (data.group) {\n                pageGroup = $(data.group+'_'+data.id);\n                additional = {};\n                additional.selectedBlock = data.block;\n                additional.selectedTemplate = data.template;\n                additional.position = data.position;\n                additional.for_value = data.for_value;\n                additional.template = '';\n                if (data.group == 'pages') {\n                    layoutSelect = pageGroup.down('select#layout_handle');\n                    if (layoutSelect) {\n                        for (var i = 0; i < layoutSelect.options.length; i++) {\n                            if (layoutSelect.options[i].value == data.layout_handle) {\n                                layoutSelect.options[i].selected = true;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if ($(this.pageGroupContainerId+'_'+data.id)) {\n                    selectGroupElm = $(this.pageGroupContainerId+'_'+data.id).down('select.page_group_select');\n                    for (var i = 0; i < selectGroupElm.options.length; i++) {\n                        if (selectGroupElm.options[i].value == data.group) {\n                            selectGroupElm.options[i].selected = true;\n                            break;\n                        }\n                    }\n                }\n                forElm = pageGroup.down('input.for_'+data.for_value);\n                if (forElm) {\n                    \/**\n                    * IE browsers fix: remove default checked attribute in radio form element\n                    * to check others radio form elements in future\n                    *\/\n                    pageGroup.down('input.for_all').defaultChecked = false;\n                    forElm.defaultChecked = true;\n                    forElm.checked = true;\n                    this.togglePageGroupChooser(forElm);\n                }\n                this.displayPageGroup(pageGroup, additional);\n            }\n        }\n    },\n    removePageGroup : function(element) {\n        container = element.up('div.page_group_container');\n        if (container) {\n            container.remove();\n        }\n    },\n    addProductItemToSelection: function(groupId, item) {\n        if (undefined == this.selectedItems[groupId]) {\n            this.selectedItems[groupId] = $H({});\n        }\n        if (!isNaN(parseInt(item))) {\n            this.selectedItems[groupId].set(item, 1);\n        }\n    },\n    removeProductItemFromSelection: function(groupId, item) {\n        if (undefined !== this.selectedItems[groupId]) {\n            this.selectedItems[groupId].unset(item);\n        }\n    },\n    showBlockContainer : function(container) {\n        container = $(container);\n        if (container) {\n            container.removeClassName('no-display');\n            container.removeClassName('ignore-validate');\n            container.show();\n        }\n    },\n    hideBlockContainer : function(container) {\n        container = $(container);\n        if (container) {\n            container.addClassName('no-display');\n            container.addClassName('ignore-validate');\n            container.hide();\n        }\n    },\n    displayPageGroup : function(container, additional) {\n        container = $(container);\n        if (!container) {\n\/\/            if (activePageGroupId = this.activePageGroups.get(container.up('div.page_group_container').id)) {\n\/\/                this.hideBlockContainer(activePageGroupId);\n\/\/            }\n        }\n        if (!additional) {\n            additional = {};\n        }\n        if (activePageGroupId = this.activePageGroups.get(container.up('div.page_group_container').id)) {\n            this.hideBlockContainer(activePageGroupId);\n        }\n        this.activePageGroups.set(container.up('div.page_group_container').id, container.id);\n        this.showBlockContainer(container);\n        blockContainer = container.down('div.block_reference');\n        if (blockContainer && blockContainer.innerHTML == '') {\n            layoutHandle = '';\n            if (layoutHandleField = container.down('input.layout_handle_pattern')) {\n                layoutHandle = layoutHandleField.value;\n            }\n            this.loadSelectBoxByType('block_reference', container, layoutHandle, additional);\n        }\n        this.loadSelectBoxByType('block_template', container, additional.selectedBlock, additional);\n    },\n    displayEntityChooser : function(type, chooser, additional) {\n        if (!additional) {\n            additional = {};\n        }\n        if (type == 'categories') {\n            additional.url = '",153],["T_OPEN_TAG","<?php ",306],["T_ECHO","echo",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getCategoriesChooserUrl",306],"(",")",["T_WHITESPACE"," ",306],["T_CLOSE_TAG","?>",306],["T_INLINE_HTML","';\n            additional.post_parameters = $H({'is_anchor_only':$(chooser).down('input.is_anchor_only').value});\n        } else if (type == 'products') {\n            additional.url = '",306],["T_OPEN_TAG","<?php ",309],["T_ECHO","echo",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getProductsChooserUrl",309],"(",")",["T_WHITESPACE"," ",309],["T_CLOSE_TAG","?>",309],["T_INLINE_HTML","';\n            additional.post_parameters = $H({'product_type_id':$(chooser).down('input.product_type_id').value});\n        }\n        if (chooser && additional) {\n            this.displayChooser(chooser, additional);\n        }\n    },\n    hideEntityChooser : function(chooser) {\n        chooser = $(chooser).down('div.chooser');\n        if (chooser) {\n            chooser.addClassName('no-display');\n            chooser.hide();\n        }\n    },\n    displayChooser : function(chooser, additional) {\n        chooser = $(chooser).down('div.chooser');\n        entities = chooser.up('div.chooser_container').down('input[type=\"text\"].entities').value;\n        postParameters = $H({selected:entities});\n        url = '';\n        if (additional) {\n            if (additional.url) url = additional.url;\n            if (additional.post_parameters) {\n                additional.post_parameters.each(function(pair){\n                    postParameters.set(pair.key,pair.value);\n                });\n            }\n        }\n        if (chooser && url) {\n            if (chooser.innerHTML == '') {\n                new Ajax.Request(url, {\n                    method: 'post',\n                    parameters: postParameters,\n                    onSuccess: function(transport) {\n                        try {\n                            if (transport.responseText) {\n                                Element.insert(chooser, transport.responseText);\n                                chooser.removeClassName('no-display');\n                                chooser.show();\n                            }\n                        } catch (e) {\n                            alert('",309],["T_OPEN_TAG","<?php ",349],["T_ECHO","echo",349],["T_WHITESPACE"," ",349],["T_STRING","Mage",349],["T_DOUBLE_COLON","::",349],["T_STRING","helper",349],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",349],")",["T_OBJECT_OPERATOR","->",349],["T_STRING","jsQuoteEscape",349],"(",["T_STRING","Mage",349],["T_DOUBLE_COLON","::",349],["T_STRING","helper",349],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",349],")",["T_OBJECT_OPERATOR","->",349],["T_STRING","__",349],"(",["T_CONSTANT_ENCAPSED_STRING","'Error occurs during loading chooser.'",349],")",")",["T_WHITESPACE"," ",349],["T_CLOSE_TAG","?>",349],["T_INLINE_HTML","');\n                        }\n                    }\n                });\n            } else {\n                chooser.removeClassName('no-display');\n                chooser.show();\n            }\n        }\n    },\n    checkProduct : function(event) {\n        var elm = event.memo.element,\n            container = event.target.up('div.chooser').up('div.chooser_container'),\n            selectionId = container.id,\n            entitiesElm = container.down('input[type=\"text\"].entities');\n        if (elm.checked) {\n            this.addProductItemToSelection(selectionId, elm.value);\n        } else {\n            this.removeProductItemFromSelection(selectionId, elm.value);\n        }\n        if (entitiesElm) {\n            entitiesElm.value = this.selectedItems[selectionId].keys().join(',');\n        }\n    },\n    checkCategory : function(event) {\n        node = event.memo.node;\n        container = event.target.up('div.chooser_container');\n        value = container.down('input[type=\"text\"].entities').value.strip();\n        if (node.attributes.checked) {\n            if (value) ids = value.split(',');\n            else ids = [];\n            if (-1 == ids.indexOf(node.id)) {\n                ids.push(node.id);\n                container.down('input[type=\"text\"].entities').value = ids.join(',');\n            }\n        } else {\n            ids = value.split(',');\n            while (-1 != ids.indexOf(node.id)) {\n                ids.splice(ids.indexOf(node.id), 1);\n                container.down('input[type=\"text\"].entities').value = ids.join(',');\n            }\n        }\n    },\n    togglePageGroupChooser : function(element) {\n        element = $(element);\n        if (element && (chooser = element.up('div.group_container').down('div.chooser_container'))) {\n            if (element.value == 'all') {\n                chooser.addClassName('no-display');\n                chooser.hide();\n            } else {\n                chooser.removeClassName('no-display');\n                chooser.show();\n            }\n        }\n    },\n    loadSelectBoxByType : function (type, element, value, additional) {\n        if (!additional) {\n            additional = {};\n        }\n        if (element && (containerElm = element.down('div.'+type))) {\n            url = '';\n            selected = '';\n            parameters = {};\n            if (type == 'block_reference') {\n                url = '",349],["T_OPEN_TAG","<?php ",413],["T_ECHO","echo",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getBlockChooserUrl",413],"(",")",["T_WHITESPACE"," ",413],["T_CLOSE_TAG","?>",413],["T_INLINE_HTML","';\n                if (additional.selectedBlock) {\n                    selected = additional.selectedBlock;\n                }\n                parameters.layout = value;\n            } else if (type == 'block_template') {\n                url = '",413],["T_OPEN_TAG","<?php ",419],["T_ECHO","echo",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getTemplateChooserUrl",419],"(",")",["T_WHITESPACE"," ",419],["T_CLOSE_TAG","?>",419],["T_INLINE_HTML","';\n                if (additional.selectedTemplate) {\n                    selected = additional.selectedTemplate;\n                }\n                parameters.block = value;\n            }\n            parameters.selected = selected;\n            if (url) {\n                new Ajax.Request(url, {\n                    method: 'post',\n                    parameters: parameters,\n                    containerElm: containerElm,\n                    onSuccess: function(transport) {\n                        containerElm = transport.request.options.containerElm;\n                        try {\n                            if (transport.responseText) {\n                                containerElm.update(transport.responseText);\n                                formElm = containerElm.down('select, input[type=\"hidden\"]');\n                                if (formElm) {\n                                    formElm.name = element.down('input.container_name').value+'['+formElm.name+']';\n                                }\n                            }\n                        } catch (e) {\n                            alert('",419],["T_OPEN_TAG","<?php ",442],["T_ECHO","echo",442],["T_WHITESPACE"," ",442],["T_STRING","Mage",442],["T_DOUBLE_COLON","::",442],["T_STRING","helper",442],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",442],")",["T_OBJECT_OPERATOR","->",442],["T_STRING","jsQuoteEscape",442],"(",["T_STRING","Mage",442],["T_DOUBLE_COLON","::",442],["T_STRING","helper",442],"(",["T_CONSTANT_ENCAPSED_STRING","'widget'",442],")",["T_OBJECT_OPERATOR","->",442],["T_STRING","__",442],"(",["T_CONSTANT_ENCAPSED_STRING","'Error occurs during loading chooser.'",442],")",")",["T_WHITESPACE"," ",442],["T_CLOSE_TAG","?>",442],["T_INLINE_HTML","');\n                        }\n                    }\n                });\n            }\n        }\n    }\n};\n\nExt.onReady(function(){\n    ",442],["T_OPEN_TAG","<?php ",452],["T_FOREACH","foreach",452],["T_WHITESPACE"," ",452],"(",["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getPageGroups",452],"(",")",["T_WHITESPACE"," ",452],["T_AS","as",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$pageGroup",452],")",":",["T_WHITESPACE"," ",452],["T_CLOSE_TAG","?>\n",452],["T_INLINE_HTML","        WidgetInstance.addPageGroup(",453],["T_OPEN_TAG","<?php ",453],["T_ECHO","echo",453],["T_WHITESPACE"," ",453],["T_STRING","Zend_Json",453],["T_DOUBLE_COLON","::",453],["T_STRING","encode",453],"(",["T_VARIABLE","$pageGroup",453],")",["T_WHITESPACE"," ",453],["T_CLOSE_TAG","?>",453],["T_INLINE_HTML",");\n    ",453],["T_OPEN_TAG","<?php ",454],["T_ENDFOREACH","endforeach",454],";",["T_WHITESPACE"," ",454],["T_CLOSE_TAG","?>\n",454],["T_INLINE_HTML","    Event.observe(document, 'product:changed', function(event){\n        WidgetInstance.checkProduct(event);\n    });\n    Event.observe(document, 'node:changed', function(event){\n        WidgetInstance.checkCategory(event);\n    });\n});\n\/\/]]>\n<\/script>\n",455]]