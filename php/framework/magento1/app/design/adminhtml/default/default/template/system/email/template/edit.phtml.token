[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE_AFL.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    design\n * @package     default_default\n * @copyright   Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license     http:\/\/opensource.org\/licenses\/afl-3.0.php  Academic Free License (AFL 3.0)\n *\/",2],["T_WHITESPACE","\n",25],["T_CLOSE_TAG","?>\n",26],["T_INLINE_HTML","<div class=\"content-header\">\n    <h3 class=\"icon-head head-system-email-template\">",27],["T_OPEN_TAG","<?php ",28],["T_ECHO","echo",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getHeaderText",28],"(",")",["T_WHITESPACE"," ",28],["T_CLOSE_TAG","?>",28],["T_INLINE_HTML","<\/h3>\n    <p class=\"content-buttons form-buttons\">\n                ",28],["T_OPEN_TAG","<?php ",30],["T_ECHO","echo",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getBackButtonHtml",30],"(",")",";",["T_WHITESPACE"," ",30],["T_CLOSE_TAG","?>\n",30],["T_INLINE_HTML","                ",31],["T_OPEN_TAG","<?php ",31],["T_ECHO","echo",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getResetButtonHtml",31],"(",")",";",["T_WHITESPACE"," ",31],["T_CLOSE_TAG","?>\n",31],["T_INLINE_HTML","                ",32],["T_OPEN_TAG","<?php ",32],["T_IF","if",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getEditMode",32],"(",")",")",":",["T_WHITESPACE"," ",32],["T_CLOSE_TAG","?>\n",32],["T_INLINE_HTML","                ",33],["T_OPEN_TAG","<?php ",33],["T_ECHO","echo",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getDeleteButtonHtml",33],"(",")",";",["T_WHITESPACE"," ",33],["T_CLOSE_TAG","?>\n",33],["T_INLINE_HTML","                ",34],["T_OPEN_TAG","<?php ",34],["T_ENDIF","endif",34],["T_WHITESPACE"," ",34],["T_CLOSE_TAG","?>\n",34],["T_INLINE_HTML","                ",35],["T_OPEN_TAG","<?php ",35],["T_IF","if",35],"(","!",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","isTextType",35],"(",")",")",":",["T_WHITESPACE"," ",35],["T_CLOSE_TAG","?>\n",35],["T_INLINE_HTML","                ",36],["T_OPEN_TAG","<?php ",36],["T_ECHO","echo",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getToPlainButtonHtml",36],"(",")",";",["T_WHITESPACE"," ",36],["T_CLOSE_TAG","?>\n",36],["T_INLINE_HTML","                ",37],["T_OPEN_TAG","<?php ",37],["T_ECHO","echo",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getToHtmlButtonHtml",37],"(",")",";",["T_WHITESPACE"," ",37],["T_CLOSE_TAG","?>\n",37],["T_INLINE_HTML","                ",38],["T_OPEN_TAG","<?php ",38],["T_ENDIF","endif",38],["T_WHITESPACE"," ",38],["T_CLOSE_TAG","?>\n",38],["T_INLINE_HTML","                ",39],["T_OPEN_TAG","<?php ",39],["T_ECHO","echo",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getPreviewButtonHtml",39],"(",")",";",["T_WHITESPACE"," ",39],["T_CLOSE_TAG","?>\n",39],["T_INLINE_HTML","                ",40],["T_OPEN_TAG","<?php ",40],["T_ECHO","echo",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getSaveButtonHtml",40],"(",")",";",["T_WHITESPACE"," ",40],["T_CLOSE_TAG","?>\n",40],["T_INLINE_HTML","    <\/p>\n<\/div>\n",41],["T_OPEN_TAG","<?php ",43],["T_IF","if",43],["T_WHITESPACE"," ",43],"(","!",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getEditMode",43],"(",")",")",":",["T_WHITESPACE"," ",43],["T_CLOSE_TAG","?>\n",43],["T_INLINE_HTML","<form action=\"",44],["T_OPEN_TAG","<?php ",44],["T_ECHO","echo",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getLoadUrl",44],"(",")",["T_WHITESPACE"," ",44],["T_CLOSE_TAG","?>",44],["T_INLINE_HTML","\" method=\"post\" id=\"email_template_load_form\">\n    ",44],["T_OPEN_TAG","<?php ",45],["T_ECHO","echo",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getBlockHtml",45],"(",["T_CONSTANT_ENCAPSED_STRING","'formkey'",45],")",["T_CLOSE_TAG","?>\n",45],["T_INLINE_HTML","    <div class=\"entry-edit\">\n        <div class=\"entry-edit-head\">\n            <h4 class=\"icon-head head-edit-form fieldset-legend\">\n            ",46],["T_OPEN_TAG","<?php ",49],["T_ECHO","echo",49],["T_WHITESPACE"," ",49],["T_STRING","Mage",49],["T_DOUBLE_COLON","::",49],["T_STRING","helper",49],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","__",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Load default template'",49],")",["T_WHITESPACE"," ",49],["T_CLOSE_TAG","?>\n",49],["T_INLINE_HTML","            <\/h4>\n            <div class=\"form-buttons\"><\/div>\n        <\/div>\n        <div class=\"fieldset\">\n            <table class=\"form-list\" cellspacing=\"0\">\n                <tbody>\n                    <tr>\n                        <td class=\"label\">\n                            <label for=\"template_select\">\n                            ",50],["T_OPEN_TAG","<?php ",59],["T_ECHO","echo",59],["T_WHITESPACE"," ",59],["T_STRING","Mage",59],["T_DOUBLE_COLON","::",59],["T_STRING","helper",59],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","__",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",59],")",["T_WHITESPACE"," ",59],["T_CLOSE_TAG","?>\n",59],["T_INLINE_HTML","                            <span class=\"required\">*<\/span>\n                            <\/label>\n                        <\/td>\n                        <td class=\"value\">\n                            <select id=\"template_select\" name=\"code\" class=\"select required-entry\">\n                                ",60],["T_OPEN_TAG","<?php ",65],["T_FOREACH","foreach",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getTemplateOptions",65],"(",")",["T_WHITESPACE"," ",65],["T_AS","as",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_option",65],")",":",["T_WHITESPACE"," ",65],["T_CLOSE_TAG","?>\n",65],["T_INLINE_HTML","                                <option value=\"",66],["T_OPEN_TAG","<?php ",66],["T_ECHO","echo",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_option",66],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",66],"]",["T_WHITESPACE"," ",66],["T_CLOSE_TAG","?>",66],["T_INLINE_HTML","\"",66],["T_OPEN_TAG","<?php ",66],["T_ECHO","echo",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getOrigTemplateCode",66],"(",")",["T_WHITESPACE"," ",66],["T_IS_EQUAL","==",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_option",66],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",66],"]",["T_WHITESPACE"," ",66],"?",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","' selected=\"selected\"'",66],["T_WHITESPACE"," ",66],":",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","''",66],["T_WHITESPACE"," ",66],["T_CLOSE_TAG","?>",66],["T_INLINE_HTML",">",66],["T_OPEN_TAG","<?php ",66],["T_ECHO","echo",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_option",66],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",66],"]",["T_WHITESPACE"," ",66],["T_CLOSE_TAG","?>",66],["T_INLINE_HTML","<\/option>\n                                ",66],["T_OPEN_TAG","<?php ",67],["T_ENDFOREACH","endforeach",67],";",["T_WHITESPACE"," ",67],["T_CLOSE_TAG","?>\n",67],["T_INLINE_HTML","                            <\/select>\n                        <\/td>\n                        <td><\/td>\n                    <\/tr>\n                    <tr>\n                        <td class=\"label\">\n                            <label for=\"locale_select\">\n                            ",68],["T_OPEN_TAG","<?php ",75],["T_ECHO","echo",75],["T_WHITESPACE"," ",75],["T_STRING","Mage",75],["T_DOUBLE_COLON","::",75],["T_STRING","helper",75],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",75],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","__",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Locale'",75],")",["T_WHITESPACE"," ",75],["T_CLOSE_TAG","?>\n",75],["T_INLINE_HTML","                            <span class=\"required\">*<\/span>\n                            <\/label>\n                        <\/td>\n                        <td class=\"value\">\n                            <select id=\"locale_select\" name=\"locale\" class=\"select required-entry\">\n                                ",76],["T_OPEN_TAG","<?php ",81],["T_FOREACH","foreach",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getLocaleOptions",81],"(",")",["T_WHITESPACE"," ",81],["T_AS","as",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_option",81],")",":",["T_WHITESPACE"," ",81],["T_CLOSE_TAG","?>\n",81],["T_INLINE_HTML","                                <option value=\"",82],["T_OPEN_TAG","<?php ",82],["T_ECHO","echo",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_option",82],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",82],"]",["T_WHITESPACE"," ",82],["T_CLOSE_TAG","?>",82],["T_INLINE_HTML","\"",82],["T_OPEN_TAG","<?php ",82],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$_option",82],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",82],"]",["T_IS_EQUAL","==",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getCurrentLocale",82],"(",")",")",":",["T_WHITESPACE"," ",82],["T_CLOSE_TAG","?>",82],["T_INLINE_HTML"," selected=\"selected\"",82],["T_OPEN_TAG","<?php ",82],["T_ENDIF","endif",82],";",["T_WHITESPACE"," ",82],["T_CLOSE_TAG","?>",82],["T_INLINE_HTML",">",82],["T_OPEN_TAG","<?php ",82],["T_ECHO","echo",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_option",82],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",82],"]",["T_WHITESPACE"," ",82],["T_CLOSE_TAG","?>",82],["T_INLINE_HTML","<\/option>\n                                ",82],["T_OPEN_TAG","<?php ",83],["T_ENDFOREACH","endforeach",83],";",["T_WHITESPACE"," ",83],["T_CLOSE_TAG","?>\n",83],["T_INLINE_HTML","                            <\/select>\n                        <\/td>\n                        <td><\/td>\n                    <\/tr>\n                    <tr>\n                        <td class=\"label\">\n                            <label>&nbsp;<\/label>\n                        <\/td>\n                        <td class=\"value\">\n                            ",84],["T_OPEN_TAG","<?php ",93],["T_ECHO","echo",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getLoadButtonHtml",93],"(",")",["T_WHITESPACE"," ",93],["T_CLOSE_TAG","?>\n",93],["T_INLINE_HTML","                        <\/td>\n                        <td><\/td>\n                    <\/tr>\n                <\/tbody>\n            <\/table>\n        <\/div>\n    <\/div>\n<\/form>\n",94],["T_OPEN_TAG","<?php ",102],["T_ENDIF","endif",102],["T_WHITESPACE"," ",102],["T_CLOSE_TAG","?>\n",102],["T_INLINE_HTML","<form action=\"",103],["T_OPEN_TAG","<?php ",103],["T_ECHO","echo",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getSaveUrl",103],"(",")",["T_WHITESPACE"," ",103],["T_CLOSE_TAG","?>",103],["T_INLINE_HTML","\" method=\"post\" id=\"email_template_edit_form\">\n    ",103],["T_OPEN_TAG","<?php ",104],["T_ECHO","echo",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getBlockHtml",104],"(",["T_CONSTANT_ENCAPSED_STRING","'formkey'",104],")",["T_CLOSE_TAG","?>\n",104],["T_INLINE_HTML","    <fieldset>\n        <input type=\"hidden\" id=\"change_flag_element\" name=\"_change_type_flag\" value=\"\" \/>\n        <input type=\"hidden\" id=\"orig_template_code\" name=\"orig_template_code\" value=\"",105],["T_OPEN_TAG","<?php ",107],["T_ECHO","echo",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getOrigTemplateCode",107],"(",")",["T_WHITESPACE"," ",107],["T_CLOSE_TAG","?>",107],["T_INLINE_HTML","\" \/>\n        ",107],["T_OPEN_TAG","<?php ",108],["T_ECHO","echo",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getFormHtml",108],"(",")",["T_WHITESPACE"," ",108],["T_CLOSE_TAG","?>\n",108],["T_INLINE_HTML","    <\/fieldset>\n<\/form>\n<form action=\"",109],["T_OPEN_TAG","<?php ",111],["T_ECHO","echo",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getPreviewUrl",111],"(",")",["T_WHITESPACE"," ",111],["T_CLOSE_TAG","?>",111],["T_INLINE_HTML","\" method=\"post\" id=\"email_template_preview_form\" target=\"_blank\">\n    ",111],["T_OPEN_TAG","<?php ",112],["T_ECHO","echo",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getBlockHtml",112],"(",["T_CONSTANT_ENCAPSED_STRING","'formkey'",112],")",["T_CLOSE_TAG","?>\n",112],["T_INLINE_HTML","    <div class=\"no-display\">\n        <input type=\"hidden\" id=\"preview_type\" name=\"type\" value=\"",113],["T_OPEN_TAG","<?php ",114],["T_ECHO","echo",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","isTextType",114],"(",")","?",["T_LNUMBER","1",114],":",["T_LNUMBER","2",114],["T_WHITESPACE"," ",114],["T_CLOSE_TAG","?>",114],["T_INLINE_HTML","\" \/>\n        <input type=\"hidden\" id=\"preview_text\" name=\"text\" value=\"\" \/>\n        <input type=\"hidden\" id=\"preview_styles\" name=\"styles\" value=\"\" \/>\n    <\/div>\n<\/form>\n<script type=\"text\/javascript\">\n\/\/<![CDATA[\n    var templateForm = new varienForm('email_template_edit_form');\n    var templatePreviewForm = new varienForm('email_template_preview_form');\n    var templateControl = {\n        unconvertedText: '',\n        typeChange: false,\n        variables: null,\n        init: function () {\n            if ($('convert_button_back')) {\n                $('convert_button_back').hide();\n            }\n            this.renderPaths(",114],["T_OPEN_TAG","<?php ",131],["T_ECHO","echo",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getUsedDefaultForPaths",131],"(",")",";",["T_WHITESPACE"," ",131],["T_CLOSE_TAG","?>",131],["T_INLINE_HTML",", 'used_default_for');\n            this.renderPaths(",131],["T_OPEN_TAG","<?php ",132],["T_ECHO","echo",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getUsedCurrentlyForPaths",132],"(",")",";",["T_WHITESPACE"," ",132],["T_CLOSE_TAG","?>",132],["T_INLINE_HTML",", 'used_currently_for');\n        },\n        stripTags: function () {\n            if(!window.confirm(\"",132],["T_OPEN_TAG","<?php ",135],["T_ECHO","echo",135],["T_WHITESPACE"," ",135],["T_STRING","Mage",135],["T_DOUBLE_COLON","::",135],["T_STRING","helper",135],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",135],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","jsQuoteEscape",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","__",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure that you want to strip tags?'",135],")",")",["T_WHITESPACE"," ",135],["T_CLOSE_TAG","?>",135],["T_INLINE_HTML","\")) {\n                return false;\n            }\n            this.unconvertedText = $('template_text').value;\n            $('convert_button').hide();\n            $('template_text').value =  $('template_text').value.stripScripts().replace(\n                new RegExp('<style[^>]*>[\\\\S\\\\s]*?<\/style>', 'img'), ''\n            ).stripTags().strip();\n            $('convert_button_back').show();\n            $('field_template_styles').hide();\n            this.typeChange = true;\n            return false;\n        },\n        unStripTags: function () {\n            $('convert_button').show();\n            $('convert_button_back').hide();\n            $('template_text').value =  this.unconvertedText;\n            $('field_template_styles').show();\n            this.typeChange = false;\n            return false;\n        },\n        save: function() {\n            if (this.typeChange) {\n                $('change_flag_element').value = '1';\n            }\n            templateForm.submit();\n            return false;\n        },\n        preview: function() {\n            if (this.typeChange) {\n                $('preview_type').value = 1;\n            } else {\n                $('preview_type').value = 2;\n            }\n            if (typeof tinyMCE == 'undefined' || !tinyMCE.getInstanceById('template_text')) {\n                $('preview_text').value = $('template_text').value;\n            } else {\n                $('preview_text').value = tinyMCE.getInstanceById('template_text').getHTML();\n            }\n\n            if ($('template_styles') != undefined) {\n                $('preview_styles').value = $('template_styles').value;\n            }\n\n            templatePreviewForm.submit();\n            return false;\n        },\n\n        deleteTemplate: function() {\n            if(window.confirm(\"",135],["T_OPEN_TAG","<?php ",184],["T_ECHO","echo",184],["T_WHITESPACE"," ",184],["T_STRING","Mage",184],["T_DOUBLE_COLON","::",184],["T_STRING","helper",184],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",184],")",["T_OBJECT_OPERATOR","->",184],["T_STRING","jsQuoteEscape",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","__",184],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure that you want to delete this template?'",184],")",")",["T_WHITESPACE"," ",184],["T_CLOSE_TAG","?>",184],["T_INLINE_HTML","\")) {\n                   window.location.href = '",184],["T_OPEN_TAG","<?php ",185],["T_ECHO","echo",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getDeleteUrl",185],"(",")",["T_WHITESPACE"," ",185],["T_CLOSE_TAG","?>",185],["T_INLINE_HTML","';\n            }\n        },\n\n        load: function() {\n            var form = new varienForm('email_template_load_form');\n\n            if (!form.validator.validate()) {\n                return;\n            }\n\n            this.variables = null;\n\n            new Ajax.Request($('email_template_load_form').action, {\n               parameters: Form.serialize($('email_template_load_form'), true),\n               area: $('email_template_load_form'),\n               onComplete: function (transport) {\n                   if (transport.responseText.isJSON()) {\n                       var fields = $H(transport.responseText.evalJSON());\n                       fields.each(function(pair) {\n                          if ($(pair.key)) {\n                              $(pair.key).value = pair.value.strip();\n                          }\n                          if (pair.key == 'template_type') {\n                              if (pair.value == 1) {\n                                  this.typeChange = true;\n                                  $('convert_button').hide();\n                                  $('convert_button_back').hide();\n                              } else {\n                                  this.typeChange = false;\n                                  $('convert_button_back').hide();\n                                  $('convert_button').show();\n                              }\n                          }\n                          if (pair.key == 'orig_template_used_default_for') {\n                               if(pair.value.length){\n                                   $('used_default_for').show();\n                                   this.renderPaths(pair.value, 'used_default_for');\n                               }\n                               else{\n                                   $('used_default_for').hide();\n                               }\n                          }\n                       }.bind(this));\n                   }\n               }.bind(this)\n            });\n\n        },\n\n        renderPaths: function(paths, fieldId){\n            var field = $(fieldId);\n            if(field){\n                field.down('td').next('td').update(this.parsePath(paths, '<span class=\"path-delimiter\">&nbsp;-&gt;&nbsp;<\/span>', '<br \/>'));\n            }\n        },\n\n        parsePath: function (value, pathDelimiter, lineDelimiter) {\n            if (Object.isArray(value)) {\n                var result = [];\n                for (var i = 0, len = value.length; i < len; i++) {\n                    result.push(this.parsePath(value[i], pathDelimiter, pathDelimiter));\n                }\n                return result.join(lineDelimiter);\n            }\n\n            if(!Object.isString(value) && value.title) {\n                value = (value.url ? '<a href=\"' + value.url + '\">' + value.title + '<\/a>' : value.title) + (value.scope ? '&nbsp;&nbsp;<span class=\"path-scope-label\">(' + value.scope + ')<\/span>' : '');\n            }\n\n            return value;\n        },\n\n        openVariableChooser: function() {\n            Variables.init('template_text');\n            if (this.variables == null) {\n                Variables.resetData();\n                this.variables = $('variables').value.evalJSON();\n                var templateVariablesValue = $('template_variables').value;\n                if (this.variables && templateVariablesValue) {\n                    if (templateVariables = templateVariablesValue.evalJSON()) {\n                        this.variables.push(templateVariables);\n                    }\n                }\n            }\n            if (this.variables) {\n                Variables.openVariableChooser(this.variables);\n            }\n        }\n    };\n\n    templateControl.init();\n\/\/]]>\n<\/script>\n",185]]