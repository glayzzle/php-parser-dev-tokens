[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE_AFL.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    design\n * @package     default_default\n * @copyright   Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license     http:\/\/opensource.org\/licenses\/afl-3.0.php  Academic Free License (AFL 3.0)\n *\/",2],["T_WHITESPACE","\n",25],["T_CLOSE_TAG","?>\n",26],["T_OPEN_TAG","<?php\n",27],["T_DOC_COMMENT","\/**\n * @methods\n *  getTitle() - string\n *  getSaveUrl() - string\n *  getSections() - array\n *  getForm() - html\n *\/",28],["T_WHITESPACE","\n",34],["T_CLOSE_TAG","?>\n",35],["T_INLINE_HTML","\n<div class=\"content-header\">\n    <table cellspacing=\"0\">\n        <tr>\n            <td>\n                <h3",36],["T_OPEN_TAG","<?php ",41],["T_IF","if",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getHeaderCss",41],"(",")",")",":",["T_WHITESPACE"," ",41],["T_CLOSE_TAG","?>",41],["T_INLINE_HTML"," class=\"",41],["T_OPEN_TAG","<?php ",41],["T_ECHO","echo",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getHeaderCss",41],"(",")",["T_CLOSE_TAG","?>",41],["T_INLINE_HTML","\"",41],["T_OPEN_TAG","<?php ",41],["T_ENDIF","endif",41],";",["T_WHITESPACE"," ",41],["T_CLOSE_TAG","?>",41],["T_INLINE_HTML",">",41],["T_OPEN_TAG","<?php ",41],["T_ECHO","echo",41],["T_WHITESPACE"," ",41],["T_STRING","Mage",41],["T_DOUBLE_COLON","::",41],["T_STRING","helper",41],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","__",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getTitle",41],"(",")",")",["T_WHITESPACE"," ",41],["T_CLOSE_TAG","?>",41],["T_INLINE_HTML","<\/h3>\n            <\/td>\n            <td class=\"form-buttons\">",41],["T_OPEN_TAG","<?php ",43],["T_ECHO","echo",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getSaveButtonHtml",43],"(",")",["T_WHITESPACE"," ",43],["T_CLOSE_TAG","?>",43],["T_INLINE_HTML","<\/td>\n         <\/tr>\n    <\/table>\n<\/div>\n<form action=\"",43],["T_OPEN_TAG","<?php ",47],["T_ECHO","echo",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getSaveUrl",47],"(",")",["T_WHITESPACE"," ",47],["T_CLOSE_TAG","?>",47],["T_INLINE_HTML","\" method=\"post\" id=\"config_edit_form\" enctype=\"multipart\/form-data\">\n    ",47],["T_OPEN_TAG","<?php ",48],["T_ECHO","echo",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getBlockHtml",48],"(",["T_CONSTANT_ENCAPSED_STRING","'formkey'",48],")",["T_CLOSE_TAG","?>\n",48],["T_INLINE_HTML","    ",49],["T_OPEN_TAG","<?php ",49],["T_ECHO","echo",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getChildHtml",49],"(",["T_CONSTANT_ENCAPSED_STRING","'form'",49],")",["T_WHITESPACE"," ",49],["T_CLOSE_TAG","?>\n",49],["T_INLINE_HTML","<\/form>\n<script type=\"text\/javascript\">\n\/\/<![CDATA[\n    var configForm = new varienForm('config_edit_form');\n    configForm.validator.options.onFormValidate = function(result, form) {\n        if (result) {\n            $$('.requires').each(function(element) {\n                var scopeElement = adminSystemConfig.getScopeElement(element);\n                if (!scopeElement || !scopeElement.checked) {\n                    $(element).disabled = false;\n                }\n            });\n        }\n    };\n\n    var adminSystemConfig = {\n        getUp: function (element, tag) {\n            var $element = $(element);\n            if (typeof $element.upTag == 'undefined') {\n                $element.upTag = {};\n            }\n            if (typeof $element.upTag[tag] == 'undefined') {\n                $element.upTag[tag] = $($element.up(tag));\n            }\n            return $element.upTag[tag];\n        },\n        getUpTd: function (element) {\n            return this.getUp(element, 'td');\n        },\n        getUpTr: function (element) {\n            return this.getUp(element, 'tr');\n        },\n        getScopeElement: function(element) {\n            var $element = $(element);\n            if (typeof $element.scopeElement == 'undefined') {\n                var scopeElementName = element.getAttribute('name').replace(\/\\[value\\]$\/, '[inherit]');\n                $element.scopeElement = this.getUpTr(element).select('input[name=\"' + scopeElementName + '\"]')[0];\n                if (typeof $element.scopeElement == 'undefined') {\n                    $element.scopeElement = false;\n                }\n            }\n            return $element.scopeElement;\n        },\n        getDeleteElement: function(element) {\n            var $element = $(element);\n            if (typeof $element.deleteElement == 'undefined') {\n                $element.deleteElement = this.getUpTd(element)\n                    .select('input[name=\"'+ element.getAttribute('name') + '[delete]\"]')[0];\n                if (typeof $element.deleteElement == 'undefined') {\n                    $element.deleteElement = false;\n                }\n            }\n            return $element.deleteElement;\n        },\n        mapClasses: function(element, full, callback, classPrefix) {\n            if (typeof classPrefix == 'undefined') {\n                classPrefix = 'shared'\n            }\n            element.classNames().each(function(className) {\n                if (className.indexOf(classPrefix + '-') == 0\n                    || (full && className.indexOf(classPrefix + '_') == 0)\n                ) {\n                    callback(className);\n                }\n            });\n        },\n        getRegisteredEvents: function(element) {\n            var events = [];\n            var registry = Element.retrieve($(element), 'prototype_event_registry');\n            if (!registry) {\n                return events;\n            }\n            registry.each(function(pair) {\n                var eventName = pair.key;\n                if (!eventName) {\n                    return;\n                }\n                var responders = registry.get(eventName);\n                if (!responders) {\n                    return;\n                }\n                responders.each(function(responder) {\n                    if (!responder.handler) {\n                        return;\n                    }\n                    events.push({\n                        'eventName': eventName,\n                        'handler': responder.handler\n                    });\n                });\n            });\n            return events;\n        },\n        onchangeSharedElement: function(event) {\n            var element = $(Event.element(event));\n            adminSystemConfig.mapClasses(element, true, function(className) {\n                $$('.' + className).each(function(el) {\n                    if (element == el) {\n                        return;\n                    }\n\n                    var tagName = el.tagName.toLowerCase();\n                    if (tagName == 'input' && el.getAttribute('type') == 'file') {\n                        var $el = $(el);\n                        var events = adminSystemConfig.getRegisteredEvents(el);\n                        $el.stopObserving('change');\n                        var elId = $el.id;\n                        $el.replace($el.outerHTML);\n                        events.each(function(event) {\n                            Event.observe($(elId), event.eventName, event.handler);\n                        });\n                    } else {\n                        el.stopObserving('change', adminSystemConfig.onchangeSharedElement);\n                        if (tagName == 'input' && el.getAttribute('type') == 'checkbox') {\n                            if (el.checked != element.checked) {\n                                $(el).click();\n                            }\n                        } else if (tagName == 'select') {\n                            var $el = $(el);\n                            $(element).select('option').each(function(option) {\n                                var relatedOption = $el.select('option[value=\"' + option.value + '\"]')[0];\n                                if (typeof relatedOption != 'undefined') {\n                                    relatedOption.selected = option.selected;\n                                }\n                            });\n                        } else {\n                            el.value = element.getValue();\n                        }\n                        if ($(el).requiresObj) {\n                            $(el).requiresObj.indicateEnabled();\n                        }\n                        fireEvent(el, 'change');\n                        Event.observe(el, 'change', adminSystemConfig.onchangeSharedElement);\n                    }\n                });\n            });\n        },\n        checkRequired: function(element, callback) {\n            var tagName = this.tagName.toLowerCase();\n            if (tagName != 'fieldset') {\n                if (adminSystemConfig.getUpTr(this).visible()) {\n\n                    if (this.hasClassName('not-required')) {\n                        return;\n                    }\n\n                    var typeAttr = null;\n                    if (tagName == 'input') {\n                        typeAttr = this.getAttribute('type').toLowerCase();\n                    }\n                    var valueIsEmpty = false;\n                    var scopeElement = adminSystemConfig.getScopeElement(this);\n                    if (!scopeElement || !scopeElement.checked) {\n                        if (typeAttr == 'file') {\n                            var deleteUploadedElement = adminSystemConfig.getDeleteElement(this);\n                            valueIsEmpty = !deleteUploadedElement && this.value == ''\n                                || deleteUploadedElement && deleteUploadedElement.checked;\n                        }\n                        valueIsEmpty = valueIsEmpty\n                            || (typeAttr == 'text' || typeAttr == 'password') && this.value == ''\n                            || (tagName == 'select') && (this.getAttribute('multiple') != null)\n                            && this.getValue().length == 0\n                            || (tagName == 'select') && (this.getAttribute('multiple') == null)\n                            && this.getValue() == null;\n                    }\n\n                    if (valueIsEmpty) {\n                        if (element.value != 0) {\n                            element.value = 0;\n                            fireEvent(element, 'change');\n                        }\n                        element.disable();\n                    }\n                }\n            } else {\n                this.select('input,select').each(function(inputElement) {\n                    adminSystemConfig.checkRequired.call($(inputElement), element, callback);\n                });\n            }\n            callback(this);\n        }\n    };\n\n    $$('.shared').each(function(element){\n        Event.observe(element, 'change', adminSystemConfig.onchangeSharedElement);\n\n        \/\/ scope should be shared together with the field\n        var scopeElement = adminSystemConfig.getScopeElement(element);\n        if (scopeElement) {\n            adminSystemConfig.mapClasses(element, false, function(className) {\n                scopeElement.addClassName('shared_scope-' + className.substr(7));\n            });\n            Event.observe(scopeElement, 'change', adminSystemConfig.onchangeSharedElement);\n        }\n\n        \/\/ file fields should share deletion\n        if (element.tagName.toLowerCase() == 'input' && element.getAttribute('type') == 'file') {\n            var deleteUploadedElement = adminSystemConfig.getDeleteElement(element);\n            if (deleteUploadedElement) {\n                adminSystemConfig.mapClasses(element, false, function(className) {\n                    deleteUploadedElement.addClassName('shared_delete-' + className.substr(7));\n                });\n                Event.observe(deleteUploadedElement, 'change', adminSystemConfig.onchangeSharedElement);\n            }\n        }\n\n        \/\/ process situation, when control is complex\n        adminSystemConfig.mapClasses(element, true, function(className) {\n            var controls = adminSystemConfig.getUpTd(element).select('.' + className);\n            if (controls.length < 2) {\n                return;\n            }\n\n            var counter = 0;\n            controls.each(function(controlElement) {\n                controlElement.removeClassName(className);\n                controlElement.addClassName('shared_' + counter + className.substr(6));\n                counter++;\n            });\n        });\n    });\n\n    $$('.requires').each(function(element) {\n        var eventObj = {\n            'element': $(element),\n            'requires': [],\n            'callback': function(required) {},\n            checkRequirements: function() {\n                var scopeElement = adminSystemConfig.getScopeElement(eventObj.element);\n                if (!scopeElement || !scopeElement.checked) {\n                    eventObj.element.enable();\n                    eventObj.requires.each(function(required) {\n                        adminSystemConfig.checkRequired.call($(required), eventObj.element, eventObj.callback);\n                    }.bind(this));\n                }\n            },\n            keydownCheckRequirements: function() {\n                window.setTimeout(eventObj.checkRequirements, 1);\n            },\n            bindCheckingObserver: function(element) {\n                if (element.tagName.toLowerCase() == 'fieldset') {\n                    $(element).select('input,select').each(function(subElement) {\n                        eventObj.bindCheckingObserver(subElement);\n                    })\n                } else {\n                    var scopeElement = adminSystemConfig.getScopeElement(element);\n                    if (scopeElement) {\n                        Event.observe(scopeElement, 'click', eventObj.checkRequirements);\n                    }\n                    Event.observe(element, 'change', eventObj.checkRequirements);\n                    Event.observe(element, 'keydown', eventObj.keydownCheckRequirements);\n                }\n            },\n            indicateEnabled: function() {\n                var labelElement = adminSystemConfig.getUpTr(eventObj.element).select('td.label label')[0];\n                if (typeof labelElement != 'undefined') {\n                    if (eventObj.element.value == 1) {\n                        labelElement.addClassName('enabled');\n                    } else {\n                        labelElement.removeClassName('enabled');\n                    }\n                }\n            }\n        };\n\n        \/\/ fill eventObj with required elements\n        adminSystemConfig.mapClasses(element, false, function(className) {\n            var requiredElement = $(className.substr(9));\n            if (typeof requiredElement != 'undefined') {\n                eventObj.requires.push(requiredElement);\n            }\n        }, 'requires');\n        $(element).requiresObj = eventObj;\n\n        \/\/ replacing \"Use Default\" action with checking requirements\n        var scopeElement = adminSystemConfig.getScopeElement(element);\n        if (scopeElement) {\n            Event.stopObserving(scopeElement, 'click');\n            Event.observe(scopeElement, 'click', function(event) {\n                toggleValueElements(scopeElement, Element.previous(scopeElement.parentNode));\n                eventObj.checkRequirements();\n            });\n        }\n\n        \/\/ binding events\n        eventObj.requires.each(function(required) {\n            eventObj.bindCheckingObserver(required);\n        });\n        Event.observe(eventObj.element, 'change', eventObj.indicateEnabled);\n        eventObj.checkRequirements();\n        eventObj.indicateEnabled();\n    });\n\/\/]]>\n<\/script>\n",50]]