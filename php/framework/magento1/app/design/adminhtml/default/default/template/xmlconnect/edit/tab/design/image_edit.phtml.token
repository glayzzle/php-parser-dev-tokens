[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE_AFL.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    design\n * @package     default_default\n * @copyright   Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license     http:\/\/opensource.org\/licenses\/afl-3.0.php  Academic Free License (AFL 3.0)\n *\/",2],["T_WHITESPACE","\n",25],["T_CLOSE_TAG","?>\n",26],["T_INLINE_HTML","<div class=\"popup-window-mask\" id=\"image-edit-popup-mask\" style=\"display:none\"><\/div>\n<div id=\"advice-container-image\" class=\"advice-container\" style=\"display:none; color: #D40707;\"><\/div>\n<div id=\"image_edit_block\" class=\"image-edit-popup\" style=\"display: none;\">\n\n    <div class=\"image-edit-popup-head\" id=\"image_edit_popup_head\">",27],["T_OPEN_TAG","<?php ",31],["T_ECHO","echo",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","__",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit Image'",31],")",";",["T_WHITESPACE"," ",31],["T_CLOSE_TAG","?>",31],["T_INLINE_HTML","<\/div>\n    <div class=\"image-edit-popup-content\">\n\n        <div class=\"action-select\">\n            <label for=\"action_type_select\">",31],["T_OPEN_TAG","<?php ",35],["T_ECHO","echo",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","__",35],"(",["T_CONSTANT_ENCAPSED_STRING","'1. Please select type of the action:'",35],")",";",["T_WHITESPACE"," ",35],["T_CLOSE_TAG","?>",35],["T_INLINE_HTML","<\/label>\n            <select id=\"action_type_select\" name=\"action_type_product\" class=\"select\" onchange=\"actionHelper.showActionByType();\">\n                <option value=\"product\">",35],["T_OPEN_TAG","<?php ",37],["T_ECHO","echo",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","__",37],"(",["T_CONSTANT_ENCAPSED_STRING","'Product'",37],")",";",["T_WHITESPACE"," ",37],["T_CLOSE_TAG","?>",37],["T_INLINE_HTML","<\/option>\n                <option value=\"cms\">",37],["T_OPEN_TAG","<?php ",38],["T_ECHO","echo",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","__",38],"(",["T_CONSTANT_ENCAPSED_STRING","'CMS Page'",38],")",";",["T_WHITESPACE"," ",38],["T_CLOSE_TAG","?>",38],["T_INLINE_HTML","<\/option>\n                <option value=\"category\">",38],["T_OPEN_TAG","<?php ",39],["T_ECHO","echo",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","__",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Category'",39],")",";",["T_WHITESPACE"," ",39],["T_CLOSE_TAG","?>",39],["T_INLINE_HTML","<\/option>\n            <\/select>\n        <\/div>\n        <form name=\"image_action_form\" id=\"image_action_form\">\n\n            <div id=\"action_selector_cms\" class=\"action\">\n                <p>",39],["T_OPEN_TAG","<?php ",45],["T_ECHO","echo",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","__",45],"(",["T_CONSTANT_ENCAPSED_STRING","'2. Please select a page'",45],")",";",["T_WHITESPACE"," ",45],["T_CLOSE_TAG","?>",45],["T_INLINE_HTML",":<\/p>\n                <select id=\"action_type_cms\" name=\"action_type_cms\" class=\"select\"\">\n                    <option value=\"0\"><\/option>\n                    ",45],["T_OPEN_TAG","<?php ",48],["T_VARIABLE","$pages",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","Mage",48],["T_DOUBLE_COLON","::",48],["T_STRING","getResourceModel",48],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlconnect\/cms_page_collection'",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","toOptionIdArray",48],"(",")",";",["T_WHITESPACE"," ",48],["T_CLOSE_TAG","?>\n",48],["T_INLINE_HTML","                    ",49],["T_OPEN_TAG","<?php ",49],["T_IF","if",49],["T_WHITESPACE"," ",49],"(","!",["T_STRING","count",49],"(",["T_VARIABLE","$pages",49],")",")",":",["T_CLOSE_TAG","?>\n",49],["T_INLINE_HTML","                        <option value=\"\">",50],["T_OPEN_TAG","<?php ",50],["T_ECHO","echo",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","__",50],"(",["T_CONSTANT_ENCAPSED_STRING","'CMS Pages haven\\'t been found.'",50],")",";",["T_WHITESPACE"," ",50],["T_CLOSE_TAG","?>",50],["T_INLINE_HTML","<\/option>\n                    ",50],["T_OPEN_TAG","<?php ",51],["T_ENDIF","endif",51],";",["T_CLOSE_TAG","?>\n",51],["T_INLINE_HTML","                    ",52],["T_OPEN_TAG","<?php ",52],["T_FOREACH","foreach",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$pages",52],["T_WHITESPACE"," ",52],["T_AS","as",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$page",52],")",":",["T_CLOSE_TAG","?>\n",52],["T_INLINE_HTML","                        <option value=\"",53],["T_OPEN_TAG","<?php ",53],["T_ECHO","echo",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$page",53],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",53],"]",";",["T_WHITESPACE"," ",53],["T_CLOSE_TAG","?>",53],["T_INLINE_HTML","\">",53],["T_OPEN_TAG","<?php ",53],["T_ECHO","echo",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$page",53],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",53],"]",";",["T_WHITESPACE"," ",53],["T_CLOSE_TAG","?>",53],["T_INLINE_HTML","<\/option>\n                    ",53],["T_OPEN_TAG","<?php ",54],["T_ENDFOREACH","endforeach",54],";",["T_CLOSE_TAG","?>\n",54],["T_INLINE_HTML","                <\/select>\n            <\/div>\n\n            <div id=\"action_selector_product\" class=\"action\" style=\"display: none;\">\n                <span id=\"xmlconnect_product_search_indicator\" class=\"autocomplete-indicator\" style=\"display: none\">\n                    <img src=\"",55],["T_OPEN_TAG","<?php ",60],["T_ECHO","echo",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getSkinUrl",60],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/ajax-loader.gif'",60],")",["T_WHITESPACE"," ",60],["T_CLOSE_TAG","?>",60],["T_INLINE_HTML","\" alt=\"",60],["T_OPEN_TAG","<?php ",60],["T_ECHO","echo",60],["T_WHITESPACE"," ",60],["T_STRING","Mage",60],["T_DOUBLE_COLON","::",60],["T_STRING","helper",60],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","quoteEscape",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","__",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Loading...'",60],")",")",["T_WHITESPACE"," ",60],["T_CLOSE_TAG","?>",60],["T_INLINE_HTML","\" class=\"v-middle\"\/>\n                <\/span>\n                ",60],["T_OPEN_TAG","<?php ",62],["T_VARIABLE","$defProductSearch",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","__",62],"(",["T_CONSTANT_ENCAPSED_STRING","'2. Type Product Name'",62],")",["T_WHITESPACE"," ",62],["T_CLOSE_TAG","?>\n",62],["T_INLINE_HTML","                <input id=\"xmlconnect_product_search\" name=\"query\" type=\"text\" class=\"input-text\" value=\"",63],["T_OPEN_TAG","<?php ",63],["T_ECHO","echo",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$defProductSearch",63],["T_WHITESPACE"," ",63],["T_CLOSE_TAG","?>",63],["T_INLINE_HTML","\" onfocus=\"if(this.value=='",63],["T_OPEN_TAG","<?php ",63],["T_ECHO","echo",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$defProductSearch",63],["T_WHITESPACE"," ",63],["T_CLOSE_TAG","?>",63],["T_INLINE_HTML","')this.value=''; \" onblur=\"if(this.value=='')this.value='",63],["T_OPEN_TAG","<?php ",63],["T_ECHO","echo",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$defProductSearch",63],["T_WHITESPACE"," ",63],["T_CLOSE_TAG","?>",63],["T_INLINE_HTML","';\" \/>\n                <div id=\"xmlconnect_product_search_autocomplete\" class=\"autocomplete\"><\/div>\n            <\/div>\n\n            <div id=\"action_selector_category\" class=\"action\">\n                <span id=\"xmlconnect_category_search_indicator\" class=\"autocomplete-indicator\" style=\"display: none\">\n                    <img src=\"",63],["T_OPEN_TAG","<?php ",69],["T_ECHO","echo",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getSkinUrl",69],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/ajax-loader.gif'",69],")",["T_WHITESPACE"," ",69],["T_CLOSE_TAG","?>",69],["T_INLINE_HTML","\" alt=\"",69],["T_OPEN_TAG","<?php ",69],["T_ECHO","echo",69],["T_WHITESPACE"," ",69],["T_STRING","Mage",69],["T_DOUBLE_COLON","::",69],["T_STRING","helper",69],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","quoteEscape",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","__",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Loading...'",69],")",")",["T_WHITESPACE"," ",69],["T_CLOSE_TAG","?>",69],["T_INLINE_HTML","\" class=\"v-middle\"\/>\n                <\/span>\n                ",69],["T_OPEN_TAG","<?php ",71],["T_VARIABLE","$defCategorySearch",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","__",71],"(",["T_CONSTANT_ENCAPSED_STRING","'2. Type Category Name'",71],")",["T_WHITESPACE"," ",71],["T_CLOSE_TAG","?>\n",71],["T_INLINE_HTML","                <input id=\"xmlconnect_category_search\" name=\"query\" type=\"text\" class=\"input-text\" value=\"",72],["T_OPEN_TAG","<?php ",72],["T_ECHO","echo",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$defCategorySearch",72],["T_WHITESPACE"," ",72],["T_CLOSE_TAG","?>",72],["T_INLINE_HTML","\" onfocus=\"if(this.value=='",72],["T_OPEN_TAG","<?php ",72],["T_ECHO","echo",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$defCategorySearch",72],["T_WHITESPACE"," ",72],["T_CLOSE_TAG","?>",72],["T_INLINE_HTML","')this.value=''; \" onblur=\"if(this.value=='')this.value='",72],["T_OPEN_TAG","<?php ",72],["T_ECHO","echo",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$defCategorySearch",72],["T_WHITESPACE"," ",72],["T_CLOSE_TAG","?>",72],["T_INLINE_HTML","';\" \/>\n                <div id=\"xmlconnect_category_search_autocomplete\" class=\"autocomplete\"><\/div>\n            <\/div>\n\n        <\/form>\n    <\/div>\n    <div id=\"action_edit_image_buttons\" class=\"buttons-set\">\n        <button type=\"button\" id=\"action_delete_button\" class=\"scalable delete\" onclick=\"actionHelper.deleteAction();\"><span>",72],["T_OPEN_TAG","<?php ",79],["T_ECHO","echo",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","__",79],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete Action'",79],")",["T_WHITESPACE"," ",79],["T_CLOSE_TAG","?>",79],["T_INLINE_HTML","<\/span><\/button>\n        <button type=\"submit\" id=\"action_save_button\" class=\"scalable\"><span>",79],["T_OPEN_TAG","<?php ",80],["T_ECHO","echo",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","__",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",80],")",["T_WHITESPACE"," ",80],["T_CLOSE_TAG","?>",80],["T_INLINE_HTML","<\/span><\/button>\n        <button type=\"button\" class=\"scalable\" onclick=\"actionHelper.closeDialog();\"><span>",80],["T_OPEN_TAG","<?php ",81],["T_ECHO","echo",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","__",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Cancel'",81],")",["T_WHITESPACE"," ",81],["T_CLOSE_TAG","?>",81],["T_INLINE_HTML","<\/span><\/button>\n    <\/div>\n<\/div>\n<script type=\"text\/javascript\">\n\/\/ <![CDATA[\n    var actionHelper = {\n        currentImage : null,\n        actionTypeList : ['product', 'cms', 'category'],\n        actionTypePrefixId : 'action_selector_',\n        actionSelectorId : 'action_type_select',\n        editImageActionBlockId: 'image_edit_block',\n        selectedEntityId : null,\n        selectedEntityName : null,\n        getActionSelectorValue : function() {\n            actionSelector = $(this.actionSelectorId);\n            return actionSelector.options[actionSelector.selectedIndex].value;\n        },\n        setActionSelectorValue : function(value) {\n            $(this.actionSelectorId).setValue(value);\n        },\n        showActionByType : function() {\n            for (var i = 0; i < this.actionTypeList.length; i++) {\n                $(this.actionTypePrefixId + this.actionTypeList[i]).hide();\n            }\n            $(this.actionTypePrefixId + this.getActionSelectorValue()).show();\n        },\n        setImageElement : function(element) {\n            this.currentImage = element;\n        },\n        getImageElementConfig : function() {\n            if (this.currentImage !== null) {\n                return this.currentImage.config;\n            } else {\n                return null;\n            }\n        },\n        setImageElementConfig : function(image_action_data) {\n            this.currentImage.config.image_action_data = image_action_data;\n            imageItems.updateEditButtonState(this.currentImage.config);\n        },\n        saveSelectedAction : function(elem) {\n            if ($(elem).hasClassName('disabled')) {\n                return\n            }\n            var data = this.getImageElementConfig();\n            for (var i = 0; i < this.actionTypeList.length; i++) {\n                if ($(this.actionTypePrefixId + this.actionTypeList[i]).visible()) {\n                    data.action_type = this.actionTypeList[i];\n                    switch (data.action_type)\n                    {\n                        case 'product':\n                            data.entity_action = this.selectedEntityId;\n                            data.entity_name   = this.selectedEntityName;\n                            break;\n                        case 'cms':\n                            var cmsSelector = $('action_type_cms');\n                            data.entity_action = cmsSelector.options[cmsSelector.selectedIndex].value;\n                            break;\n                        case 'category':\n                            data.entity_action = this.selectedEntityId;\n                            data.entity_name   = this.selectedEntityName;\n                            break;\n                        default:\n                            alert('",81],["T_OPEN_TAG","<?php ",144],["T_ECHO","echo",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","jsQuoteEscape",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","__",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Action type does\\'t recognized.'",144],")",")",";",["T_CLOSE_TAG","?>",144],["T_INLINE_HTML","');\n                            return;\n                    }\n\n                    this.sendActionData(data);\n                }\n            }\n        },\n        sendActionData : function (data) {\n            data.application_id = imageItems.application_id;\n            new Ajax.Request('",144],["T_OPEN_TAG","<?php ",154],["T_ECHO","echo",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getUrl",154],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/saveImageData'",154],")",["T_CLOSE_TAG","?>",154],["T_INLINE_HTML","', {\n                parameters: data,\n                onSuccess : function(transport) {\n                    try {\n                        if (transport.responseText.isJSON()) {\n                            var response = transport.responseText.evalJSON()\n                            if(response.ajaxExpired && response.ajaxRedirect) {\n                                setLocation(response.ajaxRedirect);\n                            }\n                            if (response.error) {\n                                alert(response.error);\n                            }\n                            if (response.success) {\n                                actionHelper.setImageElementConfig(response.image_action_data);\n                                actionHelper.closeDialog();\n                                actionHelper.showAdviceMessage(response.success);\n                            }\n                        } else {\n                            alert(transport.responseText);\n                        }\n                    } catch (e) {\n                        alert(e.message);\n                    }\n                }\n            });\n        },\n        sendDeleteActionData : function (data) {\n            data.application_id = imageItems.application_id;\n            new Ajax.Request('",154],["T_OPEN_TAG","<?php ",182],["T_ECHO","echo",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getUrl",182],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/deleteImageData'",182],")",["T_CLOSE_TAG","?>",182],["T_INLINE_HTML","', {\n                parameters: data,\n                onSuccess : function(transport) {\n                    try {\n                        if (transport.responseText.isJSON()) {\n                            var response = transport.responseText.evalJSON()\n                            if(response.ajaxExpired && response.ajaxRedirect) {\n                                setLocation(response.ajaxRedirect);\n                            }\n                            if (response.error) {\n                                alert(response.error);\n                            }\n                            if (response.success) {\n                                actionHelper.setImageElementConfig(response.image_action_data);\n                                actionHelper.closeDialog();\n                                actionHelper.showAdviceMessage(response.success);\n                            }\n                        } else {\n                            alert(transport.responseText);\n                        }\n                    } catch (e) {\n                        alert(e.message);\n                    }\n                }\n            });\n        },\n        showAdviceMessage : function (msg) {\n            var el = $('advice-container-image').update(msg);\n            new Effect.Appear(el, { duration: 1});\n            new Effect.Fade(el, { delay: 3, duration: 1 });\n        },\n        closeDialog : function () {\n            this.currentImage = null;\n            this.selectedEntityName = this.selectedEntityId = null;\n            $('image-edit-popup-mask').hide();\n            $(actionHelper.editImageActionBlockId).hide();\n            actionHelper.setActionSelectorValue('product');\n            $('xmlconnect_product_search').value = '",182],["T_OPEN_TAG","<?php ",219],["T_ECHO","echo",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$defProductSearch",219],["T_WHITESPACE"," ",219],["T_CLOSE_TAG","?>",219],["T_INLINE_HTML","';\n        },\n        deleteAction : function () {\n            var data = this.getImageElementConfig();\n            this.sendDeleteActionData(data);\n        },\n        startDialog : function(element) {\n            var actionConfig = actionHelper.getImageElementConfig();\n            $('action_save_button').addClassName('disabled');\n            if (actionConfig !== null) {\n                if (actionConfig.image_action_data !== undefined) {\n                    $('image_edit_popup_head').update('",219],["T_OPEN_TAG","<?php ",230],["T_ECHO","echo",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","jsQuoteEscape",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","__",230],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit Action'",230],")",")",["T_WHITESPACE"," ",230],["T_CLOSE_TAG","?>",230],["T_INLINE_HTML","');\n                    $('action_delete_button').show();\n                    actionConfig = actionConfig.image_action_data;\n                    actionHelper.setActionSelectorValue(actionConfig.action_type);\n                    switch (actionConfig.action_type)\n                    {\n                        case 'product':\n                            $('xmlconnect_product_search').value = actionConfig.entity_name;\n                            break;\n                        case 'cms':\n                            $$('#action_type_cms option').each(function(o) {\n                                if (o.value == actionConfig.entity_action) {\n                                    o.selected = true;\n                                    $break;\n                                }\n                            });\n                            break;\n                        case 'category':\n                            $('xmlconnect_category_search').value = actionConfig.entity_name;\n                            break;\n                        default:\n                            alert('",230],["T_OPEN_TAG","<?php ",251],["T_ECHO","echo",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","jsQuoteEscape",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","__",251],"(",["T_CONSTANT_ENCAPSED_STRING","'Action type does\\'t recognized.'",251],")",")",";",["T_CLOSE_TAG","?>",251],["T_INLINE_HTML","');\n                            return;\n                    }\n                } else {\n                    $('image_edit_popup_head').update('",251],["T_OPEN_TAG","<?php ",255],["T_ECHO","echo",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","jsQuoteEscape",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","__",255],"(",["T_CONSTANT_ENCAPSED_STRING","'Add Action'",255],")",")",["T_WHITESPACE"," ",255],["T_CLOSE_TAG","?>",255],["T_INLINE_HTML","');\n                    $('action_delete_button').hide();\n                }\n            } else {\n                actionHelper.setActionSelectorValue('product');\n            }\n            actionHelper.showActionByType();\n            $('image-edit-popup-mask').setStyle({ height: $('html-body').getHeight() + 'px' }).show();\n            $(this.editImageActionBlockId).show();\n        }\n    }\n\n    new Ajax.Autocompleter('xmlconnect_product_search', 'xmlconnect_product_search_autocomplete',\n        '",255],["T_OPEN_TAG","<?php ",268],["T_ECHO","echo",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getUrl",268],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/globalSearch'",268],",",["T_WHITESPACE"," ",268],["T_ARRAY","array",268],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'product'",268],")",")",["T_WHITESPACE"," ",268],["T_CLOSE_TAG","?>",268],["T_INLINE_HTML","',\n        {\n            paramName:'query',\n            minChars:1,\n            indicator:'xmlconnect_product_search_indicator',\n            updateElement:getProductSelectionCallback,\n            evalJSON:'force'\n        }\n    );\n    function getProductSelectionCallback(li) {\n        actionHelper.selectedEntityId = li.getAttribute('id').substring(10);\n        $('xmlconnect_product_search').value = actionHelper.selectedEntityName = li.select('p')[0].innerHTML;\n        $('action_save_button').removeClassName('disabled');\n    }\n    function getCategorySelectionCallback(li) {\n        actionHelper.selectedEntityId = li.getAttribute('id').substring(10);\n        $('xmlconnect_category_search').value = actionHelper.selectedEntityName = li.select('p')[0].innerHTML;\n        $('action_save_button').removeClassName('disabled');\n    }\n\n    new Ajax.Autocompleter('xmlconnect_category_search', 'xmlconnect_category_search_autocomplete',\n        '",268],["T_OPEN_TAG","<?php ",289],["T_ECHO","echo",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getUrl",289],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/globalSearch'",289],",",["T_WHITESPACE"," ",289],["T_ARRAY","array",289],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'category'",289],")",")",["T_WHITESPACE"," ",289],["T_CLOSE_TAG","?>",289],["T_INLINE_HTML","',\n        {\n            paramName:'query',\n            minChars:1,\n            indicator:'xmlconnect_category_search_indicator',\n            updateElement:getCategorySelectionCallback,\n            evalJSON:'force'\n        }\n    );\n\n    document.observe('dom:loaded', function () {\n        $('action_save_button').observe('click', function () {\n            actionHelper.saveSelectedAction(this);\n        });\n\n        $('action_type_select').observe('change', function () {\n            $('action_save_button').addClassName('disabled');\n            $('image_action_form').reset();\n        });\n\n        $('action_type_cms').observe('change', function () {\n            if ( this.value == 0 ) {\n                $('action_save_button').addClassName('disabled');\n            } else {\n                $('action_save_button').removeClassName('disabled');\n            }\n        });\n    });\n\n\/\/]]>\n<\/script>\n",289]]