[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE_AFL.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    design\n * @package     default_default\n * @copyright   Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license     http:\/\/opensource.org\/licenses\/afl-3.0.php  Academic Free License (AFL 3.0)\n *\/",2],["T_WHITESPACE","\n",25],["T_CLOSE_TAG","?>\n",26],["T_OPEN_TAG","<?php\n",27],["T_DOC_COMMENT","\/**\n * @see Mage_Paypal_Block_Adminhtml_System_Config_Fieldset_Global\n * @deprecated since 1.7.0.1\n *\/",28],["T_WHITESPACE","\n",31],["T_CLOSE_TAG","?>\n",32],["T_INLINE_HTML","<table class=\"paypal-selection\" id=\"paypal_checkout\" cellspacing=\"0\">\n    <col width=\"75%\" \/>\n    <col width=\"25%\" \/>\n    <thead>\n        <tr>\n            <th>",33],["T_OPEN_TAG","<?php ",38],["T_ECHO","echo",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","escapeHtml",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getFieldsetLabel",38],"(",")",")",["T_WHITESPACE"," ",38],["T_CLOSE_TAG","?>",38],["T_INLINE_HTML","<\/th>\n            <th class=\"paypal-selection-info\"><a href=\"",38],["T_OPEN_TAG","<?php ",39],["T_ECHO","echo",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","escapeHtml",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getFieldsetHelpUrl",39],"(",")",")",["T_WHITESPACE"," ",39],["T_CLOSE_TAG","?>",39],["T_INLINE_HTML","\">",39],["T_OPEN_TAG","<?php ",39],["T_ECHO","echo",39],["T_WHITESPACE"," ",39],["T_STRING","Mage",39],["T_DOUBLE_COLON","::",39],["T_STRING","helper",39],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal'",39],")",["T_OBJECT_OPERATOR","->",39],["T_STRING","__",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Help'",39],")",["T_CLOSE_TAG","?>",39],["T_INLINE_HTML","<\/a><\/th>\n        <\/tr>\n    <\/thead>\n    <tbody>\n",39],["T_OPEN_TAG","<?php ",43],["T_FOREACH","foreach",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getElements",43],"(",")",["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$htmlId",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$element",43],")",":",["T_WHITESPACE"," ",43],["T_CLOSE_TAG","?>\n",43],["T_INLINE_HTML","        <tr>\n        ",44],["T_OPEN_TAG","<?php ",45],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getIsElementSimplified",45],"(",["T_VARIABLE","$element",45],")",")",":",["T_CLOSE_TAG","?>\n",45],["T_INLINE_HTML","            <td colspan=\"2\" class=\"paypal-selection-simplified\">\n                ",46],["T_OPEN_TAG","<?php ",47],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","hasInheritElement",47],"(",["T_VARIABLE","$element",47],")",")",":",["T_WHITESPACE"," ",47],["T_CLOSE_TAG","?>\n",47],["T_INLINE_HTML","                    <div>",48],["T_OPEN_TAG","<?php ",48],["T_ECHO","echo",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getInheritElementHtml",48],"(",["T_VARIABLE","$element",48],")",["T_WHITESPACE"," ",48],["T_CLOSE_TAG","?>",48],["T_OPEN_TAG","<?php ",48],["T_ECHO","echo",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getInheritElementLabelHtml",48],"(",["T_VARIABLE","$element",48],")",["T_WHITESPACE"," ",48],["T_CLOSE_TAG","?>",48],["T_INLINE_HTML","<\/div>\n                ",48],["T_OPEN_TAG","<?php ",49],["T_ENDIF","endif",49],";",["T_CLOSE_TAG","?>\n",49],["T_INLINE_HTML","                <label for=\"",50],["T_OPEN_TAG","<?php ",50],["T_ECHO","echo",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$htmlId",50],["T_CLOSE_TAG","?>",50],["T_INLINE_HTML","\">",50],["T_OPEN_TAG","<?php ",50],["T_ECHO","echo",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getElementHtml",50],"(",["T_VARIABLE","$element",50],")",["T_WHITESPACE"," ",50],["T_CLOSE_TAG","?>",50],["T_INLINE_HTML","<strong>",50],["T_OPEN_TAG","<?php ",50],["T_ECHO","echo",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getElementLabelTextHtml",50],"(",["T_VARIABLE","$element",50],")",["T_CLOSE_TAG","?>",50],["T_INLINE_HTML","<\/strong>&nbsp;&ndash; ",50],["T_OPEN_TAG","<?php ",50],["T_ECHO","echo",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","escapeHtml",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getElementComment",50],"(",["T_VARIABLE","$element",50],")",")",["T_CLOSE_TAG","?>",50],["T_INLINE_HTML","<\/label>\n            <\/td>\n        ",50],["T_OPEN_TAG","<?php ",52],["T_ELSE","else",52],":",["T_CLOSE_TAG","?>\n",52],["T_INLINE_HTML","            <td>\n                ",53],["T_OPEN_TAG","<?php ",54],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","hasInheritElement",54],"(",["T_VARIABLE","$element",54],")",")",":",["T_WHITESPACE"," ",54],["T_CLOSE_TAG","?>\n",54],["T_INLINE_HTML","                    <div>",55],["T_OPEN_TAG","<?php ",55],["T_ECHO","echo",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getInheritElementHtml",55],"(",["T_VARIABLE","$element",55],")",["T_WHITESPACE"," ",55],["T_CLOSE_TAG","?>",55],["T_OPEN_TAG","<?php ",55],["T_ECHO","echo",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getInheritElementLabelHtml",55],"(",["T_VARIABLE","$element",55],")",["T_WHITESPACE"," ",55],["T_CLOSE_TAG","?>",55],["T_INLINE_HTML","<\/div>\n                ",55],["T_OPEN_TAG","<?php ",56],["T_ENDIF","endif",56],";",["T_CLOSE_TAG","?>\n",56],["T_INLINE_HTML","                <label for=\"",57],["T_OPEN_TAG","<?php ",57],["T_ECHO","echo",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$htmlId",57],["T_CLOSE_TAG","?>",57],["T_INLINE_HTML","\">",57],["T_OPEN_TAG","<?php ",57],["T_ECHO","echo",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getElementHtml",57],"(",["T_VARIABLE","$element",57],")",["T_WHITESPACE"," ",57],["T_CLOSE_TAG","?>",57],["T_INLINE_HTML","<strong>",57],["T_OPEN_TAG","<?php ",57],["T_ECHO","echo",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getElementLabelTextHtml",57],"(",["T_VARIABLE","$element",57],")",["T_CLOSE_TAG","?>",57],["T_INLINE_HTML","<\/strong>&nbsp;&ndash; ",57],["T_OPEN_TAG","<?php ",57],["T_ECHO","echo",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getElementComment",57],"(",["T_VARIABLE","$element",57],")",["T_CLOSE_TAG","?>",57],["T_INLINE_HTML","<\/label>\n            <\/td>\n            <td class=\"paypal-selection-info\">\n                ",57],["T_OPEN_TAG","<?php ",60],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$url",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getElementOriginalData",60],"(",["T_VARIABLE","$element",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'demo_url'",60],")",")",":",["T_CLOSE_TAG","?>\n",60],["T_INLINE_HTML","                    <a id=\"",61],["T_OPEN_TAG","<?php ",61],["T_ECHO","echo",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$element",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getHtmlId",61],"(",")",["T_CLOSE_TAG","?>",61],["T_INLINE_HTML","_demo_url\" href=\"",61],["T_OPEN_TAG","<?php ",61],["T_ECHO","echo",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","escapeHtml",61],"(",["T_VARIABLE","$url",61],")",["T_WHITESPACE"," ",61],["T_CLOSE_TAG","?>",61],["T_INLINE_HTML","\">",61],["T_OPEN_TAG","<?php ",61],["T_ECHO","echo",61],["T_WHITESPACE"," ",61],["T_STRING","Mage",61],["T_DOUBLE_COLON","::",61],["T_STRING","helper",61],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal'",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","__",61],"(",["T_CONSTANT_ENCAPSED_STRING","'View Demo'",61],")",["T_CLOSE_TAG","?>",61],["T_INLINE_HTML","<\/a> |\n                ",61],["T_OPEN_TAG","<?php ",62],["T_ENDIF","endif",62],";",["T_CLOSE_TAG","?>\n",62],["T_INLINE_HTML","                ",63],["T_OPEN_TAG","<?php ",63],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$url",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getElementOriginalData",63],"(",["T_VARIABLE","$element",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'more_url'",63],")",")",":",["T_CLOSE_TAG","?>\n",63],["T_INLINE_HTML","                    <a id=\"",64],["T_OPEN_TAG","<?php ",64],["T_ECHO","echo",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$element",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getHtmlId",64],"(",")",["T_CLOSE_TAG","?>",64],["T_INLINE_HTML","_more_url\" href=\"",64],["T_OPEN_TAG","<?php ",64],["T_ECHO","echo",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","escapeHtml",64],"(",["T_VARIABLE","$url",64],")",["T_WHITESPACE"," ",64],["T_CLOSE_TAG","?>",64],["T_INLINE_HTML","\">",64],["T_OPEN_TAG","<?php ",64],["T_ECHO","echo",64],["T_WHITESPACE"," ",64],["T_STRING","Mage",64],["T_DOUBLE_COLON","::",64],["T_STRING","helper",64],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","__",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Learn More'",64],")",["T_CLOSE_TAG","?>",64],["T_INLINE_HTML","<\/a>\n                ",64],["T_OPEN_TAG","<?php ",65],["T_ENDIF","endif",65],";",["T_CLOSE_TAG","?>\n",65],["T_INLINE_HTML","            <\/td>\n        ",66],["T_OPEN_TAG","<?php ",67],["T_ENDIF","endif",67],";",["T_CLOSE_TAG","?>\n",67],["T_INLINE_HTML","        <\/tr>\n",68],["T_OPEN_TAG","<?php ",69],["T_ENDFOREACH","endforeach",69],";",["T_CLOSE_TAG","?>\n",69],["T_INLINE_HTML","    <\/tbody>\n<\/table>\n\n<script type=\"text\/javascript\">\n\nEvent.observe(window, 'load', function() {\n    var pConfig = new PaypalConfig;\n    Element.observe('paypal_account_business_account', 'change', pConfig.trackBusinessAccount.bind(pConfig));\n    Element.observe('paypal_account_merchant_country', 'change', pConfig.trackMerchantCountry.bind(pConfig));\n    Element.observe('paypal_global_wpp', 'click', pConfig.trackWpp.bind(pConfig));\n    Element.observe('paypal_global_wpp_pe', 'click', pConfig.trackWppPe.bind(pConfig));\n    Element.observe('paypal_global_payflow_link', 'click', pConfig.trackWppPl.bind(pConfig));\n    Element.observe('paypal_global_payflow_advanced', 'click', pConfig.trackWppPa.bind(pConfig));\n    Element.observe('paypal_global_hosted_pro', 'click', pConfig.trackHss.bind(pConfig));\n    Element.observe('paypal_global_verisign', 'click', pConfig.trackPayflowpro.bind(pConfig));\n    ['ec','wps','ecpe'].each(function(m) {\n        Element.observe(pConfig.getMethodSwitcher(m).id, 'click', pConfig.trackMethod.bind(pConfig, m));\n    });\n    pConfig.fastMode = true;\n    pConfig.trackMerchantCountry();\n    pConfig.trackBusinessAccount();\n    pConfig.trackWpp();\n    pConfig.trackWppPl();\n    pConfig.trackWppPa();\n    pConfig.trackWppPe();\n    pConfig.trackWps();\n    pConfig.trackHss();\n    ['ec','wps','ecpe'].each(function(m) {\n        pConfig.trackMethod(m);\n    });\n    pConfig.trackPayflowpro();\n    pConfig.fastMode = false;\n    pConfig.destruct();\n});\n\nPaypalConfig = Class.create();\nPaypalConfig.prototype = {\n    initialize: function(){\n        this.methods = $H({\n                ec: $H({\n                    switcher: 'express',\n                    fieldset: 'express',\n                    backendConfig : $H(",70],["T_OPEN_TAG","<?php ",112],["T_ECHO","echo",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getElementBackendConfig",112],"(",["T_WHITESPACE","\n                        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getElement",113],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_global_express'",113],")",")",";",["T_WHITESPACE","\n                    ",113],["T_CLOSE_TAG","?>",114],["T_INLINE_HTML",")\n                }),\n                wps: $H({\n                    switcher: 'wps',\n                    fieldset: 'wps',\n                    backendConfig : $H(",114],["T_OPEN_TAG","<?php ",119],["T_ECHO","echo",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getElementBackendConfig",119],"(",["T_WHITESPACE","\n                        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getElement",120],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_global_wps'",120],")",")",";",["T_WHITESPACE","\n                    ",120],["T_CLOSE_TAG","?>",121],["T_INLINE_HTML",")\n                }),\n                wpp: $H({\n                    switcher: 'wpp',\n                    fieldset: 'wpp',\n                    backendConfig : $H(",121],["T_OPEN_TAG","<?php ",126],["T_ECHO","echo",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getElementBackendConfig",126],"(",["T_WHITESPACE","\n                        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getElement",127],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_global_wpp'",127],")",")",";",["T_WHITESPACE","\n                    ",127],["T_CLOSE_TAG","?>",128],["T_INLINE_HTML",")\n                }),\n                wpppe: $H({\n                    switcher: 'wpp_pe',\n                    fieldset: 'wpp_pe',\n                    backendConfig : $H(",128],["T_OPEN_TAG","<?php ",133],["T_ECHO","echo",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getElementBackendConfig",133],"(",["T_WHITESPACE","\n                        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getElement",134],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_global_wpp_pe'",134],")",")",";",["T_WHITESPACE","\n                    ",134],["T_CLOSE_TAG","?>",135],["T_INLINE_HTML",")\n                }),\n                wpppl: $H({\n                    switcher: 'payflow_link',\n                    fieldset: 'payflow_link',\n                    backendConfig : $H(",135],["T_OPEN_TAG","<?php ",140],["T_ECHO","echo",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getElementBackendConfig",140],"(",["T_WHITESPACE","\n                        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getElement",141],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_global_payflow_link'",141],")",")",";",["T_WHITESPACE","\n                    ",141],["T_CLOSE_TAG","?>",142],["T_INLINE_HTML",")\n                }),\n                wpppa: $H({\n                    switcher: 'payflow_advanced',\n                    fieldset: 'payflow_advanced',\n                    backendConfig : $H(",142],["T_OPEN_TAG","<?php ",147],["T_ECHO","echo",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getElementBackendConfig",147],"(",["T_WHITESPACE","\n                        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getElement",148],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_global_payflow_advanced'",148],")",")",";",["T_WHITESPACE","\n                    ",148],["T_CLOSE_TAG","?>",149],["T_INLINE_HTML",")\n                }),\n                ecpe: $H({\n                    switcher: 'express_pe',\n                    fieldset: 'express_pe',\n                    backendConfig : $H(",149],["T_OPEN_TAG","<?php ",154],["T_ECHO","echo",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getElementBackendConfig",154],"(",["T_WHITESPACE","\n                        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getElement",155],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_global_express_pe'",155],")",")",";",["T_WHITESPACE","\n                    ",155],["T_CLOSE_TAG","?>",156],["T_INLINE_HTML",")\n                }),\n                payflowpro: $H({\n                    switcher: 'verisign',\n                    fieldset: 'verisign',\n                    backendConfig : $H(",156],["T_OPEN_TAG","<?php ",161],["T_ECHO","echo",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getElementBackendConfig",161],"(",["T_WHITESPACE","\n                        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getElement",162],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_global_verisign'",162],")",")",";",["T_WHITESPACE","\n                    ",162],["T_CLOSE_TAG","?>",163],["T_INLINE_HTML",")\n                }),\n                hosted_pro: $H({\n                    switcher: 'hosted_pro',\n                    fieldset: 'hosted_pro',\n                    backendConfig : $H(",163],["T_OPEN_TAG","<?php ",168],["T_ECHO","echo",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getElementBackendConfig",168],"(",["T_WHITESPACE","\n                        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getElement",169],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_global_hosted_pro'",169],")",")",";",["T_WHITESPACE","\n                    ",169],["T_CLOSE_TAG","?>",170],["T_INLINE_HTML",")\n                })\n        });\n        this.disabledMethods = [];\n    },\n\n    getMethods: function()\n    {\n        return this.methods;\n    },\n\n    getMethod: function(method)\n    {\n        return this.methods.get(method);\n    },\n\n    isDisabled: function(method)\n    {\n        return this.disabledMethods.indexOf(method) != -1;\n    },\n\n    isHidden: function(method)\n    {\n        if (this.getMethod(method).get('hidden')) {\n            return true;\n        }\n        return false;\n    },\n\n    getMethodFieldset: function(method)\n    {\n        var fieldsetId = 'paypal_' + this.getMethod(method).get('fieldset');\n        return $(fieldsetId);\n    },\n\n    getMethodFieldsetHeadingLink: function(fieldset)\n    {\n        var heading = fieldset.previous('div');\n        return heading.down('a');\n    },\n\n    getMethodSwitcher: function(method)\n    {\n        var switcherId = 'paypal_global_' + this.getMethod(method).get('switcher');\n        return $(switcherId);\n    },\n\n    getMethodSwitcherValue: function(method)\n    {\n        var switcherValueId = 'paypal_global_' + this.getMethod(method).get('switcher') + '_value';\n        return $(switcherValueId);\n    },\n\n    getMethodSwitcherLabelText: function(method)\n    {\n        var switcherValueId = 'paypal_global_' + this.getMethod(method).get('switcher') + '_label_text';\n        return $(switcherValueId);\n    },\n\n    getMethodLinkDemoUrl: function(method)\n    {\n        return $('paypal_global_' + this.getMethod(method).get('switcher') + '_demo_url');\n    },\n\n    getMethodLinkMoreUrl: function(method)\n    {\n        return $('paypal_global_' + this.getMethod(method).get('switcher') + '_more_url');\n    },\n\n    getMethodSwitcherInherit: function(method)\n    {\n        var inheritId = 'paypal_global_' + this.getMethod(method).get('switcher') + '_inherit';\n        return $(inheritId);\n    },\n\n    markMethodAsReadonly: function(method, readonly)\n    {\n        if (readonly == undefined) {\n            readonly = true;\n        }\n        if (this.isDisabled(method) && !readonly || this.isHidden(method)) {\n            return;\n        }\n        if (this.fastMode) {\n            this.getMethod(method).set('readonly', readonly);\n            return;\n        }\n        var inherit = this.getMethodSwitcherInherit(method);\n        if (inherit != undefined) {\n            inherit.disabled = readonly;\n            if (!inherit.disabled && inherit.checked) {\n                readonly = true;\n            }\n        }\n        this.getMethodSwitcherValue(method).value = this.getMethodSwitcher(method).checked ? '1' : '0';\n        this.getMethodSwitcher(method).disabled = readonly;\n    },\n\n    enableMethod: function(method, readonly)\n    {\n        if (this.isDisabled(method) || this.isHidden(method)) {\n            return;\n        }\n        readonly = (readonly == undefined ? false : readonly);\n        if (this.fastMode) {\n            this.getMethod(method).set('disabled', false);\n            this.getMethod(method).set('readonly', readonly);\n            return;\n        }\n        this.getMethodSwitcher(method).checked = true;\n        this.markMethodAsReadonly(method, readonly);\n        this.toggleFieldset(this.getMethodFieldset(method), this.getMethodSwitcher(method));\n    },\n\n    disableMethod: function(method, readonly)\n    {\n        if (this.isHidden(method)) {\n            return;\n        }\n        readonly = (readonly == undefined ? true : readonly);\n        if (this.fastMode) {\n            this.getMethod(method).set('disabled', true);\n            this.getMethod(method).set('readonly', readonly);\n            return;\n        }\n        this.getMethodSwitcher(method).checked = false;\n        this.markMethodAsReadonly(method, readonly);\n        this.toggleFieldset(this.getMethodFieldset(method), this.getMethodSwitcher(method));\n    },\n\n    toggleMethodVisibility: function(method, isHidden)\n    {\n        var selection = this.getMethodSwitcher(method).up('tr');\n        var fieldset = this.getMethodFieldset(method);\n        var fieldsetHead = fieldset.previous('div');\n        [selection, fieldset, fieldsetHead].each(function(e) {\n            isHidden ? e.hide() : e.show();\n        });\n        \/\/ do not show fieldset for turned off methods\n        if (!isHidden && !this.getMethodSwitcher(method).checked) {\n            fieldset.hide();\n        }\n        this.getMethod(method).set('hidden', isHidden);\n    },\n\n    hideMethod: function(method)\n    {\n        this.toggleMethodVisibility(method, true);\n    },\n\n    showMethod: function(method)\n    {\n        this.toggleMethodVisibility(method, false);\n    },\n\n    trackMethod: function(method)\n    {\n        var switcher = this.getMethodSwitcher(method);\n        if (!switcher.checked && this.fastMode || !this.fastMode) {\n            this.toggleFieldset(this.getMethodFieldset(method), switcher);\n        }\n        this.getMethodSwitcherValue(method).value = switcher.checked ? '1' : '0';\n    },\n\n    trackMerchantCountry: function()\n    {\n        this.disabledMethods = [];\n        this.getMethods().keys().each(function(methodKey) {\n            this.applyMethodConfig(methodKey);\n        }.bind(this));\n\n        this.trackBusinessAccount();\n        this.trackWpp();\n        this.trackWppPe();\n        this.trackWps();\n    },\n\n    applyMethodConfig: function(methodKey)\n    {\n        var country = $('paypal_account_merchant_country').value;\n        var config = this.getMethod(methodKey).get('backendConfig');\n        if (!config) {\n            return false;\n        }\n\n        var isMethodEnable = false;\n        var enableForCountries = config.get('enable_for_countries');\n        var disableForCountries = config.get('disable_for_countries');\n        var labels = config.get('labels');\n\n        if (enableForCountries\n            && (enableForCountries.indexOf(country) > -1 || enableForCountries.indexOf('all') > -1)) {\n            isMethodEnable = true;\n        }\n        if (disableForCountries\n            && (disableForCountries.indexOf(country) > -1 || disableForCountries.indexOf('all') > -1)) {\n            isMethodEnable = false;\n        }\n\n        if (isMethodEnable) {\n            this.showMethod(methodKey);\n            this.markMethodAsReadonly(methodKey, false);\n        } else {\n            this.disableMethod(methodKey);\n            this.disabledMethods.push(methodKey);\n            this.hideMethod(methodKey);\n        }\n\n        if (labels) {\n            var switcherLabelElement = this.getMethodSwitcherLabelText(methodKey);\n            var fieldsetLabelElement = this.getMethodFieldsetHeadingLink(this.getMethodFieldset(methodKey));\n            if (!labels['default']) {\n                labels['default'] = {\n                    switcher: switcherLabelElement.innerHTML,\n                    fieldset: fieldsetLabelElement.innerHTML\n                };\n            }\n            var labelConfig = labels[country];\n            if (!labelConfig) {\n                labelConfig = labels['default'];\n            }\n            switcherLabelElement.update(labelConfig['switcher']);\n            fieldsetLabelElement.update(labelConfig['fieldset']);\n        }\n\n        var urls = config.get('urls');\n        if (urls) {\n            var linkMoreUrl = this.getMethodLinkMoreUrl(methodKey);\n            if (linkMoreUrl) {\n                if (!urls['more_url']) {\n                    urls['more_url'] = linkMoreUrl.readAttribute('href');\n                }\n\n                var moreUrl = urls[country];\n                if (!moreUrl && urls['more_url']) {\n                    var moreUrl = {\n                        more_url: urls['more_url']\n                    };\n                }\n\n                linkMoreUrl.writeAttribute('href', moreUrl['more_url']);\n            }\n\n            var linkDemoUrl = this.getMethodLinkDemoUrl(methodKey);\n            if (linkDemoUrl) {\n                if (!urls['demo_url']) {\n                    urls['demo_url'] = linkDemoUrl.readAttribute('href');\n                }\n\n                var demoUrl = urls[country];\n                if (!demoUrl && urls['demo_url']) {\n                    var demoUrl = {\n                        demo_url: urls['demo_url']\n                    };\n                }\n\n                linkDemoUrl.writeAttribute('href', demoUrl['demo_url']);\n            }\n        }\n    },\n\n    trackBusinessAccount: function()\n    {\n        var elem = $('paypal_account_business_account');\n        if (!Validation.validate(elem) || !elem.value) {\n            this.disableMethod('wps', true);\n            this.disableMethod('ec', true);\n            this.disabledMethods.push('wps','ec');\n        } else {\n            this.disabledMethods = this.disabledMethods.without('wps','ec');\n            this.markMethodAsReadonly('wps',false);\n            this.markMethodAsReadonly('ec',false);\n        }\n    },\n\n    trackWpp: function()\n    {\n        var enabled = this.getMethodSwitcher('wpp').checked;\n        var wpppeEnabled = this.getMethodSwitcher('wpppe').checked;\n\n        if (enabled) {\n            this.enableMethod('wpp',false);\n            if (!wpppeEnabled) {\n                this.enableMethod('ec',true);\n            }\n        } else {\n            this.disableMethod('wpp',false);\n            if (!wpppeEnabled) {\n                this.markMethodAsReadonly('ec',false);\n            }\n        }\n        this.trackWps();\n    },\n\n    trackWppPe: function()\n    {\n        this.trackMethod('wpppe');\n        this.trackEcpe();\n        this.trackWps();\n    },\n\n    trackWppPl: function()\n    {\n        this.trackMethod('wpppl');\n    },\n\n    trackWppPa: function()\n    {\n        this.trackMethod('wpppa');\n    },\n\n    trackHss: function()\n    {\n        this.trackMethod('hosted_pro');\n    },\n\n    trackPayflowpro: function()\n    {\n        this.trackMethod('payflowpro');\n        this.trackEcpe();\n    },\n\n    trackEcpe: function()\n    {\n        var wpppeEnabled = this.getMethodSwitcher('wpppe').checked;\n        if (wpppeEnabled) {\n            \/\/ Do not enable ecpe based on wpppe state on page load\n            if (!this.fastMode) {\n                this.enableMethod('ecpe',true);\n            } else {\n                this.markMethodAsReadonly('ecpe', true);\n            }\n            this.disableMethod('ec',true);\n            return;\n        } else {\n            if (!this.getMethodSwitcher('wpp').checked) {\n                this.markMethodAsReadonly('ec', false);\n            } else {\n                this.enableMethod('ec',true);\n            }\n        }\n        var disabled = !wpppeEnabled && !this.getMethodSwitcher('payflowpro').checked;\n        if (disabled) {\n            this.disableMethod('ecpe', true);\n        } else {\n            this.markMethodAsReadonly('ecpe', false);\n        }\n    },\n\n    trackWps: function()\n    {\n        var disabled = this.getMethodSwitcher('wpp').checked || this.getMethodSwitcher('wpppe').checked;\n        if (disabled) {\n            this.disableMethod('wps', true);\n        } else {\n            this.markMethodAsReadonly('wps',false);\n        }\n    },\n\n    enableRow: function(rowId)\n    {\n        $(rowId).select('input','select').each(function(e) {\n            e.disabled = false;\n        });\n        $(rowId).show();\n    },\n\n    disableRow: function(rowId)\n    {\n        $(rowId).select('input','select').each(function(e) {\n            e.disabled = true;\n        });\n        $(rowId).hide();\n    },\n\n    toggleFieldset: function(fieldset, checkbox)\n    {\n        var isHidden = !checkbox.checked;\n        this.toggleValueElements(checkbox, fieldset, isHidden);\n        isHidden ? fieldset.hide() : fieldset.show();\n        var heading = fieldset.previous('div');\n        var headingLink = this.getMethodFieldsetHeadingLink(fieldset);\n        isHidden ? heading.addClassName('disabled') : heading.removeClassName('disabled');\n        if (isHidden) {\n            headingLink.oldHref = headingLink.href;\n            headingLink.oldOnclick = headingLink.onclick;\n            headingLink.onclick = \"return false;\";\n            headingLink.href = \"javascript:void(0)\";\n        } else {\n            if (headingLink.oldOnclick && headingLink.oldHref) {\n                headingLink.onclick = headingLink.oldOnclick;\n                headingLink.href = headingLink.oldHref;\n            }\n        }\n    },\n\n    toggleValueElements: function(checkbox, container, checked)\n    {\n        var isDisabled = (checked != undefined ? checked : $(checkbox).checked);\n        var elemInherit, currIsDisabled;\n        $(container).select('select', 'input', 'textarea', 'button').each (function(elem) {\n            \/\/ avoid inherit checkbox functionality rewrite\n            currIsDisabled = isDisabled;\n            if (!currIsDisabled) {\n                elemInherit = $(elem.id + '_inherit');\n                if (elemInherit != undefined && elemInherit.checked) {\n                    currIsDisabled = true;\n                }\n            }\n            elem.disabled=currIsDisabled;\n            if (currIsDisabled) {\n                elem.addClassName('disabled');\n            } else {\n                elem.removeClassName('disabled');\n            }\n        });\n    },\n\n    destruct: function()\n    {\n        this.getMethods().each(function(method) {\n            if (method.value.get('disabled') != undefined) {\n                method.value.get('disabled') ? this.disableMethod(method.key) : this.enableMethod(method.key);\n            }\n            if (method.value.get('readonly') != undefined) {\n                this.markMethodAsReadonly(method.key, method.value.get('readonly'));\n            }\n        }.bind(this));\n    }\n}\n<\/script>\n",170]]