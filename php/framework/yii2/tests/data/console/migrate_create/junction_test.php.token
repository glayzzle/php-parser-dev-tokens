[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_RETURN","return",3],["T_WHITESPACE","\n        ",3],["T_VARIABLE","$code",4],["T_WHITESPACE"," ",4],"=",["T_WHITESPACE"," ",4],["T_START_HEREDOC","<<<CODE\n",4],["T_ENCAPSED_AND_WHITESPACE","<?php\n\nuse yii\\db\\Migration;\n\n\/**\n * Handles the creation of table `post_tag`.\n * Has foreign keys to the tables:\n *\n * - `post`\n * - `tag`\n *\/\nclass ",5],["T_CURLY_OPEN","{",16],["T_VARIABLE","$class",16],"}",["T_ENCAPSED_AND_WHITESPACE"," extends Migration\n{\n    \/**\n     * @inheritdoc\n     *\/\n    public function up()\n    {\n        \\$this->createTable('post_tag', [\n            'post_id' => \\$this->integer(),\n            'tag_id' => \\$this->integer(),\n            'PRIMARY KEY(post_id, tag_id)',\n        ]);\n\n        \/\/ creates index for column `post_id`\n        \\$this->createIndex(\n            'idx-post_tag-post_id',\n            'post_tag',\n            'post_id'\n        );\n\n        \/\/ add foreign key for table `post`\n        \\$this->addForeignKey(\n            'fk-post_tag-post_id',\n            'post_tag',\n            'post_id',\n            'post',\n            'id',\n            'CASCADE'\n        );\n\n        \/\/ creates index for column `tag_id`\n        \\$this->createIndex(\n            'idx-post_tag-tag_id',\n            'post_tag',\n            'tag_id'\n        );\n\n        \/\/ add foreign key for table `tag`\n        \\$this->addForeignKey(\n            'fk-post_tag-tag_id',\n            'post_tag',\n            'tag_id',\n            'tag',\n            'id',\n            'CASCADE'\n        );\n    }\n\n    \/**\n     * @inheritdoc\n     *\/\n    public function down()\n    {\n        \/\/ drops foreign key for table `post`\n        \\$this->dropForeignKey(\n            'fk-post_tag-post_id',\n            'post_tag'\n        );\n\n        \/\/ drops index for column `post_id`\n        \\$this->dropIndex(\n            'idx-post_tag-post_id',\n            'post_tag'\n        );\n\n        \/\/ drops foreign key for table `tag`\n        \\$this->dropForeignKey(\n            'fk-post_tag-tag_id',\n            'post_tag'\n        );\n\n        \/\/ drops index for column `tag_id`\n        \\$this->dropIndex(\n            'idx-post_tag-tag_id',\n            'post_tag'\n        );\n\n        \\$this->dropTable('post_tag');\n    }\n}\n\n",16],["T_END_HEREDOC","CODE",97],";",["T_WHITESPACE","\n",97]]