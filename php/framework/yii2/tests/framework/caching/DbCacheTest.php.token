[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","yiiunit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","framework",3],["T_NS_SEPARATOR","\\",3],["T_STRING","caching",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","yii",5],["T_NS_SEPARATOR","\\",5],["T_STRING","caching",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DbCache",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Class for testing file cache backend\n * @group db\n * @group caching\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","DbCacheTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","CacheTestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_PRIVATE","private",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$_cacheInstance",14],";",["T_WHITESPACE","\n    ",14],["T_PRIVATE","private",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$_connection",15],";",["T_WHITESPACE","\n\n    ",15],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","setUp",17],"(",")",["T_WHITESPACE","\n    ",17],"{",["T_WHITESPACE","\n        ",18],["T_IF","if",19],["T_WHITESPACE"," ",19],"(","!",["T_STRING","extension_loaded",19],"(",["T_CONSTANT_ENCAPSED_STRING","'pdo'",19],")",["T_WHITESPACE"," ",19],["T_BOOLEAN_OR","||",19],["T_WHITESPACE"," ",19],"!",["T_STRING","extension_loaded",19],"(",["T_CONSTANT_ENCAPSED_STRING","'pdo_mysql'",19],")",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n            ",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","markTestSkipped",20],"(",["T_CONSTANT_ENCAPSED_STRING","'pdo and pdo_mysql extensions are required.'",20],")",";",["T_WHITESPACE","\n        ",20],"}",["T_WHITESPACE","\n\n        ",21],["T_STRING","parent",23],["T_DOUBLE_COLON","::",23],["T_STRING","setUp",23],"(",")",";",["T_WHITESPACE","\n\n        ",23],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getConnection",25],"(",")",["T_OBJECT_OPERATOR","->",25],["T_STRING","createCommand",25],"(",["T_CONSTANT_ENCAPSED_STRING","\"\n            CREATE TABLE IF NOT EXISTS cache (\n                id char(128) NOT NULL,\n                expire int(11) DEFAULT NULL,\n                data LONGBLOB,\n                PRIMARY KEY (id),\n                KEY expire (expire)\n            );\n        \"",25],")",["T_OBJECT_OPERATOR","->",33],["T_STRING","execute",33],"(",")",";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @param  bool            $reset whether to clean up the test database\n     * @return \\yii\\db\\Connection\n     *\/",36],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","getConnection",40],"(",["T_VARIABLE","$reset",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","true",40],")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_connection",42],["T_WHITESPACE"," ",42],["T_IS_IDENTICAL","===",42],["T_WHITESPACE"," ",42],["T_STRING","null",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_VARIABLE","$databases",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","self",43],["T_DOUBLE_COLON","::",43],["T_STRING","getParam",43],"(",["T_CONSTANT_ENCAPSED_STRING","'databases'",43],")",";",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$params",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$databases",44],"[",["T_CONSTANT_ENCAPSED_STRING","'mysql'",44],"]",";",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$db",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","yii",45],["T_NS_SEPARATOR","\\",45],["T_STRING","db",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Connection",45],";",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$db",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","dsn",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$params",46],"[",["T_CONSTANT_ENCAPSED_STRING","'dsn'",46],"]",";",["T_WHITESPACE","\n            ",46],["T_VARIABLE","$db",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","username",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$params",47],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",47],"]",";",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$db",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","password",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$params",48],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",48],"]",";",["T_WHITESPACE","\n            ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$reset",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n                ",49],["T_VARIABLE","$db",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","open",50],"(",")",";",["T_WHITESPACE","\n                ",50],["T_VARIABLE","$lines",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","explode",51],"(",["T_CONSTANT_ENCAPSED_STRING","';'",51],",",["T_WHITESPACE"," ",51],["T_STRING","file_get_contents",51],"(",["T_VARIABLE","$params",51],"[",["T_CONSTANT_ENCAPSED_STRING","'fixture'",51],"]",")",")",";",["T_WHITESPACE","\n                ",51],["T_FOREACH","foreach",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$lines",52],["T_WHITESPACE"," ",52],["T_AS","as",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$line",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                    ",52],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_STRING","trim",53],"(",["T_VARIABLE","$line",53],")",["T_WHITESPACE"," ",53],["T_IS_NOT_IDENTICAL","!==",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","''",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n                        ",53],["T_VARIABLE","$db",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","pdo",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","exec",54],"(",["T_VARIABLE","$line",54],")",";",["T_WHITESPACE","\n                    ",54],"}",["T_WHITESPACE","\n                ",55],"}",["T_WHITESPACE","\n            ",56],"}",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_connection",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$db",58],";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n\n        ",59],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_connection",61],";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @return DbCache\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","getCacheInstance",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_cacheInstance",69],["T_WHITESPACE"," ",69],["T_IS_IDENTICAL","===",69],["T_WHITESPACE"," ",69],["T_STRING","null",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_cacheInstance",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","DbCache",70],"(","[",["T_CONSTANT_ENCAPSED_STRING","'db'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getConnection",70],"(",")","]",")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_cacheInstance",73],";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","testExpire",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$cache",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getCacheInstance",78],"(",")",";",["T_WHITESPACE","\n\n        ",78],["T_STATIC","static",80],["T_DOUBLE_COLON","::",80],["T_VARIABLE","$time",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","time",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertTrue",81],"(",["T_VARIABLE","$cache",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","set",81],"(",["T_CONSTANT_ENCAPSED_STRING","'expire_test'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'expire_test'",81],",",["T_WHITESPACE"," ",81],["T_LNUMBER","2",81],")",")",";",["T_WHITESPACE","\n        ",81],["T_STATIC","static",82],["T_DOUBLE_COLON","::",82],["T_VARIABLE","$time",82],["T_INC","++",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEquals",83],"(",["T_CONSTANT_ENCAPSED_STRING","'expire_test'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$cache",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","get",83],"(",["T_CONSTANT_ENCAPSED_STRING","'expire_test'",83],")",")",";",["T_WHITESPACE","\n        ",83],["T_STATIC","static",84],["T_DOUBLE_COLON","::",84],["T_VARIABLE","$time",84],["T_INC","++",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertFalse",85],"(",["T_VARIABLE","$cache",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","get",85],"(",["T_CONSTANT_ENCAPSED_STRING","'expire_test'",85],")",")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testExpireAdd",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$cache",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getCacheInstance",90],"(",")",";",["T_WHITESPACE","\n\n        ",90],["T_STATIC","static",92],["T_DOUBLE_COLON","::",92],["T_VARIABLE","$time",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NS_SEPARATOR","\\",92],["T_STRING","time",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertTrue",93],"(",["T_VARIABLE","$cache",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","add",93],"(",["T_CONSTANT_ENCAPSED_STRING","'expire_testa'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'expire_testa'",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","2",93],")",")",";",["T_WHITESPACE","\n        ",93],["T_STATIC","static",94],["T_DOUBLE_COLON","::",94],["T_VARIABLE","$time",94],["T_INC","++",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEquals",95],"(",["T_CONSTANT_ENCAPSED_STRING","'expire_testa'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$cache",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","get",95],"(",["T_CONSTANT_ENCAPSED_STRING","'expire_testa'",95],")",")",";",["T_WHITESPACE","\n        ",95],["T_STATIC","static",96],["T_DOUBLE_COLON","::",96],["T_VARIABLE","$time",96],["T_INC","++",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertFalse",97],"(",["T_VARIABLE","$cache",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","get",97],"(",["T_CONSTANT_ENCAPSED_STRING","'expire_testa'",97],")",")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n",98],"}",["T_WHITESPACE","\n",99]]