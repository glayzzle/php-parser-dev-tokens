[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","yiiunit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","framework",3],["T_NS_SEPARATOR","\\",3],["T_STRING","db",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","yii",5],["T_NS_SEPARATOR","\\",5],["T_STRING","db",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Connection",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","yii",6],["T_NS_SEPARATOR","\\",6],["T_STRING","db",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Transaction",6],";",["T_WHITESPACE","\n\n",6],["T_ABSTRACT","abstract",8],["T_WHITESPACE"," ",8],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","ConnectionTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_STRING","DatabaseTestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n\n    ",9],["T_PUBLIC","public",11],["T_WHITESPACE"," ",11],["T_FUNCTION","function",11],["T_WHITESPACE"," ",11],["T_STRING","testConstruct",11],"(",")",["T_WHITESPACE","\n    ",11],"{",["T_WHITESPACE","\n        ",12],["T_VARIABLE","$connection",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","getConnection",13],"(",["T_STRING","false",13],")",";",["T_WHITESPACE","\n        ",13],["T_VARIABLE","$params",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","database",14],";",["T_WHITESPACE","\n\n        ",14],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","assertEquals",16],"(",["T_VARIABLE","$params",16],"[",["T_CONSTANT_ENCAPSED_STRING","'dsn'",16],"]",",",["T_WHITESPACE"," ",16],["T_VARIABLE","$connection",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","dsn",16],")",";",["T_WHITESPACE","\n        ",16],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","assertEquals",17],"(",["T_VARIABLE","$params",17],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",17],"]",",",["T_WHITESPACE"," ",17],["T_VARIABLE","$connection",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","username",17],")",";",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","assertEquals",18],"(",["T_VARIABLE","$params",18],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",18],"]",",",["T_WHITESPACE"," ",18],["T_VARIABLE","$connection",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","password",18],")",";",["T_WHITESPACE","\n    ",18],"}",["T_WHITESPACE","\n\n    ",19],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","testOpenClose",21],"(",")",["T_WHITESPACE","\n    ",21],"{",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$connection",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getConnection",23],"(",["T_STRING","false",23],",",["T_WHITESPACE"," ",23],["T_STRING","false",23],")",";",["T_WHITESPACE","\n\n        ",23],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","assertFalse",25],"(",["T_VARIABLE","$connection",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","isActive",25],")",";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","assertEquals",26],"(",["T_STRING","null",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$connection",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","pdo",26],")",";",["T_WHITESPACE","\n\n        ",26],["T_VARIABLE","$connection",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","open",28],"(",")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","assertTrue",29],"(",["T_VARIABLE","$connection",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","isActive",29],")",";",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","assertTrue",30],"(",["T_VARIABLE","$connection",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","pdo",30],["T_WHITESPACE"," ",30],["T_INSTANCEOF","instanceof",30],["T_WHITESPACE"," ",30],["T_NS_SEPARATOR","\\",30],["T_STRING","PDO",30],")",";",["T_WHITESPACE","\n\n        ",30],["T_VARIABLE","$connection",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","close",32],"(",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertFalse",33],"(",["T_VARIABLE","$connection",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","isActive",33],")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","assertEquals",34],"(",["T_STRING","null",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$connection",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","pdo",34],")",";",["T_WHITESPACE","\n\n        ",34],["T_VARIABLE","$connection",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STRING","Connection",36],";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$connection",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","dsn",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'unknown::memory:'",37],";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","setExpectedException",38],"(",["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\Exception'",38],")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$connection",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","open",39],"(",")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","testSerialize",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$connection",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getConnection",44],"(",["T_STRING","false",44],",",["T_WHITESPACE"," ",44],["T_STRING","false",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$connection",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","open",45],"(",")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$serialized",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","serialize",46],"(",["T_VARIABLE","$connection",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$unserialized",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","unserialize",47],"(",["T_VARIABLE","$serialized",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertInstanceOf",48],"(",["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\Connection'",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$unserialized",48],")",";",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertEquals",50],"(",["T_LNUMBER","123",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$unserialized",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","createCommand",50],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT 123\"",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","queryScalar",50],"(",")",")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testGetDriverName",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$connection",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getConnection",55],"(",["T_STRING","false",55],",",["T_WHITESPACE"," ",55],["T_STRING","false",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertEquals",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","driverName",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$connection",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","driverName",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testQuoteValue",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$connection",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getConnection",61],"(",["T_STRING","false",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEquals",62],"(",["T_LNUMBER","123",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$connection",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","quoteValue",62],"(",["T_LNUMBER","123",62],")",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEquals",63],"(",["T_CONSTANT_ENCAPSED_STRING","\"'string'\"",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$connection",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","quoteValue",63],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",63],")",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEquals",64],"(",["T_CONSTANT_ENCAPSED_STRING","\"'It\\\\'s interesting'\"",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$connection",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","quoteValue",64],"(",["T_CONSTANT_ENCAPSED_STRING","\"It's interesting\"",64],")",")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","testQuoteTableName",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$connection",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getConnection",69],"(",["T_STRING","false",69],",",["T_WHITESPACE"," ",69],["T_STRING","false",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$connection",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","quoteTableName",70],"(",["T_CONSTANT_ENCAPSED_STRING","'table'",70],")",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEquals",71],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$connection",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","quoteTableName",71],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`'",71],")",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEquals",72],"(",["T_CONSTANT_ENCAPSED_STRING","'`schema`.`table`'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$connection",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","quoteTableName",72],"(",["T_CONSTANT_ENCAPSED_STRING","'schema.table'",72],")",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEquals",73],"(",["T_CONSTANT_ENCAPSED_STRING","'`schema`.`table`'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$connection",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","quoteTableName",73],"(",["T_CONSTANT_ENCAPSED_STRING","'schema.`table`'",73],")",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertEquals",74],"(",["T_CONSTANT_ENCAPSED_STRING","'`schema`.`table`'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$connection",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","quoteTableName",74],"(",["T_CONSTANT_ENCAPSED_STRING","'`schema`.`table`'",74],")",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEquals",75],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$connection",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","quoteTableName",75],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}'",75],")",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertEquals",76],"(",["T_CONSTANT_ENCAPSED_STRING","'(table)'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$connection",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","quoteTableName",76],"(",["T_CONSTANT_ENCAPSED_STRING","'(table)'",76],")",")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testQuoteColumnName",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$connection",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getConnection",81],"(",["T_STRING","false",81],",",["T_WHITESPACE"," ",81],["T_STRING","false",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(",["T_CONSTANT_ENCAPSED_STRING","'`column`'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$connection",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","quoteColumnName",82],"(",["T_CONSTANT_ENCAPSED_STRING","'column'",82],")",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEquals",83],"(",["T_CONSTANT_ENCAPSED_STRING","'`column`'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$connection",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","quoteColumnName",83],"(",["T_CONSTANT_ENCAPSED_STRING","'`column`'",83],")",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEquals",84],"(",["T_CONSTANT_ENCAPSED_STRING","'[[column]]'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$connection",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","quoteColumnName",84],"(",["T_CONSTANT_ENCAPSED_STRING","'[[column]]'",84],")",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEquals",85],"(",["T_CONSTANT_ENCAPSED_STRING","'{{column}}'",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$connection",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","quoteColumnName",85],"(",["T_CONSTANT_ENCAPSED_STRING","'{{column}}'",85],")",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertEquals",86],"(",["T_CONSTANT_ENCAPSED_STRING","'(column)'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$connection",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","quoteColumnName",86],"(",["T_CONSTANT_ENCAPSED_STRING","'(column)'",86],")",")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEquals",88],"(",["T_CONSTANT_ENCAPSED_STRING","'`column`'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$connection",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","quoteSql",88],"(",["T_CONSTANT_ENCAPSED_STRING","'[[column]]'",88],")",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEquals",89],"(",["T_CONSTANT_ENCAPSED_STRING","'`column`'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$connection",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","quoteSql",89],"(",["T_CONSTANT_ENCAPSED_STRING","'{{column}}'",89],")",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testQuoteFullColumnName",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$connection",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getConnection",94],"(",["T_STRING","false",94],",",["T_WHITESPACE"," ",94],["T_STRING","false",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEquals",95],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$connection",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","quoteColumnName",95],"(",["T_CONSTANT_ENCAPSED_STRING","'table.column'",95],")",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertEquals",96],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$connection",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","quoteColumnName",96],"(",["T_CONSTANT_ENCAPSED_STRING","'table.`column`'",96],")",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertEquals",97],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$connection",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","quoteColumnName",97],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.column'",97],")",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertEquals",98],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$connection",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","quoteColumnName",98],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",98],")",")",";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEquals",100],"(",["T_CONSTANT_ENCAPSED_STRING","'[[table.column]]'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$connection",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","quoteColumnName",100],"(",["T_CONSTANT_ENCAPSED_STRING","'[[table.column]]'",100],")",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEquals",101],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}.`column`'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$connection",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","quoteColumnName",101],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}.column'",101],")",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEquals",102],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}.`column`'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$connection",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","quoteColumnName",102],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}.`column`'",102],")",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertEquals",103],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}.[[column]]'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$connection",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","quoteColumnName",103],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}.[[column]]'",103],")",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertEquals",104],"(",["T_CONSTANT_ENCAPSED_STRING","'{{%table}}.`column`'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$connection",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","quoteColumnName",104],"(",["T_CONSTANT_ENCAPSED_STRING","'{{%table}}.column'",104],")",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEquals",105],"(",["T_CONSTANT_ENCAPSED_STRING","'{{%table}}.`column`'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$connection",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","quoteColumnName",105],"(",["T_CONSTANT_ENCAPSED_STRING","'{{%table}}.`column`'",105],")",")",";",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEquals",107],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$connection",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","quoteSql",107],"(",["T_CONSTANT_ENCAPSED_STRING","'[[table.column]]'",107],")",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEquals",108],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$connection",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","quoteSql",108],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}.[[column]]'",108],")",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEquals",109],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$connection",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","quoteSql",109],"(",["T_CONSTANT_ENCAPSED_STRING","'{{table}}.`column`'",109],")",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEquals",110],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$connection",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","quoteSql",110],"(",["T_CONSTANT_ENCAPSED_STRING","'{{%table}}.[[column]]'",110],")",")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEquals",111],"(",["T_CONSTANT_ENCAPSED_STRING","'`table`.`column`'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$connection",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","quoteSql",111],"(",["T_CONSTANT_ENCAPSED_STRING","'{{%table}}.`column`'",111],")",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","testTransaction",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$connection",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getConnection",116],"(",["T_STRING","false",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertNull",117],"(",["T_VARIABLE","$connection",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","transaction",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$transaction",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$connection",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","beginTransaction",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertNotNull",119],"(",["T_VARIABLE","$connection",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","transaction",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertTrue",120],"(",["T_VARIABLE","$transaction",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","isActive",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$connection",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","createCommand",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","insert",122],"(",["T_CONSTANT_ENCAPSED_STRING","'profile'",122],",",["T_WHITESPACE"," ",122],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'test transaction'",122],"]",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","execute",122],"(",")",";",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$transaction",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","rollBack",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertFalse",125],"(",["T_VARIABLE","$transaction",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","isActive",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertNull",126],"(",["T_VARIABLE","$connection",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","transaction",126],")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertEquals",128],"(",["T_LNUMBER","0",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$connection",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","createCommand",128],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) FROM profile WHERE description = 'test transaction';\"",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","queryScalar",128],"(",")",")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$transaction",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$connection",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","beginTransaction",130],"(",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$connection",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","createCommand",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","insert",131],"(",["T_CONSTANT_ENCAPSED_STRING","'profile'",131],",",["T_WHITESPACE"," ",131],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'test transaction'",131],"]",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","execute",131],"(",")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$transaction",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","commit",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertFalse",133],"(",["T_VARIABLE","$transaction",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","isActive",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertNull",134],"(",["T_VARIABLE","$connection",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","transaction",134],")",";",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEquals",136],"(",["T_LNUMBER","1",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$connection",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","createCommand",136],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) FROM profile WHERE description = 'test transaction';\"",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","queryScalar",136],"(",")",")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testTransactionIsolation",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$connection",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getConnection",141],"(",["T_STRING","true",141],")",";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$transaction",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$connection",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","beginTransaction",143],"(",["T_STRING","Transaction",143],["T_DOUBLE_COLON","::",143],["T_STRING","READ_UNCOMMITTED",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$transaction",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","commit",144],"(",")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$transaction",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$connection",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","beginTransaction",146],"(",["T_STRING","Transaction",146],["T_DOUBLE_COLON","::",146],["T_STRING","READ_COMMITTED",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$transaction",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","commit",147],"(",")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$transaction",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$connection",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","beginTransaction",149],"(",["T_STRING","Transaction",149],["T_DOUBLE_COLON","::",149],["T_STRING","REPEATABLE_READ",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$transaction",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","commit",150],"(",")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$transaction",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$connection",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","beginTransaction",152],"(",["T_STRING","Transaction",152],["T_DOUBLE_COLON","::",152],["T_STRING","SERIALIZABLE",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$transaction",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","commit",153],"(",")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * @expectedException \\Exception\n     *\/",156],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","testTransactionShortcutException",159],"(",")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$connection",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getConnection",161],"(",["T_STRING","true",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$connection",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","transaction",162],"(",["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],"(",")",["T_WHITESPACE"," ",162],["T_USE","use",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$connection",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$connection",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","createCommand",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","insert",163],"(",["T_CONSTANT_ENCAPSED_STRING","'profile'",163],",",["T_WHITESPACE"," ",163],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'test transaction shortcut'",163],"]",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","execute",163],"(",")",";",["T_WHITESPACE","\n            ",163],["T_THROW","throw",164],["T_WHITESPACE"," ",164],["T_NEW","new",164],["T_WHITESPACE"," ",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Exception",164],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception in transaction shortcut'",164],")",";",["T_WHITESPACE","\n        ",164],"}",")",";",["T_WHITESPACE","\n\n        ",165],["T_VARIABLE","$profilesCount",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$connection",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","createCommand",167],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) FROM profile WHERE description = 'test transaction shortcut';\"",167],")",["T_OBJECT_OPERATOR","->",167],["T_STRING","queryScalar",167],"(",")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertEquals",168],"(",["T_LNUMBER","0",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$profilesCount",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'profile should not be inserted in transaction shortcut'",168],")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","testTransactionShortcutCorrect",171],"(",")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$connection",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getConnection",173],"(",["T_STRING","true",173],")",";",["T_WHITESPACE","\n\n        ",173],["T_VARIABLE","$result",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$connection",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","transaction",175],"(",["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],"(",")",["T_WHITESPACE"," ",175],["T_USE","use",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$connection",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$connection",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","createCommand",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","insert",176],"(",["T_CONSTANT_ENCAPSED_STRING","'profile'",176],",",["T_WHITESPACE"," ",176],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'test transaction shortcut'",176],"]",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","execute",176],"(",")",";",["T_WHITESPACE","\n            ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_STRING","true",177],";",["T_WHITESPACE","\n        ",177],"}",")",";",["T_WHITESPACE","\n\n        ",178],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertTrue",180],"(",["T_VARIABLE","$result",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'transaction shortcut valid value should be returned from callback'",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$profilesCount",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$connection",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","createCommand",182],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) FROM profile WHERE description = 'test transaction shortcut';\"",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","queryScalar",182],"(",")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertEquals",183],"(",["T_LNUMBER","1",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$profilesCount",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'profile should be inserted in transaction shortcut'",183],")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","testTransactionShortcutCustom",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$connection",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getConnection",188],"(",["T_STRING","true",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$result",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$connection",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","transaction",190],"(",["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],"(",["T_STRING","Connection",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$db",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$db",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","createCommand",191],"(",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","insert",191],"(",["T_CONSTANT_ENCAPSED_STRING","'profile'",191],",",["T_WHITESPACE"," ",191],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'test transaction shortcut'",191],"]",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","execute",191],"(",")",";",["T_WHITESPACE","\n            ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_STRING","true",192],";",["T_WHITESPACE","\n        ",192],"}",",",["T_WHITESPACE"," ",193],["T_STRING","Transaction",193],["T_DOUBLE_COLON","::",193],["T_STRING","READ_UNCOMMITTED",193],")",";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertTrue",195],"(",["T_VARIABLE","$result",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'transaction shortcut valid value should be returned from callback'",195],")",";",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$profilesCount",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$connection",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","createCommand",197],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) FROM profile WHERE description = 'test transaction shortcut';\"",197],")",["T_OBJECT_OPERATOR","->",197],["T_STRING","queryScalar",197],"(",")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertEquals",198],"(",["T_LNUMBER","1",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$profilesCount",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'profile should be inserted in transaction shortcut'",198],")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Tests nested transactions with partial rollback.\n     * @see https:\/\/github.com\/yiisoft\/yii2\/issues\/9851\n     *\/",201],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","testNestedTransaction",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_DOC_COMMENT","\/** @var Connection $connection *\/",207],["T_WHITESPACE","\n        ",207],["T_VARIABLE","$connection",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getConnection",208],"(",["T_STRING","true",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$connection",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","transaction",209],"(",["T_FUNCTION","function",209],"(",["T_STRING","Connection",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$db",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertNotNull",210],"(",["T_VARIABLE","$db",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","transaction",210],")",";",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$db",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","transaction",211],"(",["T_FUNCTION","function",211],"(",["T_STRING","Connection",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$db",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertNotNull",212],"(",["T_VARIABLE","$db",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","transaction",212],")",";",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$db",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","transaction",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","rollBack",213],"(",")",";",["T_WHITESPACE","\n            ",213],"}",")",";",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertNotNull",215],"(",["T_VARIABLE","$db",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","transaction",215],")",";",["T_WHITESPACE","\n        ",215],"}",")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n",217],"}",["T_WHITESPACE","\n",218]]