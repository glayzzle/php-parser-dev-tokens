[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","yiiunit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","framework",3],["T_NS_SEPARATOR","\\",3],["T_STRING","db",3],["T_NS_SEPARATOR","\\",3],["T_STRING","mssql",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","yii",5],["T_NS_SEPARATOR","\\",5],["T_STRING","db",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Schema",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * @group db\n * @group mssql\n *\/",7],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","CommandTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","yiiunit",11],["T_NS_SEPARATOR","\\",11],["T_STRING","framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","db",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CommandTest",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_PROTECTED","protected",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$driverName",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","'sqlsrv'",13],";",["T_WHITESPACE","\n\n    ",13],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","testAutoQuoting",15],"(",")",["T_WHITESPACE","\n    ",15],"{",["T_WHITESPACE","\n        ",16],["T_VARIABLE","$db",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","getConnection",17],"(",["T_STRING","false",17],")",";",["T_WHITESPACE","\n\n        ",17],["T_VARIABLE","$sql",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'SELECT [[id]], [[t.name]] FROM {{customer}} t'",19],";",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$command",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$db",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","createCommand",20],"(",["T_VARIABLE","$sql",20],")",";",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","assertEquals",21],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT [id], [t].[name] FROM [customer] t\"",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$command",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","sql",21],")",";",["T_WHITESPACE","\n    ",21],"}",["T_WHITESPACE","\n\n    ",22],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","testPrepareCancel",24],"(",")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","markTestSkipped",26],"(",["T_CONSTANT_ENCAPSED_STRING","'MSSQL driver does not support this feature.'",26],")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n\n    ",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testBindParamValue",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$db",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getConnection",31],"(",")",";",["T_WHITESPACE","\n\n        ",31],["T_COMMENT","\/\/ bindParam\n",33],["T_WHITESPACE","        ",34],["T_VARIABLE","$sql",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO customer(email, name, address) VALUES (:email, :name, :address)'",34],";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$command",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$db",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","createCommand",35],"(",["T_VARIABLE","$sql",35],")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$email",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'user4@example.com'",36],";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$name",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'user4'",37],";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$address",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'address4'",38],";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$command",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","bindParam",39],"(",["T_CONSTANT_ENCAPSED_STRING","':email'",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$email",39],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$command",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","bindParam",40],"(",["T_CONSTANT_ENCAPSED_STRING","':name'",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$name",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$command",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","bindParam",41],"(",["T_CONSTANT_ENCAPSED_STRING","':address'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$address",41],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$command",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","execute",42],"(",")",";",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$sql",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM customer WHERE email=:email'",44],";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$command",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$db",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","createCommand",45],"(",["T_VARIABLE","$sql",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$command",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","bindParam",46],"(",["T_CONSTANT_ENCAPSED_STRING","':email'",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$email",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertEquals",47],"(",["T_VARIABLE","$name",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$command",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","queryScalar",47],"(",")",")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$sql",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO type (int_col, char_col, float_col, blob_col, numeric_col, bool_col) VALUES (:int_col, :char_col, :float_col, CONVERT([varbinary], :blob_col), :numeric_col, :bool_col)'",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$command",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$db",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","createCommand",50],"(",["T_VARIABLE","$sql",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$intCol",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_LNUMBER","123",51],";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$charCol",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'abc'",52],";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$floatCol",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_DNUMBER","1.23",53],";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$blobCol",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","\"\\x10\\x11\\x12\"",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$numericCol",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'1.23'",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$boolCol",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","false",56],";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$command",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","bindParam",57],"(",["T_CONSTANT_ENCAPSED_STRING","':int_col'",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$intCol",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$command",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","bindParam",58],"(",["T_CONSTANT_ENCAPSED_STRING","':char_col'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$charCol",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$command",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","bindParam",59],"(",["T_CONSTANT_ENCAPSED_STRING","':float_col'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$floatCol",59],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$command",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","bindParam",60],"(",["T_CONSTANT_ENCAPSED_STRING","':blob_col'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$blobCol",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$command",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","bindParam",61],"(",["T_CONSTANT_ENCAPSED_STRING","':numeric_col'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$numericCol",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$command",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","bindParam",62],"(",["T_CONSTANT_ENCAPSED_STRING","':bool_col'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$boolCol",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEquals",63],"(",["T_LNUMBER","1",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$command",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","execute",63],"(",")",")",";",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$sql",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'SELECT int_col, char_col, float_col, CONVERT([nvarchar], blob_col) AS blob_col, numeric_col FROM type'",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$row",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$db",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","createCommand",66],"(",["T_VARIABLE","$sql",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","queryOne",66],"(",")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEquals",67],"(",["T_VARIABLE","$intCol",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$row",67],"[",["T_CONSTANT_ENCAPSED_STRING","'int_col'",67],"]",")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertEquals",68],"(",["T_VARIABLE","$charCol",68],",",["T_WHITESPACE"," ",68],["T_STRING","trim",68],"(",["T_VARIABLE","$row",68],"[",["T_CONSTANT_ENCAPSED_STRING","'char_col'",68],"]",")",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEquals",69],"(",["T_VARIABLE","$floatCol",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$row",69],"[",["T_CONSTANT_ENCAPSED_STRING","'float_col'",69],"]",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_VARIABLE","$blobCol",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$row",70],"[",["T_CONSTANT_ENCAPSED_STRING","'blob_col'",70],"]",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEquals",71],"(",["T_VARIABLE","$numericCol",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$row",71],"[",["T_CONSTANT_ENCAPSED_STRING","'numeric_col'",71],"]",")",";",["T_WHITESPACE","\n\n        ",71],["T_COMMENT","\/\/ bindValue\n",73],["T_WHITESPACE","        ",74],["T_VARIABLE","$sql",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO customer(email, name, address) VALUES (:email, \\'user5\\', \\'address5\\')'",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$command",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$db",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","createCommand",75],"(",["T_VARIABLE","$sql",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$command",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","bindValue",76],"(",["T_CONSTANT_ENCAPSED_STRING","':email'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'user5@example.com'",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$command",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","execute",77],"(",")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$sql",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'SELECT email FROM customer WHERE name=:name'",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$command",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$db",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","createCommand",80],"(",["T_VARIABLE","$sql",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$command",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","bindValue",81],"(",["T_CONSTANT_ENCAPSED_STRING","':name'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'user5'",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(",["T_CONSTANT_ENCAPSED_STRING","'user5@example.com'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$command",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","queryScalar",82],"(",")",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","paramsNonWhereProvider",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],"[",["T_WHITESPACE","\n            ",87],"[",["T_CONSTANT_ENCAPSED_STRING","'SELECT SUBSTRING(name, :len, 6) AS name FROM {{customer}} WHERE [[email]] = :email GROUP BY name'",88],"]",",",["T_WHITESPACE","\n            ",88],"[",["T_CONSTANT_ENCAPSED_STRING","'SELECT SUBSTRING(name, :len, 6) as name FROM {{customer}} WHERE [[email]] = :email ORDER BY name'",89],"]",",",["T_WHITESPACE","\n            ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'SELECT SUBSTRING(name, :len, 6) FROM {{customer}} WHERE [[email]] = :email'",90],"]",",",["T_WHITESPACE","\n        ",90],"]",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n",92],"}",["T_WHITESPACE","\n",93]]