[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","yiiunit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","framework",3],["T_NS_SEPARATOR","\\",3],["T_STRING","db",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Yii",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","yiiunit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","data",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ar",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ActiveRecord",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","yii",7],["T_NS_SEPARATOR","\\",7],["T_STRING","db",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Query",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","db",8],["T_NS_SEPARATOR","\\",8],["T_STRING","BatchQueryResult",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","yiiunit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ar",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],";",["T_WHITESPACE","\n\n",9],["T_ABSTRACT","abstract",11],["T_WHITESPACE"," ",11],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","BatchQueryResultTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","DatabaseTestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_PUBLIC","public",13],["T_WHITESPACE"," ",13],["T_FUNCTION","function",13],["T_WHITESPACE"," ",13],["T_STRING","setUp",13],"(",")",["T_WHITESPACE","\n    ",13],"{",["T_WHITESPACE","\n        ",14],["T_STRING","parent",15],["T_DOUBLE_COLON","::",15],["T_STRING","setUp",15],"(",")",";",["T_WHITESPACE","\n        ",15],["T_STRING","ActiveRecord",16],["T_DOUBLE_COLON","::",16],["T_VARIABLE","$db",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","getConnection",16],"(",")",";",["T_WHITESPACE","\n    ",16],"}",["T_WHITESPACE","\n\n    ",17],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","testQuery",19],"(",")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$db",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","getConnection",21],"(",")",";",["T_WHITESPACE","\n\n        ",21],["T_COMMENT","\/\/ initialize property test\n",23],["T_WHITESPACE","        ",24],["T_VARIABLE","$query",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_NEW","new",24],["T_WHITESPACE"," ",24],["T_STRING","Query",24],"(",")",";",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$query",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","from",25],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",25],")",["T_OBJECT_OPERATOR","->",25],["T_STRING","orderBy",25],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",25],")",";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$result",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$query",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","batch",26],"(",["T_LNUMBER","2",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$db",26],")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","assertTrue",27],"(",["T_VARIABLE","$result",27],["T_WHITESPACE"," ",27],["T_INSTANCEOF","instanceof",27],["T_WHITESPACE"," ",27],["T_STRING","BatchQueryResult",27],")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","assertEquals",28],"(",["T_LNUMBER","2",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$result",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","batchSize",28],")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","assertTrue",29],"(",["T_VARIABLE","$result",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","query",29],["T_WHITESPACE"," ",29],["T_IS_IDENTICAL","===",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$query",29],")",";",["T_WHITESPACE","\n\n        ",29],["T_COMMENT","\/\/ normal query\n",31],["T_WHITESPACE","        ",32],["T_VARIABLE","$query",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","Query",32],"(",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$query",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","from",33],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",33],")",["T_OBJECT_OPERATOR","->",33],["T_STRING","orderBy",33],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",33],")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$allRows",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],"[","]",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$batch",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$query",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","batch",35],"(",["T_LNUMBER","2",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$db",35],")",";",["T_WHITESPACE","\n        ",35],["T_FOREACH","foreach",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$batch",36],["T_WHITESPACE"," ",36],["T_AS","as",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$rows",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n            ",36],["T_VARIABLE","$allRows",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","array_merge",37],"(",["T_VARIABLE","$allRows",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$rows",37],")",";",["T_WHITESPACE","\n        ",37],"}",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertEquals",39],"(",["T_LNUMBER","3",39],",",["T_WHITESPACE"," ",39],["T_STRING","count",39],"(",["T_VARIABLE","$allRows",39],")",")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertEquals",40],"(",["T_CONSTANT_ENCAPSED_STRING","'user1'",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$allRows",40],"[",["T_LNUMBER","0",40],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",40],"]",")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertEquals",41],"(",["T_CONSTANT_ENCAPSED_STRING","'user2'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$allRows",41],"[",["T_LNUMBER","1",41],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",41],"]",")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertEquals",42],"(",["T_CONSTANT_ENCAPSED_STRING","'user3'",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$allRows",42],"[",["T_LNUMBER","2",42],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",42],"]",")",";",["T_WHITESPACE","\n        ",42],["T_COMMENT","\/\/ rewind\n",43],["T_WHITESPACE","        ",44],["T_VARIABLE","$allRows",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],"[","]",";",["T_WHITESPACE","\n        ",44],["T_FOREACH","foreach",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$batch",45],["T_WHITESPACE"," ",45],["T_AS","as",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$rows",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$allRows",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","array_merge",46],"(",["T_VARIABLE","$allRows",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$rows",46],")",";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertEquals",48],"(",["T_LNUMBER","3",48],",",["T_WHITESPACE"," ",48],["T_STRING","count",48],"(",["T_VARIABLE","$allRows",48],")",")",";",["T_WHITESPACE","\n        ",48],["T_COMMENT","\/\/ reset\n",49],["T_WHITESPACE","        ",50],["T_VARIABLE","$batch",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","reset",50],"(",")",";",["T_WHITESPACE","\n\n        ",50],["T_COMMENT","\/\/ empty query\n",52],["T_WHITESPACE","        ",53],["T_VARIABLE","$query",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STRING","Query",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$query",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","from",54],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","where",54],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_LNUMBER","100",54],"]",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$allRows",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[","]",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$batch",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$query",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","batch",56],"(",["T_LNUMBER","2",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$db",56],")",";",["T_WHITESPACE","\n        ",56],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$batch",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$rows",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$allRows",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","array_merge",58],"(",["T_VARIABLE","$allRows",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$rows",58],")",";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEquals",60],"(",["T_LNUMBER","0",60],",",["T_WHITESPACE"," ",60],["T_STRING","count",60],"(",["T_VARIABLE","$allRows",60],")",")",";",["T_WHITESPACE","\n\n        ",60],["T_COMMENT","\/\/ query with index\n",62],["T_WHITESPACE","        ",63],["T_VARIABLE","$query",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","Query",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$query",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","from",64],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","indexBy",64],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$allRows",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[","]",";",["T_WHITESPACE","\n        ",65],["T_FOREACH","foreach",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$query",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","batch",66],"(",["T_LNUMBER","2",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$db",66],")",["T_WHITESPACE"," ",66],["T_AS","as",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$rows",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$allRows",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","array_merge",67],"(",["T_VARIABLE","$allRows",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$rows",67],")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEquals",69],"(",["T_LNUMBER","3",69],",",["T_WHITESPACE"," ",69],["T_STRING","count",69],"(",["T_VARIABLE","$allRows",69],")",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_CONSTANT_ENCAPSED_STRING","'address1'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$allRows",70],"[",["T_CONSTANT_ENCAPSED_STRING","'user1'",70],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address'",70],"]",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEquals",71],"(",["T_CONSTANT_ENCAPSED_STRING","'address2'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$allRows",71],"[",["T_CONSTANT_ENCAPSED_STRING","'user2'",71],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address'",71],"]",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEquals",72],"(",["T_CONSTANT_ENCAPSED_STRING","'address3'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$allRows",72],"[",["T_CONSTANT_ENCAPSED_STRING","'user3'",72],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address'",72],"]",")",";",["T_WHITESPACE","\n\n        ",72],["T_COMMENT","\/\/ each\n",74],["T_WHITESPACE","        ",75],["T_VARIABLE","$query",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","Query",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$query",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","from",76],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","orderBy",76],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$allRows",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],"[","]",";",["T_WHITESPACE","\n        ",77],["T_FOREACH","foreach",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$query",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","each",78],"(",["T_LNUMBER","100",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$db",78],")",["T_WHITESPACE"," ",78],["T_AS","as",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$rows",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$allRows",79],"[","]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$rows",79],";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEquals",81],"(",["T_LNUMBER","3",81],",",["T_WHITESPACE"," ",81],["T_STRING","count",81],"(",["T_VARIABLE","$allRows",81],")",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(",["T_CONSTANT_ENCAPSED_STRING","'user1'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$allRows",82],"[",["T_LNUMBER","0",82],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",82],"]",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEquals",83],"(",["T_CONSTANT_ENCAPSED_STRING","'user2'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$allRows",83],"[",["T_LNUMBER","1",83],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",83],"]",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEquals",84],"(",["T_CONSTANT_ENCAPSED_STRING","'user3'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$allRows",84],"[",["T_LNUMBER","2",84],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",84],"]",")",";",["T_WHITESPACE","\n\n        ",84],["T_COMMENT","\/\/ each with key\n",86],["T_WHITESPACE","        ",87],["T_VARIABLE","$query",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_STRING","Query",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$query",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","from",88],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","orderBy",88],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","indexBy",88],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$allRows",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"[","]",";",["T_WHITESPACE","\n        ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$query",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","each",90],"(",["T_LNUMBER","100",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$db",90],")",["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$key",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$row",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$allRows",91],"[",["T_VARIABLE","$key",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$row",91],";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEquals",93],"(",["T_LNUMBER","3",93],",",["T_WHITESPACE"," ",93],["T_STRING","count",93],"(",["T_VARIABLE","$allRows",93],")",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEquals",94],"(",["T_CONSTANT_ENCAPSED_STRING","'address1'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$allRows",94],"[",["T_CONSTANT_ENCAPSED_STRING","'user1'",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address'",94],"]",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEquals",95],"(",["T_CONSTANT_ENCAPSED_STRING","'address2'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$allRows",95],"[",["T_CONSTANT_ENCAPSED_STRING","'user2'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address'",95],"]",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertEquals",96],"(",["T_CONSTANT_ENCAPSED_STRING","'address3'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$allRows",96],"[",["T_CONSTANT_ENCAPSED_STRING","'user3'",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address'",96],"]",")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","testActiveQuery",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$db",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getConnection",101],"(",")",";",["T_WHITESPACE","\n\n        ",101],["T_VARIABLE","$query",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","Customer",103],["T_DOUBLE_COLON","::",103],["T_STRING","find",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","orderBy",103],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$customers",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],"[","]",";",["T_WHITESPACE","\n        ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$query",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","batch",105],"(",["T_LNUMBER","2",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$db",105],")",["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$models",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$customers",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","array_merge",106],"(",["T_VARIABLE","$customers",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$models",106],")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEquals",108],"(",["T_LNUMBER","3",108],",",["T_WHITESPACE"," ",108],["T_STRING","count",108],"(",["T_VARIABLE","$customers",108],")",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEquals",109],"(",["T_CONSTANT_ENCAPSED_STRING","'user1'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$customers",109],"[",["T_LNUMBER","0",109],"]",["T_OBJECT_OPERATOR","->",109],["T_STRING","name",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEquals",110],"(",["T_CONSTANT_ENCAPSED_STRING","'user2'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$customers",110],"[",["T_LNUMBER","1",110],"]",["T_OBJECT_OPERATOR","->",110],["T_STRING","name",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEquals",111],"(",["T_CONSTANT_ENCAPSED_STRING","'user3'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$customers",111],"[",["T_LNUMBER","2",111],"]",["T_OBJECT_OPERATOR","->",111],["T_STRING","name",111],")",";",["T_WHITESPACE","\n\n        ",111],["T_COMMENT","\/\/ batch with eager loading\n",113],["T_WHITESPACE","        ",114],["T_VARIABLE","$query",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","Customer",114],["T_DOUBLE_COLON","::",114],["T_STRING","find",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","with",114],"(",["T_CONSTANT_ENCAPSED_STRING","'orders'",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","orderBy",114],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$customers",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"[","]",";",["T_WHITESPACE","\n        ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$query",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","batch",116],"(",["T_LNUMBER","2",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$db",116],")",["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$models",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$customers",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","array_merge",117],"(",["T_VARIABLE","$customers",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$models",117],")",";",["T_WHITESPACE","\n            ",117],["T_FOREACH","foreach",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$models",118],["T_WHITESPACE"," ",118],["T_AS","as",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$model",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertTrue",119],"(",["T_VARIABLE","$model",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","isRelationPopulated",119],"(",["T_CONSTANT_ENCAPSED_STRING","'orders'",119],")",")",";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEquals",122],"(",["T_LNUMBER","3",122],",",["T_WHITESPACE"," ",122],["T_STRING","count",122],"(",["T_VARIABLE","$customers",122],")",")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertEquals",123],"(",["T_LNUMBER","1",123],",",["T_WHITESPACE"," ",123],["T_STRING","count",123],"(",["T_VARIABLE","$customers",123],"[",["T_LNUMBER","0",123],"]",["T_OBJECT_OPERATOR","->",123],["T_STRING","orders",123],")",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertEquals",124],"(",["T_LNUMBER","2",124],",",["T_WHITESPACE"," ",124],["T_STRING","count",124],"(",["T_VARIABLE","$customers",124],"[",["T_LNUMBER","1",124],"]",["T_OBJECT_OPERATOR","->",124],["T_STRING","orders",124],")",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEquals",125],"(",["T_LNUMBER","0",125],",",["T_WHITESPACE"," ",125],["T_STRING","count",125],"(",["T_VARIABLE","$customers",125],"[",["T_LNUMBER","2",125],"]",["T_OBJECT_OPERATOR","->",125],["T_STRING","orders",125],")",")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n",126],"}",["T_WHITESPACE","\n",127]]