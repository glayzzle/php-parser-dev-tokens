[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","yiiunit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","framework",3],["T_NS_SEPARATOR","\\",3],["T_STRING","mail",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Yii",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","yii",6],["T_NS_SEPARATOR","\\",6],["T_STRING","mail",6],["T_NS_SEPARATOR","\\",6],["T_STRING","BaseMailer",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","yii",7],["T_NS_SEPARATOR","\\",7],["T_STRING","mail",7],["T_NS_SEPARATOR","\\",7],["T_STRING","BaseMessage",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","yiiunit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestCase",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @group mail\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","BaseMessageTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","setUp",15],"(",")",["T_WHITESPACE","\n    ",15],"{",["T_WHITESPACE","\n        ",16],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","mockApplication",17],"(","[",["T_WHITESPACE","\n            ",17],["T_CONSTANT_ENCAPSED_STRING","'components'",18],["T_WHITESPACE"," ",18],["T_DOUBLE_ARROW","=>",18],["T_WHITESPACE"," ",18],"[",["T_WHITESPACE","\n                ",18],["T_CONSTANT_ENCAPSED_STRING","'mailer'",19],["T_WHITESPACE"," ",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","createTestEmailComponent",19],"(",")",["T_WHITESPACE","\n            ",19],"]",["T_WHITESPACE","\n        ",20],"]",")",";",["T_WHITESPACE","\n    ",21],"}",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @return Mailer test email component instance.\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","createTestEmailComponent",27],"(",")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$component",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_NEW","new",29],["T_WHITESPACE"," ",29],["T_STRING","TestMailer",29],"(",")",";",["T_WHITESPACE","\n\n        ",29],["T_RETURN","return",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$component",31],";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @return TestMailer mailer instance.\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","getMailer",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_STRING","Yii",39],["T_DOUBLE_COLON","::",39],["T_VARIABLE","$app",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","get",39],"(",["T_CONSTANT_ENCAPSED_STRING","'mailer'",39],")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Tests :\n",42],["T_WHITESPACE","\n    ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testSend",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$mailer",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getMailer",46],"(",")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$message",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$mailer",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","compose",47],"(",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$message",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","send",48],"(",["T_VARIABLE","$mailer",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertEquals",49],"(",["T_VARIABLE","$message",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$mailer",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","sentMessages",49],"[",["T_LNUMBER","0",49],"]",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Unable to send message!'",49],")",";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testToString",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$mailer",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getMailer",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$message",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$mailer",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","compose",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertEquals",56],"(",["T_VARIABLE","$message",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","toString",56],"(",")",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","''",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_VARIABLE","$message",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n",57],"}",["T_WHITESPACE","\n\n",58],["T_DOC_COMMENT","\/**\n * Test Mailer class\n *\/",60],["T_WHITESPACE","\n",62],["T_CLASS","class",63],["T_WHITESPACE"," ",63],["T_STRING","TestMailer",63],["T_WHITESPACE"," ",63],["T_EXTENDS","extends",63],["T_WHITESPACE"," ",63],["T_STRING","BaseMailer",63],["T_WHITESPACE","\n",63],"{",["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$messageClass",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'yiiunit\\framework\\mail\\TestMessage'",65],";",["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$sentMessages",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[","]",";",["T_WHITESPACE","\n\n    ",66],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","sendMessage",68],"(",["T_VARIABLE","$message",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","sentMessages",70],"[","]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$message",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n",71],"}",["T_WHITESPACE","\n\n",72],["T_DOC_COMMENT","\/**\n * Test Message class\n *\/",74],["T_WHITESPACE","\n",76],["T_CLASS","class",77],["T_WHITESPACE"," ",77],["T_STRING","TestMessage",77],["T_WHITESPACE"," ",77],["T_EXTENDS","extends",77],["T_WHITESPACE"," ",77],["T_STRING","BaseMessage",77],["T_WHITESPACE","\n",77],"{",["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$text",79],";",["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$html",80],";",["T_WHITESPACE","\n\n    ",80],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","getCharset",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","''",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","setCharset",87],"(",["T_VARIABLE","$charset",87],")",["T_WHITESPACE"," ",87],"{","}",["T_WHITESPACE","\n\n    ",87],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","getFrom",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","''",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","setFrom",94],"(",["T_VARIABLE","$from",94],")",["T_WHITESPACE"," ",94],"{","}",["T_WHITESPACE","\n\n    ",94],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","getReplyTo",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","''",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","setReplyTo",101],"(",["T_VARIABLE","$replyTo",101],")",["T_WHITESPACE"," ",101],"{","}",["T_WHITESPACE","\n\n    ",101],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","getTo",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","''",105],";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","setTo",108],"(",["T_VARIABLE","$to",108],")",["T_WHITESPACE"," ",108],"{","}",["T_WHITESPACE","\n\n    ",108],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","getCc",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","''",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","setCc",115],"(",["T_VARIABLE","$cc",115],")",["T_WHITESPACE"," ",115],"{","}",["T_WHITESPACE","\n\n    ",115],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","getBcc",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","''",119],";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","setBcc",122],"(",["T_VARIABLE","$bcc",122],")",["T_WHITESPACE"," ",122],"{","}",["T_WHITESPACE","\n\n    ",122],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getSubject",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","''",126],";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","setSubject",129],"(",["T_VARIABLE","$subject",129],")",["T_WHITESPACE"," ",129],"{","}",["T_WHITESPACE","\n\n    ",129],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","setTextBody",131],"(",["T_VARIABLE","$text",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","text",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$text",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","setHtmlBody",136],"(",["T_VARIABLE","$html",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","html",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$html",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","attachContent",141],"(",["T_VARIABLE","$content",141],",",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$options",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[","]",")",["T_WHITESPACE"," ",141],"{","}",["T_WHITESPACE","\n\n    ",141],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","attach",143],"(",["T_VARIABLE","$fileName",143],",",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$options",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[","]",")",["T_WHITESPACE"," ",143],"{","}",["T_WHITESPACE","\n\n    ",143],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","embed",145],"(",["T_VARIABLE","$fileName",145],",",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$options",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],"[","]",")",["T_WHITESPACE"," ",145],"{","}",["T_WHITESPACE","\n\n    ",145],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","embedContent",147],"(",["T_VARIABLE","$content",147],",",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$options",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],"[","]",")",["T_WHITESPACE"," ",147],"{","}",["T_WHITESPACE","\n\n    ",147],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","toString",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_STRING","get_class",151],"(",["T_VARIABLE","$this",151],")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n",152],"}",["T_WHITESPACE","\n",153]]