[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","yiiunit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","framework",3],["T_NS_SEPARATOR","\\",3],["T_STRING","behaviors",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Yii",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","yii",6],["T_NS_SEPARATOR","\\",6],["T_STRING","base",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DynamicModel",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","yiiunit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TestCase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","db",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ActiveRecord",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","yii",9],["T_NS_SEPARATOR","\\",9],["T_STRING","behaviors",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AttributeTypecastBehavior",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Unit test for [[\\yii\\behaviors\\AttributeTypecastBehavior]].\n * @see AttributeTypecastBehavior\n *\n * @group behaviors\n *\/",11],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","AttributeTypecastBehaviorTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","TestCase",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","setUpBeforeClass",19],"(",")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_IF","if",21],["T_WHITESPACE"," ",21],"(","!",["T_STRING","extension_loaded",21],"(",["T_CONSTANT_ENCAPSED_STRING","'pdo'",21],")",["T_WHITESPACE"," ",21],["T_BOOLEAN_OR","||",21],["T_WHITESPACE"," ",21],"!",["T_STRING","extension_loaded",21],"(",["T_CONSTANT_ENCAPSED_STRING","'pdo_sqlite'",21],")",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n            ",21],["T_STATIC","static",22],["T_DOUBLE_COLON","::",22],["T_STRING","markTestSkipped",22],"(",["T_CONSTANT_ENCAPSED_STRING","'PDO and SQLite extensions are required.'",22],")",";",["T_WHITESPACE","\n        ",22],"}",["T_WHITESPACE","\n    ",23],"}",["T_WHITESPACE","\n\n    ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","mockApplication",28],"(","[",["T_WHITESPACE","\n            ",28],["T_CONSTANT_ENCAPSED_STRING","'components'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],"[",["T_WHITESPACE","\n                ",29],["T_CONSTANT_ENCAPSED_STRING","'db'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],"[",["T_WHITESPACE","\n                    ",30],["T_CONSTANT_ENCAPSED_STRING","'class'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'\\yii\\db\\Connection'",31],",",["T_WHITESPACE","\n                    ",31],["T_CONSTANT_ENCAPSED_STRING","'dsn'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'sqlite::memory:'",32],",",["T_WHITESPACE","\n                ",32],"]",["T_WHITESPACE","\n            ",33],"]",["T_WHITESPACE","\n        ",34],"]",")",";",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$columns",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n            ",37],["T_CONSTANT_ENCAPSED_STRING","'id'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'pk'",38],",",["T_WHITESPACE","\n            ",38],["T_CONSTANT_ENCAPSED_STRING","'name'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'string'",39],",",["T_WHITESPACE","\n            ",39],["T_CONSTANT_ENCAPSED_STRING","'amount'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'integer'",40],",",["T_WHITESPACE","\n            ",40],["T_CONSTANT_ENCAPSED_STRING","'price'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'float'",41],",",["T_WHITESPACE","\n            ",41],["T_CONSTANT_ENCAPSED_STRING","'isActive'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'boolean'",42],",",["T_WHITESPACE","\n            ",42],["T_CONSTANT_ENCAPSED_STRING","'callback'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'string'",43],",",["T_WHITESPACE","\n        ",43],"]",";",["T_WHITESPACE","\n        ",44],["T_STRING","Yii",45],["T_DOUBLE_COLON","::",45],["T_VARIABLE","$app",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getDb",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","createCommand",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","createTable",45],"(",["T_CONSTANT_ENCAPSED_STRING","'test_attribute_typecast'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$columns",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","execute",45],"(",")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","tearDown",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_STRING","parent",50],["T_DOUBLE_COLON","::",50],["T_STRING","tearDown",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_STRING","AttributeTypecastBehavior",51],["T_DOUBLE_COLON","::",51],["T_STRING","clearAutoDetectedAttributeTypes",51],"(",")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Tests :\n",54],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","testTypecast",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$model",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_NEW","new",58],["T_WHITESPACE"," ",58],["T_STRING","ActiveRecordAttributeTypecast",58],"(",")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$model",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","name",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_LNUMBER","123",60],";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$model",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","amount",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'58'",61],";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$model",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","price",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'100.8'",62],";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$model",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","isActive",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_LNUMBER","1",63],";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$model",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","callback",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'foo'",64],";",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$model",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getAttributeTypecastBehavior",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","typecastAttributes",66],"(",")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertSame",68],"(",["T_CONSTANT_ENCAPSED_STRING","'123'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$model",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","name",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertSame",69],"(",["T_LNUMBER","58",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$model",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","amount",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertSame",70],"(",["T_DNUMBER","100.8",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$model",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","price",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertSame",71],"(",["T_STRING","true",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$model",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","isActive",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertSame",72],"(",["T_CONSTANT_ENCAPSED_STRING","'callback: foo'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$model",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","callback",72],")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @depends testTypecast\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testSkipNull",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$model",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","ActiveRecordAttributeTypecast",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$model",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getAttributeTypecastBehavior",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","skipOnNull",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","true",81],";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$model",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","name",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","null",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$model",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","amount",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","null",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$model",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","price",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","null",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$model",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","isActive",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","null",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$model",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","callback",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","null",87],";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$model",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getAttributeTypecastBehavior",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","typecastAttributes",89],"(",")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertNull",91],"(",["T_VARIABLE","$model",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","name",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertNull",92],"(",["T_VARIABLE","$model",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","amount",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertNull",93],"(",["T_VARIABLE","$model",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","price",93],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertNull",94],"(",["T_VARIABLE","$model",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","isActive",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertNull",95],"(",["T_VARIABLE","$model",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","callback",95],")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$model",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getAttributeTypecastBehavior",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","skipOnNull",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","false",97],";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$model",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getAttributeTypecastBehavior",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","typecastAttributes",98],"(",")",";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertSame",100],"(",["T_CONSTANT_ENCAPSED_STRING","''",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$model",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","name",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertSame",101],"(",["T_LNUMBER","0",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$model",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","amount",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertSame",102],"(",["T_DNUMBER","0.0",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$model",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","price",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertSame",103],"(",["T_STRING","false",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$model",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","isActive",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertSame",104],"(",["T_CONSTANT_ENCAPSED_STRING","'callback: '",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$model",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","callback",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * @depends testTypecast\n     *\/",107],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","testEvents",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$model",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_STRING","ActiveRecordAttributeTypecast",112],"(",")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$model",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","callback",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'validate'",114],";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$model",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","validate",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertSame",116],"(",["T_CONSTANT_ENCAPSED_STRING","'callback: validate'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$model",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","callback",116],")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$model",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","callback",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'insert'",118],";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$model",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","save",119],"(",["T_STRING","false",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertSame",120],"(",["T_CONSTANT_ENCAPSED_STRING","'callback: insert'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$model",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","callback",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$model",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","callback",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'update'",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$model",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","save",123],"(",["T_STRING","false",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertSame",124],"(",["T_CONSTANT_ENCAPSED_STRING","'callback: update'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$model",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","callback",124],")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$model",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","updateAll",126],"(","[",["T_CONSTANT_ENCAPSED_STRING","'callback'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'find'",126],"]",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$model",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","refresh",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertSame",128],"(",["T_CONSTANT_ENCAPSED_STRING","'callback: find'",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$model",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","callback",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","testAutoDetectAttributeTypes",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$model",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],"(",["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","DynamicModel",133],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_STRING","null",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'amount'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_STRING","null",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'price'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_STRING","null",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'isActive'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_STRING","null",133],"]",")",")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","addRule",134],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'string'",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","addRule",135],"(",["T_CONSTANT_ENCAPSED_STRING","'amount'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'integer'",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","addRule",136],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'number'",136],")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","addRule",137],"(",["T_CONSTANT_ENCAPSED_STRING","'isActive'",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'boolean'",137],")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$behavior",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","AttributeTypecastBehavior",139],"(",")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$behavior",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","attach",141],"(",["T_VARIABLE","$model",141],")",";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$expectedAttributeTypes",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[",["T_WHITESPACE","\n            ",143],["T_CONSTANT_ENCAPSED_STRING","'name'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_STRING","AttributeTypecastBehavior",144],["T_DOUBLE_COLON","::",144],["T_STRING","TYPE_STRING",144],",",["T_WHITESPACE","\n            ",144],["T_CONSTANT_ENCAPSED_STRING","'amount'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_STRING","AttributeTypecastBehavior",145],["T_DOUBLE_COLON","::",145],["T_STRING","TYPE_INTEGER",145],",",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'price'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_STRING","AttributeTypecastBehavior",146],["T_DOUBLE_COLON","::",146],["T_STRING","TYPE_FLOAT",146],",",["T_WHITESPACE","\n            ",146],["T_CONSTANT_ENCAPSED_STRING","'isActive'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_STRING","AttributeTypecastBehavior",147],["T_DOUBLE_COLON","::",147],["T_STRING","TYPE_BOOLEAN",147],",",["T_WHITESPACE","\n        ",147],"]",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEquals",149],"(",["T_VARIABLE","$expectedAttributeTypes",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$behavior",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","attributeTypes",149],")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * @depends testSkipNull\n     *\n     * @see https:\/\/github.com\/yiisoft\/yii2\/issues\/12880\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","testSkipNotSelectedAttribute",157],"(",")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$model",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","ActiveRecordAttributeTypecast",159],"(",")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$model",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","name",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'skip-not-selected'",160],";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$model",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","amount",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'58'",161],";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$model",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","price",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'100.8'",162],";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$model",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","isActive",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_LNUMBER","1",163],";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$model",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","callback",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'foo'",164],";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$model",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","save",165],"(",["T_STRING","false",165],")",";",["T_WHITESPACE","\n\n        ",165],["T_COMMENT","\/* @var $model ActiveRecordAttributeTypecast *\/",167],["T_WHITESPACE","\n        ",167],["T_VARIABLE","$model",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","ActiveRecordAttributeTypecast",168],["T_DOUBLE_COLON","::",168],["T_STRING","find",168],"(",")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","select",169],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'name'",169],"]",")",["T_WHITESPACE","\n            ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","limit",170],"(",["T_LNUMBER","1",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","one",171],"(",")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$model",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getAttributeTypecastBehavior",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","typecastAttributes",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$model",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","save",174],"(",["T_STRING","false",174],")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$model",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","refresh",176],"(",")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertEquals",177],"(",["T_CONSTANT_ENCAPSED_STRING","'58'",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$model",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","amount",177],")",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n",178],"}",["T_WHITESPACE","\n\n",179],["T_DOC_COMMENT","\/**\n * Test Active Record class with [[AttributeTypecastBehavior]] behavior attached.\n *\n * @property int $id\n * @property string $name\n * @property int $amount\n * @property float $price\n * @property bool $isActive\n * @property string $callback\n *\n * @property AttributeTypecastBehavior $attributeTypecastBehavior\n *\/",181],["T_WHITESPACE","\n",192],["T_CLASS","class",193],["T_WHITESPACE"," ",193],["T_STRING","ActiveRecordAttributeTypecast",193],["T_WHITESPACE"," ",193],["T_EXTENDS","extends",193],["T_WHITESPACE"," ",193],["T_STRING","ActiveRecord",193],["T_WHITESPACE","\n",193],"{",["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","behaviors",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],"[",["T_WHITESPACE","\n            ",197],["T_CONSTANT_ENCAPSED_STRING","'attributeTypecast'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],"[",["T_WHITESPACE","\n                ",198],["T_CONSTANT_ENCAPSED_STRING","'class'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_STRING","AttributeTypecastBehavior",199],["T_DOUBLE_COLON","::",199],["T_STRING","className",199],"(",")",",",["T_WHITESPACE","\n                ",199],["T_CONSTANT_ENCAPSED_STRING","'attributeTypes'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],"[",["T_WHITESPACE","\n                    ",200],["T_CONSTANT_ENCAPSED_STRING","'name'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_STRING","AttributeTypecastBehavior",201],["T_DOUBLE_COLON","::",201],["T_STRING","TYPE_STRING",201],",",["T_WHITESPACE","\n                    ",201],["T_CONSTANT_ENCAPSED_STRING","'amount'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_STRING","AttributeTypecastBehavior",202],["T_DOUBLE_COLON","::",202],["T_STRING","TYPE_INTEGER",202],",",["T_WHITESPACE","\n                    ",202],["T_CONSTANT_ENCAPSED_STRING","'price'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_STRING","AttributeTypecastBehavior",203],["T_DOUBLE_COLON","::",203],["T_STRING","TYPE_FLOAT",203],",",["T_WHITESPACE","\n                    ",203],["T_CONSTANT_ENCAPSED_STRING","'isActive'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_STRING","AttributeTypecastBehavior",204],["T_DOUBLE_COLON","::",204],["T_STRING","TYPE_BOOLEAN",204],",",["T_WHITESPACE","\n                    ",204],["T_CONSTANT_ENCAPSED_STRING","'callback'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$value",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                        ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'callback: '",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$value",206],";",["T_WHITESPACE","\n                    ",206],"}",",",["T_WHITESPACE","\n                ",207],"]",",",["T_WHITESPACE","\n                ",208],["T_CONSTANT_ENCAPSED_STRING","'typecastAfterValidate'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_STRING","true",209],",",["T_WHITESPACE","\n                ",209],["T_CONSTANT_ENCAPSED_STRING","'typecastBeforeSave'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_STRING","true",210],",",["T_WHITESPACE","\n                ",210],["T_CONSTANT_ENCAPSED_STRING","'typecastAfterFind'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_STRING","true",211],",",["T_WHITESPACE","\n            ",211],"]",",",["T_WHITESPACE","\n        ",212],"]",";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_STATIC","static",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","tableName",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'test_attribute_typecast'",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","rules",221],"(",")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],"[",["T_WHITESPACE","\n            ",223],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'string'",224],"]",",",["T_WHITESPACE","\n            ",224],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'integer'",225],"]",",",["T_WHITESPACE","\n            ",225],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",226],",",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'number'",226],"]",",",["T_WHITESPACE","\n            ",226],"[",["T_CONSTANT_ENCAPSED_STRING","'isActive'",227],",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'boolean'",227],"]",",",["T_WHITESPACE","\n        ",227],"]",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * @return AttributeTypecastBehavior\n     *\/",231],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","getAttributeTypecastBehavior",234],"(",")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getBehavior",236],"(",["T_CONSTANT_ENCAPSED_STRING","'attributeTypecast'",236],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n",237],"}",["T_WHITESPACE","\n",238]]