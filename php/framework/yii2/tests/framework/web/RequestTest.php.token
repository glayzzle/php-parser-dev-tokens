[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yiiunit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","web",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","yii",10],["T_NS_SEPARATOR","\\",10],["T_STRING","web",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Request",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yiiunit",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TestCase",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * @group web\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","RequestTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testParseAcceptHeader",18],"(",")",["T_WHITESPACE","\n    ",18],"{",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$request",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_NEW","new",20],["T_WHITESPACE"," ",20],["T_STRING","Request",20],";",["T_WHITESPACE","\n\n        ",20],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","assertEquals",22],"(","[","]",",",["T_WHITESPACE"," ",22],["T_VARIABLE","$request",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","parseAcceptHeader",22],"(",["T_CONSTANT_ENCAPSED_STRING","' '",22],")",")",";",["T_WHITESPACE","\n\n        ",22],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","assertEquals",24],"(","[",["T_WHITESPACE","\n            ",24],["T_CONSTANT_ENCAPSED_STRING","'audio\/basic'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],"[",["T_CONSTANT_ENCAPSED_STRING","'q'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_LNUMBER","1",25],"]",",",["T_WHITESPACE","\n            ",25],["T_CONSTANT_ENCAPSED_STRING","'audio\/*'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],"[",["T_CONSTANT_ENCAPSED_STRING","'q'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_DNUMBER","0.2",26],"]",",",["T_WHITESPACE","\n        ",26],"]",",",["T_WHITESPACE"," ",27],["T_VARIABLE","$request",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","parseAcceptHeader",27],"(",["T_CONSTANT_ENCAPSED_STRING","'audio\/*; q=0.2, audio\/basic'",27],")",")",";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","assertEquals",29],"(","[",["T_WHITESPACE","\n            ",29],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],"[",["T_CONSTANT_ENCAPSED_STRING","'q'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_LNUMBER","1",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'version'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'1.0'",30],"]",",",["T_WHITESPACE","\n            ",30],["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],"[",["T_CONSTANT_ENCAPSED_STRING","'q'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_LNUMBER","1",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'version'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'2.0'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'x'",31],"]",",",["T_WHITESPACE","\n            ",31],["T_CONSTANT_ENCAPSED_STRING","'text\/x-c'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],"[",["T_CONSTANT_ENCAPSED_STRING","'q'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_LNUMBER","1",32],"]",",",["T_WHITESPACE","\n            ",32],["T_CONSTANT_ENCAPSED_STRING","'text\/x-dvi'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],"[",["T_CONSTANT_ENCAPSED_STRING","'q'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_DNUMBER","0.8",33],"]",",",["T_WHITESPACE","\n            ",33],["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],"[",["T_CONSTANT_ENCAPSED_STRING","'q'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_DNUMBER","0.5",34],"]",",",["T_WHITESPACE","\n        ",34],"]",",",["T_WHITESPACE"," ",35],["T_VARIABLE","$request",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","parseAcceptHeader",35],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/plain; q=0.5,\n            application\/json; version=1.0,\n            application\/xml; version=2.0; x,\n            text\/x-dvi; q=0.8, text\/x-c'",35],")",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testPrefferedLanguage",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","mockApplication",43],"(","[",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","'language'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'en'",44],",",["T_WHITESPACE","\n        ",44],"]",")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$request",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_STRING","Request",47],"(",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$request",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","acceptableLanguages",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],"[","]",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertEquals",49],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$request",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getPreferredLanguage",49],"(",")",")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$request",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","Request",51],"(",")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$request",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","acceptableLanguages",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'de'",52],"]",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEquals",53],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$request",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getPreferredLanguage",53],"(",")",")",";",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$request",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","Request",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$request",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","acceptableLanguages",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'en-us'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'de'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'ru-RU'",56],"]",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEquals",57],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$request",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getPreferredLanguage",57],"(","[",["T_CONSTANT_ENCAPSED_STRING","'en'",57],"]",")",")",";",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$request",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_NEW","new",59],["T_WHITESPACE"," ",59],["T_STRING","Request",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$request",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","acceptableLanguages",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[",["T_CONSTANT_ENCAPSED_STRING","'en-us'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'de'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'ru-RU'",60],"]",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEquals",61],"(",["T_CONSTANT_ENCAPSED_STRING","'de'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$request",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getPreferredLanguage",61],"(","[",["T_CONSTANT_ENCAPSED_STRING","'ru'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'de'",61],"]",")",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEquals",62],"(",["T_CONSTANT_ENCAPSED_STRING","'de-DE'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$request",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getPreferredLanguage",62],"(","[",["T_CONSTANT_ENCAPSED_STRING","'ru'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'de-DE'",62],"]",")",")",";",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$request",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_STRING","Request",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$request",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","acceptableLanguages",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[",["T_CONSTANT_ENCAPSED_STRING","'en-us'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'de'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'ru-RU'",65],"]",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertEquals",66],"(",["T_CONSTANT_ENCAPSED_STRING","'de'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$request",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getPreferredLanguage",66],"(","[",["T_CONSTANT_ENCAPSED_STRING","'de'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'ru'",66],"]",")",")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$request",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_NEW","new",68],["T_WHITESPACE"," ",68],["T_STRING","Request",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$request",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","acceptableLanguages",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[",["T_CONSTANT_ENCAPSED_STRING","'en-us'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'de'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'ru-RU'",69],"]",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_CONSTANT_ENCAPSED_STRING","'ru-ru'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$request",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getPreferredLanguage",70],"(","[",["T_CONSTANT_ENCAPSED_STRING","'ru-ru'",70],"]",")",")",";",["T_WHITESPACE","\n\n        ",70],["T_VARIABLE","$request",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","Request",72],"(",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$request",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","acceptableLanguages",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],"[",["T_CONSTANT_ENCAPSED_STRING","'en-us'",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'de'",73],"]",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertEquals",74],"(",["T_CONSTANT_ENCAPSED_STRING","'ru-ru'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$request",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getPreferredLanguage",74],"(","[",["T_CONSTANT_ENCAPSED_STRING","'ru-ru'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'pl'",74],"]",")",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEquals",75],"(",["T_CONSTANT_ENCAPSED_STRING","'ru-RU'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$request",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getPreferredLanguage",75],"(","[",["T_CONSTANT_ENCAPSED_STRING","'ru-RU'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'pl'",75],"]",")",")",";",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$request",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","Request",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$request",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","acceptableLanguages",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[",["T_CONSTANT_ENCAPSED_STRING","'en-us'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'de'",78],"]",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertEquals",79],"(",["T_CONSTANT_ENCAPSED_STRING","'pl'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$request",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getPreferredLanguage",79],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pl'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'ru-ru'",79],"]",")",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testCsrfTokenValidation",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","mockWebApplication",84],"(",")",";",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$request",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","Request",86],"(",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$request",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","enableCsrfCookie",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","false",87],";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$token",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$request",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getCsrfToken",89],"(",")",";",["T_WHITESPACE","\n\n        ",89],["T_COMMENT","\/\/ accept any value if CSRF validation is disabled\n",91],["T_WHITESPACE","        ",92],["T_VARIABLE","$request",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","enableCsrfValidation",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","false",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertTrue",93],"(",["T_VARIABLE","$request",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","validateCsrfToken",93],"(",["T_VARIABLE","$token",93],")",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertTrue",94],"(",["T_VARIABLE","$request",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","validateCsrfToken",94],"(",["T_VARIABLE","$token",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'a'",94],")",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertTrue",95],"(",["T_VARIABLE","$request",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","validateCsrfToken",95],"(","[","]",")",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertTrue",96],"(",["T_VARIABLE","$request",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","validateCsrfToken",96],"(","[",["T_VARIABLE","$token",96],"]",")",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertTrue",97],"(",["T_VARIABLE","$request",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","validateCsrfToken",97],"(",["T_LNUMBER","0",97],")",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertTrue",98],"(",["T_VARIABLE","$request",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","validateCsrfToken",98],"(",["T_STRING","null",98],")",")",";",["T_WHITESPACE","\n\n        ",98],["T_COMMENT","\/\/ enable validation\n",100],["T_WHITESPACE","        ",101],["T_VARIABLE","$request",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","enableCsrfValidation",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","true",101],";",["T_WHITESPACE","\n\n        ",101],["T_COMMENT","\/\/ accept any value on GET request\n",103],["T_WHITESPACE","        ",104],["T_FOREACH","foreach",104],"(","[",["T_CONSTANT_ENCAPSED_STRING","'GET'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",104],"]",["T_WHITESPACE"," ",104],["T_AS","as",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$method",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$_POST",105],"[",["T_VARIABLE","$request",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","methodParam",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$method",105],";",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertTrue",106],"(",["T_VARIABLE","$request",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","validateCsrfToken",106],"(",["T_VARIABLE","$token",106],")",")",";",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertTrue",107],"(",["T_VARIABLE","$request",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","validateCsrfToken",107],"(",["T_VARIABLE","$token",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'a'",107],")",")",";",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertTrue",108],"(",["T_VARIABLE","$request",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","validateCsrfToken",108],"(","[","]",")",")",";",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertTrue",109],"(",["T_VARIABLE","$request",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","validateCsrfToken",109],"(","[",["T_VARIABLE","$token",109],"]",")",")",";",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertTrue",110],"(",["T_VARIABLE","$request",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","validateCsrfToken",110],"(",["T_LNUMBER","0",110],")",")",";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertTrue",111],"(",["T_VARIABLE","$request",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","validateCsrfToken",111],"(",["T_STRING","null",111],")",")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n\n        ",112],["T_COMMENT","\/\/ only accept valid token on POST\n",114],["T_WHITESPACE","        ",115],["T_FOREACH","foreach",115],"(","[",["T_CONSTANT_ENCAPSED_STRING","'POST'",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'PUT'",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",115],"]",["T_WHITESPACE"," ",115],["T_AS","as",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$method",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$_POST",116],"[",["T_VARIABLE","$request",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","methodParam",116],"]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$method",116],";",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertTrue",117],"(",["T_VARIABLE","$request",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","validateCsrfToken",117],"(",["T_VARIABLE","$token",117],")",")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertFalse",118],"(",["T_VARIABLE","$request",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","validateCsrfToken",118],"(",["T_VARIABLE","$token",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'a'",118],")",")",";",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertFalse",119],"(",["T_VARIABLE","$request",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","validateCsrfToken",119],"(","[","]",")",")",";",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertFalse",120],"(",["T_VARIABLE","$request",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","validateCsrfToken",120],"(","[",["T_VARIABLE","$token",120],"]",")",")",";",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertFalse",121],"(",["T_VARIABLE","$request",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","validateCsrfToken",121],"(",["T_LNUMBER","0",121],")",")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertFalse",122],"(",["T_VARIABLE","$request",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","validateCsrfToken",122],"(",["T_STRING","null",122],")",")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * test CSRF token validation by POST param\n     *\/",126],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","testCsrfTokenPost",129],"(",")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","mockWebApplication",131],"(",")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$request",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","Request",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$request",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","enableCsrfCookie",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","false",134],";",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$token",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$request",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getCsrfToken",136],"(",")",";",["T_WHITESPACE","\n\n        ",136],["T_COMMENT","\/\/ accept no value on GET request\n",138],["T_WHITESPACE","        ",139],["T_FOREACH","foreach",139],"(","[",["T_CONSTANT_ENCAPSED_STRING","'GET'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",139],"]",["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$method",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$_POST",140],"[",["T_VARIABLE","$request",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","methodParam",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$method",140],";",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertTrue",141],"(",["T_VARIABLE","$request",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","validateCsrfToken",141],"(",")",")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_COMMENT","\/\/ only accept valid token on POST\n",144],["T_WHITESPACE","        ",145],["T_FOREACH","foreach",145],"(","[",["T_CONSTANT_ENCAPSED_STRING","'POST'",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'PUT'",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",145],"]",["T_WHITESPACE"," ",145],["T_AS","as",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$method",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$_POST",146],"[",["T_VARIABLE","$request",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","methodParam",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$method",146],";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$request",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","setBodyParams",147],"(","[","]",")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertFalse",148],"(",["T_VARIABLE","$request",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","validateCsrfToken",148],"(",")",")",";",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$request",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","setBodyParams",149],"(","[",["T_VARIABLE","$request",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","csrfParam",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$token",149],"]",")",";",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertTrue",150],"(",["T_VARIABLE","$request",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","validateCsrfToken",150],"(",")",")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n    ",151],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * test CSRF token validation by POST param\n     *\/",155],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","testCsrfTokenHeader",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","mockWebApplication",160],"(",")",";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$request",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_NEW","new",162],["T_WHITESPACE"," ",162],["T_STRING","Request",162],"(",")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$request",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","enableCsrfCookie",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","false",163],";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$token",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$request",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getCsrfToken",165],"(",")",";",["T_WHITESPACE","\n\n        ",165],["T_COMMENT","\/\/ accept no value on GET request\n",167],["T_WHITESPACE","        ",168],["T_FOREACH","foreach",168],"(","[",["T_CONSTANT_ENCAPSED_STRING","'GET'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",168],"]",["T_WHITESPACE"," ",168],["T_AS","as",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$method",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$_POST",169],"[",["T_VARIABLE","$request",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","methodParam",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$method",169],";",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertTrue",170],"(",["T_VARIABLE","$request",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","validateCsrfToken",170],"(",")",")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n\n        ",171],["T_COMMENT","\/\/ only accept valid token on POST\n",173],["T_WHITESPACE","        ",174],["T_FOREACH","foreach",174],"(","[",["T_CONSTANT_ENCAPSED_STRING","'POST'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'PUT'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",174],"]",["T_WHITESPACE"," ",174],["T_AS","as",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$method",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$_POST",175],"[",["T_VARIABLE","$request",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","methodParam",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$method",175],";",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$request",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","setBodyParams",176],"(","[","]",")",";",["T_WHITESPACE","\n            ",176],["T_COMMENT","\/\/$request->headers->remove(Request::CSRF_HEADER);\n",177],["T_WHITESPACE","            ",178],["T_UNSET","unset",178],"(",["T_VARIABLE","$_SERVER",178],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_'",178],["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_STRING","str_replace",178],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'_'",178],",",["T_WHITESPACE"," ",178],["T_STRING","strtoupper",178],"(",["T_STRING","Request",178],["T_DOUBLE_COLON","::",178],["T_STRING","CSRF_HEADER",178],")",")","]",")",";",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertFalse",179],"(",["T_VARIABLE","$request",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","validateCsrfToken",179],"(",")",")",";",["T_WHITESPACE","\n            ",179],["T_COMMENT","\/\/$request->headers->add(Request::CSRF_HEADER, $token);\n",180],["T_WHITESPACE","            ",181],["T_VARIABLE","$_SERVER",181],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_'",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_STRING","str_replace",181],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'_'",181],",",["T_WHITESPACE"," ",181],["T_STRING","strtoupper",181],"(",["T_STRING","Request",181],["T_DOUBLE_COLON","::",181],["T_STRING","CSRF_HEADER",181],")",")","]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$token",181],";",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertTrue",182],"(",["T_VARIABLE","$request",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","validateCsrfToken",182],"(",")",")",";",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE","\n\n    ",183],"}",["T_WHITESPACE","\n\n    ",185],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","testResolve",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","mockWebApplication",189],"(","[",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'components'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],"[",["T_WHITESPACE","\n                ",190],["T_CONSTANT_ENCAPSED_STRING","'urlManager'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],"[",["T_WHITESPACE","\n                    ",191],["T_CONSTANT_ENCAPSED_STRING","'enablePrettyUrl'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_STRING","true",192],",",["T_WHITESPACE","\n                    ",192],["T_CONSTANT_ENCAPSED_STRING","'showScriptName'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_STRING","false",193],",",["T_WHITESPACE","\n                    ",193],["T_CONSTANT_ENCAPSED_STRING","'cache'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_STRING","null",194],",",["T_WHITESPACE","\n                    ",194],["T_CONSTANT_ENCAPSED_STRING","'rules'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],"[",["T_WHITESPACE","\n                        ",195],["T_CONSTANT_ENCAPSED_STRING","'posts'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'post\/list'",196],",",["T_WHITESPACE","\n                        ",196],["T_CONSTANT_ENCAPSED_STRING","'post\/<id>'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'post\/view'",197],",",["T_WHITESPACE","\n                    ",197],"]",",",["T_WHITESPACE","\n                ",198],"]",["T_WHITESPACE","\n            ",199],"]",["T_WHITESPACE","\n        ",200],"]",")",";",["T_WHITESPACE","\n\n        ",201],["T_VARIABLE","$request",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_NEW","new",203],["T_WHITESPACE"," ",203],["T_STRING","Request",203],"(",")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$request",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","pathInfo",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'posts'",204],";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$_GET",206],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_LNUMBER","1",206],";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$result",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$request",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","resolve",207],"(",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertEquals",208],"(","[",["T_CONSTANT_ENCAPSED_STRING","'post\/list'",208],",",["T_WHITESPACE"," ",208],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_LNUMBER","1",208],"]","]",",",["T_WHITESPACE"," ",208],["T_VARIABLE","$result",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertEquals",209],"(",["T_VARIABLE","$_GET",209],",",["T_WHITESPACE"," ",209],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_LNUMBER","1",209],"]",")",";",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$request",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setQueryParams",211],"(","[",["T_CONSTANT_ENCAPSED_STRING","'page'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_LNUMBER","5",211],"]",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$result",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$request",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","resolve",212],"(",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertEquals",213],"(","[",["T_CONSTANT_ENCAPSED_STRING","'post\/list'",213],",",["T_WHITESPACE"," ",213],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_LNUMBER","5",213],"]","]",",",["T_WHITESPACE"," ",213],["T_VARIABLE","$result",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEquals",214],"(",["T_VARIABLE","$_GET",214],",",["T_WHITESPACE"," ",214],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_LNUMBER","1",214],"]",")",";",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$request",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","setQueryParams",216],"(","[",["T_CONSTANT_ENCAPSED_STRING","'custom-page'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_LNUMBER","5",216],"]",")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$result",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$request",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","resolve",217],"(",")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertEquals",218],"(","[",["T_CONSTANT_ENCAPSED_STRING","'post\/list'",218],",",["T_WHITESPACE"," ",218],"[",["T_CONSTANT_ENCAPSED_STRING","'custom-page'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_LNUMBER","5",218],"]","]",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$result",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertEquals",219],"(",["T_VARIABLE","$_GET",219],",",["T_WHITESPACE"," ",219],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_LNUMBER","1",219],"]",")",";",["T_WHITESPACE","\n\n        ",219],["T_UNSET","unset",221],"(",["T_VARIABLE","$_GET",221],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",221],"]",")",";",["T_WHITESPACE","\n\n        ",221],["T_VARIABLE","$request",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_NEW","new",223],["T_WHITESPACE"," ",223],["T_STRING","Request",223],"(",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$request",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","pathInfo",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'post\/21'",224],";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertEquals",226],"(",["T_VARIABLE","$_GET",226],",",["T_WHITESPACE"," ",226],"[","]",")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$result",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$request",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","resolve",227],"(",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertEquals",228],"(","[",["T_CONSTANT_ENCAPSED_STRING","'post\/view'",228],",",["T_WHITESPACE"," ",228],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_LNUMBER","21",228],"]","]",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$result",228],")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertEquals",229],"(",["T_VARIABLE","$_GET",229],",",["T_WHITESPACE"," ",229],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_LNUMBER","21",229],"]",")",";",["T_WHITESPACE","\n\n        ",229],["T_VARIABLE","$_GET",231],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",231],"]",["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_LNUMBER","42",231],";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$result",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$request",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","resolve",232],"(",")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","assertEquals",233],"(","[",["T_CONSTANT_ENCAPSED_STRING","'post\/view'",233],",",["T_WHITESPACE"," ",233],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_LNUMBER","21",233],"]","]",",",["T_WHITESPACE"," ",233],["T_VARIABLE","$result",233],")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertEquals",234],"(",["T_VARIABLE","$_GET",234],",",["T_WHITESPACE"," ",234],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_LNUMBER","21",234],"]",")",";",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$_GET",236],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",236],"]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_LNUMBER","63",236],";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$request",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","setQueryParams",237],"(","[",["T_CONSTANT_ENCAPSED_STRING","'token'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'secret'",237],"]",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$result",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$request",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","resolve",238],"(",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertEquals",239],"(","[",["T_CONSTANT_ENCAPSED_STRING","'post\/view'",239],",",["T_WHITESPACE"," ",239],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_LNUMBER","21",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'token'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'secret'",239],"]","]",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$result",239],")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertEquals",240],"(",["T_VARIABLE","$_GET",240],",",["T_WHITESPACE"," ",240],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_LNUMBER","63",240],"]",")",";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","testGetHostInfo",243],"(",")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$request",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_NEW","new",245],["T_WHITESPACE"," ",245],["T_STRING","Request",245],"(",")",";",["T_WHITESPACE","\n\n        ",245],["T_UNSET","unset",247],"(",["T_VARIABLE","$_SERVER",247],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",247],"]",",",["T_WHITESPACE"," ",247],["T_VARIABLE","$_SERVER",247],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",247],"]",")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","assertSame",248],"(",["T_STRING","null",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$request",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getHostInfo",248],"(",")",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertSame",249],"(",["T_STRING","null",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$request",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getHostName",249],"(",")",")",";",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$request",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","setHostInfo",251],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername.com:80'",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","assertSame",252],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername.com:80'",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$request",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getHostInfo",252],"(",")",")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertSame",253],"(",["T_CONSTANT_ENCAPSED_STRING","'servername.com'",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$request",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getHostName",253],"(",")",")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * @expectedException \\yii\\base\\InvalidConfigException\n     *\/",256],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","testGetScriptFileWithEmptyServer",259],"(",")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$request",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_NEW","new",261],["T_WHITESPACE"," ",261],["T_STRING","Request",261],"(",")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$_SERVER",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],"[","]",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$request",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getScriptFile",264],"(",")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * @expectedException \\yii\\base\\InvalidConfigException\n     *\/",267],["T_WHITESPACE","\n    ",269],["T_PUBLIC","public",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","testGetScriptUrlWithEmptyServer",270],"(",")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$request",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_NEW","new",272],["T_WHITESPACE"," ",272],["T_STRING","Request",272],"(",")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$_SERVER",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],"[","]",";",["T_WHITESPACE","\n\n        ",273],["T_VARIABLE","$request",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getScriptUrl",275],"(",")",";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","testGetServerName",278],"(",")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$request",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_NEW","new",280],["T_WHITESPACE"," ",280],["T_STRING","Request",280],"(",")",";",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$_SERVER",282],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",282],"]",["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'servername'",282],";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","assertEquals",283],"(",["T_CONSTANT_ENCAPSED_STRING","'servername'",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$request",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getServerName",283],"(",")",")",";",["T_WHITESPACE","\n\n        ",283],["T_UNSET","unset",285],"(",["T_VARIABLE","$_SERVER",285],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",285],"]",")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertEquals",286],"(",["T_STRING","null",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$request",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getServerName",286],"(",")",")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_PUBLIC","public",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","testGetServerPort",289],"(",")",["T_WHITESPACE","\n    ",289],"{",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$request",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_NEW","new",291],["T_WHITESPACE"," ",291],["T_STRING","Request",291],"(",")",";",["T_WHITESPACE","\n\n        ",291],["T_VARIABLE","$_SERVER",293],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_LNUMBER","33",293],";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","assertEquals",294],"(",["T_LNUMBER","33",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$request",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getServerPort",294],"(",")",")",";",["T_WHITESPACE","\n\n        ",294],["T_UNSET","unset",296],"(",["T_VARIABLE","$_SERVER",296],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",296],"]",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","assertEquals",297],"(",["T_STRING","null",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$request",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getServerPort",297],"(",")",")",";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n",298],"}",["T_WHITESPACE","\n",299]]