[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yiiunit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","web",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","yii",10],["T_NS_SEPARATOR","\\",10],["T_STRING","web",10],["T_NS_SEPARATOR","\\",10],["T_STRING","JsonResponseFormatter",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yiiunit",11],["T_NS_SEPARATOR","\\",11],["T_STRING","framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","web",11],["T_NS_SEPARATOR","\\",11],["T_STRING","stubs",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ModelStub",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * @author Alexander Makarov <sam@rmcreative.ru>\n * @since 2.0.3\n *\n * @group web\n *\/",13],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","JsonResponseFormatterTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","FormatterTest",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @return JsonResponseFormatter\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","getFormatterInstance",24],"(",")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_RETURN","return",26],["T_WHITESPACE"," ",26],["T_NEW","new",26],["T_WHITESPACE"," ",26],["T_STRING","JsonResponseFormatter",26],"(",")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n\n    ",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","formatScalarDataProvider",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_RETURN","return",31],["T_WHITESPACE"," ",31],"[",["T_WHITESPACE","\n            ",31],"[",["T_LNUMBER","1",32],",",["T_WHITESPACE"," ",32],["T_LNUMBER","1",32],"]",",",["T_WHITESPACE","\n            ",32],"[",["T_CONSTANT_ENCAPSED_STRING","'abc'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'\"abc\"'",33],"]",",",["T_WHITESPACE","\n            ",33],"[",["T_STRING","true",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'true'",34],"]",",",["T_WHITESPACE","\n            ",34],"[",["T_CONSTANT_ENCAPSED_STRING","\"<>\"",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'\"<>\"'",35],"]",",",["T_WHITESPACE","\n        ",35],"]",";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","formatArrayDataProvider",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_RETURN","return",41],["T_WHITESPACE"," ",41],"[",["T_WHITESPACE","\n            ",41],["T_COMMENT","\/\/ input, json, pretty json\n",42],["T_WHITESPACE","            ",43],"[","[","]",",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","\"[]\"",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","\"[]\"",43],"]",",",["T_WHITESPACE","\n            ",43],"[","[",["T_LNUMBER","1",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'abc'",44],"]",",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'[1,\"abc\"]'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","\"[\\n    1,\\n    \\\"abc\\\"\\n]\"",44],"]",",",["T_WHITESPACE","\n            ",44],"[","[",["T_WHITESPACE","\n                ",45],["T_CONSTANT_ENCAPSED_STRING","'a'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_LNUMBER","1",46],",",["T_WHITESPACE","\n                ",46],["T_CONSTANT_ENCAPSED_STRING","'b'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'abc'",47],",",["T_WHITESPACE","\n            ",47],"]",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'{\"a\":1,\"b\":\"abc\"}'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","\"{\\n    \\\"a\\\": 1,\\n    \\\"b\\\": \\\"abc\\\"\\n}\"",48],"]",",",["T_WHITESPACE","\n            ",48],"[","[",["T_WHITESPACE","\n                ",49],["T_LNUMBER","1",50],",",["T_WHITESPACE","\n                ",50],["T_CONSTANT_ENCAPSED_STRING","'abc'",51],",",["T_WHITESPACE","\n                ",51],"[",["T_LNUMBER","2",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'def'",52],"]",",",["T_WHITESPACE","\n                ",52],["T_STRING","true",53],",",["T_WHITESPACE","\n            ",53],"]",",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'[1,\"abc\",[2,\"def\"],true]'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","\"[\\n    1,\\n    \\\"abc\\\",\\n    [\\n        2,\\n        \\\"def\\\"\\n    ],\\n    true\\n]\"",54],"]",",",["T_WHITESPACE","\n            ",54],"[","[",["T_WHITESPACE","\n                ",55],["T_CONSTANT_ENCAPSED_STRING","'a'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],",",["T_WHITESPACE","\n                ",56],["T_CONSTANT_ENCAPSED_STRING","'b'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'abc'",57],",",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'c'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],"[",["T_LNUMBER","2",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'<>'",58],"]",",",["T_WHITESPACE","\n                ",58],["T_STRING","true",59],",",["T_WHITESPACE","\n            ",59],"]",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'{\"a\":1,\"b\":\"abc\",\"c\":[2,\"<>\"],\"0\":true}'",60],",",["T_WHITESPACE","\n               ",60],["T_CONSTANT_ENCAPSED_STRING","\"{\\n    \\\"a\\\": 1,\\n    \\\"b\\\": \\\"abc\\\",\\n    \\\"c\\\": [\\n        2,\\n        \\\"<>\\\"\\n    ],\\n    \\\"0\\\": true\\n}\"",61],"]",",",["T_WHITESPACE","\n        ",61],"]",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","formatObjectDataProvider",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_RETURN","return",67],["T_WHITESPACE"," ",67],"[",["T_WHITESPACE","\n            ",67],"[",["T_NEW","new",68],["T_WHITESPACE"," ",68],["T_STRING","Post",68],"(",["T_LNUMBER","123",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'abc'",68],")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'{\"id\":123,\"title\":\"abc\"}'",68],"]",",",["T_WHITESPACE","\n            ",68],"[","[",["T_WHITESPACE","\n                ",69],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","Post",70],"(",["T_LNUMBER","123",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'abc'",70],")",",",["T_WHITESPACE","\n                ",70],["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_STRING","Post",71],"(",["T_LNUMBER","456",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'def'",71],")",",",["T_WHITESPACE","\n            ",71],"]",",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'[{\"id\":123,\"title\":\"abc\"},{\"id\":456,\"title\":\"def\"}]'",72],"]",",",["T_WHITESPACE","\n            ",72],"[","[",["T_WHITESPACE","\n                ",73],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_STRING","Post",74],"(",["T_LNUMBER","123",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'<>'",74],")",",",["T_WHITESPACE","\n                ",74],["T_CONSTANT_ENCAPSED_STRING","'a'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","Post",75],"(",["T_LNUMBER","456",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'def'",75],")",",",["T_WHITESPACE","\n            ",75],"]",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'{\"0\":{\"id\":123,\"title\":\"<>\"},\"a\":{\"id\":456,\"title\":\"def\"}}'",76],"]",",",["T_WHITESPACE","\n        ",76],"]",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","formatTraversableObjectDataProvider",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$postsStack",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_NS_SEPARATOR","\\",82],["T_STRING","SplStack",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$postsStack",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","push",83],"(",["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","Post",83],"(",["T_LNUMBER","915",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'record1'",83],")",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$postsStack",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","push",84],"(",["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","Post",84],"(",["T_LNUMBER","456",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'record2'",84],")",")",";",["T_WHITESPACE","\n\n        ",84],["T_RETURN","return",86],["T_WHITESPACE"," ",86],"[",["T_WHITESPACE","\n            ",86],"[",["T_VARIABLE","$postsStack",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'{\"1\":{\"id\":456,\"title\":\"record2\"},\"0\":{\"id\":915,\"title\":\"record1\"}}'",87],"]",["T_WHITESPACE","\n        ",87],"]",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","formatModelDataProvider",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n            ",93],"[",["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","ModelStub",94],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_LNUMBER","123",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'title'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'abc'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'hidden'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'hidden'",94],"]",")",",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'{\"id\":123,\"title\":\"abc\"}'",94],"]",["T_WHITESPACE","\n        ",94],"]",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * @param mixed  $data the data to be formatted\n     * @param string $json the expected JSON body\n     * @param string $prettyJson the expected pretty JSON body\n     * @dataProvider formatArrayDataProvider\n     *\/",98],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","testFormatArraysPretty",104],"(",["T_VARIABLE","$data",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$json",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$prettyJson",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","response",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","data",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$data",106],";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","formatter",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","prettyPrint",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","true",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","formatter",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","format",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","response",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEquals",109],"(",["T_VARIABLE","$prettyJson",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","response",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","content",109],")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n",110],"}",["T_WHITESPACE","\n",112]]