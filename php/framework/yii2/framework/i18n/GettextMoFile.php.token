[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","i18n",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","yii",10],["T_NS_SEPARATOR","\\",10],["T_STRING","base",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * GettextMoFile represents an MO Gettext message file.\n *\n * This class is written by adapting Michael's Gettext_MO class in PEAR.\n * Please refer to the following license terms.\n *\n * Copyright (c) 2004-2005, Michael Wallner <mike@iworks.at>.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *     * Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and\/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",12],["T_WHITESPACE","\n",43],["T_CLASS","class",44],["T_WHITESPACE"," ",44],["T_STRING","GettextMoFile",44],["T_WHITESPACE"," ",44],["T_EXTENDS","extends",44],["T_WHITESPACE"," ",44],["T_STRING","GettextFile",44],["T_WHITESPACE","\n",44],"{",["T_WHITESPACE","\n    ",45],["T_DOC_COMMENT","\/**\n     * @var bool whether to use big-endian when reading and writing an integer.\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$useBigEndian",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","false",49],";",["T_WHITESPACE","\n\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Loads messages from an MO file.\n     * @param string $filePath file path\n     * @param string $context message context\n     * @return array message translations. Array keys are source messages and array values are translated messages:\n     * source message => translated message.\n     * @throws Exception if unable to read the MO file\n     *\/",52],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","load",60],"(",["T_VARIABLE","$filePath",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$context",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_STRING","false",62],["T_WHITESPACE"," ",62],["T_IS_IDENTICAL","===",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$fileHandle",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],"@",["T_STRING","fopen",62],"(",["T_VARIABLE","$filePath",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'rb'",62],")",")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_THROW","throw",63],["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","Exception",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to read file \"'",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_VARIABLE","$filePath",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'\".'",63],")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n        ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_STRING","false",65],["T_WHITESPACE"," ",65],["T_IS_IDENTICAL","===",65],["T_WHITESPACE"," ",65],"@",["T_STRING","flock",65],"(",["T_VARIABLE","$fileHandle",65],",",["T_WHITESPACE"," ",65],["T_STRING","LOCK_SH",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_THROW","throw",66],["T_WHITESPACE"," ",66],["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_STRING","Exception",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to lock file \"'",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_VARIABLE","$filePath",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'\" for reading.'",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n\n        ",67],["T_COMMENT","\/\/ magic\n",69],["T_WHITESPACE","        ",70],["T_VARIABLE","$array",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","unpack",70],"(",["T_CONSTANT_ENCAPSED_STRING","'c'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","readBytes",70],"(",["T_VARIABLE","$fileHandle",70],",",["T_WHITESPACE"," ",70],["T_LNUMBER","4",70],")",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$magic",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","current",71],"(",["T_VARIABLE","$array",71],")",";",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$magic",72],["T_WHITESPACE"," ",72],["T_IS_EQUAL","==",72],["T_WHITESPACE"," ",72],"-",["T_LNUMBER","34",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","useBigEndian",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","false",73],";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE"," ",74],["T_ELSEIF","elseif",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$magic",74],["T_WHITESPACE"," ",74],["T_IS_EQUAL","==",74],["T_WHITESPACE"," ",74],"-",["T_LNUMBER","107",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","useBigEndian",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","true",75],";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE"," ",76],["T_ELSE","else",76],["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_THROW","throw",77],["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","Exception",77],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid MO file: '",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$filePath",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","' (magic: '",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$magic",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","').'",77],")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n\n        ",78],["T_COMMENT","\/\/ revision\n",80],["T_WHITESPACE","        ",81],["T_VARIABLE","$revision",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","readInteger",81],"(",["T_VARIABLE","$fileHandle",81],")",";",["T_WHITESPACE","\n        ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$revision",82],["T_WHITESPACE"," ",82],["T_IS_NOT_IDENTICAL","!==",82],["T_WHITESPACE"," ",82],["T_LNUMBER","0",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_THROW","throw",83],["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","Exception",83],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid MO file revision: '",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$revision",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'.'",83],")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$count",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","readInteger",86],"(",["T_VARIABLE","$fileHandle",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$sourceOffset",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","readInteger",87],"(",["T_VARIABLE","$fileHandle",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$targetOffset",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","readInteger",88],"(",["T_VARIABLE","$fileHandle",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$sourceLengths",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[","]",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$sourceOffsets",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[","]",";",["T_WHITESPACE","\n        ",91],["T_STRING","fseek",92],"(",["T_VARIABLE","$fileHandle",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$sourceOffset",92],")",";",["T_WHITESPACE","\n        ",92],["T_FOR","for",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$i",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_LNUMBER","0",93],";",["T_WHITESPACE"," ",93],["T_VARIABLE","$i",93],["T_WHITESPACE"," ",93],"<",["T_WHITESPACE"," ",93],["T_VARIABLE","$count",93],";",["T_WHITESPACE"," ",93],["T_INC","++",93],["T_VARIABLE","$i",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$sourceLengths",94],"[","]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","readInteger",94],"(",["T_VARIABLE","$fileHandle",94],")",";",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$sourceOffsets",95],"[","]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","readInteger",95],"(",["T_VARIABLE","$fileHandle",95],")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$targetLengths",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],"[","]",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$targetOffsets",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"[","]",";",["T_WHITESPACE","\n        ",99],["T_STRING","fseek",100],"(",["T_VARIABLE","$fileHandle",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$targetOffset",100],")",";",["T_WHITESPACE","\n        ",100],["T_FOR","for",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$i",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],";",["T_WHITESPACE"," ",101],["T_VARIABLE","$i",101],["T_WHITESPACE"," ",101],"<",["T_WHITESPACE"," ",101],["T_VARIABLE","$count",101],";",["T_WHITESPACE"," ",101],["T_INC","++",101],["T_VARIABLE","$i",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$targetLengths",102],"[","]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","readInteger",102],"(",["T_VARIABLE","$fileHandle",102],")",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$targetOffsets",103],"[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","readInteger",103],"(",["T_VARIABLE","$fileHandle",103],")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$messages",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[","]",";",["T_WHITESPACE","\n        ",106],["T_FOR","for",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$i",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],";",["T_WHITESPACE"," ",107],["T_VARIABLE","$i",107],["T_WHITESPACE"," ",107],"<",["T_WHITESPACE"," ",107],["T_VARIABLE","$count",107],";",["T_WHITESPACE"," ",107],["T_INC","++",107],["T_VARIABLE","$i",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$id",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","readString",108],"(",["T_VARIABLE","$fileHandle",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$sourceLengths",108],"[",["T_VARIABLE","$i",108],"]",",",["T_WHITESPACE"," ",108],["T_VARIABLE","$sourceOffsets",108],"[",["T_VARIABLE","$i",108],"]",")",";",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$separatorPosition",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","strpos",109],"(",["T_VARIABLE","$id",109],",",["T_WHITESPACE"," ",109],["T_STRING","chr",109],"(",["T_LNUMBER","4",109],")",")",";",["T_WHITESPACE","\n\n\n            ",109],["T_IF","if",112],["T_WHITESPACE"," ",112],"(","(","!",["T_VARIABLE","$context",112],["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$separatorPosition",112],["T_WHITESPACE"," ",112],["T_IS_IDENTICAL","===",112],["T_WHITESPACE"," ",112],["T_STRING","false",112],")",["T_WHITESPACE"," ",112],["T_BOOLEAN_OR","||",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$context",112],["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$separatorPosition",112],["T_WHITESPACE"," ",112],["T_IS_NOT_IDENTICAL","!==",112],["T_WHITESPACE"," ",112],["T_STRING","false",112],["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],["T_STRING","strncmp",112],"(",["T_VARIABLE","$id",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$context",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$separatorPosition",112],")",["T_WHITESPACE"," ",112],["T_IS_IDENTICAL","===",112],["T_WHITESPACE"," ",112],["T_LNUMBER","0",112],")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$separatorPosition",113],["T_WHITESPACE"," ",113],["T_IS_NOT_IDENTICAL","!==",113],["T_WHITESPACE"," ",113],["T_STRING","false",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n                    ",113],["T_VARIABLE","$id",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","substr",114],"(",["T_VARIABLE","$id",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$separatorPosition",114],"+",["T_LNUMBER","1",114],")",";",["T_WHITESPACE","\n                ",114],"}",["T_WHITESPACE","\n\n                ",115],["T_VARIABLE","$message",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","readString",117],"(",["T_VARIABLE","$fileHandle",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$targetLengths",117],"[",["T_VARIABLE","$i",117],"]",",",["T_WHITESPACE"," ",117],["T_VARIABLE","$targetOffsets",117],"[",["T_VARIABLE","$i",117],"]",")",";",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$messages",118],"[",["T_VARIABLE","$id",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$message",118],";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],"@",["T_STRING","flock",122],"(",["T_VARIABLE","$fileHandle",122],",",["T_WHITESPACE"," ",122],["T_STRING","LOCK_UN",122],")",";",["T_WHITESPACE","\n        ",122],"@",["T_STRING","fclose",123],"(",["T_VARIABLE","$fileHandle",123],")",";",["T_WHITESPACE","\n\n        ",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$messages",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Saves messages to an MO file.\n     * @param string $filePath file path\n     * @param array $messages message translations. Array keys are source messages and array values are\n     * translated messages: source message => translated message. Note if the message has a context,\n     * the message ID must be prefixed with the context with chr(4) as the separator.\n     * @throws Exception if unable to save the MO file\n     *\/",128],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","save",136],"(",["T_VARIABLE","$filePath",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$messages",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","false",138],["T_WHITESPACE"," ",138],["T_IS_IDENTICAL","===",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$fileHandle",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"@",["T_STRING","fopen",138],"(",["T_VARIABLE","$filePath",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'wb'",138],")",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_THROW","throw",139],["T_WHITESPACE"," ",139],["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","Exception",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to write file \"'",139],["T_WHITESPACE"," ",139],".",["T_WHITESPACE"," ",139],["T_VARIABLE","$filePath",139],["T_WHITESPACE"," ",139],".",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'\".'",139],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n        ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_STRING","false",141],["T_WHITESPACE"," ",141],["T_IS_IDENTICAL","===",141],["T_WHITESPACE"," ",141],"@",["T_STRING","flock",141],"(",["T_VARIABLE","$fileHandle",141],",",["T_WHITESPACE"," ",141],["T_STRING","LOCK_EX",141],")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_THROW","throw",142],["T_WHITESPACE"," ",142],["T_NEW","new",142],["T_WHITESPACE"," ",142],["T_STRING","Exception",142],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to lock file \"'",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$filePath",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'\" for reading.'",142],")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_COMMENT","\/\/ magic\n",145],["T_WHITESPACE","        ",146],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","useBigEndian",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","writeBytes",147],"(",["T_VARIABLE","$fileHandle",147],",",["T_WHITESPACE"," ",147],["T_STRING","pack",147],"(",["T_CONSTANT_ENCAPSED_STRING","'c*'",147],",",["T_WHITESPACE"," ",147],["T_LNUMBER","0x95",147],",",["T_WHITESPACE"," ",147],["T_LNUMBER","0x04",147],",",["T_WHITESPACE"," ",147],["T_LNUMBER","0x12",147],",",["T_WHITESPACE"," ",147],["T_LNUMBER","0xde",147],")",")",";",["T_WHITESPACE"," ",147],["T_COMMENT","\/\/ -107\n",147],["T_WHITESPACE","        ",148],"}",["T_WHITESPACE"," ",148],["T_ELSE","else",148],["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","writeBytes",149],"(",["T_VARIABLE","$fileHandle",149],",",["T_WHITESPACE"," ",149],["T_STRING","pack",149],"(",["T_CONSTANT_ENCAPSED_STRING","'c*'",149],",",["T_WHITESPACE"," ",149],["T_LNUMBER","0xde",149],",",["T_WHITESPACE"," ",149],["T_LNUMBER","0x12",149],",",["T_WHITESPACE"," ",149],["T_LNUMBER","0x04",149],",",["T_WHITESPACE"," ",149],["T_LNUMBER","0x95",149],")",")",";",["T_WHITESPACE"," ",149],["T_COMMENT","\/\/ -34\n",149],["T_WHITESPACE","        ",150],"}",["T_WHITESPACE","\n\n        ",150],["T_COMMENT","\/\/ revision\n",152],["T_WHITESPACE","        ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","writeInteger",153],"(",["T_VARIABLE","$fileHandle",153],",",["T_WHITESPACE"," ",153],["T_LNUMBER","0",153],")",";",["T_WHITESPACE","\n\n        ",153],["T_COMMENT","\/\/ message count\n",155],["T_WHITESPACE","        ",156],["T_VARIABLE","$messageCount",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","count",156],"(",["T_VARIABLE","$messages",156],")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","writeInteger",157],"(",["T_VARIABLE","$fileHandle",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$messageCount",157],")",";",["T_WHITESPACE","\n\n        ",157],["T_COMMENT","\/\/ offset of source message table\n",159],["T_WHITESPACE","        ",160],["T_VARIABLE","$offset",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_LNUMBER","28",160],";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","writeInteger",161],"(",["T_VARIABLE","$fileHandle",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$offset",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$offset",162],["T_WHITESPACE"," ",162],["T_PLUS_EQUAL","+=",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$messageCount",162],["T_WHITESPACE"," ",162],"*",["T_WHITESPACE"," ",162],["T_LNUMBER","8",162],";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","writeInteger",163],"(",["T_VARIABLE","$fileHandle",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$offset",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_COMMENT","\/\/ hashtable size, omitted\n",165],["T_WHITESPACE","        ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","writeInteger",166],"(",["T_VARIABLE","$fileHandle",166],",",["T_WHITESPACE"," ",166],["T_LNUMBER","0",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$offset",167],["T_WHITESPACE"," ",167],["T_PLUS_EQUAL","+=",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$messageCount",167],["T_WHITESPACE"," ",167],"*",["T_WHITESPACE"," ",167],["T_LNUMBER","8",167],";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","writeInteger",168],"(",["T_VARIABLE","$fileHandle",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$offset",168],")",";",["T_WHITESPACE","\n\n        ",168],["T_COMMENT","\/\/ length and offsets for source messages\n",170],["T_WHITESPACE","        ",171],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_STRING","array_keys",171],"(",["T_VARIABLE","$messages",171],")",["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$id",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$length",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","strlen",172],"(",["T_VARIABLE","$id",172],")",";",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","writeInteger",173],"(",["T_VARIABLE","$fileHandle",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$length",173],")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","writeInteger",174],"(",["T_VARIABLE","$fileHandle",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$offset",174],")",";",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$offset",175],["T_WHITESPACE"," ",175],["T_PLUS_EQUAL","+=",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$length",175],["T_WHITESPACE"," ",175],"+",["T_WHITESPACE"," ",175],["T_LNUMBER","1",175],";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n\n        ",176],["T_COMMENT","\/\/ length and offsets for target messages\n",178],["T_WHITESPACE","        ",179],["T_FOREACH","foreach",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$messages",179],["T_WHITESPACE"," ",179],["T_AS","as",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$message",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$length",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","strlen",180],"(",["T_VARIABLE","$message",180],")",";",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","writeInteger",181],"(",["T_VARIABLE","$fileHandle",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$length",181],")",";",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","writeInteger",182],"(",["T_VARIABLE","$fileHandle",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$offset",182],")",";",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$offset",183],["T_WHITESPACE"," ",183],["T_PLUS_EQUAL","+=",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$length",183],["T_WHITESPACE"," ",183],"+",["T_WHITESPACE"," ",183],["T_LNUMBER","1",183],";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n\n        ",184],["T_COMMENT","\/\/ source messages\n",186],["T_WHITESPACE","        ",187],["T_FOREACH","foreach",187],["T_WHITESPACE"," ",187],"(",["T_STRING","array_keys",187],"(",["T_VARIABLE","$messages",187],")",["T_WHITESPACE"," ",187],["T_AS","as",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$id",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","writeString",188],"(",["T_VARIABLE","$fileHandle",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$id",188],")",";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n\n        ",189],["T_COMMENT","\/\/ target messages\n",191],["T_WHITESPACE","        ",192],["T_FOREACH","foreach",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$messages",192],["T_WHITESPACE"," ",192],["T_AS","as",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$message",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","writeString",193],"(",["T_VARIABLE","$fileHandle",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$message",193],")",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n        ",194],"@",["T_STRING","flock",196],"(",["T_VARIABLE","$fileHandle",196],",",["T_WHITESPACE"," ",196],["T_STRING","LOCK_UN",196],")",";",["T_WHITESPACE","\n        ",196],"@",["T_STRING","fclose",197],"(",["T_VARIABLE","$fileHandle",197],")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Reads one or several bytes.\n     * @param resource $fileHandle to read from\n     * @param int $byteCount to be read\n     * @return string bytes\n     *\/",200],["T_WHITESPACE","\n    ",205],["T_PROTECTED","protected",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","readBytes",206],"(",["T_VARIABLE","$fileHandle",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$byteCount",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_LNUMBER","1",206],")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$byteCount",208],["T_WHITESPACE"," ",208],">",["T_WHITESPACE"," ",208],["T_LNUMBER","0",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_STRING","fread",209],"(",["T_VARIABLE","$fileHandle",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$byteCount",209],")",";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE"," ",210],["T_ELSE","else",210],["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_STRING","null",211],";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Write bytes.\n     * @param resource $fileHandle to write to\n     * @param string $bytes to be written\n     * @return int how many bytes are written\n     *\/",215],["T_WHITESPACE","\n    ",220],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","writeBytes",221],"(",["T_VARIABLE","$fileHandle",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$bytes",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_STRING","fwrite",223],"(",["T_VARIABLE","$fileHandle",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$bytes",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Reads a 4-byte integer.\n     * @param resource $fileHandle to read from\n     * @return int the result\n     *\/",226],["T_WHITESPACE","\n    ",230],["T_PROTECTED","protected",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","readInteger",231],"(",["T_VARIABLE","$fileHandle",231],")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$array",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","unpack",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","useBigEndian",233],["T_WHITESPACE"," ",233],"?",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'N'",233],["T_WHITESPACE"," ",233],":",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'V'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","readBytes",233],"(",["T_VARIABLE","$fileHandle",233],",",["T_WHITESPACE"," ",233],["T_LNUMBER","4",233],")",")",";",["T_WHITESPACE","\n\n        ",233],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_STRING","current",235],"(",["T_VARIABLE","$array",235],")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * Writes a 4-byte integer.\n     * @param resource $fileHandle to write to\n     * @param int $integer to be written\n     * @return int how many bytes are written\n     *\/",238],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","writeInteger",244],"(",["T_VARIABLE","$fileHandle",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$integer",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","writeBytes",246],"(",["T_VARIABLE","$fileHandle",246],",",["T_WHITESPACE"," ",246],["T_STRING","pack",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","useBigEndian",246],["T_WHITESPACE"," ",246],"?",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'N'",246],["T_WHITESPACE"," ",246],":",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'V'",246],",",["T_WHITESPACE"," ",246],["T_INT_CAST","(int)",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$integer",246],")",")",";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Reads a string.\n     * @param resource $fileHandle file handle\n     * @param int $length of the string\n     * @param int $offset of the string in the file. If null, it reads from the current position.\n     * @return string the result\n     *\/",249],["T_WHITESPACE","\n    ",255],["T_PROTECTED","protected",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","readString",256],"(",["T_VARIABLE","$fileHandle",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$length",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$offset",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","null",256],")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$offset",258],["T_WHITESPACE"," ",258],["T_IS_NOT_IDENTICAL","!==",258],["T_WHITESPACE"," ",258],["T_STRING","null",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_STRING","fseek",259],"(",["T_VARIABLE","$fileHandle",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$offset",259],")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n\n        ",260],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","readBytes",262],"(",["T_VARIABLE","$fileHandle",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$length",262],")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Writes a string.\n     * @param resource $fileHandle to write to\n     * @param string $string to be written\n     * @return int how many bytes are written\n     *\/",265],["T_WHITESPACE","\n    ",270],["T_PROTECTED","protected",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","writeString",271],"(",["T_VARIABLE","$fileHandle",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$string",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","writeBytes",273],"(",["T_VARIABLE","$fileHandle",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$string",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"\\0\"",273],")",";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n",274],"}",["T_WHITESPACE","\n",275]]