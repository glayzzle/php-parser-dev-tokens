[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","i18n",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * PhpMessageSource represents a message source that stores translated messages in PHP scripts.\n *\n * PhpMessageSource uses PHP arrays to keep message translations.\n *\n * - Each PHP script contains one array which stores the message translations in one particular\n *   language and for a single message category;\n * - Each PHP script is saved as a file named as \"[[basePath]]\/LanguageID\/CategoryName.php\";\n * - Within each PHP script, the message translations are returned as an array like the following:\n *\n * ```php\n * return [\n *     'original message 1' => 'translated message 1',\n *     'original message 2' => 'translated message 2',\n * ];\n * ```\n *\n * You may use [[fileMap]] to customize the association between category names and the file names.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",12],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","PhpMessageSource",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","MessageSource",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * @var string the base path for all translated messages. Defaults to '@app\/messages'.\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$basePath",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'@app\/messages'",39],";",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * @var array mapping between message categories and the corresponding message file paths.\n     * The file paths are relative to [[basePath]]. For example,\n     *\n     * ```php\n     * [\n     *     'core' => 'core.php',\n     *     'ext' => 'extensions.php',\n     * ]\n     * ```\n     *\/",40],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$fileMap",51],";",["T_WHITESPACE","\n\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Loads the message translation for the specified $language and $category.\n     * If translation for specific locale code such as `en-US` isn't found it\n     * tries more generic `en`. When both are present, the `en-US` messages will be merged\n     * over `en`. See [[loadFallbackMessages]] for details.\n     * If the $language is less specific than [[sourceLanguage]], the method will try to\n     * load the messages for [[sourceLanguage]]. For example: [[sourceLanguage]] is `en-GB`,\n     * $language is `en`. The method will load the messages for `en` and merge them over `en-GB`.\n     *\n     * @param string $category the message category\n     * @param string $language the target language\n     * @return array the loaded messages. The keys are original messages, and the values are the translated messages.\n     * @see loadFallbackMessages\n     * @see sourceLanguage\n     *\/",54],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","loadMessages",69],"(",["T_VARIABLE","$category",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$language",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$messageFile",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMessageFilePath",71],"(",["T_VARIABLE","$category",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$language",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$messages",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","loadMessagesFromFile",72],"(",["T_VARIABLE","$messageFile",72],")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$fallbackLanguage",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","substr",74],"(",["T_VARIABLE","$language",74],",",["T_WHITESPACE"," ",74],["T_LNUMBER","0",74],",",["T_WHITESPACE"," ",74],["T_LNUMBER","2",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$fallbackSourceLanguage",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","substr",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","sourceLanguage",75],",",["T_WHITESPACE"," ",75],["T_LNUMBER","0",75],",",["T_WHITESPACE"," ",75],["T_LNUMBER","2",75],")",";",["T_WHITESPACE","\n\n        ",75],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$language",77],["T_WHITESPACE"," ",77],["T_IS_NOT_IDENTICAL","!==",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$fallbackLanguage",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$messages",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","loadFallbackMessages",78],"(",["T_VARIABLE","$category",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$fallbackLanguage",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$messages",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$messageFile",78],")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE"," ",79],["T_ELSEIF","elseif",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$language",79],["T_WHITESPACE"," ",79],["T_IS_IDENTICAL","===",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$fallbackSourceLanguage",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$messages",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","loadFallbackMessages",80],"(",["T_VARIABLE","$category",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","sourceLanguage",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$messages",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$messageFile",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE"," ",81],["T_ELSE","else",81],["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$messages",82],["T_WHITESPACE"," ",82],["T_IS_IDENTICAL","===",82],["T_WHITESPACE"," ",82],["T_STRING","null",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_STRING","Yii",83],["T_DOUBLE_COLON","::",83],["T_STRING","error",83],"(","\"",["T_ENCAPSED_AND_WHITESPACE","The message file for category '",83],["T_VARIABLE","$category",83],["T_ENCAPSED_AND_WHITESPACE","' does not exist: ",83],["T_VARIABLE","$messageFile",83],"\"",",",["T_WHITESPACE"," ",83],["T_METHOD_C","__METHOD__",83],")",";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_ARRAY_CAST","(array)",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$messages",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * The method is normally called by [[loadMessages]] to load the fallback messages for the language.\n     * Method tries to load the $category messages for the $fallbackLanguage and adds them to the $messages array.\n     *\n     * @param string $category the message category\n     * @param string $fallbackLanguage the target fallback language\n     * @param array $messages the array of previously loaded translation messages.\n     * The keys are original messages, and the values are the translated messages.\n     * @param string $originalMessageFile the path to the file with messages. Used to log an error message\n     * in case when no translations were found.\n     * @return array the loaded messages. The keys are original messages, and the values are the translated messages.\n     * @since 2.0.7\n     *\/",90],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","loadFallbackMessages",103],"(",["T_VARIABLE","$category",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$fallbackLanguage",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$messages",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$originalMessageFile",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$fallbackMessageFile",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getMessageFilePath",105],"(",["T_VARIABLE","$category",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$fallbackLanguage",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$fallbackMessages",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","loadMessagesFromFile",106],"(",["T_VARIABLE","$fallbackMessageFile",106],")",";",["T_WHITESPACE","\n\n        ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$messages",109],["T_WHITESPACE"," ",109],["T_IS_IDENTICAL","===",109],["T_WHITESPACE"," ",109],["T_STRING","null",109],["T_WHITESPACE"," ",109],["T_BOOLEAN_AND","&&",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$fallbackMessages",109],["T_WHITESPACE"," ",109],["T_IS_IDENTICAL","===",109],["T_WHITESPACE"," ",109],["T_STRING","null",109],["T_WHITESPACE","\n            ",109],["T_BOOLEAN_AND","&&",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$fallbackLanguage",110],["T_WHITESPACE"," ",110],["T_IS_NOT_IDENTICAL","!==",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","sourceLanguage",110],["T_WHITESPACE","\n            ",110],["T_BOOLEAN_AND","&&",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$fallbackLanguage",111],["T_WHITESPACE"," ",111],["T_IS_NOT_IDENTICAL","!==",111],["T_WHITESPACE"," ",111],["T_STRING","substr",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","sourceLanguage",111],",",["T_WHITESPACE"," ",111],["T_LNUMBER","0",111],",",["T_WHITESPACE"," ",111],["T_LNUMBER","2",111],")",["T_WHITESPACE","\n        ",111],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_STRING","Yii",113],["T_DOUBLE_COLON","::",113],["T_STRING","error",113],"(","\"",["T_ENCAPSED_AND_WHITESPACE","The message file for category '",113],["T_VARIABLE","$category",113],["T_ENCAPSED_AND_WHITESPACE","' does not exist: ",113],["T_VARIABLE","$originalMessageFile",113],["T_ENCAPSED_AND_WHITESPACE"," ",113],"\"",["T_WHITESPACE","\n                ",113],".",["T_WHITESPACE"," ",114],"\"",["T_ENCAPSED_AND_WHITESPACE","Fallback file does not exist as well: ",114],["T_VARIABLE","$fallbackMessageFile",114],"\"",",",["T_WHITESPACE"," ",114],["T_METHOD_C","__METHOD__",114],")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE"," ",115],["T_ELSEIF","elseif",115],["T_WHITESPACE"," ",115],"(",["T_EMPTY","empty",115],"(",["T_VARIABLE","$messages",115],")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$fallbackMessages",116],";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE"," ",117],["T_ELSEIF","elseif",117],["T_WHITESPACE"," ",117],"(","!",["T_EMPTY","empty",117],"(",["T_VARIABLE","$fallbackMessages",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_FOREACH","foreach",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$fallbackMessages",118],["T_WHITESPACE"," ",118],["T_AS","as",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$key",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$value",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_EMPTY","empty",119],"(",["T_VARIABLE","$value",119],")",["T_WHITESPACE"," ",119],["T_BOOLEAN_AND","&&",119],["T_WHITESPACE"," ",119],["T_EMPTY","empty",119],"(",["T_VARIABLE","$messages",119],"[",["T_VARIABLE","$key",119],"]",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                    ",119],["T_VARIABLE","$messages",120],"[",["T_VARIABLE","$key",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$fallbackMessages",120],"[",["T_VARIABLE","$key",120],"]",";",["T_WHITESPACE","\n                ",120],"}",["T_WHITESPACE","\n            ",121],"}",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_ARRAY_CAST","(array)",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$messages",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Returns message file path for the specified language and category.\n     *\n     * @param string $category the message category\n     * @param string $language the target language\n     * @return string path to message file\n     *\/",128],["T_WHITESPACE","\n    ",134],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getMessageFilePath",135],"(",["T_VARIABLE","$category",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$language",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$messageFile",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","Yii",137],["T_DOUBLE_COLON","::",137],["T_STRING","getAlias",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","basePath",137],")",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],"\"",["T_ENCAPSED_AND_WHITESPACE","\/",137],["T_VARIABLE","$language",137],["T_ENCAPSED_AND_WHITESPACE","\/",137],"\"",";",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_ISSET","isset",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","fileMap",138],"[",["T_VARIABLE","$category",138],"]",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$messageFile",139],["T_WHITESPACE"," ",139],["T_CONCAT_EQUAL",".=",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","fileMap",139],"[",["T_VARIABLE","$category",139],"]",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE"," ",140],["T_ELSE","else",140],["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$messageFile",141],["T_WHITESPACE"," ",141],["T_CONCAT_EQUAL",".=",141],["T_WHITESPACE"," ",141],["T_STRING","str_replace",141],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'\/'",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$category",141],")",["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'.php'",141],";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$messageFile",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Loads the message translation for the specified language and category or returns null if file doesn't exist.\n     *\n     * @param string $messageFile path to message file\n     * @return array|null array of messages or null if file not found\n     *\/",147],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","loadMessagesFromFile",153],"(",["T_VARIABLE","$messageFile",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_STRING","is_file",155],"(",["T_VARIABLE","$messageFile",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$messages",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_INCLUDE","include",156],"(",["T_VARIABLE","$messageFile",156],")",";",["T_WHITESPACE","\n            ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","!",["T_STRING","is_array",157],"(",["T_VARIABLE","$messages",157],")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$messages",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],"[","]",";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n\n            ",159],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$messages",161],";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE"," ",162],["T_ELSE","else",162],["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","null",163],";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n",165],"}",["T_WHITESPACE","\n",166]]