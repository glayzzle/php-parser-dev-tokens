[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","i18n",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","InvalidConfigException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","db",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Expression",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","di",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Instance",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","helpers",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ArrayHelper",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","yii",15],["T_NS_SEPARATOR","\\",15],["T_STRING","caching",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Cache",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","yii",16],["T_NS_SEPARATOR","\\",16],["T_STRING","db",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Connection",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","yii",17],["T_NS_SEPARATOR","\\",17],["T_STRING","db",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Query",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * DbMessageSource extends [[MessageSource]] and represents a message source that stores translated\n * messages in database.\n *\n * The database must contain the following two tables: source_message and message.\n *\n * The `source_message` table stores the messages to be translated, and the `message` table stores\n * the translated messages. The name of these two tables can be customized by setting [[sourceMessageTable]]\n * and [[messageTable]], respectively.\n *\n * The database connection is specified by [[db]]. Database schema could be initialized by applying migration:\n *\n * ```\n * yii migrate --migrationPath=@yii\/i18n\/migrations\/\n * ```\n *\n * If you don't want to use migration and need SQL instead, files for all databases are in migrations directory.\n *\n * @author resurtm <resurtm@gmail.com>\n * @since 2.0\n *\/",19],["T_WHITESPACE","\n",39],["T_CLASS","class",40],["T_WHITESPACE"," ",40],["T_STRING","DbMessageSource",40],["T_WHITESPACE"," ",40],["T_EXTENDS","extends",40],["T_WHITESPACE"," ",40],["T_STRING","MessageSource",40],["T_WHITESPACE","\n",40],"{",["T_WHITESPACE","\n    ",41],["T_DOC_COMMENT","\/**\n     * Prefix which would be used when generating cache key.\n     * @deprecated This constant has never been used and will be removed in 2.1.0.\n     *\/",42],["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","CACHE_KEY_PREFIX",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'DbMessageSource'",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var Connection|array|string the DB connection object or the application component ID of the DB connection.\n     *\n     * After the DbMessageSource object is created, if you want to change this property, you should only assign\n     * it with a DB connection object.\n     *\n     * Starting from version 2.0.2, this can also be a configuration array for creating the object.\n     *\/",48],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$db",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'db'",56],";",["T_WHITESPACE","\n    ",56],["T_DOC_COMMENT","\/**\n     * @var Cache|array|string the cache object or the application component ID of the cache object.\n     * The messages data will be cached using this cache object.\n     * Note, that to enable caching you have to set [[enableCaching]] to `true`, otherwise setting this property has no effect.\n     *\n     * After the DbMessageSource object is created, if you want to change this property, you should only assign\n     * it with a cache object.\n     *\n     * Starting from version 2.0.2, this can also be a configuration array for creating the object.\n     * @see cachingDuration\n     * @see enableCaching\n     *\/",57],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$cache",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'cache'",69],";",["T_WHITESPACE","\n    ",69],["T_DOC_COMMENT","\/**\n     * @var string the name of the source message table.\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$sourceMessageTable",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'{{%source_message}}'",73],";",["T_WHITESPACE","\n    ",73],["T_DOC_COMMENT","\/**\n     * @var string the name of the translated message table.\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$messageTable",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'{{%message}}'",77],";",["T_WHITESPACE","\n    ",77],["T_DOC_COMMENT","\/**\n     * @var int the time in seconds that the messages can remain valid in cache.\n     * Use 0 to indicate that the cached data will never expire.\n     * @see enableCaching\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$cachingDuration",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_LNUMBER","0",83],";",["T_WHITESPACE","\n    ",83],["T_DOC_COMMENT","\/**\n     * @var bool whether to enable caching translated messages\n     *\/",84],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$enableCaching",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","false",87],";",["T_WHITESPACE","\n\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Initializes the DbMessageSource component.\n     * This method will initialize the [[db]] property to make sure it refers to a valid DB connection.\n     * Configured [[cache]] component would also be initialized.\n     * @throws InvalidConfigException if [[db]] is invalid or [[cache]] is invalid.\n     *\/",90],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","init",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_STRING","parent",98],["T_DOUBLE_COLON","::",98],["T_STRING","init",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","db",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","Instance",99],["T_DOUBLE_COLON","::",99],["T_STRING","ensure",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","db",99],",",["T_WHITESPACE"," ",99],["T_STRING","Connection",99],["T_DOUBLE_COLON","::",99],["T_STRING","className",99],"(",")",")",";",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","enableCaching",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","cache",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","Instance",101],["T_DOUBLE_COLON","::",101],["T_STRING","ensure",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","cache",101],",",["T_WHITESPACE"," ",101],["T_STRING","Cache",101],["T_DOUBLE_COLON","::",101],["T_STRING","className",101],"(",")",")",";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Loads the message translation for the specified language and category.\n     * If translation for specific locale code such as `en-US` isn't found it\n     * tries more generic `en`.\n     *\n     * @param string $category the message category\n     * @param string $language the target language\n     * @return array the loaded messages. The keys are original messages, and the values\n     * are translated messages.\n     *\/",105],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","loadMessages",115],"(",["T_VARIABLE","$category",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$language",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","enableCaching",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$key",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],"[",["T_WHITESPACE","\n                ",118],["T_CLASS_C","__CLASS__",119],",",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$category",120],",",["T_WHITESPACE","\n                ",120],["T_VARIABLE","$language",121],",",["T_WHITESPACE","\n            ",121],"]",";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$messages",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","cache",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","get",123],"(",["T_VARIABLE","$key",123],")",";",["T_WHITESPACE","\n            ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$messages",124],["T_WHITESPACE"," ",124],["T_IS_IDENTICAL","===",124],["T_WHITESPACE"," ",124],["T_STRING","false",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$messages",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","loadMessagesFromDb",125],"(",["T_VARIABLE","$category",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$language",125],")",";",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","cache",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","set",126],"(",["T_VARIABLE","$key",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$messages",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","cachingDuration",126],")",";",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE","\n\n            ",127],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$messages",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE"," ",130],["T_ELSE","else",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","loadMessagesFromDb",131],"(",["T_VARIABLE","$category",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$language",131],")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Loads the messages from database.\n     * You may override this method to customize the message storage in the database.\n     * @param string $category the message category.\n     * @param string $language the target language.\n     * @return array the messages loaded from database.\n     *\/",135],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","loadMessagesFromDb",142],"(",["T_VARIABLE","$category",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$language",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$mainQuery",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],"(",["T_NEW","new",144],["T_WHITESPACE"," ",144],["T_STRING","Query",144],"(",")",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","select",144],"(","[",["T_CONSTANT_ENCAPSED_STRING","'message'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'t1.message'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'translation'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'t2.translation'",144],"]",")",["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","from",145],"(","[",["T_CONSTANT_ENCAPSED_STRING","'t1'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","sourceMessageTable",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'t2'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","messageTable",145],"]",")",["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","where",146],"(","[",["T_WHITESPACE","\n                ",146],["T_CONSTANT_ENCAPSED_STRING","'t1.id'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_NEW","new",147],["T_WHITESPACE"," ",147],["T_STRING","Expression",147],"(",["T_CONSTANT_ENCAPSED_STRING","'[[t2.id]]'",147],")",",",["T_WHITESPACE","\n                ",147],["T_CONSTANT_ENCAPSED_STRING","'t1.category'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$category",148],",",["T_WHITESPACE","\n                ",148],["T_CONSTANT_ENCAPSED_STRING","'t2.language'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$language",149],",",["T_WHITESPACE","\n            ",149],"]",")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$fallbackLanguage",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","substr",152],"(",["T_VARIABLE","$language",152],",",["T_WHITESPACE"," ",152],["T_LNUMBER","0",152],",",["T_WHITESPACE"," ",152],["T_LNUMBER","2",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$fallbackSourceLanguage",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","substr",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","sourceLanguage",153],",",["T_WHITESPACE"," ",153],["T_LNUMBER","0",153],",",["T_WHITESPACE"," ",153],["T_LNUMBER","2",153],")",";",["T_WHITESPACE","\n\n        ",153],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$fallbackLanguage",155],["T_WHITESPACE"," ",155],["T_IS_NOT_IDENTICAL","!==",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$language",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$mainQuery",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","union",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","createFallbackQuery",156],"(",["T_VARIABLE","$category",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$language",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$fallbackLanguage",156],")",",",["T_WHITESPACE"," ",156],["T_STRING","true",156],")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE"," ",157],["T_ELSEIF","elseif",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$language",157],["T_WHITESPACE"," ",157],["T_IS_IDENTICAL","===",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$fallbackSourceLanguage",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$mainQuery",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","union",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","createFallbackQuery",158],"(",["T_VARIABLE","$category",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$language",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$fallbackSourceLanguage",158],")",",",["T_WHITESPACE"," ",158],["T_STRING","true",158],")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$messages",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$mainQuery",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","createCommand",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","db",161],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","queryAll",161],"(",")",";",["T_WHITESPACE","\n\n        ",161],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","ArrayHelper",163],["T_DOUBLE_COLON","::",163],["T_STRING","map",163],"(",["T_VARIABLE","$messages",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'message'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'translation'",163],")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * The method builds the [[Query]] object for the fallback language messages search.\n     * Normally is called from [[loadMessagesFromDb]].\n     *\n     * @param string $category the message category\n     * @param string $language the originally requested language\n     * @param string $fallbackLanguage the target fallback language\n     * @return Query\n     * @see loadMessagesFromDb\n     * @since 2.0.7\n     *\/",166],["T_WHITESPACE","\n    ",176],["T_PROTECTED","protected",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","createFallbackQuery",177],"(",["T_VARIABLE","$category",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$language",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$fallbackLanguage",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],"(",["T_NEW","new",179],["T_WHITESPACE"," ",179],["T_STRING","Query",179],"(",")",")",["T_OBJECT_OPERATOR","->",179],["T_STRING","select",179],"(","[",["T_CONSTANT_ENCAPSED_STRING","'message'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'t1.message'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'translation'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'t2.translation'",179],"]",")",["T_WHITESPACE","\n            ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","from",180],"(","[",["T_CONSTANT_ENCAPSED_STRING","'t1'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","sourceMessageTable",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'t2'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","messageTable",180],"]",")",["T_WHITESPACE","\n            ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","where",181],"(","[",["T_WHITESPACE","\n                ",181],["T_CONSTANT_ENCAPSED_STRING","'t1.id'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_NEW","new",182],["T_WHITESPACE"," ",182],["T_STRING","Expression",182],"(",["T_CONSTANT_ENCAPSED_STRING","'[[t2.id]]'",182],")",",",["T_WHITESPACE","\n                ",182],["T_CONSTANT_ENCAPSED_STRING","'t1.category'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$category",183],",",["T_WHITESPACE","\n                ",183],["T_CONSTANT_ENCAPSED_STRING","'t2.language'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$fallbackLanguage",184],",",["T_WHITESPACE","\n            ",184],"]",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","andWhere",185],"(","[",["T_WHITESPACE","\n                ",185],["T_CONSTANT_ENCAPSED_STRING","'NOT IN'",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'t2.id'",186],",",["T_WHITESPACE"," ",186],"(",["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","Query",186],"(",")",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","select",186],"(",["T_CONSTANT_ENCAPSED_STRING","'[[id]]'",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","from",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","messageTable",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","where",186],"(","[",["T_CONSTANT_ENCAPSED_STRING","'language'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$language",186],"]",")",["T_WHITESPACE","\n            ",186],"]",")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n",188],"}",["T_WHITESPACE","\n",189]]