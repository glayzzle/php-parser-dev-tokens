[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","rest",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Arrayable",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","base",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","base",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","data",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DataProviderInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","yii",15],["T_NS_SEPARATOR","\\",15],["T_STRING","data",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Pagination",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","yii",16],["T_NS_SEPARATOR","\\",16],["T_STRING","helpers",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ArrayHelper",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","yii",17],["T_NS_SEPARATOR","\\",17],["T_STRING","web",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Link",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","yii",18],["T_NS_SEPARATOR","\\",18],["T_STRING","web",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Request",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","yii",19],["T_NS_SEPARATOR","\\",19],["T_STRING","web",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Response",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * Serializer converts resource objects and collections into array representation.\n *\n * Serializer is mainly used by REST controllers to convert different objects into array representation\n * so that they can be further turned into different formats, such as JSON, XML, by response formatters.\n *\n * The default implementation handles resources as [[Model]] objects and collections as objects\n * implementing [[DataProviderInterface]]. You may override [[serialize()]] to handle more types.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",21],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Serializer",33],["T_WHITESPACE"," ",33],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","Component",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_DOC_COMMENT","\/**\n     * @var string the name of the query parameter containing the information about which fields should be returned\n     * for a [[Model]] object. If the parameter is not provided or empty, the default set of fields as defined\n     * by [[Model::fields()]] will be returned.\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$fieldsParam",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'fields'",40],";",["T_WHITESPACE","\n    ",40],["T_DOC_COMMENT","\/**\n     * @var string the name of the query parameter containing the information about which fields should be returned\n     * in addition to those listed in [[fieldsParam]] for a resource object.\n     *\/",41],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$expandParam",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'expand'",45],";",["T_WHITESPACE","\n    ",45],["T_DOC_COMMENT","\/**\n     * @var string the name of the HTTP header containing the information about total number of data items.\n     * This is used when serving a resource collection with pagination.\n     *\/",46],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$totalCountHeader",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'X-Pagination-Total-Count'",50],";",["T_WHITESPACE","\n    ",50],["T_DOC_COMMENT","\/**\n     * @var string the name of the HTTP header containing the information about total number of pages of data.\n     * This is used when serving a resource collection with pagination.\n     *\/",51],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$pageCountHeader",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'X-Pagination-Page-Count'",55],";",["T_WHITESPACE","\n    ",55],["T_DOC_COMMENT","\/**\n     * @var string the name of the HTTP header containing the information about the current page number (1-based).\n     * This is used when serving a resource collection with pagination.\n     *\/",56],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$currentPageHeader",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'X-Pagination-Current-Page'",60],";",["T_WHITESPACE","\n    ",60],["T_DOC_COMMENT","\/**\n     * @var string the name of the HTTP header containing the information about the number of data items in each page.\n     * This is used when serving a resource collection with pagination.\n     *\/",61],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$perPageHeader",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'X-Pagination-Per-Page'",65],";",["T_WHITESPACE","\n    ",65],["T_DOC_COMMENT","\/**\n     * @var string the name of the envelope (e.g. `items`) for returning the resource objects in a collection.\n     * This is used when serving a resource collection. When this is set and pagination is enabled, the serializer\n     * will return a collection in the following format:\n     *\n     * ```php\n     * [\n     *     'items' => [...],  \/\/ assuming collectionEnvelope is \"items\"\n     *     '_links' => {  \/\/ pagination links as returned by Pagination::getLinks()\n     *         'self' => '...',\n     *         'next' => '...',\n     *         'last' => '...',\n     *     },\n     *     '_meta' => {  \/\/ meta information as returned by Pagination::toArray()\n     *         'totalCount' => 100,\n     *         'pageCount' => 5,\n     *         'currentPage' => 1,\n     *         'perPage' => 20,\n     *     },\n     * ]\n     * ```\n     *\n     * If this property is not set, the resource arrays will be directly returned without using envelope.\n     * The pagination information as shown in `_links` and `_meta` can be accessed from the response HTTP headers.\n     *\/",66],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$collectionEnvelope",91],";",["T_WHITESPACE","\n    ",91],["T_DOC_COMMENT","\/**\n     * @var string the name of the envelope (e.g. `_links`) for returning the links objects.\n     * It takes effect only, if `collectionEnvelope` is set.\n     * @since 2.0.4\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$linksEnvelope",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'_links'",97],";",["T_WHITESPACE","\n    ",97],["T_DOC_COMMENT","\/**\n     * @var string the name of the envelope (e.g. `_meta`) for returning the pagination object.\n     * It takes effect only, if `collectionEnvelope` is set.\n     * @since 2.0.4\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$metaEnvelope",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'_meta'",103],";",["T_WHITESPACE","\n    ",103],["T_DOC_COMMENT","\/**\n     * @var Request the current request. If not set, the `request` application component will be used.\n     *\/",104],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$request",107],";",["T_WHITESPACE","\n    ",107],["T_DOC_COMMENT","\/**\n     * @var Response the response to be sent. If not set, the `response` application component will be used.\n     *\/",108],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$response",111],";",["T_WHITESPACE","\n    ",111],["T_DOC_COMMENT","\/**\n     * @var bool whether to preserve array keys when serializing collection data.\n     * Set this to `true` to allow serialization of a collection as a JSON object where array keys are\n     * used to index the model objects. The default is to serialize all collections as array, regardless\n     * of how the array is indexed.\n     * @see serializeDataProvider()\n     * @since 2.0.10\n     *\/",112],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$preserveKeys",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","false",120],";",["T_WHITESPACE","\n\n\n    ",120],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",123],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","init",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","request",128],["T_WHITESPACE"," ",128],["T_IS_IDENTICAL","===",128],["T_WHITESPACE"," ",128],["T_STRING","null",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","request",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","Yii",129],["T_DOUBLE_COLON","::",129],["T_VARIABLE","$app",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getRequest",129],"(",")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","response",131],["T_WHITESPACE"," ",131],["T_IS_IDENTICAL","===",131],["T_WHITESPACE"," ",131],["T_STRING","null",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","response",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","Yii",132],["T_DOUBLE_COLON","::",132],["T_VARIABLE","$app",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getResponse",132],"(",")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Serializes the given data into a format that can be easily turned into other formats.\n     * This method mainly converts the objects of recognized types into array representation.\n     * It will not do conversion for unknown object types or non-object data.\n     * The default implementation will handle [[Model]] and [[DataProviderInterface]].\n     * You may override this method to support more object types.\n     * @param mixed $data the data to be serialized.\n     * @return mixed the converted data.\n     *\/",136],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","serialize",145],"(",["T_VARIABLE","$data",145],")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$data",147],["T_WHITESPACE"," ",147],["T_INSTANCEOF","instanceof",147],["T_WHITESPACE"," ",147],["T_STRING","Model",147],["T_WHITESPACE"," ",147],["T_BOOLEAN_AND","&&",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$data",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","hasErrors",147],"(",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","serializeModelErrors",148],"(",["T_VARIABLE","$data",148],")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE"," ",149],["T_ELSEIF","elseif",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$data",149],["T_WHITESPACE"," ",149],["T_INSTANCEOF","instanceof",149],["T_WHITESPACE"," ",149],["T_STRING","Arrayable",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","serializeModel",150],"(",["T_VARIABLE","$data",150],")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE"," ",151],["T_ELSEIF","elseif",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$data",151],["T_WHITESPACE"," ",151],["T_INSTANCEOF","instanceof",151],["T_WHITESPACE"," ",151],["T_STRING","DataProviderInterface",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","serializeDataProvider",152],"(",["T_VARIABLE","$data",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE"," ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$data",154],";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * @return array the names of the requested fields. The first element is an array\n     * representing the list of default fields requested, while the second element is\n     * an array of the extra fields requested in addition to the default fields.\n     * @see Model::fields()\n     * @see Model::extraFields()\n     *\/",158],["T_WHITESPACE","\n    ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","getRequestedFields",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$fields",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","request",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","get",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","fieldsParam",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$expand",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","request",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","get",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","expandParam",168],")",";",["T_WHITESPACE","\n\n        ",168],["T_RETURN","return",170],["T_WHITESPACE"," ",170],"[",["T_WHITESPACE","\n            ",170],["T_STRING","is_string",171],"(",["T_VARIABLE","$fields",171],")",["T_WHITESPACE"," ",171],"?",["T_WHITESPACE"," ",171],["T_STRING","preg_split",171],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s*,\\s*\/'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$fields",171],",",["T_WHITESPACE"," ",171],"-",["T_LNUMBER","1",171],",",["T_WHITESPACE"," ",171],["T_STRING","PREG_SPLIT_NO_EMPTY",171],")",["T_WHITESPACE"," ",171],":",["T_WHITESPACE"," ",171],"[","]",",",["T_WHITESPACE","\n            ",171],["T_STRING","is_string",172],"(",["T_VARIABLE","$expand",172],")",["T_WHITESPACE"," ",172],"?",["T_WHITESPACE"," ",172],["T_STRING","preg_split",172],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s*,\\s*\/'",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$expand",172],",",["T_WHITESPACE"," ",172],"-",["T_LNUMBER","1",172],",",["T_WHITESPACE"," ",172],["T_STRING","PREG_SPLIT_NO_EMPTY",172],")",["T_WHITESPACE"," ",172],":",["T_WHITESPACE"," ",172],"[","]",",",["T_WHITESPACE","\n        ",172],"]",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Serializes a data provider.\n     * @param DataProviderInterface $dataProvider\n     * @return array the array representation of the data provider.\n     *\/",176],["T_WHITESPACE","\n    ",180],["T_PROTECTED","protected",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","serializeDataProvider",181],"(",["T_VARIABLE","$dataProvider",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","preserveKeys",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$models",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$dataProvider",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getModels",184],"(",")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$models",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","array_values",186],"(",["T_VARIABLE","$dataProvider",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getModels",186],"(",")",")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$models",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","serializeModels",188],"(",["T_VARIABLE","$models",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_IF","if",190],["T_WHITESPACE"," ",190],"(","(",["T_VARIABLE","$pagination",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$dataProvider",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getPagination",190],"(",")",")",["T_WHITESPACE"," ",190],["T_IS_NOT_IDENTICAL","!==",190],["T_WHITESPACE"," ",190],["T_STRING","false",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","addPaginationHeaders",191],"(",["T_VARIABLE","$pagination",191],")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n\n        ",192],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","request",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getIsHead",194],"(",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_STRING","null",195],";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE"," ",196],["T_ELSEIF","elseif",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","collectionEnvelope",196],["T_WHITESPACE"," ",196],["T_IS_IDENTICAL","===",196],["T_WHITESPACE"," ",196],["T_STRING","null",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$models",197],";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE"," ",198],["T_ELSE","else",198],["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$result",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],"[",["T_WHITESPACE","\n                ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","collectionEnvelope",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$models",200],",",["T_WHITESPACE","\n            ",200],"]",";",["T_WHITESPACE","\n            ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$pagination",202],["T_WHITESPACE"," ",202],["T_IS_NOT_IDENTICAL","!==",202],["T_WHITESPACE"," ",202],["T_STRING","false",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_STRING","array_merge",203],"(",["T_VARIABLE","$result",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","serializePagination",203],"(",["T_VARIABLE","$pagination",203],")",")",";",["T_WHITESPACE","\n            ",203],"}",["T_WHITESPACE"," ",204],["T_ELSE","else",204],["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n                ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$result",205],";",["T_WHITESPACE","\n            ",205],"}",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Serializes a pagination into an array.\n     * @param Pagination $pagination\n     * @return array the array representation of the pagination\n     * @see addPaginationHeaders()\n     *\/",210],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","serializePagination",216],"(",["T_VARIABLE","$pagination",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],"[",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","linksEnvelope",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_STRING","Link",219],["T_DOUBLE_COLON","::",219],["T_STRING","serialize",219],"(",["T_VARIABLE","$pagination",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getLinks",219],"(",["T_STRING","true",219],")",")",",",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","metaEnvelope",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],"[",["T_WHITESPACE","\n                ",220],["T_CONSTANT_ENCAPSED_STRING","'totalCount'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$pagination",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","totalCount",221],",",["T_WHITESPACE","\n                ",221],["T_CONSTANT_ENCAPSED_STRING","'pageCount'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$pagination",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getPageCount",222],"(",")",",",["T_WHITESPACE","\n                ",222],["T_CONSTANT_ENCAPSED_STRING","'currentPage'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$pagination",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getPage",223],"(",")",["T_WHITESPACE"," ",223],"+",["T_WHITESPACE"," ",223],["T_LNUMBER","1",223],",",["T_WHITESPACE","\n                ",223],["T_CONSTANT_ENCAPSED_STRING","'perPage'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$pagination",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getPageSize",224],"(",")",",",["T_WHITESPACE","\n            ",224],"]",",",["T_WHITESPACE","\n        ",225],"]",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Adds HTTP headers about the pagination to the response.\n     * @param Pagination $pagination\n     *\/",229],["T_WHITESPACE","\n    ",232],["T_PROTECTED","protected",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","addPaginationHeaders",233],"(",["T_VARIABLE","$pagination",233],")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$links",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],"[","]",";",["T_WHITESPACE","\n        ",235],["T_FOREACH","foreach",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$pagination",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getLinks",236],"(",["T_STRING","true",236],")",["T_WHITESPACE"," ",236],["T_AS","as",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$rel",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$url",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$links",237],"[","]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],"\"",["T_ENCAPSED_AND_WHITESPACE","<",237],["T_VARIABLE","$url",237],["T_ENCAPSED_AND_WHITESPACE",">; rel=",237],["T_VARIABLE","$rel",237],"\"",";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n\n        ",238],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","response",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getHeaders",240],"(",")",["T_WHITESPACE","\n            ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","set",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","totalCountHeader",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$pagination",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","totalCount",241],")",["T_WHITESPACE","\n            ",241],["T_OBJECT_OPERATOR","->",242],["T_STRING","set",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","pageCountHeader",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$pagination",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getPageCount",242],"(",")",")",["T_WHITESPACE","\n            ",242],["T_OBJECT_OPERATOR","->",243],["T_STRING","set",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","currentPageHeader",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$pagination",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getPage",243],"(",")",["T_WHITESPACE"," ",243],"+",["T_WHITESPACE"," ",243],["T_LNUMBER","1",243],")",["T_WHITESPACE","\n            ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","set",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","perPageHeader",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$pagination",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","pageSize",244],")",["T_WHITESPACE","\n            ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","set",245],"(",["T_CONSTANT_ENCAPSED_STRING","'Link'",245],",",["T_WHITESPACE"," ",245],["T_STRING","implode",245],"(",["T_CONSTANT_ENCAPSED_STRING","', '",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$links",245],")",")",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Serializes a model object.\n     * @param Arrayable $model\n     * @return array the array representation of the model\n     *\/",248],["T_WHITESPACE","\n    ",252],["T_PROTECTED","protected",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","serializeModel",253],"(",["T_VARIABLE","$model",253],")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","request",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getIsHead",255],"(",")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_STRING","null",256],";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE"," ",257],["T_ELSE","else",257],["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_LIST","list",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$fields",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$expand",258],")",["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getRequestedFields",258],"(",")",";",["T_WHITESPACE","\n            ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$model",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","toArray",259],"(",["T_VARIABLE","$fields",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$expand",259],")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Serializes the validation errors in a model.\n     * @param Model $model\n     * @return array the array representation of the errors\n     *\/",263],["T_WHITESPACE","\n    ",267],["T_PROTECTED","protected",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","serializeModelErrors",268],"(",["T_VARIABLE","$model",268],")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","response",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","setStatusCode",270],"(",["T_LNUMBER","422",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'Data Validation Failed.'",270],")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$result",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],"[","]",";",["T_WHITESPACE","\n        ",271],["T_FOREACH","foreach",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$model",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getFirstErrors",272],"(",")",["T_WHITESPACE"," ",272],["T_AS","as",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$name",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$message",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$result",273],"[","]",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],"[",["T_WHITESPACE","\n                ",273],["T_CONSTANT_ENCAPSED_STRING","'field'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$name",274],",",["T_WHITESPACE","\n                ",274],["T_CONSTANT_ENCAPSED_STRING","'message'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$message",275],",",["T_WHITESPACE","\n            ",275],"]",";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n\n        ",277],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$result",279],";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Serializes a set of models.\n     * @param array $models\n     * @return array the array representation of the models\n     *\/",282],["T_WHITESPACE","\n    ",286],["T_PROTECTED","protected",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","serializeModels",287],"(",["T_ARRAY","array",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$models",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_LIST","list",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$fields",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$expand",289],")",["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getRequestedFields",289],"(",")",";",["T_WHITESPACE","\n        ",289],["T_FOREACH","foreach",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$models",290],["T_WHITESPACE"," ",290],["T_AS","as",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$i",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$model",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$model",291],["T_WHITESPACE"," ",291],["T_INSTANCEOF","instanceof",291],["T_WHITESPACE"," ",291],["T_STRING","Arrayable",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                ",291],["T_VARIABLE","$models",292],"[",["T_VARIABLE","$i",292],"]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$model",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","toArray",292],"(",["T_VARIABLE","$fields",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$expand",292],")",";",["T_WHITESPACE","\n            ",292],"}",["T_WHITESPACE"," ",293],["T_ELSEIF","elseif",293],["T_WHITESPACE"," ",293],"(",["T_STRING","is_array",293],"(",["T_VARIABLE","$model",293],")",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$models",294],"[",["T_VARIABLE","$i",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","ArrayHelper",294],["T_DOUBLE_COLON","::",294],["T_STRING","toArray",294],"(",["T_VARIABLE","$model",294],")",";",["T_WHITESPACE","\n            ",294],"}",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$models",298],";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n",299],"}",["T_WHITESPACE","\n",300]]