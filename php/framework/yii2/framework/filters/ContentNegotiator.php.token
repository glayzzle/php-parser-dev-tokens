[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","filters",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ActionFilter",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","base",12],["T_NS_SEPARATOR","\\",12],["T_STRING","BootstrapInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","base",13],["T_NS_SEPARATOR","\\",13],["T_STRING","InvalidConfigException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","web",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Response",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","yii",15],["T_NS_SEPARATOR","\\",15],["T_STRING","web",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Request",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","yii",16],["T_NS_SEPARATOR","\\",16],["T_STRING","web",16],["T_NS_SEPARATOR","\\",16],["T_STRING","UnsupportedMediaTypeHttpException",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * ContentNegotiator supports response format negotiation and application language negotiation.\n *\n * When the [[formats|supported formats]] property is specified, ContentNegotiator will support response format\n * negotiation based on the value of the GET parameter [[formatParam]] and the `Accept` HTTP header.\n * If a match is found, the [[Response::format]] property will be set as the chosen format.\n * The [[Response::acceptMimeType]] as well as [[Response::acceptParams]] will also be updated accordingly.\n *\n * When the [[languages|supported languages]] is specified, ContentNegotiator will support application\n * language negotiation based on the value of the GET parameter [[languageParam]] and the `Accept-Language` HTTP header.\n * If a match is found, the [[\\yii\\base\\Application::language]] property will be set as the chosen language.\n *\n * You may use ContentNegotiator as a bootstrapping component as well as an action filter.\n *\n * The following code shows how you can use ContentNegotiator as a bootstrapping component. Note that in this case,\n * the content negotiation applies to the whole application.\n *\n * ```php\n * \/\/ in application configuration\n * use yii\\web\\Response;\n *\n * return [\n *     'bootstrap' => [\n *         [\n *             'class' => 'yii\\filters\\ContentNegotiator',\n *             'formats' => [\n *                 'application\/json' => Response::FORMAT_JSON,\n *                 'application\/xml' => Response::FORMAT_XML,\n *             ],\n *             'languages' => [\n *                 'en',\n *                 'de',\n *             ],\n *         ],\n *     ],\n * ];\n * ```\n *\n * The following code shows how you can use ContentNegotiator as an action filter in either a controller or a module.\n * In this case, the content negotiation result only applies to the corresponding controller or module, or even\n * specific actions if you configure the `only` or `except` property of the filter.\n *\n * ```php\n * use yii\\web\\Response;\n *\n * public function behaviors()\n * {\n *     return [\n *         [\n *             'class' => 'yii\\filters\\ContentNegotiator',\n *             'only' => ['view', 'index'],  \/\/ in a controller\n *             \/\/ if in a module, use the following IDs for user actions\n *             \/\/ 'only' => ['user\/view', 'user\/index']\n *             'formats' => [\n *                 'application\/json' => Response::FORMAT_JSON,\n *             ],\n *             'languages' => [\n *                 'en',\n *                 'de',\n *             ],\n *         ],\n *     ];\n * }\n * ```\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",18],["T_WHITESPACE","\n",85],["T_CLASS","class",86],["T_WHITESPACE"," ",86],["T_STRING","ContentNegotiator",86],["T_WHITESPACE"," ",86],["T_EXTENDS","extends",86],["T_WHITESPACE"," ",86],["T_STRING","ActionFilter",86],["T_WHITESPACE"," ",86],["T_IMPLEMENTS","implements",86],["T_WHITESPACE"," ",86],["T_STRING","BootstrapInterface",86],["T_WHITESPACE","\n",86],"{",["T_WHITESPACE","\n    ",87],["T_DOC_COMMENT","\/**\n     * @var string the name of the GET parameter that specifies the response format.\n     * Note that if the specified format does not exist in [[formats]], a [[UnsupportedMediaTypeHttpException]]\n     * exception will be thrown.  If the parameter value is empty or if this property is null,\n     * the response format will be determined based on the `Accept` HTTP header only.\n     * @see formats\n     *\/",88],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$formatParam",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'_format'",95],";",["T_WHITESPACE","\n    ",95],["T_DOC_COMMENT","\/**\n     * @var string the name of the GET parameter that specifies the [[\\yii\\base\\Application::language|application language]].\n     * Note that if the specified language does not match any of [[languages]], the first language in [[languages]]\n     * will be used. If the parameter value is empty or if this property is null,\n     * the application language will be determined based on the `Accept-Language` HTTP header only.\n     * @see languages\n     *\/",96],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$languageParam",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'_lang'",103],";",["T_WHITESPACE","\n    ",103],["T_DOC_COMMENT","\/**\n     * @var array list of supported response formats. The keys are MIME types (e.g. `application\/json`)\n     * while the values are the corresponding formats (e.g. `html`, `json`) which must be supported\n     * as declared in [[\\yii\\web\\Response::formatters]].\n     *\n     * If this property is empty or not set, response format negotiation will be skipped.\n     *\/",104],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$formats",111],";",["T_WHITESPACE","\n    ",111],["T_DOC_COMMENT","\/**\n     * @var array a list of supported languages. The array keys are the supported language variants (e.g. `en-GB`, `en-US`),\n     * while the array values are the corresponding language codes (e.g. `en`, `de`) recognized by the application.\n     *\n     * Array keys are not always required. When an array value does not have a key, the matching of the requested language\n     * will be based on a language fallback mechanism. For example, a value of `en` will match `en`, `en_US`, `en-US`, `en-GB`, etc.\n     *\n     * If this property is empty or not set, language negotiation will be skipped.\n     *\/",112],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$languages",121],";",["T_WHITESPACE","\n    ",121],["T_DOC_COMMENT","\/**\n     * @var Request the current request. If not set, the `request` application component will be used.\n     *\/",122],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$request",125],";",["T_WHITESPACE","\n    ",125],["T_DOC_COMMENT","\/**\n     * @var Response the response to be sent. If not set, the `response` application component will be used.\n     *\/",126],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$response",129],";",["T_WHITESPACE","\n\n\n    ",129],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",132],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","bootstrap",135],"(",["T_VARIABLE","$app",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","negotiate",137],"(",")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",140],["T_WHITESPACE","\n    ",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","beforeAction",143],"(",["T_VARIABLE","$action",143],")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","negotiate",145],"(",")",";",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_STRING","true",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Negotiates the response format and application language.\n     *\/",149],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","negotiate",152],"(",")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$request",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","request",154],["T_WHITESPACE"," ",154],"?",["T_WHITESPACE"," ",154],":",["T_WHITESPACE"," ",154],["T_STRING","Yii",154],["T_DOUBLE_COLON","::",154],["T_VARIABLE","$app",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getRequest",154],"(",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$response",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","response",155],["T_WHITESPACE"," ",155],"?",["T_WHITESPACE"," ",155],":",["T_WHITESPACE"," ",155],["T_STRING","Yii",155],["T_DOUBLE_COLON","::",155],["T_VARIABLE","$app",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getResponse",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(","!",["T_EMPTY","empty",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","formats",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","negotiateContentType",157],"(",["T_VARIABLE","$request",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$response",157],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(","!",["T_EMPTY","empty",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","languages",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_STRING","Yii",160],["T_DOUBLE_COLON","::",160],["T_VARIABLE","$app",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","language",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","negotiateLanguage",160],"(",["T_VARIABLE","$request",160],")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Negotiates the response format.\n     * @param Request $request\n     * @param Response $response\n     * @throws InvalidConfigException if [[formats]] is empty\n     * @throws UnsupportedMediaTypeHttpException if none of the requested content types is accepted.\n     *\/",164],["T_WHITESPACE","\n    ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","negotiateContentType",171],"(",["T_VARIABLE","$request",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$response",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!",["T_EMPTY","empty",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","formatParam",173],")",["T_WHITESPACE"," ",173],["T_BOOLEAN_AND","&&",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$format",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$request",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","get",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","formatParam",173],")",")",["T_WHITESPACE"," ",173],["T_IS_NOT_IDENTICAL","!==",173],["T_WHITESPACE"," ",173],["T_STRING","null",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_STRING","in_array",174],"(",["T_VARIABLE","$format",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","formats",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_VARIABLE","$response",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","format",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$format",175],";",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$response",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","acceptMimeType",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","null",176],";",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$response",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","acceptParams",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],"[","]",";",["T_WHITESPACE","\n                ",177],["T_RETURN","return",178],";",["T_WHITESPACE","\n            ",178],"}",["T_WHITESPACE"," ",179],["T_ELSE","else",179],["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                ",179],["T_THROW","throw",180],["T_WHITESPACE"," ",180],["T_NEW","new",180],["T_WHITESPACE"," ",180],["T_STRING","UnsupportedMediaTypeHttpException",180],"(",["T_CONSTANT_ENCAPSED_STRING","'The requested response format is not supported: '",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_VARIABLE","$format",180],")",";",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$types",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$request",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getAcceptableContentTypes",184],"(",")",";",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_EMPTY","empty",185],"(",["T_VARIABLE","$types",185],")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$types",186],"[",["T_CONSTANT_ENCAPSED_STRING","'*\/*'",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],"[","]",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n\n        ",187],["T_FOREACH","foreach",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$types",189],["T_WHITESPACE"," ",189],["T_AS","as",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$type",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$params",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_ISSET","isset",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","formats",190],"[",["T_VARIABLE","$type",190],"]",")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$response",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","format",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","formats",191],"[",["T_VARIABLE","$type",191],"]",";",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$response",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","acceptMimeType",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$type",192],";",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$response",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","acceptParams",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$params",193],";",["T_WHITESPACE","\n                ",193],["T_RETURN","return",194],";",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n\n        ",196],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_ISSET","isset",198],"(",["T_VARIABLE","$types",198],"[",["T_CONSTANT_ENCAPSED_STRING","'*\/*'",198],"]",")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_COMMENT","\/\/ return the first format\n",199],["T_WHITESPACE","            ",200],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","formats",200],["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$type",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$format",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$response",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","format",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","formats",201],"[",["T_VARIABLE","$type",201],"]",";",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$response",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","acceptMimeType",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$type",202],";",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$response",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","acceptParams",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],"[","]",";",["T_WHITESPACE","\n                ",203],["T_RETURN","return",204],";",["T_WHITESPACE","\n            ",204],"}",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n\n        ",206],["T_THROW","throw",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","UnsupportedMediaTypeHttpException",208],"(",["T_CONSTANT_ENCAPSED_STRING","'None of your requested content types is supported.'",208],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Negotiates the application language.\n     * @param Request $request\n     * @return string the chosen language\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","negotiateLanguage",216],"(",["T_VARIABLE","$request",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_EMPTY","empty",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","languageParam",218],")",["T_WHITESPACE"," ",218],["T_BOOLEAN_AND","&&",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$language",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$request",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","get",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","languageParam",218],")",")",["T_WHITESPACE"," ",218],["T_IS_NOT_IDENTICAL","!==",218],["T_WHITESPACE"," ",218],["T_STRING","null",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_ISSET","isset",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","languages",219],"[",["T_VARIABLE","$language",219],"]",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","languages",220],"[",["T_VARIABLE","$language",220],"]",";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n            ",221],["T_FOREACH","foreach",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","languages",222],["T_WHITESPACE"," ",222],["T_AS","as",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$key",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$supported",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_STRING","is_int",223],"(",["T_VARIABLE","$key",223],")",["T_WHITESPACE"," ",223],["T_BOOLEAN_AND","&&",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","isLanguageSupported",223],"(",["T_VARIABLE","$language",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$supported",223],")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                    ",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$supported",224],";",["T_WHITESPACE","\n                ",224],"}",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n            ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_STRING","reset",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","languages",227],")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n\n        ",228],["T_FOREACH","foreach",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$request",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getAcceptableLanguages",230],"(",")",["T_WHITESPACE"," ",230],["T_AS","as",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$language",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_ISSET","isset",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","languages",231],"[",["T_VARIABLE","$language",231],"]",")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","languages",232],"[",["T_VARIABLE","$language",232],"]",";",["T_WHITESPACE","\n            ",232],"}",["T_WHITESPACE","\n            ",233],["T_FOREACH","foreach",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","languages",234],["T_WHITESPACE"," ",234],["T_AS","as",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$key",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$supported",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n                ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_STRING","is_int",235],"(",["T_VARIABLE","$key",235],")",["T_WHITESPACE"," ",235],["T_BOOLEAN_AND","&&",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","isLanguageSupported",235],"(",["T_VARIABLE","$language",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$supported",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                    ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$supported",236],";",["T_WHITESPACE","\n                ",236],"}",["T_WHITESPACE","\n            ",237],"}",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n\n        ",239],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_STRING","reset",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","languages",241],")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Returns a value indicating whether the requested language matches the supported language.\n     * @param string $requested the requested language code\n     * @param string $supported the supported language code\n     * @return bool whether the requested language is supported\n     *\/",244],["T_WHITESPACE","\n    ",249],["T_PROTECTED","protected",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","isLanguageSupported",250],"(",["T_VARIABLE","$requested",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$supported",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$supported",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","str_replace",252],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'-'",252],",",["T_WHITESPACE"," ",252],["T_STRING","strtolower",252],"(",["T_VARIABLE","$supported",252],")",")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$requested",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","str_replace",253],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'-'",253],",",["T_WHITESPACE"," ",253],["T_STRING","strtolower",253],"(",["T_VARIABLE","$requested",253],")",")",";",["T_WHITESPACE","\n        ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_STRING","strpos",254],"(",["T_VARIABLE","$requested",254],["T_WHITESPACE"," ",254],".",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'-'",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$supported",254],["T_WHITESPACE"," ",254],".",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'-'",254],")",["T_WHITESPACE"," ",254],["T_IS_IDENTICAL","===",254],["T_WHITESPACE"," ",254],["T_LNUMBER","0",254],";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n",255],"}",["T_WHITESPACE","\n",256]]