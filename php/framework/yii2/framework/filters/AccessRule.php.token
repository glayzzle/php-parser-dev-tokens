[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","filters",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","yii",10],["T_NS_SEPARATOR","\\",10],["T_STRING","base",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Action",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","web",12],["T_NS_SEPARATOR","\\",12],["T_STRING","User",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","web",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Request",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","base",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Controller",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * This class represents an access rule defined by the [[AccessControl]] action filter\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",16],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","AccessRule",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","Component",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * @var bool whether this is an 'allow' rule or 'deny' rule.\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$allow",27],";",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * @var array list of action IDs that this rule applies to. The comparison is case-sensitive.\n     * If not set or empty, it means this rule applies to all actions.\n     *\/",28],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$actions",32],";",["T_WHITESPACE","\n    ",32],["T_DOC_COMMENT","\/**\n     * @var array list of the controller IDs that this rule applies to. Each controller ID is prefixed with the module ID (if any).\n     * The comparison is case-sensitive. If not set or empty, it means this rule applies to all controllers.\n     *\/",33],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$controllers",37],";",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * @var array list of roles that this rule applies to. Two special roles are recognized, and\n     * they are checked via [[User::isGuest]]:\n     *\n     * - `?`: matches a guest user (not authenticated yet)\n     * - `@`: matches an authenticated user\n     *\n     * If you are using RBAC (Role-Based Access Control), you may also specify role or permission names.\n     * In this case, [[User::can()]] will be called to check access.\n     *\n     * If this property is not set or empty, it means this rule applies to all roles.\n     *\/",38],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$roles",50],";",["T_WHITESPACE","\n    ",50],["T_DOC_COMMENT","\/**\n     * @var array list of user IP addresses that this rule applies to. An IP address\n     * can contain the wildcard `*` at the end so that it matches IP addresses with the same prefix.\n     * For example, '192.168.*' matches all IP addresses in the segment '192.168.'.\n     * If not set or empty, it means this rule applies to all IP addresses.\n     * @see Request::userIP\n     *\/",51],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$ips",58],";",["T_WHITESPACE","\n    ",58],["T_DOC_COMMENT","\/**\n     * @var array list of request methods (e.g. `GET`, `POST`) that this rule applies to.\n     * If not set or empty, it means this rule applies to all request methods.\n     * @see \\yii\\web\\Request::method\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$verbs",64],";",["T_WHITESPACE","\n    ",64],["T_DOC_COMMENT","\/**\n     * @var callable a callback that will be called to determine if the rule should be applied.\n     * The signature of the callback should be as follows:\n     *\n     * ```php\n     * function ($rule, $action)\n     * ```\n     *\n     * where `$rule` is this rule, and `$action` is the current [[Action|action]] object.\n     * The callback should return a boolean value indicating whether this rule should be applied.\n     *\/",65],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$matchCallback",76],";",["T_WHITESPACE","\n    ",76],["T_DOC_COMMENT","\/**\n     * @var callable a callback that will be called if this rule determines the access to\n     * the current action should be denied. If not set, the behavior will be determined by\n     * [[AccessControl]].\n     *\n     * The signature of the callback should be as follows:\n     *\n     * ```php\n     * function ($rule, $action)\n     * ```\n     *\n     * where `$rule` is this rule, and `$action` is the current [[Action|action]] object.\n     *\/",77],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$denyCallback",90],";",["T_WHITESPACE","\n\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Checks whether the Web user is allowed to perform the specified action.\n     * @param Action $action the action to be performed\n     * @param User $user the user object\n     * @param Request $request\n     * @return bool|null true if the user is allowed, false if the user is denied, null if the rule does not apply to the user\n     *\/",93],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","allows",100],"(",["T_VARIABLE","$action",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$user",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$request",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","matchAction",102],"(",["T_VARIABLE","$action",102],")",["T_WHITESPACE","\n            ",102],["T_BOOLEAN_AND","&&",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","matchRole",103],"(",["T_VARIABLE","$user",103],")",["T_WHITESPACE","\n            ",103],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","matchIP",104],"(",["T_VARIABLE","$request",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getUserIP",104],"(",")",")",["T_WHITESPACE","\n            ",104],["T_BOOLEAN_AND","&&",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","matchVerb",105],"(",["T_VARIABLE","$request",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getMethod",105],"(",")",")",["T_WHITESPACE","\n            ",105],["T_BOOLEAN_AND","&&",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","matchController",106],"(",["T_VARIABLE","$action",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","controller",106],")",["T_WHITESPACE","\n            ",106],["T_BOOLEAN_AND","&&",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","matchCustom",107],"(",["T_VARIABLE","$action",107],")",["T_WHITESPACE","\n        ",107],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","allow",109],["T_WHITESPACE"," ",109],"?",["T_WHITESPACE"," ",109],["T_STRING","true",109],["T_WHITESPACE"," ",109],":",["T_WHITESPACE"," ",109],["T_STRING","false",109],";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE"," ",110],["T_ELSE","else",110],["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_STRING","null",111],";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * @param Action $action the action\n     * @return bool whether the rule applies to the action\n     *\/",115],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","matchAction",119],"(",["T_VARIABLE","$action",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_EMPTY","empty",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","actions",121],")",["T_WHITESPACE"," ",121],["T_BOOLEAN_OR","||",121],["T_WHITESPACE"," ",121],["T_STRING","in_array",121],"(",["T_VARIABLE","$action",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","id",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","actions",121],",",["T_WHITESPACE"," ",121],["T_STRING","true",121],")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * @param Controller $controller the controller\n     * @return bool whether the rule applies to the controller\n     *\/",124],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","matchController",128],"(",["T_VARIABLE","$controller",128],")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_EMPTY","empty",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","controllers",130],")",["T_WHITESPACE"," ",130],["T_BOOLEAN_OR","||",130],["T_WHITESPACE"," ",130],["T_STRING","in_array",130],"(",["T_VARIABLE","$controller",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","uniqueId",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","controllers",130],",",["T_WHITESPACE"," ",130],["T_STRING","true",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * @param User $user the user object\n     * @return bool whether the rule applies to the role\n     *\/",133],["T_WHITESPACE","\n    ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","matchRole",137],"(",["T_VARIABLE","$user",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_EMPTY","empty",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","roles",139],")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_STRING","true",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n        ",141],["T_FOREACH","foreach",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","roles",142],["T_WHITESPACE"," ",142],["T_AS","as",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$role",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$role",143],["T_WHITESPACE"," ",143],["T_IS_IDENTICAL","===",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'?'",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$user",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getIsGuest",144],"(",")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                    ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_STRING","true",145],";",["T_WHITESPACE","\n                ",145],"}",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE"," ",147],["T_ELSEIF","elseif",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$role",147],["T_WHITESPACE"," ",147],["T_IS_IDENTICAL","===",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'@'",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","!",["T_VARIABLE","$user",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getIsGuest",148],"(",")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                    ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_STRING","true",149],";",["T_WHITESPACE","\n                ",149],"}",["T_WHITESPACE","\n            ",150],"}",["T_WHITESPACE"," ",151],["T_ELSEIF","elseif",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$user",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","can",151],"(",["T_VARIABLE","$role",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_STRING","true",152],";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n\n        ",154],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_STRING","false",156],";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * @param string $ip the IP address\n     * @return bool whether the rule applies to the IP address\n     *\/",159],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","matchIP",163],"(",["T_VARIABLE","$ip",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_EMPTY","empty",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","ips",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_STRING","true",166],";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n        ",167],["T_FOREACH","foreach",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","ips",168],["T_WHITESPACE"," ",168],["T_AS","as",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$rule",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$rule",169],["T_WHITESPACE"," ",169],["T_IS_IDENTICAL","===",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'*'",169],["T_WHITESPACE"," ",169],["T_BOOLEAN_OR","||",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$rule",169],["T_WHITESPACE"," ",169],["T_IS_IDENTICAL","===",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$ip",169],["T_WHITESPACE"," ",169],["T_BOOLEAN_OR","||",169],["T_WHITESPACE"," ",169],"(","(",["T_VARIABLE","$pos",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","strpos",169],"(",["T_VARIABLE","$rule",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'*'",169],")",")",["T_WHITESPACE"," ",169],["T_IS_NOT_IDENTICAL","!==",169],["T_WHITESPACE"," ",169],["T_STRING","false",169],["T_WHITESPACE"," ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE"," ",169],"!",["T_STRING","strncmp",169],"(",["T_VARIABLE","$ip",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$rule",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$pos",169],")",")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","true",170],";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_STRING","false",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * @param string $verb the request method.\n     * @return bool whether the rule applies to the request\n     *\/",177],["T_WHITESPACE","\n    ",180],["T_PROTECTED","protected",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","matchVerb",181],"(",["T_VARIABLE","$verb",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_EMPTY","empty",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","verbs",183],")",["T_WHITESPACE"," ",183],["T_BOOLEAN_OR","||",183],["T_WHITESPACE"," ",183],["T_STRING","in_array",183],"(",["T_STRING","strtoupper",183],"(",["T_VARIABLE","$verb",183],")",",",["T_WHITESPACE"," ",183],["T_STRING","array_map",183],"(",["T_CONSTANT_ENCAPSED_STRING","'strtoupper'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","verbs",183],")",",",["T_WHITESPACE"," ",183],["T_STRING","true",183],")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * @param Action $action the action to be performed\n     * @return bool whether the rule should be applied\n     *\/",186],["T_WHITESPACE","\n    ",189],["T_PROTECTED","protected",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","matchCustom",190],"(",["T_VARIABLE","$action",190],")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_EMPTY","empty",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","matchCallback",192],")",["T_WHITESPACE"," ",192],["T_BOOLEAN_OR","||",192],["T_WHITESPACE"," ",192],["T_STRING","call_user_func",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","matchCallback",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$action",192],")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n",193],"}",["T_WHITESPACE","\n",194]]