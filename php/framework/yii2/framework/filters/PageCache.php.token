[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","filters",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Action",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","base",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ActionFilter",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","caching",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Cache",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","caching",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Dependency",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","yii",15],["T_NS_SEPARATOR","\\",15],["T_STRING","di",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Instance",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","yii",16],["T_NS_SEPARATOR","\\",16],["T_STRING","web",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Response",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * PageCache implements server-side caching of whole pages.\n *\n * It is an action filter that can be added to a controller and handles the `beforeAction` event.\n *\n * To use PageCache, declare it in the `behaviors()` method of your controller class.\n * In the following example the filter will be applied to the `index` action and\n * cache the whole page for maximum 60 seconds or until the count of entries in the post table changes.\n * It also stores different versions of the page depending on the application language.\n *\n * ```php\n * public function behaviors()\n * {\n *     return [\n *         'pageCache' => [\n *             'class' => 'yii\\filters\\PageCache',\n *             'only' => ['index'],\n *             'duration' => 60,\n *             'dependency' => [\n *                 'class' => 'yii\\caching\\DbDependency',\n *                 'sql' => 'SELECT COUNT(*) FROM post',\n *             ],\n *             'variations' => [\n *                 \\Yii::$app->language,\n *             ]\n *         ],\n *     ];\n * }\n * ```\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @author Sergey Makinen <sergey@makinen.ru>\n * @since 2.0\n *\/",18],["T_WHITESPACE","\n",51],["T_CLASS","class",52],["T_WHITESPACE"," ",52],["T_STRING","PageCache",52],["T_WHITESPACE"," ",52],["T_EXTENDS","extends",52],["T_WHITESPACE"," ",52],["T_STRING","ActionFilter",52],["T_WHITESPACE","\n",52],"{",["T_WHITESPACE","\n    ",53],["T_DOC_COMMENT","\/**\n     * @var bool whether the content being cached should be differentiated according to the route.\n     * A route consists of the requested controller ID and action ID. Defaults to `true`.\n     *\/",54],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$varyByRoute",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","true",58],";",["T_WHITESPACE","\n    ",58],["T_DOC_COMMENT","\/**\n     * @var Cache|array|string the cache object or the application component ID of the cache object.\n     * After the PageCache object is created, if you want to change this property,\n     * you should only assign it with a cache object.\n     * Starting from version 2.0.2, this can also be a configuration array for creating the object.\n     *\/",59],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$cache",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'cache'",65],";",["T_WHITESPACE","\n    ",65],["T_DOC_COMMENT","\/**\n     * @var int number of seconds that the data can remain valid in cache.\n     * Use `0` to indicate that the cached data will never expire.\n     *\/",66],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$duration",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_LNUMBER","60",70],";",["T_WHITESPACE","\n    ",70],["T_DOC_COMMENT","\/**\n     * @var array|Dependency the dependency that the cached content depends on.\n     * This can be either a [[Dependency]] object or a configuration array for creating the dependency object.\n     * For example,\n     *\n     * ```php\n     * [\n     *     'class' => 'yii\\caching\\DbDependency',\n     *     'sql' => 'SELECT MAX(updated_at) FROM post',\n     * ]\n     * ```\n     *\n     * would make the output cache depend on the last modified time of all posts.\n     * If any post has its modification time changed, the cached content would be invalidated.\n     *\n     * If [[cacheCookies]] or [[cacheHeaders]] is enabled, then [[\\yii\\caching\\Dependency::reusable]] should be enabled as well to save performance.\n     * This is because the cookies and headers are currently stored separately from the actual page content, causing the dependency to be evaluated twice.\n     *\/",71],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$dependency",89],";",["T_WHITESPACE","\n    ",89],["T_DOC_COMMENT","\/**\n     * @var array list of factors that would cause the variation of the content being cached.\n     * Each factor is a string representing a variation (e.g. the language, a GET parameter).\n     * The following variation setting will cause the content to be cached in different versions\n     * according to the current application language:\n     *\n     * ```php\n     * [\n     *     Yii::$app->language,\n     * ]\n     * ```\n     *\/",90],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$variations",102],";",["T_WHITESPACE","\n    ",102],["T_DOC_COMMENT","\/**\n     * @var bool whether to enable the page cache. You may use this property to turn on and off\n     * the page cache according to specific setting (e.g. enable page cache only for GET requests).\n     *\/",103],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$enabled",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","true",107],";",["T_WHITESPACE","\n    ",107],["T_DOC_COMMENT","\/**\n     * @var \\yii\\base\\View the view component to use for caching. If not set, the default application view component\n     * [[\\yii\\web\\Application::view]] will be used.\n     *\/",108],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$view",112],";",["T_WHITESPACE","\n    ",112],["T_DOC_COMMENT","\/**\n     * @var bool|array a boolean value indicating whether to cache all cookies, or an array of\n     * cookie names indicating which cookies can be cached. Be very careful with caching cookies, because\n     * it may leak sensitive or private data stored in cookies to unwanted users.\n     * @since 2.0.4\n     *\/",113],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$cacheCookies",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","false",119],";",["T_WHITESPACE","\n    ",119],["T_DOC_COMMENT","\/**\n     * @var bool|array a boolean value indicating whether to cache all HTTP headers, or an array of\n     * HTTP header names (case-insensitive) indicating which HTTP headers can be cached.\n     * Note if your HTTP headers contain sensitive information, you should white-list which headers can be cached.\n     * @since 2.0.4\n     *\/",120],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$cacheHeaders",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","true",126],";",["T_WHITESPACE","\n    ",126],["T_DOC_COMMENT","\/**\n     * @var array a list of placeholders for embedding dynamic contents. This property\n     * is used internally to implement the content caching feature. Do not modify it.\n     * @internal\n     * @since 2.0.11\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$dynamicPlaceholders",133],";",["T_WHITESPACE","\n\n\n    ",133],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",136],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","init",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_STRING","parent",141],["T_DOUBLE_COLON","::",141],["T_STRING","init",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","view",142],["T_WHITESPACE"," ",142],["T_IS_IDENTICAL","===",142],["T_WHITESPACE"," ",142],["T_STRING","null",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","view",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","Yii",143],["T_DOUBLE_COLON","::",143],["T_VARIABLE","$app",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getView",143],"(",")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * This method is invoked right before an action is to be executed (after all possible filters.)\n     * You may override this method to do last-minute preparation for the action.\n     * @param Action $action the action to be executed.\n     * @return bool whether the action should continue to be executed.\n     *\/",147],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","beforeAction",153],"(",["T_VARIABLE","$action",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(","!",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","enabled",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_STRING","true",156],";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","cache",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","Instance",159],["T_DOUBLE_COLON","::",159],["T_STRING","ensure",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","cache",159],",",["T_WHITESPACE"," ",159],["T_STRING","Cache",159],["T_DOUBLE_COLON","::",159],["T_STRING","className",159],"(",")",")",";",["T_WHITESPACE","\n\n        ",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_STRING","is_array",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","dependency",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","dependency",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","Yii",162],["T_DOUBLE_COLON","::",162],["T_STRING","createObject",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","dependency",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$response",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","Yii",165],["T_DOUBLE_COLON","::",165],["T_VARIABLE","$app",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getResponse",165],"(",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$data",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","cache",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","get",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","calculateCacheKey",166],"(",")",")",";",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_STRING","is_array",167],"(",["T_VARIABLE","$data",167],")",["T_WHITESPACE"," ",167],["T_BOOLEAN_OR","||",167],["T_WHITESPACE"," ",167],"!",["T_ISSET","isset",167],"(",["T_VARIABLE","$data",167],"[",["T_CONSTANT_ENCAPSED_STRING","'cacheVersion'",167],"]",")",["T_WHITESPACE"," ",167],["T_BOOLEAN_OR","||",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$data",167],"[",["T_CONSTANT_ENCAPSED_STRING","'cacheVersion'",167],"]",["T_WHITESPACE"," ",167],["T_IS_NOT_IDENTICAL","!==",167],["T_WHITESPACE"," ",167],["T_LNUMBER","1",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","view",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","cacheStack",168],"[","]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],";",["T_WHITESPACE","\n            ",168],["T_STRING","ob_start",169],"(",")",";",["T_WHITESPACE","\n            ",169],["T_STRING","ob_implicit_flush",170],"(",["T_STRING","false",170],")",";",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$response",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","on",171],"(",["T_STRING","Response",171],["T_DOUBLE_COLON","::",171],["T_STRING","EVENT_AFTER_SEND",171],",",["T_WHITESPACE"," ",171],"[",["T_VARIABLE","$this",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'cacheResponse'",171],"]",")",";",["T_WHITESPACE","\n            ",171],["T_STRING","Yii",172],["T_DOUBLE_COLON","::",172],["T_STRING","trace",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Valid page content is not found in the cache.'",172],",",["T_WHITESPACE"," ",172],["T_METHOD_C","__METHOD__",172],")",";",["T_WHITESPACE","\n            ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_STRING","true",173],";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE"," ",174],["T_ELSE","else",174],["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","restoreResponse",175],"(",["T_VARIABLE","$response",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$data",175],")",";",["T_WHITESPACE","\n            ",175],["T_STRING","Yii",176],["T_DOUBLE_COLON","::",176],["T_STRING","trace",176],"(",["T_CONSTANT_ENCAPSED_STRING","'Valid page content is found in the cache.'",176],",",["T_WHITESPACE"," ",176],["T_METHOD_C","__METHOD__",176],")",";",["T_WHITESPACE","\n            ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_STRING","false",177],";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * This method is invoked right before the response caching is to be started.\n     * You may override this method to cancel caching by returning `false` or store an additional data\n     * in a cache entry by returning an array instead of `true`.\n     * @return bool|array whether to cache or not, return an array instead of `true` to store an additional data.\n     * @since 2.0.11\n     *\/",181],["T_WHITESPACE","\n    ",187],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","beforeCacheResponse",188],"(",")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_STRING","true",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * This method is invoked right after the response restoring is finished (but before the response is sent).\n     * You may override this method to do last-minute preparation before the response is sent.\n     * @param array|null $data an array of an additional data stored in a cache entry or `null`.\n     * @since 2.0.11\n     *\/",193],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","afterRestoreResponse",199],"(",["T_VARIABLE","$data",199],")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Restores response properties from the given data.\n     * @param Response $response the response to be restored.\n     * @param array $data the response property data.\n     * @since 2.0.3\n     *\/",203],["T_WHITESPACE","\n    ",208],["T_PROTECTED","protected",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","restoreResponse",209],"(",["T_VARIABLE","$response",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$data",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_FOREACH","foreach",211],["T_WHITESPACE"," ",211],"(","[",["T_CONSTANT_ENCAPSED_STRING","'format'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'version'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'statusCode'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'statusText'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'content'",211],"]",["T_WHITESPACE"," ",211],["T_AS","as",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$name",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$response",212],["T_OBJECT_OPERATOR","->",212],"{",["T_VARIABLE","$name",212],"}",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$data",212],"[",["T_VARIABLE","$name",212],"]",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n        ",213],["T_FOREACH","foreach",214],["T_WHITESPACE"," ",214],"(","[",["T_CONSTANT_ENCAPSED_STRING","'headers'",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'cookies'",214],"]",["T_WHITESPACE"," ",214],["T_AS","as",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$name",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_ISSET","isset",215],"(",["T_VARIABLE","$data",215],"[",["T_VARIABLE","$name",215],"]",")",["T_WHITESPACE"," ",215],["T_BOOLEAN_AND","&&",215],["T_WHITESPACE"," ",215],["T_STRING","is_array",215],"(",["T_VARIABLE","$data",215],"[",["T_VARIABLE","$name",215],"]",")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$response",216],["T_OBJECT_OPERATOR","->",216],"{",["T_VARIABLE","$name",216],"}",["T_OBJECT_OPERATOR","->",216],["T_STRING","fromArray",216],"(",["T_STRING","array_merge",216],"(",["T_VARIABLE","$data",216],"[",["T_VARIABLE","$name",216],"]",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$response",216],["T_OBJECT_OPERATOR","->",216],"{",["T_VARIABLE","$name",216],"}",["T_OBJECT_OPERATOR","->",216],["T_STRING","toArray",216],"(",")",")",")",";",["T_WHITESPACE","\n            ",216],"}",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_EMPTY","empty",219],"(",["T_VARIABLE","$data",219],"[",["T_CONSTANT_ENCAPSED_STRING","'dynamicPlaceholders'",219],"]",")",["T_WHITESPACE"," ",219],["T_BOOLEAN_AND","&&",219],["T_WHITESPACE"," ",219],["T_STRING","is_array",219],"(",["T_VARIABLE","$data",219],"[",["T_CONSTANT_ENCAPSED_STRING","'dynamicPlaceholders'",219],"]",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_EMPTY","empty",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","view",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","cacheStack",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                ",220],["T_COMMENT","\/\/ outermost cache: replace placeholder with dynamic content\n",221],["T_WHITESPACE","                ",222],["T_VARIABLE","$response",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","content",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","updateDynamicContent",222],"(",["T_VARIABLE","$response",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","content",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$data",222],"[",["T_CONSTANT_ENCAPSED_STRING","'dynamicPlaceholders'",222],"]",")",";",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE","\n            ",223],["T_FOREACH","foreach",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$data",224],"[",["T_CONSTANT_ENCAPSED_STRING","'dynamicPlaceholders'",224],"]",["T_WHITESPACE"," ",224],["T_AS","as",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$name",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$statements",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","view",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","addDynamicPlaceholder",225],"(",["T_VARIABLE","$name",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$statements",225],")",";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","afterRestoreResponse",228],"(",["T_ISSET","isset",228],"(",["T_VARIABLE","$data",228],"[",["T_CONSTANT_ENCAPSED_STRING","'cacheData'",228],"]",")",["T_WHITESPACE"," ",228],"?",["T_WHITESPACE"," ",228],["T_VARIABLE","$data",228],"[",["T_CONSTANT_ENCAPSED_STRING","'cacheData'",228],"]",["T_WHITESPACE"," ",228],":",["T_WHITESPACE"," ",228],["T_STRING","null",228],")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Caches response properties.\n     * @since 2.0.3\n     *\/",231],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","cacheResponse",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_STRING","array_pop",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","view",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","cacheStack",237],")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$beforeCacheResponseResult",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","beforeCacheResponse",238],"(",")",";",["T_WHITESPACE","\n        ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$beforeCacheResponseResult",239],["T_WHITESPACE"," ",239],["T_IS_IDENTICAL","===",239],["T_WHITESPACE"," ",239],["T_STRING","false",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$content",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","ob_get_clean",240],"(",")",";",["T_WHITESPACE","\n            ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_EMPTY","empty",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","view",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","cacheStack",241],")",["T_WHITESPACE"," ",241],["T_BOOLEAN_AND","&&",241],["T_WHITESPACE"," ",241],"!",["T_EMPTY","empty",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","dynamicPlaceholders",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$content",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","updateDynamicContent",242],"(",["T_VARIABLE","$content",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","dynamicPlaceholders",242],")",";",["T_WHITESPACE","\n            ",242],"}",["T_WHITESPACE","\n            ",243],["T_ECHO","echo",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$content",244],";",["T_WHITESPACE","\n            ",244],["T_RETURN","return",245],";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$response",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","Yii",248],["T_DOUBLE_COLON","::",248],["T_VARIABLE","$app",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getResponse",248],"(",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$data",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],"[",["T_WHITESPACE","\n            ",249],["T_CONSTANT_ENCAPSED_STRING","'cacheVersion'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_LNUMBER","1",250],",",["T_WHITESPACE","\n            ",250],["T_CONSTANT_ENCAPSED_STRING","'cacheData'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_STRING","is_array",251],"(",["T_VARIABLE","$beforeCacheResponseResult",251],")",["T_WHITESPACE"," ",251],"?",["T_WHITESPACE"," ",251],["T_VARIABLE","$beforeCacheResponseResult",251],["T_WHITESPACE"," ",251],":",["T_WHITESPACE"," ",251],["T_STRING","null",251],",",["T_WHITESPACE","\n            ",251],["T_CONSTANT_ENCAPSED_STRING","'content'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_STRING","ob_get_clean",252],"(",")",["T_WHITESPACE","\n        ",252],"]",";",["T_WHITESPACE","\n        ",253],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$data",254],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",254],"]",["T_WHITESPACE"," ",254],["T_IS_IDENTICAL","===",254],["T_WHITESPACE"," ",254],["T_STRING","false",254],["T_WHITESPACE"," ",254],["T_BOOLEAN_OR","||",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$data",254],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",254],"]",["T_WHITESPACE"," ",254],["T_IS_IDENTICAL","===",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","''",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_RETURN","return",255],";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n\n        ",256],["T_VARIABLE","$data",258],"[",["T_CONSTANT_ENCAPSED_STRING","'dynamicPlaceholders'",258],"]",["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","dynamicPlaceholders",258],";",["T_WHITESPACE","\n        ",258],["T_FOREACH","foreach",259],["T_WHITESPACE"," ",259],"(","[",["T_CONSTANT_ENCAPSED_STRING","'format'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'version'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'statusCode'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'statusText'",259],"]",["T_WHITESPACE"," ",259],["T_AS","as",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$name",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$data",260],"[",["T_VARIABLE","$name",260],"]",["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$response",260],["T_OBJECT_OPERATOR","->",260],"{",["T_VARIABLE","$name",260],"}",";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","insertResponseCollectionIntoData",262],"(",["T_VARIABLE","$response",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'headers'",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$data",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","insertResponseCollectionIntoData",263],"(",["T_VARIABLE","$response",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'cookies'",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$data",263],")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","cache",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","set",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","calculateCacheKey",264],"(",")",",",["T_WHITESPACE"," ",264],["T_VARIABLE","$data",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","duration",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","dependency",264],")",";",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_EMPTY","empty",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","view",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","cacheStack",265],")",["T_WHITESPACE"," ",265],["T_BOOLEAN_AND","&&",265],["T_WHITESPACE"," ",265],"!",["T_EMPTY","empty",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","dynamicPlaceholders",265],")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$data",266],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",266],"]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","updateDynamicContent",266],"(",["T_VARIABLE","$data",266],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",266],"]",",",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","dynamicPlaceholders",266],")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n        ",267],["T_ECHO","echo",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$data",268],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",268],"]",";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_DOC_COMMENT","\/**\n     * Inserts (or filters\/ignores according to config) response headers\/cookies into a cache data array.\n     * @param Response $response the response.\n     * @param string $collectionName currently it's `headers` or `cookies`.\n     * @param array $data the cache data.\n     *\/",271],["T_WHITESPACE","\n    ",276],["T_PRIVATE","private",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","insertResponseCollectionIntoData",277],"(",["T_STRING","Response",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$response",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$collectionName",277],",",["T_WHITESPACE"," ",277],["T_ARRAY","array",277],["T_WHITESPACE"," ",277],"&",["T_VARIABLE","$data",277],")",["T_WHITESPACE","\n    ",277],"{",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$property",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'cache'",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_STRING","ucfirst",279],"(",["T_VARIABLE","$collectionName",279],")",";",["T_WHITESPACE","\n        ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],"{",["T_VARIABLE","$property",280],"}",["T_WHITESPACE"," ",280],["T_IS_IDENTICAL","===",280],["T_WHITESPACE"," ",280],["T_STRING","false",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_RETURN","return",281],";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$all",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$response",284],["T_OBJECT_OPERATOR","->",284],"{",["T_VARIABLE","$collectionName",284],"}",["T_OBJECT_OPERATOR","->",284],["T_STRING","toArray",284],"(",")",";",["T_WHITESPACE","\n        ",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_STRING","is_array",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],"{",["T_VARIABLE","$property",285],"}",")",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$filtered",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],"[","]",";",["T_WHITESPACE","\n            ",286],["T_FOREACH","foreach",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],"{",["T_VARIABLE","$property",287],"}",["T_WHITESPACE"," ",287],["T_AS","as",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$name",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_VARIABLE","$collectionName",288],["T_WHITESPACE"," ",288],["T_IS_IDENTICAL","===",288],["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'headers'",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n                    ",288],["T_VARIABLE","$name",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","strtolower",289],"(",["T_VARIABLE","$name",289],")",";",["T_WHITESPACE","\n                ",289],"}",["T_WHITESPACE","\n                ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_ISSET","isset",291],"(",["T_VARIABLE","$all",291],"[",["T_VARIABLE","$name",291],"]",")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                    ",291],["T_VARIABLE","$filtered",292],"[",["T_VARIABLE","$name",292],"]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$all",292],"[",["T_VARIABLE","$name",292],"]",";",["T_WHITESPACE","\n                ",292],"}",["T_WHITESPACE","\n            ",293],"}",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$all",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$filtered",295],";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$data",297],"[",["T_VARIABLE","$collectionName",297],"]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$all",297],";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * Replaces placeholders in content by results of evaluated dynamic statements.\n     * @param string $content content to be parsed.\n     * @param array $placeholders placeholders and their values.\n     * @return string final content.\n     * @since 2.0.11\n     *\/",300],["T_WHITESPACE","\n    ",306],["T_PROTECTED","protected",307],["T_WHITESPACE"," ",307],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","updateDynamicContent",307],"(",["T_VARIABLE","$content",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$placeholders",307],")",["T_WHITESPACE","\n    ",307],"{",["T_WHITESPACE","\n        ",308],["T_FOREACH","foreach",309],["T_WHITESPACE"," ",309],"(",["T_VARIABLE","$placeholders",309],["T_WHITESPACE"," ",309],["T_AS","as",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$name",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$statements",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n            ",309],["T_VARIABLE","$placeholders",310],"[",["T_VARIABLE","$name",310],"]",["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","view",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","evaluateDynamicContent",310],"(",["T_VARIABLE","$statements",310],")",";",["T_WHITESPACE","\n        ",310],"}",["T_WHITESPACE","\n\n        ",311],["T_RETURN","return",313],["T_WHITESPACE"," ",313],["T_STRING","strtr",313],"(",["T_VARIABLE","$content",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$placeholders",313],")",";",["T_WHITESPACE","\n    ",313],"}",["T_WHITESPACE","\n\n    ",314],["T_DOC_COMMENT","\/**\n     * @return array the key used to cache response properties.\n     * @since 2.0.3\n     *\/",316],["T_WHITESPACE","\n    ",319],["T_PROTECTED","protected",320],["T_WHITESPACE"," ",320],["T_FUNCTION","function",320],["T_WHITESPACE"," ",320],["T_STRING","calculateCacheKey",320],"(",")",["T_WHITESPACE","\n    ",320],"{",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$key",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],"[",["T_CLASS_C","__CLASS__",322],"]",";",["T_WHITESPACE","\n        ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","varyByRoute",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$key",324],"[","]",["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_STRING","Yii",324],["T_DOUBLE_COLON","::",324],["T_VARIABLE","$app",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","requestedRoute",324],";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n        ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(",["T_STRING","is_array",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","variations",326],")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_FOREACH","foreach",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","variations",327],["T_WHITESPACE"," ",327],["T_AS","as",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$value",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                ",327],["T_VARIABLE","$key",328],"[","]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$value",328],";",["T_WHITESPACE","\n            ",328],"}",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$key",331],";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n",332],"}",["T_WHITESPACE","\n",333]]