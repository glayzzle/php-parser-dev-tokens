[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","web",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Object",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","base",12],["T_NS_SEPARATOR","\\",12],["T_STRING","InvalidConfigException",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * UrlNormalizer normalizes URLs for [[UrlManager]] and [[UrlRule]].\n *\n * @author Robert Korulczyk <robert@korulczyk.pl>\n * @author Cronfy <cronfy@gmail.com>\n * @since 2.0.10\n *\/",14],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","UrlNormalizer",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","Object",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * Represents permament redirection during route normalization.\n     * @see https:\/\/en.wikipedia.org\/wiki\/HTTP_301\n     *\/",23],["T_WHITESPACE","\n    ",26],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","ACTION_REDIRECT_PERMANENT",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_LNUMBER","301",27],";",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * Represents temporary redirection during route normalization.\n     * @see https:\/\/en.wikipedia.org\/wiki\/HTTP_302\n     *\/",28],["T_WHITESPACE","\n    ",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","ACTION_REDIRECT_TEMPORARY",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_LNUMBER","302",32],";",["T_WHITESPACE","\n    ",32],["T_DOC_COMMENT","\/**\n     * Represents showing 404 error page during route normalization.\n     * @see https:\/\/en.wikipedia.org\/wiki\/HTTP_404\n     *\/",33],["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","ACTION_NOT_FOUND",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_LNUMBER","404",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var bool whether slashes should be collapsed, for example `site\/\/\/index` will be\n     * converted into `site\/index`\n     *\/",39],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$collapseSlashes",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","true",43],";",["T_WHITESPACE","\n    ",43],["T_DOC_COMMENT","\/**\n     * @var bool whether trailing slash should be normalized according to the suffix settings\n     * of the rule\n     *\/",44],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$normalizeTrailingSlash",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","true",48],";",["T_WHITESPACE","\n    ",48],["T_DOC_COMMENT","\/**\n     * @var int|callable|null action to perform during route normalization.\n     * Available options are:\n     * - `null` - no special action will be performed\n     * - `301` - the request should be redirected to the normalized URL using\n     *   permanent redirection\n     * - `302` - the request should be redirected to the normalized URL using\n     *   temporary redirection\n     * - `404` - [[NotFoundHttpException]] will be thrown\n     * - `callable` - custom user callback, for example:\n     *\n     *   ```php\n     *   function ($route, $normalizer) {\n     *       \/\/ use custom action for redirections\n     *       $route[1]['oldRoute'] = $route[0];\n     *       $route[0] = 'site\/redirect';\n     *       return $route;\n     *   }\n     *   ```\n     *\/",49],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$action",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","self",69],["T_DOUBLE_COLON","::",69],["T_STRING","ACTION_REDIRECT_PERMANENT",69],";",["T_WHITESPACE","\n\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Performs normalization action for the specified $route.\n     * @param array $route route for normalization\n     * @return array normalized route\n     * @throws InvalidConfigException if invalid normalization action is used.\n     * @throws UrlNormalizerRedirectException if normalization requires redirection.\n     * @throws NotFoundHttpException if normalization suggests action matching route does not exist.\n     *\/",72],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","normalizeRoute",80],"(",["T_VARIABLE","$route",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","action",82],["T_WHITESPACE"," ",82],["T_IS_IDENTICAL","===",82],["T_WHITESPACE"," ",82],["T_STRING","null",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$route",83],";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE"," ",84],["T_ELSEIF","elseif",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","action",84],["T_WHITESPACE"," ",84],["T_IS_IDENTICAL","===",84],["T_WHITESPACE"," ",84],["T_STATIC","static",84],["T_DOUBLE_COLON","::",84],["T_STRING","ACTION_REDIRECT_PERMANENT",84],["T_WHITESPACE"," ",84],["T_BOOLEAN_OR","||",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","action",84],["T_WHITESPACE"," ",84],["T_IS_IDENTICAL","===",84],["T_WHITESPACE"," ",84],["T_STATIC","static",84],["T_DOUBLE_COLON","::",84],["T_STRING","ACTION_REDIRECT_TEMPORARY",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_THROW","throw",85],["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","UrlNormalizerRedirectException",85],"(","[",["T_VARIABLE","$route",85],"[",["T_LNUMBER","0",85],"]","]",["T_WHITESPACE"," ",85],"+",["T_WHITESPACE"," ",85],["T_VARIABLE","$route",85],"[",["T_LNUMBER","1",85],"]",",",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","action",85],")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE"," ",86],["T_ELSEIF","elseif",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","action",86],["T_WHITESPACE"," ",86],["T_IS_IDENTICAL","===",86],["T_WHITESPACE"," ",86],["T_STATIC","static",86],["T_DOUBLE_COLON","::",86],["T_STRING","ACTION_NOT_FOUND",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_THROW","throw",87],["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_STRING","NotFoundHttpException",87],"(",["T_STRING","Yii",87],["T_DOUBLE_COLON","::",87],["T_STRING","t",87],"(",["T_CONSTANT_ENCAPSED_STRING","'yii'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'Page not found.'",87],")",")",";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE"," ",88],["T_ELSEIF","elseif",88],["T_WHITESPACE"," ",88],"(",["T_STRING","is_callable",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","action",88],")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_STRING","call_user_func",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","action",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$route",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n\n        ",90],["T_THROW","throw",92],["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","InvalidConfigException",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid normalizer action.'",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Normalizes specified pathInfo.\n     * @param string $pathInfo pathInfo for normalization\n     * @param string $suffix current rule suffix\n     * @param bool $normalized if specified, this variable will be set to `true` if $pathInfo\n     * was changed during normalization\n     * @return string normalized pathInfo\n     *\/",95],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","normalizePathInfo",103],"(",["T_VARIABLE","$pathInfo",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$suffix",103],",",["T_WHITESPACE"," ",103],"&",["T_VARIABLE","$normalized",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","false",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_EMPTY","empty",105],"(",["T_VARIABLE","$pathInfo",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$pathInfo",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$sourcePathInfo",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$pathInfo",109],";",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","collapseSlashes",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$pathInfo",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","collapseSlashes",111],"(",["T_VARIABLE","$pathInfo",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n\n        ",112],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","normalizeTrailingSlash",114],["T_WHITESPACE"," ",114],["T_IS_IDENTICAL","===",114],["T_WHITESPACE"," ",114],["T_STRING","true",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$pathInfo",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","normalizeTrailingSlash",115],"(",["T_VARIABLE","$pathInfo",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$suffix",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$normalized",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$sourcePathInfo",118],["T_WHITESPACE"," ",118],["T_IS_NOT_IDENTICAL","!==",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$pathInfo",118],";",["T_WHITESPACE","\n\n        ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$pathInfo",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Collapse consecutive slashes in $pathInfo, for example converts `site\/\/\/index` into `site\/index`.\n     * @param string $pathInfo raw path info.\n     * @return string normalized path info.\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","collapseSlashes",128],"(",["T_VARIABLE","$pathInfo",128],")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_STRING","ltrim",130],"(",["T_STRING","preg_replace",130],"(",["T_CONSTANT_ENCAPSED_STRING","'#\/{2,}#'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'\/'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$pathInfo",130],")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'\/'",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Adds or removes trailing slashes from $pathInfo depending on whether the $suffix has a\n     * trailing slash or not.\n     * @param string $pathInfo raw path info.\n     * @param string $suffix\n     * @return string normalized path info.\n     *\/",133],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","normalizeTrailingSlash",140],"(",["T_VARIABLE","$pathInfo",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$suffix",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_STRING","substr",142],"(",["T_VARIABLE","$suffix",142],",",["T_WHITESPACE"," ",142],"-",["T_LNUMBER","1",142],")",["T_WHITESPACE"," ",142],["T_IS_IDENTICAL","===",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'\/'",142],["T_WHITESPACE"," ",142],["T_BOOLEAN_AND","&&",142],["T_WHITESPACE"," ",142],["T_STRING","substr",142],"(",["T_VARIABLE","$pathInfo",142],",",["T_WHITESPACE"," ",142],"-",["T_LNUMBER","1",142],")",["T_WHITESPACE"," ",142],["T_IS_NOT_IDENTICAL","!==",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'\/'",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$pathInfo",143],["T_WHITESPACE"," ",143],["T_CONCAT_EQUAL",".=",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'\/'",143],";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE"," ",144],["T_ELSEIF","elseif",144],["T_WHITESPACE"," ",144],"(",["T_STRING","substr",144],"(",["T_VARIABLE","$suffix",144],",",["T_WHITESPACE"," ",144],"-",["T_LNUMBER","1",144],")",["T_WHITESPACE"," ",144],["T_IS_NOT_IDENTICAL","!==",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\/'",144],["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE"," ",144],["T_STRING","substr",144],"(",["T_VARIABLE","$pathInfo",144],",",["T_WHITESPACE"," ",144],"-",["T_LNUMBER","1",144],")",["T_WHITESPACE"," ",144],["T_IS_IDENTICAL","===",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\/'",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$pathInfo",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","rtrim",145],"(",["T_VARIABLE","$pathInfo",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'\/'",145],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$pathInfo",148],";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n",149],"}",["T_WHITESPACE","\n",150]]