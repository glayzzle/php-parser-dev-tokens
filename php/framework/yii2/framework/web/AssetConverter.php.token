[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","web",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","base",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * AssetConverter supports conversion of several popular script formats into JS or CSS scripts.\n *\n * It is used by [[AssetManager]] to convert files after they have been published.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",14],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","AssetConverter",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","Component",22],["T_WHITESPACE"," ",22],["T_IMPLEMENTS","implements",22],["T_WHITESPACE"," ",22],["T_STRING","AssetConverterInterface",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * @var array the commands that are used to perform the asset conversion.\n     * The keys are the asset file extension names, and the values are the corresponding\n     * target script types (either \"css\" or \"js\") and the commands used for the conversion.\n     *\n     * You may also use a path alias to specify the location of the command:\n     *\n     * ```php\n     * [\n     *     'styl' => ['css', '@app\/node_modules\/bin\/stylus < {from} > {to}'],\n     * ]\n     * ```\n     *\/",24],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$commands",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n        ",37],["T_CONSTANT_ENCAPSED_STRING","'less'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],"[",["T_CONSTANT_ENCAPSED_STRING","'css'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'lessc {from} {to} --no-color --source-map'",38],"]",",",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'scss'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],"[",["T_CONSTANT_ENCAPSED_STRING","'css'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'sass {from} {to} --sourcemap'",39],"]",",",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'sass'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],"[",["T_CONSTANT_ENCAPSED_STRING","'css'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'sass {from} {to} --sourcemap'",40],"]",",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'styl'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],"[",["T_CONSTANT_ENCAPSED_STRING","'css'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'stylus < {from} > {to}'",41],"]",",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'coffee'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'js'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'coffee -p {from} > {to}'",42],"]",",",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'ts'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'js'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'tsc --out {to} {from}'",43],"]",",",["T_WHITESPACE","\n    ",43],"]",";",["T_WHITESPACE","\n    ",44],["T_DOC_COMMENT","\/**\n     * @var bool whether the source asset file should be converted even if its result already exists.\n     * You may want to set this to be `true` during the development stage to make sure the converted\n     * assets are always up-to-date. Do not set this to true on production servers as it will\n     * significantly degrade the performance.\n     *\/",45],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$forceConvert",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","false",51],";",["T_WHITESPACE","\n\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Converts a given asset file into a CSS or JS file.\n     * @param string $asset the asset file path, relative to $basePath\n     * @param string $basePath the directory the $asset is relative to.\n     * @return string the converted asset file path, relative to $basePath.\n     *\/",54],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","convert",60],"(",["T_VARIABLE","$asset",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$basePath",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$pos",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","strrpos",62],"(",["T_VARIABLE","$asset",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'.'",62],")",";",["T_WHITESPACE","\n        ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$pos",63],["T_WHITESPACE"," ",63],["T_IS_NOT_IDENTICAL","!==",63],["T_WHITESPACE"," ",63],["T_STRING","false",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$ext",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","substr",64],"(",["T_VARIABLE","$asset",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$pos",64],["T_WHITESPACE"," ",64],"+",["T_WHITESPACE"," ",64],["T_LNUMBER","1",64],")",";",["T_WHITESPACE","\n            ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_ISSET","isset",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","commands",65],"[",["T_VARIABLE","$ext",65],"]",")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                ",65],["T_LIST","list",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$ext",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$command",66],")",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","commands",66],"[",["T_VARIABLE","$ext",66],"]",";",["T_WHITESPACE","\n                ",66],["T_VARIABLE","$result",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","substr",67],"(",["T_VARIABLE","$asset",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$pos",67],["T_WHITESPACE"," ",67],"+",["T_WHITESPACE"," ",67],["T_LNUMBER","1",67],")",["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$ext",67],";",["T_WHITESPACE","\n                ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","forceConvert",68],["T_WHITESPACE"," ",68],["T_BOOLEAN_OR","||",68],["T_WHITESPACE"," ",68],"@",["T_STRING","filemtime",68],"(","\"",["T_VARIABLE","$basePath",68],["T_ENCAPSED_AND_WHITESPACE","\/",68],["T_VARIABLE","$result",68],"\"",")",["T_WHITESPACE"," ",68],"<",["T_WHITESPACE"," ",68],"@",["T_STRING","filemtime",68],"(","\"",["T_VARIABLE","$basePath",68],["T_ENCAPSED_AND_WHITESPACE","\/",68],["T_VARIABLE","$asset",68],"\"",")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n                    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","runCommand",69],"(",["T_VARIABLE","$command",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$basePath",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$asset",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$result",69],")",";",["T_WHITESPACE","\n                ",69],"}",["T_WHITESPACE","\n\n                ",70],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$result",72],";",["T_WHITESPACE","\n            ",72],"}",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n\n        ",74],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$asset",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Runs a command to convert asset files.\n     * @param string $command the command to run. If prefixed with an `@` it will be treated as a path alias.\n     * @param string $basePath asset base path and command working directory\n     * @param string $asset the name of the asset file\n     * @param string $result the name of the file to be generated by the converter command\n     * @return bool true on success, false on failure. Failures will be logged.\n     * @throws \\yii\\base\\Exception when the command fails and YII_DEBUG is true.\n     * In production mode the error will be logged.\n     *\/",79],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","runCommand",89],"(",["T_VARIABLE","$command",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$basePath",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$asset",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$result",89],")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$command",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","Yii",91],["T_DOUBLE_COLON","::",91],["T_STRING","getAlias",91],"(",["T_VARIABLE","$command",91],")",";",["T_WHITESPACE","\n        \n        ",91],["T_VARIABLE","$command",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","strtr",93],"(",["T_VARIABLE","$command",93],",",["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'{from}'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","escapeshellarg",94],"(","\"",["T_VARIABLE","$basePath",94],["T_ENCAPSED_AND_WHITESPACE","\/",94],["T_VARIABLE","$asset",94],"\"",")",",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'{to}'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","escapeshellarg",95],"(","\"",["T_VARIABLE","$basePath",95],["T_ENCAPSED_AND_WHITESPACE","\/",95],["T_VARIABLE","$result",95],"\"",")",",",["T_WHITESPACE","\n        ",95],"]",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$descriptor",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],"[",["T_WHITESPACE","\n            ",97],["T_LNUMBER","1",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],"[",["T_CONSTANT_ENCAPSED_STRING","'pipe'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'w'",98],"]",",",["T_WHITESPACE","\n            ",98],["T_LNUMBER","2",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],"[",["T_CONSTANT_ENCAPSED_STRING","'pipe'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'w'",99],"]",",",["T_WHITESPACE","\n        ",99],"]",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$pipes",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"[","]",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$proc",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","proc_open",102],"(",["T_VARIABLE","$command",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$descriptor",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$pipes",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$basePath",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$stdout",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","stream_get_contents",103],"(",["T_VARIABLE","$pipes",103],"[",["T_LNUMBER","1",103],"]",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$stderr",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","stream_get_contents",104],"(",["T_VARIABLE","$pipes",104],"[",["T_LNUMBER","2",104],"]",")",";",["T_WHITESPACE","\n        ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$pipes",105],["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$pipe",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_STRING","fclose",106],"(",["T_VARIABLE","$pipe",106],")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$status",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","proc_close",108],"(",["T_VARIABLE","$proc",108],")",";",["T_WHITESPACE","\n\n        ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$status",110],["T_WHITESPACE"," ",110],["T_IS_IDENTICAL","===",110],["T_WHITESPACE"," ",110],["T_LNUMBER","0",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_STRING","Yii",111],["T_DOUBLE_COLON","::",111],["T_STRING","trace",111],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Converted ",111],["T_VARIABLE","$asset",111],["T_ENCAPSED_AND_WHITESPACE"," into ",111],["T_VARIABLE","$result",111],["T_ENCAPSED_AND_WHITESPACE",":\\nSTDOUT:\\n",111],["T_VARIABLE","$stdout",111],["T_ENCAPSED_AND_WHITESPACE","\\nSTDERR:\\n",111],["T_VARIABLE","$stderr",111],"\"",",",["T_WHITESPACE"," ",111],["T_METHOD_C","__METHOD__",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE"," ",112],["T_ELSEIF","elseif",112],["T_WHITESPACE"," ",112],"(",["T_STRING","YII_DEBUG",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_THROW","throw",113],["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","Exception",113],"(","\"",["T_ENCAPSED_AND_WHITESPACE","AssetConverter command '",113],["T_VARIABLE","$command",113],["T_ENCAPSED_AND_WHITESPACE","' failed with exit code ",113],["T_VARIABLE","$status",113],["T_ENCAPSED_AND_WHITESPACE",":\\nSTDOUT:\\n",113],["T_VARIABLE","$stdout",113],["T_ENCAPSED_AND_WHITESPACE","\\nSTDERR:\\n",113],["T_VARIABLE","$stderr",113],"\"",")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE"," ",114],["T_ELSE","else",114],["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_STRING","Yii",115],["T_DOUBLE_COLON","::",115],["T_STRING","error",115],"(","\"",["T_ENCAPSED_AND_WHITESPACE","AssetConverter command '",115],["T_VARIABLE","$command",115],["T_ENCAPSED_AND_WHITESPACE","' failed with exit code ",115],["T_VARIABLE","$status",115],["T_ENCAPSED_AND_WHITESPACE",":\\nSTDOUT:\\n",115],["T_VARIABLE","$stdout",115],["T_ENCAPSED_AND_WHITESPACE","\\nSTDERR:\\n",115],["T_VARIABLE","$stderr",115],"\"",",",["T_WHITESPACE"," ",115],["T_METHOD_C","__METHOD__",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$status",118],["T_WHITESPACE"," ",118],["T_IS_IDENTICAL","===",118],["T_WHITESPACE"," ",118],["T_LNUMBER","0",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n",119],"}",["T_WHITESPACE","\n",120]]