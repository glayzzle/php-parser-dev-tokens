[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","web",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","base",12],["T_NS_SEPARATOR","\\",12],["T_STRING","InvalidConfigException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","base",13],["T_NS_SEPARATOR","\\",13],["T_STRING","InvalidValueException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","rbac",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CheckAccessInterface",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * User is the class for the `user` application component that manages the user authentication status.\n *\n * You may use [[isGuest]] to determine whether the current user is a guest or not.\n * If the user is a guest, the [[identity]] property would return `null`. Otherwise, it would\n * be an instance of [[IdentityInterface]].\n *\n * You may call various methods to change the user authentication status:\n *\n * - [[login()]]: sets the specified identity and remembers the authentication status in session and cookie;\n * - [[logout()]]: marks the user as a guest and clears the relevant information from session and cookie;\n * - [[setIdentity()]]: changes the user identity without touching session or cookie\n *   (this is best used in stateless RESTful API implementation).\n *\n * Note that User only maintains the user authentication status. It does NOT handle how to authenticate\n * a user. The logic of how to authenticate a user should be done in the class implementing [[IdentityInterface]].\n * You are also required to set [[identityClass]] with the name of this class.\n *\n * User is configured as an application component in [[\\yii\\web\\Application]] by default.\n * You can access that instance via `Yii::$app->user`.\n *\n * You can modify its configuration by adding an array to your application config under `components`\n * as it is shown in the following example:\n *\n * ```php\n * 'user' => [\n *     'identityClass' => 'app\\models\\User', \/\/ User must implement the IdentityInterface\n *     'enableAutoLogin' => true,\n *     \/\/ 'loginUrl' => ['user\/login'],\n *     \/\/ ...\n * ]\n * ```\n *\n * @property string|int $id The unique identifier for the user. If `null`, it means the user is a guest.\n * This property is read-only.\n * @property IdentityInterface|null $identity The identity object associated with the currently logged-in\n * user. `null` is returned if the user is not logged in (not authenticated).\n * @property bool $isGuest Whether the current user is a guest. This property is read-only.\n * @property string $returnUrl The URL that the user should be redirected to after login. Note that the type\n * of this property differs in getter and setter. See [[getReturnUrl()]] and [[setReturnUrl()]] for details.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",16],["T_WHITESPACE","\n",59],["T_CLASS","class",60],["T_WHITESPACE"," ",60],["T_STRING","User",60],["T_WHITESPACE"," ",60],["T_EXTENDS","extends",60],["T_WHITESPACE"," ",60],["T_STRING","Component",60],["T_WHITESPACE","\n",60],"{",["T_WHITESPACE","\n    ",61],["T_CONST","const",62],["T_WHITESPACE"," ",62],["T_STRING","EVENT_BEFORE_LOGIN",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'beforeLogin'",62],";",["T_WHITESPACE","\n    ",62],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","EVENT_AFTER_LOGIN",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'afterLogin'",63],";",["T_WHITESPACE","\n    ",63],["T_CONST","const",64],["T_WHITESPACE"," ",64],["T_STRING","EVENT_BEFORE_LOGOUT",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'beforeLogout'",64],";",["T_WHITESPACE","\n    ",64],["T_CONST","const",65],["T_WHITESPACE"," ",65],["T_STRING","EVENT_AFTER_LOGOUT",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'afterLogout'",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @var string the class name of the [[identity]] object.\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$identityClass",70],";",["T_WHITESPACE","\n    ",70],["T_DOC_COMMENT","\/**\n     * @var bool whether to enable cookie-based login. Defaults to `false`.\n     * Note that this property will be ignored if [[enableSession]] is `false`.\n     *\/",71],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$enableAutoLogin",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","false",75],";",["T_WHITESPACE","\n    ",75],["T_DOC_COMMENT","\/**\n     * @var bool whether to use session to persist authentication status across multiple requests.\n     * You set this property to be `false` if your application is stateless, which is often the case\n     * for RESTful APIs.\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$enableSession",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","true",81],";",["T_WHITESPACE","\n    ",81],["T_DOC_COMMENT","\/**\n     * @var string|array the URL for login when [[loginRequired()]] is called.\n     * If an array is given, [[UrlManager::createUrl()]] will be called to create the corresponding URL.\n     * The first element of the array should be the route to the login action, and the rest of\n     * the name-value pairs are GET parameters used to construct the login URL. For example,\n     *\n     * ```php\n     * ['site\/login', 'ref' => 1]\n     * ```\n     *\n     * If this property is `null`, a 403 HTTP exception will be raised when [[loginRequired()]] is called.\n     *\/",82],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$loginUrl",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[",["T_CONSTANT_ENCAPSED_STRING","'site\/login'",94],"]",";",["T_WHITESPACE","\n    ",94],["T_DOC_COMMENT","\/**\n     * @var array the configuration of the identity cookie. This property is used only when [[enableAutoLogin]] is `true`.\n     * @see Cookie\n     *\/",95],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$identityCookie",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'_identity'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'httpOnly'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_STRING","true",99],"]",";",["T_WHITESPACE","\n    ",99],["T_DOC_COMMENT","\/**\n     * @var int the number of seconds in which the user will be logged out automatically if he\n     * remains inactive. If this property is not set, the user will be logged out after\n     * the current session expires (c.f. [[Session::timeout]]).\n     * Note that this will not work if [[enableAutoLogin]] is `true`.\n     *\/",100],["T_WHITESPACE","\n    ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$authTimeout",106],";",["T_WHITESPACE","\n    ",106],["T_DOC_COMMENT","\/**\n     * @var CheckAccessInterface The access checker to use for checking access.\n     * If not set the application auth manager will be used.\n     * @since 2.0.9\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$accessChecker",112],";",["T_WHITESPACE","\n    ",112],["T_DOC_COMMENT","\/**\n     * @var int the number of seconds in which the user will be logged out automatically\n     * regardless of activity.\n     * Note that this will not work if [[enableAutoLogin]] is `true`.\n     *\/",113],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$absoluteAuthTimeout",118],";",["T_WHITESPACE","\n    ",118],["T_DOC_COMMENT","\/**\n     * @var bool whether to automatically renew the identity cookie each time a page is requested.\n     * This property is effective only when [[enableAutoLogin]] is `true`.\n     * When this is `false`, the identity cookie will expire after the specified duration since the user\n     * is initially logged in. When this is `true`, the identity cookie will expire after the specified duration\n     * since the user visits the site the last time.\n     * @see enableAutoLogin\n     *\/",119],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$autoRenewCookie",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","true",127],";",["T_WHITESPACE","\n    ",127],["T_DOC_COMMENT","\/**\n     * @var string the session variable name used to store the value of [[id]].\n     *\/",128],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$idParam",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'__id'",131],";",["T_WHITESPACE","\n    ",131],["T_DOC_COMMENT","\/**\n     * @var string the session variable name used to store the value of expiration timestamp of the authenticated state.\n     * This is used when [[authTimeout]] is set.\n     *\/",132],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$authTimeoutParam",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'__expire'",136],";",["T_WHITESPACE","\n    ",136],["T_DOC_COMMENT","\/**\n     * @var string the session variable name used to store the value of absolute expiration timestamp of the authenticated state.\n     * This is used when [[absoluteAuthTimeout]] is set.\n     *\/",137],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$absoluteAuthTimeoutParam",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'__absoluteExpire'",141],";",["T_WHITESPACE","\n    ",141],["T_DOC_COMMENT","\/**\n     * @var string the session variable name used to store the value of [[returnUrl]].\n     *\/",142],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$returnUrlParam",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'__returnUrl'",145],";",["T_WHITESPACE","\n    ",145],["T_DOC_COMMENT","\/**\n     * @var array MIME types for which this component should redirect to the [[loginUrl]].\n     * @since 2.0.8\n     *\/",146],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$acceptableRedirectTypes",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],"[",["T_CONSTANT_ENCAPSED_STRING","'text\/html'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'application\/xhtml+xml'",150],"]",";",["T_WHITESPACE","\n\n    ",150],["T_PRIVATE","private",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$_access",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],"[","]",";",["T_WHITESPACE","\n\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Initializes the application component.\n     *\/",155],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","init",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_STRING","parent",160],["T_DOUBLE_COLON","::",160],["T_STRING","init",160],"(",")",";",["T_WHITESPACE","\n\n        ",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","identityClass",162],["T_WHITESPACE"," ",162],["T_IS_IDENTICAL","===",162],["T_WHITESPACE"," ",162],["T_STRING","null",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_THROW","throw",163],["T_WHITESPACE"," ",163],["T_NEW","new",163],["T_WHITESPACE"," ",163],["T_STRING","InvalidConfigException",163],"(",["T_CONSTANT_ENCAPSED_STRING","'User::identityClass must be set.'",163],")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","enableAutoLogin",165],["T_WHITESPACE"," ",165],["T_BOOLEAN_AND","&&",165],["T_WHITESPACE"," ",165],"!",["T_ISSET","isset",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","identityCookie",165],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",165],"]",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_THROW","throw",166],["T_WHITESPACE"," ",166],["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_STRING","InvalidConfigException",166],"(",["T_CONSTANT_ENCAPSED_STRING","'User::identityCookie must contain the \"name\" element.'",166],")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_PRIVATE","private",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$_identity",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","false",170],";",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Returns the identity object associated with the currently logged-in user.\n     * When [[enableSession]] is true, this method may attempt to read the user's authentication data\n     * stored in session and reconstruct the corresponding identity object, if it has not done so before.\n     * @param bool $autoRenew whether to automatically renew authentication status if it has not been done so before.\n     * This is only useful when [[enableSession]] is true.\n     * @return IdentityInterface|null the identity object associated with the currently logged-in user.\n     * `null` is returned if the user is not logged in (not authenticated).\n     * @see login()\n     * @see logout()\n     *\/",172],["T_WHITESPACE","\n    ",182],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","getIdentity",183],"(",["T_VARIABLE","$autoRenew",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","true",183],")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_identity",185],["T_WHITESPACE"," ",185],["T_IS_IDENTICAL","===",185],["T_WHITESPACE"," ",185],["T_STRING","false",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","enableSession",186],["T_WHITESPACE"," ",186],["T_BOOLEAN_AND","&&",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$autoRenew",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_identity",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","null",187],";",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","renewAuthStatus",188],"(",")",";",["T_WHITESPACE","\n            ",188],"}",["T_WHITESPACE"," ",189],["T_ELSE","else",189],["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_STRING","null",190],";",["T_WHITESPACE","\n            ",190],"}",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n\n        ",192],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_identity",194],";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Sets the user identity object.\n     *\n     * Note that this method does not deal with session or cookie. You should usually use [[switchIdentity()]]\n     * to change the identity of the current user.\n     *\n     * @param IdentityInterface|null $identity the identity object associated with the currently logged user.\n     * If null, it means the current user will be a guest without any associated identity.\n     * @throws InvalidValueException if `$identity` object does not implement [[IdentityInterface]].\n     *\/",197],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","setIdentity",207],"(",["T_VARIABLE","$identity",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$identity",209],["T_WHITESPACE"," ",209],["T_INSTANCEOF","instanceof",209],["T_WHITESPACE"," ",209],["T_STRING","IdentityInterface",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_identity",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$identity",210],";",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_access",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],"[","]",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE"," ",212],["T_ELSEIF","elseif",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$identity",212],["T_WHITESPACE"," ",212],["T_IS_IDENTICAL","===",212],["T_WHITESPACE"," ",212],["T_STRING","null",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_identity",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","null",213],";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE"," ",214],["T_ELSE","else",214],["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_THROW","throw",215],["T_WHITESPACE"," ",215],["T_NEW","new",215],["T_WHITESPACE"," ",215],["T_STRING","InvalidValueException",215],"(",["T_CONSTANT_ENCAPSED_STRING","'The identity object must implement IdentityInterface.'",215],")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Logs in a user.\n     *\n     * After logging in a user:\n     * - the user's identity information is obtainable from the [[identity]] property\n     *\n     * If [[enableSession]] is `true`:\n     * - the identity information will be stored in session and be available in the next requests\n     * - in case of `$duration == 0`: as long as the session remains active or till the user closes the browser\n     * - in case of `$duration > 0`: as long as the session remains active or as long as the cookie\n     *  remains valid by it's `$duration` in seconds when [[enableAutoLogin]] is set `true`.\n     *\n     * If [[enableSession]] is `false`:\n     * - the `$duration` parameter will be ignored\n     *\n     * @param IdentityInterface $identity the user identity (which should already be authenticated)\n     * @param int $duration number of seconds that the user can remain in logged-in status, defaults to `0`\n     * @return bool whether the user is logged in\n     *\/",219],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","login",238],"(",["T_STRING","IdentityInterface",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$identity",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$duration",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_LNUMBER","0",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","beforeLogin",240],"(",["T_VARIABLE","$identity",240],",",["T_WHITESPACE"," ",240],["T_STRING","false",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$duration",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","switchIdentity",241],"(",["T_VARIABLE","$identity",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$duration",241],")",";",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$id",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$identity",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getId",242],"(",")",";",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$ip",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","Yii",243],["T_DOUBLE_COLON","::",243],["T_VARIABLE","$app",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getRequest",243],"(",")",["T_OBJECT_OPERATOR","->",243],["T_STRING","getUserIP",243],"(",")",";",["T_WHITESPACE","\n            ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","enableSession",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$log",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],"\"",["T_ENCAPSED_AND_WHITESPACE","User '",245],["T_VARIABLE","$id",245],["T_ENCAPSED_AND_WHITESPACE","' logged in from ",245],["T_VARIABLE","$ip",245],["T_ENCAPSED_AND_WHITESPACE"," with duration ",245],["T_VARIABLE","$duration",245],["T_ENCAPSED_AND_WHITESPACE",".",245],"\"",";",["T_WHITESPACE","\n            ",245],"}",["T_WHITESPACE"," ",246],["T_ELSE","else",246],["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$log",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],"\"",["T_ENCAPSED_AND_WHITESPACE","User '",247],["T_VARIABLE","$id",247],["T_ENCAPSED_AND_WHITESPACE","' logged in from ",247],["T_VARIABLE","$ip",247],["T_ENCAPSED_AND_WHITESPACE",". Session not enabled.",247],"\"",";",["T_WHITESPACE","\n            ",247],"}",["T_WHITESPACE","\n            ",248],["T_STRING","Yii",249],["T_DOUBLE_COLON","::",249],["T_STRING","info",249],"(",["T_VARIABLE","$log",249],",",["T_WHITESPACE"," ",249],["T_METHOD_C","__METHOD__",249],")",";",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","afterLogin",250],"(",["T_VARIABLE","$identity",250],",",["T_WHITESPACE"," ",250],["T_STRING","false",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$duration",250],")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n\n        ",251],["T_RETURN","return",253],["T_WHITESPACE"," ",253],"!",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getIsGuest",253],"(",")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Logs in a user by the given access token.\n     * This method will first authenticate the user by calling [[IdentityInterface::findIdentityByAccessToken()]]\n     * with the provided access token. If successful, it will call [[login()]] to log in the authenticated user.\n     * If authentication fails or [[login()]] is unsuccessful, it will return null.\n     * @param string $token the access token\n     * @param mixed $type the type of the token. The value of this parameter depends on the implementation.\n     * For example, [[\\yii\\filters\\auth\\HttpBearerAuth]] will set this parameter to be `yii\\filters\\auth\\HttpBearerAuth`.\n     * @return IdentityInterface|null the identity associated with the given access token. Null is returned if\n     * the access token is invalid or [[login()]] is unsuccessful.\n     *\/",256],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","loginByAccessToken",267],"(",["T_VARIABLE","$token",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$type",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING","null",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_COMMENT","\/* @var $class IdentityInterface *\/",269],["T_WHITESPACE","\n        ",269],["T_VARIABLE","$class",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","identityClass",270],";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$identity",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$class",271],["T_DOUBLE_COLON","::",271],["T_STRING","findIdentityByAccessToken",271],"(",["T_VARIABLE","$token",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$type",271],")",";",["T_WHITESPACE","\n        ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$identity",272],["T_WHITESPACE"," ",272],["T_BOOLEAN_AND","&&",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","login",272],"(",["T_VARIABLE","$identity",272],")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$identity",273],";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE"," ",274],["T_ELSE","else",274],["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_STRING","null",275],";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Logs in a user by cookie.\n     *\n     * This method attempts to log in a user using the ID and authKey information\n     * provided by the [[identityCookie|identity cookie]].\n     *\/",279],["T_WHITESPACE","\n    ",284],["T_PROTECTED","protected",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","loginByCookie",285],"(",")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$data",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getIdentityAndDurationFromCookie",287],"(",")",";",["T_WHITESPACE","\n        ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_ISSET","isset",288],"(",["T_VARIABLE","$data",288],"[",["T_CONSTANT_ENCAPSED_STRING","'identity'",288],"]",",",["T_WHITESPACE"," ",288],["T_VARIABLE","$data",288],"[",["T_CONSTANT_ENCAPSED_STRING","'duration'",288],"]",")",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$identity",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$data",289],"[",["T_CONSTANT_ENCAPSED_STRING","'identity'",289],"]",";",["T_WHITESPACE","\n            ",289],["T_VARIABLE","$duration",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$data",290],"[",["T_CONSTANT_ENCAPSED_STRING","'duration'",290],"]",";",["T_WHITESPACE","\n            ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","beforeLogin",291],"(",["T_VARIABLE","$identity",291],",",["T_WHITESPACE"," ",291],["T_STRING","true",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$duration",291],")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","switchIdentity",292],"(",["T_VARIABLE","$identity",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","autoRenewCookie",292],["T_WHITESPACE"," ",292],"?",["T_WHITESPACE"," ",292],["T_VARIABLE","$duration",292],["T_WHITESPACE"," ",292],":",["T_WHITESPACE"," ",292],["T_LNUMBER","0",292],")",";",["T_WHITESPACE","\n                ",292],["T_VARIABLE","$id",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$identity",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getId",293],"(",")",";",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$ip",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","Yii",294],["T_DOUBLE_COLON","::",294],["T_VARIABLE","$app",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getRequest",294],"(",")",["T_OBJECT_OPERATOR","->",294],["T_STRING","getUserIP",294],"(",")",";",["T_WHITESPACE","\n                ",294],["T_STRING","Yii",295],["T_DOUBLE_COLON","::",295],["T_STRING","info",295],"(","\"",["T_ENCAPSED_AND_WHITESPACE","User '",295],["T_VARIABLE","$id",295],["T_ENCAPSED_AND_WHITESPACE","' logged in from ",295],["T_VARIABLE","$ip",295],["T_ENCAPSED_AND_WHITESPACE"," via cookie.",295],"\"",",",["T_WHITESPACE"," ",295],["T_METHOD_C","__METHOD__",295],")",";",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","afterLogin",296],"(",["T_VARIABLE","$identity",296],",",["T_WHITESPACE"," ",296],["T_STRING","true",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$duration",296],")",";",["T_WHITESPACE","\n            ",296],"}",["T_WHITESPACE","\n        ",297],"}",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Logs out the current user.\n     * This will remove authentication-related session data.\n     * If `$destroySession` is true, all session data will be removed.\n     * @param bool $destroySession whether to destroy the whole session. Defaults to true.\n     * This parameter is ignored if [[enableSession]] is false.\n     * @return bool whether the user is logged out\n     *\/",301],["T_WHITESPACE","\n    ",308],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","logout",309],"(",["T_VARIABLE","$destroySession",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","true",309],")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$identity",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getIdentity",311],"(",")",";",["T_WHITESPACE","\n        ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$identity",312],["T_WHITESPACE"," ",312],["T_IS_NOT_IDENTICAL","!==",312],["T_WHITESPACE"," ",312],["T_STRING","null",312],["T_WHITESPACE"," ",312],["T_BOOLEAN_AND","&&",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","beforeLogout",312],"(",["T_VARIABLE","$identity",312],")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","switchIdentity",313],"(",["T_STRING","null",313],")",";",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$id",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$identity",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getId",314],"(",")",";",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$ip",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","Yii",315],["T_DOUBLE_COLON","::",315],["T_VARIABLE","$app",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getRequest",315],"(",")",["T_OBJECT_OPERATOR","->",315],["T_STRING","getUserIP",315],"(",")",";",["T_WHITESPACE","\n            ",315],["T_STRING","Yii",316],["T_DOUBLE_COLON","::",316],["T_STRING","info",316],"(","\"",["T_ENCAPSED_AND_WHITESPACE","User '",316],["T_VARIABLE","$id",316],["T_ENCAPSED_AND_WHITESPACE","' logged out from ",316],["T_VARIABLE","$ip",316],["T_ENCAPSED_AND_WHITESPACE",".",316],"\"",",",["T_WHITESPACE"," ",316],["T_METHOD_C","__METHOD__",316],")",";",["T_WHITESPACE","\n            ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$destroySession",317],["T_WHITESPACE"," ",317],["T_BOOLEAN_AND","&&",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","enableSession",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],["T_STRING","Yii",318],["T_DOUBLE_COLON","::",318],["T_VARIABLE","$app",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getSession",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","destroy",318],"(",")",";",["T_WHITESPACE","\n            ",318],"}",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","afterLogout",320],"(",["T_VARIABLE","$identity",320],")",";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_RETURN","return",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getIsGuest",323],"(",")",";",["T_WHITESPACE","\n    ",323],"}",["T_WHITESPACE","\n\n    ",324],["T_DOC_COMMENT","\/**\n     * Returns a value indicating whether the user is a guest (not authenticated).\n     * @return bool whether the current user is a guest.\n     * @see getIdentity()\n     *\/",326],["T_WHITESPACE","\n    ",330],["T_PUBLIC","public",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","getIsGuest",331],"(",")",["T_WHITESPACE","\n    ",331],"{",["T_WHITESPACE","\n        ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getIdentity",333],"(",")",["T_WHITESPACE"," ",333],["T_IS_IDENTICAL","===",333],["T_WHITESPACE"," ",333],["T_STRING","null",333],";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_DOC_COMMENT","\/**\n     * Returns a value that uniquely represents the user.\n     * @return string|int the unique identifier for the user. If `null`, it means the user is a guest.\n     * @see getIdentity()\n     *\/",336],["T_WHITESPACE","\n    ",340],["T_PUBLIC","public",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","getId",341],"(",")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$identity",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getIdentity",343],"(",")",";",["T_WHITESPACE","\n\n        ",343],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$identity",345],["T_WHITESPACE"," ",345],["T_IS_NOT_IDENTICAL","!==",345],["T_WHITESPACE"," ",345],["T_STRING","null",345],["T_WHITESPACE"," ",345],"?",["T_WHITESPACE"," ",345],["T_VARIABLE","$identity",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getId",345],"(",")",["T_WHITESPACE"," ",345],":",["T_WHITESPACE"," ",345],["T_STRING","null",345],";",["T_WHITESPACE","\n    ",345],"}",["T_WHITESPACE","\n\n    ",346],["T_DOC_COMMENT","\/**\n     * Returns the URL that the browser should be redirected to after successful login.\n     *\n     * This method reads the return URL from the session. It is usually used by the login action which\n     * may call this method to redirect the browser to where it goes after successful authentication.\n     *\n     * @param string|array $defaultUrl the default return URL in case it was not set previously.\n     * If this is null and the return URL was not set previously, [[Application::homeUrl]] will be redirected to.\n     * Please refer to [[setReturnUrl()]] on accepted format of the URL.\n     * @return string the URL that the user should be redirected to after login.\n     * @see loginRequired()\n     *\/",348],["T_WHITESPACE","\n    ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","getReturnUrl",360],"(",["T_VARIABLE","$defaultUrl",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_STRING","null",360],")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$url",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_STRING","Yii",362],["T_DOUBLE_COLON","::",362],["T_VARIABLE","$app",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getSession",362],"(",")",["T_OBJECT_OPERATOR","->",362],["T_STRING","get",362],"(",["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","returnUrlParam",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$defaultUrl",362],")",";",["T_WHITESPACE","\n        ",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(",["T_STRING","is_array",363],"(",["T_VARIABLE","$url",363],")",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n            ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_ISSET","isset",364],"(",["T_VARIABLE","$url",364],"[",["T_LNUMBER","0",364],"]",")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n                ",364],["T_RETURN","return",365],["T_WHITESPACE"," ",365],["T_STRING","Yii",365],["T_DOUBLE_COLON","::",365],["T_VARIABLE","$app",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getUrlManager",365],"(",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","createUrl",365],"(",["T_VARIABLE","$url",365],")",";",["T_WHITESPACE","\n            ",365],"}",["T_WHITESPACE"," ",366],["T_ELSE","else",366],["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n                ",366],["T_VARIABLE","$url",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","null",367],";",["T_WHITESPACE","\n            ",367],"}",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n\n        ",369],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$url",371],["T_WHITESPACE"," ",371],["T_IS_IDENTICAL","===",371],["T_WHITESPACE"," ",371],["T_STRING","null",371],["T_WHITESPACE"," ",371],"?",["T_WHITESPACE"," ",371],["T_STRING","Yii",371],["T_DOUBLE_COLON","::",371],["T_VARIABLE","$app",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getHomeUrl",371],"(",")",["T_WHITESPACE"," ",371],":",["T_WHITESPACE"," ",371],["T_VARIABLE","$url",371],";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_DOC_COMMENT","\/**\n     * Remembers the URL in the session so that it can be retrieved back later by [[getReturnUrl()]].\n     * @param string|array $url the URL that the user should be redirected to after login.\n     * If an array is given, [[UrlManager::createUrl()]] will be called to create the corresponding URL.\n     * The first element of the array should be the route, and the rest of\n     * the name-value pairs are GET parameters used to construct the URL. For example,\n     *\n     * ```php\n     * ['admin\/index', 'ref' => 1]\n     * ```\n     *\/",374],["T_WHITESPACE","\n    ",384],["T_PUBLIC","public",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","setReturnUrl",385],"(",["T_VARIABLE","$url",385],")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_STRING","Yii",387],["T_DOUBLE_COLON","::",387],["T_VARIABLE","$app",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getSession",387],"(",")",["T_OBJECT_OPERATOR","->",387],["T_STRING","set",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","returnUrlParam",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$url",387],")",";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Redirects the user browser to the login page.\n     *\n     * Before the redirection, the current URL (if it's not an AJAX url) will be kept as [[returnUrl]] so that\n     * the user browser may be redirected back to the current page after successful login.\n     *\n     * Make sure you set [[loginUrl]] so that the user browser can be redirected to the specified login URL after\n     * calling this method.\n     *\n     * Note that when [[loginUrl]] is set, calling this method will NOT terminate the application execution.\n     *\n     * @param bool $checkAjax whether to check if the request is an AJAX request. When this is true and the request\n     * is an AJAX request, the current URL (for AJAX request) will NOT be set as the return URL.\n     * @param bool $checkAcceptHeader whether to check if the request accepts HTML responses. Defaults to `true`. When this is true and\n     * the request does not accept HTML responses the current URL will not be SET as the return URL. Also instead of\n     * redirecting the user an ForbiddenHttpException is thrown. This parameter is available since version 2.0.8.\n     * @return Response the redirection response if [[loginUrl]] is set\n     * @throws ForbiddenHttpException the \"Access Denied\" HTTP exception if [[loginUrl]] is not set or a redirect is\n     * not applicable.\n     *\/",390],["T_WHITESPACE","\n    ",409],["T_PUBLIC","public",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","loginRequired",410],"(",["T_VARIABLE","$checkAjax",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","true",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$checkAcceptHeader",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","true",410],")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$request",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_STRING","Yii",412],["T_DOUBLE_COLON","::",412],["T_VARIABLE","$app",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","getRequest",412],"(",")",";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$canRedirect",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],"!",["T_VARIABLE","$checkAcceptHeader",413],["T_WHITESPACE"," ",413],["T_BOOLEAN_OR","||",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","checkRedirectAcceptable",413],"(",")",";",["T_WHITESPACE","\n        ",413],["T_IF","if",414],["T_WHITESPACE"," ",414],"(",["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","enableSession",414],["T_WHITESPACE","\n            ",414],["T_BOOLEAN_AND","&&",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$request",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getIsGet",415],"(",")",["T_WHITESPACE","\n            ",415],["T_BOOLEAN_AND","&&",416],["T_WHITESPACE"," ",416],"(","!",["T_VARIABLE","$checkAjax",416],["T_WHITESPACE"," ",416],["T_BOOLEAN_OR","||",416],["T_WHITESPACE"," ",416],"!",["T_VARIABLE","$request",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getIsAjax",416],"(",")",")",["T_WHITESPACE","\n            ",416],["T_BOOLEAN_AND","&&",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$canRedirect",417],["T_WHITESPACE","\n        ",417],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","setReturnUrl",419],"(",["T_VARIABLE","$request",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getUrl",419],"(",")",")",";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE","\n        ",420],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","loginUrl",421],["T_WHITESPACE"," ",421],["T_IS_NOT_IDENTICAL","!==",421],["T_WHITESPACE"," ",421],["T_STRING","null",421],["T_WHITESPACE"," ",421],["T_BOOLEAN_AND","&&",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$canRedirect",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n            ",421],["T_VARIABLE","$loginUrl",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_ARRAY_CAST","(array)",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","loginUrl",422],";",["T_WHITESPACE","\n            ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$loginUrl",423],"[",["T_LNUMBER","0",423],"]",["T_WHITESPACE"," ",423],["T_IS_NOT_IDENTICAL","!==",423],["T_WHITESPACE"," ",423],["T_STRING","Yii",423],["T_DOUBLE_COLON","::",423],["T_VARIABLE","$app",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","requestedRoute",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n                ",423],["T_RETURN","return",424],["T_WHITESPACE"," ",424],["T_STRING","Yii",424],["T_DOUBLE_COLON","::",424],["T_VARIABLE","$app",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getResponse",424],"(",")",["T_OBJECT_OPERATOR","->",424],["T_STRING","redirect",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","loginUrl",424],")",";",["T_WHITESPACE","\n            ",424],"}",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n        ",426],["T_THROW","throw",427],["T_WHITESPACE"," ",427],["T_NEW","new",427],["T_WHITESPACE"," ",427],["T_STRING","ForbiddenHttpException",427],"(",["T_STRING","Yii",427],["T_DOUBLE_COLON","::",427],["T_STRING","t",427],"(",["T_CONSTANT_ENCAPSED_STRING","'yii'",427],",",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'Login Required'",427],")",")",";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * This method is called before logging in a user.\n     * The default implementation will trigger the [[EVENT_BEFORE_LOGIN]] event.\n     * If you override this method, make sure you call the parent implementation\n     * so that the event is triggered.\n     * @param IdentityInterface $identity the user identity information\n     * @param bool $cookieBased whether the login is cookie-based\n     * @param int $duration number of seconds that the user can remain in logged-in status.\n     * If 0, it means login till the user closes the browser or the session is manually destroyed.\n     * @return bool whether the user should continue to be logged in\n     *\/",430],["T_WHITESPACE","\n    ",440],["T_PROTECTED","protected",441],["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","beforeLogin",441],"(",["T_VARIABLE","$identity",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$cookieBased",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$duration",441],")",["T_WHITESPACE","\n    ",441],"{",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$event",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_NEW","new",443],["T_WHITESPACE"," ",443],["T_STRING","UserEvent",443],"(","[",["T_WHITESPACE","\n            ",443],["T_CONSTANT_ENCAPSED_STRING","'identity'",444],["T_WHITESPACE"," ",444],["T_DOUBLE_ARROW","=>",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$identity",444],",",["T_WHITESPACE","\n            ",444],["T_CONSTANT_ENCAPSED_STRING","'cookieBased'",445],["T_WHITESPACE"," ",445],["T_DOUBLE_ARROW","=>",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$cookieBased",445],",",["T_WHITESPACE","\n            ",445],["T_CONSTANT_ENCAPSED_STRING","'duration'",446],["T_WHITESPACE"," ",446],["T_DOUBLE_ARROW","=>",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$duration",446],",",["T_WHITESPACE","\n        ",446],"]",")",";",["T_WHITESPACE","\n        ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","trigger",448],"(",["T_STRING","self",448],["T_DOUBLE_COLON","::",448],["T_STRING","EVENT_BEFORE_LOGIN",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$event",448],")",";",["T_WHITESPACE","\n\n        ",448],["T_RETURN","return",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$event",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","isValid",450],";",["T_WHITESPACE","\n    ",450],"}",["T_WHITESPACE","\n\n    ",451],["T_DOC_COMMENT","\/**\n     * This method is called after the user is successfully logged in.\n     * The default implementation will trigger the [[EVENT_AFTER_LOGIN]] event.\n     * If you override this method, make sure you call the parent implementation\n     * so that the event is triggered.\n     * @param IdentityInterface $identity the user identity information\n     * @param bool $cookieBased whether the login is cookie-based\n     * @param int $duration number of seconds that the user can remain in logged-in status.\n     * If 0, it means login till the user closes the browser or the session is manually destroyed.\n     *\/",453],["T_WHITESPACE","\n    ",462],["T_PROTECTED","protected",463],["T_WHITESPACE"," ",463],["T_FUNCTION","function",463],["T_WHITESPACE"," ",463],["T_STRING","afterLogin",463],"(",["T_VARIABLE","$identity",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$cookieBased",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$duration",463],")",["T_WHITESPACE","\n    ",463],"{",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","trigger",465],"(",["T_STRING","self",465],["T_DOUBLE_COLON","::",465],["T_STRING","EVENT_AFTER_LOGIN",465],",",["T_WHITESPACE"," ",465],["T_NEW","new",465],["T_WHITESPACE"," ",465],["T_STRING","UserEvent",465],"(","[",["T_WHITESPACE","\n            ",465],["T_CONSTANT_ENCAPSED_STRING","'identity'",466],["T_WHITESPACE"," ",466],["T_DOUBLE_ARROW","=>",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$identity",466],",",["T_WHITESPACE","\n            ",466],["T_CONSTANT_ENCAPSED_STRING","'cookieBased'",467],["T_WHITESPACE"," ",467],["T_DOUBLE_ARROW","=>",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$cookieBased",467],",",["T_WHITESPACE","\n            ",467],["T_CONSTANT_ENCAPSED_STRING","'duration'",468],["T_WHITESPACE"," ",468],["T_DOUBLE_ARROW","=>",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$duration",468],",",["T_WHITESPACE","\n        ",468],"]",")",")",";",["T_WHITESPACE","\n    ",469],"}",["T_WHITESPACE","\n\n    ",470],["T_DOC_COMMENT","\/**\n     * This method is invoked when calling [[logout()]] to log out a user.\n     * The default implementation will trigger the [[EVENT_BEFORE_LOGOUT]] event.\n     * If you override this method, make sure you call the parent implementation\n     * so that the event is triggered.\n     * @param IdentityInterface $identity the user identity information\n     * @return bool whether the user should continue to be logged out\n     *\/",472],["T_WHITESPACE","\n    ",479],["T_PROTECTED","protected",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","beforeLogout",480],"(",["T_VARIABLE","$identity",480],")",["T_WHITESPACE","\n    ",480],"{",["T_WHITESPACE","\n        ",481],["T_VARIABLE","$event",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_NEW","new",482],["T_WHITESPACE"," ",482],["T_STRING","UserEvent",482],"(","[",["T_WHITESPACE","\n            ",482],["T_CONSTANT_ENCAPSED_STRING","'identity'",483],["T_WHITESPACE"," ",483],["T_DOUBLE_ARROW","=>",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$identity",483],",",["T_WHITESPACE","\n        ",483],"]",")",";",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","trigger",485],"(",["T_STRING","self",485],["T_DOUBLE_COLON","::",485],["T_STRING","EVENT_BEFORE_LOGOUT",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$event",485],")",";",["T_WHITESPACE","\n\n        ",485],["T_RETURN","return",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$event",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","isValid",487],";",["T_WHITESPACE","\n    ",487],"}",["T_WHITESPACE","\n\n    ",488],["T_DOC_COMMENT","\/**\n     * This method is invoked right after a user is logged out via [[logout()]].\n     * The default implementation will trigger the [[EVENT_AFTER_LOGOUT]] event.\n     * If you override this method, make sure you call the parent implementation\n     * so that the event is triggered.\n     * @param IdentityInterface $identity the user identity information\n     *\/",490],["T_WHITESPACE","\n    ",496],["T_PROTECTED","protected",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","afterLogout",497],"(",["T_VARIABLE","$identity",497],")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","trigger",499],"(",["T_STRING","self",499],["T_DOUBLE_COLON","::",499],["T_STRING","EVENT_AFTER_LOGOUT",499],",",["T_WHITESPACE"," ",499],["T_NEW","new",499],["T_WHITESPACE"," ",499],["T_STRING","UserEvent",499],"(","[",["T_WHITESPACE","\n            ",499],["T_CONSTANT_ENCAPSED_STRING","'identity'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$identity",500],",",["T_WHITESPACE","\n        ",500],"]",")",")",";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n\n    ",502],["T_DOC_COMMENT","\/**\n     * Renews the identity cookie.\n     * This method will set the expiration time of the identity cookie to be the current time\n     * plus the originally specified cookie duration.\n     *\/",504],["T_WHITESPACE","\n    ",508],["T_PROTECTED","protected",509],["T_WHITESPACE"," ",509],["T_FUNCTION","function",509],["T_WHITESPACE"," ",509],["T_STRING","renewIdentityCookie",509],"(",")",["T_WHITESPACE","\n    ",509],"{",["T_WHITESPACE","\n        ",510],["T_VARIABLE","$name",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","identityCookie",511],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",511],"]",";",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$value",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_STRING","Yii",512],["T_DOUBLE_COLON","::",512],["T_VARIABLE","$app",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getRequest",512],"(",")",["T_OBJECT_OPERATOR","->",512],["T_STRING","getCookies",512],"(",")",["T_OBJECT_OPERATOR","->",512],["T_STRING","getValue",512],"(",["T_VARIABLE","$name",512],")",";",["T_WHITESPACE","\n        ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_VARIABLE","$value",513],["T_WHITESPACE"," ",513],["T_IS_NOT_IDENTICAL","!==",513],["T_WHITESPACE"," ",513],["T_STRING","null",513],")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$data",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_STRING","json_decode",514],"(",["T_VARIABLE","$value",514],",",["T_WHITESPACE"," ",514],["T_STRING","true",514],")",";",["T_WHITESPACE","\n            ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(",["T_STRING","is_array",515],"(",["T_VARIABLE","$data",515],")",["T_WHITESPACE"," ",515],["T_BOOLEAN_AND","&&",515],["T_WHITESPACE"," ",515],["T_ISSET","isset",515],"(",["T_VARIABLE","$data",515],"[",["T_LNUMBER","2",515],"]",")",")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n                ",515],["T_VARIABLE","$cookie",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_NEW","new",516],["T_WHITESPACE"," ",516],["T_STRING","Cookie",516],"(",["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","identityCookie",516],")",";",["T_WHITESPACE","\n                ",516],["T_VARIABLE","$cookie",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","value",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$value",517],";",["T_WHITESPACE","\n                ",517],["T_VARIABLE","$cookie",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","expire",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","time",518],"(",")",["T_WHITESPACE"," ",518],"+",["T_WHITESPACE"," ",518],["T_INT_CAST","(int)",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$data",518],"[",["T_LNUMBER","2",518],"]",";",["T_WHITESPACE","\n                ",518],["T_STRING","Yii",519],["T_DOUBLE_COLON","::",519],["T_VARIABLE","$app",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getResponse",519],"(",")",["T_OBJECT_OPERATOR","->",519],["T_STRING","getCookies",519],"(",")",["T_OBJECT_OPERATOR","->",519],["T_STRING","add",519],"(",["T_VARIABLE","$cookie",519],")",";",["T_WHITESPACE","\n            ",519],"}",["T_WHITESPACE","\n        ",520],"}",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n\n    ",522],["T_DOC_COMMENT","\/**\n     * Sends an identity cookie.\n     * This method is used when [[enableAutoLogin]] is true.\n     * It saves [[id]], [[IdentityInterface::getAuthKey()|auth key]], and the duration of cookie-based login\n     * information in the cookie.\n     * @param IdentityInterface $identity\n     * @param int $duration number of seconds that the user can remain in logged-in status.\n     * @see loginByCookie()\n     *\/",524],["T_WHITESPACE","\n    ",532],["T_PROTECTED","protected",533],["T_WHITESPACE"," ",533],["T_FUNCTION","function",533],["T_WHITESPACE"," ",533],["T_STRING","sendIdentityCookie",533],"(",["T_VARIABLE","$identity",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$duration",533],")",["T_WHITESPACE","\n    ",533],"{",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$cookie",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_NEW","new",535],["T_WHITESPACE"," ",535],["T_STRING","Cookie",535],"(",["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","identityCookie",535],")",";",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$cookie",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","value",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_STRING","json_encode",536],"(","[",["T_WHITESPACE","\n            ",536],["T_VARIABLE","$identity",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getId",537],"(",")",",",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$identity",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","getAuthKey",538],"(",")",",",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$duration",539],",",["T_WHITESPACE","\n        ",539],"]",",",["T_WHITESPACE"," ",540],["T_STRING","JSON_UNESCAPED_SLASHES",540],["T_WHITESPACE"," ",540],"|",["T_WHITESPACE"," ",540],["T_STRING","JSON_UNESCAPED_UNICODE",540],")",";",["T_WHITESPACE","\n        ",540],["T_VARIABLE","$cookie",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","expire",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_STRING","time",541],"(",")",["T_WHITESPACE"," ",541],"+",["T_WHITESPACE"," ",541],["T_VARIABLE","$duration",541],";",["T_WHITESPACE","\n        ",541],["T_STRING","Yii",542],["T_DOUBLE_COLON","::",542],["T_VARIABLE","$app",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getResponse",542],"(",")",["T_OBJECT_OPERATOR","->",542],["T_STRING","getCookies",542],"(",")",["T_OBJECT_OPERATOR","->",542],["T_STRING","add",542],"(",["T_VARIABLE","$cookie",542],")",";",["T_WHITESPACE","\n    ",542],"}",["T_WHITESPACE","\n\n    ",543],["T_DOC_COMMENT","\/**\n     * Determines if an identity cookie has a valid format and contains a valid auth key.\n     * This method is used when [[enableAutoLogin]] is true.\n     * This method attempts to authenticate a user using the information in the identity cookie.\n     * @return array|null Returns an array of 'identity' and 'duration' if valid, otherwise null.\n     * @see loginByCookie()\n     * @since 2.0.9\n     *\/",545],["T_WHITESPACE","\n    ",552],["T_PROTECTED","protected",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","getIdentityAndDurationFromCookie",553],"(",")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_VARIABLE","$value",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_STRING","Yii",555],["T_DOUBLE_COLON","::",555],["T_VARIABLE","$app",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","getRequest",555],"(",")",["T_OBJECT_OPERATOR","->",555],["T_STRING","getCookies",555],"(",")",["T_OBJECT_OPERATOR","->",555],["T_STRING","getValue",555],"(",["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","identityCookie",555],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",555],"]",")",";",["T_WHITESPACE","\n        ",555],["T_IF","if",556],["T_WHITESPACE"," ",556],"(",["T_VARIABLE","$value",556],["T_WHITESPACE"," ",556],["T_IS_IDENTICAL","===",556],["T_WHITESPACE"," ",556],["T_STRING","null",556],")",["T_WHITESPACE"," ",556],"{",["T_WHITESPACE","\n            ",556],["T_RETURN","return",557],["T_WHITESPACE"," ",557],["T_STRING","null",557],";",["T_WHITESPACE","\n        ",557],"}",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$data",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING","json_decode",559],"(",["T_VARIABLE","$value",559],",",["T_WHITESPACE"," ",559],["T_STRING","true",559],")",";",["T_WHITESPACE","\n        ",559],["T_IF","if",560],["T_WHITESPACE"," ",560],"(",["T_STRING","count",560],"(",["T_VARIABLE","$data",560],")",["T_WHITESPACE"," ",560],["T_IS_EQUAL","==",560],["T_WHITESPACE"," ",560],["T_LNUMBER","3",560],")",["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n            ",560],["T_LIST","list",561],["T_WHITESPACE"," ",561],"(",["T_VARIABLE","$id",561],",",["T_WHITESPACE"," ",561],["T_VARIABLE","$authKey",561],",",["T_WHITESPACE"," ",561],["T_VARIABLE","$duration",561],")",["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_VARIABLE","$data",561],";",["T_WHITESPACE","\n            ",561],["T_COMMENT","\/* @var $class IdentityInterface *\/",562],["T_WHITESPACE","\n            ",562],["T_VARIABLE","$class",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","identityClass",563],";",["T_WHITESPACE","\n            ",563],["T_VARIABLE","$identity",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_VARIABLE","$class",564],["T_DOUBLE_COLON","::",564],["T_STRING","findIdentity",564],"(",["T_VARIABLE","$id",564],")",";",["T_WHITESPACE","\n            ",564],["T_IF","if",565],["T_WHITESPACE"," ",565],"(",["T_VARIABLE","$identity",565],["T_WHITESPACE"," ",565],["T_IS_NOT_IDENTICAL","!==",565],["T_WHITESPACE"," ",565],["T_STRING","null",565],")",["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n                ",565],["T_IF","if",566],["T_WHITESPACE"," ",566],"(","!",["T_VARIABLE","$identity",566],["T_WHITESPACE"," ",566],["T_INSTANCEOF","instanceof",566],["T_WHITESPACE"," ",566],["T_STRING","IdentityInterface",566],")",["T_WHITESPACE"," ",566],"{",["T_WHITESPACE","\n                    ",566],["T_THROW","throw",567],["T_WHITESPACE"," ",567],["T_NEW","new",567],["T_WHITESPACE"," ",567],["T_STRING","InvalidValueException",567],"(","\"",["T_VARIABLE","$class",567],["T_ENCAPSED_AND_WHITESPACE","::findIdentity() must return an object implementing IdentityInterface.",567],"\"",")",";",["T_WHITESPACE","\n                ",567],"}",["T_WHITESPACE"," ",568],["T_ELSEIF","elseif",568],["T_WHITESPACE"," ",568],"(","!",["T_VARIABLE","$identity",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","validateAuthKey",568],"(",["T_VARIABLE","$authKey",568],")",")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n                    ",568],["T_STRING","Yii",569],["T_DOUBLE_COLON","::",569],["T_STRING","warning",569],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid auth key attempted for user '",569],["T_VARIABLE","$id",569],["T_ENCAPSED_AND_WHITESPACE","': ",569],["T_VARIABLE","$authKey",569],"\"",",",["T_WHITESPACE"," ",569],["T_METHOD_C","__METHOD__",569],")",";",["T_WHITESPACE","\n                ",569],"}",["T_WHITESPACE"," ",570],["T_ELSE","else",570],["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n                    ",570],["T_RETURN","return",571],["T_WHITESPACE"," ",571],"[",["T_CONSTANT_ENCAPSED_STRING","'identity'",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$identity",571],",",["T_WHITESPACE"," ",571],["T_CONSTANT_ENCAPSED_STRING","'duration'",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$duration",571],"]",";",["T_WHITESPACE","\n                ",571],"}",["T_WHITESPACE","\n            ",572],"}",["T_WHITESPACE","\n        ",573],"}",["T_WHITESPACE","\n        ",574],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","removeIdentityCookie",575],"(",")",";",["T_WHITESPACE","\n        ",575],["T_RETURN","return",576],["T_WHITESPACE"," ",576],["T_STRING","null",576],";",["T_WHITESPACE","\n    ",576],"}",["T_WHITESPACE","\n\n    ",577],["T_DOC_COMMENT","\/**\n     * Removes the identity cookie.\n     * This method is used when [[enableAutoLogin]] is true.\n     * @since 2.0.9\n     *\/",579],["T_WHITESPACE","\n    ",583],["T_PROTECTED","protected",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","removeIdentityCookie",584],"(",")",["T_WHITESPACE","\n    ",584],"{",["T_WHITESPACE","\n        ",585],["T_STRING","Yii",586],["T_DOUBLE_COLON","::",586],["T_VARIABLE","$app",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","getResponse",586],"(",")",["T_OBJECT_OPERATOR","->",586],["T_STRING","getCookies",586],"(",")",["T_OBJECT_OPERATOR","->",586],["T_STRING","remove",586],"(",["T_NEW","new",586],["T_WHITESPACE"," ",586],["T_STRING","Cookie",586],"(",["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","identityCookie",586],")",")",";",["T_WHITESPACE","\n    ",586],"}",["T_WHITESPACE","\n\n    ",587],["T_DOC_COMMENT","\/**\n     * Switches to a new identity for the current user.\n     *\n     * When [[enableSession]] is true, this method may use session and\/or cookie to store the user identity information,\n     * according to the value of `$duration`. Please refer to [[login()]] for more details.\n     *\n     * This method is mainly called by [[login()]], [[logout()]] and [[loginByCookie()]]\n     * when the current user needs to be associated with the corresponding identity information.\n     *\n     * @param IdentityInterface|null $identity the identity information to be associated with the current user.\n     * If null, it means switching the current user to be a guest.\n     * @param int $duration number of seconds that the user can remain in logged-in status.\n     * This parameter is used only when `$identity` is not null.\n     *\/",589],["T_WHITESPACE","\n    ",602],["T_PUBLIC","public",603],["T_WHITESPACE"," ",603],["T_FUNCTION","function",603],["T_WHITESPACE"," ",603],["T_STRING","switchIdentity",603],"(",["T_VARIABLE","$identity",603],",",["T_WHITESPACE"," ",603],["T_VARIABLE","$duration",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_LNUMBER","0",603],")",["T_WHITESPACE","\n    ",603],"{",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","setIdentity",605],"(",["T_VARIABLE","$identity",605],")",";",["T_WHITESPACE","\n\n        ",605],["T_IF","if",607],["T_WHITESPACE"," ",607],"(","!",["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","enableSession",607],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n            ",607],["T_RETURN","return",608],";",["T_WHITESPACE","\n        ",608],"}",["T_WHITESPACE","\n\n        ",609],["T_COMMENT","\/* Ensure any existing identity cookies are removed. *\/",611],["T_WHITESPACE","\n        ",611],["T_IF","if",612],["T_WHITESPACE"," ",612],"(",["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","enableAutoLogin",612],")",["T_WHITESPACE"," ",612],"{",["T_WHITESPACE","\n            ",612],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","removeIdentityCookie",613],"(",")",";",["T_WHITESPACE","\n        ",613],"}",["T_WHITESPACE","\n\n        ",614],["T_VARIABLE","$session",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_STRING","Yii",616],["T_DOUBLE_COLON","::",616],["T_VARIABLE","$app",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","getSession",616],"(",")",";",["T_WHITESPACE","\n        ",616],["T_IF","if",617],["T_WHITESPACE"," ",617],"(","!",["T_STRING","YII_ENV_TEST",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n            ",617],["T_VARIABLE","$session",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","regenerateID",618],"(",["T_STRING","true",618],")",";",["T_WHITESPACE","\n        ",618],"}",["T_WHITESPACE","\n        ",619],["T_VARIABLE","$session",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","remove",620],"(",["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","idParam",620],")",";",["T_WHITESPACE","\n        ",620],["T_VARIABLE","$session",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","remove",621],"(",["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","authTimeoutParam",621],")",";",["T_WHITESPACE","\n\n        ",621],["T_IF","if",623],["T_WHITESPACE"," ",623],"(",["T_VARIABLE","$identity",623],")",["T_WHITESPACE"," ",623],"{",["T_WHITESPACE","\n            ",623],["T_VARIABLE","$session",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","set",624],"(",["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","idParam",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$identity",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","getId",624],"(",")",")",";",["T_WHITESPACE","\n            ",624],["T_IF","if",625],["T_WHITESPACE"," ",625],"(",["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","authTimeout",625],["T_WHITESPACE"," ",625],["T_IS_NOT_IDENTICAL","!==",625],["T_WHITESPACE"," ",625],["T_STRING","null",625],")",["T_WHITESPACE"," ",625],"{",["T_WHITESPACE","\n                ",625],["T_VARIABLE","$session",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","set",626],"(",["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","authTimeoutParam",626],",",["T_WHITESPACE"," ",626],["T_STRING","time",626],"(",")",["T_WHITESPACE"," ",626],"+",["T_WHITESPACE"," ",626],["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","authTimeout",626],")",";",["T_WHITESPACE","\n            ",626],"}",["T_WHITESPACE","\n            ",627],["T_IF","if",628],["T_WHITESPACE"," ",628],"(",["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","absoluteAuthTimeout",628],["T_WHITESPACE"," ",628],["T_IS_NOT_IDENTICAL","!==",628],["T_WHITESPACE"," ",628],["T_STRING","null",628],")",["T_WHITESPACE"," ",628],"{",["T_WHITESPACE","\n                ",628],["T_VARIABLE","$session",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","set",629],"(",["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","absoluteAuthTimeoutParam",629],",",["T_WHITESPACE"," ",629],["T_STRING","time",629],"(",")",["T_WHITESPACE"," ",629],"+",["T_WHITESPACE"," ",629],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","absoluteAuthTimeout",629],")",";",["T_WHITESPACE","\n            ",629],"}",["T_WHITESPACE","\n            ",630],["T_IF","if",631],["T_WHITESPACE"," ",631],"(",["T_VARIABLE","$duration",631],["T_WHITESPACE"," ",631],">",["T_WHITESPACE"," ",631],["T_LNUMBER","0",631],["T_WHITESPACE"," ",631],["T_BOOLEAN_AND","&&",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","enableAutoLogin",631],")",["T_WHITESPACE"," ",631],"{",["T_WHITESPACE","\n                ",631],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","sendIdentityCookie",632],"(",["T_VARIABLE","$identity",632],",",["T_WHITESPACE"," ",632],["T_VARIABLE","$duration",632],")",";",["T_WHITESPACE","\n            ",632],"}",["T_WHITESPACE","\n        ",633],"}",["T_WHITESPACE","\n    ",634],"}",["T_WHITESPACE","\n\n    ",635],["T_DOC_COMMENT","\/**\n     * Updates the authentication status using the information from session and cookie.\n     *\n     * This method will try to determine the user identity using the [[idParam]] session variable.\n     *\n     * If [[authTimeout]] is set, this method will refresh the timer.\n     *\n     * If the user identity cannot be determined by session, this method will try to [[loginByCookie()|login by cookie]]\n     * if [[enableAutoLogin]] is true.\n     *\/",637],["T_WHITESPACE","\n    ",646],["T_PROTECTED","protected",647],["T_WHITESPACE"," ",647],["T_FUNCTION","function",647],["T_WHITESPACE"," ",647],["T_STRING","renewAuthStatus",647],"(",")",["T_WHITESPACE","\n    ",647],"{",["T_WHITESPACE","\n        ",648],["T_VARIABLE","$session",649],["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_STRING","Yii",649],["T_DOUBLE_COLON","::",649],["T_VARIABLE","$app",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","getSession",649],"(",")",";",["T_WHITESPACE","\n        ",649],["T_VARIABLE","$id",650],["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],["T_VARIABLE","$session",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","getHasSessionId",650],"(",")",["T_WHITESPACE"," ",650],["T_BOOLEAN_OR","||",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$session",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","getIsActive",650],"(",")",["T_WHITESPACE"," ",650],"?",["T_WHITESPACE"," ",650],["T_VARIABLE","$session",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","get",650],"(",["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","idParam",650],")",["T_WHITESPACE"," ",650],":",["T_WHITESPACE"," ",650],["T_STRING","null",650],";",["T_WHITESPACE","\n\n        ",650],["T_IF","if",652],["T_WHITESPACE"," ",652],"(",["T_VARIABLE","$id",652],["T_WHITESPACE"," ",652],["T_IS_IDENTICAL","===",652],["T_WHITESPACE"," ",652],["T_STRING","null",652],")",["T_WHITESPACE"," ",652],"{",["T_WHITESPACE","\n            ",652],["T_VARIABLE","$identity",653],["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],["T_STRING","null",653],";",["T_WHITESPACE","\n        ",653],"}",["T_WHITESPACE"," ",654],["T_ELSE","else",654],["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n            ",654],["T_COMMENT","\/* @var $class IdentityInterface *\/",655],["T_WHITESPACE","\n            ",655],["T_VARIABLE","$class",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","identityClass",656],";",["T_WHITESPACE","\n            ",656],["T_VARIABLE","$identity",657],["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_VARIABLE","$class",657],["T_DOUBLE_COLON","::",657],["T_STRING","findIdentity",657],"(",["T_VARIABLE","$id",657],")",";",["T_WHITESPACE","\n        ",657],"}",["T_WHITESPACE","\n\n        ",658],["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","setIdentity",660],"(",["T_VARIABLE","$identity",660],")",";",["T_WHITESPACE","\n\n        ",660],["T_IF","if",662],["T_WHITESPACE"," ",662],"(",["T_VARIABLE","$identity",662],["T_WHITESPACE"," ",662],["T_IS_NOT_IDENTICAL","!==",662],["T_WHITESPACE"," ",662],["T_STRING","null",662],["T_WHITESPACE"," ",662],["T_BOOLEAN_AND","&&",662],["T_WHITESPACE"," ",662],"(",["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","authTimeout",662],["T_WHITESPACE"," ",662],["T_IS_NOT_IDENTICAL","!==",662],["T_WHITESPACE"," ",662],["T_STRING","null",662],["T_WHITESPACE"," ",662],["T_BOOLEAN_OR","||",662],["T_WHITESPACE"," ",662],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","absoluteAuthTimeout",662],["T_WHITESPACE"," ",662],["T_IS_NOT_IDENTICAL","!==",662],["T_WHITESPACE"," ",662],["T_STRING","null",662],")",")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n            ",662],["T_VARIABLE","$expire",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","authTimeout",663],["T_WHITESPACE"," ",663],["T_IS_NOT_IDENTICAL","!==",663],["T_WHITESPACE"," ",663],["T_STRING","null",663],["T_WHITESPACE"," ",663],"?",["T_WHITESPACE"," ",663],["T_VARIABLE","$session",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","get",663],"(",["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","authTimeoutParam",663],")",["T_WHITESPACE"," ",663],":",["T_WHITESPACE"," ",663],["T_STRING","null",663],";",["T_WHITESPACE","\n            ",663],["T_VARIABLE","$expireAbsolute",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","absoluteAuthTimeout",664],["T_WHITESPACE"," ",664],["T_IS_NOT_IDENTICAL","!==",664],["T_WHITESPACE"," ",664],["T_STRING","null",664],["T_WHITESPACE"," ",664],"?",["T_WHITESPACE"," ",664],["T_VARIABLE","$session",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","get",664],"(",["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","absoluteAuthTimeoutParam",664],")",["T_WHITESPACE"," ",664],":",["T_WHITESPACE"," ",664],["T_STRING","null",664],";",["T_WHITESPACE","\n            ",664],["T_IF","if",665],["T_WHITESPACE"," ",665],"(",["T_VARIABLE","$expire",665],["T_WHITESPACE"," ",665],["T_IS_NOT_IDENTICAL","!==",665],["T_WHITESPACE"," ",665],["T_STRING","null",665],["T_WHITESPACE"," ",665],["T_BOOLEAN_AND","&&",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$expire",665],["T_WHITESPACE"," ",665],"<",["T_WHITESPACE"," ",665],["T_STRING","time",665],"(",")",["T_WHITESPACE"," ",665],["T_BOOLEAN_OR","||",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$expireAbsolute",665],["T_WHITESPACE"," ",665],["T_IS_NOT_IDENTICAL","!==",665],["T_WHITESPACE"," ",665],["T_STRING","null",665],["T_WHITESPACE"," ",665],["T_BOOLEAN_AND","&&",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$expireAbsolute",665],["T_WHITESPACE"," ",665],"<",["T_WHITESPACE"," ",665],["T_STRING","time",665],"(",")",")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n                ",665],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","logout",666],"(",["T_STRING","false",666],")",";",["T_WHITESPACE","\n            ",666],"}",["T_WHITESPACE"," ",667],["T_ELSEIF","elseif",667],["T_WHITESPACE"," ",667],"(",["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","authTimeout",667],["T_WHITESPACE"," ",667],["T_IS_NOT_IDENTICAL","!==",667],["T_WHITESPACE"," ",667],["T_STRING","null",667],")",["T_WHITESPACE"," ",667],"{",["T_WHITESPACE","\n                ",667],["T_VARIABLE","$session",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","set",668],"(",["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","authTimeoutParam",668],",",["T_WHITESPACE"," ",668],["T_STRING","time",668],"(",")",["T_WHITESPACE"," ",668],"+",["T_WHITESPACE"," ",668],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","authTimeout",668],")",";",["T_WHITESPACE","\n            ",668],"}",["T_WHITESPACE","\n        ",669],"}",["T_WHITESPACE","\n\n        ",670],["T_IF","if",672],["T_WHITESPACE"," ",672],"(",["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","enableAutoLogin",672],")",["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n            ",672],["T_IF","if",673],["T_WHITESPACE"," ",673],"(",["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","getIsGuest",673],"(",")",")",["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n                ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","loginByCookie",674],"(",")",";",["T_WHITESPACE","\n            ",674],"}",["T_WHITESPACE"," ",675],["T_ELSEIF","elseif",675],["T_WHITESPACE"," ",675],"(",["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","autoRenewCookie",675],")",["T_WHITESPACE"," ",675],"{",["T_WHITESPACE","\n                ",675],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","renewIdentityCookie",676],"(",")",";",["T_WHITESPACE","\n            ",676],"}",["T_WHITESPACE","\n        ",677],"}",["T_WHITESPACE","\n    ",678],"}",["T_WHITESPACE","\n\n    ",679],["T_DOC_COMMENT","\/**\n     * Checks if the user can perform the operation as specified by the given permission.\n     *\n     * Note that you must configure \"authManager\" application component in order to use this method.\n     * Otherwise it will always return false.\n     *\n     * @param string $permissionName the name of the permission (e.g. \"edit post\") that needs access check.\n     * @param array $params name-value pairs that would be passed to the rules associated\n     * with the roles and permissions assigned to the user.\n     * @param bool $allowCaching whether to allow caching the result of access check.\n     * When this parameter is true (default), if the access check of an operation was performed\n     * before, its result will be directly returned when calling this method to check the same\n     * operation. If this parameter is false, this method will always call\n     * [[\\yii\\rbac\\CheckAccessInterface::checkAccess()]] to obtain the up-to-date access result. Note that this\n     * caching is effective only within the same request and only works when `$params = []`.\n     * @return bool whether the user can perform the operation as specified by the given permission.\n     *\/",681],["T_WHITESPACE","\n    ",697],["T_PUBLIC","public",698],["T_WHITESPACE"," ",698],["T_FUNCTION","function",698],["T_WHITESPACE"," ",698],["T_STRING","can",698],"(",["T_VARIABLE","$permissionName",698],",",["T_WHITESPACE"," ",698],["T_VARIABLE","$params",698],["T_WHITESPACE"," ",698],"=",["T_WHITESPACE"," ",698],"[","]",",",["T_WHITESPACE"," ",698],["T_VARIABLE","$allowCaching",698],["T_WHITESPACE"," ",698],"=",["T_WHITESPACE"," ",698],["T_STRING","true",698],")",["T_WHITESPACE","\n    ",698],"{",["T_WHITESPACE","\n        ",699],["T_IF","if",700],["T_WHITESPACE"," ",700],"(",["T_VARIABLE","$allowCaching",700],["T_WHITESPACE"," ",700],["T_BOOLEAN_AND","&&",700],["T_WHITESPACE"," ",700],["T_EMPTY","empty",700],"(",["T_VARIABLE","$params",700],")",["T_WHITESPACE"," ",700],["T_BOOLEAN_AND","&&",700],["T_WHITESPACE"," ",700],["T_ISSET","isset",700],"(",["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","_access",700],"[",["T_VARIABLE","$permissionName",700],"]",")",")",["T_WHITESPACE"," ",700],"{",["T_WHITESPACE","\n            ",700],["T_RETURN","return",701],["T_WHITESPACE"," ",701],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","_access",701],"[",["T_VARIABLE","$permissionName",701],"]",";",["T_WHITESPACE","\n        ",701],"}",["T_WHITESPACE","\n        ",702],["T_IF","if",703],["T_WHITESPACE"," ",703],"(","(",["T_VARIABLE","$accessChecker",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","getAccessChecker",703],"(",")",")",["T_WHITESPACE"," ",703],["T_IS_IDENTICAL","===",703],["T_WHITESPACE"," ",703],["T_STRING","null",703],")",["T_WHITESPACE"," ",703],"{",["T_WHITESPACE","\n            ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_STRING","false",704],";",["T_WHITESPACE","\n        ",704],"}",["T_WHITESPACE","\n        ",705],["T_VARIABLE","$access",706],["T_WHITESPACE"," ",706],"=",["T_WHITESPACE"," ",706],["T_VARIABLE","$accessChecker",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","checkAccess",706],"(",["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","getId",706],"(",")",",",["T_WHITESPACE"," ",706],["T_VARIABLE","$permissionName",706],",",["T_WHITESPACE"," ",706],["T_VARIABLE","$params",706],")",";",["T_WHITESPACE","\n        ",706],["T_IF","if",707],["T_WHITESPACE"," ",707],"(",["T_VARIABLE","$allowCaching",707],["T_WHITESPACE"," ",707],["T_BOOLEAN_AND","&&",707],["T_WHITESPACE"," ",707],["T_EMPTY","empty",707],"(",["T_VARIABLE","$params",707],")",")",["T_WHITESPACE"," ",707],"{",["T_WHITESPACE","\n            ",707],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","_access",708],"[",["T_VARIABLE","$permissionName",708],"]",["T_WHITESPACE"," ",708],"=",["T_WHITESPACE"," ",708],["T_VARIABLE","$access",708],";",["T_WHITESPACE","\n        ",708],"}",["T_WHITESPACE","\n\n        ",709],["T_RETURN","return",711],["T_WHITESPACE"," ",711],["T_VARIABLE","$access",711],";",["T_WHITESPACE","\n    ",711],"}",["T_WHITESPACE","\n\n    ",712],["T_DOC_COMMENT","\/**\n     * Checks if the `Accept` header contains a content type that allows redirection to the login page.\n     * The login page is assumed to serve `text\/html` or `application\/xhtml+xml` by default. You can change acceptable\n     * content types by modifying [[acceptableRedirectTypes]] property.\n     * @return bool whether this request may be redirected to the login page.\n     * @see acceptableRedirectTypes\n     * @since 2.0.8\n     *\/",714],["T_WHITESPACE","\n    ",721],["T_PROTECTED","protected",722],["T_WHITESPACE"," ",722],["T_FUNCTION","function",722],["T_WHITESPACE"," ",722],["T_STRING","checkRedirectAcceptable",722],"(",")",["T_WHITESPACE","\n    ",722],"{",["T_WHITESPACE","\n        ",723],["T_VARIABLE","$acceptableTypes",724],["T_WHITESPACE"," ",724],"=",["T_WHITESPACE"," ",724],["T_STRING","Yii",724],["T_DOUBLE_COLON","::",724],["T_VARIABLE","$app",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","getRequest",724],"(",")",["T_OBJECT_OPERATOR","->",724],["T_STRING","getAcceptableContentTypes",724],"(",")",";",["T_WHITESPACE","\n        ",724],["T_IF","if",725],["T_WHITESPACE"," ",725],"(",["T_EMPTY","empty",725],"(",["T_VARIABLE","$acceptableTypes",725],")",["T_WHITESPACE"," ",725],["T_BOOLEAN_OR","||",725],["T_WHITESPACE"," ",725],["T_STRING","count",725],"(",["T_VARIABLE","$acceptableTypes",725],")",["T_WHITESPACE"," ",725],["T_IS_IDENTICAL","===",725],["T_WHITESPACE"," ",725],["T_LNUMBER","1",725],["T_WHITESPACE"," ",725],["T_BOOLEAN_AND","&&",725],["T_WHITESPACE"," ",725],["T_STRING","array_keys",725],"(",["T_VARIABLE","$acceptableTypes",725],")","[",["T_LNUMBER","0",725],"]",["T_WHITESPACE"," ",725],["T_IS_IDENTICAL","===",725],["T_WHITESPACE"," ",725],["T_CONSTANT_ENCAPSED_STRING","'*\/*'",725],")",["T_WHITESPACE"," ",725],"{",["T_WHITESPACE","\n            ",725],["T_RETURN","return",726],["T_WHITESPACE"," ",726],["T_STRING","true",726],";",["T_WHITESPACE","\n        ",726],"}",["T_WHITESPACE","\n\n        ",727],["T_FOREACH","foreach",729],["T_WHITESPACE"," ",729],"(",["T_VARIABLE","$acceptableTypes",729],["T_WHITESPACE"," ",729],["T_AS","as",729],["T_WHITESPACE"," ",729],["T_VARIABLE","$type",729],["T_WHITESPACE"," ",729],["T_DOUBLE_ARROW","=>",729],["T_WHITESPACE"," ",729],["T_VARIABLE","$params",729],")",["T_WHITESPACE"," ",729],"{",["T_WHITESPACE","\n            ",729],["T_IF","if",730],["T_WHITESPACE"," ",730],"(",["T_STRING","in_array",730],"(",["T_VARIABLE","$type",730],",",["T_WHITESPACE"," ",730],["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","acceptableRedirectTypes",730],",",["T_WHITESPACE"," ",730],["T_STRING","true",730],")",")",["T_WHITESPACE"," ",730],"{",["T_WHITESPACE","\n                ",730],["T_RETURN","return",731],["T_WHITESPACE"," ",731],["T_STRING","true",731],";",["T_WHITESPACE","\n            ",731],"}",["T_WHITESPACE","\n        ",732],"}",["T_WHITESPACE","\n\n        ",733],["T_RETURN","return",735],["T_WHITESPACE"," ",735],["T_STRING","false",735],";",["T_WHITESPACE","\n    ",735],"}",["T_WHITESPACE","\n\n    ",736],["T_DOC_COMMENT","\/**\n     * Returns auth manager associated with the user component.\n     *\n     * By default this is the `authManager` application component.\n     * You may override this method to return a different auth manager instance if needed.\n     * @return \\yii\\rbac\\ManagerInterface\n     * @since 2.0.6\n     * @deprecated since version 2.0.9, to be removed in 2.1. Use [[getAccessChecker()]] instead.\n     *\/",738],["T_WHITESPACE","\n    ",746],["T_PROTECTED","protected",747],["T_WHITESPACE"," ",747],["T_FUNCTION","function",747],["T_WHITESPACE"," ",747],["T_STRING","getAuthManager",747],"(",")",["T_WHITESPACE","\n    ",747],"{",["T_WHITESPACE","\n        ",748],["T_RETURN","return",749],["T_WHITESPACE"," ",749],["T_STRING","Yii",749],["T_DOUBLE_COLON","::",749],["T_VARIABLE","$app",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","getAuthManager",749],"(",")",";",["T_WHITESPACE","\n    ",749],"}",["T_WHITESPACE","\n\n    ",750],["T_DOC_COMMENT","\/**\n     * Returns the access checker used for checking access.\n     * @return CheckAccessInterface\n     * @since 2.0.9\n     *\/",752],["T_WHITESPACE","\n    ",756],["T_PROTECTED","protected",757],["T_WHITESPACE"," ",757],["T_FUNCTION","function",757],["T_WHITESPACE"," ",757],["T_STRING","getAccessChecker",757],"(",")",["T_WHITESPACE","\n    ",757],"{",["T_WHITESPACE","\n        ",758],["T_RETURN","return",759],["T_WHITESPACE"," ",759],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","accessChecker",759],["T_WHITESPACE"," ",759],["T_IS_NOT_IDENTICAL","!==",759],["T_WHITESPACE"," ",759],["T_STRING","null",759],["T_WHITESPACE"," ",759],"?",["T_WHITESPACE"," ",759],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","accessChecker",759],["T_WHITESPACE"," ",759],":",["T_WHITESPACE"," ",759],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","getAuthManager",759],"(",")",";",["T_WHITESPACE","\n    ",759],"}",["T_WHITESPACE","\n",760],"}",["T_WHITESPACE","\n",761]]