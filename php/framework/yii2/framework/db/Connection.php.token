[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","db",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","PDO",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Yii",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","base",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","base",13],["T_NS_SEPARATOR","\\",13],["T_STRING","InvalidConfigException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","base",14],["T_NS_SEPARATOR","\\",14],["T_STRING","NotSupportedException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","yii",15],["T_NS_SEPARATOR","\\",15],["T_STRING","caching",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Cache",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Connection represents a connection to a database via [PDO](http:\/\/php.net\/manual\/en\/book.pdo.php).\n *\n * Connection works together with [[Command]], [[DataReader]] and [[Transaction]]\n * to provide data access to various DBMS in a common set of APIs. They are a thin wrapper\n * of the [PDO PHP extension](http:\/\/php.net\/manual\/en\/book.pdo.php).\n *\n * Connection supports database replication and read-write splitting. In particular, a Connection component\n * can be configured with multiple [[masters]] and [[slaves]]. It will do load balancing and failover by choosing\n * appropriate servers. It will also automatically direct read operations to the slaves and write operations to\n * the masters.\n *\n * To establish a DB connection, set [[dsn]], [[username]] and [[password]], and then\n * call [[open()]] to connect to the database server. The current state of the connection can be checked using [[$isActive]].\n *\n * The following example shows how to create a Connection instance and establish\n * the DB connection:\n *\n * ```php\n * $connection = new \\yii\\db\\Connection([\n *     'dsn' => $dsn,\n *     'username' => $username,\n *     'password' => $password,\n * ]);\n * $connection->open();\n * ```\n *\n * After the DB connection is established, one can execute SQL statements like the following:\n *\n * ```php\n * $command = $connection->createCommand('SELECT * FROM post');\n * $posts = $command->queryAll();\n * $command = $connection->createCommand('UPDATE post SET status=1');\n * $command->execute();\n * ```\n *\n * One can also do prepared SQL execution and bind parameters to the prepared SQL.\n * When the parameters are coming from user input, you should use this approach\n * to prevent SQL injection attacks. The following is an example:\n *\n * ```php\n * $command = $connection->createCommand('SELECT * FROM post WHERE id=:id');\n * $command->bindValue(':id', $_GET['id']);\n * $post = $command->query();\n * ```\n *\n * For more information about how to perform various DB queries, please refer to [[Command]].\n *\n * If the underlying DBMS supports transactions, you can perform transactional SQL queries\n * like the following:\n *\n * ```php\n * $transaction = $connection->beginTransaction();\n * try {\n *     $connection->createCommand($sql1)->execute();\n *     $connection->createCommand($sql2)->execute();\n *     \/\/ ... executing other SQL statements ...\n *     $transaction->commit();\n * } catch (Exception $e) {\n *     $transaction->rollBack();\n * }\n * ```\n *\n * You also can use shortcut for the above like the following:\n *\n * ```php\n * $connection->transaction(function () {\n *     $order = new Order($customer);\n *     $order->save();\n *     $order->addItems($items);\n * });\n * ```\n *\n * If needed you can pass transaction isolation level as a second parameter:\n *\n * ```php\n * $connection->transaction(function (Connection $db) {\n *     \/\/return $db->...\n * }, Transaction::READ_UNCOMMITTED);\n * ```\n *\n * Connection is often used as an application component and configured in the application\n * configuration like the following:\n *\n * ```php\n * 'components' => [\n *     'db' => [\n *         'class' => '\\yii\\db\\Connection',\n *         'dsn' => 'mysql:host=127.0.0.1;dbname=demo',\n *         'username' => 'root',\n *         'password' => '',\n *         'charset' => 'utf8',\n *     ],\n * ],\n * ```\n *\n * @property string $driverName Name of the DB driver.\n * @property bool $isActive Whether the DB connection is established. This property is read-only.\n * @property string $lastInsertID The row ID of the last row inserted, or the last value retrieved from the\n * sequence object. This property is read-only.\n * @property PDO $masterPdo The PDO instance for the currently active master connection. This property is\n * read-only.\n * @property QueryBuilder $queryBuilder The query builder for the current DB connection. This property is\n * read-only.\n * @property Schema $schema The schema information for the database opened by this connection. This property\n * is read-only.\n * @property Connection $master The currently active master connection. `null` is returned if there is no master\n * @property Connection $slave The currently active slave connection. `null` is returned if there is no slave\n * available and `$fallbackToMaster` is false. This property is read-only.\n * @property PDO $slavePdo The PDO instance for the currently active slave connection. `null` is returned if no\n * slave connection is available and `$fallbackToMaster` is false. This property is read-only.\n * @property Transaction $transaction The currently active transaction. Null if no active transaction. This\n * property is read-only.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",17],["T_WHITESPACE","\n",133],["T_CLASS","class",134],["T_WHITESPACE"," ",134],["T_STRING","Connection",134],["T_WHITESPACE"," ",134],["T_EXTENDS","extends",134],["T_WHITESPACE"," ",134],["T_STRING","Component",134],["T_WHITESPACE","\n",134],"{",["T_WHITESPACE","\n    ",135],["T_DOC_COMMENT","\/**\n     * @event Event an event that is triggered after a DB connection is established\n     *\/",136],["T_WHITESPACE","\n    ",138],["T_CONST","const",139],["T_WHITESPACE"," ",139],["T_STRING","EVENT_AFTER_OPEN",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'afterOpen'",139],";",["T_WHITESPACE","\n    ",139],["T_DOC_COMMENT","\/**\n     * @event Event an event that is triggered right before a top-level transaction is started\n     *\/",140],["T_WHITESPACE","\n    ",142],["T_CONST","const",143],["T_WHITESPACE"," ",143],["T_STRING","EVENT_BEGIN_TRANSACTION",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'beginTransaction'",143],";",["T_WHITESPACE","\n    ",143],["T_DOC_COMMENT","\/**\n     * @event Event an event that is triggered right after a top-level transaction is committed\n     *\/",144],["T_WHITESPACE","\n    ",146],["T_CONST","const",147],["T_WHITESPACE"," ",147],["T_STRING","EVENT_COMMIT_TRANSACTION",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'commitTransaction'",147],";",["T_WHITESPACE","\n    ",147],["T_DOC_COMMENT","\/**\n     * @event Event an event that is triggered right after a top-level transaction is rolled back\n     *\/",148],["T_WHITESPACE","\n    ",150],["T_CONST","const",151],["T_WHITESPACE"," ",151],["T_STRING","EVENT_ROLLBACK_TRANSACTION",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'rollbackTransaction'",151],";",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * @var string the Data Source Name, or DSN, contains the information required to connect to the database.\n     * Please refer to the [PHP manual](http:\/\/www.php.net\/manual\/en\/function.PDO-construct.php) on\n     * the format of the DSN string.\n     *\n     * For [SQLite](http:\/\/php.net\/manual\/en\/ref.pdo-sqlite.connection.php) you may use a path alias\n     * for specifying the database path, e.g. `sqlite:@app\/data\/db.sql`.\n     *\n     * @see charset\n     *\/",153],["T_WHITESPACE","\n    ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$dsn",163],";",["T_WHITESPACE","\n    ",163],["T_DOC_COMMENT","\/**\n     * @var string the username for establishing DB connection. Defaults to `null` meaning no username to use.\n     *\/",164],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$username",167],";",["T_WHITESPACE","\n    ",167],["T_DOC_COMMENT","\/**\n     * @var string the password for establishing DB connection. Defaults to `null` meaning no password to use.\n     *\/",168],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$password",171],";",["T_WHITESPACE","\n    ",171],["T_DOC_COMMENT","\/**\n     * @var array PDO attributes (name => value) that should be set when calling [[open()]]\n     * to establish a DB connection. Please refer to the\n     * [PHP manual](http:\/\/www.php.net\/manual\/en\/function.PDO-setAttribute.php) for\n     * details about available attributes.\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$attributes",178],";",["T_WHITESPACE","\n    ",178],["T_DOC_COMMENT","\/**\n     * @var PDO the PHP PDO instance associated with this DB connection.\n     * This property is mainly managed by [[open()]] and [[close()]] methods.\n     * When a DB connection is active, this property will represent a PDO instance;\n     * otherwise, it will be null.\n     * @see pdoClass\n     *\/",179],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$pdo",186],";",["T_WHITESPACE","\n    ",186],["T_DOC_COMMENT","\/**\n     * @var bool whether to enable schema caching.\n     * Note that in order to enable truly schema caching, a valid cache component as specified\n     * by [[schemaCache]] must be enabled and [[enableSchemaCache]] must be set true.\n     * @see schemaCacheDuration\n     * @see schemaCacheExclude\n     * @see schemaCache\n     *\/",187],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$enableSchemaCache",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","false",195],";",["T_WHITESPACE","\n    ",195],["T_DOC_COMMENT","\/**\n     * @var int number of seconds that table metadata can remain valid in cache.\n     * Use 0 to indicate that the cached data will never expire.\n     * @see enableSchemaCache\n     *\/",196],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$schemaCacheDuration",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_LNUMBER","3600",201],";",["T_WHITESPACE","\n    ",201],["T_DOC_COMMENT","\/**\n     * @var array list of tables whose metadata should NOT be cached. Defaults to empty array.\n     * The table names may contain schema prefix, if any. Do not quote the table names.\n     * @see enableSchemaCache\n     *\/",202],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$schemaCacheExclude",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],"[","]",";",["T_WHITESPACE","\n    ",207],["T_DOC_COMMENT","\/**\n     * @var Cache|string the cache object or the ID of the cache application component that\n     * is used to cache the table metadata.\n     * @see enableSchemaCache\n     *\/",208],["T_WHITESPACE","\n    ",212],["T_PUBLIC","public",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$schemaCache",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'cache'",213],";",["T_WHITESPACE","\n    ",213],["T_DOC_COMMENT","\/**\n     * @var bool whether to enable query caching.\n     * Note that in order to enable query caching, a valid cache component as specified\n     * by [[queryCache]] must be enabled and [[enableQueryCache]] must be set true.\n     * Also, only the results of the queries enclosed within [[cache()]] will be cached.\n     * @see queryCache\n     * @see cache()\n     * @see noCache()\n     *\/",214],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$enableQueryCache",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","true",223],";",["T_WHITESPACE","\n    ",223],["T_DOC_COMMENT","\/**\n     * @var int the default number of seconds that query results can remain valid in cache.\n     * Defaults to 3600, meaning 3600 seconds, or one hour. Use 0 to indicate that the cached data will never expire.\n     * The value of this property will be used when [[cache()]] is called without a cache duration.\n     * @see enableQueryCache\n     * @see cache()\n     *\/",224],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$queryCacheDuration",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_LNUMBER","3600",231],";",["T_WHITESPACE","\n    ",231],["T_DOC_COMMENT","\/**\n     * @var Cache|string the cache object or the ID of the cache application component\n     * that is used for query caching.\n     * @see enableQueryCache\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$queryCache",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'cache'",237],";",["T_WHITESPACE","\n    ",237],["T_DOC_COMMENT","\/**\n     * @var string the charset used for database connection. The property is only used\n     * for MySQL, PostgreSQL and CUBRID databases. Defaults to null, meaning using default charset\n     * as configured by the database.\n     *\n     * For Oracle Database, the charset must be specified in the [[dsn]], for example for UTF-8 by appending `;charset=UTF-8`\n     * to the DSN string.\n     *\n     * The same applies for if you're using GBK or BIG5 charset with MySQL, then it's highly recommended to\n     * specify charset via [[dsn]] like `'mysql:dbname=mydatabase;host=127.0.0.1;charset=GBK;'`.\n     *\/",238],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$charset",249],";",["T_WHITESPACE","\n    ",249],["T_DOC_COMMENT","\/**\n     * @var bool whether to turn on prepare emulation. Defaults to false, meaning PDO\n     * will use the native prepare support if available. For some databases (such as MySQL),\n     * this may need to be set true so that PDO can emulate the prepare support to bypass\n     * the buggy native prepare support.\n     * The default value is null, which means the PDO ATTR_EMULATE_PREPARES value will not be changed.\n     *\/",250],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$emulatePrepare",257],";",["T_WHITESPACE","\n    ",257],["T_DOC_COMMENT","\/**\n     * @var string the common prefix or suffix for table names. If a table name is given\n     * as `{{%TableName}}`, then the percentage character `%` will be replaced with this\n     * property value. For example, `{{%post}}` becomes `{{tbl_post}}`.\n     *\/",258],["T_WHITESPACE","\n    ",262],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$tablePrefix",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","''",263],";",["T_WHITESPACE","\n    ",263],["T_DOC_COMMENT","\/**\n     * @var array mapping between PDO driver names and [[Schema]] classes.\n     * The keys of the array are PDO driver names while the values the corresponding\n     * schema class name or configuration. Please refer to [[Yii::createObject()]] for\n     * details on how to specify a configuration.\n     *\n     * This property is mainly used by [[getSchema()]] when fetching the database schema information.\n     * You normally do not need to set this property unless you want to use your own\n     * [[Schema]] class to support DBMS that is not supported by Yii.\n     *\/",264],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$schemaMap",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],"[",["T_WHITESPACE","\n        ",274],["T_CONSTANT_ENCAPSED_STRING","'pgsql'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\pgsql\\Schema'",275],",",["T_WHITESPACE"," ",275],["T_COMMENT","\/\/ PostgreSQL\n",275],["T_WHITESPACE","        ",276],["T_CONSTANT_ENCAPSED_STRING","'mysqli'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\mysql\\Schema'",276],",",["T_WHITESPACE"," ",276],["T_COMMENT","\/\/ MySQL\n",276],["T_WHITESPACE","        ",277],["T_CONSTANT_ENCAPSED_STRING","'mysql'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\mysql\\Schema'",277],",",["T_WHITESPACE"," ",277],["T_COMMENT","\/\/ MySQL\n",277],["T_WHITESPACE","        ",278],["T_CONSTANT_ENCAPSED_STRING","'sqlite'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\sqlite\\Schema'",278],",",["T_WHITESPACE"," ",278],["T_COMMENT","\/\/ sqlite 3\n",278],["T_WHITESPACE","        ",279],["T_CONSTANT_ENCAPSED_STRING","'sqlite2'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\sqlite\\Schema'",279],",",["T_WHITESPACE"," ",279],["T_COMMENT","\/\/ sqlite 2\n",279],["T_WHITESPACE","        ",280],["T_CONSTANT_ENCAPSED_STRING","'sqlsrv'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\mssql\\Schema'",280],",",["T_WHITESPACE"," ",280],["T_COMMENT","\/\/ newer MSSQL driver on MS Windows hosts\n",280],["T_WHITESPACE","        ",281],["T_CONSTANT_ENCAPSED_STRING","'oci'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\oci\\Schema'",281],",",["T_WHITESPACE"," ",281],["T_COMMENT","\/\/ Oracle driver\n",281],["T_WHITESPACE","        ",282],["T_CONSTANT_ENCAPSED_STRING","'mssql'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\mssql\\Schema'",282],",",["T_WHITESPACE"," ",282],["T_COMMENT","\/\/ older MSSQL driver on MS Windows hosts\n",282],["T_WHITESPACE","        ",283],["T_CONSTANT_ENCAPSED_STRING","'dblib'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\mssql\\Schema'",283],",",["T_WHITESPACE"," ",283],["T_COMMENT","\/\/ dblib drivers on GNU\/Linux (and maybe other OSes) hosts\n",283],["T_WHITESPACE","        ",284],["T_CONSTANT_ENCAPSED_STRING","'cubrid'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\cubrid\\Schema'",284],",",["T_WHITESPACE"," ",284],["T_COMMENT","\/\/ CUBRID\n",284],["T_WHITESPACE","    ",285],"]",";",["T_WHITESPACE","\n    ",285],["T_DOC_COMMENT","\/**\n     * @var string Custom PDO wrapper class. If not set, it will use [[PDO]] or [[\\yii\\db\\mssql\\PDO]] when MSSQL is used.\n     * @see pdo\n     *\/",286],["T_WHITESPACE","\n    ",289],["T_PUBLIC","public",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$pdoClass",290],";",["T_WHITESPACE","\n    ",290],["T_DOC_COMMENT","\/**\n     * @var string the class used to create new database [[Command]] objects. If you want to extend the [[Command]] class,\n     * you may configure this property to use your extended version of the class.\n     * @see createCommand\n     * @since 2.0.7\n     *\/",291],["T_WHITESPACE","\n    ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$commandClass",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\Command'",297],";",["T_WHITESPACE","\n    ",297],["T_DOC_COMMENT","\/**\n     * @var bool whether to enable [savepoint](http:\/\/en.wikipedia.org\/wiki\/Savepoint).\n     * Note that if the underlying DBMS does not support savepoint, setting this property to be true will have no effect.\n     *\/",298],["T_WHITESPACE","\n    ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$enableSavepoint",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","true",302],";",["T_WHITESPACE","\n    ",302],["T_DOC_COMMENT","\/**\n     * @var Cache|string the cache object or the ID of the cache application component that is used to store\n     * the health status of the DB servers specified in [[masters]] and [[slaves]].\n     * This is used only when read\/write splitting is enabled or [[masters]] is not empty.\n     *\/",303],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$serverStatusCache",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'cache'",308],";",["T_WHITESPACE","\n    ",308],["T_DOC_COMMENT","\/**\n     * @var int the retry interval in seconds for dead servers listed in [[masters]] and [[slaves]].\n     * This is used together with [[serverStatusCache]].\n     *\/",309],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$serverRetryInterval",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_LNUMBER","600",313],";",["T_WHITESPACE","\n    ",313],["T_DOC_COMMENT","\/**\n     * @var bool whether to enable read\/write splitting by using [[slaves]] to read data.\n     * Note that if [[slaves]] is empty, read\/write splitting will NOT be enabled no matter what value this property takes.\n     *\/",314],["T_WHITESPACE","\n    ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$enableSlaves",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","true",318],";",["T_WHITESPACE","\n    ",318],["T_DOC_COMMENT","\/**\n     * @var array list of slave connection configurations. Each configuration is used to create a slave DB connection.\n     * When [[enableSlaves]] is true, one of these configurations will be chosen and used to create a DB connection\n     * for performing read queries only.\n     * @see enableSlaves\n     * @see slaveConfig\n     *\/",319],["T_WHITESPACE","\n    ",325],["T_PUBLIC","public",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$slaves",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],"[","]",";",["T_WHITESPACE","\n    ",326],["T_DOC_COMMENT","\/**\n     * @var array the configuration that should be merged with every slave configuration listed in [[slaves]].\n     * For example,\n     *\n     * ```php\n     * [\n     *     'username' => 'slave',\n     *     'password' => 'slave',\n     *     'attributes' => [\n     *         \/\/ use a smaller connection timeout\n     *         PDO::ATTR_TIMEOUT => 10,\n     *     ],\n     * ]\n     * ```\n     *\/",327],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$slaveConfig",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],"[","]",";",["T_WHITESPACE","\n    ",342],["T_DOC_COMMENT","\/**\n     * @var array list of master connection configurations. Each configuration is used to create a master DB connection.\n     * When [[open()]] is called, one of these configurations will be chosen and used to create a DB connection\n     * which will be used by this object.\n     * Note that when this property is not empty, the connection setting (e.g. \"dsn\", \"username\") of this object will\n     * be ignored.\n     * @see masterConfig\n     * @see shuffleMasters\n     *\/",343],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$masters",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],"[","]",";",["T_WHITESPACE","\n    ",352],["T_DOC_COMMENT","\/**\n     * @var array the configuration that should be merged with every master configuration listed in [[masters]].\n     * For example,\n     *\n     * ```php\n     * [\n     *     'username' => 'master',\n     *     'password' => 'master',\n     *     'attributes' => [\n     *         \/\/ use a smaller connection timeout\n     *         PDO::ATTR_TIMEOUT => 10,\n     *     ],\n     * ]\n     * ```\n     *\/",353],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$masterConfig",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],"[","]",";",["T_WHITESPACE","\n    ",368],["T_DOC_COMMENT","\/**\n     * @var bool whether to shuffle [[masters]] before getting one.\n     * @since 2.0.11\n     * @see masters\n     *\/",369],["T_WHITESPACE","\n    ",373],["T_PUBLIC","public",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$shuffleMasters",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_STRING","true",374],";",["T_WHITESPACE","\n\n    ",374],["T_DOC_COMMENT","\/**\n     * @var Transaction the currently active transaction\n     *\/",376],["T_WHITESPACE","\n    ",378],["T_PRIVATE","private",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$_transaction",379],";",["T_WHITESPACE","\n    ",379],["T_DOC_COMMENT","\/**\n     * @var Schema the database schema\n     *\/",380],["T_WHITESPACE","\n    ",382],["T_PRIVATE","private",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$_schema",383],";",["T_WHITESPACE","\n    ",383],["T_DOC_COMMENT","\/**\n     * @var string driver name\n     *\/",384],["T_WHITESPACE","\n    ",386],["T_PRIVATE","private",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$_driverName",387],";",["T_WHITESPACE","\n    ",387],["T_DOC_COMMENT","\/**\n     * @var Connection the currently active master connection\n     *\/",388],["T_WHITESPACE","\n    ",390],["T_PRIVATE","private",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$_master",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_STRING","false",391],";",["T_WHITESPACE","\n    ",391],["T_DOC_COMMENT","\/**\n     * @var Connection the currently active slave connection\n     *\/",392],["T_WHITESPACE","\n    ",394],["T_PRIVATE","private",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$_slave",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_STRING","false",395],";",["T_WHITESPACE","\n    ",395],["T_DOC_COMMENT","\/**\n     * @var array query cache parameters for the [[cache()]] calls\n     *\/",396],["T_WHITESPACE","\n    ",398],["T_PRIVATE","private",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$_queryCacheInfo",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],"[","]",";",["T_WHITESPACE","\n\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Returns a value indicating whether the DB connection is established.\n     * @return bool whether the DB connection is established\n     *\/",402],["T_WHITESPACE","\n    ",405],["T_PUBLIC","public",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","getIsActive",406],"(",")",["T_WHITESPACE","\n    ",406],"{",["T_WHITESPACE","\n        ",407],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","pdo",408],["T_WHITESPACE"," ",408],["T_IS_NOT_IDENTICAL","!==",408],["T_WHITESPACE"," ",408],["T_STRING","null",408],";",["T_WHITESPACE","\n    ",408],"}",["T_WHITESPACE","\n\n    ",409],["T_DOC_COMMENT","\/**\n     * Uses query cache for the queries performed with the callable.\n     * When query caching is enabled ([[enableQueryCache]] is true and [[queryCache]] refers to a valid cache),\n     * queries performed within the callable will be cached and their results will be fetched from cache if available.\n     * For example,\n     *\n     * ```php\n     * \/\/ The customer will be fetched from cache if available.\n     * \/\/ If not, the query will be made against DB and cached for use next time.\n     * $customer = $db->cache(function (Connection $db) {\n     *     return $db->createCommand('SELECT * FROM customer WHERE id=1')->queryOne();\n     * });\n     * ```\n     *\n     * Note that query cache is only meaningful for queries that return results. For queries performed with\n     * [[Command::execute()]], query cache will not be used.\n     *\n     * @param callable $callable a PHP callable that contains DB queries which will make use of query cache.\n     * The signature of the callable is `function (Connection $db)`.\n     * @param int $duration the number of seconds that query results can remain valid in the cache. If this is\n     * not set, the value of [[queryCacheDuration]] will be used instead.\n     * Use 0 to indicate that the cached data will never expire.\n     * @param \\yii\\caching\\Dependency $dependency the cache dependency associated with the cached query results.\n     * @return mixed the return result of the callable\n     * @throws \\Exception|\\Throwable if there is any exception during query\n     * @see enableQueryCache\n     * @see queryCache\n     * @see noCache()\n     *\/",411],["T_WHITESPACE","\n    ",439],["T_PUBLIC","public",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","cache",440],"(",["T_CALLABLE","callable",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$callable",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$duration",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","null",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$dependency",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","null",440],")",["T_WHITESPACE","\n    ",440],"{",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_queryCacheInfo",442],"[","]",["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],"[",["T_VARIABLE","$duration",442],["T_WHITESPACE"," ",442],["T_IS_IDENTICAL","===",442],["T_WHITESPACE"," ",442],["T_STRING","null",442],["T_WHITESPACE"," ",442],"?",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","queryCacheDuration",442],["T_WHITESPACE"," ",442],":",["T_WHITESPACE"," ",442],["T_VARIABLE","$duration",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$dependency",442],"]",";",["T_WHITESPACE","\n        ",442],["T_TRY","try",443],["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$result",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_STRING","call_user_func",444],"(",["T_VARIABLE","$callable",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],")",";",["T_WHITESPACE","\n            ",444],["T_STRING","array_pop",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_queryCacheInfo",445],")",";",["T_WHITESPACE","\n            ",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$result",446],";",["T_WHITESPACE","\n        ",446],"}",["T_WHITESPACE"," ",447],["T_CATCH","catch",447],["T_WHITESPACE"," ",447],"(",["T_NS_SEPARATOR","\\",447],["T_STRING","Exception",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$e",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n            ",447],["T_STRING","array_pop",448],"(",["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_queryCacheInfo",448],")",";",["T_WHITESPACE","\n            ",448],["T_THROW","throw",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$e",449],";",["T_WHITESPACE","\n        ",449],"}",["T_WHITESPACE"," ",450],["T_CATCH","catch",450],["T_WHITESPACE"," ",450],"(",["T_NS_SEPARATOR","\\",450],["T_STRING","Throwable",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$e",450],")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n            ",450],["T_STRING","array_pop",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_queryCacheInfo",451],")",";",["T_WHITESPACE","\n            ",451],["T_THROW","throw",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$e",452],";",["T_WHITESPACE","\n        ",452],"}",["T_WHITESPACE","\n    ",453],"}",["T_WHITESPACE","\n\n    ",454],["T_DOC_COMMENT","\/**\n     * Disables query cache temporarily.\n     * Queries performed within the callable will not use query cache at all. For example,\n     *\n     * ```php\n     * $db->cache(function (Connection $db) {\n     *\n     *     \/\/ ... queries that use query cache ...\n     *\n     *     return $db->noCache(function (Connection $db) {\n     *         \/\/ this query will not use query cache\n     *         return $db->createCommand('SELECT * FROM customer WHERE id=1')->queryOne();\n     *     });\n     * });\n     * ```\n     *\n     * @param callable $callable a PHP callable that contains DB queries which should not use query cache.\n     * The signature of the callable is `function (Connection $db)`.\n     * @return mixed the return result of the callable\n     * @throws \\Exception|\\Throwable if there is any exception during query\n     * @see enableQueryCache\n     * @see queryCache\n     * @see cache()\n     *\/",456],["T_WHITESPACE","\n    ",479],["T_PUBLIC","public",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","noCache",480],"(",["T_CALLABLE","callable",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$callable",480],")",["T_WHITESPACE","\n    ",480],"{",["T_WHITESPACE","\n        ",481],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_queryCacheInfo",482],"[","]",["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_STRING","false",482],";",["T_WHITESPACE","\n        ",482],["T_TRY","try",483],["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$result",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_STRING","call_user_func",484],"(",["T_VARIABLE","$callable",484],",",["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],")",";",["T_WHITESPACE","\n            ",484],["T_STRING","array_pop",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_queryCacheInfo",485],")",";",["T_WHITESPACE","\n            ",485],["T_RETURN","return",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$result",486],";",["T_WHITESPACE","\n        ",486],"}",["T_WHITESPACE"," ",487],["T_CATCH","catch",487],["T_WHITESPACE"," ",487],"(",["T_NS_SEPARATOR","\\",487],["T_STRING","Exception",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$e",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_STRING","array_pop",488],"(",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","_queryCacheInfo",488],")",";",["T_WHITESPACE","\n            ",488],["T_THROW","throw",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$e",489],";",["T_WHITESPACE","\n        ",489],"}",["T_WHITESPACE"," ",490],["T_CATCH","catch",490],["T_WHITESPACE"," ",490],"(",["T_NS_SEPARATOR","\\",490],["T_STRING","Throwable",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$e",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n            ",490],["T_STRING","array_pop",491],"(",["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_queryCacheInfo",491],")",";",["T_WHITESPACE","\n            ",491],["T_THROW","throw",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$e",492],";",["T_WHITESPACE","\n        ",492],"}",["T_WHITESPACE","\n    ",493],"}",["T_WHITESPACE","\n\n    ",494],["T_DOC_COMMENT","\/**\n     * Returns the current query cache information.\n     * This method is used internally by [[Command]].\n     * @param int $duration the preferred caching duration. If null, it will be ignored.\n     * @param \\yii\\caching\\Dependency $dependency the preferred caching dependency. If null, it will be ignored.\n     * @return array the current query cache information, or null if query cache is not enabled.\n     * @internal\n     *\/",496],["T_WHITESPACE","\n    ",503],["T_PUBLIC","public",504],["T_WHITESPACE"," ",504],["T_FUNCTION","function",504],["T_WHITESPACE"," ",504],["T_STRING","getQueryCacheInfo",504],"(",["T_VARIABLE","$duration",504],",",["T_WHITESPACE"," ",504],["T_VARIABLE","$dependency",504],")",["T_WHITESPACE","\n    ",504],"{",["T_WHITESPACE","\n        ",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(","!",["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","enableQueryCache",506],")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_STRING","null",507],";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n\n        ",508],["T_VARIABLE","$info",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_STRING","end",510],"(",["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","_queryCacheInfo",510],")",";",["T_WHITESPACE","\n        ",510],["T_IF","if",511],["T_WHITESPACE"," ",511],"(",["T_STRING","is_array",511],"(",["T_VARIABLE","$info",511],")",")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n            ",511],["T_IF","if",512],["T_WHITESPACE"," ",512],"(",["T_VARIABLE","$duration",512],["T_WHITESPACE"," ",512],["T_IS_IDENTICAL","===",512],["T_WHITESPACE"," ",512],["T_STRING","null",512],")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n                ",512],["T_VARIABLE","$duration",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$info",513],"[",["T_LNUMBER","0",513],"]",";",["T_WHITESPACE","\n            ",513],"}",["T_WHITESPACE","\n            ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(",["T_VARIABLE","$dependency",515],["T_WHITESPACE"," ",515],["T_IS_IDENTICAL","===",515],["T_WHITESPACE"," ",515],["T_STRING","null",515],")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n                ",515],["T_VARIABLE","$dependency",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$info",516],"[",["T_LNUMBER","1",516],"]",";",["T_WHITESPACE","\n            ",516],"}",["T_WHITESPACE","\n        ",517],"}",["T_WHITESPACE","\n\n        ",518],["T_IF","if",520],["T_WHITESPACE"," ",520],"(",["T_VARIABLE","$duration",520],["T_WHITESPACE"," ",520],["T_IS_IDENTICAL","===",520],["T_WHITESPACE"," ",520],["T_LNUMBER","0",520],["T_WHITESPACE"," ",520],["T_BOOLEAN_OR","||",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$duration",520],["T_WHITESPACE"," ",520],">",["T_WHITESPACE"," ",520],["T_LNUMBER","0",520],")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n            ",520],["T_IF","if",521],["T_WHITESPACE"," ",521],"(",["T_STRING","is_string",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","queryCache",521],")",["T_WHITESPACE"," ",521],["T_BOOLEAN_AND","&&",521],["T_WHITESPACE"," ",521],["T_STRING","Yii",521],["T_DOUBLE_COLON","::",521],["T_VARIABLE","$app",521],")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n                ",521],["T_VARIABLE","$cache",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_STRING","Yii",522],["T_DOUBLE_COLON","::",522],["T_VARIABLE","$app",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","get",522],"(",["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","queryCache",522],",",["T_WHITESPACE"," ",522],["T_STRING","false",522],")",";",["T_WHITESPACE","\n            ",522],"}",["T_WHITESPACE"," ",523],["T_ELSE","else",523],["T_WHITESPACE"," ",523],"{",["T_WHITESPACE","\n                ",523],["T_VARIABLE","$cache",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","queryCache",524],";",["T_WHITESPACE","\n            ",524],"}",["T_WHITESPACE","\n            ",525],["T_IF","if",526],["T_WHITESPACE"," ",526],"(",["T_VARIABLE","$cache",526],["T_WHITESPACE"," ",526],["T_INSTANCEOF","instanceof",526],["T_WHITESPACE"," ",526],["T_STRING","Cache",526],")",["T_WHITESPACE"," ",526],"{",["T_WHITESPACE","\n                ",526],["T_RETURN","return",527],["T_WHITESPACE"," ",527],"[",["T_VARIABLE","$cache",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$duration",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$dependency",527],"]",";",["T_WHITESPACE","\n            ",527],"}",["T_WHITESPACE","\n        ",528],"}",["T_WHITESPACE","\n\n        ",529],["T_RETURN","return",531],["T_WHITESPACE"," ",531],["T_STRING","null",531],";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_DOC_COMMENT","\/**\n     * Establishes a DB connection.\n     * It does nothing if a DB connection has already been established.\n     * @throws Exception if connection fails\n     *\/",534],["T_WHITESPACE","\n    ",538],["T_PUBLIC","public",539],["T_WHITESPACE"," ",539],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","open",539],"(",")",["T_WHITESPACE","\n    ",539],"{",["T_WHITESPACE","\n        ",540],["T_IF","if",541],["T_WHITESPACE"," ",541],"(",["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","pdo",541],["T_WHITESPACE"," ",541],["T_IS_NOT_IDENTICAL","!==",541],["T_WHITESPACE"," ",541],["T_STRING","null",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_RETURN","return",542],";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n\n        ",543],["T_IF","if",545],["T_WHITESPACE"," ",545],"(","!",["T_EMPTY","empty",545],"(",["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","masters",545],")",")",["T_WHITESPACE"," ",545],"{",["T_WHITESPACE","\n            ",545],["T_VARIABLE","$db",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","getMaster",546],"(",")",";",["T_WHITESPACE","\n            ",546],["T_IF","if",547],["T_WHITESPACE"," ",547],"(",["T_VARIABLE","$db",547],["T_WHITESPACE"," ",547],["T_IS_NOT_IDENTICAL","!==",547],["T_WHITESPACE"," ",547],["T_STRING","null",547],")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n                ",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","pdo",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_VARIABLE","$db",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","pdo",548],";",["T_WHITESPACE","\n                ",548],["T_RETURN","return",549],";",["T_WHITESPACE","\n            ",549],"}",["T_WHITESPACE"," ",550],["T_ELSE","else",550],["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n                ",550],["T_THROW","throw",551],["T_WHITESPACE"," ",551],["T_NEW","new",551],["T_WHITESPACE"," ",551],["T_STRING","InvalidConfigException",551],"(",["T_CONSTANT_ENCAPSED_STRING","'None of the master DB servers is available.'",551],")",";",["T_WHITESPACE","\n            ",551],"}",["T_WHITESPACE","\n        ",552],"}",["T_WHITESPACE","\n\n        ",553],["T_IF","if",555],["T_WHITESPACE"," ",555],"(",["T_EMPTY","empty",555],"(",["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","dsn",555],")",")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n            ",555],["T_THROW","throw",556],["T_WHITESPACE"," ",556],["T_NEW","new",556],["T_WHITESPACE"," ",556],["T_STRING","InvalidConfigException",556],"(",["T_CONSTANT_ENCAPSED_STRING","'Connection::dsn cannot be empty.'",556],")",";",["T_WHITESPACE","\n        ",556],"}",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$token",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'Opening DB connection: '",558],["T_WHITESPACE"," ",558],".",["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","dsn",558],";",["T_WHITESPACE","\n        ",558],["T_TRY","try",559],["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n            ",559],["T_STRING","Yii",560],["T_DOUBLE_COLON","::",560],["T_STRING","info",560],"(",["T_VARIABLE","$token",560],",",["T_WHITESPACE"," ",560],["T_METHOD_C","__METHOD__",560],")",";",["T_WHITESPACE","\n            ",560],["T_STRING","Yii",561],["T_DOUBLE_COLON","::",561],["T_STRING","beginProfile",561],"(",["T_VARIABLE","$token",561],",",["T_WHITESPACE"," ",561],["T_METHOD_C","__METHOD__",561],")",";",["T_WHITESPACE","\n            ",561],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","pdo",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","createPdoInstance",562],"(",")",";",["T_WHITESPACE","\n            ",562],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","initConnection",563],"(",")",";",["T_WHITESPACE","\n            ",563],["T_STRING","Yii",564],["T_DOUBLE_COLON","::",564],["T_STRING","endProfile",564],"(",["T_VARIABLE","$token",564],",",["T_WHITESPACE"," ",564],["T_METHOD_C","__METHOD__",564],")",";",["T_WHITESPACE","\n        ",564],"}",["T_WHITESPACE"," ",565],["T_CATCH","catch",565],["T_WHITESPACE"," ",565],"(",["T_NS_SEPARATOR","\\",565],["T_STRING","PDOException",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$e",565],")",["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n            ",565],["T_STRING","Yii",566],["T_DOUBLE_COLON","::",566],["T_STRING","endProfile",566],"(",["T_VARIABLE","$token",566],",",["T_WHITESPACE"," ",566],["T_METHOD_C","__METHOD__",566],")",";",["T_WHITESPACE","\n            ",566],["T_THROW","throw",567],["T_WHITESPACE"," ",567],["T_NEW","new",567],["T_WHITESPACE"," ",567],["T_STRING","Exception",567],"(",["T_VARIABLE","$e",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getMessage",567],"(",")",",",["T_WHITESPACE"," ",567],["T_VARIABLE","$e",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","errorInfo",567],",",["T_WHITESPACE"," ",567],["T_INT_CAST","(int)",567],["T_WHITESPACE"," ",567],["T_VARIABLE","$e",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getCode",567],"(",")",",",["T_WHITESPACE"," ",567],["T_VARIABLE","$e",567],")",";",["T_WHITESPACE","\n        ",567],"}",["T_WHITESPACE","\n    ",568],"}",["T_WHITESPACE","\n\n    ",569],["T_DOC_COMMENT","\/**\n     * Closes the currently active DB connection.\n     * It does nothing if the connection is already closed.\n     *\/",571],["T_WHITESPACE","\n    ",574],["T_PUBLIC","public",575],["T_WHITESPACE"," ",575],["T_FUNCTION","function",575],["T_WHITESPACE"," ",575],["T_STRING","close",575],"(",")",["T_WHITESPACE","\n    ",575],"{",["T_WHITESPACE","\n        ",576],["T_IF","if",577],["T_WHITESPACE"," ",577],"(",["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","_master",577],")",["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n            ",577],["T_IF","if",578],["T_WHITESPACE"," ",578],"(",["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","pdo",578],["T_WHITESPACE"," ",578],["T_IS_IDENTICAL","===",578],["T_WHITESPACE"," ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","_master",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","pdo",578],")",["T_WHITESPACE"," ",578],"{",["T_WHITESPACE","\n                ",578],["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","pdo",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_STRING","null",579],";",["T_WHITESPACE","\n            ",579],"}",["T_WHITESPACE","\n\n            ",580],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","_master",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","close",582],"(",")",";",["T_WHITESPACE","\n            ",582],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","_master",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_STRING","null",583],";",["T_WHITESPACE","\n        ",583],"}",["T_WHITESPACE","\n\n        ",584],["T_IF","if",586],["T_WHITESPACE"," ",586],"(",["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","pdo",586],["T_WHITESPACE"," ",586],["T_IS_NOT_IDENTICAL","!==",586],["T_WHITESPACE"," ",586],["T_STRING","null",586],")",["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n            ",586],["T_STRING","Yii",587],["T_DOUBLE_COLON","::",587],["T_STRING","trace",587],"(",["T_CONSTANT_ENCAPSED_STRING","'Closing DB connection: '",587],["T_WHITESPACE"," ",587],".",["T_WHITESPACE"," ",587],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","dsn",587],",",["T_WHITESPACE"," ",587],["T_METHOD_C","__METHOD__",587],")",";",["T_WHITESPACE","\n            ",587],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","pdo",588],["T_WHITESPACE"," ",588],"=",["T_WHITESPACE"," ",588],["T_STRING","null",588],";",["T_WHITESPACE","\n            ",588],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_schema",589],["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_STRING","null",589],";",["T_WHITESPACE","\n            ",589],["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","_transaction",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_STRING","null",590],";",["T_WHITESPACE","\n        ",590],"}",["T_WHITESPACE","\n\n        ",591],["T_IF","if",593],["T_WHITESPACE"," ",593],"(",["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_slave",593],")",["T_WHITESPACE"," ",593],"{",["T_WHITESPACE","\n            ",593],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","_slave",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","close",594],"(",")",";",["T_WHITESPACE","\n            ",594],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_slave",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_STRING","null",595],";",["T_WHITESPACE","\n        ",595],"}",["T_WHITESPACE","\n    ",596],"}",["T_WHITESPACE","\n\n    ",597],["T_DOC_COMMENT","\/**\n     * Creates the PDO instance.\n     * This method is called by [[open]] to establish a DB connection.\n     * The default implementation will create a PHP PDO instance.\n     * You may override this method if the default PDO needs to be adapted for certain DBMS.\n     * @return PDO the pdo instance\n     *\/",599],["T_WHITESPACE","\n    ",605],["T_PROTECTED","protected",606],["T_WHITESPACE"," ",606],["T_FUNCTION","function",606],["T_WHITESPACE"," ",606],["T_STRING","createPdoInstance",606],"(",")",["T_WHITESPACE","\n    ",606],"{",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$pdoClass",608],["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","pdoClass",608],";",["T_WHITESPACE","\n        ",608],["T_IF","if",609],["T_WHITESPACE"," ",609],"(",["T_VARIABLE","$pdoClass",609],["T_WHITESPACE"," ",609],["T_IS_IDENTICAL","===",609],["T_WHITESPACE"," ",609],["T_STRING","null",609],")",["T_WHITESPACE"," ",609],"{",["T_WHITESPACE","\n            ",609],["T_VARIABLE","$pdoClass",610],["T_WHITESPACE"," ",610],"=",["T_WHITESPACE"," ",610],["T_CONSTANT_ENCAPSED_STRING","'PDO'",610],";",["T_WHITESPACE","\n            ",610],["T_IF","if",611],["T_WHITESPACE"," ",611],"(",["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","_driverName",611],["T_WHITESPACE"," ",611],["T_IS_NOT_IDENTICAL","!==",611],["T_WHITESPACE"," ",611],["T_STRING","null",611],")",["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n                ",611],["T_VARIABLE","$driver",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","_driverName",612],";",["T_WHITESPACE","\n            ",612],"}",["T_WHITESPACE"," ",613],["T_ELSEIF","elseif",613],["T_WHITESPACE"," ",613],"(","(",["T_VARIABLE","$pos",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_STRING","strpos",613],"(",["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","dsn",613],",",["T_WHITESPACE"," ",613],["T_CONSTANT_ENCAPSED_STRING","':'",613],")",")",["T_WHITESPACE"," ",613],["T_IS_NOT_IDENTICAL","!==",613],["T_WHITESPACE"," ",613],["T_STRING","false",613],")",["T_WHITESPACE"," ",613],"{",["T_WHITESPACE","\n                ",613],["T_VARIABLE","$driver",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_STRING","strtolower",614],"(",["T_STRING","substr",614],"(",["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","dsn",614],",",["T_WHITESPACE"," ",614],["T_LNUMBER","0",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$pos",614],")",")",";",["T_WHITESPACE","\n            ",614],"}",["T_WHITESPACE","\n            ",615],["T_IF","if",616],["T_WHITESPACE"," ",616],"(",["T_ISSET","isset",616],"(",["T_VARIABLE","$driver",616],")",")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n                ",616],["T_IF","if",617],["T_WHITESPACE"," ",617],"(",["T_VARIABLE","$driver",617],["T_WHITESPACE"," ",617],["T_IS_IDENTICAL","===",617],["T_WHITESPACE"," ",617],["T_CONSTANT_ENCAPSED_STRING","'mssql'",617],["T_WHITESPACE"," ",617],["T_BOOLEAN_OR","||",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$driver",617],["T_WHITESPACE"," ",617],["T_IS_IDENTICAL","===",617],["T_WHITESPACE"," ",617],["T_CONSTANT_ENCAPSED_STRING","'dblib'",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n                    ",617],["T_VARIABLE","$pdoClass",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\mssql\\PDO'",618],";",["T_WHITESPACE","\n                ",618],"}",["T_WHITESPACE"," ",619],["T_ELSEIF","elseif",619],["T_WHITESPACE"," ",619],"(",["T_VARIABLE","$driver",619],["T_WHITESPACE"," ",619],["T_IS_IDENTICAL","===",619],["T_WHITESPACE"," ",619],["T_CONSTANT_ENCAPSED_STRING","'sqlsrv'",619],")",["T_WHITESPACE"," ",619],"{",["T_WHITESPACE","\n                    ",619],["T_VARIABLE","$pdoClass",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\mssql\\SqlsrvPDO'",620],";",["T_WHITESPACE","\n                ",620],"}",["T_WHITESPACE","\n            ",621],"}",["T_WHITESPACE","\n        ",622],"}",["T_WHITESPACE","\n\n        ",623],["T_VARIABLE","$dsn",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","dsn",625],";",["T_WHITESPACE","\n        ",625],["T_IF","if",626],["T_WHITESPACE"," ",626],"(",["T_STRING","strncmp",626],"(",["T_CONSTANT_ENCAPSED_STRING","'sqlite:@'",626],",",["T_WHITESPACE"," ",626],["T_VARIABLE","$dsn",626],",",["T_WHITESPACE"," ",626],["T_LNUMBER","8",626],")",["T_WHITESPACE"," ",626],["T_IS_IDENTICAL","===",626],["T_WHITESPACE"," ",626],["T_LNUMBER","0",626],")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n            ",626],["T_VARIABLE","$dsn",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_CONSTANT_ENCAPSED_STRING","'sqlite:'",627],["T_WHITESPACE"," ",627],".",["T_WHITESPACE"," ",627],["T_STRING","Yii",627],["T_DOUBLE_COLON","::",627],["T_STRING","getAlias",627],"(",["T_STRING","substr",627],"(",["T_VARIABLE","$dsn",627],",",["T_WHITESPACE"," ",627],["T_LNUMBER","7",627],")",")",";",["T_WHITESPACE","\n        ",627],"}",["T_WHITESPACE","\n        ",628],["T_RETURN","return",629],["T_WHITESPACE"," ",629],["T_NEW","new",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$pdoClass",629],"(",["T_VARIABLE","$dsn",629],",",["T_WHITESPACE"," ",629],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","username",629],",",["T_WHITESPACE"," ",629],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","password",629],",",["T_WHITESPACE"," ",629],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","attributes",629],")",";",["T_WHITESPACE","\n    ",629],"}",["T_WHITESPACE","\n\n    ",630],["T_DOC_COMMENT","\/**\n     * Initializes the DB connection.\n     * This method is invoked right after the DB connection is established.\n     * The default implementation turns on `PDO::ATTR_EMULATE_PREPARES`\n     * if [[emulatePrepare]] is true, and sets the database [[charset]] if it is not empty.\n     * It then triggers an [[EVENT_AFTER_OPEN]] event.\n     *\/",632],["T_WHITESPACE","\n    ",638],["T_PROTECTED","protected",639],["T_WHITESPACE"," ",639],["T_FUNCTION","function",639],["T_WHITESPACE"," ",639],["T_STRING","initConnection",639],"(",")",["T_WHITESPACE","\n    ",639],"{",["T_WHITESPACE","\n        ",640],["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","pdo",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","setAttribute",641],"(",["T_STRING","PDO",641],["T_DOUBLE_COLON","::",641],["T_STRING","ATTR_ERRMODE",641],",",["T_WHITESPACE"," ",641],["T_STRING","PDO",641],["T_DOUBLE_COLON","::",641],["T_STRING","ERRMODE_EXCEPTION",641],")",";",["T_WHITESPACE","\n        ",641],["T_IF","if",642],["T_WHITESPACE"," ",642],"(",["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","emulatePrepare",642],["T_WHITESPACE"," ",642],["T_IS_NOT_IDENTICAL","!==",642],["T_WHITESPACE"," ",642],["T_STRING","null",642],["T_WHITESPACE"," ",642],["T_BOOLEAN_AND","&&",642],["T_WHITESPACE"," ",642],["T_STRING","constant",642],"(",["T_CONSTANT_ENCAPSED_STRING","'PDO::ATTR_EMULATE_PREPARES'",642],")",")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n            ",642],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","pdo",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","setAttribute",643],"(",["T_STRING","PDO",643],["T_DOUBLE_COLON","::",643],["T_STRING","ATTR_EMULATE_PREPARES",643],",",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","emulatePrepare",643],")",";",["T_WHITESPACE","\n        ",643],"}",["T_WHITESPACE","\n        ",644],["T_IF","if",645],["T_WHITESPACE"," ",645],"(",["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","charset",645],["T_WHITESPACE"," ",645],["T_IS_NOT_IDENTICAL","!==",645],["T_WHITESPACE"," ",645],["T_STRING","null",645],["T_WHITESPACE"," ",645],["T_BOOLEAN_AND","&&",645],["T_WHITESPACE"," ",645],["T_STRING","in_array",645],"(",["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getDriverName",645],"(",")",",",["T_WHITESPACE"," ",645],"[",["T_CONSTANT_ENCAPSED_STRING","'pgsql'",645],",",["T_WHITESPACE"," ",645],["T_CONSTANT_ENCAPSED_STRING","'mysql'",645],",",["T_WHITESPACE"," ",645],["T_CONSTANT_ENCAPSED_STRING","'mysqli'",645],",",["T_WHITESPACE"," ",645],["T_CONSTANT_ENCAPSED_STRING","'cubrid'",645],"]",",",["T_WHITESPACE"," ",645],["T_STRING","true",645],")",")",["T_WHITESPACE"," ",645],"{",["T_WHITESPACE","\n            ",645],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","pdo",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","exec",646],"(",["T_CONSTANT_ENCAPSED_STRING","'SET NAMES '",646],["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","pdo",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","quote",646],"(",["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","charset",646],")",")",";",["T_WHITESPACE","\n        ",646],"}",["T_WHITESPACE","\n        ",647],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","trigger",648],"(",["T_STRING","self",648],["T_DOUBLE_COLON","::",648],["T_STRING","EVENT_AFTER_OPEN",648],")",";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n\n    ",649],["T_DOC_COMMENT","\/**\n     * Creates a command for execution.\n     * @param string $sql the SQL statement to be executed\n     * @param array $params the parameters to be bound to the SQL statement\n     * @return Command the DB command\n     *\/",651],["T_WHITESPACE","\n    ",656],["T_PUBLIC","public",657],["T_WHITESPACE"," ",657],["T_FUNCTION","function",657],["T_WHITESPACE"," ",657],["T_STRING","createCommand",657],"(",["T_VARIABLE","$sql",657],["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_STRING","null",657],",",["T_WHITESPACE"," ",657],["T_VARIABLE","$params",657],["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],"[","]",")",["T_WHITESPACE","\n    ",657],"{",["T_WHITESPACE","\n        ",658],["T_DOC_COMMENT","\/** @var Command $command *\/",659],["T_WHITESPACE","\n        ",659],["T_VARIABLE","$command",660],["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_NEW","new",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","commandClass",660],"(","[",["T_WHITESPACE","\n            ",660],["T_CONSTANT_ENCAPSED_STRING","'db'",661],["T_WHITESPACE"," ",661],["T_DOUBLE_ARROW","=>",661],["T_WHITESPACE"," ",661],["T_VARIABLE","$this",661],",",["T_WHITESPACE","\n            ",661],["T_CONSTANT_ENCAPSED_STRING","'sql'",662],["T_WHITESPACE"," ",662],["T_DOUBLE_ARROW","=>",662],["T_WHITESPACE"," ",662],["T_VARIABLE","$sql",662],",",["T_WHITESPACE","\n        ",662],"]",")",";",["T_WHITESPACE","\n\n        ",663],["T_RETURN","return",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$command",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","bindValues",665],"(",["T_VARIABLE","$params",665],")",";",["T_WHITESPACE","\n    ",665],"}",["T_WHITESPACE","\n\n    ",666],["T_DOC_COMMENT","\/**\n     * Returns the currently active transaction.\n     * @return Transaction the currently active transaction. Null if no active transaction.\n     *\/",668],["T_WHITESPACE","\n    ",671],["T_PUBLIC","public",672],["T_WHITESPACE"," ",672],["T_FUNCTION","function",672],["T_WHITESPACE"," ",672],["T_STRING","getTransaction",672],"(",")",["T_WHITESPACE","\n    ",672],"{",["T_WHITESPACE","\n        ",673],["T_RETURN","return",674],["T_WHITESPACE"," ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","_transaction",674],["T_WHITESPACE"," ",674],["T_BOOLEAN_AND","&&",674],["T_WHITESPACE"," ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","_transaction",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getIsActive",674],"(",")",["T_WHITESPACE"," ",674],"?",["T_WHITESPACE"," ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","_transaction",674],["T_WHITESPACE"," ",674],":",["T_WHITESPACE"," ",674],["T_STRING","null",674],";",["T_WHITESPACE","\n    ",674],"}",["T_WHITESPACE","\n\n    ",675],["T_DOC_COMMENT","\/**\n     * Starts a transaction.\n     * @param string|null $isolationLevel The isolation level to use for this transaction.\n     * See [[Transaction::begin()]] for details.\n     * @return Transaction the transaction initiated\n     *\/",677],["T_WHITESPACE","\n    ",682],["T_PUBLIC","public",683],["T_WHITESPACE"," ",683],["T_FUNCTION","function",683],["T_WHITESPACE"," ",683],["T_STRING","beginTransaction",683],"(",["T_VARIABLE","$isolationLevel",683],["T_WHITESPACE"," ",683],"=",["T_WHITESPACE"," ",683],["T_STRING","null",683],")",["T_WHITESPACE","\n    ",683],"{",["T_WHITESPACE","\n        ",684],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","open",685],"(",")",";",["T_WHITESPACE","\n\n        ",685],["T_IF","if",687],["T_WHITESPACE"," ",687],"(","(",["T_VARIABLE","$transaction",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","getTransaction",687],"(",")",")",["T_WHITESPACE"," ",687],["T_IS_IDENTICAL","===",687],["T_WHITESPACE"," ",687],["T_STRING","null",687],")",["T_WHITESPACE"," ",687],"{",["T_WHITESPACE","\n            ",687],["T_VARIABLE","$transaction",688],["T_WHITESPACE"," ",688],"=",["T_WHITESPACE"," ",688],["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","_transaction",688],["T_WHITESPACE"," ",688],"=",["T_WHITESPACE"," ",688],["T_NEW","new",688],["T_WHITESPACE"," ",688],["T_STRING","Transaction",688],"(","[",["T_CONSTANT_ENCAPSED_STRING","'db'",688],["T_WHITESPACE"," ",688],["T_DOUBLE_ARROW","=>",688],["T_WHITESPACE"," ",688],["T_VARIABLE","$this",688],"]",")",";",["T_WHITESPACE","\n        ",688],"}",["T_WHITESPACE","\n        ",689],["T_VARIABLE","$transaction",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","begin",690],"(",["T_VARIABLE","$isolationLevel",690],")",";",["T_WHITESPACE","\n\n        ",690],["T_RETURN","return",692],["T_WHITESPACE"," ",692],["T_VARIABLE","$transaction",692],";",["T_WHITESPACE","\n    ",692],"}",["T_WHITESPACE","\n\n    ",693],["T_DOC_COMMENT","\/**\n     * Executes callback provided in a transaction.\n     *\n     * @param callable $callback a valid PHP callback that performs the job. Accepts connection instance as parameter.\n     * @param string|null $isolationLevel The isolation level to use for this transaction.\n     * See [[Transaction::begin()]] for details.\n     * @throws \\Exception|\\Throwable if there is any exception during query. In this case the transaction will be rolled back.\n     * @return mixed result of callback function\n     *\/",695],["T_WHITESPACE","\n    ",703],["T_PUBLIC","public",704],["T_WHITESPACE"," ",704],["T_FUNCTION","function",704],["T_WHITESPACE"," ",704],["T_STRING","transaction",704],"(",["T_CALLABLE","callable",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$callback",704],",",["T_WHITESPACE"," ",704],["T_VARIABLE","$isolationLevel",704],["T_WHITESPACE"," ",704],"=",["T_WHITESPACE"," ",704],["T_STRING","null",704],")",["T_WHITESPACE","\n    ",704],"{",["T_WHITESPACE","\n        ",705],["T_VARIABLE","$transaction",706],["T_WHITESPACE"," ",706],"=",["T_WHITESPACE"," ",706],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","beginTransaction",706],"(",["T_VARIABLE","$isolationLevel",706],")",";",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$level",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_VARIABLE","$transaction",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","level",707],";",["T_WHITESPACE","\n\n        ",707],["T_TRY","try",709],["T_WHITESPACE"," ",709],"{",["T_WHITESPACE","\n            ",709],["T_VARIABLE","$result",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_STRING","call_user_func",710],"(",["T_VARIABLE","$callback",710],",",["T_WHITESPACE"," ",710],["T_VARIABLE","$this",710],")",";",["T_WHITESPACE","\n            ",710],["T_IF","if",711],["T_WHITESPACE"," ",711],"(",["T_VARIABLE","$transaction",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","isActive",711],["T_WHITESPACE"," ",711],["T_BOOLEAN_AND","&&",711],["T_WHITESPACE"," ",711],["T_VARIABLE","$transaction",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","level",711],["T_WHITESPACE"," ",711],["T_IS_IDENTICAL","===",711],["T_WHITESPACE"," ",711],["T_VARIABLE","$level",711],")",["T_WHITESPACE"," ",711],"{",["T_WHITESPACE","\n                ",711],["T_VARIABLE","$transaction",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","commit",712],"(",")",";",["T_WHITESPACE","\n            ",712],"}",["T_WHITESPACE","\n        ",713],"}",["T_WHITESPACE"," ",714],["T_CATCH","catch",714],["T_WHITESPACE"," ",714],"(",["T_NS_SEPARATOR","\\",714],["T_STRING","Exception",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$e",714],")",["T_WHITESPACE"," ",714],"{",["T_WHITESPACE","\n            ",714],["T_IF","if",715],["T_WHITESPACE"," ",715],"(",["T_VARIABLE","$transaction",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","isActive",715],["T_WHITESPACE"," ",715],["T_BOOLEAN_AND","&&",715],["T_WHITESPACE"," ",715],["T_VARIABLE","$transaction",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","level",715],["T_WHITESPACE"," ",715],["T_IS_IDENTICAL","===",715],["T_WHITESPACE"," ",715],["T_VARIABLE","$level",715],")",["T_WHITESPACE"," ",715],"{",["T_WHITESPACE","\n                ",715],["T_VARIABLE","$transaction",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","rollBack",716],"(",")",";",["T_WHITESPACE","\n            ",716],"}",["T_WHITESPACE","\n            ",717],["T_THROW","throw",718],["T_WHITESPACE"," ",718],["T_VARIABLE","$e",718],";",["T_WHITESPACE","\n        ",718],"}",["T_WHITESPACE"," ",719],["T_CATCH","catch",719],["T_WHITESPACE"," ",719],"(",["T_NS_SEPARATOR","\\",719],["T_STRING","Throwable",719],["T_WHITESPACE"," ",719],["T_VARIABLE","$e",719],")",["T_WHITESPACE"," ",719],"{",["T_WHITESPACE","\n            ",719],["T_IF","if",720],["T_WHITESPACE"," ",720],"(",["T_VARIABLE","$transaction",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","isActive",720],["T_WHITESPACE"," ",720],["T_BOOLEAN_AND","&&",720],["T_WHITESPACE"," ",720],["T_VARIABLE","$transaction",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","level",720],["T_WHITESPACE"," ",720],["T_IS_IDENTICAL","===",720],["T_WHITESPACE"," ",720],["T_VARIABLE","$level",720],")",["T_WHITESPACE"," ",720],"{",["T_WHITESPACE","\n                ",720],["T_VARIABLE","$transaction",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","rollBack",721],"(",")",";",["T_WHITESPACE","\n            ",721],"}",["T_WHITESPACE","\n            ",722],["T_THROW","throw",723],["T_WHITESPACE"," ",723],["T_VARIABLE","$e",723],";",["T_WHITESPACE","\n        ",723],"}",["T_WHITESPACE","\n\n        ",724],["T_RETURN","return",726],["T_WHITESPACE"," ",726],["T_VARIABLE","$result",726],";",["T_WHITESPACE","\n    ",726],"}",["T_WHITESPACE","\n\n    ",727],["T_DOC_COMMENT","\/**\n     * Returns the schema information for the database opened by this connection.\n     * @return Schema the schema information for the database opened by this connection.\n     * @throws NotSupportedException if there is no support for the current driver type\n     *\/",729],["T_WHITESPACE","\n    ",733],["T_PUBLIC","public",734],["T_WHITESPACE"," ",734],["T_FUNCTION","function",734],["T_WHITESPACE"," ",734],["T_STRING","getSchema",734],"(",")",["T_WHITESPACE","\n    ",734],"{",["T_WHITESPACE","\n        ",735],["T_IF","if",736],["T_WHITESPACE"," ",736],"(",["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","_schema",736],["T_WHITESPACE"," ",736],["T_IS_NOT_IDENTICAL","!==",736],["T_WHITESPACE"," ",736],["T_STRING","null",736],")",["T_WHITESPACE"," ",736],"{",["T_WHITESPACE","\n            ",736],["T_RETURN","return",737],["T_WHITESPACE"," ",737],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","_schema",737],";",["T_WHITESPACE","\n        ",737],"}",["T_WHITESPACE"," ",738],["T_ELSE","else",738],["T_WHITESPACE"," ",738],"{",["T_WHITESPACE","\n            ",738],["T_VARIABLE","$driver",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","getDriverName",739],"(",")",";",["T_WHITESPACE","\n            ",739],["T_IF","if",740],["T_WHITESPACE"," ",740],"(",["T_ISSET","isset",740],"(",["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","schemaMap",740],"[",["T_VARIABLE","$driver",740],"]",")",")",["T_WHITESPACE"," ",740],"{",["T_WHITESPACE","\n                ",740],["T_VARIABLE","$config",741],["T_WHITESPACE"," ",741],"=",["T_WHITESPACE"," ",741],"!",["T_STRING","is_array",741],"(",["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","schemaMap",741],"[",["T_VARIABLE","$driver",741],"]",")",["T_WHITESPACE"," ",741],"?",["T_WHITESPACE"," ",741],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",741],["T_WHITESPACE"," ",741],["T_DOUBLE_ARROW","=>",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","schemaMap",741],"[",["T_VARIABLE","$driver",741],"]","]",["T_WHITESPACE"," ",741],":",["T_WHITESPACE"," ",741],["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","schemaMap",741],"[",["T_VARIABLE","$driver",741],"]",";",["T_WHITESPACE","\n                ",741],["T_VARIABLE","$config",742],"[",["T_CONSTANT_ENCAPSED_STRING","'db'",742],"]",["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_VARIABLE","$this",742],";",["T_WHITESPACE","\n\n                ",742],["T_RETURN","return",744],["T_WHITESPACE"," ",744],["T_VARIABLE","$this",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","_schema",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_STRING","Yii",744],["T_DOUBLE_COLON","::",744],["T_STRING","createObject",744],"(",["T_VARIABLE","$config",744],")",";",["T_WHITESPACE","\n            ",744],"}",["T_WHITESPACE"," ",745],["T_ELSE","else",745],["T_WHITESPACE"," ",745],"{",["T_WHITESPACE","\n                ",745],["T_THROW","throw",746],["T_WHITESPACE"," ",746],["T_NEW","new",746],["T_WHITESPACE"," ",746],["T_STRING","NotSupportedException",746],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Connection does not support reading schema information for '",746],["T_VARIABLE","$driver",746],["T_ENCAPSED_AND_WHITESPACE","' DBMS.",746],"\"",")",";",["T_WHITESPACE","\n            ",746],"}",["T_WHITESPACE","\n        ",747],"}",["T_WHITESPACE","\n    ",748],"}",["T_WHITESPACE","\n\n    ",749],["T_DOC_COMMENT","\/**\n     * Returns the query builder for the current DB connection.\n     * @return QueryBuilder the query builder for the current DB connection.\n     *\/",751],["T_WHITESPACE","\n    ",754],["T_PUBLIC","public",755],["T_WHITESPACE"," ",755],["T_FUNCTION","function",755],["T_WHITESPACE"," ",755],["T_STRING","getQueryBuilder",755],"(",")",["T_WHITESPACE","\n    ",755],"{",["T_WHITESPACE","\n        ",756],["T_RETURN","return",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","getSchema",757],"(",")",["T_OBJECT_OPERATOR","->",757],["T_STRING","getQueryBuilder",757],"(",")",";",["T_WHITESPACE","\n    ",757],"}",["T_WHITESPACE","\n\n    ",758],["T_DOC_COMMENT","\/**\n     * Obtains the schema information for the named table.\n     * @param string $name table name.\n     * @param bool $refresh whether to reload the table schema even if it is found in the cache.\n     * @return TableSchema table schema information. Null if the named table does not exist.\n     *\/",760],["T_WHITESPACE","\n    ",765],["T_PUBLIC","public",766],["T_WHITESPACE"," ",766],["T_FUNCTION","function",766],["T_WHITESPACE"," ",766],["T_STRING","getTableSchema",766],"(",["T_VARIABLE","$name",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$refresh",766],["T_WHITESPACE"," ",766],"=",["T_WHITESPACE"," ",766],["T_STRING","false",766],")",["T_WHITESPACE","\n    ",766],"{",["T_WHITESPACE","\n        ",767],["T_RETURN","return",768],["T_WHITESPACE"," ",768],["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","getSchema",768],"(",")",["T_OBJECT_OPERATOR","->",768],["T_STRING","getTableSchema",768],"(",["T_VARIABLE","$name",768],",",["T_WHITESPACE"," ",768],["T_VARIABLE","$refresh",768],")",";",["T_WHITESPACE","\n    ",768],"}",["T_WHITESPACE","\n\n    ",769],["T_DOC_COMMENT","\/**\n     * Returns the ID of the last inserted row or sequence value.\n     * @param string $sequenceName name of the sequence object (required by some DBMS)\n     * @return string the row ID of the last row inserted, or the last value retrieved from the sequence object\n     * @see http:\/\/www.php.net\/manual\/en\/function.PDO-lastInsertId.php\n     *\/",771],["T_WHITESPACE","\n    ",776],["T_PUBLIC","public",777],["T_WHITESPACE"," ",777],["T_FUNCTION","function",777],["T_WHITESPACE"," ",777],["T_STRING","getLastInsertID",777],"(",["T_VARIABLE","$sequenceName",777],["T_WHITESPACE"," ",777],"=",["T_WHITESPACE"," ",777],["T_CONSTANT_ENCAPSED_STRING","''",777],")",["T_WHITESPACE","\n    ",777],"{",["T_WHITESPACE","\n        ",778],["T_RETURN","return",779],["T_WHITESPACE"," ",779],["T_VARIABLE","$this",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","getSchema",779],"(",")",["T_OBJECT_OPERATOR","->",779],["T_STRING","getLastInsertID",779],"(",["T_VARIABLE","$sequenceName",779],")",";",["T_WHITESPACE","\n    ",779],"}",["T_WHITESPACE","\n\n    ",780],["T_DOC_COMMENT","\/**\n     * Quotes a string value for use in a query.\n     * Note that if the parameter is not a string, it will be returned without change.\n     * @param string $value string to be quoted\n     * @return string the properly quoted string\n     * @see http:\/\/www.php.net\/manual\/en\/function.PDO-quote.php\n     *\/",782],["T_WHITESPACE","\n    ",788],["T_PUBLIC","public",789],["T_WHITESPACE"," ",789],["T_FUNCTION","function",789],["T_WHITESPACE"," ",789],["T_STRING","quoteValue",789],"(",["T_VARIABLE","$value",789],")",["T_WHITESPACE","\n    ",789],"{",["T_WHITESPACE","\n        ",790],["T_RETURN","return",791],["T_WHITESPACE"," ",791],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","getSchema",791],"(",")",["T_OBJECT_OPERATOR","->",791],["T_STRING","quoteValue",791],"(",["T_VARIABLE","$value",791],")",";",["T_WHITESPACE","\n    ",791],"}",["T_WHITESPACE","\n\n    ",792],["T_DOC_COMMENT","\/**\n     * Quotes a table name for use in a query.\n     * If the table name contains schema prefix, the prefix will also be properly quoted.\n     * If the table name is already quoted or contains special characters including '(', '[[' and '{{',\n     * then this method will do nothing.\n     * @param string $name table name\n     * @return string the properly quoted table name\n     *\/",794],["T_WHITESPACE","\n    ",801],["T_PUBLIC","public",802],["T_WHITESPACE"," ",802],["T_FUNCTION","function",802],["T_WHITESPACE"," ",802],["T_STRING","quoteTableName",802],"(",["T_VARIABLE","$name",802],")",["T_WHITESPACE","\n    ",802],"{",["T_WHITESPACE","\n        ",803],["T_RETURN","return",804],["T_WHITESPACE"," ",804],["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","getSchema",804],"(",")",["T_OBJECT_OPERATOR","->",804],["T_STRING","quoteTableName",804],"(",["T_VARIABLE","$name",804],")",";",["T_WHITESPACE","\n    ",804],"}",["T_WHITESPACE","\n\n    ",805],["T_DOC_COMMENT","\/**\n     * Quotes a column name for use in a query.\n     * If the column name contains prefix, the prefix will also be properly quoted.\n     * If the column name is already quoted or contains special characters including '(', '[[' and '{{',\n     * then this method will do nothing.\n     * @param string $name column name\n     * @return string the properly quoted column name\n     *\/",807],["T_WHITESPACE","\n    ",814],["T_PUBLIC","public",815],["T_WHITESPACE"," ",815],["T_FUNCTION","function",815],["T_WHITESPACE"," ",815],["T_STRING","quoteColumnName",815],"(",["T_VARIABLE","$name",815],")",["T_WHITESPACE","\n    ",815],"{",["T_WHITESPACE","\n        ",816],["T_RETURN","return",817],["T_WHITESPACE"," ",817],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","getSchema",817],"(",")",["T_OBJECT_OPERATOR","->",817],["T_STRING","quoteColumnName",817],"(",["T_VARIABLE","$name",817],")",";",["T_WHITESPACE","\n    ",817],"}",["T_WHITESPACE","\n\n    ",818],["T_DOC_COMMENT","\/**\n     * Processes a SQL statement by quoting table and column names that are enclosed within double brackets.\n     * Tokens enclosed within double curly brackets are treated as table names, while\n     * tokens enclosed within double square brackets are column names. They will be quoted accordingly.\n     * Also, the percentage character \"%\" at the beginning or ending of a table name will be replaced\n     * with [[tablePrefix]].\n     * @param string $sql the SQL to be quoted\n     * @return string the quoted SQL\n     *\/",820],["T_WHITESPACE","\n    ",828],["T_PUBLIC","public",829],["T_WHITESPACE"," ",829],["T_FUNCTION","function",829],["T_WHITESPACE"," ",829],["T_STRING","quoteSql",829],"(",["T_VARIABLE","$sql",829],")",["T_WHITESPACE","\n    ",829],"{",["T_WHITESPACE","\n        ",830],["T_RETURN","return",831],["T_WHITESPACE"," ",831],["T_STRING","preg_replace_callback",831],"(",["T_WHITESPACE","\n            ",831],["T_CONSTANT_ENCAPSED_STRING","'\/(\\\\{\\\\{(%?[\\w\\-\\. ]+%?)\\\\}\\\\}|\\\\[\\\\[([\\w\\-\\. ]+)\\\\]\\\\])\/'",832],",",["T_WHITESPACE","\n            ",832],["T_FUNCTION","function",833],["T_WHITESPACE"," ",833],"(",["T_VARIABLE","$matches",833],")",["T_WHITESPACE"," ",833],"{",["T_WHITESPACE","\n                ",833],["T_IF","if",834],["T_WHITESPACE"," ",834],"(",["T_ISSET","isset",834],"(",["T_VARIABLE","$matches",834],"[",["T_LNUMBER","3",834],"]",")",")",["T_WHITESPACE"," ",834],"{",["T_WHITESPACE","\n                    ",834],["T_RETURN","return",835],["T_WHITESPACE"," ",835],["T_VARIABLE","$this",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","quoteColumnName",835],"(",["T_VARIABLE","$matches",835],"[",["T_LNUMBER","3",835],"]",")",";",["T_WHITESPACE","\n                ",835],"}",["T_WHITESPACE"," ",836],["T_ELSE","else",836],["T_WHITESPACE"," ",836],"{",["T_WHITESPACE","\n                    ",836],["T_RETURN","return",837],["T_WHITESPACE"," ",837],["T_STRING","str_replace",837],"(",["T_CONSTANT_ENCAPSED_STRING","'%'",837],",",["T_WHITESPACE"," ",837],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","tablePrefix",837],",",["T_WHITESPACE"," ",837],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","quoteTableName",837],"(",["T_VARIABLE","$matches",837],"[",["T_LNUMBER","2",837],"]",")",")",";",["T_WHITESPACE","\n                ",837],"}",["T_WHITESPACE","\n            ",838],"}",",",["T_WHITESPACE","\n            ",839],["T_VARIABLE","$sql",840],["T_WHITESPACE","\n        ",840],")",";",["T_WHITESPACE","\n    ",841],"}",["T_WHITESPACE","\n\n    ",842],["T_DOC_COMMENT","\/**\n     * Returns the name of the DB driver. Based on the the current [[dsn]], in case it was not set explicitly\n     * by an end user.\n     * @return string name of the DB driver\n     *\/",844],["T_WHITESPACE","\n    ",848],["T_PUBLIC","public",849],["T_WHITESPACE"," ",849],["T_FUNCTION","function",849],["T_WHITESPACE"," ",849],["T_STRING","getDriverName",849],"(",")",["T_WHITESPACE","\n    ",849],"{",["T_WHITESPACE","\n        ",850],["T_IF","if",851],["T_WHITESPACE"," ",851],"(",["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","_driverName",851],["T_WHITESPACE"," ",851],["T_IS_IDENTICAL","===",851],["T_WHITESPACE"," ",851],["T_STRING","null",851],")",["T_WHITESPACE"," ",851],"{",["T_WHITESPACE","\n            ",851],["T_IF","if",852],["T_WHITESPACE"," ",852],"(","(",["T_VARIABLE","$pos",852],["T_WHITESPACE"," ",852],"=",["T_WHITESPACE"," ",852],["T_STRING","strpos",852],"(",["T_VARIABLE","$this",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","dsn",852],",",["T_WHITESPACE"," ",852],["T_CONSTANT_ENCAPSED_STRING","':'",852],")",")",["T_WHITESPACE"," ",852],["T_IS_NOT_IDENTICAL","!==",852],["T_WHITESPACE"," ",852],["T_STRING","false",852],")",["T_WHITESPACE"," ",852],"{",["T_WHITESPACE","\n                ",852],["T_VARIABLE","$this",853],["T_OBJECT_OPERATOR","->",853],["T_STRING","_driverName",853],["T_WHITESPACE"," ",853],"=",["T_WHITESPACE"," ",853],["T_STRING","strtolower",853],"(",["T_STRING","substr",853],"(",["T_VARIABLE","$this",853],["T_OBJECT_OPERATOR","->",853],["T_STRING","dsn",853],",",["T_WHITESPACE"," ",853],["T_LNUMBER","0",853],",",["T_WHITESPACE"," ",853],["T_VARIABLE","$pos",853],")",")",";",["T_WHITESPACE","\n            ",853],"}",["T_WHITESPACE"," ",854],["T_ELSE","else",854],["T_WHITESPACE"," ",854],"{",["T_WHITESPACE","\n                ",854],["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","_driverName",855],["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],["T_STRING","strtolower",855],"(",["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","getSlavePdo",855],"(",")",["T_OBJECT_OPERATOR","->",855],["T_STRING","getAttribute",855],"(",["T_STRING","PDO",855],["T_DOUBLE_COLON","::",855],["T_STRING","ATTR_DRIVER_NAME",855],")",")",";",["T_WHITESPACE","\n            ",855],"}",["T_WHITESPACE","\n        ",856],"}",["T_WHITESPACE","\n        ",857],["T_RETURN","return",858],["T_WHITESPACE"," ",858],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","_driverName",858],";",["T_WHITESPACE","\n    ",858],"}",["T_WHITESPACE","\n\n    ",859],["T_DOC_COMMENT","\/**\n     * Changes the current driver name.\n     * @param string $driverName name of the DB driver\n     *\/",861],["T_WHITESPACE","\n    ",864],["T_PUBLIC","public",865],["T_WHITESPACE"," ",865],["T_FUNCTION","function",865],["T_WHITESPACE"," ",865],["T_STRING","setDriverName",865],"(",["T_VARIABLE","$driverName",865],")",["T_WHITESPACE","\n    ",865],"{",["T_WHITESPACE","\n        ",866],["T_VARIABLE","$this",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","_driverName",867],["T_WHITESPACE"," ",867],"=",["T_WHITESPACE"," ",867],["T_STRING","strtolower",867],"(",["T_VARIABLE","$driverName",867],")",";",["T_WHITESPACE","\n    ",867],"}",["T_WHITESPACE","\n\n    ",868],["T_DOC_COMMENT","\/**\n     * Returns the PDO instance for the currently active slave connection.\n     * When [[enableSlaves]] is true, one of the slaves will be used for read queries, and its PDO instance\n     * will be returned by this method.\n     * @param bool $fallbackToMaster whether to return a master PDO in case none of the slave connections is available.\n     * @return PDO the PDO instance for the currently active slave connection. `null` is returned if no slave connection\n     * is available and `$fallbackToMaster` is false.\n     *\/",870],["T_WHITESPACE","\n    ",877],["T_PUBLIC","public",878],["T_WHITESPACE"," ",878],["T_FUNCTION","function",878],["T_WHITESPACE"," ",878],["T_STRING","getSlavePdo",878],"(",["T_VARIABLE","$fallbackToMaster",878],["T_WHITESPACE"," ",878],"=",["T_WHITESPACE"," ",878],["T_STRING","true",878],")",["T_WHITESPACE","\n    ",878],"{",["T_WHITESPACE","\n        ",879],["T_VARIABLE","$db",880],["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","getSlave",880],"(",["T_STRING","false",880],")",";",["T_WHITESPACE","\n        ",880],["T_IF","if",881],["T_WHITESPACE"," ",881],"(",["T_VARIABLE","$db",881],["T_WHITESPACE"," ",881],["T_IS_IDENTICAL","===",881],["T_WHITESPACE"," ",881],["T_STRING","null",881],")",["T_WHITESPACE"," ",881],"{",["T_WHITESPACE","\n            ",881],["T_RETURN","return",882],["T_WHITESPACE"," ",882],["T_VARIABLE","$fallbackToMaster",882],["T_WHITESPACE"," ",882],"?",["T_WHITESPACE"," ",882],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","getMasterPdo",882],"(",")",["T_WHITESPACE"," ",882],":",["T_WHITESPACE"," ",882],["T_STRING","null",882],";",["T_WHITESPACE","\n        ",882],"}",["T_WHITESPACE"," ",883],["T_ELSE","else",883],["T_WHITESPACE"," ",883],"{",["T_WHITESPACE","\n            ",883],["T_RETURN","return",884],["T_WHITESPACE"," ",884],["T_VARIABLE","$db",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","pdo",884],";",["T_WHITESPACE","\n        ",884],"}",["T_WHITESPACE","\n    ",885],"}",["T_WHITESPACE","\n\n    ",886],["T_DOC_COMMENT","\/**\n     * Returns the PDO instance for the currently active master connection.\n     * This method will open the master DB connection and then return [[pdo]].\n     * @return PDO the PDO instance for the currently active master connection.\n     *\/",888],["T_WHITESPACE","\n    ",892],["T_PUBLIC","public",893],["T_WHITESPACE"," ",893],["T_FUNCTION","function",893],["T_WHITESPACE"," ",893],["T_STRING","getMasterPdo",893],"(",")",["T_WHITESPACE","\n    ",893],"{",["T_WHITESPACE","\n        ",894],["T_VARIABLE","$this",895],["T_OBJECT_OPERATOR","->",895],["T_STRING","open",895],"(",")",";",["T_WHITESPACE","\n        ",895],["T_RETURN","return",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","pdo",896],";",["T_WHITESPACE","\n    ",896],"}",["T_WHITESPACE","\n\n    ",897],["T_DOC_COMMENT","\/**\n     * Returns the currently active slave connection.\n     * If this method is called for the first time, it will try to open a slave connection when [[enableSlaves]] is true.\n     * @param bool $fallbackToMaster whether to return a master connection in case there is no slave connection available.\n     * @return Connection the currently active slave connection. `null` is returned if there is no slave available and\n     * `$fallbackToMaster` is false.\n     *\/",899],["T_WHITESPACE","\n    ",905],["T_PUBLIC","public",906],["T_WHITESPACE"," ",906],["T_FUNCTION","function",906],["T_WHITESPACE"," ",906],["T_STRING","getSlave",906],"(",["T_VARIABLE","$fallbackToMaster",906],["T_WHITESPACE"," ",906],"=",["T_WHITESPACE"," ",906],["T_STRING","true",906],")",["T_WHITESPACE","\n    ",906],"{",["T_WHITESPACE","\n        ",907],["T_IF","if",908],["T_WHITESPACE"," ",908],"(","!",["T_VARIABLE","$this",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","enableSlaves",908],")",["T_WHITESPACE"," ",908],"{",["T_WHITESPACE","\n            ",908],["T_RETURN","return",909],["T_WHITESPACE"," ",909],["T_VARIABLE","$fallbackToMaster",909],["T_WHITESPACE"," ",909],"?",["T_WHITESPACE"," ",909],["T_VARIABLE","$this",909],["T_WHITESPACE"," ",909],":",["T_WHITESPACE"," ",909],["T_STRING","null",909],";",["T_WHITESPACE","\n        ",909],"}",["T_WHITESPACE","\n\n        ",910],["T_IF","if",912],["T_WHITESPACE"," ",912],"(",["T_VARIABLE","$this",912],["T_OBJECT_OPERATOR","->",912],["T_STRING","_slave",912],["T_WHITESPACE"," ",912],["T_IS_IDENTICAL","===",912],["T_WHITESPACE"," ",912],["T_STRING","false",912],")",["T_WHITESPACE"," ",912],"{",["T_WHITESPACE","\n            ",912],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","_slave",913],["T_WHITESPACE"," ",913],"=",["T_WHITESPACE"," ",913],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","openFromPool",913],"(",["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","slaves",913],",",["T_WHITESPACE"," ",913],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","slaveConfig",913],")",";",["T_WHITESPACE","\n        ",913],"}",["T_WHITESPACE","\n\n        ",914],["T_RETURN","return",916],["T_WHITESPACE"," ",916],["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","_slave",916],["T_WHITESPACE"," ",916],["T_IS_IDENTICAL","===",916],["T_WHITESPACE"," ",916],["T_STRING","null",916],["T_WHITESPACE"," ",916],["T_BOOLEAN_AND","&&",916],["T_WHITESPACE"," ",916],["T_VARIABLE","$fallbackToMaster",916],["T_WHITESPACE"," ",916],"?",["T_WHITESPACE"," ",916],["T_VARIABLE","$this",916],["T_WHITESPACE"," ",916],":",["T_WHITESPACE"," ",916],["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","_slave",916],";",["T_WHITESPACE","\n    ",916],"}",["T_WHITESPACE","\n\n    ",917],["T_DOC_COMMENT","\/**\n     * Returns the currently active master connection.\n     * If this method is called for the first time, it will try to open a master connection.\n     * @return Connection the currently active master connection. `null` is returned if there is no master available.\n     * @since 2.0.11\n     *\/",919],["T_WHITESPACE","\n    ",924],["T_PUBLIC","public",925],["T_WHITESPACE"," ",925],["T_FUNCTION","function",925],["T_WHITESPACE"," ",925],["T_STRING","getMaster",925],"(",")",["T_WHITESPACE","\n    ",925],"{",["T_WHITESPACE","\n        ",926],["T_IF","if",927],["T_WHITESPACE"," ",927],"(",["T_VARIABLE","$this",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","_master",927],["T_WHITESPACE"," ",927],["T_IS_IDENTICAL","===",927],["T_WHITESPACE"," ",927],["T_STRING","false",927],")",["T_WHITESPACE"," ",927],"{",["T_WHITESPACE","\n            ",927],["T_VARIABLE","$this",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","_master",928],["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],"(",["T_VARIABLE","$this",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","shuffleMasters",928],")",["T_WHITESPACE","\n                ",928],"?",["T_WHITESPACE"," ",929],["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","openFromPool",929],"(",["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","masters",929],",",["T_WHITESPACE"," ",929],["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","masterConfig",929],")",["T_WHITESPACE","\n                ",929],":",["T_WHITESPACE"," ",930],["T_VARIABLE","$this",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","openFromPoolSequentially",930],"(",["T_VARIABLE","$this",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","masters",930],",",["T_WHITESPACE"," ",930],["T_VARIABLE","$this",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","masterConfig",930],")",";",["T_WHITESPACE","\n        ",930],"}",["T_WHITESPACE","\n\n        ",931],["T_RETURN","return",933],["T_WHITESPACE"," ",933],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","_master",933],";",["T_WHITESPACE","\n    ",933],"}",["T_WHITESPACE","\n\n    ",934],["T_DOC_COMMENT","\/**\n     * Executes the provided callback by using the master connection.\n     *\n     * This method is provided so that you can temporarily force using the master connection to perform\n     * DB operations even if they are read queries. For example,\n     *\n     * ```php\n     * $result = $db->useMaster(function ($db) {\n     *     return $db->createCommand('SELECT * FROM user LIMIT 1')->queryOne();\n     * });\n     * ```\n     *\n     * @param callable $callback a PHP callable to be executed by this method. Its signature is\n     * `function (Connection $db)`. Its return value will be returned by this method.\n     * @return mixed the return value of the callback\n     *\/",936],["T_WHITESPACE","\n    ",951],["T_PUBLIC","public",952],["T_WHITESPACE"," ",952],["T_FUNCTION","function",952],["T_WHITESPACE"," ",952],["T_STRING","useMaster",952],"(",["T_CALLABLE","callable",952],["T_WHITESPACE"," ",952],["T_VARIABLE","$callback",952],")",["T_WHITESPACE","\n    ",952],"{",["T_WHITESPACE","\n        ",953],["T_VARIABLE","$enableSlave",954],["T_WHITESPACE"," ",954],"=",["T_WHITESPACE"," ",954],["T_VARIABLE","$this",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","enableSlaves",954],";",["T_WHITESPACE","\n        ",954],["T_VARIABLE","$this",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","enableSlaves",955],["T_WHITESPACE"," ",955],"=",["T_WHITESPACE"," ",955],["T_STRING","false",955],";",["T_WHITESPACE","\n        ",955],["T_VARIABLE","$result",956],["T_WHITESPACE"," ",956],"=",["T_WHITESPACE"," ",956],["T_STRING","call_user_func",956],"(",["T_VARIABLE","$callback",956],",",["T_WHITESPACE"," ",956],["T_VARIABLE","$this",956],")",";",["T_WHITESPACE","\n        ",956],["T_VARIABLE","$this",957],["T_OBJECT_OPERATOR","->",957],["T_STRING","enableSlaves",957],["T_WHITESPACE"," ",957],"=",["T_WHITESPACE"," ",957],["T_VARIABLE","$enableSlave",957],";",["T_WHITESPACE","\n        ",957],["T_RETURN","return",958],["T_WHITESPACE"," ",958],["T_VARIABLE","$result",958],";",["T_WHITESPACE","\n    ",958],"}",["T_WHITESPACE","\n\n    ",959],["T_DOC_COMMENT","\/**\n     * Opens the connection to a server in the pool.\n     * This method implements the load balancing among the given list of the servers.\n     * Connections will be tried in random order.\n     * @param array $pool the list of connection configurations in the server pool\n     * @param array $sharedConfig the configuration common to those given in `$pool`.\n     * @return Connection the opened DB connection, or `null` if no server is available\n     * @throws InvalidConfigException if a configuration does not specify \"dsn\"\n     *\/",961],["T_WHITESPACE","\n    ",969],["T_PROTECTED","protected",970],["T_WHITESPACE"," ",970],["T_FUNCTION","function",970],["T_WHITESPACE"," ",970],["T_STRING","openFromPool",970],"(",["T_ARRAY","array",970],["T_WHITESPACE"," ",970],["T_VARIABLE","$pool",970],",",["T_WHITESPACE"," ",970],["T_ARRAY","array",970],["T_WHITESPACE"," ",970],["T_VARIABLE","$sharedConfig",970],")",["T_WHITESPACE","\n    ",970],"{",["T_WHITESPACE","\n        ",971],["T_STRING","shuffle",972],"(",["T_VARIABLE","$pool",972],")",";",["T_WHITESPACE","\n        ",972],["T_RETURN","return",973],["T_WHITESPACE"," ",973],["T_VARIABLE","$this",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","openFromPoolSequentially",973],"(",["T_VARIABLE","$pool",973],",",["T_WHITESPACE"," ",973],["T_VARIABLE","$sharedConfig",973],")",";",["T_WHITESPACE","\n    ",973],"}",["T_WHITESPACE","\n\n    ",974],["T_DOC_COMMENT","\/**\n     * Opens the connection to a server in the pool.\n     * This method implements the load balancing among the given list of the servers.\n     * Connections will be tried in sequential order.\n     * @param array $pool the list of connection configurations in the server pool\n     * @param array $sharedConfig the configuration common to those given in `$pool`.\n     * @return Connection the opened DB connection, or `null` if no server is available\n     * @throws InvalidConfigException if a configuration does not specify \"dsn\"\n     * @since 2.0.11\n     *\/",976],["T_WHITESPACE","\n    ",985],["T_PROTECTED","protected",986],["T_WHITESPACE"," ",986],["T_FUNCTION","function",986],["T_WHITESPACE"," ",986],["T_STRING","openFromPoolSequentially",986],"(",["T_ARRAY","array",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$pool",986],",",["T_WHITESPACE"," ",986],["T_ARRAY","array",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$sharedConfig",986],")",["T_WHITESPACE","\n    ",986],"{",["T_WHITESPACE","\n        ",987],["T_IF","if",988],["T_WHITESPACE"," ",988],"(",["T_EMPTY","empty",988],"(",["T_VARIABLE","$pool",988],")",")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n            ",988],["T_RETURN","return",989],["T_WHITESPACE"," ",989],["T_STRING","null",989],";",["T_WHITESPACE","\n        ",989],"}",["T_WHITESPACE","\n\n        ",990],["T_IF","if",992],["T_WHITESPACE"," ",992],"(","!",["T_ISSET","isset",992],"(",["T_VARIABLE","$sharedConfig",992],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",992],"]",")",")",["T_WHITESPACE"," ",992],"{",["T_WHITESPACE","\n            ",992],["T_VARIABLE","$sharedConfig",993],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",993],"]",["T_WHITESPACE"," ",993],"=",["T_WHITESPACE"," ",993],["T_STRING","get_class",993],"(",["T_VARIABLE","$this",993],")",";",["T_WHITESPACE","\n        ",993],"}",["T_WHITESPACE","\n\n        ",994],["T_VARIABLE","$cache",996],["T_WHITESPACE"," ",996],"=",["T_WHITESPACE"," ",996],["T_STRING","is_string",996],"(",["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","serverStatusCache",996],")",["T_WHITESPACE"," ",996],"?",["T_WHITESPACE"," ",996],["T_STRING","Yii",996],["T_DOUBLE_COLON","::",996],["T_VARIABLE","$app",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","get",996],"(",["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","serverStatusCache",996],",",["T_WHITESPACE"," ",996],["T_STRING","false",996],")",["T_WHITESPACE"," ",996],":",["T_WHITESPACE"," ",996],["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","serverStatusCache",996],";",["T_WHITESPACE","\n\n        ",996],["T_FOREACH","foreach",998],["T_WHITESPACE"," ",998],"(",["T_VARIABLE","$pool",998],["T_WHITESPACE"," ",998],["T_AS","as",998],["T_WHITESPACE"," ",998],["T_VARIABLE","$config",998],")",["T_WHITESPACE"," ",998],"{",["T_WHITESPACE","\n            ",998],["T_VARIABLE","$config",999],["T_WHITESPACE"," ",999],"=",["T_WHITESPACE"," ",999],["T_STRING","array_merge",999],"(",["T_VARIABLE","$sharedConfig",999],",",["T_WHITESPACE"," ",999],["T_VARIABLE","$config",999],")",";",["T_WHITESPACE","\n            ",999],["T_IF","if",1000],["T_WHITESPACE"," ",1000],"(",["T_EMPTY","empty",1000],"(",["T_VARIABLE","$config",1000],"[",["T_CONSTANT_ENCAPSED_STRING","'dsn'",1000],"]",")",")",["T_WHITESPACE"," ",1000],"{",["T_WHITESPACE","\n                ",1000],["T_THROW","throw",1001],["T_WHITESPACE"," ",1001],["T_NEW","new",1001],["T_WHITESPACE"," ",1001],["T_STRING","InvalidConfigException",1001],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"dsn\" option must be specified.'",1001],")",";",["T_WHITESPACE","\n            ",1001],"}",["T_WHITESPACE","\n\n            ",1002],["T_VARIABLE","$key",1004],["T_WHITESPACE"," ",1004],"=",["T_WHITESPACE"," ",1004],"[",["T_METHOD_C","__METHOD__",1004],",",["T_WHITESPACE"," ",1004],["T_VARIABLE","$config",1004],"[",["T_CONSTANT_ENCAPSED_STRING","'dsn'",1004],"]","]",";",["T_WHITESPACE","\n            ",1004],["T_IF","if",1005],["T_WHITESPACE"," ",1005],"(",["T_VARIABLE","$cache",1005],["T_WHITESPACE"," ",1005],["T_INSTANCEOF","instanceof",1005],["T_WHITESPACE"," ",1005],["T_STRING","Cache",1005],["T_WHITESPACE"," ",1005],["T_BOOLEAN_AND","&&",1005],["T_WHITESPACE"," ",1005],["T_VARIABLE","$cache",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","get",1005],"(",["T_VARIABLE","$key",1005],")",")",["T_WHITESPACE"," ",1005],"{",["T_WHITESPACE","\n                ",1005],["T_COMMENT","\/\/ should not try this dead server now\n",1006],["T_WHITESPACE","                ",1007],["T_CONTINUE","continue",1007],";",["T_WHITESPACE","\n            ",1007],"}",["T_WHITESPACE","\n\n            ",1008],["T_COMMENT","\/* @var $db Connection *\/",1010],["T_WHITESPACE","\n            ",1010],["T_VARIABLE","$db",1011],["T_WHITESPACE"," ",1011],"=",["T_WHITESPACE"," ",1011],["T_STRING","Yii",1011],["T_DOUBLE_COLON","::",1011],["T_STRING","createObject",1011],"(",["T_VARIABLE","$config",1011],")",";",["T_WHITESPACE","\n\n            ",1011],["T_TRY","try",1013],["T_WHITESPACE"," ",1013],"{",["T_WHITESPACE","\n                ",1013],["T_VARIABLE","$db",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","open",1014],"(",")",";",["T_WHITESPACE","\n                ",1014],["T_RETURN","return",1015],["T_WHITESPACE"," ",1015],["T_VARIABLE","$db",1015],";",["T_WHITESPACE","\n            ",1015],"}",["T_WHITESPACE"," ",1016],["T_CATCH","catch",1016],["T_WHITESPACE"," ",1016],"(",["T_NS_SEPARATOR","\\",1016],["T_STRING","Exception",1016],["T_WHITESPACE"," ",1016],["T_VARIABLE","$e",1016],")",["T_WHITESPACE"," ",1016],"{",["T_WHITESPACE","\n                ",1016],["T_STRING","Yii",1017],["T_DOUBLE_COLON","::",1017],["T_STRING","warning",1017],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Connection (",1017],["T_CURLY_OPEN","{",1017],["T_VARIABLE","$config",1017],"[",["T_CONSTANT_ENCAPSED_STRING","'dsn'",1017],"]","}",["T_ENCAPSED_AND_WHITESPACE",") failed: ",1017],"\"",["T_WHITESPACE"," ",1017],".",["T_WHITESPACE"," ",1017],["T_VARIABLE","$e",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","getMessage",1017],"(",")",",",["T_WHITESPACE"," ",1017],["T_METHOD_C","__METHOD__",1017],")",";",["T_WHITESPACE","\n                ",1017],["T_IF","if",1018],["T_WHITESPACE"," ",1018],"(",["T_VARIABLE","$cache",1018],["T_WHITESPACE"," ",1018],["T_INSTANCEOF","instanceof",1018],["T_WHITESPACE"," ",1018],["T_STRING","Cache",1018],")",["T_WHITESPACE"," ",1018],"{",["T_WHITESPACE","\n                    ",1018],["T_COMMENT","\/\/ mark this server as dead and only retry it after the specified interval\n",1019],["T_WHITESPACE","                    ",1020],["T_VARIABLE","$cache",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","set",1020],"(",["T_VARIABLE","$key",1020],",",["T_WHITESPACE"," ",1020],["T_LNUMBER","1",1020],",",["T_WHITESPACE"," ",1020],["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","serverRetryInterval",1020],")",";",["T_WHITESPACE","\n                ",1020],"}",["T_WHITESPACE","\n            ",1021],"}",["T_WHITESPACE","\n        ",1022],"}",["T_WHITESPACE","\n\n        ",1023],["T_RETURN","return",1025],["T_WHITESPACE"," ",1025],["T_STRING","null",1025],";",["T_WHITESPACE","\n    ",1025],"}",["T_WHITESPACE","\n\n    ",1026],["T_DOC_COMMENT","\/**\n     * Close the connection before serializing.\n     * @return array\n     *\/",1028],["T_WHITESPACE","\n    ",1031],["T_PUBLIC","public",1032],["T_WHITESPACE"," ",1032],["T_FUNCTION","function",1032],["T_WHITESPACE"," ",1032],["T_STRING","__sleep",1032],"(",")",["T_WHITESPACE","\n    ",1032],"{",["T_WHITESPACE","\n        ",1033],["T_VARIABLE","$this",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","close",1034],"(",")",";",["T_WHITESPACE","\n        ",1034],["T_RETURN","return",1035],["T_WHITESPACE"," ",1035],["T_STRING","array_keys",1035],"(",["T_ARRAY_CAST","(array)",1035],["T_WHITESPACE"," ",1035],["T_VARIABLE","$this",1035],")",";",["T_WHITESPACE","\n    ",1035],"}",["T_WHITESPACE","\n",1036],"}",["T_WHITESPACE","\n",1037]]