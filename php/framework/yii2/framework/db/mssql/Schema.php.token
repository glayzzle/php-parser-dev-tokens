[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","db",8],["T_NS_SEPARATOR","\\",8],["T_STRING","mssql",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","yii",10],["T_NS_SEPARATOR","\\",10],["T_STRING","db",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ColumnSchema",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Schema is the class for retrieving metadata from a MS SQL Server databases (version 2008 and above).\n *\n * @author Timur Ruziev <resurtm@gmail.com>\n * @since 2.0\n *\/",12],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Schema",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","yii",18],["T_NS_SEPARATOR","\\",18],["T_STRING","db",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Schema",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var string the default schema used for the current session.\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$defaultSchema",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'dbo'",23],";",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * @var array mapping from physical column types (keys) to abstract column types (values)\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$typeMap",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[",["T_WHITESPACE","\n        ",27],["T_COMMENT","\/\/ exact numbers\n",28],["T_WHITESPACE","        ",29],["T_CONSTANT_ENCAPSED_STRING","'bigint'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_STRING","self",29],["T_DOUBLE_COLON","::",29],["T_STRING","TYPE_BIGINT",29],",",["T_WHITESPACE","\n        ",29],["T_CONSTANT_ENCAPSED_STRING","'numeric'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_STRING","self",30],["T_DOUBLE_COLON","::",30],["T_STRING","TYPE_DECIMAL",30],",",["T_WHITESPACE","\n        ",30],["T_CONSTANT_ENCAPSED_STRING","'bit'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_STRING","self",31],["T_DOUBLE_COLON","::",31],["T_STRING","TYPE_SMALLINT",31],",",["T_WHITESPACE","\n        ",31],["T_CONSTANT_ENCAPSED_STRING","'smallint'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_STRING","self",32],["T_DOUBLE_COLON","::",32],["T_STRING","TYPE_SMALLINT",32],",",["T_WHITESPACE","\n        ",32],["T_CONSTANT_ENCAPSED_STRING","'decimal'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_STRING","self",33],["T_DOUBLE_COLON","::",33],["T_STRING","TYPE_DECIMAL",33],",",["T_WHITESPACE","\n        ",33],["T_CONSTANT_ENCAPSED_STRING","'smallmoney'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_STRING","self",34],["T_DOUBLE_COLON","::",34],["T_STRING","TYPE_MONEY",34],",",["T_WHITESPACE","\n        ",34],["T_CONSTANT_ENCAPSED_STRING","'int'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_STRING","self",35],["T_DOUBLE_COLON","::",35],["T_STRING","TYPE_INTEGER",35],",",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'tinyint'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_STRING","self",36],["T_DOUBLE_COLON","::",36],["T_STRING","TYPE_SMALLINT",36],",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'money'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_STRING","self",37],["T_DOUBLE_COLON","::",37],["T_STRING","TYPE_MONEY",37],",",["T_WHITESPACE","\n        ",37],["T_COMMENT","\/\/ approximate numbers\n",38],["T_WHITESPACE","        ",39],["T_CONSTANT_ENCAPSED_STRING","'float'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_STRING","self",39],["T_DOUBLE_COLON","::",39],["T_STRING","TYPE_FLOAT",39],",",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'double'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_STRING","self",40],["T_DOUBLE_COLON","::",40],["T_STRING","TYPE_DOUBLE",40],",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'real'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_STRING","self",41],["T_DOUBLE_COLON","::",41],["T_STRING","TYPE_FLOAT",41],",",["T_WHITESPACE","\n        ",41],["T_COMMENT","\/\/ date and time\n",42],["T_WHITESPACE","        ",43],["T_CONSTANT_ENCAPSED_STRING","'date'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_STRING","self",43],["T_DOUBLE_COLON","::",43],["T_STRING","TYPE_DATE",43],",",["T_WHITESPACE","\n        ",43],["T_CONSTANT_ENCAPSED_STRING","'datetimeoffset'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","self",44],["T_DOUBLE_COLON","::",44],["T_STRING","TYPE_DATETIME",44],",",["T_WHITESPACE","\n        ",44],["T_CONSTANT_ENCAPSED_STRING","'datetime2'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","self",45],["T_DOUBLE_COLON","::",45],["T_STRING","TYPE_DATETIME",45],",",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'smalldatetime'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","self",46],["T_DOUBLE_COLON","::",46],["T_STRING","TYPE_DATETIME",46],",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'datetime'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","self",47],["T_DOUBLE_COLON","::",47],["T_STRING","TYPE_DATETIME",47],",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'time'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","self",48],["T_DOUBLE_COLON","::",48],["T_STRING","TYPE_TIME",48],",",["T_WHITESPACE","\n        ",48],["T_COMMENT","\/\/ character strings\n",49],["T_WHITESPACE","        ",50],["T_CONSTANT_ENCAPSED_STRING","'char'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","self",50],["T_DOUBLE_COLON","::",50],["T_STRING","TYPE_CHAR",50],",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'varchar'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_STRING","self",51],["T_DOUBLE_COLON","::",51],["T_STRING","TYPE_STRING",51],",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'text'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","self",52],["T_DOUBLE_COLON","::",52],["T_STRING","TYPE_TEXT",52],",",["T_WHITESPACE","\n        ",52],["T_COMMENT","\/\/ unicode character strings\n",53],["T_WHITESPACE","        ",54],["T_CONSTANT_ENCAPSED_STRING","'nchar'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_STRING","self",54],["T_DOUBLE_COLON","::",54],["T_STRING","TYPE_CHAR",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'nvarchar'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","TYPE_STRING",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'ntext'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","self",56],["T_DOUBLE_COLON","::",56],["T_STRING","TYPE_TEXT",56],",",["T_WHITESPACE","\n        ",56],["T_COMMENT","\/\/ binary strings\n",57],["T_WHITESPACE","        ",58],["T_CONSTANT_ENCAPSED_STRING","'binary'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","self",58],["T_DOUBLE_COLON","::",58],["T_STRING","TYPE_BINARY",58],",",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'varbinary'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_STRING","self",59],["T_DOUBLE_COLON","::",59],["T_STRING","TYPE_BINARY",59],",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'image'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","self",60],["T_DOUBLE_COLON","::",60],["T_STRING","TYPE_BINARY",60],",",["T_WHITESPACE","\n        ",60],["T_COMMENT","\/\/ other data types\n",61],["T_WHITESPACE","        ",62],["T_COMMENT","\/\/ 'cursor' type cannot be used with tables\n",62],["T_WHITESPACE","        ",63],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_STRING","self",63],["T_DOUBLE_COLON","::",63],["T_STRING","TYPE_TIMESTAMP",63],",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'hierarchyid'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_STRING","self",64],["T_DOUBLE_COLON","::",64],["T_STRING","TYPE_STRING",64],",",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'uniqueidentifier'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","self",65],["T_DOUBLE_COLON","::",65],["T_STRING","TYPE_STRING",65],",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'sql_variant'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_STRING","self",66],["T_DOUBLE_COLON","::",66],["T_STRING","TYPE_STRING",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'xml'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_STRING","self",67],["T_DOUBLE_COLON","::",67],["T_STRING","TYPE_STRING",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'table'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","self",68],["T_DOUBLE_COLON","::",68],["T_STRING","TYPE_STRING",68],",",["T_WHITESPACE","\n    ",68],"]",";",["T_WHITESPACE","\n\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","createSavepoint",75],"(",["T_VARIABLE","$name",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","db",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","createCommand",77],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SAVE TRANSACTION ",77],["T_VARIABLE","$name",77],"\"",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","execute",77],"(",")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","releaseSavepoint",83],"(",["T_VARIABLE","$name",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_COMMENT","\/\/ does nothing as MSSQL does not support this\n",85],["T_WHITESPACE","    ",86],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","rollBackSavepoint",91],"(",["T_VARIABLE","$name",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","db",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","createCommand",93],"(","\"",["T_ENCAPSED_AND_WHITESPACE","ROLLBACK TRANSACTION ",93],["T_VARIABLE","$name",93],"\"",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","execute",93],"(",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Quotes a table name for use in a query.\n     * A simple table name has no schema prefix.\n     * @param string $name table name.\n     * @return string the properly quoted table name.\n     *\/",96],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","quoteSimpleTableName",102],"(",["T_VARIABLE","$name",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_STRING","strpos",104],"(",["T_VARIABLE","$name",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'['",104],")",["T_WHITESPACE"," ",104],["T_IS_IDENTICAL","===",104],["T_WHITESPACE"," ",104],["T_STRING","false",104],["T_WHITESPACE"," ",104],"?",["T_WHITESPACE"," ",104],"\"",["T_ENCAPSED_AND_WHITESPACE","[",104],["T_CURLY_OPEN","{",104],["T_VARIABLE","$name",104],"}",["T_ENCAPSED_AND_WHITESPACE","]",104],"\"",["T_WHITESPACE"," ",104],":",["T_WHITESPACE"," ",104],["T_VARIABLE","$name",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Quotes a column name for use in a query.\n     * A simple column name has no prefix.\n     * @param string $name column name.\n     * @return string the properly quoted column name.\n     *\/",107],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","quoteSimpleColumnName",113],"(",["T_VARIABLE","$name",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING","strpos",115],"(",["T_VARIABLE","$name",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'['",115],")",["T_WHITESPACE"," ",115],["T_IS_IDENTICAL","===",115],["T_WHITESPACE"," ",115],["T_STRING","false",115],["T_WHITESPACE"," ",115],["T_BOOLEAN_AND","&&",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$name",115],["T_WHITESPACE"," ",115],["T_IS_NOT_IDENTICAL","!==",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'*'",115],["T_WHITESPACE"," ",115],"?",["T_WHITESPACE"," ",115],"\"",["T_ENCAPSED_AND_WHITESPACE","[",115],["T_CURLY_OPEN","{",115],["T_VARIABLE","$name",115],"}",["T_ENCAPSED_AND_WHITESPACE","]",115],"\"",["T_WHITESPACE"," ",115],":",["T_WHITESPACE"," ",115],["T_VARIABLE","$name",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Creates a query builder for the MSSQL database.\n     * @return QueryBuilder query builder interface.\n     *\/",118],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","createQueryBuilder",122],"(",")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","QueryBuilder",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","db",124],")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Loads the metadata for the specified table.\n     * @param string $name table name\n     * @return TableSchema|null driver dependent table metadata. Null if the table does not exist.\n     *\/",127],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","loadTableSchema",132],"(",["T_VARIABLE","$name",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$table",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","TableSchema",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","resolveTableNames",135],"(",["T_VARIABLE","$table",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$name",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","findPrimaryKeys",136],"(",["T_VARIABLE","$table",136],")",";",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","findColumns",137],"(",["T_VARIABLE","$table",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","findForeignKeys",138],"(",["T_VARIABLE","$table",138],")",";",["T_WHITESPACE","\n\n            ",138],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$table",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE"," ",141],["T_ELSE","else",141],["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","null",142],";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Resolves the table name and schema name (if any).\n     * @param TableSchema $table the table metadata object\n     * @param string $name the table name\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","resolveTableNames",151],"(",["T_VARIABLE","$table",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$name",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$parts",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","explode",153],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",153],",",["T_WHITESPACE"," ",153],["T_STRING","str_replace",153],"(","[",["T_CONSTANT_ENCAPSED_STRING","'['",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","']'",153],"]",",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","''",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$name",153],")",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$partCount",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","count",154],"(",["T_VARIABLE","$parts",154],")",";",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$partCount",155],["T_WHITESPACE"," ",155],["T_IS_IDENTICAL","===",155],["T_WHITESPACE"," ",155],["T_LNUMBER","4",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_COMMENT","\/\/ server name, catalog name, schema name and table name passed\n",156],["T_WHITESPACE","            ",157],["T_VARIABLE","$table",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","catalogName",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$parts",157],"[",["T_LNUMBER","1",157],"]",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$table",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","schemaName",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$parts",158],"[",["T_LNUMBER","2",158],"]",";",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$table",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","name",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$parts",159],"[",["T_LNUMBER","3",159],"]",";",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$table",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","fullName",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$table",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","catalogName",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'.'",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_VARIABLE","$table",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","schemaName",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'.'",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_VARIABLE","$table",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","name",160],";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE"," ",161],["T_ELSEIF","elseif",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$partCount",161],["T_WHITESPACE"," ",161],["T_IS_IDENTICAL","===",161],["T_WHITESPACE"," ",161],["T_LNUMBER","3",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_COMMENT","\/\/ catalog name, schema name and table name passed\n",162],["T_WHITESPACE","            ",163],["T_VARIABLE","$table",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","catalogName",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$parts",163],"[",["T_LNUMBER","0",163],"]",";",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$table",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","schemaName",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$parts",164],"[",["T_LNUMBER","1",164],"]",";",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$table",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","name",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$parts",165],"[",["T_LNUMBER","2",165],"]",";",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$table",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","fullName",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$table",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","catalogName",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'.'",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_VARIABLE","$table",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","schemaName",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'.'",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_VARIABLE","$table",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","name",166],";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE"," ",167],["T_ELSEIF","elseif",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$partCount",167],["T_WHITESPACE"," ",167],["T_IS_IDENTICAL","===",167],["T_WHITESPACE"," ",167],["T_LNUMBER","2",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_COMMENT","\/\/ only schema name and table name passed\n",168],["T_WHITESPACE","            ",169],["T_VARIABLE","$table",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","schemaName",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$parts",169],"[",["T_LNUMBER","0",169],"]",";",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$table",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","name",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$parts",170],"[",["T_LNUMBER","1",170],"]",";",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$table",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","fullName",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$table",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","schemaName",171],["T_WHITESPACE"," ",171],["T_IS_NOT_IDENTICAL","!==",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","defaultSchema",171],["T_WHITESPACE"," ",171],"?",["T_WHITESPACE"," ",171],["T_VARIABLE","$table",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","schemaName",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'.'",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_VARIABLE","$table",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","name",171],["T_WHITESPACE"," ",171],":",["T_WHITESPACE"," ",171],["T_VARIABLE","$table",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","name",171],";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE"," ",172],["T_ELSE","else",172],["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_COMMENT","\/\/ only table name passed\n",173],["T_WHITESPACE","            ",174],["T_VARIABLE","$table",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","schemaName",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","defaultSchema",174],";",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$table",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","fullName",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$table",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","name",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$parts",175],"[",["T_LNUMBER","0",175],"]",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Loads the column information into a [[ColumnSchema]] object.\n     * @param array $info column information\n     * @return ColumnSchema the column schema object\n     *\/",179],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","loadColumnSchema",184],"(",["T_VARIABLE","$info",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$column",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","createColumnSchema",186],"(",")",";",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$column",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","name",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$info",188],"[",["T_CONSTANT_ENCAPSED_STRING","'column_name'",188],"]",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$column",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","allowNull",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$info",189],"[",["T_CONSTANT_ENCAPSED_STRING","'is_nullable'",189],"]",["T_WHITESPACE"," ",189],["T_IS_IDENTICAL","===",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'YES'",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$column",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","dbType",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$info",190],"[",["T_CONSTANT_ENCAPSED_STRING","'data_type'",190],"]",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$column",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","enumValues",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],"[","]",";",["T_WHITESPACE"," ",191],["T_COMMENT","\/\/ mssql has only vague equivalents to enum\n",191],["T_WHITESPACE","        ",192],["T_VARIABLE","$column",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","isPrimaryKey",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","null",192],";",["T_WHITESPACE"," ",192],["T_COMMENT","\/\/ primary key will be determined in findColumns() method\n",192],["T_WHITESPACE","        ",193],["T_VARIABLE","$column",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","autoIncrement",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$info",193],"[",["T_CONSTANT_ENCAPSED_STRING","'is_identity'",193],"]",["T_WHITESPACE"," ",193],["T_IS_EQUAL","==",193],["T_WHITESPACE"," ",193],["T_LNUMBER","1",193],";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$column",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","unsigned",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","stripos",194],"(",["T_VARIABLE","$column",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","dbType",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",194],")",["T_WHITESPACE"," ",194],["T_IS_NOT_IDENTICAL","!==",194],["T_WHITESPACE"," ",194],["T_STRING","false",194],";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$column",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","comment",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$info",195],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",195],"]",["T_WHITESPACE"," ",195],["T_IS_IDENTICAL","===",195],["T_WHITESPACE"," ",195],["T_STRING","null",195],["T_WHITESPACE"," ",195],"?",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","''",195],["T_WHITESPACE"," ",195],":",["T_WHITESPACE"," ",195],["T_VARIABLE","$info",195],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",195],"]",";",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$column",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","type",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","self",197],["T_DOUBLE_COLON","::",197],["T_STRING","TYPE_STRING",197],";",["T_WHITESPACE","\n        ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_STRING","preg_match",198],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(\\w+)(?:\\(([^\\)]+)\\))?\/'",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$column",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","dbType",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$matches",198],")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$type",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$matches",199],"[",["T_LNUMBER","1",199],"]",";",["T_WHITESPACE","\n            ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_ISSET","isset",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","typeMap",200],"[",["T_VARIABLE","$type",200],"]",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$column",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","type",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","typeMap",201],"[",["T_VARIABLE","$type",201],"]",";",["T_WHITESPACE","\n            ",201],"}",["T_WHITESPACE","\n            ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(","!",["T_EMPTY","empty",203],"(",["T_VARIABLE","$matches",203],"[",["T_LNUMBER","2",203],"]",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                ",203],["T_VARIABLE","$values",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","explode",204],"(",["T_CONSTANT_ENCAPSED_STRING","','",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$matches",204],"[",["T_LNUMBER","2",204],"]",")",";",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$column",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","size",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$column",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","precision",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_INT_CAST","(int)",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$values",205],"[",["T_LNUMBER","0",205],"]",";",["T_WHITESPACE","\n                ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_ISSET","isset",206],"(",["T_VARIABLE","$values",206],"[",["T_LNUMBER","1",206],"]",")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                    ",206],["T_VARIABLE","$column",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","scale",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_INT_CAST","(int)",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$values",207],"[",["T_LNUMBER","1",207],"]",";",["T_WHITESPACE","\n                ",207],"}",["T_WHITESPACE","\n                ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$column",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","size",209],["T_WHITESPACE"," ",209],["T_IS_IDENTICAL","===",209],["T_WHITESPACE"," ",209],["T_LNUMBER","1",209],["T_WHITESPACE"," ",209],["T_BOOLEAN_AND","&&",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$type",209],["T_WHITESPACE"," ",209],["T_IS_IDENTICAL","===",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'tinyint'",209],["T_WHITESPACE"," ",209],["T_BOOLEAN_OR","||",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$type",209],["T_WHITESPACE"," ",209],["T_IS_IDENTICAL","===",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'bit'",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                    ",209],["T_VARIABLE","$column",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","type",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'boolean'",210],";",["T_WHITESPACE","\n                ",210],"}",["T_WHITESPACE"," ",211],["T_ELSEIF","elseif",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$type",211],["T_WHITESPACE"," ",211],["T_IS_IDENTICAL","===",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'bit'",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                    ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$column",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","size",212],["T_WHITESPACE"," ",212],">",["T_WHITESPACE"," ",212],["T_LNUMBER","32",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                        ",212],["T_VARIABLE","$column",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","type",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'bigint'",213],";",["T_WHITESPACE","\n                    ",213],"}",["T_WHITESPACE"," ",214],["T_ELSEIF","elseif",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$column",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","size",214],["T_WHITESPACE"," ",214],["T_IS_IDENTICAL","===",214],["T_WHITESPACE"," ",214],["T_LNUMBER","32",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                        ",214],["T_VARIABLE","$column",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","type",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'integer'",215],";",["T_WHITESPACE","\n                    ",215],"}",["T_WHITESPACE","\n                ",216],"}",["T_WHITESPACE","\n            ",217],"}",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$column",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","phpType",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getColumnPhpType",221],"(",["T_VARIABLE","$column",221],")",";",["T_WHITESPACE","\n\n        ",221],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$info",223],"[",["T_CONSTANT_ENCAPSED_STRING","'column_default'",223],"]",["T_WHITESPACE"," ",223],["T_IS_IDENTICAL","===",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'(NULL)'",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$info",224],"[",["T_CONSTANT_ENCAPSED_STRING","'column_default'",224],"]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","null",224],";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n        ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(","!",["T_VARIABLE","$column",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","isPrimaryKey",226],["T_WHITESPACE"," ",226],["T_BOOLEAN_AND","&&",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$column",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","type",226],["T_WHITESPACE"," ",226],["T_IS_NOT_IDENTICAL","!==",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",226],["T_WHITESPACE"," ",226],["T_BOOLEAN_OR","||",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$info",226],"[",["T_CONSTANT_ENCAPSED_STRING","'column_default'",226],"]",["T_WHITESPACE"," ",226],["T_IS_NOT_IDENTICAL","!==",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'CURRENT_TIMESTAMP'",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$column",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","defaultValue",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$column",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","phpTypecast",227],"(",["T_VARIABLE","$info",227],"[",["T_CONSTANT_ENCAPSED_STRING","'column_default'",227],"]",")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n\n        ",228],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$column",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Collects the metadata of table columns.\n     * @param TableSchema $table the table metadata\n     * @return bool whether the table exists in the database\n     *\/",233],["T_WHITESPACE","\n    ",237],["T_PROTECTED","protected",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","findColumns",238],"(",["T_VARIABLE","$table",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$columnsTableName",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'INFORMATION_SCHEMA.COLUMNS'",240],";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$whereSql",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],"\"",["T_ENCAPSED_AND_WHITESPACE","[t1].[table_name] = '",241],["T_CURLY_OPEN","{",241],["T_VARIABLE","$table",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","name",241],"}",["T_ENCAPSED_AND_WHITESPACE","'",241],"\"",";",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$table",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","catalogName",242],["T_WHITESPACE"," ",242],["T_IS_NOT_IDENTICAL","!==",242],["T_WHITESPACE"," ",242],["T_STRING","null",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$columnsTableName",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],"\"",["T_CURLY_OPEN","{",243],["T_VARIABLE","$table",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","catalogName",243],"}",["T_ENCAPSED_AND_WHITESPACE",".",243],["T_CURLY_OPEN","{",243],["T_VARIABLE","$columnsTableName",243],"}","\"",";",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$whereSql",244],["T_WHITESPACE"," ",244],["T_CONCAT_EQUAL",".=",244],["T_WHITESPACE"," ",244],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND [t1].[table_catalog] = '",244],["T_CURLY_OPEN","{",244],["T_VARIABLE","$table",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","catalogName",244],"}",["T_ENCAPSED_AND_WHITESPACE","'",244],"\"",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$table",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","schemaName",246],["T_WHITESPACE"," ",246],["T_IS_NOT_IDENTICAL","!==",246],["T_WHITESPACE"," ",246],["T_STRING","null",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$whereSql",247],["T_WHITESPACE"," ",247],["T_CONCAT_EQUAL",".=",247],["T_WHITESPACE"," ",247],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND [t1].[table_schema] = '",247],["T_CURLY_OPEN","{",247],["T_VARIABLE","$table",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","schemaName",247],"}",["T_ENCAPSED_AND_WHITESPACE","'",247],"\"",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$columnsTableName",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","quoteTableName",249],"(",["T_VARIABLE","$columnsTableName",249],")",";",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$sql",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_START_HEREDOC","<<<SQL\n",251],["T_ENCAPSED_AND_WHITESPACE","SELECT\n    [t1].[column_name], [t1].[is_nullable], [t1].[data_type], [t1].[column_default],\n    COLUMNPROPERTY(OBJECT_ID([t1].[table_schema] + '.' + [t1].[table_name]), [t1].[column_name], 'IsIdentity') AS is_identity,\n    CONVERT(VARCHAR, [t2].[value]) AS comment\nFROM ",252],["T_CURLY_OPEN","{",256],["T_VARIABLE","$columnsTableName",256],"}",["T_ENCAPSED_AND_WHITESPACE"," AS [t1]\nLEFT OUTER JOIN [sys].[extended_properties] AS [t2] ON\n    [t2].[minor_id] = COLUMNPROPERTY(OBJECT_ID([t1].[TABLE_SCHEMA] + '.' + [t1].[TABLE_NAME]), [t1].[COLUMN_NAME], 'ColumnID') AND\n    OBJECT_NAME([t2].[major_id]) = [t1].[table_name] AND\n    [t2].[class] = 1 AND\n    [t2].[class_desc] = 'OBJECT_OR_COLUMN' AND\n    [t2].[name] = 'MS_Description'\nWHERE ",256],["T_CURLY_OPEN","{",263],["T_VARIABLE","$whereSql",263],"}",["T_ENCAPSED_AND_WHITESPACE","\n",263],["T_END_HEREDOC","SQL",264],";",["T_WHITESPACE","\n\n        ",264],["T_TRY","try",266],["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$columns",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","db",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","createCommand",267],"(",["T_VARIABLE","$sql",267],")",["T_OBJECT_OPERATOR","->",267],["T_STRING","queryAll",267],"(",")",";",["T_WHITESPACE","\n            ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_EMPTY","empty",268],"(",["T_VARIABLE","$columns",268],")",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_STRING","false",269],";",["T_WHITESPACE","\n            ",269],"}",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE"," ",271],["T_CATCH","catch",271],["T_WHITESPACE"," ",271],"(",["T_NS_SEPARATOR","\\",271],["T_STRING","Exception",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$e",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_STRING","false",272],";",["T_WHITESPACE","\n        ",272],"}",["T_WHITESPACE","\n        ",273],["T_FOREACH","foreach",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$columns",274],["T_WHITESPACE"," ",274],["T_AS","as",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$column",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$column",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","loadColumnSchema",275],"(",["T_VARIABLE","$column",275],")",";",["T_WHITESPACE","\n            ",275],["T_FOREACH","foreach",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$table",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","primaryKey",276],["T_WHITESPACE"," ",276],["T_AS","as",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$primaryKey",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n                ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_STRING","strcasecmp",277],"(",["T_VARIABLE","$column",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","name",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$primaryKey",277],")",["T_WHITESPACE"," ",277],["T_IS_IDENTICAL","===",277],["T_WHITESPACE"," ",277],["T_LNUMBER","0",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                    ",277],["T_VARIABLE","$column",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","isPrimaryKey",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","true",278],";",["T_WHITESPACE","\n                    ",278],["T_BREAK","break",279],";",["T_WHITESPACE","\n                ",279],"}",["T_WHITESPACE","\n            ",280],"}",["T_WHITESPACE","\n            ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$column",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","isPrimaryKey",282],["T_WHITESPACE"," ",282],["T_BOOLEAN_AND","&&",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$column",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","autoIncrement",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$table",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","sequenceName",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","''",283],";",["T_WHITESPACE","\n            ",283],"}",["T_WHITESPACE","\n            ",284],["T_VARIABLE","$table",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","columns",285],"[",["T_VARIABLE","$column",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","name",285],"]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$column",285],";",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n\n        ",286],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_STRING","true",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Collects the constraint details for the given table and constraint type.\n     * @param TableSchema $table\n     * @param string $type either PRIMARY KEY or UNIQUE\n     * @return array each entry contains index_name and field_name\n     * @since 2.0.4\n     *\/",291],["T_WHITESPACE","\n    ",297],["T_PROTECTED","protected",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","findTableConstraints",298],"(",["T_VARIABLE","$table",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$type",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$keyColumnUsageTableName",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'INFORMATION_SCHEMA.KEY_COLUMN_USAGE'",300],";",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$tableConstraintsTableName",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'INFORMATION_SCHEMA.TABLE_CONSTRAINTS'",301],";",["T_WHITESPACE","\n        ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$table",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","catalogName",302],["T_WHITESPACE"," ",302],["T_IS_NOT_IDENTICAL","!==",302],["T_WHITESPACE"," ",302],["T_STRING","null",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$keyColumnUsageTableName",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$table",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","catalogName",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'.'",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_VARIABLE","$keyColumnUsageTableName",303],";",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$tableConstraintsTableName",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$table",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","catalogName",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'.'",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_VARIABLE","$tableConstraintsTableName",304],";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$keyColumnUsageTableName",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","quoteTableName",306],"(",["T_VARIABLE","$keyColumnUsageTableName",306],")",";",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$tableConstraintsTableName",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","quoteTableName",307],"(",["T_VARIABLE","$tableConstraintsTableName",307],")",";",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$sql",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_START_HEREDOC","<<<SQL\n",309],["T_ENCAPSED_AND_WHITESPACE","SELECT\n    [kcu].[constraint_name] AS [index_name],\n    [kcu].[column_name] AS [field_name]\nFROM ",310],["T_CURLY_OPEN","{",313],["T_VARIABLE","$keyColumnUsageTableName",313],"}",["T_ENCAPSED_AND_WHITESPACE"," AS [kcu]\nLEFT JOIN ",313],["T_CURLY_OPEN","{",314],["T_VARIABLE","$tableConstraintsTableName",314],"}",["T_ENCAPSED_AND_WHITESPACE"," AS [tc] ON\n    [kcu].[table_schema] = [tc].[table_schema] AND\n    [kcu].[table_name] = [tc].[table_name] AND\n    [kcu].[constraint_name] = [tc].[constraint_name]\nWHERE\n    [tc].[constraint_type] = :type AND\n    [kcu].[table_name] = :tableName AND\n    [kcu].[table_schema] = :schemaName\n",314],["T_END_HEREDOC","SQL",322],";",["T_WHITESPACE","\n\n        ",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","db",324],["T_WHITESPACE","\n            ",324],["T_OBJECT_OPERATOR","->",325],["T_STRING","createCommand",325],"(",["T_VARIABLE","$sql",325],",",["T_WHITESPACE"," ",325],"[",["T_WHITESPACE","\n                ",325],["T_CONSTANT_ENCAPSED_STRING","':tableName'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$table",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","name",326],",",["T_WHITESPACE","\n                ",326],["T_CONSTANT_ENCAPSED_STRING","':schemaName'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$table",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","schemaName",327],",",["T_WHITESPACE","\n                ",327],["T_CONSTANT_ENCAPSED_STRING","':type'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$type",328],",",["T_WHITESPACE","\n            ",328],"]",")",["T_WHITESPACE","\n            ",329],["T_OBJECT_OPERATOR","->",330],["T_STRING","queryAll",330],"(",")",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Collects the primary key column details for the given table.\n     * @param TableSchema $table the table metadata\n     *\/",333],["T_WHITESPACE","\n    ",336],["T_PROTECTED","protected",337],["T_WHITESPACE"," ",337],["T_FUNCTION","function",337],["T_WHITESPACE"," ",337],["T_STRING","findPrimaryKeys",337],"(",["T_VARIABLE","$table",337],")",["T_WHITESPACE","\n    ",337],"{",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$result",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],"[","]",";",["T_WHITESPACE","\n        ",339],["T_FOREACH","foreach",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","findTableConstraints",340],"(",["T_VARIABLE","$table",340],",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'PRIMARY KEY'",340],")",["T_WHITESPACE"," ",340],["T_AS","as",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$row",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_VARIABLE","$result",341],"[","]",["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$row",341],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",341],"]",";",["T_WHITESPACE","\n        ",341],"}",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$table",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","primaryKey",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$result",343],";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Collects the foreign key column details for the given table.\n     * @param TableSchema $table the table metadata\n     *\/",346],["T_WHITESPACE","\n    ",349],["T_PROTECTED","protected",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","findForeignKeys",350],"(",["T_VARIABLE","$table",350],")",["T_WHITESPACE","\n    ",350],"{",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$referentialConstraintsTableName",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS'",352],";",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$keyColumnUsageTableName",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'INFORMATION_SCHEMA.KEY_COLUMN_USAGE'",353],";",["T_WHITESPACE","\n        ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$table",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","catalogName",354],["T_WHITESPACE"," ",354],["T_IS_NOT_IDENTICAL","!==",354],["T_WHITESPACE"," ",354],["T_STRING","null",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$referentialConstraintsTableName",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$table",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","catalogName",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'.'",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_VARIABLE","$referentialConstraintsTableName",355],";",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$keyColumnUsageTableName",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$table",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","catalogName",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'.'",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_VARIABLE","$keyColumnUsageTableName",356],";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$referentialConstraintsTableName",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","quoteTableName",358],"(",["T_VARIABLE","$referentialConstraintsTableName",358],")",";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$keyColumnUsageTableName",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","quoteTableName",359],"(",["T_VARIABLE","$keyColumnUsageTableName",359],")",";",["T_WHITESPACE","\n\n        ",359],["T_COMMENT","\/\/ please refer to the following page for more details:\n",361],["T_WHITESPACE","        ",362],["T_COMMENT","\/\/ http:\/\/msdn2.microsoft.com\/en-us\/library\/aa175805(SQL.80).aspx\n",362],["T_WHITESPACE","        ",363],["T_VARIABLE","$sql",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_START_HEREDOC","<<<SQL\n",363],["T_ENCAPSED_AND_WHITESPACE","SELECT\n    [rc].[constraint_name] AS [fk_name],\n    [kcu1].[column_name] AS [fk_column_name],\n    [kcu2].[table_name] AS [uq_table_name],\n    [kcu2].[column_name] AS [uq_column_name]\nFROM ",364],["T_CURLY_OPEN","{",369],["T_VARIABLE","$referentialConstraintsTableName",369],"}",["T_ENCAPSED_AND_WHITESPACE"," AS [rc]\nJOIN ",369],["T_CURLY_OPEN","{",370],["T_VARIABLE","$keyColumnUsageTableName",370],"}",["T_ENCAPSED_AND_WHITESPACE"," AS [kcu1] ON\n    [kcu1].[constraint_catalog] = [rc].[constraint_catalog] AND\n    [kcu1].[constraint_schema] = [rc].[constraint_schema] AND\n    [kcu1].[constraint_name] = [rc].[constraint_name]\nJOIN ",370],["T_CURLY_OPEN","{",374],["T_VARIABLE","$keyColumnUsageTableName",374],"}",["T_ENCAPSED_AND_WHITESPACE"," AS [kcu2] ON\n    [kcu2].[constraint_catalog] = [rc].[constraint_catalog] AND\n    [kcu2].[constraint_schema] = [rc].[constraint_schema] AND\n    [kcu2].[constraint_name] = [rc].[unique_constraint_name] AND\n    [kcu2].[ordinal_position] = [kcu1].[ordinal_position]\nWHERE [kcu1].[table_name] = :tableName AND [kcu1].[table_schema] = :schemaName\n",374],["T_END_HEREDOC","SQL",380],";",["T_WHITESPACE","\n\n        ",380],["T_VARIABLE","$rows",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","db",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","createCommand",382],"(",["T_VARIABLE","$sql",382],",",["T_WHITESPACE"," ",382],"[",["T_WHITESPACE","\n            ",382],["T_CONSTANT_ENCAPSED_STRING","':tableName'",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$table",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","name",383],",",["T_WHITESPACE","\n            ",383],["T_CONSTANT_ENCAPSED_STRING","':schemaName'",384],["T_WHITESPACE"," ",384],["T_DOUBLE_ARROW","=>",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$table",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","schemaName",384],",",["T_WHITESPACE","\n        ",384],"]",")",["T_OBJECT_OPERATOR","->",385],["T_STRING","queryAll",385],"(",")",";",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$table",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","foreignKeys",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],"[","]",";",["T_WHITESPACE","\n        ",387],["T_FOREACH","foreach",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$rows",388],["T_WHITESPACE"," ",388],["T_AS","as",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$row",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$table",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","foreignKeys",389],"[",["T_VARIABLE","$row",389],"[",["T_CONSTANT_ENCAPSED_STRING","'fk_name'",389],"]","]",["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],"[",["T_VARIABLE","$row",389],"[",["T_CONSTANT_ENCAPSED_STRING","'uq_table_name'",389],"]",",",["T_WHITESPACE"," ",389],["T_VARIABLE","$row",389],"[",["T_CONSTANT_ENCAPSED_STRING","'fk_column_name'",389],"]",["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$row",389],"[",["T_CONSTANT_ENCAPSED_STRING","'uq_column_name'",389],"]","]",";",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_DOC_COMMENT","\/**\n     * Returns all table names in the database.\n     * @param string $schema the schema of the tables. Defaults to empty string, meaning the current or default schema.\n     * @return array all table names in the database. The names have NO schema name prefix.\n     *\/",393],["T_WHITESPACE","\n    ",397],["T_PROTECTED","protected",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","findTableNames",398],"(",["T_VARIABLE","$schema",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","''",398],")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_IF","if",400],["T_WHITESPACE"," ",400],"(",["T_VARIABLE","$schema",400],["T_WHITESPACE"," ",400],["T_IS_IDENTICAL","===",400],["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","''",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_VARIABLE","$schema",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","defaultSchema",401],";",["T_WHITESPACE","\n        ",401],"}",["T_WHITESPACE","\n\n        ",402],["T_VARIABLE","$sql",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_START_HEREDOC","<<<SQL\n",404],["T_ENCAPSED_AND_WHITESPACE","SELECT [t].[table_name]\nFROM [INFORMATION_SCHEMA].[TABLES] AS [t]\nWHERE [t].[table_schema] = :schema AND [t].[table_type] IN ('BASE TABLE', 'VIEW')\nORDER BY [t].[table_name]\n",405],["T_END_HEREDOC","SQL",409],";",["T_WHITESPACE","\n\n        ",409],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","db",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","createCommand",411],"(",["T_VARIABLE","$sql",411],",",["T_WHITESPACE"," ",411],"[",["T_CONSTANT_ENCAPSED_STRING","':schema'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$schema",411],"]",")",["T_OBJECT_OPERATOR","->",411],["T_STRING","queryColumn",411],"(",")",";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Returns all unique indexes for the given table.\n     * Each array element is of the following structure:\n     *\n     * ```php\n     * [\n     *     'IndexName1' => ['col1' [, ...]],\n     *     'IndexName2' => ['col2' [, ...]],\n     * ]\n     * ```\n     *\n     * @param TableSchema $table the table metadata\n     * @return array all unique indexes for the given table.\n     * @since 2.0.4\n     *\/",414],["T_WHITESPACE","\n    ",428],["T_PUBLIC","public",429],["T_WHITESPACE"," ",429],["T_FUNCTION","function",429],["T_WHITESPACE"," ",429],["T_STRING","findUniqueIndexes",429],"(",["T_VARIABLE","$table",429],")",["T_WHITESPACE","\n    ",429],"{",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$result",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],"[","]",";",["T_WHITESPACE","\n        ",431],["T_FOREACH","foreach",432],["T_WHITESPACE"," ",432],"(",["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","findTableConstraints",432],"(",["T_VARIABLE","$table",432],",",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'UNIQUE'",432],")",["T_WHITESPACE"," ",432],["T_AS","as",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$row",432],")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$result",433],"[",["T_VARIABLE","$row",433],"[",["T_CONSTANT_ENCAPSED_STRING","'index_name'",433],"]","]","[","]",["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$row",433],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",433],"]",";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE","\n        ",434],["T_RETURN","return",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$result",435],";",["T_WHITESPACE","\n    ",435],"}",["T_WHITESPACE","\n",436],"}",["T_WHITESPACE","\n",437]]