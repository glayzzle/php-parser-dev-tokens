[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","db",8],["T_NS_SEPARATOR","\\",8],["T_STRING","mssql",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * This is an extension of the default PDO class of MSSQL and DBLIB drivers.\n * It provides workarounds for improperly implemented functionalities of the MSSQL and DBLIB drivers.\n *\n * @author Timur Ruziev <resurtm@gmail.com>\n * @since 2.0\n *\/",10],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","PDO",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PDO",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Returns value of the last inserted ID.\n     * @param string|null $sequence the sequence name. Defaults to null.\n     * @return int last inserted ID value.\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","lastInsertId",24],"(",["T_VARIABLE","$sequence",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","null",24],")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_RETURN","return",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","query",26],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT CAST(COALESCE(SCOPE_IDENTITY(), @@IDENTITY) AS bigint)'",26],")",["T_OBJECT_OPERATOR","->",26],["T_STRING","fetchColumn",26],"(",")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Starts a transaction. It is necessary to override PDO's method as MSSQL PDO driver does not\n     * natively support transactions.\n     * @return bool the result of a transaction start.\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","beginTransaction",34],"(",")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","exec",36],"(",["T_CONSTANT_ENCAPSED_STRING","'BEGIN TRANSACTION'",36],")",";",["T_WHITESPACE","\n\n        ",36],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_STRING","true",38],";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Commits a transaction. It is necessary to override PDO's method as MSSQL PDO driver does not\n     * natively support transactions.\n     * @return bool the result of a transaction commit.\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","commit",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","exec",48],"(",["T_CONSTANT_ENCAPSED_STRING","'COMMIT TRANSACTION'",48],")",";",["T_WHITESPACE","\n\n        ",48],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_STRING","true",50],";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Rollbacks a transaction. It is necessary to override PDO's method as MSSQL PDO driver does not\n     * natively support transactions.\n     * @return bool the result of a transaction roll back.\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","rollBack",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","exec",60],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLLBACK TRANSACTION'",60],")",";",["T_WHITESPACE","\n\n        ",60],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_STRING","true",62],";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Retrieve a database connection attribute.\n     * It is necessary to override PDO's method as some MSSQL PDO driver (e.g. dblib) does not\n     * support getting attributes\n     * @param int $attribute One of the PDO::ATTR_* constants.\n     * @return mixed A successful call returns the value of the requested PDO attribute.\n     * An unsuccessful call returns null.\n     *\/",65],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","getAttribute",73],"(",["T_VARIABLE","$attribute",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_TRY","try",75],["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_STRING","parent",76],["T_DOUBLE_COLON","::",76],["T_STRING","getAttribute",76],"(",["T_VARIABLE","$attribute",76],")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE"," ",77],["T_CATCH","catch",77],["T_WHITESPACE"," ",77],"(",["T_NS_SEPARATOR","\\",77],["T_STRING","PDOException",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$e",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_SWITCH","switch",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$attribute",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_CASE","case",79],["T_WHITESPACE"," ",79],["T_STRING","PDO",79],["T_DOUBLE_COLON","::",79],["T_STRING","ATTR_SERVER_VERSION",79],":",["T_WHITESPACE","\n                    ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","query",80],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT CAST(SERVERPROPERTY('productversion') AS VARCHAR)\"",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","fetchColumn",80],"(",")",";",["T_WHITESPACE","\n                ",80],["T_DEFAULT","default",81],":",["T_WHITESPACE","\n                    ",81],["T_THROW","throw",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$e",82],";",["T_WHITESPACE","\n            ",82],"}",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n",85],"}",["T_WHITESPACE","\n",86]]