[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","db",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","yii",10],["T_NS_SEPARATOR","\\",10],["T_STRING","base",10],["T_NS_SEPARATOR","\\",10],["T_STRING","InvalidParamException",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NotSupportedException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","helpers",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ArrayHelper",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * QueryBuilder builds a SELECT SQL statement based on the specification given as a [[Query]] object.\n *\n * SQL statements are created from [[Query]] objects using the [[build()]]-method.\n *\n * QueryBuilder is also used by [[Command]] to build SQL statements such as INSERT, UPDATE, DELETE, CREATE TABLE.\n *\n * For more details and usage information on QueryBuilder, see the [guide article on query builders](guide:db-query-builder).\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",14],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","QueryBuilder",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_NS_SEPARATOR","\\",26],["T_STRING","yii",26],["T_NS_SEPARATOR","\\",26],["T_STRING","base",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Object",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * The prefix for automatically generated query binding parameters.\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","PARAM_PREFIX",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","':qp'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var Connection the database connection.\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$db",36],";",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * @var string the separator between different fragments of a SQL statement.\n     * Defaults to an empty space. This is mainly used by [[build()]] when generating a SQL statement.\n     *\/",37],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$separator",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","' '",41],";",["T_WHITESPACE","\n    ",41],["T_DOC_COMMENT","\/**\n     * @var array the abstract column types mapped to physical column types.\n     * This is mainly used to support creating\/modifying tables using DB-independent data type specifications.\n     * Child classes should override this property to declare supported type mappings.\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$typeMap",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[","]",";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var array map of query condition to builder methods.\n     * These methods are used by [[buildCondition]] to build SQL conditions from array syntax.\n     *\/",49],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$conditionBuilders",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'NOT'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'buildNotCondition'",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'AND'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'buildAndCondition'",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'OR'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'buildAndCondition'",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'BETWEEN'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'buildBetweenCondition'",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'NOT BETWEEN'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'buildBetweenCondition'",58],",",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'IN'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'buildInCondition'",59],",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'NOT IN'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'buildInCondition'",60],",",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'LIKE'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'buildLikeCondition'",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'NOT LIKE'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'buildLikeCondition'",62],",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'OR LIKE'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'buildLikeCondition'",63],",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'OR NOT LIKE'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'buildLikeCondition'",64],",",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'EXISTS'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'buildExistsCondition'",65],",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'NOT EXISTS'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'buildExistsCondition'",66],",",["T_WHITESPACE","\n    ",66],"]",";",["T_WHITESPACE","\n\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Constructor.\n     * @param Connection $connection the database connection.\n     * @param array $config name-value pairs that will be used to initialize the object properties\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","__construct",75],"(",["T_VARIABLE","$connection",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$config",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[","]",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","db",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$connection",77],";",["T_WHITESPACE","\n        ",77],["T_STRING","parent",78],["T_DOUBLE_COLON","::",78],["T_STRING","__construct",78],"(",["T_VARIABLE","$config",78],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Generates a SELECT SQL statement from a [[Query]] object.\n     * @param Query $query the [[Query]] object from which the SQL statement will be generated.\n     * @param array $params the parameters to be bound to the generated SQL statement. These parameters will\n     * be included in the result with the additional parameters generated during the query building process.\n     * @return array the generated SQL statement (the first array element) and the corresponding\n     * parameters to be bound to the SQL statement (the second array element). The parameters returned\n     * include those provided in `$params`.\n     *\/",81],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","build",90],"(",["T_VARIABLE","$query",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$params",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[","]",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$query",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$query",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","prepare",92],"(",["T_VARIABLE","$this",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$params",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_EMPTY","empty",94],"(",["T_VARIABLE","$params",94],")",["T_WHITESPACE"," ",94],"?",["T_WHITESPACE"," ",94],["T_VARIABLE","$query",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","params",94],["T_WHITESPACE"," ",94],":",["T_WHITESPACE"," ",94],["T_STRING","array_merge",94],"(",["T_VARIABLE","$params",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$query",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","params",94],")",";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$clauses",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],"[",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","buildSelect",97],"(",["T_VARIABLE","$query",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","select",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$params",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$query",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","distinct",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$query",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","selectOption",97],")",",",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","buildFrom",98],"(",["T_VARIABLE","$query",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","from",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$params",98],")",",",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","buildJoin",99],"(",["T_VARIABLE","$query",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","join",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$params",99],")",",",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","buildWhere",100],"(",["T_VARIABLE","$query",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","where",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$params",100],")",",",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","buildGroupBy",101],"(",["T_VARIABLE","$query",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","groupBy",101],")",",",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","buildHaving",102],"(",["T_VARIABLE","$query",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","having",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$params",102],")",",",["T_WHITESPACE","\n        ",102],"]",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$sql",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","implode",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","separator",105],",",["T_WHITESPACE"," ",105],["T_STRING","array_filter",105],"(",["T_VARIABLE","$clauses",105],")",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$sql",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","buildOrderByAndLimit",106],"(",["T_VARIABLE","$sql",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$query",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","orderBy",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$query",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","limit",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$query",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","offset",106],")",";",["T_WHITESPACE","\n\n        ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_EMPTY","empty",108],"(",["T_VARIABLE","$query",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","orderBy",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_FOREACH","foreach",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$query",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","orderBy",109],["T_WHITESPACE"," ",109],["T_AS","as",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$expression",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$expression",110],["T_WHITESPACE"," ",110],["T_INSTANCEOF","instanceof",110],["T_WHITESPACE"," ",110],["T_STRING","Expression",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                    ",110],["T_VARIABLE","$params",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","array_merge",111],"(",["T_VARIABLE","$params",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$expression",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","params",111],")",";",["T_WHITESPACE","\n                ",111],"}",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(","!",["T_EMPTY","empty",115],"(",["T_VARIABLE","$query",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","groupBy",115],")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$query",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","groupBy",116],["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$expression",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$expression",117],["T_WHITESPACE"," ",117],["T_INSTANCEOF","instanceof",117],["T_WHITESPACE"," ",117],["T_STRING","Expression",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                    ",117],["T_VARIABLE","$params",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","array_merge",118],"(",["T_VARIABLE","$params",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$expression",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","params",118],")",";",["T_WHITESPACE","\n                ",118],"}",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$union",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","buildUnion",123],"(",["T_VARIABLE","$query",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","union",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$params",123],")",";",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$union",124],["T_WHITESPACE"," ",124],["T_IS_NOT_IDENTICAL","!==",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","''",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$sql",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"\"",["T_ENCAPSED_AND_WHITESPACE","(",125],["T_VARIABLE","$sql",125],["T_ENCAPSED_AND_WHITESPACE",")",125],["T_CURLY_OPEN","{",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","separator",125],"}",["T_VARIABLE","$union",125],"\"",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_RETURN","return",128],["T_WHITESPACE"," ",128],"[",["T_VARIABLE","$sql",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$params",128],"]",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Creates an INSERT SQL statement.\n     * For example,\n     *\n     * ```php\n     * $sql = $queryBuilder->insert('user', [\n     *     'name' => 'Sam',\n     *     'age' => 30,\n     * ], $params);\n     * ```\n     *\n     * The method will properly escape the table and column names.\n     *\n     * @param string $table the table that new rows will be inserted into.\n     * @param array|\\yii\\db\\Query $columns the column data (name => value) to be inserted into the table or instance\n     * of [[yii\\db\\Query|Query]] to perform INSERT INTO ... SELECT SQL statement.\n     * Passing of [[yii\\db\\Query|Query]] is available since version 2.0.11.\n     * @param array $params the binding parameters that will be generated by this method.\n     * They should be bound to the DB command later.\n     * @return string the INSERT SQL\n     *\/",131],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","insert",152],"(",["T_VARIABLE","$table",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$columns",152],",",["T_WHITESPACE"," ",152],"&",["T_VARIABLE","$params",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$schema",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","db",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getSchema",154],"(",")",";",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(","(",["T_VARIABLE","$tableSchema",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$schema",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getTableSchema",155],"(",["T_VARIABLE","$table",155],")",")",["T_WHITESPACE"," ",155],["T_IS_NOT_IDENTICAL","!==",155],["T_WHITESPACE"," ",155],["T_STRING","null",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$columnSchemas",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$tableSchema",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","columns",156],";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE"," ",157],["T_ELSE","else",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$columnSchemas",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],"[","]",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$names",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],"[","]",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$placeholders",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],"[","]",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$values",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","' DEFAULT VALUES'",162],";",["T_WHITESPACE","\n        ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$columns",163],["T_WHITESPACE"," ",163],["T_INSTANCEOF","instanceof",163],["T_WHITESPACE"," ",163],["T_NS_SEPARATOR","\\",163],["T_STRING","yii",163],["T_NS_SEPARATOR","\\",163],["T_STRING","db",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Query",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_LIST","list",164],"(",["T_VARIABLE","$names",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$values",164],")",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","prepareInsertSelectSubQuery",164],"(",["T_VARIABLE","$columns",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$schema",164],")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE"," ",165],["T_ELSE","else",165],["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_FOREACH","foreach",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$columns",166],["T_WHITESPACE"," ",166],["T_AS","as",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$name",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$value",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$names",167],"[","]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$schema",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","quoteColumnName",167],"(",["T_VARIABLE","$name",167],")",";",["T_WHITESPACE","\n                ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$value",168],["T_WHITESPACE"," ",168],["T_INSTANCEOF","instanceof",168],["T_WHITESPACE"," ",168],["T_STRING","Expression",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$placeholders",169],"[","]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$value",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","expression",169],";",["T_WHITESPACE","\n                    ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$value",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","params",170],["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$n",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$v",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                        ",170],["T_VARIABLE","$params",171],"[",["T_VARIABLE","$n",171],"]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$v",171],";",["T_WHITESPACE","\n                    ",171],"}",["T_WHITESPACE","\n                ",172],"}",["T_WHITESPACE"," ",173],["T_ELSEIF","elseif",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$value",173],["T_WHITESPACE"," ",173],["T_INSTANCEOF","instanceof",173],["T_WHITESPACE"," ",173],["T_NS_SEPARATOR","\\",173],["T_STRING","yii",173],["T_NS_SEPARATOR","\\",173],["T_STRING","db",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Query",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                    ",173],["T_LIST","list",174],"(",["T_VARIABLE","$sql",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$params",174],")",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","build",174],"(",["T_VARIABLE","$value",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$params",174],")",";",["T_WHITESPACE","\n                    ",174],["T_VARIABLE","$placeholders",175],"[","]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],"\"",["T_ENCAPSED_AND_WHITESPACE","(",175],["T_VARIABLE","$sql",175],["T_ENCAPSED_AND_WHITESPACE",")",175],"\"",";",["T_WHITESPACE","\n                ",175],"}",["T_WHITESPACE"," ",176],["T_ELSE","else",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                    ",176],["T_VARIABLE","$phName",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","self",177],["T_DOUBLE_COLON","::",177],["T_STRING","PARAM_PREFIX",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_STRING","count",177],"(",["T_VARIABLE","$params",177],")",";",["T_WHITESPACE","\n                    ",177],["T_VARIABLE","$placeholders",178],"[","]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$phName",178],";",["T_WHITESPACE","\n                    ",178],["T_VARIABLE","$params",179],"[",["T_VARIABLE","$phName",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"!",["T_STRING","is_array",179],"(",["T_VARIABLE","$value",179],")",["T_WHITESPACE"," ",179],["T_BOOLEAN_AND","&&",179],["T_WHITESPACE"," ",179],["T_ISSET","isset",179],"(",["T_VARIABLE","$columnSchemas",179],"[",["T_VARIABLE","$name",179],"]",")",["T_WHITESPACE"," ",179],"?",["T_WHITESPACE"," ",179],["T_VARIABLE","$columnSchemas",179],"[",["T_VARIABLE","$name",179],"]",["T_OBJECT_OPERATOR","->",179],["T_STRING","dbTypecast",179],"(",["T_VARIABLE","$value",179],")",["T_WHITESPACE"," ",179],":",["T_WHITESPACE"," ",179],["T_VARIABLE","$value",179],";",["T_WHITESPACE","\n                ",179],"}",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO '",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_VARIABLE","$schema",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","quoteTableName",184],"(",["T_VARIABLE","$table",184],")",["T_WHITESPACE","\n            ",184],".",["T_WHITESPACE"," ",185],"(","!",["T_EMPTY","empty",185],"(",["T_VARIABLE","$names",185],")",["T_WHITESPACE"," ",185],"?",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","' ('",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_STRING","implode",185],"(",["T_CONSTANT_ENCAPSED_STRING","', '",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$names",185],")",["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","')'",185],["T_WHITESPACE"," ",185],":",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","''",185],")",["T_WHITESPACE","\n            ",185],".",["T_WHITESPACE"," ",186],"(","!",["T_EMPTY","empty",186],"(",["T_VARIABLE","$placeholders",186],")",["T_WHITESPACE"," ",186],"?",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","' VALUES ('",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_STRING","implode",186],"(",["T_CONSTANT_ENCAPSED_STRING","', '",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$placeholders",186],")",["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","')'",186],["T_WHITESPACE"," ",186],":",["T_WHITESPACE"," ",186],["T_VARIABLE","$values",186],")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Prepare select-subquery and field names for INSERT INTO ... SELECT SQL statement.\n     *\n     * @param \\yii\\db\\Query $columns Object, which represents select query\n     * @param \\yii\\db\\Schema $schema Schema object to qoute column name\n     * @return array\n     * @since 2.0.11\n     *\/",189],["T_WHITESPACE","\n    ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","prepareInsertSelectSubQuery",197],"(",["T_VARIABLE","$columns",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$schema",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(","!",["T_STRING","is_array",199],"(",["T_VARIABLE","$columns",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","select",199],")",["T_WHITESPACE"," ",199],["T_BOOLEAN_OR","||",199],["T_WHITESPACE"," ",199],["T_EMPTY","empty",199],"(",["T_VARIABLE","$columns",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","select",199],")",["T_WHITESPACE"," ",199],["T_BOOLEAN_OR","||",199],["T_WHITESPACE"," ",199],["T_STRING","in_array",199],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$columns",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","select",199],")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_THROW","throw",200],["T_WHITESPACE"," ",200],["T_NEW","new",200],["T_WHITESPACE"," ",200],["T_STRING","InvalidParamException",200],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected select query object with enumerated (named) parameters'",200],")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n\n        ",201],["T_LIST","list",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$values",203],",",["T_WHITESPACE"," ",203],")",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","build",203],"(",["T_VARIABLE","$columns",203],")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$names",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],"[","]",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$values",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","' '",205],["T_WHITESPACE"," ",205],".",["T_WHITESPACE"," ",205],["T_VARIABLE","$values",205],";",["T_WHITESPACE","\n        ",205],["T_FOREACH","foreach",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$columns",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","select",206],["T_WHITESPACE"," ",206],["T_AS","as",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$title",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$field",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_STRING","is_string",207],"(",["T_VARIABLE","$title",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$names",208],"[","]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$title",208],";",["T_WHITESPACE","\n            ",208],"}",["T_WHITESPACE"," ",209],["T_ELSE","else",209],["T_WHITESPACE"," ",209],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_STRING","preg_match",209],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(.*?)(?i:\\s+as\\s+|\\s+)([\\w\\-_\\.]+)$\/'",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$field",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$matches",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$names",210],"[","]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$schema",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","quoteColumnName",210],"(",["T_VARIABLE","$matches",210],"[",["T_LNUMBER","2",210],"]",")",";",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE"," ",211],["T_ELSE","else",211],["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$names",212],"[","]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$schema",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","quoteColumnName",212],"(",["T_VARIABLE","$field",212],")",";",["T_WHITESPACE","\n            ",212],"}",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n\n        ",214],["T_RETURN","return",216],["T_WHITESPACE"," ",216],"[",["T_VARIABLE","$names",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$values",216],"]",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Generates a batch INSERT SQL statement.\n     * For example,\n     *\n     * ```php\n     * $sql = $queryBuilder->batchInsert('user', ['name', 'age'], [\n     *     ['Tom', 30],\n     *     ['Jane', 20],\n     *     ['Linda', 25],\n     * ]);\n     * ```\n     *\n     * Note that the values in each row must match the corresponding column names.\n     *\n     * The method will properly escape the column names, and quote the values to be inserted.\n     *\n     * @param string $table the table that new rows will be inserted into.\n     * @param array $columns the column names\n     * @param array $rows the rows to be batch inserted into the table\n     * @return string the batch INSERT SQL statement\n     *\/",219],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","batchInsert",240],"(",["T_VARIABLE","$table",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$columns",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$rows",240],")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_EMPTY","empty",242],"(",["T_VARIABLE","$rows",242],")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","''",243],";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$schema",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","db",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getSchema",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(","(",["T_VARIABLE","$tableSchema",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$schema",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getTableSchema",247],"(",["T_VARIABLE","$table",247],")",")",["T_WHITESPACE"," ",247],["T_IS_NOT_IDENTICAL","!==",247],["T_WHITESPACE"," ",247],["T_STRING","null",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$columnSchemas",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$tableSchema",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","columns",248],";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE"," ",249],["T_ELSE","else",249],["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$columnSchemas",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],"[","]",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$values",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],"[","]",";",["T_WHITESPACE","\n        ",253],["T_FOREACH","foreach",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$rows",254],["T_WHITESPACE"," ",254],["T_AS","as",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$row",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$vs",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],"[","]",";",["T_WHITESPACE","\n            ",255],["T_FOREACH","foreach",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$row",256],["T_WHITESPACE"," ",256],["T_AS","as",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$i",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$value",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_ISSET","isset",257],"(",["T_VARIABLE","$columns",257],"[",["T_VARIABLE","$i",257],"]",",",["T_WHITESPACE"," ",257],["T_VARIABLE","$columnSchemas",257],"[",["T_VARIABLE","$columns",257],"[",["T_VARIABLE","$i",257],"]","]",")",["T_WHITESPACE"," ",257],["T_BOOLEAN_AND","&&",257],["T_WHITESPACE"," ",257],"!",["T_STRING","is_array",257],"(",["T_VARIABLE","$value",257],")",")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n                    ",257],["T_VARIABLE","$value",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$columnSchemas",258],"[",["T_VARIABLE","$columns",258],"[",["T_VARIABLE","$i",258],"]","]",["T_OBJECT_OPERATOR","->",258],["T_STRING","dbTypecast",258],"(",["T_VARIABLE","$value",258],")",";",["T_WHITESPACE","\n                ",258],"}",["T_WHITESPACE","\n                ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_STRING","is_string",260],"(",["T_VARIABLE","$value",260],")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                    ",260],["T_VARIABLE","$value",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$schema",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","quoteValue",261],"(",["T_VARIABLE","$value",261],")",";",["T_WHITESPACE","\n                ",261],"}",["T_WHITESPACE"," ",262],["T_ELSEIF","elseif",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$value",262],["T_WHITESPACE"," ",262],["T_IS_IDENTICAL","===",262],["T_WHITESPACE"," ",262],["T_STRING","false",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n                    ",262],["T_VARIABLE","$value",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_LNUMBER","0",263],";",["T_WHITESPACE","\n                ",263],"}",["T_WHITESPACE"," ",264],["T_ELSEIF","elseif",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$value",264],["T_WHITESPACE"," ",264],["T_IS_IDENTICAL","===",264],["T_WHITESPACE"," ",264],["T_STRING","null",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n                    ",264],["T_VARIABLE","$value",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'NULL'",265],";",["T_WHITESPACE","\n                ",265],"}",["T_WHITESPACE","\n                ",266],["T_VARIABLE","$vs",267],"[","]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$value",267],";",["T_WHITESPACE","\n            ",267],"}",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$values",269],"[","]",["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'('",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_STRING","implode",269],"(",["T_CONSTANT_ENCAPSED_STRING","', '",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$vs",269],")",["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","')'",269],";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n\n        ",270],["T_FOREACH","foreach",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$columns",272],["T_WHITESPACE"," ",272],["T_AS","as",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$i",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$name",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$columns",273],"[",["T_VARIABLE","$i",273],"]",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$schema",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","quoteColumnName",273],"(",["T_VARIABLE","$name",273],")",";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n\n        ",274],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO '",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$schema",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","quoteTableName",276],"(",["T_VARIABLE","$table",276],")",["T_WHITESPACE","\n        ",276],".",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","' ('",277],["T_WHITESPACE"," ",277],".",["T_WHITESPACE"," ",277],["T_STRING","implode",277],"(",["T_CONSTANT_ENCAPSED_STRING","', '",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$columns",277],")",["T_WHITESPACE"," ",277],".",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","') VALUES '",277],["T_WHITESPACE"," ",277],".",["T_WHITESPACE"," ",277],["T_STRING","implode",277],"(",["T_CONSTANT_ENCAPSED_STRING","', '",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$values",277],")",";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Creates an UPDATE SQL statement.\n     * For example,\n     *\n     * ```php\n     * $params = [];\n     * $sql = $queryBuilder->update('user', ['status' => 1], 'age > 30', $params);\n     * ```\n     *\n     * The method will properly escape the table and column names.\n     *\n     * @param string $table the table to be updated.\n     * @param array $columns the column data (name => value) to be updated.\n     * @param array|string $condition the condition that will be put in the WHERE part. Please\n     * refer to [[Query::where()]] on how to specify condition.\n     * @param array $params the binding parameters that will be modified by this method\n     * so that they can be bound to the DB command later.\n     * @return string the UPDATE SQL\n     *\/",280],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","update",299],"(",["T_VARIABLE","$table",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$columns",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$condition",299],",",["T_WHITESPACE"," ",299],"&",["T_VARIABLE","$params",299],")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(","(",["T_VARIABLE","$tableSchema",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","db",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getTableSchema",301],"(",["T_VARIABLE","$table",301],")",")",["T_WHITESPACE"," ",301],["T_IS_NOT_IDENTICAL","!==",301],["T_WHITESPACE"," ",301],["T_STRING","null",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$columnSchemas",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$tableSchema",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","columns",302],";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE"," ",303],["T_ELSE","else",303],["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$columnSchemas",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],"[","]",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$lines",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],"[","]",";",["T_WHITESPACE","\n        ",307],["T_FOREACH","foreach",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$columns",308],["T_WHITESPACE"," ",308],["T_AS","as",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$name",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$value",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n            ",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(",["T_VARIABLE","$value",309],["T_WHITESPACE"," ",309],["T_INSTANCEOF","instanceof",309],["T_WHITESPACE"," ",309],["T_STRING","Expression",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                ",309],["T_VARIABLE","$lines",310],"[","]",["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","db",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","quoteColumnName",310],"(",["T_VARIABLE","$name",310],")",["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'='",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_VARIABLE","$value",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","expression",310],";",["T_WHITESPACE","\n                ",310],["T_FOREACH","foreach",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$value",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","params",311],["T_WHITESPACE"," ",311],["T_AS","as",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$n",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$v",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n                    ",311],["T_VARIABLE","$params",312],"[",["T_VARIABLE","$n",312],"]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$v",312],";",["T_WHITESPACE","\n                ",312],"}",["T_WHITESPACE","\n            ",313],"}",["T_WHITESPACE"," ",314],["T_ELSE","else",314],["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$phName",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","self",315],["T_DOUBLE_COLON","::",315],["T_STRING","PARAM_PREFIX",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_STRING","count",315],"(",["T_VARIABLE","$params",315],")",";",["T_WHITESPACE","\n                ",315],["T_VARIABLE","$lines",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","db",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","quoteColumnName",316],"(",["T_VARIABLE","$name",316],")",["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'='",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_VARIABLE","$phName",316],";",["T_WHITESPACE","\n                ",316],["T_VARIABLE","$params",317],"[",["T_VARIABLE","$phName",317],"]",["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],"!",["T_STRING","is_array",317],"(",["T_VARIABLE","$value",317],")",["T_WHITESPACE"," ",317],["T_BOOLEAN_AND","&&",317],["T_WHITESPACE"," ",317],["T_ISSET","isset",317],"(",["T_VARIABLE","$columnSchemas",317],"[",["T_VARIABLE","$name",317],"]",")",["T_WHITESPACE"," ",317],"?",["T_WHITESPACE"," ",317],["T_VARIABLE","$columnSchemas",317],"[",["T_VARIABLE","$name",317],"]",["T_OBJECT_OPERATOR","->",317],["T_STRING","dbTypecast",317],"(",["T_VARIABLE","$value",317],")",["T_WHITESPACE"," ",317],":",["T_WHITESPACE"," ",317],["T_VARIABLE","$value",317],";",["T_WHITESPACE","\n            ",317],"}",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n\n        ",319],["T_VARIABLE","$sql",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",321],["T_WHITESPACE"," ",321],".",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","db",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","quoteTableName",321],"(",["T_VARIABLE","$table",321],")",["T_WHITESPACE"," ",321],".",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","' SET '",321],["T_WHITESPACE"," ",321],".",["T_WHITESPACE"," ",321],["T_STRING","implode",321],"(",["T_CONSTANT_ENCAPSED_STRING","', '",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$lines",321],")",";",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$where",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","buildWhere",322],"(",["T_VARIABLE","$condition",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$params",322],")",";",["T_WHITESPACE","\n\n        ",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$where",324],["T_WHITESPACE"," ",324],["T_IS_IDENTICAL","===",324],["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","''",324],["T_WHITESPACE"," ",324],"?",["T_WHITESPACE"," ",324],["T_VARIABLE","$sql",324],["T_WHITESPACE"," ",324],":",["T_WHITESPACE"," ",324],["T_VARIABLE","$sql",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","' '",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_VARIABLE","$where",324],";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Creates a DELETE SQL statement.\n     * For example,\n     *\n     * ```php\n     * $sql = $queryBuilder->delete('user', 'status = 0');\n     * ```\n     *\n     * The method will properly escape the table and column names.\n     *\n     * @param string $table the table where the data will be deleted from.\n     * @param array|string $condition the condition that will be put in the WHERE part. Please\n     * refer to [[Query::where()]] on how to specify condition.\n     * @param array $params the binding parameters that will be modified by this method\n     * so that they can be bound to the DB command later.\n     * @return string the DELETE SQL\n     *\/",327],["T_WHITESPACE","\n    ",343],["T_PUBLIC","public",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","delete",344],"(",["T_VARIABLE","$table",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$condition",344],",",["T_WHITESPACE"," ",344],"&",["T_VARIABLE","$params",344],")",["T_WHITESPACE","\n    ",344],"{",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$sql",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'DELETE FROM '",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","db",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","quoteTableName",346],"(",["T_VARIABLE","$table",346],")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$where",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","buildWhere",347],"(",["T_VARIABLE","$condition",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$params",347],")",";",["T_WHITESPACE","\n\n        ",347],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$where",349],["T_WHITESPACE"," ",349],["T_IS_IDENTICAL","===",349],["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","''",349],["T_WHITESPACE"," ",349],"?",["T_WHITESPACE"," ",349],["T_VARIABLE","$sql",349],["T_WHITESPACE"," ",349],":",["T_WHITESPACE"," ",349],["T_VARIABLE","$sql",349],["T_WHITESPACE"," ",349],".",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","' '",349],["T_WHITESPACE"," ",349],".",["T_WHITESPACE"," ",349],["T_VARIABLE","$where",349],";",["T_WHITESPACE","\n    ",349],"}",["T_WHITESPACE","\n\n    ",350],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for creating a new DB table.\n     *\n     * The columns in the new  table should be specified as name-definition pairs (e.g. 'name' => 'string'),\n     * where name stands for a column name which will be properly quoted by the method, and definition\n     * stands for the column type which can contain an abstract DB type.\n     * The [[getColumnType()]] method will be invoked to convert any abstract type into a physical one.\n     *\n     * If a column is specified with definition only (e.g. 'PRIMARY KEY (name, type)'), it will be directly\n     * inserted into the generated SQL.\n     *\n     * For example,\n     *\n     * ```php\n     * $sql = $queryBuilder->createTable('user', [\n     *  'id' => 'pk',\n     *  'name' => 'string',\n     *  'age' => 'integer',\n     * ]);\n     * ```\n     *\n     * @param string $table the name of the table to be created. The name will be properly quoted by the method.\n     * @param array $columns the columns (name => definition) in the new table.\n     * @param string $options additional SQL fragment that will be appended to the generated SQL.\n     * @return string the SQL statement for creating a new DB table.\n     *\/",352],["T_WHITESPACE","\n    ",377],["T_PUBLIC","public",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","createTable",378],"(",["T_VARIABLE","$table",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$columns",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$options",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_STRING","null",378],")",["T_WHITESPACE","\n    ",378],"{",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$cols",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],"[","]",";",["T_WHITESPACE","\n        ",380],["T_FOREACH","foreach",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$columns",381],["T_WHITESPACE"," ",381],["T_AS","as",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$name",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$type",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n            ",381],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_STRING","is_string",382],"(",["T_VARIABLE","$name",382],")",")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n                ",382],["T_VARIABLE","$cols",383],"[","]",["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","db",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","quoteColumnName",383],"(",["T_VARIABLE","$name",383],")",["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","' '",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getColumnType",383],"(",["T_VARIABLE","$type",383],")",";",["T_WHITESPACE","\n            ",383],"}",["T_WHITESPACE"," ",384],["T_ELSE","else",384],["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                ",384],["T_VARIABLE","$cols",385],"[","]",["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_VARIABLE","$type",385],";",["T_WHITESPACE","\n            ",385],"}",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$sql",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'CREATE TABLE '",388],["T_WHITESPACE"," ",388],".",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","db",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","quoteTableName",388],"(",["T_VARIABLE","$table",388],")",["T_WHITESPACE"," ",388],".",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","\" (\\n\"",388],["T_WHITESPACE"," ",388],".",["T_WHITESPACE"," ",388],["T_STRING","implode",388],"(",["T_CONSTANT_ENCAPSED_STRING","\",\\n\"",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$cols",388],")",["T_WHITESPACE"," ",388],".",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","\"\\n)\"",388],";",["T_WHITESPACE","\n\n        ",388],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$options",390],["T_WHITESPACE"," ",390],["T_IS_IDENTICAL","===",390],["T_WHITESPACE"," ",390],["T_STRING","null",390],["T_WHITESPACE"," ",390],"?",["T_WHITESPACE"," ",390],["T_VARIABLE","$sql",390],["T_WHITESPACE"," ",390],":",["T_WHITESPACE"," ",390],["T_VARIABLE","$sql",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","' '",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$options",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for renaming a DB table.\n     * @param string $oldName the table to be renamed. The name will be properly quoted by the method.\n     * @param string $newName the new table name. The name will be properly quoted by the method.\n     * @return string the SQL statement for renaming a DB table.\n     *\/",393],["T_WHITESPACE","\n    ",398],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","renameTable",399],"(",["T_VARIABLE","$oldName",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$newName",399],")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_RETURN","return",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'RENAME TABLE '",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","db",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","quoteTableName",401],"(",["T_VARIABLE","$oldName",401],")",["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","' TO '",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","db",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","quoteTableName",401],"(",["T_VARIABLE","$newName",401],")",";",["T_WHITESPACE","\n    ",401],"}",["T_WHITESPACE","\n\n    ",402],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for dropping a DB table.\n     * @param string $table the table to be dropped. The name will be properly quoted by the method.\n     * @return string the SQL statement for dropping a DB table.\n     *\/",404],["T_WHITESPACE","\n    ",408],["T_PUBLIC","public",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","dropTable",409],"(",["T_VARIABLE","$table",409],")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE '",411],["T_WHITESPACE"," ",411],".",["T_WHITESPACE"," ",411],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","db",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","quoteTableName",411],"(",["T_VARIABLE","$table",411],")",";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for adding a primary key constraint to an existing table.\n     * @param string $name the name of the primary key constraint.\n     * @param string $table the table that the primary key constraint will be added to.\n     * @param string|array $columns comma separated string or array of columns that the primary key will consist of.\n     * @return string the SQL statement for adding a primary key constraint to an existing table.\n     *\/",414],["T_WHITESPACE","\n    ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","addPrimaryKey",421],"(",["T_VARIABLE","$name",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$table",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$columns",421],")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_STRING","is_string",423],"(",["T_VARIABLE","$columns",423],")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$columns",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","preg_split",424],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s*,\\s*\/'",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$columns",424],",",["T_WHITESPACE"," ",424],"-",["T_LNUMBER","1",424],",",["T_WHITESPACE"," ",424],["T_STRING","PREG_SPLIT_NO_EMPTY",424],")",";",["T_WHITESPACE","\n        ",424],"}",["T_WHITESPACE","\n\n        ",425],["T_FOREACH","foreach",427],["T_WHITESPACE"," ",427],"(",["T_VARIABLE","$columns",427],["T_WHITESPACE"," ",427],["T_AS","as",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$i",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$col",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$columns",428],"[",["T_VARIABLE","$i",428],"]",["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","db",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","quoteColumnName",428],"(",["T_VARIABLE","$col",428],")",";",["T_WHITESPACE","\n        ",428],"}",["T_WHITESPACE","\n\n        ",429],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",431],["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","db",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","quoteTableName",431],"(",["T_VARIABLE","$table",431],")",["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","' ADD CONSTRAINT '",431],["T_WHITESPACE","\n            ",431],".",["T_WHITESPACE"," ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","db",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","quoteColumnName",432],"(",["T_VARIABLE","$name",432],")",["T_WHITESPACE"," ",432],".",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'  PRIMARY KEY ('",432],["T_WHITESPACE","\n            ",432],".",["T_WHITESPACE"," ",433],["T_STRING","implode",433],"(",["T_CONSTANT_ENCAPSED_STRING","', '",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$columns",433],")",".",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","' )'",433],";",["T_WHITESPACE","\n    ",433],"}",["T_WHITESPACE","\n\n    ",434],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for removing a primary key constraint to an existing table.\n     * @param string $name the name of the primary key constraint to be removed.\n     * @param string $table the table that the primary key constraint will be removed from.\n     * @return string the SQL statement for removing a primary key constraint from an existing table.\n     *\/",436],["T_WHITESPACE","\n    ",441],["T_PUBLIC","public",442],["T_WHITESPACE"," ",442],["T_FUNCTION","function",442],["T_WHITESPACE"," ",442],["T_STRING","dropPrimaryKey",442],"(",["T_VARIABLE","$name",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$table",442],")",["T_WHITESPACE","\n    ",442],"{",["T_WHITESPACE","\n        ",443],["T_RETURN","return",444],["T_WHITESPACE"," ",444],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",444],["T_WHITESPACE"," ",444],".",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","db",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","quoteTableName",444],"(",["T_VARIABLE","$table",444],")",["T_WHITESPACE","\n            ",444],".",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","' DROP CONSTRAINT '",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","db",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","quoteColumnName",445],"(",["T_VARIABLE","$name",445],")",";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n\n    ",446],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for truncating a DB table.\n     * @param string $table the table to be truncated. The name will be properly quoted by the method.\n     * @return string the SQL statement for truncating a DB table.\n     *\/",448],["T_WHITESPACE","\n    ",452],["T_PUBLIC","public",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","truncateTable",453],"(",["T_VARIABLE","$table",453],")",["T_WHITESPACE","\n    ",453],"{",["T_WHITESPACE","\n        ",454],["T_RETURN","return",455],["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'TRUNCATE TABLE '",455],["T_WHITESPACE"," ",455],".",["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","db",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","quoteTableName",455],"(",["T_VARIABLE","$table",455],")",";",["T_WHITESPACE","\n    ",455],"}",["T_WHITESPACE","\n\n    ",456],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for adding a new DB column.\n     * @param string $table the table that the new column will be added to. The table name will be properly quoted by the method.\n     * @param string $column the name of the new column. The name will be properly quoted by the method.\n     * @param string $type the column type. The [[getColumnType()]] method will be invoked to convert abstract column type (if any)\n     * into the physical one. Anything that is not recognized as abstract type will be kept in the generated SQL.\n     * For example, 'string' will be turned into 'varchar(255)', while 'string not null' will become 'varchar(255) not null'.\n     * @return string the SQL statement for adding a new column.\n     *\/",458],["T_WHITESPACE","\n    ",466],["T_PUBLIC","public",467],["T_WHITESPACE"," ",467],["T_FUNCTION","function",467],["T_WHITESPACE"," ",467],["T_STRING","addColumn",467],"(",["T_VARIABLE","$table",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$column",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$type",467],")",["T_WHITESPACE","\n    ",467],"{",["T_WHITESPACE","\n        ",468],["T_RETURN","return",469],["T_WHITESPACE"," ",469],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",469],["T_WHITESPACE"," ",469],".",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","db",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","quoteTableName",469],"(",["T_VARIABLE","$table",469],")",["T_WHITESPACE","\n            ",469],".",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","' ADD '",470],["T_WHITESPACE"," ",470],".",["T_WHITESPACE"," ",470],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","db",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","quoteColumnName",470],"(",["T_VARIABLE","$column",470],")",["T_WHITESPACE"," ",470],".",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","' '",470],["T_WHITESPACE","\n            ",470],".",["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getColumnType",471],"(",["T_VARIABLE","$type",471],")",";",["T_WHITESPACE","\n    ",471],"}",["T_WHITESPACE","\n\n    ",472],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for dropping a DB column.\n     * @param string $table the table whose column is to be dropped. The name will be properly quoted by the method.\n     * @param string $column the name of the column to be dropped. The name will be properly quoted by the method.\n     * @return string the SQL statement for dropping a DB column.\n     *\/",474],["T_WHITESPACE","\n    ",479],["T_PUBLIC","public",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","dropColumn",480],"(",["T_VARIABLE","$table",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$column",480],")",["T_WHITESPACE","\n    ",480],"{",["T_WHITESPACE","\n        ",481],["T_RETURN","return",482],["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",482],["T_WHITESPACE"," ",482],".",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","db",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","quoteTableName",482],"(",["T_VARIABLE","$table",482],")",["T_WHITESPACE","\n            ",482],".",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","' DROP COLUMN '",483],["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","db",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","quoteColumnName",483],"(",["T_VARIABLE","$column",483],")",";",["T_WHITESPACE","\n    ",483],"}",["T_WHITESPACE","\n\n    ",484],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for renaming a column.\n     * @param string $table the table whose column is to be renamed. The name will be properly quoted by the method.\n     * @param string $oldName the old name of the column. The name will be properly quoted by the method.\n     * @param string $newName the new name of the column. The name will be properly quoted by the method.\n     * @return string the SQL statement for renaming a DB column.\n     *\/",486],["T_WHITESPACE","\n    ",492],["T_PUBLIC","public",493],["T_WHITESPACE"," ",493],["T_FUNCTION","function",493],["T_WHITESPACE"," ",493],["T_STRING","renameColumn",493],"(",["T_VARIABLE","$table",493],",",["T_WHITESPACE"," ",493],["T_VARIABLE","$oldName",493],",",["T_WHITESPACE"," ",493],["T_VARIABLE","$newName",493],")",["T_WHITESPACE","\n    ",493],"{",["T_WHITESPACE","\n        ",494],["T_RETURN","return",495],["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",495],["T_WHITESPACE"," ",495],".",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","db",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","quoteTableName",495],"(",["T_VARIABLE","$table",495],")",["T_WHITESPACE","\n            ",495],".",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","' RENAME COLUMN '",496],["T_WHITESPACE"," ",496],".",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","db",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","quoteColumnName",496],"(",["T_VARIABLE","$oldName",496],")",["T_WHITESPACE","\n            ",496],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","' TO '",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","db",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","quoteColumnName",497],"(",["T_VARIABLE","$newName",497],")",";",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for changing the definition of a column.\n     * @param string $table the table whose column is to be changed. The table name will be properly quoted by the method.\n     * @param string $column the name of the column to be changed. The name will be properly quoted by the method.\n     * @param string $type the new column type. The [[getColumnType()]] method will be invoked to convert abstract\n     * column type (if any) into the physical one. Anything that is not recognized as abstract type will be kept\n     * in the generated SQL. For example, 'string' will be turned into 'varchar(255)', while 'string not null'\n     * will become 'varchar(255) not null'.\n     * @return string the SQL statement for changing the definition of a column.\n     *\/",500],["T_WHITESPACE","\n    ",509],["T_PUBLIC","public",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","alterColumn",510],"(",["T_VARIABLE","$table",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$column",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$type",510],")",["T_WHITESPACE","\n    ",510],"{",["T_WHITESPACE","\n        ",511],["T_RETURN","return",512],["T_WHITESPACE"," ",512],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",512],["T_WHITESPACE"," ",512],".",["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","db",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","quoteTableName",512],"(",["T_VARIABLE","$table",512],")",["T_WHITESPACE"," ",512],".",["T_WHITESPACE"," ",512],["T_CONSTANT_ENCAPSED_STRING","' CHANGE '",512],["T_WHITESPACE","\n            ",512],".",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","db",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","quoteColumnName",513],"(",["T_VARIABLE","$column",513],")",["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","' '",513],["T_WHITESPACE","\n            ",513],".",["T_WHITESPACE"," ",514],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","db",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","quoteColumnName",514],"(",["T_VARIABLE","$column",514],")",["T_WHITESPACE"," ",514],".",["T_WHITESPACE"," ",514],["T_CONSTANT_ENCAPSED_STRING","' '",514],["T_WHITESPACE","\n            ",514],".",["T_WHITESPACE"," ",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getColumnType",515],"(",["T_VARIABLE","$type",515],")",";",["T_WHITESPACE","\n    ",515],"}",["T_WHITESPACE","\n\n    ",516],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for adding a foreign key constraint to an existing table.\n     * The method will properly quote the table and column names.\n     * @param string $name the name of the foreign key constraint.\n     * @param string $table the table that the foreign key constraint will be added to.\n     * @param string|array $columns the name of the column to that the constraint will be added on.\n     * If there are multiple columns, separate them with commas or use an array to represent them.\n     * @param string $refTable the table that the foreign key references to.\n     * @param string|array $refColumns the name of the column that the foreign key references to.\n     * If there are multiple columns, separate them with commas or use an array to represent them.\n     * @param string $delete the ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL\n     * @param string $update the ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL\n     * @return string the SQL statement for adding a foreign key constraint to an existing table.\n     *\/",518],["T_WHITESPACE","\n    ",531],["T_PUBLIC","public",532],["T_WHITESPACE"," ",532],["T_FUNCTION","function",532],["T_WHITESPACE"," ",532],["T_STRING","addForeignKey",532],"(",["T_VARIABLE","$name",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$table",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$columns",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$refTable",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$refColumns",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$delete",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","null",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$update",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","null",532],")",["T_WHITESPACE","\n    ",532],"{",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$sql",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",534],["T_WHITESPACE"," ",534],".",["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","db",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","quoteTableName",534],"(",["T_VARIABLE","$table",534],")",["T_WHITESPACE","\n            ",534],".",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","' ADD CONSTRAINT '",535],["T_WHITESPACE"," ",535],".",["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","db",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","quoteColumnName",535],"(",["T_VARIABLE","$name",535],")",["T_WHITESPACE","\n            ",535],".",["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","' FOREIGN KEY ('",536],["T_WHITESPACE"," ",536],".",["T_WHITESPACE"," ",536],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","buildColumns",536],"(",["T_VARIABLE","$columns",536],")",["T_WHITESPACE"," ",536],".",["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","')'",536],["T_WHITESPACE","\n            ",536],".",["T_WHITESPACE"," ",537],["T_CONSTANT_ENCAPSED_STRING","' REFERENCES '",537],["T_WHITESPACE"," ",537],".",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","db",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","quoteTableName",537],"(",["T_VARIABLE","$refTable",537],")",["T_WHITESPACE","\n            ",537],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","' ('",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","buildColumns",538],"(",["T_VARIABLE","$refColumns",538],")",["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","')'",538],";",["T_WHITESPACE","\n        ",538],["T_IF","if",539],["T_WHITESPACE"," ",539],"(",["T_VARIABLE","$delete",539],["T_WHITESPACE"," ",539],["T_IS_NOT_IDENTICAL","!==",539],["T_WHITESPACE"," ",539],["T_STRING","null",539],")",["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n            ",539],["T_VARIABLE","$sql",540],["T_WHITESPACE"," ",540],["T_CONCAT_EQUAL",".=",540],["T_WHITESPACE"," ",540],["T_CONSTANT_ENCAPSED_STRING","' ON DELETE '",540],["T_WHITESPACE"," ",540],".",["T_WHITESPACE"," ",540],["T_VARIABLE","$delete",540],";",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE","\n        ",541],["T_IF","if",542],["T_WHITESPACE"," ",542],"(",["T_VARIABLE","$update",542],["T_WHITESPACE"," ",542],["T_IS_NOT_IDENTICAL","!==",542],["T_WHITESPACE"," ",542],["T_STRING","null",542],")",["T_WHITESPACE"," ",542],"{",["T_WHITESPACE","\n            ",542],["T_VARIABLE","$sql",543],["T_WHITESPACE"," ",543],["T_CONCAT_EQUAL",".=",543],["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","' ON UPDATE '",543],["T_WHITESPACE"," ",543],".",["T_WHITESPACE"," ",543],["T_VARIABLE","$update",543],";",["T_WHITESPACE","\n        ",543],"}",["T_WHITESPACE","\n\n        ",544],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$sql",546],";",["T_WHITESPACE","\n    ",546],"}",["T_WHITESPACE","\n\n    ",547],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for dropping a foreign key constraint.\n     * @param string $name the name of the foreign key constraint to be dropped. The name will be properly quoted by the method.\n     * @param string $table the table whose foreign is to be dropped. The name will be properly quoted by the method.\n     * @return string the SQL statement for dropping a foreign key constraint.\n     *\/",549],["T_WHITESPACE","\n    ",554],["T_PUBLIC","public",555],["T_WHITESPACE"," ",555],["T_FUNCTION","function",555],["T_WHITESPACE"," ",555],["T_STRING","dropForeignKey",555],"(",["T_VARIABLE","$name",555],",",["T_WHITESPACE"," ",555],["T_VARIABLE","$table",555],")",["T_WHITESPACE","\n    ",555],"{",["T_WHITESPACE","\n        ",556],["T_RETURN","return",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",557],["T_WHITESPACE"," ",557],".",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","db",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","quoteTableName",557],"(",["T_VARIABLE","$table",557],")",["T_WHITESPACE","\n            ",557],".",["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","' DROP CONSTRAINT '",558],["T_WHITESPACE"," ",558],".",["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","db",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","quoteColumnName",558],"(",["T_VARIABLE","$name",558],")",";",["T_WHITESPACE","\n    ",558],"}",["T_WHITESPACE","\n\n    ",559],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for creating a new index.\n     * @param string $name the name of the index. The name will be properly quoted by the method.\n     * @param string $table the table that the new index will be created for. The table name will be properly quoted by the method.\n     * @param string|array $columns the column(s) that should be included in the index. If there are multiple columns,\n     * separate them with commas or use an array to represent them. Each column name will be properly quoted\n     * by the method, unless a parenthesis is found in the name.\n     * @param bool $unique whether to add UNIQUE constraint on the created index.\n     * @return string the SQL statement for creating a new index.\n     *\/",561],["T_WHITESPACE","\n    ",570],["T_PUBLIC","public",571],["T_WHITESPACE"," ",571],["T_FUNCTION","function",571],["T_WHITESPACE"," ",571],["T_STRING","createIndex",571],"(",["T_VARIABLE","$name",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$table",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$columns",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$unique",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_STRING","false",571],")",["T_WHITESPACE","\n    ",571],"{",["T_WHITESPACE","\n        ",572],["T_RETURN","return",573],["T_WHITESPACE"," ",573],"(",["T_VARIABLE","$unique",573],["T_WHITESPACE"," ",573],"?",["T_WHITESPACE"," ",573],["T_CONSTANT_ENCAPSED_STRING","'CREATE UNIQUE INDEX '",573],["T_WHITESPACE"," ",573],":",["T_WHITESPACE"," ",573],["T_CONSTANT_ENCAPSED_STRING","'CREATE INDEX '",573],")",["T_WHITESPACE","\n            ",573],".",["T_WHITESPACE"," ",574],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","db",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","quoteTableName",574],"(",["T_VARIABLE","$name",574],")",["T_WHITESPACE"," ",574],".",["T_WHITESPACE"," ",574],["T_CONSTANT_ENCAPSED_STRING","' ON '",574],["T_WHITESPACE","\n            ",574],".",["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","db",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","quoteTableName",575],"(",["T_VARIABLE","$table",575],")",["T_WHITESPACE","\n            ",575],".",["T_WHITESPACE"," ",576],["T_CONSTANT_ENCAPSED_STRING","' ('",576],["T_WHITESPACE"," ",576],".",["T_WHITESPACE"," ",576],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","buildColumns",576],"(",["T_VARIABLE","$columns",576],")",["T_WHITESPACE"," ",576],".",["T_WHITESPACE"," ",576],["T_CONSTANT_ENCAPSED_STRING","')'",576],";",["T_WHITESPACE","\n    ",576],"}",["T_WHITESPACE","\n\n    ",577],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for dropping an index.\n     * @param string $name the name of the index to be dropped. The name will be properly quoted by the method.\n     * @param string $table the table whose index is to be dropped. The name will be properly quoted by the method.\n     * @return string the SQL statement for dropping an index.\n     *\/",579],["T_WHITESPACE","\n    ",584],["T_PUBLIC","public",585],["T_WHITESPACE"," ",585],["T_FUNCTION","function",585],["T_WHITESPACE"," ",585],["T_STRING","dropIndex",585],"(",["T_VARIABLE","$name",585],",",["T_WHITESPACE"," ",585],["T_VARIABLE","$table",585],")",["T_WHITESPACE","\n    ",585],"{",["T_WHITESPACE","\n        ",586],["T_RETURN","return",587],["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","'DROP INDEX '",587],["T_WHITESPACE"," ",587],".",["T_WHITESPACE"," ",587],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","db",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","quoteTableName",587],"(",["T_VARIABLE","$name",587],")",["T_WHITESPACE"," ",587],".",["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","' ON '",587],["T_WHITESPACE"," ",587],".",["T_WHITESPACE"," ",587],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","db",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","quoteTableName",587],"(",["T_VARIABLE","$table",587],")",";",["T_WHITESPACE","\n    ",587],"}",["T_WHITESPACE","\n\n    ",588],["T_DOC_COMMENT","\/**\n     * Creates a SQL statement for resetting the sequence value of a table's primary key.\n     * The sequence will be reset such that the primary key of the next new row inserted\n     * will have the specified value or 1.\n     * @param string $table the name of the table whose primary key sequence will be reset\n     * @param array|string $value the value for the primary key of the next new row inserted. If this is not set,\n     * the next new row's primary key will have a value 1.\n     * @return string the SQL statement for resetting sequence\n     * @throws NotSupportedException if this is not supported by the underlying DBMS\n     *\/",590],["T_WHITESPACE","\n    ",599],["T_PUBLIC","public",600],["T_WHITESPACE"," ",600],["T_FUNCTION","function",600],["T_WHITESPACE"," ",600],["T_STRING","resetSequence",600],"(",["T_VARIABLE","$table",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$value",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_STRING","null",600],")",["T_WHITESPACE","\n    ",600],"{",["T_WHITESPACE","\n        ",601],["T_THROW","throw",602],["T_WHITESPACE"," ",602],["T_NEW","new",602],["T_WHITESPACE"," ",602],["T_STRING","NotSupportedException",602],"(",["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","db",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getDriverName",602],"(",")",["T_WHITESPACE"," ",602],".",["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","' does not support resetting sequence.'",602],")",";",["T_WHITESPACE","\n    ",602],"}",["T_WHITESPACE","\n\n    ",603],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for enabling or disabling integrity check.\n     * @param bool $check whether to turn on or off the integrity check.\n     * @param string $schema the schema of the tables. Defaults to empty string, meaning the current or default schema.\n     * @param string $table the table name. Defaults to empty string, meaning that no table will be changed.\n     * @return string the SQL statement for checking integrity\n     * @throws NotSupportedException if this is not supported by the underlying DBMS\n     *\/",605],["T_WHITESPACE","\n    ",612],["T_PUBLIC","public",613],["T_WHITESPACE"," ",613],["T_FUNCTION","function",613],["T_WHITESPACE"," ",613],["T_STRING","checkIntegrity",613],"(",["T_VARIABLE","$check",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_STRING","true",613],",",["T_WHITESPACE"," ",613],["T_VARIABLE","$schema",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_CONSTANT_ENCAPSED_STRING","''",613],",",["T_WHITESPACE"," ",613],["T_VARIABLE","$table",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_CONSTANT_ENCAPSED_STRING","''",613],")",["T_WHITESPACE","\n    ",613],"{",["T_WHITESPACE","\n        ",614],["T_THROW","throw",615],["T_WHITESPACE"," ",615],["T_NEW","new",615],["T_WHITESPACE"," ",615],["T_STRING","NotSupportedException",615],"(",["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","db",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","getDriverName",615],"(",")",["T_WHITESPACE"," ",615],".",["T_WHITESPACE"," ",615],["T_CONSTANT_ENCAPSED_STRING","' does not support enabling\/disabling integrity check.'",615],")",";",["T_WHITESPACE","\n    ",615],"}",["T_WHITESPACE","\n\n    ",616],["T_DOC_COMMENT","\/**\n     * Builds a SQL command for adding comment to column\n     *\n     * @param string $table the table whose column is to be commented. The table name will be properly quoted by the method.\n     * @param string $column the name of the column to be commented. The column name will be properly quoted by the method.\n     * @param string $comment the text of the comment to be added. The comment will be properly quoted by the method.\n     * @return string the SQL statement for adding comment on column\n     * @since 2.0.8\n     *\/",618],["T_WHITESPACE","\n    ",626],["T_PUBLIC","public",627],["T_WHITESPACE"," ",627],["T_FUNCTION","function",627],["T_WHITESPACE"," ",627],["T_STRING","addCommentOnColumn",627],"(",["T_VARIABLE","$table",627],",",["T_WHITESPACE"," ",627],["T_VARIABLE","$column",627],",",["T_WHITESPACE"," ",627],["T_VARIABLE","$comment",627],")",["T_WHITESPACE","\n    ",627],"{",["T_WHITESPACE","\n\n        ",628],["T_RETURN","return",630],["T_WHITESPACE"," ",630],["T_CONSTANT_ENCAPSED_STRING","'COMMENT ON COLUMN '",630],["T_WHITESPACE"," ",630],".",["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","db",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","quoteTableName",630],"(",["T_VARIABLE","$table",630],")",["T_WHITESPACE"," ",630],".",["T_WHITESPACE"," ",630],["T_CONSTANT_ENCAPSED_STRING","'.'",630],["T_WHITESPACE"," ",630],".",["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","db",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","quoteColumnName",630],"(",["T_VARIABLE","$column",630],")",["T_WHITESPACE"," ",630],".",["T_WHITESPACE"," ",630],["T_CONSTANT_ENCAPSED_STRING","' IS '",630],["T_WHITESPACE"," ",630],".",["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","db",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","quoteValue",630],"(",["T_VARIABLE","$comment",630],")",";",["T_WHITESPACE","\n    ",630],"}",["T_WHITESPACE","\n\n    ",631],["T_DOC_COMMENT","\/**\n     * Builds a SQL command for adding comment to table\n     *\n     * @param string $table the table whose column is to be commented. The table name will be properly quoted by the method.\n     * @param string $comment the text of the comment to be added. The comment will be properly quoted by the method.\n     * @return string the SQL statement for adding comment on table\n     * @since 2.0.8\n     *\/",633],["T_WHITESPACE","\n    ",640],["T_PUBLIC","public",641],["T_WHITESPACE"," ",641],["T_FUNCTION","function",641],["T_WHITESPACE"," ",641],["T_STRING","addCommentOnTable",641],"(",["T_VARIABLE","$table",641],",",["T_WHITESPACE"," ",641],["T_VARIABLE","$comment",641],")",["T_WHITESPACE","\n    ",641],"{",["T_WHITESPACE","\n        ",642],["T_RETURN","return",643],["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'COMMENT ON TABLE '",643],["T_WHITESPACE"," ",643],".",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","db",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","quoteTableName",643],"(",["T_VARIABLE","$table",643],")",["T_WHITESPACE"," ",643],".",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","' IS '",643],["T_WHITESPACE"," ",643],".",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","db",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","quoteValue",643],"(",["T_VARIABLE","$comment",643],")",";",["T_WHITESPACE","\n    ",643],"}",["T_WHITESPACE","\n\n    ",644],["T_DOC_COMMENT","\/**\n     * Builds a SQL command for adding comment to column\n     *\n     * @param string $table the table whose column is to be commented. The table name will be properly quoted by the method.\n     * @param string $column the name of the column to be commented. The column name will be properly quoted by the method.\n     * @return string the SQL statement for adding comment on column\n     * @since 2.0.8\n     *\/",646],["T_WHITESPACE","\n    ",653],["T_PUBLIC","public",654],["T_WHITESPACE"," ",654],["T_FUNCTION","function",654],["T_WHITESPACE"," ",654],["T_STRING","dropCommentFromColumn",654],"(",["T_VARIABLE","$table",654],",",["T_WHITESPACE"," ",654],["T_VARIABLE","$column",654],")",["T_WHITESPACE","\n    ",654],"{",["T_WHITESPACE","\n        ",655],["T_RETURN","return",656],["T_WHITESPACE"," ",656],["T_CONSTANT_ENCAPSED_STRING","'COMMENT ON COLUMN '",656],["T_WHITESPACE"," ",656],".",["T_WHITESPACE"," ",656],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","db",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","quoteTableName",656],"(",["T_VARIABLE","$table",656],")",["T_WHITESPACE"," ",656],".",["T_WHITESPACE"," ",656],["T_CONSTANT_ENCAPSED_STRING","'.'",656],["T_WHITESPACE"," ",656],".",["T_WHITESPACE"," ",656],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","db",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","quoteColumnName",656],"(",["T_VARIABLE","$column",656],")",["T_WHITESPACE"," ",656],".",["T_WHITESPACE"," ",656],["T_CONSTANT_ENCAPSED_STRING","' IS NULL'",656],";",["T_WHITESPACE","\n    ",656],"}",["T_WHITESPACE","\n\n    ",657],["T_DOC_COMMENT","\/**\n     * Builds a SQL command for adding comment to table\n     *\n     * @param string $table the table whose column is to be commented. The table name will be properly quoted by the method.\n     * @return string the SQL statement for adding comment on column\n     * @since 2.0.8\n     *\/",659],["T_WHITESPACE","\n    ",665],["T_PUBLIC","public",666],["T_WHITESPACE"," ",666],["T_FUNCTION","function",666],["T_WHITESPACE"," ",666],["T_STRING","dropCommentFromTable",666],"(",["T_VARIABLE","$table",666],")",["T_WHITESPACE","\n    ",666],"{",["T_WHITESPACE","\n        ",667],["T_RETURN","return",668],["T_WHITESPACE"," ",668],["T_CONSTANT_ENCAPSED_STRING","'COMMENT ON TABLE '",668],["T_WHITESPACE"," ",668],".",["T_WHITESPACE"," ",668],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","db",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","quoteTableName",668],"(",["T_VARIABLE","$table",668],")",["T_WHITESPACE"," ",668],".",["T_WHITESPACE"," ",668],["T_CONSTANT_ENCAPSED_STRING","' IS NULL'",668],";",["T_WHITESPACE","\n    ",668],"}",["T_WHITESPACE","\n\n    ",669],["T_DOC_COMMENT","\/**\n     * Converts an abstract column type into a physical column type.\n     * The conversion is done using the type map specified in [[typeMap]].\n     * The following abstract column types are supported (using MySQL as an example to explain the corresponding\n     * physical types):\n     *\n     * - `pk`: an auto-incremental primary key type, will be converted into \"int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY\"\n     * - `bigpk`: an auto-incremental primary key type, will be converted into \"bigint(20) NOT NULL AUTO_INCREMENT PRIMARY KEY\"\n     * - `unsignedpk`: an unsigned auto-incremental primary key type, will be converted into \"int(11) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY\"\n     * - `char`: char type, will be converted into \"char(1)\"\n     * - `string`: string type, will be converted into \"varchar(255)\"\n     * - `text`: a long string type, will be converted into \"text\"\n     * - `smallint`: a small integer type, will be converted into \"smallint(6)\"\n     * - `integer`: integer type, will be converted into \"int(11)\"\n     * - `bigint`: a big integer type, will be converted into \"bigint(20)\"\n     * - `boolean`: boolean type, will be converted into \"tinyint(1)\"\n     * - `float``: float number type, will be converted into \"float\"\n     * - `decimal`: decimal number type, will be converted into \"decimal\"\n     * - `datetime`: datetime type, will be converted into \"datetime\"\n     * - `timestamp`: timestamp type, will be converted into \"timestamp\"\n     * - `time`: time type, will be converted into \"time\"\n     * - `date`: date type, will be converted into \"date\"\n     * - `money`: money type, will be converted into \"decimal(19,4)\"\n     * - `binary`: binary data type, will be converted into \"blob\"\n     *\n     * If the abstract type contains two or more parts separated by spaces (e.g. \"string NOT NULL\"), then only\n     * the first part will be converted, and the rest of the parts will be appended to the converted result.\n     * For example, 'string NOT NULL' is converted to 'varchar(255) NOT NULL'.\n     *\n     * For some of the abstract types you can also specify a length or precision constraint\n     * by appending it in round brackets directly to the type.\n     * For example `string(32)` will be converted into \"varchar(32)\" on a MySQL database.\n     * If the underlying DBMS does not support these kind of constraints for a type it will\n     * be ignored.\n     *\n     * If a type cannot be found in [[typeMap]], it will be returned without any change.\n     * @param string|ColumnSchemaBuilder $type abstract column type\n     * @return string physical column type.\n     *\/",671],["T_WHITESPACE","\n    ",709],["T_PUBLIC","public",710],["T_WHITESPACE"," ",710],["T_FUNCTION","function",710],["T_WHITESPACE"," ",710],["T_STRING","getColumnType",710],"(",["T_VARIABLE","$type",710],")",["T_WHITESPACE","\n    ",710],"{",["T_WHITESPACE","\n        ",711],["T_IF","if",712],["T_WHITESPACE"," ",712],"(",["T_VARIABLE","$type",712],["T_WHITESPACE"," ",712],["T_INSTANCEOF","instanceof",712],["T_WHITESPACE"," ",712],["T_STRING","ColumnSchemaBuilder",712],")",["T_WHITESPACE"," ",712],"{",["T_WHITESPACE","\n            ",712],["T_VARIABLE","$type",713],["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],["T_VARIABLE","$type",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","__toString",713],"(",")",";",["T_WHITESPACE","\n        ",713],"}",["T_WHITESPACE","\n\n        ",714],["T_IF","if",716],["T_WHITESPACE"," ",716],"(",["T_ISSET","isset",716],"(",["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","typeMap",716],"[",["T_VARIABLE","$type",716],"]",")",")",["T_WHITESPACE"," ",716],"{",["T_WHITESPACE","\n            ",716],["T_RETURN","return",717],["T_WHITESPACE"," ",717],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","typeMap",717],"[",["T_VARIABLE","$type",717],"]",";",["T_WHITESPACE","\n        ",717],"}",["T_WHITESPACE"," ",718],["T_ELSEIF","elseif",718],["T_WHITESPACE"," ",718],"(",["T_STRING","preg_match",718],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(\\w+)\\((.+?)\\)(.*)$\/'",718],",",["T_WHITESPACE"," ",718],["T_VARIABLE","$type",718],",",["T_WHITESPACE"," ",718],["T_VARIABLE","$matches",718],")",")",["T_WHITESPACE"," ",718],"{",["T_WHITESPACE","\n            ",718],["T_IF","if",719],["T_WHITESPACE"," ",719],"(",["T_ISSET","isset",719],"(",["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","typeMap",719],"[",["T_VARIABLE","$matches",719],"[",["T_LNUMBER","1",719],"]","]",")",")",["T_WHITESPACE"," ",719],"{",["T_WHITESPACE","\n                ",719],["T_RETURN","return",720],["T_WHITESPACE"," ",720],["T_STRING","preg_replace",720],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\(.+\\)\/'",720],",",["T_WHITESPACE"," ",720],["T_CONSTANT_ENCAPSED_STRING","'('",720],["T_WHITESPACE"," ",720],".",["T_WHITESPACE"," ",720],["T_VARIABLE","$matches",720],"[",["T_LNUMBER","2",720],"]",["T_WHITESPACE"," ",720],".",["T_WHITESPACE"," ",720],["T_CONSTANT_ENCAPSED_STRING","')'",720],",",["T_WHITESPACE"," ",720],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","typeMap",720],"[",["T_VARIABLE","$matches",720],"[",["T_LNUMBER","1",720],"]","]",")",["T_WHITESPACE"," ",720],".",["T_WHITESPACE"," ",720],["T_VARIABLE","$matches",720],"[",["T_LNUMBER","3",720],"]",";",["T_WHITESPACE","\n            ",720],"}",["T_WHITESPACE","\n        ",721],"}",["T_WHITESPACE"," ",722],["T_ELSEIF","elseif",722],["T_WHITESPACE"," ",722],"(",["T_STRING","preg_match",722],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(\\w+)\\s+\/'",722],",",["T_WHITESPACE"," ",722],["T_VARIABLE","$type",722],",",["T_WHITESPACE"," ",722],["T_VARIABLE","$matches",722],")",")",["T_WHITESPACE"," ",722],"{",["T_WHITESPACE","\n            ",722],["T_IF","if",723],["T_WHITESPACE"," ",723],"(",["T_ISSET","isset",723],"(",["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","typeMap",723],"[",["T_VARIABLE","$matches",723],"[",["T_LNUMBER","1",723],"]","]",")",")",["T_WHITESPACE"," ",723],"{",["T_WHITESPACE","\n                ",723],["T_RETURN","return",724],["T_WHITESPACE"," ",724],["T_STRING","preg_replace",724],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\w+\/'",724],",",["T_WHITESPACE"," ",724],["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","typeMap",724],"[",["T_VARIABLE","$matches",724],"[",["T_LNUMBER","1",724],"]","]",",",["T_WHITESPACE"," ",724],["T_VARIABLE","$type",724],")",";",["T_WHITESPACE","\n            ",724],"}",["T_WHITESPACE","\n        ",725],"}",["T_WHITESPACE","\n\n        ",726],["T_RETURN","return",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$type",728],";",["T_WHITESPACE","\n    ",728],"}",["T_WHITESPACE","\n\n    ",729],["T_DOC_COMMENT","\/**\n     * @param array $columns\n     * @param array $params the binding parameters to be populated\n     * @param bool $distinct\n     * @param string $selectOption\n     * @return string the SELECT clause built from [[Query::$select]].\n     *\/",731],["T_WHITESPACE","\n    ",737],["T_PUBLIC","public",738],["T_WHITESPACE"," ",738],["T_FUNCTION","function",738],["T_WHITESPACE"," ",738],["T_STRING","buildSelect",738],"(",["T_VARIABLE","$columns",738],",",["T_WHITESPACE"," ",738],"&",["T_VARIABLE","$params",738],",",["T_WHITESPACE"," ",738],["T_VARIABLE","$distinct",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_STRING","false",738],",",["T_WHITESPACE"," ",738],["T_VARIABLE","$selectOption",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_STRING","null",738],")",["T_WHITESPACE","\n    ",738],"{",["T_WHITESPACE","\n        ",739],["T_VARIABLE","$select",740],["T_WHITESPACE"," ",740],"=",["T_WHITESPACE"," ",740],["T_VARIABLE","$distinct",740],["T_WHITESPACE"," ",740],"?",["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","'SELECT DISTINCT'",740],["T_WHITESPACE"," ",740],":",["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","'SELECT'",740],";",["T_WHITESPACE","\n        ",740],["T_IF","if",741],["T_WHITESPACE"," ",741],"(",["T_VARIABLE","$selectOption",741],["T_WHITESPACE"," ",741],["T_IS_NOT_IDENTICAL","!==",741],["T_WHITESPACE"," ",741],["T_STRING","null",741],")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n            ",741],["T_VARIABLE","$select",742],["T_WHITESPACE"," ",742],["T_CONCAT_EQUAL",".=",742],["T_WHITESPACE"," ",742],["T_CONSTANT_ENCAPSED_STRING","' '",742],["T_WHITESPACE"," ",742],".",["T_WHITESPACE"," ",742],["T_VARIABLE","$selectOption",742],";",["T_WHITESPACE","\n        ",742],"}",["T_WHITESPACE","\n\n        ",743],["T_IF","if",745],["T_WHITESPACE"," ",745],"(",["T_EMPTY","empty",745],"(",["T_VARIABLE","$columns",745],")",")",["T_WHITESPACE"," ",745],"{",["T_WHITESPACE","\n            ",745],["T_RETURN","return",746],["T_WHITESPACE"," ",746],["T_VARIABLE","$select",746],["T_WHITESPACE"," ",746],".",["T_WHITESPACE"," ",746],["T_CONSTANT_ENCAPSED_STRING","' *'",746],";",["T_WHITESPACE","\n        ",746],"}",["T_WHITESPACE","\n\n        ",747],["T_FOREACH","foreach",749],["T_WHITESPACE"," ",749],"(",["T_VARIABLE","$columns",749],["T_WHITESPACE"," ",749],["T_AS","as",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$i",749],["T_WHITESPACE"," ",749],["T_DOUBLE_ARROW","=>",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$column",749],")",["T_WHITESPACE"," ",749],"{",["T_WHITESPACE","\n            ",749],["T_IF","if",750],["T_WHITESPACE"," ",750],"(",["T_VARIABLE","$column",750],["T_WHITESPACE"," ",750],["T_INSTANCEOF","instanceof",750],["T_WHITESPACE"," ",750],["T_STRING","Expression",750],")",["T_WHITESPACE"," ",750],"{",["T_WHITESPACE","\n                ",750],["T_IF","if",751],["T_WHITESPACE"," ",751],"(",["T_STRING","is_int",751],"(",["T_VARIABLE","$i",751],")",")",["T_WHITESPACE"," ",751],"{",["T_WHITESPACE","\n                    ",751],["T_VARIABLE","$columns",752],"[",["T_VARIABLE","$i",752],"]",["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_VARIABLE","$column",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","expression",752],";",["T_WHITESPACE","\n                ",752],"}",["T_WHITESPACE"," ",753],["T_ELSE","else",753],["T_WHITESPACE"," ",753],"{",["T_WHITESPACE","\n                    ",753],["T_VARIABLE","$columns",754],"[",["T_VARIABLE","$i",754],"]",["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_VARIABLE","$column",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","expression",754],["T_WHITESPACE"," ",754],".",["T_WHITESPACE"," ",754],["T_CONSTANT_ENCAPSED_STRING","' AS '",754],["T_WHITESPACE"," ",754],".",["T_WHITESPACE"," ",754],["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","db",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","quoteColumnName",754],"(",["T_VARIABLE","$i",754],")",";",["T_WHITESPACE","\n                ",754],"}",["T_WHITESPACE","\n                ",755],["T_VARIABLE","$params",756],["T_WHITESPACE"," ",756],"=",["T_WHITESPACE"," ",756],["T_STRING","array_merge",756],"(",["T_VARIABLE","$params",756],",",["T_WHITESPACE"," ",756],["T_VARIABLE","$column",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","params",756],")",";",["T_WHITESPACE","\n            ",756],"}",["T_WHITESPACE"," ",757],["T_ELSEIF","elseif",757],["T_WHITESPACE"," ",757],"(",["T_VARIABLE","$column",757],["T_WHITESPACE"," ",757],["T_INSTANCEOF","instanceof",757],["T_WHITESPACE"," ",757],["T_STRING","Query",757],")",["T_WHITESPACE"," ",757],"{",["T_WHITESPACE","\n                ",757],["T_LIST","list",758],"(",["T_VARIABLE","$sql",758],",",["T_WHITESPACE"," ",758],["T_VARIABLE","$params",758],")",["T_WHITESPACE"," ",758],"=",["T_WHITESPACE"," ",758],["T_VARIABLE","$this",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","build",758],"(",["T_VARIABLE","$column",758],",",["T_WHITESPACE"," ",758],["T_VARIABLE","$params",758],")",";",["T_WHITESPACE","\n                ",758],["T_VARIABLE","$columns",759],"[",["T_VARIABLE","$i",759],"]",["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],"\"",["T_ENCAPSED_AND_WHITESPACE","(",759],["T_VARIABLE","$sql",759],["T_ENCAPSED_AND_WHITESPACE",") AS ",759],"\"",["T_WHITESPACE"," ",759],".",["T_WHITESPACE"," ",759],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","db",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","quoteColumnName",759],"(",["T_VARIABLE","$i",759],")",";",["T_WHITESPACE","\n            ",759],"}",["T_WHITESPACE"," ",760],["T_ELSEIF","elseif",760],["T_WHITESPACE"," ",760],"(",["T_STRING","is_string",760],"(",["T_VARIABLE","$i",760],")",")",["T_WHITESPACE"," ",760],"{",["T_WHITESPACE","\n                ",760],["T_IF","if",761],["T_WHITESPACE"," ",761],"(",["T_STRING","strpos",761],"(",["T_VARIABLE","$column",761],",",["T_WHITESPACE"," ",761],["T_CONSTANT_ENCAPSED_STRING","'('",761],")",["T_WHITESPACE"," ",761],["T_IS_IDENTICAL","===",761],["T_WHITESPACE"," ",761],["T_STRING","false",761],")",["T_WHITESPACE"," ",761],"{",["T_WHITESPACE","\n                    ",761],["T_VARIABLE","$column",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","db",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","quoteColumnName",762],"(",["T_VARIABLE","$column",762],")",";",["T_WHITESPACE","\n                ",762],"}",["T_WHITESPACE","\n                ",763],["T_VARIABLE","$columns",764],"[",["T_VARIABLE","$i",764],"]",["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],"\"",["T_VARIABLE","$column",764],["T_ENCAPSED_AND_WHITESPACE"," AS ",764],"\"",["T_WHITESPACE"," ",764],".",["T_WHITESPACE"," ",764],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","db",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","quoteColumnName",764],"(",["T_VARIABLE","$i",764],")",";",["T_WHITESPACE","\n            ",764],"}",["T_WHITESPACE"," ",765],["T_ELSEIF","elseif",765],["T_WHITESPACE"," ",765],"(",["T_STRING","strpos",765],"(",["T_VARIABLE","$column",765],",",["T_WHITESPACE"," ",765],["T_CONSTANT_ENCAPSED_STRING","'('",765],")",["T_WHITESPACE"," ",765],["T_IS_IDENTICAL","===",765],["T_WHITESPACE"," ",765],["T_STRING","false",765],")",["T_WHITESPACE"," ",765],"{",["T_WHITESPACE","\n                ",765],["T_IF","if",766],["T_WHITESPACE"," ",766],"(",["T_STRING","preg_match",766],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(.*?)(?i:\\s+as\\s+|\\s+)([\\w\\-_\\.]+)$\/'",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$column",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$matches",766],")",")",["T_WHITESPACE"," ",766],"{",["T_WHITESPACE","\n                    ",766],["T_VARIABLE","$columns",767],"[",["T_VARIABLE","$i",767],"]",["T_WHITESPACE"," ",767],"=",["T_WHITESPACE"," ",767],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","db",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","quoteColumnName",767],"(",["T_VARIABLE","$matches",767],"[",["T_LNUMBER","1",767],"]",")",["T_WHITESPACE"," ",767],".",["T_WHITESPACE"," ",767],["T_CONSTANT_ENCAPSED_STRING","' AS '",767],["T_WHITESPACE"," ",767],".",["T_WHITESPACE"," ",767],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","db",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","quoteColumnName",767],"(",["T_VARIABLE","$matches",767],"[",["T_LNUMBER","2",767],"]",")",";",["T_WHITESPACE","\n                ",767],"}",["T_WHITESPACE"," ",768],["T_ELSE","else",768],["T_WHITESPACE"," ",768],"{",["T_WHITESPACE","\n                    ",768],["T_VARIABLE","$columns",769],"[",["T_VARIABLE","$i",769],"]",["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","db",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","quoteColumnName",769],"(",["T_VARIABLE","$column",769],")",";",["T_WHITESPACE","\n                ",769],"}",["T_WHITESPACE","\n            ",770],"}",["T_WHITESPACE","\n        ",771],"}",["T_WHITESPACE","\n\n        ",772],["T_RETURN","return",774],["T_WHITESPACE"," ",774],["T_VARIABLE","$select",774],["T_WHITESPACE"," ",774],".",["T_WHITESPACE"," ",774],["T_CONSTANT_ENCAPSED_STRING","' '",774],["T_WHITESPACE"," ",774],".",["T_WHITESPACE"," ",774],["T_STRING","implode",774],"(",["T_CONSTANT_ENCAPSED_STRING","', '",774],",",["T_WHITESPACE"," ",774],["T_VARIABLE","$columns",774],")",";",["T_WHITESPACE","\n    ",774],"}",["T_WHITESPACE","\n\n    ",775],["T_DOC_COMMENT","\/**\n     * @param array $tables\n     * @param array $params the binding parameters to be populated\n     * @return string the FROM clause built from [[Query::$from]].\n     *\/",777],["T_WHITESPACE","\n    ",781],["T_PUBLIC","public",782],["T_WHITESPACE"," ",782],["T_FUNCTION","function",782],["T_WHITESPACE"," ",782],["T_STRING","buildFrom",782],"(",["T_VARIABLE","$tables",782],",",["T_WHITESPACE"," ",782],"&",["T_VARIABLE","$params",782],")",["T_WHITESPACE","\n    ",782],"{",["T_WHITESPACE","\n        ",783],["T_IF","if",784],["T_WHITESPACE"," ",784],"(",["T_EMPTY","empty",784],"(",["T_VARIABLE","$tables",784],")",")",["T_WHITESPACE"," ",784],"{",["T_WHITESPACE","\n            ",784],["T_RETURN","return",785],["T_WHITESPACE"," ",785],["T_CONSTANT_ENCAPSED_STRING","''",785],";",["T_WHITESPACE","\n        ",785],"}",["T_WHITESPACE","\n\n        ",786],["T_VARIABLE","$tables",788],["T_WHITESPACE"," ",788],"=",["T_WHITESPACE"," ",788],["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","quoteTableNames",788],"(",["T_VARIABLE","$tables",788],",",["T_WHITESPACE"," ",788],["T_VARIABLE","$params",788],")",";",["T_WHITESPACE","\n\n        ",788],["T_RETURN","return",790],["T_WHITESPACE"," ",790],["T_CONSTANT_ENCAPSED_STRING","'FROM '",790],["T_WHITESPACE"," ",790],".",["T_WHITESPACE"," ",790],["T_STRING","implode",790],"(",["T_CONSTANT_ENCAPSED_STRING","', '",790],",",["T_WHITESPACE"," ",790],["T_VARIABLE","$tables",790],")",";",["T_WHITESPACE","\n    ",790],"}",["T_WHITESPACE","\n\n    ",791],["T_DOC_COMMENT","\/**\n     * @param array $joins\n     * @param array $params the binding parameters to be populated\n     * @return string the JOIN clause built from [[Query::$join]].\n     * @throws Exception if the $joins parameter is not in proper format\n     *\/",793],["T_WHITESPACE","\n    ",798],["T_PUBLIC","public",799],["T_WHITESPACE"," ",799],["T_FUNCTION","function",799],["T_WHITESPACE"," ",799],["T_STRING","buildJoin",799],"(",["T_VARIABLE","$joins",799],",",["T_WHITESPACE"," ",799],"&",["T_VARIABLE","$params",799],")",["T_WHITESPACE","\n    ",799],"{",["T_WHITESPACE","\n        ",800],["T_IF","if",801],["T_WHITESPACE"," ",801],"(",["T_EMPTY","empty",801],"(",["T_VARIABLE","$joins",801],")",")",["T_WHITESPACE"," ",801],"{",["T_WHITESPACE","\n            ",801],["T_RETURN","return",802],["T_WHITESPACE"," ",802],["T_CONSTANT_ENCAPSED_STRING","''",802],";",["T_WHITESPACE","\n        ",802],"}",["T_WHITESPACE","\n\n        ",803],["T_FOREACH","foreach",805],["T_WHITESPACE"," ",805],"(",["T_VARIABLE","$joins",805],["T_WHITESPACE"," ",805],["T_AS","as",805],["T_WHITESPACE"," ",805],["T_VARIABLE","$i",805],["T_WHITESPACE"," ",805],["T_DOUBLE_ARROW","=>",805],["T_WHITESPACE"," ",805],["T_VARIABLE","$join",805],")",["T_WHITESPACE"," ",805],"{",["T_WHITESPACE","\n            ",805],["T_IF","if",806],["T_WHITESPACE"," ",806],"(","!",["T_STRING","is_array",806],"(",["T_VARIABLE","$join",806],")",["T_WHITESPACE"," ",806],["T_BOOLEAN_OR","||",806],["T_WHITESPACE"," ",806],"!",["T_ISSET","isset",806],"(",["T_VARIABLE","$join",806],"[",["T_LNUMBER","0",806],"]",",",["T_WHITESPACE"," ",806],["T_VARIABLE","$join",806],"[",["T_LNUMBER","1",806],"]",")",")",["T_WHITESPACE"," ",806],"{",["T_WHITESPACE","\n                ",806],["T_THROW","throw",807],["T_WHITESPACE"," ",807],["T_NEW","new",807],["T_WHITESPACE"," ",807],["T_STRING","Exception",807],"(",["T_CONSTANT_ENCAPSED_STRING","'A join clause must be specified as an array of join type, join table, and optionally join condition.'",807],")",";",["T_WHITESPACE","\n            ",807],"}",["T_WHITESPACE","\n            ",808],["T_COMMENT","\/\/ 0:join type, 1:join table, 2:on-condition (optional)\n",809],["T_WHITESPACE","            ",810],["T_LIST","list",810],["T_WHITESPACE"," ",810],"(",["T_VARIABLE","$joinType",810],",",["T_WHITESPACE"," ",810],["T_VARIABLE","$table",810],")",["T_WHITESPACE"," ",810],"=",["T_WHITESPACE"," ",810],["T_VARIABLE","$join",810],";",["T_WHITESPACE","\n            ",810],["T_VARIABLE","$tables",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","quoteTableNames",811],"(",["T_ARRAY_CAST","(array)",811],["T_WHITESPACE"," ",811],["T_VARIABLE","$table",811],",",["T_WHITESPACE"," ",811],["T_VARIABLE","$params",811],")",";",["T_WHITESPACE","\n            ",811],["T_VARIABLE","$table",812],["T_WHITESPACE"," ",812],"=",["T_WHITESPACE"," ",812],["T_STRING","reset",812],"(",["T_VARIABLE","$tables",812],")",";",["T_WHITESPACE","\n            ",812],["T_VARIABLE","$joins",813],"[",["T_VARIABLE","$i",813],"]",["T_WHITESPACE"," ",813],"=",["T_WHITESPACE"," ",813],"\"",["T_VARIABLE","$joinType",813],["T_ENCAPSED_AND_WHITESPACE"," ",813],["T_VARIABLE","$table",813],"\"",";",["T_WHITESPACE","\n            ",813],["T_IF","if",814],["T_WHITESPACE"," ",814],"(",["T_ISSET","isset",814],"(",["T_VARIABLE","$join",814],"[",["T_LNUMBER","2",814],"]",")",")",["T_WHITESPACE"," ",814],"{",["T_WHITESPACE","\n                ",814],["T_VARIABLE","$condition",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","buildCondition",815],"(",["T_VARIABLE","$join",815],"[",["T_LNUMBER","2",815],"]",",",["T_WHITESPACE"," ",815],["T_VARIABLE","$params",815],")",";",["T_WHITESPACE","\n                ",815],["T_IF","if",816],["T_WHITESPACE"," ",816],"(",["T_VARIABLE","$condition",816],["T_WHITESPACE"," ",816],["T_IS_NOT_IDENTICAL","!==",816],["T_WHITESPACE"," ",816],["T_CONSTANT_ENCAPSED_STRING","''",816],")",["T_WHITESPACE"," ",816],"{",["T_WHITESPACE","\n                    ",816],["T_VARIABLE","$joins",817],"[",["T_VARIABLE","$i",817],"]",["T_WHITESPACE"," ",817],["T_CONCAT_EQUAL",".=",817],["T_WHITESPACE"," ",817],["T_CONSTANT_ENCAPSED_STRING","' ON '",817],["T_WHITESPACE"," ",817],".",["T_WHITESPACE"," ",817],["T_VARIABLE","$condition",817],";",["T_WHITESPACE","\n                ",817],"}",["T_WHITESPACE","\n            ",818],"}",["T_WHITESPACE","\n        ",819],"}",["T_WHITESPACE","\n\n        ",820],["T_RETURN","return",822],["T_WHITESPACE"," ",822],["T_STRING","implode",822],"(",["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","separator",822],",",["T_WHITESPACE"," ",822],["T_VARIABLE","$joins",822],")",";",["T_WHITESPACE","\n    ",822],"}",["T_WHITESPACE","\n\n    ",823],["T_DOC_COMMENT","\/**\n     * Quotes table names passed\n     *\n     * @param array $tables\n     * @param array $params\n     * @return array\n     *\/",825],["T_WHITESPACE","\n    ",831],["T_PRIVATE","private",832],["T_WHITESPACE"," ",832],["T_FUNCTION","function",832],["T_WHITESPACE"," ",832],["T_STRING","quoteTableNames",832],"(",["T_VARIABLE","$tables",832],",",["T_WHITESPACE"," ",832],"&",["T_VARIABLE","$params",832],")",["T_WHITESPACE","\n    ",832],"{",["T_WHITESPACE","\n        ",833],["T_FOREACH","foreach",834],["T_WHITESPACE"," ",834],"(",["T_VARIABLE","$tables",834],["T_WHITESPACE"," ",834],["T_AS","as",834],["T_WHITESPACE"," ",834],["T_VARIABLE","$i",834],["T_WHITESPACE"," ",834],["T_DOUBLE_ARROW","=>",834],["T_WHITESPACE"," ",834],["T_VARIABLE","$table",834],")",["T_WHITESPACE"," ",834],"{",["T_WHITESPACE","\n            ",834],["T_IF","if",835],["T_WHITESPACE"," ",835],"(",["T_VARIABLE","$table",835],["T_WHITESPACE"," ",835],["T_INSTANCEOF","instanceof",835],["T_WHITESPACE"," ",835],["T_STRING","Query",835],")",["T_WHITESPACE"," ",835],"{",["T_WHITESPACE","\n                ",835],["T_LIST","list",836],"(",["T_VARIABLE","$sql",836],",",["T_WHITESPACE"," ",836],["T_VARIABLE","$params",836],")",["T_WHITESPACE"," ",836],"=",["T_WHITESPACE"," ",836],["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","build",836],"(",["T_VARIABLE","$table",836],",",["T_WHITESPACE"," ",836],["T_VARIABLE","$params",836],")",";",["T_WHITESPACE","\n                ",836],["T_VARIABLE","$tables",837],"[",["T_VARIABLE","$i",837],"]",["T_WHITESPACE"," ",837],"=",["T_WHITESPACE"," ",837],"\"",["T_ENCAPSED_AND_WHITESPACE","(",837],["T_VARIABLE","$sql",837],["T_ENCAPSED_AND_WHITESPACE",") ",837],"\"",["T_WHITESPACE"," ",837],".",["T_WHITESPACE"," ",837],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","db",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","quoteTableName",837],"(",["T_VARIABLE","$i",837],")",";",["T_WHITESPACE","\n            ",837],"}",["T_WHITESPACE"," ",838],["T_ELSEIF","elseif",838],["T_WHITESPACE"," ",838],"(",["T_STRING","is_string",838],"(",["T_VARIABLE","$i",838],")",")",["T_WHITESPACE"," ",838],"{",["T_WHITESPACE","\n                ",838],["T_IF","if",839],["T_WHITESPACE"," ",839],"(",["T_STRING","strpos",839],"(",["T_VARIABLE","$table",839],",",["T_WHITESPACE"," ",839],["T_CONSTANT_ENCAPSED_STRING","'('",839],")",["T_WHITESPACE"," ",839],["T_IS_IDENTICAL","===",839],["T_WHITESPACE"," ",839],["T_STRING","false",839],")",["T_WHITESPACE"," ",839],"{",["T_WHITESPACE","\n                    ",839],["T_VARIABLE","$table",840],["T_WHITESPACE"," ",840],"=",["T_WHITESPACE"," ",840],["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","db",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","quoteTableName",840],"(",["T_VARIABLE","$table",840],")",";",["T_WHITESPACE","\n                ",840],"}",["T_WHITESPACE","\n                ",841],["T_VARIABLE","$tables",842],"[",["T_VARIABLE","$i",842],"]",["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],"\"",["T_VARIABLE","$table",842],["T_ENCAPSED_AND_WHITESPACE"," ",842],"\"",["T_WHITESPACE"," ",842],".",["T_WHITESPACE"," ",842],["T_VARIABLE","$this",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","db",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","quoteTableName",842],"(",["T_VARIABLE","$i",842],")",";",["T_WHITESPACE","\n            ",842],"}",["T_WHITESPACE"," ",843],["T_ELSEIF","elseif",843],["T_WHITESPACE"," ",843],"(",["T_STRING","strpos",843],"(",["T_VARIABLE","$table",843],",",["T_WHITESPACE"," ",843],["T_CONSTANT_ENCAPSED_STRING","'('",843],")",["T_WHITESPACE"," ",843],["T_IS_IDENTICAL","===",843],["T_WHITESPACE"," ",843],["T_STRING","false",843],")",["T_WHITESPACE"," ",843],"{",["T_WHITESPACE","\n                ",843],["T_IF","if",844],["T_WHITESPACE"," ",844],"(",["T_STRING","preg_match",844],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(.*?)(?i:\\s+as|)\\s+([^ ]+)$\/'",844],",",["T_WHITESPACE"," ",844],["T_VARIABLE","$table",844],",",["T_WHITESPACE"," ",844],["T_VARIABLE","$matches",844],")",")",["T_WHITESPACE"," ",844],"{",["T_WHITESPACE"," ",844],["T_COMMENT","\/\/ with alias\n",844],["T_WHITESPACE","                    ",845],["T_VARIABLE","$tables",845],"[",["T_VARIABLE","$i",845],"]",["T_WHITESPACE"," ",845],"=",["T_WHITESPACE"," ",845],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","db",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","quoteTableName",845],"(",["T_VARIABLE","$matches",845],"[",["T_LNUMBER","1",845],"]",")",["T_WHITESPACE"," ",845],".",["T_WHITESPACE"," ",845],["T_CONSTANT_ENCAPSED_STRING","' '",845],["T_WHITESPACE"," ",845],".",["T_WHITESPACE"," ",845],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","db",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","quoteTableName",845],"(",["T_VARIABLE","$matches",845],"[",["T_LNUMBER","2",845],"]",")",";",["T_WHITESPACE","\n                ",845],"}",["T_WHITESPACE"," ",846],["T_ELSE","else",846],["T_WHITESPACE"," ",846],"{",["T_WHITESPACE","\n                    ",846],["T_VARIABLE","$tables",847],"[",["T_VARIABLE","$i",847],"]",["T_WHITESPACE"," ",847],"=",["T_WHITESPACE"," ",847],["T_VARIABLE","$this",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","db",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","quoteTableName",847],"(",["T_VARIABLE","$table",847],")",";",["T_WHITESPACE","\n                ",847],"}",["T_WHITESPACE","\n            ",848],"}",["T_WHITESPACE","\n        ",849],"}",["T_WHITESPACE","\n        ",850],["T_RETURN","return",851],["T_WHITESPACE"," ",851],["T_VARIABLE","$tables",851],";",["T_WHITESPACE","\n    ",851],"}",["T_WHITESPACE","\n\n    ",852],["T_DOC_COMMENT","\/**\n     * @param string|array $condition\n     * @param array $params the binding parameters to be populated\n     * @return string the WHERE clause built from [[Query::$where]].\n     *\/",854],["T_WHITESPACE","\n    ",858],["T_PUBLIC","public",859],["T_WHITESPACE"," ",859],["T_FUNCTION","function",859],["T_WHITESPACE"," ",859],["T_STRING","buildWhere",859],"(",["T_VARIABLE","$condition",859],",",["T_WHITESPACE"," ",859],"&",["T_VARIABLE","$params",859],")",["T_WHITESPACE","\n    ",859],"{",["T_WHITESPACE","\n        ",860],["T_VARIABLE","$where",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","buildCondition",861],"(",["T_VARIABLE","$condition",861],",",["T_WHITESPACE"," ",861],["T_VARIABLE","$params",861],")",";",["T_WHITESPACE","\n\n        ",861],["T_RETURN","return",863],["T_WHITESPACE"," ",863],["T_VARIABLE","$where",863],["T_WHITESPACE"," ",863],["T_IS_IDENTICAL","===",863],["T_WHITESPACE"," ",863],["T_CONSTANT_ENCAPSED_STRING","''",863],["T_WHITESPACE"," ",863],"?",["T_WHITESPACE"," ",863],["T_CONSTANT_ENCAPSED_STRING","''",863],["T_WHITESPACE"," ",863],":",["T_WHITESPACE"," ",863],["T_CONSTANT_ENCAPSED_STRING","'WHERE '",863],["T_WHITESPACE"," ",863],".",["T_WHITESPACE"," ",863],["T_VARIABLE","$where",863],";",["T_WHITESPACE","\n    ",863],"}",["T_WHITESPACE","\n\n    ",864],["T_DOC_COMMENT","\/**\n     * @param array $columns\n     * @return string the GROUP BY clause\n     *\/",866],["T_WHITESPACE","\n    ",869],["T_PUBLIC","public",870],["T_WHITESPACE"," ",870],["T_FUNCTION","function",870],["T_WHITESPACE"," ",870],["T_STRING","buildGroupBy",870],"(",["T_VARIABLE","$columns",870],")",["T_WHITESPACE","\n    ",870],"{",["T_WHITESPACE","\n        ",871],["T_IF","if",872],["T_WHITESPACE"," ",872],"(",["T_EMPTY","empty",872],"(",["T_VARIABLE","$columns",872],")",")",["T_WHITESPACE"," ",872],"{",["T_WHITESPACE","\n            ",872],["T_RETURN","return",873],["T_WHITESPACE"," ",873],["T_CONSTANT_ENCAPSED_STRING","''",873],";",["T_WHITESPACE","\n        ",873],"}",["T_WHITESPACE","\n        ",874],["T_FOREACH","foreach",875],["T_WHITESPACE"," ",875],"(",["T_VARIABLE","$columns",875],["T_WHITESPACE"," ",875],["T_AS","as",875],["T_WHITESPACE"," ",875],["T_VARIABLE","$i",875],["T_WHITESPACE"," ",875],["T_DOUBLE_ARROW","=>",875],["T_WHITESPACE"," ",875],["T_VARIABLE","$column",875],")",["T_WHITESPACE"," ",875],"{",["T_WHITESPACE","\n            ",875],["T_IF","if",876],["T_WHITESPACE"," ",876],"(",["T_VARIABLE","$column",876],["T_WHITESPACE"," ",876],["T_INSTANCEOF","instanceof",876],["T_WHITESPACE"," ",876],["T_STRING","Expression",876],")",["T_WHITESPACE"," ",876],"{",["T_WHITESPACE","\n                ",876],["T_VARIABLE","$columns",877],"[",["T_VARIABLE","$i",877],"]",["T_WHITESPACE"," ",877],"=",["T_WHITESPACE"," ",877],["T_VARIABLE","$column",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","expression",877],";",["T_WHITESPACE","\n            ",877],"}",["T_WHITESPACE"," ",878],["T_ELSEIF","elseif",878],["T_WHITESPACE"," ",878],"(",["T_STRING","strpos",878],"(",["T_VARIABLE","$column",878],",",["T_WHITESPACE"," ",878],["T_CONSTANT_ENCAPSED_STRING","'('",878],")",["T_WHITESPACE"," ",878],["T_IS_IDENTICAL","===",878],["T_WHITESPACE"," ",878],["T_STRING","false",878],")",["T_WHITESPACE"," ",878],"{",["T_WHITESPACE","\n                ",878],["T_VARIABLE","$columns",879],"[",["T_VARIABLE","$i",879],"]",["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","db",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","quoteColumnName",879],"(",["T_VARIABLE","$column",879],")",";",["T_WHITESPACE","\n            ",879],"}",["T_WHITESPACE","\n        ",880],"}",["T_WHITESPACE","\n        ",881],["T_RETURN","return",882],["T_WHITESPACE"," ",882],["T_CONSTANT_ENCAPSED_STRING","'GROUP BY '",882],["T_WHITESPACE"," ",882],".",["T_WHITESPACE"," ",882],["T_STRING","implode",882],"(",["T_CONSTANT_ENCAPSED_STRING","', '",882],",",["T_WHITESPACE"," ",882],["T_VARIABLE","$columns",882],")",";",["T_WHITESPACE","\n    ",882],"}",["T_WHITESPACE","\n\n    ",883],["T_DOC_COMMENT","\/**\n     * @param string|array $condition\n     * @param array $params the binding parameters to be populated\n     * @return string the HAVING clause built from [[Query::$having]].\n     *\/",885],["T_WHITESPACE","\n    ",889],["T_PUBLIC","public",890],["T_WHITESPACE"," ",890],["T_FUNCTION","function",890],["T_WHITESPACE"," ",890],["T_STRING","buildHaving",890],"(",["T_VARIABLE","$condition",890],",",["T_WHITESPACE"," ",890],"&",["T_VARIABLE","$params",890],")",["T_WHITESPACE","\n    ",890],"{",["T_WHITESPACE","\n        ",891],["T_VARIABLE","$having",892],["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","buildCondition",892],"(",["T_VARIABLE","$condition",892],",",["T_WHITESPACE"," ",892],["T_VARIABLE","$params",892],")",";",["T_WHITESPACE","\n\n        ",892],["T_RETURN","return",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$having",894],["T_WHITESPACE"," ",894],["T_IS_IDENTICAL","===",894],["T_WHITESPACE"," ",894],["T_CONSTANT_ENCAPSED_STRING","''",894],["T_WHITESPACE"," ",894],"?",["T_WHITESPACE"," ",894],["T_CONSTANT_ENCAPSED_STRING","''",894],["T_WHITESPACE"," ",894],":",["T_WHITESPACE"," ",894],["T_CONSTANT_ENCAPSED_STRING","'HAVING '",894],["T_WHITESPACE"," ",894],".",["T_WHITESPACE"," ",894],["T_VARIABLE","$having",894],";",["T_WHITESPACE","\n    ",894],"}",["T_WHITESPACE","\n\n    ",895],["T_DOC_COMMENT","\/**\n     * Builds the ORDER BY and LIMIT\/OFFSET clauses and appends them to the given SQL.\n     * @param string $sql the existing SQL (without ORDER BY\/LIMIT\/OFFSET)\n     * @param array $orderBy the order by columns. See [[Query::orderBy]] for more details on how to specify this parameter.\n     * @param int $limit the limit number. See [[Query::limit]] for more details.\n     * @param int $offset the offset number. See [[Query::offset]] for more details.\n     * @return string the SQL completed with ORDER BY\/LIMIT\/OFFSET (if any)\n     *\/",897],["T_WHITESPACE","\n    ",904],["T_PUBLIC","public",905],["T_WHITESPACE"," ",905],["T_FUNCTION","function",905],["T_WHITESPACE"," ",905],["T_STRING","buildOrderByAndLimit",905],"(",["T_VARIABLE","$sql",905],",",["T_WHITESPACE"," ",905],["T_VARIABLE","$orderBy",905],",",["T_WHITESPACE"," ",905],["T_VARIABLE","$limit",905],",",["T_WHITESPACE"," ",905],["T_VARIABLE","$offset",905],")",["T_WHITESPACE","\n    ",905],"{",["T_WHITESPACE","\n        ",906],["T_VARIABLE","$orderBy",907],["T_WHITESPACE"," ",907],"=",["T_WHITESPACE"," ",907],["T_VARIABLE","$this",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","buildOrderBy",907],"(",["T_VARIABLE","$orderBy",907],")",";",["T_WHITESPACE","\n        ",907],["T_IF","if",908],["T_WHITESPACE"," ",908],"(",["T_VARIABLE","$orderBy",908],["T_WHITESPACE"," ",908],["T_IS_NOT_IDENTICAL","!==",908],["T_WHITESPACE"," ",908],["T_CONSTANT_ENCAPSED_STRING","''",908],")",["T_WHITESPACE"," ",908],"{",["T_WHITESPACE","\n            ",908],["T_VARIABLE","$sql",909],["T_WHITESPACE"," ",909],["T_CONCAT_EQUAL",".=",909],["T_WHITESPACE"," ",909],["T_VARIABLE","$this",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","separator",909],["T_WHITESPACE"," ",909],".",["T_WHITESPACE"," ",909],["T_VARIABLE","$orderBy",909],";",["T_WHITESPACE","\n        ",909],"}",["T_WHITESPACE","\n        ",910],["T_VARIABLE","$limit",911],["T_WHITESPACE"," ",911],"=",["T_WHITESPACE"," ",911],["T_VARIABLE","$this",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","buildLimit",911],"(",["T_VARIABLE","$limit",911],",",["T_WHITESPACE"," ",911],["T_VARIABLE","$offset",911],")",";",["T_WHITESPACE","\n        ",911],["T_IF","if",912],["T_WHITESPACE"," ",912],"(",["T_VARIABLE","$limit",912],["T_WHITESPACE"," ",912],["T_IS_NOT_IDENTICAL","!==",912],["T_WHITESPACE"," ",912],["T_CONSTANT_ENCAPSED_STRING","''",912],")",["T_WHITESPACE"," ",912],"{",["T_WHITESPACE","\n            ",912],["T_VARIABLE","$sql",913],["T_WHITESPACE"," ",913],["T_CONCAT_EQUAL",".=",913],["T_WHITESPACE"," ",913],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","separator",913],["T_WHITESPACE"," ",913],".",["T_WHITESPACE"," ",913],["T_VARIABLE","$limit",913],";",["T_WHITESPACE","\n        ",913],"}",["T_WHITESPACE","\n        ",914],["T_RETURN","return",915],["T_WHITESPACE"," ",915],["T_VARIABLE","$sql",915],";",["T_WHITESPACE","\n    ",915],"}",["T_WHITESPACE","\n\n    ",916],["T_DOC_COMMENT","\/**\n     * @param array $columns\n     * @return string the ORDER BY clause built from [[Query::$orderBy]].\n     *\/",918],["T_WHITESPACE","\n    ",921],["T_PUBLIC","public",922],["T_WHITESPACE"," ",922],["T_FUNCTION","function",922],["T_WHITESPACE"," ",922],["T_STRING","buildOrderBy",922],"(",["T_VARIABLE","$columns",922],")",["T_WHITESPACE","\n    ",922],"{",["T_WHITESPACE","\n        ",923],["T_IF","if",924],["T_WHITESPACE"," ",924],"(",["T_EMPTY","empty",924],"(",["T_VARIABLE","$columns",924],")",")",["T_WHITESPACE"," ",924],"{",["T_WHITESPACE","\n            ",924],["T_RETURN","return",925],["T_WHITESPACE"," ",925],["T_CONSTANT_ENCAPSED_STRING","''",925],";",["T_WHITESPACE","\n        ",925],"}",["T_WHITESPACE","\n        ",926],["T_VARIABLE","$orders",927],["T_WHITESPACE"," ",927],"=",["T_WHITESPACE"," ",927],"[","]",";",["T_WHITESPACE","\n        ",927],["T_FOREACH","foreach",928],["T_WHITESPACE"," ",928],"(",["T_VARIABLE","$columns",928],["T_WHITESPACE"," ",928],["T_AS","as",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$name",928],["T_WHITESPACE"," ",928],["T_DOUBLE_ARROW","=>",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$direction",928],")",["T_WHITESPACE"," ",928],"{",["T_WHITESPACE","\n            ",928],["T_IF","if",929],["T_WHITESPACE"," ",929],"(",["T_VARIABLE","$direction",929],["T_WHITESPACE"," ",929],["T_INSTANCEOF","instanceof",929],["T_WHITESPACE"," ",929],["T_STRING","Expression",929],")",["T_WHITESPACE"," ",929],"{",["T_WHITESPACE","\n                ",929],["T_VARIABLE","$orders",930],"[","]",["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_VARIABLE","$direction",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","expression",930],";",["T_WHITESPACE","\n            ",930],"}",["T_WHITESPACE"," ",931],["T_ELSE","else",931],["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n                ",931],["T_VARIABLE","$orders",932],"[","]",["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","db",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","quoteColumnName",932],"(",["T_VARIABLE","$name",932],")",["T_WHITESPACE"," ",932],".",["T_WHITESPACE"," ",932],"(",["T_VARIABLE","$direction",932],["T_WHITESPACE"," ",932],["T_IS_IDENTICAL","===",932],["T_WHITESPACE"," ",932],["T_STRING","SORT_DESC",932],["T_WHITESPACE"," ",932],"?",["T_WHITESPACE"," ",932],["T_CONSTANT_ENCAPSED_STRING","' DESC'",932],["T_WHITESPACE"," ",932],":",["T_WHITESPACE"," ",932],["T_CONSTANT_ENCAPSED_STRING","''",932],")",";",["T_WHITESPACE","\n            ",932],"}",["T_WHITESPACE","\n        ",933],"}",["T_WHITESPACE","\n\n        ",934],["T_RETURN","return",936],["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'ORDER BY '",936],["T_WHITESPACE"," ",936],".",["T_WHITESPACE"," ",936],["T_STRING","implode",936],"(",["T_CONSTANT_ENCAPSED_STRING","', '",936],",",["T_WHITESPACE"," ",936],["T_VARIABLE","$orders",936],")",";",["T_WHITESPACE","\n    ",936],"}",["T_WHITESPACE","\n\n    ",937],["T_DOC_COMMENT","\/**\n     * @param int $limit\n     * @param int $offset\n     * @return string the LIMIT and OFFSET clauses\n     *\/",939],["T_WHITESPACE","\n    ",943],["T_PUBLIC","public",944],["T_WHITESPACE"," ",944],["T_FUNCTION","function",944],["T_WHITESPACE"," ",944],["T_STRING","buildLimit",944],"(",["T_VARIABLE","$limit",944],",",["T_WHITESPACE"," ",944],["T_VARIABLE","$offset",944],")",["T_WHITESPACE","\n    ",944],"{",["T_WHITESPACE","\n        ",945],["T_VARIABLE","$sql",946],["T_WHITESPACE"," ",946],"=",["T_WHITESPACE"," ",946],["T_CONSTANT_ENCAPSED_STRING","''",946],";",["T_WHITESPACE","\n        ",946],["T_IF","if",947],["T_WHITESPACE"," ",947],"(",["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","hasLimit",947],"(",["T_VARIABLE","$limit",947],")",")",["T_WHITESPACE"," ",947],"{",["T_WHITESPACE","\n            ",947],["T_VARIABLE","$sql",948],["T_WHITESPACE"," ",948],"=",["T_WHITESPACE"," ",948],["T_CONSTANT_ENCAPSED_STRING","'LIMIT '",948],["T_WHITESPACE"," ",948],".",["T_WHITESPACE"," ",948],["T_VARIABLE","$limit",948],";",["T_WHITESPACE","\n        ",948],"}",["T_WHITESPACE","\n        ",949],["T_IF","if",950],["T_WHITESPACE"," ",950],"(",["T_VARIABLE","$this",950],["T_OBJECT_OPERATOR","->",950],["T_STRING","hasOffset",950],"(",["T_VARIABLE","$offset",950],")",")",["T_WHITESPACE"," ",950],"{",["T_WHITESPACE","\n            ",950],["T_VARIABLE","$sql",951],["T_WHITESPACE"," ",951],["T_CONCAT_EQUAL",".=",951],["T_WHITESPACE"," ",951],["T_CONSTANT_ENCAPSED_STRING","' OFFSET '",951],["T_WHITESPACE"," ",951],".",["T_WHITESPACE"," ",951],["T_VARIABLE","$offset",951],";",["T_WHITESPACE","\n        ",951],"}",["T_WHITESPACE","\n\n        ",952],["T_RETURN","return",954],["T_WHITESPACE"," ",954],["T_STRING","ltrim",954],"(",["T_VARIABLE","$sql",954],")",";",["T_WHITESPACE","\n    ",954],"}",["T_WHITESPACE","\n\n    ",955],["T_DOC_COMMENT","\/**\n     * Checks to see if the given limit is effective.\n     * @param mixed $limit the given limit\n     * @return bool whether the limit is effective\n     *\/",957],["T_WHITESPACE","\n    ",961],["T_PROTECTED","protected",962],["T_WHITESPACE"," ",962],["T_FUNCTION","function",962],["T_WHITESPACE"," ",962],["T_STRING","hasLimit",962],"(",["T_VARIABLE","$limit",962],")",["T_WHITESPACE","\n    ",962],"{",["T_WHITESPACE","\n        ",963],["T_RETURN","return",964],["T_WHITESPACE"," ",964],["T_STRING","ctype_digit",964],"(",["T_STRING_CAST","(string)",964],["T_WHITESPACE"," ",964],["T_VARIABLE","$limit",964],")",";",["T_WHITESPACE","\n    ",964],"}",["T_WHITESPACE","\n\n    ",965],["T_DOC_COMMENT","\/**\n     * Checks to see if the given offset is effective.\n     * @param mixed $offset the given offset\n     * @return bool whether the offset is effective\n     *\/",967],["T_WHITESPACE","\n    ",971],["T_PROTECTED","protected",972],["T_WHITESPACE"," ",972],["T_FUNCTION","function",972],["T_WHITESPACE"," ",972],["T_STRING","hasOffset",972],"(",["T_VARIABLE","$offset",972],")",["T_WHITESPACE","\n    ",972],"{",["T_WHITESPACE","\n        ",973],["T_VARIABLE","$offset",974],["T_WHITESPACE"," ",974],"=",["T_WHITESPACE"," ",974],["T_STRING_CAST","(string)",974],["T_WHITESPACE"," ",974],["T_VARIABLE","$offset",974],";",["T_WHITESPACE","\n        ",974],["T_RETURN","return",975],["T_WHITESPACE"," ",975],["T_STRING","ctype_digit",975],"(",["T_VARIABLE","$offset",975],")",["T_WHITESPACE"," ",975],["T_BOOLEAN_AND","&&",975],["T_WHITESPACE"," ",975],["T_VARIABLE","$offset",975],["T_WHITESPACE"," ",975],["T_IS_NOT_IDENTICAL","!==",975],["T_WHITESPACE"," ",975],["T_CONSTANT_ENCAPSED_STRING","'0'",975],";",["T_WHITESPACE","\n    ",975],"}",["T_WHITESPACE","\n\n    ",976],["T_DOC_COMMENT","\/**\n     * @param array $unions\n     * @param array $params the binding parameters to be populated\n     * @return string the UNION clause built from [[Query::$union]].\n     *\/",978],["T_WHITESPACE","\n    ",982],["T_PUBLIC","public",983],["T_WHITESPACE"," ",983],["T_FUNCTION","function",983],["T_WHITESPACE"," ",983],["T_STRING","buildUnion",983],"(",["T_VARIABLE","$unions",983],",",["T_WHITESPACE"," ",983],"&",["T_VARIABLE","$params",983],")",["T_WHITESPACE","\n    ",983],"{",["T_WHITESPACE","\n        ",984],["T_IF","if",985],["T_WHITESPACE"," ",985],"(",["T_EMPTY","empty",985],"(",["T_VARIABLE","$unions",985],")",")",["T_WHITESPACE"," ",985],"{",["T_WHITESPACE","\n            ",985],["T_RETURN","return",986],["T_WHITESPACE"," ",986],["T_CONSTANT_ENCAPSED_STRING","''",986],";",["T_WHITESPACE","\n        ",986],"}",["T_WHITESPACE","\n\n        ",987],["T_VARIABLE","$result",989],["T_WHITESPACE"," ",989],"=",["T_WHITESPACE"," ",989],["T_CONSTANT_ENCAPSED_STRING","''",989],";",["T_WHITESPACE","\n\n        ",989],["T_FOREACH","foreach",991],["T_WHITESPACE"," ",991],"(",["T_VARIABLE","$unions",991],["T_WHITESPACE"," ",991],["T_AS","as",991],["T_WHITESPACE"," ",991],["T_VARIABLE","$i",991],["T_WHITESPACE"," ",991],["T_DOUBLE_ARROW","=>",991],["T_WHITESPACE"," ",991],["T_VARIABLE","$union",991],")",["T_WHITESPACE"," ",991],"{",["T_WHITESPACE","\n            ",991],["T_VARIABLE","$query",992],["T_WHITESPACE"," ",992],"=",["T_WHITESPACE"," ",992],["T_VARIABLE","$union",992],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",992],"]",";",["T_WHITESPACE","\n            ",992],["T_IF","if",993],["T_WHITESPACE"," ",993],"(",["T_VARIABLE","$query",993],["T_WHITESPACE"," ",993],["T_INSTANCEOF","instanceof",993],["T_WHITESPACE"," ",993],["T_STRING","Query",993],")",["T_WHITESPACE"," ",993],"{",["T_WHITESPACE","\n                ",993],["T_LIST","list",994],"(",["T_VARIABLE","$unions",994],"[",["T_VARIABLE","$i",994],"]","[",["T_CONSTANT_ENCAPSED_STRING","'query'",994],"]",",",["T_WHITESPACE"," ",994],["T_VARIABLE","$params",994],")",["T_WHITESPACE"," ",994],"=",["T_WHITESPACE"," ",994],["T_VARIABLE","$this",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","build",994],"(",["T_VARIABLE","$query",994],",",["T_WHITESPACE"," ",994],["T_VARIABLE","$params",994],")",";",["T_WHITESPACE","\n            ",994],"}",["T_WHITESPACE","\n\n            ",995],["T_VARIABLE","$result",997],["T_WHITESPACE"," ",997],["T_CONCAT_EQUAL",".=",997],["T_WHITESPACE"," ",997],["T_CONSTANT_ENCAPSED_STRING","'UNION '",997],["T_WHITESPACE"," ",997],".",["T_WHITESPACE"," ",997],"(",["T_VARIABLE","$union",997],"[",["T_CONSTANT_ENCAPSED_STRING","'all'",997],"]",["T_WHITESPACE"," ",997],"?",["T_WHITESPACE"," ",997],["T_CONSTANT_ENCAPSED_STRING","'ALL '",997],["T_WHITESPACE"," ",997],":",["T_WHITESPACE"," ",997],["T_CONSTANT_ENCAPSED_STRING","''",997],")",["T_WHITESPACE"," ",997],".",["T_WHITESPACE"," ",997],["T_CONSTANT_ENCAPSED_STRING","'( '",997],["T_WHITESPACE"," ",997],".",["T_WHITESPACE"," ",997],["T_VARIABLE","$unions",997],"[",["T_VARIABLE","$i",997],"]","[",["T_CONSTANT_ENCAPSED_STRING","'query'",997],"]",["T_WHITESPACE"," ",997],".",["T_WHITESPACE"," ",997],["T_CONSTANT_ENCAPSED_STRING","' ) '",997],";",["T_WHITESPACE","\n        ",997],"}",["T_WHITESPACE","\n\n        ",998],["T_RETURN","return",1000],["T_WHITESPACE"," ",1000],["T_STRING","trim",1000],"(",["T_VARIABLE","$result",1000],")",";",["T_WHITESPACE","\n    ",1000],"}",["T_WHITESPACE","\n\n    ",1001],["T_DOC_COMMENT","\/**\n     * Processes columns and properly quotes them if necessary.\n     * It will join all columns into a string with comma as separators.\n     * @param string|array $columns the columns to be processed\n     * @return string the processing result\n     *\/",1003],["T_WHITESPACE","\n    ",1008],["T_PUBLIC","public",1009],["T_WHITESPACE"," ",1009],["T_FUNCTION","function",1009],["T_WHITESPACE"," ",1009],["T_STRING","buildColumns",1009],"(",["T_VARIABLE","$columns",1009],")",["T_WHITESPACE","\n    ",1009],"{",["T_WHITESPACE","\n        ",1010],["T_IF","if",1011],["T_WHITESPACE"," ",1011],"(","!",["T_STRING","is_array",1011],"(",["T_VARIABLE","$columns",1011],")",")",["T_WHITESPACE"," ",1011],"{",["T_WHITESPACE","\n            ",1011],["T_IF","if",1012],["T_WHITESPACE"," ",1012],"(",["T_STRING","strpos",1012],"(",["T_VARIABLE","$columns",1012],",",["T_WHITESPACE"," ",1012],["T_CONSTANT_ENCAPSED_STRING","'('",1012],")",["T_WHITESPACE"," ",1012],["T_IS_NOT_IDENTICAL","!==",1012],["T_WHITESPACE"," ",1012],["T_STRING","false",1012],")",["T_WHITESPACE"," ",1012],"{",["T_WHITESPACE","\n                ",1012],["T_RETURN","return",1013],["T_WHITESPACE"," ",1013],["T_VARIABLE","$columns",1013],";",["T_WHITESPACE","\n            ",1013],"}",["T_WHITESPACE"," ",1014],["T_ELSE","else",1014],["T_WHITESPACE"," ",1014],"{",["T_WHITESPACE","\n                ",1014],["T_VARIABLE","$columns",1015],["T_WHITESPACE"," ",1015],"=",["T_WHITESPACE"," ",1015],["T_STRING","preg_split",1015],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s*,\\s*\/'",1015],",",["T_WHITESPACE"," ",1015],["T_VARIABLE","$columns",1015],",",["T_WHITESPACE"," ",1015],"-",["T_LNUMBER","1",1015],",",["T_WHITESPACE"," ",1015],["T_STRING","PREG_SPLIT_NO_EMPTY",1015],")",";",["T_WHITESPACE","\n            ",1015],"}",["T_WHITESPACE","\n        ",1016],"}",["T_WHITESPACE","\n        ",1017],["T_FOREACH","foreach",1018],["T_WHITESPACE"," ",1018],"(",["T_VARIABLE","$columns",1018],["T_WHITESPACE"," ",1018],["T_AS","as",1018],["T_WHITESPACE"," ",1018],["T_VARIABLE","$i",1018],["T_WHITESPACE"," ",1018],["T_DOUBLE_ARROW","=>",1018],["T_WHITESPACE"," ",1018],["T_VARIABLE","$column",1018],")",["T_WHITESPACE"," ",1018],"{",["T_WHITESPACE","\n            ",1018],["T_IF","if",1019],["T_WHITESPACE"," ",1019],"(",["T_VARIABLE","$column",1019],["T_WHITESPACE"," ",1019],["T_INSTANCEOF","instanceof",1019],["T_WHITESPACE"," ",1019],["T_STRING","Expression",1019],")",["T_WHITESPACE"," ",1019],"{",["T_WHITESPACE","\n                ",1019],["T_VARIABLE","$columns",1020],"[",["T_VARIABLE","$i",1020],"]",["T_WHITESPACE"," ",1020],"=",["T_WHITESPACE"," ",1020],["T_VARIABLE","$column",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","expression",1020],";",["T_WHITESPACE","\n            ",1020],"}",["T_WHITESPACE"," ",1021],["T_ELSEIF","elseif",1021],["T_WHITESPACE"," ",1021],"(",["T_STRING","strpos",1021],"(",["T_VARIABLE","$column",1021],",",["T_WHITESPACE"," ",1021],["T_CONSTANT_ENCAPSED_STRING","'('",1021],")",["T_WHITESPACE"," ",1021],["T_IS_IDENTICAL","===",1021],["T_WHITESPACE"," ",1021],["T_STRING","false",1021],")",["T_WHITESPACE"," ",1021],"{",["T_WHITESPACE","\n                ",1021],["T_VARIABLE","$columns",1022],"[",["T_VARIABLE","$i",1022],"]",["T_WHITESPACE"," ",1022],"=",["T_WHITESPACE"," ",1022],["T_VARIABLE","$this",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","db",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","quoteColumnName",1022],"(",["T_VARIABLE","$column",1022],")",";",["T_WHITESPACE","\n            ",1022],"}",["T_WHITESPACE","\n        ",1023],"}",["T_WHITESPACE","\n\n        ",1024],["T_RETURN","return",1026],["T_WHITESPACE"," ",1026],["T_STRING","is_array",1026],"(",["T_VARIABLE","$columns",1026],")",["T_WHITESPACE"," ",1026],"?",["T_WHITESPACE"," ",1026],["T_STRING","implode",1026],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1026],",",["T_WHITESPACE"," ",1026],["T_VARIABLE","$columns",1026],")",["T_WHITESPACE"," ",1026],":",["T_WHITESPACE"," ",1026],["T_VARIABLE","$columns",1026],";",["T_WHITESPACE","\n    ",1026],"}",["T_WHITESPACE","\n\n    ",1027],["T_DOC_COMMENT","\/**\n     * Parses the condition specification and generates the corresponding SQL expression.\n     * @param string|array|Expression $condition the condition specification. Please refer to [[Query::where()]]\n     * on how to specify a condition.\n     * @param array $params the binding parameters to be populated\n     * @return string the generated SQL expression\n     *\/",1029],["T_WHITESPACE","\n    ",1035],["T_PUBLIC","public",1036],["T_WHITESPACE"," ",1036],["T_FUNCTION","function",1036],["T_WHITESPACE"," ",1036],["T_STRING","buildCondition",1036],"(",["T_VARIABLE","$condition",1036],",",["T_WHITESPACE"," ",1036],"&",["T_VARIABLE","$params",1036],")",["T_WHITESPACE","\n    ",1036],"{",["T_WHITESPACE","\n        ",1037],["T_IF","if",1038],["T_WHITESPACE"," ",1038],"(",["T_VARIABLE","$condition",1038],["T_WHITESPACE"," ",1038],["T_INSTANCEOF","instanceof",1038],["T_WHITESPACE"," ",1038],["T_STRING","Expression",1038],")",["T_WHITESPACE"," ",1038],"{",["T_WHITESPACE","\n            ",1038],["T_FOREACH","foreach",1039],["T_WHITESPACE"," ",1039],"(",["T_VARIABLE","$condition",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","params",1039],["T_WHITESPACE"," ",1039],["T_AS","as",1039],["T_WHITESPACE"," ",1039],["T_VARIABLE","$n",1039],["T_WHITESPACE"," ",1039],["T_DOUBLE_ARROW","=>",1039],["T_WHITESPACE"," ",1039],["T_VARIABLE","$v",1039],")",["T_WHITESPACE"," ",1039],"{",["T_WHITESPACE","\n                ",1039],["T_VARIABLE","$params",1040],"[",["T_VARIABLE","$n",1040],"]",["T_WHITESPACE"," ",1040],"=",["T_WHITESPACE"," ",1040],["T_VARIABLE","$v",1040],";",["T_WHITESPACE","\n            ",1040],"}",["T_WHITESPACE","\n            ",1041],["T_RETURN","return",1042],["T_WHITESPACE"," ",1042],["T_VARIABLE","$condition",1042],["T_OBJECT_OPERATOR","->",1042],["T_STRING","expression",1042],";",["T_WHITESPACE","\n        ",1042],"}",["T_WHITESPACE"," ",1043],["T_ELSEIF","elseif",1043],["T_WHITESPACE"," ",1043],"(","!",["T_STRING","is_array",1043],"(",["T_VARIABLE","$condition",1043],")",")",["T_WHITESPACE"," ",1043],"{",["T_WHITESPACE","\n            ",1043],["T_RETURN","return",1044],["T_WHITESPACE"," ",1044],["T_STRING_CAST","(string)",1044],["T_WHITESPACE"," ",1044],["T_VARIABLE","$condition",1044],";",["T_WHITESPACE","\n        ",1044],"}",["T_WHITESPACE"," ",1045],["T_ELSEIF","elseif",1045],["T_WHITESPACE"," ",1045],"(",["T_EMPTY","empty",1045],"(",["T_VARIABLE","$condition",1045],")",")",["T_WHITESPACE"," ",1045],"{",["T_WHITESPACE","\n            ",1045],["T_RETURN","return",1046],["T_WHITESPACE"," ",1046],["T_CONSTANT_ENCAPSED_STRING","''",1046],";",["T_WHITESPACE","\n        ",1046],"}",["T_WHITESPACE","\n\n        ",1047],["T_IF","if",1049],["T_WHITESPACE"," ",1049],"(",["T_ISSET","isset",1049],"(",["T_VARIABLE","$condition",1049],"[",["T_LNUMBER","0",1049],"]",")",")",["T_WHITESPACE"," ",1049],"{",["T_WHITESPACE"," ",1049],["T_COMMENT","\/\/ operator format: operator, operand 1, operand 2, ...\n",1049],["T_WHITESPACE","            ",1050],["T_VARIABLE","$operator",1050],["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],["T_STRING","strtoupper",1050],"(",["T_VARIABLE","$condition",1050],"[",["T_LNUMBER","0",1050],"]",")",";",["T_WHITESPACE","\n            ",1050],["T_IF","if",1051],["T_WHITESPACE"," ",1051],"(",["T_ISSET","isset",1051],"(",["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","conditionBuilders",1051],"[",["T_VARIABLE","$operator",1051],"]",")",")",["T_WHITESPACE"," ",1051],"{",["T_WHITESPACE","\n                ",1051],["T_VARIABLE","$method",1052],["T_WHITESPACE"," ",1052],"=",["T_WHITESPACE"," ",1052],["T_VARIABLE","$this",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","conditionBuilders",1052],"[",["T_VARIABLE","$operator",1052],"]",";",["T_WHITESPACE","\n            ",1052],"}",["T_WHITESPACE"," ",1053],["T_ELSE","else",1053],["T_WHITESPACE"," ",1053],"{",["T_WHITESPACE","\n                ",1053],["T_VARIABLE","$method",1054],["T_WHITESPACE"," ",1054],"=",["T_WHITESPACE"," ",1054],["T_CONSTANT_ENCAPSED_STRING","'buildSimpleCondition'",1054],";",["T_WHITESPACE","\n            ",1054],"}",["T_WHITESPACE","\n            ",1055],["T_STRING","array_shift",1056],"(",["T_VARIABLE","$condition",1056],")",";",["T_WHITESPACE","\n            ",1056],["T_RETURN","return",1057],["T_WHITESPACE"," ",1057],["T_VARIABLE","$this",1057],["T_OBJECT_OPERATOR","->",1057],["T_VARIABLE","$method",1057],"(",["T_VARIABLE","$operator",1057],",",["T_WHITESPACE"," ",1057],["T_VARIABLE","$condition",1057],",",["T_WHITESPACE"," ",1057],["T_VARIABLE","$params",1057],")",";",["T_WHITESPACE","\n        ",1057],"}",["T_WHITESPACE"," ",1058],["T_ELSE","else",1058],["T_WHITESPACE"," ",1058],"{",["T_WHITESPACE"," ",1058],["T_COMMENT","\/\/ hash format: 'column1' => 'value1', 'column2' => 'value2', ...\n",1058],["T_WHITESPACE","            ",1059],["T_RETURN","return",1059],["T_WHITESPACE"," ",1059],["T_VARIABLE","$this",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","buildHashCondition",1059],"(",["T_VARIABLE","$condition",1059],",",["T_WHITESPACE"," ",1059],["T_VARIABLE","$params",1059],")",";",["T_WHITESPACE","\n        ",1059],"}",["T_WHITESPACE","\n    ",1060],"}",["T_WHITESPACE","\n\n    ",1061],["T_DOC_COMMENT","\/**\n     * Creates a condition based on column-value pairs.\n     * @param array $condition the condition specification.\n     * @param array $params the binding parameters to be populated\n     * @return string the generated SQL expression\n     *\/",1063],["T_WHITESPACE","\n    ",1068],["T_PUBLIC","public",1069],["T_WHITESPACE"," ",1069],["T_FUNCTION","function",1069],["T_WHITESPACE"," ",1069],["T_STRING","buildHashCondition",1069],"(",["T_VARIABLE","$condition",1069],",",["T_WHITESPACE"," ",1069],"&",["T_VARIABLE","$params",1069],")",["T_WHITESPACE","\n    ",1069],"{",["T_WHITESPACE","\n        ",1070],["T_VARIABLE","$parts",1071],["T_WHITESPACE"," ",1071],"=",["T_WHITESPACE"," ",1071],"[","]",";",["T_WHITESPACE","\n        ",1071],["T_FOREACH","foreach",1072],["T_WHITESPACE"," ",1072],"(",["T_VARIABLE","$condition",1072],["T_WHITESPACE"," ",1072],["T_AS","as",1072],["T_WHITESPACE"," ",1072],["T_VARIABLE","$column",1072],["T_WHITESPACE"," ",1072],["T_DOUBLE_ARROW","=>",1072],["T_WHITESPACE"," ",1072],["T_VARIABLE","$value",1072],")",["T_WHITESPACE"," ",1072],"{",["T_WHITESPACE","\n            ",1072],["T_IF","if",1073],["T_WHITESPACE"," ",1073],"(",["T_STRING","ArrayHelper",1073],["T_DOUBLE_COLON","::",1073],["T_STRING","isTraversable",1073],"(",["T_VARIABLE","$value",1073],")",["T_WHITESPACE"," ",1073],["T_BOOLEAN_OR","||",1073],["T_WHITESPACE"," ",1073],["T_VARIABLE","$value",1073],["T_WHITESPACE"," ",1073],["T_INSTANCEOF","instanceof",1073],["T_WHITESPACE"," ",1073],["T_STRING","Query",1073],")",["T_WHITESPACE"," ",1073],"{",["T_WHITESPACE","\n                ",1073],["T_COMMENT","\/\/ IN condition\n",1074],["T_WHITESPACE","                ",1075],["T_VARIABLE","$parts",1075],"[","]",["T_WHITESPACE"," ",1075],"=",["T_WHITESPACE"," ",1075],["T_VARIABLE","$this",1075],["T_OBJECT_OPERATOR","->",1075],["T_STRING","buildInCondition",1075],"(",["T_CONSTANT_ENCAPSED_STRING","'IN'",1075],",",["T_WHITESPACE"," ",1075],"[",["T_VARIABLE","$column",1075],",",["T_WHITESPACE"," ",1075],["T_VARIABLE","$value",1075],"]",",",["T_WHITESPACE"," ",1075],["T_VARIABLE","$params",1075],")",";",["T_WHITESPACE","\n            ",1075],"}",["T_WHITESPACE"," ",1076],["T_ELSE","else",1076],["T_WHITESPACE"," ",1076],"{",["T_WHITESPACE","\n                ",1076],["T_IF","if",1077],["T_WHITESPACE"," ",1077],"(",["T_STRING","strpos",1077],"(",["T_VARIABLE","$column",1077],",",["T_WHITESPACE"," ",1077],["T_CONSTANT_ENCAPSED_STRING","'('",1077],")",["T_WHITESPACE"," ",1077],["T_IS_IDENTICAL","===",1077],["T_WHITESPACE"," ",1077],["T_STRING","false",1077],")",["T_WHITESPACE"," ",1077],"{",["T_WHITESPACE","\n                    ",1077],["T_VARIABLE","$column",1078],["T_WHITESPACE"," ",1078],"=",["T_WHITESPACE"," ",1078],["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","db",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","quoteColumnName",1078],"(",["T_VARIABLE","$column",1078],")",";",["T_WHITESPACE","\n                ",1078],"}",["T_WHITESPACE","\n                ",1079],["T_IF","if",1080],["T_WHITESPACE"," ",1080],"(",["T_VARIABLE","$value",1080],["T_WHITESPACE"," ",1080],["T_IS_IDENTICAL","===",1080],["T_WHITESPACE"," ",1080],["T_STRING","null",1080],")",["T_WHITESPACE"," ",1080],"{",["T_WHITESPACE","\n                    ",1080],["T_VARIABLE","$parts",1081],"[","]",["T_WHITESPACE"," ",1081],"=",["T_WHITESPACE"," ",1081],"\"",["T_VARIABLE","$column",1081],["T_ENCAPSED_AND_WHITESPACE"," IS NULL",1081],"\"",";",["T_WHITESPACE","\n                ",1081],"}",["T_WHITESPACE"," ",1082],["T_ELSEIF","elseif",1082],["T_WHITESPACE"," ",1082],"(",["T_VARIABLE","$value",1082],["T_WHITESPACE"," ",1082],["T_INSTANCEOF","instanceof",1082],["T_WHITESPACE"," ",1082],["T_STRING","Expression",1082],")",["T_WHITESPACE"," ",1082],"{",["T_WHITESPACE","\n                    ",1082],["T_VARIABLE","$parts",1083],"[","]",["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],"\"",["T_VARIABLE","$column",1083],["T_ENCAPSED_AND_WHITESPACE","=",1083],"\"",["T_WHITESPACE"," ",1083],".",["T_WHITESPACE"," ",1083],["T_VARIABLE","$value",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","expression",1083],";",["T_WHITESPACE","\n                    ",1083],["T_FOREACH","foreach",1084],["T_WHITESPACE"," ",1084],"(",["T_VARIABLE","$value",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","params",1084],["T_WHITESPACE"," ",1084],["T_AS","as",1084],["T_WHITESPACE"," ",1084],["T_VARIABLE","$n",1084],["T_WHITESPACE"," ",1084],["T_DOUBLE_ARROW","=>",1084],["T_WHITESPACE"," ",1084],["T_VARIABLE","$v",1084],")",["T_WHITESPACE"," ",1084],"{",["T_WHITESPACE","\n                        ",1084],["T_VARIABLE","$params",1085],"[",["T_VARIABLE","$n",1085],"]",["T_WHITESPACE"," ",1085],"=",["T_WHITESPACE"," ",1085],["T_VARIABLE","$v",1085],";",["T_WHITESPACE","\n                    ",1085],"}",["T_WHITESPACE","\n                ",1086],"}",["T_WHITESPACE"," ",1087],["T_ELSE","else",1087],["T_WHITESPACE"," ",1087],"{",["T_WHITESPACE","\n                    ",1087],["T_VARIABLE","$phName",1088],["T_WHITESPACE"," ",1088],"=",["T_WHITESPACE"," ",1088],["T_STRING","self",1088],["T_DOUBLE_COLON","::",1088],["T_STRING","PARAM_PREFIX",1088],["T_WHITESPACE"," ",1088],".",["T_WHITESPACE"," ",1088],["T_STRING","count",1088],"(",["T_VARIABLE","$params",1088],")",";",["T_WHITESPACE","\n                    ",1088],["T_VARIABLE","$parts",1089],"[","]",["T_WHITESPACE"," ",1089],"=",["T_WHITESPACE"," ",1089],"\"",["T_VARIABLE","$column",1089],["T_ENCAPSED_AND_WHITESPACE","=",1089],["T_VARIABLE","$phName",1089],"\"",";",["T_WHITESPACE","\n                    ",1089],["T_VARIABLE","$params",1090],"[",["T_VARIABLE","$phName",1090],"]",["T_WHITESPACE"," ",1090],"=",["T_WHITESPACE"," ",1090],["T_VARIABLE","$value",1090],";",["T_WHITESPACE","\n                ",1090],"}",["T_WHITESPACE","\n            ",1091],"}",["T_WHITESPACE","\n        ",1092],"}",["T_WHITESPACE","\n        ",1093],["T_RETURN","return",1094],["T_WHITESPACE"," ",1094],["T_STRING","count",1094],"(",["T_VARIABLE","$parts",1094],")",["T_WHITESPACE"," ",1094],["T_IS_IDENTICAL","===",1094],["T_WHITESPACE"," ",1094],["T_LNUMBER","1",1094],["T_WHITESPACE"," ",1094],"?",["T_WHITESPACE"," ",1094],["T_VARIABLE","$parts",1094],"[",["T_LNUMBER","0",1094],"]",["T_WHITESPACE"," ",1094],":",["T_WHITESPACE"," ",1094],["T_CONSTANT_ENCAPSED_STRING","'('",1094],["T_WHITESPACE"," ",1094],".",["T_WHITESPACE"," ",1094],["T_STRING","implode",1094],"(",["T_CONSTANT_ENCAPSED_STRING","') AND ('",1094],",",["T_WHITESPACE"," ",1094],["T_VARIABLE","$parts",1094],")",["T_WHITESPACE"," ",1094],".",["T_WHITESPACE"," ",1094],["T_CONSTANT_ENCAPSED_STRING","')'",1094],";",["T_WHITESPACE","\n    ",1094],"}",["T_WHITESPACE","\n\n    ",1095],["T_DOC_COMMENT","\/**\n     * Connects two or more SQL expressions with the `AND` or `OR` operator.\n     * @param string $operator the operator to use for connecting the given operands\n     * @param array $operands the SQL expressions to connect.\n     * @param array $params the binding parameters to be populated\n     * @return string the generated SQL expression\n     *\/",1097],["T_WHITESPACE","\n    ",1103],["T_PUBLIC","public",1104],["T_WHITESPACE"," ",1104],["T_FUNCTION","function",1104],["T_WHITESPACE"," ",1104],["T_STRING","buildAndCondition",1104],"(",["T_VARIABLE","$operator",1104],",",["T_WHITESPACE"," ",1104],["T_VARIABLE","$operands",1104],",",["T_WHITESPACE"," ",1104],"&",["T_VARIABLE","$params",1104],")",["T_WHITESPACE","\n    ",1104],"{",["T_WHITESPACE","\n        ",1105],["T_VARIABLE","$parts",1106],["T_WHITESPACE"," ",1106],"=",["T_WHITESPACE"," ",1106],"[","]",";",["T_WHITESPACE","\n        ",1106],["T_FOREACH","foreach",1107],["T_WHITESPACE"," ",1107],"(",["T_VARIABLE","$operands",1107],["T_WHITESPACE"," ",1107],["T_AS","as",1107],["T_WHITESPACE"," ",1107],["T_VARIABLE","$operand",1107],")",["T_WHITESPACE"," ",1107],"{",["T_WHITESPACE","\n            ",1107],["T_IF","if",1108],["T_WHITESPACE"," ",1108],"(",["T_STRING","is_array",1108],"(",["T_VARIABLE","$operand",1108],")",")",["T_WHITESPACE"," ",1108],"{",["T_WHITESPACE","\n                ",1108],["T_VARIABLE","$operand",1109],["T_WHITESPACE"," ",1109],"=",["T_WHITESPACE"," ",1109],["T_VARIABLE","$this",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","buildCondition",1109],"(",["T_VARIABLE","$operand",1109],",",["T_WHITESPACE"," ",1109],["T_VARIABLE","$params",1109],")",";",["T_WHITESPACE","\n            ",1109],"}",["T_WHITESPACE","\n            ",1110],["T_IF","if",1111],["T_WHITESPACE"," ",1111],"(",["T_VARIABLE","$operand",1111],["T_WHITESPACE"," ",1111],["T_INSTANCEOF","instanceof",1111],["T_WHITESPACE"," ",1111],["T_STRING","Expression",1111],")",["T_WHITESPACE"," ",1111],"{",["T_WHITESPACE","\n                ",1111],["T_FOREACH","foreach",1112],["T_WHITESPACE"," ",1112],"(",["T_VARIABLE","$operand",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","params",1112],["T_WHITESPACE"," ",1112],["T_AS","as",1112],["T_WHITESPACE"," ",1112],["T_VARIABLE","$n",1112],["T_WHITESPACE"," ",1112],["T_DOUBLE_ARROW","=>",1112],["T_WHITESPACE"," ",1112],["T_VARIABLE","$v",1112],")",["T_WHITESPACE"," ",1112],"{",["T_WHITESPACE","\n                    ",1112],["T_VARIABLE","$params",1113],"[",["T_VARIABLE","$n",1113],"]",["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_VARIABLE","$v",1113],";",["T_WHITESPACE","\n                ",1113],"}",["T_WHITESPACE","\n                ",1114],["T_VARIABLE","$operand",1115],["T_WHITESPACE"," ",1115],"=",["T_WHITESPACE"," ",1115],["T_VARIABLE","$operand",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","expression",1115],";",["T_WHITESPACE","\n            ",1115],"}",["T_WHITESPACE","\n            ",1116],["T_IF","if",1117],["T_WHITESPACE"," ",1117],"(",["T_VARIABLE","$operand",1117],["T_WHITESPACE"," ",1117],["T_IS_NOT_IDENTICAL","!==",1117],["T_WHITESPACE"," ",1117],["T_CONSTANT_ENCAPSED_STRING","''",1117],")",["T_WHITESPACE"," ",1117],"{",["T_WHITESPACE","\n                ",1117],["T_VARIABLE","$parts",1118],"[","]",["T_WHITESPACE"," ",1118],"=",["T_WHITESPACE"," ",1118],["T_VARIABLE","$operand",1118],";",["T_WHITESPACE","\n            ",1118],"}",["T_WHITESPACE","\n        ",1119],"}",["T_WHITESPACE","\n        ",1120],["T_IF","if",1121],["T_WHITESPACE"," ",1121],"(","!",["T_EMPTY","empty",1121],"(",["T_VARIABLE","$parts",1121],")",")",["T_WHITESPACE"," ",1121],"{",["T_WHITESPACE","\n            ",1121],["T_RETURN","return",1122],["T_WHITESPACE"," ",1122],["T_CONSTANT_ENCAPSED_STRING","'('",1122],["T_WHITESPACE"," ",1122],".",["T_WHITESPACE"," ",1122],["T_STRING","implode",1122],"(","\"",["T_ENCAPSED_AND_WHITESPACE",") ",1122],["T_VARIABLE","$operator",1122],["T_ENCAPSED_AND_WHITESPACE"," (",1122],"\"",",",["T_WHITESPACE"," ",1122],["T_VARIABLE","$parts",1122],")",["T_WHITESPACE"," ",1122],".",["T_WHITESPACE"," ",1122],["T_CONSTANT_ENCAPSED_STRING","')'",1122],";",["T_WHITESPACE","\n        ",1122],"}",["T_WHITESPACE"," ",1123],["T_ELSE","else",1123],["T_WHITESPACE"," ",1123],"{",["T_WHITESPACE","\n            ",1123],["T_RETURN","return",1124],["T_WHITESPACE"," ",1124],["T_CONSTANT_ENCAPSED_STRING","''",1124],";",["T_WHITESPACE","\n        ",1124],"}",["T_WHITESPACE","\n    ",1125],"}",["T_WHITESPACE","\n\n    ",1126],["T_DOC_COMMENT","\/**\n     * Inverts an SQL expressions with `NOT` operator.\n     * @param string $operator the operator to use for connecting the given operands\n     * @param array $operands the SQL expressions to connect.\n     * @param array $params the binding parameters to be populated\n     * @return string the generated SQL expression\n     * @throws InvalidParamException if wrong number of operands have been given.\n     *\/",1128],["T_WHITESPACE","\n    ",1135],["T_PUBLIC","public",1136],["T_WHITESPACE"," ",1136],["T_FUNCTION","function",1136],["T_WHITESPACE"," ",1136],["T_STRING","buildNotCondition",1136],"(",["T_VARIABLE","$operator",1136],",",["T_WHITESPACE"," ",1136],["T_VARIABLE","$operands",1136],",",["T_WHITESPACE"," ",1136],"&",["T_VARIABLE","$params",1136],")",["T_WHITESPACE","\n    ",1136],"{",["T_WHITESPACE","\n        ",1137],["T_IF","if",1138],["T_WHITESPACE"," ",1138],"(",["T_STRING","count",1138],"(",["T_VARIABLE","$operands",1138],")",["T_WHITESPACE"," ",1138],["T_IS_NOT_IDENTICAL","!==",1138],["T_WHITESPACE"," ",1138],["T_LNUMBER","1",1138],")",["T_WHITESPACE"," ",1138],"{",["T_WHITESPACE","\n            ",1138],["T_THROW","throw",1139],["T_WHITESPACE"," ",1139],["T_NEW","new",1139],["T_WHITESPACE"," ",1139],["T_STRING","InvalidParamException",1139],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Operator '",1139],["T_VARIABLE","$operator",1139],["T_ENCAPSED_AND_WHITESPACE","' requires exactly one operand.",1139],"\"",")",";",["T_WHITESPACE","\n        ",1139],"}",["T_WHITESPACE","\n\n        ",1140],["T_VARIABLE","$operand",1142],["T_WHITESPACE"," ",1142],"=",["T_WHITESPACE"," ",1142],["T_STRING","reset",1142],"(",["T_VARIABLE","$operands",1142],")",";",["T_WHITESPACE","\n        ",1142],["T_IF","if",1143],["T_WHITESPACE"," ",1143],"(",["T_STRING","is_array",1143],"(",["T_VARIABLE","$operand",1143],")",")",["T_WHITESPACE"," ",1143],"{",["T_WHITESPACE","\n            ",1143],["T_VARIABLE","$operand",1144],["T_WHITESPACE"," ",1144],"=",["T_WHITESPACE"," ",1144],["T_VARIABLE","$this",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","buildCondition",1144],"(",["T_VARIABLE","$operand",1144],",",["T_WHITESPACE"," ",1144],["T_VARIABLE","$params",1144],")",";",["T_WHITESPACE","\n        ",1144],"}",["T_WHITESPACE","\n        ",1145],["T_IF","if",1146],["T_WHITESPACE"," ",1146],"(",["T_VARIABLE","$operand",1146],["T_WHITESPACE"," ",1146],["T_IS_IDENTICAL","===",1146],["T_WHITESPACE"," ",1146],["T_CONSTANT_ENCAPSED_STRING","''",1146],")",["T_WHITESPACE"," ",1146],"{",["T_WHITESPACE","\n            ",1146],["T_RETURN","return",1147],["T_WHITESPACE"," ",1147],["T_CONSTANT_ENCAPSED_STRING","''",1147],";",["T_WHITESPACE","\n        ",1147],"}",["T_WHITESPACE","\n\n        ",1148],["T_RETURN","return",1150],["T_WHITESPACE"," ",1150],"\"",["T_VARIABLE","$operator",1150],["T_ENCAPSED_AND_WHITESPACE"," (",1150],["T_VARIABLE","$operand",1150],["T_ENCAPSED_AND_WHITESPACE",")",1150],"\"",";",["T_WHITESPACE","\n    ",1150],"}",["T_WHITESPACE","\n\n    ",1151],["T_DOC_COMMENT","\/**\n     * Creates an SQL expressions with the `BETWEEN` operator.\n     * @param string $operator the operator to use (e.g. `BETWEEN` or `NOT BETWEEN`)\n     * @param array $operands the first operand is the column name. The second and third operands\n     * describe the interval that column value should be in.\n     * @param array $params the binding parameters to be populated\n     * @return string the generated SQL expression\n     * @throws InvalidParamException if wrong number of operands have been given.\n     *\/",1153],["T_WHITESPACE","\n    ",1161],["T_PUBLIC","public",1162],["T_WHITESPACE"," ",1162],["T_FUNCTION","function",1162],["T_WHITESPACE"," ",1162],["T_STRING","buildBetweenCondition",1162],"(",["T_VARIABLE","$operator",1162],",",["T_WHITESPACE"," ",1162],["T_VARIABLE","$operands",1162],",",["T_WHITESPACE"," ",1162],"&",["T_VARIABLE","$params",1162],")",["T_WHITESPACE","\n    ",1162],"{",["T_WHITESPACE","\n        ",1163],["T_IF","if",1164],["T_WHITESPACE"," ",1164],"(","!",["T_ISSET","isset",1164],"(",["T_VARIABLE","$operands",1164],"[",["T_LNUMBER","0",1164],"]",",",["T_WHITESPACE"," ",1164],["T_VARIABLE","$operands",1164],"[",["T_LNUMBER","1",1164],"]",",",["T_WHITESPACE"," ",1164],["T_VARIABLE","$operands",1164],"[",["T_LNUMBER","2",1164],"]",")",")",["T_WHITESPACE"," ",1164],"{",["T_WHITESPACE","\n            ",1164],["T_THROW","throw",1165],["T_WHITESPACE"," ",1165],["T_NEW","new",1165],["T_WHITESPACE"," ",1165],["T_STRING","InvalidParamException",1165],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Operator '",1165],["T_VARIABLE","$operator",1165],["T_ENCAPSED_AND_WHITESPACE","' requires three operands.",1165],"\"",")",";",["T_WHITESPACE","\n        ",1165],"}",["T_WHITESPACE","\n\n        ",1166],["T_LIST","list",1168],"(",["T_VARIABLE","$column",1168],",",["T_WHITESPACE"," ",1168],["T_VARIABLE","$value1",1168],",",["T_WHITESPACE"," ",1168],["T_VARIABLE","$value2",1168],")",["T_WHITESPACE"," ",1168],"=",["T_WHITESPACE"," ",1168],["T_VARIABLE","$operands",1168],";",["T_WHITESPACE","\n\n        ",1168],["T_IF","if",1170],["T_WHITESPACE"," ",1170],"(",["T_STRING","strpos",1170],"(",["T_VARIABLE","$column",1170],",",["T_WHITESPACE"," ",1170],["T_CONSTANT_ENCAPSED_STRING","'('",1170],")",["T_WHITESPACE"," ",1170],["T_IS_IDENTICAL","===",1170],["T_WHITESPACE"," ",1170],["T_STRING","false",1170],")",["T_WHITESPACE"," ",1170],"{",["T_WHITESPACE","\n            ",1170],["T_VARIABLE","$column",1171],["T_WHITESPACE"," ",1171],"=",["T_WHITESPACE"," ",1171],["T_VARIABLE","$this",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","db",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","quoteColumnName",1171],"(",["T_VARIABLE","$column",1171],")",";",["T_WHITESPACE","\n        ",1171],"}",["T_WHITESPACE","\n        ",1172],["T_IF","if",1173],["T_WHITESPACE"," ",1173],"(",["T_VARIABLE","$value1",1173],["T_WHITESPACE"," ",1173],["T_INSTANCEOF","instanceof",1173],["T_WHITESPACE"," ",1173],["T_STRING","Expression",1173],")",["T_WHITESPACE"," ",1173],"{",["T_WHITESPACE","\n            ",1173],["T_FOREACH","foreach",1174],["T_WHITESPACE"," ",1174],"(",["T_VARIABLE","$value1",1174],["T_OBJECT_OPERATOR","->",1174],["T_STRING","params",1174],["T_WHITESPACE"," ",1174],["T_AS","as",1174],["T_WHITESPACE"," ",1174],["T_VARIABLE","$n",1174],["T_WHITESPACE"," ",1174],["T_DOUBLE_ARROW","=>",1174],["T_WHITESPACE"," ",1174],["T_VARIABLE","$v",1174],")",["T_WHITESPACE"," ",1174],"{",["T_WHITESPACE","\n                ",1174],["T_VARIABLE","$params",1175],"[",["T_VARIABLE","$n",1175],"]",["T_WHITESPACE"," ",1175],"=",["T_WHITESPACE"," ",1175],["T_VARIABLE","$v",1175],";",["T_WHITESPACE","\n            ",1175],"}",["T_WHITESPACE","\n            ",1176],["T_VARIABLE","$phName1",1177],["T_WHITESPACE"," ",1177],"=",["T_WHITESPACE"," ",1177],["T_VARIABLE","$value1",1177],["T_OBJECT_OPERATOR","->",1177],["T_STRING","expression",1177],";",["T_WHITESPACE","\n        ",1177],"}",["T_WHITESPACE"," ",1178],["T_ELSE","else",1178],["T_WHITESPACE"," ",1178],"{",["T_WHITESPACE","\n            ",1178],["T_VARIABLE","$phName1",1179],["T_WHITESPACE"," ",1179],"=",["T_WHITESPACE"," ",1179],["T_STRING","self",1179],["T_DOUBLE_COLON","::",1179],["T_STRING","PARAM_PREFIX",1179],["T_WHITESPACE"," ",1179],".",["T_WHITESPACE"," ",1179],["T_STRING","count",1179],"(",["T_VARIABLE","$params",1179],")",";",["T_WHITESPACE","\n            ",1179],["T_VARIABLE","$params",1180],"[",["T_VARIABLE","$phName1",1180],"]",["T_WHITESPACE"," ",1180],"=",["T_WHITESPACE"," ",1180],["T_VARIABLE","$value1",1180],";",["T_WHITESPACE","\n        ",1180],"}",["T_WHITESPACE","\n        ",1181],["T_IF","if",1182],["T_WHITESPACE"," ",1182],"(",["T_VARIABLE","$value2",1182],["T_WHITESPACE"," ",1182],["T_INSTANCEOF","instanceof",1182],["T_WHITESPACE"," ",1182],["T_STRING","Expression",1182],")",["T_WHITESPACE"," ",1182],"{",["T_WHITESPACE","\n            ",1182],["T_FOREACH","foreach",1183],["T_WHITESPACE"," ",1183],"(",["T_VARIABLE","$value2",1183],["T_OBJECT_OPERATOR","->",1183],["T_STRING","params",1183],["T_WHITESPACE"," ",1183],["T_AS","as",1183],["T_WHITESPACE"," ",1183],["T_VARIABLE","$n",1183],["T_WHITESPACE"," ",1183],["T_DOUBLE_ARROW","=>",1183],["T_WHITESPACE"," ",1183],["T_VARIABLE","$v",1183],")",["T_WHITESPACE"," ",1183],"{",["T_WHITESPACE","\n                ",1183],["T_VARIABLE","$params",1184],"[",["T_VARIABLE","$n",1184],"]",["T_WHITESPACE"," ",1184],"=",["T_WHITESPACE"," ",1184],["T_VARIABLE","$v",1184],";",["T_WHITESPACE","\n            ",1184],"}",["T_WHITESPACE","\n            ",1185],["T_VARIABLE","$phName2",1186],["T_WHITESPACE"," ",1186],"=",["T_WHITESPACE"," ",1186],["T_VARIABLE","$value2",1186],["T_OBJECT_OPERATOR","->",1186],["T_STRING","expression",1186],";",["T_WHITESPACE","\n        ",1186],"}",["T_WHITESPACE"," ",1187],["T_ELSE","else",1187],["T_WHITESPACE"," ",1187],"{",["T_WHITESPACE","\n            ",1187],["T_VARIABLE","$phName2",1188],["T_WHITESPACE"," ",1188],"=",["T_WHITESPACE"," ",1188],["T_STRING","self",1188],["T_DOUBLE_COLON","::",1188],["T_STRING","PARAM_PREFIX",1188],["T_WHITESPACE"," ",1188],".",["T_WHITESPACE"," ",1188],["T_STRING","count",1188],"(",["T_VARIABLE","$params",1188],")",";",["T_WHITESPACE","\n            ",1188],["T_VARIABLE","$params",1189],"[",["T_VARIABLE","$phName2",1189],"]",["T_WHITESPACE"," ",1189],"=",["T_WHITESPACE"," ",1189],["T_VARIABLE","$value2",1189],";",["T_WHITESPACE","\n        ",1189],"}",["T_WHITESPACE","\n\n        ",1190],["T_RETURN","return",1192],["T_WHITESPACE"," ",1192],"\"",["T_VARIABLE","$column",1192],["T_ENCAPSED_AND_WHITESPACE"," ",1192],["T_VARIABLE","$operator",1192],["T_ENCAPSED_AND_WHITESPACE"," ",1192],["T_VARIABLE","$phName1",1192],["T_ENCAPSED_AND_WHITESPACE"," AND ",1192],["T_VARIABLE","$phName2",1192],"\"",";",["T_WHITESPACE","\n    ",1192],"}",["T_WHITESPACE","\n\n    ",1193],["T_DOC_COMMENT","\/**\n     * Creates an SQL expressions with the `IN` operator.\n     * @param string $operator the operator to use (e.g. `IN` or `NOT IN`)\n     * @param array $operands the first operand is the column name. If it is an array\n     * a composite IN condition will be generated.\n     * The second operand is an array of values that column value should be among.\n     * If it is an empty array the generated expression will be a `false` value if\n     * operator is `IN` and empty if operator is `NOT IN`.\n     * @param array $params the binding parameters to be populated\n     * @return string the generated SQL expression\n     * @throws Exception if wrong number of operands have been given.\n     *\/",1195],["T_WHITESPACE","\n    ",1206],["T_PUBLIC","public",1207],["T_WHITESPACE"," ",1207],["T_FUNCTION","function",1207],["T_WHITESPACE"," ",1207],["T_STRING","buildInCondition",1207],"(",["T_VARIABLE","$operator",1207],",",["T_WHITESPACE"," ",1207],["T_VARIABLE","$operands",1207],",",["T_WHITESPACE"," ",1207],"&",["T_VARIABLE","$params",1207],")",["T_WHITESPACE","\n    ",1207],"{",["T_WHITESPACE","\n        ",1208],["T_IF","if",1209],["T_WHITESPACE"," ",1209],"(","!",["T_ISSET","isset",1209],"(",["T_VARIABLE","$operands",1209],"[",["T_LNUMBER","0",1209],"]",",",["T_WHITESPACE"," ",1209],["T_VARIABLE","$operands",1209],"[",["T_LNUMBER","1",1209],"]",")",")",["T_WHITESPACE"," ",1209],"{",["T_WHITESPACE","\n            ",1209],["T_THROW","throw",1210],["T_WHITESPACE"," ",1210],["T_NEW","new",1210],["T_WHITESPACE"," ",1210],["T_STRING","Exception",1210],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Operator '",1210],["T_VARIABLE","$operator",1210],["T_ENCAPSED_AND_WHITESPACE","' requires two operands.",1210],"\"",")",";",["T_WHITESPACE","\n        ",1210],"}",["T_WHITESPACE","\n\n        ",1211],["T_LIST","list",1213],"(",["T_VARIABLE","$column",1213],",",["T_WHITESPACE"," ",1213],["T_VARIABLE","$values",1213],")",["T_WHITESPACE"," ",1213],"=",["T_WHITESPACE"," ",1213],["T_VARIABLE","$operands",1213],";",["T_WHITESPACE","\n\n        ",1213],["T_IF","if",1215],["T_WHITESPACE"," ",1215],"(",["T_VARIABLE","$column",1215],["T_WHITESPACE"," ",1215],["T_IS_IDENTICAL","===",1215],["T_WHITESPACE"," ",1215],"[","]",")",["T_WHITESPACE"," ",1215],"{",["T_WHITESPACE","\n            ",1215],["T_COMMENT","\/\/ no columns to test against\n",1216],["T_WHITESPACE","            ",1217],["T_RETURN","return",1217],["T_WHITESPACE"," ",1217],["T_VARIABLE","$operator",1217],["T_WHITESPACE"," ",1217],["T_IS_IDENTICAL","===",1217],["T_WHITESPACE"," ",1217],["T_CONSTANT_ENCAPSED_STRING","'IN'",1217],["T_WHITESPACE"," ",1217],"?",["T_WHITESPACE"," ",1217],["T_CONSTANT_ENCAPSED_STRING","'0=1'",1217],["T_WHITESPACE"," ",1217],":",["T_WHITESPACE"," ",1217],["T_CONSTANT_ENCAPSED_STRING","''",1217],";",["T_WHITESPACE","\n        ",1217],"}",["T_WHITESPACE","\n\n        ",1218],["T_IF","if",1220],["T_WHITESPACE"," ",1220],"(",["T_VARIABLE","$values",1220],["T_WHITESPACE"," ",1220],["T_INSTANCEOF","instanceof",1220],["T_WHITESPACE"," ",1220],["T_STRING","Query",1220],")",["T_WHITESPACE"," ",1220],"{",["T_WHITESPACE","\n            ",1220],["T_RETURN","return",1221],["T_WHITESPACE"," ",1221],["T_VARIABLE","$this",1221],["T_OBJECT_OPERATOR","->",1221],["T_STRING","buildSubqueryInCondition",1221],"(",["T_VARIABLE","$operator",1221],",",["T_WHITESPACE"," ",1221],["T_VARIABLE","$column",1221],",",["T_WHITESPACE"," ",1221],["T_VARIABLE","$values",1221],",",["T_WHITESPACE"," ",1221],["T_VARIABLE","$params",1221],")",";",["T_WHITESPACE","\n        ",1221],"}",["T_WHITESPACE","\n        ",1222],["T_IF","if",1223],["T_WHITESPACE"," ",1223],"(","!",["T_STRING","is_array",1223],"(",["T_VARIABLE","$values",1223],")",["T_WHITESPACE"," ",1223],["T_BOOLEAN_AND","&&",1223],["T_WHITESPACE"," ",1223],"!",["T_VARIABLE","$values",1223],["T_WHITESPACE"," ",1223],["T_INSTANCEOF","instanceof",1223],["T_WHITESPACE"," ",1223],["T_NS_SEPARATOR","\\",1223],["T_STRING","Traversable",1223],")",["T_WHITESPACE"," ",1223],"{",["T_WHITESPACE","\n            ",1223],["T_COMMENT","\/\/ ensure values is an array\n",1224],["T_WHITESPACE","            ",1225],["T_VARIABLE","$values",1225],["T_WHITESPACE"," ",1225],"=",["T_WHITESPACE"," ",1225],["T_ARRAY_CAST","(array)",1225],["T_WHITESPACE"," ",1225],["T_VARIABLE","$values",1225],";",["T_WHITESPACE","\n        ",1225],"}",["T_WHITESPACE","\n\n        ",1226],["T_IF","if",1228],["T_WHITESPACE"," ",1228],"(",["T_VARIABLE","$column",1228],["T_WHITESPACE"," ",1228],["T_INSTANCEOF","instanceof",1228],["T_WHITESPACE"," ",1228],["T_NS_SEPARATOR","\\",1228],["T_STRING","Traversable",1228],["T_WHITESPACE"," ",1228],["T_BOOLEAN_OR","||",1228],["T_WHITESPACE"," ",1228],["T_STRING","count",1228],"(",["T_VARIABLE","$column",1228],")",["T_WHITESPACE"," ",1228],">",["T_WHITESPACE"," ",1228],["T_LNUMBER","1",1228],")",["T_WHITESPACE"," ",1228],"{",["T_WHITESPACE","\n            ",1228],["T_RETURN","return",1229],["T_WHITESPACE"," ",1229],["T_VARIABLE","$this",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","buildCompositeInCondition",1229],"(",["T_VARIABLE","$operator",1229],",",["T_WHITESPACE"," ",1229],["T_VARIABLE","$column",1229],",",["T_WHITESPACE"," ",1229],["T_VARIABLE","$values",1229],",",["T_WHITESPACE"," ",1229],["T_VARIABLE","$params",1229],")",";",["T_WHITESPACE","\n        ",1229],"}",["T_WHITESPACE"," ",1230],["T_ELSEIF","elseif",1230],["T_WHITESPACE"," ",1230],"(",["T_STRING","is_array",1230],"(",["T_VARIABLE","$column",1230],")",")",["T_WHITESPACE"," ",1230],"{",["T_WHITESPACE","\n            ",1230],["T_VARIABLE","$column",1231],["T_WHITESPACE"," ",1231],"=",["T_WHITESPACE"," ",1231],["T_STRING","reset",1231],"(",["T_VARIABLE","$column",1231],")",";",["T_WHITESPACE","\n        ",1231],"}",["T_WHITESPACE","\n\n        ",1232],["T_VARIABLE","$sqlValues",1234],["T_WHITESPACE"," ",1234],"=",["T_WHITESPACE"," ",1234],"[","]",";",["T_WHITESPACE","\n        ",1234],["T_FOREACH","foreach",1235],["T_WHITESPACE"," ",1235],"(",["T_VARIABLE","$values",1235],["T_WHITESPACE"," ",1235],["T_AS","as",1235],["T_WHITESPACE"," ",1235],["T_VARIABLE","$i",1235],["T_WHITESPACE"," ",1235],["T_DOUBLE_ARROW","=>",1235],["T_WHITESPACE"," ",1235],["T_VARIABLE","$value",1235],")",["T_WHITESPACE"," ",1235],"{",["T_WHITESPACE","\n            ",1235],["T_IF","if",1236],["T_WHITESPACE"," ",1236],"(",["T_STRING","is_array",1236],"(",["T_VARIABLE","$value",1236],")",["T_WHITESPACE"," ",1236],["T_BOOLEAN_OR","||",1236],["T_WHITESPACE"," ",1236],["T_VARIABLE","$value",1236],["T_WHITESPACE"," ",1236],["T_INSTANCEOF","instanceof",1236],["T_WHITESPACE"," ",1236],["T_NS_SEPARATOR","\\",1236],["T_STRING","ArrayAccess",1236],")",["T_WHITESPACE"," ",1236],"{",["T_WHITESPACE","\n                ",1236],["T_VARIABLE","$value",1237],["T_WHITESPACE"," ",1237],"=",["T_WHITESPACE"," ",1237],["T_ISSET","isset",1237],"(",["T_VARIABLE","$value",1237],"[",["T_VARIABLE","$column",1237],"]",")",["T_WHITESPACE"," ",1237],"?",["T_WHITESPACE"," ",1237],["T_VARIABLE","$value",1237],"[",["T_VARIABLE","$column",1237],"]",["T_WHITESPACE"," ",1237],":",["T_WHITESPACE"," ",1237],["T_STRING","null",1237],";",["T_WHITESPACE","\n            ",1237],"}",["T_WHITESPACE","\n            ",1238],["T_IF","if",1239],["T_WHITESPACE"," ",1239],"(",["T_VARIABLE","$value",1239],["T_WHITESPACE"," ",1239],["T_IS_IDENTICAL","===",1239],["T_WHITESPACE"," ",1239],["T_STRING","null",1239],")",["T_WHITESPACE"," ",1239],"{",["T_WHITESPACE","\n                ",1239],["T_VARIABLE","$sqlValues",1240],"[",["T_VARIABLE","$i",1240],"]",["T_WHITESPACE"," ",1240],"=",["T_WHITESPACE"," ",1240],["T_CONSTANT_ENCAPSED_STRING","'NULL'",1240],";",["T_WHITESPACE","\n            ",1240],"}",["T_WHITESPACE"," ",1241],["T_ELSEIF","elseif",1241],["T_WHITESPACE"," ",1241],"(",["T_VARIABLE","$value",1241],["T_WHITESPACE"," ",1241],["T_INSTANCEOF","instanceof",1241],["T_WHITESPACE"," ",1241],["T_STRING","Expression",1241],")",["T_WHITESPACE"," ",1241],"{",["T_WHITESPACE","\n                ",1241],["T_VARIABLE","$sqlValues",1242],"[",["T_VARIABLE","$i",1242],"]",["T_WHITESPACE"," ",1242],"=",["T_WHITESPACE"," ",1242],["T_VARIABLE","$value",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","expression",1242],";",["T_WHITESPACE","\n                ",1242],["T_FOREACH","foreach",1243],["T_WHITESPACE"," ",1243],"(",["T_VARIABLE","$value",1243],["T_OBJECT_OPERATOR","->",1243],["T_STRING","params",1243],["T_WHITESPACE"," ",1243],["T_AS","as",1243],["T_WHITESPACE"," ",1243],["T_VARIABLE","$n",1243],["T_WHITESPACE"," ",1243],["T_DOUBLE_ARROW","=>",1243],["T_WHITESPACE"," ",1243],["T_VARIABLE","$v",1243],")",["T_WHITESPACE"," ",1243],"{",["T_WHITESPACE","\n                    ",1243],["T_VARIABLE","$params",1244],"[",["T_VARIABLE","$n",1244],"]",["T_WHITESPACE"," ",1244],"=",["T_WHITESPACE"," ",1244],["T_VARIABLE","$v",1244],";",["T_WHITESPACE","\n                ",1244],"}",["T_WHITESPACE","\n            ",1245],"}",["T_WHITESPACE"," ",1246],["T_ELSE","else",1246],["T_WHITESPACE"," ",1246],"{",["T_WHITESPACE","\n                ",1246],["T_VARIABLE","$phName",1247],["T_WHITESPACE"," ",1247],"=",["T_WHITESPACE"," ",1247],["T_STRING","self",1247],["T_DOUBLE_COLON","::",1247],["T_STRING","PARAM_PREFIX",1247],["T_WHITESPACE"," ",1247],".",["T_WHITESPACE"," ",1247],["T_STRING","count",1247],"(",["T_VARIABLE","$params",1247],")",";",["T_WHITESPACE","\n                ",1247],["T_VARIABLE","$params",1248],"[",["T_VARIABLE","$phName",1248],"]",["T_WHITESPACE"," ",1248],"=",["T_WHITESPACE"," ",1248],["T_VARIABLE","$value",1248],";",["T_WHITESPACE","\n                ",1248],["T_VARIABLE","$sqlValues",1249],"[",["T_VARIABLE","$i",1249],"]",["T_WHITESPACE"," ",1249],"=",["T_WHITESPACE"," ",1249],["T_VARIABLE","$phName",1249],";",["T_WHITESPACE","\n            ",1249],"}",["T_WHITESPACE","\n        ",1250],"}",["T_WHITESPACE","\n\n        ",1251],["T_IF","if",1253],["T_WHITESPACE"," ",1253],"(",["T_EMPTY","empty",1253],"(",["T_VARIABLE","$sqlValues",1253],")",")",["T_WHITESPACE"," ",1253],"{",["T_WHITESPACE","\n            ",1253],["T_RETURN","return",1254],["T_WHITESPACE"," ",1254],["T_VARIABLE","$operator",1254],["T_WHITESPACE"," ",1254],["T_IS_IDENTICAL","===",1254],["T_WHITESPACE"," ",1254],["T_CONSTANT_ENCAPSED_STRING","'IN'",1254],["T_WHITESPACE"," ",1254],"?",["T_WHITESPACE"," ",1254],["T_CONSTANT_ENCAPSED_STRING","'0=1'",1254],["T_WHITESPACE"," ",1254],":",["T_WHITESPACE"," ",1254],["T_CONSTANT_ENCAPSED_STRING","''",1254],";",["T_WHITESPACE","\n        ",1254],"}",["T_WHITESPACE","\n\n        ",1255],["T_IF","if",1257],["T_WHITESPACE"," ",1257],"(",["T_STRING","strpos",1257],"(",["T_VARIABLE","$column",1257],",",["T_WHITESPACE"," ",1257],["T_CONSTANT_ENCAPSED_STRING","'('",1257],")",["T_WHITESPACE"," ",1257],["T_IS_IDENTICAL","===",1257],["T_WHITESPACE"," ",1257],["T_STRING","false",1257],")",["T_WHITESPACE"," ",1257],"{",["T_WHITESPACE","\n            ",1257],["T_VARIABLE","$column",1258],["T_WHITESPACE"," ",1258],"=",["T_WHITESPACE"," ",1258],["T_VARIABLE","$this",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","db",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","quoteColumnName",1258],"(",["T_VARIABLE","$column",1258],")",";",["T_WHITESPACE","\n        ",1258],"}",["T_WHITESPACE","\n\n        ",1259],["T_IF","if",1261],["T_WHITESPACE"," ",1261],"(",["T_STRING","count",1261],"(",["T_VARIABLE","$sqlValues",1261],")",["T_WHITESPACE"," ",1261],">",["T_WHITESPACE"," ",1261],["T_LNUMBER","1",1261],")",["T_WHITESPACE"," ",1261],"{",["T_WHITESPACE","\n            ",1261],["T_RETURN","return",1262],["T_WHITESPACE"," ",1262],"\"",["T_VARIABLE","$column",1262],["T_ENCAPSED_AND_WHITESPACE"," ",1262],["T_VARIABLE","$operator",1262],["T_ENCAPSED_AND_WHITESPACE"," (",1262],"\"",["T_WHITESPACE"," ",1262],".",["T_WHITESPACE"," ",1262],["T_STRING","implode",1262],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1262],",",["T_WHITESPACE"," ",1262],["T_VARIABLE","$sqlValues",1262],")",["T_WHITESPACE"," ",1262],".",["T_WHITESPACE"," ",1262],["T_CONSTANT_ENCAPSED_STRING","')'",1262],";",["T_WHITESPACE","\n        ",1262],"}",["T_WHITESPACE"," ",1263],["T_ELSE","else",1263],["T_WHITESPACE"," ",1263],"{",["T_WHITESPACE","\n            ",1263],["T_VARIABLE","$operator",1264],["T_WHITESPACE"," ",1264],"=",["T_WHITESPACE"," ",1264],["T_VARIABLE","$operator",1264],["T_WHITESPACE"," ",1264],["T_IS_IDENTICAL","===",1264],["T_WHITESPACE"," ",1264],["T_CONSTANT_ENCAPSED_STRING","'IN'",1264],["T_WHITESPACE"," ",1264],"?",["T_WHITESPACE"," ",1264],["T_CONSTANT_ENCAPSED_STRING","'='",1264],["T_WHITESPACE"," ",1264],":",["T_WHITESPACE"," ",1264],["T_CONSTANT_ENCAPSED_STRING","'<>'",1264],";",["T_WHITESPACE","\n            ",1264],["T_RETURN","return",1265],["T_WHITESPACE"," ",1265],["T_VARIABLE","$column",1265],["T_WHITESPACE"," ",1265],".",["T_WHITESPACE"," ",1265],["T_VARIABLE","$operator",1265],["T_WHITESPACE"," ",1265],".",["T_WHITESPACE"," ",1265],["T_STRING","reset",1265],"(",["T_VARIABLE","$sqlValues",1265],")",";",["T_WHITESPACE","\n        ",1265],"}",["T_WHITESPACE","\n    ",1266],"}",["T_WHITESPACE","\n\n    ",1267],["T_DOC_COMMENT","\/**\n     * Builds SQL for IN condition\n     *\n     * @param string $operator\n     * @param array $columns\n     * @param Query $values\n     * @param array $params\n     * @return string SQL\n     *\/",1269],["T_WHITESPACE","\n    ",1277],["T_PROTECTED","protected",1278],["T_WHITESPACE"," ",1278],["T_FUNCTION","function",1278],["T_WHITESPACE"," ",1278],["T_STRING","buildSubqueryInCondition",1278],"(",["T_VARIABLE","$operator",1278],",",["T_WHITESPACE"," ",1278],["T_VARIABLE","$columns",1278],",",["T_WHITESPACE"," ",1278],["T_VARIABLE","$values",1278],",",["T_WHITESPACE"," ",1278],"&",["T_VARIABLE","$params",1278],")",["T_WHITESPACE","\n    ",1278],"{",["T_WHITESPACE","\n        ",1279],["T_LIST","list",1280],"(",["T_VARIABLE","$sql",1280],",",["T_WHITESPACE"," ",1280],["T_VARIABLE","$params",1280],")",["T_WHITESPACE"," ",1280],"=",["T_WHITESPACE"," ",1280],["T_VARIABLE","$this",1280],["T_OBJECT_OPERATOR","->",1280],["T_STRING","build",1280],"(",["T_VARIABLE","$values",1280],",",["T_WHITESPACE"," ",1280],["T_VARIABLE","$params",1280],")",";",["T_WHITESPACE","\n        ",1280],["T_IF","if",1281],["T_WHITESPACE"," ",1281],"(",["T_STRING","is_array",1281],"(",["T_VARIABLE","$columns",1281],")",")",["T_WHITESPACE"," ",1281],"{",["T_WHITESPACE","\n            ",1281],["T_FOREACH","foreach",1282],["T_WHITESPACE"," ",1282],"(",["T_VARIABLE","$columns",1282],["T_WHITESPACE"," ",1282],["T_AS","as",1282],["T_WHITESPACE"," ",1282],["T_VARIABLE","$i",1282],["T_WHITESPACE"," ",1282],["T_DOUBLE_ARROW","=>",1282],["T_WHITESPACE"," ",1282],["T_VARIABLE","$col",1282],")",["T_WHITESPACE"," ",1282],"{",["T_WHITESPACE","\n                ",1282],["T_IF","if",1283],["T_WHITESPACE"," ",1283],"(",["T_STRING","strpos",1283],"(",["T_VARIABLE","$col",1283],",",["T_WHITESPACE"," ",1283],["T_CONSTANT_ENCAPSED_STRING","'('",1283],")",["T_WHITESPACE"," ",1283],["T_IS_IDENTICAL","===",1283],["T_WHITESPACE"," ",1283],["T_STRING","false",1283],")",["T_WHITESPACE"," ",1283],"{",["T_WHITESPACE","\n                    ",1283],["T_VARIABLE","$columns",1284],"[",["T_VARIABLE","$i",1284],"]",["T_WHITESPACE"," ",1284],"=",["T_WHITESPACE"," ",1284],["T_VARIABLE","$this",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","db",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","quoteColumnName",1284],"(",["T_VARIABLE","$col",1284],")",";",["T_WHITESPACE","\n                ",1284],"}",["T_WHITESPACE","\n            ",1285],"}",["T_WHITESPACE","\n            ",1286],["T_RETURN","return",1287],["T_WHITESPACE"," ",1287],["T_CONSTANT_ENCAPSED_STRING","'('",1287],["T_WHITESPACE"," ",1287],".",["T_WHITESPACE"," ",1287],["T_STRING","implode",1287],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1287],",",["T_WHITESPACE"," ",1287],["T_VARIABLE","$columns",1287],")",["T_WHITESPACE"," ",1287],".",["T_WHITESPACE"," ",1287],"\"",["T_ENCAPSED_AND_WHITESPACE",") ",1287],["T_VARIABLE","$operator",1287],["T_ENCAPSED_AND_WHITESPACE"," (",1287],["T_VARIABLE","$sql",1287],["T_ENCAPSED_AND_WHITESPACE",")",1287],"\"",";",["T_WHITESPACE","\n        ",1287],"}",["T_WHITESPACE"," ",1288],["T_ELSE","else",1288],["T_WHITESPACE"," ",1288],"{",["T_WHITESPACE","\n            ",1288],["T_IF","if",1289],["T_WHITESPACE"," ",1289],"(",["T_STRING","strpos",1289],"(",["T_VARIABLE","$columns",1289],",",["T_WHITESPACE"," ",1289],["T_CONSTANT_ENCAPSED_STRING","'('",1289],")",["T_WHITESPACE"," ",1289],["T_IS_IDENTICAL","===",1289],["T_WHITESPACE"," ",1289],["T_STRING","false",1289],")",["T_WHITESPACE"," ",1289],"{",["T_WHITESPACE","\n                ",1289],["T_VARIABLE","$columns",1290],["T_WHITESPACE"," ",1290],"=",["T_WHITESPACE"," ",1290],["T_VARIABLE","$this",1290],["T_OBJECT_OPERATOR","->",1290],["T_STRING","db",1290],["T_OBJECT_OPERATOR","->",1290],["T_STRING","quoteColumnName",1290],"(",["T_VARIABLE","$columns",1290],")",";",["T_WHITESPACE","\n            ",1290],"}",["T_WHITESPACE","\n            ",1291],["T_RETURN","return",1292],["T_WHITESPACE"," ",1292],"\"",["T_VARIABLE","$columns",1292],["T_ENCAPSED_AND_WHITESPACE"," ",1292],["T_VARIABLE","$operator",1292],["T_ENCAPSED_AND_WHITESPACE"," (",1292],["T_VARIABLE","$sql",1292],["T_ENCAPSED_AND_WHITESPACE",")",1292],"\"",";",["T_WHITESPACE","\n        ",1292],"}",["T_WHITESPACE","\n    ",1293],"}",["T_WHITESPACE","\n\n    ",1294],["T_DOC_COMMENT","\/**\n     * Builds SQL for IN condition\n     *\n     * @param string $operator\n     * @param array|\\Traversable $columns\n     * @param array $values\n     * @param array $params\n     * @return string SQL\n     *\/",1296],["T_WHITESPACE","\n    ",1304],["T_PROTECTED","protected",1305],["T_WHITESPACE"," ",1305],["T_FUNCTION","function",1305],["T_WHITESPACE"," ",1305],["T_STRING","buildCompositeInCondition",1305],"(",["T_VARIABLE","$operator",1305],",",["T_WHITESPACE"," ",1305],["T_VARIABLE","$columns",1305],",",["T_WHITESPACE"," ",1305],["T_VARIABLE","$values",1305],",",["T_WHITESPACE"," ",1305],"&",["T_VARIABLE","$params",1305],")",["T_WHITESPACE","\n    ",1305],"{",["T_WHITESPACE","\n        ",1306],["T_VARIABLE","$vss",1307],["T_WHITESPACE"," ",1307],"=",["T_WHITESPACE"," ",1307],"[","]",";",["T_WHITESPACE","\n        ",1307],["T_FOREACH","foreach",1308],["T_WHITESPACE"," ",1308],"(",["T_VARIABLE","$values",1308],["T_WHITESPACE"," ",1308],["T_AS","as",1308],["T_WHITESPACE"," ",1308],["T_VARIABLE","$value",1308],")",["T_WHITESPACE"," ",1308],"{",["T_WHITESPACE","\n            ",1308],["T_VARIABLE","$vs",1309],["T_WHITESPACE"," ",1309],"=",["T_WHITESPACE"," ",1309],"[","]",";",["T_WHITESPACE","\n            ",1309],["T_FOREACH","foreach",1310],["T_WHITESPACE"," ",1310],"(",["T_VARIABLE","$columns",1310],["T_WHITESPACE"," ",1310],["T_AS","as",1310],["T_WHITESPACE"," ",1310],["T_VARIABLE","$column",1310],")",["T_WHITESPACE"," ",1310],"{",["T_WHITESPACE","\n                ",1310],["T_IF","if",1311],["T_WHITESPACE"," ",1311],"(",["T_ISSET","isset",1311],"(",["T_VARIABLE","$value",1311],"[",["T_VARIABLE","$column",1311],"]",")",")",["T_WHITESPACE"," ",1311],"{",["T_WHITESPACE","\n                    ",1311],["T_VARIABLE","$phName",1312],["T_WHITESPACE"," ",1312],"=",["T_WHITESPACE"," ",1312],["T_STRING","self",1312],["T_DOUBLE_COLON","::",1312],["T_STRING","PARAM_PREFIX",1312],["T_WHITESPACE"," ",1312],".",["T_WHITESPACE"," ",1312],["T_STRING","count",1312],"(",["T_VARIABLE","$params",1312],")",";",["T_WHITESPACE","\n                    ",1312],["T_VARIABLE","$params",1313],"[",["T_VARIABLE","$phName",1313],"]",["T_WHITESPACE"," ",1313],"=",["T_WHITESPACE"," ",1313],["T_VARIABLE","$value",1313],"[",["T_VARIABLE","$column",1313],"]",";",["T_WHITESPACE","\n                    ",1313],["T_VARIABLE","$vs",1314],"[","]",["T_WHITESPACE"," ",1314],"=",["T_WHITESPACE"," ",1314],["T_VARIABLE","$phName",1314],";",["T_WHITESPACE","\n                ",1314],"}",["T_WHITESPACE"," ",1315],["T_ELSE","else",1315],["T_WHITESPACE"," ",1315],"{",["T_WHITESPACE","\n                    ",1315],["T_VARIABLE","$vs",1316],"[","]",["T_WHITESPACE"," ",1316],"=",["T_WHITESPACE"," ",1316],["T_CONSTANT_ENCAPSED_STRING","'NULL'",1316],";",["T_WHITESPACE","\n                ",1316],"}",["T_WHITESPACE","\n            ",1317],"}",["T_WHITESPACE","\n            ",1318],["T_VARIABLE","$vss",1319],"[","]",["T_WHITESPACE"," ",1319],"=",["T_WHITESPACE"," ",1319],["T_CONSTANT_ENCAPSED_STRING","'('",1319],["T_WHITESPACE"," ",1319],".",["T_WHITESPACE"," ",1319],["T_STRING","implode",1319],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1319],",",["T_WHITESPACE"," ",1319],["T_VARIABLE","$vs",1319],")",["T_WHITESPACE"," ",1319],".",["T_WHITESPACE"," ",1319],["T_CONSTANT_ENCAPSED_STRING","')'",1319],";",["T_WHITESPACE","\n        ",1319],"}",["T_WHITESPACE","\n\n        ",1320],["T_IF","if",1322],["T_WHITESPACE"," ",1322],"(",["T_EMPTY","empty",1322],"(",["T_VARIABLE","$vss",1322],")",")",["T_WHITESPACE"," ",1322],"{",["T_WHITESPACE","\n            ",1322],["T_RETURN","return",1323],["T_WHITESPACE"," ",1323],["T_VARIABLE","$operator",1323],["T_WHITESPACE"," ",1323],["T_IS_IDENTICAL","===",1323],["T_WHITESPACE"," ",1323],["T_CONSTANT_ENCAPSED_STRING","'IN'",1323],["T_WHITESPACE"," ",1323],"?",["T_WHITESPACE"," ",1323],["T_CONSTANT_ENCAPSED_STRING","'0=1'",1323],["T_WHITESPACE"," ",1323],":",["T_WHITESPACE"," ",1323],["T_CONSTANT_ENCAPSED_STRING","''",1323],";",["T_WHITESPACE","\n        ",1323],"}",["T_WHITESPACE","\n\n        ",1324],["T_VARIABLE","$sqlColumns",1326],["T_WHITESPACE"," ",1326],"=",["T_WHITESPACE"," ",1326],"[","]",";",["T_WHITESPACE","\n        ",1326],["T_FOREACH","foreach",1327],["T_WHITESPACE"," ",1327],"(",["T_VARIABLE","$columns",1327],["T_WHITESPACE"," ",1327],["T_AS","as",1327],["T_WHITESPACE"," ",1327],["T_VARIABLE","$i",1327],["T_WHITESPACE"," ",1327],["T_DOUBLE_ARROW","=>",1327],["T_WHITESPACE"," ",1327],["T_VARIABLE","$column",1327],")",["T_WHITESPACE"," ",1327],"{",["T_WHITESPACE","\n            ",1327],["T_VARIABLE","$sqlColumns",1328],"[","]",["T_WHITESPACE"," ",1328],"=",["T_WHITESPACE"," ",1328],["T_STRING","strpos",1328],"(",["T_VARIABLE","$column",1328],",",["T_WHITESPACE"," ",1328],["T_CONSTANT_ENCAPSED_STRING","'('",1328],")",["T_WHITESPACE"," ",1328],["T_IS_IDENTICAL","===",1328],["T_WHITESPACE"," ",1328],["T_STRING","false",1328],["T_WHITESPACE"," ",1328],"?",["T_WHITESPACE"," ",1328],["T_VARIABLE","$this",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","db",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","quoteColumnName",1328],"(",["T_VARIABLE","$column",1328],")",["T_WHITESPACE"," ",1328],":",["T_WHITESPACE"," ",1328],["T_VARIABLE","$column",1328],";",["T_WHITESPACE","\n        ",1328],"}",["T_WHITESPACE","\n\n        ",1329],["T_RETURN","return",1331],["T_WHITESPACE"," ",1331],["T_CONSTANT_ENCAPSED_STRING","'('",1331],["T_WHITESPACE"," ",1331],".",["T_WHITESPACE"," ",1331],["T_STRING","implode",1331],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1331],",",["T_WHITESPACE"," ",1331],["T_VARIABLE","$sqlColumns",1331],")",["T_WHITESPACE"," ",1331],".",["T_WHITESPACE"," ",1331],"\"",["T_ENCAPSED_AND_WHITESPACE",") ",1331],["T_VARIABLE","$operator",1331],["T_ENCAPSED_AND_WHITESPACE"," (",1331],"\"",["T_WHITESPACE"," ",1331],".",["T_WHITESPACE"," ",1331],["T_STRING","implode",1331],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1331],",",["T_WHITESPACE"," ",1331],["T_VARIABLE","$vss",1331],")",["T_WHITESPACE"," ",1331],".",["T_WHITESPACE"," ",1331],["T_CONSTANT_ENCAPSED_STRING","')'",1331],";",["T_WHITESPACE","\n    ",1331],"}",["T_WHITESPACE","\n\n    ",1332],["T_DOC_COMMENT","\/**\n     * Creates an SQL expressions with the `LIKE` operator.\n     * @param string $operator the operator to use (e.g. `LIKE`, `NOT LIKE`, `OR LIKE` or `OR NOT LIKE`)\n     * @param array $operands an array of two or three operands\n     *\n     * - The first operand is the column name.\n     * - The second operand is a single value or an array of values that column value\n     *   should be compared with. If it is an empty array the generated expression will\n     *   be a `false` value if operator is `LIKE` or `OR LIKE`, and empty if operator\n     *   is `NOT LIKE` or `OR NOT LIKE`.\n     * - An optional third operand can also be provided to specify how to escape special characters\n     *   in the value(s). The operand should be an array of mappings from the special characters to their\n     *   escaped counterparts. If this operand is not provided, a default escape mapping will be used.\n     *   You may use `false` or an empty array to indicate the values are already escaped and no escape\n     *   should be applied. Note that when using an escape mapping (or the third operand is not provided),\n     *   the values will be automatically enclosed within a pair of percentage characters.\n     * @param array $params the binding parameters to be populated\n     * @return string the generated SQL expression\n     * @throws InvalidParamException if wrong number of operands have been given.\n     *\/",1334],["T_WHITESPACE","\n    ",1353],["T_PUBLIC","public",1354],["T_WHITESPACE"," ",1354],["T_FUNCTION","function",1354],["T_WHITESPACE"," ",1354],["T_STRING","buildLikeCondition",1354],"(",["T_VARIABLE","$operator",1354],",",["T_WHITESPACE"," ",1354],["T_VARIABLE","$operands",1354],",",["T_WHITESPACE"," ",1354],"&",["T_VARIABLE","$params",1354],")",["T_WHITESPACE","\n    ",1354],"{",["T_WHITESPACE","\n        ",1355],["T_IF","if",1356],["T_WHITESPACE"," ",1356],"(","!",["T_ISSET","isset",1356],"(",["T_VARIABLE","$operands",1356],"[",["T_LNUMBER","0",1356],"]",",",["T_WHITESPACE"," ",1356],["T_VARIABLE","$operands",1356],"[",["T_LNUMBER","1",1356],"]",")",")",["T_WHITESPACE"," ",1356],"{",["T_WHITESPACE","\n            ",1356],["T_THROW","throw",1357],["T_WHITESPACE"," ",1357],["T_NEW","new",1357],["T_WHITESPACE"," ",1357],["T_STRING","InvalidParamException",1357],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Operator '",1357],["T_VARIABLE","$operator",1357],["T_ENCAPSED_AND_WHITESPACE","' requires two operands.",1357],"\"",")",";",["T_WHITESPACE","\n        ",1357],"}",["T_WHITESPACE","\n\n        ",1358],["T_VARIABLE","$escape",1360],["T_WHITESPACE"," ",1360],"=",["T_WHITESPACE"," ",1360],["T_ISSET","isset",1360],"(",["T_VARIABLE","$operands",1360],"[",["T_LNUMBER","2",1360],"]",")",["T_WHITESPACE"," ",1360],"?",["T_WHITESPACE"," ",1360],["T_VARIABLE","$operands",1360],"[",["T_LNUMBER","2",1360],"]",["T_WHITESPACE"," ",1360],":",["T_WHITESPACE"," ",1360],"[",["T_CONSTANT_ENCAPSED_STRING","'%'",1360],["T_WHITESPACE"," ",1360],["T_DOUBLE_ARROW","=>",1360],["T_WHITESPACE"," ",1360],["T_CONSTANT_ENCAPSED_STRING","'\\%'",1360],",",["T_WHITESPACE"," ",1360],["T_CONSTANT_ENCAPSED_STRING","'_'",1360],["T_WHITESPACE"," ",1360],["T_DOUBLE_ARROW","=>",1360],["T_WHITESPACE"," ",1360],["T_CONSTANT_ENCAPSED_STRING","'\\_'",1360],",",["T_WHITESPACE"," ",1360],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",1360],["T_WHITESPACE"," ",1360],["T_DOUBLE_ARROW","=>",1360],["T_WHITESPACE"," ",1360],["T_CONSTANT_ENCAPSED_STRING","'\\\\\\\\'",1360],"]",";",["T_WHITESPACE","\n        ",1360],["T_UNSET","unset",1361],"(",["T_VARIABLE","$operands",1361],"[",["T_LNUMBER","2",1361],"]",")",";",["T_WHITESPACE","\n\n        ",1361],["T_IF","if",1363],["T_WHITESPACE"," ",1363],"(","!",["T_STRING","preg_match",1363],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(AND |OR |)(((NOT |))I?LIKE)\/'",1363],",",["T_WHITESPACE"," ",1363],["T_VARIABLE","$operator",1363],",",["T_WHITESPACE"," ",1363],["T_VARIABLE","$matches",1363],")",")",["T_WHITESPACE"," ",1363],"{",["T_WHITESPACE","\n            ",1363],["T_THROW","throw",1364],["T_WHITESPACE"," ",1364],["T_NEW","new",1364],["T_WHITESPACE"," ",1364],["T_STRING","InvalidParamException",1364],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid operator '",1364],["T_VARIABLE","$operator",1364],["T_ENCAPSED_AND_WHITESPACE","'.",1364],"\"",")",";",["T_WHITESPACE","\n        ",1364],"}",["T_WHITESPACE","\n        ",1365],["T_VARIABLE","$andor",1366],["T_WHITESPACE"," ",1366],"=",["T_WHITESPACE"," ",1366],["T_CONSTANT_ENCAPSED_STRING","' '",1366],["T_WHITESPACE"," ",1366],".",["T_WHITESPACE"," ",1366],"(","!",["T_EMPTY","empty",1366],"(",["T_VARIABLE","$matches",1366],"[",["T_LNUMBER","1",1366],"]",")",["T_WHITESPACE"," ",1366],"?",["T_WHITESPACE"," ",1366],["T_VARIABLE","$matches",1366],"[",["T_LNUMBER","1",1366],"]",["T_WHITESPACE"," ",1366],":",["T_WHITESPACE"," ",1366],["T_CONSTANT_ENCAPSED_STRING","'AND '",1366],")",";",["T_WHITESPACE","\n        ",1366],["T_VARIABLE","$not",1367],["T_WHITESPACE"," ",1367],"=",["T_WHITESPACE"," ",1367],"!",["T_EMPTY","empty",1367],"(",["T_VARIABLE","$matches",1367],"[",["T_LNUMBER","3",1367],"]",")",";",["T_WHITESPACE","\n        ",1367],["T_VARIABLE","$operator",1368],["T_WHITESPACE"," ",1368],"=",["T_WHITESPACE"," ",1368],["T_VARIABLE","$matches",1368],"[",["T_LNUMBER","2",1368],"]",";",["T_WHITESPACE","\n\n        ",1368],["T_LIST","list",1370],"(",["T_VARIABLE","$column",1370],",",["T_WHITESPACE"," ",1370],["T_VARIABLE","$values",1370],")",["T_WHITESPACE"," ",1370],"=",["T_WHITESPACE"," ",1370],["T_VARIABLE","$operands",1370],";",["T_WHITESPACE","\n\n        ",1370],["T_IF","if",1372],["T_WHITESPACE"," ",1372],"(","!",["T_STRING","is_array",1372],"(",["T_VARIABLE","$values",1372],")",")",["T_WHITESPACE"," ",1372],"{",["T_WHITESPACE","\n            ",1372],["T_VARIABLE","$values",1373],["T_WHITESPACE"," ",1373],"=",["T_WHITESPACE"," ",1373],"[",["T_VARIABLE","$values",1373],"]",";",["T_WHITESPACE","\n        ",1373],"}",["T_WHITESPACE","\n\n        ",1374],["T_IF","if",1376],["T_WHITESPACE"," ",1376],"(",["T_EMPTY","empty",1376],"(",["T_VARIABLE","$values",1376],")",")",["T_WHITESPACE"," ",1376],"{",["T_WHITESPACE","\n            ",1376],["T_RETURN","return",1377],["T_WHITESPACE"," ",1377],["T_VARIABLE","$not",1377],["T_WHITESPACE"," ",1377],"?",["T_WHITESPACE"," ",1377],["T_CONSTANT_ENCAPSED_STRING","''",1377],["T_WHITESPACE"," ",1377],":",["T_WHITESPACE"," ",1377],["T_CONSTANT_ENCAPSED_STRING","'0=1'",1377],";",["T_WHITESPACE","\n        ",1377],"}",["T_WHITESPACE","\n\n        ",1378],["T_IF","if",1380],["T_WHITESPACE"," ",1380],"(",["T_STRING","strpos",1380],"(",["T_VARIABLE","$column",1380],",",["T_WHITESPACE"," ",1380],["T_CONSTANT_ENCAPSED_STRING","'('",1380],")",["T_WHITESPACE"," ",1380],["T_IS_IDENTICAL","===",1380],["T_WHITESPACE"," ",1380],["T_STRING","false",1380],")",["T_WHITESPACE"," ",1380],"{",["T_WHITESPACE","\n            ",1380],["T_VARIABLE","$column",1381],["T_WHITESPACE"," ",1381],"=",["T_WHITESPACE"," ",1381],["T_VARIABLE","$this",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","db",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","quoteColumnName",1381],"(",["T_VARIABLE","$column",1381],")",";",["T_WHITESPACE","\n        ",1381],"}",["T_WHITESPACE","\n\n        ",1382],["T_VARIABLE","$parts",1384],["T_WHITESPACE"," ",1384],"=",["T_WHITESPACE"," ",1384],"[","]",";",["T_WHITESPACE","\n        ",1384],["T_FOREACH","foreach",1385],["T_WHITESPACE"," ",1385],"(",["T_VARIABLE","$values",1385],["T_WHITESPACE"," ",1385],["T_AS","as",1385],["T_WHITESPACE"," ",1385],["T_VARIABLE","$value",1385],")",["T_WHITESPACE"," ",1385],"{",["T_WHITESPACE","\n            ",1385],["T_IF","if",1386],["T_WHITESPACE"," ",1386],"(",["T_VARIABLE","$value",1386],["T_WHITESPACE"," ",1386],["T_INSTANCEOF","instanceof",1386],["T_WHITESPACE"," ",1386],["T_STRING","Expression",1386],")",["T_WHITESPACE"," ",1386],"{",["T_WHITESPACE","\n                ",1386],["T_FOREACH","foreach",1387],["T_WHITESPACE"," ",1387],"(",["T_VARIABLE","$value",1387],["T_OBJECT_OPERATOR","->",1387],["T_STRING","params",1387],["T_WHITESPACE"," ",1387],["T_AS","as",1387],["T_WHITESPACE"," ",1387],["T_VARIABLE","$n",1387],["T_WHITESPACE"," ",1387],["T_DOUBLE_ARROW","=>",1387],["T_WHITESPACE"," ",1387],["T_VARIABLE","$v",1387],")",["T_WHITESPACE"," ",1387],"{",["T_WHITESPACE","\n                    ",1387],["T_VARIABLE","$params",1388],"[",["T_VARIABLE","$n",1388],"]",["T_WHITESPACE"," ",1388],"=",["T_WHITESPACE"," ",1388],["T_VARIABLE","$v",1388],";",["T_WHITESPACE","\n                ",1388],"}",["T_WHITESPACE","\n                ",1389],["T_VARIABLE","$phName",1390],["T_WHITESPACE"," ",1390],"=",["T_WHITESPACE"," ",1390],["T_VARIABLE","$value",1390],["T_OBJECT_OPERATOR","->",1390],["T_STRING","expression",1390],";",["T_WHITESPACE","\n            ",1390],"}",["T_WHITESPACE"," ",1391],["T_ELSE","else",1391],["T_WHITESPACE"," ",1391],"{",["T_WHITESPACE","\n                ",1391],["T_VARIABLE","$phName",1392],["T_WHITESPACE"," ",1392],"=",["T_WHITESPACE"," ",1392],["T_STRING","self",1392],["T_DOUBLE_COLON","::",1392],["T_STRING","PARAM_PREFIX",1392],["T_WHITESPACE"," ",1392],".",["T_WHITESPACE"," ",1392],["T_STRING","count",1392],"(",["T_VARIABLE","$params",1392],")",";",["T_WHITESPACE","\n                ",1392],["T_VARIABLE","$params",1393],"[",["T_VARIABLE","$phName",1393],"]",["T_WHITESPACE"," ",1393],"=",["T_WHITESPACE"," ",1393],["T_EMPTY","empty",1393],"(",["T_VARIABLE","$escape",1393],")",["T_WHITESPACE"," ",1393],"?",["T_WHITESPACE"," ",1393],["T_VARIABLE","$value",1393],["T_WHITESPACE"," ",1393],":",["T_WHITESPACE"," ",1393],"(",["T_CONSTANT_ENCAPSED_STRING","'%'",1393],["T_WHITESPACE"," ",1393],".",["T_WHITESPACE"," ",1393],["T_STRING","strtr",1393],"(",["T_VARIABLE","$value",1393],",",["T_WHITESPACE"," ",1393],["T_VARIABLE","$escape",1393],")",["T_WHITESPACE"," ",1393],".",["T_WHITESPACE"," ",1393],["T_CONSTANT_ENCAPSED_STRING","'%'",1393],")",";",["T_WHITESPACE","\n            ",1393],"}",["T_WHITESPACE","\n            ",1394],["T_VARIABLE","$parts",1395],"[","]",["T_WHITESPACE"," ",1395],"=",["T_WHITESPACE"," ",1395],"\"",["T_VARIABLE","$column",1395],["T_ENCAPSED_AND_WHITESPACE"," ",1395],["T_VARIABLE","$operator",1395],["T_ENCAPSED_AND_WHITESPACE"," ",1395],["T_VARIABLE","$phName",1395],"\"",";",["T_WHITESPACE","\n        ",1395],"}",["T_WHITESPACE","\n\n        ",1396],["T_RETURN","return",1398],["T_WHITESPACE"," ",1398],["T_STRING","implode",1398],"(",["T_VARIABLE","$andor",1398],",",["T_WHITESPACE"," ",1398],["T_VARIABLE","$parts",1398],")",";",["T_WHITESPACE","\n    ",1398],"}",["T_WHITESPACE","\n\n    ",1399],["T_DOC_COMMENT","\/**\n     * Creates an SQL expressions with the `EXISTS` operator.\n     * @param string $operator the operator to use (e.g. `EXISTS` or `NOT EXISTS`)\n     * @param array $operands contains only one element which is a [[Query]] object representing the sub-query.\n     * @param array $params the binding parameters to be populated\n     * @return string the generated SQL expression\n     * @throws InvalidParamException if the operand is not a [[Query]] object.\n     *\/",1401],["T_WHITESPACE","\n    ",1408],["T_PUBLIC","public",1409],["T_WHITESPACE"," ",1409],["T_FUNCTION","function",1409],["T_WHITESPACE"," ",1409],["T_STRING","buildExistsCondition",1409],"(",["T_VARIABLE","$operator",1409],",",["T_WHITESPACE"," ",1409],["T_VARIABLE","$operands",1409],",",["T_WHITESPACE"," ",1409],"&",["T_VARIABLE","$params",1409],")",["T_WHITESPACE","\n    ",1409],"{",["T_WHITESPACE","\n        ",1410],["T_IF","if",1411],["T_WHITESPACE"," ",1411],"(",["T_VARIABLE","$operands",1411],"[",["T_LNUMBER","0",1411],"]",["T_WHITESPACE"," ",1411],["T_INSTANCEOF","instanceof",1411],["T_WHITESPACE"," ",1411],["T_STRING","Query",1411],")",["T_WHITESPACE"," ",1411],"{",["T_WHITESPACE","\n            ",1411],["T_LIST","list",1412],"(",["T_VARIABLE","$sql",1412],",",["T_WHITESPACE"," ",1412],["T_VARIABLE","$params",1412],")",["T_WHITESPACE"," ",1412],"=",["T_WHITESPACE"," ",1412],["T_VARIABLE","$this",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","build",1412],"(",["T_VARIABLE","$operands",1412],"[",["T_LNUMBER","0",1412],"]",",",["T_WHITESPACE"," ",1412],["T_VARIABLE","$params",1412],")",";",["T_WHITESPACE","\n            ",1412],["T_RETURN","return",1413],["T_WHITESPACE"," ",1413],"\"",["T_VARIABLE","$operator",1413],["T_ENCAPSED_AND_WHITESPACE"," (",1413],["T_VARIABLE","$sql",1413],["T_ENCAPSED_AND_WHITESPACE",")",1413],"\"",";",["T_WHITESPACE","\n        ",1413],"}",["T_WHITESPACE"," ",1414],["T_ELSE","else",1414],["T_WHITESPACE"," ",1414],"{",["T_WHITESPACE","\n            ",1414],["T_THROW","throw",1415],["T_WHITESPACE"," ",1415],["T_NEW","new",1415],["T_WHITESPACE"," ",1415],["T_STRING","InvalidParamException",1415],"(",["T_CONSTANT_ENCAPSED_STRING","'Subquery for EXISTS operator must be a Query object.'",1415],")",";",["T_WHITESPACE","\n        ",1415],"}",["T_WHITESPACE","\n    ",1416],"}",["T_WHITESPACE","\n\n    ",1417],["T_DOC_COMMENT","\/**\n     * Creates an SQL expressions like `\"column\" operator value`.\n     * @param string $operator the operator to use. Anything could be used e.g. `>`, `<=`, etc.\n     * @param array $operands contains two column names.\n     * @param array $params the binding parameters to be populated\n     * @return string the generated SQL expression\n     * @throws InvalidParamException if wrong number of operands have been given.\n     *\/",1419],["T_WHITESPACE","\n    ",1426],["T_PUBLIC","public",1427],["T_WHITESPACE"," ",1427],["T_FUNCTION","function",1427],["T_WHITESPACE"," ",1427],["T_STRING","buildSimpleCondition",1427],"(",["T_VARIABLE","$operator",1427],",",["T_WHITESPACE"," ",1427],["T_VARIABLE","$operands",1427],",",["T_WHITESPACE"," ",1427],"&",["T_VARIABLE","$params",1427],")",["T_WHITESPACE","\n    ",1427],"{",["T_WHITESPACE","\n        ",1428],["T_IF","if",1429],["T_WHITESPACE"," ",1429],"(",["T_STRING","count",1429],"(",["T_VARIABLE","$operands",1429],")",["T_WHITESPACE"," ",1429],["T_IS_NOT_IDENTICAL","!==",1429],["T_WHITESPACE"," ",1429],["T_LNUMBER","2",1429],")",["T_WHITESPACE"," ",1429],"{",["T_WHITESPACE","\n            ",1429],["T_THROW","throw",1430],["T_WHITESPACE"," ",1430],["T_NEW","new",1430],["T_WHITESPACE"," ",1430],["T_STRING","InvalidParamException",1430],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Operator '",1430],["T_VARIABLE","$operator",1430],["T_ENCAPSED_AND_WHITESPACE","' requires two operands.",1430],"\"",")",";",["T_WHITESPACE","\n        ",1430],"}",["T_WHITESPACE","\n\n        ",1431],["T_LIST","list",1433],"(",["T_VARIABLE","$column",1433],",",["T_WHITESPACE"," ",1433],["T_VARIABLE","$value",1433],")",["T_WHITESPACE"," ",1433],"=",["T_WHITESPACE"," ",1433],["T_VARIABLE","$operands",1433],";",["T_WHITESPACE","\n\n        ",1433],["T_IF","if",1435],["T_WHITESPACE"," ",1435],"(",["T_STRING","strpos",1435],"(",["T_VARIABLE","$column",1435],",",["T_WHITESPACE"," ",1435],["T_CONSTANT_ENCAPSED_STRING","'('",1435],")",["T_WHITESPACE"," ",1435],["T_IS_IDENTICAL","===",1435],["T_WHITESPACE"," ",1435],["T_STRING","false",1435],")",["T_WHITESPACE"," ",1435],"{",["T_WHITESPACE","\n            ",1435],["T_VARIABLE","$column",1436],["T_WHITESPACE"," ",1436],"=",["T_WHITESPACE"," ",1436],["T_VARIABLE","$this",1436],["T_OBJECT_OPERATOR","->",1436],["T_STRING","db",1436],["T_OBJECT_OPERATOR","->",1436],["T_STRING","quoteColumnName",1436],"(",["T_VARIABLE","$column",1436],")",";",["T_WHITESPACE","\n        ",1436],"}",["T_WHITESPACE","\n\n        ",1437],["T_IF","if",1439],["T_WHITESPACE"," ",1439],"(",["T_VARIABLE","$value",1439],["T_WHITESPACE"," ",1439],["T_IS_IDENTICAL","===",1439],["T_WHITESPACE"," ",1439],["T_STRING","null",1439],")",["T_WHITESPACE"," ",1439],"{",["T_WHITESPACE","\n            ",1439],["T_RETURN","return",1440],["T_WHITESPACE"," ",1440],"\"",["T_VARIABLE","$column",1440],["T_ENCAPSED_AND_WHITESPACE"," ",1440],["T_VARIABLE","$operator",1440],["T_ENCAPSED_AND_WHITESPACE"," NULL",1440],"\"",";",["T_WHITESPACE","\n        ",1440],"}",["T_WHITESPACE"," ",1441],["T_ELSEIF","elseif",1441],["T_WHITESPACE"," ",1441],"(",["T_VARIABLE","$value",1441],["T_WHITESPACE"," ",1441],["T_INSTANCEOF","instanceof",1441],["T_WHITESPACE"," ",1441],["T_STRING","Expression",1441],")",["T_WHITESPACE"," ",1441],"{",["T_WHITESPACE","\n            ",1441],["T_FOREACH","foreach",1442],["T_WHITESPACE"," ",1442],"(",["T_VARIABLE","$value",1442],["T_OBJECT_OPERATOR","->",1442],["T_STRING","params",1442],["T_WHITESPACE"," ",1442],["T_AS","as",1442],["T_WHITESPACE"," ",1442],["T_VARIABLE","$n",1442],["T_WHITESPACE"," ",1442],["T_DOUBLE_ARROW","=>",1442],["T_WHITESPACE"," ",1442],["T_VARIABLE","$v",1442],")",["T_WHITESPACE"," ",1442],"{",["T_WHITESPACE","\n                ",1442],["T_VARIABLE","$params",1443],"[",["T_VARIABLE","$n",1443],"]",["T_WHITESPACE"," ",1443],"=",["T_WHITESPACE"," ",1443],["T_VARIABLE","$v",1443],";",["T_WHITESPACE","\n            ",1443],"}",["T_WHITESPACE","\n            ",1444],["T_RETURN","return",1445],["T_WHITESPACE"," ",1445],"\"",["T_VARIABLE","$column",1445],["T_ENCAPSED_AND_WHITESPACE"," ",1445],["T_VARIABLE","$operator",1445],["T_ENCAPSED_AND_WHITESPACE"," ",1445],["T_CURLY_OPEN","{",1445],["T_VARIABLE","$value",1445],["T_OBJECT_OPERATOR","->",1445],["T_STRING","expression",1445],"}","\"",";",["T_WHITESPACE","\n        ",1445],"}",["T_WHITESPACE"," ",1446],["T_ELSEIF","elseif",1446],["T_WHITESPACE"," ",1446],"(",["T_VARIABLE","$value",1446],["T_WHITESPACE"," ",1446],["T_INSTANCEOF","instanceof",1446],["T_WHITESPACE"," ",1446],["T_STRING","Query",1446],")",["T_WHITESPACE"," ",1446],"{",["T_WHITESPACE","\n            ",1446],["T_LIST","list",1447],"(",["T_VARIABLE","$sql",1447],",",["T_WHITESPACE"," ",1447],["T_VARIABLE","$params",1447],")",["T_WHITESPACE"," ",1447],"=",["T_WHITESPACE"," ",1447],["T_VARIABLE","$this",1447],["T_OBJECT_OPERATOR","->",1447],["T_STRING","build",1447],"(",["T_VARIABLE","$value",1447],",",["T_WHITESPACE"," ",1447],["T_VARIABLE","$params",1447],")",";",["T_WHITESPACE","\n            ",1447],["T_RETURN","return",1448],["T_WHITESPACE"," ",1448],"\"",["T_VARIABLE","$column",1448],["T_ENCAPSED_AND_WHITESPACE"," ",1448],["T_VARIABLE","$operator",1448],["T_ENCAPSED_AND_WHITESPACE"," (",1448],["T_VARIABLE","$sql",1448],["T_ENCAPSED_AND_WHITESPACE",")",1448],"\"",";",["T_WHITESPACE","\n        ",1448],"}",["T_WHITESPACE"," ",1449],["T_ELSE","else",1449],["T_WHITESPACE"," ",1449],"{",["T_WHITESPACE","\n            ",1449],["T_VARIABLE","$phName",1450],["T_WHITESPACE"," ",1450],"=",["T_WHITESPACE"," ",1450],["T_STRING","self",1450],["T_DOUBLE_COLON","::",1450],["T_STRING","PARAM_PREFIX",1450],["T_WHITESPACE"," ",1450],".",["T_WHITESPACE"," ",1450],["T_STRING","count",1450],"(",["T_VARIABLE","$params",1450],")",";",["T_WHITESPACE","\n            ",1450],["T_VARIABLE","$params",1451],"[",["T_VARIABLE","$phName",1451],"]",["T_WHITESPACE"," ",1451],"=",["T_WHITESPACE"," ",1451],["T_VARIABLE","$value",1451],";",["T_WHITESPACE","\n            ",1451],["T_RETURN","return",1452],["T_WHITESPACE"," ",1452],"\"",["T_VARIABLE","$column",1452],["T_ENCAPSED_AND_WHITESPACE"," ",1452],["T_VARIABLE","$operator",1452],["T_ENCAPSED_AND_WHITESPACE"," ",1452],["T_VARIABLE","$phName",1452],"\"",";",["T_WHITESPACE","\n        ",1452],"}",["T_WHITESPACE","\n    ",1453],"}",["T_WHITESPACE","\n\n    ",1454],["T_DOC_COMMENT","\/**\n     * Creates a SELECT EXISTS() SQL statement.\n     * @param string $rawSql the subquery in a raw form to select from.\n     * @return string the SELECT EXISTS() SQL statement.\n     * @since 2.0.8\n     *\/",1456],["T_WHITESPACE","\n    ",1461],["T_PUBLIC","public",1462],["T_WHITESPACE"," ",1462],["T_FUNCTION","function",1462],["T_WHITESPACE"," ",1462],["T_STRING","selectExists",1462],"(",["T_VARIABLE","$rawSql",1462],")",["T_WHITESPACE","\n    ",1462],"{",["T_WHITESPACE","\n        ",1463],["T_RETURN","return",1464],["T_WHITESPACE"," ",1464],["T_CONSTANT_ENCAPSED_STRING","'SELECT EXISTS('",1464],["T_WHITESPACE"," ",1464],".",["T_WHITESPACE"," ",1464],["T_VARIABLE","$rawSql",1464],["T_WHITESPACE"," ",1464],".",["T_WHITESPACE"," ",1464],["T_CONSTANT_ENCAPSED_STRING","')'",1464],";",["T_WHITESPACE","\n    ",1464],"}",["T_WHITESPACE","\n",1465],"}",["T_WHITESPACE","\n",1466]]