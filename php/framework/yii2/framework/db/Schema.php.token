[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","db",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Object",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","base",12],["T_NS_SEPARATOR","\\",12],["T_STRING","NotSupportedException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","base",13],["T_NS_SEPARATOR","\\",13],["T_STRING","InvalidCallException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","caching",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Cache",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","yii",15],["T_NS_SEPARATOR","\\",15],["T_STRING","caching",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TagDependency",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Schema is the base class for concrete DBMS-specific schema classes.\n *\n * Schema represents the database schema information that is DBMS specific.\n *\n * @property string $lastInsertID The row ID of the last row inserted, or the last value retrieved from the\n * sequence object. This property is read-only.\n * @property QueryBuilder $queryBuilder The query builder for this connection. This property is read-only.\n * @property string[] $schemaNames All schema names in the database, except system schemas. This property is\n * read-only.\n * @property string[] $tableNames All table names in the database. This property is read-only.\n * @property TableSchema[] $tableSchemas The metadata for all tables in the database. Each array element is an\n * instance of [[TableSchema]] or its child class. This property is read-only.\n * @property string $transactionIsolationLevel The transaction isolation level to use for this transaction.\n * This can be one of [[Transaction::READ_UNCOMMITTED]], [[Transaction::READ_COMMITTED]],\n * [[Transaction::REPEATABLE_READ]] and [[Transaction::SERIALIZABLE]] but also a string containing DBMS specific\n * syntax to be used after `SET TRANSACTION ISOLATION LEVEL`. This property is write-only.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",17],["T_WHITESPACE","\n",37],["T_ABSTRACT","abstract",38],["T_WHITESPACE"," ",38],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Schema",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","Object",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_COMMENT","\/\/ The following are the supported abstract column data types.\n",40],["T_WHITESPACE","    ",41],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","TYPE_PK",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'pk'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","TYPE_UPK",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'upk'",42],";",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","TYPE_BIGPK",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'bigpk'",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","TYPE_UBIGPK",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'ubigpk'",44],";",["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","TYPE_CHAR",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'char'",45],";",["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","TYPE_STRING",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'string'",46],";",["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","TYPE_TEXT",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'text'",47],";",["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","TYPE_SMALLINT",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'smallint'",48],";",["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","TYPE_INTEGER",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'integer'",49],";",["T_WHITESPACE","\n    ",49],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","TYPE_BIGINT",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'bigint'",50],";",["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","TYPE_FLOAT",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'float'",51],";",["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","TYPE_DOUBLE",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'double'",52],";",["T_WHITESPACE","\n    ",52],["T_CONST","const",53],["T_WHITESPACE"," ",53],["T_STRING","TYPE_DECIMAL",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'decimal'",53],";",["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","TYPE_DATETIME",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'datetime'",54],";",["T_WHITESPACE","\n    ",54],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","TYPE_TIMESTAMP",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",55],";",["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","TYPE_TIME",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'time'",56],";",["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","TYPE_DATE",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'date'",57],";",["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","TYPE_BINARY",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'binary'",58],";",["T_WHITESPACE","\n    ",58],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","TYPE_BOOLEAN",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'boolean'",59],";",["T_WHITESPACE","\n    ",59],["T_CONST","const",60],["T_WHITESPACE"," ",60],["T_STRING","TYPE_MONEY",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'money'",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var Connection the database connection\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$db",65],";",["T_WHITESPACE","\n    ",65],["T_DOC_COMMENT","\/**\n     * @var string the default schema name used for the current session.\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$defaultSchema",69],";",["T_WHITESPACE","\n    ",69],["T_DOC_COMMENT","\/**\n     * @var array map of DB errors and corresponding exceptions\n     * If left part is found in DB error message exception class from the right part is used.\n     *\/",70],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$exceptionMap",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'SQLSTATE[23'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\IntegrityException'",75],",",["T_WHITESPACE","\n    ",75],"]",";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @var string column schema class\n     * @since 2.0.11\n     *\/",78],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$columnSchemaClass",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'yii\\db\\ColumnSchema'",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * @var array list of ALL schema names in the database, except system schemas\n     *\/",84],["T_WHITESPACE","\n    ",86],["T_PRIVATE","private",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$_schemaNames",87],";",["T_WHITESPACE","\n    ",87],["T_DOC_COMMENT","\/**\n     * @var array list of ALL table names in the database\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PRIVATE","private",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$_tableNames",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[","]",";",["T_WHITESPACE","\n    ",91],["T_DOC_COMMENT","\/**\n     * @var array list of loaded table metadata (table name => TableSchema)\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_PRIVATE","private",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$_tables",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"[","]",";",["T_WHITESPACE","\n    ",95],["T_DOC_COMMENT","\/**\n     * @var QueryBuilder the query builder for this database\n     *\/",96],["T_WHITESPACE","\n    ",98],["T_PRIVATE","private",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_builder",99],";",["T_WHITESPACE","\n\n\n    ",99],["T_DOC_COMMENT","\/**\n     * @return \\yii\\db\\ColumnSchema\n     * @throws \\yii\\base\\InvalidConfigException\n     *\/",102],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","createColumnSchema",106],"(",")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_STRING","Yii",108],["T_DOUBLE_COLON","::",108],["T_STRING","createObject",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","columnSchemaClass",108],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Loads the metadata for the specified table.\n     * @param string $name table name\n     * @return null|TableSchema DBMS-dependent table metadata, null if the table does not exist.\n     *\/",111],["T_WHITESPACE","\n    ",115],["T_ABSTRACT","abstract",116],["T_WHITESPACE"," ",116],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","loadTableSchema",116],"(",["T_VARIABLE","$name",116],")",";",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Obtains the metadata for the named table.\n     * @param string $name table name. The table name may contain schema name if any. Do not quote the table name.\n     * @param bool $refresh whether to reload the table schema even if it is found in the cache.\n     * @return null|TableSchema table metadata. Null if the named table does not exist.\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getTableSchema",124],"(",["T_VARIABLE","$name",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$refresh",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","false",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_STRING","array_key_exists",126],"(",["T_VARIABLE","$name",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_tables",126],")",["T_WHITESPACE"," ",126],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],"!",["T_VARIABLE","$refresh",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_tables",127],"[",["T_VARIABLE","$name",127],"]",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$db",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","db",130],";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$realName",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getRawTableName",131],"(",["T_VARIABLE","$name",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$db",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","enableSchemaCache",133],["T_WHITESPACE"," ",133],["T_BOOLEAN_AND","&&",133],["T_WHITESPACE"," ",133],"!",["T_STRING","in_array",133],"(",["T_VARIABLE","$name",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$db",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","schemaCacheExclude",133],",",["T_WHITESPACE"," ",133],["T_STRING","true",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_COMMENT","\/* @var $cache Cache *\/",134],["T_WHITESPACE","\n            ",134],["T_VARIABLE","$cache",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","is_string",135],"(",["T_VARIABLE","$db",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","schemaCache",135],")",["T_WHITESPACE"," ",135],"?",["T_WHITESPACE"," ",135],["T_STRING","Yii",135],["T_DOUBLE_COLON","::",135],["T_VARIABLE","$app",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","get",135],"(",["T_VARIABLE","$db",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","schemaCache",135],",",["T_WHITESPACE"," ",135],["T_STRING","false",135],")",["T_WHITESPACE"," ",135],":",["T_WHITESPACE"," ",135],["T_VARIABLE","$db",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","schemaCache",135],";",["T_WHITESPACE","\n            ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$cache",136],["T_WHITESPACE"," ",136],["T_INSTANCEOF","instanceof",136],["T_WHITESPACE"," ",136],["T_STRING","Cache",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_VARIABLE","$key",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getCacheKey",137],"(",["T_VARIABLE","$name",137],")",";",["T_WHITESPACE","\n                ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$refresh",138],["T_WHITESPACE"," ",138],["T_BOOLEAN_OR","||",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$table",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$cache",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","get",138],"(",["T_VARIABLE","$key",138],")",")",["T_WHITESPACE"," ",138],["T_IS_IDENTICAL","===",138],["T_WHITESPACE"," ",138],["T_STRING","false",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_tables",139],"[",["T_VARIABLE","$name",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$table",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","loadTableSchema",139],"(",["T_VARIABLE","$realName",139],")",";",["T_WHITESPACE","\n                    ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$table",140],["T_WHITESPACE"," ",140],["T_IS_NOT_IDENTICAL","!==",140],["T_WHITESPACE"," ",140],["T_STRING","null",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                        ",140],["T_VARIABLE","$cache",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","set",141],"(",["T_VARIABLE","$key",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$table",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$db",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","schemaCacheDuration",141],",",["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_STRING","TagDependency",141],"(","[",["T_WHITESPACE","\n                            ",141],["T_CONSTANT_ENCAPSED_STRING","'tags'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getCacheTag",142],"(",")",",",["T_WHITESPACE","\n                        ",142],"]",")",")",";",["T_WHITESPACE","\n                    ",143],"}",["T_WHITESPACE","\n                ",144],"}",["T_WHITESPACE"," ",145],["T_ELSE","else",145],["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_tables",146],"[",["T_VARIABLE","$name",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$table",146],";",["T_WHITESPACE","\n                ",146],"}",["T_WHITESPACE","\n\n                ",147],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_tables",149],"[",["T_VARIABLE","$name",149],"]",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_tables",153],"[",["T_VARIABLE","$name",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","loadTableSchema",153],"(",["T_VARIABLE","$realName",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Returns the cache key for the specified table name.\n     * @param string $name the table name\n     * @return mixed the cache key\n     *\/",156],["T_WHITESPACE","\n    ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","getCacheKey",161],"(",["T_VARIABLE","$name",161],")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],"[",["T_WHITESPACE","\n            ",163],["T_CLASS_C","__CLASS__",164],",",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","db",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","dsn",165],",",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","db",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","username",166],",",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$name",167],",",["T_WHITESPACE","\n        ",167],"]",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Returns the cache tag name.\n     * This allows [[refresh()]] to invalidate all cached table schemas.\n     * @return string the cache tag name\n     *\/",171],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","getCacheTag",176],"(",")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_STRING","md5",178],"(",["T_STRING","serialize",178],"(","[",["T_WHITESPACE","\n            ",178],["T_CLASS_C","__CLASS__",179],",",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","db",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","dsn",180],",",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","db",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","username",181],",",["T_WHITESPACE","\n        ",181],"]",")",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Returns the metadata for all tables in the database.\n     * @param string $schema the schema of the tables. Defaults to empty string, meaning the current or default schema name.\n     * @param bool $refresh whether to fetch the latest available table schemas. If this is false,\n     * cached data may be returned if available.\n     * @return TableSchema[] the metadata for all tables in the database.\n     * Each array element is an instance of [[TableSchema]] or its child class.\n     *\/",185],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","getTableSchemas",193],"(",["T_VARIABLE","$schema",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","''",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$refresh",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","false",193],")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$tables",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],"[","]",";",["T_WHITESPACE","\n        ",195],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getTableNames",196],"(",["T_VARIABLE","$schema",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$refresh",196],")",["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$name",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$schema",197],["T_WHITESPACE"," ",197],["T_IS_NOT_IDENTICAL","!==",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","''",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$name",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$schema",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'.'",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_VARIABLE","$name",198],";",["T_WHITESPACE","\n            ",198],"}",["T_WHITESPACE","\n            ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(","(",["T_VARIABLE","$table",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getTableSchema",200],"(",["T_VARIABLE","$name",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$refresh",200],")",")",["T_WHITESPACE"," ",200],["T_IS_NOT_IDENTICAL","!==",200],["T_WHITESPACE"," ",200],["T_STRING","null",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$tables",201],"[","]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$table",201],";",["T_WHITESPACE","\n            ",201],"}",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n\n        ",203],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$tables",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Returns all schema names in the database, except system schemas.\n     * @param bool $refresh whether to fetch the latest available schema names. If this is false,\n     * schema names fetched previously (if available) will be returned.\n     * @return string[] all schema names in the database, except system schemas.\n     * @since 2.0.4\n     *\/",208],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","getSchemaNames",215],"(",["T_VARIABLE","$refresh",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","false",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_schemaNames",217],["T_WHITESPACE"," ",217],["T_IS_IDENTICAL","===",217],["T_WHITESPACE"," ",217],["T_STRING","null",217],["T_WHITESPACE"," ",217],["T_BOOLEAN_OR","||",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$refresh",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_schemaNames",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","findSchemaNames",218],"(",")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n\n        ",219],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_schemaNames",221],";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Returns all table names in the database.\n     * @param string $schema the schema of the tables. Defaults to empty string, meaning the current or default schema name.\n     * If not empty, the returned table names will be prefixed with the schema name.\n     * @param bool $refresh whether to fetch the latest available table names. If this is false,\n     * table names fetched previously (if available) will be returned.\n     * @return string[] all table names in the database.\n     *\/",224],["T_WHITESPACE","\n    ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","getTableNames",232],"(",["T_VARIABLE","$schema",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","''",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$refresh",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","false",232],")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_IF","if",234],["T_WHITESPACE"," ",234],"(","!",["T_ISSET","isset",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_tableNames",234],"[",["T_VARIABLE","$schema",234],"]",")",["T_WHITESPACE"," ",234],["T_BOOLEAN_OR","||",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$refresh",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_tableNames",235],"[",["T_VARIABLE","$schema",235],"]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","findTableNames",235],"(",["T_VARIABLE","$schema",235],")",";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n\n        ",236],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_tableNames",238],"[",["T_VARIABLE","$schema",238],"]",";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * @return QueryBuilder the query builder for this connection.\n     *\/",241],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","getQueryBuilder",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_builder",246],["T_WHITESPACE"," ",246],["T_IS_IDENTICAL","===",246],["T_WHITESPACE"," ",246],["T_STRING","null",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_builder",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","createQueryBuilder",247],"(",")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n\n        ",248],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_builder",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Determines the PDO type for the given PHP data value.\n     * @param mixed $data the data whose PDO type is to be determined\n     * @return int the PDO type\n     * @see http:\/\/www.php.net\/manual\/en\/pdo.constants.php\n     *\/",253],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","getPdoType",259],"(",["T_VARIABLE","$data",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_STATIC","static",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$typeMap",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],"[",["T_WHITESPACE","\n            ",261],["T_COMMENT","\/\/ php type => PDO type\n",262],["T_WHITESPACE","            ",263],["T_CONSTANT_ENCAPSED_STRING","'boolean'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_NS_SEPARATOR","\\",263],["T_STRING","PDO",263],["T_DOUBLE_COLON","::",263],["T_STRING","PARAM_BOOL",263],",",["T_WHITESPACE","\n            ",263],["T_CONSTANT_ENCAPSED_STRING","'integer'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_NS_SEPARATOR","\\",264],["T_STRING","PDO",264],["T_DOUBLE_COLON","::",264],["T_STRING","PARAM_INT",264],",",["T_WHITESPACE","\n            ",264],["T_CONSTANT_ENCAPSED_STRING","'string'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_NS_SEPARATOR","\\",265],["T_STRING","PDO",265],["T_DOUBLE_COLON","::",265],["T_STRING","PARAM_STR",265],",",["T_WHITESPACE","\n            ",265],["T_CONSTANT_ENCAPSED_STRING","'resource'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_NS_SEPARATOR","\\",266],["T_STRING","PDO",266],["T_DOUBLE_COLON","::",266],["T_STRING","PARAM_LOB",266],",",["T_WHITESPACE","\n            ",266],["T_CONSTANT_ENCAPSED_STRING","'NULL'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_NS_SEPARATOR","\\",267],["T_STRING","PDO",267],["T_DOUBLE_COLON","::",267],["T_STRING","PARAM_NULL",267],",",["T_WHITESPACE","\n        ",267],"]",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$type",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","gettype",269],"(",["T_VARIABLE","$data",269],")",";",["T_WHITESPACE","\n\n        ",269],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_ISSET","isset",271],"(",["T_VARIABLE","$typeMap",271],"[",["T_VARIABLE","$type",271],"]",")",["T_WHITESPACE"," ",271],"?",["T_WHITESPACE"," ",271],["T_VARIABLE","$typeMap",271],"[",["T_VARIABLE","$type",271],"]",["T_WHITESPACE"," ",271],":",["T_WHITESPACE"," ",271],["T_NS_SEPARATOR","\\",271],["T_STRING","PDO",271],["T_DOUBLE_COLON","::",271],["T_STRING","PARAM_STR",271],";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * Refreshes the schema.\n     * This method cleans up all cached table schemas so that they can be re-created later\n     * to reflect the database schema change.\n     *\/",274],["T_WHITESPACE","\n    ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","refresh",279],"(",")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_COMMENT","\/* @var $cache Cache *\/",281],["T_WHITESPACE","\n        ",281],["T_VARIABLE","$cache",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","is_string",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","db",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","schemaCache",282],")",["T_WHITESPACE"," ",282],"?",["T_WHITESPACE"," ",282],["T_STRING","Yii",282],["T_DOUBLE_COLON","::",282],["T_VARIABLE","$app",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","get",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","db",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","schemaCache",282],",",["T_WHITESPACE"," ",282],["T_STRING","false",282],")",["T_WHITESPACE"," ",282],":",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","db",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","schemaCache",282],";",["T_WHITESPACE","\n        ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","db",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","enableSchemaCache",283],["T_WHITESPACE"," ",283],["T_BOOLEAN_AND","&&",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$cache",283],["T_WHITESPACE"," ",283],["T_INSTANCEOF","instanceof",283],["T_WHITESPACE"," ",283],["T_STRING","Cache",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_STRING","TagDependency",284],["T_DOUBLE_COLON","::",284],["T_STRING","invalidate",284],"(",["T_VARIABLE","$cache",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getCacheTag",284],"(",")",")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_tableNames",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],"[","]",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_tables",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],"[","]",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Refreshes the particular table schema.\n     * This method cleans up cached table schema so that it can be re-created later\n     * to reflect the database schema change.\n     * @param string $name table name.\n     * @since 2.0.6\n     *\/",290],["T_WHITESPACE","\n    ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","refreshTableSchema",297],"(",["T_VARIABLE","$name",297],")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_UNSET","unset",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_tables",299],"[",["T_VARIABLE","$name",299],"]",")",";",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_tableNames",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],"[","]",";",["T_WHITESPACE","\n        ",300],["T_COMMENT","\/* @var $cache Cache *\/",301],["T_WHITESPACE","\n        ",301],["T_VARIABLE","$cache",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","is_string",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","db",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","schemaCache",302],")",["T_WHITESPACE"," ",302],"?",["T_WHITESPACE"," ",302],["T_STRING","Yii",302],["T_DOUBLE_COLON","::",302],["T_VARIABLE","$app",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","get",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","db",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","schemaCache",302],",",["T_WHITESPACE"," ",302],["T_STRING","false",302],")",["T_WHITESPACE"," ",302],":",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","db",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","schemaCache",302],";",["T_WHITESPACE","\n        ",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","db",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","enableSchemaCache",303],["T_WHITESPACE"," ",303],["T_BOOLEAN_AND","&&",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$cache",303],["T_WHITESPACE"," ",303],["T_INSTANCEOF","instanceof",303],["T_WHITESPACE"," ",303],["T_STRING","Cache",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$cache",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","delete",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getCacheKey",304],"(",["T_VARIABLE","$name",304],")",")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * Creates a query builder for the database.\n     * This method may be overridden by child classes to create a DBMS-specific query builder.\n     * @return QueryBuilder query builder instance\n     *\/",308],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","createQueryBuilder",313],"(",")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_NEW","new",315],["T_WHITESPACE"," ",315],["T_STRING","QueryBuilder",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","db",315],")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * Create a column schema builder instance giving the type and value precision.\n     *\n     * This method may be overridden by child classes to create a DBMS-specific column schema builder.\n     *\n     * @param string $type type of the column. See [[ColumnSchemaBuilder::$type]].\n     * @param int|string|array $length length or precision of the column. See [[ColumnSchemaBuilder::$length]].\n     * @return ColumnSchemaBuilder column schema builder instance\n     * @since 2.0.6\n     *\/",318],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","createColumnSchemaBuilder",328],"(",["T_VARIABLE","$type",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$length",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","null",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_NEW","new",330],["T_WHITESPACE"," ",330],["T_STRING","ColumnSchemaBuilder",330],"(",["T_VARIABLE","$type",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$length",330],")",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Returns all schema names in the database, including the default one but not system schemas.\n     * This method should be overridden by child classes in order to support this feature\n     * because the default implementation simply throws an exception.\n     * @return array all schema names in the database, except system schemas\n     * @throws NotSupportedException if this method is called\n     * @since 2.0.4\n     *\/",333],["T_WHITESPACE","\n    ",340],["T_PROTECTED","protected",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","findSchemaNames",341],"(",")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_THROW","throw",343],["T_WHITESPACE"," ",343],["T_NEW","new",343],["T_WHITESPACE"," ",343],["T_STRING","NotSupportedException",343],"(",["T_STRING","get_class",343],"(",["T_VARIABLE","$this",343],")",["T_WHITESPACE"," ",343],".",["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","' does not support fetching all schema names.'",343],")",";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Returns all table names in the database.\n     * This method should be overridden by child classes in order to support this feature\n     * because the default implementation simply throws an exception.\n     * @param string $schema the schema of the tables. Defaults to empty string, meaning the current or default schema.\n     * @return array all table names in the database. The names have NO schema name prefix.\n     * @throws NotSupportedException if this method is called\n     *\/",346],["T_WHITESPACE","\n    ",353],["T_PROTECTED","protected",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","findTableNames",354],"(",["T_VARIABLE","$schema",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","''",354],")",["T_WHITESPACE","\n    ",354],"{",["T_WHITESPACE","\n        ",355],["T_THROW","throw",356],["T_WHITESPACE"," ",356],["T_NEW","new",356],["T_WHITESPACE"," ",356],["T_STRING","NotSupportedException",356],"(",["T_STRING","get_class",356],"(",["T_VARIABLE","$this",356],")",["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","' does not support fetching all table names.'",356],")",";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Returns all unique indexes for the given table.\n     * Each array element is of the following structure:\n     *\n     * ```php\n     * [\n     *  'IndexName1' => ['col1' [, ...]],\n     *  'IndexName2' => ['col2' [, ...]],\n     * ]\n     * ```\n     *\n     * This method should be overridden by child classes in order to support this feature\n     * because the default implementation simply throws an exception\n     * @param TableSchema $table the table metadata\n     * @return array all unique indexes for the given table.\n     * @throws NotSupportedException if this method is called\n     *\/",359],["T_WHITESPACE","\n    ",375],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","findUniqueIndexes",376],"(",["T_VARIABLE","$table",376],")",["T_WHITESPACE","\n    ",376],"{",["T_WHITESPACE","\n        ",377],["T_THROW","throw",378],["T_WHITESPACE"," ",378],["T_NEW","new",378],["T_WHITESPACE"," ",378],["T_STRING","NotSupportedException",378],"(",["T_STRING","get_class",378],"(",["T_VARIABLE","$this",378],")",["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","' does not support getting unique indexes information.'",378],")",";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Returns the ID of the last inserted row or sequence value.\n     * @param string $sequenceName name of the sequence object (required by some DBMS)\n     * @return string the row ID of the last row inserted, or the last value retrieved from the sequence object\n     * @throws InvalidCallException if the DB connection is not active\n     * @see http:\/\/www.php.net\/manual\/en\/function.PDO-lastInsertId.php\n     *\/",381],["T_WHITESPACE","\n    ",387],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","getLastInsertID",388],"(",["T_VARIABLE","$sequenceName",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","''",388],")",["T_WHITESPACE","\n    ",388],"{",["T_WHITESPACE","\n        ",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","db",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","isActive",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n            ",390],["T_RETURN","return",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","db",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","pdo",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","lastInsertId",391],"(",["T_VARIABLE","$sequenceName",391],["T_WHITESPACE"," ",391],["T_IS_IDENTICAL","===",391],["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","''",391],["T_WHITESPACE"," ",391],"?",["T_WHITESPACE"," ",391],["T_STRING","null",391],["T_WHITESPACE"," ",391],":",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","quoteTableName",391],"(",["T_VARIABLE","$sequenceName",391],")",")",";",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE"," ",392],["T_ELSE","else",392],["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n            ",392],["T_THROW","throw",393],["T_WHITESPACE"," ",393],["T_NEW","new",393],["T_WHITESPACE"," ",393],["T_STRING","InvalidCallException",393],"(",["T_CONSTANT_ENCAPSED_STRING","'DB Connection is not active.'",393],")",";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n\n    ",395],["T_DOC_COMMENT","\/**\n     * @return bool whether this DBMS supports [savepoint](http:\/\/en.wikipedia.org\/wiki\/Savepoint).\n     *\/",397],["T_WHITESPACE","\n    ",399],["T_PUBLIC","public",400],["T_WHITESPACE"," ",400],["T_FUNCTION","function",400],["T_WHITESPACE"," ",400],["T_STRING","supportsSavepoint",400],"(",")",["T_WHITESPACE","\n    ",400],"{",["T_WHITESPACE","\n        ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","db",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","enableSavepoint",402],";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     * Creates a new savepoint.\n     * @param string $name the savepoint name\n     *\/",405],["T_WHITESPACE","\n    ",408],["T_PUBLIC","public",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","createSavepoint",409],"(",["T_VARIABLE","$name",409],")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","db",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","createCommand",411],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SAVEPOINT ",411],["T_VARIABLE","$name",411],"\"",")",["T_OBJECT_OPERATOR","->",411],["T_STRING","execute",411],"(",")",";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Releases an existing savepoint.\n     * @param string $name the savepoint name\n     *\/",414],["T_WHITESPACE","\n    ",417],["T_PUBLIC","public",418],["T_WHITESPACE"," ",418],["T_FUNCTION","function",418],["T_WHITESPACE"," ",418],["T_STRING","releaseSavepoint",418],"(",["T_VARIABLE","$name",418],")",["T_WHITESPACE","\n    ",418],"{",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","db",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","createCommand",420],"(","\"",["T_ENCAPSED_AND_WHITESPACE","RELEASE SAVEPOINT ",420],["T_VARIABLE","$name",420],"\"",")",["T_OBJECT_OPERATOR","->",420],["T_STRING","execute",420],"(",")",";",["T_WHITESPACE","\n    ",420],"}",["T_WHITESPACE","\n\n    ",421],["T_DOC_COMMENT","\/**\n     * Rolls back to a previously created savepoint.\n     * @param string $name the savepoint name\n     *\/",423],["T_WHITESPACE","\n    ",426],["T_PUBLIC","public",427],["T_WHITESPACE"," ",427],["T_FUNCTION","function",427],["T_WHITESPACE"," ",427],["T_STRING","rollBackSavepoint",427],"(",["T_VARIABLE","$name",427],")",["T_WHITESPACE","\n    ",427],"{",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","db",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","createCommand",429],"(","\"",["T_ENCAPSED_AND_WHITESPACE","ROLLBACK TO SAVEPOINT ",429],["T_VARIABLE","$name",429],"\"",")",["T_OBJECT_OPERATOR","->",429],["T_STRING","execute",429],"(",")",";",["T_WHITESPACE","\n    ",429],"}",["T_WHITESPACE","\n\n    ",430],["T_DOC_COMMENT","\/**\n     * Sets the isolation level of the current transaction.\n     * @param string $level The transaction isolation level to use for this transaction.\n     * This can be one of [[Transaction::READ_UNCOMMITTED]], [[Transaction::READ_COMMITTED]], [[Transaction::REPEATABLE_READ]]\n     * and [[Transaction::SERIALIZABLE]] but also a string containing DBMS specific syntax to be used\n     * after `SET TRANSACTION ISOLATION LEVEL`.\n     * @see http:\/\/en.wikipedia.org\/wiki\/Isolation_%28database_systems%29#Isolation_levels\n     *\/",432],["T_WHITESPACE","\n    ",439],["T_PUBLIC","public",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","setTransactionIsolationLevel",440],"(",["T_VARIABLE","$level",440],")",["T_WHITESPACE","\n    ",440],"{",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","db",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","createCommand",442],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SET TRANSACTION ISOLATION LEVEL ",442],["T_VARIABLE","$level",442],["T_ENCAPSED_AND_WHITESPACE",";",442],"\"",")",["T_OBJECT_OPERATOR","->",442],["T_STRING","execute",442],"(",")",";",["T_WHITESPACE","\n    ",442],"}",["T_WHITESPACE","\n\n    ",443],["T_DOC_COMMENT","\/**\n     * Executes the INSERT command, returning primary key values.\n     * @param string $table the table that new rows will be inserted into.\n     * @param array $columns the column data (name => value) to be inserted into the table.\n     * @return array|false primary key values or false if the command fails\n     * @since 2.0.4\n     *\/",445],["T_WHITESPACE","\n    ",451],["T_PUBLIC","public",452],["T_WHITESPACE"," ",452],["T_FUNCTION","function",452],["T_WHITESPACE"," ",452],["T_STRING","insert",452],"(",["T_VARIABLE","$table",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$columns",452],")",["T_WHITESPACE","\n    ",452],"{",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$command",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","db",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","createCommand",454],"(",")",["T_OBJECT_OPERATOR","->",454],["T_STRING","insert",454],"(",["T_VARIABLE","$table",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$columns",454],")",";",["T_WHITESPACE","\n        ",454],["T_IF","if",455],["T_WHITESPACE"," ",455],"(","!",["T_VARIABLE","$command",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","execute",455],"(",")",")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n            ",455],["T_RETURN","return",456],["T_WHITESPACE"," ",456],["T_STRING","false",456],";",["T_WHITESPACE","\n        ",456],"}",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$tableSchema",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","getTableSchema",458],"(",["T_VARIABLE","$table",458],")",";",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$result",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],"[","]",";",["T_WHITESPACE","\n        ",459],["T_FOREACH","foreach",460],["T_WHITESPACE"," ",460],"(",["T_VARIABLE","$tableSchema",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","primaryKey",460],["T_WHITESPACE"," ",460],["T_AS","as",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$name",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_IF","if",461],["T_WHITESPACE"," ",461],"(",["T_VARIABLE","$tableSchema",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","columns",461],"[",["T_VARIABLE","$name",461],"]",["T_OBJECT_OPERATOR","->",461],["T_STRING","autoIncrement",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n                ",461],["T_VARIABLE","$result",462],"[",["T_VARIABLE","$name",462],"]",["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getLastInsertID",462],"(",["T_VARIABLE","$tableSchema",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","sequenceName",462],")",";",["T_WHITESPACE","\n                ",462],["T_BREAK","break",463],";",["T_WHITESPACE","\n            ",463],"}",["T_WHITESPACE"," ",464],["T_ELSE","else",464],["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n                ",464],["T_VARIABLE","$result",465],"[",["T_VARIABLE","$name",465],"]",["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_ISSET","isset",465],"(",["T_VARIABLE","$columns",465],"[",["T_VARIABLE","$name",465],"]",")",["T_WHITESPACE"," ",465],"?",["T_WHITESPACE"," ",465],["T_VARIABLE","$columns",465],"[",["T_VARIABLE","$name",465],"]",["T_WHITESPACE"," ",465],":",["T_WHITESPACE"," ",465],["T_VARIABLE","$tableSchema",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","columns",465],"[",["T_VARIABLE","$name",465],"]",["T_OBJECT_OPERATOR","->",465],["T_STRING","defaultValue",465],";",["T_WHITESPACE","\n            ",465],"}",["T_WHITESPACE","\n        ",466],"}",["T_WHITESPACE","\n        ",467],["T_RETURN","return",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$result",468],";",["T_WHITESPACE","\n    ",468],"}",["T_WHITESPACE","\n\n    ",469],["T_DOC_COMMENT","\/**\n     * Quotes a string value for use in a query.\n     * Note that if the parameter is not a string, it will be returned without change.\n     * @param string $str string to be quoted\n     * @return string the properly quoted string\n     * @see http:\/\/www.php.net\/manual\/en\/function.PDO-quote.php\n     *\/",471],["T_WHITESPACE","\n    ",477],["T_PUBLIC","public",478],["T_WHITESPACE"," ",478],["T_FUNCTION","function",478],["T_WHITESPACE"," ",478],["T_STRING","quoteValue",478],"(",["T_VARIABLE","$str",478],")",["T_WHITESPACE","\n    ",478],"{",["T_WHITESPACE","\n        ",479],["T_IF","if",480],["T_WHITESPACE"," ",480],"(","!",["T_STRING","is_string",480],"(",["T_VARIABLE","$str",480],")",")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n            ",480],["T_RETURN","return",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$str",481],";",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n\n        ",482],["T_IF","if",484],["T_WHITESPACE"," ",484],"(","(",["T_VARIABLE","$value",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","db",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getSlavePdo",484],"(",")",["T_OBJECT_OPERATOR","->",484],["T_STRING","quote",484],"(",["T_VARIABLE","$str",484],")",")",["T_WHITESPACE"," ",484],["T_IS_NOT_IDENTICAL","!==",484],["T_WHITESPACE"," ",484],["T_STRING","false",484],")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_RETURN","return",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$value",485],";",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE"," ",486],["T_ELSE","else",486],["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n            ",486],["T_COMMENT","\/\/ the driver doesn't support quote (e.g. oci)\n",487],["T_WHITESPACE","            ",488],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","\"'\"",488],["T_WHITESPACE"," ",488],".",["T_WHITESPACE"," ",488],["T_STRING","addcslashes",488],"(",["T_STRING","str_replace",488],"(",["T_CONSTANT_ENCAPSED_STRING","\"'\"",488],",",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","\"''\"",488],",",["T_WHITESPACE"," ",488],["T_VARIABLE","$str",488],")",",",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","\"\\000\\n\\r\\\\\\032\"",488],")",["T_WHITESPACE"," ",488],".",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","\"'\"",488],";",["T_WHITESPACE","\n        ",488],"}",["T_WHITESPACE","\n    ",489],"}",["T_WHITESPACE","\n\n    ",490],["T_DOC_COMMENT","\/**\n     * Quotes a table name for use in a query.\n     * If the table name contains schema prefix, the prefix will also be properly quoted.\n     * If the table name is already quoted or contains '(' or '{{',\n     * then this method will do nothing.\n     * @param string $name table name\n     * @return string the properly quoted table name\n     * @see quoteSimpleTableName()\n     *\/",492],["T_WHITESPACE","\n    ",500],["T_PUBLIC","public",501],["T_WHITESPACE"," ",501],["T_FUNCTION","function",501],["T_WHITESPACE"," ",501],["T_STRING","quoteTableName",501],"(",["T_VARIABLE","$name",501],")",["T_WHITESPACE","\n    ",501],"{",["T_WHITESPACE","\n        ",502],["T_IF","if",503],["T_WHITESPACE"," ",503],"(",["T_STRING","strpos",503],"(",["T_VARIABLE","$name",503],",",["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","'('",503],")",["T_WHITESPACE"," ",503],["T_IS_NOT_IDENTICAL","!==",503],["T_WHITESPACE"," ",503],["T_STRING","false",503],["T_WHITESPACE"," ",503],["T_BOOLEAN_OR","||",503],["T_WHITESPACE"," ",503],["T_STRING","strpos",503],"(",["T_VARIABLE","$name",503],",",["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","'{{'",503],")",["T_WHITESPACE"," ",503],["T_IS_NOT_IDENTICAL","!==",503],["T_WHITESPACE"," ",503],["T_STRING","false",503],")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n            ",503],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$name",504],";",["T_WHITESPACE","\n        ",504],"}",["T_WHITESPACE","\n        ",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_STRING","strpos",506],"(",["T_VARIABLE","$name",506],",",["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","'.'",506],")",["T_WHITESPACE"," ",506],["T_IS_IDENTICAL","===",506],["T_WHITESPACE"," ",506],["T_STRING","false",506],")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","quoteSimpleTableName",507],"(",["T_VARIABLE","$name",507],")",";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$parts",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_STRING","explode",509],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",509],",",["T_WHITESPACE"," ",509],["T_VARIABLE","$name",509],")",";",["T_WHITESPACE","\n        ",509],["T_FOREACH","foreach",510],["T_WHITESPACE"," ",510],"(",["T_VARIABLE","$parts",510],["T_WHITESPACE"," ",510],["T_AS","as",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$i",510],["T_WHITESPACE"," ",510],["T_DOUBLE_ARROW","=>",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$part",510],")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n            ",510],["T_VARIABLE","$parts",511],"[",["T_VARIABLE","$i",511],"]",["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","quoteSimpleTableName",511],"(",["T_VARIABLE","$part",511],")",";",["T_WHITESPACE","\n        ",511],"}",["T_WHITESPACE","\n\n        ",512],["T_RETURN","return",514],["T_WHITESPACE"," ",514],["T_STRING","implode",514],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",514],",",["T_WHITESPACE"," ",514],["T_VARIABLE","$parts",514],")",";",["T_WHITESPACE","\n\n    ",514],"}",["T_WHITESPACE","\n\n    ",516],["T_DOC_COMMENT","\/**\n     * Quotes a column name for use in a query.\n     * If the column name contains prefix, the prefix will also be properly quoted.\n     * If the column name is already quoted or contains '(', '[[' or '{{',\n     * then this method will do nothing.\n     * @param string $name column name\n     * @return string the properly quoted column name\n     * @see quoteSimpleColumnName()\n     *\/",518],["T_WHITESPACE","\n    ",526],["T_PUBLIC","public",527],["T_WHITESPACE"," ",527],["T_FUNCTION","function",527],["T_WHITESPACE"," ",527],["T_STRING","quoteColumnName",527],"(",["T_VARIABLE","$name",527],")",["T_WHITESPACE","\n    ",527],"{",["T_WHITESPACE","\n        ",528],["T_IF","if",529],["T_WHITESPACE"," ",529],"(",["T_STRING","strpos",529],"(",["T_VARIABLE","$name",529],",",["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'('",529],")",["T_WHITESPACE"," ",529],["T_IS_NOT_IDENTICAL","!==",529],["T_WHITESPACE"," ",529],["T_STRING","false",529],["T_WHITESPACE"," ",529],["T_BOOLEAN_OR","||",529],["T_WHITESPACE"," ",529],["T_STRING","strpos",529],"(",["T_VARIABLE","$name",529],",",["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'[['",529],")",["T_WHITESPACE"," ",529],["T_IS_NOT_IDENTICAL","!==",529],["T_WHITESPACE"," ",529],["T_STRING","false",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n            ",529],["T_RETURN","return",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$name",530],";",["T_WHITESPACE","\n        ",530],"}",["T_WHITESPACE","\n        ",531],["T_IF","if",532],["T_WHITESPACE"," ",532],"(","(",["T_VARIABLE","$pos",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","strrpos",532],"(",["T_VARIABLE","$name",532],",",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","'.'",532],")",")",["T_WHITESPACE"," ",532],["T_IS_NOT_IDENTICAL","!==",532],["T_WHITESPACE"," ",532],["T_STRING","false",532],")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n            ",532],["T_VARIABLE","$prefix",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","quoteTableName",533],"(",["T_STRING","substr",533],"(",["T_VARIABLE","$name",533],",",["T_WHITESPACE"," ",533],["T_LNUMBER","0",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$pos",533],")",")",["T_WHITESPACE"," ",533],".",["T_WHITESPACE"," ",533],["T_CONSTANT_ENCAPSED_STRING","'.'",533],";",["T_WHITESPACE","\n            ",533],["T_VARIABLE","$name",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_STRING","substr",534],"(",["T_VARIABLE","$name",534],",",["T_WHITESPACE"," ",534],["T_VARIABLE","$pos",534],["T_WHITESPACE"," ",534],"+",["T_WHITESPACE"," ",534],["T_LNUMBER","1",534],")",";",["T_WHITESPACE","\n        ",534],"}",["T_WHITESPACE"," ",535],["T_ELSE","else",535],["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n            ",535],["T_VARIABLE","$prefix",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","''",536],";",["T_WHITESPACE","\n        ",536],"}",["T_WHITESPACE","\n        ",537],["T_IF","if",538],["T_WHITESPACE"," ",538],"(",["T_STRING","strpos",538],"(",["T_VARIABLE","$name",538],",",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'{{'",538],")",["T_WHITESPACE"," ",538],["T_IS_NOT_IDENTICAL","!==",538],["T_WHITESPACE"," ",538],["T_STRING","false",538],")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n            ",538],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$name",539],";",["T_WHITESPACE","\n        ",539],"}",["T_WHITESPACE","\n        ",540],["T_RETURN","return",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$prefix",541],["T_WHITESPACE"," ",541],".",["T_WHITESPACE"," ",541],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","quoteSimpleColumnName",541],"(",["T_VARIABLE","$name",541],")",";",["T_WHITESPACE","\n    ",541],"}",["T_WHITESPACE","\n\n    ",542],["T_DOC_COMMENT","\/**\n     * Quotes a simple table name for use in a query.\n     * A simple table name should contain the table name only without any schema prefix.\n     * If the table name is already quoted, this method will do nothing.\n     * @param string $name table name\n     * @return string the properly quoted table name\n     *\/",544],["T_WHITESPACE","\n    ",550],["T_PUBLIC","public",551],["T_WHITESPACE"," ",551],["T_FUNCTION","function",551],["T_WHITESPACE"," ",551],["T_STRING","quoteSimpleTableName",551],"(",["T_VARIABLE","$name",551],")",["T_WHITESPACE","\n    ",551],"{",["T_WHITESPACE","\n        ",552],["T_RETURN","return",553],["T_WHITESPACE"," ",553],["T_STRING","strpos",553],"(",["T_VARIABLE","$name",553],",",["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","\"'\"",553],")",["T_WHITESPACE"," ",553],["T_IS_NOT_IDENTICAL","!==",553],["T_WHITESPACE"," ",553],["T_STRING","false",553],["T_WHITESPACE"," ",553],"?",["T_WHITESPACE"," ",553],["T_VARIABLE","$name",553],["T_WHITESPACE"," ",553],":",["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","\"'\"",553],["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_VARIABLE","$name",553],["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","\"'\"",553],";",["T_WHITESPACE","\n    ",553],"}",["T_WHITESPACE","\n\n    ",554],["T_DOC_COMMENT","\/**\n     * Quotes a simple column name for use in a query.\n     * A simple column name should contain the column name only without any prefix.\n     * If the column name is already quoted or is the asterisk character '*', this method will do nothing.\n     * @param string $name column name\n     * @return string the properly quoted column name\n     *\/",556],["T_WHITESPACE","\n    ",562],["T_PUBLIC","public",563],["T_WHITESPACE"," ",563],["T_FUNCTION","function",563],["T_WHITESPACE"," ",563],["T_STRING","quoteSimpleColumnName",563],"(",["T_VARIABLE","$name",563],")",["T_WHITESPACE","\n    ",563],"{",["T_WHITESPACE","\n        ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_STRING","strpos",565],"(",["T_VARIABLE","$name",565],",",["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'\"'",565],")",["T_WHITESPACE"," ",565],["T_IS_NOT_IDENTICAL","!==",565],["T_WHITESPACE"," ",565],["T_STRING","false",565],["T_WHITESPACE"," ",565],["T_BOOLEAN_OR","||",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$name",565],["T_WHITESPACE"," ",565],["T_IS_IDENTICAL","===",565],["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'*'",565],["T_WHITESPACE"," ",565],"?",["T_WHITESPACE"," ",565],["T_VARIABLE","$name",565],["T_WHITESPACE"," ",565],":",["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'\"'",565],["T_WHITESPACE"," ",565],".",["T_WHITESPACE"," ",565],["T_VARIABLE","$name",565],["T_WHITESPACE"," ",565],".",["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'\"'",565],";",["T_WHITESPACE","\n    ",565],"}",["T_WHITESPACE","\n\n    ",566],["T_DOC_COMMENT","\/**\n     * Returns the actual name of a given table name.\n     * This method will strip off curly brackets from the given table name\n     * and replace the percentage character '%' with [[Connection::tablePrefix]].\n     * @param string $name the table name to be converted\n     * @return string the real name of the given table name\n     *\/",568],["T_WHITESPACE","\n    ",574],["T_PUBLIC","public",575],["T_WHITESPACE"," ",575],["T_FUNCTION","function",575],["T_WHITESPACE"," ",575],["T_STRING","getRawTableName",575],"(",["T_VARIABLE","$name",575],")",["T_WHITESPACE","\n    ",575],"{",["T_WHITESPACE","\n        ",576],["T_IF","if",577],["T_WHITESPACE"," ",577],"(",["T_STRING","strpos",577],"(",["T_VARIABLE","$name",577],",",["T_WHITESPACE"," ",577],["T_CONSTANT_ENCAPSED_STRING","'{{'",577],")",["T_WHITESPACE"," ",577],["T_IS_NOT_IDENTICAL","!==",577],["T_WHITESPACE"," ",577],["T_STRING","false",577],")",["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n            ",577],["T_VARIABLE","$name",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_STRING","preg_replace",578],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\\\{\\\\{(.*?)\\\\}\\\\}\/'",578],",",["T_WHITESPACE"," ",578],["T_CONSTANT_ENCAPSED_STRING","'\\1'",578],",",["T_WHITESPACE"," ",578],["T_VARIABLE","$name",578],")",";",["T_WHITESPACE","\n\n            ",578],["T_RETURN","return",580],["T_WHITESPACE"," ",580],["T_STRING","str_replace",580],"(",["T_CONSTANT_ENCAPSED_STRING","'%'",580],",",["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","db",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","tablePrefix",580],",",["T_WHITESPACE"," ",580],["T_VARIABLE","$name",580],")",";",["T_WHITESPACE","\n        ",580],"}",["T_WHITESPACE"," ",581],["T_ELSE","else",581],["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n            ",581],["T_RETURN","return",582],["T_WHITESPACE"," ",582],["T_VARIABLE","$name",582],";",["T_WHITESPACE","\n        ",582],"}",["T_WHITESPACE","\n    ",583],"}",["T_WHITESPACE","\n\n    ",584],["T_DOC_COMMENT","\/**\n     * Extracts the PHP type from abstract DB type.\n     * @param ColumnSchema $column the column schema information\n     * @return string PHP type name\n     *\/",586],["T_WHITESPACE","\n    ",590],["T_PROTECTED","protected",591],["T_WHITESPACE"," ",591],["T_FUNCTION","function",591],["T_WHITESPACE"," ",591],["T_STRING","getColumnPhpType",591],"(",["T_VARIABLE","$column",591],")",["T_WHITESPACE","\n    ",591],"{",["T_WHITESPACE","\n        ",592],["T_STATIC","static",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$typeMap",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],"[",["T_WHITESPACE","\n            ",593],["T_COMMENT","\/\/ abstract type => php type\n",594],["T_WHITESPACE","            ",595],["T_CONSTANT_ENCAPSED_STRING","'smallint'",595],["T_WHITESPACE"," ",595],["T_DOUBLE_ARROW","=>",595],["T_WHITESPACE"," ",595],["T_CONSTANT_ENCAPSED_STRING","'integer'",595],",",["T_WHITESPACE","\n            ",595],["T_CONSTANT_ENCAPSED_STRING","'integer'",596],["T_WHITESPACE"," ",596],["T_DOUBLE_ARROW","=>",596],["T_WHITESPACE"," ",596],["T_CONSTANT_ENCAPSED_STRING","'integer'",596],",",["T_WHITESPACE","\n            ",596],["T_CONSTANT_ENCAPSED_STRING","'bigint'",597],["T_WHITESPACE"," ",597],["T_DOUBLE_ARROW","=>",597],["T_WHITESPACE"," ",597],["T_CONSTANT_ENCAPSED_STRING","'integer'",597],",",["T_WHITESPACE","\n            ",597],["T_CONSTANT_ENCAPSED_STRING","'boolean'",598],["T_WHITESPACE"," ",598],["T_DOUBLE_ARROW","=>",598],["T_WHITESPACE"," ",598],["T_CONSTANT_ENCAPSED_STRING","'boolean'",598],",",["T_WHITESPACE","\n            ",598],["T_CONSTANT_ENCAPSED_STRING","'float'",599],["T_WHITESPACE"," ",599],["T_DOUBLE_ARROW","=>",599],["T_WHITESPACE"," ",599],["T_CONSTANT_ENCAPSED_STRING","'double'",599],",",["T_WHITESPACE","\n            ",599],["T_CONSTANT_ENCAPSED_STRING","'double'",600],["T_WHITESPACE"," ",600],["T_DOUBLE_ARROW","=>",600],["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'double'",600],",",["T_WHITESPACE","\n            ",600],["T_CONSTANT_ENCAPSED_STRING","'binary'",601],["T_WHITESPACE"," ",601],["T_DOUBLE_ARROW","=>",601],["T_WHITESPACE"," ",601],["T_CONSTANT_ENCAPSED_STRING","'resource'",601],",",["T_WHITESPACE","\n        ",601],"]",";",["T_WHITESPACE","\n        ",602],["T_IF","if",603],["T_WHITESPACE"," ",603],"(",["T_ISSET","isset",603],"(",["T_VARIABLE","$typeMap",603],"[",["T_VARIABLE","$column",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","type",603],"]",")",")",["T_WHITESPACE"," ",603],"{",["T_WHITESPACE","\n            ",603],["T_IF","if",604],["T_WHITESPACE"," ",604],"(",["T_VARIABLE","$column",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","type",604],["T_WHITESPACE"," ",604],["T_IS_IDENTICAL","===",604],["T_WHITESPACE"," ",604],["T_CONSTANT_ENCAPSED_STRING","'bigint'",604],")",["T_WHITESPACE"," ",604],"{",["T_WHITESPACE","\n                ",604],["T_RETURN","return",605],["T_WHITESPACE"," ",605],["T_STRING","PHP_INT_SIZE",605],["T_WHITESPACE"," ",605],["T_IS_IDENTICAL","===",605],["T_WHITESPACE"," ",605],["T_LNUMBER","8",605],["T_WHITESPACE"," ",605],["T_BOOLEAN_AND","&&",605],["T_WHITESPACE"," ",605],"!",["T_VARIABLE","$column",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","unsigned",605],["T_WHITESPACE"," ",605],"?",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'integer'",605],["T_WHITESPACE"," ",605],":",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'string'",605],";",["T_WHITESPACE","\n            ",605],"}",["T_WHITESPACE"," ",606],["T_ELSEIF","elseif",606],["T_WHITESPACE"," ",606],"(",["T_VARIABLE","$column",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","type",606],["T_WHITESPACE"," ",606],["T_IS_IDENTICAL","===",606],["T_WHITESPACE"," ",606],["T_CONSTANT_ENCAPSED_STRING","'integer'",606],")",["T_WHITESPACE"," ",606],"{",["T_WHITESPACE","\n                ",606],["T_RETURN","return",607],["T_WHITESPACE"," ",607],["T_STRING","PHP_INT_SIZE",607],["T_WHITESPACE"," ",607],["T_IS_IDENTICAL","===",607],["T_WHITESPACE"," ",607],["T_LNUMBER","4",607],["T_WHITESPACE"," ",607],["T_BOOLEAN_AND","&&",607],["T_WHITESPACE"," ",607],["T_VARIABLE","$column",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","unsigned",607],["T_WHITESPACE"," ",607],"?",["T_WHITESPACE"," ",607],["T_CONSTANT_ENCAPSED_STRING","'string'",607],["T_WHITESPACE"," ",607],":",["T_WHITESPACE"," ",607],["T_CONSTANT_ENCAPSED_STRING","'integer'",607],";",["T_WHITESPACE","\n            ",607],"}",["T_WHITESPACE"," ",608],["T_ELSE","else",608],["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n                ",608],["T_RETURN","return",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$typeMap",609],"[",["T_VARIABLE","$column",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","type",609],"]",";",["T_WHITESPACE","\n            ",609],"}",["T_WHITESPACE","\n        ",610],"}",["T_WHITESPACE"," ",611],["T_ELSE","else",611],["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n            ",611],["T_RETURN","return",612],["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","'string'",612],";",["T_WHITESPACE","\n        ",612],"}",["T_WHITESPACE","\n    ",613],"}",["T_WHITESPACE","\n\n    ",614],["T_DOC_COMMENT","\/**\n     * Converts a DB exception to a more concrete one if possible.\n     *\n     * @param \\Exception $e\n     * @param string $rawSql SQL that produced exception\n     * @return Exception\n     *\/",616],["T_WHITESPACE","\n    ",622],["T_PUBLIC","public",623],["T_WHITESPACE"," ",623],["T_FUNCTION","function",623],["T_WHITESPACE"," ",623],["T_STRING","convertException",623],"(",["T_NS_SEPARATOR","\\",623],["T_STRING","Exception",623],["T_WHITESPACE"," ",623],["T_VARIABLE","$e",623],",",["T_WHITESPACE"," ",623],["T_VARIABLE","$rawSql",623],")",["T_WHITESPACE","\n    ",623],"{",["T_WHITESPACE","\n        ",624],["T_IF","if",625],["T_WHITESPACE"," ",625],"(",["T_VARIABLE","$e",625],["T_WHITESPACE"," ",625],["T_INSTANCEOF","instanceof",625],["T_WHITESPACE"," ",625],["T_STRING","Exception",625],")",["T_WHITESPACE"," ",625],"{",["T_WHITESPACE","\n            ",625],["T_RETURN","return",626],["T_WHITESPACE"," ",626],["T_VARIABLE","$e",626],";",["T_WHITESPACE","\n        ",626],"}",["T_WHITESPACE","\n\n        ",627],["T_VARIABLE","$exceptionClass",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_CONSTANT_ENCAPSED_STRING","'\\yii\\db\\Exception'",629],";",["T_WHITESPACE","\n        ",629],["T_FOREACH","foreach",630],["T_WHITESPACE"," ",630],"(",["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","exceptionMap",630],["T_WHITESPACE"," ",630],["T_AS","as",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$error",630],["T_WHITESPACE"," ",630],["T_DOUBLE_ARROW","=>",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$class",630],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n            ",630],["T_IF","if",631],["T_WHITESPACE"," ",631],"(",["T_STRING","strpos",631],"(",["T_VARIABLE","$e",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","getMessage",631],"(",")",",",["T_WHITESPACE"," ",631],["T_VARIABLE","$error",631],")",["T_WHITESPACE"," ",631],["T_IS_NOT_IDENTICAL","!==",631],["T_WHITESPACE"," ",631],["T_STRING","false",631],")",["T_WHITESPACE"," ",631],"{",["T_WHITESPACE","\n                ",631],["T_VARIABLE","$exceptionClass",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_VARIABLE","$class",632],";",["T_WHITESPACE","\n            ",632],"}",["T_WHITESPACE","\n        ",633],"}",["T_WHITESPACE","\n        ",634],["T_VARIABLE","$message",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_VARIABLE","$e",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","getMessage",635],"(",")",["T_WHITESPACE","  ",635],".",["T_WHITESPACE"," ",635],"\"",["T_ENCAPSED_AND_WHITESPACE","\\nThe SQL being executed was: ",635],["T_VARIABLE","$rawSql",635],"\"",";",["T_WHITESPACE","\n        ",635],["T_VARIABLE","$errorInfo",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$e",636],["T_WHITESPACE"," ",636],["T_INSTANCEOF","instanceof",636],["T_WHITESPACE"," ",636],["T_NS_SEPARATOR","\\",636],["T_STRING","PDOException",636],["T_WHITESPACE"," ",636],"?",["T_WHITESPACE"," ",636],["T_VARIABLE","$e",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","errorInfo",636],["T_WHITESPACE"," ",636],":",["T_WHITESPACE"," ",636],["T_STRING","null",636],";",["T_WHITESPACE","\n        ",636],["T_RETURN","return",637],["T_WHITESPACE"," ",637],["T_NEW","new",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$exceptionClass",637],"(",["T_VARIABLE","$message",637],",",["T_WHITESPACE"," ",637],["T_VARIABLE","$errorInfo",637],",",["T_WHITESPACE"," ",637],["T_INT_CAST","(int)",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$e",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getCode",637],"(",")",",",["T_WHITESPACE"," ",637],["T_VARIABLE","$e",637],")",";",["T_WHITESPACE","\n    ",637],"}",["T_WHITESPACE","\n\n    ",638],["T_DOC_COMMENT","\/**\n     * Returns a value indicating whether a SQL statement is for read purpose.\n     * @param string $sql the SQL statement\n     * @return bool whether a SQL statement is for read purpose.\n     *\/",640],["T_WHITESPACE","\n    ",644],["T_PUBLIC","public",645],["T_WHITESPACE"," ",645],["T_FUNCTION","function",645],["T_WHITESPACE"," ",645],["T_STRING","isReadQuery",645],"(",["T_VARIABLE","$sql",645],")",["T_WHITESPACE","\n    ",645],"{",["T_WHITESPACE","\n        ",646],["T_VARIABLE","$pattern",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_CONSTANT_ENCAPSED_STRING","'\/^\\s*(SELECT|SHOW|DESCRIBE)\\b\/i'",647],";",["T_WHITESPACE","\n        ",647],["T_RETURN","return",648],["T_WHITESPACE"," ",648],["T_STRING","preg_match",648],"(",["T_VARIABLE","$pattern",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$sql",648],")",["T_WHITESPACE"," ",648],">",["T_WHITESPACE"," ",648],["T_LNUMBER","0",648],";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n",649],"}",["T_WHITESPACE","\n",650]]