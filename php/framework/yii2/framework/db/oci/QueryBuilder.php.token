[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","db",8],["T_NS_SEPARATOR","\\",8],["T_STRING","oci",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","yii",10],["T_NS_SEPARATOR","\\",10],["T_STRING","base",10],["T_NS_SEPARATOR","\\",10],["T_STRING","InvalidParamException",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","db",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Connection",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","db",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","db",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Expression",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * QueryBuilder is the query builder for Oracle databases.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",15],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","QueryBuilder",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","yii",21],["T_NS_SEPARATOR","\\",21],["T_STRING","db",21],["T_NS_SEPARATOR","\\",21],["T_STRING","QueryBuilder",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * @var array mapping from abstract column types (keys) to physical column types (values).\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$typeMap",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n        ",26],["T_STRING","Schema",27],["T_DOUBLE_COLON","::",27],["T_STRING","TYPE_PK",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'NUMBER(10) NOT NULL PRIMARY KEY'",27],",",["T_WHITESPACE","\n        ",27],["T_STRING","Schema",28],["T_DOUBLE_COLON","::",28],["T_STRING","TYPE_UPK",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'NUMBER(10) UNSIGNED NOT NULL PRIMARY KEY'",28],",",["T_WHITESPACE","\n        ",28],["T_STRING","Schema",29],["T_DOUBLE_COLON","::",29],["T_STRING","TYPE_BIGPK",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'NUMBER(20) NOT NULL PRIMARY KEY'",29],",",["T_WHITESPACE","\n        ",29],["T_STRING","Schema",30],["T_DOUBLE_COLON","::",30],["T_STRING","TYPE_UBIGPK",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'NUMBER(20) UNSIGNED NOT NULL PRIMARY KEY'",30],",",["T_WHITESPACE","\n        ",30],["T_STRING","Schema",31],["T_DOUBLE_COLON","::",31],["T_STRING","TYPE_CHAR",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'CHAR(1)'",31],",",["T_WHITESPACE","\n        ",31],["T_STRING","Schema",32],["T_DOUBLE_COLON","::",32],["T_STRING","TYPE_STRING",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'VARCHAR2(255)'",32],",",["T_WHITESPACE","\n        ",32],["T_STRING","Schema",33],["T_DOUBLE_COLON","::",33],["T_STRING","TYPE_TEXT",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'CLOB'",33],",",["T_WHITESPACE","\n        ",33],["T_STRING","Schema",34],["T_DOUBLE_COLON","::",34],["T_STRING","TYPE_SMALLINT",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'NUMBER(5)'",34],",",["T_WHITESPACE","\n        ",34],["T_STRING","Schema",35],["T_DOUBLE_COLON","::",35],["T_STRING","TYPE_INTEGER",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'NUMBER(10)'",35],",",["T_WHITESPACE","\n        ",35],["T_STRING","Schema",36],["T_DOUBLE_COLON","::",36],["T_STRING","TYPE_BIGINT",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'NUMBER(20)'",36],",",["T_WHITESPACE","\n        ",36],["T_STRING","Schema",37],["T_DOUBLE_COLON","::",37],["T_STRING","TYPE_FLOAT",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'NUMBER'",37],",",["T_WHITESPACE","\n        ",37],["T_STRING","Schema",38],["T_DOUBLE_COLON","::",38],["T_STRING","TYPE_DOUBLE",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'NUMBER'",38],",",["T_WHITESPACE","\n        ",38],["T_STRING","Schema",39],["T_DOUBLE_COLON","::",39],["T_STRING","TYPE_DECIMAL",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'NUMBER'",39],",",["T_WHITESPACE","\n        ",39],["T_STRING","Schema",40],["T_DOUBLE_COLON","::",40],["T_STRING","TYPE_DATETIME",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'TIMESTAMP'",40],",",["T_WHITESPACE","\n        ",40],["T_STRING","Schema",41],["T_DOUBLE_COLON","::",41],["T_STRING","TYPE_TIMESTAMP",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'TIMESTAMP'",41],",",["T_WHITESPACE","\n        ",41],["T_STRING","Schema",42],["T_DOUBLE_COLON","::",42],["T_STRING","TYPE_TIME",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'TIMESTAMP'",42],",",["T_WHITESPACE","\n        ",42],["T_STRING","Schema",43],["T_DOUBLE_COLON","::",43],["T_STRING","TYPE_DATE",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'DATE'",43],",",["T_WHITESPACE","\n        ",43],["T_STRING","Schema",44],["T_DOUBLE_COLON","::",44],["T_STRING","TYPE_BINARY",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'BLOB'",44],",",["T_WHITESPACE","\n        ",44],["T_STRING","Schema",45],["T_DOUBLE_COLON","::",45],["T_STRING","TYPE_BOOLEAN",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'NUMBER(1)'",45],",",["T_WHITESPACE","\n        ",45],["T_STRING","Schema",46],["T_DOUBLE_COLON","::",46],["T_STRING","TYPE_MONEY",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'NUMBER(19,4)'",46],",",["T_WHITESPACE","\n    ",46],"]",";",["T_WHITESPACE","\n\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","buildOrderByAndLimit",53],"(",["T_VARIABLE","$sql",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$orderBy",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$limit",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$offset",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$orderBy",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","buildOrderBy",55],"(",["T_VARIABLE","$orderBy",55],")",";",["T_WHITESPACE","\n        ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$orderBy",56],["T_WHITESPACE"," ",56],["T_IS_NOT_IDENTICAL","!==",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","''",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$sql",57],["T_WHITESPACE"," ",57],["T_CONCAT_EQUAL",".=",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","separator",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_VARIABLE","$orderBy",57],";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$filters",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[","]",";",["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","hasOffset",61],"(",["T_VARIABLE","$offset",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$filters",62],"[","]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'rowNumId > '",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_VARIABLE","$offset",62],";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n        ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","hasLimit",64],"(",["T_VARIABLE","$limit",64],")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$filters",65],"[","]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'rownum <= '",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$limit",65],";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_EMPTY","empty",67],"(",["T_VARIABLE","$filters",67],")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$sql",68],";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$filter",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","implode",71],"(",["T_CONSTANT_ENCAPSED_STRING","' AND '",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$filters",71],")",";",["T_WHITESPACE","\n        ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_START_HEREDOC","<<<EOD\n",72],["T_ENCAPSED_AND_WHITESPACE","WITH USER_SQL AS (",73],["T_VARIABLE","$sql",73],["T_ENCAPSED_AND_WHITESPACE","),\n    PAGINATION AS (SELECT USER_SQL.*, rownum as rowNumId FROM USER_SQL)\nSELECT *\nFROM PAGINATION\nWHERE ",73],["T_VARIABLE","$filter",77],["T_ENCAPSED_AND_WHITESPACE","\n",77],["T_END_HEREDOC","EOD",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for renaming a DB table.\n     *\n     * @param string $table the table to be renamed. The name will be properly quoted by the method.\n     * @param string $newName the new table name. The name will be properly quoted by the method.\n     * @return string the SQL statement for renaming a DB table.\n     *\/",81],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","renameTable",88],"(",["T_VARIABLE","$table",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$newName",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","db",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","quoteTableName",90],"(",["T_VARIABLE","$table",90],")",["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","' RENAME TO '",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","db",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","quoteTableName",90],"(",["T_VARIABLE","$newName",90],")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for changing the definition of a column.\n     *\n     * @param string $table the table whose column is to be changed. The table name will be properly quoted by the method.\n     * @param string $column the name of the column to be changed. The name will be properly quoted by the method.\n     * @param string $type the new column type. The [[getColumnType]] method will be invoked to convert abstract column type (if any)\n     * into the physical one. Anything that is not recognized as abstract type will be kept in the generated SQL.\n     * For example, 'string' will be turned into 'varchar(255)', while 'string not null' will become 'varchar(255) not null'.\n     * @return string the SQL statement for changing the definition of a column.\n     *\/",93],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","alterColumn",103],"(",["T_VARIABLE","$table",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$column",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$type",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$type",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getColumnType",105],"(",["T_VARIABLE","$type",105],")",";",["T_WHITESPACE","\n\n        ",105],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","db",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","quoteTableName",107],"(",["T_VARIABLE","$table",107],")",["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","' MODIFY '",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","db",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","quoteColumnName",107],"(",["T_VARIABLE","$column",107],")",["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","' '",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getColumnType",107],"(",["T_VARIABLE","$type",107],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Builds a SQL statement for dropping an index.\n     *\n     * @param string $name the name of the index to be dropped. The name will be properly quoted by the method.\n     * @param string $table the table whose index is to be dropped. The name will be properly quoted by the method.\n     * @return string the SQL statement for dropping an index.\n     *\/",110],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","dropIndex",117],"(",["T_VARIABLE","$name",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$table",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'DROP INDEX '",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","db",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","quoteTableName",119],"(",["T_VARIABLE","$name",119],")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",122],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","resetSequence",125],"(",["T_VARIABLE","$table",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$value",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","null",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$tableSchema",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","db",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getTableSchema",127],"(",["T_VARIABLE","$table",127],")",";",["T_WHITESPACE","\n        ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$tableSchema",128],["T_WHITESPACE"," ",128],["T_IS_IDENTICAL","===",128],["T_WHITESPACE"," ",128],["T_STRING","null",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_THROW","throw",129],["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","InvalidParamException",129],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Unknown table: ",129],["T_VARIABLE","$table",129],"\"",")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$tableSchema",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","sequenceName",131],["T_WHITESPACE"," ",131],["T_IS_IDENTICAL","===",131],["T_WHITESPACE"," ",131],["T_STRING","null",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","''",132],";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$value",135],["T_WHITESPACE"," ",135],["T_IS_NOT_IDENTICAL","!==",135],["T_WHITESPACE"," ",135],["T_STRING","null",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$value",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_INT_CAST","(int)",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$value",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_COMMENT","\/\/ use master connection to get the biggest PK value\n",138],["T_WHITESPACE","            ",139],["T_VARIABLE","$value",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","db",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","useMaster",139],"(",["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],"(",["T_STRING","Connection",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$db",139],")",["T_WHITESPACE"," ",139],["T_USE","use",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$tableSchema",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$db",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","createCommand",140],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT MAX(\\\"",140],["T_CURLY_OPEN","{",140],["T_VARIABLE","$tableSchema",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","primaryKey",140],"}",["T_ENCAPSED_AND_WHITESPACE","\\\") FROM \\\"",140],["T_CURLY_OPEN","{",140],["T_VARIABLE","$tableSchema",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","name",140],"}",["T_ENCAPSED_AND_WHITESPACE","\\\"",140],"\"",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","queryScalar",140],"(",")",";",["T_WHITESPACE","\n            ",140],"}",")",["T_WHITESPACE"," ",141],"+",["T_WHITESPACE"," ",141],["T_LNUMBER","1",141],";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],"\"",["T_ENCAPSED_AND_WHITESPACE","DROP SEQUENCE \\\"",144],["T_CURLY_OPEN","{",144],["T_VARIABLE","$tableSchema",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","name",144],"}",["T_ENCAPSED_AND_WHITESPACE","_SEQ\\\";",144],"\"",["T_WHITESPACE","\n            ",144],".",["T_WHITESPACE"," ",145],"\"",["T_ENCAPSED_AND_WHITESPACE","CREATE SEQUENCE \\\"",145],["T_CURLY_OPEN","{",145],["T_VARIABLE","$tableSchema",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","name",145],"}",["T_ENCAPSED_AND_WHITESPACE","_SEQ\\\" START WITH ",145],["T_CURLY_OPEN","{",145],["T_VARIABLE","$value",145],"}",["T_ENCAPSED_AND_WHITESPACE"," INCREMENT BY 1 NOMAXVALUE NOCACHE",145],"\"",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",148],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","addForeignKey",151],"(",["T_VARIABLE","$name",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$table",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$columns",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$refTable",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$refColumns",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$delete",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","null",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$update",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","null",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$sql",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'ALTER TABLE '",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","db",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","quoteTableName",153],"(",["T_VARIABLE","$table",153],")",["T_WHITESPACE","\n            ",153],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","' ADD CONSTRAINT '",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","db",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","quoteColumnName",154],"(",["T_VARIABLE","$name",154],")",["T_WHITESPACE","\n            ",154],".",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","' FOREIGN KEY ('",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","buildColumns",155],"(",["T_VARIABLE","$columns",155],")",["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","')'",155],["T_WHITESPACE","\n            ",155],".",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","' REFERENCES '",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","db",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","quoteTableName",156],"(",["T_VARIABLE","$refTable",156],")",["T_WHITESPACE","\n            ",156],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","' ('",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","buildColumns",157],"(",["T_VARIABLE","$refColumns",157],")",["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","')'",157],";",["T_WHITESPACE","\n        ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$delete",158],["T_WHITESPACE"," ",158],["T_IS_NOT_IDENTICAL","!==",158],["T_WHITESPACE"," ",158],["T_STRING","null",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$sql",159],["T_WHITESPACE"," ",159],["T_CONCAT_EQUAL",".=",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","' ON DELETE '",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$delete",159],";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n        ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$update",161],["T_WHITESPACE"," ",161],["T_IS_NOT_IDENTICAL","!==",161],["T_WHITESPACE"," ",161],["T_STRING","null",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_THROW","throw",162],["T_WHITESPACE"," ",162],["T_NEW","new",162],["T_WHITESPACE"," ",162],["T_STRING","Exception",162],"(",["T_CONSTANT_ENCAPSED_STRING","'Oracle does not support ON UPDATE clause.'",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$sql",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",168],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","insert",171],"(",["T_VARIABLE","$table",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$columns",171],",",["T_WHITESPACE"," ",171],"&",["T_VARIABLE","$params",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$schema",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","db",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getSchema",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(","(",["T_VARIABLE","$tableSchema",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$schema",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getTableSchema",174],"(",["T_VARIABLE","$table",174],")",")",["T_WHITESPACE"," ",174],["T_IS_NOT_IDENTICAL","!==",174],["T_WHITESPACE"," ",174],["T_STRING","null",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$columnSchemas",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$tableSchema",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","columns",175],";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE"," ",176],["T_ELSE","else",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$columnSchemas",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],"[","]",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$names",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"[","]",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$placeholders",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],"[","]",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$values",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","' DEFAULT VALUES'",181],";",["T_WHITESPACE","\n        ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$columns",182],["T_WHITESPACE"," ",182],["T_INSTANCEOF","instanceof",182],["T_WHITESPACE"," ",182],["T_NS_SEPARATOR","\\",182],["T_STRING","yii",182],["T_NS_SEPARATOR","\\",182],["T_STRING","db",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Query",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_LIST","list",183],"(",["T_VARIABLE","$names",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$values",183],")",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","prepareInsertSelectSubQuery",183],"(",["T_VARIABLE","$columns",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$schema",183],")",";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE"," ",184],["T_ELSE","else",184],["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$columns",185],["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$name",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$value",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$names",186],"[","]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$schema",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","quoteColumnName",186],"(",["T_VARIABLE","$name",186],")",";",["T_WHITESPACE","\n                ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$value",187],["T_WHITESPACE"," ",187],["T_INSTANCEOF","instanceof",187],["T_WHITESPACE"," ",187],["T_STRING","Expression",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                    ",187],["T_VARIABLE","$placeholders",188],"[","]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$value",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","expression",188],";",["T_WHITESPACE","\n                    ",188],["T_FOREACH","foreach",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$value",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","params",189],["T_WHITESPACE"," ",189],["T_AS","as",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$n",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$v",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                        ",189],["T_VARIABLE","$params",190],"[",["T_VARIABLE","$n",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$v",190],";",["T_WHITESPACE","\n                    ",190],"}",["T_WHITESPACE","\n                ",191],"}",["T_WHITESPACE"," ",192],["T_ELSEIF","elseif",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$value",192],["T_WHITESPACE"," ",192],["T_INSTANCEOF","instanceof",192],["T_WHITESPACE"," ",192],["T_NS_SEPARATOR","\\",192],["T_STRING","yii",192],["T_NS_SEPARATOR","\\",192],["T_STRING","db",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Query",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                    ",192],["T_LIST","list",193],"(",["T_VARIABLE","$sql",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$params",193],")",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","build",193],"(",["T_VARIABLE","$value",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$params",193],")",";",["T_WHITESPACE","\n                    ",193],["T_VARIABLE","$placeholders",194],"[","]",["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],"\"",["T_ENCAPSED_AND_WHITESPACE","(",194],["T_VARIABLE","$sql",194],["T_ENCAPSED_AND_WHITESPACE",")",194],"\"",";",["T_WHITESPACE","\n                ",194],"}",["T_WHITESPACE"," ",195],["T_ELSE","else",195],["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                    ",195],["T_VARIABLE","$phName",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","self",196],["T_DOUBLE_COLON","::",196],["T_STRING","PARAM_PREFIX",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_STRING","count",196],"(",["T_VARIABLE","$params",196],")",";",["T_WHITESPACE","\n                    ",196],["T_VARIABLE","$placeholders",197],"[","]",["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$phName",197],";",["T_WHITESPACE","\n                    ",197],["T_VARIABLE","$params",198],"[",["T_VARIABLE","$phName",198],"]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"!",["T_STRING","is_array",198],"(",["T_VARIABLE","$value",198],")",["T_WHITESPACE"," ",198],["T_BOOLEAN_AND","&&",198],["T_WHITESPACE"," ",198],["T_ISSET","isset",198],"(",["T_VARIABLE","$columnSchemas",198],"[",["T_VARIABLE","$name",198],"]",")",["T_WHITESPACE"," ",198],"?",["T_WHITESPACE"," ",198],["T_VARIABLE","$columnSchemas",198],"[",["T_VARIABLE","$name",198],"]",["T_OBJECT_OPERATOR","->",198],["T_STRING","dbTypecast",198],"(",["T_VARIABLE","$value",198],")",["T_WHITESPACE"," ",198],":",["T_WHITESPACE"," ",198],["T_VARIABLE","$value",198],";",["T_WHITESPACE","\n                ",198],"}",["T_WHITESPACE","\n            ",199],"}",["T_WHITESPACE","\n            ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_EMPTY","empty",201],"(",["T_VARIABLE","$names",201],")",["T_WHITESPACE"," ",201],["T_BOOLEAN_AND","&&",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$tableSchema",201],["T_WHITESPACE"," ",201],["T_IS_NOT_IDENTICAL","!==",201],["T_WHITESPACE"," ",201],["T_STRING","null",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$columns",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"!",["T_EMPTY","empty",202],"(",["T_VARIABLE","$tableSchema",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","primaryKey",202],")",["T_WHITESPACE"," ",202],"?",["T_WHITESPACE"," ",202],["T_VARIABLE","$tableSchema",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","primaryKey",202],["T_WHITESPACE"," ",202],":",["T_WHITESPACE"," ",202],"[",["T_STRING","reset",202],"(",["T_VARIABLE","$tableSchema",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","columns",202],")",["T_OBJECT_OPERATOR","->",202],["T_STRING","name",202],"]",";",["T_WHITESPACE","\n                ",202],["T_FOREACH","foreach",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$columns",203],["T_WHITESPACE"," ",203],["T_AS","as",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$name",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                    ",203],["T_VARIABLE","$names",204],"[","]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$schema",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","quoteColumnName",204],"(",["T_VARIABLE","$name",204],")",";",["T_WHITESPACE","\n                    ",204],["T_VARIABLE","$placeholders",205],"[","]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",205],";",["T_WHITESPACE","\n                ",205],"}",["T_WHITESPACE","\n            ",206],"}",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO '",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_VARIABLE","$schema",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","quoteTableName",210],"(",["T_VARIABLE","$table",210],")",["T_WHITESPACE","\n            ",210],".",["T_WHITESPACE"," ",211],"(","!",["T_EMPTY","empty",211],"(",["T_VARIABLE","$names",211],")",["T_WHITESPACE"," ",211],"?",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","' ('",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_STRING","implode",211],"(",["T_CONSTANT_ENCAPSED_STRING","', '",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$names",211],")",["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","')'",211],["T_WHITESPACE"," ",211],":",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","''",211],")",["T_WHITESPACE","\n            ",211],".",["T_WHITESPACE"," ",212],"(","!",["T_EMPTY","empty",212],"(",["T_VARIABLE","$placeholders",212],")",["T_WHITESPACE"," ",212],"?",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","' VALUES ('",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_STRING","implode",212],"(",["T_CONSTANT_ENCAPSED_STRING","', '",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$placeholders",212],")",["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","')'",212],["T_WHITESPACE"," ",212],":",["T_WHITESPACE"," ",212],["T_VARIABLE","$values",212],")",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Generates a batch INSERT SQL statement.\n     * For example,\n     *\n     * ```php\n     * $sql = $queryBuilder->batchInsert('user', ['name', 'age'], [\n     *     ['Tom', 30],\n     *     ['Jane', 20],\n     *     ['Linda', 25],\n     * ]);\n     * ```\n     *\n     * Note that the values in each row must match the corresponding column names.\n     *\n     * @param string $table the table that new rows will be inserted into.\n     * @param array $columns the column names\n     * @param array $rows the rows to be batch inserted into the table\n     * @return string the batch INSERT SQL statement\n     *\/",215],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","batchInsert",234],"(",["T_VARIABLE","$table",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$columns",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$rows",234],")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_EMPTY","empty",236],"(",["T_VARIABLE","$rows",236],")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","''",237],";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n\n        ",238],["T_VARIABLE","$schema",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","db",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getSchema",240],"(",")",";",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(","(",["T_VARIABLE","$tableSchema",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$schema",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getTableSchema",241],"(",["T_VARIABLE","$table",241],")",")",["T_WHITESPACE"," ",241],["T_IS_NOT_IDENTICAL","!==",241],["T_WHITESPACE"," ",241],["T_STRING","null",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$columnSchemas",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$tableSchema",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","columns",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE"," ",243],["T_ELSE","else",243],["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$columnSchemas",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],"[","]",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n\n        ",245],["T_VARIABLE","$values",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],"[","]",";",["T_WHITESPACE","\n        ",247],["T_FOREACH","foreach",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$rows",248],["T_WHITESPACE"," ",248],["T_AS","as",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$row",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$vs",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],"[","]",";",["T_WHITESPACE","\n            ",249],["T_FOREACH","foreach",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$row",250],["T_WHITESPACE"," ",250],["T_AS","as",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$i",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$value",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n                ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_ISSET","isset",251],"(",["T_VARIABLE","$columns",251],"[",["T_VARIABLE","$i",251],"]",",",["T_WHITESPACE"," ",251],["T_VARIABLE","$columnSchemas",251],"[",["T_VARIABLE","$columns",251],"[",["T_VARIABLE","$i",251],"]","]",")",["T_WHITESPACE"," ",251],["T_BOOLEAN_AND","&&",251],["T_WHITESPACE"," ",251],"!",["T_STRING","is_array",251],"(",["T_VARIABLE","$value",251],")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                    ",251],["T_VARIABLE","$value",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$columnSchemas",252],"[",["T_VARIABLE","$columns",252],"[",["T_VARIABLE","$i",252],"]","]",["T_OBJECT_OPERATOR","->",252],["T_STRING","dbTypecast",252],"(",["T_VARIABLE","$value",252],")",";",["T_WHITESPACE","\n                ",252],"}",["T_WHITESPACE","\n                ",253],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_STRING","is_string",254],"(",["T_VARIABLE","$value",254],")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                    ",254],["T_VARIABLE","$value",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$schema",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","quoteValue",255],"(",["T_VARIABLE","$value",255],")",";",["T_WHITESPACE","\n                ",255],"}",["T_WHITESPACE"," ",256],["T_ELSEIF","elseif",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$value",256],["T_WHITESPACE"," ",256],["T_IS_IDENTICAL","===",256],["T_WHITESPACE"," ",256],["T_STRING","false",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                    ",256],["T_VARIABLE","$value",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_LNUMBER","0",257],";",["T_WHITESPACE","\n                ",257],"}",["T_WHITESPACE"," ",258],["T_ELSEIF","elseif",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$value",258],["T_WHITESPACE"," ",258],["T_IS_IDENTICAL","===",258],["T_WHITESPACE"," ",258],["T_STRING","null",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                    ",258],["T_VARIABLE","$value",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'NULL'",259],";",["T_WHITESPACE","\n                ",259],"}",["T_WHITESPACE","\n                ",260],["T_VARIABLE","$vs",261],"[","]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$value",261],";",["T_WHITESPACE","\n            ",261],"}",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$values",263],"[","]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'('",263],["T_WHITESPACE"," ",263],".",["T_WHITESPACE"," ",263],["T_STRING","implode",263],"(",["T_CONSTANT_ENCAPSED_STRING","', '",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$vs",263],")",["T_WHITESPACE"," ",263],".",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","')'",263],";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n\n        ",264],["T_FOREACH","foreach",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$columns",266],["T_WHITESPACE"," ",266],["T_AS","as",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$i",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$name",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$columns",267],"[",["T_VARIABLE","$i",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$schema",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","quoteColumnName",267],"(",["T_VARIABLE","$name",267],")",";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n\n        ",268],["T_VARIABLE","$tableAndColumns",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","' INTO '",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$schema",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","quoteTableName",270],"(",["T_VARIABLE","$table",270],")",["T_WHITESPACE","\n        ",270],".",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","' ('",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_STRING","implode",271],"(",["T_CONSTANT_ENCAPSED_STRING","', '",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$columns",271],")",["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","') VALUES '",271],";",["T_WHITESPACE","\n\n        ",271],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'INSERT ALL '",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_VARIABLE","$tableAndColumns",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_STRING","implode",273],"(",["T_VARIABLE","$tableAndColumns",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$values",273],")",["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","' SELECT 1 FROM SYS.DUAL'",273],";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     * @since 2.0.8\n     *\/",276],["T_WHITESPACE","\n    ",279],["T_PUBLIC","public",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","selectExists",280],"(",["T_VARIABLE","$rawSql",280],")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_RETURN","return",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'SELECT CASE WHEN EXISTS('",282],["T_WHITESPACE"," ",282],".",["T_WHITESPACE"," ",282],["T_VARIABLE","$rawSql",282],["T_WHITESPACE"," ",282],".",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","') THEN 1 ELSE 0 END FROM DUAL'",282],";",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     * @since 2.0.8\n     *\/",285],["T_WHITESPACE","\n    ",288],["T_PUBLIC","public",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","dropCommentFromColumn",289],"(",["T_VARIABLE","$table",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$column",289],")",["T_WHITESPACE","\n    ",289],"{",["T_WHITESPACE","\n        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'COMMENT ON COLUMN '",291],["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","db",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","quoteTableName",291],"(",["T_VARIABLE","$table",291],")",["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'.'",291],["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","db",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","quoteColumnName",291],"(",["T_VARIABLE","$column",291],")",["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","\" IS ''\"",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     * @since 2.0.8\n     *\/",294],["T_WHITESPACE","\n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","dropCommentFromTable",298],"(",["T_VARIABLE","$table",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'COMMENT ON TABLE '",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","db",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","quoteTableName",300],"(",["T_VARIABLE","$table",300],")",["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","\" IS ''\"",300],";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n",301],"}",["T_WHITESPACE","\n",302]]