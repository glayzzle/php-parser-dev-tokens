[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","db",8],["T_NS_SEPARATOR","\\",8],["T_STRING","sqlite",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","yii",10],["T_NS_SEPARATOR","\\",10],["T_STRING","base",10],["T_NS_SEPARATOR","\\",10],["T_STRING","NotSupportedException",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","db",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Expression",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","db",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TableSchema",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","db",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ColumnSchema",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","db",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Transaction",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Schema is the class for retrieving metadata from a SQLite (2\/3) database.\n *\n * @property string $transactionIsolationLevel The transaction isolation level to use for this transaction.\n * This can be either [[Transaction::READ_UNCOMMITTED]] or [[Transaction::SERIALIZABLE]].\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",16],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","Schema",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","yii",25],["T_NS_SEPARATOR","\\",25],["T_STRING","db",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Schema",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_DOC_COMMENT","\/**\n     * @var array mapping from physical column types (keys) to abstract column types (values)\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$typeMap",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[",["T_WHITESPACE","\n        ",30],["T_CONSTANT_ENCAPSED_STRING","'tinyint'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_STRING","self",31],["T_DOUBLE_COLON","::",31],["T_STRING","TYPE_SMALLINT",31],",",["T_WHITESPACE","\n        ",31],["T_CONSTANT_ENCAPSED_STRING","'bit'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_STRING","self",32],["T_DOUBLE_COLON","::",32],["T_STRING","TYPE_SMALLINT",32],",",["T_WHITESPACE","\n        ",32],["T_CONSTANT_ENCAPSED_STRING","'boolean'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_STRING","self",33],["T_DOUBLE_COLON","::",33],["T_STRING","TYPE_BOOLEAN",33],",",["T_WHITESPACE","\n        ",33],["T_CONSTANT_ENCAPSED_STRING","'bool'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_STRING","self",34],["T_DOUBLE_COLON","::",34],["T_STRING","TYPE_BOOLEAN",34],",",["T_WHITESPACE","\n        ",34],["T_CONSTANT_ENCAPSED_STRING","'smallint'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_STRING","self",35],["T_DOUBLE_COLON","::",35],["T_STRING","TYPE_SMALLINT",35],",",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'mediumint'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_STRING","self",36],["T_DOUBLE_COLON","::",36],["T_STRING","TYPE_INTEGER",36],",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'int'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_STRING","self",37],["T_DOUBLE_COLON","::",37],["T_STRING","TYPE_INTEGER",37],",",["T_WHITESPACE","\n        ",37],["T_CONSTANT_ENCAPSED_STRING","'integer'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_STRING","self",38],["T_DOUBLE_COLON","::",38],["T_STRING","TYPE_INTEGER",38],",",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'bigint'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_STRING","self",39],["T_DOUBLE_COLON","::",39],["T_STRING","TYPE_BIGINT",39],",",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'float'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_STRING","self",40],["T_DOUBLE_COLON","::",40],["T_STRING","TYPE_FLOAT",40],",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'double'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_STRING","self",41],["T_DOUBLE_COLON","::",41],["T_STRING","TYPE_DOUBLE",41],",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'real'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_STRING","self",42],["T_DOUBLE_COLON","::",42],["T_STRING","TYPE_FLOAT",42],",",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'decimal'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_STRING","self",43],["T_DOUBLE_COLON","::",43],["T_STRING","TYPE_DECIMAL",43],",",["T_WHITESPACE","\n        ",43],["T_CONSTANT_ENCAPSED_STRING","'numeric'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","self",44],["T_DOUBLE_COLON","::",44],["T_STRING","TYPE_DECIMAL",44],",",["T_WHITESPACE","\n        ",44],["T_CONSTANT_ENCAPSED_STRING","'tinytext'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","self",45],["T_DOUBLE_COLON","::",45],["T_STRING","TYPE_TEXT",45],",",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'mediumtext'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","self",46],["T_DOUBLE_COLON","::",46],["T_STRING","TYPE_TEXT",46],",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'longtext'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","self",47],["T_DOUBLE_COLON","::",47],["T_STRING","TYPE_TEXT",47],",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'text'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","self",48],["T_DOUBLE_COLON","::",48],["T_STRING","TYPE_TEXT",48],",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'varchar'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","self",49],["T_DOUBLE_COLON","::",49],["T_STRING","TYPE_STRING",49],",",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'string'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","self",50],["T_DOUBLE_COLON","::",50],["T_STRING","TYPE_STRING",50],",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'char'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_STRING","self",51],["T_DOUBLE_COLON","::",51],["T_STRING","TYPE_CHAR",51],",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'blob'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","self",52],["T_DOUBLE_COLON","::",52],["T_STRING","TYPE_BINARY",52],",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'datetime'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","self",53],["T_DOUBLE_COLON","::",53],["T_STRING","TYPE_DATETIME",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'year'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_STRING","self",54],["T_DOUBLE_COLON","::",54],["T_STRING","TYPE_DATE",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'date'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","TYPE_DATE",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'time'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","self",56],["T_DOUBLE_COLON","::",56],["T_STRING","TYPE_TIME",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_STRING","self",57],["T_DOUBLE_COLON","::",57],["T_STRING","TYPE_TIMESTAMP",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'enum'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","self",58],["T_DOUBLE_COLON","::",58],["T_STRING","TYPE_STRING",58],",",["T_WHITESPACE","\n    ",58],"]",";",["T_WHITESPACE","\n\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Quotes a table name for use in a query.\n     * A simple table name has no schema prefix.\n     * @param string $name table name\n     * @return string the properly quoted table name\n     *\/",62],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","quoteSimpleTableName",68],"(",["T_VARIABLE","$name",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_STRING","strpos",70],"(",["T_VARIABLE","$name",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'`'",70],")",["T_WHITESPACE"," ",70],["T_IS_NOT_IDENTICAL","!==",70],["T_WHITESPACE"," ",70],["T_STRING","false",70],["T_WHITESPACE"," ",70],"?",["T_WHITESPACE"," ",70],["T_VARIABLE","$name",70],["T_WHITESPACE"," ",70],":",["T_WHITESPACE"," ",70],"\"",["T_ENCAPSED_AND_WHITESPACE","`",70],["T_VARIABLE","$name",70],["T_ENCAPSED_AND_WHITESPACE","`",70],"\"",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Quotes a column name for use in a query.\n     * A simple column name has no prefix.\n     * @param string $name column name\n     * @return string the properly quoted column name\n     *\/",73],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","quoteSimpleColumnName",79],"(",["T_VARIABLE","$name",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_STRING","strpos",81],"(",["T_VARIABLE","$name",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'`'",81],")",["T_WHITESPACE"," ",81],["T_IS_NOT_IDENTICAL","!==",81],["T_WHITESPACE"," ",81],["T_STRING","false",81],["T_WHITESPACE"," ",81],["T_BOOLEAN_OR","||",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$name",81],["T_WHITESPACE"," ",81],["T_IS_IDENTICAL","===",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'*'",81],["T_WHITESPACE"," ",81],"?",["T_WHITESPACE"," ",81],["T_VARIABLE","$name",81],["T_WHITESPACE"," ",81],":",["T_WHITESPACE"," ",81],"\"",["T_ENCAPSED_AND_WHITESPACE","`",81],["T_VARIABLE","$name",81],["T_ENCAPSED_AND_WHITESPACE","`",81],"\"",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Creates a query builder for the MySQL database.\n     * This method may be overridden by child classes to create a DBMS-specific query builder.\n     * @return QueryBuilder query builder instance\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","createQueryBuilder",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","QueryBuilder",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","db",91],")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     * @return ColumnSchemaBuilder column schema builder instance\n     *\/",94],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","createColumnSchemaBuilder",98],"(",["T_VARIABLE","$type",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$length",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","null",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","ColumnSchemaBuilder",100],"(",["T_VARIABLE","$type",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$length",100],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Returns all table names in the database.\n     * @param string $schema the schema of the tables. Defaults to empty string, meaning the current or default schema.\n     * @return array all table names in the database. The names have NO schema name prefix.\n     *\/",103],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","findTableNames",108],"(",["T_VARIABLE","$schema",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","''",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$sql",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT tbl_name FROM sqlite_master WHERE tbl_name<>'sqlite_sequence' ORDER BY tbl_name\"",110],";",["T_WHITESPACE","\n\n        ",110],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","db",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","createCommand",112],"(",["T_VARIABLE","$sql",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","queryColumn",112],"(",")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Loads the metadata for the specified table.\n     * @param string $name table name\n     * @return TableSchema driver dependent table metadata. Null if the table does not exist.\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","loadTableSchema",120],"(",["T_VARIABLE","$name",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$table",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","TableSchema",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$table",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","name",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$name",123],";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$table",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","fullName",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$name",124],";",["T_WHITESPACE","\n\n        ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","findColumns",126],"(",["T_VARIABLE","$table",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","findConstraints",127],"(",["T_VARIABLE","$table",127],")",";",["T_WHITESPACE","\n\n            ",127],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$table",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE"," ",130],["T_ELSE","else",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_STRING","null",131],";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Collects the table column metadata.\n     * @param TableSchema $table the table metadata\n     * @return bool whether the table exists in the database\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","findColumns",140],"(",["T_VARIABLE","$table",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$sql",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'PRAGMA table_info('",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","quoteSimpleTableName",142],"(",["T_VARIABLE","$table",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","name",142],")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","')'",142],";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$columns",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","db",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","createCommand",143],"(",["T_VARIABLE","$sql",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","queryAll",143],"(",")",";",["T_WHITESPACE","\n        ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_EMPTY","empty",144],"(",["T_VARIABLE","$columns",144],")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_STRING","false",145],";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_FOREACH","foreach",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$columns",148],["T_WHITESPACE"," ",148],["T_AS","as",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$info",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$column",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","loadColumnSchema",149],"(",["T_VARIABLE","$info",149],")",";",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$table",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","columns",150],"[",["T_VARIABLE","$column",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","name",150],"]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$column",150],";",["T_WHITESPACE","\n            ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$column",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","isPrimaryKey",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$table",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","primaryKey",152],"[","]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$column",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","name",152],";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_STRING","count",155],"(",["T_VARIABLE","$table",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","primaryKey",155],")",["T_WHITESPACE"," ",155],["T_IS_IDENTICAL","===",155],["T_WHITESPACE"," ",155],["T_LNUMBER","1",155],["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],"!",["T_STRING","strncasecmp",155],"(",["T_VARIABLE","$table",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","columns",155],"[",["T_VARIABLE","$table",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","primaryKey",155],"[",["T_LNUMBER","0",155],"]","]",["T_OBJECT_OPERATOR","->",155],["T_STRING","dbType",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'int'",155],",",["T_WHITESPACE"," ",155],["T_LNUMBER","3",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$table",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","sequenceName",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","''",156],";",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$table",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","columns",157],"[",["T_VARIABLE","$table",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","primaryKey",157],"[",["T_LNUMBER","0",157],"]","]",["T_OBJECT_OPERATOR","->",157],["T_STRING","autoIncrement",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","true",157],";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_STRING","true",160],";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Collects the foreign key column details for the given table.\n     * @param TableSchema $table the table metadata\n     *\/",163],["T_WHITESPACE","\n    ",166],["T_PROTECTED","protected",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","findConstraints",167],"(",["T_VARIABLE","$table",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$sql",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'PRAGMA foreign_key_list('",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","quoteSimpleTableName",169],"(",["T_VARIABLE","$table",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","name",169],")",["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","')'",169],";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$keys",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","db",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","createCommand",170],"(",["T_VARIABLE","$sql",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","queryAll",170],"(",")",";",["T_WHITESPACE","\n        ",170],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$keys",171],["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$key",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$id",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_INT_CAST","(int)",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$key",172],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",172],"]",";",["T_WHITESPACE","\n            ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!",["T_ISSET","isset",173],"(",["T_VARIABLE","$table",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","foreignKeys",173],"[",["T_VARIABLE","$id",173],"]",")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                ",173],["T_VARIABLE","$table",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","foreignKeys",174],"[",["T_VARIABLE","$id",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],"[",["T_VARIABLE","$key",174],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",174],"]",",",["T_WHITESPACE"," ",174],["T_VARIABLE","$key",174],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",174],"]",["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$key",174],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",174],"]","]",";",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE"," ",175],["T_ELSE","else",175],["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_COMMENT","\/\/ composite FK\n",176],["T_WHITESPACE","                ",177],["T_VARIABLE","$table",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","foreignKeys",177],"[",["T_VARIABLE","$id",177],"]","[",["T_VARIABLE","$key",177],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",177],"]","]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$key",177],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",177],"]",";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Returns all unique indexes for the given table.\n     * Each array element is of the following structure:\n     *\n     * ```php\n     * [\n     *     'IndexName1' => ['col1' [, ...]],\n     *     'IndexName2' => ['col2' [, ...]],\n     * ]\n     * ```\n     *\n     * @param TableSchema $table the table metadata\n     * @return array all unique indexes for the given table.\n     *\/",182],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","findUniqueIndexes",196],"(",["T_VARIABLE","$table",196],")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$sql",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'PRAGMA index_list('",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","quoteSimpleTableName",198],"(",["T_VARIABLE","$table",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","name",198],")",["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","')'",198],";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$indexes",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","db",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","createCommand",199],"(",["T_VARIABLE","$sql",199],")",["T_OBJECT_OPERATOR","->",199],["T_STRING","queryAll",199],"(",")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$uniqueIndexes",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"[","]",";",["T_WHITESPACE","\n\n        ",200],["T_FOREACH","foreach",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$indexes",202],["T_WHITESPACE"," ",202],["T_AS","as",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$index",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$indexName",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$index",203],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",203],"]",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$indexInfo",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","db",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","createCommand",204],"(",["T_CONSTANT_ENCAPSED_STRING","'PRAGMA index_info('",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","quoteValue",204],"(",["T_VARIABLE","$index",204],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",204],"]",")",["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","')'",204],")",["T_OBJECT_OPERATOR","->",204],["T_STRING","queryAll",204],"(",")",";",["T_WHITESPACE","\n\n            ",204],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$index",206],"[",["T_CONSTANT_ENCAPSED_STRING","'unique'",206],"]",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                ",206],["T_VARIABLE","$uniqueIndexes",207],"[",["T_VARIABLE","$indexName",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],"[","]",";",["T_WHITESPACE","\n                ",207],["T_FOREACH","foreach",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$indexInfo",208],["T_WHITESPACE"," ",208],["T_AS","as",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$row",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                    ",208],["T_VARIABLE","$uniqueIndexes",209],"[",["T_VARIABLE","$indexName",209],"]","[","]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$row",209],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",209],"]",";",["T_WHITESPACE","\n                ",209],"}",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n\n        ",212],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$uniqueIndexes",214],";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * Loads the column information into a [[ColumnSchema]] object.\n     * @param array $info column information\n     * @return ColumnSchema the column schema object\n     *\/",217],["T_WHITESPACE","\n    ",221],["T_PROTECTED","protected",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","loadColumnSchema",222],"(",["T_VARIABLE","$info",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$column",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","createColumnSchema",224],"(",")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$column",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","name",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$info",225],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",225],"]",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$column",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","allowNull",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],"!",["T_VARIABLE","$info",226],"[",["T_CONSTANT_ENCAPSED_STRING","'notnull'",226],"]",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$column",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","isPrimaryKey",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$info",227],"[",["T_CONSTANT_ENCAPSED_STRING","'pk'",227],"]",["T_WHITESPACE"," ",227],["T_IS_NOT_EQUAL","!=",227],["T_WHITESPACE"," ",227],["T_LNUMBER","0",227],";",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$column",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","dbType",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_STRING","strtolower",229],"(",["T_VARIABLE","$info",229],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",229],"]",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$column",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","unsigned",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","strpos",230],"(",["T_VARIABLE","$column",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","dbType",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",230],")",["T_WHITESPACE"," ",230],["T_IS_NOT_IDENTICAL","!==",230],["T_WHITESPACE"," ",230],["T_STRING","false",230],";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$column",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","type",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","self",232],["T_DOUBLE_COLON","::",232],["T_STRING","TYPE_STRING",232],";",["T_WHITESPACE","\n        ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_STRING","preg_match",233],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(\\w+)(?:\\(([^\\)]+)\\))?\/'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$column",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","dbType",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$matches",233],")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$type",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","strtolower",234],"(",["T_VARIABLE","$matches",234],"[",["T_LNUMBER","1",234],"]",")",";",["T_WHITESPACE","\n            ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_ISSET","isset",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","typeMap",235],"[",["T_VARIABLE","$type",235],"]",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                ",235],["T_VARIABLE","$column",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","type",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","typeMap",236],"[",["T_VARIABLE","$type",236],"]",";",["T_WHITESPACE","\n            ",236],"}",["T_WHITESPACE","\n\n            ",237],["T_IF","if",239],["T_WHITESPACE"," ",239],"(","!",["T_EMPTY","empty",239],"(",["T_VARIABLE","$matches",239],"[",["T_LNUMBER","2",239],"]",")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$values",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","explode",240],"(",["T_CONSTANT_ENCAPSED_STRING","','",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$matches",240],"[",["T_LNUMBER","2",240],"]",")",";",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$column",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","size",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$column",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","precision",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_INT_CAST","(int)",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$values",241],"[",["T_LNUMBER","0",241],"]",";",["T_WHITESPACE","\n                ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_ISSET","isset",242],"(",["T_VARIABLE","$values",242],"[",["T_LNUMBER","1",242],"]",")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                    ",242],["T_VARIABLE","$column",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","scale",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_INT_CAST","(int)",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$values",243],"[",["T_LNUMBER","1",243],"]",";",["T_WHITESPACE","\n                ",243],"}",["T_WHITESPACE","\n                ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$column",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","size",245],["T_WHITESPACE"," ",245],["T_IS_IDENTICAL","===",245],["T_WHITESPACE"," ",245],["T_LNUMBER","1",245],["T_WHITESPACE"," ",245],["T_BOOLEAN_AND","&&",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$type",245],["T_WHITESPACE"," ",245],["T_IS_IDENTICAL","===",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'tinyint'",245],["T_WHITESPACE"," ",245],["T_BOOLEAN_OR","||",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$type",245],["T_WHITESPACE"," ",245],["T_IS_IDENTICAL","===",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'bit'",245],")",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                    ",245],["T_VARIABLE","$column",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","type",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'boolean'",246],";",["T_WHITESPACE","\n                ",246],"}",["T_WHITESPACE"," ",247],["T_ELSEIF","elseif",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$type",247],["T_WHITESPACE"," ",247],["T_IS_IDENTICAL","===",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'bit'",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                    ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$column",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","size",248],["T_WHITESPACE"," ",248],">",["T_WHITESPACE"," ",248],["T_LNUMBER","32",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                        ",248],["T_VARIABLE","$column",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","type",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'bigint'",249],";",["T_WHITESPACE","\n                    ",249],"}",["T_WHITESPACE"," ",250],["T_ELSEIF","elseif",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$column",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","size",250],["T_WHITESPACE"," ",250],["T_IS_IDENTICAL","===",250],["T_WHITESPACE"," ",250],["T_LNUMBER","32",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n                        ",250],["T_VARIABLE","$column",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","type",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'integer'",251],";",["T_WHITESPACE","\n                    ",251],"}",["T_WHITESPACE","\n                ",252],"}",["T_WHITESPACE","\n            ",253],"}",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$column",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","phpType",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getColumnPhpType",256],"(",["T_VARIABLE","$column",256],")",";",["T_WHITESPACE","\n\n        ",256],["T_IF","if",258],["T_WHITESPACE"," ",258],"(","!",["T_VARIABLE","$column",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","isPrimaryKey",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$info",259],"[",["T_CONSTANT_ENCAPSED_STRING","'dflt_value'",259],"]",["T_WHITESPACE"," ",259],["T_IS_IDENTICAL","===",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'null'",259],["T_WHITESPACE"," ",259],["T_BOOLEAN_OR","||",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$info",259],"[",["T_CONSTANT_ENCAPSED_STRING","'dflt_value'",259],"]",["T_WHITESPACE"," ",259],["T_IS_IDENTICAL","===",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","''",259],["T_WHITESPACE"," ",259],["T_BOOLEAN_OR","||",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$info",259],"[",["T_CONSTANT_ENCAPSED_STRING","'dflt_value'",259],"]",["T_WHITESPACE"," ",259],["T_IS_IDENTICAL","===",259],["T_WHITESPACE"," ",259],["T_STRING","null",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                ",259],["T_VARIABLE","$column",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","defaultValue",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","null",260],";",["T_WHITESPACE","\n            ",260],"}",["T_WHITESPACE"," ",261],["T_ELSEIF","elseif",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$column",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","type",261],["T_WHITESPACE"," ",261],["T_IS_IDENTICAL","===",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",261],["T_WHITESPACE"," ",261],["T_BOOLEAN_AND","&&",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$info",261],"[",["T_CONSTANT_ENCAPSED_STRING","'dflt_value'",261],"]",["T_WHITESPACE"," ",261],["T_IS_IDENTICAL","===",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'CURRENT_TIMESTAMP'",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n                ",261],["T_VARIABLE","$column",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","defaultValue",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_NEW","new",262],["T_WHITESPACE"," ",262],["T_STRING","Expression",262],"(",["T_CONSTANT_ENCAPSED_STRING","'CURRENT_TIMESTAMP'",262],")",";",["T_WHITESPACE","\n            ",262],"}",["T_WHITESPACE"," ",263],["T_ELSE","else",263],["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                ",263],["T_VARIABLE","$value",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","trim",264],"(",["T_VARIABLE","$info",264],"[",["T_CONSTANT_ENCAPSED_STRING","'dflt_value'",264],"]",",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","\"'\\\"\"",264],")",";",["T_WHITESPACE","\n                ",264],["T_VARIABLE","$column",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","defaultValue",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$column",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","phpTypecast",265],"(",["T_VARIABLE","$value",265],")",";",["T_WHITESPACE","\n            ",265],"}",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$column",269],";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Sets the isolation level of the current transaction.\n     * @param string $level The transaction isolation level to use for this transaction.\n     * This can be either [[Transaction::READ_UNCOMMITTED]] or [[Transaction::SERIALIZABLE]].\n     * @throws \\yii\\base\\NotSupportedException when unsupported isolation levels are used.\n     * SQLite only supports SERIALIZABLE and READ UNCOMMITTED.\n     * @see http:\/\/www.sqlite.org\/pragma.html#pragma_read_uncommitted\n     *\/",272],["T_WHITESPACE","\n    ",279],["T_PUBLIC","public",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","setTransactionIsolationLevel",280],"(",["T_VARIABLE","$level",280],")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_SWITCH","switch",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$level",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_CASE","case",283],["T_WHITESPACE"," ",283],["T_STRING","Transaction",283],["T_DOUBLE_COLON","::",283],["T_STRING","SERIALIZABLE",283],":",["T_WHITESPACE","\n                ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","db",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","createCommand",284],"(",["T_CONSTANT_ENCAPSED_STRING","'PRAGMA read_uncommitted = False;'",284],")",["T_OBJECT_OPERATOR","->",284],["T_STRING","execute",284],"(",")",";",["T_WHITESPACE","\n                ",284],["T_BREAK","break",285],";",["T_WHITESPACE","\n            ",285],["T_CASE","case",286],["T_WHITESPACE"," ",286],["T_STRING","Transaction",286],["T_DOUBLE_COLON","::",286],["T_STRING","READ_UNCOMMITTED",286],":",["T_WHITESPACE","\n                ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","db",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","createCommand",287],"(",["T_CONSTANT_ENCAPSED_STRING","'PRAGMA read_uncommitted = True;'",287],")",["T_OBJECT_OPERATOR","->",287],["T_STRING","execute",287],"(",")",";",["T_WHITESPACE","\n                ",287],["T_BREAK","break",288],";",["T_WHITESPACE","\n            ",288],["T_DEFAULT","default",289],":",["T_WHITESPACE","\n                ",289],["T_THROW","throw",290],["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","NotSupportedException",290],"(",["T_STRING","get_class",290],"(",["T_VARIABLE","$this",290],")",["T_WHITESPACE"," ",290],".",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","' only supports transaction isolation levels READ UNCOMMITTED and SERIALIZABLE.'",290],")",";",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n",292],"}",["T_WHITESPACE","\n",293]]