[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","base",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * ActionFilter is the base class for action filters.\n *\n * An action filter will participate in the action execution workflow by responding to\n * the `beforeAction` and `afterAction` events triggered by modules and controllers.\n *\n * Check implementation of [[\\yii\\filters\\AccessControl]], [[\\yii\\filters\\PageCache]] and [[\\yii\\filters\\HttpCache]] as examples on how to use it.\n *\n * For more details and usage information on ActionFilter, see the [guide article on filters](guide:structure-filters).\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",10],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","ActionFilter",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","Behavior",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_DOC_COMMENT","\/**\n     * @var array list of action IDs that this filter should apply to. If this property is not set,\n     * then the filter applies to all actions, unless they are listed in [[except]].\n     * If an action ID appears in both [[only]] and [[except]], this filter will NOT apply to it.\n     *\n     * Note that if the filter is attached to a module, the action IDs should also include child module IDs (if any)\n     * and controller IDs.\n     *\n     * Since version 2.0.9 action IDs can be specified as wildcards, e.g. `site\/*`.\n     *\n     * @see except\n     *\/",25],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$only",37],";",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * @var array list of action IDs that this filter should not apply to.\n     * @see only\n     *\/",38],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$except",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[","]",";",["T_WHITESPACE","\n\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","attach",48],"(",["T_VARIABLE","$owner",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","owner",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$owner",50],";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$owner",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","on",51],"(",["T_STRING","Controller",51],["T_DOUBLE_COLON","::",51],["T_STRING","EVENT_BEFORE_ACTION",51],",",["T_WHITESPACE"," ",51],"[",["T_VARIABLE","$this",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'beforeFilter'",51],"]",")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","detach",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","owner",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","owner",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","off",60],"(",["T_STRING","Controller",60],["T_DOUBLE_COLON","::",60],["T_STRING","EVENT_BEFORE_ACTION",60],",",["T_WHITESPACE"," ",60],"[",["T_VARIABLE","$this",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'beforeFilter'",60],"]",")",";",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","owner",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","off",61],"(",["T_STRING","Controller",61],["T_DOUBLE_COLON","::",61],["T_STRING","EVENT_AFTER_ACTION",61],",",["T_WHITESPACE"," ",61],"[",["T_VARIABLE","$this",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'afterFilter'",61],"]",")",";",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","owner",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","null",62],";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @param ActionEvent $event\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","beforeFilter",69],"(",["T_VARIABLE","$event",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(","!",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","isActive",71],"(",["T_VARIABLE","$event",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","action",71],")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_RETURN","return",72],";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$event",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","isValid",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","beforeAction",75],"(",["T_VARIABLE","$event",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","action",75],")",";",["T_WHITESPACE","\n        ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$event",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","isValid",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_COMMENT","\/\/ call afterFilter only if beforeFilter succeeds\n",77],["T_WHITESPACE","            ",78],["T_COMMENT","\/\/ beforeFilter and afterFilter should be properly nested\n",78],["T_WHITESPACE","            ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","owner",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","on",79],"(",["T_STRING","Controller",79],["T_DOUBLE_COLON","::",79],["T_STRING","EVENT_AFTER_ACTION",79],",",["T_WHITESPACE"," ",79],"[",["T_VARIABLE","$this",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'afterFilter'",79],"]",",",["T_WHITESPACE"," ",79],["T_STRING","null",79],",",["T_WHITESPACE"," ",79],["T_STRING","false",79],")",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE"," ",80],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$event",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","handled",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","true",81],";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @param ActionEvent $event\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","afterFilter",88],"(",["T_VARIABLE","$event",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$event",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","result",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","afterAction",90],"(",["T_VARIABLE","$event",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","action",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$event",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","result",90],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","owner",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","off",91],"(",["T_STRING","Controller",91],["T_DOUBLE_COLON","::",91],["T_STRING","EVENT_AFTER_ACTION",91],",",["T_WHITESPACE"," ",91],"[",["T_VARIABLE","$this",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'afterFilter'",91],"]",")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * This method is invoked right before an action is to be executed (after all possible filters.)\n     * You may override this method to do last-minute preparation for the action.\n     * @param Action $action the action to be executed.\n     * @return bool whether the action should continue to be executed.\n     *\/",94],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","beforeAction",100],"(",["T_VARIABLE","$action",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_STRING","true",102],";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * This method is invoked right after an action is executed.\n     * You may override this method to do some postprocessing for the action.\n     * @param Action $action the action just executed.\n     * @param mixed $result the action execution result\n     * @return mixed the processed action result.\n     *\/",105],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","afterAction",112],"(",["T_VARIABLE","$action",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$result",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$result",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Returns an action ID by converting [[Action::$uniqueId]] into an ID relative to the module\n     * @param Action $action\n     * @return string\n     * @since 2.0.7\n     *\/",117],["T_WHITESPACE","\n    ",122],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getActionId",123],"(",["T_VARIABLE","$action",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","owner",125],["T_WHITESPACE"," ",125],["T_INSTANCEOF","instanceof",125],["T_WHITESPACE"," ",125],["T_STRING","Module",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$mid",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","owner",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getUniqueId",126],"(",")",";",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$id",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$action",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getUniqueId",127],"(",")",";",["T_WHITESPACE","\n            ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$mid",128],["T_WHITESPACE"," ",128],["T_IS_NOT_IDENTICAL","!==",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","''",128],["T_WHITESPACE"," ",128],["T_BOOLEAN_AND","&&",128],["T_WHITESPACE"," ",128],["T_STRING","strpos",128],"(",["T_VARIABLE","$id",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$mid",128],")",["T_WHITESPACE"," ",128],["T_IS_IDENTICAL","===",128],["T_WHITESPACE"," ",128],["T_LNUMBER","0",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                ",128],["T_VARIABLE","$id",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","substr",129],"(",["T_VARIABLE","$id",129],",",["T_WHITESPACE"," ",129],["T_STRING","strlen",129],"(",["T_VARIABLE","$mid",129],")",["T_WHITESPACE"," ",129],"+",["T_WHITESPACE"," ",129],["T_LNUMBER","1",129],")",";",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE"," ",131],["T_ELSE","else",131],["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$id",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$action",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","id",132],";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$id",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Returns a value indicating whether the filter is active for the given action.\n     * @param Action $action the action being filtered\n     * @return bool whether the filter is active for the given action.\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","isActive",143],"(",["T_VARIABLE","$action",143],")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$id",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getActionId",145],"(",["T_VARIABLE","$action",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_EMPTY","empty",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","only",147],")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$onlyMatch",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","true",148],";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE"," ",149],["T_ELSE","else",149],["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$onlyMatch",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","false",150],";",["T_WHITESPACE","\n            ",150],["T_FOREACH","foreach",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","only",151],["T_WHITESPACE"," ",151],["T_AS","as",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$pattern",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_STRING","fnmatch",152],"(",["T_VARIABLE","$pattern",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$id",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                    ",152],["T_VARIABLE","$onlyMatch",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","true",153],";",["T_WHITESPACE","\n                    ",153],["T_BREAK","break",154],";",["T_WHITESPACE","\n                ",154],"}",["T_WHITESPACE","\n            ",155],"}",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$exceptMatch",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","false",159],";",["T_WHITESPACE","\n        ",159],["T_FOREACH","foreach",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","except",160],["T_WHITESPACE"," ",160],["T_AS","as",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$pattern",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_STRING","fnmatch",161],"(",["T_VARIABLE","$pattern",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$id",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$exceptMatch",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","true",162],";",["T_WHITESPACE","\n                ",162],["T_BREAK","break",163],";",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n\n        ",165],["T_RETURN","return",167],["T_WHITESPACE"," ",167],"!",["T_VARIABLE","$exceptMatch",167],["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$onlyMatch",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n",168],"}",["T_WHITESPACE","\n",169]]