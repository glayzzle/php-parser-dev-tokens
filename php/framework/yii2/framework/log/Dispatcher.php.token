[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","log",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","base",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ErrorHandler",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Dispatcher manages a set of [[Target|log targets]].\n *\n * Dispatcher implements the [[dispatch()]]-method that forwards the log messages from a [[Logger]] to\n * the registered log [[targets]].\n *\n * An instance of Dispatcher is registered as a core application component and can be accessed using `Yii::$app->log`.\n *\n * You may configure the targets in application configuration, like the following:\n *\n * ```php\n * [\n *     'components' => [\n *         'log' => [\n *             'targets' => [\n *                 'file' => [\n *                     'class' => 'yii\\log\\FileTarget',\n *                     'levels' => ['trace', 'info'],\n *                     'categories' => ['yii\\*'],\n *                 ],\n *                 'email' => [\n *                     'class' => 'yii\\log\\EmailTarget',\n *                     'levels' => ['error', 'warning'],\n *                     'message' => [\n *                         'to' => 'admin@example.com',\n *                     ],\n *                 ],\n *             ],\n *         ],\n *     ],\n * ]\n * ```\n *\n * Each log target can have a name and can be referenced via the [[targets]] property as follows:\n *\n * ```php\n * Yii::$app->log->targets['file']->enabled = false;\n * ```\n *\n * @property int $flushInterval How many messages should be logged before they are sent to targets. This\n * method returns the value of [[Logger::flushInterval]].\n * @property Logger $logger The logger. If not set, [[\\Yii::getLogger()]] will be used. Note that the type of\n * this property differs in getter and setter. See [[getLogger()]] and [[setLogger()]] for details.\n * @property int $traceLevel How many application call stacks should be logged together with each message.\n * This method returns the value of [[Logger::traceLevel]]. Defaults to 0.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",14],["T_WHITESPACE","\n",62],["T_CLASS","class",63],["T_WHITESPACE"," ",63],["T_STRING","Dispatcher",63],["T_WHITESPACE"," ",63],["T_EXTENDS","extends",63],["T_WHITESPACE"," ",63],["T_STRING","Component",63],["T_WHITESPACE","\n",63],"{",["T_WHITESPACE","\n    ",64],["T_DOC_COMMENT","\/**\n     * @var array|Target[] the log targets. Each array element represents a single [[Target|log target]] instance\n     * or the configuration for creating the log target instance.\n     *\/",65],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$targets",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[","]",";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @var Logger the logger.\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_PRIVATE","private",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_logger",74],";",["T_WHITESPACE","\n\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","__construct",80],"(",["T_VARIABLE","$config",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[","]",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_COMMENT","\/\/ ensure logger gets set before any other config option\n",82],["T_WHITESPACE","        ",83],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_ISSET","isset",83],"(",["T_VARIABLE","$config",83],"[",["T_CONSTANT_ENCAPSED_STRING","'logger'",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setLogger",84],"(",["T_VARIABLE","$config",84],"[",["T_CONSTANT_ENCAPSED_STRING","'logger'",84],"]",")",";",["T_WHITESPACE","\n            ",84],["T_UNSET","unset",85],"(",["T_VARIABLE","$config",85],"[",["T_CONSTANT_ENCAPSED_STRING","'logger'",85],"]",")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_COMMENT","\/\/ connect logger and dispatcher\n",87],["T_WHITESPACE","        ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getLogger",88],"(",")",";",["T_WHITESPACE","\n\n        ",88],["T_STRING","parent",90],["T_DOUBLE_COLON","::",90],["T_STRING","__construct",90],"(",["T_VARIABLE","$config",90],")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","init",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_STRING","parent",98],["T_DOUBLE_COLON","::",98],["T_STRING","init",98],"(",")",";",["T_WHITESPACE","\n\n        ",98],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","targets",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$name",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$target",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_VARIABLE","$target",101],["T_WHITESPACE"," ",101],["T_INSTANCEOF","instanceof",101],["T_WHITESPACE"," ",101],["T_STRING","Target",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","targets",102],"[",["T_VARIABLE","$name",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Yii",102],["T_DOUBLE_COLON","::",102],["T_STRING","createObject",102],"(",["T_VARIABLE","$target",102],")",";",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Gets the connected logger.\n     * If not set, [[\\Yii::getLogger()]] will be used.\n     * @property Logger the logger. If not set, [[\\Yii::getLogger()]] will be used.\n     * @return Logger the logger.\n     *\/",107],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","getLogger",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_logger",115],["T_WHITESPACE"," ",115],["T_IS_IDENTICAL","===",115],["T_WHITESPACE"," ",115],["T_STRING","null",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","setLogger",116],"(",["T_STRING","Yii",116],["T_DOUBLE_COLON","::",116],["T_STRING","getLogger",116],"(",")",")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_logger",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Sets the connected logger.\n     * @param Logger|string|array $value the logger to be used. This can either be a logger instance\n     * or a configuration that will be used to create one using [[Yii::createObject()]].\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","setLogger",126],"(",["T_VARIABLE","$value",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_STRING","is_string",128],"(",["T_VARIABLE","$value",128],")",["T_WHITESPACE"," ",128],["T_BOOLEAN_OR","||",128],["T_WHITESPACE"," ",128],["T_STRING","is_array",128],"(",["T_VARIABLE","$value",128],")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$value",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","Yii",129],["T_DOUBLE_COLON","::",129],["T_STRING","createObject",129],"(",["T_VARIABLE","$value",129],")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_logger",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$value",131],";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_logger",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","dispatcher",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * @return int how many application call stacks should be logged together with each message.\n     * This method returns the value of [[Logger::traceLevel]]. Defaults to 0.\n     *\/",135],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","getTraceLevel",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getLogger",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","traceLevel",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * @param int $value how many application call stacks should be logged together with each message.\n     * This method will set the value of [[Logger::traceLevel]]. If the value is greater than 0,\n     * at most that number of call stacks will be logged. Note that only application call stacks are counted.\n     * Defaults to 0.\n     *\/",144],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","setTraceLevel",150],"(",["T_VARIABLE","$value",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getLogger",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","traceLevel",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$value",152],";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * @return int how many messages should be logged before they are sent to targets.\n     * This method returns the value of [[Logger::flushInterval]].\n     *\/",155],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","getFlushInterval",159],"(",")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getLogger",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","flushInterval",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * @param int $value how many messages should be logged before they are sent to targets.\n     * This method will set the value of [[Logger::flushInterval]].\n     * Defaults to 1000, meaning the [[Logger::flush()]] method will be invoked once every 1000 messages logged.\n     * Set this property to be 0 if you don't want to flush messages until the application terminates.\n     * This property mainly affects how much memory will be taken by the logged messages.\n     * A smaller value means less memory, but will increase the execution time due to the overhead of [[Logger::flush()]].\n     *\/",164],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","setFlushInterval",172],"(",["T_VARIABLE","$value",172],")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getLogger",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","flushInterval",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$value",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Dispatches the logged messages to [[targets]].\n     * @param array $messages the logged messages\n     * @param bool $final whether this method is called at the end of the current application\n     *\/",177],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","dispatch",182],"(",["T_VARIABLE","$messages",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$final",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$targetErrors",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],"[","]",";",["T_WHITESPACE","\n        ",184],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","targets",185],["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$target",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$target",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","enabled",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                ",186],["T_TRY","try",187],["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                    ",187],["T_VARIABLE","$target",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","collect",188],"(",["T_VARIABLE","$messages",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$final",188],")",";",["T_WHITESPACE","\n                ",188],"}",["T_WHITESPACE"," ",189],["T_CATCH","catch",189],["T_WHITESPACE"," ",189],"(",["T_NS_SEPARATOR","\\",189],["T_STRING","Exception",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$e",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                    ",189],["T_VARIABLE","$target",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","enabled",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","false",190],";",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$targetErrors",191],"[","]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],"[",["T_WHITESPACE","\n                        ",191],["T_CONSTANT_ENCAPSED_STRING","'Unable to send log via '",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_STRING","get_class",192],"(",["T_VARIABLE","$target",192],")",["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","': '",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_STRING","ErrorHandler",192],["T_DOUBLE_COLON","::",192],["T_STRING","convertExceptionToString",192],"(",["T_VARIABLE","$e",192],")",",",["T_WHITESPACE","\n                        ",192],["T_STRING","Logger",193],["T_DOUBLE_COLON","::",193],["T_STRING","LEVEL_WARNING",193],",",["T_WHITESPACE","\n                        ",193],["T_METHOD_C","__METHOD__",194],",",["T_WHITESPACE","\n                        ",194],["T_STRING","microtime",195],"(",["T_STRING","true",195],")",",",["T_WHITESPACE","\n                        ",195],"[","]",",",["T_WHITESPACE","\n                    ",196],"]",";",["T_WHITESPACE","\n                ",197],"}",["T_WHITESPACE","\n            ",198],"}",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n\n        ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(","!",["T_EMPTY","empty",202],"(",["T_VARIABLE","$targetErrors",202],")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","dispatch",203],"(",["T_VARIABLE","$targetErrors",203],",",["T_WHITESPACE"," ",203],["T_STRING","true",203],")",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n",205],"}",["T_WHITESPACE","\n",206]]