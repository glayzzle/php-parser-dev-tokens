[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","log",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","InvalidConfigException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","di",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Instance",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","mail",13],["T_NS_SEPARATOR","\\",13],["T_STRING","MailerInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * EmailTarget sends selected log messages to the specified email addresses.\n *\n * You may configure the email to be sent by setting the [[message]] property, through which\n * you can set the target email addresses, subject, etc.:\n *\n * ```php\n * 'components' => [\n *     'log' => [\n *          'targets' => [\n *              [\n *                  'class' => 'yii\\log\\EmailTarget',\n *                  'mailer' => 'mailer',\n *                  'levels' => ['error', 'warning'],\n *                  'message' => [\n *                      'from' => ['log@example.com'],\n *                      'to' => ['developer1@example.com', 'developer2@example.com'],\n *                      'subject' => 'Log message',\n *                  ],\n *              ],\n *          ],\n *     ],\n * ],\n * ```\n *\n * In the above `mailer` is ID of the component that sends email and should be already configured.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n *\/",15],["T_WHITESPACE","\n",44],["T_CLASS","class",45],["T_WHITESPACE"," ",45],["T_STRING","EmailTarget",45],["T_WHITESPACE"," ",45],["T_EXTENDS","extends",45],["T_WHITESPACE"," ",45],["T_STRING","Target",45],["T_WHITESPACE","\n",45],"{",["T_WHITESPACE","\n    ",46],["T_DOC_COMMENT","\/**\n     * @var array the configuration array for creating a [[\\yii\\mail\\MessageInterface|message]] object.\n     * Note that the \"to\" option must be set, which specifies the destination email address(es).\n     *\/",47],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$message",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",";",["T_WHITESPACE","\n    ",51],["T_DOC_COMMENT","\/**\n     * @var MailerInterface|array|string the mailer object or the application component ID of the mailer object.\n     * After the EmailTarget object is created, if you want to change this property, you should only assign it\n     * with a mailer object.\n     * Starting from version 2.0.2, this can also be a configuration array for creating the object.\n     *\/",52],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$mailer",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'mailer'",58],";",["T_WHITESPACE","\n\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","init",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_STRING","parent",66],["T_DOUBLE_COLON","::",66],["T_STRING","init",66],"(",")",";",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_EMPTY","empty",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","message",67],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",67],"]",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_THROW","throw",68],["T_WHITESPACE"," ",68],["T_NEW","new",68],["T_WHITESPACE"," ",68],["T_STRING","InvalidConfigException",68],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"to\" option must be set for EmailTarget::message.'",68],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","mailer",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","Instance",70],["T_DOUBLE_COLON","::",70],["T_STRING","ensure",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","mailer",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'yii\\mail\\MailerInterface'",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Sends log messages to specified email addresses.\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","export",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_COMMENT","\/\/ moved initialization of subject here because of the following issue\n",78],["T_WHITESPACE","        ",79],["T_COMMENT","\/\/ https:\/\/github.com\/yiisoft\/yii2\/issues\/1446\n",79],["T_WHITESPACE","        ",80],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_EMPTY","empty",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","message",80],"[",["T_CONSTANT_ENCAPSED_STRING","'subject'",80],"]",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","message",81],"[",["T_CONSTANT_ENCAPSED_STRING","'subject'",81],"]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Application Log'",81],";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$messages",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","array_map",83],"(","[",["T_VARIABLE","$this",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'formatMessage'",83],"]",",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","messages",83],")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$body",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","wordwrap",84],"(",["T_STRING","implode",84],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$messages",84],")",",",["T_WHITESPACE"," ",84],["T_LNUMBER","70",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","composeMessage",85],"(",["T_VARIABLE","$body",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","send",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","mailer",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Composes a mail message with the given body content.\n     * @param string $body the body content\n     * @return \\yii\\mail\\MessageInterface $message\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","composeMessage",93],"(",["T_VARIABLE","$body",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$message",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","mailer",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","compose",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_STRING","Yii",96],["T_DOUBLE_COLON","::",96],["T_STRING","configure",96],"(",["T_VARIABLE","$message",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","message",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$message",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setTextBody",97],"(",["T_VARIABLE","$body",97],")",";",["T_WHITESPACE","\n\n        ",97],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$message",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n",100],"}",["T_WHITESPACE","\n",101]]