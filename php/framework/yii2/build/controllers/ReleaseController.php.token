[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @link http:\/\/www.yiiframework.com\/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http:\/\/www.yiiframework.com\/license\/\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","yii",8],["T_NS_SEPARATOR","\\",8],["T_STRING","build",8],["T_NS_SEPARATOR","\\",8],["T_STRING","controllers",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Yii",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","yii",11],["T_NS_SEPARATOR","\\",11],["T_STRING","base",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","yii",12],["T_NS_SEPARATOR","\\",12],["T_STRING","console",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Controller",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","yii",13],["T_NS_SEPARATOR","\\",13],["T_STRING","helpers",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ArrayHelper",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","yii",14],["T_NS_SEPARATOR","\\",14],["T_STRING","helpers",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Console",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","yii",15],["T_NS_SEPARATOR","\\",15],["T_STRING","helpers",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FileHelper",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * ReleaseController is there to help preparing releases.\n *\n * Get a version overview:\n *\n *     .\/build release\/info\n *\n * run it with `--update` to fetch tags for all repos:\n *\n *     .\/build release\/info --update\n *\n * Make a framework release (apps are always in line with framework):\n *\n *     .\/build release framework\n *     .\/build release app-basic\n *     .\/build release app-advanced\n *\n * Make an extension release (e.g. for redis):\n *\n *     .\/build release redis\n *\n * Be sure to check the help info for individual sub-commands:\n *\n * @author Carsten Brandt <mail@cebe.cc>\n * @since 2.0\n *\/",17],["T_WHITESPACE","\n",42],["T_CLASS","class",43],["T_WHITESPACE"," ",43],["T_STRING","ReleaseController",43],["T_WHITESPACE"," ",43],["T_EXTENDS","extends",43],["T_WHITESPACE"," ",43],["T_STRING","Controller",43],["T_WHITESPACE","\n",43],"{",["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$defaultAction",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'release'",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var string base path to use for releases.\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$basePath",50],";",["T_WHITESPACE","\n    ",50],["T_DOC_COMMENT","\/**\n     * @var bool whether to make actual changes. If true, it will run without changing or pushing anything.\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$dryRun",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","false",54],";",["T_WHITESPACE","\n    ",54],["T_DOC_COMMENT","\/**\n     * @var bool whether to fetch latest tags.\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$update",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","false",58],";",["T_WHITESPACE","\n    ",58],["T_DOC_COMMENT","\/**\n     * @var string override the default version. e.g. for major or patch releases.\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$version",62],";",["T_WHITESPACE","\n\n\n    ",62],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","options",65],"(",["T_VARIABLE","$actionID",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$options",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"[",["T_CONSTANT_ENCAPSED_STRING","'basePath'",67],"]",";",["T_WHITESPACE","\n        ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$actionID",68],["T_WHITESPACE"," ",68],["T_IS_IDENTICAL","===",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'release'",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$options",69],"[","]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'dryRun'",69],";",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$options",70],"[","]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'version'",70],";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE"," ",71],["T_ELSEIF","elseif",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$actionID",71],["T_WHITESPACE"," ",71],["T_IS_IDENTICAL","===",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'info'",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$options",72],"[","]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'update'",72],";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_STRING","array_merge",74],"(",["T_STRING","parent",74],["T_DOUBLE_COLON","::",74],["T_STRING","options",74],"(",["T_VARIABLE","$actionID",74],")",",",["T_WHITESPACE"," ",74],["T_VARIABLE","$options",74],")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n\n    ",75],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","beforeAction",78],"(",["T_VARIABLE","$action",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","interactive",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_THROW","throw",81],["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","Exception",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Sorry, but releases should be run interactively to ensure you actually verify what you are doing ;)'",81],")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","basePath",83],["T_WHITESPACE"," ",83],["T_IS_IDENTICAL","===",83],["T_WHITESPACE"," ",83],["T_STRING","null",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","basePath",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","dirname",84],"(",["T_STRING","dirname",84],"(",["T_DIR","__DIR__",84],")",")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","basePath",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","rtrim",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","basePath",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'\\\\\/'",86],")",";",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","parent",87],["T_DOUBLE_COLON","::",87],["T_STRING","beforeAction",87],"(",["T_VARIABLE","$action",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Shows information about current framework and extension versions.\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","actionInfo",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$items",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"[",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'framework'",96],",",["T_WHITESPACE","\n            ",96],["T_CONSTANT_ENCAPSED_STRING","'app-basic'",97],",",["T_WHITESPACE","\n            ",97],["T_CONSTANT_ENCAPSED_STRING","'app-advanced'",98],",",["T_WHITESPACE","\n        ",98],"]",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$extensionPath",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],"\"",["T_CURLY_OPEN","{",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","basePath",100],"}",["T_ENCAPSED_AND_WHITESPACE","\/extensions",100],"\"",";",["T_WHITESPACE","\n        ",100],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_STRING","scandir",101],"(",["T_VARIABLE","$extensionPath",101],")",["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$extension",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_STRING","ctype_alpha",102],"(",["T_VARIABLE","$extension",102],")",["T_WHITESPACE"," ",102],["T_BOOLEAN_AND","&&",102],["T_WHITESPACE"," ",102],["T_STRING","is_dir",102],"(",["T_VARIABLE","$extensionPath",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'\/'",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_VARIABLE","$extension",102],")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$items",103],"[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$extension",103],";",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","update",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_FOREACH","foreach",108],"(",["T_VARIABLE","$items",108],["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$item",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","stdout",109],"(","\"",["T_ENCAPSED_AND_WHITESPACE","fetching tags for ",109],["T_VARIABLE","$item",109],["T_ENCAPSED_AND_WHITESPACE","...",109],"\"",")",";",["T_WHITESPACE","\n                ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$item",110],["T_WHITESPACE"," ",110],["T_IS_IDENTICAL","===",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'framework'",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","gitFetchTags",111],"(","\"",["T_CURLY_OPEN","{",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","basePath",111],"}","\"",")",";",["T_WHITESPACE","\n                ",111],"}",["T_WHITESPACE"," ",112],["T_ELSEIF","elseif",112],["T_WHITESPACE"," ",112],"(",["T_STRING","strncmp",112],"(",["T_CONSTANT_ENCAPSED_STRING","'app-'",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$item",112],",",["T_WHITESPACE"," ",112],["T_LNUMBER","4",112],")",["T_WHITESPACE"," ",112],["T_IS_IDENTICAL","===",112],["T_WHITESPACE"," ",112],["T_LNUMBER","0",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","gitFetchTags",113],"(","\"",["T_CURLY_OPEN","{",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","basePath",113],"}",["T_ENCAPSED_AND_WHITESPACE","\/apps\/",113],"\"",["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_STRING","substr",113],"(",["T_VARIABLE","$item",113],",",["T_WHITESPACE"," ",113],["T_LNUMBER","4",113],")",")",";",["T_WHITESPACE","\n                ",113],"}",["T_WHITESPACE"," ",114],["T_ELSE","else",114],["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n                    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","gitFetchTags",115],"(","\"",["T_CURLY_OPEN","{",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","basePath",115],"}",["T_ENCAPSED_AND_WHITESPACE","\/extensions\/",115],["T_VARIABLE","$item",115],"\"",")",";",["T_WHITESPACE","\n                ",115],"}",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","stdout",117],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",117],",",["T_WHITESPACE"," ",117],["T_STRING","Console",117],["T_DOUBLE_COLON","::",117],["T_STRING","FG_GREEN",117],",",["T_WHITESPACE"," ",117],["T_STRING","Console",117],["T_DOUBLE_COLON","::",117],["T_STRING","BOLD",117],")",";",["T_WHITESPACE","\n            ",117],"}",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE"," ",119],["T_ELSE","else",119],["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","stdout",120],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\nInformation may be outdated, re-run with `--update` to fetch latest tags.\\n\\n\"",120],")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$versions",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getCurrentVersions",123],"(",["T_VARIABLE","$items",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$nextVersions",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getNextVersions",124],"(",["T_VARIABLE","$versions",124],",",["T_WHITESPACE"," ",124],["T_STRING","self",124],["T_DOUBLE_COLON","::",124],["T_STRING","PATCH",124],")",";",["T_WHITESPACE","\n\n        ",124],["T_COMMENT","\/\/ print version table\n",126],["T_WHITESPACE","        ",127],["T_VARIABLE","$w",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","minWidth",127],"(",["T_STRING","array_keys",127],"(",["T_VARIABLE","$versions",127],")",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","stdout",128],"(",["T_STRING","str_repeat",128],"(",["T_CONSTANT_ENCAPSED_STRING","' '",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$w",128],["T_WHITESPACE"," ",128],"+",["T_WHITESPACE"," ",128],["T_LNUMBER","2",128],")",["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","\"Current Version  Next Version\\n\"",128],",",["T_WHITESPACE"," ",128],["T_STRING","Console",128],["T_DOUBLE_COLON","::",128],["T_STRING","BOLD",128],")",";",["T_WHITESPACE","\n        ",128],["T_FOREACH","foreach",129],"(",["T_VARIABLE","$versions",129],["T_WHITESPACE"," ",129],["T_AS","as",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$ext",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$version",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","stdout",130],"(",["T_VARIABLE","$ext",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_STRING","str_repeat",130],"(",["T_CONSTANT_ENCAPSED_STRING","' '",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$w",130],["T_WHITESPACE"," ",130],"+",["T_WHITESPACE"," ",130],["T_LNUMBER","3",130],["T_WHITESPACE"," ",130],"-",["T_WHITESPACE"," ",130],["T_STRING","mb_strlen",130],"(",["T_VARIABLE","$ext",130],")",")",["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_VARIABLE","$version",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","\"\"",130],")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","stdout",131],"(",["T_STRING","str_repeat",131],"(",["T_CONSTANT_ENCAPSED_STRING","' '",131],",",["T_WHITESPACE"," ",131],["T_LNUMBER","17",131],["T_WHITESPACE"," ",131],"-",["T_WHITESPACE"," ",131],["T_STRING","mb_strlen",131],"(",["T_VARIABLE","$version",131],")",")",["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_VARIABLE","$nextVersions",131],"[",["T_VARIABLE","$ext",131],"]",["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",131],")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n    ",132],"}",["T_WHITESPACE","\n\n    ",134],["T_PRIVATE","private",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","minWidth",136],"(",["T_VARIABLE","$a",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$w",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_LNUMBER","1",138],";",["T_WHITESPACE","\n        ",138],["T_FOREACH","foreach",139],"(",["T_VARIABLE","$a",139],["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$s",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","(",["T_VARIABLE","$l",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","mb_strlen",140],"(",["T_VARIABLE","$s",140],")",")",["T_WHITESPACE"," ",140],">",["T_WHITESPACE"," ",140],["T_VARIABLE","$w",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$w",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$l",141],";",["T_WHITESPACE","\n            ",141],"}",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$w",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Automation tool for making Yii framework and official extension releases.\n     *\n     * Usage:\n     *\n     * To make a release, make sure your git is clean (no uncommitted changes) and run the following command in\n     * the yii dev repo root:\n     *\n     * ```\n     * .\/build\/build release framework\n     * ```\n     *\n     * or\n     *\n     * ```\n     * .\/build\/build release redis,bootstrap,apidoc\n     * ```\n     *\n     * You may use the `--dryRun` switch to test the command without changing or pushing anything:\n     *\n     * ```\n     * .\/build\/build release redis --dryRun\n     * ```\n     *\n     * The command will guide you through the complete release process including changing of files,\n     * committing and pushing them. Each git command must be confirmed and can be skipped individually.\n     * You may adjust changes in a separate shell or your IDE while the command is waiting for confirmation.\n     *\n     * @param array $what what do you want to release? this can either be:\n     *\n     * - an extension name such as `redis` or `bootstrap`,\n     * - an application indicated by prefix `app-`, e.g. `app-basic`,\n     * - or `framework` if you want to release a new version of the framework itself.\n     *\n     * @return int\n     *\/",147],["T_WHITESPACE","\n    ",182],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","actionRelease",183],"(",["T_ARRAY","array",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$what",183],")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_STRING","count",185],"(",["T_VARIABLE","$what",185],")",["T_WHITESPACE"," ",185],">",["T_WHITESPACE"," ",185],["T_LNUMBER","1",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","stdout",186],"(",["T_CONSTANT_ENCAPSED_STRING","\"Currently only one simultaneous release is supported.\\n\"",186],")",";",["T_WHITESPACE","\n            ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_LNUMBER","1",187],";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","stdout",190],"(",["T_CONSTANT_ENCAPSED_STRING","\"This is the Yii release manager\\n\\n\"",190],",",["T_WHITESPACE"," ",190],["T_STRING","Console",190],["T_DOUBLE_COLON","::",190],["T_STRING","BOLD",190],")",";",["T_WHITESPACE","\n\n        ",190],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","dryRun",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","stdout",193],"(",["T_CONSTANT_ENCAPSED_STRING","\"Running in \\\"dry-run\\\" mode, nothing will actually be changed.\\n\\n\"",193],",",["T_WHITESPACE"," ",193],["T_STRING","Console",193],["T_DOUBLE_COLON","::",193],["T_STRING","BOLD",193],",",["T_WHITESPACE"," ",193],["T_STRING","Console",193],["T_DOUBLE_COLON","::",193],["T_STRING","FG_GREEN",193],")",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","validateWhat",196],"(",["T_VARIABLE","$what",196],")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$versions",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getCurrentVersions",197],"(",["T_VARIABLE","$what",197],")",";",["T_WHITESPACE","\n\n        ",197],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","version",199],["T_WHITESPACE"," ",199],["T_IS_NOT_IDENTICAL","!==",199],["T_WHITESPACE"," ",199],["T_STRING","null",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_COMMENT","\/\/ if a version is explicitly given\n",200],["T_WHITESPACE","            ",201],["T_VARIABLE","$newVersions",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],"[","]",";",["T_WHITESPACE","\n            ",201],["T_FOREACH","foreach",202],"(",["T_VARIABLE","$versions",202],["T_WHITESPACE"," ",202],["T_AS","as",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$k",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$v",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$newVersions",203],"[",["T_VARIABLE","$k",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","version",203],";",["T_WHITESPACE","\n            ",203],"}",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_COMMENT","\/\/ otherwise get next patch or minor\n",206],["T_WHITESPACE","            ",207],["T_VARIABLE","$newVersions",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getNextVersions",207],"(",["T_VARIABLE","$versions",207],",",["T_WHITESPACE"," ",207],["T_STRING","self",207],["T_DOUBLE_COLON","::",207],["T_STRING","PATCH",207],")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","stdout",210],"(",["T_CONSTANT_ENCAPSED_STRING","\"You are about to prepare a new release for the following things:\\n\\n\"",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","printWhat",211],"(",["T_VARIABLE","$what",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$newVersions",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$versions",211],")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","stdout",212],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",212],")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","stdout",214],"(",["T_CONSTANT_ENCAPSED_STRING","\"Before you make a release briefly go over the changes and check if you spot obvious mistakes:\\n\\n\"",214],",",["T_WHITESPACE"," ",214],["T_STRING","Console",214],["T_DOUBLE_COLON","::",214],["T_STRING","BOLD",214],")",";",["T_WHITESPACE","\n        ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_STRING","strncmp",215],"(",["T_CONSTANT_ENCAPSED_STRING","'app-'",215],",",["T_WHITESPACE"," ",215],["T_STRING","reset",215],"(",["T_VARIABLE","$what",215],")",",",["T_WHITESPACE"," ",215],["T_LNUMBER","4",215],")",["T_WHITESPACE"," ",215],["T_IS_NOT_IDENTICAL","!==",215],["T_WHITESPACE"," ",215],["T_LNUMBER","0",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","stdout",216],"(",["T_CONSTANT_ENCAPSED_STRING","\"- no accidentally added CHANGELOG lines for other versions than this one?\\n\"",216],")",";",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","stdout",217],"(",["T_CONSTANT_ENCAPSED_STRING","\"- are all new `@since` tags for this relase version?\\n\"",217],")",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$travisUrl",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","reset",219],"(",["T_VARIABLE","$what",219],")",["T_WHITESPACE"," ",219],["T_IS_IDENTICAL","===",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'framework'",219],["T_WHITESPACE"," ",219],"?",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","''",219],["T_WHITESPACE"," ",219],":",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'-'",219],".",["T_STRING","reset",219],"(",["T_VARIABLE","$what",219],")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","stdout",220],"(","\"",["T_ENCAPSED_AND_WHITESPACE","- are unit tests passing on travis? https:\/\/travis-ci.org\/yiisoft\/yii2",220],["T_VARIABLE","$travisUrl",220],["T_ENCAPSED_AND_WHITESPACE","\/builds\\n",220],"\"",")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","stdout",221],"(",["T_CONSTANT_ENCAPSED_STRING","\"- other issues with code changes?\\n\"",221],")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","stdout",222],"(",["T_CONSTANT_ENCAPSED_STRING","\"- also make sure the milestone on github is complete and no issues or PRs are left open.\\n\\n\"",222],")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","printWhatUrls",223],"(",["T_VARIABLE","$what",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$versions",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","stdout",224],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",224],")",";",["T_WHITESPACE","\n\n        ",224],["T_IF","if",226],["T_WHITESPACE"," ",226],"(","!",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","confirm",226],"(",["T_CONSTANT_ENCAPSED_STRING","'When you continue, this tool will run cleanup jobs and update the changelog as well as other files (locally). Continue?'",226],",",["T_WHITESPACE"," ",226],["T_STRING","false",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","stdout",227],"(",["T_CONSTANT_ENCAPSED_STRING","\"Canceled.\\n\"",227],")",";",["T_WHITESPACE","\n            ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_LNUMBER","1",228],";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_FOREACH","foreach",231],"(",["T_VARIABLE","$what",231],["T_WHITESPACE"," ",231],["T_AS","as",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$ext",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$ext",232],["T_WHITESPACE"," ",232],["T_IS_IDENTICAL","===",232],["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'framework'",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n                ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","releaseFramework",233],"(","\"",["T_CURLY_OPEN","{",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","basePath",233],"}",["T_ENCAPSED_AND_WHITESPACE","\/framework",233],"\"",",",["T_WHITESPACE"," ",233],["T_VARIABLE","$newVersions",233],"[",["T_CONSTANT_ENCAPSED_STRING","'framework'",233],"]",")",";",["T_WHITESPACE","\n            ",233],"}",["T_WHITESPACE"," ",234],["T_ELSEIF","elseif",234],["T_WHITESPACE"," ",234],"(",["T_STRING","strncmp",234],"(",["T_CONSTANT_ENCAPSED_STRING","'app-'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$ext",234],",",["T_WHITESPACE"," ",234],["T_LNUMBER","4",234],")",["T_WHITESPACE"," ",234],["T_IS_IDENTICAL","===",234],["T_WHITESPACE"," ",234],["T_LNUMBER","0",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n                ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","releaseApplication",235],"(",["T_STRING","substr",235],"(",["T_VARIABLE","$ext",235],",",["T_WHITESPACE"," ",235],["T_LNUMBER","4",235],")",",",["T_WHITESPACE"," ",235],"\"",["T_CURLY_OPEN","{",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","basePath",235],"}",["T_ENCAPSED_AND_WHITESPACE","\/apps\/",235],"\"",["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_STRING","substr",235],"(",["T_VARIABLE","$ext",235],",",["T_WHITESPACE"," ",235],["T_LNUMBER","4",235],")",",",["T_WHITESPACE"," ",235],["T_VARIABLE","$newVersions",235],"[",["T_VARIABLE","$ext",235],"]",")",";",["T_WHITESPACE","\n            ",235],"}",["T_WHITESPACE"," ",236],["T_ELSE","else",236],["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n                ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","releaseExtension",237],"(",["T_VARIABLE","$ext",237],",",["T_WHITESPACE"," ",237],"\"",["T_CURLY_OPEN","{",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","basePath",237],"}",["T_ENCAPSED_AND_WHITESPACE","\/extensions\/",237],["T_VARIABLE","$ext",237],"\"",",",["T_WHITESPACE"," ",237],["T_VARIABLE","$newVersions",237],"[",["T_VARIABLE","$ext",237],"]",")",";",["T_WHITESPACE","\n            ",237],"}",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n\n        ",239],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_LNUMBER","0",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * This will generate application packages for download page.\n     *\n     * Usage:\n     *\n     * ```\n     * .\/build\/build release\/package app-basic\n     * ```\n     *\n     * @param array $what what do you want to package? this can either be:\n     *\n     * - an application indicated by prefix `app-`, e.g. `app-basic`,\n     *\n     * @return int\n     *\/",244],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","actionPackage",259],"(",["T_ARRAY","array",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$what",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","validateWhat",261],"(",["T_VARIABLE","$what",261],",",["T_WHITESPACE"," ",261],"[",["T_CONSTANT_ENCAPSED_STRING","'app'",261],"]",")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$versions",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getCurrentVersions",262],"(",["T_VARIABLE","$what",262],")",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","stdout",264],"(",["T_CONSTANT_ENCAPSED_STRING","\"You are about to generate packages for the following things:\\n\\n\"",264],")",";",["T_WHITESPACE","\n        ",264],["T_FOREACH","foreach",265],"(",["T_VARIABLE","$what",265],["T_WHITESPACE"," ",265],["T_AS","as",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$ext",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_STRING","strncmp",266],"(",["T_CONSTANT_ENCAPSED_STRING","'app-'",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$ext",266],",",["T_WHITESPACE"," ",266],["T_LNUMBER","4",266],")",["T_WHITESPACE"," ",266],["T_IS_IDENTICAL","===",266],["T_WHITESPACE"," ",266],["T_LNUMBER","0",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","stdout",267],"(",["T_CONSTANT_ENCAPSED_STRING","\" - \"",267],")",";",["T_WHITESPACE","\n                ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","stdout",268],"(",["T_STRING","substr",268],"(",["T_VARIABLE","$ext",268],",",["T_WHITESPACE"," ",268],["T_LNUMBER","4",268],")",",",["T_WHITESPACE"," ",268],["T_STRING","Console",268],["T_DOUBLE_COLON","::",268],["T_STRING","FG_RED",268],")",";",["T_WHITESPACE","\n                ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","stdout",269],"(",["T_CONSTANT_ENCAPSED_STRING","\" application version \"",269],")",";",["T_WHITESPACE","\n            ",269],"}",["T_WHITESPACE"," ",270],["T_ELSEIF","elseif",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$ext",270],["T_WHITESPACE"," ",270],["T_IS_IDENTICAL","===",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'framework'",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","stdout",271],"(",["T_CONSTANT_ENCAPSED_STRING","\" - Yii Framework version \"",271],")",";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE"," ",272],["T_ELSE","else",272],["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","stdout",273],"(",["T_CONSTANT_ENCAPSED_STRING","\" - \"",273],")",";",["T_WHITESPACE","\n                ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","stdout",274],"(",["T_VARIABLE","$ext",274],",",["T_WHITESPACE"," ",274],["T_STRING","Console",274],["T_DOUBLE_COLON","::",274],["T_STRING","FG_RED",274],")",";",["T_WHITESPACE","\n                ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","stdout",275],"(",["T_CONSTANT_ENCAPSED_STRING","\" extension version \"",275],")",";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","stdout",277],"(",["T_VARIABLE","$versions",277],"[",["T_VARIABLE","$ext",277],"]",",",["T_WHITESPACE"," ",277],["T_STRING","Console",277],["T_DOUBLE_COLON","::",277],["T_STRING","BOLD",277],")",";",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","stdout",278],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",278],")",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","stdout",280],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",280],")",";",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$packagePath",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],"\"",["T_CURLY_OPEN","{",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","basePath",282],"}",["T_ENCAPSED_AND_WHITESPACE","\/packages",282],"\"",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","stdout",283],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Packages will be stored in ",283],["T_VARIABLE","$packagePath",283],["T_ENCAPSED_AND_WHITESPACE","\\n\\n",283],"\"",")",";",["T_WHITESPACE","\n\n        ",283],["T_IF","if",285],["T_WHITESPACE"," ",285],"(","!",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","confirm",285],"(",["T_CONSTANT_ENCAPSED_STRING","'Continue?'",285],",",["T_WHITESPACE"," ",285],["T_STRING","false",285],")",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","stdout",286],"(",["T_CONSTANT_ENCAPSED_STRING","\"Canceled.\\n\"",286],")",";",["T_WHITESPACE","\n            ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_LNUMBER","1",287],";",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE","\n\n        ",288],["T_FOREACH","foreach",290],"(",["T_VARIABLE","$what",290],["T_WHITESPACE"," ",290],["T_AS","as",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$ext",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$ext",291],["T_WHITESPACE"," ",291],["T_IS_IDENTICAL","===",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'framework'",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                ",291],["T_THROW","throw",292],["T_WHITESPACE"," ",292],["T_NEW","new",292],["T_WHITESPACE"," ",292],["T_STRING","Exception",292],"(",["T_CONSTANT_ENCAPSED_STRING","'Can not package framework.'",292],")",";",["T_WHITESPACE","\n            ",292],"}",["T_WHITESPACE"," ",293],["T_ELSEIF","elseif",293],["T_WHITESPACE"," ",293],"(",["T_STRING","strncmp",293],"(",["T_CONSTANT_ENCAPSED_STRING","'app-'",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$ext",293],",",["T_WHITESPACE"," ",293],["T_LNUMBER","4",293],")",["T_WHITESPACE"," ",293],["T_IS_IDENTICAL","===",293],["T_WHITESPACE"," ",293],["T_LNUMBER","0",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","packageApplication",294],"(",["T_STRING","substr",294],"(",["T_VARIABLE","$ext",294],",",["T_WHITESPACE"," ",294],["T_LNUMBER","4",294],")",",",["T_WHITESPACE"," ",294],["T_VARIABLE","$versions",294],"[",["T_VARIABLE","$ext",294],"]",",",["T_WHITESPACE"," ",294],["T_VARIABLE","$packagePath",294],")",";",["T_WHITESPACE","\n            ",294],"}",["T_WHITESPACE"," ",295],["T_ELSE","else",295],["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n                ",295],["T_THROW","throw",296],["T_WHITESPACE"," ",296],["T_NEW","new",296],["T_WHITESPACE"," ",296],["T_STRING","Exception",296],"(",["T_CONSTANT_ENCAPSED_STRING","'Can not package extension.'",296],")",";",["T_WHITESPACE","\n            ",296],"}",["T_WHITESPACE","\n        ",297],"}",["T_WHITESPACE","\n\n        ",298],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","stdout",300],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\ndone. verify the versions composer installed above and push it to github!\\n\\n\"",300],")",";",["T_WHITESPACE","\n\n        ",300],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_LNUMBER","0",302],";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * Sorts CHANGELOG for framework or extension.\n     *\n     * @param array $what what do you want to resort changelog for? this can either be:\n     *\n     * - an extension name such as `redis` or `bootstrap`,\n     * - or `framework` if you want to release a new version of the framework itself.\n     *\/",305],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","actionSortChangelog",313],"(",["T_ARRAY","array",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$what",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_STRING","count",315],"(",["T_VARIABLE","$what",315],")",["T_WHITESPACE"," ",315],">",["T_WHITESPACE"," ",315],["T_LNUMBER","1",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","stdout",316],"(",["T_CONSTANT_ENCAPSED_STRING","\"Currently only one simultaneous release is supported.\\n\"",316],")",";",["T_WHITESPACE","\n            ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_LNUMBER","1",317],";",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","validateWhat",319],"(",["T_VARIABLE","$what",319],",",["T_WHITESPACE"," ",319],"[",["T_CONSTANT_ENCAPSED_STRING","'framework'",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'ext'",319],"]",",",["T_WHITESPACE"," ",319],["T_STRING","false",319],")",";",["T_WHITESPACE","\n\n        ",319],["T_VARIABLE","$version",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","array_values",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getNextVersions",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getCurrentVersions",321],"(",["T_VARIABLE","$what",321],")",",",["T_WHITESPACE"," ",321],["T_STRING","self",321],["T_DOUBLE_COLON","::",321],["T_STRING","PATCH",321],")",")","[",["T_LNUMBER","0",321],"]",";",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","stdout",322],"(",["T_CONSTANT_ENCAPSED_STRING","'sorting CHANGELOG of '",322],")",";",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","stdout",323],"(",["T_STRING","reset",323],"(",["T_VARIABLE","$what",323],")",",",["T_WHITESPACE"," ",323],["T_STRING","Console",323],["T_DOUBLE_COLON","::",323],["T_STRING","BOLD",323],")",";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","stdout",324],"(",["T_CONSTANT_ENCAPSED_STRING","\" for version \"",324],")",";",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","stdout",325],"(",["T_VARIABLE","$version",325],",",["T_WHITESPACE"," ",325],["T_STRING","Console",325],["T_DOUBLE_COLON","::",325],["T_STRING","BOLD",325],")",";",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","stdout",326],"(",["T_CONSTANT_ENCAPSED_STRING","\"...\"",326],")",";",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","resortChangelogs",328],"(",["T_VARIABLE","$what",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$version",328],")",";",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","stdout",330],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",330],",",["T_WHITESPACE"," ",330],["T_STRING","Console",330],["T_DOUBLE_COLON","::",330],["T_STRING","BOLD",330],",",["T_WHITESPACE"," ",330],["T_STRING","Console",330],["T_DOUBLE_COLON","::",330],["T_STRING","FG_GREEN",330],")",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_PROTECTED","protected",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","printWhat",333],"(",["T_ARRAY","array",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$what",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$newVersions",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$versions",333],")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_FOREACH","foreach",335],"(",["T_VARIABLE","$what",335],["T_WHITESPACE"," ",335],["T_AS","as",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$ext",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_STRING","strncmp",336],"(",["T_CONSTANT_ENCAPSED_STRING","'app-'",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$ext",336],",",["T_WHITESPACE"," ",336],["T_LNUMBER","4",336],")",["T_WHITESPACE"," ",336],["T_IS_IDENTICAL","===",336],["T_WHITESPACE"," ",336],["T_LNUMBER","0",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n                ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","stdout",337],"(",["T_CONSTANT_ENCAPSED_STRING","\" - \"",337],")",";",["T_WHITESPACE","\n                ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","stdout",338],"(",["T_STRING","substr",338],"(",["T_VARIABLE","$ext",338],",",["T_WHITESPACE"," ",338],["T_LNUMBER","4",338],")",",",["T_WHITESPACE"," ",338],["T_STRING","Console",338],["T_DOUBLE_COLON","::",338],["T_STRING","FG_RED",338],")",";",["T_WHITESPACE","\n                ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","stdout",339],"(",["T_CONSTANT_ENCAPSED_STRING","\" application version \"",339],")",";",["T_WHITESPACE","\n            ",339],"}",["T_WHITESPACE"," ",340],["T_ELSEIF","elseif",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$ext",340],["T_WHITESPACE"," ",340],["T_IS_IDENTICAL","===",340],["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'framework'",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","stdout",341],"(",["T_CONSTANT_ENCAPSED_STRING","\" - Yii Framework version \"",341],")",";",["T_WHITESPACE","\n            ",341],"}",["T_WHITESPACE"," ",342],["T_ELSE","else",342],["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n                ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","stdout",343],"(",["T_CONSTANT_ENCAPSED_STRING","\" - \"",343],")",";",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","stdout",344],"(",["T_VARIABLE","$ext",344],",",["T_WHITESPACE"," ",344],["T_STRING","Console",344],["T_DOUBLE_COLON","::",344],["T_STRING","FG_RED",344],")",";",["T_WHITESPACE","\n                ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","stdout",345],"(",["T_CONSTANT_ENCAPSED_STRING","\" extension version \"",345],")",";",["T_WHITESPACE","\n            ",345],"}",["T_WHITESPACE","\n            ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","stdout",347],"(",["T_VARIABLE","$newVersions",347],"[",["T_VARIABLE","$ext",347],"]",",",["T_WHITESPACE"," ",347],["T_STRING","Console",347],["T_DOUBLE_COLON","::",347],["T_STRING","BOLD",347],")",";",["T_WHITESPACE","\n            ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","stdout",348],"(","\"",["T_ENCAPSED_AND_WHITESPACE",", last release was ",348],["T_CURLY_OPEN","{",348],["T_VARIABLE","$versions",348],"[",["T_VARIABLE","$ext",348],"]","}",["T_ENCAPSED_AND_WHITESPACE","\\n",348],"\"",")",";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n    ",349],"}",["T_WHITESPACE","\n\n    ",350],["T_PROTECTED","protected",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","printWhatUrls",352],"(",["T_ARRAY","array",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$what",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$oldVersions",352],")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_FOREACH","foreach",354],"(",["T_VARIABLE","$what",354],["T_WHITESPACE"," ",354],["T_AS","as",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$ext",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$ext",355],["T_WHITESPACE"," ",355],["T_IS_IDENTICAL","===",355],["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'framework'",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n                ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","stdout",356],"(","\"",["T_ENCAPSED_AND_WHITESPACE","framework:    https:\/\/github.com\/yiisoft\/yii2-framework\/compare\/",356],["T_CURLY_OPEN","{",356],["T_VARIABLE","$oldVersions",356],"[",["T_VARIABLE","$ext",356],"]","}",["T_ENCAPSED_AND_WHITESPACE","...master\\n",356],"\"",")",";",["T_WHITESPACE","\n                ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","stdout",357],"(","\"",["T_ENCAPSED_AND_WHITESPACE","app-basic:    https:\/\/github.com\/yiisoft\/yii2-app-basic\/compare\/",357],["T_CURLY_OPEN","{",357],["T_VARIABLE","$oldVersions",357],"[",["T_VARIABLE","$ext",357],"]","}",["T_ENCAPSED_AND_WHITESPACE","...master\\n",357],"\"",")",";",["T_WHITESPACE","\n                ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","stdout",358],"(","\"",["T_ENCAPSED_AND_WHITESPACE","app-advanced: https:\/\/github.com\/yiisoft\/yii2-app-advanced\/compare\/",358],["T_CURLY_OPEN","{",358],["T_VARIABLE","$oldVersions",358],"[",["T_VARIABLE","$ext",358],"]","}",["T_ENCAPSED_AND_WHITESPACE","...master\\n",358],"\"",")",";",["T_WHITESPACE","\n            ",358],"}",["T_WHITESPACE"," ",359],["T_ELSE","else",359],["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n                ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","stdout",360],"(",["T_VARIABLE","$ext",360],",",["T_WHITESPACE"," ",360],["T_STRING","Console",360],["T_DOUBLE_COLON","::",360],["T_STRING","FG_RED",360],")",";",["T_WHITESPACE","\n                ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","stdout",361],"(","\"",["T_ENCAPSED_AND_WHITESPACE",": https:\/\/github.com\/yiisoft\/yii2-",361],["T_VARIABLE","$ext",361],["T_ENCAPSED_AND_WHITESPACE","\/compare\/",361],["T_CURLY_OPEN","{",361],["T_VARIABLE","$oldVersions",361],"[",["T_VARIABLE","$ext",361],"]","}",["T_ENCAPSED_AND_WHITESPACE","...master\\n",361],"\"",")",";",["T_WHITESPACE","\n            ",361],"}",["T_WHITESPACE","\n        ",362],"}",["T_WHITESPACE","\n    ",363],"}",["T_WHITESPACE","\n\n    ",364],["T_DOC_COMMENT","\/**\n     * @param array $what list of items\n     * @param array $limit list of things to allow, or empty to allow any, can be `app`, `framework`, `extension`\n     * @throws \\yii\\base\\Exception\n     *\/",366],["T_WHITESPACE","\n    ",370],["T_PROTECTED","protected",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","validateWhat",371],"(",["T_ARRAY","array",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$what",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$limit",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],"[","]",",",["T_WHITESPACE"," ",371],["T_VARIABLE","$ensureGitClean",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","true",371],")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_FOREACH","foreach",373],"(",["T_VARIABLE","$what",373],["T_WHITESPACE"," ",373],["T_AS","as",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$w",373],")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_STRING","strncmp",374],"(",["T_CONSTANT_ENCAPSED_STRING","'app-'",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$w",374],",",["T_WHITESPACE"," ",374],["T_LNUMBER","4",374],")",["T_WHITESPACE"," ",374],["T_IS_IDENTICAL","===",374],["T_WHITESPACE"," ",374],["T_LNUMBER","0",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n                ",374],["T_IF","if",375],["T_WHITESPACE"," ",375],"(","!",["T_EMPTY","empty",375],"(",["T_VARIABLE","$limit",375],")",["T_WHITESPACE"," ",375],["T_BOOLEAN_AND","&&",375],["T_WHITESPACE"," ",375],"!",["T_STRING","in_array",375],"(",["T_CONSTANT_ENCAPSED_STRING","'app'",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$limit",375],")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n                    ",375],["T_THROW","throw",376],["T_WHITESPACE"," ",376],["T_NEW","new",376],["T_WHITESPACE"," ",376],["T_STRING","Exception",376],"(",["T_CONSTANT_ENCAPSED_STRING","\"Only the following types are allowed: \"",376],".",["T_STRING","implode",376],"(",["T_CONSTANT_ENCAPSED_STRING","', '",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$limit",376],")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",376],")",";",["T_WHITESPACE","\n                ",376],"}",["T_WHITESPACE","\n                ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(","!",["T_STRING","is_dir",378],"(",["T_VARIABLE","$appPath",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],"\"",["T_CURLY_OPEN","{",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","basePath",378],"}",["T_ENCAPSED_AND_WHITESPACE","\/apps\/",378],"\"",["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_STRING","substr",378],"(",["T_VARIABLE","$w",378],",",["T_WHITESPACE"," ",378],["T_LNUMBER","4",378],")",")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n                    ",378],["T_THROW","throw",379],["T_WHITESPACE"," ",379],["T_NEW","new",379],["T_WHITESPACE"," ",379],["T_STRING","Exception",379],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Application path does not exist: \\\"",379],["T_CURLY_OPEN","{",379],["T_VARIABLE","$appPath",379],"}",["T_ENCAPSED_AND_WHITESPACE","\\\"\\n",379],"\"",")",";",["T_WHITESPACE","\n                ",379],"}",["T_WHITESPACE","\n                ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$ensureGitClean",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                    ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","ensureGitClean",382],"(",["T_VARIABLE","$appPath",382],")",";",["T_WHITESPACE","\n                ",382],"}",["T_WHITESPACE","\n            ",383],"}",["T_WHITESPACE"," ",384],["T_ELSEIF","elseif",384],["T_WHITESPACE"," ",384],"(",["T_VARIABLE","$w",384],["T_WHITESPACE"," ",384],["T_IS_IDENTICAL","===",384],["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'framework'",384],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(","!",["T_EMPTY","empty",385],"(",["T_VARIABLE","$limit",385],")",["T_WHITESPACE"," ",385],["T_BOOLEAN_AND","&&",385],["T_WHITESPACE"," ",385],"!",["T_STRING","in_array",385],"(",["T_CONSTANT_ENCAPSED_STRING","'framework'",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$limit",385],")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                    ",385],["T_THROW","throw",386],["T_WHITESPACE"," ",386],["T_NEW","new",386],["T_WHITESPACE"," ",386],["T_STRING","Exception",386],"(",["T_CONSTANT_ENCAPSED_STRING","\"Only the following types are allowed: \"",386],".",["T_STRING","implode",386],"(",["T_CONSTANT_ENCAPSED_STRING","', '",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$limit",386],")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",386],")",";",["T_WHITESPACE","\n                ",386],"}",["T_WHITESPACE","\n                ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(","!",["T_STRING","is_dir",388],"(",["T_VARIABLE","$fwPath",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],"\"",["T_CURLY_OPEN","{",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","basePath",388],"}",["T_ENCAPSED_AND_WHITESPACE","\/framework",388],"\"",")",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                    ",388],["T_THROW","throw",389],["T_WHITESPACE"," ",389],["T_NEW","new",389],["T_WHITESPACE"," ",389],["T_STRING","Exception",389],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Framework path does not exist: \\\"",389],["T_CURLY_OPEN","{",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","basePath",389],"}",["T_ENCAPSED_AND_WHITESPACE","\/framework\\\"\\n",389],"\"",")",";",["T_WHITESPACE","\n                ",389],"}",["T_WHITESPACE","\n                ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_VARIABLE","$ensureGitClean",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n                    ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","ensureGitClean",392],"(",["T_VARIABLE","$fwPath",392],")",";",["T_WHITESPACE","\n                ",392],"}",["T_WHITESPACE","\n            ",393],"}",["T_WHITESPACE"," ",394],["T_ELSE","else",394],["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n                ",394],["T_IF","if",395],["T_WHITESPACE"," ",395],"(","!",["T_EMPTY","empty",395],"(",["T_VARIABLE","$limit",395],")",["T_WHITESPACE"," ",395],["T_BOOLEAN_AND","&&",395],["T_WHITESPACE"," ",395],"!",["T_STRING","in_array",395],"(",["T_CONSTANT_ENCAPSED_STRING","'ext'",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$limit",395],")",")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n                    ",395],["T_THROW","throw",396],["T_WHITESPACE"," ",396],["T_NEW","new",396],["T_WHITESPACE"," ",396],["T_STRING","Exception",396],"(",["T_CONSTANT_ENCAPSED_STRING","\"Only the following types are allowed: \"",396],".",["T_STRING","implode",396],"(",["T_CONSTANT_ENCAPSED_STRING","', '",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$limit",396],")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",396],")",";",["T_WHITESPACE","\n                ",396],"}",["T_WHITESPACE","\n                ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(","!",["T_STRING","is_dir",398],"(",["T_VARIABLE","$extPath",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],"\"",["T_CURLY_OPEN","{",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","basePath",398],"}",["T_ENCAPSED_AND_WHITESPACE","\/extensions\/",398],["T_VARIABLE","$w",398],"\"",")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                    ",398],["T_THROW","throw",399],["T_WHITESPACE"," ",399],["T_NEW","new",399],["T_WHITESPACE"," ",399],["T_STRING","Exception",399],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Extension path for \\\"",399],["T_VARIABLE","$w",399],["T_ENCAPSED_AND_WHITESPACE","\\\" does not exist: \\\"",399],["T_CURLY_OPEN","{",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","basePath",399],"}",["T_ENCAPSED_AND_WHITESPACE","\/extensions\/",399],["T_VARIABLE","$w",399],["T_ENCAPSED_AND_WHITESPACE","\\\"\\n",399],"\"",")",";",["T_WHITESPACE","\n                ",399],"}",["T_WHITESPACE","\n                ",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$ensureGitClean",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n                    ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","ensureGitClean",402],"(",["T_VARIABLE","$extPath",402],")",";",["T_WHITESPACE","\n                ",402],"}",["T_WHITESPACE","\n            ",403],"}",["T_WHITESPACE","\n        ",404],"}",["T_WHITESPACE","\n    ",405],"}",["T_WHITESPACE","\n\n\n    ",406],["T_PROTECTED","protected",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","releaseFramework",409],"(",["T_VARIABLE","$frameworkPath",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$version",409],")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","stdout",411],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",411],")",";",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","stdout",412],"(",["T_VARIABLE","$h",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],"\"",["T_ENCAPSED_AND_WHITESPACE","Preparing framework release version ",412],["T_VARIABLE","$version",412],"\"",",",["T_WHITESPACE"," ",412],["T_STRING","Console",412],["T_DOUBLE_COLON","::",412],["T_STRING","BOLD",412],")",";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","stdout",413],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",413],["T_WHITESPACE"," ",413],".",["T_WHITESPACE"," ",413],["T_STRING","str_repeat",413],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",413],",",["T_WHITESPACE"," ",413],["T_STRING","strlen",413],"(",["T_VARIABLE","$h",413],")",")",["T_WHITESPACE"," ",413],".",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",413],",",["T_WHITESPACE"," ",413],["T_STRING","Console",413],["T_DOUBLE_COLON","::",413],["T_STRING","BOLD",413],")",";",["T_WHITESPACE","\n\n        ",413],["T_IF","if",415],["T_WHITESPACE"," ",415],"(","!",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","confirm",415],"(",["T_CONSTANT_ENCAPSED_STRING","'Make sure you are on the right branch for this release and that it tracks the correct remote branch! Continue?'",415],")",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n            ",415],["T_EXIT","exit",416],"(",["T_LNUMBER","1",416],")",";",["T_WHITESPACE","\n        ",416],"}",["T_WHITESPACE","\n        ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","runGit",418],"(",["T_CONSTANT_ENCAPSED_STRING","'git pull'",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$frameworkPath",418],")",";",["T_WHITESPACE","\n\n        ",418],["T_COMMENT","\/\/ checks\n",420],["T_WHITESPACE","\n        ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","stdout",422],"(",["T_CONSTANT_ENCAPSED_STRING","'check if framework composer.json matches yii2-dev composer.json...'",422],")",";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","checkComposer",423],"(",["T_VARIABLE","$frameworkPath",423],")",";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","stdout",424],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",424],",",["T_WHITESPACE"," ",424],["T_STRING","Console",424],["T_DOUBLE_COLON","::",424],["T_STRING","FG_GREEN",424],",",["T_WHITESPACE"," ",424],["T_STRING","Console",424],["T_DOUBLE_COLON","::",424],["T_STRING","BOLD",424],")",";",["T_WHITESPACE","\n\n        ",424],["T_COMMENT","\/\/ adjustments\n",426],["T_WHITESPACE","\n        ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","stdout",428],"(",["T_CONSTANT_ENCAPSED_STRING","'prepare classmap...'",428],",",["T_WHITESPACE"," ",428],["T_STRING","Console",428],["T_DOUBLE_COLON","::",428],["T_STRING","BOLD",428],")",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","dryRun",429],["T_WHITESPACE"," ",429],["T_BOOLEAN_OR","||",429],["T_WHITESPACE"," ",429],["T_STRING","Yii",429],["T_DOUBLE_COLON","::",429],["T_VARIABLE","$app",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","runAction",429],"(",["T_CONSTANT_ENCAPSED_STRING","'classmap'",429],",",["T_WHITESPACE"," ",429],"[",["T_VARIABLE","$frameworkPath",429],"]",")",";",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","stdout",430],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",430],",",["T_WHITESPACE"," ",430],["T_STRING","Console",430],["T_DOUBLE_COLON","::",430],["T_STRING","FG_GREEN",430],",",["T_WHITESPACE"," ",430],["T_STRING","Console",430],["T_DOUBLE_COLON","::",430],["T_STRING","BOLD",430],")",";",["T_WHITESPACE","\n\n        ",430],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","stdout",432],"(",["T_CONSTANT_ENCAPSED_STRING","'updating mimetype magic file...'",432],",",["T_WHITESPACE"," ",432],["T_STRING","Console",432],["T_DOUBLE_COLON","::",432],["T_STRING","BOLD",432],")",";",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","dryRun",433],["T_WHITESPACE"," ",433],["T_BOOLEAN_OR","||",433],["T_WHITESPACE"," ",433],["T_STRING","Yii",433],["T_DOUBLE_COLON","::",433],["T_VARIABLE","$app",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","runAction",433],"(",["T_CONSTANT_ENCAPSED_STRING","'mime-type'",433],",",["T_WHITESPACE"," ",433],"[","\"",["T_VARIABLE","$frameworkPath",433],["T_ENCAPSED_AND_WHITESPACE","\/helpers\/mimeTypes.php",433],"\"","]",")",";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","stdout",434],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",434],",",["T_WHITESPACE"," ",434],["T_STRING","Console",434],["T_DOUBLE_COLON","::",434],["T_STRING","FG_GREEN",434],",",["T_WHITESPACE"," ",434],["T_STRING","Console",434],["T_DOUBLE_COLON","::",434],["T_STRING","BOLD",434],")",";",["T_WHITESPACE","\n\n        ",434],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","stdout",436],"(",["T_CONSTANT_ENCAPSED_STRING","\"fixing various PHPdoc style issues...\\n\"",436],",",["T_WHITESPACE"," ",436],["T_STRING","Console",436],["T_DOUBLE_COLON","::",436],["T_STRING","BOLD",436],")",";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","dryRun",437],["T_WHITESPACE"," ",437],["T_BOOLEAN_OR","||",437],["T_WHITESPACE"," ",437],["T_STRING","Yii",437],["T_DOUBLE_COLON","::",437],["T_VARIABLE","$app",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","runAction",437],"(",["T_CONSTANT_ENCAPSED_STRING","'php-doc\/fix'",437],",",["T_WHITESPACE"," ",437],"[",["T_VARIABLE","$frameworkPath",437],"]",")",";",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","stdout",438],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",438],",",["T_WHITESPACE"," ",438],["T_STRING","Console",438],["T_DOUBLE_COLON","::",438],["T_STRING","FG_GREEN",438],",",["T_WHITESPACE"," ",438],["T_STRING","Console",438],["T_DOUBLE_COLON","::",438],["T_STRING","BOLD",438],")",";",["T_WHITESPACE","\n\n        ",438],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","stdout",440],"(",["T_CONSTANT_ENCAPSED_STRING","\"updating PHPdoc @property annotations...\\n\"",440],",",["T_WHITESPACE"," ",440],["T_STRING","Console",440],["T_DOUBLE_COLON","::",440],["T_STRING","BOLD",440],")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","dryRun",441],["T_WHITESPACE"," ",441],["T_BOOLEAN_OR","||",441],["T_WHITESPACE"," ",441],["T_STRING","Yii",441],["T_DOUBLE_COLON","::",441],["T_VARIABLE","$app",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","runAction",441],"(",["T_CONSTANT_ENCAPSED_STRING","'php-doc\/property'",441],",",["T_WHITESPACE"," ",441],"[",["T_VARIABLE","$frameworkPath",441],"]",")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","stdout",442],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",442],",",["T_WHITESPACE"," ",442],["T_STRING","Console",442],["T_DOUBLE_COLON","::",442],["T_STRING","FG_GREEN",442],",",["T_WHITESPACE"," ",442],["T_STRING","Console",442],["T_DOUBLE_COLON","::",442],["T_STRING","BOLD",442],")",";",["T_WHITESPACE","\n\n        ",442],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","stdout",444],"(",["T_CONSTANT_ENCAPSED_STRING","'sorting changelogs...'",444],",",["T_WHITESPACE"," ",444],["T_STRING","Console",444],["T_DOUBLE_COLON","::",444],["T_STRING","BOLD",444],")",";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","dryRun",445],["T_WHITESPACE"," ",445],["T_BOOLEAN_OR","||",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","resortChangelogs",445],"(","[",["T_CONSTANT_ENCAPSED_STRING","'framework'",445],"]",",",["T_WHITESPACE"," ",445],["T_VARIABLE","$version",445],")",";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","stdout",446],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",446],",",["T_WHITESPACE"," ",446],["T_STRING","Console",446],["T_DOUBLE_COLON","::",446],["T_STRING","FG_GREEN",446],",",["T_WHITESPACE"," ",446],["T_STRING","Console",446],["T_DOUBLE_COLON","::",446],["T_STRING","BOLD",446],")",";",["T_WHITESPACE","\n\n        ",446],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","stdout",448],"(",["T_CONSTANT_ENCAPSED_STRING","'closing changelogs...'",448],",",["T_WHITESPACE"," ",448],["T_STRING","Console",448],["T_DOUBLE_COLON","::",448],["T_STRING","BOLD",448],")",";",["T_WHITESPACE","\n        ",448],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","dryRun",449],["T_WHITESPACE"," ",449],["T_BOOLEAN_OR","||",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","closeChangelogs",449],"(","[",["T_CONSTANT_ENCAPSED_STRING","'framework'",449],"]",",",["T_WHITESPACE"," ",449],["T_VARIABLE","$version",449],")",";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","stdout",450],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",450],",",["T_WHITESPACE"," ",450],["T_STRING","Console",450],["T_DOUBLE_COLON","::",450],["T_STRING","FG_GREEN",450],",",["T_WHITESPACE"," ",450],["T_STRING","Console",450],["T_DOUBLE_COLON","::",450],["T_STRING","BOLD",450],")",";",["T_WHITESPACE","\n\n        ",450],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","stdout",452],"(",["T_CONSTANT_ENCAPSED_STRING","'updating Yii version...'",452],")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","dryRun",453],["T_WHITESPACE"," ",453],["T_BOOLEAN_OR","||",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","updateYiiVersion",453],"(",["T_VARIABLE","$frameworkPath",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$version",453],")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","stdout",454],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",454],",",["T_WHITESPACE"," ",454],["T_STRING","Console",454],["T_DOUBLE_COLON","::",454],["T_STRING","FG_GREEN",454],",",["T_WHITESPACE"," ",454],["T_STRING","Console",454],["T_DOUBLE_COLON","::",454],["T_STRING","BOLD",454],")",";",["T_WHITESPACE","\n\n        ",454],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","stdout",456],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\nIn the following you can check the above changes using git diff.\\n\\n\"",456],")",";",["T_WHITESPACE","\n        ",456],["T_DO","do",457],["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n            ",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","runGit",458],"(",["T_CONSTANT_ENCAPSED_STRING","\"git diff --color\"",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$frameworkPath",458],")",";",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","stdout",459],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\\nCheck whether the above diff is okay, if not you may change things as needed before continuing.\\n\"",459],")",";",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","stdout",460],"(",["T_CONSTANT_ENCAPSED_STRING","\"You may abort the program with Ctrl + C and reset the changes by running `git checkout -- .` in the repo.\\n\\n\"",460],")",";",["T_WHITESPACE","\n        ",460],"}",["T_WHITESPACE"," ",461],["T_WHILE","while",461],"(","!",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","confirm",461],"(",["T_CONSTANT_ENCAPSED_STRING","\"Type `yes` to continue, `no` to view git diff again. Continue?\"",461],")",")",";",["T_WHITESPACE","\n\n        ",461],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","stdout",463],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",463],")",";",["T_WHITESPACE","\n        ",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","stdout",464],"(",["T_CONSTANT_ENCAPSED_STRING","\"    ****          RELEASE TIME!         ****\\n\"",464],",",["T_WHITESPACE"," ",464],["T_STRING","Console",464],["T_DOUBLE_COLON","::",464],["T_STRING","FG_YELLOW",464],",",["T_WHITESPACE"," ",464],["T_STRING","Console",464],["T_DOUBLE_COLON","::",464],["T_STRING","BOLD",464],")",";",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","stdout",465],"(",["T_CONSTANT_ENCAPSED_STRING","\"    ****    Commit, Tag and Push it!    ****\\n\"",465],",",["T_WHITESPACE"," ",465],["T_STRING","Console",465],["T_DOUBLE_COLON","::",465],["T_STRING","FG_YELLOW",465],",",["T_WHITESPACE"," ",465],["T_STRING","Console",465],["T_DOUBLE_COLON","::",465],["T_STRING","BOLD",465],")",";",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","stdout",466],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\nHint: if you decide 'no' for any of the following, the command will not be executed. You may manually run them later if needed. E.g. try the release locally without pushing it.\\n\\n\"",466],")",";",["T_WHITESPACE","\n\n        ",466],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","stdout",468],"(",["T_CONSTANT_ENCAPSED_STRING","\"Make sure to have your git set up for GPG signing. The following tag and commit should be signed.\\n\\n\"",468],")",";",["T_WHITESPACE","\n\n        ",468],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","runGit",470],"(","\"",["T_ENCAPSED_AND_WHITESPACE","git commit -S -a -m \\\"release version ",470],["T_VARIABLE","$version",470],["T_ENCAPSED_AND_WHITESPACE","\\\"",470],"\"",",",["T_WHITESPACE"," ",470],["T_VARIABLE","$frameworkPath",470],")",";",["T_WHITESPACE","\n        ",470],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","runGit",471],"(","\"",["T_ENCAPSED_AND_WHITESPACE","git tag -s ",471],["T_VARIABLE","$version",471],["T_ENCAPSED_AND_WHITESPACE"," -m \\\"version ",471],["T_VARIABLE","$version",471],["T_ENCAPSED_AND_WHITESPACE","\\\"",471],"\"",",",["T_WHITESPACE"," ",471],["T_VARIABLE","$frameworkPath",471],")",";",["T_WHITESPACE","\n        ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","runGit",472],"(",["T_CONSTANT_ENCAPSED_STRING","\"git push\"",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$frameworkPath",472],")",";",["T_WHITESPACE","\n        ",472],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","runGit",473],"(",["T_CONSTANT_ENCAPSED_STRING","\"git push --tags\"",473],",",["T_WHITESPACE"," ",473],["T_VARIABLE","$frameworkPath",473],")",";",["T_WHITESPACE","\n\n        ",473],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","stdout",475],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",475],")",";",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","stdout",476],"(",["T_CONSTANT_ENCAPSED_STRING","\"CONGRATULATIONS! You have just released \"",476],",",["T_WHITESPACE"," ",476],["T_STRING","Console",476],["T_DOUBLE_COLON","::",476],["T_STRING","FG_YELLOW",476],",",["T_WHITESPACE"," ",476],["T_STRING","Console",476],["T_DOUBLE_COLON","::",476],["T_STRING","BOLD",476],")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","stdout",477],"(",["T_CONSTANT_ENCAPSED_STRING","'framework'",477],",",["T_WHITESPACE"," ",477],["T_STRING","Console",477],["T_DOUBLE_COLON","::",477],["T_STRING","FG_RED",477],",",["T_WHITESPACE"," ",477],["T_STRING","Console",477],["T_DOUBLE_COLON","::",477],["T_STRING","BOLD",477],")",";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","stdout",478],"(",["T_CONSTANT_ENCAPSED_STRING","\" version \"",478],",",["T_WHITESPACE"," ",478],["T_STRING","Console",478],["T_DOUBLE_COLON","::",478],["T_STRING","FG_YELLOW",478],",",["T_WHITESPACE"," ",478],["T_STRING","Console",478],["T_DOUBLE_COLON","::",478],["T_STRING","BOLD",478],")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","stdout",479],"(",["T_VARIABLE","$version",479],",",["T_WHITESPACE"," ",479],["T_STRING","Console",479],["T_DOUBLE_COLON","::",479],["T_STRING","BOLD",479],")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","stdout",480],"(",["T_CONSTANT_ENCAPSED_STRING","\"!\\n\\n\"",480],",",["T_WHITESPACE"," ",480],["T_STRING","Console",480],["T_DOUBLE_COLON","::",480],["T_STRING","FG_YELLOW",480],",",["T_WHITESPACE"," ",480],["T_STRING","Console",480],["T_DOUBLE_COLON","::",480],["T_STRING","BOLD",480],")",";",["T_WHITESPACE","\n\n        ",480],["T_COMMENT","\/\/ TODO release applications\n",482],["T_WHITESPACE","        ",483],["T_COMMENT","\/\/ $this->composerSetStability($what, $version);\n",483],["T_WHITESPACE","\n\n",484],["T_COMMENT","\/\/        $this->resortChangelogs($what, $version);\n",486],["T_WHITESPACE","  ",487],["T_COMMENT","\/\/        $this->closeChangelogs($what, $version);\n",487],["T_WHITESPACE","  ",488],["T_COMMENT","\/\/        $this->composerSetStability($what, $version);\n",488],["T_WHITESPACE","  ",489],["T_COMMENT","\/\/        if (in_array('framework', $what)) {\n",489],["T_WHITESPACE","  ",490],["T_COMMENT","\/\/            $this->updateYiiVersion($version);\n",490],["T_WHITESPACE","  ",491],["T_COMMENT","\/\/        }\n",491],["T_WHITESPACE","\n\n        ",492],["T_COMMENT","\/\/ if done:\n",494],["T_WHITESPACE","        ",495],["T_COMMENT","\/\/     * .\/build\/build release\/done framework 2.0.0-dev 2.0.0-rc\n",495],["T_WHITESPACE","        ",496],["T_COMMENT","\/\/     * .\/build\/build release\/done redis 2.0.0-dev 2.0.0-rc\n",496],["T_COMMENT","\/\/            $this->openChangelogs($what, $nextVersion);\n",497],["T_COMMENT","\/\/            $this->composerSetStability($what, 'dev');\n",498],["T_COMMENT","\/\/            if (in_array('framework', $what)) {\n",499],["T_COMMENT","\/\/                $this->updateYiiVersion($devVersion);\n",500],["T_COMMENT","\/\/            }\n",501],["T_WHITESPACE","\n\n\n        ",502],["T_COMMENT","\/\/ prepare next release\n",505],["T_WHITESPACE","\n        ",506],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","stdout",507],"(",["T_CONSTANT_ENCAPSED_STRING","\"Time to prepare the next release...\\n\\n\"",507],",",["T_WHITESPACE"," ",507],["T_STRING","Console",507],["T_DOUBLE_COLON","::",507],["T_STRING","FG_YELLOW",507],",",["T_WHITESPACE"," ",507],["T_STRING","Console",507],["T_DOUBLE_COLON","::",507],["T_STRING","BOLD",507],")",";",["T_WHITESPACE","\n\n        ",507],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","stdout",509],"(",["T_CONSTANT_ENCAPSED_STRING","'opening changelogs...'",509],",",["T_WHITESPACE"," ",509],["T_STRING","Console",509],["T_DOUBLE_COLON","::",509],["T_STRING","BOLD",509],")",";",["T_WHITESPACE","\n        ",509],["T_VARIABLE","$nextVersion",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getNextVersions",510],"(","[",["T_CONSTANT_ENCAPSED_STRING","'framework'",510],["T_WHITESPACE"," ",510],["T_DOUBLE_ARROW","=>",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$version",510],"]",",",["T_WHITESPACE"," ",510],["T_STRING","self",510],["T_DOUBLE_COLON","::",510],["T_STRING","PATCH",510],")",";",["T_WHITESPACE"," ",510],["T_COMMENT","\/\/ TODO support other versions\n",510],["T_WHITESPACE","        ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","dryRun",511],["T_WHITESPACE"," ",511],["T_BOOLEAN_OR","||",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","openChangelogs",511],"(","[",["T_CONSTANT_ENCAPSED_STRING","'framework'",511],"]",",",["T_WHITESPACE"," ",511],["T_VARIABLE","$nextVersion",511],"[",["T_CONSTANT_ENCAPSED_STRING","'framework'",511],"]",")",";",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","stdout",512],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",512],",",["T_WHITESPACE"," ",512],["T_STRING","Console",512],["T_DOUBLE_COLON","::",512],["T_STRING","FG_GREEN",512],",",["T_WHITESPACE"," ",512],["T_STRING","Console",512],["T_DOUBLE_COLON","::",512],["T_STRING","BOLD",512],")",";",["T_WHITESPACE","\n\n        ",512],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","stdout",514],"(",["T_CONSTANT_ENCAPSED_STRING","'updating Yii version...'",514],")",";",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","dryRun",515],["T_WHITESPACE"," ",515],["T_BOOLEAN_OR","||",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","updateYiiVersion",515],"(",["T_VARIABLE","$frameworkPath",515],",",["T_WHITESPACE"," ",515],["T_VARIABLE","$nextVersion",515],"[",["T_CONSTANT_ENCAPSED_STRING","'framework'",515],"]",["T_WHITESPACE"," ",515],".",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'-dev'",515],")",";",["T_WHITESPACE","\n        ",515],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","stdout",516],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",516],",",["T_WHITESPACE"," ",516],["T_STRING","Console",516],["T_DOUBLE_COLON","::",516],["T_STRING","FG_GREEN",516],",",["T_WHITESPACE"," ",516],["T_STRING","Console",516],["T_DOUBLE_COLON","::",516],["T_STRING","BOLD",516],")",";",["T_WHITESPACE","\n\n\n        ",516],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","stdout",519],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",519],")",";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","runGit",520],"(",["T_CONSTANT_ENCAPSED_STRING","\"git diff --color\"",520],",",["T_WHITESPACE"," ",520],["T_VARIABLE","$frameworkPath",520],")",";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","stdout",521],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",521],")",";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","runGit",522],"(",["T_CONSTANT_ENCAPSED_STRING","\"git commit -a -m \\\"prepare for next release\\\"\"",522],",",["T_WHITESPACE"," ",522],["T_VARIABLE","$frameworkPath",522],")",";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","runGit",523],"(",["T_CONSTANT_ENCAPSED_STRING","\"git push\"",523],",",["T_WHITESPACE"," ",523],["T_VARIABLE","$frameworkPath",523],")",";",["T_WHITESPACE","\n\n        ",523],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","stdout",525],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\nDONE!\"",525],",",["T_WHITESPACE"," ",525],["T_STRING","Console",525],["T_DOUBLE_COLON","::",525],["T_STRING","FG_YELLOW",525],",",["T_WHITESPACE"," ",525],["T_STRING","Console",525],["T_DOUBLE_COLON","::",525],["T_STRING","BOLD",525],")",";",["T_WHITESPACE","\n\n        ",525],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","stdout",527],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\nThe following steps are left for you to do manually:\\n\\n\"",527],")",";",["T_WHITESPACE","\n        ",527],["T_VARIABLE","$nextVersion2",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getNextVersions",528],"(",["T_VARIABLE","$nextVersion",528],",",["T_WHITESPACE"," ",528],["T_STRING","self",528],["T_DOUBLE_COLON","::",528],["T_STRING","PATCH",528],")",";",["T_WHITESPACE"," ",528],["T_COMMENT","\/\/ TODO support other versions\n",528],["T_WHITESPACE","        ",529],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","stdout",529],"(","\"",["T_ENCAPSED_AND_WHITESPACE","- wait for your changes to be propagated to the repo and create a tag ",529],["T_VARIABLE","$version",529],["T_ENCAPSED_AND_WHITESPACE"," on  https:\/\/github.com\/yiisoft\/yii2-framework\\n\\n",529],"\"",")",";",["T_WHITESPACE","\n        ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","stdout",530],"(","\"",["T_ENCAPSED_AND_WHITESPACE","- close the ",530],["T_VARIABLE","$version",530],["T_ENCAPSED_AND_WHITESPACE"," milestone on github and open new ones for ",530],["T_CURLY_OPEN","{",530],["T_VARIABLE","$nextVersion",530],"[",["T_CONSTANT_ENCAPSED_STRING","'framework'",530],"]","}",["T_ENCAPSED_AND_WHITESPACE"," and ",530],["T_CURLY_OPEN","{",530],["T_VARIABLE","$nextVersion2",530],"[",["T_CONSTANT_ENCAPSED_STRING","'framework'",530],"]","}",["T_ENCAPSED_AND_WHITESPACE",": https:\/\/github.com\/yiisoft\/yii2\/milestones\\n",530],"\"",")",";",["T_WHITESPACE","\n        ",530],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","stdout",531],"(",["T_CONSTANT_ENCAPSED_STRING","\"- create a release on github.\\n\"",531],")",";",["T_WHITESPACE","\n        ",531],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","stdout",532],"(",["T_CONSTANT_ENCAPSED_STRING","\"- release news and announcement.\\n\"",532],")",";",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","stdout",533],"(",["T_CONSTANT_ENCAPSED_STRING","\"- update the website (will be automated soon and is only relevant for the new website).\\n\"",533],")",";",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","stdout",534],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",534],")",";",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","stdout",535],"(",["T_CONSTANT_ENCAPSED_STRING","\"- release applications: .\/build\/build release app-basic\\n\"",535],")",";",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","stdout",536],"(",["T_CONSTANT_ENCAPSED_STRING","\"- release applications: .\/build\/build release app-advanced\\n\"",536],")",";",["T_WHITESPACE","\n\n        ",536],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","stdout",538],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",538],")",";",["T_WHITESPACE","\n\n    ",538],"}",["T_WHITESPACE","\n\n    ",540],["T_PROTECTED","protected",542],["T_WHITESPACE"," ",542],["T_FUNCTION","function",542],["T_WHITESPACE"," ",542],["T_STRING","releaseApplication",542],"(",["T_VARIABLE","$name",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$path",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$version",542],")",["T_WHITESPACE","\n    ",542],"{",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","stdout",544],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",544],")",";",["T_WHITESPACE","\n        ",544],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","stdout",545],"(",["T_VARIABLE","$h",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],"\"",["T_ENCAPSED_AND_WHITESPACE","Preparing release for application  ",545],["T_VARIABLE","$name",545],["T_ENCAPSED_AND_WHITESPACE","  version ",545],["T_VARIABLE","$version",545],"\"",",",["T_WHITESPACE"," ",545],["T_STRING","Console",545],["T_DOUBLE_COLON","::",545],["T_STRING","BOLD",545],")",";",["T_WHITESPACE","\n        ",545],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","stdout",546],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",546],["T_WHITESPACE"," ",546],".",["T_WHITESPACE"," ",546],["T_STRING","str_repeat",546],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",546],",",["T_WHITESPACE"," ",546],["T_STRING","strlen",546],"(",["T_VARIABLE","$h",546],")",")",["T_WHITESPACE"," ",546],".",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",546],",",["T_WHITESPACE"," ",546],["T_STRING","Console",546],["T_DOUBLE_COLON","::",546],["T_STRING","BOLD",546],")",";",["T_WHITESPACE","\n\n        ",546],["T_IF","if",548],["T_WHITESPACE"," ",548],"(","!",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","confirm",548],"(",["T_CONSTANT_ENCAPSED_STRING","'Make sure you are on the right branch for this release and that it tracks the correct remote branch! Continue?'",548],")",")",["T_WHITESPACE"," ",548],"{",["T_WHITESPACE","\n            ",548],["T_EXIT","exit",549],"(",["T_LNUMBER","1",549],")",";",["T_WHITESPACE","\n        ",549],"}",["T_WHITESPACE","\n        ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","runGit",551],"(",["T_CONSTANT_ENCAPSED_STRING","'git pull'",551],",",["T_WHITESPACE"," ",551],["T_VARIABLE","$path",551],")",";",["T_WHITESPACE","\n\n        ",551],["T_COMMENT","\/\/ adjustments\n",553],["T_WHITESPACE","\n        ",554],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","stdout",555],"(",["T_CONSTANT_ENCAPSED_STRING","\"fixing various PHPdoc style issues...\\n\"",555],",",["T_WHITESPACE"," ",555],["T_STRING","Console",555],["T_DOUBLE_COLON","::",555],["T_STRING","BOLD",555],")",";",["T_WHITESPACE","\n        ",555],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","setAppAliases",556],"(",["T_VARIABLE","$name",556],",",["T_WHITESPACE"," ",556],["T_VARIABLE","$path",556],")",";",["T_WHITESPACE","\n        ",556],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","dryRun",557],["T_WHITESPACE"," ",557],["T_BOOLEAN_OR","||",557],["T_WHITESPACE"," ",557],["T_STRING","Yii",557],["T_DOUBLE_COLON","::",557],["T_VARIABLE","$app",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","runAction",557],"(",["T_CONSTANT_ENCAPSED_STRING","'php-doc\/fix'",557],",",["T_WHITESPACE"," ",557],"[",["T_VARIABLE","$path",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'skipFrameworkRequirements'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_STRING","true",557],"]",")",";",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","resetAppAliases",558],"(",")",";",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","stdout",559],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",559],",",["T_WHITESPACE"," ",559],["T_STRING","Console",559],["T_DOUBLE_COLON","::",559],["T_STRING","FG_GREEN",559],",",["T_WHITESPACE"," ",559],["T_STRING","Console",559],["T_DOUBLE_COLON","::",559],["T_STRING","BOLD",559],")",";",["T_WHITESPACE","\n\n        ",559],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","stdout",561],"(",["T_CONSTANT_ENCAPSED_STRING","\"updating PHPdoc @property annotations...\\n\"",561],",",["T_WHITESPACE"," ",561],["T_STRING","Console",561],["T_DOUBLE_COLON","::",561],["T_STRING","BOLD",561],")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","setAppAliases",562],"(",["T_VARIABLE","$name",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$path",562],")",";",["T_WHITESPACE","\n        ",562],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","dryRun",563],["T_WHITESPACE"," ",563],["T_BOOLEAN_OR","||",563],["T_WHITESPACE"," ",563],["T_STRING","Yii",563],["T_DOUBLE_COLON","::",563],["T_VARIABLE","$app",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","runAction",563],"(",["T_CONSTANT_ENCAPSED_STRING","'php-doc\/property'",563],",",["T_WHITESPACE"," ",563],"[",["T_VARIABLE","$path",563],",",["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'skipFrameworkRequirements'",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_STRING","true",563],"]",")",";",["T_WHITESPACE","\n        ",563],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","resetAppAliases",564],"(",")",";",["T_WHITESPACE","\n        ",564],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","stdout",565],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",565],",",["T_WHITESPACE"," ",565],["T_STRING","Console",565],["T_DOUBLE_COLON","::",565],["T_STRING","FG_GREEN",565],",",["T_WHITESPACE"," ",565],["T_STRING","Console",565],["T_DOUBLE_COLON","::",565],["T_STRING","BOLD",565],")",";",["T_WHITESPACE","\n\n        ",565],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","stdout",567],"(",["T_CONSTANT_ENCAPSED_STRING","\"updating composer stability...\\n\"",567],",",["T_WHITESPACE"," ",567],["T_STRING","Console",567],["T_DOUBLE_COLON","::",567],["T_STRING","BOLD",567],")",";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","dryRun",568],["T_WHITESPACE"," ",568],["T_BOOLEAN_OR","||",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","composerSetStability",568],"(","[","\"",["T_ENCAPSED_AND_WHITESPACE","app-",568],["T_VARIABLE","$name",568],"\"","]",",",["T_WHITESPACE"," ",568],["T_VARIABLE","$version",568],")",";",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","stdout",569],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",569],",",["T_WHITESPACE"," ",569],["T_STRING","Console",569],["T_DOUBLE_COLON","::",569],["T_STRING","FG_GREEN",569],",",["T_WHITESPACE"," ",569],["T_STRING","Console",569],["T_DOUBLE_COLON","::",569],["T_STRING","BOLD",569],")",";",["T_WHITESPACE","\n\n        ",569],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","stdout",571],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\nIn the following you can check the above changes using git diff.\\n\\n\"",571],")",";",["T_WHITESPACE","\n        ",571],["T_DO","do",572],["T_WHITESPACE"," ",572],"{",["T_WHITESPACE","\n            ",572],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","runGit",573],"(",["T_CONSTANT_ENCAPSED_STRING","\"git diff --color\"",573],",",["T_WHITESPACE"," ",573],["T_VARIABLE","$path",573],")",";",["T_WHITESPACE","\n            ",573],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","stdout",574],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\\nCheck whether the above diff is okay, if not you may change things as needed before continuing.\\n\"",574],")",";",["T_WHITESPACE","\n            ",574],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","stdout",575],"(",["T_CONSTANT_ENCAPSED_STRING","\"You may abort the program with Ctrl + C and reset the changes by running `git checkout -- .` in the repo.\\n\\n\"",575],")",";",["T_WHITESPACE","\n        ",575],"}",["T_WHITESPACE"," ",576],["T_WHILE","while",576],"(","!",["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","confirm",576],"(",["T_CONSTANT_ENCAPSED_STRING","\"Type `yes` to continue, `no` to view git diff again. Continue?\"",576],")",")",";",["T_WHITESPACE","\n\n        ",576],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","stdout",578],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",578],")",";",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","stdout",579],"(",["T_CONSTANT_ENCAPSED_STRING","\"    ****          RELEASE TIME!         ****\\n\"",579],",",["T_WHITESPACE"," ",579],["T_STRING","Console",579],["T_DOUBLE_COLON","::",579],["T_STRING","FG_YELLOW",579],",",["T_WHITESPACE"," ",579],["T_STRING","Console",579],["T_DOUBLE_COLON","::",579],["T_STRING","BOLD",579],")",";",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","stdout",580],"(",["T_CONSTANT_ENCAPSED_STRING","\"    ****    Commit, Tag and Push it!    ****\\n\"",580],",",["T_WHITESPACE"," ",580],["T_STRING","Console",580],["T_DOUBLE_COLON","::",580],["T_STRING","FG_YELLOW",580],",",["T_WHITESPACE"," ",580],["T_STRING","Console",580],["T_DOUBLE_COLON","::",580],["T_STRING","BOLD",580],")",";",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","stdout",581],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\nHint: if you decide 'no' for any of the following, the command will not be executed. You may manually run them later if needed. E.g. try the release locally without pushing it.\\n\\n\"",581],")",";",["T_WHITESPACE","\n\n        ",581],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","stdout",583],"(",["T_CONSTANT_ENCAPSED_STRING","\"Make sure to have your git set up for GPG signing. The following tag and commit should be signed.\\n\\n\"",583],")",";",["T_WHITESPACE","\n\n        ",583],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","runGit",585],"(","\"",["T_ENCAPSED_AND_WHITESPACE","git commit -S -a -m \\\"release version ",585],["T_VARIABLE","$version",585],["T_ENCAPSED_AND_WHITESPACE","\\\"",585],"\"",",",["T_WHITESPACE"," ",585],["T_VARIABLE","$path",585],")",";",["T_WHITESPACE","\n        ",585],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","runGit",586],"(","\"",["T_ENCAPSED_AND_WHITESPACE","git tag -s ",586],["T_VARIABLE","$version",586],["T_ENCAPSED_AND_WHITESPACE"," -m \\\"version ",586],["T_VARIABLE","$version",586],["T_ENCAPSED_AND_WHITESPACE","\\\"",586],"\"",",",["T_WHITESPACE"," ",586],["T_VARIABLE","$path",586],")",";",["T_WHITESPACE","\n        ",586],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","runGit",587],"(",["T_CONSTANT_ENCAPSED_STRING","\"git push\"",587],",",["T_WHITESPACE"," ",587],["T_VARIABLE","$path",587],")",";",["T_WHITESPACE","\n        ",587],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","runGit",588],"(",["T_CONSTANT_ENCAPSED_STRING","\"git push --tags\"",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$path",588],")",";",["T_WHITESPACE","\n\n        ",588],["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","stdout",590],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",590],")",";",["T_WHITESPACE","\n        ",590],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","stdout",591],"(",["T_CONSTANT_ENCAPSED_STRING","\"CONGRATULATIONS! You have just released application \"",591],",",["T_WHITESPACE"," ",591],["T_STRING","Console",591],["T_DOUBLE_COLON","::",591],["T_STRING","FG_YELLOW",591],",",["T_WHITESPACE"," ",591],["T_STRING","Console",591],["T_DOUBLE_COLON","::",591],["T_STRING","BOLD",591],")",";",["T_WHITESPACE","\n        ",591],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","stdout",592],"(",["T_VARIABLE","$name",592],",",["T_WHITESPACE"," ",592],["T_STRING","Console",592],["T_DOUBLE_COLON","::",592],["T_STRING","FG_RED",592],",",["T_WHITESPACE"," ",592],["T_STRING","Console",592],["T_DOUBLE_COLON","::",592],["T_STRING","BOLD",592],")",";",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","stdout",593],"(",["T_CONSTANT_ENCAPSED_STRING","\" version \"",593],",",["T_WHITESPACE"," ",593],["T_STRING","Console",593],["T_DOUBLE_COLON","::",593],["T_STRING","FG_YELLOW",593],",",["T_WHITESPACE"," ",593],["T_STRING","Console",593],["T_DOUBLE_COLON","::",593],["T_STRING","BOLD",593],")",";",["T_WHITESPACE","\n        ",593],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","stdout",594],"(",["T_VARIABLE","$version",594],",",["T_WHITESPACE"," ",594],["T_STRING","Console",594],["T_DOUBLE_COLON","::",594],["T_STRING","BOLD",594],")",";",["T_WHITESPACE","\n        ",594],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","stdout",595],"(",["T_CONSTANT_ENCAPSED_STRING","\"!\\n\\n\"",595],",",["T_WHITESPACE"," ",595],["T_STRING","Console",595],["T_DOUBLE_COLON","::",595],["T_STRING","FG_YELLOW",595],",",["T_WHITESPACE"," ",595],["T_STRING","Console",595],["T_DOUBLE_COLON","::",595],["T_STRING","BOLD",595],")",";",["T_WHITESPACE","\n\n        ",595],["T_COMMENT","\/\/ prepare next release\n",597],["T_WHITESPACE","\n        ",598],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","stdout",599],"(",["T_CONSTANT_ENCAPSED_STRING","\"Time to prepare the next release...\\n\\n\"",599],",",["T_WHITESPACE"," ",599],["T_STRING","Console",599],["T_DOUBLE_COLON","::",599],["T_STRING","FG_YELLOW",599],",",["T_WHITESPACE"," ",599],["T_STRING","Console",599],["T_DOUBLE_COLON","::",599],["T_STRING","BOLD",599],")",";",["T_WHITESPACE","\n\n        ",599],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","stdout",601],"(",["T_CONSTANT_ENCAPSED_STRING","\"updating composer stability...\\n\"",601],",",["T_WHITESPACE"," ",601],["T_STRING","Console",601],["T_DOUBLE_COLON","::",601],["T_STRING","BOLD",601],")",";",["T_WHITESPACE","\n        ",601],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","dryRun",602],["T_WHITESPACE"," ",602],["T_BOOLEAN_OR","||",602],["T_WHITESPACE"," ",602],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","composerSetStability",602],"(","[","\"",["T_ENCAPSED_AND_WHITESPACE","app-",602],["T_VARIABLE","$name",602],"\"","]",",",["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","'dev'",602],")",";",["T_WHITESPACE","\n        ",602],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","stdout",603],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",603],",",["T_WHITESPACE"," ",603],["T_STRING","Console",603],["T_DOUBLE_COLON","::",603],["T_STRING","FG_GREEN",603],",",["T_WHITESPACE"," ",603],["T_STRING","Console",603],["T_DOUBLE_COLON","::",603],["T_STRING","BOLD",603],")",";",["T_WHITESPACE","\n\n        ",603],["T_VARIABLE","$nextVersion",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","getNextVersions",605],"(","[","\"",["T_ENCAPSED_AND_WHITESPACE","app-",605],["T_VARIABLE","$name",605],"\"",["T_WHITESPACE"," ",605],["T_DOUBLE_ARROW","=>",605],["T_WHITESPACE"," ",605],["T_VARIABLE","$version",605],"]",",",["T_WHITESPACE"," ",605],["T_STRING","self",605],["T_DOUBLE_COLON","::",605],["T_STRING","PATCH",605],")",";",["T_WHITESPACE"," ",605],["T_COMMENT","\/\/ TODO support other versions\n",605],["T_WHITESPACE","\n        ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","stdout",607],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",607],")",";",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","runGit",608],"(",["T_CONSTANT_ENCAPSED_STRING","\"git diff --color\"",608],",",["T_WHITESPACE"," ",608],["T_VARIABLE","$path",608],")",";",["T_WHITESPACE","\n        ",608],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","stdout",609],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",609],")",";",["T_WHITESPACE","\n        ",609],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","runGit",610],"(",["T_CONSTANT_ENCAPSED_STRING","\"git commit -a -m \\\"prepare for next release\\\"\"",610],",",["T_WHITESPACE"," ",610],["T_VARIABLE","$path",610],")",";",["T_WHITESPACE","\n        ",610],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","runGit",611],"(",["T_CONSTANT_ENCAPSED_STRING","\"git push\"",611],",",["T_WHITESPACE"," ",611],["T_VARIABLE","$path",611],")",";",["T_WHITESPACE","\n\n        ",611],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","stdout",613],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\nDONE!\"",613],",",["T_WHITESPACE"," ",613],["T_STRING","Console",613],["T_DOUBLE_COLON","::",613],["T_STRING","FG_YELLOW",613],",",["T_WHITESPACE"," ",613],["T_STRING","Console",613],["T_DOUBLE_COLON","::",613],["T_STRING","BOLD",613],")",";",["T_WHITESPACE","\n\n        ",613],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","stdout",615],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\nThe following steps are left for you to do manually:\\n\\n\"",615],")",";",["T_WHITESPACE","\n        ",615],["T_VARIABLE","$nextVersion2",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","getNextVersions",616],"(",["T_VARIABLE","$nextVersion",616],",",["T_WHITESPACE"," ",616],["T_STRING","self",616],["T_DOUBLE_COLON","::",616],["T_STRING","PATCH",616],")",";",["T_WHITESPACE"," ",616],["T_COMMENT","\/\/ TODO support other versions\n",616],["T_WHITESPACE","        ",617],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","stdout",617],"(","\"",["T_ENCAPSED_AND_WHITESPACE","- close the ",617],["T_VARIABLE","$version",617],["T_ENCAPSED_AND_WHITESPACE"," milestone on github and open new ones for ",617],["T_CURLY_OPEN","{",617],["T_VARIABLE","$nextVersion",617],"[","\"",["T_ENCAPSED_AND_WHITESPACE","app-",617],["T_VARIABLE","$name",617],"\"","]","}",["T_ENCAPSED_AND_WHITESPACE"," and ",617],["T_CURLY_OPEN","{",617],["T_VARIABLE","$nextVersion2",617],"[","\"",["T_ENCAPSED_AND_WHITESPACE","app-",617],["T_VARIABLE","$name",617],"\"","]","}",["T_ENCAPSED_AND_WHITESPACE",": https:\/\/github.com\/yiisoft\/yii2-app-",617],["T_VARIABLE","$name",617],["T_ENCAPSED_AND_WHITESPACE","\/milestones\\n",617],"\"",")",";",["T_WHITESPACE","\n        ",617],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","stdout",618],"(","\"",["T_ENCAPSED_AND_WHITESPACE","- Create Application packages and upload them to github:  .\/build release\/package app-",618],["T_VARIABLE","$name",618],["T_ENCAPSED_AND_WHITESPACE","\\n",618],"\"",")",";",["T_WHITESPACE","\n\n        ",618],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","stdout",620],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",620],")",";",["T_WHITESPACE","\n    ",620],"}",["T_WHITESPACE","\n\n    ",621],["T_PRIVATE","private",623],["T_WHITESPACE"," ",623],["T_VARIABLE","$_oldAlias",623],";",["T_WHITESPACE","\n\n    ",623],["T_PROTECTED","protected",625],["T_WHITESPACE"," ",625],["T_FUNCTION","function",625],["T_WHITESPACE"," ",625],["T_STRING","setAppAliases",625],"(",["T_VARIABLE","$app",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$path",625],")",["T_WHITESPACE","\n    ",625],"{",["T_WHITESPACE","\n        ",626],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","_oldAlias",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_STRING","Yii",627],["T_DOUBLE_COLON","::",627],["T_STRING","getAlias",627],"(",["T_CONSTANT_ENCAPSED_STRING","'@app'",627],")",";",["T_WHITESPACE","\n        ",627],["T_SWITCH","switch",628],"(",["T_VARIABLE","$app",628],")",["T_WHITESPACE"," ",628],"{",["T_WHITESPACE","\n            ",628],["T_CASE","case",629],["T_WHITESPACE"," ",629],["T_CONSTANT_ENCAPSED_STRING","'basic'",629],":",["T_WHITESPACE","\n                ",629],["T_STRING","Yii",630],["T_DOUBLE_COLON","::",630],["T_STRING","setAlias",630],"(",["T_CONSTANT_ENCAPSED_STRING","'@app'",630],",",["T_WHITESPACE"," ",630],["T_VARIABLE","$path",630],")",";",["T_WHITESPACE","\n                ",630],["T_BREAK","break",631],";",["T_WHITESPACE","\n            ",631],["T_CASE","case",632],["T_WHITESPACE"," ",632],["T_CONSTANT_ENCAPSED_STRING","'advanced'",632],":",["T_WHITESPACE","\n                ",632],["T_COMMENT","\/\/ setup @frontend, @backend etc...\n",633],["T_WHITESPACE","                ",634],["T_REQUIRE","require",634],"(","\"",["T_VARIABLE","$path",634],["T_ENCAPSED_AND_WHITESPACE","\/common\/config\/bootstrap.php",634],"\"",")",";",["T_WHITESPACE","\n                ",634],["T_BREAK","break",635],";",["T_WHITESPACE","\n        ",635],"}",["T_WHITESPACE","\n    ",636],"}",["T_WHITESPACE","\n\n    ",637],["T_PROTECTED","protected",639],["T_WHITESPACE"," ",639],["T_FUNCTION","function",639],["T_WHITESPACE"," ",639],["T_STRING","resetAppAliases",639],"(",")",["T_WHITESPACE","\n    ",639],"{",["T_WHITESPACE","\n        ",640],["T_STRING","Yii",641],["T_DOUBLE_COLON","::",641],["T_STRING","setAlias",641],"(",["T_CONSTANT_ENCAPSED_STRING","'@app'",641],",",["T_WHITESPACE"," ",641],["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","_oldAlias",641],")",";",["T_WHITESPACE","\n    ",641],"}",["T_WHITESPACE","\n\n    ",642],["T_PROTECTED","protected",644],["T_WHITESPACE"," ",644],["T_FUNCTION","function",644],["T_WHITESPACE"," ",644],["T_STRING","packageApplication",644],"(",["T_VARIABLE","$name",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$version",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$packagePath",644],")",["T_WHITESPACE","\n    ",644],"{",["T_WHITESPACE","\n        ",645],["T_STRING","FileHelper",646],["T_DOUBLE_COLON","::",646],["T_STRING","createDirectory",646],"(",["T_VARIABLE","$packagePath",646],")",";",["T_WHITESPACE","\n\n        ",646],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","runCommand",648],"(","\"",["T_ENCAPSED_AND_WHITESPACE","composer create-project yiisoft\/yii2-app-",648],["T_VARIABLE","$name",648],["T_ENCAPSED_AND_WHITESPACE"," ",648],["T_VARIABLE","$name",648],["T_ENCAPSED_AND_WHITESPACE"," ",648],["T_VARIABLE","$version",648],"\"",",",["T_WHITESPACE"," ",648],["T_VARIABLE","$packagePath",648],")",";",["T_WHITESPACE","\n        ",648],["T_COMMENT","\/\/ clear cookie validation key in basic app\n",649],["T_WHITESPACE","        ",650],["T_IF","if",650],["T_WHITESPACE"," ",650],"(",["T_STRING","is_file",650],"(",["T_VARIABLE","$configFile",650],["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],"\"",["T_VARIABLE","$packagePath",650],["T_ENCAPSED_AND_WHITESPACE","\/",650],["T_VARIABLE","$name",650],["T_ENCAPSED_AND_WHITESPACE","\/config\/web.php",650],"\"",")",")",["T_WHITESPACE"," ",650],"{",["T_WHITESPACE","\n            ",650],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","sed",651],"(",["T_WHITESPACE","\n                ",651],["T_CONSTANT_ENCAPSED_STRING","\"\/'cookieValidationKey' => '.*?',\/\"",652],",",["T_WHITESPACE","\n                ",652],["T_CONSTANT_ENCAPSED_STRING","\"'cookieValidationKey' => '',\"",653],",",["T_WHITESPACE","\n                ",653],["T_VARIABLE","$configFile",654],["T_WHITESPACE","\n            ",654],")",";",["T_WHITESPACE","\n        ",655],"}",["T_WHITESPACE","\n        ",656],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","runCommand",657],"(","\"",["T_ENCAPSED_AND_WHITESPACE","tar zcf yii-",657],["T_VARIABLE","$name",657],["T_ENCAPSED_AND_WHITESPACE","-app-",657],["T_VARIABLE","$version",657],["T_ENCAPSED_AND_WHITESPACE",".tgz ",657],["T_VARIABLE","$name",657],"\"",",",["T_WHITESPACE"," ",657],["T_VARIABLE","$packagePath",657],")",";",["T_WHITESPACE","\n    ",657],"}",["T_WHITESPACE","\n\n    ",658],["T_PROTECTED","protected",660],["T_WHITESPACE"," ",660],["T_FUNCTION","function",660],["T_WHITESPACE"," ",660],["T_STRING","releaseExtension",660],"(",["T_VARIABLE","$name",660],",",["T_WHITESPACE"," ",660],["T_VARIABLE","$path",660],",",["T_WHITESPACE"," ",660],["T_VARIABLE","$version",660],")",["T_WHITESPACE","\n    ",660],"{",["T_WHITESPACE","\n        ",661],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","stdout",662],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",662],")",";",["T_WHITESPACE","\n        ",662],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","stdout",663],"(",["T_VARIABLE","$h",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],"\"",["T_ENCAPSED_AND_WHITESPACE","Preparing release for extension  ",663],["T_VARIABLE","$name",663],["T_ENCAPSED_AND_WHITESPACE","  version ",663],["T_VARIABLE","$version",663],"\"",",",["T_WHITESPACE"," ",663],["T_STRING","Console",663],["T_DOUBLE_COLON","::",663],["T_STRING","BOLD",663],")",";",["T_WHITESPACE","\n        ",663],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","stdout",664],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",664],["T_WHITESPACE"," ",664],".",["T_WHITESPACE"," ",664],["T_STRING","str_repeat",664],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",664],",",["T_WHITESPACE"," ",664],["T_STRING","strlen",664],"(",["T_VARIABLE","$h",664],")",")",["T_WHITESPACE"," ",664],".",["T_WHITESPACE"," ",664],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",664],",",["T_WHITESPACE"," ",664],["T_STRING","Console",664],["T_DOUBLE_COLON","::",664],["T_STRING","BOLD",664],")",";",["T_WHITESPACE","\n\n        ",664],["T_IF","if",666],["T_WHITESPACE"," ",666],"(","!",["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","confirm",666],"(",["T_CONSTANT_ENCAPSED_STRING","'Make sure you are on the right branch for this release and that it tracks the correct remote branch! Continue?'",666],")",")",["T_WHITESPACE"," ",666],"{",["T_WHITESPACE","\n            ",666],["T_EXIT","exit",667],"(",["T_LNUMBER","1",667],")",";",["T_WHITESPACE","\n        ",667],"}",["T_WHITESPACE","\n        ",668],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","runGit",669],"(",["T_CONSTANT_ENCAPSED_STRING","'git pull'",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$path",669],")",";",["T_WHITESPACE","\n\n        ",669],["T_COMMENT","\/\/ adjustments\n",671],["T_WHITESPACE","\n        ",672],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","stdout",673],"(",["T_CONSTANT_ENCAPSED_STRING","\"fixing various PHPdoc style issues...\\n\"",673],",",["T_WHITESPACE"," ",673],["T_STRING","Console",673],["T_DOUBLE_COLON","::",673],["T_STRING","BOLD",673],")",";",["T_WHITESPACE","\n        ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","dryRun",674],["T_WHITESPACE"," ",674],["T_BOOLEAN_OR","||",674],["T_WHITESPACE"," ",674],["T_STRING","Yii",674],["T_DOUBLE_COLON","::",674],["T_VARIABLE","$app",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","runAction",674],"(",["T_CONSTANT_ENCAPSED_STRING","'php-doc\/fix'",674],",",["T_WHITESPACE"," ",674],"[",["T_VARIABLE","$path",674],"]",")",";",["T_WHITESPACE","\n        ",674],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","stdout",675],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",675],",",["T_WHITESPACE"," ",675],["T_STRING","Console",675],["T_DOUBLE_COLON","::",675],["T_STRING","FG_GREEN",675],",",["T_WHITESPACE"," ",675],["T_STRING","Console",675],["T_DOUBLE_COLON","::",675],["T_STRING","BOLD",675],")",";",["T_WHITESPACE","\n\n        ",675],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","stdout",677],"(",["T_CONSTANT_ENCAPSED_STRING","\"updating PHPdoc @property annotations...\\n\"",677],",",["T_WHITESPACE"," ",677],["T_STRING","Console",677],["T_DOUBLE_COLON","::",677],["T_STRING","BOLD",677],")",";",["T_WHITESPACE","\n        ",677],["T_VARIABLE","$this",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","dryRun",678],["T_WHITESPACE"," ",678],["T_BOOLEAN_OR","||",678],["T_WHITESPACE"," ",678],["T_STRING","Yii",678],["T_DOUBLE_COLON","::",678],["T_VARIABLE","$app",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","runAction",678],"(",["T_CONSTANT_ENCAPSED_STRING","'php-doc\/property'",678],",",["T_WHITESPACE"," ",678],"[",["T_VARIABLE","$path",678],"]",")",";",["T_WHITESPACE","\n        ",678],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","stdout",679],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",679],",",["T_WHITESPACE"," ",679],["T_STRING","Console",679],["T_DOUBLE_COLON","::",679],["T_STRING","FG_GREEN",679],",",["T_WHITESPACE"," ",679],["T_STRING","Console",679],["T_DOUBLE_COLON","::",679],["T_STRING","BOLD",679],")",";",["T_WHITESPACE","\n\n        ",679],["T_VARIABLE","$this",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","stdout",681],"(",["T_CONSTANT_ENCAPSED_STRING","'sorting changelogs...'",681],",",["T_WHITESPACE"," ",681],["T_STRING","Console",681],["T_DOUBLE_COLON","::",681],["T_STRING","BOLD",681],")",";",["T_WHITESPACE","\n        ",681],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","dryRun",682],["T_WHITESPACE"," ",682],["T_BOOLEAN_OR","||",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","resortChangelogs",682],"(","[",["T_VARIABLE","$name",682],"]",",",["T_WHITESPACE"," ",682],["T_VARIABLE","$version",682],")",";",["T_WHITESPACE","\n        ",682],["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","stdout",683],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",683],",",["T_WHITESPACE"," ",683],["T_STRING","Console",683],["T_DOUBLE_COLON","::",683],["T_STRING","FG_GREEN",683],",",["T_WHITESPACE"," ",683],["T_STRING","Console",683],["T_DOUBLE_COLON","::",683],["T_STRING","BOLD",683],")",";",["T_WHITESPACE","\n\n        ",683],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","stdout",685],"(",["T_CONSTANT_ENCAPSED_STRING","'closing changelogs...'",685],",",["T_WHITESPACE"," ",685],["T_STRING","Console",685],["T_DOUBLE_COLON","::",685],["T_STRING","BOLD",685],")",";",["T_WHITESPACE","\n        ",685],["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","dryRun",686],["T_WHITESPACE"," ",686],["T_BOOLEAN_OR","||",686],["T_WHITESPACE"," ",686],["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","closeChangelogs",686],"(","[",["T_VARIABLE","$name",686],"]",",",["T_WHITESPACE"," ",686],["T_VARIABLE","$version",686],")",";",["T_WHITESPACE","\n        ",686],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","stdout",687],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",687],",",["T_WHITESPACE"," ",687],["T_STRING","Console",687],["T_DOUBLE_COLON","::",687],["T_STRING","FG_GREEN",687],",",["T_WHITESPACE"," ",687],["T_STRING","Console",687],["T_DOUBLE_COLON","::",687],["T_STRING","BOLD",687],")",";",["T_WHITESPACE","\n\n        ",687],["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","stdout",689],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\nIn the following you can check the above changes using git diff.\\n\\n\"",689],")",";",["T_WHITESPACE","\n        ",689],["T_DO","do",690],["T_WHITESPACE"," ",690],"{",["T_WHITESPACE","\n            ",690],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","runGit",691],"(",["T_CONSTANT_ENCAPSED_STRING","\"git diff --color\"",691],",",["T_WHITESPACE"," ",691],["T_VARIABLE","$path",691],")",";",["T_WHITESPACE","\n            ",691],["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","stdout",692],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\\nCheck whether the above diff is okay, if not you may change things as needed before continuing.\\n\"",692],")",";",["T_WHITESPACE","\n            ",692],["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","stdout",693],"(",["T_CONSTANT_ENCAPSED_STRING","\"You may abort the program with Ctrl + C and reset the changes by running `git checkout -- .` in the repo.\\n\\n\"",693],")",";",["T_WHITESPACE","\n        ",693],"}",["T_WHITESPACE"," ",694],["T_WHILE","while",694],"(","!",["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","confirm",694],"(",["T_CONSTANT_ENCAPSED_STRING","\"Type `yes` to continue, `no` to view git diff again. Continue?\"",694],")",")",";",["T_WHITESPACE","\n\n        ",694],["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","stdout",696],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",696],")",";",["T_WHITESPACE","\n        ",696],["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","stdout",697],"(",["T_CONSTANT_ENCAPSED_STRING","\"    ****          RELEASE TIME!         ****\\n\"",697],",",["T_WHITESPACE"," ",697],["T_STRING","Console",697],["T_DOUBLE_COLON","::",697],["T_STRING","FG_YELLOW",697],",",["T_WHITESPACE"," ",697],["T_STRING","Console",697],["T_DOUBLE_COLON","::",697],["T_STRING","BOLD",697],")",";",["T_WHITESPACE","\n        ",697],["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","stdout",698],"(",["T_CONSTANT_ENCAPSED_STRING","\"    ****    Commit, Tag and Push it!    ****\\n\"",698],",",["T_WHITESPACE"," ",698],["T_STRING","Console",698],["T_DOUBLE_COLON","::",698],["T_STRING","FG_YELLOW",698],",",["T_WHITESPACE"," ",698],["T_STRING","Console",698],["T_DOUBLE_COLON","::",698],["T_STRING","BOLD",698],")",";",["T_WHITESPACE","\n        ",698],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","stdout",699],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\nHint: if you decide 'no' for any of the following, the command will not be executed. You may manually run them later if needed. E.g. try the release locally without pushing it.\\n\\n\"",699],")",";",["T_WHITESPACE","\n\n        ",699],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","stdout",701],"(",["T_CONSTANT_ENCAPSED_STRING","\"Make sure to have your git set up for GPG signing. The following tag and commit should be signed.\\n\\n\"",701],")",";",["T_WHITESPACE","\n\n        ",701],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","runGit",703],"(","\"",["T_ENCAPSED_AND_WHITESPACE","git commit -S -a -m \\\"release version ",703],["T_VARIABLE","$version",703],["T_ENCAPSED_AND_WHITESPACE","\\\"",703],"\"",",",["T_WHITESPACE"," ",703],["T_VARIABLE","$path",703],")",";",["T_WHITESPACE","\n        ",703],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","runGit",704],"(","\"",["T_ENCAPSED_AND_WHITESPACE","git tag -s ",704],["T_VARIABLE","$version",704],["T_ENCAPSED_AND_WHITESPACE"," -m \\\"version ",704],["T_VARIABLE","$version",704],["T_ENCAPSED_AND_WHITESPACE","\\\"",704],"\"",",",["T_WHITESPACE"," ",704],["T_VARIABLE","$path",704],")",";",["T_WHITESPACE","\n        ",704],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","runGit",705],"(",["T_CONSTANT_ENCAPSED_STRING","\"git push\"",705],",",["T_WHITESPACE"," ",705],["T_VARIABLE","$path",705],")",";",["T_WHITESPACE","\n        ",705],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","runGit",706],"(",["T_CONSTANT_ENCAPSED_STRING","\"git push --tags\"",706],",",["T_WHITESPACE"," ",706],["T_VARIABLE","$path",706],")",";",["T_WHITESPACE","\n\n        ",706],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","stdout",708],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",708],")",";",["T_WHITESPACE","\n        ",708],["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","stdout",709],"(",["T_CONSTANT_ENCAPSED_STRING","\"CONGRATULATIONS! You have just released extension \"",709],",",["T_WHITESPACE"," ",709],["T_STRING","Console",709],["T_DOUBLE_COLON","::",709],["T_STRING","FG_YELLOW",709],",",["T_WHITESPACE"," ",709],["T_STRING","Console",709],["T_DOUBLE_COLON","::",709],["T_STRING","BOLD",709],")",";",["T_WHITESPACE","\n        ",709],["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","stdout",710],"(",["T_VARIABLE","$name",710],",",["T_WHITESPACE"," ",710],["T_STRING","Console",710],["T_DOUBLE_COLON","::",710],["T_STRING","FG_RED",710],",",["T_WHITESPACE"," ",710],["T_STRING","Console",710],["T_DOUBLE_COLON","::",710],["T_STRING","BOLD",710],")",";",["T_WHITESPACE","\n        ",710],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","stdout",711],"(",["T_CONSTANT_ENCAPSED_STRING","\" version \"",711],",",["T_WHITESPACE"," ",711],["T_STRING","Console",711],["T_DOUBLE_COLON","::",711],["T_STRING","FG_YELLOW",711],",",["T_WHITESPACE"," ",711],["T_STRING","Console",711],["T_DOUBLE_COLON","::",711],["T_STRING","BOLD",711],")",";",["T_WHITESPACE","\n        ",711],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","stdout",712],"(",["T_VARIABLE","$version",712],",",["T_WHITESPACE"," ",712],["T_STRING","Console",712],["T_DOUBLE_COLON","::",712],["T_STRING","BOLD",712],")",";",["T_WHITESPACE","\n        ",712],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","stdout",713],"(",["T_CONSTANT_ENCAPSED_STRING","\"!\\n\\n\"",713],",",["T_WHITESPACE"," ",713],["T_STRING","Console",713],["T_DOUBLE_COLON","::",713],["T_STRING","FG_YELLOW",713],",",["T_WHITESPACE"," ",713],["T_STRING","Console",713],["T_DOUBLE_COLON","::",713],["T_STRING","BOLD",713],")",";",["T_WHITESPACE","\n\n        ",713],["T_COMMENT","\/\/ prepare next release\n",715],["T_WHITESPACE","\n        ",716],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","stdout",717],"(",["T_CONSTANT_ENCAPSED_STRING","\"Time to prepare the next release...\\n\\n\"",717],",",["T_WHITESPACE"," ",717],["T_STRING","Console",717],["T_DOUBLE_COLON","::",717],["T_STRING","FG_YELLOW",717],",",["T_WHITESPACE"," ",717],["T_STRING","Console",717],["T_DOUBLE_COLON","::",717],["T_STRING","BOLD",717],")",";",["T_WHITESPACE","\n\n        ",717],["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","stdout",719],"(",["T_CONSTANT_ENCAPSED_STRING","'opening changelogs...'",719],",",["T_WHITESPACE"," ",719],["T_STRING","Console",719],["T_DOUBLE_COLON","::",719],["T_STRING","BOLD",719],")",";",["T_WHITESPACE","\n        ",719],["T_VARIABLE","$nextVersion",720],["T_WHITESPACE"," ",720],"=",["T_WHITESPACE"," ",720],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","getNextVersions",720],"(","[",["T_VARIABLE","$name",720],["T_WHITESPACE"," ",720],["T_DOUBLE_ARROW","=>",720],["T_WHITESPACE"," ",720],["T_VARIABLE","$version",720],"]",",",["T_WHITESPACE"," ",720],["T_STRING","self",720],["T_DOUBLE_COLON","::",720],["T_STRING","PATCH",720],")",";",["T_WHITESPACE"," ",720],["T_COMMENT","\/\/ TODO support other versions\n",720],["T_WHITESPACE","        ",721],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","dryRun",721],["T_WHITESPACE"," ",721],["T_BOOLEAN_OR","||",721],["T_WHITESPACE"," ",721],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","openChangelogs",721],"(","[",["T_VARIABLE","$name",721],"]",",",["T_WHITESPACE"," ",721],["T_VARIABLE","$nextVersion",721],"[",["T_VARIABLE","$name",721],"]",")",";",["T_WHITESPACE","\n        ",721],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","stdout",722],"(",["T_CONSTANT_ENCAPSED_STRING","\"done.\\n\"",722],",",["T_WHITESPACE"," ",722],["T_STRING","Console",722],["T_DOUBLE_COLON","::",722],["T_STRING","FG_GREEN",722],",",["T_WHITESPACE"," ",722],["T_STRING","Console",722],["T_DOUBLE_COLON","::",722],["T_STRING","BOLD",722],")",";",["T_WHITESPACE","\n\n        ",722],["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","stdout",724],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",724],")",";",["T_WHITESPACE","\n        ",724],["T_VARIABLE","$this",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","runGit",725],"(",["T_CONSTANT_ENCAPSED_STRING","\"git diff --color\"",725],",",["T_WHITESPACE"," ",725],["T_VARIABLE","$path",725],")",";",["T_WHITESPACE","\n        ",725],["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","stdout",726],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",726],")",";",["T_WHITESPACE","\n        ",726],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","runGit",727],"(",["T_CONSTANT_ENCAPSED_STRING","\"git commit -a -m \\\"prepare for next release\\\"\"",727],",",["T_WHITESPACE"," ",727],["T_VARIABLE","$path",727],")",";",["T_WHITESPACE","\n        ",727],["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","runGit",728],"(",["T_CONSTANT_ENCAPSED_STRING","\"git push\"",728],",",["T_WHITESPACE"," ",728],["T_VARIABLE","$path",728],")",";",["T_WHITESPACE","\n\n        ",728],["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","stdout",730],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\nDONE!\"",730],",",["T_WHITESPACE"," ",730],["T_STRING","Console",730],["T_DOUBLE_COLON","::",730],["T_STRING","FG_YELLOW",730],",",["T_WHITESPACE"," ",730],["T_STRING","Console",730],["T_DOUBLE_COLON","::",730],["T_STRING","BOLD",730],")",";",["T_WHITESPACE","\n\n        ",730],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","stdout",732],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\nThe following steps are left for you to do manually:\\n\\n\"",732],")",";",["T_WHITESPACE","\n        ",732],["T_VARIABLE","$nextVersion2",733],["T_WHITESPACE"," ",733],"=",["T_WHITESPACE"," ",733],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","getNextVersions",733],"(",["T_VARIABLE","$nextVersion",733],",",["T_WHITESPACE"," ",733],["T_STRING","self",733],["T_DOUBLE_COLON","::",733],["T_STRING","PATCH",733],")",";",["T_WHITESPACE"," ",733],["T_COMMENT","\/\/ TODO support other versions\n",733],["T_WHITESPACE","        ",734],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","stdout",734],"(","\"",["T_ENCAPSED_AND_WHITESPACE","- close the ",734],["T_VARIABLE","$version",734],["T_ENCAPSED_AND_WHITESPACE"," milestone on github and open new ones for ",734],["T_CURLY_OPEN","{",734],["T_VARIABLE","$nextVersion",734],"[",["T_VARIABLE","$name",734],"]","}",["T_ENCAPSED_AND_WHITESPACE"," and ",734],["T_CURLY_OPEN","{",734],["T_VARIABLE","$nextVersion2",734],"[",["T_VARIABLE","$name",734],"]","}",["T_ENCAPSED_AND_WHITESPACE",": https:\/\/github.com\/yiisoft\/yii2-",734],["T_VARIABLE","$name",734],["T_ENCAPSED_AND_WHITESPACE","\/milestones\\n",734],"\"",")",";",["T_WHITESPACE","\n        ",734],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","stdout",735],"(",["T_CONSTANT_ENCAPSED_STRING","\"- release news and announcement.\\n\"",735],")",";",["T_WHITESPACE","\n        ",735],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","stdout",736],"(",["T_CONSTANT_ENCAPSED_STRING","\"- update the website (will be automated soon and is only relevant for the new website).\\n\"",736],")",";",["T_WHITESPACE","\n\n        ",736],["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","stdout",738],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",738],")",";",["T_WHITESPACE","\n    ",738],"}",["T_WHITESPACE","\n\n\n    ",739],["T_PROTECTED","protected",742],["T_WHITESPACE"," ",742],["T_FUNCTION","function",742],["T_WHITESPACE"," ",742],["T_STRING","runCommand",742],"(",["T_VARIABLE","$cmd",742],",",["T_WHITESPACE"," ",742],["T_VARIABLE","$path",742],")",["T_WHITESPACE","\n    ",742],"{",["T_WHITESPACE","\n        ",743],["T_VARIABLE","$this",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","stdout",744],"(","\"",["T_ENCAPSED_AND_WHITESPACE","running  ",744],["T_VARIABLE","$cmd",744],["T_ENCAPSED_AND_WHITESPACE","  ...",744],"\"",",",["T_WHITESPACE"," ",744],["T_STRING","Console",744],["T_DOUBLE_COLON","::",744],["T_STRING","BOLD",744],")",";",["T_WHITESPACE","\n        ",744],["T_IF","if",745],["T_WHITESPACE"," ",745],"(",["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","dryRun",745],")",["T_WHITESPACE"," ",745],"{",["T_WHITESPACE","\n            ",745],["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","stdout",746],"(","\"",["T_ENCAPSED_AND_WHITESPACE","dry run, command `",746],["T_VARIABLE","$cmd",746],["T_ENCAPSED_AND_WHITESPACE","` not executed.\\n",746],"\"",")",";",["T_WHITESPACE","\n            ",746],["T_RETURN","return",747],";",["T_WHITESPACE","\n        ",747],"}",["T_WHITESPACE","\n        ",748],["T_STRING","chdir",749],"(",["T_VARIABLE","$path",749],")",";",["T_WHITESPACE","\n        ",749],["T_STRING","exec",750],"(",["T_VARIABLE","$cmd",750],",",["T_WHITESPACE"," ",750],["T_VARIABLE","$output",750],",",["T_WHITESPACE"," ",750],["T_VARIABLE","$ret",750],")",";",["T_WHITESPACE","\n        ",750],["T_IF","if",751],["T_WHITESPACE"," ",751],"(",["T_VARIABLE","$ret",751],["T_WHITESPACE"," ",751],["T_IS_NOT_EQUAL","!=",751],["T_WHITESPACE"," ",751],["T_LNUMBER","0",751],")",["T_WHITESPACE"," ",751],"{",["T_WHITESPACE","\n            ",751],["T_ECHO","echo",752],["T_WHITESPACE"," ",752],["T_STRING","implode",752],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$output",752],")",";",["T_WHITESPACE","\n            ",752],["T_THROW","throw",753],["T_WHITESPACE"," ",753],["T_NEW","new",753],["T_WHITESPACE"," ",753],["T_STRING","Exception",753],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Command \\\"",753],["T_VARIABLE","$cmd",753],["T_ENCAPSED_AND_WHITESPACE","\\\" failed with code ",753],"\"",["T_WHITESPACE"," ",753],".",["T_WHITESPACE"," ",753],["T_VARIABLE","$ret",753],")",";",["T_WHITESPACE","\n        ",753],"}",["T_WHITESPACE","\n        ",754],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","stdout",755],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\ndone.\\n\"",755],",",["T_WHITESPACE"," ",755],["T_STRING","Console",755],["T_DOUBLE_COLON","::",755],["T_STRING","BOLD",755],",",["T_WHITESPACE"," ",755],["T_STRING","Console",755],["T_DOUBLE_COLON","::",755],["T_STRING","FG_GREEN",755],")",";",["T_WHITESPACE","\n    ",755],"}",["T_WHITESPACE","\n\n    ",756],["T_PROTECTED","protected",758],["T_WHITESPACE"," ",758],["T_FUNCTION","function",758],["T_WHITESPACE"," ",758],["T_STRING","runGit",758],"(",["T_VARIABLE","$cmd",758],",",["T_WHITESPACE"," ",758],["T_VARIABLE","$path",758],")",["T_WHITESPACE","\n    ",758],"{",["T_WHITESPACE","\n        ",759],["T_IF","if",760],["T_WHITESPACE"," ",760],"(",["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","confirm",760],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Run `",760],["T_VARIABLE","$cmd",760],["T_ENCAPSED_AND_WHITESPACE","`?",760],"\"",",",["T_WHITESPACE"," ",760],["T_STRING","true",760],")",")",["T_WHITESPACE"," ",760],"{",["T_WHITESPACE","\n            ",760],["T_IF","if",761],["T_WHITESPACE"," ",761],"(",["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","dryRun",761],")",["T_WHITESPACE"," ",761],"{",["T_WHITESPACE","\n                ",761],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","stdout",762],"(","\"",["T_ENCAPSED_AND_WHITESPACE","dry run, command `",762],["T_VARIABLE","$cmd",762],["T_ENCAPSED_AND_WHITESPACE","` not executed.\\n",762],"\"",")",";",["T_WHITESPACE","\n                ",762],["T_RETURN","return",763],";",["T_WHITESPACE","\n            ",763],"}",["T_WHITESPACE","\n            ",764],["T_STRING","chdir",765],"(",["T_VARIABLE","$path",765],")",";",["T_WHITESPACE","\n            ",765],["T_STRING","exec",766],"(",["T_VARIABLE","$cmd",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$output",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$ret",766],")",";",["T_WHITESPACE","\n            ",766],["T_ECHO","echo",767],["T_WHITESPACE"," ",767],["T_STRING","implode",767],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",767],",",["T_WHITESPACE"," ",767],["T_VARIABLE","$output",767],")",";",["T_WHITESPACE","\n            ",767],["T_IF","if",768],["T_WHITESPACE"," ",768],"(",["T_VARIABLE","$ret",768],["T_WHITESPACE"," ",768],["T_IS_NOT_EQUAL","!=",768],["T_WHITESPACE"," ",768],["T_LNUMBER","0",768],")",["T_WHITESPACE"," ",768],"{",["T_WHITESPACE","\n                ",768],["T_THROW","throw",769],["T_WHITESPACE"," ",769],["T_NEW","new",769],["T_WHITESPACE"," ",769],["T_STRING","Exception",769],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Command \\\"",769],["T_VARIABLE","$cmd",769],["T_ENCAPSED_AND_WHITESPACE","\\\" failed with code ",769],"\"",["T_WHITESPACE"," ",769],".",["T_WHITESPACE"," ",769],["T_VARIABLE","$ret",769],")",";",["T_WHITESPACE","\n            ",769],"}",["T_WHITESPACE","\n            ",770],["T_ECHO","echo",771],["T_WHITESPACE"," ",771],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",771],";",["T_WHITESPACE","\n        ",771],"}",["T_WHITESPACE","\n    ",772],"}",["T_WHITESPACE","\n\n    ",773],["T_PROTECTED","protected",775],["T_WHITESPACE"," ",775],["T_FUNCTION","function",775],["T_WHITESPACE"," ",775],["T_STRING","ensureGitClean",775],"(",["T_VARIABLE","$path",775],")",["T_WHITESPACE","\n    ",775],"{",["T_WHITESPACE","\n        ",776],["T_STRING","chdir",777],"(",["T_VARIABLE","$path",777],")",";",["T_WHITESPACE","\n        ",777],["T_STRING","exec",778],"(",["T_CONSTANT_ENCAPSED_STRING","'git status --porcelain -uno'",778],",",["T_WHITESPACE"," ",778],["T_VARIABLE","$changes",778],",",["T_WHITESPACE"," ",778],["T_VARIABLE","$ret",778],")",";",["T_WHITESPACE","\n        ",778],["T_IF","if",779],["T_WHITESPACE"," ",779],"(",["T_VARIABLE","$ret",779],["T_WHITESPACE"," ",779],["T_IS_NOT_EQUAL","!=",779],["T_WHITESPACE"," ",779],["T_LNUMBER","0",779],")",["T_WHITESPACE"," ",779],"{",["T_WHITESPACE","\n            ",779],["T_THROW","throw",780],["T_WHITESPACE"," ",780],["T_NEW","new",780],["T_WHITESPACE"," ",780],["T_STRING","Exception",780],"(",["T_CONSTANT_ENCAPSED_STRING","'Command \"git status --porcelain -uno\" failed with code '",780],["T_WHITESPACE"," ",780],".",["T_WHITESPACE"," ",780],["T_VARIABLE","$ret",780],")",";",["T_WHITESPACE","\n        ",780],"}",["T_WHITESPACE","\n        ",781],["T_IF","if",782],["T_WHITESPACE"," ",782],"(","!",["T_EMPTY","empty",782],"(",["T_VARIABLE","$changes",782],")",")",["T_WHITESPACE"," ",782],"{",["T_WHITESPACE","\n            ",782],["T_THROW","throw",783],["T_WHITESPACE"," ",783],["T_NEW","new",783],["T_WHITESPACE"," ",783],["T_STRING","Exception",783],"(","\"",["T_ENCAPSED_AND_WHITESPACE","You have uncommitted changes in ",783],["T_VARIABLE","$path",783],["T_ENCAPSED_AND_WHITESPACE",": ",783],"\"",["T_WHITESPACE"," ",783],".",["T_WHITESPACE"," ",783],["T_STRING","print_r",783],"(",["T_VARIABLE","$changes",783],",",["T_WHITESPACE"," ",783],["T_STRING","true",783],")",")",";",["T_WHITESPACE","\n        ",783],"}",["T_WHITESPACE","\n    ",784],"}",["T_WHITESPACE","\n\n    ",785],["T_PROTECTED","protected",787],["T_WHITESPACE"," ",787],["T_FUNCTION","function",787],["T_WHITESPACE"," ",787],["T_STRING","gitFetchTags",787],"(",["T_VARIABLE","$path",787],")",["T_WHITESPACE","\n    ",787],"{",["T_WHITESPACE","\n        ",788],["T_STRING","chdir",789],"(",["T_VARIABLE","$path",789],")",";",["T_WHITESPACE","\n        ",789],["T_STRING","exec",790],"(",["T_CONSTANT_ENCAPSED_STRING","'git fetch --tags'",790],",",["T_WHITESPACE"," ",790],["T_VARIABLE","$output",790],",",["T_WHITESPACE"," ",790],["T_VARIABLE","$ret",790],")",";",["T_WHITESPACE","\n        ",790],["T_IF","if",791],["T_WHITESPACE"," ",791],"(",["T_VARIABLE","$ret",791],["T_WHITESPACE"," ",791],["T_IS_NOT_EQUAL","!=",791],["T_WHITESPACE"," ",791],["T_LNUMBER","0",791],")",["T_WHITESPACE"," ",791],"{",["T_WHITESPACE","\n            ",791],["T_THROW","throw",792],["T_WHITESPACE"," ",792],["T_NEW","new",792],["T_WHITESPACE"," ",792],["T_STRING","Exception",792],"(",["T_CONSTANT_ENCAPSED_STRING","'Command \"git fetch --tags\" failed with code '",792],["T_WHITESPACE"," ",792],".",["T_WHITESPACE"," ",792],["T_VARIABLE","$ret",792],")",";",["T_WHITESPACE","\n        ",792],"}",["T_WHITESPACE","\n    ",793],"}",["T_WHITESPACE","\n\n\n    ",794],["T_PROTECTED","protected",797],["T_WHITESPACE"," ",797],["T_FUNCTION","function",797],["T_WHITESPACE"," ",797],["T_STRING","checkComposer",797],"(",["T_VARIABLE","$fwPath",797],")",["T_WHITESPACE","\n    ",797],"{",["T_WHITESPACE","\n        ",798],["T_IF","if",799],["T_WHITESPACE"," ",799],"(","!",["T_VARIABLE","$this",799],["T_OBJECT_OPERATOR","->",799],["T_STRING","confirm",799],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\nNot yet automated: Please check if composer.json dependencies in framework dir match the one in repo root. Continue?\"",799],",",["T_WHITESPACE"," ",799],["T_STRING","false",799],")",")",["T_WHITESPACE"," ",799],"{",["T_WHITESPACE","\n            ",799],["T_EXIT","exit",800],";",["T_WHITESPACE","\n        ",800],"}",["T_WHITESPACE","\n    ",801],"}",["T_WHITESPACE","\n\n\n    ",802],["T_PROTECTED","protected",805],["T_WHITESPACE"," ",805],["T_FUNCTION","function",805],["T_WHITESPACE"," ",805],["T_STRING","closeChangelogs",805],"(",["T_VARIABLE","$what",805],",",["T_WHITESPACE"," ",805],["T_VARIABLE","$version",805],")",["T_WHITESPACE","\n    ",805],"{",["T_WHITESPACE","\n        ",806],["T_VARIABLE","$v",807],["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_STRING","str_replace",807],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\-'",807],",",["T_WHITESPACE"," ",807],["T_CONSTANT_ENCAPSED_STRING","'[\\\\- ]'",807],",",["T_WHITESPACE"," ",807],["T_STRING","preg_quote",807],"(",["T_VARIABLE","$version",807],",",["T_WHITESPACE"," ",807],["T_CONSTANT_ENCAPSED_STRING","'\/'",807],")",")",";",["T_WHITESPACE","\n        ",807],["T_VARIABLE","$headline",808],["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_VARIABLE","$version",808],["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","' '",808],["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_STRING","date",808],"(",["T_CONSTANT_ENCAPSED_STRING","'F d, Y'",808],")",";",["T_WHITESPACE","\n        ",808],["T_VARIABLE","$this",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","sed",809],"(",["T_WHITESPACE","\n            ",809],["T_CONSTANT_ENCAPSED_STRING","'\/'",810],".",["T_VARIABLE","$v",810],".",["T_CONSTANT_ENCAPSED_STRING","' under development\\n(-+?)\\n\/'",810],",",["T_WHITESPACE","\n            ",810],["T_VARIABLE","$headline",811],["T_WHITESPACE"," ",811],".",["T_WHITESPACE"," ",811],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",811],["T_WHITESPACE"," ",811],".",["T_WHITESPACE"," ",811],["T_STRING","str_repeat",811],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",811],",",["T_WHITESPACE"," ",811],["T_STRING","strlen",811],"(",["T_VARIABLE","$headline",811],")",")",["T_WHITESPACE"," ",811],".",["T_WHITESPACE"," ",811],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",811],",",["T_WHITESPACE","\n            ",811],["T_VARIABLE","$this",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","getChangelogs",812],"(",["T_VARIABLE","$what",812],")",["T_WHITESPACE","\n        ",812],")",";",["T_WHITESPACE","\n    ",813],"}",["T_WHITESPACE","\n\n    ",814],["T_PROTECTED","protected",816],["T_WHITESPACE"," ",816],["T_FUNCTION","function",816],["T_WHITESPACE"," ",816],["T_STRING","openChangelogs",816],"(",["T_VARIABLE","$what",816],",",["T_WHITESPACE"," ",816],["T_VARIABLE","$version",816],")",["T_WHITESPACE","\n    ",816],"{",["T_WHITESPACE","\n        ",817],["T_VARIABLE","$headline",818],["T_WHITESPACE"," ",818],"=",["T_WHITESPACE"," ",818],"\"",["T_ENCAPSED_AND_WHITESPACE","\\n",818],["T_VARIABLE","$version",818],["T_ENCAPSED_AND_WHITESPACE"," under development\\n",818],"\"",";",["T_WHITESPACE","\n        ",818],["T_VARIABLE","$headline",819],["T_WHITESPACE"," ",819],["T_CONCAT_EQUAL",".=",819],["T_WHITESPACE"," ",819],["T_STRING","str_repeat",819],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",819],",",["T_WHITESPACE"," ",819],["T_STRING","strlen",819],"(",["T_VARIABLE","$headline",819],")",["T_WHITESPACE"," ",819],"-",["T_WHITESPACE"," ",819],["T_LNUMBER","2",819],")",["T_WHITESPACE"," ",819],".",["T_WHITESPACE"," ",819],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n- no changes in this release.\\n\"",819],";",["T_WHITESPACE","\n        ",819],["T_FOREACH","foreach",820],"(",["T_VARIABLE","$this",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","getChangelogs",820],"(",["T_VARIABLE","$what",820],")",["T_WHITESPACE"," ",820],["T_AS","as",820],["T_WHITESPACE"," ",820],["T_VARIABLE","$file",820],")",["T_WHITESPACE"," ",820],"{",["T_WHITESPACE","\n            ",820],["T_VARIABLE","$lines",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_STRING","explode",821],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",821],",",["T_WHITESPACE"," ",821],["T_STRING","file_get_contents",821],"(",["T_VARIABLE","$file",821],")",")",";",["T_WHITESPACE","\n            ",821],["T_VARIABLE","$hl",822],["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],"[",["T_WHITESPACE","\n                ",822],["T_STRING","array_shift",823],"(",["T_VARIABLE","$lines",823],")",",",["T_WHITESPACE","\n                ",823],["T_STRING","array_shift",824],"(",["T_VARIABLE","$lines",824],")",",",["T_WHITESPACE","\n            ",824],"]",";",["T_WHITESPACE","\n            ",825],["T_STRING","array_unshift",826],"(",["T_VARIABLE","$lines",826],",",["T_WHITESPACE"," ",826],["T_VARIABLE","$headline",826],")",";",["T_WHITESPACE","\n\n            ",826],["T_STRING","file_put_contents",828],"(",["T_VARIABLE","$file",828],",",["T_WHITESPACE"," ",828],["T_STRING","implode",828],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",828],",",["T_WHITESPACE"," ",828],["T_STRING","array_merge",828],"(",["T_VARIABLE","$hl",828],",",["T_WHITESPACE"," ",828],["T_VARIABLE","$lines",828],")",")",")",";",["T_WHITESPACE","\n        ",828],"}",["T_WHITESPACE","\n    ",829],"}",["T_WHITESPACE","\n\n    ",830],["T_PROTECTED","protected",832],["T_WHITESPACE"," ",832],["T_FUNCTION","function",832],["T_WHITESPACE"," ",832],["T_STRING","resortChangelogs",832],"(",["T_VARIABLE","$what",832],",",["T_WHITESPACE"," ",832],["T_VARIABLE","$version",832],")",["T_WHITESPACE","\n    ",832],"{",["T_WHITESPACE","\n        ",833],["T_FOREACH","foreach",834],"(",["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","getChangelogs",834],"(",["T_VARIABLE","$what",834],")",["T_WHITESPACE"," ",834],["T_AS","as",834],["T_WHITESPACE"," ",834],["T_VARIABLE","$file",834],")",["T_WHITESPACE"," ",834],"{",["T_WHITESPACE","\n            ",834],["T_COMMENT","\/\/ split the file into relevant parts\n",835],["T_WHITESPACE","            ",836],["T_LIST","list",836],"(",["T_VARIABLE","$start",836],",",["T_WHITESPACE"," ",836],["T_VARIABLE","$changelog",836],",",["T_WHITESPACE"," ",836],["T_VARIABLE","$end",836],")",["T_WHITESPACE"," ",836],"=",["T_WHITESPACE"," ",836],["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","splitChangelog",836],"(",["T_VARIABLE","$file",836],",",["T_WHITESPACE"," ",836],["T_VARIABLE","$version",836],")",";",["T_WHITESPACE","\n            ",836],["T_VARIABLE","$changelog",837],["T_WHITESPACE"," ",837],"=",["T_WHITESPACE"," ",837],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","resortChangelog",837],"(",["T_VARIABLE","$changelog",837],")",";",["T_WHITESPACE","\n            ",837],["T_STRING","file_put_contents",838],"(",["T_VARIABLE","$file",838],",",["T_WHITESPACE"," ",838],["T_STRING","implode",838],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",838],",",["T_WHITESPACE"," ",838],["T_STRING","array_merge",838],"(",["T_VARIABLE","$start",838],",",["T_WHITESPACE"," ",838],["T_VARIABLE","$changelog",838],",",["T_WHITESPACE"," ",838],["T_VARIABLE","$end",838],")",")",")",";",["T_WHITESPACE","\n        ",838],"}",["T_WHITESPACE","\n    ",839],"}",["T_WHITESPACE","\n\n    ",840],["T_DOC_COMMENT","\/**\n     * Extract changelog content for a specific version\n     *\/",842],["T_WHITESPACE","\n    ",844],["T_PROTECTED","protected",845],["T_WHITESPACE"," ",845],["T_FUNCTION","function",845],["T_WHITESPACE"," ",845],["T_STRING","splitChangelog",845],"(",["T_VARIABLE","$file",845],",",["T_WHITESPACE"," ",845],["T_VARIABLE","$version",845],")",["T_WHITESPACE","\n    ",845],"{",["T_WHITESPACE","\n        ",846],["T_VARIABLE","$lines",847],["T_WHITESPACE"," ",847],"=",["T_WHITESPACE"," ",847],["T_STRING","explode",847],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",847],",",["T_WHITESPACE"," ",847],["T_STRING","file_get_contents",847],"(",["T_VARIABLE","$file",847],")",")",";",["T_WHITESPACE","\n\n        ",847],["T_COMMENT","\/\/ split the file into relevant parts\n",849],["T_WHITESPACE","        ",850],["T_VARIABLE","$start",850],["T_WHITESPACE"," ",850],"=",["T_WHITESPACE"," ",850],"[","]",";",["T_WHITESPACE","\n        ",850],["T_VARIABLE","$changelog",851],["T_WHITESPACE"," ",851],"=",["T_WHITESPACE"," ",851],"[","]",";",["T_WHITESPACE","\n        ",851],["T_VARIABLE","$end",852],["T_WHITESPACE"," ",852],"=",["T_WHITESPACE"," ",852],"[","]",";",["T_WHITESPACE","\n\n        ",852],["T_VARIABLE","$state",854],["T_WHITESPACE"," ",854],"=",["T_WHITESPACE"," ",854],["T_CONSTANT_ENCAPSED_STRING","'start'",854],";",["T_WHITESPACE","\n        ",854],["T_FOREACH","foreach",855],"(",["T_VARIABLE","$lines",855],["T_WHITESPACE"," ",855],["T_AS","as",855],["T_WHITESPACE"," ",855],["T_VARIABLE","$l",855],["T_WHITESPACE"," ",855],["T_DOUBLE_ARROW","=>",855],["T_WHITESPACE"," ",855],["T_VARIABLE","$line",855],")",["T_WHITESPACE"," ",855],"{",["T_WHITESPACE","\n            ",855],["T_COMMENT","\/\/ starting from the changelogs headline\n",856],["T_WHITESPACE","            ",857],["T_IF","if",857],["T_WHITESPACE"," ",857],"(",["T_ISSET","isset",857],"(",["T_VARIABLE","$lines",857],"[",["T_VARIABLE","$l",857],"-",["T_LNUMBER","2",857],"]",")",["T_WHITESPACE"," ",857],["T_BOOLEAN_AND","&&",857],["T_WHITESPACE"," ",857],["T_STRING","strpos",857],"(",["T_VARIABLE","$lines",857],"[",["T_VARIABLE","$l",857],"-",["T_LNUMBER","2",857],"]",",",["T_WHITESPACE"," ",857],["T_VARIABLE","$version",857],")",["T_WHITESPACE"," ",857],["T_IS_NOT_IDENTICAL","!==",857],["T_WHITESPACE"," ",857],["T_STRING","false",857],["T_WHITESPACE"," ",857],["T_BOOLEAN_AND","&&",857],["T_WHITESPACE","\n                ",857],["T_ISSET","isset",858],"(",["T_VARIABLE","$lines",858],"[",["T_VARIABLE","$l",858],"-",["T_LNUMBER","1",858],"]",")",["T_WHITESPACE"," ",858],["T_BOOLEAN_AND","&&",858],["T_WHITESPACE"," ",858],["T_STRING","strncmp",858],"(",["T_VARIABLE","$lines",858],"[",["T_VARIABLE","$l",858],"-",["T_LNUMBER","1",858],"]",",",["T_WHITESPACE"," ",858],["T_CONSTANT_ENCAPSED_STRING","'---'",858],",",["T_WHITESPACE"," ",858],["T_LNUMBER","3",858],")",["T_WHITESPACE"," ",858],["T_IS_IDENTICAL","===",858],["T_WHITESPACE"," ",858],["T_LNUMBER","0",858],")",["T_WHITESPACE"," ",858],"{",["T_WHITESPACE","\n                ",858],["T_VARIABLE","$state",859],["T_WHITESPACE"," ",859],"=",["T_WHITESPACE"," ",859],["T_CONSTANT_ENCAPSED_STRING","'changelog'",859],";",["T_WHITESPACE","\n            ",859],"}",["T_WHITESPACE","\n            ",860],["T_IF","if",861],["T_WHITESPACE"," ",861],"(",["T_VARIABLE","$state",861],["T_WHITESPACE"," ",861],["T_IS_IDENTICAL","===",861],["T_WHITESPACE"," ",861],["T_CONSTANT_ENCAPSED_STRING","'changelog'",861],["T_WHITESPACE"," ",861],["T_BOOLEAN_AND","&&",861],["T_WHITESPACE"," ",861],["T_ISSET","isset",861],"(",["T_VARIABLE","$lines",861],"[",["T_VARIABLE","$l",861],"+",["T_LNUMBER","1",861],"]",")",["T_WHITESPACE"," ",861],["T_BOOLEAN_AND","&&",861],["T_WHITESPACE"," ",861],["T_STRING","strncmp",861],"(",["T_VARIABLE","$lines",861],"[",["T_VARIABLE","$l",861],"+",["T_LNUMBER","1",861],"]",",",["T_WHITESPACE"," ",861],["T_CONSTANT_ENCAPSED_STRING","'---'",861],",",["T_WHITESPACE"," ",861],["T_LNUMBER","3",861],")",["T_WHITESPACE"," ",861],["T_IS_IDENTICAL","===",861],["T_WHITESPACE"," ",861],["T_LNUMBER","0",861],")",["T_WHITESPACE"," ",861],"{",["T_WHITESPACE","\n                ",861],["T_VARIABLE","$state",862],["T_WHITESPACE"," ",862],"=",["T_WHITESPACE"," ",862],["T_CONSTANT_ENCAPSED_STRING","'end'",862],";",["T_WHITESPACE","\n            ",862],"}",["T_WHITESPACE","\n            ",863],"$","{",["T_VARIABLE","$state",864],"}","[","]",["T_WHITESPACE"," ",864],"=",["T_WHITESPACE"," ",864],["T_VARIABLE","$line",864],";",["T_WHITESPACE","\n        ",864],"}",["T_WHITESPACE","\n        ",865],["T_RETURN","return",866],["T_WHITESPACE"," ",866],"[",["T_VARIABLE","$start",866],",",["T_WHITESPACE"," ",866],["T_VARIABLE","$changelog",866],",",["T_WHITESPACE"," ",866],["T_VARIABLE","$end",866],"]",";",["T_WHITESPACE","\n    ",866],"}",["T_WHITESPACE","\n\n    ",867],["T_DOC_COMMENT","\/**\n     * Ensure sorting of the changelog lines\n     *\/",869],["T_WHITESPACE","\n    ",871],["T_PROTECTED","protected",872],["T_WHITESPACE"," ",872],["T_FUNCTION","function",872],["T_WHITESPACE"," ",872],["T_STRING","resortChangelog",872],"(",["T_VARIABLE","$changelog",872],")",["T_WHITESPACE","\n    ",872],"{",["T_WHITESPACE","\n        ",873],["T_COMMENT","\/\/ cleanup whitespace\n",874],["T_WHITESPACE","        ",875],["T_FOREACH","foreach",875],"(",["T_VARIABLE","$changelog",875],["T_WHITESPACE"," ",875],["T_AS","as",875],["T_WHITESPACE"," ",875],["T_VARIABLE","$i",875],["T_WHITESPACE"," ",875],["T_DOUBLE_ARROW","=>",875],["T_WHITESPACE"," ",875],["T_VARIABLE","$line",875],")",["T_WHITESPACE"," ",875],"{",["T_WHITESPACE","\n            ",875],["T_VARIABLE","$changelog",876],"[",["T_VARIABLE","$i",876],"]",["T_WHITESPACE"," ",876],"=",["T_WHITESPACE"," ",876],["T_STRING","rtrim",876],"(",["T_VARIABLE","$line",876],")",";",["T_WHITESPACE","\n        ",876],"}",["T_WHITESPACE","\n        ",877],["T_VARIABLE","$changelog",878],["T_WHITESPACE"," ",878],"=",["T_WHITESPACE"," ",878],["T_STRING","array_filter",878],"(",["T_VARIABLE","$changelog",878],")",";",["T_WHITESPACE","\n\n        ",878],["T_VARIABLE","$i",880],["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_LNUMBER","0",880],";",["T_WHITESPACE","\n        ",880],["T_STRING","ArrayHelper",881],["T_DOUBLE_COLON","::",881],["T_STRING","multisort",881],"(",["T_VARIABLE","$changelog",881],",",["T_WHITESPACE"," ",881],["T_FUNCTION","function",881],"(",["T_VARIABLE","$line",881],")",["T_WHITESPACE"," ",881],["T_USE","use",881],["T_WHITESPACE"," ",881],"(","&",["T_VARIABLE","$i",881],")",["T_WHITESPACE"," ",881],"{",["T_WHITESPACE","\n            ",881],["T_IF","if",882],["T_WHITESPACE"," ",882],"(",["T_STRING","preg_match",882],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^- (Chg|Enh|Bug|New)( #\\d+(, #\\d+)*)?: .+$\/'",882],",",["T_WHITESPACE"," ",882],["T_VARIABLE","$line",882],",",["T_WHITESPACE"," ",882],["T_VARIABLE","$m",882],")",")",["T_WHITESPACE"," ",882],"{",["T_WHITESPACE","\n                ",882],["T_VARIABLE","$o",883],["T_WHITESPACE"," ",883],"=",["T_WHITESPACE"," ",883],"[",["T_CONSTANT_ENCAPSED_STRING","'Bug'",883],["T_WHITESPACE"," ",883],["T_DOUBLE_ARROW","=>",883],["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'C'",883],",",["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'Enh'",883],["T_WHITESPACE"," ",883],["T_DOUBLE_ARROW","=>",883],["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'D'",883],",",["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'Chg'",883],["T_WHITESPACE"," ",883],["T_DOUBLE_ARROW","=>",883],["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'E'",883],",",["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'New'",883],["T_WHITESPACE"," ",883],["T_DOUBLE_ARROW","=>",883],["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'F'",883],"]",";",["T_WHITESPACE","\n                ",883],["T_RETURN","return",884],["T_WHITESPACE"," ",884],["T_VARIABLE","$o",884],"[",["T_VARIABLE","$m",884],"[",["T_LNUMBER","1",884],"]","]",["T_WHITESPACE"," ",884],".",["T_WHITESPACE"," ",884],["T_CONSTANT_ENCAPSED_STRING","' '",884],["T_WHITESPACE"," ",884],".",["T_WHITESPACE"," ",884],"(","!",["T_EMPTY","empty",884],"(",["T_VARIABLE","$m",884],"[",["T_LNUMBER","2",884],"]",")",["T_WHITESPACE"," ",884],"?",["T_WHITESPACE"," ",884],["T_VARIABLE","$m",884],"[",["T_LNUMBER","2",884],"]",["T_WHITESPACE"," ",884],":",["T_WHITESPACE"," ",884],["T_CONSTANT_ENCAPSED_STRING","'AAAA'",884],["T_WHITESPACE"," ",884],".",["T_WHITESPACE"," ",884],["T_VARIABLE","$i",884],["T_INC","++",884],")",";",["T_WHITESPACE","\n            ",884],"}",["T_WHITESPACE","\n            ",885],["T_RETURN","return",886],["T_WHITESPACE"," ",886],["T_CONSTANT_ENCAPSED_STRING","'B'",886],["T_WHITESPACE"," ",886],".",["T_WHITESPACE"," ",886],["T_VARIABLE","$i",886],["T_INC","++",886],";",["T_WHITESPACE","\n        ",886],"}",",",["T_WHITESPACE"," ",887],["T_STRING","SORT_ASC",887],",",["T_WHITESPACE"," ",887],["T_STRING","SORT_NATURAL",887],")",";",["T_WHITESPACE","\n\n        ",887],["T_COMMENT","\/\/ re-add leading and trailing lines\n",889],["T_WHITESPACE","        ",890],["T_STRING","array_unshift",890],"(",["T_VARIABLE","$changelog",890],",",["T_WHITESPACE"," ",890],["T_CONSTANT_ENCAPSED_STRING","''",890],")",";",["T_WHITESPACE","\n        ",890],["T_VARIABLE","$changelog",891],"[","]",["T_WHITESPACE"," ",891],"=",["T_WHITESPACE"," ",891],["T_CONSTANT_ENCAPSED_STRING","''",891],";",["T_WHITESPACE","\n        ",891],["T_VARIABLE","$changelog",892],"[","]",["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_CONSTANT_ENCAPSED_STRING","''",892],";",["T_WHITESPACE","\n\n        ",892],["T_RETURN","return",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$changelog",894],";",["T_WHITESPACE","\n    ",894],"}",["T_WHITESPACE","\n\n    ",895],["T_PROTECTED","protected",897],["T_WHITESPACE"," ",897],["T_FUNCTION","function",897],["T_WHITESPACE"," ",897],["T_STRING","getChangelogs",897],"(",["T_VARIABLE","$what",897],")",["T_WHITESPACE","\n    ",897],"{",["T_WHITESPACE","\n        ",898],["T_VARIABLE","$changelogs",899],["T_WHITESPACE"," ",899],"=",["T_WHITESPACE"," ",899],"[","]",";",["T_WHITESPACE","\n        ",899],["T_IF","if",900],["T_WHITESPACE"," ",900],"(",["T_STRING","in_array",900],"(",["T_CONSTANT_ENCAPSED_STRING","'framework'",900],",",["T_WHITESPACE"," ",900],["T_VARIABLE","$what",900],")",")",["T_WHITESPACE"," ",900],"{",["T_WHITESPACE","\n            ",900],["T_VARIABLE","$changelogs",901],"[","]",["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","getFrameworkChangelog",901],"(",")",";",["T_WHITESPACE","\n        ",901],"}",["T_WHITESPACE","\n\n        ",902],["T_RETURN","return",904],["T_WHITESPACE"," ",904],["T_STRING","array_merge",904],"(",["T_VARIABLE","$changelogs",904],",",["T_WHITESPACE"," ",904],["T_VARIABLE","$this",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","getExtensionChangelogs",904],"(",["T_VARIABLE","$what",904],")",")",";",["T_WHITESPACE","\n    ",904],"}",["T_WHITESPACE","\n\n    ",905],["T_PROTECTED","protected",907],["T_WHITESPACE"," ",907],["T_FUNCTION","function",907],["T_WHITESPACE"," ",907],["T_STRING","getFrameworkChangelog",907],"(",")",["T_WHITESPACE","\n    ",907],"{",["T_WHITESPACE","\n        ",908],["T_RETURN","return",909],["T_WHITESPACE"," ",909],["T_VARIABLE","$this",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","basePath",909],["T_WHITESPACE"," ",909],".",["T_WHITESPACE"," ",909],["T_CONSTANT_ENCAPSED_STRING","'\/framework\/CHANGELOG.md'",909],";",["T_WHITESPACE","\n    ",909],"}",["T_WHITESPACE","\n\n    ",910],["T_PROTECTED","protected",912],["T_WHITESPACE"," ",912],["T_FUNCTION","function",912],["T_WHITESPACE"," ",912],["T_STRING","getExtensionChangelogs",912],"(",["T_VARIABLE","$what",912],")",["T_WHITESPACE","\n    ",912],"{",["T_WHITESPACE","\n        ",913],["T_RETURN","return",914],["T_WHITESPACE"," ",914],["T_STRING","array_filter",914],"(",["T_STRING","glob",914],"(",["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","basePath",914],["T_WHITESPACE"," ",914],".",["T_WHITESPACE"," ",914],["T_CONSTANT_ENCAPSED_STRING","'\/extensions\/*\/CHANGELOG.md'",914],")",",",["T_WHITESPACE"," ",914],["T_FUNCTION","function",914],"(",["T_VARIABLE","$elem",914],")",["T_WHITESPACE"," ",914],["T_USE","use",914],["T_WHITESPACE"," ",914],"(",["T_VARIABLE","$what",914],")",["T_WHITESPACE"," ",914],"{",["T_WHITESPACE","\n            ",914],["T_FOREACH","foreach",915],"(",["T_VARIABLE","$what",915],["T_WHITESPACE"," ",915],["T_AS","as",915],["T_WHITESPACE"," ",915],["T_VARIABLE","$ext",915],")",["T_WHITESPACE"," ",915],"{",["T_WHITESPACE","\n                ",915],["T_IF","if",916],["T_WHITESPACE"," ",916],"(",["T_STRING","strpos",916],"(",["T_VARIABLE","$elem",916],",",["T_WHITESPACE"," ",916],"\"",["T_ENCAPSED_AND_WHITESPACE","extensions\/",916],["T_VARIABLE","$ext",916],["T_ENCAPSED_AND_WHITESPACE","\/CHANGELOG.md",916],"\"",")",["T_WHITESPACE"," ",916],["T_IS_NOT_IDENTICAL","!==",916],["T_WHITESPACE"," ",916],["T_STRING","false",916],")",["T_WHITESPACE"," ",916],"{",["T_WHITESPACE","\n                    ",916],["T_RETURN","return",917],["T_WHITESPACE"," ",917],["T_STRING","true",917],";",["T_WHITESPACE","\n                ",917],"}",["T_WHITESPACE","\n            ",918],"}",["T_WHITESPACE","\n            ",919],["T_RETURN","return",920],["T_WHITESPACE"," ",920],["T_STRING","false",920],";",["T_WHITESPACE","\n        ",920],"}",")",";",["T_WHITESPACE","\n    ",921],"}",["T_WHITESPACE","\n\n    ",922],["T_PROTECTED","protected",924],["T_WHITESPACE"," ",924],["T_FUNCTION","function",924],["T_WHITESPACE"," ",924],["T_STRING","composerSetStability",924],"(",["T_VARIABLE","$what",924],",",["T_WHITESPACE"," ",924],["T_VARIABLE","$version",924],")",["T_WHITESPACE","\n    ",924],"{",["T_WHITESPACE","\n        ",925],["T_VARIABLE","$apps",926],["T_WHITESPACE"," ",926],"=",["T_WHITESPACE"," ",926],"[","]",";",["T_WHITESPACE","\n        ",926],["T_IF","if",927],["T_WHITESPACE"," ",927],"(",["T_STRING","in_array",927],"(",["T_CONSTANT_ENCAPSED_STRING","'app-advanced'",927],",",["T_WHITESPACE"," ",927],["T_VARIABLE","$what",927],")",")",["T_WHITESPACE"," ",927],"{",["T_WHITESPACE","\n            ",927],["T_VARIABLE","$apps",928],"[","]",["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],["T_VARIABLE","$this",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","basePath",928],["T_WHITESPACE"," ",928],".",["T_WHITESPACE"," ",928],["T_CONSTANT_ENCAPSED_STRING","'\/apps\/advanced\/composer.json'",928],";",["T_WHITESPACE","\n        ",928],"}",["T_WHITESPACE","\n        ",929],["T_IF","if",930],["T_WHITESPACE"," ",930],"(",["T_STRING","in_array",930],"(",["T_CONSTANT_ENCAPSED_STRING","'app-basic'",930],",",["T_WHITESPACE"," ",930],["T_VARIABLE","$what",930],")",")",["T_WHITESPACE"," ",930],"{",["T_WHITESPACE","\n            ",930],["T_VARIABLE","$apps",931],"[","]",["T_WHITESPACE"," ",931],"=",["T_WHITESPACE"," ",931],["T_VARIABLE","$this",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","basePath",931],["T_WHITESPACE"," ",931],".",["T_WHITESPACE"," ",931],["T_CONSTANT_ENCAPSED_STRING","'\/apps\/basic\/composer.json'",931],";",["T_WHITESPACE","\n        ",931],"}",["T_WHITESPACE","\n        ",932],["T_IF","if",933],["T_WHITESPACE"," ",933],"(",["T_STRING","in_array",933],"(",["T_CONSTANT_ENCAPSED_STRING","'app-benchmark'",933],",",["T_WHITESPACE"," ",933],["T_VARIABLE","$what",933],")",")",["T_WHITESPACE"," ",933],"{",["T_WHITESPACE","\n            ",933],["T_VARIABLE","$apps",934],"[","]",["T_WHITESPACE"," ",934],"=",["T_WHITESPACE"," ",934],["T_VARIABLE","$this",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","basePath",934],["T_WHITESPACE"," ",934],".",["T_WHITESPACE"," ",934],["T_CONSTANT_ENCAPSED_STRING","'\/apps\/benchmark\/composer.json'",934],";",["T_WHITESPACE","\n        ",934],"}",["T_WHITESPACE","\n        ",935],["T_IF","if",936],["T_WHITESPACE"," ",936],"(",["T_EMPTY","empty",936],"(",["T_VARIABLE","$apps",936],")",")",["T_WHITESPACE"," ",936],"{",["T_WHITESPACE","\n            ",936],["T_RETURN","return",937],";",["T_WHITESPACE","\n        ",937],"}",["T_WHITESPACE","\n\n        ",938],["T_VARIABLE","$stability",940],["T_WHITESPACE"," ",940],"=",["T_WHITESPACE"," ",940],["T_CONSTANT_ENCAPSED_STRING","'stable'",940],";",["T_WHITESPACE","\n        ",940],["T_IF","if",941],["T_WHITESPACE"," ",941],"(",["T_STRING","strpos",941],"(",["T_VARIABLE","$version",941],",",["T_WHITESPACE"," ",941],["T_CONSTANT_ENCAPSED_STRING","'alpha'",941],")",["T_WHITESPACE"," ",941],["T_IS_NOT_IDENTICAL","!==",941],["T_WHITESPACE"," ",941],["T_STRING","false",941],")",["T_WHITESPACE"," ",941],"{",["T_WHITESPACE","\n            ",941],["T_VARIABLE","$stability",942],["T_WHITESPACE"," ",942],"=",["T_WHITESPACE"," ",942],["T_CONSTANT_ENCAPSED_STRING","'alpha'",942],";",["T_WHITESPACE","\n        ",942],"}",["T_WHITESPACE"," ",943],["T_ELSEIF","elseif",943],["T_WHITESPACE"," ",943],"(",["T_STRING","strpos",943],"(",["T_VARIABLE","$version",943],",",["T_WHITESPACE"," ",943],["T_CONSTANT_ENCAPSED_STRING","'beta'",943],")",["T_WHITESPACE"," ",943],["T_IS_NOT_IDENTICAL","!==",943],["T_WHITESPACE"," ",943],["T_STRING","false",943],")",["T_WHITESPACE"," ",943],"{",["T_WHITESPACE","\n            ",943],["T_VARIABLE","$stability",944],["T_WHITESPACE"," ",944],"=",["T_WHITESPACE"," ",944],["T_CONSTANT_ENCAPSED_STRING","'beta'",944],";",["T_WHITESPACE","\n        ",944],"}",["T_WHITESPACE"," ",945],["T_ELSEIF","elseif",945],["T_WHITESPACE"," ",945],"(",["T_STRING","strpos",945],"(",["T_VARIABLE","$version",945],",",["T_WHITESPACE"," ",945],["T_CONSTANT_ENCAPSED_STRING","'rc'",945],")",["T_WHITESPACE"," ",945],["T_IS_NOT_IDENTICAL","!==",945],["T_WHITESPACE"," ",945],["T_STRING","false",945],")",["T_WHITESPACE"," ",945],"{",["T_WHITESPACE","\n            ",945],["T_VARIABLE","$stability",946],["T_WHITESPACE"," ",946],"=",["T_WHITESPACE"," ",946],["T_CONSTANT_ENCAPSED_STRING","'RC'",946],";",["T_WHITESPACE","\n        ",946],"}",["T_WHITESPACE"," ",947],["T_ELSEIF","elseif",947],["T_WHITESPACE"," ",947],"(",["T_STRING","strpos",947],"(",["T_VARIABLE","$version",947],",",["T_WHITESPACE"," ",947],["T_CONSTANT_ENCAPSED_STRING","'dev'",947],")",["T_WHITESPACE"," ",947],["T_IS_NOT_IDENTICAL","!==",947],["T_WHITESPACE"," ",947],["T_STRING","false",947],")",["T_WHITESPACE"," ",947],"{",["T_WHITESPACE","\n            ",947],["T_VARIABLE","$stability",948],["T_WHITESPACE"," ",948],"=",["T_WHITESPACE"," ",948],["T_CONSTANT_ENCAPSED_STRING","'dev'",948],";",["T_WHITESPACE","\n        ",948],"}",["T_WHITESPACE","\n\n        ",949],["T_VARIABLE","$this",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","sed",951],"(",["T_WHITESPACE","\n            ",951],["T_CONSTANT_ENCAPSED_STRING","'\/\"minimum-stability\": \"(.+?)\",\/'",952],",",["T_WHITESPACE","\n            ",952],["T_CONSTANT_ENCAPSED_STRING","'\"minimum-stability\": \"'",953],["T_WHITESPACE"," ",953],".",["T_WHITESPACE"," ",953],["T_VARIABLE","$stability",953],["T_WHITESPACE"," ",953],".",["T_WHITESPACE"," ",953],["T_CONSTANT_ENCAPSED_STRING","'\",'",953],",",["T_WHITESPACE","\n            ",953],["T_VARIABLE","$apps",954],["T_WHITESPACE","\n        ",954],")",";",["T_WHITESPACE","\n    ",955],"}",["T_WHITESPACE","\n\n    ",956],["T_PROTECTED","protected",958],["T_WHITESPACE"," ",958],["T_FUNCTION","function",958],["T_WHITESPACE"," ",958],["T_STRING","updateYiiVersion",958],"(",["T_VARIABLE","$frameworkPath",958],",",["T_WHITESPACE"," ",958],["T_VARIABLE","$version",958],")",["T_WHITESPACE","\n    ",958],"{",["T_WHITESPACE","\n        ",959],["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","sed",960],"(",["T_WHITESPACE","\n            ",960],["T_CONSTANT_ENCAPSED_STRING","'\/function getVersion\\(\\)\\n    \\{\\n        return \\'(.+?)\\';\/'",961],",",["T_WHITESPACE","\n            ",961],"\"",["T_ENCAPSED_AND_WHITESPACE","function getVersion()\\n    {\\n        return '",962],["T_VARIABLE","$version",962],["T_ENCAPSED_AND_WHITESPACE","';",962],"\"",",",["T_WHITESPACE","\n            ",962],["T_VARIABLE","$frameworkPath",963],["T_WHITESPACE"," ",963],".",["T_WHITESPACE"," ",963],["T_CONSTANT_ENCAPSED_STRING","'\/BaseYii.php'",963],")",";",["T_WHITESPACE","\n    ",963],"}",["T_WHITESPACE","\n\n    ",964],["T_PROTECTED","protected",966],["T_WHITESPACE"," ",966],["T_FUNCTION","function",966],["T_WHITESPACE"," ",966],["T_STRING","sed",966],"(",["T_VARIABLE","$pattern",966],",",["T_WHITESPACE"," ",966],["T_VARIABLE","$replace",966],",",["T_WHITESPACE"," ",966],["T_VARIABLE","$files",966],")",["T_WHITESPACE","\n    ",966],"{",["T_WHITESPACE","\n        ",967],["T_FOREACH","foreach",968],"(",["T_ARRAY_CAST","(array)",968],["T_WHITESPACE"," ",968],["T_VARIABLE","$files",968],["T_WHITESPACE"," ",968],["T_AS","as",968],["T_WHITESPACE"," ",968],["T_VARIABLE","$file",968],")",["T_WHITESPACE"," ",968],"{",["T_WHITESPACE","\n            ",968],["T_STRING","file_put_contents",969],"(",["T_VARIABLE","$file",969],",",["T_WHITESPACE"," ",969],["T_STRING","preg_replace",969],"(",["T_VARIABLE","$pattern",969],",",["T_WHITESPACE"," ",969],["T_VARIABLE","$replace",969],",",["T_WHITESPACE"," ",969],["T_STRING","file_get_contents",969],"(",["T_VARIABLE","$file",969],")",")",")",";",["T_WHITESPACE","\n        ",969],"}",["T_WHITESPACE","\n    ",970],"}",["T_WHITESPACE","\n\n    ",971],["T_PROTECTED","protected",973],["T_WHITESPACE"," ",973],["T_FUNCTION","function",973],["T_WHITESPACE"," ",973],["T_STRING","getCurrentVersions",973],"(",["T_ARRAY","array",973],["T_WHITESPACE"," ",973],["T_VARIABLE","$what",973],")",["T_WHITESPACE","\n    ",973],"{",["T_WHITESPACE","\n        ",974],["T_VARIABLE","$versions",975],["T_WHITESPACE"," ",975],"=",["T_WHITESPACE"," ",975],"[","]",";",["T_WHITESPACE","\n        ",975],["T_FOREACH","foreach",976],"(",["T_VARIABLE","$what",976],["T_WHITESPACE"," ",976],["T_AS","as",976],["T_WHITESPACE"," ",976],["T_VARIABLE","$ext",976],")",["T_WHITESPACE"," ",976],"{",["T_WHITESPACE","\n            ",976],["T_IF","if",977],["T_WHITESPACE"," ",977],"(",["T_VARIABLE","$ext",977],["T_WHITESPACE"," ",977],["T_IS_IDENTICAL","===",977],["T_WHITESPACE"," ",977],["T_CONSTANT_ENCAPSED_STRING","'framework'",977],")",["T_WHITESPACE"," ",977],"{",["T_WHITESPACE","\n                ",977],["T_STRING","chdir",978],"(","\"",["T_CURLY_OPEN","{",978],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","basePath",978],"}",["T_ENCAPSED_AND_WHITESPACE","\/framework",978],"\"",")",";",["T_WHITESPACE","\n            ",978],"}",["T_WHITESPACE"," ",979],["T_ELSEIF","elseif",979],["T_WHITESPACE"," ",979],"(",["T_STRING","strncmp",979],"(",["T_CONSTANT_ENCAPSED_STRING","'app-'",979],",",["T_WHITESPACE"," ",979],["T_VARIABLE","$ext",979],",",["T_WHITESPACE"," ",979],["T_LNUMBER","4",979],")",["T_WHITESPACE"," ",979],["T_IS_IDENTICAL","===",979],["T_WHITESPACE"," ",979],["T_LNUMBER","0",979],")",["T_WHITESPACE"," ",979],"{",["T_WHITESPACE","\n                ",979],["T_STRING","chdir",980],"(","\"",["T_CURLY_OPEN","{",980],["T_VARIABLE","$this",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","basePath",980],"}",["T_ENCAPSED_AND_WHITESPACE","\/apps\/",980],"\"",["T_WHITESPACE"," ",980],".",["T_WHITESPACE"," ",980],["T_STRING","substr",980],"(",["T_VARIABLE","$ext",980],",",["T_WHITESPACE"," ",980],["T_LNUMBER","4",980],")",")",";",["T_WHITESPACE","\n            ",980],"}",["T_WHITESPACE"," ",981],["T_ELSE","else",981],["T_WHITESPACE"," ",981],"{",["T_WHITESPACE","\n                ",981],["T_STRING","chdir",982],"(","\"",["T_CURLY_OPEN","{",982],["T_VARIABLE","$this",982],["T_OBJECT_OPERATOR","->",982],["T_STRING","basePath",982],"}",["T_ENCAPSED_AND_WHITESPACE","\/extensions\/",982],["T_VARIABLE","$ext",982],"\"",")",";",["T_WHITESPACE","\n            ",982],"}",["T_WHITESPACE","\n            ",983],["T_VARIABLE","$tags",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],"[","]",";",["T_WHITESPACE","\n            ",984],["T_STRING","exec",985],"(",["T_CONSTANT_ENCAPSED_STRING","'git tag'",985],",",["T_WHITESPACE"," ",985],["T_VARIABLE","$tags",985],",",["T_WHITESPACE"," ",985],["T_VARIABLE","$ret",985],")",";",["T_WHITESPACE","\n            ",985],["T_IF","if",986],["T_WHITESPACE"," ",986],"(",["T_VARIABLE","$ret",986],["T_WHITESPACE"," ",986],["T_IS_NOT_EQUAL","!=",986],["T_WHITESPACE"," ",986],["T_LNUMBER","0",986],")",["T_WHITESPACE"," ",986],"{",["T_WHITESPACE","\n                ",986],["T_THROW","throw",987],["T_WHITESPACE"," ",987],["T_NEW","new",987],["T_WHITESPACE"," ",987],["T_STRING","Exception",987],"(",["T_CONSTANT_ENCAPSED_STRING","'Command \"git tag\" failed with code '",987],["T_WHITESPACE"," ",987],".",["T_WHITESPACE"," ",987],["T_VARIABLE","$ret",987],")",";",["T_WHITESPACE","\n            ",987],"}",["T_WHITESPACE","\n            ",988],["T_STRING","rsort",989],"(",["T_VARIABLE","$tags",989],",",["T_WHITESPACE"," ",989],["T_STRING","SORT_NATURAL",989],")",";",["T_WHITESPACE"," ",989],["T_COMMENT","\/\/ TODO this can not deal with alpha\/beta\/rc...\n",989],["T_WHITESPACE","            ",990],["T_VARIABLE","$versions",990],"[",["T_VARIABLE","$ext",990],"]",["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],["T_STRING","reset",990],"(",["T_VARIABLE","$tags",990],")",";",["T_WHITESPACE","\n        ",990],"}",["T_WHITESPACE","\n        ",991],["T_RETURN","return",992],["T_WHITESPACE"," ",992],["T_VARIABLE","$versions",992],";",["T_WHITESPACE","\n    ",992],"}",["T_WHITESPACE","\n\n    ",993],["T_CONST","const",995],["T_WHITESPACE"," ",995],["T_STRING","MINOR",995],["T_WHITESPACE"," ",995],"=",["T_WHITESPACE"," ",995],["T_CONSTANT_ENCAPSED_STRING","'minor'",995],";",["T_WHITESPACE","\n    ",995],["T_CONST","const",996],["T_WHITESPACE"," ",996],["T_STRING","PATCH",996],["T_WHITESPACE"," ",996],"=",["T_WHITESPACE"," ",996],["T_CONSTANT_ENCAPSED_STRING","'patch'",996],";",["T_WHITESPACE","\n\n    ",996],["T_PROTECTED","protected",998],["T_WHITESPACE"," ",998],["T_FUNCTION","function",998],["T_WHITESPACE"," ",998],["T_STRING","getNextVersions",998],"(",["T_ARRAY","array",998],["T_WHITESPACE"," ",998],["T_VARIABLE","$versions",998],",",["T_WHITESPACE"," ",998],["T_VARIABLE","$type",998],")",["T_WHITESPACE","\n    ",998],"{",["T_WHITESPACE","\n        ",999],["T_FOREACH","foreach",1000],"(",["T_VARIABLE","$versions",1000],["T_WHITESPACE"," ",1000],["T_AS","as",1000],["T_WHITESPACE"," ",1000],["T_VARIABLE","$k",1000],["T_WHITESPACE"," ",1000],["T_DOUBLE_ARROW","=>",1000],["T_WHITESPACE"," ",1000],["T_VARIABLE","$v",1000],")",["T_WHITESPACE"," ",1000],"{",["T_WHITESPACE","\n            ",1000],["T_IF","if",1001],["T_WHITESPACE"," ",1001],"(",["T_EMPTY","empty",1001],"(",["T_VARIABLE","$v",1001],")",")",["T_WHITESPACE"," ",1001],"{",["T_WHITESPACE","\n                ",1001],["T_VARIABLE","$versions",1002],"[",["T_VARIABLE","$k",1002],"]",["T_WHITESPACE"," ",1002],"=",["T_WHITESPACE"," ",1002],["T_CONSTANT_ENCAPSED_STRING","'2.0.0'",1002],";",["T_WHITESPACE","\n                ",1002],["T_CONTINUE","continue",1003],";",["T_WHITESPACE","\n            ",1003],"}",["T_WHITESPACE","\n            ",1004],["T_VARIABLE","$parts",1005],["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],["T_STRING","explode",1005],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",1005],",",["T_WHITESPACE"," ",1005],["T_VARIABLE","$v",1005],")",";",["T_WHITESPACE","\n            ",1005],["T_SWITCH","switch",1006],"(",["T_VARIABLE","$type",1006],")",["T_WHITESPACE"," ",1006],"{",["T_WHITESPACE","\n                ",1006],["T_CASE","case",1007],["T_WHITESPACE"," ",1007],["T_STRING","self",1007],["T_DOUBLE_COLON","::",1007],["T_STRING","MINOR",1007],":",["T_WHITESPACE","\n                    ",1007],["T_VARIABLE","$parts",1008],"[",["T_LNUMBER","1",1008],"]",["T_INC","++",1008],";",["T_WHITESPACE","\n                    ",1008],["T_VARIABLE","$parts",1009],"[",["T_LNUMBER","2",1009],"]",["T_WHITESPACE"," ",1009],"=",["T_WHITESPACE"," ",1009],["T_LNUMBER","0",1009],";",["T_WHITESPACE","\n                    ",1009],["T_BREAK","break",1010],";",["T_WHITESPACE","\n                ",1010],["T_CASE","case",1011],["T_WHITESPACE"," ",1011],["T_STRING","self",1011],["T_DOUBLE_COLON","::",1011],["T_STRING","PATCH",1011],":",["T_WHITESPACE","\n                    ",1011],["T_VARIABLE","$parts",1012],"[",["T_LNUMBER","2",1012],"]",["T_INC","++",1012],";",["T_WHITESPACE","\n                    ",1012],["T_BREAK","break",1013],";",["T_WHITESPACE","\n                ",1013],["T_DEFAULT","default",1014],":",["T_WHITESPACE","\n                    ",1014],["T_THROW","throw",1015],["T_WHITESPACE"," ",1015],["T_NEW","new",1015],["T_WHITESPACE"," ",1015],["T_STRING","Exception",1015],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown version type.'",1015],")",";",["T_WHITESPACE","\n            ",1015],"}",["T_WHITESPACE","\n            ",1016],["T_VARIABLE","$versions",1017],"[",["T_VARIABLE","$k",1017],"]",["T_WHITESPACE"," ",1017],"=",["T_WHITESPACE"," ",1017],["T_STRING","implode",1017],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",1017],",",["T_WHITESPACE"," ",1017],["T_VARIABLE","$parts",1017],")",";",["T_WHITESPACE","\n        ",1017],"}",["T_WHITESPACE","\n        ",1018],["T_RETURN","return",1019],["T_WHITESPACE"," ",1019],["T_VARIABLE","$versions",1019],";",["T_WHITESPACE","\n    ",1019],"}",["T_WHITESPACE","\n",1020],"}",["T_WHITESPACE","\n",1021]]