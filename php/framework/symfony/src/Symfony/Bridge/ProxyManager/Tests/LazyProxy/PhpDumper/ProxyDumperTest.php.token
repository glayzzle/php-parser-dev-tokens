[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bridge",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ProxyManager",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LazyProxy",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PhpDumper",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Bridge",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ProxyManager",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LazyProxy",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PhpDumper",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ProxyDumper",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DependencyInjection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Definition",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Tests for {@see \\Symfony\\Bridge\\ProxyManager\\LazyProxy\\PhpDumper\\ProxyDumper}.\n *\n * @author Marco Pivetta <ocramius@gmail.com>\n *\/",17],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","ProxyDumperTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_NS_SEPARATOR","\\",22],["T_STRING","PHPUnit_Framework_TestCase",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * @var ProxyDumper\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$dumper",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","dumper",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_STRING","ProxyDumper",34],"(",")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @dataProvider getProxyCandidates\n     *\n     * @param Definition $definition\n     * @param bool       $expected\n     *\/",37],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testIsProxyCandidate",43],"(",["T_STRING","Definition",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$definition",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$expected",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertSame",45],"(",["T_VARIABLE","$expected",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","dumper",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","isProxyCandidate",45],"(",["T_VARIABLE","$definition",45],")",")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testGetProxyCode",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$definition",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","Definition",50],"(",["T_CLASS_C","__CLASS__",50],")",";",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$definition",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","setLazy",52],"(",["T_STRING","true",52],")",";",["T_WHITESPACE","\n\n        ",52],["T_VARIABLE","$code",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","dumper",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getProxyCode",54],"(",["T_VARIABLE","$definition",54],")",";",["T_WHITESPACE","\n\n        ",54],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertStringMatchesFormat",56],"(",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'%Aclass SymfonyBridgeProxyManagerTestsLazyProxyPhpDumperProxyDumperTest%aextends%w'",57],["T_WHITESPACE","\n                ",57],".",["T_CONSTANT_ENCAPSED_STRING","'\\Symfony\\Bridge\\ProxyManager\\Tests\\LazyProxy\\PhpDumper\\ProxyDumperTest%a'",58],",",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$code",59],["T_WHITESPACE","\n        ",59],")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","testGetProxyFactoryCodeWithCustomMethod",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$definition",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","Definition",65],"(",["T_CLASS_C","__CLASS__",65],")",";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$definition",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","setLazy",67],"(",["T_STRING","true",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$code",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","dumper",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getProxyFactoryCode",69],"(",["T_VARIABLE","$definition",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'foo'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'getFoo2Service'",69],")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertStringMatchesFormat",71],"(",["T_WHITESPACE","\n            ",71],["T_CONSTANT_ENCAPSED_STRING","'%wif ($lazyLoad) {%wreturn $this->services[\\'foo\\'] =%s'",72],["T_WHITESPACE","\n            ",72],".",["T_CONSTANT_ENCAPSED_STRING","'SymfonyBridgeProxyManagerTestsLazyProxyPhpDumperProxyDumperTest_%s(%wfunction '",73],["T_WHITESPACE","\n            ",73],".",["T_CONSTANT_ENCAPSED_STRING","'(&$wrappedInstance, \\ProxyManager\\Proxy\\LazyLoadingInterface $proxy) {'",74],["T_WHITESPACE","\n            ",74],".",["T_CONSTANT_ENCAPSED_STRING","'%w$wrappedInstance = $this->getFoo2Service(false);%w$proxy->setProxyInitializer(null);'",75],["T_WHITESPACE","\n            ",75],".",["T_CONSTANT_ENCAPSED_STRING","'%wreturn true;%w}%w);%w}%w'",76],",",["T_WHITESPACE","\n           ",76],["T_VARIABLE","$code",77],["T_WHITESPACE","\n        ",77],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @group legacy\n     *\/",81],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","testGetProxyFactoryCode",84],"(",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$definition",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","Definition",86],"(",["T_CLASS_C","__CLASS__",86],")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$definition",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setLazy",88],"(",["T_STRING","true",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$code",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","dumper",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getProxyFactoryCode",90],"(",["T_VARIABLE","$definition",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'foo'",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertStringMatchesFormat",92],"(",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'%wif ($lazyLoad) {%wreturn $this->services[\\'foo\\'] =%s'",93],["T_WHITESPACE","\n            ",93],".",["T_CONSTANT_ENCAPSED_STRING","'SymfonyBridgeProxyManagerTestsLazyProxyPhpDumperProxyDumperTest_%s(%wfunction '",94],["T_WHITESPACE","\n            ",94],".",["T_CONSTANT_ENCAPSED_STRING","'(&$wrappedInstance, \\ProxyManager\\Proxy\\LazyLoadingInterface $proxy) {'",95],["T_WHITESPACE","\n            ",95],".",["T_CONSTANT_ENCAPSED_STRING","'%w$wrappedInstance = $this->getFooService(false);%w$proxy->setProxyInitializer(null);'",96],["T_WHITESPACE","\n            ",96],".",["T_CONSTANT_ENCAPSED_STRING","'%wreturn true;%w}%w);%w}%w'",97],",",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$code",98],["T_WHITESPACE","\n        ",98],")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",102],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getProxyCandidates",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$definitions",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_WHITESPACE","\n            ",107],["T_ARRAY","array",108],"(",["T_NEW","new",108],["T_WHITESPACE"," ",108],["T_STRING","Definition",108],"(",["T_CLASS_C","__CLASS__",108],")",",",["T_WHITESPACE"," ",108],["T_STRING","true",108],")",",",["T_WHITESPACE","\n            ",108],["T_ARRAY","array",109],"(",["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","Definition",109],"(",["T_CONSTANT_ENCAPSED_STRING","'stdClass'",109],")",",",["T_WHITESPACE"," ",109],["T_STRING","true",109],")",",",["T_WHITESPACE","\n            ",109],["T_ARRAY","array",110],"(",["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STRING","Definition",110],"(",["T_STRING","uniqid",110],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",110],",",["T_WHITESPACE"," ",110],["T_STRING","true",110],")",")",",",["T_WHITESPACE"," ",110],["T_STRING","false",110],")",",",["T_WHITESPACE","\n            ",110],["T_ARRAY","array",111],"(",["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_STRING","Definition",111],"(",")",",",["T_WHITESPACE"," ",111],["T_STRING","false",111],")",",",["T_WHITESPACE","\n        ",111],")",";",["T_WHITESPACE","\n\n        ",112],["T_STRING","array_map",114],"(",["T_WHITESPACE","\n            ",114],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$definition",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n                ",115],["T_VARIABLE","$definition",116],"[",["T_LNUMBER","0",116],"]",["T_OBJECT_OPERATOR","->",116],["T_STRING","setLazy",116],"(",["T_STRING","true",116],")",";",["T_WHITESPACE","\n            ",116],"}",",",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$definitions",118],["T_WHITESPACE","\n        ",118],")",";",["T_WHITESPACE","\n\n        ",119],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$definitions",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n",122],"}",["T_WHITESPACE","\n",123]]