[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bridge",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Doctrine",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ChoiceList",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Doctrine",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ORM",14],["T_NS_SEPARATOR","\\",14],["T_STRING","QueryBuilder",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Doctrine",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DBAL",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Connection",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Loads entities using a {@link QueryBuilder} instance.\n *\n * @author Benjamin Eberlei <kontakt@beberlei.de>\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",17],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","ORMQueryBuilderLoader",23],["T_WHITESPACE"," ",23],["T_IMPLEMENTS","implements",23],["T_WHITESPACE"," ",23],["T_STRING","EntityLoaderInterface",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_DOC_COMMENT","\/**\n     * Contains the query builder that builds the query for fetching the\n     * entities.\n     *\n     * This property should only be accessed through queryBuilder.\n     *\n     * @var QueryBuilder\n     *\/",25],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$queryBuilder",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Construct an ORM Query Builder Loader.\n     *\n     * @param QueryBuilder $queryBuilder The query builder for creating the query builder\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_STRING","QueryBuilder",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$queryBuilder",40],")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","queryBuilder",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$queryBuilder",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","getEntities",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","queryBuilder",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getQuery",50],"(",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","execute",50],"(",")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","getEntitiesByIds",56],"(",["T_VARIABLE","$identifier",56],",",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$values",56],")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$qb",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CLONE","clone",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","queryBuilder",58],";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$alias",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","current",59],"(",["T_VARIABLE","$qb",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getRootAliases",59],"(",")",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$parameter",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'ORMQueryBuilderLoader_getEntitiesByIds_'",60],".",["T_VARIABLE","$identifier",60],";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$parameter",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","str_replace",61],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'_'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$parameter",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$where",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$qb",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","expr",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","in",62],"(",["T_VARIABLE","$alias",62],".",["T_CONSTANT_ENCAPSED_STRING","'.'",62],".",["T_VARIABLE","$identifier",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","':'",62],".",["T_VARIABLE","$parameter",62],")",";",["T_WHITESPACE","\n\n        ",62],["T_COMMENT","\/\/ Guess type\n",64],["T_WHITESPACE","        ",65],["T_VARIABLE","$entity",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","current",65],"(",["T_VARIABLE","$qb",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getRootEntities",65],"(",")",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$metadata",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$qb",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getEntityManager",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getClassMetadata",66],"(",["T_VARIABLE","$entity",66],")",";",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_STRING","in_array",67],"(",["T_VARIABLE","$metadata",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getTypeOfField",67],"(",["T_VARIABLE","$identifier",67],")",",",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'integer'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'bigint'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'smallint'",67],")",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$parameterType",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","Connection",68],["T_DOUBLE_COLON","::",68],["T_STRING","PARAM_INT_ARRAY",68],";",["T_WHITESPACE","\n\n            ",68],["T_COMMENT","\/\/ Filter out non-integer values (e.g. \"\"). If we don't, some\n",70],["T_WHITESPACE","            ",71],["T_COMMENT","\/\/ databases such as PostgreSQL fail.\n",71],["T_WHITESPACE","            ",72],["T_VARIABLE","$values",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","array_values",72],"(",["T_STRING","array_filter",72],"(",["T_VARIABLE","$values",72],",",["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$v",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_STRING_CAST","(string)",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$v",73],["T_WHITESPACE"," ",73],["T_IS_IDENTICAL","===",73],["T_WHITESPACE"," ",73],["T_STRING_CAST","(string)",73],["T_WHITESPACE"," ",73],["T_INT_CAST","(int)",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$v",73],["T_WHITESPACE"," ",73],["T_BOOLEAN_OR","||",73],["T_WHITESPACE"," ",73],["T_STRING","ctype_digit",73],"(",["T_VARIABLE","$v",73],")",";",["T_WHITESPACE","\n            ",73],"}",")",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE"," ",75],["T_ELSEIF","elseif",75],["T_WHITESPACE"," ",75],"(",["T_CONSTANT_ENCAPSED_STRING","'guid'",75],["T_WHITESPACE"," ",75],["T_IS_IDENTICAL","===",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$metadata",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getTypeOfField",75],"(",["T_VARIABLE","$identifier",75],")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$parameterType",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","Connection",76],["T_DOUBLE_COLON","::",76],["T_STRING","PARAM_STR_ARRAY",76],";",["T_WHITESPACE","\n\n            ",76],["T_COMMENT","\/\/ Like above, but we just filter out empty strings.\n",78],["T_WHITESPACE","            ",79],["T_VARIABLE","$values",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","array_values",79],"(",["T_STRING","array_filter",79],"(",["T_VARIABLE","$values",79],",",["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$v",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_STRING_CAST","(string)",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$v",80],["T_WHITESPACE"," ",80],["T_IS_NOT_IDENTICAL","!==",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","''",80],";",["T_WHITESPACE","\n            ",80],"}",")",")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE"," ",82],["T_ELSE","else",82],["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$parameterType",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","Connection",83],["T_DOUBLE_COLON","::",83],["T_STRING","PARAM_STR_ARRAY",83],";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n        ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","!",["T_VARIABLE","$values",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$qb",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","andWhere",89],"(",["T_VARIABLE","$where",89],")",["T_WHITESPACE","\n                  ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","getQuery",90],"(",")",["T_WHITESPACE","\n                  ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","setParameter",91],"(",["T_VARIABLE","$parameter",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$values",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$parameterType",91],")",["T_WHITESPACE","\n                  ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","getResult",92],"(",")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n",93],"}",["T_WHITESPACE","\n",94]]