[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bridge",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Doctrine",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Type",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Doctrine",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Common",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Persistence",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ManagerRegistry",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Doctrine",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Common",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Persistence",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ObjectManager",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Bridge",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Doctrine",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Form",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ChoiceList",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DoctrineChoiceLoader",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Bridge",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Doctrine",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Form",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ChoiceList",17],["T_NS_SEPARATOR","\\",17],["T_STRING","EntityLoaderInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Bridge",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Doctrine",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Form",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ChoiceList",18],["T_NS_SEPARATOR","\\",18],["T_STRING","IdReader",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Bridge",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Doctrine",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Form",19],["T_NS_SEPARATOR","\\",19],["T_STRING","DataTransformer",19],["T_NS_SEPARATOR","\\",19],["T_STRING","CollectionToArrayTransformer",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Bridge",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Doctrine",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Form",20],["T_NS_SEPARATOR","\\",20],["T_STRING","EventListener",20],["T_NS_SEPARATOR","\\",20],["T_STRING","MergeDoctrineCollectionListener",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Form",21],["T_NS_SEPARATOR","\\",21],["T_STRING","AbstractType",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Form",22],["T_NS_SEPARATOR","\\",22],["T_STRING","ChoiceList",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Factory",22],["T_NS_SEPARATOR","\\",22],["T_STRING","CachingFactoryDecorator",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Form",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Exception",23],["T_NS_SEPARATOR","\\",23],["T_STRING","RuntimeException",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Symfony",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Component",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Form",24],["T_NS_SEPARATOR","\\",24],["T_STRING","FormBuilderInterface",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Symfony",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Component",25],["T_NS_SEPARATOR","\\",25],["T_STRING","OptionsResolver",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Options",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Symfony",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Component",26],["T_NS_SEPARATOR","\\",26],["T_STRING","OptionsResolver",26],["T_NS_SEPARATOR","\\",26],["T_STRING","OptionsResolver",26],";",["T_WHITESPACE","\n\n",26],["T_ABSTRACT","abstract",28],["T_WHITESPACE"," ",28],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","DoctrineType",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","AbstractType",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_DOC_COMMENT","\/**\n     * @var ManagerRegistry\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$registry",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var IdReader[]\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$idReaders",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var DoctrineChoiceLoader[]\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$choiceLoaders",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Creates the label for a choice.\n     *\n     * For backwards compatibility, objects are cast to strings by default.\n     *\n     * @param object $choice The object\n     *\n     * @return string The string representation of the object\n     *\n     * @internal This method is public to be usable as callback. It should not\n     *           be used in user code.\n     *\/",45],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_STATIC","static",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","createChoiceLabel",57],"(",["T_VARIABLE","$choice",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_STRING_CAST","(string)",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$choice",59],";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Creates the field name for a choice.\n     *\n     * This method is used to generate field names if the underlying object has\n     * a single-column integer ID. In that case, the value of the field is\n     * the ID of the object. That ID is also used as field name.\n     *\n     * @param object     $choice The object\n     * @param int|string $key    The choice key\n     * @param string     $value  The choice value. Corresponds to the object's\n     *                           ID here.\n     *\n     * @return string The field name\n     *\n     * @internal This method is public to be usable as callback. It should not\n     *           be used in user code.\n     *\/",62],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_STATIC","static",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","createChoiceName",79],"(",["T_VARIABLE","$choice",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$key",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$value",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_STRING","str_replace",81],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'_'",81],",",["T_WHITESPACE"," ",81],["T_STRING_CAST","(string)",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$value",81],")",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Gets important parts from QueryBuilder that will allow to cache its results.\n     * For instance in ORM two query builders with an equal SQL string and\n     * equal parameters are considered to be equal.\n     *\n     * @param object $queryBuilder\n     *\n     * @return array|false Array with important QueryBuilder parts or false if\n     *                     they can't be determined\n     *\n     * @internal This method is public to be usable as callback. It should not\n     *           be used in user code.\n     *\/",84],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getQueryBuilderPartsForCachingHash",97],"(",["T_VARIABLE","$queryBuilder",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","false",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","__construct",102],"(",["T_STRING","ManagerRegistry",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$registry",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","registry",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$registry",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","buildForm",107],"(",["T_STRING","FormBuilderInterface",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$builder",107],",",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$options",107],")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$options",109],"[",["T_CONSTANT_ENCAPSED_STRING","'multiple'",109],"]",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$builder",110],["T_WHITESPACE","\n                ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","addEventSubscriber",111],"(",["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_STRING","MergeDoctrineCollectionListener",111],"(",")",")",["T_WHITESPACE","\n                ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","addViewTransformer",112],"(",["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_STRING","CollectionToArrayTransformer",112],"(",")",",",["T_WHITESPACE"," ",112],["T_STRING","true",112],")",["T_WHITESPACE","\n            ",112],";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","configureOptions",117],"(",["T_STRING","OptionsResolver",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$resolver",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$choiceLoader",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],"(",["T_STRING","Options",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$options",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_COMMENT","\/\/ Unless the choices are given explicitly, load them on demand\n",120],["T_WHITESPACE","            ",121],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_STRING","null",121],["T_WHITESPACE"," ",121],["T_IS_IDENTICAL","===",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$options",121],"[",["T_CONSTANT_ENCAPSED_STRING","'choices'",121],"]",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$hash",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","null",122],";",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$qbParts",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","null",123],";",["T_WHITESPACE","\n\n                ",123],["T_COMMENT","\/\/ If there is no QueryBuilder we can safely cache DoctrineChoiceLoader,\n",125],["T_WHITESPACE","                ",126],["T_COMMENT","\/\/ also if concrete Type can return important QueryBuilder parts to generate\n",126],["T_WHITESPACE","                ",127],["T_COMMENT","\/\/ hash key we go for it as well\n",127],["T_WHITESPACE","                ",128],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_VARIABLE","$options",128],"[",["T_CONSTANT_ENCAPSED_STRING","'query_builder'",128],"]",["T_WHITESPACE"," ",128],["T_BOOLEAN_OR","||",128],["T_WHITESPACE"," ",128],["T_STRING","false",128],["T_WHITESPACE"," ",128],["T_IS_NOT_IDENTICAL","!==",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$qbParts",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getQueryBuilderPartsForCachingHash",128],"(",["T_VARIABLE","$options",128],"[",["T_CONSTANT_ENCAPSED_STRING","'query_builder'",128],"]",")",")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                    ",128],["T_VARIABLE","$hash",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","CachingFactoryDecorator",129],["T_DOUBLE_COLON","::",129],["T_STRING","generateHash",129],"(",["T_ARRAY","array",129],"(",["T_WHITESPACE","\n                        ",129],["T_VARIABLE","$options",130],"[",["T_CONSTANT_ENCAPSED_STRING","'em'",130],"]",",",["T_WHITESPACE","\n                        ",130],["T_VARIABLE","$options",131],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",131],"]",",",["T_WHITESPACE","\n                        ",131],["T_VARIABLE","$qbParts",132],",",["T_WHITESPACE","\n                    ",132],")",")",";",["T_WHITESPACE","\n\n                    ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_ISSET","isset",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","choiceLoaders",135],"[",["T_VARIABLE","$hash",135],"]",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n                        ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","choiceLoaders",136],"[",["T_VARIABLE","$hash",136],"]",";",["T_WHITESPACE","\n                    ",136],"}",["T_WHITESPACE","\n                ",137],"}",["T_WHITESPACE","\n\n                ",138],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_STRING","null",140],["T_WHITESPACE"," ",140],["T_IS_NOT_IDENTICAL","!==",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'query_builder'",140],"]",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                    ",140],["T_VARIABLE","$entityLoader",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getLoader",141],"(",["T_VARIABLE","$options",141],"[",["T_CONSTANT_ENCAPSED_STRING","'em'",141],"]",",",["T_WHITESPACE"," ",141],["T_VARIABLE","$options",141],"[",["T_CONSTANT_ENCAPSED_STRING","'query_builder'",141],"]",",",["T_WHITESPACE"," ",141],["T_VARIABLE","$options",141],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",141],"]",")",";",["T_WHITESPACE","\n                ",141],"}",["T_WHITESPACE"," ",142],["T_ELSE","else",142],["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                    ",142],["T_VARIABLE","$queryBuilder",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$options",143],"[",["T_CONSTANT_ENCAPSED_STRING","'em'",143],"]",["T_OBJECT_OPERATOR","->",143],["T_STRING","getRepository",143],"(",["T_VARIABLE","$options",143],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",143],"]",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","createQueryBuilder",143],"(",["T_CONSTANT_ENCAPSED_STRING","'e'",143],")",";",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$entityLoader",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getLoader",144],"(",["T_VARIABLE","$options",144],"[",["T_CONSTANT_ENCAPSED_STRING","'em'",144],"]",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$queryBuilder",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$options",144],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",144],"]",")",";",["T_WHITESPACE","\n                ",144],"}",["T_WHITESPACE","\n\n                ",145],["T_VARIABLE","$doctrineChoiceLoader",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_NEW","new",147],["T_WHITESPACE"," ",147],["T_STRING","DoctrineChoiceLoader",147],"(",["T_WHITESPACE","\n                    ",147],["T_VARIABLE","$options",148],"[",["T_CONSTANT_ENCAPSED_STRING","'em'",148],"]",",",["T_WHITESPACE","\n                    ",148],["T_VARIABLE","$options",149],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",149],"]",",",["T_WHITESPACE","\n                    ",149],["T_VARIABLE","$options",150],"[",["T_CONSTANT_ENCAPSED_STRING","'id_reader'",150],"]",",",["T_WHITESPACE","\n                    ",150],["T_VARIABLE","$entityLoader",151],["T_WHITESPACE","\n                ",151],")",";",["T_WHITESPACE","\n\n                ",152],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$hash",154],["T_WHITESPACE"," ",154],["T_IS_NOT_IDENTICAL","!==",154],["T_WHITESPACE"," ",154],["T_STRING","null",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","choiceLoaders",155],"[",["T_VARIABLE","$hash",155],"]",["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$doctrineChoiceLoader",155],";",["T_WHITESPACE","\n                ",155],"}",["T_WHITESPACE","\n\n                ",156],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$doctrineChoiceLoader",158],";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n        ",159],"}",";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$choiceName",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],"(",["T_STRING","Options",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$options",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_DOC_COMMENT","\/** @var IdReader $idReader *\/",163],["T_WHITESPACE","\n            ",163],["T_VARIABLE","$idReader",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$options",164],"[",["T_CONSTANT_ENCAPSED_STRING","'id_reader'",164],"]",";",["T_WHITESPACE","\n\n            ",164],["T_COMMENT","\/\/ If the object has a single-column, numeric ID, use that ID as\n",166],["T_WHITESPACE","            ",167],["T_COMMENT","\/\/ field name. We can only use numeric IDs as names, as we cannot\n",167],["T_WHITESPACE","            ",168],["T_COMMENT","\/\/ guarantee that a non-numeric ID contains a valid form name\n",168],["T_WHITESPACE","            ",169],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$idReader",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","isIntId",169],"(",")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",["T_CLASS_C","__CLASS__",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'createChoiceName'",170],")",";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n\n            ",171],["T_COMMENT","\/\/ Otherwise, an incrementing integer is used as name automatically\n",173],["T_WHITESPACE","        ",174],"}",";",["T_WHITESPACE","\n\n        ",174],["T_COMMENT","\/\/ The choices are always indexed by ID (see \"choices\" normalizer\n",176],["T_WHITESPACE","        ",177],["T_COMMENT","\/\/ and DoctrineChoiceLoader), unless the ID is composite. Then they\n",177],["T_WHITESPACE","        ",178],["T_COMMENT","\/\/ are indexed by an incrementing integer.\n",178],["T_WHITESPACE","        ",179],["T_COMMENT","\/\/ Use the ID\/incrementing integer as choice value.\n",179],["T_WHITESPACE","        ",180],["T_VARIABLE","$choiceValue",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],"(",["T_STRING","Options",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$options",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_DOC_COMMENT","\/** @var IdReader $idReader *\/",181],["T_WHITESPACE","\n            ",181],["T_VARIABLE","$idReader",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$options",182],"[",["T_CONSTANT_ENCAPSED_STRING","'id_reader'",182],"]",";",["T_WHITESPACE","\n\n            ",182],["T_COMMENT","\/\/ If the entity has a single-column ID, use that ID as value\n",184],["T_WHITESPACE","            ",185],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$idReader",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","isSingleId",185],"(",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_VARIABLE","$idReader",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'getIdValue'",186],")",";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n\n            ",187],["T_COMMENT","\/\/ Otherwise, an incrementing integer is used as value automatically\n",189],["T_WHITESPACE","        ",190],"}",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$emNormalizer",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],"(",["T_STRING","Options",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$options",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$em",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_COMMENT","\/* @var ManagerRegistry $registry *\/",193],["T_WHITESPACE","\n            ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_STRING","null",194],["T_WHITESPACE"," ",194],["T_IS_NOT_IDENTICAL","!==",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$em",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$em",195],["T_WHITESPACE"," ",195],["T_INSTANCEOF","instanceof",195],["T_WHITESPACE"," ",195],["T_STRING","ObjectManager",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                    ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$em",196],";",["T_WHITESPACE","\n                ",196],"}",["T_WHITESPACE","\n\n                ",197],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","registry",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getManager",199],"(",["T_VARIABLE","$em",199],")",";",["T_WHITESPACE","\n            ",199],"}",["T_WHITESPACE","\n\n            ",200],["T_VARIABLE","$em",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","registry",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getManagerForClass",202],"(",["T_VARIABLE","$options",202],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",202],"]",")",";",["T_WHITESPACE","\n\n            ",202],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_STRING","null",204],["T_WHITESPACE"," ",204],["T_IS_IDENTICAL","===",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$em",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n                ",204],["T_THROW","throw",205],["T_WHITESPACE"," ",205],["T_NEW","new",205],["T_WHITESPACE"," ",205],["T_STRING","RuntimeException",205],"(",["T_STRING","sprintf",205],"(",["T_WHITESPACE","\n                    ",205],["T_CONSTANT_ENCAPSED_STRING","'Class \"%s\" seems not to be a managed Doctrine entity. '",206],".",["T_WHITESPACE","\n                    ",206],["T_CONSTANT_ENCAPSED_STRING","'Did you forget to map it?'",207],",",["T_WHITESPACE","\n                    ",207],["T_VARIABLE","$options",208],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",208],"]",["T_WHITESPACE","\n                ",208],")",")",";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n\n            ",210],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$em",212],";",["T_WHITESPACE","\n        ",212],"}",";",["T_WHITESPACE","\n\n        ",213],["T_COMMENT","\/\/ Invoke the query builder closure so that we can cache choice lists\n",215],["T_WHITESPACE","        ",216],["T_COMMENT","\/\/ for equal query builders\n",216],["T_WHITESPACE","        ",217],["T_VARIABLE","$queryBuilderNormalizer",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],"(",["T_STRING","Options",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$options",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$queryBuilder",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_STRING","is_callable",218],"(",["T_VARIABLE","$queryBuilder",218],")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                ",218],["T_VARIABLE","$queryBuilder",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","call_user_func",219],"(",["T_VARIABLE","$queryBuilder",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$options",219],"[",["T_CONSTANT_ENCAPSED_STRING","'em'",219],"]",["T_OBJECT_OPERATOR","->",219],["T_STRING","getRepository",219],"(",["T_VARIABLE","$options",219],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",219],"]",")",")",";",["T_WHITESPACE","\n            ",219],"}",["T_WHITESPACE","\n\n            ",220],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$queryBuilder",222],";",["T_WHITESPACE","\n        ",222],"}",";",["T_WHITESPACE","\n\n        ",223],["T_COMMENT","\/\/ Set the \"id_reader\" option via the normalizer. This option is not\n",225],["T_WHITESPACE","        ",226],["T_COMMENT","\/\/ supposed to be set by the user.\n",226],["T_WHITESPACE","        ",227],["T_VARIABLE","$idReaderNormalizer",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],"(",["T_STRING","Options",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$options",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$hash",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","CachingFactoryDecorator",228],["T_DOUBLE_COLON","::",228],["T_STRING","generateHash",228],"(",["T_ARRAY","array",228],"(",["T_WHITESPACE","\n                ",228],["T_VARIABLE","$options",229],"[",["T_CONSTANT_ENCAPSED_STRING","'em'",229],"]",",",["T_WHITESPACE","\n                ",229],["T_VARIABLE","$options",230],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",230],"]",",",["T_WHITESPACE","\n            ",230],")",")",";",["T_WHITESPACE","\n\n            ",231],["T_COMMENT","\/\/ The ID reader is a utility that is needed to read the object IDs\n",233],["T_WHITESPACE","            ",234],["T_COMMENT","\/\/ when generating the field values. The callback generating the\n",234],["T_WHITESPACE","            ",235],["T_COMMENT","\/\/ field values has no access to the object manager or the class\n",235],["T_WHITESPACE","            ",236],["T_COMMENT","\/\/ of the field, so we store that information in the reader.\n",236],["T_WHITESPACE","            ",237],["T_COMMENT","\/\/ The reader is cached so that two choice lists for the same class\n",237],["T_WHITESPACE","            ",238],["T_COMMENT","\/\/ (and hence with the same reader) can successfully be cached.\n",238],["T_WHITESPACE","            ",239],["T_IF","if",239],["T_WHITESPACE"," ",239],"(","!",["T_ISSET","isset",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","idReaders",239],"[",["T_VARIABLE","$hash",239],"]",")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$classMetadata",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$options",240],"[",["T_CONSTANT_ENCAPSED_STRING","'em'",240],"]",["T_OBJECT_OPERATOR","->",240],["T_STRING","getClassMetadata",240],"(",["T_VARIABLE","$options",240],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",240],"]",")",";",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","idReaders",241],"[",["T_VARIABLE","$hash",241],"]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_STRING","IdReader",241],"(",["T_VARIABLE","$options",241],"[",["T_CONSTANT_ENCAPSED_STRING","'em'",241],"]",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$classMetadata",241],")",";",["T_WHITESPACE","\n            ",241],"}",["T_WHITESPACE","\n\n            ",242],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","idReaders",244],"[",["T_VARIABLE","$hash",244],"]",";",["T_WHITESPACE","\n        ",244],"}",";",["T_WHITESPACE","\n\n        ",245],["T_VARIABLE","$resolver",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setDefaults",247],"(",["T_ARRAY","array",247],"(",["T_WHITESPACE","\n            ",247],["T_CONSTANT_ENCAPSED_STRING","'em'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_STRING","null",248],",",["T_WHITESPACE","\n            ",248],["T_CONSTANT_ENCAPSED_STRING","'query_builder'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_STRING","null",249],",",["T_WHITESPACE","\n            ",249],["T_CONSTANT_ENCAPSED_STRING","'choices'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_STRING","null",250],",",["T_WHITESPACE","\n            ",250],["T_CONSTANT_ENCAPSED_STRING","'choice_loader'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$choiceLoader",251],",",["T_WHITESPACE","\n            ",251],["T_CONSTANT_ENCAPSED_STRING","'choice_label'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",["T_CLASS_C","__CLASS__",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'createChoiceLabel'",252],")",",",["T_WHITESPACE","\n            ",252],["T_CONSTANT_ENCAPSED_STRING","'choice_name'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$choiceName",253],",",["T_WHITESPACE","\n            ",253],["T_CONSTANT_ENCAPSED_STRING","'choice_value'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$choiceValue",254],",",["T_WHITESPACE","\n            ",254],["T_CONSTANT_ENCAPSED_STRING","'id_reader'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_STRING","null",255],",",["T_WHITESPACE"," ",255],["T_COMMENT","\/\/ internal\n",255],["T_WHITESPACE","            ",256],["T_CONSTANT_ENCAPSED_STRING","'choice_translation_domain'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_STRING","false",256],",",["T_WHITESPACE","\n        ",256],")",")",";",["T_WHITESPACE","\n\n        ",257],["T_VARIABLE","$resolver",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","setRequired",259],"(",["T_ARRAY","array",259],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",259],")",")",";",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$resolver",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","setNormalizer",261],"(",["T_CONSTANT_ENCAPSED_STRING","'em'",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$emNormalizer",261],")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$resolver",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","setNormalizer",262],"(",["T_CONSTANT_ENCAPSED_STRING","'query_builder'",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$queryBuilderNormalizer",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$resolver",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","setNormalizer",263],"(",["T_CONSTANT_ENCAPSED_STRING","'id_reader'",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$idReaderNormalizer",263],")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$resolver",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","setAllowedTypes",265],"(",["T_CONSTANT_ENCAPSED_STRING","'em'",265],",",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",["T_CONSTANT_ENCAPSED_STRING","'null'",265],",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'string'",265],",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'Doctrine\\Common\\Persistence\\ObjectManager'",265],")",")",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Return the default loader object.\n     *\n     * @param ObjectManager $manager\n     * @param mixed         $queryBuilder\n     * @param string        $class\n     *\n     * @return EntityLoaderInterface\n     *\/",268],["T_WHITESPACE","\n    ",276],["T_ABSTRACT","abstract",277],["T_WHITESPACE"," ",277],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","getLoader",277],"(",["T_STRING","ObjectManager",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$manager",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$queryBuilder",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$class",277],")",";",["T_WHITESPACE","\n\n    ",277],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","getParent",279],"(",")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Form\\Extension\\Core\\Type\\ChoiceType'",281],";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n",282],"}",["T_WHITESPACE","\n",283]]