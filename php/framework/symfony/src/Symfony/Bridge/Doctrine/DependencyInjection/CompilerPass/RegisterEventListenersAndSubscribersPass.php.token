[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bridge",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Doctrine",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyInjection",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CompilerPass",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DependencyInjection",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ContainerBuilder",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DependencyInjection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Reference",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DependencyInjection",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Compiler",16],["T_NS_SEPARATOR","\\",16],["T_STRING","CompilerPassInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DependencyInjection",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","InvalidArgumentException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DependencyInjection",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_NS_SEPARATOR","\\",18],["T_STRING","RuntimeException",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Registers event listeners and subscribers to the available doctrine connections.\n *\n * @author Jeremy Mikola <jmikola@gmail.com>\n * @author Alexander <iam.asm89@gmail.com>\n *\/",20],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","RegisterEventListenersAndSubscribersPass",26],["T_WHITESPACE"," ",26],["T_IMPLEMENTS","implements",26],["T_WHITESPACE"," ",26],["T_STRING","CompilerPassInterface",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$connections",28],";",["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$container",29],";",["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$eventManagers",30],";",["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$managerTemplate",31],";",["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$tagPrefix",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param string $connections     Parameter ID for connections\n     * @param string $managerTemplate sprintf() template for generating the event\n     *                                manager's service ID for a connection name\n     * @param string $tagPrefix       Tag prefix for listeners and subscribers\n     *\/",34],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","__construct",42],"(",["T_VARIABLE","$connections",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$managerTemplate",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$tagPrefix",42],")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","connections",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$connections",44],";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","managerTemplate",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$managerTemplate",45],";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","tagPrefix",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$tagPrefix",46],";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","process",52],"(",["T_STRING","ContainerBuilder",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$container",52],")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(","!",["T_VARIABLE","$container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","hasParameter",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","connections",54],")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_RETURN","return",55],";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$taggedSubscribers",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$container",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","findTaggedServiceIds",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","tagPrefix",58],".",["T_CONSTANT_ENCAPSED_STRING","'.event_subscriber'",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$taggedListeners",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$container",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","findTaggedServiceIds",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","tagPrefix",59],".",["T_CONSTANT_ENCAPSED_STRING","'.event_listener'",59],")",";",["T_WHITESPACE","\n\n        ",59],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_EMPTY","empty",61],"(",["T_VARIABLE","$taggedSubscribers",61],")",["T_WHITESPACE"," ",61],["T_BOOLEAN_AND","&&",61],["T_WHITESPACE"," ",61],["T_EMPTY","empty",61],"(",["T_VARIABLE","$taggedListeners",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_RETURN","return",62],";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","container",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$container",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","connections",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$container",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getParameter",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","connections",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$sortFunc",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$a",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$b",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$a",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ISSET","isset",68],"(",["T_VARIABLE","$a",68],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",68],"]",")",["T_WHITESPACE"," ",68],"?",["T_WHITESPACE"," ",68],["T_VARIABLE","$a",68],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",68],"]",["T_WHITESPACE"," ",68],":",["T_WHITESPACE"," ",68],["T_LNUMBER","0",68],";",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$b",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ISSET","isset",69],"(",["T_VARIABLE","$b",69],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",69],"]",")",["T_WHITESPACE"," ",69],"?",["T_WHITESPACE"," ",69],["T_VARIABLE","$b",69],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",69],"]",["T_WHITESPACE"," ",69],":",["T_WHITESPACE"," ",69],["T_LNUMBER","0",69],";",["T_WHITESPACE","\n\n            ",69],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$a",71],["T_WHITESPACE"," ",71],">",["T_WHITESPACE"," ",71],["T_VARIABLE","$b",71],["T_WHITESPACE"," ",71],"?",["T_WHITESPACE"," ",71],"-",["T_LNUMBER","1",71],["T_WHITESPACE"," ",71],":",["T_WHITESPACE"," ",71],["T_LNUMBER","1",71],";",["T_WHITESPACE","\n        ",71],"}",";",["T_WHITESPACE","\n\n        ",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(","!",["T_EMPTY","empty",74],"(",["T_VARIABLE","$taggedSubscribers",74],")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$subscribersPerCon",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","groupByConnection",75],"(",["T_VARIABLE","$taggedSubscribers",75],")",";",["T_WHITESPACE","\n            ",75],["T_FOREACH","foreach",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$subscribersPerCon",76],["T_WHITESPACE"," ",76],["T_AS","as",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$con",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$subscribers",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$em",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getEventManager",77],"(",["T_VARIABLE","$con",77],")",";",["T_WHITESPACE","\n\n                ",77],["T_STRING","uasort",79],"(",["T_VARIABLE","$subscribers",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$sortFunc",79],")",";",["T_WHITESPACE","\n                ",79],["T_FOREACH","foreach",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$subscribers",80],["T_WHITESPACE"," ",80],["T_AS","as",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$id",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$instance",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                    ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$container",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getDefinition",81],"(",["T_VARIABLE","$id",81],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","isAbstract",81],"(",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                        ",81],["T_THROW","throw",82],["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","InvalidArgumentException",82],"(",["T_STRING","sprintf",82],"(",["T_CONSTANT_ENCAPSED_STRING","'The abstract service \"%s\" cannot be tagged as a doctrine event subscriber.'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$id",82],")",")",";",["T_WHITESPACE","\n                    ",82],"}",["T_WHITESPACE","\n\n                    ",83],["T_VARIABLE","$em",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","addMethodCall",85],"(",["T_CONSTANT_ENCAPSED_STRING","'addEventSubscriber'",85],",",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","Reference",85],"(",["T_VARIABLE","$id",85],")",")",")",";",["T_WHITESPACE","\n                ",85],"}",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n\n        ",88],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_EMPTY","empty",90],"(",["T_VARIABLE","$taggedListeners",90],")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$listenersPerCon",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","groupByConnection",91],"(",["T_VARIABLE","$taggedListeners",91],",",["T_WHITESPACE"," ",91],["T_STRING","true",91],")",";",["T_WHITESPACE","\n            ",91],["T_FOREACH","foreach",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$listenersPerCon",92],["T_WHITESPACE"," ",92],["T_AS","as",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$con",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$listeners",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$em",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getEventManager",93],"(",["T_VARIABLE","$con",93],")",";",["T_WHITESPACE","\n\n                ",93],["T_STRING","uasort",95],"(",["T_VARIABLE","$listeners",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$sortFunc",95],")",";",["T_WHITESPACE","\n                ",95],["T_FOREACH","foreach",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$listeners",96],["T_WHITESPACE"," ",96],["T_AS","as",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$id",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$instance",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                    ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$container",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getDefinition",97],"(",["T_VARIABLE","$id",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","isAbstract",97],"(",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                        ",97],["T_THROW","throw",98],["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","InvalidArgumentException",98],"(",["T_STRING","sprintf",98],"(",["T_CONSTANT_ENCAPSED_STRING","'The abstract service \"%s\" cannot be tagged as a doctrine event listener.'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$id",98],")",")",";",["T_WHITESPACE","\n                    ",98],"}",["T_WHITESPACE","\n\n                    ",99],["T_VARIABLE","$em",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","addMethodCall",101],"(",["T_CONSTANT_ENCAPSED_STRING","'addEventListener'",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n                        ",101],["T_STRING","array_unique",102],"(",["T_VARIABLE","$instance",102],"[",["T_CONSTANT_ENCAPSED_STRING","'event'",102],"]",")",",",["T_WHITESPACE","\n                        ",102],["T_ISSET","isset",103],"(",["T_VARIABLE","$instance",103],"[",["T_CONSTANT_ENCAPSED_STRING","'lazy'",103],"]",")",["T_WHITESPACE"," ",103],["T_BOOLEAN_AND","&&",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$instance",103],"[",["T_CONSTANT_ENCAPSED_STRING","'lazy'",103],"]",["T_WHITESPACE"," ",103],"?",["T_WHITESPACE"," ",103],["T_VARIABLE","$id",103],["T_WHITESPACE"," ",103],":",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","Reference",103],"(",["T_VARIABLE","$id",103],")",",",["T_WHITESPACE","\n                    ",103],")",")",";",["T_WHITESPACE","\n                ",104],"}",["T_WHITESPACE","\n            ",105],"}",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_PRIVATE","private",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","groupByConnection",110],"(",["T_ARRAY","array",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$services",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$isListener",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","false",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$grouped",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",")",";",["T_WHITESPACE","\n        ",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$allCons",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","array_keys",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","connections",113],")",["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$con",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$grouped",114],"[",["T_VARIABLE","$con",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n\n        ",115],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$services",117],["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$id",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$instances",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_FOREACH","foreach",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$instances",118],["T_WHITESPACE"," ",118],["T_AS","as",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$instance",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$isListener",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                    ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_ISSET","isset",120],"(",["T_VARIABLE","$instance",120],"[",["T_CONSTANT_ENCAPSED_STRING","'event'",120],"]",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                        ",120],["T_THROW","throw",121],["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","InvalidArgumentException",121],"(",["T_STRING","sprintf",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Doctrine event listener \"%s\" must specify the \"event\" attribute.'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$id",121],")",")",";",["T_WHITESPACE","\n                    ",121],"}",["T_WHITESPACE","\n                    ",122],["T_VARIABLE","$instance",123],"[",["T_CONSTANT_ENCAPSED_STRING","'event'",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",["T_VARIABLE","$instance",123],"[",["T_CONSTANT_ENCAPSED_STRING","'event'",123],"]",")",";",["T_WHITESPACE","\n\n                    ",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_ISSET","isset",125],"(",["T_VARIABLE","$instance",125],"[",["T_CONSTANT_ENCAPSED_STRING","'lazy'",125],"]",")",["T_WHITESPACE"," ",125],["T_BOOLEAN_AND","&&",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$instance",125],"[",["T_CONSTANT_ENCAPSED_STRING","'lazy'",125],"]",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","container",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getDefinition",126],"(",["T_VARIABLE","$id",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","setPublic",126],"(",["T_STRING","true",126],")",";",["T_WHITESPACE","\n                    ",126],"}",["T_WHITESPACE","\n                ",127],"}",["T_WHITESPACE","\n\n                ",128],["T_VARIABLE","$cons",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ISSET","isset",130],"(",["T_VARIABLE","$instance",130],"[",["T_CONSTANT_ENCAPSED_STRING","'connection'",130],"]",")",["T_WHITESPACE"," ",130],"?",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_VARIABLE","$instance",130],"[",["T_CONSTANT_ENCAPSED_STRING","'connection'",130],"]",")",["T_WHITESPACE"," ",130],":",["T_WHITESPACE"," ",130],["T_VARIABLE","$allCons",130],";",["T_WHITESPACE","\n                ",130],["T_FOREACH","foreach",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$cons",131],["T_WHITESPACE"," ",131],["T_AS","as",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$con",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                    ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","!",["T_ISSET","isset",132],"(",["T_VARIABLE","$grouped",132],"[",["T_VARIABLE","$con",132],"]",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                        ",132],["T_THROW","throw",133],["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","RuntimeException",133],"(",["T_STRING","sprintf",133],"(",["T_CONSTANT_ENCAPSED_STRING","'The Doctrine connection \"%s\" referenced in service \"%s\" does not exist. Available connections names: %s'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$con",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$id",133],",",["T_WHITESPACE"," ",133],["T_STRING","implode",133],"(",["T_CONSTANT_ENCAPSED_STRING","', '",133],",",["T_WHITESPACE"," ",133],["T_STRING","array_keys",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","connections",133],")",")",")",")",";",["T_WHITESPACE","\n                    ",133],"}",["T_WHITESPACE","\n\n                    ",134],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$isListener",136],["T_WHITESPACE"," ",136],["T_BOOLEAN_AND","&&",136],["T_WHITESPACE"," ",136],["T_ISSET","isset",136],"(",["T_VARIABLE","$grouped",136],"[",["T_VARIABLE","$con",136],"]","[",["T_VARIABLE","$id",136],"]",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                        ",136],["T_VARIABLE","$grouped",137],"[",["T_VARIABLE","$con",137],"]","[",["T_VARIABLE","$id",137],"]","[",["T_CONSTANT_ENCAPSED_STRING","'event'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","array_merge",137],"(",["T_VARIABLE","$grouped",137],"[",["T_VARIABLE","$con",137],"]","[",["T_VARIABLE","$id",137],"]","[",["T_CONSTANT_ENCAPSED_STRING","'event'",137],"]",",",["T_WHITESPACE"," ",137],["T_VARIABLE","$instance",137],"[",["T_CONSTANT_ENCAPSED_STRING","'event'",137],"]",")",";",["T_WHITESPACE","\n                    ",137],"}",["T_WHITESPACE"," ",138],["T_ELSE","else",138],["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                        ",138],["T_VARIABLE","$grouped",139],"[",["T_VARIABLE","$con",139],"]","[",["T_VARIABLE","$id",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$instance",139],";",["T_WHITESPACE","\n                    ",139],"}",["T_WHITESPACE","\n                ",140],"}",["T_WHITESPACE","\n            ",141],"}",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$grouped",145],";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_PRIVATE","private",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","getEventManager",148],"(",["T_VARIABLE","$name",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_STRING","null",150],["T_WHITESPACE"," ",150],["T_IS_IDENTICAL","===",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","eventManagers",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","eventManagers",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",";",["T_WHITESPACE","\n            ",151],["T_FOREACH","foreach",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","connections",152],["T_WHITESPACE"," ",152],["T_AS","as",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$n",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$id",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","eventManagers",153],"[",["T_VARIABLE","$n",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","container",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getDefinition",153],"(",["T_STRING","sprintf",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","managerTemplate",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$n",153],")",")",";",["T_WHITESPACE","\n            ",153],"}",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n\n        ",155],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","eventManagers",157],"[",["T_VARIABLE","$name",157],"]",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n",158],"}",["T_WHITESPACE","\n",159]]