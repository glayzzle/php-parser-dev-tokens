[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bridge",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Doctrine",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","User",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Bridge",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Doctrine",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DoctrineTestHelper",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Bridge",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Doctrine",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Tests",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Fixtures",15],["T_NS_SEPARATOR","\\",15],["T_STRING","User",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Bridge",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Doctrine",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Security",16],["T_NS_SEPARATOR","\\",16],["T_STRING","User",16],["T_NS_SEPARATOR","\\",16],["T_STRING","EntityUserProvider",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Doctrine",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ORM",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Tools",17],["T_NS_SEPARATOR","\\",17],["T_STRING","SchemaTool",17],";",["T_WHITESPACE","\n\n",17],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","EntityUserProviderTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","testRefreshUserGetsUserByPrimaryKey",21],"(",")",["T_WHITESPACE","\n    ",21],"{",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$em",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_STRING","DoctrineTestHelper",23],["T_DOUBLE_COLON","::",23],["T_STRING","createTestEntityManager",23],"(",")",";",["T_WHITESPACE","\n        ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","createSchema",24],"(",["T_VARIABLE","$em",24],")",";",["T_WHITESPACE","\n\n        ",24],["T_VARIABLE","$user1",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_NEW","new",26],["T_WHITESPACE"," ",26],["T_STRING","User",26],"(",["T_LNUMBER","1",26],",",["T_WHITESPACE"," ",26],["T_LNUMBER","1",26],",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'user1'",26],")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$user2",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_NEW","new",27],["T_WHITESPACE"," ",27],["T_STRING","User",27],"(",["T_LNUMBER","1",27],",",["T_WHITESPACE"," ",27],["T_LNUMBER","2",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'user2'",27],")",";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$em",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","persist",29],"(",["T_VARIABLE","$user1",29],")",";",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$em",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","persist",30],"(",["T_VARIABLE","$user2",30],")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$em",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","flush",31],"(",")",";",["T_WHITESPACE","\n\n        ",31],["T_VARIABLE","$provider",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","EntityUserProvider",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getManager",33],"(",["T_VARIABLE","$em",33],")",",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'name'",33],")",";",["T_WHITESPACE","\n\n        ",33],["T_COMMENT","\/\/ try to change the user identity\n",35],["T_WHITESPACE","        ",36],["T_VARIABLE","$user1",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","name",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'user2'",36],";",["T_WHITESPACE","\n\n        ",36],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertSame",38],"(",["T_VARIABLE","$user1",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$provider",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","refreshUser",38],"(",["T_VARIABLE","$user1",38],")",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testLoadUserByUsername",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$em",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","DoctrineTestHelper",43],["T_DOUBLE_COLON","::",43],["T_STRING","createTestEntityManager",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","createSchema",44],"(",["T_VARIABLE","$em",44],")",";",["T_WHITESPACE","\n\n        ",44],["T_VARIABLE","$user",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","User",46],"(",["T_LNUMBER","1",46],",",["T_WHITESPACE"," ",46],["T_LNUMBER","1",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'user1'",46],")",";",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$em",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","persist",48],"(",["T_VARIABLE","$user",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$em",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","flush",49],"(",")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$provider",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","EntityUserProvider",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getManager",51],"(",["T_VARIABLE","$em",51],")",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'name'",51],")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertSame",53],"(",["T_VARIABLE","$user",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$provider",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","loadUserByUsername",53],"(",["T_CONSTANT_ENCAPSED_STRING","'user1'",53],")",")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","testLoadUserByUsernameWithUserLoaderRepositoryAndWithoutProperty",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$user",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_NEW","new",58],["T_WHITESPACE"," ",58],["T_STRING","User",58],"(",["T_LNUMBER","1",58],",",["T_WHITESPACE"," ",58],["T_LNUMBER","1",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'user1'",58],")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$repository",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMockBuilder",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Security\\User\\UserLoaderInterface'",60],")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","disableOriginalConstructor",61],"(",")",["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMock",62],"(",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$repository",63],["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","expects",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","once",64],"(",")",")",["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","method",65],"(",["T_CONSTANT_ENCAPSED_STRING","'loadUserByUsername'",65],")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","with",66],"(",["T_CONSTANT_ENCAPSED_STRING","'user1'",66],")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","willReturn",67],"(",["T_VARIABLE","$user",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$em",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMockBuilder",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Doctrine\\ORM\\EntityManager'",69],")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","disableOriginalConstructor",70],"(",")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$em",72],["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","expects",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","once",73],"(",")",")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'getRepository'",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","with",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",75],")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","willReturn",76],"(",["T_VARIABLE","$repository",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$provider",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","EntityUserProvider",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getManager",78],"(",["T_VARIABLE","$em",78],")",",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertSame",79],"(",["T_VARIABLE","$user",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$provider",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","loadUserByUsername",79],"(",["T_CONSTANT_ENCAPSED_STRING","'user1'",79],")",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage You must either make the \"Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User\" entity Doctrine Repository (\"Doctrine\\ORM\\EntityRepository\") implement \"Symfony\\Bridge\\Doctrine\\Security\\User\\UserLoaderInterface\" or set the \"property\" option in the corresponding entity provider configuration.\n     *\/",82],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testLoadUserByUsernameWithNonUserLoaderRepositoryAndWithoutProperty",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$em",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","DoctrineTestHelper",88],["T_DOUBLE_COLON","::",88],["T_STRING","createTestEntityManager",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","createSchema",89],"(",["T_VARIABLE","$em",89],")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$user",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","User",91],"(",["T_LNUMBER","1",91],",",["T_WHITESPACE"," ",91],["T_LNUMBER","1",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'user1'",91],")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$em",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","persist",93],"(",["T_VARIABLE","$user",93],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$em",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","flush",94],"(",")",";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$provider",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_STRING","EntityUserProvider",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getManager",96],"(",["T_VARIABLE","$em",96],")",",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$provider",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","loadUserByUsername",97],"(",["T_CONSTANT_ENCAPSED_STRING","'user1'",97],")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","testRefreshUserRequiresId",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$em",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","DoctrineTestHelper",102],["T_DOUBLE_COLON","::",102],["T_STRING","createTestEntityManager",102],"(",")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$user1",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","User",104],"(",["T_STRING","null",104],",",["T_WHITESPACE"," ",104],["T_STRING","null",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'user1'",104],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$provider",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","EntityUserProvider",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getManager",105],"(",["T_VARIABLE","$em",105],")",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'name'",105],")",";",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","setExpectedException",107],"(",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","'InvalidArgumentException'",108],",",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'You cannot refresh a user from the EntityUserProvider that does not contain an identifier. The user object has to be serialized with its own identifier mapped by Doctrine'",109],["T_WHITESPACE","\n        ",109],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$provider",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","refreshUser",111],"(",["T_VARIABLE","$user1",111],")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","testRefreshInvalidUser",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$em",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","DoctrineTestHelper",116],["T_DOUBLE_COLON","::",116],["T_STRING","createTestEntityManager",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","createSchema",117],"(",["T_VARIABLE","$em",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$user1",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","User",119],"(",["T_LNUMBER","1",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","1",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'user1'",119],")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$em",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","persist",121],"(",["T_VARIABLE","$user1",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$em",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","flush",122],"(",")",";",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$provider",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","EntityUserProvider",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getManager",124],"(",["T_VARIABLE","$em",124],")",",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'name'",124],")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$user2",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","User",126],"(",["T_LNUMBER","1",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","2",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'user2'",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","setExpectedException",127],"(",["T_WHITESPACE","\n            ",127],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Exception\\UsernameNotFoundException'",128],",",["T_WHITESPACE","\n            ",128],["T_CONSTANT_ENCAPSED_STRING","'User with id {\"id1\":1,\"id2\":2} not found'",129],["T_WHITESPACE","\n        ",129],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$provider",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","refreshUser",131],"(",["T_VARIABLE","$user2",131],")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","testSupportProxy",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$em",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","DoctrineTestHelper",136],["T_DOUBLE_COLON","::",136],["T_STRING","createTestEntityManager",136],"(",")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","createSchema",137],"(",["T_VARIABLE","$em",137],")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$user1",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","User",139],"(",["T_LNUMBER","1",139],",",["T_WHITESPACE"," ",139],["T_LNUMBER","1",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'user1'",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$em",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","persist",141],"(",["T_VARIABLE","$user1",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$em",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","flush",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$em",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","clear",143],"(",")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$provider",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","EntityUserProvider",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getManager",145],"(",["T_VARIABLE","$em",145],")",",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'name'",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$user2",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$em",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getReference",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",147],",",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_CONSTANT_ENCAPSED_STRING","'id1'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_LNUMBER","1",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'id2'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_LNUMBER","1",147],")",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertTrue",148],"(",["T_VARIABLE","$provider",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","supportsClass",148],"(",["T_STRING","get_class",148],"(",["T_VARIABLE","$user2",148],")",")",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","testLoadUserByUserNameShouldLoadUserWhenProperInterfaceProvided",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$repository",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getMockBuilder",153],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Symfony\\Bridge\\Doctrine\\Security\\User\\UserLoaderInterface'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","getMock",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$repository",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","expects",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","once",154],"(",")",")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","method",155],"(",["T_CONSTANT_ENCAPSED_STRING","'loadUserByUsername'",155],")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","with",156],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",156],")",["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","willReturn",157],"(",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getMockBuilder",158],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Symfony\\Component\\Security\\Core\\User\\UserInterface'",158],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getMock",158],"(",")",["T_WHITESPACE","\n            ",158],")",";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$provider",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_NEW","new",161],["T_WHITESPACE"," ",161],["T_STRING","EntityUserProvider",161],"(",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getManager",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getObjectManager",162],"(",["T_VARIABLE","$repository",162],")",")",",",["T_WHITESPACE","\n            ",162],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",163],["T_WHITESPACE","\n        ",163],")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$provider",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","loadUserByUsername",166],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",166],")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * @expectedException \\InvalidArgumentException\n     *\/",169],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","testLoadUserByUserNameShouldDeclineInvalidInterface",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$repository",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getMockBuilder",174],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Symfony\\Component\\Security\\Core\\User\\AdvancedUserInterface'",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getMock",174],"(",")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$provider",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_STRING","EntityUserProvider",176],"(",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getManager",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getObjectManager",177],"(",["T_VARIABLE","$repository",177],")",")",",",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",178],["T_WHITESPACE","\n        ",178],")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$provider",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","loadUserByUsername",181],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",181],")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_PRIVATE","private",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getManager",184],"(",["T_VARIABLE","$em",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$name",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","null",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$manager",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getMockBuilder",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Doctrine\\Common\\Persistence\\ManagerRegistry'",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getMock",186],"(",")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$manager",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","expects",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","any",187],"(",")",")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","method",188],"(",["T_CONSTANT_ENCAPSED_STRING","'getManager'",188],")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","with",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","equalTo",189],"(",["T_VARIABLE","$name",189],")",")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","will",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","returnValue",190],"(",["T_VARIABLE","$em",190],")",")",";",["T_WHITESPACE","\n\n        ",190],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$manager",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_PRIVATE","private",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","getObjectManager",195],"(",["T_VARIABLE","$repository",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$em",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getMockBuilder",197],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Doctrine\\Common\\Persistence\\ObjectManager'",197],")",["T_WHITESPACE","\n            ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","setMethods",198],"(",["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'getClassMetadata'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'getRepository'",198],")",")",["T_WHITESPACE","\n            ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","getMockForAbstractClass",199],"(",")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$em",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","expects",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","any",200],"(",")",")",["T_WHITESPACE","\n            ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","method",201],"(",["T_CONSTANT_ENCAPSED_STRING","'getRepository'",201],")",["T_WHITESPACE","\n            ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","willReturn",202],"(",["T_VARIABLE","$repository",202],")",";",["T_WHITESPACE","\n\n        ",202],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$em",204],";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_PRIVATE","private",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","createSchema",207],"(",["T_VARIABLE","$em",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$schemaTool",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_NEW","new",209],["T_WHITESPACE"," ",209],["T_STRING","SchemaTool",209],"(",["T_VARIABLE","$em",209],")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$schemaTool",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","createSchema",210],"(",["T_ARRAY","array",210],"(",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$em",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getClassMetadata",211],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bridge\\Doctrine\\Tests\\Fixtures\\User'",211],")",",",["T_WHITESPACE","\n        ",211],")",")",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n",213],"}",["T_WHITESPACE","\n",214]]