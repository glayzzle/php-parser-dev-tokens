[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SecurityBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Functional",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CsrfFormLoginBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractType",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FormBuilderInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Form",16],["T_NS_SEPARATOR","\\",16],["T_STRING","FormError",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Form",17],["T_NS_SEPARATOR","\\",17],["T_STRING","FormEvents",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Form",18],["T_NS_SEPARATOR","\\",18],["T_STRING","FormEvent",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpFoundation",19],["T_NS_SEPARATOR","\\",19],["T_STRING","RequestStack",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","OptionsResolver",20],["T_NS_SEPARATOR","\\",20],["T_STRING","OptionsResolver",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Security",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Core",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Security",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Form type for use with the Security component's form-based authentication\n * listener.\n *\n * @author Henrik Bjornskov <henrik@bjrnskov.dk>\n * @author Jeremy Mikola <jmikola@gmail.com>\n *\/",23],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","UserLoginType",30],["T_WHITESPACE"," ",30],["T_EXTENDS","extends",30],["T_WHITESPACE"," ",30],["T_STRING","AbstractType",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$requestStack",32],";",["T_WHITESPACE","\n\n    ",32],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","__construct",34],"(",["T_STRING","RequestStack",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$requestStack",34],")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","requestStack",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$requestStack",36],";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","buildForm",42],"(",["T_STRING","FormBuilderInterface",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$builder",42],",",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$options",42],")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$builder",44],["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","add",45],"(",["T_CONSTANT_ENCAPSED_STRING","'username'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Form\\Extension\\Core\\Type\\TextType'",45],")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","add",46],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Form\\Extension\\Core\\Type\\PasswordType'",46],")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","add",47],"(",["T_CONSTANT_ENCAPSED_STRING","'_target_path'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Form\\Extension\\Core\\Type\\HiddenType'",47],")",["T_WHITESPACE","\n        ",47],";",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$request",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","requestStack",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getCurrentRequest",50],"(",")",";",["T_WHITESPACE","\n\n        ",50],["T_COMMENT","\/* Note: since the Security component's form login listener intercepts\n         * the POST request, this form will never really be bound to the\n         * request; however, we can match the expected behavior by checking the\n         * session for an authentication error and last username.\n         *\/",52],["T_WHITESPACE","\n        ",56],["T_VARIABLE","$builder",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","addEventListener",57],"(",["T_STRING","FormEvents",57],["T_DOUBLE_COLON","::",57],["T_STRING","PRE_SET_DATA",57],",",["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],"(",["T_STRING","FormEvent",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$event",57],")",["T_WHITESPACE"," ",57],["T_USE","use",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$request",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$request",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","attributes",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","has",58],"(",["T_STRING","Security",58],["T_DOUBLE_COLON","::",58],["T_STRING","AUTHENTICATION_ERROR",58],")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$error",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$request",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","attributes",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","get",59],"(",["T_STRING","Security",59],["T_DOUBLE_COLON","::",59],["T_STRING","AUTHENTICATION_ERROR",59],")",";",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE"," ",60],["T_ELSE","else",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$error",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$request",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getSession",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",["T_STRING","Security",61],["T_DOUBLE_COLON","::",61],["T_STRING","AUTHENTICATION_ERROR",61],")",";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE","\n\n            ",62],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$error",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                ",64],["T_VARIABLE","$event",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getForm",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","addError",65],"(",["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","FormError",65],"(",["T_VARIABLE","$error",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getMessage",65],"(",")",")",")",";",["T_WHITESPACE","\n            ",65],"}",["T_WHITESPACE","\n\n            ",66],["T_VARIABLE","$event",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setData",68],"(",["T_STRING","array_replace",68],"(",["T_ARRAY_CAST","(array)",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$event",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getData",68],"(",")",",",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","'username'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$request",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getSession",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",["T_STRING","Security",69],["T_DOUBLE_COLON","::",69],["T_STRING","LAST_USERNAME",69],")",",",["T_WHITESPACE","\n            ",69],")",")",")",";",["T_WHITESPACE","\n        ",70],"}",")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","configureOptions",77],"(",["T_STRING","OptionsResolver",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$resolver",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_COMMENT","\/* Note: the form's csrf_token_id must correspond to that for the form login\n         * listener in order for the CSRF token to validate successfully.\n         *\/",79],["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$resolver",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setDefaults",83],"(",["T_ARRAY","array",83],"(",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","'csrf_token_id'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'authenticate'",84],",",["T_WHITESPACE","\n        ",84],")",")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n",86],"}",["T_WHITESPACE","\n",87]]