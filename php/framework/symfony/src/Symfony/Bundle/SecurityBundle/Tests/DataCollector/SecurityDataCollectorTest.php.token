[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SecurityBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DataCollector",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Bundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SecurityBundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DataCollector",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SecurityDataCollector",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Bundle",15],["T_NS_SEPARATOR","\\",15],["T_STRING","SecurityBundle",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Security",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FirewallConfig",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Bundle",16],["T_NS_SEPARATOR","\\",16],["T_STRING","SecurityBundle",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Security",16],["T_NS_SEPARATOR","\\",16],["T_STRING","FirewallMap",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Security",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Authentication",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Token",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Storage",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TokenStorage",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Security",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Authentication",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Token",18],["T_NS_SEPARATOR","\\",18],["T_STRING","UsernamePasswordToken",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Security",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Role",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Role",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Security",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Core",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Role",20],["T_NS_SEPARATOR","\\",20],["T_STRING","RoleHierarchy",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Security",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Http",21],["T_NS_SEPARATOR","\\",21],["T_STRING","FirewallMapInterface",21],";",["T_WHITESPACE","\n\n",21],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","SecurityDataCollectorTest",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_NS_SEPARATOR","\\",23],["T_STRING","PHPUnit_Framework_TestCase",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","testCollectWhenSecurityIsDisabled",25],"(",")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$collector",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_NEW","new",27],["T_WHITESPACE"," ",27],["T_STRING","SecurityDataCollector",27],"(",")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$collector",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","collect",28],"(",["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getRequest",28],"(",")",",",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getResponse",28],"(",")",")",";",["T_WHITESPACE","\n\n        ",28],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","assertSame",30],"(",["T_CONSTANT_ENCAPSED_STRING","'security'",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$collector",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getName",30],"(",")",")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertFalse",31],"(",["T_VARIABLE","$collector",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","isEnabled",31],"(",")",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertFalse",32],"(",["T_VARIABLE","$collector",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","isAuthenticated",32],"(",")",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertNull",33],"(",["T_VARIABLE","$collector",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getTokenClass",33],"(",")",")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","assertFalse",34],"(",["T_VARIABLE","$collector",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","supportsRoleHierarchy",34],"(",")",")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertCount",35],"(",["T_LNUMBER","0",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$collector",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getRoles",35],"(",")",")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertCount",36],"(",["T_LNUMBER","0",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$collector",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getInheritedRoles",36],"(",")",")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertEmpty",37],"(",["T_VARIABLE","$collector",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getUser",37],"(",")",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertNull",38],"(",["T_VARIABLE","$collector",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getFirewall",38],"(",")",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testCollectWhenAuthenticationTokenIsNull",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$tokenStorage",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","TokenStorage",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$collector",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STRING","SecurityDataCollector",44],"(",["T_VARIABLE","$tokenStorage",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getRoleHierarchy",44],"(",")",")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$collector",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","collect",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getRequest",45],"(",")",",",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getResponse",45],"(",")",")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertTrue",47],"(",["T_VARIABLE","$collector",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","isEnabled",47],"(",")",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertFalse",48],"(",["T_VARIABLE","$collector",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","isAuthenticated",48],"(",")",")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertNull",49],"(",["T_VARIABLE","$collector",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getTokenClass",49],"(",")",")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertTrue",50],"(",["T_VARIABLE","$collector",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","supportsRoleHierarchy",50],"(",")",")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertCount",51],"(",["T_LNUMBER","0",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$collector",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getRoles",51],"(",")",")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertCount",52],"(",["T_LNUMBER","0",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$collector",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getInheritedRoles",52],"(",")",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEmpty",53],"(",["T_VARIABLE","$collector",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getUser",53],"(",")",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertNull",54],"(",["T_VARIABLE","$collector",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getFirewall",54],"(",")",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/** @dataProvider provideRoles *\/",57],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","testCollectAuthenticationTokenAndRoles",58],"(",["T_ARRAY","array",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$roles",58],",",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$normalizedRoles",58],",",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$inheritedRoles",58],")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$tokenStorage",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_STRING","TokenStorage",60],"(",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$tokenStorage",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setToken",61],"(",["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","UsernamePasswordToken",61],"(",["T_CONSTANT_ENCAPSED_STRING","'hhamon'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'P4$$w0rD'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'provider'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$roles",61],")",")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$collector",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","SecurityDataCollector",63],"(",["T_VARIABLE","$tokenStorage",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getRoleHierarchy",63],"(",")",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$collector",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","collect",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getRequest",64],"(",")",",",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getResponse",64],"(",")",")",";",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertTrue",66],"(",["T_VARIABLE","$collector",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","isEnabled",66],"(",")",")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertTrue",67],"(",["T_VARIABLE","$collector",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","isAuthenticated",67],"(",")",")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertSame",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\UsernamePasswordToken'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$collector",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getTokenClass",68],"(",")",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertTrue",69],"(",["T_VARIABLE","$collector",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","supportsRoleHierarchy",69],"(",")",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertSame",70],"(",["T_VARIABLE","$normalizedRoles",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$collector",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getRoles",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getRawData",70],"(",")","[",["T_LNUMBER","1",70],"]",")",";",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$inheritedRoles",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertSame",72],"(",["T_VARIABLE","$inheritedRoles",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$collector",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getInheritedRoles",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getRawData",72],"(",")","[",["T_LNUMBER","1",72],"]",")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE"," ",73],["T_ELSE","else",73],["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertSame",74],"(",["T_VARIABLE","$inheritedRoles",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$collector",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getInheritedRoles",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getRawData",74],"(",")","[",["T_LNUMBER","0",74],"]","[",["T_LNUMBER","0",74],"]",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertSame",76],"(",["T_CONSTANT_ENCAPSED_STRING","'hhamon'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$collector",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getUser",76],"(",")",")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testGetFirewall",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$firewallConfig",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","FirewallConfig",81],"(",["T_CONSTANT_ENCAPSED_STRING","'dummy'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'security.request_matcher.dummy'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'security.user_checker.dummy'",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$request",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getRequest",82],"(",")",";",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$firewallMap",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","getMockBuilder",85],"(",["T_STRING","FirewallMap",85],["T_DOUBLE_COLON","::",85],["T_CLASS","class",85],")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","disableOriginalConstructor",86],"(",")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$firewallMap",88],["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","expects",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","once",89],"(",")",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","method",90],"(",["T_CONSTANT_ENCAPSED_STRING","'getFirewallConfig'",90],")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","with",91],"(",["T_VARIABLE","$request",91],")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","willReturn",92],"(",["T_VARIABLE","$firewallConfig",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$collector",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","SecurityDataCollector",94],"(",["T_STRING","null",94],",",["T_WHITESPACE"," ",94],["T_STRING","null",94],",",["T_WHITESPACE"," ",94],["T_STRING","null",94],",",["T_WHITESPACE"," ",94],["T_STRING","null",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$firewallMap",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$collector",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","collect",95],"(",["T_VARIABLE","$request",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getResponse",95],"(",")",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$collected",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$collector",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getFirewall",96],"(",")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertSame",98],"(",["T_VARIABLE","$firewallConfig",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getName",98],"(",")",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$collected",98],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",98],"]",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertSame",99],"(",["T_VARIABLE","$firewallConfig",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","allowsAnonymous",99],"(",")",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$collected",99],"[",["T_CONSTANT_ENCAPSED_STRING","'allows_anonymous'",99],"]",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertSame",100],"(",["T_VARIABLE","$firewallConfig",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getRequestMatcher",100],"(",")",",",["T_WHITESPACE"," ",100],["T_VARIABLE","$collected",100],"[",["T_CONSTANT_ENCAPSED_STRING","'request_matcher'",100],"]",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertSame",101],"(",["T_VARIABLE","$firewallConfig",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","isSecurityEnabled",101],"(",")",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$collected",101],"[",["T_CONSTANT_ENCAPSED_STRING","'security_enabled'",101],"]",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertSame",102],"(",["T_VARIABLE","$firewallConfig",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","isStateless",102],"(",")",",",["T_WHITESPACE"," ",102],["T_VARIABLE","$collected",102],"[",["T_CONSTANT_ENCAPSED_STRING","'stateless'",102],"]",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertSame",103],"(",["T_VARIABLE","$firewallConfig",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getProvider",103],"(",")",",",["T_WHITESPACE"," ",103],["T_VARIABLE","$collected",103],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",103],"]",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertSame",104],"(",["T_VARIABLE","$firewallConfig",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getContext",104],"(",")",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$collected",104],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",104],"]",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertSame",105],"(",["T_VARIABLE","$firewallConfig",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getEntryPoint",105],"(",")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$collected",105],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_point'",105],"]",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertSame",106],"(",["T_VARIABLE","$firewallConfig",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getAccessDeniedHandler",106],"(",")",",",["T_WHITESPACE"," ",106],["T_VARIABLE","$collected",106],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_handler'",106],"]",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertSame",107],"(",["T_VARIABLE","$firewallConfig",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getAccessDeniedUrl",107],"(",")",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$collected",107],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_url'",107],"]",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertSame",108],"(",["T_VARIABLE","$firewallConfig",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getUserChecker",108],"(",")",",",["T_WHITESPACE"," ",108],["T_VARIABLE","$collected",108],"[",["T_CONSTANT_ENCAPSED_STRING","'user_checker'",108],"]",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertSame",109],"(",["T_VARIABLE","$firewallConfig",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getListeners",109],"(",")",",",["T_WHITESPACE"," ",109],["T_VARIABLE","$collected",109],"[",["T_CONSTANT_ENCAPSED_STRING","'listeners'",109],"]",["T_OBJECT_OPERATOR","->",109],["T_STRING","getRawData",109],"(",")","[",["T_LNUMBER","0",109],"]","[",["T_LNUMBER","0",109],"]",")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","testGetFirewallReturnsNull",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$request",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getRequest",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$response",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getResponse",115],"(",")",";",["T_WHITESPACE","\n\n        ",115],["T_COMMENT","\/\/ Don't inject any firewall map\n",117],["T_WHITESPACE","        ",118],["T_VARIABLE","$collector",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","SecurityDataCollector",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$collector",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","collect",119],"(",["T_VARIABLE","$request",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$response",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertNull",120],"(",["T_VARIABLE","$collector",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getFirewall",120],"(",")",")",";",["T_WHITESPACE","\n\n        ",120],["T_COMMENT","\/\/ Inject an instance that is not context aware\n",122],["T_WHITESPACE","        ",123],["T_VARIABLE","$firewallMap",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMockBuilder",124],"(",["T_STRING","FirewallMapInterface",124],["T_DOUBLE_COLON","::",124],["T_CLASS","class",124],")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","disableOriginalConstructor",125],"(",")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","getMock",126],"(",")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$collector",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","SecurityDataCollector",128],"(",["T_STRING","null",128],",",["T_WHITESPACE"," ",128],["T_STRING","null",128],",",["T_WHITESPACE"," ",128],["T_STRING","null",128],",",["T_WHITESPACE"," ",128],["T_STRING","null",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$firewallMap",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$collector",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","collect",129],"(",["T_VARIABLE","$request",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$response",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertNull",130],"(",["T_VARIABLE","$collector",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getFirewall",130],"(",")",")",";",["T_WHITESPACE","\n\n        ",130],["T_COMMENT","\/\/ Null config\n",132],["T_WHITESPACE","        ",133],["T_VARIABLE","$firewallMap",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","getMockBuilder",134],"(",["T_STRING","FirewallMap",134],["T_DOUBLE_COLON","::",134],["T_CLASS","class",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","disableOriginalConstructor",135],"(",")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","getMock",136],"(",")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$collector",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_STRING","SecurityDataCollector",138],"(",["T_STRING","null",138],",",["T_WHITESPACE"," ",138],["T_STRING","null",138],",",["T_WHITESPACE"," ",138],["T_STRING","null",138],",",["T_WHITESPACE"," ",138],["T_STRING","null",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$firewallMap",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$collector",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","collect",139],"(",["T_VARIABLE","$request",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$response",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertNull",140],"(",["T_VARIABLE","$collector",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getFirewall",140],"(",")",")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","provideRoles",143],"(",")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_WHITESPACE","\n            ",145],["T_COMMENT","\/\/ Basic roles\n",146],["T_WHITESPACE","            ",147],["T_ARRAY","array",147],"(",["T_WHITESPACE","\n                ",147],["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_USER'",148],")",",",["T_WHITESPACE","\n                ",148],["T_ARRAY","array",149],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_USER'",149],")",",",["T_WHITESPACE","\n                ",149],["T_ARRAY","array",150],"(",")",",",["T_WHITESPACE","\n            ",150],")",",",["T_WHITESPACE","\n            ",151],["T_ARRAY","array",152],"(",["T_WHITESPACE","\n                ",152],["T_ARRAY","array",153],"(",["T_NEW","new",153],["T_WHITESPACE"," ",153],["T_STRING","Role",153],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_USER'",153],")",")",",",["T_WHITESPACE","\n                ",153],["T_ARRAY","array",154],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_USER'",154],")",",",["T_WHITESPACE","\n                ",154],["T_ARRAY","array",155],"(",")",",",["T_WHITESPACE","\n            ",155],")",",",["T_WHITESPACE","\n            ",156],["T_COMMENT","\/\/ Inherited roles\n",157],["T_WHITESPACE","            ",158],["T_ARRAY","array",158],"(",["T_WHITESPACE","\n                ",158],["T_ARRAY","array",159],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_ADMIN'",159],")",",",["T_WHITESPACE","\n                ",159],["T_ARRAY","array",160],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_ADMIN'",160],")",",",["T_WHITESPACE","\n                ",160],["T_ARRAY","array",161],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_USER'",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'ROLE_ALLOWED_TO_SWITCH'",161],")",",",["T_WHITESPACE","\n            ",161],")",",",["T_WHITESPACE","\n            ",162],["T_ARRAY","array",163],"(",["T_WHITESPACE","\n                ",163],["T_ARRAY","array",164],"(",["T_NEW","new",164],["T_WHITESPACE"," ",164],["T_STRING","Role",164],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_ADMIN'",164],")",")",",",["T_WHITESPACE","\n                ",164],["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_ADMIN'",165],")",",",["T_WHITESPACE","\n                ",165],["T_ARRAY","array",166],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_USER'",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'ROLE_ALLOWED_TO_SWITCH'",166],")",",",["T_WHITESPACE","\n            ",166],")",",",["T_WHITESPACE","\n        ",167],")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_PRIVATE","private",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","getRoleHierarchy",171],"(",")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","RoleHierarchy",173],"(",["T_ARRAY","array",173],"(",["T_WHITESPACE","\n            ",173],["T_CONSTANT_ENCAPSED_STRING","'ROLE_ADMIN'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_USER'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'ROLE_ALLOWED_TO_SWITCH'",174],")",",",["T_WHITESPACE","\n        ",174],")",")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_PRIVATE","private",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","getRequest",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_WHITESPACE","\n            ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","getMockBuilder",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\Request'",181],")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","disableOriginalConstructor",182],"(",")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","getMock",183],"(",")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_PRIVATE","private",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getResponse",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","getMockBuilder",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\Response'",189],")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","disableOriginalConstructor",190],"(",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","getMock",191],"(",")",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n",192],"}",["T_WHITESPACE","\n",193]]