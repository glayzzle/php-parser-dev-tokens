[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SecurityBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyInjection",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Bundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SecurityBundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DependencyInjection",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SecurityExtension",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Bundle",15],["T_NS_SEPARATOR","\\",15],["T_STRING","SecurityBundle",15],["T_NS_SEPARATOR","\\",15],["T_STRING","SecurityBundle",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Bundle",16],["T_NS_SEPARATOR","\\",16],["T_STRING","SecurityBundle",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Tests",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DependencyInjection",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Fixtures",16],["T_NS_SEPARATOR","\\",16],["T_STRING","UserProvider",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DummyProvider",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DependencyInjection",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ContainerBuilder",17],";",["T_WHITESPACE","\n\n",17],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","SecurityExtensionTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Config\\Definition\\Exception\\InvalidConfigurationException\n     * @expectedExceptionMessage The check_path \"\/some_area\/login_check\" for login method \"form_login\" is not matched by the firewall pattern \"\/secured_area\/.*\".\n     *\/",21],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","testInvalidCheckPath",25],"(",")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$container",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","getRawContainer",27],"(",")",";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$container",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","loadFromExtension",29],"(",["T_CONSTANT_ENCAPSED_STRING","'security'",29],",",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_WHITESPACE","\n            ",29],["T_CONSTANT_ENCAPSED_STRING","'providers'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",["T_WHITESPACE","\n                ",30],["T_CONSTANT_ENCAPSED_STRING","'default'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'foo'",31],")",",",["T_WHITESPACE","\n            ",31],")",",",["T_WHITESPACE","\n\n            ",32],["T_CONSTANT_ENCAPSED_STRING","'firewalls'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_WHITESPACE","\n                ",34],["T_CONSTANT_ENCAPSED_STRING","'some_firewall'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_WHITESPACE","\n                    ",35],["T_CONSTANT_ENCAPSED_STRING","'pattern'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'\/secured_area\/.*'",36],",",["T_WHITESPACE","\n                    ",36],["T_CONSTANT_ENCAPSED_STRING","'form_login'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",["T_WHITESPACE","\n                        ",37],["T_CONSTANT_ENCAPSED_STRING","'check_path'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'\/some_area\/login_check'",38],",",["T_WHITESPACE","\n                    ",38],")",",",["T_WHITESPACE","\n                ",39],")",",",["T_WHITESPACE","\n            ",40],")",",",["T_WHITESPACE","\n        ",41],")",")",";",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$container",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","compile",44],"(",")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Config\\Definition\\Exception\\InvalidConfigurationException\n     * @expectedExceptionMessage No authentication listener registered for firewall \"some_firewall\"\n     *\/",47],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testFirewallWithoutAuthenticationListener",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$container",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getRawContainer",53],"(",")",";",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$container",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","loadFromExtension",55],"(",["T_CONSTANT_ENCAPSED_STRING","'security'",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'providers'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_WHITESPACE","\n                ",56],["T_CONSTANT_ENCAPSED_STRING","'default'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'foo'",57],")",",",["T_WHITESPACE","\n            ",57],")",",",["T_WHITESPACE","\n\n            ",58],["T_CONSTANT_ENCAPSED_STRING","'firewalls'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n                ",60],["T_CONSTANT_ENCAPSED_STRING","'some_firewall'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_WHITESPACE","\n                    ",61],["T_CONSTANT_ENCAPSED_STRING","'pattern'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'\/.*'",62],",",["T_WHITESPACE","\n                ",62],")",",",["T_WHITESPACE","\n            ",63],")",",",["T_WHITESPACE","\n        ",64],")",")",";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$container",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","compile",67],"(",")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Config\\Definition\\Exception\\InvalidConfigurationException\n     * @expectedExceptionMessage Unable to create definition for \"security.user.provider.concrete.my_foo\" user provider\n     *\/",70],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testFirewallWithInvalidUserProvider",74],"(",")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$container",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getRawContainer",76],"(",")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$extension",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$container",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getExtension",78],"(",["T_CONSTANT_ENCAPSED_STRING","'security'",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$extension",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","addUserProviderFactory",79],"(",["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","DummyProvider",79],"(",")",")",";",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$container",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","loadFromExtension",81],"(",["T_CONSTANT_ENCAPSED_STRING","'security'",81],",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'providers'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",["T_WHITESPACE","\n                ",82],["T_CONSTANT_ENCAPSED_STRING","'my_foo'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",")",")",",",["T_WHITESPACE","\n            ",83],")",",",["T_WHITESPACE","\n\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'firewalls'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n                ",86],["T_CONSTANT_ENCAPSED_STRING","'some_firewall'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_WHITESPACE","\n                    ",87],["T_CONSTANT_ENCAPSED_STRING","'pattern'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\/.*'",88],",",["T_WHITESPACE","\n                    ",88],["T_CONSTANT_ENCAPSED_STRING","'http_basic'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",")",",",["T_WHITESPACE","\n                ",89],")",",",["T_WHITESPACE","\n            ",90],")",",",["T_WHITESPACE","\n        ",91],")",")",";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$container",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","compile",94],"(",")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","testDisableRoleHierarchyVoter",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$container",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getRawContainer",99],"(",")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$container",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","loadFromExtension",101],"(",["T_CONSTANT_ENCAPSED_STRING","'security'",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","'providers'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'default'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'foo'",103],")",",",["T_WHITESPACE","\n            ",103],")",",",["T_WHITESPACE","\n\n            ",104],["T_CONSTANT_ENCAPSED_STRING","'role_hierarchy'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_STRING","null",106],",",["T_WHITESPACE","\n\n            ",106],["T_CONSTANT_ENCAPSED_STRING","'firewalls'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_WHITESPACE","\n                ",108],["T_CONSTANT_ENCAPSED_STRING","'some_firewall'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_WHITESPACE","\n                    ",109],["T_CONSTANT_ENCAPSED_STRING","'pattern'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'\/.*'",110],",",["T_WHITESPACE","\n                    ",110],["T_CONSTANT_ENCAPSED_STRING","'http_basic'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","null",111],",",["T_WHITESPACE","\n                ",111],")",",",["T_WHITESPACE","\n            ",112],")",",",["T_WHITESPACE","\n        ",113],")",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$container",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","compile",116],"(",")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertFalse",118],"(",["T_VARIABLE","$container",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","hasDefinition",118],"(",["T_CONSTANT_ENCAPSED_STRING","'security.access.role_hierarchy_voter'",118],")",")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","getRawContainer",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$container",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","ContainerBuilder",123],"(",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$security",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","SecurityExtension",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$container",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","registerExtension",125],"(",["T_VARIABLE","$security",125],")",";",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$bundle",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","SecurityBundle",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$bundle",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","build",128],"(",["T_VARIABLE","$container",128],")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$container",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getCompilerPassConfig",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","setOptimizationPasses",130],"(",["T_ARRAY","array",130],"(",")",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$container",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getCompilerPassConfig",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","setRemovingPasses",131],"(",["T_ARRAY","array",131],"(",")",")",";",["T_WHITESPACE","\n\n        ",131],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$container",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","getContainer",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$container",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getRawContainer",138],"(",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$container",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","compile",139],"(",")",";",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$container",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n",142],"}",["T_WHITESPACE","\n",143]]