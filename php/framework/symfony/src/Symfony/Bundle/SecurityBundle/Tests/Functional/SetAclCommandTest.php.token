[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SecurityBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Functional",12],";",["T_WHITESPACE","\n\n",12],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",14],["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Bundle",22],["T_NS_SEPARATOR","\\",22],["T_STRING","FrameworkBundle",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Console",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Application",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Bundle",23],["T_NS_SEPARATOR","\\",23],["T_STRING","SecurityBundle",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Command",23],["T_NS_SEPARATOR","\\",23],["T_STRING","InitAclCommand",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Symfony",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Bundle",24],["T_NS_SEPARATOR","\\",24],["T_STRING","SecurityBundle",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Command",24],["T_NS_SEPARATOR","\\",24],["T_STRING","SetAclCommand",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Symfony",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Component",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Console",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Tester",25],["T_NS_SEPARATOR","\\",25],["T_STRING","CommandTester",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Symfony",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Component",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Security",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Acl",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Domain",26],["T_NS_SEPARATOR","\\",26],["T_STRING","ObjectIdentity",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Symfony",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Component",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Security",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Acl",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Domain",27],["T_NS_SEPARATOR","\\",27],["T_STRING","RoleSecurityIdentity",27],";",["T_WHITESPACE","\n",27],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","Symfony",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Component",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Security",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Acl",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Domain",28],["T_NS_SEPARATOR","\\",28],["T_STRING","UserSecurityIdentity",28],";",["T_WHITESPACE","\n",28],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Symfony",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Component",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Security",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Acl",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Exception",29],["T_NS_SEPARATOR","\\",29],["T_STRING","NoAceFoundException",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Symfony",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Component",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Security",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Acl",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Permission",30],["T_NS_SEPARATOR","\\",30],["T_STRING","BasicPermissionMap",30],";",["T_WHITESPACE","\n\n",30],["T_DOC_COMMENT","\/**\n * Tests SetAclCommand.\n *\n * @author K\u00c3\u00a9vin Dunglas <kevin@les-tilleuls.coop>\n * @requires extension pdo_sqlite\n *\/",32],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","SetAclCommandTest",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","WebTestCase",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","OBJECT_CLASS",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bundle\\SecurityBundle\\Tests\\Functional\\Bundle\\AclBundle\\Entity\\Car'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","SECURITY_CLASS",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\User'",41],";",["T_WHITESPACE","\n\n    ",41],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","setUp",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","setUp",45],"(",")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","deleteTmpDir",47],"(",["T_CONSTANT_ENCAPSED_STRING","'Acl'",47],")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","tearDown",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_STRING","parent",52],["T_DOUBLE_COLON","::",52],["T_STRING","tearDown",52],"(",")",";",["T_WHITESPACE","\n\n        ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","deleteTmpDir",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Acl'",54],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @group legacy\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","testSetAclUser",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$objectId",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$securityUsername1",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'kevin'",63],";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$securityUsername2",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'anne'",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$grantedPermission1",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'VIEW'",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$grantedPermission2",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'EDIT'",66],";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$application",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getApplication",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$application",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","add",69],"(",["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","SetAclCommand",69],"(",")",")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$setAclCommand",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$application",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","find",71],"(",["T_CONSTANT_ENCAPSED_STRING","'acl:set'",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$setAclCommandTester",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","CommandTester",72],"(",["T_VARIABLE","$setAclCommand",72],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$setAclCommandTester",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","execute",73],"(",["T_ARRAY","array",73],"(",["T_WHITESPACE","\n            ",73],["T_CONSTANT_ENCAPSED_STRING","'command'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'acl:set'",74],",",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'arguments'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_VARIABLE","$grantedPermission1",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$grantedPermission2",75],",",["T_WHITESPACE"," ",75],["T_STRING","sprintf",75],"(",["T_CONSTANT_ENCAPSED_STRING","'%s:%s'",75],",",["T_WHITESPACE"," ",75],["T_STRING","self",75],["T_DOUBLE_COLON","::",75],["T_STRING","OBJECT_CLASS",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$objectId",75],")",")",",",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","'--user'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_STRING","sprintf",76],"(",["T_CONSTANT_ENCAPSED_STRING","'%s:%s'",76],",",["T_WHITESPACE"," ",76],["T_STRING","self",76],["T_DOUBLE_COLON","::",76],["T_STRING","SECURITY_CLASS",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$securityUsername1",76],")",",",["T_WHITESPACE"," ",76],["T_STRING","sprintf",76],"(",["T_CONSTANT_ENCAPSED_STRING","'%s:%s'",76],",",["T_WHITESPACE"," ",76],["T_STRING","self",76],["T_DOUBLE_COLON","::",76],["T_STRING","SECURITY_CLASS",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$securityUsername2",76],")",")",",",["T_WHITESPACE","\n        ",76],")",")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$objectIdentity",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","ObjectIdentity",79],"(",["T_VARIABLE","$objectId",79],",",["T_WHITESPACE"," ",79],["T_STRING","self",79],["T_DOUBLE_COLON","::",79],["T_STRING","OBJECT_CLASS",79],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$securityIdentity1",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","UserSecurityIdentity",80],"(",["T_VARIABLE","$securityUsername1",80],",",["T_WHITESPACE"," ",80],["T_STRING","self",80],["T_DOUBLE_COLON","::",80],["T_STRING","SECURITY_CLASS",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$securityIdentity2",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","UserSecurityIdentity",81],"(",["T_VARIABLE","$securityUsername2",81],",",["T_WHITESPACE"," ",81],["T_STRING","self",81],["T_DOUBLE_COLON","::",81],["T_STRING","SECURITY_CLASS",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$permissionMap",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","BasicPermissionMap",82],"(",")",";",["T_WHITESPACE","\n\n        ",82],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\Security\\Acl\\Model\\AclProviderInterface $aclProvider *\/",84],["T_WHITESPACE","\n        ",84],["T_VARIABLE","$aclProvider",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$application",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getKernel",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getContainer",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","get",85],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.provider'",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$acl",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$aclProvider",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","findAcl",86],"(",["T_VARIABLE","$objectIdentity",86],",",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_VARIABLE","$securityIdentity1",86],")",")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertTrue",88],"(",["T_VARIABLE","$acl",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","isGranted",88],"(",["T_VARIABLE","$permissionMap",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMasks",88],"(",["T_VARIABLE","$grantedPermission1",88],",",["T_WHITESPACE"," ",88],["T_STRING","null",88],")",",",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_VARIABLE","$securityIdentity1",88],")",")",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertTrue",89],"(",["T_VARIABLE","$acl",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","isGranted",89],"(",["T_VARIABLE","$permissionMap",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMasks",89],"(",["T_VARIABLE","$grantedPermission1",89],",",["T_WHITESPACE"," ",89],["T_STRING","null",89],")",",",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_VARIABLE","$securityIdentity2",89],")",")",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertTrue",90],"(",["T_VARIABLE","$acl",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","isGranted",90],"(",["T_VARIABLE","$permissionMap",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMasks",90],"(",["T_VARIABLE","$grantedPermission2",90],",",["T_WHITESPACE"," ",90],["T_STRING","null",90],")",",",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_VARIABLE","$securityIdentity2",90],")",")",")",";",["T_WHITESPACE","\n\n        ",90],["T_TRY","try",92],["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$acl",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","isGranted",93],"(",["T_VARIABLE","$permissionMap",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getMasks",93],"(",["T_CONSTANT_ENCAPSED_STRING","'OWNER'",93],",",["T_WHITESPACE"," ",93],["T_STRING","null",93],")",",",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_VARIABLE","$securityIdentity1",93],")",")",";",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","fail",94],"(",["T_CONSTANT_ENCAPSED_STRING","'NoAceFoundException not throwed'",94],")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE"," ",95],["T_CATCH","catch",95],["T_WHITESPACE"," ",95],"(",["T_STRING","NoAceFoundException",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$e",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_TRY","try",98],["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$acl",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","isGranted",99],"(",["T_VARIABLE","$permissionMap",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMasks",99],"(",["T_CONSTANT_ENCAPSED_STRING","'OPERATOR'",99],",",["T_WHITESPACE"," ",99],["T_STRING","null",99],")",",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_VARIABLE","$securityIdentity2",99],")",")",";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","fail",100],"(",["T_CONSTANT_ENCAPSED_STRING","'NoAceFoundException not throwed'",100],")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE"," ",101],["T_CATCH","catch",101],["T_WHITESPACE"," ",101],"(",["T_STRING","NoAceFoundException",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$e",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","testSetAclRole",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$objectId",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_LNUMBER","1",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$securityUsername",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'kevin'",108],";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$grantedPermission",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'VIEW'",109],";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$role",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'ROLE_ADMIN'",110],";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$application",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getApplication",112],"(",")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$application",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","add",113],"(",["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","SetAclCommand",113],"(",")",")",";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$setAclCommand",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$application",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","find",115],"(",["T_CONSTANT_ENCAPSED_STRING","'acl:set'",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$setAclCommandTester",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_NEW","new",116],["T_WHITESPACE"," ",116],["T_STRING","CommandTester",116],"(",["T_VARIABLE","$setAclCommand",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$setAclCommandTester",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","execute",117],"(",["T_ARRAY","array",117],"(",["T_WHITESPACE","\n            ",117],["T_CONSTANT_ENCAPSED_STRING","'command'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'acl:set'",118],",",["T_WHITESPACE","\n            ",118],["T_CONSTANT_ENCAPSED_STRING","'arguments'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_VARIABLE","$grantedPermission",119],",",["T_WHITESPACE"," ",119],["T_STRING","sprintf",119],"(",["T_CONSTANT_ENCAPSED_STRING","'%s:%s'",119],",",["T_WHITESPACE"," ",119],["T_STRING","str_replace",119],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'\/'",119],",",["T_WHITESPACE"," ",119],["T_STRING","self",119],["T_DOUBLE_COLON","::",119],["T_STRING","OBJECT_CLASS",119],")",",",["T_WHITESPACE"," ",119],["T_VARIABLE","$objectId",119],")",")",",",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'--role'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_VARIABLE","$role",120],")",",",["T_WHITESPACE","\n        ",120],")",")",";",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$objectIdentity",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","ObjectIdentity",123],"(",["T_VARIABLE","$objectId",123],",",["T_WHITESPACE"," ",123],["T_STRING","self",123],["T_DOUBLE_COLON","::",123],["T_STRING","OBJECT_CLASS",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$userSecurityIdentity",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","UserSecurityIdentity",124],"(",["T_VARIABLE","$securityUsername",124],",",["T_WHITESPACE"," ",124],["T_STRING","self",124],["T_DOUBLE_COLON","::",124],["T_STRING","SECURITY_CLASS",124],")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$roleSecurityIdentity",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","RoleSecurityIdentity",125],"(",["T_VARIABLE","$role",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$permissionMap",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","BasicPermissionMap",126],"(",")",";",["T_WHITESPACE","\n\n        ",126],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\Security\\Acl\\Model\\AclProviderInterface $aclProvider *\/",128],["T_WHITESPACE","\n        ",128],["T_VARIABLE","$aclProvider",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$application",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getKernel",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getContainer",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","get",129],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.provider'",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$acl",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$aclProvider",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","findAcl",130],"(",["T_VARIABLE","$objectIdentity",130],",",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_VARIABLE","$roleSecurityIdentity",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$userSecurityIdentity",130],")",")",";",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertTrue",132],"(",["T_VARIABLE","$acl",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","isGranted",132],"(",["T_VARIABLE","$permissionMap",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getMasks",132],"(",["T_VARIABLE","$grantedPermission",132],",",["T_WHITESPACE"," ",132],["T_STRING","null",132],")",",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_VARIABLE","$roleSecurityIdentity",132],")",")",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertTrue",133],"(",["T_VARIABLE","$acl",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","isGranted",133],"(",["T_VARIABLE","$permissionMap",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMasks",133],"(",["T_VARIABLE","$grantedPermission",133],",",["T_WHITESPACE"," ",133],["T_STRING","null",133],")",",",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",["T_VARIABLE","$roleSecurityIdentity",133],")",")",")",";",["T_WHITESPACE","\n\n        ",133],["T_TRY","try",135],["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$acl",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","isGranted",136],"(",["T_VARIABLE","$permissionMap",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getMasks",136],"(",["T_CONSTANT_ENCAPSED_STRING","'VIEW'",136],",",["T_WHITESPACE"," ",136],["T_STRING","null",136],")",",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_VARIABLE","$userSecurityIdentity",136],")",")",";",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","fail",137],"(",["T_CONSTANT_ENCAPSED_STRING","'NoAceFoundException not throwed'",137],")",";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE"," ",138],["T_CATCH","catch",138],["T_WHITESPACE"," ",138],"(",["T_STRING","NoAceFoundException",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$e",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_TRY","try",141],["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$acl",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","isGranted",142],"(",["T_VARIABLE","$permissionMap",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getMasks",142],"(",["T_CONSTANT_ENCAPSED_STRING","'OPERATOR'",142],",",["T_WHITESPACE"," ",142],["T_STRING","null",142],")",",",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",["T_VARIABLE","$userSecurityIdentity",142],")",")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","fail",143],"(",["T_CONSTANT_ENCAPSED_STRING","'NoAceFoundException not throwed'",143],")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE"," ",144],["T_CATCH","catch",144],["T_WHITESPACE"," ",144],"(",["T_STRING","NoAceFoundException",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$e",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","testSetAclClassScope",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$objectId",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_LNUMBER","1",150],";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$grantedPermission",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'VIEW'",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$role",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'ROLE_USER'",152],";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$application",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getApplication",154],"(",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$application",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","add",155],"(",["T_NEW","new",155],["T_WHITESPACE"," ",155],["T_STRING","SetAclCommand",155],"(",")",")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$setAclCommand",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$application",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","find",157],"(",["T_CONSTANT_ENCAPSED_STRING","'acl:set'",157],")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$setAclCommandTester",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_NEW","new",158],["T_WHITESPACE"," ",158],["T_STRING","CommandTester",158],"(",["T_VARIABLE","$setAclCommand",158],")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$setAclCommandTester",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","execute",159],"(",["T_ARRAY","array",159],"(",["T_WHITESPACE","\n            ",159],["T_CONSTANT_ENCAPSED_STRING","'command'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'acl:set'",160],",",["T_WHITESPACE","\n            ",160],["T_CONSTANT_ENCAPSED_STRING","'arguments'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",["T_VARIABLE","$grantedPermission",161],",",["T_WHITESPACE"," ",161],["T_STRING","sprintf",161],"(",["T_CONSTANT_ENCAPSED_STRING","'%s:%s'",161],",",["T_WHITESPACE"," ",161],["T_STRING","self",161],["T_DOUBLE_COLON","::",161],["T_STRING","OBJECT_CLASS",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$objectId",161],")",")",",",["T_WHITESPACE","\n            ",161],["T_CONSTANT_ENCAPSED_STRING","'--class-scope'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_STRING","true",162],",",["T_WHITESPACE","\n            ",162],["T_CONSTANT_ENCAPSED_STRING","'--role'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",["T_VARIABLE","$role",163],")",",",["T_WHITESPACE","\n        ",163],")",")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$objectIdentity1",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_STRING","ObjectIdentity",166],"(",["T_VARIABLE","$objectId",166],",",["T_WHITESPACE"," ",166],["T_STRING","self",166],["T_DOUBLE_COLON","::",166],["T_STRING","OBJECT_CLASS",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$objectIdentity2",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","ObjectIdentity",167],"(",["T_LNUMBER","2",167],",",["T_WHITESPACE"," ",167],["T_STRING","self",167],["T_DOUBLE_COLON","::",167],["T_STRING","OBJECT_CLASS",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$roleSecurityIdentity",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_STRING","RoleSecurityIdentity",168],"(",["T_VARIABLE","$role",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$permissionMap",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","BasicPermissionMap",169],"(",")",";",["T_WHITESPACE","\n\n        ",169],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\Security\\Acl\\Model\\AclProviderInterface $aclProvider *\/",171],["T_WHITESPACE","\n        ",171],["T_VARIABLE","$aclProvider",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$application",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getKernel",172],"(",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","getContainer",172],"(",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","get",172],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.provider'",172],")",";",["T_WHITESPACE","\n\n        ",172],["T_VARIABLE","$acl1",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$aclProvider",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","findAcl",174],"(",["T_VARIABLE","$objectIdentity1",174],",",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_VARIABLE","$roleSecurityIdentity",174],")",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertTrue",175],"(",["T_VARIABLE","$acl1",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","isGranted",175],"(",["T_VARIABLE","$permissionMap",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getMasks",175],"(",["T_VARIABLE","$grantedPermission",175],",",["T_WHITESPACE"," ",175],["T_STRING","null",175],")",",",["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",["T_VARIABLE","$roleSecurityIdentity",175],")",")",")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$acl2",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$aclProvider",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","createAcl",177],"(",["T_VARIABLE","$objectIdentity2",177],")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertTrue",178],"(",["T_VARIABLE","$acl2",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","isGranted",178],"(",["T_VARIABLE","$permissionMap",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getMasks",178],"(",["T_VARIABLE","$grantedPermission",178],",",["T_WHITESPACE"," ",178],["T_STRING","null",178],")",",",["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",["T_VARIABLE","$roleSecurityIdentity",178],")",")",")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_PRIVATE","private",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getApplication",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$kernel",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","createKernel",183],"(",["T_ARRAY","array",183],"(",["T_CONSTANT_ENCAPSED_STRING","'test_case'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'Acl'",183],")",")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$kernel",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","boot",184],"(",")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$application",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","Application",186],"(",["T_VARIABLE","$kernel",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$application",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","add",187],"(",["T_NEW","new",187],["T_WHITESPACE"," ",187],["T_STRING","InitAclCommand",187],"(",")",")",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$initAclCommand",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$application",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","find",189],"(",["T_CONSTANT_ENCAPSED_STRING","'init:acl'",189],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$initAclCommandTester",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_STRING","CommandTester",190],"(",["T_VARIABLE","$initAclCommand",190],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$initAclCommandTester",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","execute",191],"(",["T_ARRAY","array",191],"(",["T_CONSTANT_ENCAPSED_STRING","'command'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'init:acl'",191],")",")",";",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$application",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n",194],"}",["T_WHITESPACE","\n",195]]