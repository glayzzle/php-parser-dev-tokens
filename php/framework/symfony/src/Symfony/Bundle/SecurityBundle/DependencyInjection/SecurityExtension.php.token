[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SecurityBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyInjection",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Bundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SecurityBundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DependencyInjection",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Security",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Factory",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SecurityFactoryInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Bundle",15],["T_NS_SEPARATOR","\\",15],["T_STRING","SecurityBundle",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DependencyInjection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Security",15],["T_NS_SEPARATOR","\\",15],["T_STRING","UserProvider",15],["T_NS_SEPARATOR","\\",15],["T_STRING","UserProviderFactoryInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Config",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Definition",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","InvalidConfigurationException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DependencyInjection",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Alias",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DependencyInjection",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ChildDefinition",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpKernel",19],["T_NS_SEPARATOR","\\",19],["T_STRING","DependencyInjection",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Extension",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","DependencyInjection",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Loader",20],["T_NS_SEPARATOR","\\",20],["T_STRING","XmlFileLoader",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","DependencyInjection",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ContainerBuilder",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","DependencyInjection",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Reference",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Config",23],["T_NS_SEPARATOR","\\",23],["T_STRING","FileLocator",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Symfony",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Component",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Security",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Core",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Authorization",24],["T_NS_SEPARATOR","\\",24],["T_STRING","ExpressionLanguage",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * SecurityExtension.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n * @author Johannes M. Schmitt <schmittjoh@gmail.com>\n *\/",26],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","SecurityExtension",32],["T_WHITESPACE"," ",32],["T_EXTENDS","extends",32],["T_WHITESPACE"," ",32],["T_STRING","Extension",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$requestMatchers",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$expressions",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",")",";",["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$contextListeners",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",";",["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$listenerPositions",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",["T_CONSTANT_ENCAPSED_STRING","'pre_auth'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'form'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'http'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'remember_me'",37],")",";",["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$factories",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$userProviderFactories",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$expressionLanguage",40],";",["T_WHITESPACE","\n\n    ",40],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","__construct",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_FOREACH","foreach",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","listenerPositions",44],["T_WHITESPACE"," ",44],["T_AS","as",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$position",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","factories",45],"[",["T_VARIABLE","$position",45],"]",["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","load",49],"(",["T_ARRAY","array",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$configs",49],",",["T_WHITESPACE"," ",49],["T_STRING","ContainerBuilder",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$container",49],")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(","!",["T_STRING","array_filter",51],"(",["T_VARIABLE","$configs",51],")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_RETURN","return",52],";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$mainConfig",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getConfiguration",55],"(",["T_VARIABLE","$configs",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$container",55],")",";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$config",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","processConfiguration",57],"(",["T_VARIABLE","$mainConfig",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$configs",57],")",";",["T_WHITESPACE","\n\n        ",57],["T_COMMENT","\/\/ load services\n",59],["T_WHITESPACE","        ",60],["T_VARIABLE","$loader",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_STRING","XmlFileLoader",60],"(",["T_VARIABLE","$container",60],",",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_STRING","FileLocator",60],"(",["T_DIR","__DIR__",60],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Resources\/config'",60],")",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$loader",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","load",61],"(",["T_CONSTANT_ENCAPSED_STRING","'security.xml'",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$loader",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","load",62],"(",["T_CONSTANT_ENCAPSED_STRING","'security_listeners.xml'",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$loader",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","load",63],"(",["T_CONSTANT_ENCAPSED_STRING","'security_rememberme.xml'",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$loader",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","load",64],"(",["T_CONSTANT_ENCAPSED_STRING","'templating_php.xml'",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$loader",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","load",65],"(",["T_CONSTANT_ENCAPSED_STRING","'templating_twig.xml'",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$loader",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","load",66],"(",["T_CONSTANT_ENCAPSED_STRING","'collectors.xml'",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$loader",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","load",67],"(",["T_CONSTANT_ENCAPSED_STRING","'guard.xml'",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$container",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","hasParameter",69],"(",["T_CONSTANT_ENCAPSED_STRING","'kernel.debug'",69],")",["T_WHITESPACE"," ",69],["T_BOOLEAN_AND","&&",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$container",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getParameter",69],"(",["T_CONSTANT_ENCAPSED_STRING","'kernel.debug'",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$loader",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","load",70],"(",["T_CONSTANT_ENCAPSED_STRING","'security_debug.xml'",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(","!",["T_STRING","class_exists",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\ExpressionLanguage\\ExpressionLanguage'",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$container",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","removeDefinition",74],"(",["T_CONSTANT_ENCAPSED_STRING","'security.expression_language'",74],")",";",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$container",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","removeDefinition",75],"(",["T_CONSTANT_ENCAPSED_STRING","'security.access.expression_voter'",75],")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_COMMENT","\/\/ set some global scalars\n",78],["T_WHITESPACE","        ",79],["T_VARIABLE","$container",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setParameter",79],"(",["T_CONSTANT_ENCAPSED_STRING","'security.access.denied_url'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$config",79],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_url'",79],"]",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$container",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setParameter",80],"(",["T_CONSTANT_ENCAPSED_STRING","'security.authentication.manager.erase_credentials'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$config",80],"[",["T_CONSTANT_ENCAPSED_STRING","'erase_credentials'",80],"]",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$container",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setParameter",81],"(",["T_CONSTANT_ENCAPSED_STRING","'security.authentication.session_strategy.strategy'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$config",81],"[",["T_CONSTANT_ENCAPSED_STRING","'session_fixation_strategy'",81],"]",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$container",82],["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","getDefinition",83],"(",["T_CONSTANT_ENCAPSED_STRING","'security.access.decision_manager'",83],")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","addArgument",84],"(",["T_VARIABLE","$config",84],"[",["T_CONSTANT_ENCAPSED_STRING","'access_decision_manager'",84],"]","[",["T_CONSTANT_ENCAPSED_STRING","'strategy'",84],"]",")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","addArgument",85],"(",["T_VARIABLE","$config",85],"[",["T_CONSTANT_ENCAPSED_STRING","'access_decision_manager'",85],"]","[",["T_CONSTANT_ENCAPSED_STRING","'allow_if_all_abstain'",85],"]",")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","addArgument",86],"(",["T_VARIABLE","$config",86],"[",["T_CONSTANT_ENCAPSED_STRING","'access_decision_manager'",86],"]","[",["T_CONSTANT_ENCAPSED_STRING","'allow_if_equal_granted_denied'",86],"]",")",["T_WHITESPACE","\n        ",86],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$container",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setParameter",88],"(",["T_CONSTANT_ENCAPSED_STRING","'security.access.always_authenticate_before_granting'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$config",88],"[",["T_CONSTANT_ENCAPSED_STRING","'always_authenticate_before_granting'",88],"]",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$container",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setParameter",89],"(",["T_CONSTANT_ENCAPSED_STRING","'security.authentication.hide_user_not_found'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$config",89],"[",["T_CONSTANT_ENCAPSED_STRING","'hide_user_not_found'",89],"]",")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","createFirewalls",91],"(",["T_VARIABLE","$config",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$container",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","createAuthorization",92],"(",["T_VARIABLE","$config",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$container",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","createRoleHierarchy",93],"(",["T_VARIABLE","$config",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$container",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$config",95],"[",["T_CONSTANT_ENCAPSED_STRING","'encoders'",95],"]",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","createEncoders",96],"(",["T_VARIABLE","$config",96],"[",["T_CONSTANT_ENCAPSED_STRING","'encoders'",96],"]",",",["T_WHITESPACE"," ",96],["T_VARIABLE","$container",96],")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n\n        ",97],["T_COMMENT","\/\/ load ACL\n",99],["T_WHITESPACE","        ",100],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_ISSET","isset",100],"(",["T_VARIABLE","$config",100],"[",["T_CONSTANT_ENCAPSED_STRING","'acl'",100],"]",")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","aclLoad",101],"(",["T_VARIABLE","$config",101],"[",["T_CONSTANT_ENCAPSED_STRING","'acl'",101],"]",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$container",101],")",";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n\n        ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_STRING","PHP_VERSION_ID",104],["T_WHITESPACE"," ",104],"<",["T_WHITESPACE"," ",104],["T_LNUMBER","70000",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_COMMENT","\/\/ add some required classes for compilation\n",105],["T_WHITESPACE","            ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","addClassesToCompile",106],"(",["T_ARRAY","array",106],"(",["T_WHITESPACE","\n                ",106],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Http\\Firewall'",107],",",["T_WHITESPACE","\n                ",107],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserProviderInterface'",108],",",["T_WHITESPACE","\n                ",108],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\AuthenticationProviderManager'",109],",",["T_WHITESPACE","\n                ",109],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\Storage\\TokenStorage'",110],",",["T_WHITESPACE","\n                ",110],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authorization\\AccessDecisionManager'",111],",",["T_WHITESPACE","\n                ",111],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authorization\\AuthorizationChecker'",112],",",["T_WHITESPACE","\n                ",112],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authorization\\Voter\\VoterInterface'",113],",",["T_WHITESPACE","\n                ",113],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bundle\\SecurityBundle\\Security\\FirewallConfig'",114],",",["T_WHITESPACE","\n                ",114],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bundle\\SecurityBundle\\Security\\FirewallMap'",115],",",["T_WHITESPACE","\n                ",115],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Bundle\\SecurityBundle\\Security\\FirewallContext'",116],",",["T_WHITESPACE","\n                ",116],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\RequestMatcher'",117],",",["T_WHITESPACE","\n            ",117],")",")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_PRIVATE","private",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","aclLoad",122],"(",["T_VARIABLE","$config",122],",",["T_WHITESPACE"," ",122],["T_STRING","ContainerBuilder",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$container",122],")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_STRING","interface_exists",124],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Acl\\Model\\AclInterface'",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_THROW","throw",125],["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_NS_SEPARATOR","\\",125],["T_STRING","LogicException",125],"(",["T_CONSTANT_ENCAPSED_STRING","'You must install symfony\/security-acl in order to use the ACL functionality.'",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$loader",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","XmlFileLoader",128],"(",["T_VARIABLE","$container",128],",",["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","FileLocator",128],"(",["T_DIR","__DIR__",128],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Resources\/config'",128],")",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$loader",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","load",129],"(",["T_CONSTANT_ENCAPSED_STRING","'security_acl.xml'",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_ISSET","isset",131],"(",["T_VARIABLE","$config",131],"[",["T_CONSTANT_ENCAPSED_STRING","'cache'",131],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$container",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setAlias",132],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.cache'",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$config",132],"[",["T_CONSTANT_ENCAPSED_STRING","'cache'",132],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",132],"]",")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$container",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getDefinition",134],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.voter.basic_permissions'",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","addArgument",134],"(",["T_VARIABLE","$config",134],"[",["T_CONSTANT_ENCAPSED_STRING","'voter'",134],"]","[",["T_CONSTANT_ENCAPSED_STRING","'allow_if_object_identity_unavailable'",134],"]",")",";",["T_WHITESPACE","\n\n        ",134],["T_COMMENT","\/\/ custom ACL provider\n",136],["T_WHITESPACE","        ",137],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_ISSET","isset",137],"(",["T_VARIABLE","$config",137],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",137],"]",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$container",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setAlias",138],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.provider'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$config",138],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",138],"]",")",";",["T_WHITESPACE","\n\n            ",138],["T_RETURN","return",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","configureDbalAclProvider",143],"(",["T_VARIABLE","$config",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$container",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$loader",143],")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_PRIVATE","private",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","configureDbalAclProvider",146],"(",["T_ARRAY","array",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$config",146],",",["T_WHITESPACE"," ",146],["T_STRING","ContainerBuilder",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$container",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$loader",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$loader",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","load",148],"(",["T_CONSTANT_ENCAPSED_STRING","'security_acl_dbal.xml'",148],")",";",["T_WHITESPACE","\n\n        ",148],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_STRING","null",150],["T_WHITESPACE"," ",150],["T_IS_NOT_IDENTICAL","!==",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$config",150],"[",["T_CONSTANT_ENCAPSED_STRING","'connection'",150],"]",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$container",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","setAlias",151],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.connection'",151],",",["T_WHITESPACE"," ",151],["T_STRING","sprintf",151],"(",["T_CONSTANT_ENCAPSED_STRING","'doctrine.dbal.%s_connection'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$config",151],"[",["T_CONSTANT_ENCAPSED_STRING","'connection'",151],"]",")",")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$container",154],["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","getDefinition",155],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.schema_listener'",155],")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","addTag",156],"(",["T_CONSTANT_ENCAPSED_STRING","'doctrine.event_listener'",156],",",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_WHITESPACE","\n                ",156],["T_CONSTANT_ENCAPSED_STRING","'connection'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$config",157],"[",["T_CONSTANT_ENCAPSED_STRING","'connection'",157],"]",",",["T_WHITESPACE","\n                ",157],["T_CONSTANT_ENCAPSED_STRING","'event'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'postGenerateSchema'",158],",",["T_WHITESPACE","\n                ",158],["T_CONSTANT_ENCAPSED_STRING","'lazy'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_STRING","true",159],",",["T_WHITESPACE","\n            ",159],")",")",["T_WHITESPACE","\n        ",160],";",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$container",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getDefinition",163],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.cache.doctrine'",163],")",["T_OBJECT_OPERATOR","->",163],["T_STRING","addArgument",163],"(",["T_VARIABLE","$config",163],"[",["T_CONSTANT_ENCAPSED_STRING","'cache'",163],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",163],"]",")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$container",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","setParameter",165],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.class_table_name'",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$config",165],"[",["T_CONSTANT_ENCAPSED_STRING","'tables'",165],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",165],"]",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$container",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setParameter",166],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.entry_table_name'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$config",166],"[",["T_CONSTANT_ENCAPSED_STRING","'tables'",166],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entry'",166],"]",")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$container",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","setParameter",167],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.oid_table_name'",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$config",167],"[",["T_CONSTANT_ENCAPSED_STRING","'tables'",167],"]","[",["T_CONSTANT_ENCAPSED_STRING","'object_identity'",167],"]",")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$container",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setParameter",168],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.oid_ancestors_table_name'",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$config",168],"[",["T_CONSTANT_ENCAPSED_STRING","'tables'",168],"]","[",["T_CONSTANT_ENCAPSED_STRING","'object_identity_ancestors'",168],"]",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$container",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setParameter",169],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.sid_table_name'",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$config",169],"[",["T_CONSTANT_ENCAPSED_STRING","'tables'",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'security_identity'",169],"]",")",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Loads the web configuration.\n     *\n     * @param array            $config    An array of configuration settings\n     * @param ContainerBuilder $container A ContainerBuilder instance\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PRIVATE","private",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","createRoleHierarchy",178],"(",["T_VARIABLE","$config",178],",",["T_WHITESPACE"," ",178],["T_STRING","ContainerBuilder",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$container",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(","!",["T_ISSET","isset",180],"(",["T_VARIABLE","$config",180],"[",["T_CONSTANT_ENCAPSED_STRING","'role_hierarchy'",180],"]",")",["T_WHITESPACE"," ",180],["T_BOOLEAN_OR","||",180],["T_WHITESPACE"," ",180],["T_LNUMBER","0",180],["T_WHITESPACE"," ",180],["T_IS_IDENTICAL","===",180],["T_WHITESPACE"," ",180],["T_STRING","count",180],"(",["T_VARIABLE","$config",180],"[",["T_CONSTANT_ENCAPSED_STRING","'role_hierarchy'",180],"]",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$container",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","removeDefinition",181],"(",["T_CONSTANT_ENCAPSED_STRING","'security.access.role_hierarchy_voter'",181],")",";",["T_WHITESPACE","\n\n            ",181],["T_RETURN","return",183],";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$container",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","setParameter",186],"(",["T_CONSTANT_ENCAPSED_STRING","'security.role_hierarchy.roles'",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$config",186],"[",["T_CONSTANT_ENCAPSED_STRING","'role_hierarchy'",186],"]",")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$container",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","removeDefinition",187],"(",["T_CONSTANT_ENCAPSED_STRING","'security.access.simple_role_voter'",187],")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_PRIVATE","private",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","createAuthorization",190],"(",["T_VARIABLE","$config",190],",",["T_WHITESPACE"," ",190],["T_STRING","ContainerBuilder",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$container",190],")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(","!",["T_VARIABLE","$config",192],"[",["T_CONSTANT_ENCAPSED_STRING","'access_control'",192],"]",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_RETURN","return",193],";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n        ",194],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_STRING","PHP_VERSION_ID",196],["T_WHITESPACE"," ",196],"<",["T_WHITESPACE"," ",196],["T_LNUMBER","70000",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","addClassesToCompile",197],"(",["T_ARRAY","array",197],"(",["T_WHITESPACE","\n                ",197],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\\\Component\\\\Security\\\\Http\\\\AccessMap'",198],",",["T_WHITESPACE","\n            ",198],")",")",";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n\n        ",200],["T_FOREACH","foreach",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$config",202],"[",["T_CONSTANT_ENCAPSED_STRING","'access_control'",202],"]",["T_WHITESPACE"," ",202],["T_AS","as",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$access",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$matcher",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","createRequestMatcher",203],"(",["T_WHITESPACE","\n                ",203],["T_VARIABLE","$container",204],",",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$access",205],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",205],"]",",",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$access",206],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",206],"]",",",["T_WHITESPACE","\n                ",206],["T_VARIABLE","$access",207],"[",["T_CONSTANT_ENCAPSED_STRING","'methods'",207],"]",",",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$access",208],"[",["T_CONSTANT_ENCAPSED_STRING","'ips'",208],"]",["T_WHITESPACE","\n            ",208],")",";",["T_WHITESPACE","\n\n            ",209],["T_VARIABLE","$attributes",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$access",211],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",211],"]",";",["T_WHITESPACE","\n            ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$access",212],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_if'",212],"]",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$attributes",213],"[","]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","createExpression",213],"(",["T_VARIABLE","$container",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$access",213],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_if'",213],"]",")",";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n\n            ",214],["T_VARIABLE","$container",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getDefinition",216],"(",["T_CONSTANT_ENCAPSED_STRING","'security.access_map'",216],")",["T_WHITESPACE","\n                      ",216],["T_OBJECT_OPERATOR","->",217],["T_STRING","addMethodCall",217],"(",["T_CONSTANT_ENCAPSED_STRING","'add'",217],",",["T_WHITESPACE"," ",217],["T_ARRAY","array",217],"(",["T_VARIABLE","$matcher",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$attributes",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$access",217],"[",["T_CONSTANT_ENCAPSED_STRING","'requires_channel'",217],"]",")",")",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_PRIVATE","private",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","createFirewalls",221],"(",["T_VARIABLE","$config",221],",",["T_WHITESPACE"," ",221],["T_STRING","ContainerBuilder",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$container",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(","!",["T_ISSET","isset",223],"(",["T_VARIABLE","$config",223],"[",["T_CONSTANT_ENCAPSED_STRING","'firewalls'",223],"]",")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_RETURN","return",224],";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$firewalls",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$config",227],"[",["T_CONSTANT_ENCAPSED_STRING","'firewalls'",227],"]",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$providerIds",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","createUserProviders",228],"(",["T_VARIABLE","$config",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$container",228],")",";",["T_WHITESPACE","\n\n        ",228],["T_COMMENT","\/\/ make the ContextListener aware of the configured user providers\n",230],["T_WHITESPACE","        ",231],["T_VARIABLE","$definition",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$container",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getDefinition",231],"(",["T_CONSTANT_ENCAPSED_STRING","'security.context_listener'",231],")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$arguments",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$definition",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getArguments",232],"(",")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$userProviders",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",")",";",["T_WHITESPACE","\n        ",233],["T_FOREACH","foreach",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$providerIds",234],["T_WHITESPACE"," ",234],["T_AS","as",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$userProviderId",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$userProviders",235],"[","]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_NEW","new",235],["T_WHITESPACE"," ",235],["T_STRING","Reference",235],"(",["T_VARIABLE","$userProviderId",235],")",";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$arguments",237],"[",["T_LNUMBER","1",237],"]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$userProviders",237],";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$definition",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","setArguments",238],"(",["T_VARIABLE","$arguments",238],")",";",["T_WHITESPACE","\n\n        ",238],["T_COMMENT","\/\/ load firewall map\n",240],["T_WHITESPACE","        ",241],["T_VARIABLE","$mapDef",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$container",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getDefinition",241],"(",["T_CONSTANT_ENCAPSED_STRING","'security.firewall.map'",241],")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$map",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$authenticationProviders",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",";",["T_WHITESPACE","\n        ",242],["T_FOREACH","foreach",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$firewalls",243],["T_WHITESPACE"," ",243],["T_AS","as",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$name",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$firewall",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$configId",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'security.firewall.map.config.'",244],".",["T_VARIABLE","$name",244],";",["T_WHITESPACE","\n\n            ",244],["T_LIST","list",246],"(",["T_VARIABLE","$matcher",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$listeners",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$exceptionListener",246],")",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","createFirewall",246],"(",["T_VARIABLE","$container",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$name",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$firewall",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$authenticationProviders",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$providerIds",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$configId",246],")",";",["T_WHITESPACE","\n\n            ",246],["T_VARIABLE","$contextId",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'security.firewall.map.context.'",248],".",["T_VARIABLE","$name",248],";",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$context",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$container",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","setDefinition",249],"(",["T_VARIABLE","$contextId",249],",",["T_WHITESPACE"," ",249],["T_NEW","new",249],["T_WHITESPACE"," ",249],["T_STRING","ChildDefinition",249],"(",["T_CONSTANT_ENCAPSED_STRING","'security.firewall.context'",249],")",")",";",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$context",250],["T_WHITESPACE","\n                ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","replaceArgument",251],"(",["T_LNUMBER","0",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$listeners",251],")",["T_WHITESPACE","\n                ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","replaceArgument",252],"(",["T_LNUMBER","1",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$exceptionListener",252],")",["T_WHITESPACE","\n                ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","replaceArgument",253],"(",["T_LNUMBER","2",253],",",["T_WHITESPACE"," ",253],["T_NEW","new",253],["T_WHITESPACE"," ",253],["T_STRING","Reference",253],"(",["T_VARIABLE","$configId",253],")",")",["T_WHITESPACE","\n            ",253],";",["T_WHITESPACE","\n\n            ",254],["T_VARIABLE","$map",256],"[",["T_VARIABLE","$contextId",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$matcher",256],";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$mapDef",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","replaceArgument",258],"(",["T_LNUMBER","1",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$map",258],")",";",["T_WHITESPACE","\n\n        ",258],["T_COMMENT","\/\/ add authentication providers to authentication manager\n",260],["T_WHITESPACE","        ",261],["T_VARIABLE","$authenticationProviders",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","array_map",261],"(",["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$id",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_NEW","new",262],["T_WHITESPACE"," ",262],["T_STRING","Reference",262],"(",["T_VARIABLE","$id",262],")",";",["T_WHITESPACE","\n        ",262],"}",",",["T_WHITESPACE"," ",263],["T_STRING","array_values",263],"(",["T_STRING","array_unique",263],"(",["T_VARIABLE","$authenticationProviders",263],")",")",")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$container",264],["T_WHITESPACE","\n            ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","getDefinition",265],"(",["T_CONSTANT_ENCAPSED_STRING","'security.authentication.manager'",265],")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","replaceArgument",266],"(",["T_LNUMBER","0",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$authenticationProviders",266],")",["T_WHITESPACE","\n        ",266],";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_PRIVATE","private",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","createFirewall",270],"(",["T_STRING","ContainerBuilder",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$container",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$id",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$firewall",270],",",["T_WHITESPACE"," ",270],"&",["T_VARIABLE","$authenticationProviders",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$providerIds",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$configId",270],")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$config",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$container",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","setDefinition",272],"(",["T_VARIABLE","$configId",272],",",["T_WHITESPACE"," ",272],["T_NEW","new",272],["T_WHITESPACE"," ",272],["T_STRING","ChildDefinition",272],"(",["T_CONSTANT_ENCAPSED_STRING","'security.firewall.config'",272],")",")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$config",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","replaceArgument",273],"(",["T_LNUMBER","0",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$id",273],")",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$config",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","replaceArgument",274],"(",["T_LNUMBER","1",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$firewall",274],"[",["T_CONSTANT_ENCAPSED_STRING","'user_checker'",274],"]",")",";",["T_WHITESPACE","\n\n        ",274],["T_COMMENT","\/\/ Matcher\n",276],["T_WHITESPACE","        ",277],["T_VARIABLE","$matcher",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","null",277],";",["T_WHITESPACE","\n        ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_ISSET","isset",278],"(",["T_VARIABLE","$firewall",278],"[",["T_CONSTANT_ENCAPSED_STRING","'request_matcher'",278],"]",")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$matcher",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_NEW","new",279],["T_WHITESPACE"," ",279],["T_STRING","Reference",279],"(",["T_VARIABLE","$firewall",279],"[",["T_CONSTANT_ENCAPSED_STRING","'request_matcher'",279],"]",")",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE"," ",280],["T_ELSEIF","elseif",280],["T_WHITESPACE"," ",280],"(",["T_ISSET","isset",280],"(",["T_VARIABLE","$firewall",280],"[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",280],"]",")",["T_WHITESPACE"," ",280],["T_BOOLEAN_OR","||",280],["T_WHITESPACE"," ",280],["T_ISSET","isset",280],"(",["T_VARIABLE","$firewall",280],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",280],"]",")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$pattern",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_ISSET","isset",281],"(",["T_VARIABLE","$firewall",281],"[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",281],"]",")",["T_WHITESPACE"," ",281],"?",["T_WHITESPACE"," ",281],["T_VARIABLE","$firewall",281],"[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",281],"]",["T_WHITESPACE"," ",281],":",["T_WHITESPACE"," ",281],["T_STRING","null",281],";",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$host",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_ISSET","isset",282],"(",["T_VARIABLE","$firewall",282],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",282],"]",")",["T_WHITESPACE"," ",282],"?",["T_WHITESPACE"," ",282],["T_VARIABLE","$firewall",282],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",282],"]",["T_WHITESPACE"," ",282],":",["T_WHITESPACE"," ",282],["T_STRING","null",282],";",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$methods",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_ISSET","isset",283],"(",["T_VARIABLE","$firewall",283],"[",["T_CONSTANT_ENCAPSED_STRING","'methods'",283],"]",")",["T_WHITESPACE"," ",283],"?",["T_WHITESPACE"," ",283],["T_VARIABLE","$firewall",283],"[",["T_CONSTANT_ENCAPSED_STRING","'methods'",283],"]",["T_WHITESPACE"," ",283],":",["T_WHITESPACE"," ",283],["T_ARRAY","array",283],"(",")",";",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$matcher",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","createRequestMatcher",284],"(",["T_VARIABLE","$container",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$pattern",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$host",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$methods",284],")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_VARIABLE","$config",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","replaceArgument",287],"(",["T_LNUMBER","2",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$matcher",287],["T_WHITESPACE"," ",287],"?",["T_WHITESPACE"," ",287],["T_STRING_CAST","(string)",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$matcher",287],["T_WHITESPACE"," ",287],":",["T_WHITESPACE"," ",287],["T_STRING","null",287],")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$config",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","replaceArgument",288],"(",["T_LNUMBER","3",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$firewall",288],"[",["T_CONSTANT_ENCAPSED_STRING","'security'",288],"]",")",";",["T_WHITESPACE","\n\n        ",288],["T_COMMENT","\/\/ Security disabled?\n",290],["T_WHITESPACE","        ",291],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_STRING","false",291],["T_WHITESPACE"," ",291],["T_IS_IDENTICAL","===",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$firewall",291],"[",["T_CONSTANT_ENCAPSED_STRING","'security'",291],"]",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n            ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_ARRAY","array",292],"(",["T_VARIABLE","$matcher",292],",",["T_WHITESPACE"," ",292],["T_ARRAY","array",292],"(",")",",",["T_WHITESPACE"," ",292],["T_STRING","null",292],")",";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n\n        ",293],["T_VARIABLE","$config",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","replaceArgument",295],"(",["T_LNUMBER","4",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$firewall",295],"[",["T_CONSTANT_ENCAPSED_STRING","'stateless'",295],"]",")",";",["T_WHITESPACE","\n\n        ",295],["T_COMMENT","\/\/ Provider id (take the first registered provider if none defined)\n",297],["T_WHITESPACE","        ",298],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_ISSET","isset",298],"(",["T_VARIABLE","$firewall",298],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",298],"]",")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$defaultProvider",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getUserProviderId",299],"(",["T_VARIABLE","$firewall",299],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",299],"]",")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE"," ",300],["T_ELSE","else",300],["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$defaultProvider",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","reset",301],"(",["T_VARIABLE","$providerIds",301],")",";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n\n        ",302],["T_VARIABLE","$config",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","replaceArgument",304],"(",["T_LNUMBER","5",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$defaultProvider",304],")",";",["T_WHITESPACE","\n\n        ",304],["T_COMMENT","\/\/ Register listeners\n",306],["T_WHITESPACE","        ",307],["T_VARIABLE","$listeners",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_ARRAY","array",307],"(",")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$listenerKeys",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_ARRAY","array",308],"(",")",";",["T_WHITESPACE","\n\n        ",308],["T_COMMENT","\/\/ Channel listener\n",310],["T_WHITESPACE","        ",311],["T_VARIABLE","$listeners",311],"[","]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_NEW","new",311],["T_WHITESPACE"," ",311],["T_STRING","Reference",311],"(",["T_CONSTANT_ENCAPSED_STRING","'security.channel_listener'",311],")",";",["T_WHITESPACE","\n\n        ",311],["T_VARIABLE","$contextKey",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","null",313],";",["T_WHITESPACE","\n        ",313],["T_COMMENT","\/\/ Context serializer listener\n",314],["T_WHITESPACE","        ",315],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_STRING","false",315],["T_WHITESPACE"," ",315],["T_IS_IDENTICAL","===",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$firewall",315],"[",["T_CONSTANT_ENCAPSED_STRING","'stateless'",315],"]",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$contextKey",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$id",316],";",["T_WHITESPACE","\n            ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_ISSET","isset",317],"(",["T_VARIABLE","$firewall",317],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",317],"]",")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],["T_VARIABLE","$contextKey",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$firewall",318],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",318],"]",";",["T_WHITESPACE","\n            ",318],"}",["T_WHITESPACE","\n\n            ",319],["T_VARIABLE","$listeners",321],"[","]",["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_NEW","new",321],["T_WHITESPACE"," ",321],["T_STRING","Reference",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","createContextListener",321],"(",["T_VARIABLE","$container",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$contextKey",321],")",")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n\n        ",322],["T_VARIABLE","$config",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","replaceArgument",324],"(",["T_LNUMBER","6",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$contextKey",324],")",";",["T_WHITESPACE","\n\n        ",324],["T_COMMENT","\/\/ Logout listener\n",326],["T_WHITESPACE","        ",327],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_ISSET","isset",327],"(",["T_VARIABLE","$firewall",327],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",327],"]",")",")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$listenerKeys",328],"[","]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'logout'",328],";",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$listenerId",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'security.logout_listener.'",329],".",["T_VARIABLE","$id",329],";",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$listener",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$container",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","setDefinition",330],"(",["T_VARIABLE","$listenerId",330],",",["T_WHITESPACE"," ",330],["T_NEW","new",330],["T_WHITESPACE"," ",330],["T_STRING","ChildDefinition",330],"(",["T_CONSTANT_ENCAPSED_STRING","'security.logout_listener'",330],")",")",";",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$listener",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","replaceArgument",331],"(",["T_LNUMBER","3",331],",",["T_WHITESPACE"," ",331],["T_ARRAY","array",331],"(",["T_WHITESPACE","\n                ",331],["T_CONSTANT_ENCAPSED_STRING","'csrf_parameter'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$firewall",332],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",332],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrf_parameter'",332],"]",",",["T_WHITESPACE","\n                ",332],["T_CONSTANT_ENCAPSED_STRING","'csrf_token_id'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$firewall",333],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",333],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_id'",333],"]",",",["T_WHITESPACE","\n                ",333],["T_CONSTANT_ENCAPSED_STRING","'logout_path'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$firewall",334],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",334],"]","[",["T_CONSTANT_ENCAPSED_STRING","'path'",334],"]",",",["T_WHITESPACE","\n            ",334],")",")",";",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$listeners",336],"[","]",["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_NEW","new",336],["T_WHITESPACE"," ",336],["T_STRING","Reference",336],"(",["T_VARIABLE","$listenerId",336],")",";",["T_WHITESPACE","\n\n            ",336],["T_COMMENT","\/\/ add logout success handler\n",338],["T_WHITESPACE","            ",339],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_ISSET","isset",339],"(",["T_VARIABLE","$firewall",339],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",339],"]","[",["T_CONSTANT_ENCAPSED_STRING","'success_handler'",339],"]",")",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n                ",339],["T_VARIABLE","$logoutSuccessHandlerId",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$firewall",340],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",340],"]","[",["T_CONSTANT_ENCAPSED_STRING","'success_handler'",340],"]",";",["T_WHITESPACE","\n            ",340],"}",["T_WHITESPACE"," ",341],["T_ELSE","else",341],["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$logoutSuccessHandlerId",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'security.logout.success_handler.'",342],".",["T_VARIABLE","$id",342],";",["T_WHITESPACE","\n                ",342],["T_VARIABLE","$logoutSuccessHandler",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$container",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","setDefinition",343],"(",["T_VARIABLE","$logoutSuccessHandlerId",343],",",["T_WHITESPACE"," ",343],["T_NEW","new",343],["T_WHITESPACE"," ",343],["T_STRING","ChildDefinition",343],"(",["T_CONSTANT_ENCAPSED_STRING","'security.logout.success_handler'",343],")",")",";",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$logoutSuccessHandler",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","replaceArgument",344],"(",["T_LNUMBER","1",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$firewall",344],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",344],"]","[",["T_CONSTANT_ENCAPSED_STRING","'target'",344],"]",")",";",["T_WHITESPACE","\n            ",344],"}",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$listener",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","replaceArgument",346],"(",["T_LNUMBER","2",346],",",["T_WHITESPACE"," ",346],["T_NEW","new",346],["T_WHITESPACE"," ",346],["T_STRING","Reference",346],"(",["T_VARIABLE","$logoutSuccessHandlerId",346],")",")",";",["T_WHITESPACE","\n\n            ",346],["T_COMMENT","\/\/ add CSRF provider\n",348],["T_WHITESPACE","            ",349],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_ISSET","isset",349],"(",["T_VARIABLE","$firewall",349],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",349],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_generator'",349],"]",")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$listener",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","addArgument",350],"(",["T_NEW","new",350],["T_WHITESPACE"," ",350],["T_STRING","Reference",350],"(",["T_VARIABLE","$firewall",350],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",350],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_generator'",350],"]",")",")",";",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE","\n\n            ",351],["T_COMMENT","\/\/ add session logout handler\n",353],["T_WHITESPACE","            ",354],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_STRING","true",354],["T_WHITESPACE"," ",354],["T_IS_IDENTICAL","===",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$firewall",354],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",354],"]","[",["T_CONSTANT_ENCAPSED_STRING","'invalidate_session'",354],"]",["T_WHITESPACE"," ",354],["T_BOOLEAN_AND","&&",354],["T_WHITESPACE"," ",354],["T_STRING","false",354],["T_WHITESPACE"," ",354],["T_IS_IDENTICAL","===",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$firewall",354],"[",["T_CONSTANT_ENCAPSED_STRING","'stateless'",354],"]",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n                ",354],["T_VARIABLE","$listener",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","addMethodCall",355],"(",["T_CONSTANT_ENCAPSED_STRING","'addHandler'",355],",",["T_WHITESPACE"," ",355],["T_ARRAY","array",355],"(",["T_NEW","new",355],["T_WHITESPACE"," ",355],["T_STRING","Reference",355],"(",["T_CONSTANT_ENCAPSED_STRING","'security.logout.handler.session'",355],")",")",")",";",["T_WHITESPACE","\n            ",355],"}",["T_WHITESPACE","\n\n            ",356],["T_COMMENT","\/\/ add cookie logout handler\n",358],["T_WHITESPACE","            ",359],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_STRING","count",359],"(",["T_VARIABLE","$firewall",359],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",359],"]","[",["T_CONSTANT_ENCAPSED_STRING","'delete_cookies'",359],"]",")",["T_WHITESPACE"," ",359],">",["T_WHITESPACE"," ",359],["T_LNUMBER","0",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n                ",359],["T_VARIABLE","$cookieHandlerId",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'security.logout.handler.cookie_clearing.'",360],".",["T_VARIABLE","$id",360],";",["T_WHITESPACE","\n                ",360],["T_VARIABLE","$cookieHandler",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$container",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","setDefinition",361],"(",["T_VARIABLE","$cookieHandlerId",361],",",["T_WHITESPACE"," ",361],["T_NEW","new",361],["T_WHITESPACE"," ",361],["T_STRING","ChildDefinition",361],"(",["T_CONSTANT_ENCAPSED_STRING","'security.logout.handler.cookie_clearing'",361],")",")",";",["T_WHITESPACE","\n                ",361],["T_VARIABLE","$cookieHandler",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","addArgument",362],"(",["T_VARIABLE","$firewall",362],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",362],"]","[",["T_CONSTANT_ENCAPSED_STRING","'delete_cookies'",362],"]",")",";",["T_WHITESPACE","\n\n                ",362],["T_VARIABLE","$listener",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","addMethodCall",364],"(",["T_CONSTANT_ENCAPSED_STRING","'addHandler'",364],",",["T_WHITESPACE"," ",364],["T_ARRAY","array",364],"(",["T_NEW","new",364],["T_WHITESPACE"," ",364],["T_STRING","Reference",364],"(",["T_VARIABLE","$cookieHandlerId",364],")",")",")",";",["T_WHITESPACE","\n            ",364],"}",["T_WHITESPACE","\n\n            ",365],["T_COMMENT","\/\/ add custom handlers\n",367],["T_WHITESPACE","            ",368],["T_FOREACH","foreach",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$firewall",368],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",368],"]","[",["T_CONSTANT_ENCAPSED_STRING","'handlers'",368],"]",["T_WHITESPACE"," ",368],["T_AS","as",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$handlerId",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n                ",368],["T_VARIABLE","$listener",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","addMethodCall",369],"(",["T_CONSTANT_ENCAPSED_STRING","'addHandler'",369],",",["T_WHITESPACE"," ",369],["T_ARRAY","array",369],"(",["T_NEW","new",369],["T_WHITESPACE"," ",369],["T_STRING","Reference",369],"(",["T_VARIABLE","$handlerId",369],")",")",")",";",["T_WHITESPACE","\n            ",369],"}",["T_WHITESPACE","\n\n            ",370],["T_COMMENT","\/\/ register with LogoutUrlGenerator\n",372],["T_WHITESPACE","            ",373],["T_VARIABLE","$container",373],["T_WHITESPACE","\n                ",373],["T_OBJECT_OPERATOR","->",374],["T_STRING","getDefinition",374],"(",["T_CONSTANT_ENCAPSED_STRING","'security.logout_url_generator'",374],")",["T_WHITESPACE","\n                ",374],["T_OBJECT_OPERATOR","->",375],["T_STRING","addMethodCall",375],"(",["T_CONSTANT_ENCAPSED_STRING","'registerListener'",375],",",["T_WHITESPACE"," ",375],["T_ARRAY","array",375],"(",["T_WHITESPACE","\n                    ",375],["T_VARIABLE","$id",376],",",["T_WHITESPACE","\n                    ",376],["T_VARIABLE","$firewall",377],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",377],"]","[",["T_CONSTANT_ENCAPSED_STRING","'path'",377],"]",",",["T_WHITESPACE","\n                    ",377],["T_VARIABLE","$firewall",378],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",378],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_id'",378],"]",",",["T_WHITESPACE","\n                    ",378],["T_VARIABLE","$firewall",379],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",379],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrf_parameter'",379],"]",",",["T_WHITESPACE","\n                    ",379],["T_ISSET","isset",380],"(",["T_VARIABLE","$firewall",380],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",380],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_generator'",380],"]",")",["T_WHITESPACE"," ",380],"?",["T_WHITESPACE"," ",380],["T_NEW","new",380],["T_WHITESPACE"," ",380],["T_STRING","Reference",380],"(",["T_VARIABLE","$firewall",380],"[",["T_CONSTANT_ENCAPSED_STRING","'logout'",380],"]","[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_generator'",380],"]",")",["T_WHITESPACE"," ",380],":",["T_WHITESPACE"," ",380],["T_STRING","null",380],",",["T_WHITESPACE","\n                ",380],")",")",["T_WHITESPACE","\n            ",381],";",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n\n        ",383],["T_COMMENT","\/\/ Determine default entry point\n",385],["T_WHITESPACE","        ",386],["T_VARIABLE","$configuredEntryPoint",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_ISSET","isset",386],"(",["T_VARIABLE","$firewall",386],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_point'",386],"]",")",["T_WHITESPACE"," ",386],"?",["T_WHITESPACE"," ",386],["T_VARIABLE","$firewall",386],"[",["T_CONSTANT_ENCAPSED_STRING","'entry_point'",386],"]",["T_WHITESPACE"," ",386],":",["T_WHITESPACE"," ",386],["T_STRING","null",386],";",["T_WHITESPACE","\n\n        ",386],["T_COMMENT","\/\/ Authentication listeners\n",388],["T_WHITESPACE","        ",389],["T_LIST","list",389],"(",["T_VARIABLE","$authListeners",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$defaultEntryPoint",389],")",["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","createAuthenticationListeners",389],"(",["T_VARIABLE","$container",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$id",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$firewall",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$authenticationProviders",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$defaultProvider",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$configuredEntryPoint",389],")",";",["T_WHITESPACE","\n\n        ",389],["T_VARIABLE","$config",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","replaceArgument",391],"(",["T_LNUMBER","7",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$configuredEntryPoint",391],["T_WHITESPACE"," ",391],"?",":",["T_WHITESPACE"," ",391],["T_VARIABLE","$defaultEntryPoint",391],")",";",["T_WHITESPACE","\n\n        ",391],["T_VARIABLE","$listeners",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_STRING","array_merge",393],"(",["T_VARIABLE","$listeners",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$authListeners",393],")",";",["T_WHITESPACE","\n\n        ",393],["T_COMMENT","\/\/ Switch user listener\n",395],["T_WHITESPACE","        ",396],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_ISSET","isset",396],"(",["T_VARIABLE","$firewall",396],"[",["T_CONSTANT_ENCAPSED_STRING","'switch_user'",396],"]",")",")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_VARIABLE","$listenerKeys",397],"[","]",["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'switch_user'",397],";",["T_WHITESPACE","\n            ",397],["T_VARIABLE","$listeners",398],"[","]",["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_NEW","new",398],["T_WHITESPACE"," ",398],["T_STRING","Reference",398],"(",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","createSwitchUserListener",398],"(",["T_VARIABLE","$container",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$id",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$firewall",398],"[",["T_CONSTANT_ENCAPSED_STRING","'switch_user'",398],"]",",",["T_WHITESPACE"," ",398],["T_VARIABLE","$defaultProvider",398],")",")",";",["T_WHITESPACE","\n        ",398],"}",["T_WHITESPACE","\n\n        ",399],["T_COMMENT","\/\/ Access listener\n",401],["T_WHITESPACE","        ",402],["T_VARIABLE","$listeners",402],"[","]",["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_NEW","new",402],["T_WHITESPACE"," ",402],["T_STRING","Reference",402],"(",["T_CONSTANT_ENCAPSED_STRING","'security.access_listener'",402],")",";",["T_WHITESPACE","\n\n        ",402],["T_COMMENT","\/\/ Exception listener\n",404],["T_WHITESPACE","        ",405],["T_VARIABLE","$exceptionListener",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_NEW","new",405],["T_WHITESPACE"," ",405],["T_STRING","Reference",405],"(",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","createExceptionListener",405],"(",["T_VARIABLE","$container",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$firewall",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$id",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$configuredEntryPoint",405],["T_WHITESPACE"," ",405],"?",":",["T_WHITESPACE"," ",405],["T_VARIABLE","$defaultEntryPoint",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$firewall",405],"[",["T_CONSTANT_ENCAPSED_STRING","'stateless'",405],"]",")",")",";",["T_WHITESPACE","\n\n        ",405],["T_VARIABLE","$config",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","replaceArgument",407],"(",["T_LNUMBER","8",407],",",["T_WHITESPACE"," ",407],["T_ISSET","isset",407],"(",["T_VARIABLE","$firewall",407],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_handler'",407],"]",")",["T_WHITESPACE"," ",407],"?",["T_WHITESPACE"," ",407],["T_VARIABLE","$firewall",407],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_handler'",407],"]",["T_WHITESPACE"," ",407],":",["T_WHITESPACE"," ",407],["T_STRING","null",407],")",";",["T_WHITESPACE","\n        ",407],["T_VARIABLE","$config",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","replaceArgument",408],"(",["T_LNUMBER","9",408],",",["T_WHITESPACE"," ",408],["T_ISSET","isset",408],"(",["T_VARIABLE","$firewall",408],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_url'",408],"]",")",["T_WHITESPACE"," ",408],"?",["T_WHITESPACE"," ",408],["T_VARIABLE","$firewall",408],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_url'",408],"]",["T_WHITESPACE"," ",408],":",["T_WHITESPACE"," ",408],["T_STRING","null",408],")",";",["T_WHITESPACE","\n\n        ",408],["T_VARIABLE","$container",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","setAlias",410],"(",["T_CONSTANT_ENCAPSED_STRING","'security.user_checker.'",410],".",["T_VARIABLE","$id",410],",",["T_WHITESPACE"," ",410],["T_NEW","new",410],["T_WHITESPACE"," ",410],["T_STRING","Alias",410],"(",["T_VARIABLE","$firewall",410],"[",["T_CONSTANT_ENCAPSED_STRING","'user_checker'",410],"]",",",["T_WHITESPACE"," ",410],["T_STRING","false",410],")",")",";",["T_WHITESPACE","\n\n        ",410],["T_FOREACH","foreach",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","factories",412],["T_WHITESPACE"," ",412],["T_AS","as",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$position",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_FOREACH","foreach",413],["T_WHITESPACE"," ",413],"(",["T_VARIABLE","$position",413],["T_WHITESPACE"," ",413],["T_AS","as",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$factory",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n                ",413],["T_VARIABLE","$key",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_STRING","str_replace",414],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",414],",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'_'",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$factory",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getKey",414],"(",")",")",";",["T_WHITESPACE","\n                ",414],["T_IF","if",415],["T_WHITESPACE"," ",415],"(",["T_STRING","array_key_exists",415],"(",["T_VARIABLE","$key",415],",",["T_WHITESPACE"," ",415],["T_VARIABLE","$firewall",415],")",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n                    ",415],["T_VARIABLE","$listenerKeys",416],"[","]",["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$key",416],";",["T_WHITESPACE","\n                ",416],"}",["T_WHITESPACE","\n            ",417],"}",["T_WHITESPACE","\n        ",418],"}",["T_WHITESPACE","\n\n        ",419],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_ISSET","isset",421],"(",["T_VARIABLE","$firewall",421],"[",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",421],"]",")",")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n            ",421],["T_VARIABLE","$listenerKeys",422],"[","]",["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'anonymous'",422],";",["T_WHITESPACE","\n        ",422],"}",["T_WHITESPACE","\n\n        ",423],["T_VARIABLE","$config",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","replaceArgument",425],"(",["T_LNUMBER","10",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$listenerKeys",425],")",";",["T_WHITESPACE","\n\n        ",425],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_ARRAY","array",427],"(",["T_VARIABLE","$matcher",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$listeners",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$exceptionListener",427],")",";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_PRIVATE","private",430],["T_WHITESPACE"," ",430],["T_FUNCTION","function",430],["T_WHITESPACE"," ",430],["T_STRING","createContextListener",430],"(",["T_VARIABLE","$container",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$contextKey",430],")",["T_WHITESPACE","\n    ",430],"{",["T_WHITESPACE","\n        ",431],["T_IF","if",432],["T_WHITESPACE"," ",432],"(",["T_ISSET","isset",432],"(",["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","contextListeners",432],"[",["T_VARIABLE","$contextKey",432],"]",")",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","contextListeners",433],"[",["T_VARIABLE","$contextKey",433],"]",";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE","\n\n        ",434],["T_VARIABLE","$listenerId",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'security.context_listener.'",436],".",["T_STRING","count",436],"(",["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","contextListeners",436],")",";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$listener",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$container",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","setDefinition",437],"(",["T_VARIABLE","$listenerId",437],",",["T_WHITESPACE"," ",437],["T_NEW","new",437],["T_WHITESPACE"," ",437],["T_STRING","ChildDefinition",437],"(",["T_CONSTANT_ENCAPSED_STRING","'security.context_listener'",437],")",")",";",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$listener",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","replaceArgument",438],"(",["T_LNUMBER","2",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$contextKey",438],")",";",["T_WHITESPACE","\n\n        ",438],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","contextListeners",440],"[",["T_VARIABLE","$contextKey",440],"]",["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$listenerId",440],";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n\n    ",441],["T_PRIVATE","private",443],["T_WHITESPACE"," ",443],["T_FUNCTION","function",443],["T_WHITESPACE"," ",443],["T_STRING","createAuthenticationListeners",443],"(",["T_VARIABLE","$container",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$id",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$firewall",443],",",["T_WHITESPACE"," ",443],"&",["T_VARIABLE","$authenticationProviders",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$defaultProvider",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$defaultEntryPoint",443],")",["T_WHITESPACE","\n    ",443],"{",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$listeners",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",")",";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$hasListeners",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","false",446],";",["T_WHITESPACE","\n\n        ",446],["T_FOREACH","foreach",448],["T_WHITESPACE"," ",448],"(",["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","listenerPositions",448],["T_WHITESPACE"," ",448],["T_AS","as",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$position",448],")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n            ",448],["T_FOREACH","foreach",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","factories",449],"[",["T_VARIABLE","$position",449],"]",["T_WHITESPACE"," ",449],["T_AS","as",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$factory",449],")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n                ",449],["T_VARIABLE","$key",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_STRING","str_replace",450],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",450],",",["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'_'",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$factory",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getKey",450],"(",")",")",";",["T_WHITESPACE","\n\n                ",450],["T_IF","if",452],["T_WHITESPACE"," ",452],"(",["T_ISSET","isset",452],"(",["T_VARIABLE","$firewall",452],"[",["T_VARIABLE","$key",452],"]",")",")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n                    ",452],["T_VARIABLE","$userProvider",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_ISSET","isset",453],"(",["T_VARIABLE","$firewall",453],"[",["T_VARIABLE","$key",453],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",453],"]",")",["T_WHITESPACE"," ",453],"?",["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getUserProviderId",453],"(",["T_VARIABLE","$firewall",453],"[",["T_VARIABLE","$key",453],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",453],"]",")",["T_WHITESPACE"," ",453],":",["T_WHITESPACE"," ",453],["T_VARIABLE","$defaultProvider",453],";",["T_WHITESPACE","\n\n                    ",453],["T_LIST","list",455],"(",["T_VARIABLE","$provider",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$listenerId",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$defaultEntryPoint",455],")",["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$factory",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","create",455],"(",["T_VARIABLE","$container",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$id",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$firewall",455],"[",["T_VARIABLE","$key",455],"]",",",["T_WHITESPACE"," ",455],["T_VARIABLE","$userProvider",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$defaultEntryPoint",455],")",";",["T_WHITESPACE","\n\n                    ",455],["T_VARIABLE","$listeners",457],"[","]",["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_NEW","new",457],["T_WHITESPACE"," ",457],["T_STRING","Reference",457],"(",["T_VARIABLE","$listenerId",457],")",";",["T_WHITESPACE","\n                    ",457],["T_VARIABLE","$authenticationProviders",458],"[","]",["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$provider",458],";",["T_WHITESPACE","\n                    ",458],["T_VARIABLE","$hasListeners",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_STRING","true",459],";",["T_WHITESPACE","\n                ",459],"}",["T_WHITESPACE","\n            ",460],"}",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE","\n\n        ",462],["T_COMMENT","\/\/ Anonymous\n",464],["T_WHITESPACE","        ",465],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_ISSET","isset",465],"(",["T_VARIABLE","$firewall",465],"[",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",465],"]",")",")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n            ",465],["T_VARIABLE","$listenerId",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'security.authentication.listener.anonymous.'",466],".",["T_VARIABLE","$id",466],";",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$container",467],["T_WHITESPACE","\n                ",467],["T_OBJECT_OPERATOR","->",468],["T_STRING","setDefinition",468],"(",["T_VARIABLE","$listenerId",468],",",["T_WHITESPACE"," ",468],["T_NEW","new",468],["T_WHITESPACE"," ",468],["T_STRING","ChildDefinition",468],"(",["T_CONSTANT_ENCAPSED_STRING","'security.authentication.listener.anonymous'",468],")",")",["T_WHITESPACE","\n                ",468],["T_OBJECT_OPERATOR","->",469],["T_STRING","replaceArgument",469],"(",["T_LNUMBER","1",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$firewall",469],"[",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",469],"]","[",["T_CONSTANT_ENCAPSED_STRING","'secret'",469],"]",")",["T_WHITESPACE","\n            ",469],";",["T_WHITESPACE","\n\n            ",470],["T_VARIABLE","$listeners",472],"[","]",["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_NEW","new",472],["T_WHITESPACE"," ",472],["T_STRING","Reference",472],"(",["T_VARIABLE","$listenerId",472],")",";",["T_WHITESPACE","\n\n            ",472],["T_VARIABLE","$providerId",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'security.authentication.provider.anonymous.'",474],".",["T_VARIABLE","$id",474],";",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$container",475],["T_WHITESPACE","\n                ",475],["T_OBJECT_OPERATOR","->",476],["T_STRING","setDefinition",476],"(",["T_VARIABLE","$providerId",476],",",["T_WHITESPACE"," ",476],["T_NEW","new",476],["T_WHITESPACE"," ",476],["T_STRING","ChildDefinition",476],"(",["T_CONSTANT_ENCAPSED_STRING","'security.authentication.provider.anonymous'",476],")",")",["T_WHITESPACE","\n                ",476],["T_OBJECT_OPERATOR","->",477],["T_STRING","replaceArgument",477],"(",["T_LNUMBER","0",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$firewall",477],"[",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",477],"]","[",["T_CONSTANT_ENCAPSED_STRING","'secret'",477],"]",")",["T_WHITESPACE","\n            ",477],";",["T_WHITESPACE","\n\n            ",478],["T_VARIABLE","$authenticationProviders",480],"[","]",["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$providerId",480],";",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$hasListeners",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_STRING","true",481],";",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n\n        ",482],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_STRING","false",484],["T_WHITESPACE"," ",484],["T_IS_IDENTICAL","===",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$hasListeners",484],")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_THROW","throw",485],["T_WHITESPACE"," ",485],["T_NEW","new",485],["T_WHITESPACE"," ",485],["T_STRING","InvalidConfigurationException",485],"(",["T_STRING","sprintf",485],"(",["T_CONSTANT_ENCAPSED_STRING","'No authentication listener registered for firewall \"%s\".'",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$id",485],")",")",";",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE","\n\n        ",486],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_ARRAY","array",488],"(",["T_VARIABLE","$listeners",488],",",["T_WHITESPACE"," ",488],["T_VARIABLE","$defaultEntryPoint",488],")",";",["T_WHITESPACE","\n    ",488],"}",["T_WHITESPACE","\n\n    ",489],["T_PRIVATE","private",491],["T_WHITESPACE"," ",491],["T_FUNCTION","function",491],["T_WHITESPACE"," ",491],["T_STRING","createEncoders",491],"(",["T_VARIABLE","$encoders",491],",",["T_WHITESPACE"," ",491],["T_STRING","ContainerBuilder",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$container",491],")",["T_WHITESPACE","\n    ",491],"{",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$encoderMap",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_ARRAY","array",493],"(",")",";",["T_WHITESPACE","\n        ",493],["T_FOREACH","foreach",494],["T_WHITESPACE"," ",494],"(",["T_VARIABLE","$encoders",494],["T_WHITESPACE"," ",494],["T_AS","as",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$class",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$encoder",494],")",["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n            ",494],["T_VARIABLE","$encoderMap",495],"[",["T_VARIABLE","$class",495],"]",["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","createEncoder",495],"(",["T_VARIABLE","$encoder",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$container",495],")",";",["T_WHITESPACE","\n        ",495],"}",["T_WHITESPACE","\n\n        ",496],["T_VARIABLE","$container",498],["T_WHITESPACE","\n            ",498],["T_OBJECT_OPERATOR","->",499],["T_STRING","getDefinition",499],"(",["T_CONSTANT_ENCAPSED_STRING","'security.encoder_factory.generic'",499],")",["T_WHITESPACE","\n            ",499],["T_OBJECT_OPERATOR","->",500],["T_STRING","setArguments",500],"(",["T_ARRAY","array",500],"(",["T_VARIABLE","$encoderMap",500],")",")",["T_WHITESPACE","\n        ",500],";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n\n    ",502],["T_PRIVATE","private",504],["T_WHITESPACE"," ",504],["T_FUNCTION","function",504],["T_WHITESPACE"," ",504],["T_STRING","createEncoder",504],"(",["T_VARIABLE","$config",504],",",["T_WHITESPACE"," ",504],["T_STRING","ContainerBuilder",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$container",504],")",["T_WHITESPACE","\n    ",504],"{",["T_WHITESPACE","\n        ",505],["T_COMMENT","\/\/ a custom encoder service\n",506],["T_WHITESPACE","        ",507],["T_IF","if",507],["T_WHITESPACE"," ",507],"(",["T_ISSET","isset",507],"(",["T_VARIABLE","$config",507],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",507],"]",")",")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n            ",507],["T_RETURN","return",508],["T_WHITESPACE"," ",508],["T_NEW","new",508],["T_WHITESPACE"," ",508],["T_STRING","Reference",508],"(",["T_VARIABLE","$config",508],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",508],"]",")",";",["T_WHITESPACE","\n        ",508],"}",["T_WHITESPACE","\n\n        ",509],["T_COMMENT","\/\/ plaintext encoder\n",511],["T_WHITESPACE","        ",512],["T_IF","if",512],["T_WHITESPACE"," ",512],"(",["T_CONSTANT_ENCAPSED_STRING","'plaintext'",512],["T_WHITESPACE"," ",512],["T_IS_IDENTICAL","===",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$config",512],"[",["T_CONSTANT_ENCAPSED_STRING","'algorithm'",512],"]",")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$arguments",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_ARRAY","array",513],"(",["T_VARIABLE","$config",513],"[",["T_CONSTANT_ENCAPSED_STRING","'ignore_case'",513],"]",")",";",["T_WHITESPACE","\n\n            ",513],["T_RETURN","return",515],["T_WHITESPACE"," ",515],["T_ARRAY","array",515],"(",["T_WHITESPACE","\n                ",515],["T_CONSTANT_ENCAPSED_STRING","'class'",516],["T_WHITESPACE"," ",516],["T_DOUBLE_ARROW","=>",516],["T_WHITESPACE"," ",516],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Encoder\\PlaintextPasswordEncoder'",516],",",["T_WHITESPACE","\n                ",516],["T_CONSTANT_ENCAPSED_STRING","'arguments'",517],["T_WHITESPACE"," ",517],["T_DOUBLE_ARROW","=>",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$arguments",517],",",["T_WHITESPACE","\n            ",517],")",";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE","\n\n        ",519],["T_COMMENT","\/\/ pbkdf2 encoder\n",521],["T_WHITESPACE","        ",522],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_CONSTANT_ENCAPSED_STRING","'pbkdf2'",522],["T_WHITESPACE"," ",522],["T_IS_IDENTICAL","===",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$config",522],"[",["T_CONSTANT_ENCAPSED_STRING","'algorithm'",522],"]",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_RETURN","return",523],["T_WHITESPACE"," ",523],["T_ARRAY","array",523],"(",["T_WHITESPACE","\n                ",523],["T_CONSTANT_ENCAPSED_STRING","'class'",524],["T_WHITESPACE"," ",524],["T_DOUBLE_ARROW","=>",524],["T_WHITESPACE"," ",524],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Encoder\\Pbkdf2PasswordEncoder'",524],",",["T_WHITESPACE","\n                ",524],["T_CONSTANT_ENCAPSED_STRING","'arguments'",525],["T_WHITESPACE"," ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_ARRAY","array",525],"(",["T_WHITESPACE","\n                    ",525],["T_VARIABLE","$config",526],"[",["T_CONSTANT_ENCAPSED_STRING","'hash_algorithm'",526],"]",",",["T_WHITESPACE","\n                    ",526],["T_VARIABLE","$config",527],"[",["T_CONSTANT_ENCAPSED_STRING","'encode_as_base64'",527],"]",",",["T_WHITESPACE","\n                    ",527],["T_VARIABLE","$config",528],"[",["T_CONSTANT_ENCAPSED_STRING","'iterations'",528],"]",",",["T_WHITESPACE","\n                    ",528],["T_VARIABLE","$config",529],"[",["T_CONSTANT_ENCAPSED_STRING","'key_length'",529],"]",",",["T_WHITESPACE","\n                ",529],")",",",["T_WHITESPACE","\n            ",530],")",";",["T_WHITESPACE","\n        ",531],"}",["T_WHITESPACE","\n\n        ",532],["T_COMMENT","\/\/ bcrypt encoder\n",534],["T_WHITESPACE","        ",535],["T_IF","if",535],["T_WHITESPACE"," ",535],"(",["T_CONSTANT_ENCAPSED_STRING","'bcrypt'",535],["T_WHITESPACE"," ",535],["T_IS_IDENTICAL","===",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$config",535],"[",["T_CONSTANT_ENCAPSED_STRING","'algorithm'",535],"]",")",["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n            ",535],["T_RETURN","return",536],["T_WHITESPACE"," ",536],["T_ARRAY","array",536],"(",["T_WHITESPACE","\n                ",536],["T_CONSTANT_ENCAPSED_STRING","'class'",537],["T_WHITESPACE"," ",537],["T_DOUBLE_ARROW","=>",537],["T_WHITESPACE"," ",537],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Encoder\\BCryptPasswordEncoder'",537],",",["T_WHITESPACE","\n                ",537],["T_CONSTANT_ENCAPSED_STRING","'arguments'",538],["T_WHITESPACE"," ",538],["T_DOUBLE_ARROW","=>",538],["T_WHITESPACE"," ",538],["T_ARRAY","array",538],"(",["T_VARIABLE","$config",538],"[",["T_CONSTANT_ENCAPSED_STRING","'cost'",538],"]",")",",",["T_WHITESPACE","\n            ",538],")",";",["T_WHITESPACE","\n        ",539],"}",["T_WHITESPACE","\n\n        ",540],["T_COMMENT","\/\/ run-time configured encoder\n",542],["T_WHITESPACE","        ",543],["T_RETURN","return",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$config",543],";",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n\n    ",544],["T_COMMENT","\/\/ Parses user providers and returns an array of their ids\n",546],["T_WHITESPACE","    ",547],["T_PRIVATE","private",547],["T_WHITESPACE"," ",547],["T_FUNCTION","function",547],["T_WHITESPACE"," ",547],["T_STRING","createUserProviders",547],"(",["T_VARIABLE","$config",547],",",["T_WHITESPACE"," ",547],["T_STRING","ContainerBuilder",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$container",547],")",["T_WHITESPACE","\n    ",547],"{",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$providerIds",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_ARRAY","array",549],"(",")",";",["T_WHITESPACE","\n        ",549],["T_FOREACH","foreach",550],["T_WHITESPACE"," ",550],"(",["T_VARIABLE","$config",550],"[",["T_CONSTANT_ENCAPSED_STRING","'providers'",550],"]",["T_WHITESPACE"," ",550],["T_AS","as",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$name",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$provider",550],")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n            ",550],["T_VARIABLE","$id",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","createUserDaoProvider",551],"(",["T_VARIABLE","$name",551],",",["T_WHITESPACE"," ",551],["T_VARIABLE","$provider",551],",",["T_WHITESPACE"," ",551],["T_VARIABLE","$container",551],")",";",["T_WHITESPACE","\n            ",551],["T_VARIABLE","$providerIds",552],"[","]",["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_VARIABLE","$id",552],";",["T_WHITESPACE","\n        ",552],"}",["T_WHITESPACE","\n\n        ",553],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$providerIds",555],";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n\n    ",556],["T_COMMENT","\/\/ Parses a <provider> tag and returns the id for the related user provider service\n",558],["T_WHITESPACE","    ",559],["T_PRIVATE","private",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","createUserDaoProvider",559],"(",["T_VARIABLE","$name",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$provider",559],",",["T_WHITESPACE"," ",559],["T_STRING","ContainerBuilder",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$container",559],")",["T_WHITESPACE","\n    ",559],"{",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$name",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","getUserProviderId",561],"(",["T_STRING","strtolower",561],"(",["T_VARIABLE","$name",561],")",")",";",["T_WHITESPACE","\n\n        ",561],["T_COMMENT","\/\/ Doctrine Entity and In-memory DAO provider are managed by factories\n",563],["T_WHITESPACE","        ",564],["T_FOREACH","foreach",564],["T_WHITESPACE"," ",564],"(",["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","userProviderFactories",564],["T_WHITESPACE"," ",564],["T_AS","as",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$factory",564],")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n            ",564],["T_VARIABLE","$key",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_STRING","str_replace",565],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",565],",",["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'_'",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$factory",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","getKey",565],"(",")",")",";",["T_WHITESPACE","\n\n            ",565],["T_IF","if",567],["T_WHITESPACE"," ",567],"(","!",["T_EMPTY","empty",567],"(",["T_VARIABLE","$provider",567],"[",["T_VARIABLE","$key",567],"]",")",")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n                ",567],["T_VARIABLE","$factory",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","create",568],"(",["T_VARIABLE","$container",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$name",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$provider",568],"[",["T_VARIABLE","$key",568],"]",")",";",["T_WHITESPACE","\n\n                ",568],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$name",570],";",["T_WHITESPACE","\n            ",570],"}",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n\n        ",572],["T_COMMENT","\/\/ Existing DAO service provider\n",574],["T_WHITESPACE","        ",575],["T_IF","if",575],["T_WHITESPACE"," ",575],"(",["T_ISSET","isset",575],"(",["T_VARIABLE","$provider",575],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",575],"]",")",")",["T_WHITESPACE"," ",575],"{",["T_WHITESPACE","\n            ",575],["T_VARIABLE","$container",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","setAlias",576],"(",["T_VARIABLE","$name",576],",",["T_WHITESPACE"," ",576],["T_NEW","new",576],["T_WHITESPACE"," ",576],["T_STRING","Alias",576],"(",["T_VARIABLE","$provider",576],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",576],"]",",",["T_WHITESPACE"," ",576],["T_STRING","false",576],")",")",";",["T_WHITESPACE","\n\n            ",576],["T_RETURN","return",578],["T_WHITESPACE"," ",578],["T_VARIABLE","$provider",578],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",578],"]",";",["T_WHITESPACE","\n        ",578],"}",["T_WHITESPACE","\n\n        ",579],["T_COMMENT","\/\/ Chain provider\n",581],["T_WHITESPACE","        ",582],["T_IF","if",582],["T_WHITESPACE"," ",582],"(",["T_ISSET","isset",582],"(",["T_VARIABLE","$provider",582],"[",["T_CONSTANT_ENCAPSED_STRING","'chain'",582],"]",")",")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n            ",582],["T_VARIABLE","$providers",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_ARRAY","array",583],"(",")",";",["T_WHITESPACE","\n            ",583],["T_FOREACH","foreach",584],["T_WHITESPACE"," ",584],"(",["T_VARIABLE","$provider",584],"[",["T_CONSTANT_ENCAPSED_STRING","'chain'",584],"]","[",["T_CONSTANT_ENCAPSED_STRING","'providers'",584],"]",["T_WHITESPACE"," ",584],["T_AS","as",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$providerName",584],")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n                ",584],["T_VARIABLE","$providers",585],"[","]",["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],["T_NEW","new",585],["T_WHITESPACE"," ",585],["T_STRING","Reference",585],"(",["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","getUserProviderId",585],"(",["T_STRING","strtolower",585],"(",["T_VARIABLE","$providerName",585],")",")",")",";",["T_WHITESPACE","\n            ",585],"}",["T_WHITESPACE","\n\n            ",586],["T_VARIABLE","$container",588],["T_WHITESPACE","\n                ",588],["T_OBJECT_OPERATOR","->",589],["T_STRING","setDefinition",589],"(",["T_VARIABLE","$name",589],",",["T_WHITESPACE"," ",589],["T_NEW","new",589],["T_WHITESPACE"," ",589],["T_STRING","ChildDefinition",589],"(",["T_CONSTANT_ENCAPSED_STRING","'security.user.provider.chain'",589],")",")",["T_WHITESPACE","\n                ",589],["T_OBJECT_OPERATOR","->",590],["T_STRING","addArgument",590],"(",["T_VARIABLE","$providers",590],")",";",["T_WHITESPACE","\n\n            ",590],["T_RETURN","return",592],["T_WHITESPACE"," ",592],["T_VARIABLE","$name",592],";",["T_WHITESPACE","\n        ",592],"}",["T_WHITESPACE","\n\n        ",593],["T_THROW","throw",595],["T_WHITESPACE"," ",595],["T_NEW","new",595],["T_WHITESPACE"," ",595],["T_STRING","InvalidConfigurationException",595],"(",["T_STRING","sprintf",595],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to create definition for \"%s\" user provider'",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$name",595],")",")",";",["T_WHITESPACE","\n    ",595],"}",["T_WHITESPACE","\n\n    ",596],["T_PRIVATE","private",598],["T_WHITESPACE"," ",598],["T_FUNCTION","function",598],["T_WHITESPACE"," ",598],["T_STRING","getUserProviderId",598],"(",["T_VARIABLE","$name",598],")",["T_WHITESPACE","\n    ",598],"{",["T_WHITESPACE","\n        ",599],["T_RETURN","return",600],["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'security.user.provider.concrete.'",600],".",["T_VARIABLE","$name",600],";",["T_WHITESPACE","\n    ",600],"}",["T_WHITESPACE","\n\n    ",601],["T_PRIVATE","private",603],["T_WHITESPACE"," ",603],["T_FUNCTION","function",603],["T_WHITESPACE"," ",603],["T_STRING","createExceptionListener",603],"(",["T_VARIABLE","$container",603],",",["T_WHITESPACE"," ",603],["T_VARIABLE","$config",603],",",["T_WHITESPACE"," ",603],["T_VARIABLE","$id",603],",",["T_WHITESPACE"," ",603],["T_VARIABLE","$defaultEntryPoint",603],",",["T_WHITESPACE"," ",603],["T_VARIABLE","$stateless",603],")",["T_WHITESPACE","\n    ",603],"{",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$exceptionListenerId",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'security.exception_listener.'",605],".",["T_VARIABLE","$id",605],";",["T_WHITESPACE","\n        ",605],["T_VARIABLE","$listener",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_VARIABLE","$container",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","setDefinition",606],"(",["T_VARIABLE","$exceptionListenerId",606],",",["T_WHITESPACE"," ",606],["T_NEW","new",606],["T_WHITESPACE"," ",606],["T_STRING","ChildDefinition",606],"(",["T_CONSTANT_ENCAPSED_STRING","'security.exception_listener'",606],")",")",";",["T_WHITESPACE","\n        ",606],["T_VARIABLE","$listener",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","replaceArgument",607],"(",["T_LNUMBER","3",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$id",607],")",";",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$listener",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","replaceArgument",608],"(",["T_LNUMBER","4",608],",",["T_WHITESPACE"," ",608],["T_STRING","null",608],["T_WHITESPACE"," ",608],["T_IS_IDENTICAL","===",608],["T_WHITESPACE"," ",608],["T_VARIABLE","$defaultEntryPoint",608],["T_WHITESPACE"," ",608],"?",["T_WHITESPACE"," ",608],["T_STRING","null",608],["T_WHITESPACE"," ",608],":",["T_WHITESPACE"," ",608],["T_NEW","new",608],["T_WHITESPACE"," ",608],["T_STRING","Reference",608],"(",["T_VARIABLE","$defaultEntryPoint",608],")",")",";",["T_WHITESPACE","\n        ",608],["T_VARIABLE","$listener",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","replaceArgument",609],"(",["T_LNUMBER","8",609],",",["T_WHITESPACE"," ",609],["T_VARIABLE","$stateless",609],")",";",["T_WHITESPACE","\n\n        ",609],["T_COMMENT","\/\/ access denied handler setup\n",611],["T_WHITESPACE","        ",612],["T_IF","if",612],["T_WHITESPACE"," ",612],"(",["T_ISSET","isset",612],"(",["T_VARIABLE","$config",612],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_handler'",612],"]",")",")",["T_WHITESPACE"," ",612],"{",["T_WHITESPACE","\n            ",612],["T_VARIABLE","$listener",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","replaceArgument",613],"(",["T_LNUMBER","6",613],",",["T_WHITESPACE"," ",613],["T_NEW","new",613],["T_WHITESPACE"," ",613],["T_STRING","Reference",613],"(",["T_VARIABLE","$config",613],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_handler'",613],"]",")",")",";",["T_WHITESPACE","\n        ",613],"}",["T_WHITESPACE"," ",614],["T_ELSEIF","elseif",614],["T_WHITESPACE"," ",614],"(",["T_ISSET","isset",614],"(",["T_VARIABLE","$config",614],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_url'",614],"]",")",")",["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n            ",614],["T_VARIABLE","$listener",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","replaceArgument",615],"(",["T_LNUMBER","5",615],",",["T_WHITESPACE"," ",615],["T_VARIABLE","$config",615],"[",["T_CONSTANT_ENCAPSED_STRING","'access_denied_url'",615],"]",")",";",["T_WHITESPACE","\n        ",615],"}",["T_WHITESPACE","\n\n        ",616],["T_RETURN","return",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$exceptionListenerId",618],";",["T_WHITESPACE","\n    ",618],"}",["T_WHITESPACE","\n\n    ",619],["T_PRIVATE","private",621],["T_WHITESPACE"," ",621],["T_FUNCTION","function",621],["T_WHITESPACE"," ",621],["T_STRING","createSwitchUserListener",621],"(",["T_VARIABLE","$container",621],",",["T_WHITESPACE"," ",621],["T_VARIABLE","$id",621],",",["T_WHITESPACE"," ",621],["T_VARIABLE","$config",621],",",["T_WHITESPACE"," ",621],["T_VARIABLE","$defaultProvider",621],")",["T_WHITESPACE","\n    ",621],"{",["T_WHITESPACE","\n        ",622],["T_VARIABLE","$userProvider",623],["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_ISSET","isset",623],"(",["T_VARIABLE","$config",623],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",623],"]",")",["T_WHITESPACE"," ",623],"?",["T_WHITESPACE"," ",623],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","getUserProviderId",623],"(",["T_VARIABLE","$config",623],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",623],"]",")",["T_WHITESPACE"," ",623],":",["T_WHITESPACE"," ",623],["T_VARIABLE","$defaultProvider",623],";",["T_WHITESPACE","\n\n        ",623],["T_VARIABLE","$switchUserListenerId",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","'security.authentication.switchuser_listener.'",625],".",["T_VARIABLE","$id",625],";",["T_WHITESPACE","\n        ",625],["T_VARIABLE","$listener",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_VARIABLE","$container",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","setDefinition",626],"(",["T_VARIABLE","$switchUserListenerId",626],",",["T_WHITESPACE"," ",626],["T_NEW","new",626],["T_WHITESPACE"," ",626],["T_STRING","ChildDefinition",626],"(",["T_CONSTANT_ENCAPSED_STRING","'security.authentication.switchuser_listener'",626],")",")",";",["T_WHITESPACE","\n        ",626],["T_VARIABLE","$listener",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","replaceArgument",627],"(",["T_LNUMBER","1",627],",",["T_WHITESPACE"," ",627],["T_NEW","new",627],["T_WHITESPACE"," ",627],["T_STRING","Reference",627],"(",["T_VARIABLE","$userProvider",627],")",")",";",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$listener",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","replaceArgument",628],"(",["T_LNUMBER","2",628],",",["T_WHITESPACE"," ",628],["T_NEW","new",628],["T_WHITESPACE"," ",628],["T_STRING","Reference",628],"(",["T_CONSTANT_ENCAPSED_STRING","'security.user_checker.'",628],".",["T_VARIABLE","$id",628],")",")",";",["T_WHITESPACE","\n        ",628],["T_VARIABLE","$listener",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","replaceArgument",629],"(",["T_LNUMBER","3",629],",",["T_WHITESPACE"," ",629],["T_VARIABLE","$id",629],")",";",["T_WHITESPACE","\n        ",629],["T_VARIABLE","$listener",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","replaceArgument",630],"(",["T_LNUMBER","6",630],",",["T_WHITESPACE"," ",630],["T_VARIABLE","$config",630],"[",["T_CONSTANT_ENCAPSED_STRING","'parameter'",630],"]",")",";",["T_WHITESPACE","\n        ",630],["T_VARIABLE","$listener",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","replaceArgument",631],"(",["T_LNUMBER","7",631],",",["T_WHITESPACE"," ",631],["T_VARIABLE","$config",631],"[",["T_CONSTANT_ENCAPSED_STRING","'role'",631],"]",")",";",["T_WHITESPACE","\n\n        ",631],["T_RETURN","return",633],["T_WHITESPACE"," ",633],["T_VARIABLE","$switchUserListenerId",633],";",["T_WHITESPACE","\n    ",633],"}",["T_WHITESPACE","\n\n    ",634],["T_PRIVATE","private",636],["T_WHITESPACE"," ",636],["T_FUNCTION","function",636],["T_WHITESPACE"," ",636],["T_STRING","createExpression",636],"(",["T_VARIABLE","$container",636],",",["T_WHITESPACE"," ",636],["T_VARIABLE","$expression",636],")",["T_WHITESPACE","\n    ",636],"{",["T_WHITESPACE","\n        ",637],["T_IF","if",638],["T_WHITESPACE"," ",638],"(",["T_ISSET","isset",638],"(",["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","expressions",638],"[",["T_VARIABLE","$id",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_CONSTANT_ENCAPSED_STRING","'security.expression.'",638],".",["T_STRING","sha1",638],"(",["T_VARIABLE","$expression",638],")","]",")",")",["T_WHITESPACE"," ",638],"{",["T_WHITESPACE","\n            ",638],["T_RETURN","return",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","expressions",639],"[",["T_VARIABLE","$id",639],"]",";",["T_WHITESPACE","\n        ",639],"}",["T_WHITESPACE","\n\n        ",640],["T_VARIABLE","$container",642],["T_WHITESPACE","\n            ",642],["T_OBJECT_OPERATOR","->",643],["T_STRING","register",643],"(",["T_VARIABLE","$id",643],",",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\ExpressionLanguage\\SerializedParsedExpression'",643],")",["T_WHITESPACE","\n            ",643],["T_OBJECT_OPERATOR","->",644],["T_STRING","setPublic",644],"(",["T_STRING","false",644],")",["T_WHITESPACE","\n            ",644],["T_OBJECT_OPERATOR","->",645],["T_STRING","addArgument",645],"(",["T_VARIABLE","$expression",645],")",["T_WHITESPACE","\n            ",645],["T_OBJECT_OPERATOR","->",646],["T_STRING","addArgument",646],"(",["T_STRING","serialize",646],"(",["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getExpressionLanguage",646],"(",")",["T_OBJECT_OPERATOR","->",646],["T_STRING","parse",646],"(",["T_VARIABLE","$expression",646],",",["T_WHITESPACE"," ",646],["T_ARRAY","array",646],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",646],",",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","'user'",646],",",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","'object'",646],",",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","'roles'",646],",",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","'request'",646],",",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","'trust_resolver'",646],")",")",["T_OBJECT_OPERATOR","->",646],["T_STRING","getNodes",646],"(",")",")",")",["T_WHITESPACE","\n        ",646],";",["T_WHITESPACE","\n\n        ",647],["T_RETURN","return",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","expressions",649],"[",["T_VARIABLE","$id",649],"]",["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_NEW","new",649],["T_WHITESPACE"," ",649],["T_STRING","Reference",649],"(",["T_VARIABLE","$id",649],")",";",["T_WHITESPACE","\n    ",649],"}",["T_WHITESPACE","\n\n    ",650],["T_PRIVATE","private",652],["T_WHITESPACE"," ",652],["T_FUNCTION","function",652],["T_WHITESPACE"," ",652],["T_STRING","createRequestMatcher",652],"(",["T_VARIABLE","$container",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$path",652],["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_STRING","null",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$host",652],["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_STRING","null",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$methods",652],["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_ARRAY","array",652],"(",")",",",["T_WHITESPACE"," ",652],["T_VARIABLE","$ip",652],["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_STRING","null",652],",",["T_WHITESPACE"," ",652],["T_ARRAY","array",652],["T_WHITESPACE"," ",652],["T_VARIABLE","$attributes",652],["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_ARRAY","array",652],"(",")",")",["T_WHITESPACE","\n    ",652],"{",["T_WHITESPACE","\n        ",653],["T_IF","if",654],["T_WHITESPACE"," ",654],"(",["T_VARIABLE","$methods",654],")",["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n            ",654],["T_VARIABLE","$methods",655],["T_WHITESPACE"," ",655],"=",["T_WHITESPACE"," ",655],["T_STRING","array_map",655],"(",["T_CONSTANT_ENCAPSED_STRING","'strtoupper'",655],",",["T_WHITESPACE"," ",655],["T_ARRAY_CAST","(array)",655],["T_WHITESPACE"," ",655],["T_VARIABLE","$methods",655],")",";",["T_WHITESPACE","\n        ",655],"}",["T_WHITESPACE","\n\n        ",656],["T_VARIABLE","$serialized",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_STRING","serialize",658],"(",["T_ARRAY","array",658],"(",["T_VARIABLE","$path",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$host",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$methods",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$ip",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$attributes",658],")",")",";",["T_WHITESPACE","\n        ",658],["T_VARIABLE","$id",659],["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_CONSTANT_ENCAPSED_STRING","'security.request_matcher.'",659],".",["T_STRING","md5",659],"(",["T_VARIABLE","$serialized",659],")",".",["T_STRING","sha1",659],"(",["T_VARIABLE","$serialized",659],")",";",["T_WHITESPACE","\n\n        ",659],["T_IF","if",661],["T_WHITESPACE"," ",661],"(",["T_ISSET","isset",661],"(",["T_VARIABLE","$this",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","requestMatchers",661],"[",["T_VARIABLE","$id",661],"]",")",")",["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n            ",661],["T_RETURN","return",662],["T_WHITESPACE"," ",662],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","requestMatchers",662],"[",["T_VARIABLE","$id",662],"]",";",["T_WHITESPACE","\n        ",662],"}",["T_WHITESPACE","\n\n        ",663],["T_COMMENT","\/\/ only add arguments that are necessary\n",665],["T_WHITESPACE","        ",666],["T_VARIABLE","$arguments",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_ARRAY","array",666],"(",["T_VARIABLE","$path",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$host",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$methods",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$ip",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$attributes",666],")",";",["T_WHITESPACE","\n        ",666],["T_WHILE","while",667],["T_WHITESPACE"," ",667],"(",["T_STRING","count",667],"(",["T_VARIABLE","$arguments",667],")",["T_WHITESPACE"," ",667],">",["T_WHITESPACE"," ",667],["T_LNUMBER","0",667],["T_WHITESPACE"," ",667],["T_BOOLEAN_AND","&&",667],["T_WHITESPACE"," ",667],"!",["T_STRING","end",667],"(",["T_VARIABLE","$arguments",667],")",")",["T_WHITESPACE"," ",667],"{",["T_WHITESPACE","\n            ",667],["T_STRING","array_pop",668],"(",["T_VARIABLE","$arguments",668],")",";",["T_WHITESPACE","\n        ",668],"}",["T_WHITESPACE","\n\n        ",669],["T_VARIABLE","$container",671],["T_WHITESPACE","\n            ",671],["T_OBJECT_OPERATOR","->",672],["T_STRING","register",672],"(",["T_VARIABLE","$id",672],",",["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\RequestMatcher'",672],")",["T_WHITESPACE","\n            ",672],["T_OBJECT_OPERATOR","->",673],["T_STRING","setPublic",673],"(",["T_STRING","false",673],")",["T_WHITESPACE","\n            ",673],["T_OBJECT_OPERATOR","->",674],["T_STRING","setArguments",674],"(",["T_VARIABLE","$arguments",674],")",["T_WHITESPACE","\n        ",674],";",["T_WHITESPACE","\n\n        ",675],["T_RETURN","return",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","requestMatchers",677],"[",["T_VARIABLE","$id",677],"]",["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_NEW","new",677],["T_WHITESPACE"," ",677],["T_STRING","Reference",677],"(",["T_VARIABLE","$id",677],")",";",["T_WHITESPACE","\n    ",677],"}",["T_WHITESPACE","\n\n    ",678],["T_PUBLIC","public",680],["T_WHITESPACE"," ",680],["T_FUNCTION","function",680],["T_WHITESPACE"," ",680],["T_STRING","addSecurityListenerFactory",680],"(",["T_STRING","SecurityFactoryInterface",680],["T_WHITESPACE"," ",680],["T_VARIABLE","$factory",680],")",["T_WHITESPACE","\n    ",680],"{",["T_WHITESPACE","\n        ",681],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","factories",682],"[",["T_VARIABLE","$factory",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","getPosition",682],"(",")","]","[","]",["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_VARIABLE","$factory",682],";",["T_WHITESPACE","\n    ",682],"}",["T_WHITESPACE","\n\n    ",683],["T_PUBLIC","public",685],["T_WHITESPACE"," ",685],["T_FUNCTION","function",685],["T_WHITESPACE"," ",685],["T_STRING","addUserProviderFactory",685],"(",["T_STRING","UserProviderFactoryInterface",685],["T_WHITESPACE"," ",685],["T_VARIABLE","$factory",685],")",["T_WHITESPACE","\n    ",685],"{",["T_WHITESPACE","\n        ",686],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","userProviderFactories",687],"[","]",["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_VARIABLE","$factory",687],";",["T_WHITESPACE","\n    ",687],"}",["T_WHITESPACE","\n\n    ",688],["T_DOC_COMMENT","\/**\n     * Returns the base path for the XSD files.\n     *\n     * @return string The XSD base path\n     *\/",690],["T_WHITESPACE","\n    ",694],["T_PUBLIC","public",695],["T_WHITESPACE"," ",695],["T_FUNCTION","function",695],["T_WHITESPACE"," ",695],["T_STRING","getXsdValidationBasePath",695],"(",")",["T_WHITESPACE","\n    ",695],"{",["T_WHITESPACE","\n        ",696],["T_RETURN","return",697],["T_WHITESPACE"," ",697],["T_DIR","__DIR__",697],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Resources\/config\/schema'",697],";",["T_WHITESPACE","\n    ",697],"}",["T_WHITESPACE","\n\n    ",698],["T_PUBLIC","public",700],["T_WHITESPACE"," ",700],["T_FUNCTION","function",700],["T_WHITESPACE"," ",700],["T_STRING","getNamespace",700],"(",")",["T_WHITESPACE","\n    ",700],"{",["T_WHITESPACE","\n        ",701],["T_RETURN","return",702],["T_WHITESPACE"," ",702],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/symfony.com\/schema\/dic\/security'",702],";",["T_WHITESPACE","\n    ",702],"}",["T_WHITESPACE","\n\n    ",703],["T_PUBLIC","public",705],["T_WHITESPACE"," ",705],["T_FUNCTION","function",705],["T_WHITESPACE"," ",705],["T_STRING","getConfiguration",705],"(",["T_ARRAY","array",705],["T_WHITESPACE"," ",705],["T_VARIABLE","$config",705],",",["T_WHITESPACE"," ",705],["T_STRING","ContainerBuilder",705],["T_WHITESPACE"," ",705],["T_VARIABLE","$container",705],")",["T_WHITESPACE","\n    ",705],"{",["T_WHITESPACE","\n        ",706],["T_COMMENT","\/\/ first assemble the factories\n",707],["T_WHITESPACE","        ",708],["T_RETURN","return",708],["T_WHITESPACE"," ",708],["T_NEW","new",708],["T_WHITESPACE"," ",708],["T_STRING","MainConfiguration",708],"(",["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","factories",708],",",["T_WHITESPACE"," ",708],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","userProviderFactories",708],")",";",["T_WHITESPACE","\n    ",708],"}",["T_WHITESPACE","\n\n    ",709],["T_PRIVATE","private",711],["T_WHITESPACE"," ",711],["T_FUNCTION","function",711],["T_WHITESPACE"," ",711],["T_STRING","getExpressionLanguage",711],"(",")",["T_WHITESPACE","\n    ",711],"{",["T_WHITESPACE","\n        ",712],["T_IF","if",713],["T_WHITESPACE"," ",713],"(",["T_STRING","null",713],["T_WHITESPACE"," ",713],["T_IS_IDENTICAL","===",713],["T_WHITESPACE"," ",713],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","expressionLanguage",713],")",["T_WHITESPACE"," ",713],"{",["T_WHITESPACE","\n            ",713],["T_IF","if",714],["T_WHITESPACE"," ",714],"(","!",["T_STRING","class_exists",714],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\ExpressionLanguage\\ExpressionLanguage'",714],")",")",["T_WHITESPACE"," ",714],"{",["T_WHITESPACE","\n                ",714],["T_THROW","throw",715],["T_WHITESPACE"," ",715],["T_NEW","new",715],["T_WHITESPACE"," ",715],["T_NS_SEPARATOR","\\",715],["T_STRING","RuntimeException",715],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to use expressions as the Symfony ExpressionLanguage component is not installed.'",715],")",";",["T_WHITESPACE","\n            ",715],"}",["T_WHITESPACE","\n            ",716],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","expressionLanguage",717],["T_WHITESPACE"," ",717],"=",["T_WHITESPACE"," ",717],["T_NEW","new",717],["T_WHITESPACE"," ",717],["T_STRING","ExpressionLanguage",717],"(",")",";",["T_WHITESPACE","\n        ",717],"}",["T_WHITESPACE","\n\n        ",718],["T_RETURN","return",720],["T_WHITESPACE"," ",720],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","expressionLanguage",720],";",["T_WHITESPACE","\n    ",720],"}",["T_WHITESPACE","\n",721],"}",["T_WHITESPACE","\n",722]]