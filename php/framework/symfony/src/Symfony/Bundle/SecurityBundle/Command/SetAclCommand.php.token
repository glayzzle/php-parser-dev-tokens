[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SecurityBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Command",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Bundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FrameworkBundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Command",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ContainerAwareCommand",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Console",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Input",15],["T_NS_SEPARATOR","\\",15],["T_STRING","InputArgument",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Console",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Input",16],["T_NS_SEPARATOR","\\",16],["T_STRING","InputInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Console",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Input",17],["T_NS_SEPARATOR","\\",17],["T_STRING","InputOption",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Console",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Output",18],["T_NS_SEPARATOR","\\",18],["T_STRING","OutputInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Security",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Acl",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Domain",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ObjectIdentity",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Security",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Acl",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Domain",20],["T_NS_SEPARATOR","\\",20],["T_STRING","RoleSecurityIdentity",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Security",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Acl",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Domain",21],["T_NS_SEPARATOR","\\",21],["T_STRING","UserSecurityIdentity",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Security",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Acl",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Exception",22],["T_NS_SEPARATOR","\\",22],["T_STRING","AclAlreadyExistsException",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Security",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Acl",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Permission",23],["T_NS_SEPARATOR","\\",23],["T_STRING","MaskBuilder",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Symfony",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Component",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Security",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Acl",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","MutableAclProviderInterface",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Sets ACL for objects.\n *\n * @author K\u00c3\u00a9vin Dunglas <kevin@les-tilleuls.coop>\n *\/",26],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","SetAclCommand",31],["T_WHITESPACE"," ",31],["T_EXTENDS","extends",31],["T_WHITESPACE"," ",31],["T_STRING","ContainerAwareCommand",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","isEnabled",36],"(",")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(","!",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getContainer",38],"(",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","has",38],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.provider'",38],")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n            ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_STRING","false",39],";",["T_WHITESPACE","\n        ",39],"}",["T_WHITESPACE","\n\n        ",40],["T_VARIABLE","$provider",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getContainer",42],"(",")",["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.provider'",42],")",";",["T_WHITESPACE","\n        ",42],["T_IF","if",43],["T_WHITESPACE"," ",43],"(","!",["T_VARIABLE","$provider",43],["T_WHITESPACE"," ",43],["T_INSTANCEOF","instanceof",43],["T_WHITESPACE"," ",43],["T_STRING","MutableAclProviderInterface",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_STRING","false",44],";",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE","\n\n        ",45],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_STRING","parent",47],["T_DOUBLE_COLON","::",47],["T_STRING","isEnabled",47],"(",")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","configure",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_WHITESPACE","\n            ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","setName",56],"(",["T_CONSTANT_ENCAPSED_STRING","'acl:set'",56],")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","setDescription",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Sets ACL for objects'",57],")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","setHelp",58],"(",["T_START_HEREDOC","<<<EOF\n",58],["T_ENCAPSED_AND_WHITESPACE","The <info>%command.name%<\/info> command sets ACL.\nThe ACL system must have been initialized with the <info>init:acl<\/info> command.\n\nTo set <comment>VIEW<\/comment> and <comment>EDIT<\/comment> permissions for the user <comment>kevin<\/comment> on the instance of\n<comment>Acme\\MyClass<\/comment> having the identifier <comment>42<\/comment>:\n\n  <info>php %command.full_name% --user=Symfony\/Component\/Security\/Core\/User\/User:kevin VIEW EDIT Acme\/MyClass:42<\/info>\n\nNote that you can use <comment>\/<\/comment> instead of <comment>\\\\ <\/comment>for the namespace delimiter to avoid any\nproblem.\n\nTo set permissions for a role, use the <info>--role<\/info> option:\n\n  <info>php %command.full_name% --role=ROLE_USER VIEW Acme\/MyClass:1936<\/info>\n\nTo set permissions at the class scope, use the <info>--class-scope<\/info> option:\n\n  <info>php %command.full_name% --class-scope --user=Symfony\/Component\/Security\/Core\/User\/User:anne OWNER Acme\/MyClass:42<\/info>\n  \n",59],["T_END_HEREDOC","EOF",78],["T_WHITESPACE","\n            ",78],")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","addArgument",80],"(",["T_CONSTANT_ENCAPSED_STRING","'arguments'",80],",",["T_WHITESPACE"," ",80],["T_STRING","InputArgument",80],["T_DOUBLE_COLON","::",80],["T_STRING","IS_ARRAY",80],["T_WHITESPACE"," ",80],"|",["T_WHITESPACE"," ",80],["T_STRING","InputArgument",80],["T_DOUBLE_COLON","::",80],["T_STRING","REQUIRED",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'A list of permissions and object identities (class name and ID separated by a column)'",80],")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","addOption",81],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",81],",",["T_WHITESPACE"," ",81],["T_STRING","null",81],",",["T_WHITESPACE"," ",81],["T_STRING","InputOption",81],["T_DOUBLE_COLON","::",81],["T_STRING","VALUE_REQUIRED",81],["T_WHITESPACE"," ",81],"|",["T_WHITESPACE"," ",81],["T_STRING","InputOption",81],["T_DOUBLE_COLON","::",81],["T_STRING","VALUE_IS_ARRAY",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'A list of security identities'",81],")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","addOption",82],"(",["T_CONSTANT_ENCAPSED_STRING","'role'",82],",",["T_WHITESPACE"," ",82],["T_STRING","null",82],",",["T_WHITESPACE"," ",82],["T_STRING","InputOption",82],["T_DOUBLE_COLON","::",82],["T_STRING","VALUE_REQUIRED",82],["T_WHITESPACE"," ",82],"|",["T_WHITESPACE"," ",82],["T_STRING","InputOption",82],["T_DOUBLE_COLON","::",82],["T_STRING","VALUE_IS_ARRAY",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'A list of roles'",82],")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","addOption",83],"(",["T_CONSTANT_ENCAPSED_STRING","'class-scope'",83],",",["T_WHITESPACE"," ",83],["T_STRING","null",83],",",["T_WHITESPACE"," ",83],["T_STRING","InputOption",83],["T_DOUBLE_COLON","::",83],["T_STRING","VALUE_NONE",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'Use class-scope entries'",83],")",["T_WHITESPACE","\n        ",83],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",87],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","execute",90],"(",["T_STRING","InputInterface",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$input",90],",",["T_WHITESPACE"," ",90],["T_STRING","OutputInterface",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$output",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_COMMENT","\/\/ Parse arguments\n",92],["T_WHITESPACE","        ",93],["T_VARIABLE","$objectIdentities",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$maskBuilder",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getMaskBuilder",94],"(",")",";",["T_WHITESPACE","\n        ",94],["T_FOREACH","foreach",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$input",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getArgument",95],"(",["T_CONSTANT_ENCAPSED_STRING","'arguments'",95],")",["T_WHITESPACE"," ",95],["T_AS","as",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$argument",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$data",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","explode",96],"(",["T_CONSTANT_ENCAPSED_STRING","':'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$argument",96],",",["T_WHITESPACE"," ",96],["T_LNUMBER","2",96],")",";",["T_WHITESPACE","\n\n            ",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_STRING","count",98],"(",["T_VARIABLE","$data",98],")",["T_WHITESPACE"," ",98],">",["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$objectIdentities",99],"[","]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","ObjectIdentity",99],"(",["T_VARIABLE","$data",99],"[",["T_LNUMBER","1",99],"]",",",["T_WHITESPACE"," ",99],["T_STRING","strtr",99],"(",["T_VARIABLE","$data",99],"[",["T_LNUMBER","0",99],"]",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'\/'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",99],")",")",";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE"," ",100],["T_ELSE","else",100],["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$maskBuilder",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","add",101],"(",["T_VARIABLE","$data",101],"[",["T_LNUMBER","0",101],"]",")",";",["T_WHITESPACE","\n            ",101],"}",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_COMMENT","\/\/ Build permissions mask\n",105],["T_WHITESPACE","        ",106],["T_VARIABLE","$mask",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$maskBuilder",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","get",106],"(",")",";",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$userOption",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$input",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getOption",108],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$roleOption",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$input",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getOption",109],"(",["T_CONSTANT_ENCAPSED_STRING","'role'",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$classScopeOption",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$input",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getOption",110],"(",["T_CONSTANT_ENCAPSED_STRING","'class-scope'",110],")",";",["T_WHITESPACE","\n\n        ",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_EMPTY","empty",112],"(",["T_VARIABLE","$userOption",112],")",["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],["T_EMPTY","empty",112],"(",["T_VARIABLE","$roleOption",112],")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_THROW","throw",113],["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","InvalidArgumentException",113],"(",["T_CONSTANT_ENCAPSED_STRING","'A Role or a User must be specified.'",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_COMMENT","\/\/ Create security identities\n",116],["T_WHITESPACE","        ",117],["T_VARIABLE","$securityIdentities",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",")",";",["T_WHITESPACE","\n\n        ",117],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$userOption",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_FOREACH","foreach",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$userOption",120],["T_WHITESPACE"," ",120],["T_AS","as",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$user",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_VARIABLE","$data",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","explode",121],"(",["T_CONSTANT_ENCAPSED_STRING","':'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$user",121],",",["T_WHITESPACE"," ",121],["T_LNUMBER","2",121],")",";",["T_WHITESPACE","\n\n                ",121],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING","count",123],"(",["T_VARIABLE","$data",123],")",["T_WHITESPACE"," ",123],["T_IS_IDENTICAL","===",123],["T_WHITESPACE"," ",123],["T_LNUMBER","1",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                    ",123],["T_THROW","throw",124],["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_NS_SEPARATOR","\\",124],["T_STRING","InvalidArgumentException",124],"(",["T_CONSTANT_ENCAPSED_STRING","'The user must follow the format \"Acme\/MyUser:username\".'",124],")",";",["T_WHITESPACE","\n                ",124],"}",["T_WHITESPACE","\n\n                ",125],["T_VARIABLE","$securityIdentities",127],"[","]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","UserSecurityIdentity",127],"(",["T_VARIABLE","$data",127],"[",["T_LNUMBER","1",127],"]",",",["T_WHITESPACE"," ",127],["T_STRING","strtr",127],"(",["T_VARIABLE","$data",127],"[",["T_LNUMBER","0",127],"]",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'\/'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",127],")",")",";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$roleOption",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_FOREACH","foreach",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$roleOption",132],["T_WHITESPACE"," ",132],["T_AS","as",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$role",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                ",132],["T_VARIABLE","$securityIdentities",133],"[","]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","RoleSecurityIdentity",133],"(",["T_VARIABLE","$role",133],")",";",["T_WHITESPACE","\n            ",133],"}",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n\n        ",135],["T_DOC_COMMENT","\/** @var $container \\Symfony\\Component\\DependencyInjection\\ContainerInterface *\/",137],["T_WHITESPACE","\n        ",137],["T_VARIABLE","$container",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getContainer",138],"(",")",";",["T_WHITESPACE","\n        ",138],["T_DOC_COMMENT","\/** @var $aclProvider MutableAclProviderInterface *\/",139],["T_WHITESPACE","\n        ",139],["T_VARIABLE","$aclProvider",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$container",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","get",140],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.provider'",140],")",";",["T_WHITESPACE","\n\n        ",140],["T_COMMENT","\/\/ Sets ACL\n",142],["T_WHITESPACE","        ",143],["T_FOREACH","foreach",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$objectIdentities",143],["T_WHITESPACE"," ",143],["T_AS","as",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$objectIdentity",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_COMMENT","\/\/ Creates a new ACL if it does not already exist\n",144],["T_WHITESPACE","            ",145],["T_TRY","try",145],["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$aclProvider",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","createAcl",146],"(",["T_VARIABLE","$objectIdentity",146],")",";",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE"," ",147],["T_CATCH","catch",147],["T_WHITESPACE"," ",147],"(",["T_STRING","AclAlreadyExistsException",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$e",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],"}",["T_WHITESPACE","\n\n            ",148],["T_VARIABLE","$acl",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$aclProvider",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","findAcl",150],"(",["T_VARIABLE","$objectIdentity",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$securityIdentities",150],")",";",["T_WHITESPACE","\n\n            ",150],["T_FOREACH","foreach",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$securityIdentities",152],["T_WHITESPACE"," ",152],["T_AS","as",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$securityIdentity",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$classScopeOption",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$acl",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","insertClassAce",154],"(",["T_VARIABLE","$securityIdentity",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$mask",154],")",";",["T_WHITESPACE","\n                ",154],"}",["T_WHITESPACE"," ",155],["T_ELSE","else",155],["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                    ",155],["T_VARIABLE","$acl",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","insertObjectAce",156],"(",["T_VARIABLE","$securityIdentity",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$mask",156],")",";",["T_WHITESPACE","\n                ",156],"}",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE","\n\n            ",158],["T_VARIABLE","$aclProvider",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","updateAcl",160],"(",["T_VARIABLE","$acl",160],")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Gets the mask builder.\n     *\n     * @return MaskBuilder\n     *\/",164],["T_WHITESPACE","\n    ",168],["T_PROTECTED","protected",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","getMaskBuilder",169],"(",")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","MaskBuilder",171],"(",")",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n",172],"}",["T_WHITESPACE","\n",173]]