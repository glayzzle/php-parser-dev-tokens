[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SecurityBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Command",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Bundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FrameworkBundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Command",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ContainerAwareCommand",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Console",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Input",15],["T_NS_SEPARATOR","\\",15],["T_STRING","InputInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Console",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Output",16],["T_NS_SEPARATOR","\\",16],["T_STRING","OutputInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Doctrine",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DBAL",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Schema",17],["T_NS_SEPARATOR","\\",17],["T_STRING","SchemaException",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Installs the tables required by the ACL system.\n *\n * @author Johannes M. Schmitt <schmittjoh@gmail.com>\n *\/",19],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","InitAclCommand",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_STRING","ContainerAwareCommand",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","isEnabled",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_IF","if",31],["T_WHITESPACE"," ",31],"(","!",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getContainer",31],"(",")",["T_OBJECT_OPERATOR","->",31],["T_STRING","has",31],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.connection'",31],")",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n            ",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_STRING","false",32],";",["T_WHITESPACE","\n        ",32],"}",["T_WHITESPACE","\n\n        ",33],["T_RETURN","return",35],["T_WHITESPACE"," ",35],["T_STRING","parent",35],["T_DOUBLE_COLON","::",35],["T_STRING","isEnabled",35],"(",")",";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","configure",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","setName",44],"(",["T_CONSTANT_ENCAPSED_STRING","'init:acl'",44],")",["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","setDescription",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Mounts ACL tables in the database'",45],")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","setHelp",46],"(",["T_START_HEREDOC","<<<'EOF'\n",46],["T_ENCAPSED_AND_WHITESPACE","The <info>%command.name%<\/info> command mounts ACL tables in the database.\n\n  <info>php %command.full_name%<\/info>\n\nThe name of the DBAL connection must be configured in your <info>app\/config\/security.yml<\/info> configuration file in the <info>security.acl.connection<\/info> variable.\n\n  <info>security:\n      acl:\n          connection: default<\/info>\n",47],["T_END_HEREDOC","EOF",56],["T_WHITESPACE","\n            ",56],")",["T_WHITESPACE","\n        ",57],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","execute",64],"(",["T_STRING","InputInterface",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$input",64],",",["T_WHITESPACE"," ",64],["T_STRING","OutputInterface",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$output",64],")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$container",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getContainer",66],"(",")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$connection",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$container",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","get",68],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.connection'",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$schema",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$container",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'security.acl.dbal.schema'",69],")",";",["T_WHITESPACE","\n\n        ",69],["T_TRY","try",71],["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$schema",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","addToSchema",72],"(",["T_VARIABLE","$connection",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getSchemaManager",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","createSchema",72],"(",")",")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE"," ",73],["T_CATCH","catch",73],["T_WHITESPACE"," ",73],"(",["T_STRING","SchemaException",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$e",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$output",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","writeln",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Aborting: '",74],".",["T_VARIABLE","$e",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMessage",74],"(",")",")",";",["T_WHITESPACE","\n\n            ",74],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_LNUMBER","1",76],";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n\n        ",77],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$schema",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","toSql",79],"(",["T_VARIABLE","$connection",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getDatabasePlatform",79],"(",")",")",["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$sql",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$connection",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","exec",80],"(",["T_VARIABLE","$sql",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$output",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","writeln",83],"(",["T_CONSTANT_ENCAPSED_STRING","'ACL tables have been initialized successfully.'",83],")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n",84],"}",["T_WHITESPACE","\n",85]]