[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FrameworkBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Command",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Console",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Input",14],["T_NS_SEPARATOR","\\",14],["T_STRING","InputArgument",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Console",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Input",15],["T_NS_SEPARATOR","\\",15],["T_STRING","InputInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Console",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Input",16],["T_NS_SEPARATOR","\\",16],["T_STRING","InputOption",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Console",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Output",17],["T_NS_SEPARATOR","\\",17],["T_STRING","OutputInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Console",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Style",18],["T_NS_SEPARATOR","\\",18],["T_STRING","SymfonyStyle",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Filesystem",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Exception",19],["T_NS_SEPARATOR","\\",19],["T_STRING","IOException",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Filesystem",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Filesystem",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Finder",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Finder",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","HttpKernel",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Bundle",22],["T_NS_SEPARATOR","\\",22],["T_STRING","BundleInterface",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Command that places bundle web assets into a given directory.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n * @author G\u00c3\u00a1bor Egyed <gabor.egyed@gmail.com>\n *\/",24],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","AssetsInstallCommand",30],["T_WHITESPACE"," ",30],["T_EXTENDS","extends",30],["T_WHITESPACE"," ",30],["T_STRING","ContainerAwareCommand",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","METHOD_COPY",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'copy'",32],";",["T_WHITESPACE","\n    ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","METHOD_ABSOLUTE_SYMLINK",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'absolute symlink'",33],";",["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","METHOD_RELATIVE_SYMLINK",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'relative symlink'",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var Filesystem\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$filesystem",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","configure",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","setName",47],"(",["T_CONSTANT_ENCAPSED_STRING","'assets:install'",47],")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","setDefinition",48],"(",["T_ARRAY","array",48],"(",["T_WHITESPACE","\n                ",48],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_STRING","InputArgument",49],"(",["T_CONSTANT_ENCAPSED_STRING","'target'",49],",",["T_WHITESPACE"," ",49],["T_STRING","InputArgument",49],["T_DOUBLE_COLON","::",49],["T_STRING","OPTIONAL",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'The target directory'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'web'",49],")",",",["T_WHITESPACE","\n            ",49],")",")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","addOption",51],"(",["T_CONSTANT_ENCAPSED_STRING","'symlink'",51],",",["T_WHITESPACE"," ",51],["T_STRING","null",51],",",["T_WHITESPACE"," ",51],["T_STRING","InputOption",51],["T_DOUBLE_COLON","::",51],["T_STRING","VALUE_NONE",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Symlinks the assets instead of copying it'",51],")",["T_WHITESPACE","\n            ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","addOption",52],"(",["T_CONSTANT_ENCAPSED_STRING","'relative'",52],",",["T_WHITESPACE"," ",52],["T_STRING","null",52],",",["T_WHITESPACE"," ",52],["T_STRING","InputOption",52],["T_DOUBLE_COLON","::",52],["T_STRING","VALUE_NONE",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'Make relative symlinks'",52],")",["T_WHITESPACE","\n            ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","setDescription",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Installs bundles web assets under a public web directory'",53],")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","setHelp",54],"(",["T_START_HEREDOC","<<<'EOT'\n",54],["T_ENCAPSED_AND_WHITESPACE","The <info>%command.name%<\/info> command installs bundle assets into a given\ndirectory (e.g. the <comment>web<\/comment> directory).\n\n  <info>php %command.full_name% web<\/info>\n\nA \"bundles\" directory will be created inside the target directory and the\n\"Resources\/public\" directory of each bundle will be copied into it.\n\nTo create a symlink to each bundle instead of copying its assets, use the\n<info>--symlink<\/info> option (will fall back to hard copies when symbolic links aren't possible:\n\n  <info>php %command.full_name% web --symlink<\/info>\n\nTo make symlink relative, add the <info>--relative<\/info> option:\n\n  <info>php %command.full_name% web --symlink --relative<\/info>\n\n",55],["T_END_HEREDOC","EOT",72],["T_WHITESPACE","\n            ",72],")",["T_WHITESPACE","\n        ",73],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","execute",80],"(",["T_STRING","InputInterface",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$input",80],",",["T_WHITESPACE"," ",80],["T_STRING","OutputInterface",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$output",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$targetArg",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","rtrim",82],"(",["T_VARIABLE","$input",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getArgument",82],"(",["T_CONSTANT_ENCAPSED_STRING","'target'",82],")",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'\/'",82],")",";",["T_WHITESPACE","\n\n        ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_STRING","is_dir",84],"(",["T_VARIABLE","$targetArg",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_THROW","throw",85],["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_NS_SEPARATOR","\\",85],["T_STRING","InvalidArgumentException",85],"(",["T_STRING","sprintf",85],"(",["T_CONSTANT_ENCAPSED_STRING","'The target directory \"%s\" does not exist.'",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$input",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getArgument",85],"(",["T_CONSTANT_ENCAPSED_STRING","'target'",85],")",")",")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","filesystem",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getContainer",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_CONSTANT_ENCAPSED_STRING","'filesystem'",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_COMMENT","\/\/ Create the bundles directory otherwise symlink will fail.\n",90],["T_WHITESPACE","        ",91],["T_VARIABLE","$bundlesDir",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$targetArg",91],".",["T_CONSTANT_ENCAPSED_STRING","'\/bundles\/'",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","filesystem",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","mkdir",92],"(",["T_VARIABLE","$bundlesDir",92],",",["T_WHITESPACE"," ",92],["T_LNUMBER","0777",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$io",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","SymfonyStyle",94],"(",["T_VARIABLE","$input",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$output",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$io",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","newLine",95],"(",")",";",["T_WHITESPACE","\n\n        ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$input",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getOption",97],"(",["T_CONSTANT_ENCAPSED_STRING","'relative'",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$expectedMethod",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","self",98],["T_DOUBLE_COLON","::",98],["T_STRING","METHOD_RELATIVE_SYMLINK",98],";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$io",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","text",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Trying to install assets as <info>relative symbolic links<\/info>.'",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE"," ",100],["T_ELSEIF","elseif",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$input",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getOption",100],"(",["T_CONSTANT_ENCAPSED_STRING","'symlink'",100],")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$expectedMethod",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","self",101],["T_DOUBLE_COLON","::",101],["T_STRING","METHOD_ABSOLUTE_SYMLINK",101],";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$io",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","text",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Trying to install assets as <info>absolute symbolic links<\/info>.'",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE"," ",103],["T_ELSE","else",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$expectedMethod",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","self",104],["T_DOUBLE_COLON","::",104],["T_STRING","METHOD_COPY",104],";",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$io",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","text",105],"(",["T_CONSTANT_ENCAPSED_STRING","'Installing assets as <info>hard copies<\/info>.'",105],")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$io",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","newLine",108],"(",")",";",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$rows",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$copyUsed",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","false",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$exitCode",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_LNUMBER","0",112],";",["T_WHITESPACE","\n        ",112],["T_DOC_COMMENT","\/** @var BundleInterface $bundle *\/",113],["T_WHITESPACE","\n        ",113],["T_FOREACH","foreach",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getContainer",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"(",["T_CONSTANT_ENCAPSED_STRING","'kernel'",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getBundles",114],"(",")",["T_WHITESPACE"," ",114],["T_AS","as",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$bundle",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(","!",["T_STRING","is_dir",115],"(",["T_VARIABLE","$originDir",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$bundle",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getPath",115],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'\/Resources\/public'",115],")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n                ",115],["T_CONTINUE","continue",116],";",["T_WHITESPACE","\n            ",116],"}",["T_WHITESPACE","\n\n            ",117],["T_VARIABLE","$targetDir",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$bundlesDir",119],".",["T_STRING","preg_replace",119],"(",["T_CONSTANT_ENCAPSED_STRING","'\/bundle$\/'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","''",119],",",["T_WHITESPACE"," ",119],["T_STRING","strtolower",119],"(",["T_VARIABLE","$bundle",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getName",119],"(",")",")",")",";",["T_WHITESPACE","\n\n            ",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_STRING","OutputInterface",121],["T_DOUBLE_COLON","::",121],["T_STRING","VERBOSITY_VERBOSE",121],["T_WHITESPACE"," ",121],["T_IS_SMALLER_OR_EQUAL","<=",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$output",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getVerbosity",121],"(",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$message",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","sprintf",122],"(",["T_CONSTANT_ENCAPSED_STRING","\"%s\\n-> %s\"",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$bundle",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getName",122],"(",")",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$targetDir",122],")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE"," ",123],["T_ELSE","else",123],["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$message",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$bundle",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getName",124],"(",")",";",["T_WHITESPACE","\n            ",124],"}",["T_WHITESPACE","\n\n            ",125],["T_TRY","try",127],["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","filesystem",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","remove",128],"(",["T_VARIABLE","$targetDir",128],")",";",["T_WHITESPACE","\n\n                ",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_STRING","self",130],["T_DOUBLE_COLON","::",130],["T_STRING","METHOD_RELATIVE_SYMLINK",130],["T_WHITESPACE"," ",130],["T_IS_IDENTICAL","===",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$expectedMethod",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                    ",130],["T_VARIABLE","$method",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","relativeSymlinkWithFallback",131],"(",["T_VARIABLE","$originDir",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$targetDir",131],")",";",["T_WHITESPACE","\n                ",131],"}",["T_WHITESPACE"," ",132],["T_ELSEIF","elseif",132],["T_WHITESPACE"," ",132],"(",["T_STRING","self",132],["T_DOUBLE_COLON","::",132],["T_STRING","METHOD_ABSOLUTE_SYMLINK",132],["T_WHITESPACE"," ",132],["T_IS_IDENTICAL","===",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$expectedMethod",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                    ",132],["T_VARIABLE","$method",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","absoluteSymlinkWithFallback",133],"(",["T_VARIABLE","$originDir",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$targetDir",133],")",";",["T_WHITESPACE","\n                ",133],"}",["T_WHITESPACE"," ",134],["T_ELSE","else",134],["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                    ",134],["T_VARIABLE","$method",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","hardCopy",135],"(",["T_VARIABLE","$originDir",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$targetDir",135],")",";",["T_WHITESPACE","\n                ",135],"}",["T_WHITESPACE","\n\n                ",136],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","self",138],["T_DOUBLE_COLON","::",138],["T_STRING","METHOD_COPY",138],["T_WHITESPACE"," ",138],["T_IS_IDENTICAL","===",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$method",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                    ",138],["T_VARIABLE","$copyUsed",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","true",139],";",["T_WHITESPACE","\n                ",139],"}",["T_WHITESPACE","\n\n                ",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$method",142],["T_WHITESPACE"," ",142],["T_IS_IDENTICAL","===",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$expectedMethod",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                    ",142],["T_VARIABLE","$rows",143],"[","]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_STRING","sprintf",143],"(",["T_CONSTANT_ENCAPSED_STRING","'<fg=green;options=bold>%s<\/>'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",143],["T_WHITESPACE"," ",143],["T_IS_IDENTICAL","===",143],["T_WHITESPACE"," ",143],["T_STRING","DIRECTORY_SEPARATOR",143],["T_WHITESPACE"," ",143],"?",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'OK'",143],["T_WHITESPACE"," ",143],":",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","\"\\xE2\\x9C\\x94\"",143],["T_WHITESPACE"," ",143],["T_COMMENT","\/* HEAVY CHECK MARK (U+2714) *\/",143],")",",",["T_WHITESPACE"," ",143],["T_VARIABLE","$message",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$method",143],")",";",["T_WHITESPACE","\n                ",143],"}",["T_WHITESPACE"," ",144],["T_ELSE","else",144],["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                    ",144],["T_VARIABLE","$rows",145],"[","]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_STRING","sprintf",145],"(",["T_CONSTANT_ENCAPSED_STRING","'<fg=yellow;options=bold>%s<\/>'",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",145],["T_WHITESPACE"," ",145],["T_IS_IDENTICAL","===",145],["T_WHITESPACE"," ",145],["T_STRING","DIRECTORY_SEPARATOR",145],["T_WHITESPACE"," ",145],"?",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'WARNING'",145],["T_WHITESPACE"," ",145],":",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'!'",145],")",",",["T_WHITESPACE"," ",145],["T_VARIABLE","$message",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$method",145],")",";",["T_WHITESPACE","\n                ",145],"}",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE"," ",147],["T_CATCH","catch",147],["T_WHITESPACE"," ",147],"(",["T_NS_SEPARATOR","\\",147],["T_STRING","Exception",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$e",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$exitCode",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_LNUMBER","1",148],";",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$rows",149],"[","]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",["T_STRING","sprintf",149],"(",["T_CONSTANT_ENCAPSED_STRING","'<fg=red;options=bold>%s<\/>'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",149],["T_WHITESPACE"," ",149],["T_IS_IDENTICAL","===",149],["T_WHITESPACE"," ",149],["T_STRING","DIRECTORY_SEPARATOR",149],["T_WHITESPACE"," ",149],"?",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'ERROR'",149],["T_WHITESPACE"," ",149],":",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","\"\\xE2\\x9C\\x98\"",149],["T_WHITESPACE"," ",149],["T_COMMENT","\/* HEAVY BALLOT X (U+2718) *\/",149],")",",",["T_WHITESPACE"," ",149],["T_VARIABLE","$message",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$e",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getMessage",149],"(",")",")",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$io",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","table",153],"(",["T_ARRAY","array",153],"(",["T_CONSTANT_ENCAPSED_STRING","''",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Bundle'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Method \/ Error'",153],")",",",["T_WHITESPACE"," ",153],["T_VARIABLE","$rows",153],")",";",["T_WHITESPACE","\n\n        ",153],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_LNUMBER","0",155],["T_WHITESPACE"," ",155],["T_IS_NOT_IDENTICAL","!==",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$exitCode",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$io",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","error",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Some errors occurred while installing assets.'",156],")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE"," ",157],["T_ELSE","else",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$copyUsed",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$io",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","note",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Some assets were installed via copy. If you make changes to these assets you have to run this command again.'",159],")",";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$io",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","success",161],"(",["T_CONSTANT_ENCAPSED_STRING","'All assets were successfully installed.'",161],")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n\n        ",162],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$exitCode",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Try to create relative symlink.\n     *\n     * Falling back to absolute symlink and finally hard copy.\n     *\n     * @param string $originDir\n     * @param string $targetDir\n     *\n     * @return string\n     *\/",167],["T_WHITESPACE","\n    ",176],["T_PRIVATE","private",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","relativeSymlinkWithFallback",177],"(",["T_VARIABLE","$originDir",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$targetDir",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_TRY","try",179],["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","symlink",180],"(",["T_VARIABLE","$originDir",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$targetDir",180],",",["T_WHITESPACE"," ",180],["T_STRING","true",180],")",";",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$method",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","self",181],["T_DOUBLE_COLON","::",181],["T_STRING","METHOD_RELATIVE_SYMLINK",181],";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE"," ",182],["T_CATCH","catch",182],["T_WHITESPACE"," ",182],"(",["T_STRING","IOException",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$e",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$method",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","absoluteSymlinkWithFallback",183],"(",["T_VARIABLE","$originDir",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$targetDir",183],")",";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n\n        ",184],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$method",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Try to create absolute symlink.\n     *\n     * Falling back to hard copy.\n     *\n     * @param string $originDir\n     * @param string $targetDir\n     *\n     * @return string\n     *\/",189],["T_WHITESPACE","\n    ",198],["T_PRIVATE","private",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","absoluteSymlinkWithFallback",199],"(",["T_VARIABLE","$originDir",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$targetDir",199],")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_TRY","try",201],["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","symlink",202],"(",["T_VARIABLE","$originDir",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$targetDir",202],")",";",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$method",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","self",203],["T_DOUBLE_COLON","::",203],["T_STRING","METHOD_ABSOLUTE_SYMLINK",203],";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE"," ",204],["T_CATCH","catch",204],["T_WHITESPACE"," ",204],"(",["T_STRING","IOException",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$e",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_COMMENT","\/\/ fall back to copy\n",205],["T_WHITESPACE","            ",206],["T_VARIABLE","$method",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","hardCopy",206],"(",["T_VARIABLE","$originDir",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$targetDir",206],")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$method",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * Creates symbolic link.\n     *\n     * @param string $originDir\n     * @param string $targetDir\n     * @param bool   $relative\n     *\n     * @throws IOException If link can not be created.\n     *\/",212],["T_WHITESPACE","\n    ",220],["T_PRIVATE","private",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","symlink",221],"(",["T_VARIABLE","$originDir",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$targetDir",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$relative",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","false",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$relative",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$originDir",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","filesystem",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","makePathRelative",224],"(",["T_VARIABLE","$originDir",224],",",["T_WHITESPACE"," ",224],["T_STRING","realpath",224],"(",["T_STRING","dirname",224],"(",["T_VARIABLE","$targetDir",224],")",")",")",";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","filesystem",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","symlink",226],"(",["T_VARIABLE","$originDir",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$targetDir",226],")",";",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(","!",["T_STRING","file_exists",227],"(",["T_VARIABLE","$targetDir",227],")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_THROW","throw",228],["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","IOException",228],"(",["T_STRING","sprintf",228],"(",["T_CONSTANT_ENCAPSED_STRING","'Symbolic link \"%s\" was created but appears to be broken.'",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$targetDir",228],")",",",["T_WHITESPACE"," ",228],["T_LNUMBER","0",228],",",["T_WHITESPACE"," ",228],["T_STRING","null",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$targetDir",228],")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Copies origin to target.\n     *\n     * @param string $originDir\n     * @param string $targetDir\n     *\n     * @return string\n     *\/",232],["T_WHITESPACE","\n    ",239],["T_PRIVATE","private",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","hardCopy",240],"(",["T_VARIABLE","$originDir",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$targetDir",240],")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","filesystem",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","mkdir",242],"(",["T_VARIABLE","$targetDir",242],",",["T_WHITESPACE"," ",242],["T_LNUMBER","0777",242],")",";",["T_WHITESPACE","\n        ",242],["T_COMMENT","\/\/ We use a custom iterator to ignore VCS files\n",243],["T_WHITESPACE","        ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","filesystem",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","mirror",244],"(",["T_VARIABLE","$originDir",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$targetDir",244],",",["T_WHITESPACE"," ",244],["T_STRING","Finder",244],["T_DOUBLE_COLON","::",244],["T_STRING","create",244],"(",")",["T_OBJECT_OPERATOR","->",244],["T_STRING","ignoreDotFiles",244],"(",["T_STRING","false",244],")",["T_OBJECT_OPERATOR","->",244],["T_STRING","in",244],"(",["T_VARIABLE","$originDir",244],")",")",";",["T_WHITESPACE","\n\n        ",244],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_STRING","self",246],["T_DOUBLE_COLON","::",246],["T_STRING","METHOD_COPY",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n",247],"}",["T_WHITESPACE","\n",248]]