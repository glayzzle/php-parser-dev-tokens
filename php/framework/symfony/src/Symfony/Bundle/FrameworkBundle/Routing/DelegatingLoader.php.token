[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FrameworkBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Routing",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Bundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FrameworkBundle",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Controller",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ControllerNameParser",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Config",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FileLoaderLoadException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Config",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Loader",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DelegatingLoader",16],["T_WHITESPACE"," ",16],["T_AS","as",16],["T_WHITESPACE"," ",16],["T_STRING","BaseDelegatingLoader",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Config",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Loader",17],["T_NS_SEPARATOR","\\",17],["T_STRING","LoaderResolverInterface",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * DelegatingLoader delegates route loading to other loaders using a loader resolver.\n *\n * This implementation resolves the _controller attribute from the short notation\n * to the fully-qualified form (from a:b:c to class::method).\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",19],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","DelegatingLoader",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","BaseDelegatingLoader",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$parser",29],";",["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$loading",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","false",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param ControllerNameParser    $parser   A ControllerNameParser instance\n     * @param LoaderResolverInterface $resolver A LoaderResolverInterface instance\n     *\/",32],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","__construct",38],"(",["T_STRING","ControllerNameParser",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$parser",38],",",["T_WHITESPACE"," ",38],["T_STRING","LoaderResolverInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$resolver",38],")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","parser",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$parser",40],";",["T_WHITESPACE","\n\n        ",40],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","__construct",42],"(",["T_VARIABLE","$resolver",42],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","load",48],"(",["T_VARIABLE","$resource",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$type",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","loading",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_COMMENT","\/\/ This can happen if a fatal error occurs in parent::load().\n",51],["T_WHITESPACE","            ",52],["T_COMMENT","\/\/ Here is the scenario:\n",52],["T_WHITESPACE","            ",53],["T_COMMENT","\/\/ - while routes are being loaded by parent::load() below, a fatal error\n",53],["T_WHITESPACE","            ",54],["T_COMMENT","\/\/   occurs (e.g. parse error in a controller while loading annotations);\n",54],["T_WHITESPACE","            ",55],["T_COMMENT","\/\/ - PHP abruptly empties the stack trace, bypassing all catch\/finally blocks;\n",55],["T_WHITESPACE","            ",56],["T_COMMENT","\/\/   it then calls the registered shutdown functions;\n",56],["T_WHITESPACE","            ",57],["T_COMMENT","\/\/ - the ErrorHandler catches the fatal error and re-injects it for rendering\n",57],["T_WHITESPACE","            ",58],["T_COMMENT","\/\/   thanks to HttpKernel->terminateWithException() (that calls handleException());\n",58],["T_WHITESPACE","            ",59],["T_COMMENT","\/\/ - at this stage, if we try to load the routes again, we must prevent\n",59],["T_WHITESPACE","            ",60],["T_COMMENT","\/\/   the fatal error from occurring a second time,\n",60],["T_WHITESPACE","            ",61],["T_COMMENT","\/\/   otherwise the PHP process would be killed immediately;\n",61],["T_WHITESPACE","            ",62],["T_COMMENT","\/\/ - while rendering the exception page, the router can be required\n",62],["T_WHITESPACE","            ",63],["T_COMMENT","\/\/   (by e.g. the web profiler that needs to generate an URL);\n",63],["T_WHITESPACE","            ",64],["T_COMMENT","\/\/ - this handles the case and prevents the second fatal error\n",64],["T_WHITESPACE","            ",65],["T_COMMENT","\/\/   by triggering an exception beforehand.\n",65],["T_WHITESPACE","\n            ",66],["T_THROW","throw",67],["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_STRING","FileLoaderLoadException",67],"(",["T_VARIABLE","$resource",67],")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","loading",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","true",69],";",["T_WHITESPACE","\n\n        ",69],["T_TRY","try",71],["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$collection",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","parent",72],["T_DOUBLE_COLON","::",72],["T_STRING","load",72],"(",["T_VARIABLE","$resource",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$type",72],")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE"," ",73],["T_FINALLY","finally",73],["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","loading",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","false",74],";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_FOREACH","foreach",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$collection",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","all",77],"(",")",["T_WHITESPACE"," ",77],["T_AS","as",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$route",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_VARIABLE","$controller",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$route",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getDefault",78],"(",["T_CONSTANT_ENCAPSED_STRING","'_controller'",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_CONTINUE","continue",79],";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n\n            ",80],["T_TRY","try",82],["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$controller",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","parser",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","parse",83],"(",["T_VARIABLE","$controller",83],")",";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE"," ",84],["T_CATCH","catch",84],["T_WHITESPACE"," ",84],"(",["T_NS_SEPARATOR","\\",84],["T_STRING","InvalidArgumentException",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$e",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_COMMENT","\/\/ unable to optimize unknown notation\n",85],["T_WHITESPACE","            ",86],"}",["T_WHITESPACE","\n\n            ",86],["T_VARIABLE","$route",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setDefault",88],"(",["T_CONSTANT_ENCAPSED_STRING","'_controller'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$controller",88],")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$collection",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n",92],"}",["T_WHITESPACE","\n",93]]