[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FrameworkBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyInjection",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Compiler",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AddConstraintValidatorsPass",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","AddConstraintValidatorsPassTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","testThatConstraintValidatorServicesAreProcessed",16],"(",")",["T_WHITESPACE","\n    ",16],"{",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$services",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_ARRAY","array",18],"(",["T_WHITESPACE","\n            ",18],["T_CONSTANT_ENCAPSED_STRING","'my_constraint_validator_service1'",19],["T_WHITESPACE"," ",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_LNUMBER","0",19],["T_WHITESPACE"," ",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'alias'",19],["T_WHITESPACE"," ",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'my_constraint_validator_alias1'",19],")",")",",",["T_WHITESPACE","\n            ",19],["T_CONSTANT_ENCAPSED_STRING","'my_constraint_validator_service2'",20],["T_WHITESPACE"," ",20],["T_DOUBLE_ARROW","=>",20],["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",")",",",["T_WHITESPACE","\n        ",20],")",";",["T_WHITESPACE","\n\n        ",21],["T_VARIABLE","$validatorFactoryDefinition",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getMockBuilder",23],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DependencyInjection\\Definition'",23],")",["T_OBJECT_OPERATOR","->",23],["T_STRING","getMock",23],"(",")",";",["T_WHITESPACE","\n        ",23],["T_VARIABLE","$container",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","getMockBuilder",24],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DependencyInjection\\ContainerBuilder'",24],")",["T_OBJECT_OPERATOR","->",24],["T_STRING","setMethods",24],"(",["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'findTaggedServiceIds'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'hasDefinition'",24],")",")",["T_OBJECT_OPERATOR","->",24],["T_STRING","getMock",24],"(",")",";",["T_WHITESPACE","\n\n        ",24],["T_VARIABLE","$validatorDefinition1",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","getMockBuilder",26],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DependencyInjection\\Definition'",26],")",["T_OBJECT_OPERATOR","->",26],["T_STRING","setMethods",26],"(",["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'getClass'",26],")",")",["T_OBJECT_OPERATOR","->",26],["T_STRING","getMock",26],"(",")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$validatorDefinition2",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","getMockBuilder",27],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DependencyInjection\\Definition'",27],")",["T_OBJECT_OPERATOR","->",27],["T_STRING","setMethods",27],"(",["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'getClass'",27],")",")",["T_OBJECT_OPERATOR","->",27],["T_STRING","getMock",27],"(",")",";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$validatorDefinition1",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","expects",29],"(",["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","atLeastOnce",29],"(",")",")",["T_WHITESPACE","\n            ",29],["T_OBJECT_OPERATOR","->",30],["T_STRING","method",30],"(",["T_CONSTANT_ENCAPSED_STRING","'getClass'",30],")",["T_WHITESPACE","\n            ",30],["T_OBJECT_OPERATOR","->",31],["T_STRING","willReturn",31],"(",["T_CONSTANT_ENCAPSED_STRING","'My\\Fully\\Qualified\\Class\\Named\\Validator1'",31],")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$validatorDefinition2",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","expects",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","atLeastOnce",32],"(",")",")",["T_WHITESPACE","\n            ",32],["T_OBJECT_OPERATOR","->",33],["T_STRING","method",33],"(",["T_CONSTANT_ENCAPSED_STRING","'getClass'",33],")",["T_WHITESPACE","\n            ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","willReturn",34],"(",["T_CONSTANT_ENCAPSED_STRING","'My\\Fully\\Qualified\\Class\\Named\\Validator2'",34],")",";",["T_WHITESPACE","\n\n        ",34],["T_VARIABLE","$container",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","expects",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","any",36],"(",")",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","method",37],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",37],")",["T_WHITESPACE","\n            ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","with",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","anything",38],"(",")",")",["T_WHITESPACE","\n            ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","will",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","returnValueMap",39],"(",["T_ARRAY","array",39],"(",["T_WHITESPACE","\n                ",39],["T_ARRAY","array",40],"(",["T_CONSTANT_ENCAPSED_STRING","'my_constraint_validator_service1'",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$validatorDefinition1",40],")",",",["T_WHITESPACE","\n                ",40],["T_ARRAY","array",41],"(",["T_CONSTANT_ENCAPSED_STRING","'my_constraint_validator_service2'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$validatorDefinition2",41],")",",",["T_WHITESPACE","\n                ",41],["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'validator.validator_factory'",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$validatorFactoryDefinition",42],")",",",["T_WHITESPACE","\n            ",42],")",")",")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$container",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","expects",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","atLeastOnce",45],"(",")",")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","method",46],"(",["T_CONSTANT_ENCAPSED_STRING","'findTaggedServiceIds'",46],")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","will",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","returnValue",47],"(",["T_VARIABLE","$services",47],")",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$container",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","expects",48],"(",["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","atLeastOnce",48],"(",")",")",["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","method",49],"(",["T_CONSTANT_ENCAPSED_STRING","'hasDefinition'",49],")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","with",50],"(",["T_CONSTANT_ENCAPSED_STRING","'validator.validator_factory'",50],")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","will",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","returnValue",51],"(",["T_STRING","true",51],")",")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$validatorFactoryDefinition",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","expects",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","once",53],"(",")",")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","method",54],"(",["T_CONSTANT_ENCAPSED_STRING","'replaceArgument'",54],")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","with",55],"(",["T_LNUMBER","1",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n                ",55],["T_CONSTANT_ENCAPSED_STRING","'My\\Fully\\Qualified\\Class\\Named\\Validator1'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'my_constraint_validator_service1'",56],",",["T_WHITESPACE","\n                ",56],["T_CONSTANT_ENCAPSED_STRING","'my_constraint_validator_alias1'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'my_constraint_validator_service1'",57],",",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'My\\Fully\\Qualified\\Class\\Named\\Validator2'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'my_constraint_validator_service2'",58],",",["T_WHITESPACE","\n            ",58],")",")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$addConstraintValidatorsPass",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","AddConstraintValidatorsPass",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$addConstraintValidatorsPass",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","process",62],"(",["T_VARIABLE","$container",62],")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testThatCompilerPassIsIgnoredIfThereIsNoConstraintValidatorFactoryDefinition",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$definition",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockBuilder",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DependencyInjection\\Definition'",67],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","getMock",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$container",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMockBuilder",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DependencyInjection\\ContainerBuilder'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","setMethods",68],"(",["T_ARRAY","array",68],"(",["T_CONSTANT_ENCAPSED_STRING","'hasDefinition'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'findTaggedServiceIds'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",68],")",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getMock",68],"(",")",";",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$container",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","never",70],"(",")",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","method",70],"(",["T_CONSTANT_ENCAPSED_STRING","'findTaggedServiceIds'",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$container",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","expects",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","never",71],"(",")",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","method",71],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$container",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","expects",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","atLeastOnce",72],"(",")",")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","method",73],"(",["T_CONSTANT_ENCAPSED_STRING","'hasDefinition'",73],")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","with",74],"(",["T_CONSTANT_ENCAPSED_STRING","'validator.validator_factory'",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","will",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","returnValue",75],"(",["T_STRING","false",75],")",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$definition",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","expects",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","never",76],"(",")",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","method",76],"(",["T_CONSTANT_ENCAPSED_STRING","'replaceArgument'",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$addConstraintValidatorsPass",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","AddConstraintValidatorsPass",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$addConstraintValidatorsPass",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","process",79],"(",["T_VARIABLE","$container",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n",80],"}",["T_WHITESPACE","\n",81]]