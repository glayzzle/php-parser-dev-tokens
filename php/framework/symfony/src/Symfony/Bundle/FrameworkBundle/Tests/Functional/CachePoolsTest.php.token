[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FrameworkBundle",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Functional",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Cache",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Adapter",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FilesystemAdapter",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Cache",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Adapter",15],["T_NS_SEPARATOR","\\",15],["T_STRING","RedisAdapter",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Cache",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","InvalidArgumentException",16],";",["T_WHITESPACE","\n\n",16],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","CachePoolsTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","WebTestCase",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","setUp",20],"(",")",["T_WHITESPACE","\n    ",20],"{",["T_WHITESPACE","\n        ",21],["T_VARIABLE","$_SERVER",22],"[",["T_CONSTANT_ENCAPSED_STRING","'SYMFONY__REDIS_HOST'",22],"]",["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","getenv",22],"(",["T_CONSTANT_ENCAPSED_STRING","'REDIS_HOST'",22],")",";",["T_WHITESPACE","\n    ",22],"}",["T_WHITESPACE","\n\n    ",23],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","tearDown",25],"(",")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_UNSET","unset",27],"(",["T_VARIABLE","$_SERVER",27],"[",["T_CONSTANT_ENCAPSED_STRING","'SYMFONY__REDIS_HOST'",27],"]",")",";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n\n    ",28],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","testCachePools",30],"(",")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","doTestCachePools",32],"(",["T_ARRAY","array",32],"(",")",",",["T_WHITESPACE"," ",32],["T_STRING","FilesystemAdapter",32],["T_DOUBLE_COLON","::",32],["T_CLASS","class",32],")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @requires extension redis\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","testRedisCachePools",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_TRY","try",40],["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","doTestCachePools",41],"(",["T_ARRAY","array",41],"(",["T_CONSTANT_ENCAPSED_STRING","'root_config'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'redis_config.yml'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'environment'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'redis_cache'",41],")",",",["T_WHITESPACE"," ",41],["T_STRING","RedisAdapter",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],")",";",["T_WHITESPACE","\n        ",41],"}",["T_WHITESPACE"," ",42],["T_CATCH","catch",42],["T_WHITESPACE"," ",42],"(",["T_NS_SEPARATOR","\\",42],["T_STRING","PHPUnit_Framework_Error_Warning",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$e",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_LNUMBER","0",43],["T_WHITESPACE"," ",43],["T_IS_NOT_IDENTICAL","!==",43],["T_WHITESPACE"," ",43],["T_STRING","strpos",43],"(",["T_VARIABLE","$e",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getMessage",43],"(",")",",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'unable to connect to'",43],")",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n                ",43],["T_THROW","throw",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$e",44],";",["T_WHITESPACE","\n            ",44],"}",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","markTestSkipped",46],"(",["T_VARIABLE","$e",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getMessage",46],"(",")",")",";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE"," ",47],["T_CATCH","catch",47],["T_WHITESPACE"," ",47],"(",["T_STRING","InvalidArgumentException",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$e",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_LNUMBER","0",48],["T_WHITESPACE"," ",48],["T_IS_NOT_IDENTICAL","!==",48],["T_WHITESPACE"," ",48],["T_STRING","strpos",48],"(",["T_VARIABLE","$e",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMessage",48],"(",")",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Redis connection failed'",48],")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n                ",48],["T_THROW","throw",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$e",49],";",["T_WHITESPACE","\n            ",49],"}",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","markTestSkipped",51],"(",["T_VARIABLE","$e",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMessage",51],"(",")",")",";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @requires extension redis\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","testRedisCustomCachePools",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_TRY","try",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","doTestCachePools",61],"(",["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'root_config'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'redis_custom_config.yml'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'environment'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'custom_redis_cache'",61],")",",",["T_WHITESPACE"," ",61],["T_STRING","RedisAdapter",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],")",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE"," ",62],["T_CATCH","catch",62],["T_WHITESPACE"," ",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","PHPUnit_Framework_Error_Warning",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$e",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_LNUMBER","0",63],["T_WHITESPACE"," ",63],["T_IS_NOT_IDENTICAL","!==",63],["T_WHITESPACE"," ",63],["T_STRING","strpos",63],"(",["T_VARIABLE","$e",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMessage",63],"(",")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'unable to connect to'",63],")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                ",63],["T_THROW","throw",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$e",64],";",["T_WHITESPACE","\n            ",64],"}",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","markTestSkipped",66],"(",["T_VARIABLE","$e",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getMessage",66],"(",")",")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","doTestCachePools",70],"(",["T_VARIABLE","$options",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$adapterClass",70],")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_STATIC","static",72],["T_DOUBLE_COLON","::",72],["T_STRING","bootKernel",72],"(",["T_VARIABLE","$options",72],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$container",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STATIC","static",73],["T_DOUBLE_COLON","::",73],["T_VARIABLE","$kernel",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getContainer",73],"(",")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$pool1",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$container",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.pool1'",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertInstanceOf",76],"(",["T_VARIABLE","$adapterClass",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$pool1",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$key",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'foobar'",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$pool1",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","deleteItem",79],"(",["T_VARIABLE","$key",79],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$item",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$pool1",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getItem",80],"(",["T_VARIABLE","$key",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertFalse",81],"(",["T_VARIABLE","$item",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","isHit",81],"(",")",")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$item",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","set",83],"(",["T_CONSTANT_ENCAPSED_STRING","'baz'",83],")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$pool1",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","save",84],"(",["T_VARIABLE","$item",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$item",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$pool1",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getItem",85],"(",["T_VARIABLE","$key",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertTrue",86],"(",["T_VARIABLE","$item",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","isHit",86],"(",")",")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$pool2",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$container",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.pool2'",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$pool2",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","save",89],"(",["T_VARIABLE","$item",89],")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$container",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_clearer'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","clear",91],"(",["T_VARIABLE","$container",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getParameter",91],"(",["T_CONSTANT_ENCAPSED_STRING","'kernel.cache_dir'",91],")",")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$item",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$pool1",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getItem",92],"(",["T_VARIABLE","$key",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertFalse",93],"(",["T_VARIABLE","$item",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","isHit",93],"(",")",")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$item",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$pool2",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getItem",95],"(",["T_VARIABLE","$key",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertTrue",96],"(",["T_VARIABLE","$item",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","isHit",96],"(",")",")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_STATIC","static",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","createKernel",99],"(",["T_ARRAY","array",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$options",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_STRING","parent",101],["T_DOUBLE_COLON","::",101],["T_STRING","createKernel",101],"(",["T_ARRAY","array",101],"(",["T_CONSTANT_ENCAPSED_STRING","'test_case'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'CachePools'",101],")",["T_WHITESPACE"," ",101],"+",["T_WHITESPACE"," ",101],["T_VARIABLE","$options",101],")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n",102],"}",["T_WHITESPACE","\n",103]]