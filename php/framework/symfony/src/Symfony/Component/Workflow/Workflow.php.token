[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Workflow",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventDispatcher",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventDispatcherInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Workflow",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Event",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Event",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Workflow",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Event",16],["T_NS_SEPARATOR","\\",16],["T_STRING","GuardEvent",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Workflow",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","LogicException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Workflow",18],["T_NS_SEPARATOR","\\",18],["T_STRING","MarkingStore",18],["T_NS_SEPARATOR","\\",18],["T_STRING","MarkingStoreInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Workflow",19],["T_NS_SEPARATOR","\\",19],["T_STRING","MarkingStore",19],["T_NS_SEPARATOR","\\",19],["T_STRING","MultipleStateMarkingStore",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * @author Fabien Potencier <fabien@symfony.com>\n * @author Gr\u00c3\u00a9goire Pineau <lyrixx@lyrixx.info>\n * @author Tobias Nyholm <tobias.nyholm@gmail.com>\n *\/",21],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","Workflow",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$definition",28],";",["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$markingStore",29],";",["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$dispatcher",30],";",["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$name",31],";",["T_WHITESPACE","\n\n    ",31],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_STRING","Definition",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$definition",33],",",["T_WHITESPACE"," ",33],["T_STRING","MarkingStoreInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$markingStore",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","null",33],",",["T_WHITESPACE"," ",33],["T_STRING","EventDispatcherInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$dispatcher",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","null",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$name",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'unnamed'",33],")",["T_WHITESPACE","\n    ",33],"{",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","definition",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$definition",35],";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","markingStore",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$markingStore",36],["T_WHITESPACE"," ",36],"?",":",["T_WHITESPACE"," ",36],["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STRING","MultipleStateMarkingStore",36],"(",")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","dispatcher",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$dispatcher",37],";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","name",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$name",38],";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Returns the object's Marking.\n     *\n     * @param object $subject A subject\n     *\n     * @return Marking The Marking\n     *\n     * @throws LogicException\n     *\/",41],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","getMarking",50],"(",["T_VARIABLE","$subject",50],")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$marking",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","markingStore",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getMarking",52],"(",["T_VARIABLE","$subject",52],")",";",["T_WHITESPACE","\n\n        ",52],["T_IF","if",54],["T_WHITESPACE"," ",54],"(","!",["T_VARIABLE","$marking",54],["T_WHITESPACE"," ",54],["T_INSTANCEOF","instanceof",54],["T_WHITESPACE"," ",54],["T_STRING","Marking",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_THROW","throw",55],["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","LogicException",55],"(",["T_STRING","sprintf",55],"(",["T_CONSTANT_ENCAPSED_STRING","'The value returned by the MarkingStore is not an instance of \"%s\" for workflow \"%s\".'",55],",",["T_WHITESPACE"," ",55],["T_STRING","Marking",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","name",55],")",")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n\n        ",56],["T_COMMENT","\/\/ check if the subject is already in the workflow\n",58],["T_WHITESPACE","        ",59],["T_IF","if",59],["T_WHITESPACE"," ",59],"(","!",["T_VARIABLE","$marking",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getPlaces",59],"(",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","definition",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getInitialPlace",60],"(",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_THROW","throw",61],["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","LogicException",61],"(",["T_STRING","sprintf",61],"(",["T_CONSTANT_ENCAPSED_STRING","'The Marking is empty and there is no initial place for workflow \"%s\".'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","name",61],")",")",";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$marking",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","mark",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","definition",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getInitialPlace",63],"(",")",")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n\n        ",64],["T_COMMENT","\/\/ check that the subject has a known place\n",66],["T_WHITESPACE","        ",67],["T_VARIABLE","$places",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","definition",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getPlaces",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_FOREACH","foreach",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$marking",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getPlaces",68],"(",")",["T_WHITESPACE"," ",68],["T_AS","as",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$placeName",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$nbToken",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_ISSET","isset",69],"(",["T_VARIABLE","$places",69],"[",["T_VARIABLE","$placeName",69],"]",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$message",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","sprintf",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Place \"%s\" is not valid for workflow \"%s\".'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$placeName",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","name",70],")",";",["T_WHITESPACE","\n                ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(","!",["T_VARIABLE","$places",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                    ",71],["T_VARIABLE","$message",72],["T_WHITESPACE"," ",72],["T_CONCAT_EQUAL",".=",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","' It seems you forgot to add places to the current workflow.'",72],";",["T_WHITESPACE","\n                ",72],"}",["T_WHITESPACE","\n\n                ",73],["T_THROW","throw",75],["T_WHITESPACE"," ",75],["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","LogicException",75],"(",["T_VARIABLE","$message",75],")",";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n\n        ",77],["T_COMMENT","\/\/ Because the marking could have been initialized, we update the subject\n",79],["T_WHITESPACE","        ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","markingStore",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setMarking",80],"(",["T_VARIABLE","$subject",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$marking",80],")",";",["T_WHITESPACE","\n\n        ",80],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$marking",82],";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Returns true if the transition is enabled.\n     *\n     * @param object $subject        A subject\n     * @param string $transitionName A transition\n     *\n     * @return bool true if the transition is enabled\n     *\/",85],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","can",93],"(",["T_VARIABLE","$subject",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$transitionName",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$transitions",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getEnabledTransitions",95],"(",["T_VARIABLE","$subject",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMarking",95],"(",["T_VARIABLE","$subject",95],")",")",";",["T_WHITESPACE","\n\n        ",95],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$transitions",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$transition",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$transitionName",98],["T_WHITESPACE"," ",98],["T_IS_IDENTICAL","===",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$transition",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getName",98],"(",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","true",99],";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n\n        ",101],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_STRING","false",103],";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Fire a transition.\n     *\n     * @param object $subject        A subject\n     * @param string $transitionName A transition\n     *\n     * @return Marking The new Marking\n     *\n     * @throws LogicException If the transition is not applicable\n     * @throws LogicException If the transition does not exist\n     *\/",106],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","apply",117],"(",["T_VARIABLE","$subject",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$transitionName",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$transitions",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getEnabledTransitions",119],"(",["T_VARIABLE","$subject",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMarking",119],"(",["T_VARIABLE","$subject",119],")",")",";",["T_WHITESPACE","\n\n        ",119],["T_COMMENT","\/\/ We can shortcut the getMarking method in order to boost performance,\n",121],["T_WHITESPACE","        ",122],["T_COMMENT","\/\/ since the \"getEnabledTransitions\" method already checks the Marking\n",122],["T_WHITESPACE","        ",123],["T_COMMENT","\/\/ state\n",123],["T_WHITESPACE","        ",124],["T_VARIABLE","$marking",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","markingStore",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMarking",124],"(",["T_VARIABLE","$subject",124],")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$applied",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","false",126],";",["T_WHITESPACE","\n\n        ",126],["T_FOREACH","foreach",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$transitions",128],["T_WHITESPACE"," ",128],["T_AS","as",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$transition",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$transitionName",129],["T_WHITESPACE"," ",129],["T_IS_NOT_IDENTICAL","!==",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$transition",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getName",129],"(",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_CONTINUE","continue",130],";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n\n            ",131],["T_VARIABLE","$applied",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","true",133],";",["T_WHITESPACE","\n\n            ",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","leave",135],"(",["T_VARIABLE","$subject",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$transition",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$marking",135],")",";",["T_WHITESPACE","\n\n            ",135],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","transition",137],"(",["T_VARIABLE","$subject",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$transition",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$marking",137],")",";",["T_WHITESPACE","\n\n            ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","enter",139],"(",["T_VARIABLE","$subject",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$transition",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$marking",139],")",";",["T_WHITESPACE","\n\n            ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","markingStore",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setMarking",141],"(",["T_VARIABLE","$subject",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$marking",141],")",";",["T_WHITESPACE","\n\n            ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","announce",143],"(",["T_VARIABLE","$subject",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$transition",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$marking",143],")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(","!",["T_VARIABLE","$applied",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_THROW","throw",147],["T_WHITESPACE"," ",147],["T_NEW","new",147],["T_WHITESPACE"," ",147],["T_STRING","LogicException",147],"(",["T_STRING","sprintf",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to apply transition \"%s\" for workflow \"%s\".'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$transitionName",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","name",147],")",")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n\n        ",148],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$marking",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Returns all enabled transitions.\n     *\n     * @param object $subject A subject\n     *\n     * @return Transition[] All enabled transitions\n     *\/",153],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","getEnabledTransitions",160],"(",["T_VARIABLE","$subject",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$enabled",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$marking",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getMarking",163],"(",["T_VARIABLE","$subject",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_FOREACH","foreach",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","definition",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getTransitions",165],"(",")",["T_WHITESPACE"," ",165],["T_AS","as",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$transition",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","doCan",166],"(",["T_VARIABLE","$subject",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$marking",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$transition",166],")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$enabled",167],"[","]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$transition",167],";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$enabled",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","getName",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","name",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * @return Definition\n     *\/",179],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","getDefinition",182],"(",")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","definition",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_PRIVATE","private",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","doCan",187],"(",["T_VARIABLE","$subject",187],",",["T_WHITESPACE"," ",187],["T_STRING","Marking",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$marking",187],",",["T_WHITESPACE"," ",187],["T_STRING","Transition",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$transition",187],")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_FOREACH","foreach",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$transition",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getFroms",189],"(",")",["T_WHITESPACE"," ",189],["T_AS","as",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$place",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(","!",["T_VARIABLE","$marking",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","has",190],"(",["T_VARIABLE","$place",190],")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_STRING","false",191],";",["T_WHITESPACE","\n            ",191],"}",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n\n        ",193],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_STRING","true",195],["T_WHITESPACE"," ",195],["T_IS_IDENTICAL","===",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","guardTransition",195],"(",["T_VARIABLE","$subject",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$marking",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$transition",195],")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_STRING","false",196],";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n\n        ",197],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_STRING","true",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * @param object     $subject\n     * @param Marking    $marking\n     * @param Transition $transition\n     *\n     * @return bool|void boolean true if this transition is guarded, ie you cannot use it\n     *\/",202],["T_WHITESPACE","\n    ",208],["T_PRIVATE","private",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","guardTransition",209],"(",["T_VARIABLE","$subject",209],",",["T_WHITESPACE"," ",209],["T_STRING","Marking",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$marking",209],",",["T_WHITESPACE"," ",209],["T_STRING","Transition",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$transition",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_STRING","null",211],["T_WHITESPACE"," ",211],["T_IS_IDENTICAL","===",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","dispatcher",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_RETURN","return",212],";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$event",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_NEW","new",215],["T_WHITESPACE"," ",215],["T_STRING","GuardEvent",215],"(",["T_VARIABLE","$subject",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$marking",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$transition",215],")",";",["T_WHITESPACE","\n\n        ",215],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","dispatcher",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","dispatch",217],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.guard'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$event",217],")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","dispatcher",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","dispatch",218],"(",["T_STRING","sprintf",218],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.%s.guard'",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","name",218],")",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$event",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","dispatcher",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","dispatch",219],"(",["T_STRING","sprintf",219],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.%s.guard.%s'",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","name",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$transition",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getName",219],"(",")",")",",",["T_WHITESPACE"," ",219],["T_VARIABLE","$event",219],")",";",["T_WHITESPACE","\n\n        ",219],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$event",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","isBlocked",221],"(",")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_PRIVATE","private",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","leave",224],"(",["T_VARIABLE","$subject",224],",",["T_WHITESPACE"," ",224],["T_STRING","Transition",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$transition",224],",",["T_WHITESPACE"," ",224],["T_STRING","Marking",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$marking",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_STRING","null",226],["T_WHITESPACE"," ",226],["T_IS_NOT_IDENTICAL","!==",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","dispatcher",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$event",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_NEW","new",227],["T_WHITESPACE"," ",227],["T_STRING","Event",227],"(",["T_VARIABLE","$subject",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$marking",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$transition",227],")",";",["T_WHITESPACE","\n\n            ",227],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","dispatcher",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","dispatch",229],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.leave'",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$event",229],")",";",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","dispatcher",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","dispatch",230],"(",["T_STRING","sprintf",230],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.%s.leave'",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","name",230],")",",",["T_WHITESPACE"," ",230],["T_VARIABLE","$event",230],")",";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE","\n\n        ",231],["T_FOREACH","foreach",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$transition",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getFroms",233],"(",")",["T_WHITESPACE"," ",233],["T_AS","as",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$place",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$marking",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","unmark",234],"(",["T_VARIABLE","$place",234],")",";",["T_WHITESPACE","\n\n            ",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_STRING","null",236],["T_WHITESPACE"," ",236],["T_IS_NOT_IDENTICAL","!==",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","dispatcher",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n                ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","dispatcher",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","dispatch",237],"(",["T_STRING","sprintf",237],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.%s.leave.%s'",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","name",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$place",237],")",",",["T_WHITESPACE"," ",237],["T_VARIABLE","$event",237],")",";",["T_WHITESPACE","\n            ",237],"}",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_PRIVATE","private",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","transition",242],"(",["T_VARIABLE","$subject",242],",",["T_WHITESPACE"," ",242],["T_STRING","Transition",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$transition",242],",",["T_WHITESPACE"," ",242],["T_STRING","Marking",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$marking",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_STRING","null",244],["T_WHITESPACE"," ",244],["T_IS_IDENTICAL","===",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","dispatcher",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_RETURN","return",245],";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$event",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","Event",248],"(",["T_VARIABLE","$subject",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$marking",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$transition",248],")",";",["T_WHITESPACE","\n\n        ",248],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","dispatcher",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","dispatch",250],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.transition'",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$event",250],")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","dispatcher",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","dispatch",251],"(",["T_STRING","sprintf",251],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.%s.transition'",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","name",251],")",",",["T_WHITESPACE"," ",251],["T_VARIABLE","$event",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","dispatcher",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","dispatch",252],"(",["T_STRING","sprintf",252],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.%s.transition.%s'",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","name",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$transition",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getName",252],"(",")",")",",",["T_WHITESPACE"," ",252],["T_VARIABLE","$event",252],")",";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_PRIVATE","private",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","enter",255],"(",["T_VARIABLE","$subject",255],",",["T_WHITESPACE"," ",255],["T_STRING","Transition",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$transition",255],",",["T_WHITESPACE"," ",255],["T_STRING","Marking",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$marking",255],")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_STRING","null",257],["T_WHITESPACE"," ",257],["T_IS_NOT_IDENTICAL","!==",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","dispatcher",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$event",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_NEW","new",258],["T_WHITESPACE"," ",258],["T_STRING","Event",258],"(",["T_VARIABLE","$subject",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$marking",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$transition",258],")",";",["T_WHITESPACE","\n\n            ",258],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","dispatcher",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","dispatch",260],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.enter'",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$event",260],")",";",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","dispatcher",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","dispatch",261],"(",["T_STRING","sprintf",261],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.%s.enter'",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","name",261],")",",",["T_WHITESPACE"," ",261],["T_VARIABLE","$event",261],")",";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n\n        ",262],["T_FOREACH","foreach",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$transition",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getTos",264],"(",")",["T_WHITESPACE"," ",264],["T_AS","as",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$place",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$marking",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","mark",265],"(",["T_VARIABLE","$place",265],")",";",["T_WHITESPACE","\n\n            ",265],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_STRING","null",267],["T_WHITESPACE"," ",267],["T_IS_NOT_IDENTICAL","!==",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","dispatcher",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n                ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","dispatcher",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","dispatch",268],"(",["T_STRING","sprintf",268],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.%s.enter.%s'",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","name",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$place",268],")",",",["T_WHITESPACE"," ",268],["T_VARIABLE","$event",268],")",";",["T_WHITESPACE","\n            ",268],"}",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_PRIVATE","private",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","announce",273],"(",["T_VARIABLE","$subject",273],",",["T_WHITESPACE"," ",273],["T_STRING","Transition",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$initialTransition",273],",",["T_WHITESPACE"," ",273],["T_STRING","Marking",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$marking",273],")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_STRING","null",275],["T_WHITESPACE"," ",275],["T_IS_IDENTICAL","===",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","dispatcher",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n            ",275],["T_RETURN","return",276],";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n\n        ",277],["T_VARIABLE","$event",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_NEW","new",279],["T_WHITESPACE"," ",279],["T_STRING","Event",279],"(",["T_VARIABLE","$subject",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$marking",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$initialTransition",279],")",";",["T_WHITESPACE","\n\n        ",279],["T_FOREACH","foreach",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getEnabledTransitions",281],"(",["T_VARIABLE","$subject",281],")",["T_WHITESPACE"," ",281],["T_AS","as",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$transition",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","dispatcher",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","dispatch",282],"(",["T_STRING","sprintf",282],"(",["T_CONSTANT_ENCAPSED_STRING","'workflow.%s.announce.%s'",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","name",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$transition",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getName",282],"(",")",")",",",["T_WHITESPACE"," ",282],["T_VARIABLE","$event",282],")",";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n",284],"}",["T_WHITESPACE","\n",285]]