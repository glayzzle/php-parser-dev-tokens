[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Cache",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Traits",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Predis",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Connection",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Factory",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Predis",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Connection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Aggregate",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PredisCluster",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Predis",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Connection",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Aggregate",16],["T_NS_SEPARATOR","\\",16],["T_STRING","RedisCluster",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Cache",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","InvalidArgumentException",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * @author Aurimas Niekis <aurimas@niekis.lt>\n * @author Nicolas Grekas <p@tchwork.com>\n *\n * @internal\n *\/",19],["T_WHITESPACE","\n",24],["T_TRAIT","trait",25],["T_WHITESPACE"," ",25],["T_STRING","RedisTrait",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$defaultConnectionOptions",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],"(",["T_WHITESPACE","\n        ",27],["T_CONSTANT_ENCAPSED_STRING","'class'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_STRING","null",28],",",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'persistent'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_LNUMBER","0",29],",",["T_WHITESPACE","\n        ",29],["T_CONSTANT_ENCAPSED_STRING","'persistent_id'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_STRING","null",30],",",["T_WHITESPACE","\n        ",30],["T_CONSTANT_ENCAPSED_STRING","'timeout'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_LNUMBER","30",31],",",["T_WHITESPACE","\n        ",31],["T_CONSTANT_ENCAPSED_STRING","'read_timeout'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_LNUMBER","0",32],",",["T_WHITESPACE","\n        ",32],["T_CONSTANT_ENCAPSED_STRING","'retry_interval'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_LNUMBER","0",33],",",["T_WHITESPACE","\n    ",33],")",";",["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$redis",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @param \\Redis|\\RedisArray|\\RedisCluster|\\Predis\\Client $redisClient\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","init",40],"(",["T_VARIABLE","$redisClient",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$namespace",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","''",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$defaultLifetime",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","0",40],")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","__construct",42],"(",["T_VARIABLE","$namespace",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$defaultLifetime",42],")",";",["T_WHITESPACE","\n\n        ",42],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_STRING","preg_match",44],"(",["T_CONSTANT_ENCAPSED_STRING","'#[^-+_.A-Za-z0-9]#'",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$namespace",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$match",44],")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_THROW","throw",45],["T_WHITESPACE"," ",45],["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_STRING","InvalidArgumentException",45],"(",["T_STRING","sprintf",45],"(",["T_CONSTANT_ENCAPSED_STRING","'RedisAdapter namespace contains \"%s\" but only characters in [-+_.A-Za-z0-9] are allowed.'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$match",45],"[",["T_LNUMBER","0",45],"]",")",")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n        ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(","!",["T_VARIABLE","$redisClient",47],["T_WHITESPACE"," ",47],["T_INSTANCEOF","instanceof",47],["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Redis",47],["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],"!",["T_VARIABLE","$redisClient",47],["T_WHITESPACE"," ",47],["T_INSTANCEOF","instanceof",47],["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","RedisArray",47],["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],"!",["T_VARIABLE","$redisClient",47],["T_WHITESPACE"," ",47],["T_INSTANCEOF","instanceof",47],["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","RedisCluster",47],["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],"!",["T_VARIABLE","$redisClient",47],["T_WHITESPACE"," ",47],["T_INSTANCEOF","instanceof",47],["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Predis",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Client",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_THROW","throw",48],["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_STRING","InvalidArgumentException",48],"(",["T_STRING","sprintf",48],"(",["T_CONSTANT_ENCAPSED_STRING","'%s() expects parameter 1 to be Redis, RedisArray, RedisCluster or Predis\\Client, %s given'",48],",",["T_WHITESPACE"," ",48],["T_METHOD_C","__METHOD__",48],",",["T_WHITESPACE"," ",48],["T_STRING","is_object",48],"(",["T_VARIABLE","$redisClient",48],")",["T_WHITESPACE"," ",48],"?",["T_WHITESPACE"," ",48],["T_STRING","get_class",48],"(",["T_VARIABLE","$redisClient",48],")",["T_WHITESPACE"," ",48],":",["T_WHITESPACE"," ",48],["T_STRING","gettype",48],"(",["T_VARIABLE","$redisClient",48],")",")",")",";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","redis",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$redisClient",50],";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Creates a Redis connection using a DSN configuration.\n     *\n     * Example DSN:\n     *   - redis:\/\/localhost\n     *   - redis:\/\/example.com:1234\n     *   - redis:\/\/secret@example.com\/13\n     *   - redis:\/\/\/var\/run\/redis.sock\n     *   - redis:\/\/secret@\/var\/run\/redis.sock\/13\n     *\n     * @param string $dsn\n     * @param array  $options See self::$defaultConnectionOptions\n     *\n     * @throws InvalidArgumentException When the DSN is invalid.\n     *\n     * @return \\Redis|\\Predis\\Client According to the \"class\" option\n     *\/",53],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_STATIC","static",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","createConnection",70],"(",["T_VARIABLE","$dsn",70],",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$options",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_LNUMBER","0",72],["T_WHITESPACE"," ",72],["T_IS_NOT_IDENTICAL","!==",72],["T_WHITESPACE"," ",72],["T_STRING","strpos",72],"(",["T_VARIABLE","$dsn",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'redis:\/\/'",72],")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_THROW","throw",73],["T_WHITESPACE"," ",73],["T_NEW","new",73],["T_WHITESPACE"," ",73],["T_STRING","InvalidArgumentException",73],"(",["T_STRING","sprintf",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Redis DSN: %s does not start with \"redis:\/\/\"'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$dsn",73],")",")",";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$params",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","preg_replace_callback",75],"(",["T_CONSTANT_ENCAPSED_STRING","'#^redis:\/\/(?:(?:[^:@]*+:)?([^@]*+)@)?#'",75],",",["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$m",75],")",["T_WHITESPACE"," ",75],["T_USE","use",75],["T_WHITESPACE"," ",75],"(","&",["T_VARIABLE","$auth",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_ISSET","isset",76],"(",["T_VARIABLE","$m",76],"[",["T_LNUMBER","1",76],"]",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$auth",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$m",77],"[",["T_LNUMBER","1",77],"]",";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n\n            ",78],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'file:\/\/'",80],";",["T_WHITESPACE","\n        ",80],"}",",",["T_WHITESPACE"," ",81],["T_VARIABLE","$dsn",81],")",";",["T_WHITESPACE","\n        ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_STRING","false",82],["T_WHITESPACE"," ",82],["T_IS_IDENTICAL","===",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$params",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","parse_url",82],"(",["T_VARIABLE","$params",82],")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_THROW","throw",83],["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","InvalidArgumentException",83],"(",["T_STRING","sprintf",83],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Redis DSN: %s'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$dsn",83],")",")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n        ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","!",["T_ISSET","isset",85],"(",["T_VARIABLE","$params",85],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",85],"]",")",["T_WHITESPACE"," ",85],["T_BOOLEAN_AND","&&",85],["T_WHITESPACE"," ",85],"!",["T_ISSET","isset",85],"(",["T_VARIABLE","$params",85],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",85],"]",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_THROW","throw",86],["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","InvalidArgumentException",86],"(",["T_STRING","sprintf",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Redis DSN: %s'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$dsn",86],")",")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n        ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_ISSET","isset",88],"(",["T_VARIABLE","$params",88],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",88],"]",")",["T_WHITESPACE"," ",88],["T_BOOLEAN_AND","&&",88],["T_WHITESPACE"," ",88],["T_STRING","preg_match",88],"(",["T_CONSTANT_ENCAPSED_STRING","'#\/(\\d+)$#'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$params",88],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",88],"]",",",["T_WHITESPACE"," ",88],["T_VARIABLE","$m",88],")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$params",89],"[",["T_CONSTANT_ENCAPSED_STRING","'dbindex'",89],"]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$m",89],"[",["T_LNUMBER","1",89],"]",";",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$params",90],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","substr",90],"(",["T_VARIABLE","$params",90],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",90],"]",",",["T_WHITESPACE"," ",90],["T_LNUMBER","0",90],",",["T_WHITESPACE"," ",90],"-",["T_STRING","strlen",90],"(",["T_VARIABLE","$m",90],"[",["T_LNUMBER","0",90],"]",")",")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$params",92],["T_WHITESPACE"," ",92],["T_PLUS_EQUAL","+=",92],["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'host'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_ISSET","isset",93],"(",["T_VARIABLE","$params",93],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",93],"]",")",["T_WHITESPACE"," ",93],"?",["T_WHITESPACE"," ",93],["T_VARIABLE","$params",93],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",93],"]",["T_WHITESPACE"," ",93],":",["T_WHITESPACE"," ",93],["T_VARIABLE","$params",93],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",93],"]",",",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'port'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_ISSET","isset",94],"(",["T_VARIABLE","$params",94],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",94],"]",")",["T_WHITESPACE"," ",94],"?",["T_WHITESPACE"," ",94],["T_LNUMBER","6379",94],["T_WHITESPACE"," ",94],":",["T_WHITESPACE"," ",94],["T_STRING","null",94],",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'dbindex'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_LNUMBER","0",95],",",["T_WHITESPACE","\n        ",95],")",";",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_ISSET","isset",97],"(",["T_VARIABLE","$params",97],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",97],"]",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_STRING","parse_str",98],"(",["T_VARIABLE","$params",98],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",98],"]",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$query",98],")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$params",99],["T_WHITESPACE"," ",99],["T_PLUS_EQUAL","+=",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$query",99],";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$params",101],["T_WHITESPACE"," ",101],["T_PLUS_EQUAL","+=",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$options",101],["T_WHITESPACE"," ",101],"+",["T_WHITESPACE"," ",101],["T_STRING","self",101],["T_DOUBLE_COLON","::",101],["T_VARIABLE","$defaultConnectionOptions",101],";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$class",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","null",102],["T_WHITESPACE"," ",102],["T_IS_IDENTICAL","===",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$params",102],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",102],"]",["T_WHITESPACE"," ",102],"?",["T_WHITESPACE"," ",102],"(",["T_STRING","extension_loaded",102],"(",["T_CONSTANT_ENCAPSED_STRING","'redis'",102],")",["T_WHITESPACE"," ",102],"?",["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Redis",102],["T_DOUBLE_COLON","::",102],["T_CLASS","class",102],["T_WHITESPACE"," ",102],":",["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Predis",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Client",102],["T_DOUBLE_COLON","::",102],["T_CLASS","class",102],")",["T_WHITESPACE"," ",102],":",["T_WHITESPACE"," ",102],["T_VARIABLE","$params",102],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",102],"]",";",["T_WHITESPACE","\n\n        ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_STRING","is_a",104],"(",["T_VARIABLE","$class",104],",",["T_WHITESPACE"," ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Redis",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],",",["T_WHITESPACE"," ",104],["T_STRING","true",104],")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$connect",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$params",105],"[",["T_CONSTANT_ENCAPSED_STRING","'persistent'",105],"]",["T_WHITESPACE"," ",105],["T_BOOLEAN_OR","||",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$params",105],"[",["T_CONSTANT_ENCAPSED_STRING","'persistent_id'",105],"]",["T_WHITESPACE"," ",105],"?",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'pconnect'",105],["T_WHITESPACE"," ",105],":",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'connect'",105],";",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$redis",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$class",106],"(",")",";",["T_WHITESPACE","\n            ",106],"@",["T_VARIABLE","$redis",107],["T_OBJECT_OPERATOR","->",107],"{",["T_VARIABLE","$connect",107],"}","(",["T_VARIABLE","$params",107],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",107],"]",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$params",107],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",107],"]",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$params",107],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",107],"]",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$params",107],"[",["T_CONSTANT_ENCAPSED_STRING","'persistent_id'",107],"]",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$params",107],"[",["T_CONSTANT_ENCAPSED_STRING","'retry_interval'",107],"]",")",";",["T_WHITESPACE","\n\n            ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","@","!",["T_VARIABLE","$redis",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","isConnected",109],"(",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_VARIABLE","$e",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$e",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","error_get_last",110],"(",")",")",["T_WHITESPACE"," ",110],["T_BOOLEAN_AND","&&",110],["T_WHITESPACE"," ",110],["T_STRING","preg_match",110],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^Redis::p?connect\\(\\): (.*)\/'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$e",110],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",110],"]",",",["T_WHITESPACE"," ",110],["T_VARIABLE","$e",110],")",["T_WHITESPACE"," ",110],"?",["T_WHITESPACE"," ",110],["T_STRING","sprintf",110],"(",["T_CONSTANT_ENCAPSED_STRING","' (%s)'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$e",110],"[",["T_LNUMBER","1",110],"]",")",["T_WHITESPACE"," ",110],":",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","''",110],";",["T_WHITESPACE","\n                ",110],["T_THROW","throw",111],["T_WHITESPACE"," ",111],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_STRING","InvalidArgumentException",111],"(",["T_STRING","sprintf",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Redis connection failed%s: %s'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$e",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$dsn",111],")",")",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n\n            ",112],["T_IF","if",114],["T_WHITESPACE"," ",114],"(","(",["T_STRING","null",114],["T_WHITESPACE"," ",114],["T_IS_NOT_IDENTICAL","!==",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$auth",114],["T_WHITESPACE"," ",114],["T_BOOLEAN_AND","&&",114],["T_WHITESPACE"," ",114],"!",["T_VARIABLE","$redis",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","auth",114],"(",["T_VARIABLE","$auth",114],")",")",["T_WHITESPACE","\n                ",114],["T_BOOLEAN_OR","||",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$params",115],"[",["T_CONSTANT_ENCAPSED_STRING","'dbindex'",115],"]",["T_WHITESPACE"," ",115],["T_BOOLEAN_AND","&&",115],["T_WHITESPACE"," ",115],"!",["T_VARIABLE","$redis",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","select",115],"(",["T_VARIABLE","$params",115],"[",["T_CONSTANT_ENCAPSED_STRING","'dbindex'",115],"]",")",")",["T_WHITESPACE","\n                ",115],["T_BOOLEAN_OR","||",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$params",116],"[",["T_CONSTANT_ENCAPSED_STRING","'read_timeout'",116],"]",["T_WHITESPACE"," ",116],["T_BOOLEAN_AND","&&",116],["T_WHITESPACE"," ",116],"!",["T_VARIABLE","$redis",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","setOption",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Redis",116],["T_DOUBLE_COLON","::",116],["T_STRING","OPT_READ_TIMEOUT",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$params",116],"[",["T_CONSTANT_ENCAPSED_STRING","'read_timeout'",116],"]",")",")",["T_WHITESPACE","\n            ",116],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$e",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","preg_replace",118],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^ERR \/'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","''",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$redis",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getLastError",118],"(",")",")",";",["T_WHITESPACE","\n                ",118],["T_THROW","throw",119],["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","InvalidArgumentException",119],"(",["T_STRING","sprintf",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Redis connection failed (%s): %s'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$e",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$dsn",119],")",")",";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE"," ",121],["T_ELSEIF","elseif",121],["T_WHITESPACE"," ",121],"(",["T_STRING","is_a",121],"(",["T_VARIABLE","$class",121],",",["T_WHITESPACE"," ",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Predis",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Client",121],["T_DOUBLE_COLON","::",121],["T_CLASS","class",121],",",["T_WHITESPACE"," ",121],["T_STRING","true",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$params",122],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ISSET","isset",122],"(",["T_VARIABLE","$params",122],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",122],"]",")",["T_WHITESPACE"," ",122],"?",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'tcp'",122],["T_WHITESPACE"," ",122],":",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'unix'",122],";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$params",123],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$params",123],"[",["T_CONSTANT_ENCAPSED_STRING","'dbindex'",123],"]",["T_WHITESPACE"," ",123],"?",":",["T_WHITESPACE"," ",123],["T_STRING","null",123],";",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$params",124],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$auth",124],";",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$redis",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$class",125],"(","(",["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","Factory",125],"(",")",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","create",125],"(",["T_VARIABLE","$params",125],")",")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE"," ",126],["T_ELSEIF","elseif",126],["T_WHITESPACE"," ",126],"(",["T_STRING","class_exists",126],"(",["T_VARIABLE","$class",126],",",["T_WHITESPACE"," ",126],["T_STRING","false",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_THROW","throw",127],["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","InvalidArgumentException",127],"(",["T_STRING","sprintf",127],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\" is not a subclass of \"Redis\" or \"Predis\\Client\"'",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$class",127],")",")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE"," ",128],["T_ELSE","else",128],["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_THROW","throw",129],["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","InvalidArgumentException",129],"(",["T_STRING","sprintf",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Class \"%s\" does not exist'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$class",129],")",")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n\n        ",130],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$redis",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",135],["T_WHITESPACE","\n    ",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","doFetch",138],"(",["T_ARRAY","array",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$ids",138],")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$ids",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$values",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","redis",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","mGet",141],"(",["T_VARIABLE","$ids",141],")",";",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$index",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],";",["T_WHITESPACE","\n            ",142],["T_FOREACH","foreach",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$ids",143],["T_WHITESPACE"," ",143],["T_AS","as",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$id",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$value",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$values",144],"[",["T_VARIABLE","$index",144],["T_INC","++",144],"]",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                    ",144],["T_YIELD","yield",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$id",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_STRING","parent",145],["T_DOUBLE_COLON","::",145],["T_STRING","unserialize",145],"(",["T_VARIABLE","$value",145],")",";",["T_WHITESPACE","\n                ",145],"}",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",151],["T_WHITESPACE","\n    ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","doHave",154],"(",["T_VARIABLE","$id",154],")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_BOOL_CAST","(bool)",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","redis",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","exists",156],"(",["T_VARIABLE","$id",156],")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",159],["T_WHITESPACE","\n    ",161],["T_PROTECTED","protected",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","doClear",162],"(",["T_VARIABLE","$namespace",162],")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_COMMENT","\/\/ When using a native Redis cluster, clearing the cache cannot work and always returns false.\n",164],["T_WHITESPACE","        ",165],["T_COMMENT","\/\/ Clearing the cache should then be done by any other means (e.g. by restarting the cluster).\n",165],["T_WHITESPACE","\n        ",166],["T_VARIABLE","$cleared",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","true",167],";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$hosts",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","redis",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$evalArgs",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",["T_ARRAY","array",169],"(",["T_VARIABLE","$namespace",169],")",",",["T_WHITESPACE"," ",169],["T_LNUMBER","0",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","redis",171],["T_WHITESPACE"," ",171],["T_INSTANCEOF","instanceof",171],["T_WHITESPACE"," ",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Predis",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Client",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$evalArgs",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",["T_LNUMBER","0",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$namespace",172],")",";",["T_WHITESPACE","\n\n            ",172],["T_VARIABLE","$connection",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","redis",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getConnection",174],"(",")",";",["T_WHITESPACE","\n            ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$connection",175],["T_WHITESPACE"," ",175],["T_INSTANCEOF","instanceof",175],["T_WHITESPACE"," ",175],["T_STRING","PredisCluster",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$hosts",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",";",["T_WHITESPACE","\n                ",176],["T_FOREACH","foreach",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$connection",177],["T_WHITESPACE"," ",177],["T_AS","as",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$c",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                    ",177],["T_VARIABLE","$hosts",178],"[","]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Predis",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Client",178],"(",["T_VARIABLE","$c",178],")",";",["T_WHITESPACE","\n                ",178],"}",["T_WHITESPACE","\n            ",179],"}",["T_WHITESPACE"," ",180],["T_ELSEIF","elseif",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$connection",180],["T_WHITESPACE"," ",180],["T_INSTANCEOF","instanceof",180],["T_WHITESPACE"," ",180],["T_STRING","RedisCluster",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_STRING","false",181],";",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE"," ",183],["T_ELSEIF","elseif",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","redis",183],["T_WHITESPACE"," ",183],["T_INSTANCEOF","instanceof",183],["T_WHITESPACE"," ",183],["T_NS_SEPARATOR","\\",183],["T_STRING","RedisArray",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$hosts",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",")",";",["T_WHITESPACE","\n            ",184],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","redis",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_hosts",185],"(",")",["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$host",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$hosts",186],"[","]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","redis",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_instance",186],"(",["T_VARIABLE","$host",186],")",";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE"," ",188],["T_ELSEIF","elseif",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","redis",188],["T_WHITESPACE"," ",188],["T_INSTANCEOF","instanceof",188],["T_WHITESPACE"," ",188],["T_NS_SEPARATOR","\\",188],["T_STRING","RedisCluster",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_STRING","false",189],";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n        ",190],["T_FOREACH","foreach",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$hosts",191],["T_WHITESPACE"," ",191],["T_AS","as",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$host",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(","!",["T_ISSET","isset",192],"(",["T_VARIABLE","$namespace",192],"[",["T_LNUMBER","0",192],"]",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$cleared",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$host",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","flushDb",193],"(",")",["T_WHITESPACE"," ",193],["T_BOOLEAN_AND","&&",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$cleared",193],";",["T_WHITESPACE","\n                ",193],["T_CONTINUE","continue",194],";",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE","\n\n            ",195],["T_VARIABLE","$info",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$host",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","info",197],"(",["T_CONSTANT_ENCAPSED_STRING","'Server'",197],")",";",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$info",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_ISSET","isset",198],"(",["T_VARIABLE","$info",198],"[",["T_CONSTANT_ENCAPSED_STRING","'Server'",198],"]",")",["T_WHITESPACE"," ",198],"?",["T_WHITESPACE"," ",198],["T_VARIABLE","$info",198],"[",["T_CONSTANT_ENCAPSED_STRING","'Server'",198],"]",["T_WHITESPACE"," ",198],":",["T_WHITESPACE"," ",198],["T_VARIABLE","$info",198],";",["T_WHITESPACE","\n\n            ",198],["T_IF","if",200],["T_WHITESPACE"," ",200],"(","!",["T_STRING","version_compare",200],"(",["T_VARIABLE","$info",200],"[",["T_CONSTANT_ENCAPSED_STRING","'redis_version'",200],"]",",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'2.8'",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'>='",200],")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                ",200],["T_COMMENT","\/\/ As documented in Redis documentation (http:\/\/redis.io\/commands\/keys) using KEYS\n",201],["T_WHITESPACE","                ",202],["T_COMMENT","\/\/ can hang your server when it is executed against large databases (millions of items).\n",202],["T_WHITESPACE","                ",203],["T_COMMENT","\/\/ Whenever you hit this scale, you should really consider upgrading to Redis 2.8 or above.\n",203],["T_WHITESPACE","                ",204],["T_VARIABLE","$cleared",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$host",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","eval",204],"(",["T_CONSTANT_ENCAPSED_STRING","\"local keys=redis.call('KEYS',ARGV[1]..'*') for i=1,#keys,5000 do redis.call('DEL',unpack(keys,i,math.min(i+4999,#keys))) end return 1\"",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$evalArgs",204],"[",["T_LNUMBER","0",204],"]",",",["T_WHITESPACE"," ",204],["T_VARIABLE","$evalArgs",204],"[",["T_LNUMBER","1",204],"]",")",["T_WHITESPACE"," ",204],["T_BOOLEAN_AND","&&",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$cleared",204],";",["T_WHITESPACE","\n                ",204],["T_CONTINUE","continue",205],";",["T_WHITESPACE","\n            ",205],"}",["T_WHITESPACE","\n\n            ",206],["T_VARIABLE","$cursor",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","null",208],";",["T_WHITESPACE","\n            ",208],["T_DO","do",209],["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$keys",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$host",210],["T_WHITESPACE"," ",210],["T_INSTANCEOF","instanceof",210],["T_WHITESPACE"," ",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Predis",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Client",210],["T_WHITESPACE"," ",210],"?",["T_WHITESPACE"," ",210],["T_VARIABLE","$host",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","scan",210],"(",["T_VARIABLE","$cursor",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'MATCH'",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$namespace",210],".",["T_CONSTANT_ENCAPSED_STRING","'*'",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'COUNT'",210],",",["T_WHITESPACE"," ",210],["T_LNUMBER","1000",210],")",["T_WHITESPACE"," ",210],":",["T_WHITESPACE"," ",210],["T_VARIABLE","$host",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","scan",210],"(",["T_VARIABLE","$cursor",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$namespace",210],".",["T_CONSTANT_ENCAPSED_STRING","'*'",210],",",["T_WHITESPACE"," ",210],["T_LNUMBER","1000",210],")",";",["T_WHITESPACE","\n                ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_ISSET","isset",211],"(",["T_VARIABLE","$keys",211],"[",["T_LNUMBER","1",211],"]",")",["T_WHITESPACE"," ",211],["T_BOOLEAN_AND","&&",211],["T_WHITESPACE"," ",211],["T_STRING","is_array",211],"(",["T_VARIABLE","$keys",211],"[",["T_LNUMBER","1",211],"]",")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                    ",211],["T_VARIABLE","$cursor",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$keys",212],"[",["T_LNUMBER","0",212],"]",";",["T_WHITESPACE","\n                    ",212],["T_VARIABLE","$keys",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$keys",213],"[",["T_LNUMBER","1",213],"]",";",["T_WHITESPACE","\n                ",213],"}",["T_WHITESPACE","\n                ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$keys",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                    ",215],["T_VARIABLE","$host",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","del",216],"(",["T_VARIABLE","$keys",216],")",";",["T_WHITESPACE","\n                ",216],"}",["T_WHITESPACE","\n            ",217],"}",["T_WHITESPACE"," ",218],["T_WHILE","while",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$cursor",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_INT_CAST","(int)",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$cursor",218],")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n\n        ",219],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$cleared",221],";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",224],["T_WHITESPACE","\n    ",226],["T_PROTECTED","protected",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","doDelete",227],"(",["T_ARRAY","array",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$ids",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_IF","if",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$ids",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","redis",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","del",230],"(",["T_VARIABLE","$ids",230],")",";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE","\n\n        ",231],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_STRING","true",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",236],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","doSave",239],"(",["T_ARRAY","array",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$values",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$lifetime",239],")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$serialized",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],"(",")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$failed",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",";",["T_WHITESPACE","\n\n        ",242],["T_FOREACH","foreach",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$values",244],["T_WHITESPACE"," ",244],["T_AS","as",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$id",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$value",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_TRY","try",245],["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$serialized",246],"[",["T_VARIABLE","$id",246],"]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","serialize",246],"(",["T_VARIABLE","$value",246],")",";",["T_WHITESPACE","\n            ",246],"}",["T_WHITESPACE"," ",247],["T_CATCH","catch",247],["T_WHITESPACE"," ",247],"(",["T_NS_SEPARATOR","\\",247],["T_STRING","Exception",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$e",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$failed",248],"[","]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$id",248],";",["T_WHITESPACE","\n            ",248],"}",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_IF","if",252],["T_WHITESPACE"," ",252],"(","!",["T_VARIABLE","$serialized",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$failed",253],";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n\n        ",254],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_LNUMBER","0",256],["T_WHITESPACE"," ",256],["T_IS_GREATER_OR_EQUAL",">=",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$lifetime",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","redis",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","mSet",257],"(",["T_VARIABLE","$serialized",257],")",";",["T_WHITESPACE","\n\n            ",257],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$failed",259],";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n\n        ",260],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","pipeline",262],"(",["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$pipe",262],")",["T_WHITESPACE"," ",262],["T_USE","use",262],["T_WHITESPACE"," ",262],"(","&",["T_VARIABLE","$serialized",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$lifetime",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_FOREACH","foreach",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$serialized",263],["T_WHITESPACE"," ",263],["T_AS","as",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$id",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$value",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                ",263],["T_VARIABLE","$pipe",264],"(",["T_CONSTANT_ENCAPSED_STRING","'setEx'",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$id",264],",",["T_WHITESPACE"," ",264],["T_ARRAY","array",264],"(",["T_VARIABLE","$lifetime",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$value",264],")",")",";",["T_WHITESPACE","\n            ",264],"}",["T_WHITESPACE","\n        ",265],"}",")",";",["T_WHITESPACE","\n\n        ",266],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$failed",268],";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_PRIVATE","private",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","execute",271],"(",["T_VARIABLE","$command",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$id",271],",",["T_WHITESPACE"," ",271],["T_ARRAY","array",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$args",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$redis",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","null",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_STRING","array_unshift",273],"(",["T_VARIABLE","$args",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$id",273],")",";",["T_WHITESPACE","\n        ",273],["T_STRING","call_user_func_array",274],"(",["T_ARRAY","array",274],"(",["T_VARIABLE","$redis",274],["T_WHITESPACE"," ",274],"?",":",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","redis",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$command",274],")",",",["T_WHITESPACE"," ",274],["T_VARIABLE","$args",274],")",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_PRIVATE","private",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","pipeline",277],"(",["T_NS_SEPARATOR","\\",277],["T_STRING","Closure",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$callback",277],")",["T_WHITESPACE","\n    ",277],"{",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$redis",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","redis",279],";",["T_WHITESPACE","\n\n        ",279],["T_TRY","try",281],["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$redis",282],["T_WHITESPACE"," ",282],["T_INSTANCEOF","instanceof",282],["T_WHITESPACE"," ",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Predis",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Client",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$redis",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","pipeline",283],"(",["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$pipe",283],")",["T_WHITESPACE"," ",283],["T_USE","use",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$callback",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                    ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","redis",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$pipe",284],";",["T_WHITESPACE","\n                    ",284],["T_VARIABLE","$callback",285],"(",["T_ARRAY","array",285],"(",["T_VARIABLE","$this",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'execute'",285],")",")",";",["T_WHITESPACE","\n                ",285],"}",")",";",["T_WHITESPACE","\n            ",286],"}",["T_WHITESPACE"," ",287],["T_ELSEIF","elseif",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$redis",287],["T_WHITESPACE"," ",287],["T_INSTANCEOF","instanceof",287],["T_WHITESPACE"," ",287],["T_NS_SEPARATOR","\\",287],["T_STRING","RedisArray",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                ",287],["T_VARIABLE","$connections",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",")",";",["T_WHITESPACE","\n                ",288],["T_VARIABLE","$callback",289],"(",["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$command",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$id",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$args",289],")",["T_WHITESPACE"," ",289],["T_USE","use",289],["T_WHITESPACE"," ",289],"(","&",["T_VARIABLE","$connections",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n                    ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(","!",["T_ISSET","isset",290],"(",["T_VARIABLE","$connections",290],"[",["T_VARIABLE","$h",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","redis",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_target",290],"(",["T_VARIABLE","$id",290],")","]",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                        ",290],["T_VARIABLE","$connections",291],"[",["T_VARIABLE","$h",291],"]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","redis",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_instance",291],"(",["T_VARIABLE","$h",291],")",";",["T_WHITESPACE","\n                        ",291],["T_VARIABLE","$connections",292],"[",["T_VARIABLE","$h",292],"]",["T_OBJECT_OPERATOR","->",292],["T_STRING","multi",292],"(",["T_NS_SEPARATOR","\\",292],["T_STRING","Redis",292],["T_DOUBLE_COLON","::",292],["T_STRING","PIPELINE",292],")",";",["T_WHITESPACE","\n                    ",292],"}",["T_WHITESPACE","\n                    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","execute",294],"(",["T_VARIABLE","$command",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$id",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$args",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$connections",294],"[",["T_VARIABLE","$h",294],"]",")",";",["T_WHITESPACE","\n                ",294],"}",")",";",["T_WHITESPACE","\n                ",295],["T_FOREACH","foreach",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$connections",296],["T_WHITESPACE"," ",296],["T_AS","as",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$c",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                    ",296],["T_VARIABLE","$c",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","exec",297],"(",")",";",["T_WHITESPACE","\n                ",297],"}",["T_WHITESPACE","\n            ",298],"}",["T_WHITESPACE"," ",299],["T_ELSE","else",299],["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                ",299],["T_VARIABLE","$pipe",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$redis",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","multi",300],"(",["T_NS_SEPARATOR","\\",300],["T_STRING","Redis",300],["T_DOUBLE_COLON","::",300],["T_STRING","PIPELINE",300],")",";",["T_WHITESPACE","\n                ",300],["T_TRY","try",301],["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                    ",301],["T_VARIABLE","$callback",302],"(",["T_ARRAY","array",302],"(",["T_VARIABLE","$this",302],",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'execute'",302],")",")",";",["T_WHITESPACE","\n                ",302],"}",["T_WHITESPACE"," ",303],["T_FINALLY","finally",303],["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n                    ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$pipe",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                        ",304],["T_VARIABLE","$redis",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","exec",305],"(",")",";",["T_WHITESPACE","\n                    ",305],"}",["T_WHITESPACE","\n                ",306],"}",["T_WHITESPACE","\n            ",307],"}",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE"," ",309],["T_FINALLY","finally",309],["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n            ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","redis",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$redis",310],";",["T_WHITESPACE","\n        ",310],"}",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n",312],"}",["T_WHITESPACE","\n",313]]