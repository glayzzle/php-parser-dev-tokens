[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Validator",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Constraints",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","File",14],["T_NS_SEPARATOR","\\",14],["T_STRING","File",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","FileObject",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","File",15],["T_NS_SEPARATOR","\\",15],["T_STRING","UploadedFile",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Validator",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Constraint",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Validator",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ConstraintValidator",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Validator",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_NS_SEPARATOR","\\",18],["T_STRING","UnexpectedTypeException",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",20],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","FileValidator",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","ConstraintValidator",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","KB_BYTES",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_LNUMBER","1000",25],";",["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","MB_BYTES",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_LNUMBER","1000000",26],";",["T_WHITESPACE","\n    ",26],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","KIB_BYTES",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_LNUMBER","1024",27],";",["T_WHITESPACE","\n    ",27],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","MIB_BYTES",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_LNUMBER","1048576",28],";",["T_WHITESPACE","\n\n    ",28],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_STATIC","static",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$suffices",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",["T_WHITESPACE","\n        ",30],["T_LNUMBER","1",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'bytes'",31],",",["T_WHITESPACE","\n        ",31],["T_STRING","self",32],["T_DOUBLE_COLON","::",32],["T_STRING","KB_BYTES",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'kB'",32],",",["T_WHITESPACE","\n        ",32],["T_STRING","self",33],["T_DOUBLE_COLON","::",33],["T_STRING","MB_BYTES",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'MB'",33],",",["T_WHITESPACE","\n        ",33],["T_STRING","self",34],["T_DOUBLE_COLON","::",34],["T_STRING","KIB_BYTES",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'KiB'",34],",",["T_WHITESPACE","\n        ",34],["T_STRING","self",35],["T_DOUBLE_COLON","::",35],["T_STRING","MIB_BYTES",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'MiB'",35],",",["T_WHITESPACE","\n    ",35],")",";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","validate",41],"(",["T_VARIABLE","$value",41],",",["T_WHITESPACE"," ",41],["T_STRING","Constraint",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$constraint",41],")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_IF","if",43],["T_WHITESPACE"," ",43],"(","!",["T_VARIABLE","$constraint",43],["T_WHITESPACE"," ",43],["T_INSTANCEOF","instanceof",43],["T_WHITESPACE"," ",43],["T_STRING","File",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_THROW","throw",44],["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STRING","UnexpectedTypeException",44],"(",["T_VARIABLE","$constraint",44],",",["T_WHITESPACE"," ",44],["T_NS_C","__NAMESPACE__",44],".",["T_CONSTANT_ENCAPSED_STRING","'\\File'",44],")",";",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE","\n\n        ",45],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_STRING","null",47],["T_WHITESPACE"," ",47],["T_IS_IDENTICAL","===",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$value",47],["T_WHITESPACE"," ",47],["T_BOOLEAN_OR","||",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","''",47],["T_WHITESPACE"," ",47],["T_IS_IDENTICAL","===",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$value",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_RETURN","return",48],";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n\n        ",49],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$value",51],["T_WHITESPACE"," ",51],["T_INSTANCEOF","instanceof",51],["T_WHITESPACE"," ",51],["T_STRING","UploadedFile",51],["T_WHITESPACE"," ",51],["T_BOOLEAN_AND","&&",51],["T_WHITESPACE"," ",51],"!",["T_VARIABLE","$value",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","isValid",51],"(",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_SWITCH","switch",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$value",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getError",52],"(",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_CASE","case",53],["T_WHITESPACE"," ",53],["T_STRING","UPLOAD_ERR_INI_SIZE",53],":",["T_WHITESPACE","\n                    ",53],["T_VARIABLE","$iniLimitSize",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","UploadedFile",54],["T_DOUBLE_COLON","::",54],["T_STRING","getMaxFilesize",54],"(",")",";",["T_WHITESPACE","\n                    ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$constraint",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","maxSize",55],["T_WHITESPACE"," ",55],["T_BOOLEAN_AND","&&",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$constraint",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","maxSize",55],["T_WHITESPACE"," ",55],"<",["T_WHITESPACE"," ",55],["T_VARIABLE","$iniLimitSize",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                        ",55],["T_VARIABLE","$limitInBytes",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$constraint",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","maxSize",56],";",["T_WHITESPACE","\n                        ",56],["T_VARIABLE","$binaryFormat",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$constraint",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","binaryFormat",57],";",["T_WHITESPACE","\n                    ",57],"}",["T_WHITESPACE"," ",58],["T_ELSE","else",58],["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                        ",58],["T_VARIABLE","$limitInBytes",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$iniLimitSize",59],";",["T_WHITESPACE","\n                        ",59],["T_VARIABLE","$binaryFormat",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","true",60],";",["T_WHITESPACE","\n                    ",60],"}",["T_WHITESPACE","\n\n                    ",61],["T_LIST","list",63],"(",["T_VARIABLE","$sizeAsString",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$limitAsString",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$suffix",63],")",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","factorizeSizes",63],"(",["T_LNUMBER","0",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$limitInBytes",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$binaryFormat",63],")",";",["T_WHITESPACE","\n                    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","context",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","buildViolation",64],"(",["T_VARIABLE","$constraint",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","uploadIniSizeErrorMessage",64],")",["T_WHITESPACE","\n                        ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","setParameter",65],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ limit }}'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$limitAsString",65],")",["T_WHITESPACE","\n                        ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","setParameter",66],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ suffix }}'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$suffix",66],")",["T_WHITESPACE","\n                        ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","setCode",67],"(",["T_STRING","UPLOAD_ERR_INI_SIZE",67],")",["T_WHITESPACE","\n                        ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","addViolation",68],"(",")",";",["T_WHITESPACE","\n\n                    ",68],["T_RETURN","return",70],";",["T_WHITESPACE","\n                ",70],["T_CASE","case",71],["T_WHITESPACE"," ",71],["T_STRING","UPLOAD_ERR_FORM_SIZE",71],":",["T_WHITESPACE","\n                    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","context",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","buildViolation",72],"(",["T_VARIABLE","$constraint",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","uploadFormSizeErrorMessage",72],")",["T_WHITESPACE","\n                        ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","setCode",73],"(",["T_STRING","UPLOAD_ERR_FORM_SIZE",73],")",["T_WHITESPACE","\n                        ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","addViolation",74],"(",")",";",["T_WHITESPACE","\n\n                    ",74],["T_RETURN","return",76],";",["T_WHITESPACE","\n                ",76],["T_CASE","case",77],["T_WHITESPACE"," ",77],["T_STRING","UPLOAD_ERR_PARTIAL",77],":",["T_WHITESPACE","\n                    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","context",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","buildViolation",78],"(",["T_VARIABLE","$constraint",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","uploadPartialErrorMessage",78],")",["T_WHITESPACE","\n                        ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","setCode",79],"(",["T_STRING","UPLOAD_ERR_PARTIAL",79],")",["T_WHITESPACE","\n                        ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","addViolation",80],"(",")",";",["T_WHITESPACE","\n\n                    ",80],["T_RETURN","return",82],";",["T_WHITESPACE","\n                ",82],["T_CASE","case",83],["T_WHITESPACE"," ",83],["T_STRING","UPLOAD_ERR_NO_FILE",83],":",["T_WHITESPACE","\n                    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","context",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","buildViolation",84],"(",["T_VARIABLE","$constraint",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","uploadNoFileErrorMessage",84],")",["T_WHITESPACE","\n                        ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","setCode",85],"(",["T_STRING","UPLOAD_ERR_NO_FILE",85],")",["T_WHITESPACE","\n                        ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","addViolation",86],"(",")",";",["T_WHITESPACE","\n\n                    ",86],["T_RETURN","return",88],";",["T_WHITESPACE","\n                ",88],["T_CASE","case",89],["T_WHITESPACE"," ",89],["T_STRING","UPLOAD_ERR_NO_TMP_DIR",89],":",["T_WHITESPACE","\n                    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","context",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","buildViolation",90],"(",["T_VARIABLE","$constraint",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","uploadNoTmpDirErrorMessage",90],")",["T_WHITESPACE","\n                        ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","setCode",91],"(",["T_STRING","UPLOAD_ERR_NO_TMP_DIR",91],")",["T_WHITESPACE","\n                        ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","addViolation",92],"(",")",";",["T_WHITESPACE","\n\n                    ",92],["T_RETURN","return",94],";",["T_WHITESPACE","\n                ",94],["T_CASE","case",95],["T_WHITESPACE"," ",95],["T_STRING","UPLOAD_ERR_CANT_WRITE",95],":",["T_WHITESPACE","\n                    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","context",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","buildViolation",96],"(",["T_VARIABLE","$constraint",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","uploadCantWriteErrorMessage",96],")",["T_WHITESPACE","\n                        ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","setCode",97],"(",["T_STRING","UPLOAD_ERR_CANT_WRITE",97],")",["T_WHITESPACE","\n                        ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","addViolation",98],"(",")",";",["T_WHITESPACE","\n\n                    ",98],["T_RETURN","return",100],";",["T_WHITESPACE","\n                ",100],["T_CASE","case",101],["T_WHITESPACE"," ",101],["T_STRING","UPLOAD_ERR_EXTENSION",101],":",["T_WHITESPACE","\n                    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","context",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","buildViolation",102],"(",["T_VARIABLE","$constraint",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","uploadExtensionErrorMessage",102],")",["T_WHITESPACE","\n                        ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","setCode",103],"(",["T_STRING","UPLOAD_ERR_EXTENSION",103],")",["T_WHITESPACE","\n                        ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","addViolation",104],"(",")",";",["T_WHITESPACE","\n\n                    ",104],["T_RETURN","return",106],";",["T_WHITESPACE","\n                ",106],["T_DEFAULT","default",107],":",["T_WHITESPACE","\n                    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","context",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","buildViolation",108],"(",["T_VARIABLE","$constraint",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","uploadErrorMessage",108],")",["T_WHITESPACE","\n                        ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","setCode",109],"(",["T_VARIABLE","$value",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getError",109],"(",")",")",["T_WHITESPACE","\n                        ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","addViolation",110],"(",")",";",["T_WHITESPACE","\n\n                    ",110],["T_RETURN","return",112],";",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_STRING","is_scalar",116],"(",["T_VARIABLE","$value",116],")",["T_WHITESPACE"," ",116],["T_BOOLEAN_AND","&&",116],["T_WHITESPACE"," ",116],"!",["T_VARIABLE","$value",116],["T_WHITESPACE"," ",116],["T_INSTANCEOF","instanceof",116],["T_WHITESPACE"," ",116],["T_STRING","FileObject",116],["T_WHITESPACE"," ",116],["T_BOOLEAN_AND","&&",116],["T_WHITESPACE"," ",116],"!","(",["T_STRING","is_object",116],"(",["T_VARIABLE","$value",116],")",["T_WHITESPACE"," ",116],["T_BOOLEAN_AND","&&",116],["T_WHITESPACE"," ",116],["T_STRING","method_exists",116],"(",["T_VARIABLE","$value",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'__toString'",116],")",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_THROW","throw",117],["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","UnexpectedTypeException",117],"(",["T_VARIABLE","$value",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'string'",117],")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$path",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$value",120],["T_WHITESPACE"," ",120],["T_INSTANCEOF","instanceof",120],["T_WHITESPACE"," ",120],["T_STRING","FileObject",120],["T_WHITESPACE"," ",120],"?",["T_WHITESPACE"," ",120],["T_VARIABLE","$value",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getPathname",120],"(",")",["T_WHITESPACE"," ",120],":",["T_WHITESPACE"," ",120],["T_STRING_CAST","(string)",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$value",120],";",["T_WHITESPACE","\n\n        ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_STRING","is_file",122],"(",["T_VARIABLE","$path",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","context",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","buildViolation",123],"(",["T_VARIABLE","$constraint",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","notFoundMessage",123],")",["T_WHITESPACE","\n                ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","setParameter",124],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ file }}'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","formatValue",124],"(",["T_VARIABLE","$path",124],")",")",["T_WHITESPACE","\n                ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","setCode",125],"(",["T_STRING","File",125],["T_DOUBLE_COLON","::",125],["T_STRING","NOT_FOUND_ERROR",125],")",["T_WHITESPACE","\n                ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","addViolation",126],"(",")",";",["T_WHITESPACE","\n\n            ",126],["T_RETURN","return",128],";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_STRING","is_readable",131],"(",["T_VARIABLE","$path",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","context",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","buildViolation",132],"(",["T_VARIABLE","$constraint",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","notReadableMessage",132],")",["T_WHITESPACE","\n                ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","setParameter",133],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ file }}'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","formatValue",133],"(",["T_VARIABLE","$path",133],")",")",["T_WHITESPACE","\n                ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","setCode",134],"(",["T_STRING","File",134],["T_DOUBLE_COLON","::",134],["T_STRING","NOT_READABLE_ERROR",134],")",["T_WHITESPACE","\n                ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","addViolation",135],"(",")",";",["T_WHITESPACE","\n\n            ",135],["T_RETURN","return",137],";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n\n        ",138],["T_VARIABLE","$sizeInBytes",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","filesize",140],"(",["T_VARIABLE","$path",140],")",";",["T_WHITESPACE","\n\n        ",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_LNUMBER","0",142],["T_WHITESPACE"," ",142],["T_IS_IDENTICAL","===",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$sizeInBytes",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","context",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","buildViolation",143],"(",["T_VARIABLE","$constraint",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","disallowEmptyMessage",143],")",["T_WHITESPACE","\n                ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","setParameter",144],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ file }}'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","formatValue",144],"(",["T_VARIABLE","$path",144],")",")",["T_WHITESPACE","\n                ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","setCode",145],"(",["T_STRING","File",145],["T_DOUBLE_COLON","::",145],["T_STRING","EMPTY_ERROR",145],")",["T_WHITESPACE","\n                ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","addViolation",146],"(",")",";",["T_WHITESPACE","\n\n            ",146],["T_RETURN","return",148],";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n\n        ",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$constraint",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","maxSize",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$limitInBytes",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$constraint",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","maxSize",152],";",["T_WHITESPACE","\n\n            ",152],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$sizeInBytes",154],["T_WHITESPACE"," ",154],">",["T_WHITESPACE"," ",154],["T_VARIABLE","$limitInBytes",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                ",154],["T_LIST","list",155],"(",["T_VARIABLE","$sizeAsString",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$limitAsString",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$suffix",155],")",["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","factorizeSizes",155],"(",["T_VARIABLE","$sizeInBytes",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$limitInBytes",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$constraint",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","binaryFormat",155],")",";",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","context",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","buildViolation",156],"(",["T_VARIABLE","$constraint",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","maxSizeMessage",156],")",["T_WHITESPACE","\n                    ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","setParameter",157],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ file }}'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","formatValue",157],"(",["T_VARIABLE","$path",157],")",")",["T_WHITESPACE","\n                    ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","setParameter",158],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ size }}'",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$sizeAsString",158],")",["T_WHITESPACE","\n                    ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","setParameter",159],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ limit }}'",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$limitAsString",159],")",["T_WHITESPACE","\n                    ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","setParameter",160],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ suffix }}'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$suffix",160],")",["T_WHITESPACE","\n                    ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","setCode",161],"(",["T_STRING","File",161],["T_DOUBLE_COLON","::",161],["T_STRING","TOO_LARGE_ERROR",161],")",["T_WHITESPACE","\n                    ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","addViolation",162],"(",")",";",["T_WHITESPACE","\n\n                ",162],["T_RETURN","return",164],";",["T_WHITESPACE","\n            ",164],"}",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n\n        ",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$constraint",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","mimeTypes",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","!",["T_VARIABLE","$value",169],["T_WHITESPACE"," ",169],["T_INSTANCEOF","instanceof",169],["T_WHITESPACE"," ",169],["T_STRING","FileObject",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$value",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_NEW","new",170],["T_WHITESPACE"," ",170],["T_STRING","FileObject",170],"(",["T_VARIABLE","$value",170],")",";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n\n            ",171],["T_VARIABLE","$mimeTypes",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_ARRAY_CAST","(array)",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$constraint",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","mimeTypes",173],";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$mime",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$value",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getMimeType",174],"(",")",";",["T_WHITESPACE","\n\n            ",174],["T_FOREACH","foreach",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$mimeTypes",176],["T_WHITESPACE"," ",176],["T_AS","as",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$mimeType",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$mimeType",177],["T_WHITESPACE"," ",177],["T_IS_IDENTICAL","===",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$mime",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                    ",177],["T_RETURN","return",178],";",["T_WHITESPACE","\n                ",178],"}",["T_WHITESPACE","\n\n                ",179],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$discrete",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","strstr",181],"(",["T_VARIABLE","$mimeType",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'\/*'",181],",",["T_WHITESPACE"," ",181],["T_STRING","true",181],")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                    ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_STRING","strstr",182],"(",["T_VARIABLE","$mime",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'\/'",182],",",["T_WHITESPACE"," ",182],["T_STRING","true",182],")",["T_WHITESPACE"," ",182],["T_IS_IDENTICAL","===",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$discrete",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                        ",182],["T_RETURN","return",183],";",["T_WHITESPACE","\n                    ",183],"}",["T_WHITESPACE","\n                ",184],"}",["T_WHITESPACE","\n            ",185],"}",["T_WHITESPACE","\n\n            ",186],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","context",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","buildViolation",188],"(",["T_VARIABLE","$constraint",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","mimeTypesMessage",188],")",["T_WHITESPACE","\n                ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","setParameter",189],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ file }}'",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","formatValue",189],"(",["T_VARIABLE","$path",189],")",")",["T_WHITESPACE","\n                ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","setParameter",190],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ type }}'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","formatValue",190],"(",["T_VARIABLE","$mime",190],")",")",["T_WHITESPACE","\n                ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","setParameter",191],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ types }}'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","formatValues",191],"(",["T_VARIABLE","$mimeTypes",191],")",")",["T_WHITESPACE","\n                ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","setCode",192],"(",["T_STRING","File",192],["T_DOUBLE_COLON","::",192],["T_STRING","INVALID_MIME_TYPE_ERROR",192],")",["T_WHITESPACE","\n                ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","addViolation",193],"(",")",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_PRIVATE","private",197],["T_WHITESPACE"," ",197],["T_STATIC","static",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","moreDecimalsThan",197],"(",["T_VARIABLE","$double",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$numberOfDecimals",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_STRING","strlen",199],"(",["T_STRING_CAST","(string)",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$double",199],")",["T_WHITESPACE"," ",199],">",["T_WHITESPACE"," ",199],["T_STRING","strlen",199],"(",["T_STRING","round",199],"(",["T_VARIABLE","$double",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$numberOfDecimals",199],")",")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Convert the limit to the smallest possible number\n     * (i.e. try \"MB\", then \"kB\", then \"bytes\").\n     *\/",202],["T_WHITESPACE","\n    ",205],["T_PRIVATE","private",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","factorizeSizes",206],"(",["T_VARIABLE","$size",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$limit",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$binaryFormat",206],")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$binaryFormat",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$coef",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","self",209],["T_DOUBLE_COLON","::",209],["T_STRING","MIB_BYTES",209],";",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$coefFactor",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","self",210],["T_DOUBLE_COLON","::",210],["T_STRING","KIB_BYTES",210],";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE"," ",211],["T_ELSE","else",211],["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$coef",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","self",212],["T_DOUBLE_COLON","::",212],["T_STRING","MB_BYTES",212],";",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$coefFactor",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","self",213],["T_DOUBLE_COLON","::",213],["T_STRING","KB_BYTES",213],";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$limitAsString",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING_CAST","(string)",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$limit",216],["T_WHITESPACE"," ",216],"\/",["T_WHITESPACE"," ",216],["T_VARIABLE","$coef",216],")",";",["T_WHITESPACE","\n\n        ",216],["T_COMMENT","\/\/ Restrict the limit to 2 decimals (without rounding! we\n",218],["T_WHITESPACE","        ",219],["T_COMMENT","\/\/ need the precise value)\n",219],["T_WHITESPACE","        ",220],["T_WHILE","while",220],["T_WHITESPACE"," ",220],"(",["T_STRING","self",220],["T_DOUBLE_COLON","::",220],["T_STRING","moreDecimalsThan",220],"(",["T_VARIABLE","$limitAsString",220],",",["T_WHITESPACE"," ",220],["T_LNUMBER","2",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$coef",221],["T_WHITESPACE"," ",221],["T_DIV_EQUAL","\/=",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$coefFactor",221],";",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$limitAsString",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING_CAST","(string)",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$limit",222],["T_WHITESPACE"," ",222],"\/",["T_WHITESPACE"," ",222],["T_VARIABLE","$coef",222],")",";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n\n        ",223],["T_COMMENT","\/\/ Convert size to the same measure, but round to 2 decimals\n",225],["T_WHITESPACE","        ",226],["T_VARIABLE","$sizeAsString",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING_CAST","(string)",226],["T_WHITESPACE"," ",226],["T_STRING","round",226],"(",["T_VARIABLE","$size",226],["T_WHITESPACE"," ",226],"\/",["T_WHITESPACE"," ",226],["T_VARIABLE","$coef",226],",",["T_WHITESPACE"," ",226],["T_LNUMBER","2",226],")",";",["T_WHITESPACE","\n\n        ",226],["T_COMMENT","\/\/ If the size and limit produce the same string output\n",228],["T_WHITESPACE","        ",229],["T_COMMENT","\/\/ (due to rounding), reduce the coefficient\n",229],["T_WHITESPACE","        ",230],["T_WHILE","while",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$sizeAsString",230],["T_WHITESPACE"," ",230],["T_IS_IDENTICAL","===",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$limitAsString",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$coef",231],["T_WHITESPACE"," ",231],["T_DIV_EQUAL","\/=",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$coefFactor",231],";",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$limitAsString",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING_CAST","(string)",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$limit",232],["T_WHITESPACE"," ",232],"\/",["T_WHITESPACE"," ",232],["T_VARIABLE","$coef",232],")",";",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$sizeAsString",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING_CAST","(string)",233],["T_WHITESPACE"," ",233],["T_STRING","round",233],"(",["T_VARIABLE","$size",233],["T_WHITESPACE"," ",233],"\/",["T_WHITESPACE"," ",233],["T_VARIABLE","$coef",233],",",["T_WHITESPACE"," ",233],["T_LNUMBER","2",233],")",";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_ARRAY","array",236],"(",["T_VARIABLE","$sizeAsString",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$limitAsString",236],",",["T_WHITESPACE"," ",236],["T_STRING","self",236],["T_DOUBLE_COLON","::",236],["T_VARIABLE","$suffices",236],"[",["T_VARIABLE","$coef",236],"]",")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n",237],"}",["T_WHITESPACE","\n",238]]