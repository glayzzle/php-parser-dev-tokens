[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Validator",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Constraints",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Validator",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Constraint",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Validator",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ConstraintValidator",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Validator",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","UnexpectedTypeException",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * Validates that a card number belongs to a specified scheme.\n *\n * @author Tim Nagel <t.nagel@infinite.net.au>\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\n * @see http:\/\/en.wikipedia.org\/wiki\/Bank_card_number\n * @see http:\/\/www.regular-expressions.info\/creditcard.html\n * @see http:\/\/www.barclaycard.co.uk\/business\/files\/Ranges_and_Rules_September_2014.pdf\n *\/",18],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","CardSchemeValidator",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","ConstraintValidator",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$schemes",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",["T_WHITESPACE","\n        ",30],["T_COMMENT","\/\/ American Express card numbers start with 34 or 37 and have 15 digits.\n",31],["T_WHITESPACE","        ",32],["T_CONSTANT_ENCAPSED_STRING","'AMEX'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_WHITESPACE","\n            ",32],["T_CONSTANT_ENCAPSED_STRING","'\/^3[47][0-9]{13}$\/'",33],",",["T_WHITESPACE","\n        ",33],")",",",["T_WHITESPACE","\n        ",34],["T_COMMENT","\/\/ China UnionPay cards start with 62 and have between 16 and 19 digits.\n",35],["T_WHITESPACE","        ",36],["T_COMMENT","\/\/ Please note that these cards do not follow Luhn Algorithm as a checksum.\n",36],["T_WHITESPACE","        ",37],["T_CONSTANT_ENCAPSED_STRING","'CHINA_UNIONPAY'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",["T_WHITESPACE","\n            ",37],["T_CONSTANT_ENCAPSED_STRING","'\/^62[0-9]{14,17}$\/'",38],",",["T_WHITESPACE","\n        ",38],")",",",["T_WHITESPACE","\n        ",39],["T_COMMENT","\/\/ Diners Club card numbers begin with 300 through 305, 36 or 38. All have 14 digits.\n",40],["T_WHITESPACE","        ",41],["T_COMMENT","\/\/ There are Diners Club cards that begin with 5 and have 16 digits.\n",41],["T_WHITESPACE","        ",42],["T_COMMENT","\/\/ These are a joint venture between Diners Club and MasterCard, and should be processed like a MasterCard.\n",42],["T_WHITESPACE","        ",43],["T_CONSTANT_ENCAPSED_STRING","'DINERS'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","'\/^3(?:0[0-5]|[68][0-9])[0-9]{11}$\/'",44],",",["T_WHITESPACE","\n        ",44],")",",",["T_WHITESPACE","\n        ",45],["T_COMMENT","\/\/ Discover card numbers begin with 6011, 622126 through 622925, 644 through 649 or 65.\n",46],["T_WHITESPACE","        ",47],["T_COMMENT","\/\/ All have 16 digits.\n",47],["T_WHITESPACE","        ",48],["T_CONSTANT_ENCAPSED_STRING","'DISCOVER'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'\/^6011[0-9]{12}$\/'",49],",",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'\/^64[4-9][0-9]{13}$\/'",50],",",["T_WHITESPACE","\n            ",50],["T_CONSTANT_ENCAPSED_STRING","'\/^65[0-9]{14}$\/'",51],",",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'\/^622(12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|91[0-9]|92[0-5])[0-9]{10}$\/'",52],",",["T_WHITESPACE","\n        ",52],")",",",["T_WHITESPACE","\n        ",53],["T_COMMENT","\/\/ InstaPayment cards begin with 637 through 639 and have 16 digits.\n",54],["T_WHITESPACE","        ",55],["T_CONSTANT_ENCAPSED_STRING","'INSTAPAYMENT'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'\/^63[7-9][0-9]{13}$\/'",56],",",["T_WHITESPACE","\n        ",56],")",",",["T_WHITESPACE","\n        ",57],["T_COMMENT","\/\/ JCB cards beginning with 2131 or 1800 have 15 digits.\n",58],["T_WHITESPACE","        ",59],["T_COMMENT","\/\/ JCB cards beginning with 35 have 16 digits.\n",59],["T_WHITESPACE","        ",60],["T_CONSTANT_ENCAPSED_STRING","'JCB'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'\/^(?:2131|1800|35[0-9]{3})[0-9]{11}$\/'",61],",",["T_WHITESPACE","\n        ",61],")",",",["T_WHITESPACE","\n        ",62],["T_COMMENT","\/\/ Laser cards begin with either 6304, 6706, 6709 or 6771 and have between 16 and 19 digits.\n",63],["T_WHITESPACE","        ",64],["T_CONSTANT_ENCAPSED_STRING","'LASER'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n            ",64],["T_CONSTANT_ENCAPSED_STRING","'\/^(6304|670[69]|6771)[0-9]{12,15}$\/'",65],",",["T_WHITESPACE","\n        ",65],")",",",["T_WHITESPACE","\n        ",66],["T_COMMENT","\/\/ Maestro international cards begin with 675900..675999 and have between 12 and 19 digits.\n",67],["T_WHITESPACE","        ",68],["T_COMMENT","\/\/ Maestro UK cards begin with either 500000..509999 or 560000..699999 and have between 12 and 19 digits.\n",68],["T_WHITESPACE","        ",69],["T_CONSTANT_ENCAPSED_STRING","'MAESTRO'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'\/^(6759[0-9]{2})[0-9]{6,13}$\/'",70],",",["T_WHITESPACE","\n            ",70],["T_CONSTANT_ENCAPSED_STRING","'\/^(50[0-9]{4})[0-9]{6,13}$\/'",71],",",["T_WHITESPACE","\n            ",71],["T_CONSTANT_ENCAPSED_STRING","'\/^5[6-9][0-9]{10,17}$\/'",72],",",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","'\/^6[0-9]{11,18}$\/'",73],",",["T_WHITESPACE","\n        ",73],")",",",["T_WHITESPACE","\n        ",74],["T_COMMENT","\/\/ All MasterCard numbers start with the numbers 51 through 55. All have 16 digits.\n",75],["T_WHITESPACE","        ",76],["T_COMMENT","\/\/ October 2016 MasterCard numbers can also start with 222100 through 272099.\n",76],["T_WHITESPACE","        ",77],["T_CONSTANT_ENCAPSED_STRING","'MASTERCARD'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'\/^5[1-5][0-9]{14}$\/'",78],",",["T_WHITESPACE","\n            ",78],["T_CONSTANT_ENCAPSED_STRING","'\/^2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12})$\/'",79],",",["T_WHITESPACE","\n        ",79],")",",",["T_WHITESPACE","\n        ",80],["T_COMMENT","\/\/ All Visa card numbers start with a 4. New cards have 16 digits. Old cards have 13.\n",81],["T_WHITESPACE","        ",82],["T_CONSTANT_ENCAPSED_STRING","'VISA'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'\/^4([0-9]{12}|[0-9]{15})$\/'",83],",",["T_WHITESPACE","\n        ",83],")",",",["T_WHITESPACE","\n    ",84],")",";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Validates a creditcard belongs to a specified scheme.\n     *\n     * @param mixed      $value\n     * @param Constraint $constraint\n     *\/",87],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","validate",93],"(",["T_VARIABLE","$value",93],",",["T_WHITESPACE"," ",93],["T_STRING","Constraint",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$constraint",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(","!",["T_VARIABLE","$constraint",95],["T_WHITESPACE"," ",95],["T_INSTANCEOF","instanceof",95],["T_WHITESPACE"," ",95],["T_STRING","CardScheme",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_THROW","throw",96],["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_STRING","UnexpectedTypeException",96],"(",["T_VARIABLE","$constraint",96],",",["T_WHITESPACE"," ",96],["T_NS_C","__NAMESPACE__",96],".",["T_CONSTANT_ENCAPSED_STRING","'\\CardScheme'",96],")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n\n        ",97],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","null",99],["T_WHITESPACE"," ",99],["T_IS_IDENTICAL","===",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$value",99],["T_WHITESPACE"," ",99],["T_BOOLEAN_OR","||",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","''",99],["T_WHITESPACE"," ",99],["T_IS_IDENTICAL","===",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$value",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_RETURN","return",100],";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n\n        ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(","!",["T_STRING","is_numeric",103],"(",["T_VARIABLE","$value",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","context",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","buildViolation",104],"(",["T_VARIABLE","$constraint",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","message",104],")",["T_WHITESPACE","\n                ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","setParameter",105],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ value }}'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","formatValue",105],"(",["T_VARIABLE","$value",105],")",")",["T_WHITESPACE","\n                ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","setCode",106],"(",["T_STRING","CardScheme",106],["T_DOUBLE_COLON","::",106],["T_STRING","NOT_NUMERIC_ERROR",106],")",["T_WHITESPACE","\n                ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","addViolation",107],"(",")",";",["T_WHITESPACE","\n\n            ",107],["T_RETURN","return",109],";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$schemes",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","array_flip",112],"(",["T_ARRAY_CAST","(array)",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$constraint",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","schemes",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$schemeRegexes",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","array_intersect_key",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","schemes",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$schemes",113],")",";",["T_WHITESPACE","\n\n        ",113],["T_FOREACH","foreach",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$schemeRegexes",115],["T_WHITESPACE"," ",115],["T_AS","as",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$regexes",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$regexes",116],["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$regex",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_STRING","preg_match",117],"(",["T_VARIABLE","$regex",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$value",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                    ",117],["T_RETURN","return",118],";",["T_WHITESPACE","\n                ",118],"}",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","context",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","buildViolation",123],"(",["T_VARIABLE","$constraint",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","message",123],")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","setParameter",124],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ value }}'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","formatValue",124],"(",["T_VARIABLE","$value",124],")",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","setCode",125],"(",["T_STRING","CardScheme",125],["T_DOUBLE_COLON","::",125],["T_STRING","INVALID_FORMAT_ERROR",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","addViolation",126],"(",")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n",127],"}",["T_WHITESPACE","\n",128]]