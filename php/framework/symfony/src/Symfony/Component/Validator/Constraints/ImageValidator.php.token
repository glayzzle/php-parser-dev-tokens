[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Validator",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Constraints",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Validator",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Constraint",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Validator",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ConstraintDefinitionException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Validator",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","RuntimeException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Validator",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","UnexpectedTypeException",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Validates whether a value is a valid image file and is valid\n * against minWidth, maxWidth, minHeight and maxHeight constraints.\n *\n * @author Benjamin Dulau <benjamin.dulau@gmail.com>\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",19],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","ImageValidator",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","FileValidator",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","validate",31],"(",["T_VARIABLE","$value",31],",",["T_WHITESPACE"," ",31],["T_STRING","Constraint",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$constraint",31],")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_IF","if",33],["T_WHITESPACE"," ",33],"(","!",["T_VARIABLE","$constraint",33],["T_WHITESPACE"," ",33],["T_INSTANCEOF","instanceof",33],["T_WHITESPACE"," ",33],["T_STRING","Image",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n            ",33],["T_THROW","throw",34],["T_WHITESPACE"," ",34],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_STRING","UnexpectedTypeException",34],"(",["T_VARIABLE","$constraint",34],",",["T_WHITESPACE"," ",34],["T_NS_C","__NAMESPACE__",34],".",["T_CONSTANT_ENCAPSED_STRING","'\\Image'",34],")",";",["T_WHITESPACE","\n        ",34],"}",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$violations",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","count",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","context",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getViolations",37],"(",")",")",";",["T_WHITESPACE","\n\n        ",37],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","validate",39],"(",["T_VARIABLE","$value",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$constraint",39],")",";",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$failed",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","count",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","context",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getViolations",41],"(",")",")",["T_WHITESPACE"," ",41],["T_IS_NOT_IDENTICAL","!==",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$violations",41],";",["T_WHITESPACE","\n\n        ",41],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$failed",43],["T_WHITESPACE"," ",43],["T_BOOLEAN_OR","||",43],["T_WHITESPACE"," ",43],["T_STRING","null",43],["T_WHITESPACE"," ",43],["T_IS_IDENTICAL","===",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$value",43],["T_WHITESPACE"," ",43],["T_BOOLEAN_OR","||",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","''",43],["T_WHITESPACE"," ",43],["T_IS_IDENTICAL","===",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$value",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_RETURN","return",44],";",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE","\n\n        ",45],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_STRING","null",47],["T_WHITESPACE"," ",47],["T_IS_IDENTICAL","===",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$constraint",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","minWidth",47],["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],["T_STRING","null",47],["T_WHITESPACE"," ",47],["T_IS_IDENTICAL","===",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$constraint",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","maxWidth",47],["T_WHITESPACE","\n            ",47],["T_BOOLEAN_AND","&&",48],["T_WHITESPACE"," ",48],["T_STRING","null",48],["T_WHITESPACE"," ",48],["T_IS_IDENTICAL","===",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$constraint",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","minHeight",48],["T_WHITESPACE"," ",48],["T_BOOLEAN_AND","&&",48],["T_WHITESPACE"," ",48],["T_STRING","null",48],["T_WHITESPACE"," ",48],["T_IS_IDENTICAL","===",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$constraint",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","maxHeight",48],["T_WHITESPACE","\n            ",48],["T_BOOLEAN_AND","&&",49],["T_WHITESPACE"," ",49],["T_STRING","null",49],["T_WHITESPACE"," ",49],["T_IS_IDENTICAL","===",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$constraint",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","minRatio",49],["T_WHITESPACE"," ",49],["T_BOOLEAN_AND","&&",49],["T_WHITESPACE"," ",49],["T_STRING","null",49],["T_WHITESPACE"," ",49],["T_IS_IDENTICAL","===",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$constraint",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","maxRatio",49],["T_WHITESPACE","\n            ",49],["T_BOOLEAN_AND","&&",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$constraint",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","allowSquare",50],["T_WHITESPACE"," ",50],["T_BOOLEAN_AND","&&",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$constraint",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","allowLandscape",50],["T_WHITESPACE"," ",50],["T_BOOLEAN_AND","&&",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$constraint",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","allowPortrait",50],["T_WHITESPACE","\n            ",50],["T_BOOLEAN_AND","&&",51],["T_WHITESPACE"," ",51],"!",["T_VARIABLE","$constraint",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","detectCorrupted",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_RETURN","return",52],";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$size",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"@",["T_STRING","getimagesize",55],"(",["T_VARIABLE","$value",55],")",";",["T_WHITESPACE","\n\n        ",55],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_EMPTY","empty",57],"(",["T_VARIABLE","$size",57],")",["T_WHITESPACE"," ",57],["T_BOOLEAN_OR","||",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$size",57],"[",["T_LNUMBER","0",57],"]",["T_WHITESPACE"," ",57],["T_IS_IDENTICAL","===",57],["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],")",["T_WHITESPACE"," ",57],["T_BOOLEAN_OR","||",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$size",57],"[",["T_LNUMBER","1",57],"]",["T_WHITESPACE"," ",57],["T_IS_IDENTICAL","===",57],["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","context",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","buildViolation",58],"(",["T_VARIABLE","$constraint",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","sizeNotDetectedMessage",58],")",["T_WHITESPACE","\n                ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","setCode",59],"(",["T_STRING","Image",59],["T_DOUBLE_COLON","::",59],["T_STRING","SIZE_NOT_DETECTED_ERROR",59],")",["T_WHITESPACE","\n                ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","addViolation",60],"(",")",";",["T_WHITESPACE","\n\n            ",60],["T_RETURN","return",62],";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$width",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$size",65],"[",["T_LNUMBER","0",65],"]",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$height",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$size",66],"[",["T_LNUMBER","1",66],"]",";",["T_WHITESPACE","\n\n        ",66],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$constraint",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","minWidth",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_STRING","ctype_digit",69],"(",["T_STRING_CAST","(string)",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$constraint",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","minWidth",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_THROW","throw",70],["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","ConstraintDefinitionException",70],"(",["T_STRING","sprintf",70],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\" is not a valid minimum width'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$constraint",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","minWidth",70],")",")",";",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n\n            ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$width",73],["T_WHITESPACE"," ",73],"<",["T_WHITESPACE"," ",73],["T_VARIABLE","$constraint",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","minWidth",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","context",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","buildViolation",74],"(",["T_VARIABLE","$constraint",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","minWidthMessage",74],")",["T_WHITESPACE","\n                    ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","setParameter",75],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ width }}'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$width",75],")",["T_WHITESPACE","\n                    ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","setParameter",76],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ min_width }}'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$constraint",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","minWidth",76],")",["T_WHITESPACE","\n                    ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","setCode",77],"(",["T_STRING","Image",77],["T_DOUBLE_COLON","::",77],["T_STRING","TOO_NARROW_ERROR",77],")",["T_WHITESPACE","\n                    ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","addViolation",78],"(",")",";",["T_WHITESPACE","\n\n                ",78],["T_RETURN","return",80],";",["T_WHITESPACE","\n            ",80],"}",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$constraint",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","maxWidth",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","!",["T_STRING","ctype_digit",85],"(",["T_STRING_CAST","(string)",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$constraint",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","maxWidth",85],")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_THROW","throw",86],["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","ConstraintDefinitionException",86],"(",["T_STRING","sprintf",86],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\" is not a valid maximum width'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$constraint",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","maxWidth",86],")",")",";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE","\n\n            ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$width",89],["T_WHITESPACE"," ",89],">",["T_WHITESPACE"," ",89],["T_VARIABLE","$constraint",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","maxWidth",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","context",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","buildViolation",90],"(",["T_VARIABLE","$constraint",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","maxWidthMessage",90],")",["T_WHITESPACE","\n                    ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","setParameter",91],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ width }}'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$width",91],")",["T_WHITESPACE","\n                    ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","setParameter",92],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ max_width }}'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$constraint",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","maxWidth",92],")",["T_WHITESPACE","\n                    ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","setCode",93],"(",["T_STRING","Image",93],["T_DOUBLE_COLON","::",93],["T_STRING","TOO_WIDE_ERROR",93],")",["T_WHITESPACE","\n                    ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","addViolation",94],"(",")",";",["T_WHITESPACE","\n\n                ",94],["T_RETURN","return",96],";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n\n        ",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$constraint",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","minHeight",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_STRING","ctype_digit",101],"(",["T_STRING_CAST","(string)",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$constraint",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","minHeight",101],")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_THROW","throw",102],["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","ConstraintDefinitionException",102],"(",["T_STRING","sprintf",102],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\" is not a valid minimum height'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$constraint",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","minHeight",102],")",")",";",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n\n            ",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$height",105],["T_WHITESPACE"," ",105],"<",["T_WHITESPACE"," ",105],["T_VARIABLE","$constraint",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","minHeight",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","context",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","buildViolation",106],"(",["T_VARIABLE","$constraint",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","minHeightMessage",106],")",["T_WHITESPACE","\n                    ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","setParameter",107],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ height }}'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$height",107],")",["T_WHITESPACE","\n                    ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","setParameter",108],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ min_height }}'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$constraint",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","minHeight",108],")",["T_WHITESPACE","\n                    ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","setCode",109],"(",["T_STRING","Image",109],["T_DOUBLE_COLON","::",109],["T_STRING","TOO_LOW_ERROR",109],")",["T_WHITESPACE","\n                    ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","addViolation",110],"(",")",";",["T_WHITESPACE","\n\n                ",110],["T_RETURN","return",112],";",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$constraint",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","maxHeight",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(","!",["T_STRING","ctype_digit",117],"(",["T_STRING_CAST","(string)",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$constraint",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","maxHeight",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_THROW","throw",118],["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","ConstraintDefinitionException",118],"(",["T_STRING","sprintf",118],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\" is not a valid maximum height'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$constraint",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","maxHeight",118],")",")",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n\n            ",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$height",121],["T_WHITESPACE"," ",121],">",["T_WHITESPACE"," ",121],["T_VARIABLE","$constraint",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","maxHeight",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","context",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","buildViolation",122],"(",["T_VARIABLE","$constraint",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","maxHeightMessage",122],")",["T_WHITESPACE","\n                    ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","setParameter",123],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ height }}'",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$height",123],")",["T_WHITESPACE","\n                    ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","setParameter",124],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ max_height }}'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$constraint",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","maxHeight",124],")",["T_WHITESPACE","\n                    ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","setCode",125],"(",["T_STRING","Image",125],["T_DOUBLE_COLON","::",125],["T_STRING","TOO_HIGH_ERROR",125],")",["T_WHITESPACE","\n                    ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","addViolation",126],"(",")",";",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$ratio",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","round",130],"(",["T_VARIABLE","$width",130],["T_WHITESPACE"," ",130],"\/",["T_WHITESPACE"," ",130],["T_VARIABLE","$height",130],",",["T_WHITESPACE"," ",130],["T_LNUMBER","2",130],")",";",["T_WHITESPACE","\n\n        ",130],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_STRING","null",132],["T_WHITESPACE"," ",132],["T_IS_NOT_IDENTICAL","!==",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$constraint",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","minRatio",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_STRING","is_numeric",133],"(",["T_STRING_CAST","(string)",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$constraint",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","minRatio",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                ",133],["T_THROW","throw",134],["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","ConstraintDefinitionException",134],"(",["T_STRING","sprintf",134],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\" is not a valid minimum ratio'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$constraint",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","minRatio",134],")",")",";",["T_WHITESPACE","\n            ",134],"}",["T_WHITESPACE","\n\n            ",135],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$ratio",137],["T_WHITESPACE"," ",137],"<",["T_WHITESPACE"," ",137],["T_VARIABLE","$constraint",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","minRatio",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","context",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","buildViolation",138],"(",["T_VARIABLE","$constraint",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","minRatioMessage",138],")",["T_WHITESPACE","\n                    ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","setParameter",139],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ ratio }}'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$ratio",139],")",["T_WHITESPACE","\n                    ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","setParameter",140],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ min_ratio }}'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$constraint",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","minRatio",140],")",["T_WHITESPACE","\n                    ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","setCode",141],"(",["T_STRING","Image",141],["T_DOUBLE_COLON","::",141],["T_STRING","RATIO_TOO_SMALL_ERROR",141],")",["T_WHITESPACE","\n                    ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","addViolation",142],"(",")",";",["T_WHITESPACE","\n            ",142],"}",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_STRING","null",146],["T_WHITESPACE"," ",146],["T_IS_NOT_IDENTICAL","!==",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$constraint",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","maxRatio",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(","!",["T_STRING","is_numeric",147],"(",["T_STRING_CAST","(string)",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$constraint",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","maxRatio",147],")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_THROW","throw",148],["T_WHITESPACE"," ",148],["T_NEW","new",148],["T_WHITESPACE"," ",148],["T_STRING","ConstraintDefinitionException",148],"(",["T_STRING","sprintf",148],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\" is not a valid maximum ratio'",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$constraint",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","maxRatio",148],")",")",";",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE","\n\n            ",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$ratio",151],["T_WHITESPACE"," ",151],">",["T_WHITESPACE"," ",151],["T_VARIABLE","$constraint",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","maxRatio",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","context",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","buildViolation",152],"(",["T_VARIABLE","$constraint",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","maxRatioMessage",152],")",["T_WHITESPACE","\n                    ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","setParameter",153],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ ratio }}'",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$ratio",153],")",["T_WHITESPACE","\n                    ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","setParameter",154],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ max_ratio }}'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$constraint",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","maxRatio",154],")",["T_WHITESPACE","\n                    ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","setCode",155],"(",["T_STRING","Image",155],["T_DOUBLE_COLON","::",155],["T_STRING","RATIO_TOO_BIG_ERROR",155],")",["T_WHITESPACE","\n                    ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","addViolation",156],"(",")",";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_VARIABLE","$constraint",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","allowSquare",160],["T_WHITESPACE"," ",160],["T_BOOLEAN_AND","&&",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$width",160],["T_WHITESPACE"," ",160],["T_IS_EQUAL","==",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$height",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","context",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","buildViolation",161],"(",["T_VARIABLE","$constraint",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","allowSquareMessage",161],")",["T_WHITESPACE","\n                ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","setParameter",162],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ width }}'",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$width",162],")",["T_WHITESPACE","\n                ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","setParameter",163],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ height }}'",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$height",163],")",["T_WHITESPACE","\n                ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","setCode",164],"(",["T_STRING","Image",164],["T_DOUBLE_COLON","::",164],["T_STRING","SQUARE_NOT_ALLOWED_ERROR",164],")",["T_WHITESPACE","\n                ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","addViolation",165],"(",")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n\n        ",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(","!",["T_VARIABLE","$constraint",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","allowLandscape",168],["T_WHITESPACE"," ",168],["T_BOOLEAN_AND","&&",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$width",168],["T_WHITESPACE"," ",168],">",["T_WHITESPACE"," ",168],["T_VARIABLE","$height",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","context",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","buildViolation",169],"(",["T_VARIABLE","$constraint",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","allowLandscapeMessage",169],")",["T_WHITESPACE","\n                ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","setParameter",170],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ width }}'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$width",170],")",["T_WHITESPACE","\n                ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","setParameter",171],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ height }}'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$height",171],")",["T_WHITESPACE","\n                ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","setCode",172],"(",["T_STRING","Image",172],["T_DOUBLE_COLON","::",172],["T_STRING","LANDSCAPE_NOT_ALLOWED_ERROR",172],")",["T_WHITESPACE","\n                ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","addViolation",173],"(",")",";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n\n        ",174],["T_IF","if",176],["T_WHITESPACE"," ",176],"(","!",["T_VARIABLE","$constraint",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","allowPortrait",176],["T_WHITESPACE"," ",176],["T_BOOLEAN_AND","&&",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$width",176],["T_WHITESPACE"," ",176],"<",["T_WHITESPACE"," ",176],["T_VARIABLE","$height",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","context",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","buildViolation",177],"(",["T_VARIABLE","$constraint",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","allowPortraitMessage",177],")",["T_WHITESPACE","\n                ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","setParameter",178],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ width }}'",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$width",178],")",["T_WHITESPACE","\n                ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","setParameter",179],"(",["T_CONSTANT_ENCAPSED_STRING","'{{ height }}'",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$height",179],")",["T_WHITESPACE","\n                ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","setCode",180],"(",["T_STRING","Image",180],["T_DOUBLE_COLON","::",180],["T_STRING","PORTRAIT_NOT_ALLOWED_ERROR",180],")",["T_WHITESPACE","\n                ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","addViolation",181],"(",")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$constraint",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","detectCorrupted",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(","!",["T_STRING","function_exists",185],"(",["T_CONSTANT_ENCAPSED_STRING","'imagecreatefromstring'",185],")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_THROW","throw",186],["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","RuntimeException",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Corrupted images detection requires installed and enabled GD extension'",186],")",";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n\n            ",187],["T_VARIABLE","$resource",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],"@",["T_STRING","imagecreatefromstring",189],"(",["T_STRING","file_get_contents",189],"(",["T_VARIABLE","$value",189],")",")",";",["T_WHITESPACE","\n\n            ",189],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_STRING","false",191],["T_WHITESPACE"," ",191],["T_IS_IDENTICAL","===",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$resource",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","context",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","buildViolation",192],"(",["T_VARIABLE","$constraint",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","corruptedMessage",192],")",["T_WHITESPACE","\n                    ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","setCode",193],"(",["T_STRING","Image",193],["T_DOUBLE_COLON","::",193],["T_STRING","CORRUPTED_IMAGE_ERROR",193],")",["T_WHITESPACE","\n                    ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","addViolation",194],"(",")",";",["T_WHITESPACE","\n\n                ",194],["T_RETURN","return",196],";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n\n            ",197],["T_STRING","imagedestroy",199],"(",["T_VARIABLE","$resource",199],")",";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n",201],"}",["T_WHITESPACE","\n",202]]