[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Validator",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mapping",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Factory",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Validator",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Constraints",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Callback",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Validator",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Mapping",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ClassMetadata",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Validator",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Mapping",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Factory",16],["T_NS_SEPARATOR","\\",16],["T_STRING","LazyLoadingMetadataFactory",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Validator",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Mapping",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Loader",17],["T_NS_SEPARATOR","\\",17],["T_STRING","LoaderInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Validator",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Tests",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Fixtures",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ConstraintA",18],";",["T_WHITESPACE","\n\n",18],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","LazyLoadingMetadataFactoryTest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PHPUnit_Framework_TestCase",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","CLASS_NAME",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\Tests\\Fixtures\\Entity'",22],";",["T_WHITESPACE","\n    ",22],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","PARENT_CLASS",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\Tests\\Fixtures\\EntityParent'",23],";",["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","INTERFACE_A_CLASS",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\Tests\\Fixtures\\EntityInterfaceA'",24],";",["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","INTERFACE_B_CLASS",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\Tests\\Fixtures\\EntityInterfaceB'",25],";",["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","PARENT_INTERFACE_CLASS",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\Tests\\Fixtures\\EntityParentInterface'",26],";",["T_WHITESPACE","\n\n    ",26],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testLoadClassMetadataWithInterface",28],"(",")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$factory",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_STRING","LazyLoadingMetadataFactory",30],"(",["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_STRING","TestLoader",30],"(",")",")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$metadata",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$factory",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getMetadataFor",31],"(",["T_STRING","self",31],["T_DOUBLE_COLON","::",31],["T_STRING","PARENT_CLASS",31],")",";",["T_WHITESPACE","\n\n        ",31],["T_VARIABLE","$constraints",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_WHITESPACE","\n            ",33],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_STRING","ConstraintA",34],"(",["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Default'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'EntityParent'",34],")",")",")",",",["T_WHITESPACE","\n            ",34],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_STRING","ConstraintA",35],"(",["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'Default'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'EntityInterfaceA'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'EntityParent'",35],")",")",")",",",["T_WHITESPACE","\n        ",35],")",";",["T_WHITESPACE","\n\n        ",36],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertEquals",38],"(",["T_VARIABLE","$constraints",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$metadata",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getConstraints",38],"(",")",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testMergeParentConstraints",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$factory",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","LazyLoadingMetadataFactory",43],"(",["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","TestLoader",43],"(",")",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$metadata",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$factory",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMetadataFor",44],"(",["T_STRING","self",44],["T_DOUBLE_COLON","::",44],["T_STRING","CLASS_NAME",44],")",";",["T_WHITESPACE","\n\n        ",44],["T_VARIABLE","$constraints",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_WHITESPACE","\n            ",46],["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_STRING","ConstraintA",47],"(",["T_ARRAY","array",47],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n                ",47],["T_CONSTANT_ENCAPSED_STRING","'Default'",48],",",["T_WHITESPACE","\n                ",48],["T_CONSTANT_ENCAPSED_STRING","'Entity'",49],",",["T_WHITESPACE","\n            ",49],")",")",")",",",["T_WHITESPACE","\n            ",50],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","ConstraintA",51],"(",["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_WHITESPACE","\n                ",51],["T_CONSTANT_ENCAPSED_STRING","'Default'",52],",",["T_WHITESPACE","\n                ",52],["T_CONSTANT_ENCAPSED_STRING","'EntityParent'",53],",",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'Entity'",54],",",["T_WHITESPACE","\n            ",54],")",")",")",",",["T_WHITESPACE","\n            ",55],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_STRING","ConstraintA",56],"(",["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_WHITESPACE","\n                ",56],["T_CONSTANT_ENCAPSED_STRING","'Default'",57],",",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'EntityInterfaceA'",58],",",["T_WHITESPACE","\n                ",58],["T_CONSTANT_ENCAPSED_STRING","'EntityParent'",59],",",["T_WHITESPACE","\n                ",59],["T_CONSTANT_ENCAPSED_STRING","'Entity'",60],",",["T_WHITESPACE","\n            ",60],")",")",")",",",["T_WHITESPACE","\n            ",61],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_STRING","ConstraintA",62],"(",["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_WHITESPACE","\n                ",62],["T_CONSTANT_ENCAPSED_STRING","'Default'",63],",",["T_WHITESPACE","\n                ",63],["T_CONSTANT_ENCAPSED_STRING","'EntityInterfaceB'",64],",",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'Entity'",65],",",["T_WHITESPACE","\n            ",65],")",")",")",",",["T_WHITESPACE","\n            ",66],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_STRING","ConstraintA",67],"(",["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_WHITESPACE","\n                ",67],["T_CONSTANT_ENCAPSED_STRING","'Default'",68],",",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","'EntityParentInterface'",69],",",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'EntityInterfaceB'",70],",",["T_WHITESPACE","\n                ",70],["T_CONSTANT_ENCAPSED_STRING","'Entity'",71],",",["T_WHITESPACE","\n            ",71],")",")",")",",",["T_WHITESPACE","\n        ",72],")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEquals",75],"(",["T_VARIABLE","$constraints",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$metadata",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getConstraints",75],"(",")",")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testWriteMetadataToCache",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$cache",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMockBuilder",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\Mapping\\Cache\\CacheInterface'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getMock",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$factory",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","LazyLoadingMetadataFactory",81],"(",["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","TestLoader",81],"(",")",",",["T_WHITESPACE"," ",81],["T_VARIABLE","$cache",81],")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$parentClassConstraints",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_WHITESPACE","\n            ",83],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","ConstraintA",84],"(",["T_ARRAY","array",84],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Default'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'EntityParent'",84],")",")",")",",",["T_WHITESPACE","\n            ",84],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","ConstraintA",85],"(",["T_ARRAY","array",85],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Default'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'EntityInterfaceA'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'EntityParent'",85],")",")",")",",",["T_WHITESPACE","\n        ",85],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$interfaceAConstraints",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_WHITESPACE","\n            ",87],["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_STRING","ConstraintA",88],"(",["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","'groups'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Default'",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'EntityInterfaceA'",88],")",")",")",",",["T_WHITESPACE","\n        ",88],")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$cache",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","expects",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","never",91],"(",")",")",["T_WHITESPACE","\n              ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","method",92],"(",["T_CONSTANT_ENCAPSED_STRING","'has'",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$cache",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","expects",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","exactly",93],"(",["T_LNUMBER","2",93],")",")",["T_WHITESPACE","\n              ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","method",94],"(",["T_CONSTANT_ENCAPSED_STRING","'read'",94],")",["T_WHITESPACE","\n              ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","withConsecutive",95],"(",["T_WHITESPACE","\n                  ",95],["T_ARRAY","array",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","equalTo",96],"(",["T_STRING","self",96],["T_DOUBLE_COLON","::",96],["T_STRING","PARENT_CLASS",96],")",")",",",["T_WHITESPACE","\n                  ",96],["T_ARRAY","array",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","equalTo",97],"(",["T_STRING","self",97],["T_DOUBLE_COLON","::",97],["T_STRING","INTERFACE_A_CLASS",97],")",")",["T_WHITESPACE","\n              ",97],")",["T_WHITESPACE","\n              ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","will",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","returnValue",99],"(",["T_STRING","false",99],")",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$cache",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","expects",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","exactly",100],"(",["T_LNUMBER","2",100],")",")",["T_WHITESPACE","\n              ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","method",101],"(",["T_CONSTANT_ENCAPSED_STRING","'write'",101],")",["T_WHITESPACE","\n              ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","withConsecutive",102],"(",["T_WHITESPACE","\n                  ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","callback",103],"(",["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$metadata",103],")",["T_WHITESPACE"," ",103],["T_USE","use",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$interfaceAConstraints",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                      ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$interfaceAConstraints",104],["T_WHITESPACE"," ",104],["T_IS_EQUAL","==",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$metadata",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getConstraints",104],"(",")",";",["T_WHITESPACE","\n                  ",104],"}",")",",",["T_WHITESPACE","\n                  ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","callback",106],"(",["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$metadata",106],")",["T_WHITESPACE"," ",106],["T_USE","use",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$parentClassConstraints",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                      ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$parentClassConstraints",107],["T_WHITESPACE"," ",107],["T_IS_EQUAL","==",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$metadata",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getConstraints",107],"(",")",";",["T_WHITESPACE","\n                  ",107],"}",")",["T_WHITESPACE","\n              ",108],")",";",["T_WHITESPACE","\n\n        ",109],["T_VARIABLE","$metadata",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$factory",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMetadataFor",111],"(",["T_STRING","self",111],["T_DOUBLE_COLON","::",111],["T_STRING","PARENT_CLASS",111],")",";",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEquals",113],"(",["T_STRING","self",113],["T_DOUBLE_COLON","::",113],["T_STRING","PARENT_CLASS",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$metadata",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getClassName",113],"(",")",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertEquals",114],"(",["T_VARIABLE","$parentClassConstraints",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$metadata",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getConstraints",114],"(",")",")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","testReadMetadataFromCache",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$loader",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMockBuilder",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\Mapping\\Loader\\LoaderInterface'",119],")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getMock",119],"(",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$cache",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMockBuilder",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\Mapping\\Cache\\CacheInterface'",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","getMock",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$factory",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","LazyLoadingMetadataFactory",121],"(",["T_VARIABLE","$loader",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$cache",121],")",";",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$metadata",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","ClassMetadata",123],"(",["T_STRING","self",123],["T_DOUBLE_COLON","::",123],["T_STRING","PARENT_CLASS",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$metadata",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","addConstraint",124],"(",["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","ConstraintA",124],"(",")",")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$parentClass",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_STRING","PARENT_CLASS",126],";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$interfaceClass",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","self",127],["T_DOUBLE_COLON","::",127],["T_STRING","INTERFACE_A_CLASS",127],";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$loader",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","never",129],"(",")",")",["T_WHITESPACE","\n               ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'loadClassMetadata'",130],")",";",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$cache",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","expects",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","never",132],"(",")",")",["T_WHITESPACE","\n              ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","method",133],"(",["T_CONSTANT_ENCAPSED_STRING","'has'",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$cache",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","expects",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","exactly",134],"(",["T_LNUMBER","2",134],")",")",["T_WHITESPACE","\n              ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","method",135],"(",["T_CONSTANT_ENCAPSED_STRING","'read'",135],")",["T_WHITESPACE","\n              ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","withConsecutive",136],"(",["T_WHITESPACE","\n                  ",136],["T_ARRAY","array",137],"(",["T_STRING","self",137],["T_DOUBLE_COLON","::",137],["T_STRING","PARENT_CLASS",137],")",",",["T_WHITESPACE","\n                  ",137],["T_ARRAY","array",138],"(",["T_STRING","self",138],["T_DOUBLE_COLON","::",138],["T_STRING","INTERFACE_A_CLASS",138],")",["T_WHITESPACE","\n              ",138],")",["T_WHITESPACE","\n              ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","willReturnCallback",140],"(",["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$name",140],")",["T_WHITESPACE"," ",140],["T_USE","use",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$metadata",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$parentClass",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$interfaceClass",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                  ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$parentClass",141],["T_WHITESPACE"," ",141],["T_IS_EQUAL","==",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$name",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                      ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$metadata",142],";",["T_WHITESPACE","\n                  ",142],"}",["T_WHITESPACE","\n\n                  ",143],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","ClassMetadata",145],"(",["T_VARIABLE","$interfaceClass",145],")",";",["T_WHITESPACE","\n              ",145],"}",")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEquals",148],"(",["T_VARIABLE","$metadata",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$factory",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getMetadataFor",148],"(",["T_STRING","self",148],["T_DOUBLE_COLON","::",148],["T_STRING","PARENT_CLASS",148],")",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","testMetadataCacheWithRuntimeConstraint",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$cache",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getMockBuilder",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\Mapping\\Cache\\CacheInterface'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","getMock",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$factory",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_STRING","LazyLoadingMetadataFactory",154],"(",["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_STRING","TestLoader",154],"(",")",",",["T_WHITESPACE"," ",154],["T_VARIABLE","$cache",154],")",";",["T_WHITESPACE","\n\n        ",154],["T_VARIABLE","$cache",156],["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","expects",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","any",157],"(",")",")",["T_WHITESPACE","\n            ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","method",158],"(",["T_CONSTANT_ENCAPSED_STRING","'write'",158],")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","will",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","returnCallback",159],"(",["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$metadata",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE"," ",159],["T_STRING","serialize",159],"(",["T_VARIABLE","$metadata",159],")",";",["T_WHITESPACE"," ",159],"}",")",")",["T_WHITESPACE","\n        ",159],";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$cache",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","expects",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","any",162],"(",")",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'read'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","will",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","returnValue",164],"(",["T_STRING","false",164],")",")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$metadata",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$factory",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getMetadataFor",166],"(",["T_STRING","self",166],["T_DOUBLE_COLON","::",166],["T_STRING","PARENT_CLASS",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$metadata",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","addConstraint",167],"(",["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","Callback",167],"(",["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],"(",")",["T_WHITESPACE"," ",167],"{","}",")",")",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$metadata",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$factory",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getMetadataFor",169],"(",["T_STRING","self",169],["T_DOUBLE_COLON","::",169],["T_STRING","CLASS_NAME",169],")",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n",170],"}",["T_WHITESPACE","\n\n",171],["T_CLASS","class",173],["T_WHITESPACE"," ",173],["T_STRING","TestLoader",173],["T_WHITESPACE"," ",173],["T_IMPLEMENTS","implements",173],["T_WHITESPACE"," ",173],["T_STRING","LoaderInterface",173],["T_WHITESPACE","\n",173],"{",["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","loadClassMetadata",175],"(",["T_STRING","ClassMetadata",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$metadata",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$metadata",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","addConstraint",177],"(",["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_STRING","ConstraintA",177],"(",")",")",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n",178],"}",["T_WHITESPACE","\n",179]]