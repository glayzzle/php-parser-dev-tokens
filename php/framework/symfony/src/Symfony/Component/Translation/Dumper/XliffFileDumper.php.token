[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Translation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Dumper",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Translation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","MessageCatalogue",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Translation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","InvalidArgumentException",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * XliffFileDumper generates xliff files from a message catalogue.\n *\n * @author Michel Salib <michelsalib@hotmail.com>\n *\/",17],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","XliffFileDumper",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","FileDumper",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","formatCatalogue",27],"(",["T_STRING","MessageCatalogue",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$messages",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$domain",27],",",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$options",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],"(",")",")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$xliffVersion",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'1.2'",29],";",["T_WHITESPACE","\n        ",29],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_STRING","array_key_exists",30],"(",["T_CONSTANT_ENCAPSED_STRING","'xliff_version'",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$options",30],")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n            ",30],["T_VARIABLE","$xliffVersion",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$options",31],"[",["T_CONSTANT_ENCAPSED_STRING","'xliff_version'",31],"]",";",["T_WHITESPACE","\n        ",31],"}",["T_WHITESPACE","\n\n        ",32],["T_IF","if",34],["T_WHITESPACE"," ",34],"(",["T_STRING","array_key_exists",34],"(",["T_CONSTANT_ENCAPSED_STRING","'default_locale'",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$options",34],")",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n            ",34],["T_VARIABLE","$defaultLocale",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$options",35],"[",["T_CONSTANT_ENCAPSED_STRING","'default_locale'",35],"]",";",["T_WHITESPACE","\n        ",35],"}",["T_WHITESPACE"," ",36],["T_ELSE","else",36],["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n            ",36],["T_VARIABLE","$defaultLocale",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Locale",37],["T_DOUBLE_COLON","::",37],["T_STRING","getDefault",37],"(",")",";",["T_WHITESPACE","\n        ",37],"}",["T_WHITESPACE","\n\n        ",38],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_CONSTANT_ENCAPSED_STRING","'1.2'",40],["T_WHITESPACE"," ",40],["T_IS_IDENTICAL","===",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$xliffVersion",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_RETURN","return",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","dumpXliff1",41],"(",["T_VARIABLE","$defaultLocale",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$messages",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$domain",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$options",41],")",";",["T_WHITESPACE","\n        ",41],"}",["T_WHITESPACE","\n        ",42],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_CONSTANT_ENCAPSED_STRING","'2.0'",43],["T_WHITESPACE"," ",43],["T_IS_IDENTICAL","===",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$xliffVersion",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","dumpXliff2",44],"(",["T_VARIABLE","$defaultLocale",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$messages",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$domain",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$options",44],")",";",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE","\n\n        ",45],["T_THROW","throw",47],["T_WHITESPACE"," ",47],["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_STRING","InvalidArgumentException",47],"(",["T_STRING","sprintf",47],"(",["T_CONSTANT_ENCAPSED_STRING","'No support implemented for dumping XLIFF version \"%s\".'",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$xliffVersion",47],")",")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","getExtension",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'xlf'",55],";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_PRIVATE","private",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","dumpXliff1",58],"(",["T_VARIABLE","$defaultLocale",58],",",["T_WHITESPACE"," ",58],["T_STRING","MessageCatalogue",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$messages",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$domain",58],",",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$options",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$toolInfo",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'tool-id'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'symfony'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'tool-name'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Symfony'",60],")",";",["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_STRING","array_key_exists",61],"(",["T_CONSTANT_ENCAPSED_STRING","'tool_info'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$options",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$toolInfo",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","array_merge",62],"(",["T_VARIABLE","$toolInfo",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$options",62],"[",["T_CONSTANT_ENCAPSED_STRING","'tool_info'",62],"]",")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$dom",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_NS_SEPARATOR","\\",65],["T_STRING","DOMDocument",65],"(",["T_CONSTANT_ENCAPSED_STRING","'1.0'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'utf-8'",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$dom",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","formatOutput",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","true",66],";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$xliff",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$dom",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","appendChild",68],"(",["T_VARIABLE","$dom",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","createElement",68],"(",["T_CONSTANT_ENCAPSED_STRING","'xliff'",68],")",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$xliff",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setAttribute",69],"(",["T_CONSTANT_ENCAPSED_STRING","'version'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'1.2'",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$xliff",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setAttribute",70],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlns'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'urn:oasis:names:tc:xliff:document:1.2'",70],")",";",["T_WHITESPACE","\n\n        ",70],["T_VARIABLE","$xliffFile",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$xliff",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","appendChild",72],"(",["T_VARIABLE","$dom",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","createElement",72],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",72],")",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$xliffFile",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setAttribute",73],"(",["T_CONSTANT_ENCAPSED_STRING","'source-language'",73],",",["T_WHITESPACE"," ",73],["T_STRING","str_replace",73],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'-'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$defaultLocale",73],")",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$xliffFile",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setAttribute",74],"(",["T_CONSTANT_ENCAPSED_STRING","'target-language'",74],",",["T_WHITESPACE"," ",74],["T_STRING","str_replace",74],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'-'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$messages",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getLocale",74],"(",")",")",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$xliffFile",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setAttribute",75],"(",["T_CONSTANT_ENCAPSED_STRING","'datatype'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'plaintext'",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$xliffFile",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","setAttribute",76],"(",["T_CONSTANT_ENCAPSED_STRING","'original'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'file.ext'",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$xliffHead",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$xliffFile",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","appendChild",78],"(",["T_VARIABLE","$dom",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","createElement",78],"(",["T_CONSTANT_ENCAPSED_STRING","'header'",78],")",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$xliffTool",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$xliffHead",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","appendChild",79],"(",["T_VARIABLE","$dom",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","createElement",79],"(",["T_CONSTANT_ENCAPSED_STRING","'tool'",79],")",")",";",["T_WHITESPACE","\n        ",79],["T_FOREACH","foreach",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$toolInfo",80],["T_WHITESPACE"," ",80],["T_AS","as",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$id",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$value",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$xliffTool",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setAttribute",81],"(",["T_VARIABLE","$id",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$value",81],")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$xliffBody",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$xliffFile",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","appendChild",84],"(",["T_VARIABLE","$dom",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","createElement",84],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",84],")",")",";",["T_WHITESPACE","\n        ",84],["T_FOREACH","foreach",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$messages",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","all",85],"(",["T_VARIABLE","$domain",85],")",["T_WHITESPACE"," ",85],["T_AS","as",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$source",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$target",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$translation",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$dom",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","createElement",86],"(",["T_CONSTANT_ENCAPSED_STRING","'trans-unit'",86],")",";",["T_WHITESPACE","\n\n            ",86],["T_VARIABLE","$translation",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setAttribute",88],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",88],",",["T_WHITESPACE"," ",88],["T_STRING","md5",88],"(",["T_VARIABLE","$source",88],")",")",";",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$translation",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setAttribute",89],"(",["T_CONSTANT_ENCAPSED_STRING","'resname'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$source",89],")",";",["T_WHITESPACE","\n\n            ",89],["T_VARIABLE","$s",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$translation",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","appendChild",91],"(",["T_VARIABLE","$dom",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","createElement",91],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",91],")",")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$s",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","appendChild",92],"(",["T_VARIABLE","$dom",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","createTextNode",92],"(",["T_VARIABLE","$source",92],")",")",";",["T_WHITESPACE","\n\n            ",92],["T_COMMENT","\/\/ Does the target contain characters requiring a CDATA section?\n",94],["T_WHITESPACE","            ",95],["T_VARIABLE","$text",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_LNUMBER","1",95],["T_WHITESPACE"," ",95],["T_IS_IDENTICAL","===",95],["T_WHITESPACE"," ",95],["T_STRING","preg_match",95],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[&<>]\/'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$target",95],")",["T_WHITESPACE"," ",95],"?",["T_WHITESPACE"," ",95],["T_VARIABLE","$dom",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","createCDATASection",95],"(",["T_VARIABLE","$target",95],")",["T_WHITESPACE"," ",95],":",["T_WHITESPACE"," ",95],["T_VARIABLE","$dom",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","createTextNode",95],"(",["T_VARIABLE","$target",95],")",";",["T_WHITESPACE","\n\n            ",95],["T_VARIABLE","$targetElement",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$dom",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","createElement",97],"(",["T_CONSTANT_ENCAPSED_STRING","'target'",97],")",";",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$metadata",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$messages",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMetadata",98],"(",["T_VARIABLE","$source",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$domain",98],")",";",["T_WHITESPACE","\n            ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","hasMetadataArrayInfo",99],"(",["T_CONSTANT_ENCAPSED_STRING","'target-attributes'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$metadata",99],")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$metadata",100],"[",["T_CONSTANT_ENCAPSED_STRING","'target-attributes'",100],"]",["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$name",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$value",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                    ",100],["T_VARIABLE","$targetElement",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setAttribute",101],"(",["T_VARIABLE","$name",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$value",101],")",";",["T_WHITESPACE","\n                ",101],"}",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$t",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$translation",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","appendChild",104],"(",["T_VARIABLE","$targetElement",104],")",";",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$t",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","appendChild",105],"(",["T_VARIABLE","$text",105],")",";",["T_WHITESPACE","\n\n            ",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","hasMetadataArrayInfo",107],"(",["T_CONSTANT_ENCAPSED_STRING","'notes'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$metadata",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                ",107],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$metadata",108],"[",["T_CONSTANT_ENCAPSED_STRING","'notes'",108],"]",["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$note",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                    ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_ISSET","isset",109],"(",["T_VARIABLE","$note",109],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",109],"]",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                        ",109],["T_CONTINUE","continue",110],";",["T_WHITESPACE","\n                    ",110],"}",["T_WHITESPACE","\n\n                    ",111],["T_VARIABLE","$n",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$translation",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","appendChild",113],"(",["T_VARIABLE","$dom",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","createElement",113],"(",["T_CONSTANT_ENCAPSED_STRING","'note'",113],")",")",";",["T_WHITESPACE","\n                    ",113],["T_VARIABLE","$n",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","appendChild",114],"(",["T_VARIABLE","$dom",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","createTextNode",114],"(",["T_VARIABLE","$note",114],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",114],"]",")",")",";",["T_WHITESPACE","\n\n                    ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_ISSET","isset",116],"(",["T_VARIABLE","$note",116],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",116],"]",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                        ",116],["T_VARIABLE","$n",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setAttribute",117],"(",["T_CONSTANT_ENCAPSED_STRING","'priority'",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$note",117],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",117],"]",")",";",["T_WHITESPACE","\n                    ",117],"}",["T_WHITESPACE","\n\n                    ",118],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_ISSET","isset",120],"(",["T_VARIABLE","$note",120],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",120],"]",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                        ",120],["T_VARIABLE","$n",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setAttribute",121],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$note",121],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",121],"]",")",";",["T_WHITESPACE","\n                    ",121],"}",["T_WHITESPACE","\n                ",122],"}",["T_WHITESPACE","\n            ",123],"}",["T_WHITESPACE","\n\n            ",124],["T_VARIABLE","$xliffBody",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","appendChild",126],"(",["T_VARIABLE","$translation",126],")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$dom",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","saveXML",129],"(",")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_PRIVATE","private",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","dumpXliff2",132],"(",["T_VARIABLE","$defaultLocale",132],",",["T_WHITESPACE"," ",132],["T_STRING","MessageCatalogue",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$messages",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$domain",132],",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$options",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$dom",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_NS_SEPARATOR","\\",134],["T_STRING","DOMDocument",134],"(",["T_CONSTANT_ENCAPSED_STRING","'1.0'",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'utf-8'",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$dom",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","formatOutput",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","true",135],";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$xliff",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$dom",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","appendChild",137],"(",["T_VARIABLE","$dom",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","createElement",137],"(",["T_CONSTANT_ENCAPSED_STRING","'xliff'",137],")",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$xliff",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setAttribute",138],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlns'",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'urn:oasis:names:tc:xliff:document:2.0'",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$xliff",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setAttribute",139],"(",["T_CONSTANT_ENCAPSED_STRING","'version'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'2.0'",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$xliff",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setAttribute",140],"(",["T_CONSTANT_ENCAPSED_STRING","'srcLang'",140],",",["T_WHITESPACE"," ",140],["T_STRING","str_replace",140],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'-'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$defaultLocale",140],")",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$xliff",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setAttribute",141],"(",["T_CONSTANT_ENCAPSED_STRING","'trgLang'",141],",",["T_WHITESPACE"," ",141],["T_STRING","str_replace",141],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'-'",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$messages",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getLocale",141],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$xliffFile",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$xliff",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","appendChild",143],"(",["T_VARIABLE","$dom",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","createElement",143],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",143],")",")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$xliffFile",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setAttribute",144],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$domain",144],".",["T_CONSTANT_ENCAPSED_STRING","'.'",144],".",["T_VARIABLE","$messages",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getLocale",144],"(",")",")",";",["T_WHITESPACE","\n\n        ",144],["T_FOREACH","foreach",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$messages",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","all",146],"(",["T_VARIABLE","$domain",146],")",["T_WHITESPACE"," ",146],["T_AS","as",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$source",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$target",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$translation",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$dom",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","createElement",147],"(",["T_CONSTANT_ENCAPSED_STRING","'unit'",147],")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$translation",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setAttribute",148],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",148],",",["T_WHITESPACE"," ",148],["T_STRING","md5",148],"(",["T_VARIABLE","$source",148],")",")",";",["T_WHITESPACE","\n\n            ",148],["T_VARIABLE","$segment",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$translation",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","appendChild",150],"(",["T_VARIABLE","$dom",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","createElement",150],"(",["T_CONSTANT_ENCAPSED_STRING","'segment'",150],")",")",";",["T_WHITESPACE","\n\n            ",150],["T_VARIABLE","$s",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$segment",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","appendChild",152],"(",["T_VARIABLE","$dom",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","createElement",152],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",152],")",")",";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$s",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","appendChild",153],"(",["T_VARIABLE","$dom",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","createTextNode",153],"(",["T_VARIABLE","$source",153],")",")",";",["T_WHITESPACE","\n\n            ",153],["T_COMMENT","\/\/ Does the target contain characters requiring a CDATA section?\n",155],["T_WHITESPACE","            ",156],["T_VARIABLE","$text",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_LNUMBER","1",156],["T_WHITESPACE"," ",156],["T_IS_IDENTICAL","===",156],["T_WHITESPACE"," ",156],["T_STRING","preg_match",156],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[&<>]\/'",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$target",156],")",["T_WHITESPACE"," ",156],"?",["T_WHITESPACE"," ",156],["T_VARIABLE","$dom",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","createCDATASection",156],"(",["T_VARIABLE","$target",156],")",["T_WHITESPACE"," ",156],":",["T_WHITESPACE"," ",156],["T_VARIABLE","$dom",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","createTextNode",156],"(",["T_VARIABLE","$target",156],")",";",["T_WHITESPACE","\n\n            ",156],["T_VARIABLE","$targetElement",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$dom",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","createElement",158],"(",["T_CONSTANT_ENCAPSED_STRING","'target'",158],")",";",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$metadata",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$messages",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getMetadata",159],"(",["T_VARIABLE","$source",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$domain",159],")",";",["T_WHITESPACE","\n            ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","hasMetadataArrayInfo",160],"(",["T_CONSTANT_ENCAPSED_STRING","'target-attributes'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$metadata",160],")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                ",160],["T_FOREACH","foreach",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$metadata",161],"[",["T_CONSTANT_ENCAPSED_STRING","'target-attributes'",161],"]",["T_WHITESPACE"," ",161],["T_AS","as",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$name",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$value",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                    ",161],["T_VARIABLE","$targetElement",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","setAttribute",162],"(",["T_VARIABLE","$name",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$value",162],")",";",["T_WHITESPACE","\n                ",162],"}",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$t",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$segment",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","appendChild",165],"(",["T_VARIABLE","$targetElement",165],")",";",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$t",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","appendChild",166],"(",["T_VARIABLE","$text",166],")",";",["T_WHITESPACE","\n\n            ",166],["T_VARIABLE","$xliffFile",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","appendChild",168],"(",["T_VARIABLE","$translation",168],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$dom",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","saveXML",171],"(",")",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * @param string     $key\n     * @param array|null $metadata\n     *\n     * @return bool\n     *\/",174],["T_WHITESPACE","\n    ",179],["T_PRIVATE","private",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","hasMetadataArrayInfo",180],"(",["T_VARIABLE","$key",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$metadata",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","null",180],")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_STRING","null",182],["T_WHITESPACE"," ",182],["T_IS_NOT_IDENTICAL","!==",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$metadata",182],["T_WHITESPACE"," ",182],["T_BOOLEAN_AND","&&",182],["T_WHITESPACE"," ",182],["T_STRING","array_key_exists",182],"(",["T_VARIABLE","$key",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$metadata",182],")",["T_WHITESPACE"," ",182],["T_BOOLEAN_AND","&&",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$metadata",182],"[",["T_VARIABLE","$key",182],"]",["T_WHITESPACE"," ",182],["T_INSTANCEOF","instanceof",182],["T_WHITESPACE"," ",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Traversable",182],["T_WHITESPACE"," ",182],["T_BOOLEAN_OR","||",182],["T_WHITESPACE"," ",182],["T_STRING","is_array",182],"(",["T_VARIABLE","$metadata",182],"[",["T_VARIABLE","$key",182],"]",")",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n",183],"}",["T_WHITESPACE","\n",184]]