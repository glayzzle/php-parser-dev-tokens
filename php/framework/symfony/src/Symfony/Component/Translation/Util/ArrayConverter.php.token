[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Translation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Util",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * ArrayConverter generates tree like structure from a message catalogue.\n * e.g. this\n *   'foo.bar1' => 'test1',\n *   'foo.bar2' => 'test2'\n * converts to follows:\n *   foo:\n *     bar1: test1\n *     bar2: test2.\n *\n * @author Gennady Telegin <gtelegin@gmail.com>\n *\/",14],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","ArrayConverter",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * Converts linear messages array to tree-like array.\n     * For example this rray('foo.bar' => 'value') will be converted to array('foo' => array('bar' => 'value')).\n     *\n     * @param array $messages Linear messages array\n     *\n     * @return array Tree-like messages array\n     *\/",28],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_STATIC","static",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","expandToTree",36],"(",["T_ARRAY","array",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$messages",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$tree",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",";",["T_WHITESPACE","\n\n        ",38],["T_FOREACH","foreach",40],["T_WHITESPACE"," ",40],"(",["T_VARIABLE","$messages",40],["T_WHITESPACE"," ",40],["T_AS","as",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$id",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$value",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_VARIABLE","$referenceToElement",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"&",["T_STRING","self",41],["T_DOUBLE_COLON","::",41],["T_STRING","getElementByPath",41],"(",["T_VARIABLE","$tree",41],",",["T_WHITESPACE"," ",41],["T_STRING","explode",41],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$id",41],")",")",";",["T_WHITESPACE","\n\n            ",41],["T_VARIABLE","$referenceToElement",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$value",43],";",["T_WHITESPACE","\n\n            ",43],["T_UNSET","unset",45],"(",["T_VARIABLE","$referenceToElement",45],")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n\n        ",46],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$tree",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_STATIC","static",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],"&",["T_STRING","getElementByPath",51],"(",["T_ARRAY","array",51],["T_WHITESPACE"," ",51],"&",["T_VARIABLE","$tree",51],",",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$parts",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$elem",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"&",["T_VARIABLE","$tree",53],";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$parentOfElem",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","null",54],";",["T_WHITESPACE","\n\n        ",54],["T_FOREACH","foreach",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$parts",56],["T_WHITESPACE"," ",56],["T_AS","as",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$i",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$part",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_ISSET","isset",57],"(",["T_VARIABLE","$elem",57],"[",["T_VARIABLE","$part",57],"]",")",["T_WHITESPACE"," ",57],["T_BOOLEAN_AND","&&",57],["T_WHITESPACE"," ",57],["T_STRING","is_string",57],"(",["T_VARIABLE","$elem",57],"[",["T_VARIABLE","$part",57],"]",")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n                ",57],["T_COMMENT","\/* Process next case:\n                 *    'foo': 'test1',\n                 *    'foo.bar': 'test2'\n                 *\n                 * $tree['foo'] was string before we found array {bar: test2}.\n                 *  Treat new element as string too, e.g. add $tree['foo.bar'] = 'test2';\n                 *\/",58],["T_WHITESPACE","\n                ",64],["T_VARIABLE","$elem",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"&",["T_VARIABLE","$elem",65],"[",["T_STRING","implode",65],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",65],",",["T_WHITESPACE"," ",65],["T_STRING","array_slice",65],"(",["T_VARIABLE","$parts",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$i",65],")",")","]",";",["T_WHITESPACE","\n                ",65],["T_BREAK","break",66],";",["T_WHITESPACE","\n            ",66],"}",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$parentOfElem",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"&",["T_VARIABLE","$elem",68],";",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$elem",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"&",["T_VARIABLE","$elem",69],"[",["T_VARIABLE","$part",69],"]",";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n\n        ",70],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_STRING","is_array",72],"(",["T_VARIABLE","$elem",72],")",["T_WHITESPACE"," ",72],["T_BOOLEAN_AND","&&",72],["T_WHITESPACE"," ",72],["T_STRING","count",72],"(",["T_VARIABLE","$elem",72],")",["T_WHITESPACE"," ",72],">",["T_WHITESPACE"," ",72],["T_LNUMBER","0",72],["T_WHITESPACE"," ",72],["T_BOOLEAN_AND","&&",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$parentOfElem",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_COMMENT","\/* Process next case:\n             *    'foo.bar': 'test1'\n             *    'foo': 'test2'\n             *\n             * $tree['foo'] was array = {bar: 'test1'} before we found string constant `foo`.\n             * Cancel treating $tree['foo'] as array and cancel back it expansion,\n             *  e.g. make it $tree['foo.bar'] = 'test1' again.\n             *\/",73],["T_WHITESPACE","\n            ",80],["T_STRING","self",81],["T_DOUBLE_COLON","::",81],["T_STRING","cancelExpand",81],"(",["T_VARIABLE","$parentOfElem",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$part",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$elem",81],")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$elem",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_PRIVATE","private",87],["T_WHITESPACE"," ",87],["T_STATIC","static",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","cancelExpand",87],"(",["T_ARRAY","array",87],["T_WHITESPACE"," ",87],"&",["T_VARIABLE","$tree",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$prefix",87],",",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$node",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$prefix",89],["T_WHITESPACE"," ",89],["T_CONCAT_EQUAL",".=",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'.'",89],";",["T_WHITESPACE","\n\n        ",89],["T_FOREACH","foreach",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$node",91],["T_WHITESPACE"," ",91],["T_AS","as",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$id",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$value",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_STRING","is_string",92],"(",["T_VARIABLE","$value",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$tree",93],"[",["T_VARIABLE","$prefix",93],".",["T_VARIABLE","$id",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$value",93],";",["T_WHITESPACE","\n            ",93],"}",["T_WHITESPACE"," ",94],["T_ELSE","else",94],["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","cancelExpand",95],"(",["T_VARIABLE","$tree",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$prefix",95],".",["T_VARIABLE","$id",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$value",95],")",";",["T_WHITESPACE","\n            ",95],"}",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n",98],"}",["T_WHITESPACE","\n",99]]