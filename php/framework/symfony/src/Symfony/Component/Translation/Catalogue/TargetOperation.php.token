[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Translation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalogue",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Target operation between two catalogues:\n * intersection = source \u00e2\u0088\u00a9 target = {x: x \u00e2\u0088\u0088 source \u00e2\u0088\u00a7 x \u00e2\u0088\u0088 target}\n * all = intersection \u00e2\u0088\u00aa (target \u00e2\u0088\u0096 intersection) = target\n * new = all \u00e2\u0088\u0096 source = {x: x \u00e2\u0088\u0088 target \u00e2\u0088\u00a7 x \u00e2\u0088\u0089 source}\n * obsolete = source \u00e2\u0088\u0096 all = source \u00e2\u0088\u0096 target = {x: x \u00e2\u0088\u0088 source \u00e2\u0088\u00a7 x \u00e2\u0088\u0089 target}\n * Basically, the result contains messages from the target catalogue.\n *\n * @author Michael Lee <michael.lee@zerustech.com>\n *\/",14],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","TargetOperation",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_STRING","AbstractOperation",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","processDomain",29],"(",["T_VARIABLE","$domain",29],")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","messages",31],"[",["T_VARIABLE","$domain",31],"]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",["T_WHITESPACE","\n            ",31],["T_CONSTANT_ENCAPSED_STRING","'all'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",")",",",["T_WHITESPACE","\n            ",32],["T_CONSTANT_ENCAPSED_STRING","'new'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",")",",",["T_WHITESPACE","\n            ",33],["T_CONSTANT_ENCAPSED_STRING","'obsolete'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",",",["T_WHITESPACE","\n        ",34],")",";",["T_WHITESPACE","\n\n        ",35],["T_COMMENT","\/\/ For 'all' messages, the code can't be simplified as ``$this->messages[$domain]['all'] = $target->all($domain);``,\n",37],["T_WHITESPACE","        ",38],["T_COMMENT","\/\/ because doing so will drop messages like {x: x \u00e2\u0088\u0088 source \u00e2\u0088\u00a7 x \u00e2\u0088\u0089 target.all \u00e2\u0088\u00a7 x \u00e2\u0088\u0088 target.fallback}\n",38],["T_WHITESPACE","        ",39],["T_COMMENT","\/\/\n",39],["T_WHITESPACE","        ",40],["T_COMMENT","\/\/ For 'new' messages, the code can't be simplied as ``array_diff_assoc($this->target->all($domain), $this->source->all($domain));``\n",40],["T_WHITESPACE","        ",41],["T_COMMENT","\/\/ because doing so will not exclude messages like {x: x \u00e2\u0088\u0088 target \u00e2\u0088\u00a7 x \u00e2\u0088\u0089 source.all \u00e2\u0088\u00a7 x \u00e2\u0088\u0088 source.fallback}\n",41],["T_WHITESPACE","        ",42],["T_COMMENT","\/\/\n",42],["T_WHITESPACE","        ",43],["T_COMMENT","\/\/ For 'obsolete' messages, the code can't be simplifed as ``array_diff_assoc($this->source->all($domain), $this->target->all($domain))``\n",43],["T_WHITESPACE","        ",44],["T_COMMENT","\/\/ because doing so will not exclude messages like {x: x \u00e2\u0088\u0088 source \u00e2\u0088\u00a7 x \u00e2\u0088\u0089 target.all \u00e2\u0088\u00a7 x \u00e2\u0088\u0088 target.fallback}\n",44],["T_WHITESPACE","\n        ",45],["T_FOREACH","foreach",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","source",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","all",46],"(",["T_VARIABLE","$domain",46],")",["T_WHITESPACE"," ",46],["T_AS","as",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$id",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$message",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n            ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","target",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","has",47],"(",["T_VARIABLE","$id",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$domain",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n                ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","messages",48],"[",["T_VARIABLE","$domain",48],"]","[",["T_CONSTANT_ENCAPSED_STRING","'all'",48],"]","[",["T_VARIABLE","$id",48],"]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$message",48],";",["T_WHITESPACE","\n                ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","result",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","add",49],"(",["T_ARRAY","array",49],"(",["T_VARIABLE","$id",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$message",49],")",",",["T_WHITESPACE"," ",49],["T_VARIABLE","$domain",49],")",";",["T_WHITESPACE","\n                ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_STRING","null",50],["T_WHITESPACE"," ",50],["T_IS_NOT_IDENTICAL","!==",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$keyMetadata",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","source",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMetadata",50],"(",["T_VARIABLE","$id",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$domain",50],")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n                    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","result",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","setMetadata",51],"(",["T_VARIABLE","$id",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$keyMetadata",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$domain",51],")",";",["T_WHITESPACE","\n                ",51],"}",["T_WHITESPACE","\n            ",52],"}",["T_WHITESPACE"," ",53],["T_ELSE","else",53],["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n                ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","messages",54],"[",["T_VARIABLE","$domain",54],"]","[",["T_CONSTANT_ENCAPSED_STRING","'obsolete'",54],"]","[",["T_VARIABLE","$id",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$message",54],";",["T_WHITESPACE","\n            ",54],"}",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n\n        ",56],["T_FOREACH","foreach",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","target",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","all",58],"(",["T_VARIABLE","$domain",58],")",["T_WHITESPACE"," ",58],["T_AS","as",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$id",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$message",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(","!",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","source",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","has",59],"(",["T_VARIABLE","$id",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$domain",59],")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","messages",60],"[",["T_VARIABLE","$domain",60],"]","[",["T_CONSTANT_ENCAPSED_STRING","'all'",60],"]","[",["T_VARIABLE","$id",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$message",60],";",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","messages",61],"[",["T_VARIABLE","$domain",61],"]","[",["T_CONSTANT_ENCAPSED_STRING","'new'",61],"]","[",["T_VARIABLE","$id",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$message",61],";",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","result",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","add",62],"(",["T_ARRAY","array",62],"(",["T_VARIABLE","$id",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$message",62],")",",",["T_WHITESPACE"," ",62],["T_VARIABLE","$domain",62],")",";",["T_WHITESPACE","\n                ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_STRING","null",63],["T_WHITESPACE"," ",63],["T_IS_NOT_IDENTICAL","!==",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$keyMetadata",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","target",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMetadata",63],"(",["T_VARIABLE","$id",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$domain",63],")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","result",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","setMetadata",64],"(",["T_VARIABLE","$id",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$keyMetadata",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$domain",64],")",";",["T_WHITESPACE","\n                ",64],"}",["T_WHITESPACE","\n            ",65],"}",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n",68],"}",["T_WHITESPACE","\n",69]]