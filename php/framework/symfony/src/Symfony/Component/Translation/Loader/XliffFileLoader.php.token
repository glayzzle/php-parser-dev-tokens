[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Translation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Loader",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Config",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Util",14],["T_NS_SEPARATOR","\\",14],["T_STRING","XmlUtils",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Translation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","MessageCatalogue",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Translation",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","InvalidResourceException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Translation",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","NotFoundResourceException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Translation",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_NS_SEPARATOR","\\",18],["T_STRING","InvalidArgumentException",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Config",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Resource",19],["T_NS_SEPARATOR","\\",19],["T_STRING","FileResource",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * XliffFileLoader loads translations from XLIFF files.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",21],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","XliffFileLoader",26],["T_WHITESPACE"," ",26],["T_IMPLEMENTS","implements",26],["T_WHITESPACE"," ",26],["T_STRING","LoaderInterface",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","load",31],"(",["T_VARIABLE","$resource",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$locale",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$domain",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'messages'",31],")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_IF","if",33],["T_WHITESPACE"," ",33],"(","!",["T_STRING","stream_is_local",33],"(",["T_VARIABLE","$resource",33],")",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n            ",33],["T_THROW","throw",34],["T_WHITESPACE"," ",34],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_STRING","InvalidResourceException",34],"(",["T_STRING","sprintf",34],"(",["T_CONSTANT_ENCAPSED_STRING","'This is not a local file \"%s\".'",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$resource",34],")",")",";",["T_WHITESPACE","\n        ",34],"}",["T_WHITESPACE","\n\n        ",35],["T_IF","if",37],["T_WHITESPACE"," ",37],"(","!",["T_STRING","file_exists",37],"(",["T_VARIABLE","$resource",37],")",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n            ",37],["T_THROW","throw",38],["T_WHITESPACE"," ",38],["T_NEW","new",38],["T_WHITESPACE"," ",38],["T_STRING","NotFoundResourceException",38],"(",["T_STRING","sprintf",38],"(",["T_CONSTANT_ENCAPSED_STRING","'File \"%s\" not found.'",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$resource",38],")",")",";",["T_WHITESPACE","\n        ",38],"}",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$catalogue",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NEW","new",41],["T_WHITESPACE"," ",41],["T_STRING","MessageCatalogue",41],"(",["T_VARIABLE","$locale",41],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","extract",42],"(",["T_VARIABLE","$resource",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$catalogue",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$domain",42],")",";",["T_WHITESPACE","\n\n        ",42],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_STRING","class_exists",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Config\\Resource\\FileResource'",44],")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$catalogue",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","addResource",45],"(",["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_STRING","FileResource",45],"(",["T_VARIABLE","$resource",45],")",")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n\n        ",46],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$catalogue",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","extract",51],"(",["T_VARIABLE","$resource",51],",",["T_WHITESPACE"," ",51],["T_STRING","MessageCatalogue",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$catalogue",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$domain",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_TRY","try",53],["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$dom",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","XmlUtils",54],["T_DOUBLE_COLON","::",54],["T_STRING","loadFile",54],"(",["T_VARIABLE","$resource",54],")",";",["T_WHITESPACE","\n        ",54],"}",["T_WHITESPACE"," ",55],["T_CATCH","catch",55],["T_WHITESPACE"," ",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","InvalidArgumentException",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$e",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_THROW","throw",56],["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_STRING","InvalidResourceException",56],"(",["T_STRING","sprintf",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to load \"%s\": %s'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$resource",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$e",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getMessage",56],"(",")",")",",",["T_WHITESPACE"," ",56],["T_VARIABLE","$e",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getCode",56],"(",")",",",["T_WHITESPACE"," ",56],["T_VARIABLE","$e",56],")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$xliffVersion",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getVersionNumber",59],"(",["T_VARIABLE","$dom",59],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","validateSchema",60],"(",["T_VARIABLE","$xliffVersion",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$dom",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getSchema",60],"(",["T_VARIABLE","$xliffVersion",60],")",")",";",["T_WHITESPACE","\n\n        ",60],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_CONSTANT_ENCAPSED_STRING","'1.2'",62],["T_WHITESPACE"," ",62],["T_IS_IDENTICAL","===",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$xliffVersion",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","extractXliff1",63],"(",["T_VARIABLE","$dom",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$catalogue",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$domain",63],")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n\n        ",64],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_CONSTANT_ENCAPSED_STRING","'2.0'",66],["T_WHITESPACE"," ",66],["T_IS_IDENTICAL","===",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$xliffVersion",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","extractXliff2",67],"(",["T_VARIABLE","$dom",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$catalogue",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$domain",67],")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Extract messages and metadata from DOMDocument into a MessageCatalogue.\n     *\n     * @param \\DOMDocument     $dom       Source to extract messages and metadata\n     * @param MessageCatalogue $catalogue Catalogue where we'll collect messages and metadata\n     * @param string           $domain    The domain\n     *\/",71],["T_WHITESPACE","\n    ",77],["T_PRIVATE","private",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","extractXliff1",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","DOMDocument",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$dom",78],",",["T_WHITESPACE"," ",78],["T_STRING","MessageCatalogue",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$catalogue",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$domain",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$xml",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","simplexml_import_dom",80],"(",["T_VARIABLE","$dom",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$encoding",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","strtoupper",81],"(",["T_VARIABLE","$dom",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","encoding",81],")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$xml",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","registerXPathNamespace",83],"(",["T_CONSTANT_ENCAPSED_STRING","'xliff'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'urn:oasis:names:tc:xliff:document:1.2'",83],")",";",["T_WHITESPACE","\n        ",83],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$xml",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","xpath",84],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/xliff:trans-unit'",84],")",["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$translation",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$attributes",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$translation",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","attributes",85],"(",")",";",["T_WHITESPACE","\n\n            ",85],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!","(",["T_ISSET","isset",87],"(",["T_VARIABLE","$attributes",87],"[",["T_CONSTANT_ENCAPSED_STRING","'resname'",87],"]",")",["T_WHITESPACE"," ",87],["T_BOOLEAN_OR","||",87],["T_WHITESPACE"," ",87],["T_ISSET","isset",87],"(",["T_VARIABLE","$translation",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","source",87],")",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_CONTINUE","continue",88],";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE","\n\n            ",89],["T_VARIABLE","$source",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_ISSET","isset",91],"(",["T_VARIABLE","$attributes",91],"[",["T_CONSTANT_ENCAPSED_STRING","'resname'",91],"]",")",["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$attributes",91],"[",["T_CONSTANT_ENCAPSED_STRING","'resname'",91],"]",["T_WHITESPACE"," ",91],"?",["T_WHITESPACE"," ",91],["T_VARIABLE","$attributes",91],"[",["T_CONSTANT_ENCAPSED_STRING","'resname'",91],"]",["T_WHITESPACE"," ",91],":",["T_WHITESPACE"," ",91],["T_VARIABLE","$translation",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","source",91],";",["T_WHITESPACE","\n            ",91],["T_COMMENT","\/\/ If the xlf file has another encoding specified, try to convert it because\n",92],["T_WHITESPACE","            ",93],["T_COMMENT","\/\/ simple_xml will always return utf-8 encoded values\n",93],["T_WHITESPACE","            ",94],["T_VARIABLE","$target",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","utf8ToCharset",94],"(",["T_STRING_CAST","(string)",94],["T_WHITESPACE"," ",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$translation",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","target",94],")",["T_WHITESPACE"," ",94],"?",["T_WHITESPACE"," ",94],["T_VARIABLE","$translation",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","target",94],["T_WHITESPACE"," ",94],":",["T_WHITESPACE"," ",94],["T_VARIABLE","$source",94],")",",",["T_WHITESPACE"," ",94],["T_VARIABLE","$encoding",94],")",";",["T_WHITESPACE","\n\n            ",94],["T_VARIABLE","$catalogue",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","set",96],"(",["T_STRING_CAST","(string)",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$source",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$target",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$domain",96],")",";",["T_WHITESPACE","\n\n            ",96],["T_VARIABLE","$metadata",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",")",";",["T_WHITESPACE","\n            ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$notes",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","parseNotesMetadata",99],"(",["T_VARIABLE","$translation",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","note",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$encoding",99],")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$metadata",100],"[",["T_CONSTANT_ENCAPSED_STRING","'notes'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$notes",100],";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n\n            ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_ISSET","isset",103],"(",["T_VARIABLE","$translation",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","target",103],")",["T_WHITESPACE"," ",103],["T_BOOLEAN_AND","&&",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$translation",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","target",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","attributes",103],"(",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$metadata",104],"[",["T_CONSTANT_ENCAPSED_STRING","'target-attributes'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",")",";",["T_WHITESPACE","\n                ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$translation",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","target",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","attributes",105],"(",")",["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$key",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$value",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                    ",105],["T_VARIABLE","$metadata",106],"[",["T_CONSTANT_ENCAPSED_STRING","'target-attributes'",106],"]","[",["T_VARIABLE","$key",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING_CAST","(string)",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$value",106],";",["T_WHITESPACE","\n                ",106],"}",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n\n            ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_ISSET","isset",110],"(",["T_VARIABLE","$attributes",110],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",110],"]",")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_VARIABLE","$metadata",111],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING_CAST","(string)",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$attributes",111],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",111],"]",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n\n            ",112],["T_VARIABLE","$catalogue",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","setMetadata",114],"(",["T_STRING_CAST","(string)",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$source",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$metadata",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$domain",114],")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * @param \\DOMDocument     $dom\n     * @param MessageCatalogue $catalogue\n     * @param string           $domain\n     *\/",118],["T_WHITESPACE","\n    ",122],["T_PRIVATE","private",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","extractXliff2",123],"(",["T_NS_SEPARATOR","\\",123],["T_STRING","DOMDocument",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$dom",123],",",["T_WHITESPACE"," ",123],["T_STRING","MessageCatalogue",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$catalogue",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$domain",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$xml",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","simplexml_import_dom",125],"(",["T_VARIABLE","$dom",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$encoding",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","strtoupper",126],"(",["T_VARIABLE","$dom",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","encoding",126],")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$xml",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","registerXPathNamespace",128],"(",["T_CONSTANT_ENCAPSED_STRING","'xliff'",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'urn:oasis:names:tc:xliff:document:2.0'",128],")",";",["T_WHITESPACE","\n\n        ",128],["T_FOREACH","foreach",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$xml",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","xpath",130],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/xliff:unit\/xliff:segment'",130],")",["T_WHITESPACE"," ",130],["T_AS","as",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$segment",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$source",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$segment",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","source",131],";",["T_WHITESPACE","\n\n            ",131],["T_COMMENT","\/\/ If the xlf file has another encoding specified, try to convert it because\n",133],["T_WHITESPACE","            ",134],["T_COMMENT","\/\/ simple_xml will always return utf-8 encoded values\n",134],["T_WHITESPACE","            ",135],["T_VARIABLE","$target",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","utf8ToCharset",135],"(",["T_STRING_CAST","(string)",135],["T_WHITESPACE"," ",135],"(",["T_ISSET","isset",135],"(",["T_VARIABLE","$segment",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","target",135],")",["T_WHITESPACE"," ",135],"?",["T_WHITESPACE"," ",135],["T_VARIABLE","$segment",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","target",135],["T_WHITESPACE"," ",135],":",["T_WHITESPACE"," ",135],["T_VARIABLE","$source",135],")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$encoding",135],")",";",["T_WHITESPACE","\n\n            ",135],["T_VARIABLE","$catalogue",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","set",137],"(",["T_STRING_CAST","(string)",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$source",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$target",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$domain",137],")",";",["T_WHITESPACE","\n\n            ",137],["T_VARIABLE","$metadata",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",")",";",["T_WHITESPACE","\n            ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_ISSET","isset",140],"(",["T_VARIABLE","$segment",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","target",140],")",["T_WHITESPACE"," ",140],["T_BOOLEAN_AND","&&",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$segment",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","target",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","attributes",140],"(",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$metadata",141],"[",["T_CONSTANT_ENCAPSED_STRING","'target-attributes'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",")",";",["T_WHITESPACE","\n                ",141],["T_FOREACH","foreach",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$segment",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","target",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","attributes",142],"(",")",["T_WHITESPACE"," ",142],["T_AS","as",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$key",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$value",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                    ",142],["T_VARIABLE","$metadata",143],"[",["T_CONSTANT_ENCAPSED_STRING","'target-attributes'",143],"]","[",["T_VARIABLE","$key",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING_CAST","(string)",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$value",143],";",["T_WHITESPACE","\n                ",143],"}",["T_WHITESPACE","\n            ",144],"}",["T_WHITESPACE","\n\n            ",145],["T_VARIABLE","$catalogue",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","setMetadata",147],"(",["T_STRING_CAST","(string)",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$source",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$metadata",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$domain",147],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Convert a UTF8 string to the specified encoding.\n     *\n     * @param string $content  String to decode\n     * @param string $encoding Target encoding\n     *\n     * @return string\n     *\/",151],["T_WHITESPACE","\n    ",158],["T_PRIVATE","private",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","utf8ToCharset",159],"(",["T_VARIABLE","$content",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$encoding",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","null",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",161],["T_WHITESPACE"," ",161],["T_IS_NOT_IDENTICAL","!==",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$encoding",161],["T_WHITESPACE"," ",161],["T_BOOLEAN_AND","&&",161],["T_WHITESPACE"," ",161],"!",["T_EMPTY","empty",161],"(",["T_VARIABLE","$encoding",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_STRING","mb_convert_encoding",162],"(",["T_VARIABLE","$content",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$encoding",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$content",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Validates and parses the given file into a DOMDocument.\n     *\n     * @param string       $file\n     * @param \\DOMDocument $dom\n     * @param string       $schema source of the schema\n     *\n     * @throws InvalidResourceException\n     *\/",168],["T_WHITESPACE","\n    ",176],["T_PRIVATE","private",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","validateSchema",177],"(",["T_VARIABLE","$file",177],",",["T_WHITESPACE"," ",177],["T_NS_SEPARATOR","\\",177],["T_STRING","DOMDocument",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$dom",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$schema",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$internalErrors",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","libxml_use_internal_errors",179],"(",["T_STRING","true",179],")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$disableEntities",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","libxml_disable_entity_loader",181],"(",["T_STRING","false",181],")",";",["T_WHITESPACE","\n\n        ",181],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","!","@",["T_VARIABLE","$dom",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","schemaValidateSource",183],"(",["T_VARIABLE","$schema",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_STRING","libxml_disable_entity_loader",184],"(",["T_VARIABLE","$disableEntities",184],")",";",["T_WHITESPACE","\n\n            ",184],["T_THROW","throw",186],["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","InvalidResourceException",186],"(",["T_STRING","sprintf",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid resource provided: \"%s\"; Errors: %s'",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$file",186],",",["T_WHITESPACE"," ",186],["T_STRING","implode",186],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getXmlErrors",186],"(",["T_VARIABLE","$internalErrors",186],")",")",")",")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n\n        ",187],["T_STRING","libxml_disable_entity_loader",189],"(",["T_VARIABLE","$disableEntities",189],")",";",["T_WHITESPACE","\n\n        ",189],["T_VARIABLE","$dom",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","normalizeDocument",191],"(",")",";",["T_WHITESPACE","\n\n        ",191],["T_STRING","libxml_clear_errors",193],"(",")",";",["T_WHITESPACE","\n        ",193],["T_STRING","libxml_use_internal_errors",194],"(",["T_VARIABLE","$internalErrors",194],")",";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_PRIVATE","private",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getSchema",197],"(",["T_VARIABLE","$xliffVersion",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_CONSTANT_ENCAPSED_STRING","'1.2'",199],["T_WHITESPACE"," ",199],["T_IS_IDENTICAL","===",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$xliffVersion",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$schemaSource",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","file_get_contents",200],"(",["T_DIR","__DIR__",200],".",["T_CONSTANT_ENCAPSED_STRING","'\/schema\/dic\/xliff-core\/xliff-core-1.2-strict.xsd'",200],")",";",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$xmlUri",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.w3.org\/2001\/xml.xsd'",201],";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE"," ",202],["T_ELSEIF","elseif",202],["T_WHITESPACE"," ",202],"(",["T_CONSTANT_ENCAPSED_STRING","'2.0'",202],["T_WHITESPACE"," ",202],["T_IS_IDENTICAL","===",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$xliffVersion",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$schemaSource",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","file_get_contents",203],"(",["T_DIR","__DIR__",203],".",["T_CONSTANT_ENCAPSED_STRING","'\/schema\/dic\/xliff-core\/xliff-core-2.0.xsd'",203],")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$xmlUri",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'informativeCopiesOf3rdPartySchemas\/w3c\/xml.xsd'",204],";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_THROW","throw",206],["T_WHITESPACE"," ",206],["T_NEW","new",206],["T_WHITESPACE"," ",206],["T_STRING","InvalidArgumentException",206],"(",["T_STRING","sprintf",206],"(",["T_CONSTANT_ENCAPSED_STRING","'No support implemented for loading XLIFF version \"%s\".'",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$xliffVersion",206],")",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","fixXmlLocation",209],"(",["T_VARIABLE","$schemaSource",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$xmlUri",209],")",";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * Internally changes the URI of a dependent xsd to be loaded locally.\n     *\n     * @param string $schemaSource Current content of schema file\n     * @param string $xmlUri       External URI of XML to convert to local\n     *\n     * @return string\n     *\/",212],["T_WHITESPACE","\n    ",219],["T_PRIVATE","private",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","fixXmlLocation",220],"(",["T_VARIABLE","$schemaSource",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$xmlUri",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$newPath",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","str_replace",222],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'\/'",222],",",["T_WHITESPACE"," ",222],["T_DIR","__DIR__",222],")",".",["T_CONSTANT_ENCAPSED_STRING","'\/schema\/dic\/xliff-core\/xml.xsd'",222],";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$parts",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","explode",223],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$newPath",223],")",";",["T_WHITESPACE","\n        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_LNUMBER","0",224],["T_WHITESPACE"," ",224],["T_IS_IDENTICAL","===",224],["T_WHITESPACE"," ",224],["T_STRING","stripos",224],"(",["T_VARIABLE","$newPath",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'phar:\/\/'",224],")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$tmpfile",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","tempnam",225],"(",["T_STRING","sys_get_temp_dir",225],"(",")",",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'sf2'",225],")",";",["T_WHITESPACE","\n            ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$tmpfile",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_STRING","copy",227],"(",["T_VARIABLE","$newPath",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$tmpfile",227],")",";",["T_WHITESPACE","\n                ",227],["T_VARIABLE","$parts",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","explode",228],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",228],",",["T_WHITESPACE"," ",228],["T_STRING","str_replace",228],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",228],",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'\/'",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$tmpfile",228],")",")",";",["T_WHITESPACE","\n            ",228],"}",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$drive",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",232],["T_WHITESPACE"," ",232],["T_IS_IDENTICAL","===",232],["T_WHITESPACE"," ",232],["T_STRING","DIRECTORY_SEPARATOR",232],["T_WHITESPACE"," ",232],"?",["T_WHITESPACE"," ",232],["T_STRING","array_shift",232],"(",["T_VARIABLE","$parts",232],")",".",["T_CONSTANT_ENCAPSED_STRING","'\/'",232],["T_WHITESPACE"," ",232],":",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","''",232],";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$newPath",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'file:\/\/\/'",233],".",["T_VARIABLE","$drive",233],".",["T_STRING","implode",233],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",233],",",["T_WHITESPACE"," ",233],["T_STRING","array_map",233],"(",["T_CONSTANT_ENCAPSED_STRING","'rawurlencode'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$parts",233],")",")",";",["T_WHITESPACE","\n\n        ",233],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_STRING","str_replace",235],"(",["T_VARIABLE","$xmlUri",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$newPath",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$schemaSource",235],")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * Returns the XML errors of the internal XML parser.\n     *\n     * @param bool $internalErrors\n     *\n     * @return array An array of errors\n     *\/",238],["T_WHITESPACE","\n    ",244],["T_PRIVATE","private",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","getXmlErrors",245],"(",["T_VARIABLE","$internalErrors",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$errors",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_ARRAY","array",247],"(",")",";",["T_WHITESPACE","\n        ",247],["T_FOREACH","foreach",248],["T_WHITESPACE"," ",248],"(",["T_STRING","libxml_get_errors",248],"(",")",["T_WHITESPACE"," ",248],["T_AS","as",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$error",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$errors",249],"[","]",["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","sprintf",249],"(",["T_CONSTANT_ENCAPSED_STRING","'[%s %s] %s (in %s - line %d, column %d)'",249],",",["T_WHITESPACE","\n                ",249],["T_STRING","LIBXML_ERR_WARNING",250],["T_WHITESPACE"," ",250],["T_IS_EQUAL","==",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$error",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","level",250],["T_WHITESPACE"," ",250],"?",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'WARNING'",250],["T_WHITESPACE"," ",250],":",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'ERROR'",250],",",["T_WHITESPACE","\n                ",250],["T_VARIABLE","$error",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","code",251],",",["T_WHITESPACE","\n                ",251],["T_STRING","trim",252],"(",["T_VARIABLE","$error",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","message",252],")",",",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$error",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","file",253],["T_WHITESPACE"," ",253],"?",":",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'n\/a'",253],",",["T_WHITESPACE","\n                ",253],["T_VARIABLE","$error",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","line",254],",",["T_WHITESPACE","\n                ",254],["T_VARIABLE","$error",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","column",255],["T_WHITESPACE","\n            ",255],")",";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n\n        ",257],["T_STRING","libxml_clear_errors",259],"(",")",";",["T_WHITESPACE","\n        ",259],["T_STRING","libxml_use_internal_errors",260],"(",["T_VARIABLE","$internalErrors",260],")",";",["T_WHITESPACE","\n\n        ",260],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$errors",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Gets xliff file version based on the root \"version\" attribute.\n     * Defaults to 1.2 for backwards compatibility.\n     *\n     * @param \\DOMDocument $dom\n     *\n     * @throws InvalidArgumentException\n     *\n     * @return string\n     *\/",265],["T_WHITESPACE","\n    ",274],["T_PRIVATE","private",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","getVersionNumber",275],"(",["T_NS_SEPARATOR","\\",275],["T_STRING","DOMDocument",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$dom",275],")",["T_WHITESPACE","\n    ",275],"{",["T_WHITESPACE","\n        ",276],["T_DOC_COMMENT","\/** @var \\DOMNode $xliff *\/",277],["T_WHITESPACE","\n        ",277],["T_FOREACH","foreach",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$dom",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getElementsByTagName",278],"(",["T_CONSTANT_ENCAPSED_STRING","'xliff'",278],")",["T_WHITESPACE"," ",278],["T_AS","as",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$xliff",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$version",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$xliff",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","attributes",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getNamedItem",279],"(",["T_CONSTANT_ENCAPSED_STRING","'version'",279],")",";",["T_WHITESPACE","\n            ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$version",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                ",280],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$version",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","nodeValue",281],";",["T_WHITESPACE","\n            ",281],"}",["T_WHITESPACE","\n\n            ",282],["T_VARIABLE","$namespace",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$xliff",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","attributes",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getNamedItem",284],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlns'",284],")",";",["T_WHITESPACE","\n            ",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_VARIABLE","$namespace",285],")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n                ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_STRING","substr_compare",286],"(",["T_CONSTANT_ENCAPSED_STRING","'urn:oasis:names:tc:xliff:document:'",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$namespace",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","nodeValue",286],",",["T_WHITESPACE"," ",286],["T_LNUMBER","0",286],",",["T_WHITESPACE"," ",286],["T_LNUMBER","34",286],")",["T_WHITESPACE"," ",286],["T_IS_NOT_IDENTICAL","!==",286],["T_WHITESPACE"," ",286],["T_LNUMBER","0",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                    ",286],["T_THROW","throw",287],["T_WHITESPACE"," ",287],["T_NEW","new",287],["T_WHITESPACE"," ",287],["T_STRING","InvalidArgumentException",287],"(",["T_STRING","sprintf",287],"(",["T_CONSTANT_ENCAPSED_STRING","'Not a valid XLIFF namespace \"%s\"'",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$namespace",287],")",")",";",["T_WHITESPACE","\n                ",287],"}",["T_WHITESPACE","\n\n                ",288],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_STRING","substr",290],"(",["T_VARIABLE","$namespace",290],",",["T_WHITESPACE"," ",290],["T_LNUMBER","34",290],")",";",["T_WHITESPACE","\n            ",290],"}",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n\n        ",292],["T_COMMENT","\/\/ Falls back to v1.2\n",294],["T_WHITESPACE","        ",295],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'1.2'",295],";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_DOC_COMMENT","\/**\n     * @param \\SimpleXMLElement|null $noteElement\n     * @param string|null            $encoding\n     *\n     * @return array\n     *\/",298],["T_WHITESPACE","\n    ",303],["T_PRIVATE","private",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","parseNotesMetadata",304],"(",["T_NS_SEPARATOR","\\",304],["T_STRING","SimpleXMLElement",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$noteElement",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","null",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$encoding",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","null",304],")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$notes",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_ARRAY","array",306],"(",")",";",["T_WHITESPACE","\n\n        ",306],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_STRING","null",308],["T_WHITESPACE"," ",308],["T_IS_IDENTICAL","===",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$noteElement",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n            ",308],["T_RETURN","return",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$notes",309],";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n\n        ",310],["T_DOC_COMMENT","\/** @var \\SimpleXMLElement $xmlNote *\/",312],["T_WHITESPACE","\n        ",312],["T_FOREACH","foreach",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$noteElement",313],["T_WHITESPACE"," ",313],["T_AS","as",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$xmlNote",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$noteAttributes",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$xmlNote",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","attributes",314],"(",")",";",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$note",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","utf8ToCharset",315],"(",["T_STRING_CAST","(string)",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$xmlNote",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$encoding",315],")",")",";",["T_WHITESPACE","\n            ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_ISSET","isset",316],"(",["T_VARIABLE","$noteAttributes",316],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",316],"]",")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                ",316],["T_VARIABLE","$note",317],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",317],"]",["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_INT_CAST","(int)",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$noteAttributes",317],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",317],"]",";",["T_WHITESPACE","\n            ",317],"}",["T_WHITESPACE","\n\n            ",318],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_ISSET","isset",320],"(",["T_VARIABLE","$noteAttributes",320],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",320],"]",")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                ",320],["T_VARIABLE","$note",321],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",321],"]",["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING_CAST","(string)",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$noteAttributes",321],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",321],"]",";",["T_WHITESPACE","\n            ",321],"}",["T_WHITESPACE","\n\n            ",322],["T_VARIABLE","$notes",324],"[","]",["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$note",324],";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n\n        ",325],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$notes",327],";",["T_WHITESPACE","\n    ",327],"}",["T_WHITESPACE","\n",328],"}",["T_WHITESPACE","\n",329]]