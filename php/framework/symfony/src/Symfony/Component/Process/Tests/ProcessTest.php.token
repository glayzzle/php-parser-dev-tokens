[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Process",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Process",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LogicException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Process",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ProcessTimedOutException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Process",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","RuntimeException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Process",17],["T_NS_SEPARATOR","\\",17],["T_STRING","InputStream",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Process",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PhpExecutableFinder",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Process",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Pipes",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PipesInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Process",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Process",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @author Robert Sch\u00c3\u00b6nthal <seroscho@googlemail.com>\n *\/",22],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","ProcessTest",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","PHPUnit_Framework_TestCase",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$phpBin",27],";",["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$process",28],";",["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_STATIC","static",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$sigchild",29],";",["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_STATIC","static",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$notEnhancedSigchild",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","false",30],";",["T_WHITESPACE","\n\n    ",30],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_STATIC","static",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUpBeforeClass",32],"(",")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$phpBin",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_STRING","PhpExecutableFinder",34],"(",")",";",["T_WHITESPACE","\n        ",34],["T_STRING","self",35],["T_DOUBLE_COLON","::",35],["T_VARIABLE","$phpBin",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","getenv",35],"(",["T_CONSTANT_ENCAPSED_STRING","'SYMFONY_PROCESS_PHP_TEST_BINARY'",35],")",["T_WHITESPACE"," ",35],"?",":",["T_WHITESPACE"," ",35],"(",["T_CONSTANT_ENCAPSED_STRING","'phpdbg'",35],["T_WHITESPACE"," ",35],["T_IS_IDENTICAL","===",35],["T_WHITESPACE"," ",35],["T_STRING","PHP_SAPI",35],["T_WHITESPACE"," ",35],"?",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'php'",35],["T_WHITESPACE"," ",35],":",["T_WHITESPACE"," ",35],["T_VARIABLE","$phpBin",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","find",35],"(",")",")",";",["T_WHITESPACE","\n        ",35],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",36],["T_WHITESPACE"," ",36],["T_IS_NOT_IDENTICAL","!==",36],["T_WHITESPACE"," ",36],["T_STRING","DIRECTORY_SEPARATOR",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n            ",36],["T_COMMENT","\/\/ exec is mandatory to deal with sending a signal to the process\n",37],["T_WHITESPACE","            ",38],["T_COMMENT","\/\/ see https:\/\/github.com\/symfony\/symfony\/issues\/5030 about prepending\n",38],["T_WHITESPACE","            ",39],["T_COMMENT","\/\/ command with exec\n",39],["T_WHITESPACE","            ",40],["T_STRING","self",40],["T_DOUBLE_COLON","::",40],["T_VARIABLE","$phpBin",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'exec '",40],".",["T_STRING","self",40],["T_DOUBLE_COLON","::",40],["T_VARIABLE","$phpBin",40],";",["T_WHITESPACE","\n        ",40],"}",["T_WHITESPACE","\n\n        ",41],["T_STRING","ob_start",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_STRING","phpinfo",44],"(",["T_STRING","INFO_GENERAL",44],")",";",["T_WHITESPACE","\n        ",44],["T_STRING","self",45],["T_DOUBLE_COLON","::",45],["T_VARIABLE","$sigchild",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","false",45],["T_WHITESPACE"," ",45],["T_IS_NOT_IDENTICAL","!==",45],["T_WHITESPACE"," ",45],["T_STRING","strpos",45],"(",["T_STRING","ob_get_clean",45],"(",")",",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'--enable-sigchild'",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","tearDown",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_STRING","self",50],["T_DOUBLE_COLON","::",50],["T_VARIABLE","$process",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_STRING","self",51],["T_DOUBLE_COLON","::",51],["T_VARIABLE","$process",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","stop",51],"(",["T_LNUMBER","0",51],")",";",["T_WHITESPACE","\n            ",51],["T_STRING","self",52],["T_DOUBLE_COLON","::",52],["T_VARIABLE","$process",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","null",52],";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","testThatProcessDoesNotThrowWarningDuringRun",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",58],["T_WHITESPACE"," ",58],["T_IS_IDENTICAL","===",58],["T_WHITESPACE"," ",58],["T_STRING","DIRECTORY_SEPARATOR",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","markTestSkipped",59],"(",["T_CONSTANT_ENCAPSED_STRING","'This test is transient on Windows'",59],")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n        ",60],"@",["T_STRING","trigger_error",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Test Error'",61],",",["T_WHITESPACE"," ",61],["T_STRING","E_USER_NOTICE",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$process",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getProcess",62],"(",["T_STRING","self",62],["T_DOUBLE_COLON","::",62],["T_VARIABLE","$phpBin",62],".",["T_CONSTANT_ENCAPSED_STRING","\" -r 'sleep(3)'\"",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$process",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","run",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$actualError",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","error_get_last",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertEquals",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Test Error'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$actualError",65],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",65],"]",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertEquals",66],"(",["T_STRING","E_USER_NOTICE",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$actualError",66],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",66],"]",")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\InvalidArgumentException\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","testNegativeTimeoutFromConstructor",72],"(",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getProcess",74],"(",["T_CONSTANT_ENCAPSED_STRING","''",74],",",["T_WHITESPACE"," ",74],["T_STRING","null",74],",",["T_WHITESPACE"," ",74],["T_STRING","null",74],",",["T_WHITESPACE"," ",74],["T_STRING","null",74],",",["T_WHITESPACE"," ",74],"-",["T_LNUMBER","1",74],")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\InvalidArgumentException\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","testNegativeTimeoutFromSetter",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$p",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getProcess",82],"(",["T_CONSTANT_ENCAPSED_STRING","''",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$p",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setTimeout",83],"(","-",["T_LNUMBER","1",83],")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testFloatAndNullTimeout",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$p",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getProcess",88],"(",["T_CONSTANT_ENCAPSED_STRING","''",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$p",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setTimeout",90],"(",["T_LNUMBER","10",90],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertSame",91],"(",["T_DNUMBER","10.0",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$p",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getTimeout",91],"(",")",")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$p",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setTimeout",93],"(",["T_STRING","null",93],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertNull",94],"(",["T_VARIABLE","$p",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getTimeout",94],"(",")",")",";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$p",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setTimeout",96],"(",["T_DNUMBER","0.0",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertNull",97],"(",["T_VARIABLE","$p",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getTimeout",97],"(",")",")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * @requires extension pcntl\n     *\/",100],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testStopWithTimeoutIsActuallyWorking",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$p",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getProcess",105],"(",["T_STRING","self",105],["T_DOUBLE_COLON","::",105],["T_VARIABLE","$phpBin",105],".",["T_CONSTANT_ENCAPSED_STRING","' '",105],".",["T_DIR","__DIR__",105],".",["T_CONSTANT_ENCAPSED_STRING","'\/NonStopableProcess.php 30'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$p",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","start",106],"(",")",";",["T_WHITESPACE","\n\n        ",106],["T_WHILE","while",108],["T_WHITESPACE"," ",108],"(",["T_STRING","false",108],["T_WHITESPACE"," ",108],["T_IS_IDENTICAL","===",108],["T_WHITESPACE"," ",108],["T_STRING","strpos",108],"(",["T_VARIABLE","$p",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getOutput",108],"(",")",",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'received'",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_STRING","usleep",109],"(",["T_LNUMBER","1000",109],")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$start",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","microtime",111],"(",["T_STRING","true",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$p",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","stop",112],"(",["T_DNUMBER","0.1",112],")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$p",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","wait",114],"(",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertLessThan",116],"(",["T_LNUMBER","15",116],",",["T_WHITESPACE"," ",116],["T_STRING","microtime",116],"(",["T_STRING","true",116],")",["T_WHITESPACE"," ",116],"-",["T_WHITESPACE"," ",116],["T_VARIABLE","$start",116],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testAllOutputIsActuallyReadOnTermination",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_COMMENT","\/\/ this code will result in a maximum of 2 reads of 8192 bytes by calling\n",121],["T_WHITESPACE","        ",122],["T_COMMENT","\/\/ start() and isRunning().  by the time getOutput() is called the process\n",122],["T_WHITESPACE","        ",123],["T_COMMENT","\/\/ has terminated so the internal pipes array is already empty. normally\n",123],["T_WHITESPACE","        ",124],["T_COMMENT","\/\/ the call to start() will not read any data as the process will not have\n",124],["T_WHITESPACE","        ",125],["T_COMMENT","\/\/ generated output, but this is non-deterministic so we must count it as\n",125],["T_WHITESPACE","        ",126],["T_COMMENT","\/\/ a possibility.  therefore we need 2 * PipesInterface::CHUNK_SIZE plus\n",126],["T_WHITESPACE","        ",127],["T_COMMENT","\/\/ another byte which will never be read.\n",127],["T_WHITESPACE","        ",128],["T_VARIABLE","$expectedOutputSize",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","PipesInterface",128],["T_DOUBLE_COLON","::",128],["T_STRING","CHUNK_SIZE",128],["T_WHITESPACE"," ",128],"*",["T_WHITESPACE"," ",128],["T_LNUMBER","2",128],["T_WHITESPACE"," ",128],"+",["T_WHITESPACE"," ",128],["T_LNUMBER","2",128],";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$code",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","sprintf",130],"(",["T_CONSTANT_ENCAPSED_STRING","'echo str_repeat(\\'*\\', %d);'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$expectedOutputSize",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$p",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getProcess",131],"(",["T_STRING","sprintf",131],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",131],",",["T_WHITESPACE"," ",131],["T_STRING","self",131],["T_DOUBLE_COLON","::",131],["T_VARIABLE","$phpBin",131],",",["T_WHITESPACE"," ",131],["T_STRING","escapeshellarg",131],"(",["T_VARIABLE","$code",131],")",")",")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$p",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","start",133],"(",")",";",["T_WHITESPACE","\n\n        ",133],["T_COMMENT","\/\/ Don't call Process::run nor Process::wait to avoid any read of pipes\n",135],["T_WHITESPACE","        ",136],["T_VARIABLE","$h",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_NS_SEPARATOR","\\",136],["T_STRING","ReflectionProperty",136],"(",["T_VARIABLE","$p",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'process'",136],")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$h",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setAccessible",137],"(",["T_STRING","true",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$h",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$h",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getValue",138],"(",["T_VARIABLE","$p",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$s",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],"@",["T_STRING","proc_get_status",139],"(",["T_VARIABLE","$h",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_WHILE","while",141],["T_WHITESPACE"," ",141],"(","!",["T_EMPTY","empty",141],"(",["T_VARIABLE","$s",141],"[",["T_CONSTANT_ENCAPSED_STRING","'running'",141],"]",")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_STRING","usleep",142],"(",["T_LNUMBER","1000",142],")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$s",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","proc_get_status",143],"(",["T_VARIABLE","$h",143],")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$o",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$p",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getOutput",146],"(",")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEquals",148],"(",["T_VARIABLE","$expectedOutputSize",148],",",["T_WHITESPACE"," ",148],["T_STRING","strlen",148],"(",["T_VARIABLE","$o",148],")",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","testCallbacksAreExecutedWithStart",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$process",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getProcess",153],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$process",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","start",154],"(",["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$type",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$buffer",154],")",["T_WHITESPACE"," ",154],["T_USE","use",154],["T_WHITESPACE"," ",154],"(","&",["T_VARIABLE","$data",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$data",155],["T_WHITESPACE"," ",155],["T_CONCAT_EQUAL",".=",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$buffer",155],";",["T_WHITESPACE","\n        ",155],"}",")",";",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$process",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","wait",158],"(",")",";",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertSame",160],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",160],".",["T_STRING","PHP_EOL",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$data",160],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * tests results from sub processes.\n     *\n     * @dataProvider responsesCodeProvider\n     *\/",163],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","testProcessResponses",168],"(",["T_VARIABLE","$expected",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$getter",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$code",168],")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$p",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getProcess",170],"(",["T_STRING","sprintf",170],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",170],",",["T_WHITESPACE"," ",170],["T_STRING","self",170],["T_DOUBLE_COLON","::",170],["T_VARIABLE","$phpBin",170],",",["T_WHITESPACE"," ",170],["T_STRING","escapeshellarg",170],"(",["T_VARIABLE","$code",170],")",")",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$p",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","run",171],"(",")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertSame",173],"(",["T_VARIABLE","$expected",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$p",173],["T_OBJECT_OPERATOR","->",173],["T_VARIABLE","$getter",173],"(",")",")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * tests results from sub processes.\n     *\n     * @dataProvider pipesCodeProvider\n     *\/",176],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","testProcessPipes",181],"(",["T_VARIABLE","$code",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$size",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$expected",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","str_repeat",183],"(",["T_STRING","str_repeat",183],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",183],",",["T_WHITESPACE"," ",183],["T_LNUMBER","1024",183],")",",",["T_WHITESPACE"," ",183],["T_VARIABLE","$size",183],")",".",["T_CONSTANT_ENCAPSED_STRING","'!'",183],";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$expectedLength",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],"(",["T_LNUMBER","1024",184],["T_WHITESPACE"," ",184],"*",["T_WHITESPACE"," ",184],["T_VARIABLE","$size",184],")",["T_WHITESPACE"," ",184],"+",["T_WHITESPACE"," ",184],["T_LNUMBER","1",184],";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$p",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getProcess",186],"(",["T_STRING","sprintf",186],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",186],",",["T_WHITESPACE"," ",186],["T_STRING","self",186],["T_DOUBLE_COLON","::",186],["T_VARIABLE","$phpBin",186],",",["T_WHITESPACE"," ",186],["T_STRING","escapeshellarg",186],"(",["T_VARIABLE","$code",186],")",")",")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$p",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","setInput",187],"(",["T_VARIABLE","$expected",187],")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$p",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","run",188],"(",")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertEquals",190],"(",["T_VARIABLE","$expectedLength",190],",",["T_WHITESPACE"," ",190],["T_STRING","strlen",190],"(",["T_VARIABLE","$p",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getOutput",190],"(",")",")",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertEquals",191],"(",["T_VARIABLE","$expectedLength",191],",",["T_WHITESPACE"," ",191],["T_STRING","strlen",191],"(",["T_VARIABLE","$p",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getErrorOutput",191],"(",")",")",")",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * @dataProvider pipesCodeProvider\n     *\/",194],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","testSetStreamAsInput",197],"(",["T_VARIABLE","$code",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$size",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$expected",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","str_repeat",199],"(",["T_STRING","str_repeat",199],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",199],",",["T_WHITESPACE"," ",199],["T_LNUMBER","1024",199],")",",",["T_WHITESPACE"," ",199],["T_VARIABLE","$size",199],")",".",["T_CONSTANT_ENCAPSED_STRING","'!'",199],";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$expectedLength",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"(",["T_LNUMBER","1024",200],["T_WHITESPACE"," ",200],"*",["T_WHITESPACE"," ",200],["T_VARIABLE","$size",200],")",["T_WHITESPACE"," ",200],"+",["T_WHITESPACE"," ",200],["T_LNUMBER","1",200],";",["T_WHITESPACE","\n\n        ",200],["T_VARIABLE","$stream",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","fopen",202],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/temporary'",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'w+'",202],")",";",["T_WHITESPACE","\n        ",202],["T_STRING","fwrite",203],"(",["T_VARIABLE","$stream",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$expected",203],")",";",["T_WHITESPACE","\n        ",203],["T_STRING","rewind",204],"(",["T_VARIABLE","$stream",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$p",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getProcess",206],"(",["T_STRING","sprintf",206],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",206],",",["T_WHITESPACE"," ",206],["T_STRING","self",206],["T_DOUBLE_COLON","::",206],["T_VARIABLE","$phpBin",206],",",["T_WHITESPACE"," ",206],["T_STRING","escapeshellarg",206],"(",["T_VARIABLE","$code",206],")",")",")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$p",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","setInput",207],"(",["T_VARIABLE","$stream",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$p",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","run",208],"(",")",";",["T_WHITESPACE","\n\n        ",208],["T_STRING","fclose",210],"(",["T_VARIABLE","$stream",210],")",";",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertEquals",212],"(",["T_VARIABLE","$expectedLength",212],",",["T_WHITESPACE"," ",212],["T_STRING","strlen",212],"(",["T_VARIABLE","$p",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getOutput",212],"(",")",")",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertEquals",213],"(",["T_VARIABLE","$expectedLength",213],",",["T_WHITESPACE"," ",213],["T_STRING","strlen",213],"(",["T_VARIABLE","$p",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getErrorOutput",213],"(",")",")",")",";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","testLiveStreamAsInput",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$stream",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","fopen",218],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/memory'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'r+'",218],")",";",["T_WHITESPACE","\n        ",218],["T_STRING","fwrite",219],"(",["T_VARIABLE","$stream",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'hello'",219],")",";",["T_WHITESPACE","\n        ",219],["T_STRING","rewind",220],"(",["T_VARIABLE","$stream",220],")",";",["T_WHITESPACE","\n\n        ",220],["T_VARIABLE","$p",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getProcess",222],"(",["T_STRING","sprintf",222],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",222],",",["T_WHITESPACE"," ",222],["T_STRING","self",222],["T_DOUBLE_COLON","::",222],["T_VARIABLE","$phpBin",222],",",["T_WHITESPACE"," ",222],["T_STRING","escapeshellarg",222],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_copy_to_stream(STDIN, STDOUT);'",222],")",")",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$p",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","setInput",223],"(",["T_VARIABLE","$stream",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$p",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","start",224],"(",["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$type",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$data",224],")",["T_WHITESPACE"," ",224],["T_USE","use",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$stream",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_CONSTANT_ENCAPSED_STRING","'hello'",225],["T_WHITESPACE"," ",225],["T_IS_IDENTICAL","===",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$data",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                ",225],["T_STRING","fclose",226],"(",["T_VARIABLE","$stream",226],")",";",["T_WHITESPACE","\n            ",226],"}",["T_WHITESPACE","\n        ",227],"}",")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$p",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","wait",229],"(",")",";",["T_WHITESPACE","\n\n        ",229],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertSame",231],"(",["T_CONSTANT_ENCAPSED_STRING","'hello'",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$p",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getOutput",231],"(",")",")",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\LogicException\n     * @expectedExceptionMessage Input can not be set while the process is running.\n     *\/",234],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","testSetInputWhileRunningThrowsAnException",238],"(",")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$process",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getProcess",240],"(",["T_STRING","self",240],["T_DOUBLE_COLON","::",240],["T_VARIABLE","$phpBin",240],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(30);\"'",240],")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$process",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","start",241],"(",")",";",["T_WHITESPACE","\n        ",241],["T_TRY","try",242],["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$process",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","setInput",243],"(",["T_CONSTANT_ENCAPSED_STRING","'foobar'",243],")",";",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$process",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","stop",244],"(",")",";",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","fail",245],"(",["T_CONSTANT_ENCAPSED_STRING","'A LogicException should have been raised.'",245],")",";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE"," ",246],["T_CATCH","catch",246],["T_WHITESPACE"," ",246],"(",["T_STRING","LogicException",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$e",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$process",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","stop",248],"(",")",";",["T_WHITESPACE","\n\n        ",248],["T_THROW","throw",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$e",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * @dataProvider provideInvalidInputValues\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\InvalidArgumentException\n     * @expectedExceptionMessage Symfony\\Component\\Process\\Process::setInput only accepts strings, Traversable objects or stream resources.\n     *\/",253],["T_WHITESPACE","\n    ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","testInvalidInput",258],"(",["T_VARIABLE","$value",258],")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$process",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getProcess",260],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$process",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","setInput",261],"(",["T_VARIABLE","$value",261],")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","provideInvalidInputValues",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_WHITESPACE","\n            ",266],["T_ARRAY","array",267],"(",["T_ARRAY","array",267],"(",")",")",",",["T_WHITESPACE","\n            ",267],["T_ARRAY","array",268],"(",["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_STRING","NonStringifiable",268],"(",")",")",",",["T_WHITESPACE","\n        ",268],")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * @dataProvider provideInputValues\n     *\/",272],["T_WHITESPACE","\n    ",274],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","testValidInput",275],"(",["T_VARIABLE","$expected",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$value",275],")",["T_WHITESPACE","\n    ",275],"{",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$process",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getProcess",277],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",277],")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$process",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","setInput",278],"(",["T_VARIABLE","$value",278],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assertSame",279],"(",["T_VARIABLE","$expected",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$process",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getInput",279],"(",")",")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","provideInputValues",282],"(",")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_ARRAY","array",284],"(",["T_WHITESPACE","\n            ",284],["T_ARRAY","array",285],"(",["T_STRING","null",285],",",["T_WHITESPACE"," ",285],["T_STRING","null",285],")",",",["T_WHITESPACE","\n            ",285],["T_ARRAY","array",286],"(",["T_CONSTANT_ENCAPSED_STRING","'24.5'",286],",",["T_WHITESPACE"," ",286],["T_DNUMBER","24.5",286],")",",",["T_WHITESPACE","\n            ",286],["T_ARRAY","array",287],"(",["T_CONSTANT_ENCAPSED_STRING","'input data'",287],",",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'input data'",287],")",",",["T_WHITESPACE","\n        ",287],")",";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","chainedCommandsOutputProvider",291],"(",")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",293],["T_WHITESPACE"," ",293],["T_IS_IDENTICAL","===",293],["T_WHITESPACE"," ",293],["T_STRING","DIRECTORY_SEPARATOR",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",["T_WHITESPACE","\n                ",294],["T_ARRAY","array",295],"(",["T_CONSTANT_ENCAPSED_STRING","\"2 \\r\\n2\\r\\n\"",295],",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'&&'",295],",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'2'",295],")",",",["T_WHITESPACE","\n            ",295],")",";",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE","\n\n        ",297],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_ARRAY","array",299],"(",["T_WHITESPACE","\n            ",299],["T_ARRAY","array",300],"(",["T_CONSTANT_ENCAPSED_STRING","\"1\\n1\\n\"",300],",",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","';'",300],",",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'1'",300],")",",",["T_WHITESPACE","\n            ",300],["T_ARRAY","array",301],"(",["T_CONSTANT_ENCAPSED_STRING","\"2\\n2\\n\"",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'&&'",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'2'",301],")",",",["T_WHITESPACE","\n        ",301],")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * @dataProvider chainedCommandsOutputProvider\n     *\/",305],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","testChainedCommandsOutput",308],"(",["T_VARIABLE","$expected",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$operator",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$input",308],")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$process",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getProcess",310],"(",["T_STRING","sprintf",310],"(",["T_CONSTANT_ENCAPSED_STRING","'echo %s %s echo %s'",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$input",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$operator",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$input",310],")",")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$process",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","run",311],"(",")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","assertEquals",312],"(",["T_VARIABLE","$expected",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$process",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getOutput",312],"(",")",")",";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","testCallbackIsExecutedForOutput",315],"(",")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$p",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getProcess",317],"(",["T_STRING","sprintf",317],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",317],",",["T_WHITESPACE"," ",317],["T_STRING","self",317],["T_DOUBLE_COLON","::",317],["T_VARIABLE","$phpBin",317],",",["T_WHITESPACE"," ",317],["T_STRING","escapeshellarg",317],"(",["T_CONSTANT_ENCAPSED_STRING","'echo \\'foo\\';'",317],")",")",")",";",["T_WHITESPACE","\n\n        ",317],["T_VARIABLE","$called",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","false",319],";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$p",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","run",320],"(",["T_FUNCTION","function",320],["T_WHITESPACE"," ",320],"(",["T_VARIABLE","$type",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$buffer",320],")",["T_WHITESPACE"," ",320],["T_USE","use",320],["T_WHITESPACE"," ",320],"(","&",["T_VARIABLE","$called",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_VARIABLE","$called",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$buffer",321],["T_WHITESPACE"," ",321],["T_IS_IDENTICAL","===",321],["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'foo'",321],";",["T_WHITESPACE","\n        ",321],"}",")",";",["T_WHITESPACE","\n\n        ",322],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","assertTrue",324],"(",["T_VARIABLE","$called",324],",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'The callback should be executed with the output'",324],")",";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_PUBLIC","public",327],["T_WHITESPACE"," ",327],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","testCallbackIsExecutedForOutputWheneverOutputIsDisabled",327],"(",")",["T_WHITESPACE","\n    ",327],"{",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$p",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getProcess",329],"(",["T_STRING","sprintf",329],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",329],",",["T_WHITESPACE"," ",329],["T_STRING","self",329],["T_DOUBLE_COLON","::",329],["T_VARIABLE","$phpBin",329],",",["T_WHITESPACE"," ",329],["T_STRING","escapeshellarg",329],"(",["T_CONSTANT_ENCAPSED_STRING","'echo \\'foo\\';'",329],")",")",")",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$p",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","disableOutput",330],"(",")",";",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$called",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_STRING","false",332],";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$p",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","run",333],"(",["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],"(",["T_VARIABLE","$type",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$buffer",333],")",["T_WHITESPACE"," ",333],["T_USE","use",333],["T_WHITESPACE"," ",333],"(","&",["T_VARIABLE","$called",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$called",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$buffer",334],["T_WHITESPACE"," ",334],["T_IS_IDENTICAL","===",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'foo'",334],";",["T_WHITESPACE","\n        ",334],"}",")",";",["T_WHITESPACE","\n\n        ",335],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","assertTrue",337],"(",["T_VARIABLE","$called",337],",",["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'The callback should be executed with the output'",337],")",";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n\n    ",338],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","testGetErrorOutput",340],"(",")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$p",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getProcess",342],"(",["T_STRING","sprintf",342],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",342],",",["T_WHITESPACE"," ",342],["T_STRING","self",342],["T_DOUBLE_COLON","::",342],["T_VARIABLE","$phpBin",342],",",["T_WHITESPACE"," ",342],["T_STRING","escapeshellarg",342],"(",["T_CONSTANT_ENCAPSED_STRING","'$n = 0; while ($n < 3) { file_put_contents(\\'php:\/\/stderr\\', \\'ERROR\\'); $n++; }'",342],")",")",")",";",["T_WHITESPACE","\n\n        ",342],["T_VARIABLE","$p",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","run",344],"(",")",";",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","assertEquals",345],"(",["T_LNUMBER","3",345],",",["T_WHITESPACE"," ",345],["T_STRING","preg_match_all",345],"(",["T_CONSTANT_ENCAPSED_STRING","'\/ERROR\/'",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$p",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getErrorOutput",345],"(",")",",",["T_WHITESPACE"," ",345],["T_VARIABLE","$matches",345],")",")",";",["T_WHITESPACE","\n    ",345],"}",["T_WHITESPACE","\n\n    ",346],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","testFlushErrorOutput",348],"(",")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$p",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getProcess",350],"(",["T_STRING","sprintf",350],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",350],",",["T_WHITESPACE"," ",350],["T_STRING","self",350],["T_DOUBLE_COLON","::",350],["T_VARIABLE","$phpBin",350],",",["T_WHITESPACE"," ",350],["T_STRING","escapeshellarg",350],"(",["T_CONSTANT_ENCAPSED_STRING","'$n = 0; while ($n < 3) { file_put_contents(\\'php:\/\/stderr\\', \\'ERROR\\'); $n++; }'",350],")",")",")",";",["T_WHITESPACE","\n\n        ",350],["T_VARIABLE","$p",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","run",352],"(",")",";",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$p",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","clearErrorOutput",353],"(",")",";",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","assertEmpty",354],"(",["T_VARIABLE","$p",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getErrorOutput",354],"(",")",")",";",["T_WHITESPACE","\n    ",354],"}",["T_WHITESPACE","\n\n    ",355],["T_DOC_COMMENT","\/**\n     * @dataProvider provideIncrementalOutput\n     *\/",357],["T_WHITESPACE","\n    ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","testIncrementalOutput",360],"(",["T_VARIABLE","$getOutput",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$getIncrementalOutput",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$uri",360],")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$lock",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_STRING","tempnam",362],"(",["T_STRING","sys_get_temp_dir",362],"(",")",",",["T_WHITESPACE"," ",362],["T_FUNC_C","__FUNCTION__",362],")",";",["T_WHITESPACE","\n\n        ",362],["T_VARIABLE","$p",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getProcess",364],"(",["T_STRING","sprintf",364],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",364],",",["T_WHITESPACE"," ",364],["T_STRING","self",364],["T_DOUBLE_COLON","::",364],["T_VARIABLE","$phpBin",364],",",["T_WHITESPACE"," ",364],["T_STRING","escapeshellarg",364],"(",["T_CONSTANT_ENCAPSED_STRING","'file_put_contents($s = \\''",364],".",["T_VARIABLE","$uri",364],".",["T_CONSTANT_ENCAPSED_STRING","'\\', \\'foo\\'); flock(fopen('",364],".",["T_STRING","var_export",364],"(",["T_VARIABLE","$lock",364],",",["T_WHITESPACE"," ",364],["T_STRING","true",364],")",".",["T_CONSTANT_ENCAPSED_STRING","', \\'r\\'), LOCK_EX); file_put_contents($s, \\'bar\\');'",364],")",")",")",";",["T_WHITESPACE","\n\n        ",364],["T_VARIABLE","$h",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_STRING","fopen",366],"(",["T_VARIABLE","$lock",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'w'",366],")",";",["T_WHITESPACE","\n        ",366],["T_STRING","flock",367],"(",["T_VARIABLE","$h",367],",",["T_WHITESPACE"," ",367],["T_STRING","LOCK_EX",367],")",";",["T_WHITESPACE","\n\n        ",367],["T_VARIABLE","$p",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","start",369],"(",")",";",["T_WHITESPACE","\n\n        ",369],["T_FOREACH","foreach",371],["T_WHITESPACE"," ",371],"(",["T_ARRAY","array",371],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",371],",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'bar'",371],")",["T_WHITESPACE"," ",371],["T_AS","as",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$s",371],")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_WHILE","while",372],["T_WHITESPACE"," ",372],"(",["T_STRING","false",372],["T_WHITESPACE"," ",372],["T_IS_IDENTICAL","===",372],["T_WHITESPACE"," ",372],["T_STRING","strpos",372],"(",["T_VARIABLE","$p",372],["T_OBJECT_OPERATOR","->",372],["T_VARIABLE","$getOutput",372],"(",")",",",["T_WHITESPACE"," ",372],["T_VARIABLE","$s",372],")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                ",372],["T_STRING","usleep",373],"(",["T_LNUMBER","1000",373],")",";",["T_WHITESPACE","\n            ",373],"}",["T_WHITESPACE","\n\n            ",374],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","assertSame",376],"(",["T_VARIABLE","$s",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$p",376],["T_OBJECT_OPERATOR","->",376],["T_VARIABLE","$getIncrementalOutput",376],"(",")",")",";",["T_WHITESPACE","\n            ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","assertSame",377],"(",["T_CONSTANT_ENCAPSED_STRING","''",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$p",377],["T_OBJECT_OPERATOR","->",377],["T_VARIABLE","$getIncrementalOutput",377],"(",")",")",";",["T_WHITESPACE","\n\n            ",377],["T_STRING","flock",379],"(",["T_VARIABLE","$h",379],",",["T_WHITESPACE"," ",379],["T_STRING","LOCK_UN",379],")",";",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n\n        ",380],["T_STRING","fclose",382],"(",["T_VARIABLE","$h",382],")",";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_PUBLIC","public",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","provideIncrementalOutput",385],"(",")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_ARRAY","array",387],"(",["T_WHITESPACE","\n            ",387],["T_ARRAY","array",388],"(",["T_CONSTANT_ENCAPSED_STRING","'getOutput'",388],",",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'getIncrementalOutput'",388],",",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'php:\/\/stdout'",388],")",",",["T_WHITESPACE","\n            ",388],["T_ARRAY","array",389],"(",["T_CONSTANT_ENCAPSED_STRING","'getErrorOutput'",389],",",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'getIncrementalErrorOutput'",389],",",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'php:\/\/stderr'",389],")",",",["T_WHITESPACE","\n        ",389],")",";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","testGetOutput",393],"(",")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$p",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getProcess",395],"(",["T_STRING","sprintf",395],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",395],",",["T_WHITESPACE"," ",395],["T_STRING","self",395],["T_DOUBLE_COLON","::",395],["T_VARIABLE","$phpBin",395],",",["T_WHITESPACE"," ",395],["T_STRING","escapeshellarg",395],"(",["T_CONSTANT_ENCAPSED_STRING","'$n = 0; while ($n < 3) { echo \\' foo \\'; $n++; }'",395],")",")",")",";",["T_WHITESPACE","\n\n        ",395],["T_VARIABLE","$p",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","run",397],"(",")",";",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","assertEquals",398],"(",["T_LNUMBER","3",398],",",["T_WHITESPACE"," ",398],["T_STRING","preg_match_all",398],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo\/'",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$p",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getOutput",398],"(",")",",",["T_WHITESPACE"," ",398],["T_VARIABLE","$matches",398],")",")",";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_PUBLIC","public",401],["T_WHITESPACE"," ",401],["T_FUNCTION","function",401],["T_WHITESPACE"," ",401],["T_STRING","testFlushOutput",401],"(",")",["T_WHITESPACE","\n    ",401],"{",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$p",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getProcess",403],"(",["T_STRING","sprintf",403],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",403],",",["T_WHITESPACE"," ",403],["T_STRING","self",403],["T_DOUBLE_COLON","::",403],["T_VARIABLE","$phpBin",403],",",["T_WHITESPACE"," ",403],["T_STRING","escapeshellarg",403],"(",["T_CONSTANT_ENCAPSED_STRING","'$n=0;while ($n<3) {echo \\' foo \\';$n++;}'",403],")",")",")",";",["T_WHITESPACE","\n\n        ",403],["T_VARIABLE","$p",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","run",405],"(",")",";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$p",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","clearOutput",406],"(",")",";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","assertEmpty",407],"(",["T_VARIABLE","$p",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getOutput",407],"(",")",")",";",["T_WHITESPACE","\n    ",407],"}",["T_WHITESPACE","\n\n    ",408],["T_PUBLIC","public",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","testZeroAsOutput",410],"(",")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_IF","if",412],["T_WHITESPACE"," ",412],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",412],["T_WHITESPACE"," ",412],["T_IS_IDENTICAL","===",412],["T_WHITESPACE"," ",412],["T_STRING","DIRECTORY_SEPARATOR",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_COMMENT","\/\/ see http:\/\/stackoverflow.com\/questions\/7105433\/windows-batch-echo-without-new-line\n",413],["T_WHITESPACE","            ",414],["T_VARIABLE","$p",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getProcess",414],"(",["T_CONSTANT_ENCAPSED_STRING","'echo | set \/p dummyName=0'",414],")",";",["T_WHITESPACE","\n        ",414],"}",["T_WHITESPACE"," ",415],["T_ELSE","else",415],["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n            ",415],["T_VARIABLE","$p",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getProcess",416],"(",["T_CONSTANT_ENCAPSED_STRING","'printf 0'",416],")",";",["T_WHITESPACE","\n        ",416],"}",["T_WHITESPACE","\n\n        ",417],["T_VARIABLE","$p",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","run",419],"(",")",";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","assertSame",420],"(",["T_CONSTANT_ENCAPSED_STRING","'0'",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$p",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getOutput",420],"(",")",")",";",["T_WHITESPACE","\n    ",420],"}",["T_WHITESPACE","\n\n    ",421],["T_PUBLIC","public",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","testExitCodeCommandFailed",423],"(",")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_IF","if",425],["T_WHITESPACE"," ",425],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",425],["T_WHITESPACE"," ",425],["T_IS_IDENTICAL","===",425],["T_WHITESPACE"," ",425],["T_STRING","DIRECTORY_SEPARATOR",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","markTestSkipped",426],"(",["T_CONSTANT_ENCAPSED_STRING","'Windows does not support POSIX exit code'",426],")",";",["T_WHITESPACE","\n        ",426],"}",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","skipIfNotEnhancedSigchild",428],"(",")",";",["T_WHITESPACE","\n\n        ",428],["T_COMMENT","\/\/ such command run in bash return an exitcode 127\n",430],["T_WHITESPACE","        ",431],["T_VARIABLE","$process",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getProcess",431],"(",["T_CONSTANT_ENCAPSED_STRING","'nonexistingcommandIhopeneversomeonewouldnameacommandlikethis'",431],")",";",["T_WHITESPACE","\n        ",431],["T_VARIABLE","$process",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","run",432],"(",")",";",["T_WHITESPACE","\n\n        ",432],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","assertGreaterThan",434],"(",["T_LNUMBER","0",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$process",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getExitCode",434],"(",")",")",";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_PUBLIC","public",437],["T_WHITESPACE"," ",437],["T_FUNCTION","function",437],["T_WHITESPACE"," ",437],["T_STRING","testTTYCommand",437],"(",")",["T_WHITESPACE","\n    ",437],"{",["T_WHITESPACE","\n        ",438],["T_IF","if",439],["T_WHITESPACE"," ",439],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",439],["T_WHITESPACE"," ",439],["T_IS_IDENTICAL","===",439],["T_WHITESPACE"," ",439],["T_STRING","DIRECTORY_SEPARATOR",439],")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n            ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","markTestSkipped",440],"(",["T_CONSTANT_ENCAPSED_STRING","'Windows does not have \/dev\/tty support'",440],")",";",["T_WHITESPACE","\n        ",440],"}",["T_WHITESPACE","\n\n        ",441],["T_VARIABLE","$process",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getProcess",443],"(",["T_CONSTANT_ENCAPSED_STRING","'echo \"foo\" >> \/dev\/null && '",443],".",["T_STRING","self",443],["T_DOUBLE_COLON","::",443],["T_VARIABLE","$phpBin",443],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"usleep(100000);\"'",443],")",";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$process",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","setTty",444],"(",["T_STRING","true",444],")",";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$process",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","start",445],"(",")",";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","assertTrue",446],"(",["T_VARIABLE","$process",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","isRunning",446],"(",")",")",";",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$process",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","wait",447],"(",")",";",["T_WHITESPACE","\n\n        ",447],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","assertSame",449],"(",["T_STRING","Process",449],["T_DOUBLE_COLON","::",449],["T_STRING","STATUS_TERMINATED",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$process",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getStatus",449],"(",")",")",";",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n\n    ",450],["T_PUBLIC","public",452],["T_WHITESPACE"," ",452],["T_FUNCTION","function",452],["T_WHITESPACE"," ",452],["T_STRING","testTTYCommandExitCode",452],"(",")",["T_WHITESPACE","\n    ",452],"{",["T_WHITESPACE","\n        ",453],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",454],["T_WHITESPACE"," ",454],["T_IS_IDENTICAL","===",454],["T_WHITESPACE"," ",454],["T_STRING","DIRECTORY_SEPARATOR",454],")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n            ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","markTestSkipped",455],"(",["T_CONSTANT_ENCAPSED_STRING","'Windows does have \/dev\/tty support'",455],")",";",["T_WHITESPACE","\n        ",455],"}",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","skipIfNotEnhancedSigchild",457],"(",")",";",["T_WHITESPACE","\n\n        ",457],["T_VARIABLE","$process",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getProcess",459],"(",["T_CONSTANT_ENCAPSED_STRING","'echo \"foo\" >> \/dev\/null'",459],")",";",["T_WHITESPACE","\n        ",459],["T_VARIABLE","$process",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","setTty",460],"(",["T_STRING","true",460],")",";",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$process",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","run",461],"(",")",";",["T_WHITESPACE","\n\n        ",461],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","assertTrue",463],"(",["T_VARIABLE","$process",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","isSuccessful",463],"(",")",")",";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\RuntimeException\n     * @expectedExceptionMessage TTY mode is not supported on Windows platform.\n     *\/",466],["T_WHITESPACE","\n    ",469],["T_PUBLIC","public",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","testTTYInWindowsEnvironment",470],"(",")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_IF","if",472],["T_WHITESPACE"," ",472],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",472],["T_WHITESPACE"," ",472],["T_IS_NOT_IDENTICAL","!==",472],["T_WHITESPACE"," ",472],["T_STRING","DIRECTORY_SEPARATOR",472],")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n            ",472],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","markTestSkipped",473],"(",["T_CONSTANT_ENCAPSED_STRING","'This test is for Windows platform only'",473],")",";",["T_WHITESPACE","\n        ",473],"}",["T_WHITESPACE","\n\n        ",474],["T_VARIABLE","$process",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getProcess",476],"(",["T_CONSTANT_ENCAPSED_STRING","'echo \"foo\" >> \/dev\/null'",476],")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$process",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","setTty",477],"(",["T_STRING","false",477],")",";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$process",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","setTty",478],"(",["T_STRING","true",478],")",";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_PUBLIC","public",481],["T_WHITESPACE"," ",481],["T_FUNCTION","function",481],["T_WHITESPACE"," ",481],["T_STRING","testExitCodeTextIsNullWhenExitCodeIsNull",481],"(",")",["T_WHITESPACE","\n    ",481],"{",["T_WHITESPACE","\n        ",482],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","skipIfNotEnhancedSigchild",483],"(",")",";",["T_WHITESPACE","\n\n        ",483],["T_VARIABLE","$process",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getProcess",485],"(",["T_CONSTANT_ENCAPSED_STRING","''",485],")",";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","assertNull",486],"(",["T_VARIABLE","$process",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getExitCodeText",486],"(",")",")",";",["T_WHITESPACE","\n    ",486],"}",["T_WHITESPACE","\n\n    ",487],["T_PUBLIC","public",489],["T_WHITESPACE"," ",489],["T_FUNCTION","function",489],["T_WHITESPACE"," ",489],["T_STRING","testPTYCommand",489],"(",")",["T_WHITESPACE","\n    ",489],"{",["T_WHITESPACE","\n        ",490],["T_IF","if",491],["T_WHITESPACE"," ",491],"(","!",["T_STRING","Process",491],["T_DOUBLE_COLON","::",491],["T_STRING","isPtySupported",491],"(",")",")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n            ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","markTestSkipped",492],"(",["T_CONSTANT_ENCAPSED_STRING","'PTY is not supported on this operating system.'",492],")",";",["T_WHITESPACE","\n        ",492],"}",["T_WHITESPACE","\n\n        ",493],["T_VARIABLE","$process",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getProcess",495],"(",["T_CONSTANT_ENCAPSED_STRING","'echo \"foo\"'",495],")",";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$process",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","setPty",496],"(",["T_STRING","true",496],")",";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$process",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","run",497],"(",")",";",["T_WHITESPACE","\n\n        ",497],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","assertSame",499],"(",["T_STRING","Process",499],["T_DOUBLE_COLON","::",499],["T_STRING","STATUS_TERMINATED",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$process",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getStatus",499],"(",")",")",";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","assertEquals",500],"(",["T_CONSTANT_ENCAPSED_STRING","\"foo\\r\\n\"",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$process",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getOutput",500],"(",")",")",";",["T_WHITESPACE","\n    ",500],"}",["T_WHITESPACE","\n\n    ",501],["T_PUBLIC","public",503],["T_WHITESPACE"," ",503],["T_FUNCTION","function",503],["T_WHITESPACE"," ",503],["T_STRING","testMustRun",503],"(",")",["T_WHITESPACE","\n    ",503],"{",["T_WHITESPACE","\n        ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","skipIfNotEnhancedSigchild",505],"(",")",";",["T_WHITESPACE","\n\n        ",505],["T_VARIABLE","$process",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getProcess",507],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",507],")",";",["T_WHITESPACE","\n\n        ",507],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","assertSame",509],"(",["T_VARIABLE","$process",509],",",["T_WHITESPACE"," ",509],["T_VARIABLE","$process",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","mustRun",509],"(",")",")",";",["T_WHITESPACE","\n        ",509],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","assertEquals",510],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",510],".",["T_STRING","PHP_EOL",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$process",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getOutput",510],"(",")",")",";",["T_WHITESPACE","\n    ",510],"}",["T_WHITESPACE","\n\n    ",511],["T_PUBLIC","public",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","testSuccessfulMustRunHasCorrectExitCode",513],"(",")",["T_WHITESPACE","\n    ",513],"{",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","skipIfNotEnhancedSigchild",515],"(",")",";",["T_WHITESPACE","\n\n        ",515],["T_VARIABLE","$process",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getProcess",517],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",517],")",["T_OBJECT_OPERATOR","->",517],["T_STRING","mustRun",517],"(",")",";",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","assertEquals",518],"(",["T_LNUMBER","0",518],",",["T_WHITESPACE"," ",518],["T_VARIABLE","$process",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getExitCode",518],"(",")",")",";",["T_WHITESPACE","\n    ",518],"}",["T_WHITESPACE","\n\n    ",519],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\ProcessFailedException\n     *\/",521],["T_WHITESPACE","\n    ",523],["T_PUBLIC","public",524],["T_WHITESPACE"," ",524],["T_FUNCTION","function",524],["T_WHITESPACE"," ",524],["T_STRING","testMustRunThrowsException",524],"(",")",["T_WHITESPACE","\n    ",524],"{",["T_WHITESPACE","\n        ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","skipIfNotEnhancedSigchild",526],"(",")",";",["T_WHITESPACE","\n\n        ",526],["T_VARIABLE","$process",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getProcess",528],"(",["T_CONSTANT_ENCAPSED_STRING","'exit 1'",528],")",";",["T_WHITESPACE","\n        ",528],["T_VARIABLE","$process",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","mustRun",529],"(",")",";",["T_WHITESPACE","\n    ",529],"}",["T_WHITESPACE","\n\n    ",530],["T_PUBLIC","public",532],["T_WHITESPACE"," ",532],["T_FUNCTION","function",532],["T_WHITESPACE"," ",532],["T_STRING","testExitCodeText",532],"(",")",["T_WHITESPACE","\n    ",532],"{",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","skipIfNotEnhancedSigchild",534],"(",")",";",["T_WHITESPACE","\n\n        ",534],["T_VARIABLE","$process",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","getProcess",536],"(",["T_CONSTANT_ENCAPSED_STRING","''",536],")",";",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$r",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_NEW","new",537],["T_WHITESPACE"," ",537],["T_NS_SEPARATOR","\\",537],["T_STRING","ReflectionObject",537],"(",["T_VARIABLE","$process",537],")",";",["T_WHITESPACE","\n        ",537],["T_VARIABLE","$p",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$r",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","getProperty",538],"(",["T_CONSTANT_ENCAPSED_STRING","'exitcode'",538],")",";",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$p",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","setAccessible",539],"(",["T_STRING","true",539],")",";",["T_WHITESPACE","\n\n        ",539],["T_VARIABLE","$p",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","setValue",541],"(",["T_VARIABLE","$process",541],",",["T_WHITESPACE"," ",541],["T_LNUMBER","2",541],")",";",["T_WHITESPACE","\n        ",541],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","assertEquals",542],"(",["T_CONSTANT_ENCAPSED_STRING","'Misuse of shell builtins'",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$process",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getExitCodeText",542],"(",")",")",";",["T_WHITESPACE","\n    ",542],"}",["T_WHITESPACE","\n\n    ",543],["T_PUBLIC","public",545],["T_WHITESPACE"," ",545],["T_FUNCTION","function",545],["T_WHITESPACE"," ",545],["T_STRING","testStartIsNonBlocking",545],"(",")",["T_WHITESPACE","\n    ",545],"{",["T_WHITESPACE","\n        ",546],["T_VARIABLE","$process",547],["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","getProcess",547],"(",["T_STRING","self",547],["T_DOUBLE_COLON","::",547],["T_VARIABLE","$phpBin",547],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"usleep(500000);\"'",547],")",";",["T_WHITESPACE","\n        ",547],["T_VARIABLE","$start",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_STRING","microtime",548],"(",["T_STRING","true",548],")",";",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$process",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","start",549],"(",")",";",["T_WHITESPACE","\n        ",549],["T_VARIABLE","$end",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_STRING","microtime",550],"(",["T_STRING","true",550],")",";",["T_WHITESPACE","\n        ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","assertLessThan",551],"(",["T_DNUMBER","0.4",551],",",["T_WHITESPACE"," ",551],["T_VARIABLE","$end",551],["T_WHITESPACE"," ",551],"-",["T_WHITESPACE"," ",551],["T_VARIABLE","$start",551],")",";",["T_WHITESPACE","\n        ",551],["T_VARIABLE","$process",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","stop",552],"(",")",";",["T_WHITESPACE","\n    ",552],"}",["T_WHITESPACE","\n\n    ",553],["T_PUBLIC","public",555],["T_WHITESPACE"," ",555],["T_FUNCTION","function",555],["T_WHITESPACE"," ",555],["T_STRING","testUpdateStatus",555],"(",")",["T_WHITESPACE","\n    ",555],"{",["T_WHITESPACE","\n        ",556],["T_VARIABLE","$process",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","getProcess",557],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",557],")",";",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$process",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","run",558],"(",")",";",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","assertTrue",559],"(",["T_STRING","strlen",559],"(",["T_VARIABLE","$process",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","getOutput",559],"(",")",")",["T_WHITESPACE"," ",559],">",["T_WHITESPACE"," ",559],["T_LNUMBER","0",559],")",";",["T_WHITESPACE","\n    ",559],"}",["T_WHITESPACE","\n\n    ",560],["T_PUBLIC","public",562],["T_WHITESPACE"," ",562],["T_FUNCTION","function",562],["T_WHITESPACE"," ",562],["T_STRING","testGetExitCodeIsNullOnStart",562],"(",")",["T_WHITESPACE","\n    ",562],"{",["T_WHITESPACE","\n        ",563],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","skipIfNotEnhancedSigchild",564],"(",")",";",["T_WHITESPACE","\n\n        ",564],["T_VARIABLE","$process",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","getProcess",566],"(",["T_STRING","self",566],["T_DOUBLE_COLON","::",566],["T_VARIABLE","$phpBin",566],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"usleep(100000);\"'",566],")",";",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","assertNull",567],"(",["T_VARIABLE","$process",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getExitCode",567],"(",")",")",";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$process",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","start",568],"(",")",";",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","assertNull",569],"(",["T_VARIABLE","$process",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","getExitCode",569],"(",")",")",";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$process",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","wait",570],"(",")",";",["T_WHITESPACE","\n        ",570],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","assertEquals",571],"(",["T_LNUMBER","0",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$process",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","getExitCode",571],"(",")",")",";",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_PUBLIC","public",574],["T_WHITESPACE"," ",574],["T_FUNCTION","function",574],["T_WHITESPACE"," ",574],["T_STRING","testGetExitCodeIsNullOnWhenStartingAgain",574],"(",")",["T_WHITESPACE","\n    ",574],"{",["T_WHITESPACE","\n        ",575],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","skipIfNotEnhancedSigchild",576],"(",")",";",["T_WHITESPACE","\n\n        ",576],["T_VARIABLE","$process",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","getProcess",578],"(",["T_STRING","self",578],["T_DOUBLE_COLON","::",578],["T_VARIABLE","$phpBin",578],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"usleep(100000);\"'",578],")",";",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$process",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","run",579],"(",")",";",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","assertEquals",580],"(",["T_LNUMBER","0",580],",",["T_WHITESPACE"," ",580],["T_VARIABLE","$process",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","getExitCode",580],"(",")",")",";",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$process",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","start",581],"(",")",";",["T_WHITESPACE","\n        ",581],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","assertNull",582],"(",["T_VARIABLE","$process",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","getExitCode",582],"(",")",")",";",["T_WHITESPACE","\n        ",582],["T_VARIABLE","$process",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","wait",583],"(",")",";",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","assertEquals",584],"(",["T_LNUMBER","0",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$process",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","getExitCode",584],"(",")",")",";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_PUBLIC","public",587],["T_WHITESPACE"," ",587],["T_FUNCTION","function",587],["T_WHITESPACE"," ",587],["T_STRING","testGetExitCode",587],"(",")",["T_WHITESPACE","\n    ",587],"{",["T_WHITESPACE","\n        ",588],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","skipIfNotEnhancedSigchild",589],"(",")",";",["T_WHITESPACE","\n\n        ",589],["T_VARIABLE","$process",591],["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","getProcess",591],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",591],")",";",["T_WHITESPACE","\n        ",591],["T_VARIABLE","$process",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","run",592],"(",")",";",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","assertSame",593],"(",["T_LNUMBER","0",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$process",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","getExitCode",593],"(",")",")",";",["T_WHITESPACE","\n    ",593],"}",["T_WHITESPACE","\n\n    ",594],["T_PUBLIC","public",596],["T_WHITESPACE"," ",596],["T_FUNCTION","function",596],["T_WHITESPACE"," ",596],["T_STRING","testStatus",596],"(",")",["T_WHITESPACE","\n    ",596],"{",["T_WHITESPACE","\n        ",597],["T_VARIABLE","$process",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","getProcess",598],"(",["T_STRING","self",598],["T_DOUBLE_COLON","::",598],["T_VARIABLE","$phpBin",598],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"usleep(100000);\"'",598],")",";",["T_WHITESPACE","\n        ",598],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","assertFalse",599],"(",["T_VARIABLE","$process",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","isRunning",599],"(",")",")",";",["T_WHITESPACE","\n        ",599],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","assertFalse",600],"(",["T_VARIABLE","$process",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","isStarted",600],"(",")",")",";",["T_WHITESPACE","\n        ",600],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","assertFalse",601],"(",["T_VARIABLE","$process",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","isTerminated",601],"(",")",")",";",["T_WHITESPACE","\n        ",601],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","assertSame",602],"(",["T_STRING","Process",602],["T_DOUBLE_COLON","::",602],["T_STRING","STATUS_READY",602],",",["T_WHITESPACE"," ",602],["T_VARIABLE","$process",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getStatus",602],"(",")",")",";",["T_WHITESPACE","\n        ",602],["T_VARIABLE","$process",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","start",603],"(",")",";",["T_WHITESPACE","\n        ",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","assertTrue",604],"(",["T_VARIABLE","$process",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","isRunning",604],"(",")",")",";",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","assertTrue",605],"(",["T_VARIABLE","$process",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","isStarted",605],"(",")",")",";",["T_WHITESPACE","\n        ",605],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","assertFalse",606],"(",["T_VARIABLE","$process",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","isTerminated",606],"(",")",")",";",["T_WHITESPACE","\n        ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","assertSame",607],"(",["T_STRING","Process",607],["T_DOUBLE_COLON","::",607],["T_STRING","STATUS_STARTED",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$process",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","getStatus",607],"(",")",")",";",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$process",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","wait",608],"(",")",";",["T_WHITESPACE","\n        ",608],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","assertFalse",609],"(",["T_VARIABLE","$process",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","isRunning",609],"(",")",")",";",["T_WHITESPACE","\n        ",609],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","assertTrue",610],"(",["T_VARIABLE","$process",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","isStarted",610],"(",")",")",";",["T_WHITESPACE","\n        ",610],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","assertTrue",611],"(",["T_VARIABLE","$process",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","isTerminated",611],"(",")",")",";",["T_WHITESPACE","\n        ",611],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","assertSame",612],"(",["T_STRING","Process",612],["T_DOUBLE_COLON","::",612],["T_STRING","STATUS_TERMINATED",612],",",["T_WHITESPACE"," ",612],["T_VARIABLE","$process",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","getStatus",612],"(",")",")",";",["T_WHITESPACE","\n    ",612],"}",["T_WHITESPACE","\n\n    ",613],["T_PUBLIC","public",615],["T_WHITESPACE"," ",615],["T_FUNCTION","function",615],["T_WHITESPACE"," ",615],["T_STRING","testStop",615],"(",")",["T_WHITESPACE","\n    ",615],"{",["T_WHITESPACE","\n        ",616],["T_VARIABLE","$process",617],["T_WHITESPACE"," ",617],"=",["T_WHITESPACE"," ",617],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","getProcess",617],"(",["T_STRING","self",617],["T_DOUBLE_COLON","::",617],["T_VARIABLE","$phpBin",617],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(31);\"'",617],")",";",["T_WHITESPACE","\n        ",617],["T_VARIABLE","$process",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","start",618],"(",")",";",["T_WHITESPACE","\n        ",618],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","assertTrue",619],"(",["T_VARIABLE","$process",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","isRunning",619],"(",")",")",";",["T_WHITESPACE","\n        ",619],["T_VARIABLE","$process",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","stop",620],"(",")",";",["T_WHITESPACE","\n        ",620],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","assertFalse",621],"(",["T_VARIABLE","$process",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","isRunning",621],"(",")",")",";",["T_WHITESPACE","\n    ",621],"}",["T_WHITESPACE","\n\n    ",622],["T_PUBLIC","public",624],["T_WHITESPACE"," ",624],["T_FUNCTION","function",624],["T_WHITESPACE"," ",624],["T_STRING","testIsSuccessful",624],"(",")",["T_WHITESPACE","\n    ",624],"{",["T_WHITESPACE","\n        ",625],["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","skipIfNotEnhancedSigchild",626],"(",")",";",["T_WHITESPACE","\n\n        ",626],["T_VARIABLE","$process",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","getProcess",628],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",628],")",";",["T_WHITESPACE","\n        ",628],["T_VARIABLE","$process",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","run",629],"(",")",";",["T_WHITESPACE","\n        ",629],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","assertTrue",630],"(",["T_VARIABLE","$process",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","isSuccessful",630],"(",")",")",";",["T_WHITESPACE","\n    ",630],"}",["T_WHITESPACE","\n\n    ",631],["T_PUBLIC","public",633],["T_WHITESPACE"," ",633],["T_FUNCTION","function",633],["T_WHITESPACE"," ",633],["T_STRING","testIsSuccessfulOnlyAfterTerminated",633],"(",")",["T_WHITESPACE","\n    ",633],"{",["T_WHITESPACE","\n        ",634],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","skipIfNotEnhancedSigchild",635],"(",")",";",["T_WHITESPACE","\n\n        ",635],["T_VARIABLE","$process",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getProcess",637],"(",["T_STRING","self",637],["T_DOUBLE_COLON","::",637],["T_VARIABLE","$phpBin",637],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"usleep(100000);\"'",637],")",";",["T_WHITESPACE","\n        ",637],["T_VARIABLE","$process",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","start",638],"(",")",";",["T_WHITESPACE","\n\n        ",638],["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","assertFalse",640],"(",["T_VARIABLE","$process",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","isSuccessful",640],"(",")",")",";",["T_WHITESPACE","\n\n        ",640],["T_VARIABLE","$process",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","wait",642],"(",")",";",["T_WHITESPACE","\n\n        ",642],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","assertTrue",644],"(",["T_VARIABLE","$process",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","isSuccessful",644],"(",")",")",";",["T_WHITESPACE","\n    ",644],"}",["T_WHITESPACE","\n\n    ",645],["T_PUBLIC","public",647],["T_WHITESPACE"," ",647],["T_FUNCTION","function",647],["T_WHITESPACE"," ",647],["T_STRING","testIsNotSuccessful",647],"(",")",["T_WHITESPACE","\n    ",647],"{",["T_WHITESPACE","\n        ",648],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","skipIfNotEnhancedSigchild",649],"(",")",";",["T_WHITESPACE","\n\n        ",649],["T_VARIABLE","$process",651],["T_WHITESPACE"," ",651],"=",["T_WHITESPACE"," ",651],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","getProcess",651],"(",["T_STRING","self",651],["T_DOUBLE_COLON","::",651],["T_VARIABLE","$phpBin",651],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"throw new \\Exception(\\'BOUM\\');\"'",651],")",";",["T_WHITESPACE","\n        ",651],["T_VARIABLE","$process",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","run",652],"(",")",";",["T_WHITESPACE","\n        ",652],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","assertFalse",653],"(",["T_VARIABLE","$process",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","isSuccessful",653],"(",")",")",";",["T_WHITESPACE","\n    ",653],"}",["T_WHITESPACE","\n\n    ",654],["T_PUBLIC","public",656],["T_WHITESPACE"," ",656],["T_FUNCTION","function",656],["T_WHITESPACE"," ",656],["T_STRING","testProcessIsNotSignaled",656],"(",")",["T_WHITESPACE","\n    ",656],"{",["T_WHITESPACE","\n        ",657],["T_IF","if",658],["T_WHITESPACE"," ",658],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",658],["T_WHITESPACE"," ",658],["T_IS_IDENTICAL","===",658],["T_WHITESPACE"," ",658],["T_STRING","DIRECTORY_SEPARATOR",658],")",["T_WHITESPACE"," ",658],"{",["T_WHITESPACE","\n            ",658],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","markTestSkipped",659],"(",["T_CONSTANT_ENCAPSED_STRING","'Windows does not support POSIX signals'",659],")",";",["T_WHITESPACE","\n        ",659],"}",["T_WHITESPACE","\n        ",660],["T_VARIABLE","$this",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","skipIfNotEnhancedSigchild",661],"(",")",";",["T_WHITESPACE","\n\n        ",661],["T_VARIABLE","$process",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","getProcess",663],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",663],")",";",["T_WHITESPACE","\n        ",663],["T_VARIABLE","$process",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","run",664],"(",")",";",["T_WHITESPACE","\n        ",664],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","assertFalse",665],"(",["T_VARIABLE","$process",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","hasBeenSignaled",665],"(",")",")",";",["T_WHITESPACE","\n    ",665],"}",["T_WHITESPACE","\n\n    ",666],["T_PUBLIC","public",668],["T_WHITESPACE"," ",668],["T_FUNCTION","function",668],["T_WHITESPACE"," ",668],["T_STRING","testProcessWithoutTermSignal",668],"(",")",["T_WHITESPACE","\n    ",668],"{",["T_WHITESPACE","\n        ",669],["T_IF","if",670],["T_WHITESPACE"," ",670],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",670],["T_WHITESPACE"," ",670],["T_IS_IDENTICAL","===",670],["T_WHITESPACE"," ",670],["T_STRING","DIRECTORY_SEPARATOR",670],")",["T_WHITESPACE"," ",670],"{",["T_WHITESPACE","\n            ",670],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","markTestSkipped",671],"(",["T_CONSTANT_ENCAPSED_STRING","'Windows does not support POSIX signals'",671],")",";",["T_WHITESPACE","\n        ",671],"}",["T_WHITESPACE","\n        ",672],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","skipIfNotEnhancedSigchild",673],"(",")",";",["T_WHITESPACE","\n\n        ",673],["T_VARIABLE","$process",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","getProcess",675],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",675],")",";",["T_WHITESPACE","\n        ",675],["T_VARIABLE","$process",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","run",676],"(",")",";",["T_WHITESPACE","\n        ",676],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","assertEquals",677],"(",["T_LNUMBER","0",677],",",["T_WHITESPACE"," ",677],["T_VARIABLE","$process",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getTermSignal",677],"(",")",")",";",["T_WHITESPACE","\n    ",677],"}",["T_WHITESPACE","\n\n    ",678],["T_PUBLIC","public",680],["T_WHITESPACE"," ",680],["T_FUNCTION","function",680],["T_WHITESPACE"," ",680],["T_STRING","testProcessIsSignaledIfStopped",680],"(",")",["T_WHITESPACE","\n    ",680],"{",["T_WHITESPACE","\n        ",681],["T_IF","if",682],["T_WHITESPACE"," ",682],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",682],["T_WHITESPACE"," ",682],["T_IS_IDENTICAL","===",682],["T_WHITESPACE"," ",682],["T_STRING","DIRECTORY_SEPARATOR",682],")",["T_WHITESPACE"," ",682],"{",["T_WHITESPACE","\n            ",682],["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","markTestSkipped",683],"(",["T_CONSTANT_ENCAPSED_STRING","'Windows does not support POSIX signals'",683],")",";",["T_WHITESPACE","\n        ",683],"}",["T_WHITESPACE","\n        ",684],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","skipIfNotEnhancedSigchild",685],"(",")",";",["T_WHITESPACE","\n\n        ",685],["T_VARIABLE","$process",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","getProcess",687],"(",["T_STRING","self",687],["T_DOUBLE_COLON","::",687],["T_VARIABLE","$phpBin",687],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(32);\"'",687],")",";",["T_WHITESPACE","\n        ",687],["T_VARIABLE","$process",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","start",688],"(",")",";",["T_WHITESPACE","\n        ",688],["T_VARIABLE","$process",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","stop",689],"(",")",";",["T_WHITESPACE","\n        ",689],["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","assertTrue",690],"(",["T_VARIABLE","$process",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","hasBeenSignaled",690],"(",")",")",";",["T_WHITESPACE","\n        ",690],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","assertEquals",691],"(",["T_LNUMBER","15",691],",",["T_WHITESPACE"," ",691],["T_VARIABLE","$process",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","getTermSignal",691],"(",")",")",";",["T_WHITESPACE"," ",691],["T_COMMENT","\/\/ SIGTERM\n",691],["T_WHITESPACE","    ",692],"}",["T_WHITESPACE","\n\n    ",692],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\RuntimeException\n     * @expectedExceptionMessage The process has been signaled\n     *\/",694],["T_WHITESPACE","\n    ",697],["T_PUBLIC","public",698],["T_WHITESPACE"," ",698],["T_FUNCTION","function",698],["T_WHITESPACE"," ",698],["T_STRING","testProcessThrowsExceptionWhenExternallySignaled",698],"(",")",["T_WHITESPACE","\n    ",698],"{",["T_WHITESPACE","\n        ",699],["T_IF","if",700],["T_WHITESPACE"," ",700],"(","!",["T_STRING","function_exists",700],"(",["T_CONSTANT_ENCAPSED_STRING","'posix_kill'",700],")",")",["T_WHITESPACE"," ",700],"{",["T_WHITESPACE","\n            ",700],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","markTestSkipped",701],"(",["T_CONSTANT_ENCAPSED_STRING","'Function posix_kill is required.'",701],")",";",["T_WHITESPACE","\n        ",701],"}",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","skipIfNotEnhancedSigchild",703],"(",["T_STRING","false",703],")",";",["T_WHITESPACE","\n\n        ",703],["T_VARIABLE","$process",705],["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","getProcess",705],"(",["T_STRING","self",705],["T_DOUBLE_COLON","::",705],["T_VARIABLE","$phpBin",705],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(32.1)\"'",705],")",";",["T_WHITESPACE","\n        ",705],["T_VARIABLE","$process",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","start",706],"(",")",";",["T_WHITESPACE","\n        ",706],["T_STRING","posix_kill",707],"(",["T_VARIABLE","$process",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","getPid",707],"(",")",",",["T_WHITESPACE"," ",707],["T_LNUMBER","9",707],")",";",["T_WHITESPACE"," ",707],["T_COMMENT","\/\/ SIGKILL\n",707],["T_WHITESPACE","\n        ",708],["T_VARIABLE","$process",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","wait",709],"(",")",";",["T_WHITESPACE","\n    ",709],"}",["T_WHITESPACE","\n\n    ",710],["T_PUBLIC","public",712],["T_WHITESPACE"," ",712],["T_FUNCTION","function",712],["T_WHITESPACE"," ",712],["T_STRING","testRestart",712],"(",")",["T_WHITESPACE","\n    ",712],"{",["T_WHITESPACE","\n        ",713],["T_VARIABLE","$process1",714],["T_WHITESPACE"," ",714],"=",["T_WHITESPACE"," ",714],["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","getProcess",714],"(",["T_STRING","self",714],["T_DOUBLE_COLON","::",714],["T_VARIABLE","$phpBin",714],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"echo getmypid();\"'",714],")",";",["T_WHITESPACE","\n        ",714],["T_VARIABLE","$process1",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","run",715],"(",")",";",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$process2",716],["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_VARIABLE","$process1",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","restart",716],"(",")",";",["T_WHITESPACE","\n\n        ",716],["T_VARIABLE","$process2",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","wait",718],"(",")",";",["T_WHITESPACE"," ",718],["T_COMMENT","\/\/ wait for output\n",718],["T_WHITESPACE","\n        ",719],["T_COMMENT","\/\/ Ensure that both processed finished and the output is numeric\n",720],["T_WHITESPACE","        ",721],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","assertFalse",721],"(",["T_VARIABLE","$process1",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","isRunning",721],"(",")",")",";",["T_WHITESPACE","\n        ",721],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","assertFalse",722],"(",["T_VARIABLE","$process2",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","isRunning",722],"(",")",")",";",["T_WHITESPACE","\n        ",722],["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","assertTrue",723],"(",["T_STRING","is_numeric",723],"(",["T_VARIABLE","$process1",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","getOutput",723],"(",")",")",")",";",["T_WHITESPACE","\n        ",723],["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","assertTrue",724],"(",["T_STRING","is_numeric",724],"(",["T_VARIABLE","$process2",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","getOutput",724],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",724],["T_COMMENT","\/\/ Ensure that restart returned a new process by check that the output is different\n",726],["T_WHITESPACE","        ",727],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","assertNotEquals",727],"(",["T_VARIABLE","$process1",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","getOutput",727],"(",")",",",["T_WHITESPACE"," ",727],["T_VARIABLE","$process2",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","getOutput",727],"(",")",")",";",["T_WHITESPACE","\n    ",727],"}",["T_WHITESPACE","\n\n    ",728],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\ProcessTimedOutException\n     * @expectedExceptionMessage exceeded the timeout of 0.1 seconds.\n     *\/",730],["T_WHITESPACE","\n    ",733],["T_PUBLIC","public",734],["T_WHITESPACE"," ",734],["T_FUNCTION","function",734],["T_WHITESPACE"," ",734],["T_STRING","testRunProcessWithTimeout",734],"(",")",["T_WHITESPACE","\n    ",734],"{",["T_WHITESPACE","\n        ",735],["T_VARIABLE","$process",736],["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","getProcess",736],"(",["T_STRING","self",736],["T_DOUBLE_COLON","::",736],["T_VARIABLE","$phpBin",736],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(30);\"'",736],")",";",["T_WHITESPACE","\n        ",736],["T_VARIABLE","$process",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","setTimeout",737],"(",["T_DNUMBER","0.1",737],")",";",["T_WHITESPACE","\n        ",737],["T_VARIABLE","$start",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_STRING","microtime",738],"(",["T_STRING","true",738],")",";",["T_WHITESPACE","\n        ",738],["T_TRY","try",739],["T_WHITESPACE"," ",739],"{",["T_WHITESPACE","\n            ",739],["T_VARIABLE","$process",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","run",740],"(",")",";",["T_WHITESPACE","\n            ",740],["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","fail",741],"(",["T_CONSTANT_ENCAPSED_STRING","'A RuntimeException should have been raised'",741],")",";",["T_WHITESPACE","\n        ",741],"}",["T_WHITESPACE"," ",742],["T_CATCH","catch",742],["T_WHITESPACE"," ",742],"(",["T_STRING","RuntimeException",742],["T_WHITESPACE"," ",742],["T_VARIABLE","$e",742],")",["T_WHITESPACE"," ",742],"{",["T_WHITESPACE","\n        ",742],"}",["T_WHITESPACE","\n\n        ",743],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","assertLessThan",745],"(",["T_LNUMBER","15",745],",",["T_WHITESPACE"," ",745],["T_STRING","microtime",745],"(",["T_STRING","true",745],")",["T_WHITESPACE"," ",745],"-",["T_WHITESPACE"," ",745],["T_VARIABLE","$start",745],")",";",["T_WHITESPACE","\n\n        ",745],["T_THROW","throw",747],["T_WHITESPACE"," ",747],["T_VARIABLE","$e",747],";",["T_WHITESPACE","\n    ",747],"}",["T_WHITESPACE","\n\n    ",748],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\ProcessTimedOutException\n     * @expectedExceptionMessage exceeded the timeout of 0.1 seconds.\n     *\/",750],["T_WHITESPACE","\n    ",753],["T_PUBLIC","public",754],["T_WHITESPACE"," ",754],["T_FUNCTION","function",754],["T_WHITESPACE"," ",754],["T_STRING","testIterateOverProcessWithTimeout",754],"(",")",["T_WHITESPACE","\n    ",754],"{",["T_WHITESPACE","\n        ",755],["T_VARIABLE","$process",756],["T_WHITESPACE"," ",756],"=",["T_WHITESPACE"," ",756],["T_VARIABLE","$this",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","getProcess",756],"(",["T_STRING","self",756],["T_DOUBLE_COLON","::",756],["T_VARIABLE","$phpBin",756],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(30);\"'",756],")",";",["T_WHITESPACE","\n        ",756],["T_VARIABLE","$process",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","setTimeout",757],"(",["T_DNUMBER","0.1",757],")",";",["T_WHITESPACE","\n        ",757],["T_VARIABLE","$start",758],["T_WHITESPACE"," ",758],"=",["T_WHITESPACE"," ",758],["T_STRING","microtime",758],"(",["T_STRING","true",758],")",";",["T_WHITESPACE","\n        ",758],["T_TRY","try",759],["T_WHITESPACE"," ",759],"{",["T_WHITESPACE","\n            ",759],["T_VARIABLE","$process",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","start",760],"(",")",";",["T_WHITESPACE","\n            ",760],["T_FOREACH","foreach",761],["T_WHITESPACE"," ",761],"(",["T_VARIABLE","$process",761],["T_WHITESPACE"," ",761],["T_AS","as",761],["T_WHITESPACE"," ",761],["T_VARIABLE","$buffer",761],")",";",["T_WHITESPACE","\n            ",761],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","fail",762],"(",["T_CONSTANT_ENCAPSED_STRING","'A RuntimeException should have been raised'",762],")",";",["T_WHITESPACE","\n        ",762],"}",["T_WHITESPACE"," ",763],["T_CATCH","catch",763],["T_WHITESPACE"," ",763],"(",["T_STRING","RuntimeException",763],["T_WHITESPACE"," ",763],["T_VARIABLE","$e",763],")",["T_WHITESPACE"," ",763],"{",["T_WHITESPACE","\n        ",763],"}",["T_WHITESPACE","\n\n        ",764],["T_VARIABLE","$this",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","assertLessThan",766],"(",["T_LNUMBER","15",766],",",["T_WHITESPACE"," ",766],["T_STRING","microtime",766],"(",["T_STRING","true",766],")",["T_WHITESPACE"," ",766],"-",["T_WHITESPACE"," ",766],["T_VARIABLE","$start",766],")",";",["T_WHITESPACE","\n\n        ",766],["T_THROW","throw",768],["T_WHITESPACE"," ",768],["T_VARIABLE","$e",768],";",["T_WHITESPACE","\n    ",768],"}",["T_WHITESPACE","\n\n    ",769],["T_PUBLIC","public",771],["T_WHITESPACE"," ",771],["T_FUNCTION","function",771],["T_WHITESPACE"," ",771],["T_STRING","testCheckTimeoutOnNonStartedProcess",771],"(",")",["T_WHITESPACE","\n    ",771],"{",["T_WHITESPACE","\n        ",772],["T_VARIABLE","$process",773],["T_WHITESPACE"," ",773],"=",["T_WHITESPACE"," ",773],["T_VARIABLE","$this",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","getProcess",773],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",773],")",";",["T_WHITESPACE","\n        ",773],["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","assertNull",774],"(",["T_VARIABLE","$process",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","checkTimeout",774],"(",")",")",";",["T_WHITESPACE","\n    ",774],"}",["T_WHITESPACE","\n\n    ",775],["T_PUBLIC","public",777],["T_WHITESPACE"," ",777],["T_FUNCTION","function",777],["T_WHITESPACE"," ",777],["T_STRING","testCheckTimeoutOnTerminatedProcess",777],"(",")",["T_WHITESPACE","\n    ",777],"{",["T_WHITESPACE","\n        ",778],["T_VARIABLE","$process",779],["T_WHITESPACE"," ",779],"=",["T_WHITESPACE"," ",779],["T_VARIABLE","$this",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","getProcess",779],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",779],")",";",["T_WHITESPACE","\n        ",779],["T_VARIABLE","$process",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","run",780],"(",")",";",["T_WHITESPACE","\n        ",780],["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","assertNull",781],"(",["T_VARIABLE","$process",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","checkTimeout",781],"(",")",")",";",["T_WHITESPACE","\n    ",781],"}",["T_WHITESPACE","\n\n    ",782],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\ProcessTimedOutException\n     * @expectedExceptionMessage exceeded the timeout of 0.1 seconds.\n     *\/",784],["T_WHITESPACE","\n    ",787],["T_PUBLIC","public",788],["T_WHITESPACE"," ",788],["T_FUNCTION","function",788],["T_WHITESPACE"," ",788],["T_STRING","testCheckTimeoutOnStartedProcess",788],"(",")",["T_WHITESPACE","\n    ",788],"{",["T_WHITESPACE","\n        ",789],["T_VARIABLE","$process",790],["T_WHITESPACE"," ",790],"=",["T_WHITESPACE"," ",790],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","getProcess",790],"(",["T_STRING","self",790],["T_DOUBLE_COLON","::",790],["T_VARIABLE","$phpBin",790],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(33);\"'",790],")",";",["T_WHITESPACE","\n        ",790],["T_VARIABLE","$process",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","setTimeout",791],"(",["T_DNUMBER","0.1",791],")",";",["T_WHITESPACE","\n\n        ",791],["T_VARIABLE","$process",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","start",793],"(",")",";",["T_WHITESPACE","\n        ",793],["T_VARIABLE","$start",794],["T_WHITESPACE"," ",794],"=",["T_WHITESPACE"," ",794],["T_STRING","microtime",794],"(",["T_STRING","true",794],")",";",["T_WHITESPACE","\n\n        ",794],["T_TRY","try",796],["T_WHITESPACE"," ",796],"{",["T_WHITESPACE","\n            ",796],["T_WHILE","while",797],["T_WHITESPACE"," ",797],"(",["T_VARIABLE","$process",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","isRunning",797],"(",")",")",["T_WHITESPACE"," ",797],"{",["T_WHITESPACE","\n                ",797],["T_VARIABLE","$process",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","checkTimeout",798],"(",")",";",["T_WHITESPACE","\n                ",798],["T_STRING","usleep",799],"(",["T_LNUMBER","100000",799],")",";",["T_WHITESPACE","\n            ",799],"}",["T_WHITESPACE","\n            ",800],["T_VARIABLE","$this",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","fail",801],"(",["T_CONSTANT_ENCAPSED_STRING","'A ProcessTimedOutException should have been raised'",801],")",";",["T_WHITESPACE","\n        ",801],"}",["T_WHITESPACE"," ",802],["T_CATCH","catch",802],["T_WHITESPACE"," ",802],"(",["T_STRING","ProcessTimedOutException",802],["T_WHITESPACE"," ",802],["T_VARIABLE","$e",802],")",["T_WHITESPACE"," ",802],"{",["T_WHITESPACE","\n        ",802],"}",["T_WHITESPACE","\n\n        ",803],["T_VARIABLE","$this",805],["T_OBJECT_OPERATOR","->",805],["T_STRING","assertLessThan",805],"(",["T_LNUMBER","15",805],",",["T_WHITESPACE"," ",805],["T_STRING","microtime",805],"(",["T_STRING","true",805],")",["T_WHITESPACE"," ",805],"-",["T_WHITESPACE"," ",805],["T_VARIABLE","$start",805],")",";",["T_WHITESPACE","\n\n        ",805],["T_THROW","throw",807],["T_WHITESPACE"," ",807],["T_VARIABLE","$e",807],";",["T_WHITESPACE","\n    ",807],"}",["T_WHITESPACE","\n\n    ",808],["T_PUBLIC","public",810],["T_WHITESPACE"," ",810],["T_FUNCTION","function",810],["T_WHITESPACE"," ",810],["T_STRING","testIdleTimeout",810],"(",")",["T_WHITESPACE","\n    ",810],"{",["T_WHITESPACE","\n        ",811],["T_VARIABLE","$process",812],["T_WHITESPACE"," ",812],"=",["T_WHITESPACE"," ",812],["T_VARIABLE","$this",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","getProcess",812],"(",["T_STRING","self",812],["T_DOUBLE_COLON","::",812],["T_VARIABLE","$phpBin",812],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(34);\"'",812],")",";",["T_WHITESPACE","\n        ",812],["T_VARIABLE","$process",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","setTimeout",813],"(",["T_LNUMBER","60",813],")",";",["T_WHITESPACE","\n        ",813],["T_VARIABLE","$process",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","setIdleTimeout",814],"(",["T_DNUMBER","0.1",814],")",";",["T_WHITESPACE","\n\n        ",814],["T_TRY","try",816],["T_WHITESPACE"," ",816],"{",["T_WHITESPACE","\n            ",816],["T_VARIABLE","$process",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","run",817],"(",")",";",["T_WHITESPACE","\n\n            ",817],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","fail",819],"(",["T_CONSTANT_ENCAPSED_STRING","'A timeout exception was expected.'",819],")",";",["T_WHITESPACE","\n        ",819],"}",["T_WHITESPACE"," ",820],["T_CATCH","catch",820],["T_WHITESPACE"," ",820],"(",["T_STRING","ProcessTimedOutException",820],["T_WHITESPACE"," ",820],["T_VARIABLE","$e",820],")",["T_WHITESPACE"," ",820],"{",["T_WHITESPACE","\n            ",820],["T_VARIABLE","$this",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","assertTrue",821],"(",["T_VARIABLE","$e",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","isIdleTimeout",821],"(",")",")",";",["T_WHITESPACE","\n            ",821],["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","assertFalse",822],"(",["T_VARIABLE","$e",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","isGeneralTimeout",822],"(",")",")",";",["T_WHITESPACE","\n            ",822],["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","assertEquals",823],"(",["T_DNUMBER","0.1",823],",",["T_WHITESPACE"," ",823],["T_VARIABLE","$e",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","getExceededTimeout",823],"(",")",")",";",["T_WHITESPACE","\n        ",823],"}",["T_WHITESPACE","\n    ",824],"}",["T_WHITESPACE","\n\n    ",825],["T_PUBLIC","public",827],["T_WHITESPACE"," ",827],["T_FUNCTION","function",827],["T_WHITESPACE"," ",827],["T_STRING","testIdleTimeoutNotExceededWhenOutputIsSent",827],"(",")",["T_WHITESPACE","\n    ",827],"{",["T_WHITESPACE","\n        ",828],["T_VARIABLE","$process",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","getProcess",829],"(",["T_STRING","sprintf",829],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",829],",",["T_WHITESPACE"," ",829],["T_STRING","self",829],["T_DOUBLE_COLON","::",829],["T_VARIABLE","$phpBin",829],",",["T_WHITESPACE"," ",829],["T_STRING","escapeshellarg",829],"(",["T_CONSTANT_ENCAPSED_STRING","'while (true) {echo \\'foo \\'; usleep(1000);}'",829],")",")",")",";",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$process",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","setTimeout",830],"(",["T_LNUMBER","1",830],")",";",["T_WHITESPACE","\n        ",830],["T_VARIABLE","$process",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","start",831],"(",")",";",["T_WHITESPACE","\n\n        ",831],["T_WHILE","while",833],["T_WHITESPACE"," ",833],"(",["T_STRING","false",833],["T_WHITESPACE"," ",833],["T_IS_IDENTICAL","===",833],["T_WHITESPACE"," ",833],["T_STRING","strpos",833],"(",["T_VARIABLE","$process",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","getOutput",833],"(",")",",",["T_WHITESPACE"," ",833],["T_CONSTANT_ENCAPSED_STRING","'foo'",833],")",")",["T_WHITESPACE"," ",833],"{",["T_WHITESPACE","\n            ",833],["T_STRING","usleep",834],"(",["T_LNUMBER","1000",834],")",";",["T_WHITESPACE","\n        ",834],"}",["T_WHITESPACE","\n\n        ",835],["T_VARIABLE","$process",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","setIdleTimeout",837],"(",["T_DNUMBER","0.5",837],")",";",["T_WHITESPACE","\n\n        ",837],["T_TRY","try",839],["T_WHITESPACE"," ",839],"{",["T_WHITESPACE","\n            ",839],["T_VARIABLE","$process",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","wait",840],"(",")",";",["T_WHITESPACE","\n            ",840],["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","fail",841],"(",["T_CONSTANT_ENCAPSED_STRING","'A timeout exception was expected.'",841],")",";",["T_WHITESPACE","\n        ",841],"}",["T_WHITESPACE"," ",842],["T_CATCH","catch",842],["T_WHITESPACE"," ",842],"(",["T_STRING","ProcessTimedOutException",842],["T_WHITESPACE"," ",842],["T_VARIABLE","$e",842],")",["T_WHITESPACE"," ",842],"{",["T_WHITESPACE","\n            ",842],["T_VARIABLE","$this",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","assertTrue",843],"(",["T_VARIABLE","$e",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","isGeneralTimeout",843],"(",")",",",["T_WHITESPACE"," ",843],["T_CONSTANT_ENCAPSED_STRING","'A general timeout is expected.'",843],")",";",["T_WHITESPACE","\n            ",843],["T_VARIABLE","$this",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","assertFalse",844],"(",["T_VARIABLE","$e",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","isIdleTimeout",844],"(",")",",",["T_WHITESPACE"," ",844],["T_CONSTANT_ENCAPSED_STRING","'No idle timeout is expected.'",844],")",";",["T_WHITESPACE","\n            ",844],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","assertEquals",845],"(",["T_LNUMBER","1",845],",",["T_WHITESPACE"," ",845],["T_VARIABLE","$e",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","getExceededTimeout",845],"(",")",")",";",["T_WHITESPACE","\n        ",845],"}",["T_WHITESPACE","\n    ",846],"}",["T_WHITESPACE","\n\n    ",847],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\ProcessTimedOutException\n     * @expectedExceptionMessage exceeded the timeout of 0.1 seconds.\n     *\/",849],["T_WHITESPACE","\n    ",852],["T_PUBLIC","public",853],["T_WHITESPACE"," ",853],["T_FUNCTION","function",853],["T_WHITESPACE"," ",853],["T_STRING","testStartAfterATimeout",853],"(",")",["T_WHITESPACE","\n    ",853],"{",["T_WHITESPACE","\n        ",854],["T_VARIABLE","$process",855],["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","getProcess",855],"(",["T_STRING","self",855],["T_DOUBLE_COLON","::",855],["T_VARIABLE","$phpBin",855],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(35);\"'",855],")",";",["T_WHITESPACE","\n        ",855],["T_VARIABLE","$process",856],["T_OBJECT_OPERATOR","->",856],["T_STRING","setTimeout",856],"(",["T_DNUMBER","0.1",856],")",";",["T_WHITESPACE","\n\n        ",856],["T_TRY","try",858],["T_WHITESPACE"," ",858],"{",["T_WHITESPACE","\n            ",858],["T_VARIABLE","$process",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","run",859],"(",")",";",["T_WHITESPACE","\n            ",859],["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","fail",860],"(",["T_CONSTANT_ENCAPSED_STRING","'A ProcessTimedOutException should have been raised.'",860],")",";",["T_WHITESPACE","\n        ",860],"}",["T_WHITESPACE"," ",861],["T_CATCH","catch",861],["T_WHITESPACE"," ",861],"(",["T_STRING","ProcessTimedOutException",861],["T_WHITESPACE"," ",861],["T_VARIABLE","$e",861],")",["T_WHITESPACE"," ",861],"{",["T_WHITESPACE","\n        ",861],"}",["T_WHITESPACE","\n        ",862],["T_VARIABLE","$this",863],["T_OBJECT_OPERATOR","->",863],["T_STRING","assertFalse",863],"(",["T_VARIABLE","$process",863],["T_OBJECT_OPERATOR","->",863],["T_STRING","isRunning",863],"(",")",")",";",["T_WHITESPACE","\n        ",863],["T_VARIABLE","$process",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","start",864],"(",")",";",["T_WHITESPACE","\n        ",864],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","assertTrue",865],"(",["T_VARIABLE","$process",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","isRunning",865],"(",")",")",";",["T_WHITESPACE","\n        ",865],["T_VARIABLE","$process",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","stop",866],"(",["T_LNUMBER","0",866],")",";",["T_WHITESPACE","\n\n        ",866],["T_THROW","throw",868],["T_WHITESPACE"," ",868],["T_VARIABLE","$e",868],";",["T_WHITESPACE","\n    ",868],"}",["T_WHITESPACE","\n\n    ",869],["T_PUBLIC","public",871],["T_WHITESPACE"," ",871],["T_FUNCTION","function",871],["T_WHITESPACE"," ",871],["T_STRING","testGetPid",871],"(",")",["T_WHITESPACE","\n    ",871],"{",["T_WHITESPACE","\n        ",872],["T_VARIABLE","$process",873],["T_WHITESPACE"," ",873],"=",["T_WHITESPACE"," ",873],["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","getProcess",873],"(",["T_STRING","self",873],["T_DOUBLE_COLON","::",873],["T_VARIABLE","$phpBin",873],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(36);\"'",873],")",";",["T_WHITESPACE","\n        ",873],["T_VARIABLE","$process",874],["T_OBJECT_OPERATOR","->",874],["T_STRING","start",874],"(",")",";",["T_WHITESPACE","\n        ",874],["T_VARIABLE","$this",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","assertGreaterThan",875],"(",["T_LNUMBER","0",875],",",["T_WHITESPACE"," ",875],["T_VARIABLE","$process",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","getPid",875],"(",")",")",";",["T_WHITESPACE","\n        ",875],["T_VARIABLE","$process",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","stop",876],"(",["T_LNUMBER","0",876],")",";",["T_WHITESPACE","\n    ",876],"}",["T_WHITESPACE","\n\n    ",877],["T_PUBLIC","public",879],["T_WHITESPACE"," ",879],["T_FUNCTION","function",879],["T_WHITESPACE"," ",879],["T_STRING","testGetPidIsNullBeforeStart",879],"(",")",["T_WHITESPACE","\n    ",879],"{",["T_WHITESPACE","\n        ",880],["T_VARIABLE","$process",881],["T_WHITESPACE"," ",881],"=",["T_WHITESPACE"," ",881],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","getProcess",881],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",881],")",";",["T_WHITESPACE","\n        ",881],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","assertNull",882],"(",["T_VARIABLE","$process",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","getPid",882],"(",")",")",";",["T_WHITESPACE","\n    ",882],"}",["T_WHITESPACE","\n\n    ",883],["T_PUBLIC","public",885],["T_WHITESPACE"," ",885],["T_FUNCTION","function",885],["T_WHITESPACE"," ",885],["T_STRING","testGetPidIsNullAfterRun",885],"(",")",["T_WHITESPACE","\n    ",885],"{",["T_WHITESPACE","\n        ",886],["T_VARIABLE","$process",887],["T_WHITESPACE"," ",887],"=",["T_WHITESPACE"," ",887],["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","getProcess",887],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",887],")",";",["T_WHITESPACE","\n        ",887],["T_VARIABLE","$process",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","run",888],"(",")",";",["T_WHITESPACE","\n        ",888],["T_VARIABLE","$this",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","assertNull",889],"(",["T_VARIABLE","$process",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","getPid",889],"(",")",")",";",["T_WHITESPACE","\n    ",889],"}",["T_WHITESPACE","\n\n    ",890],["T_DOC_COMMENT","\/**\n     * @requires extension pcntl\n     *\/",892],["T_WHITESPACE","\n    ",894],["T_PUBLIC","public",895],["T_WHITESPACE"," ",895],["T_FUNCTION","function",895],["T_WHITESPACE"," ",895],["T_STRING","testSignal",895],"(",")",["T_WHITESPACE","\n    ",895],"{",["T_WHITESPACE","\n        ",896],["T_VARIABLE","$process",897],["T_WHITESPACE"," ",897],"=",["T_WHITESPACE"," ",897],["T_VARIABLE","$this",897],["T_OBJECT_OPERATOR","->",897],["T_STRING","getProcess",897],"(",["T_STRING","self",897],["T_DOUBLE_COLON","::",897],["T_VARIABLE","$phpBin",897],".",["T_CONSTANT_ENCAPSED_STRING","' '",897],".",["T_DIR","__DIR__",897],".",["T_CONSTANT_ENCAPSED_STRING","'\/SignalListener.php'",897],")",";",["T_WHITESPACE","\n        ",897],["T_VARIABLE","$process",898],["T_OBJECT_OPERATOR","->",898],["T_STRING","start",898],"(",")",";",["T_WHITESPACE","\n\n        ",898],["T_WHILE","while",900],["T_WHITESPACE"," ",900],"(",["T_STRING","false",900],["T_WHITESPACE"," ",900],["T_IS_IDENTICAL","===",900],["T_WHITESPACE"," ",900],["T_STRING","strpos",900],"(",["T_VARIABLE","$process",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","getOutput",900],"(",")",",",["T_WHITESPACE"," ",900],["T_CONSTANT_ENCAPSED_STRING","'Caught'",900],")",")",["T_WHITESPACE"," ",900],"{",["T_WHITESPACE","\n            ",900],["T_STRING","usleep",901],"(",["T_LNUMBER","1000",901],")",";",["T_WHITESPACE","\n        ",901],"}",["T_WHITESPACE","\n        ",902],["T_VARIABLE","$process",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","signal",903],"(",["T_STRING","SIGUSR1",903],")",";",["T_WHITESPACE","\n        ",903],["T_VARIABLE","$process",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","wait",904],"(",")",";",["T_WHITESPACE","\n\n        ",904],["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","assertEquals",906],"(",["T_CONSTANT_ENCAPSED_STRING","'Caught SIGUSR1'",906],",",["T_WHITESPACE"," ",906],["T_VARIABLE","$process",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","getOutput",906],"(",")",")",";",["T_WHITESPACE","\n    ",906],"}",["T_WHITESPACE","\n\n    ",907],["T_DOC_COMMENT","\/**\n     * @requires extension pcntl\n     *\/",909],["T_WHITESPACE","\n    ",911],["T_PUBLIC","public",912],["T_WHITESPACE"," ",912],["T_FUNCTION","function",912],["T_WHITESPACE"," ",912],["T_STRING","testExitCodeIsAvailableAfterSignal",912],"(",")",["T_WHITESPACE","\n    ",912],"{",["T_WHITESPACE","\n        ",913],["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","skipIfNotEnhancedSigchild",914],"(",")",";",["T_WHITESPACE","\n\n        ",914],["T_VARIABLE","$process",916],["T_WHITESPACE"," ",916],"=",["T_WHITESPACE"," ",916],["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","getProcess",916],"(",["T_CONSTANT_ENCAPSED_STRING","'sleep 4'",916],")",";",["T_WHITESPACE","\n        ",916],["T_VARIABLE","$process",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","start",917],"(",")",";",["T_WHITESPACE","\n        ",917],["T_VARIABLE","$process",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","signal",918],"(",["T_STRING","SIGKILL",918],")",";",["T_WHITESPACE","\n\n        ",918],["T_WHILE","while",920],["T_WHITESPACE"," ",920],"(",["T_VARIABLE","$process",920],["T_OBJECT_OPERATOR","->",920],["T_STRING","isRunning",920],"(",")",")",["T_WHITESPACE"," ",920],"{",["T_WHITESPACE","\n            ",920],["T_STRING","usleep",921],"(",["T_LNUMBER","10000",921],")",";",["T_WHITESPACE","\n        ",921],"}",["T_WHITESPACE","\n\n        ",922],["T_VARIABLE","$this",924],["T_OBJECT_OPERATOR","->",924],["T_STRING","assertFalse",924],"(",["T_VARIABLE","$process",924],["T_OBJECT_OPERATOR","->",924],["T_STRING","isRunning",924],"(",")",")",";",["T_WHITESPACE","\n        ",924],["T_VARIABLE","$this",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","assertTrue",925],"(",["T_VARIABLE","$process",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","hasBeenSignaled",925],"(",")",")",";",["T_WHITESPACE","\n        ",925],["T_VARIABLE","$this",926],["T_OBJECT_OPERATOR","->",926],["T_STRING","assertFalse",926],"(",["T_VARIABLE","$process",926],["T_OBJECT_OPERATOR","->",926],["T_STRING","isSuccessful",926],"(",")",")",";",["T_WHITESPACE","\n        ",926],["T_VARIABLE","$this",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","assertEquals",927],"(",["T_LNUMBER","137",927],",",["T_WHITESPACE"," ",927],["T_VARIABLE","$process",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","getExitCode",927],"(",")",")",";",["T_WHITESPACE","\n    ",927],"}",["T_WHITESPACE","\n\n    ",928],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\LogicException\n     * @expectedExceptionMessage Can not send signal on a non running process.\n     *\/",930],["T_WHITESPACE","\n    ",933],["T_PUBLIC","public",934],["T_WHITESPACE"," ",934],["T_FUNCTION","function",934],["T_WHITESPACE"," ",934],["T_STRING","testSignalProcessNotRunning",934],"(",")",["T_WHITESPACE","\n    ",934],"{",["T_WHITESPACE","\n        ",935],["T_VARIABLE","$process",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","getProcess",936],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",936],")",";",["T_WHITESPACE","\n        ",936],["T_VARIABLE","$process",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","signal",937],"(",["T_LNUMBER","1",937],")",";",["T_WHITESPACE"," ",937],["T_COMMENT","\/\/ SIGHUP\n",937],["T_WHITESPACE","    ",938],"}",["T_WHITESPACE","\n\n    ",938],["T_DOC_COMMENT","\/**\n     * @dataProvider provideMethodsThatNeedARunningProcess\n     *\/",940],["T_WHITESPACE","\n    ",942],["T_PUBLIC","public",943],["T_WHITESPACE"," ",943],["T_FUNCTION","function",943],["T_WHITESPACE"," ",943],["T_STRING","testMethodsThatNeedARunningProcess",943],"(",["T_VARIABLE","$method",943],")",["T_WHITESPACE","\n    ",943],"{",["T_WHITESPACE","\n        ",944],["T_VARIABLE","$process",945],["T_WHITESPACE"," ",945],"=",["T_WHITESPACE"," ",945],["T_VARIABLE","$this",945],["T_OBJECT_OPERATOR","->",945],["T_STRING","getProcess",945],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",945],")",";",["T_WHITESPACE","\n        ",945],["T_VARIABLE","$this",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","setExpectedException",946],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Process\\Exception\\LogicException'",946],",",["T_WHITESPACE"," ",946],["T_STRING","sprintf",946],"(",["T_CONSTANT_ENCAPSED_STRING","'Process must be started before calling %s.'",946],",",["T_WHITESPACE"," ",946],["T_VARIABLE","$method",946],")",")",";",["T_WHITESPACE","\n        ",946],["T_VARIABLE","$process",947],["T_OBJECT_OPERATOR","->",947],"{",["T_VARIABLE","$method",947],"}","(",")",";",["T_WHITESPACE","\n    ",947],"}",["T_WHITESPACE","\n\n    ",948],["T_PUBLIC","public",950],["T_WHITESPACE"," ",950],["T_FUNCTION","function",950],["T_WHITESPACE"," ",950],["T_STRING","provideMethodsThatNeedARunningProcess",950],"(",")",["T_WHITESPACE","\n    ",950],"{",["T_WHITESPACE","\n        ",951],["T_RETURN","return",952],["T_WHITESPACE"," ",952],["T_ARRAY","array",952],"(",["T_WHITESPACE","\n            ",952],["T_ARRAY","array",953],"(",["T_CONSTANT_ENCAPSED_STRING","'getOutput'",953],")",",",["T_WHITESPACE","\n            ",953],["T_ARRAY","array",954],"(",["T_CONSTANT_ENCAPSED_STRING","'getIncrementalOutput'",954],")",",",["T_WHITESPACE","\n            ",954],["T_ARRAY","array",955],"(",["T_CONSTANT_ENCAPSED_STRING","'getErrorOutput'",955],")",",",["T_WHITESPACE","\n            ",955],["T_ARRAY","array",956],"(",["T_CONSTANT_ENCAPSED_STRING","'getIncrementalErrorOutput'",956],")",",",["T_WHITESPACE","\n            ",956],["T_ARRAY","array",957],"(",["T_CONSTANT_ENCAPSED_STRING","'wait'",957],")",",",["T_WHITESPACE","\n        ",957],")",";",["T_WHITESPACE","\n    ",958],"}",["T_WHITESPACE","\n\n    ",959],["T_DOC_COMMENT","\/**\n     * @dataProvider provideMethodsThatNeedATerminatedProcess\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\LogicException\n     * @expectedExceptionMessage Process must be terminated before calling\n     *\/",961],["T_WHITESPACE","\n    ",965],["T_PUBLIC","public",966],["T_WHITESPACE"," ",966],["T_FUNCTION","function",966],["T_WHITESPACE"," ",966],["T_STRING","testMethodsThatNeedATerminatedProcess",966],"(",["T_VARIABLE","$method",966],")",["T_WHITESPACE","\n    ",966],"{",["T_WHITESPACE","\n        ",967],["T_VARIABLE","$process",968],["T_WHITESPACE"," ",968],"=",["T_WHITESPACE"," ",968],["T_VARIABLE","$this",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","getProcess",968],"(",["T_STRING","self",968],["T_DOUBLE_COLON","::",968],["T_VARIABLE","$phpBin",968],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(37);\"'",968],")",";",["T_WHITESPACE","\n        ",968],["T_VARIABLE","$process",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","start",969],"(",")",";",["T_WHITESPACE","\n        ",969],["T_TRY","try",970],["T_WHITESPACE"," ",970],"{",["T_WHITESPACE","\n            ",970],["T_VARIABLE","$process",971],["T_OBJECT_OPERATOR","->",971],"{",["T_VARIABLE","$method",971],"}","(",")",";",["T_WHITESPACE","\n            ",971],["T_VARIABLE","$process",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","stop",972],"(",["T_LNUMBER","0",972],")",";",["T_WHITESPACE","\n            ",972],["T_VARIABLE","$this",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","fail",973],"(",["T_CONSTANT_ENCAPSED_STRING","'A LogicException must have been thrown'",973],")",";",["T_WHITESPACE","\n        ",973],"}",["T_WHITESPACE"," ",974],["T_CATCH","catch",974],["T_WHITESPACE"," ",974],"(",["T_NS_SEPARATOR","\\",974],["T_STRING","Exception",974],["T_WHITESPACE"," ",974],["T_VARIABLE","$e",974],")",["T_WHITESPACE"," ",974],"{",["T_WHITESPACE","\n        ",974],"}",["T_WHITESPACE","\n        ",975],["T_VARIABLE","$process",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","stop",976],"(",["T_LNUMBER","0",976],")",";",["T_WHITESPACE","\n\n        ",976],["T_THROW","throw",978],["T_WHITESPACE"," ",978],["T_VARIABLE","$e",978],";",["T_WHITESPACE","\n    ",978],"}",["T_WHITESPACE","\n\n    ",979],["T_PUBLIC","public",981],["T_WHITESPACE"," ",981],["T_FUNCTION","function",981],["T_WHITESPACE"," ",981],["T_STRING","provideMethodsThatNeedATerminatedProcess",981],"(",")",["T_WHITESPACE","\n    ",981],"{",["T_WHITESPACE","\n        ",982],["T_RETURN","return",983],["T_WHITESPACE"," ",983],["T_ARRAY","array",983],"(",["T_WHITESPACE","\n            ",983],["T_ARRAY","array",984],"(",["T_CONSTANT_ENCAPSED_STRING","'hasBeenSignaled'",984],")",",",["T_WHITESPACE","\n            ",984],["T_ARRAY","array",985],"(",["T_CONSTANT_ENCAPSED_STRING","'getTermSignal'",985],")",",",["T_WHITESPACE","\n            ",985],["T_ARRAY","array",986],"(",["T_CONSTANT_ENCAPSED_STRING","'hasBeenStopped'",986],")",",",["T_WHITESPACE","\n            ",986],["T_ARRAY","array",987],"(",["T_CONSTANT_ENCAPSED_STRING","'getStopSignal'",987],")",",",["T_WHITESPACE","\n        ",987],")",";",["T_WHITESPACE","\n    ",988],"}",["T_WHITESPACE","\n\n    ",989],["T_DOC_COMMENT","\/**\n     * @dataProvider provideWrongSignal\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\RuntimeException\n     *\/",991],["T_WHITESPACE","\n    ",994],["T_PUBLIC","public",995],["T_WHITESPACE"," ",995],["T_FUNCTION","function",995],["T_WHITESPACE"," ",995],["T_STRING","testWrongSignal",995],"(",["T_VARIABLE","$signal",995],")",["T_WHITESPACE","\n    ",995],"{",["T_WHITESPACE","\n        ",996],["T_IF","if",997],["T_WHITESPACE"," ",997],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",997],["T_WHITESPACE"," ",997],["T_IS_IDENTICAL","===",997],["T_WHITESPACE"," ",997],["T_STRING","DIRECTORY_SEPARATOR",997],")",["T_WHITESPACE"," ",997],"{",["T_WHITESPACE","\n            ",997],["T_VARIABLE","$this",998],["T_OBJECT_OPERATOR","->",998],["T_STRING","markTestSkipped",998],"(",["T_CONSTANT_ENCAPSED_STRING","'POSIX signals do not work on Windows'",998],")",";",["T_WHITESPACE","\n        ",998],"}",["T_WHITESPACE","\n\n        ",999],["T_VARIABLE","$process",1001],["T_WHITESPACE"," ",1001],"=",["T_WHITESPACE"," ",1001],["T_VARIABLE","$this",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","getProcess",1001],"(",["T_STRING","self",1001],["T_DOUBLE_COLON","::",1001],["T_VARIABLE","$phpBin",1001],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(38);\"'",1001],")",";",["T_WHITESPACE","\n        ",1001],["T_VARIABLE","$process",1002],["T_OBJECT_OPERATOR","->",1002],["T_STRING","start",1002],"(",")",";",["T_WHITESPACE","\n        ",1002],["T_TRY","try",1003],["T_WHITESPACE"," ",1003],"{",["T_WHITESPACE","\n            ",1003],["T_VARIABLE","$process",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","signal",1004],"(",["T_VARIABLE","$signal",1004],")",";",["T_WHITESPACE","\n            ",1004],["T_VARIABLE","$this",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","fail",1005],"(",["T_CONSTANT_ENCAPSED_STRING","'A RuntimeException must have been thrown'",1005],")",";",["T_WHITESPACE","\n        ",1005],"}",["T_WHITESPACE"," ",1006],["T_CATCH","catch",1006],["T_WHITESPACE"," ",1006],"(",["T_STRING","RuntimeException",1006],["T_WHITESPACE"," ",1006],["T_VARIABLE","$e",1006],")",["T_WHITESPACE"," ",1006],"{",["T_WHITESPACE","\n            ",1006],["T_VARIABLE","$process",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","stop",1007],"(",["T_LNUMBER","0",1007],")",";",["T_WHITESPACE","\n        ",1007],"}",["T_WHITESPACE","\n\n        ",1008],["T_THROW","throw",1010],["T_WHITESPACE"," ",1010],["T_VARIABLE","$e",1010],";",["T_WHITESPACE","\n    ",1010],"}",["T_WHITESPACE","\n\n    ",1011],["T_PUBLIC","public",1013],["T_WHITESPACE"," ",1013],["T_FUNCTION","function",1013],["T_WHITESPACE"," ",1013],["T_STRING","provideWrongSignal",1013],"(",")",["T_WHITESPACE","\n    ",1013],"{",["T_WHITESPACE","\n        ",1014],["T_RETURN","return",1015],["T_WHITESPACE"," ",1015],["T_ARRAY","array",1015],"(",["T_WHITESPACE","\n            ",1015],["T_ARRAY","array",1016],"(","-",["T_LNUMBER","4",1016],")",",",["T_WHITESPACE","\n            ",1016],["T_ARRAY","array",1017],"(",["T_CONSTANT_ENCAPSED_STRING","'C\u00c3\u00a9phalopodes'",1017],")",",",["T_WHITESPACE","\n        ",1017],")",";",["T_WHITESPACE","\n    ",1018],"}",["T_WHITESPACE","\n\n    ",1019],["T_PUBLIC","public",1021],["T_WHITESPACE"," ",1021],["T_FUNCTION","function",1021],["T_WHITESPACE"," ",1021],["T_STRING","testDisableOutputDisablesTheOutput",1021],"(",")",["T_WHITESPACE","\n    ",1021],"{",["T_WHITESPACE","\n        ",1022],["T_VARIABLE","$p",1023],["T_WHITESPACE"," ",1023],"=",["T_WHITESPACE"," ",1023],["T_VARIABLE","$this",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","getProcess",1023],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1023],")",";",["T_WHITESPACE","\n        ",1023],["T_VARIABLE","$this",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","assertFalse",1024],"(",["T_VARIABLE","$p",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","isOutputDisabled",1024],"(",")",")",";",["T_WHITESPACE","\n        ",1024],["T_VARIABLE","$p",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","disableOutput",1025],"(",")",";",["T_WHITESPACE","\n        ",1025],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","assertTrue",1026],"(",["T_VARIABLE","$p",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","isOutputDisabled",1026],"(",")",")",";",["T_WHITESPACE","\n        ",1026],["T_VARIABLE","$p",1027],["T_OBJECT_OPERATOR","->",1027],["T_STRING","enableOutput",1027],"(",")",";",["T_WHITESPACE","\n        ",1027],["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","assertFalse",1028],"(",["T_VARIABLE","$p",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","isOutputDisabled",1028],"(",")",")",";",["T_WHITESPACE","\n    ",1028],"}",["T_WHITESPACE","\n\n    ",1029],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\RuntimeException\n     * @expectedExceptionMessage Disabling output while the process is running is not possible.\n     *\/",1031],["T_WHITESPACE","\n    ",1034],["T_PUBLIC","public",1035],["T_WHITESPACE"," ",1035],["T_FUNCTION","function",1035],["T_WHITESPACE"," ",1035],["T_STRING","testDisableOutputWhileRunningThrowsException",1035],"(",")",["T_WHITESPACE","\n    ",1035],"{",["T_WHITESPACE","\n        ",1036],["T_VARIABLE","$p",1037],["T_WHITESPACE"," ",1037],"=",["T_WHITESPACE"," ",1037],["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","getProcess",1037],"(",["T_STRING","self",1037],["T_DOUBLE_COLON","::",1037],["T_VARIABLE","$phpBin",1037],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(39);\"'",1037],")",";",["T_WHITESPACE","\n        ",1037],["T_VARIABLE","$p",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","start",1038],"(",")",";",["T_WHITESPACE","\n        ",1038],["T_VARIABLE","$p",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","disableOutput",1039],"(",")",";",["T_WHITESPACE","\n    ",1039],"}",["T_WHITESPACE","\n\n    ",1040],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\RuntimeException\n     * @expectedExceptionMessage Enabling output while the process is running is not possible.\n     *\/",1042],["T_WHITESPACE","\n    ",1045],["T_PUBLIC","public",1046],["T_WHITESPACE"," ",1046],["T_FUNCTION","function",1046],["T_WHITESPACE"," ",1046],["T_STRING","testEnableOutputWhileRunningThrowsException",1046],"(",")",["T_WHITESPACE","\n    ",1046],"{",["T_WHITESPACE","\n        ",1047],["T_VARIABLE","$p",1048],["T_WHITESPACE"," ",1048],"=",["T_WHITESPACE"," ",1048],["T_VARIABLE","$this",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","getProcess",1048],"(",["T_STRING","self",1048],["T_DOUBLE_COLON","::",1048],["T_VARIABLE","$phpBin",1048],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(40);\"'",1048],")",";",["T_WHITESPACE","\n        ",1048],["T_VARIABLE","$p",1049],["T_OBJECT_OPERATOR","->",1049],["T_STRING","disableOutput",1049],"(",")",";",["T_WHITESPACE","\n        ",1049],["T_VARIABLE","$p",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","start",1050],"(",")",";",["T_WHITESPACE","\n        ",1050],["T_VARIABLE","$p",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","enableOutput",1051],"(",")",";",["T_WHITESPACE","\n    ",1051],"}",["T_WHITESPACE","\n\n    ",1052],["T_PUBLIC","public",1054],["T_WHITESPACE"," ",1054],["T_FUNCTION","function",1054],["T_WHITESPACE"," ",1054],["T_STRING","testEnableOrDisableOutputAfterRunDoesNotThrowException",1054],"(",")",["T_WHITESPACE","\n    ",1054],"{",["T_WHITESPACE","\n        ",1055],["T_VARIABLE","$p",1056],["T_WHITESPACE"," ",1056],"=",["T_WHITESPACE"," ",1056],["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","getProcess",1056],"(",["T_CONSTANT_ENCAPSED_STRING","'echo foo'",1056],")",";",["T_WHITESPACE","\n        ",1056],["T_VARIABLE","$p",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","disableOutput",1057],"(",")",";",["T_WHITESPACE","\n        ",1057],["T_VARIABLE","$p",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","run",1058],"(",")",";",["T_WHITESPACE","\n        ",1058],["T_VARIABLE","$p",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","enableOutput",1059],"(",")",";",["T_WHITESPACE","\n        ",1059],["T_VARIABLE","$p",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","disableOutput",1060],"(",")",";",["T_WHITESPACE","\n        ",1060],["T_VARIABLE","$this",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","assertTrue",1061],"(",["T_VARIABLE","$p",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","isOutputDisabled",1061],"(",")",")",";",["T_WHITESPACE","\n    ",1061],"}",["T_WHITESPACE","\n\n    ",1062],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\LogicException\n     * @expectedExceptionMessage Output can not be disabled while an idle timeout is set.\n     *\/",1064],["T_WHITESPACE","\n    ",1067],["T_PUBLIC","public",1068],["T_WHITESPACE"," ",1068],["T_FUNCTION","function",1068],["T_WHITESPACE"," ",1068],["T_STRING","testDisableOutputWhileIdleTimeoutIsSet",1068],"(",")",["T_WHITESPACE","\n    ",1068],"{",["T_WHITESPACE","\n        ",1069],["T_VARIABLE","$process",1070],["T_WHITESPACE"," ",1070],"=",["T_WHITESPACE"," ",1070],["T_VARIABLE","$this",1070],["T_OBJECT_OPERATOR","->",1070],["T_STRING","getProcess",1070],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1070],")",";",["T_WHITESPACE","\n        ",1070],["T_VARIABLE","$process",1071],["T_OBJECT_OPERATOR","->",1071],["T_STRING","setIdleTimeout",1071],"(",["T_LNUMBER","1",1071],")",";",["T_WHITESPACE","\n        ",1071],["T_VARIABLE","$process",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","disableOutput",1072],"(",")",";",["T_WHITESPACE","\n    ",1072],"}",["T_WHITESPACE","\n\n    ",1073],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\LogicException\n     * @expectedExceptionMessage timeout can not be set while the output is disabled.\n     *\/",1075],["T_WHITESPACE","\n    ",1078],["T_PUBLIC","public",1079],["T_WHITESPACE"," ",1079],["T_FUNCTION","function",1079],["T_WHITESPACE"," ",1079],["T_STRING","testSetIdleTimeoutWhileOutputIsDisabled",1079],"(",")",["T_WHITESPACE","\n    ",1079],"{",["T_WHITESPACE","\n        ",1080],["T_VARIABLE","$process",1081],["T_WHITESPACE"," ",1081],"=",["T_WHITESPACE"," ",1081],["T_VARIABLE","$this",1081],["T_OBJECT_OPERATOR","->",1081],["T_STRING","getProcess",1081],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1081],")",";",["T_WHITESPACE","\n        ",1081],["T_VARIABLE","$process",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","disableOutput",1082],"(",")",";",["T_WHITESPACE","\n        ",1082],["T_VARIABLE","$process",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","setIdleTimeout",1083],"(",["T_LNUMBER","1",1083],")",";",["T_WHITESPACE","\n    ",1083],"}",["T_WHITESPACE","\n\n    ",1084],["T_PUBLIC","public",1086],["T_WHITESPACE"," ",1086],["T_FUNCTION","function",1086],["T_WHITESPACE"," ",1086],["T_STRING","testSetNullIdleTimeoutWhileOutputIsDisabled",1086],"(",")",["T_WHITESPACE","\n    ",1086],"{",["T_WHITESPACE","\n        ",1087],["T_VARIABLE","$process",1088],["T_WHITESPACE"," ",1088],"=",["T_WHITESPACE"," ",1088],["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","getProcess",1088],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1088],")",";",["T_WHITESPACE","\n        ",1088],["T_VARIABLE","$process",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","disableOutput",1089],"(",")",";",["T_WHITESPACE","\n        ",1089],["T_VARIABLE","$this",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","assertSame",1090],"(",["T_VARIABLE","$process",1090],",",["T_WHITESPACE"," ",1090],["T_VARIABLE","$process",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","setIdleTimeout",1090],"(",["T_STRING","null",1090],")",")",";",["T_WHITESPACE","\n    ",1090],"}",["T_WHITESPACE","\n\n    ",1091],["T_DOC_COMMENT","\/**\n     * @dataProvider provideOutputFetchingMethods\n     * @expectedException \\Symfony\\Component\\Process\\Exception\\LogicException\n     * @expectedExceptionMessage Output has been disabled.\n     *\/",1093],["T_WHITESPACE","\n    ",1097],["T_PUBLIC","public",1098],["T_WHITESPACE"," ",1098],["T_FUNCTION","function",1098],["T_WHITESPACE"," ",1098],["T_STRING","testGetOutputWhileDisabled",1098],"(",["T_VARIABLE","$fetchMethod",1098],")",["T_WHITESPACE","\n    ",1098],"{",["T_WHITESPACE","\n        ",1099],["T_VARIABLE","$p",1100],["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_VARIABLE","$this",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","getProcess",1100],"(",["T_STRING","self",1100],["T_DOUBLE_COLON","::",1100],["T_VARIABLE","$phpBin",1100],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"sleep(41);\"'",1100],")",";",["T_WHITESPACE","\n        ",1100],["T_VARIABLE","$p",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","disableOutput",1101],"(",")",";",["T_WHITESPACE","\n        ",1101],["T_VARIABLE","$p",1102],["T_OBJECT_OPERATOR","->",1102],["T_STRING","start",1102],"(",")",";",["T_WHITESPACE","\n        ",1102],["T_VARIABLE","$p",1103],["T_OBJECT_OPERATOR","->",1103],"{",["T_VARIABLE","$fetchMethod",1103],"}","(",")",";",["T_WHITESPACE","\n    ",1103],"}",["T_WHITESPACE","\n\n    ",1104],["T_PUBLIC","public",1106],["T_WHITESPACE"," ",1106],["T_FUNCTION","function",1106],["T_WHITESPACE"," ",1106],["T_STRING","provideOutputFetchingMethods",1106],"(",")",["T_WHITESPACE","\n    ",1106],"{",["T_WHITESPACE","\n        ",1107],["T_RETURN","return",1108],["T_WHITESPACE"," ",1108],["T_ARRAY","array",1108],"(",["T_WHITESPACE","\n            ",1108],["T_ARRAY","array",1109],"(",["T_CONSTANT_ENCAPSED_STRING","'getOutput'",1109],")",",",["T_WHITESPACE","\n            ",1109],["T_ARRAY","array",1110],"(",["T_CONSTANT_ENCAPSED_STRING","'getIncrementalOutput'",1110],")",",",["T_WHITESPACE","\n            ",1110],["T_ARRAY","array",1111],"(",["T_CONSTANT_ENCAPSED_STRING","'getErrorOutput'",1111],")",",",["T_WHITESPACE","\n            ",1111],["T_ARRAY","array",1112],"(",["T_CONSTANT_ENCAPSED_STRING","'getIncrementalErrorOutput'",1112],")",",",["T_WHITESPACE","\n        ",1112],")",";",["T_WHITESPACE","\n    ",1113],"}",["T_WHITESPACE","\n\n    ",1114],["T_PUBLIC","public",1116],["T_WHITESPACE"," ",1116],["T_FUNCTION","function",1116],["T_WHITESPACE"," ",1116],["T_STRING","testStopTerminatesProcessCleanly",1116],"(",")",["T_WHITESPACE","\n    ",1116],"{",["T_WHITESPACE","\n        ",1117],["T_VARIABLE","$process",1118],["T_WHITESPACE"," ",1118],"=",["T_WHITESPACE"," ",1118],["T_VARIABLE","$this",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","getProcess",1118],"(",["T_STRING","self",1118],["T_DOUBLE_COLON","::",1118],["T_VARIABLE","$phpBin",1118],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"echo 123; sleep(42);\"'",1118],")",";",["T_WHITESPACE","\n        ",1118],["T_VARIABLE","$process",1119],["T_OBJECT_OPERATOR","->",1119],["T_STRING","run",1119],"(",["T_FUNCTION","function",1119],["T_WHITESPACE"," ",1119],"(",")",["T_WHITESPACE"," ",1119],["T_USE","use",1119],["T_WHITESPACE"," ",1119],"(",["T_VARIABLE","$process",1119],")",["T_WHITESPACE"," ",1119],"{",["T_WHITESPACE","\n            ",1119],["T_VARIABLE","$process",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","stop",1120],"(",")",";",["T_WHITESPACE","\n        ",1120],"}",")",";",["T_WHITESPACE","\n        ",1121],["T_VARIABLE","$this",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","assertTrue",1122],"(",["T_STRING","true",1122],",",["T_WHITESPACE"," ",1122],["T_CONSTANT_ENCAPSED_STRING","'A call to stop() is not expected to cause wait() to throw a RuntimeException'",1122],")",";",["T_WHITESPACE","\n    ",1122],"}",["T_WHITESPACE","\n\n    ",1123],["T_PUBLIC","public",1125],["T_WHITESPACE"," ",1125],["T_FUNCTION","function",1125],["T_WHITESPACE"," ",1125],["T_STRING","testKillSignalTerminatesProcessCleanly",1125],"(",")",["T_WHITESPACE","\n    ",1125],"{",["T_WHITESPACE","\n        ",1126],["T_VARIABLE","$process",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_VARIABLE","$this",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","getProcess",1127],"(",["T_STRING","self",1127],["T_DOUBLE_COLON","::",1127],["T_VARIABLE","$phpBin",1127],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"echo 123; sleep(43);\"'",1127],")",";",["T_WHITESPACE","\n        ",1127],["T_VARIABLE","$process",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","run",1128],"(",["T_FUNCTION","function",1128],["T_WHITESPACE"," ",1128],"(",")",["T_WHITESPACE"," ",1128],["T_USE","use",1128],["T_WHITESPACE"," ",1128],"(",["T_VARIABLE","$process",1128],")",["T_WHITESPACE"," ",1128],"{",["T_WHITESPACE","\n            ",1128],["T_VARIABLE","$process",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","signal",1129],"(",["T_LNUMBER","9",1129],")",";",["T_WHITESPACE"," ",1129],["T_COMMENT","\/\/ SIGKILL\n",1129],["T_WHITESPACE","        ",1130],"}",")",";",["T_WHITESPACE","\n        ",1130],["T_VARIABLE","$this",1131],["T_OBJECT_OPERATOR","->",1131],["T_STRING","assertTrue",1131],"(",["T_STRING","true",1131],",",["T_WHITESPACE"," ",1131],["T_CONSTANT_ENCAPSED_STRING","'A call to signal() is not expected to cause wait() to throw a RuntimeException'",1131],")",";",["T_WHITESPACE","\n    ",1131],"}",["T_WHITESPACE","\n\n    ",1132],["T_PUBLIC","public",1134],["T_WHITESPACE"," ",1134],["T_FUNCTION","function",1134],["T_WHITESPACE"," ",1134],["T_STRING","testTermSignalTerminatesProcessCleanly",1134],"(",")",["T_WHITESPACE","\n    ",1134],"{",["T_WHITESPACE","\n        ",1135],["T_VARIABLE","$process",1136],["T_WHITESPACE"," ",1136],"=",["T_WHITESPACE"," ",1136],["T_VARIABLE","$this",1136],["T_OBJECT_OPERATOR","->",1136],["T_STRING","getProcess",1136],"(",["T_STRING","self",1136],["T_DOUBLE_COLON","::",1136],["T_VARIABLE","$phpBin",1136],".",["T_CONSTANT_ENCAPSED_STRING","' -r \"echo 123; sleep(44);\"'",1136],")",";",["T_WHITESPACE","\n        ",1136],["T_VARIABLE","$process",1137],["T_OBJECT_OPERATOR","->",1137],["T_STRING","run",1137],"(",["T_FUNCTION","function",1137],["T_WHITESPACE"," ",1137],"(",")",["T_WHITESPACE"," ",1137],["T_USE","use",1137],["T_WHITESPACE"," ",1137],"(",["T_VARIABLE","$process",1137],")",["T_WHITESPACE"," ",1137],"{",["T_WHITESPACE","\n            ",1137],["T_VARIABLE","$process",1138],["T_OBJECT_OPERATOR","->",1138],["T_STRING","signal",1138],"(",["T_LNUMBER","15",1138],")",";",["T_WHITESPACE"," ",1138],["T_COMMENT","\/\/ SIGTERM\n",1138],["T_WHITESPACE","        ",1139],"}",")",";",["T_WHITESPACE","\n        ",1139],["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","assertTrue",1140],"(",["T_STRING","true",1140],",",["T_WHITESPACE"," ",1140],["T_CONSTANT_ENCAPSED_STRING","'A call to signal() is not expected to cause wait() to throw a RuntimeException'",1140],")",";",["T_WHITESPACE","\n    ",1140],"}",["T_WHITESPACE","\n\n    ",1141],["T_PUBLIC","public",1143],["T_WHITESPACE"," ",1143],["T_FUNCTION","function",1143],["T_WHITESPACE"," ",1143],["T_STRING","responsesCodeProvider",1143],"(",")",["T_WHITESPACE","\n    ",1143],"{",["T_WHITESPACE","\n        ",1144],["T_RETURN","return",1145],["T_WHITESPACE"," ",1145],["T_ARRAY","array",1145],"(",["T_WHITESPACE","\n            ",1145],["T_COMMENT","\/\/expected output \/ getter \/ code to execute\n",1146],["T_WHITESPACE","            ",1147],["T_COMMENT","\/\/array(1,'getExitCode','exit(1);'),\n",1147],["T_WHITESPACE","            ",1148],["T_COMMENT","\/\/array(true,'isSuccessful','exit();'),\n",1148],["T_WHITESPACE","            ",1149],["T_ARRAY","array",1149],"(",["T_CONSTANT_ENCAPSED_STRING","'output'",1149],",",["T_WHITESPACE"," ",1149],["T_CONSTANT_ENCAPSED_STRING","'getOutput'",1149],",",["T_WHITESPACE"," ",1149],["T_CONSTANT_ENCAPSED_STRING","'echo \\'output\\';'",1149],")",",",["T_WHITESPACE","\n        ",1149],")",";",["T_WHITESPACE","\n    ",1150],"}",["T_WHITESPACE","\n\n    ",1151],["T_PUBLIC","public",1153],["T_WHITESPACE"," ",1153],["T_FUNCTION","function",1153],["T_WHITESPACE"," ",1153],["T_STRING","pipesCodeProvider",1153],"(",")",["T_WHITESPACE","\n    ",1153],"{",["T_WHITESPACE","\n        ",1154],["T_VARIABLE","$variations",1155],["T_WHITESPACE"," ",1155],"=",["T_WHITESPACE"," ",1155],["T_ARRAY","array",1155],"(",["T_WHITESPACE","\n            ",1155],["T_CONSTANT_ENCAPSED_STRING","'fwrite(STDOUT, $in = file_get_contents(\\'php:\/\/stdin\\')); fwrite(STDERR, $in);'",1156],",",["T_WHITESPACE","\n            ",1156],["T_CONSTANT_ENCAPSED_STRING","'include \\''",1157],".",["T_DIR","__DIR__",1157],".",["T_CONSTANT_ENCAPSED_STRING","'\/PipeStdinInStdoutStdErrStreamSelect.php\\';'",1157],",",["T_WHITESPACE","\n        ",1157],")",";",["T_WHITESPACE","\n\n        ",1158],["T_IF","if",1160],["T_WHITESPACE"," ",1160],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",1160],["T_WHITESPACE"," ",1160],["T_IS_IDENTICAL","===",1160],["T_WHITESPACE"," ",1160],["T_STRING","DIRECTORY_SEPARATOR",1160],")",["T_WHITESPACE"," ",1160],"{",["T_WHITESPACE","\n            ",1160],["T_COMMENT","\/\/ Avoid XL buffers on Windows because of https:\/\/bugs.php.net\/bug.php?id=65650\n",1161],["T_WHITESPACE","            ",1162],["T_VARIABLE","$sizes",1162],["T_WHITESPACE"," ",1162],"=",["T_WHITESPACE"," ",1162],["T_ARRAY","array",1162],"(",["T_LNUMBER","1",1162],",",["T_WHITESPACE"," ",1162],["T_LNUMBER","2",1162],",",["T_WHITESPACE"," ",1162],["T_LNUMBER","4",1162],",",["T_WHITESPACE"," ",1162],["T_LNUMBER","8",1162],")",";",["T_WHITESPACE","\n        ",1162],"}",["T_WHITESPACE"," ",1163],["T_ELSE","else",1163],["T_WHITESPACE"," ",1163],"{",["T_WHITESPACE","\n            ",1163],["T_VARIABLE","$sizes",1164],["T_WHITESPACE"," ",1164],"=",["T_WHITESPACE"," ",1164],["T_ARRAY","array",1164],"(",["T_LNUMBER","1",1164],",",["T_WHITESPACE"," ",1164],["T_LNUMBER","16",1164],",",["T_WHITESPACE"," ",1164],["T_LNUMBER","64",1164],",",["T_WHITESPACE"," ",1164],["T_LNUMBER","1024",1164],",",["T_WHITESPACE"," ",1164],["T_LNUMBER","4096",1164],")",";",["T_WHITESPACE","\n        ",1164],"}",["T_WHITESPACE","\n\n        ",1165],["T_VARIABLE","$codes",1167],["T_WHITESPACE"," ",1167],"=",["T_WHITESPACE"," ",1167],["T_ARRAY","array",1167],"(",")",";",["T_WHITESPACE","\n        ",1167],["T_FOREACH","foreach",1168],["T_WHITESPACE"," ",1168],"(",["T_VARIABLE","$sizes",1168],["T_WHITESPACE"," ",1168],["T_AS","as",1168],["T_WHITESPACE"," ",1168],["T_VARIABLE","$size",1168],")",["T_WHITESPACE"," ",1168],"{",["T_WHITESPACE","\n            ",1168],["T_FOREACH","foreach",1169],["T_WHITESPACE"," ",1169],"(",["T_VARIABLE","$variations",1169],["T_WHITESPACE"," ",1169],["T_AS","as",1169],["T_WHITESPACE"," ",1169],["T_VARIABLE","$code",1169],")",["T_WHITESPACE"," ",1169],"{",["T_WHITESPACE","\n                ",1169],["T_VARIABLE","$codes",1170],"[","]",["T_WHITESPACE"," ",1170],"=",["T_WHITESPACE"," ",1170],["T_ARRAY","array",1170],"(",["T_VARIABLE","$code",1170],",",["T_WHITESPACE"," ",1170],["T_VARIABLE","$size",1170],")",";",["T_WHITESPACE","\n            ",1170],"}",["T_WHITESPACE","\n        ",1171],"}",["T_WHITESPACE","\n\n        ",1172],["T_RETURN","return",1174],["T_WHITESPACE"," ",1174],["T_VARIABLE","$codes",1174],";",["T_WHITESPACE","\n    ",1174],"}",["T_WHITESPACE","\n\n    ",1175],["T_DOC_COMMENT","\/**\n     * @dataProvider provideVariousIncrementals\n     *\/",1177],["T_WHITESPACE","\n    ",1179],["T_PUBLIC","public",1180],["T_WHITESPACE"," ",1180],["T_FUNCTION","function",1180],["T_WHITESPACE"," ",1180],["T_STRING","testIncrementalOutputDoesNotRequireAnotherCall",1180],"(",["T_VARIABLE","$stream",1180],",",["T_WHITESPACE"," ",1180],["T_VARIABLE","$method",1180],")",["T_WHITESPACE","\n    ",1180],"{",["T_WHITESPACE","\n        ",1181],["T_VARIABLE","$process",1182],["T_WHITESPACE"," ",1182],"=",["T_WHITESPACE"," ",1182],["T_VARIABLE","$this",1182],["T_OBJECT_OPERATOR","->",1182],["T_STRING","getProcess",1182],"(",["T_STRING","self",1182],["T_DOUBLE_COLON","::",1182],["T_VARIABLE","$phpBin",1182],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1182],".",["T_STRING","escapeshellarg",1182],"(",["T_CONSTANT_ENCAPSED_STRING","'$n = 0; while ($n < 3) { file_put_contents(\\''",1182],".",["T_VARIABLE","$stream",1182],".",["T_CONSTANT_ENCAPSED_STRING","'\\', $n, 1); $n++; usleep(1000); }'",1182],")",",",["T_WHITESPACE"," ",1182],["T_STRING","null",1182],",",["T_WHITESPACE"," ",1182],["T_STRING","null",1182],",",["T_WHITESPACE"," ",1182],["T_STRING","null",1182],",",["T_WHITESPACE"," ",1182],["T_STRING","null",1182],")",";",["T_WHITESPACE","\n        ",1182],["T_VARIABLE","$process",1183],["T_OBJECT_OPERATOR","->",1183],["T_STRING","start",1183],"(",")",";",["T_WHITESPACE","\n        ",1183],["T_VARIABLE","$result",1184],["T_WHITESPACE"," ",1184],"=",["T_WHITESPACE"," ",1184],["T_CONSTANT_ENCAPSED_STRING","''",1184],";",["T_WHITESPACE","\n        ",1184],["T_VARIABLE","$limit",1185],["T_WHITESPACE"," ",1185],"=",["T_WHITESPACE"," ",1185],["T_STRING","microtime",1185],"(",["T_STRING","true",1185],")",["T_WHITESPACE"," ",1185],"+",["T_WHITESPACE"," ",1185],["T_LNUMBER","3",1185],";",["T_WHITESPACE","\n        ",1185],["T_VARIABLE","$expected",1186],["T_WHITESPACE"," ",1186],"=",["T_WHITESPACE"," ",1186],["T_CONSTANT_ENCAPSED_STRING","'012'",1186],";",["T_WHITESPACE","\n\n        ",1186],["T_WHILE","while",1188],["T_WHITESPACE"," ",1188],"(",["T_VARIABLE","$result",1188],["T_WHITESPACE"," ",1188],["T_IS_NOT_IDENTICAL","!==",1188],["T_WHITESPACE"," ",1188],["T_VARIABLE","$expected",1188],["T_WHITESPACE"," ",1188],["T_BOOLEAN_AND","&&",1188],["T_WHITESPACE"," ",1188],["T_STRING","microtime",1188],"(",["T_STRING","true",1188],")",["T_WHITESPACE"," ",1188],"<",["T_WHITESPACE"," ",1188],["T_VARIABLE","$limit",1188],")",["T_WHITESPACE"," ",1188],"{",["T_WHITESPACE","\n            ",1188],["T_VARIABLE","$result",1189],["T_WHITESPACE"," ",1189],["T_CONCAT_EQUAL",".=",1189],["T_WHITESPACE"," ",1189],["T_VARIABLE","$process",1189],["T_OBJECT_OPERATOR","->",1189],["T_VARIABLE","$method",1189],"(",")",";",["T_WHITESPACE","\n        ",1189],"}",["T_WHITESPACE","\n\n        ",1190],["T_VARIABLE","$this",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","assertSame",1192],"(",["T_VARIABLE","$expected",1192],",",["T_WHITESPACE"," ",1192],["T_VARIABLE","$result",1192],")",";",["T_WHITESPACE","\n        ",1192],["T_VARIABLE","$process",1193],["T_OBJECT_OPERATOR","->",1193],["T_STRING","stop",1193],"(",")",";",["T_WHITESPACE","\n    ",1193],"}",["T_WHITESPACE","\n\n    ",1194],["T_PUBLIC","public",1196],["T_WHITESPACE"," ",1196],["T_FUNCTION","function",1196],["T_WHITESPACE"," ",1196],["T_STRING","provideVariousIncrementals",1196],"(",")",["T_WHITESPACE","\n    ",1196],"{",["T_WHITESPACE","\n        ",1197],["T_RETURN","return",1198],["T_WHITESPACE"," ",1198],["T_ARRAY","array",1198],"(",["T_WHITESPACE","\n            ",1198],["T_ARRAY","array",1199],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/stdout'",1199],",",["T_WHITESPACE"," ",1199],["T_CONSTANT_ENCAPSED_STRING","'getIncrementalOutput'",1199],")",",",["T_WHITESPACE","\n            ",1199],["T_ARRAY","array",1200],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/stderr'",1200],",",["T_WHITESPACE"," ",1200],["T_CONSTANT_ENCAPSED_STRING","'getIncrementalErrorOutput'",1200],")",",",["T_WHITESPACE","\n        ",1200],")",";",["T_WHITESPACE","\n    ",1201],"}",["T_WHITESPACE","\n\n    ",1202],["T_PUBLIC","public",1204],["T_WHITESPACE"," ",1204],["T_FUNCTION","function",1204],["T_WHITESPACE"," ",1204],["T_STRING","testIteratorInput",1204],"(",")",["T_WHITESPACE","\n    ",1204],"{",["T_WHITESPACE","\n        ",1205],["T_VARIABLE","$input",1206],["T_WHITESPACE"," ",1206],"=",["T_WHITESPACE"," ",1206],["T_FUNCTION","function",1206],["T_WHITESPACE"," ",1206],"(",")",["T_WHITESPACE"," ",1206],"{",["T_WHITESPACE","\n            ",1206],["T_YIELD","yield",1207],["T_WHITESPACE"," ",1207],["T_CONSTANT_ENCAPSED_STRING","'ping'",1207],";",["T_WHITESPACE","\n            ",1207],["T_YIELD","yield",1208],["T_WHITESPACE"," ",1208],["T_CONSTANT_ENCAPSED_STRING","'pong'",1208],";",["T_WHITESPACE","\n        ",1208],"}",";",["T_WHITESPACE","\n\n        ",1209],["T_VARIABLE","$process",1211],["T_WHITESPACE"," ",1211],"=",["T_WHITESPACE"," ",1211],["T_VARIABLE","$this",1211],["T_OBJECT_OPERATOR","->",1211],["T_STRING","getProcess",1211],"(",["T_STRING","self",1211],["T_DOUBLE_COLON","::",1211],["T_VARIABLE","$phpBin",1211],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1211],".",["T_STRING","escapeshellarg",1211],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_copy_to_stream(STDIN, STDOUT);'",1211],")",",",["T_WHITESPACE"," ",1211],["T_STRING","null",1211],",",["T_WHITESPACE"," ",1211],["T_STRING","null",1211],",",["T_WHITESPACE"," ",1211],["T_VARIABLE","$input",1211],"(",")",")",";",["T_WHITESPACE","\n        ",1211],["T_VARIABLE","$process",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","run",1212],"(",")",";",["T_WHITESPACE","\n        ",1212],["T_VARIABLE","$this",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","assertSame",1213],"(",["T_CONSTANT_ENCAPSED_STRING","'pingpong'",1213],",",["T_WHITESPACE"," ",1213],["T_VARIABLE","$process",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","getOutput",1213],"(",")",")",";",["T_WHITESPACE","\n    ",1213],"}",["T_WHITESPACE","\n\n    ",1214],["T_PUBLIC","public",1216],["T_WHITESPACE"," ",1216],["T_FUNCTION","function",1216],["T_WHITESPACE"," ",1216],["T_STRING","testSimpleInputStream",1216],"(",")",["T_WHITESPACE","\n    ",1216],"{",["T_WHITESPACE","\n        ",1217],["T_VARIABLE","$input",1218],["T_WHITESPACE"," ",1218],"=",["T_WHITESPACE"," ",1218],["T_NEW","new",1218],["T_WHITESPACE"," ",1218],["T_STRING","InputStream",1218],"(",")",";",["T_WHITESPACE","\n\n        ",1218],["T_VARIABLE","$process",1220],["T_WHITESPACE"," ",1220],"=",["T_WHITESPACE"," ",1220],["T_VARIABLE","$this",1220],["T_OBJECT_OPERATOR","->",1220],["T_STRING","getProcess",1220],"(",["T_STRING","self",1220],["T_DOUBLE_COLON","::",1220],["T_VARIABLE","$phpBin",1220],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1220],".",["T_STRING","escapeshellarg",1220],"(",["T_CONSTANT_ENCAPSED_STRING","'echo \\'ping\\'; stream_copy_to_stream(STDIN, STDOUT);'",1220],")",")",";",["T_WHITESPACE","\n        ",1220],["T_VARIABLE","$process",1221],["T_OBJECT_OPERATOR","->",1221],["T_STRING","setInput",1221],"(",["T_VARIABLE","$input",1221],")",";",["T_WHITESPACE","\n\n        ",1221],["T_VARIABLE","$process",1223],["T_OBJECT_OPERATOR","->",1223],["T_STRING","start",1223],"(",["T_FUNCTION","function",1223],["T_WHITESPACE"," ",1223],"(",["T_VARIABLE","$type",1223],",",["T_WHITESPACE"," ",1223],["T_VARIABLE","$data",1223],")",["T_WHITESPACE"," ",1223],["T_USE","use",1223],["T_WHITESPACE"," ",1223],"(",["T_VARIABLE","$input",1223],")",["T_WHITESPACE"," ",1223],"{",["T_WHITESPACE","\n            ",1223],["T_IF","if",1224],["T_WHITESPACE"," ",1224],"(",["T_CONSTANT_ENCAPSED_STRING","'ping'",1224],["T_WHITESPACE"," ",1224],["T_IS_IDENTICAL","===",1224],["T_WHITESPACE"," ",1224],["T_VARIABLE","$data",1224],")",["T_WHITESPACE"," ",1224],"{",["T_WHITESPACE","\n                ",1224],["T_VARIABLE","$input",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","write",1225],"(",["T_CONSTANT_ENCAPSED_STRING","'pang'",1225],")",";",["T_WHITESPACE","\n            ",1225],"}",["T_WHITESPACE"," ",1226],["T_ELSEIF","elseif",1226],["T_WHITESPACE"," ",1226],"(","!",["T_VARIABLE","$input",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","isClosed",1226],"(",")",")",["T_WHITESPACE"," ",1226],"{",["T_WHITESPACE","\n                ",1226],["T_VARIABLE","$input",1227],["T_OBJECT_OPERATOR","->",1227],["T_STRING","write",1227],"(",["T_CONSTANT_ENCAPSED_STRING","'pong'",1227],")",";",["T_WHITESPACE","\n                ",1227],["T_VARIABLE","$input",1228],["T_OBJECT_OPERATOR","->",1228],["T_STRING","close",1228],"(",")",";",["T_WHITESPACE","\n            ",1228],"}",["T_WHITESPACE","\n        ",1229],"}",")",";",["T_WHITESPACE","\n\n        ",1230],["T_VARIABLE","$process",1232],["T_OBJECT_OPERATOR","->",1232],["T_STRING","wait",1232],"(",")",";",["T_WHITESPACE","\n        ",1232],["T_VARIABLE","$this",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","assertSame",1233],"(",["T_CONSTANT_ENCAPSED_STRING","'pingpangpong'",1233],",",["T_WHITESPACE"," ",1233],["T_VARIABLE","$process",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","getOutput",1233],"(",")",")",";",["T_WHITESPACE","\n    ",1233],"}",["T_WHITESPACE","\n\n    ",1234],["T_PUBLIC","public",1236],["T_WHITESPACE"," ",1236],["T_FUNCTION","function",1236],["T_WHITESPACE"," ",1236],["T_STRING","testInputStreamWithCallable",1236],"(",")",["T_WHITESPACE","\n    ",1236],"{",["T_WHITESPACE","\n        ",1237],["T_VARIABLE","$i",1238],["T_WHITESPACE"," ",1238],"=",["T_WHITESPACE"," ",1238],["T_LNUMBER","0",1238],";",["T_WHITESPACE","\n        ",1238],["T_VARIABLE","$stream",1239],["T_WHITESPACE"," ",1239],"=",["T_WHITESPACE"," ",1239],["T_STRING","fopen",1239],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/memory'",1239],",",["T_WHITESPACE"," ",1239],["T_CONSTANT_ENCAPSED_STRING","'w+'",1239],")",";",["T_WHITESPACE","\n        ",1239],["T_VARIABLE","$stream",1240],["T_WHITESPACE"," ",1240],"=",["T_WHITESPACE"," ",1240],["T_FUNCTION","function",1240],["T_WHITESPACE"," ",1240],"(",")",["T_WHITESPACE"," ",1240],["T_USE","use",1240],["T_WHITESPACE"," ",1240],"(",["T_VARIABLE","$stream",1240],",",["T_WHITESPACE"," ",1240],"&",["T_VARIABLE","$i",1240],")",["T_WHITESPACE"," ",1240],"{",["T_WHITESPACE","\n            ",1240],["T_IF","if",1241],["T_WHITESPACE"," ",1241],"(",["T_VARIABLE","$i",1241],["T_WHITESPACE"," ",1241],"<",["T_WHITESPACE"," ",1241],["T_LNUMBER","3",1241],")",["T_WHITESPACE"," ",1241],"{",["T_WHITESPACE","\n                ",1241],["T_STRING","rewind",1242],"(",["T_VARIABLE","$stream",1242],")",";",["T_WHITESPACE","\n                ",1242],["T_STRING","fwrite",1243],"(",["T_VARIABLE","$stream",1243],",",["T_WHITESPACE"," ",1243],["T_INC","++",1243],["T_VARIABLE","$i",1243],")",";",["T_WHITESPACE","\n                ",1243],["T_STRING","rewind",1244],"(",["T_VARIABLE","$stream",1244],")",";",["T_WHITESPACE","\n\n                ",1244],["T_RETURN","return",1246],["T_WHITESPACE"," ",1246],["T_VARIABLE","$stream",1246],";",["T_WHITESPACE","\n            ",1246],"}",["T_WHITESPACE","\n        ",1247],"}",";",["T_WHITESPACE","\n\n        ",1248],["T_VARIABLE","$input",1250],["T_WHITESPACE"," ",1250],"=",["T_WHITESPACE"," ",1250],["T_NEW","new",1250],["T_WHITESPACE"," ",1250],["T_STRING","InputStream",1250],"(",")",";",["T_WHITESPACE","\n        ",1250],["T_VARIABLE","$input",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","onEmpty",1251],"(",["T_VARIABLE","$stream",1251],")",";",["T_WHITESPACE","\n        ",1251],["T_VARIABLE","$input",1252],["T_OBJECT_OPERATOR","->",1252],["T_STRING","write",1252],"(",["T_VARIABLE","$stream",1252],"(",")",")",";",["T_WHITESPACE","\n\n        ",1252],["T_VARIABLE","$process",1254],["T_WHITESPACE"," ",1254],"=",["T_WHITESPACE"," ",1254],["T_VARIABLE","$this",1254],["T_OBJECT_OPERATOR","->",1254],["T_STRING","getProcess",1254],"(",["T_STRING","self",1254],["T_DOUBLE_COLON","::",1254],["T_VARIABLE","$phpBin",1254],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1254],".",["T_STRING","escapeshellarg",1254],"(",["T_CONSTANT_ENCAPSED_STRING","'echo fread(STDIN, 3);'",1254],")",")",";",["T_WHITESPACE","\n        ",1254],["T_VARIABLE","$process",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","setInput",1255],"(",["T_VARIABLE","$input",1255],")",";",["T_WHITESPACE","\n        ",1255],["T_VARIABLE","$process",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","start",1256],"(",["T_FUNCTION","function",1256],["T_WHITESPACE"," ",1256],"(",["T_VARIABLE","$type",1256],",",["T_WHITESPACE"," ",1256],["T_VARIABLE","$data",1256],")",["T_WHITESPACE"," ",1256],["T_USE","use",1256],["T_WHITESPACE"," ",1256],"(",["T_VARIABLE","$input",1256],")",["T_WHITESPACE"," ",1256],"{",["T_WHITESPACE","\n            ",1256],["T_VARIABLE","$input",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","close",1257],"(",")",";",["T_WHITESPACE","\n        ",1257],"}",")",";",["T_WHITESPACE","\n\n        ",1258],["T_VARIABLE","$process",1260],["T_OBJECT_OPERATOR","->",1260],["T_STRING","wait",1260],"(",")",";",["T_WHITESPACE","\n        ",1260],["T_VARIABLE","$this",1261],["T_OBJECT_OPERATOR","->",1261],["T_STRING","assertSame",1261],"(",["T_CONSTANT_ENCAPSED_STRING","'123'",1261],",",["T_WHITESPACE"," ",1261],["T_VARIABLE","$process",1261],["T_OBJECT_OPERATOR","->",1261],["T_STRING","getOutput",1261],"(",")",")",";",["T_WHITESPACE","\n    ",1261],"}",["T_WHITESPACE","\n\n    ",1262],["T_PUBLIC","public",1264],["T_WHITESPACE"," ",1264],["T_FUNCTION","function",1264],["T_WHITESPACE"," ",1264],["T_STRING","testInputStreamWithGenerator",1264],"(",")",["T_WHITESPACE","\n    ",1264],"{",["T_WHITESPACE","\n        ",1265],["T_VARIABLE","$input",1266],["T_WHITESPACE"," ",1266],"=",["T_WHITESPACE"," ",1266],["T_NEW","new",1266],["T_WHITESPACE"," ",1266],["T_STRING","InputStream",1266],"(",")",";",["T_WHITESPACE","\n        ",1266],["T_VARIABLE","$input",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","onEmpty",1267],"(",["T_FUNCTION","function",1267],["T_WHITESPACE"," ",1267],"(",["T_VARIABLE","$input",1267],")",["T_WHITESPACE"," ",1267],"{",["T_WHITESPACE","\n            ",1267],["T_YIELD","yield",1268],["T_WHITESPACE"," ",1268],["T_CONSTANT_ENCAPSED_STRING","'pong'",1268],";",["T_WHITESPACE","\n            ",1268],["T_VARIABLE","$input",1269],["T_OBJECT_OPERATOR","->",1269],["T_STRING","close",1269],"(",")",";",["T_WHITESPACE","\n        ",1269],"}",")",";",["T_WHITESPACE","\n\n        ",1270],["T_VARIABLE","$process",1272],["T_WHITESPACE"," ",1272],"=",["T_WHITESPACE"," ",1272],["T_VARIABLE","$this",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","getProcess",1272],"(",["T_STRING","self",1272],["T_DOUBLE_COLON","::",1272],["T_VARIABLE","$phpBin",1272],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1272],".",["T_STRING","escapeshellarg",1272],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_copy_to_stream(STDIN, STDOUT);'",1272],")",")",";",["T_WHITESPACE","\n        ",1272],["T_VARIABLE","$process",1273],["T_OBJECT_OPERATOR","->",1273],["T_STRING","setInput",1273],"(",["T_VARIABLE","$input",1273],")",";",["T_WHITESPACE","\n        ",1273],["T_VARIABLE","$process",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","start",1274],"(",")",";",["T_WHITESPACE","\n        ",1274],["T_VARIABLE","$input",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","write",1275],"(",["T_CONSTANT_ENCAPSED_STRING","'ping'",1275],")",";",["T_WHITESPACE","\n        ",1275],["T_VARIABLE","$process",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","wait",1276],"(",")",";",["T_WHITESPACE","\n        ",1276],["T_VARIABLE","$this",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","assertSame",1277],"(",["T_CONSTANT_ENCAPSED_STRING","'pingpong'",1277],",",["T_WHITESPACE"," ",1277],["T_VARIABLE","$process",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","getOutput",1277],"(",")",")",";",["T_WHITESPACE","\n    ",1277],"}",["T_WHITESPACE","\n\n    ",1278],["T_PUBLIC","public",1280],["T_WHITESPACE"," ",1280],["T_FUNCTION","function",1280],["T_WHITESPACE"," ",1280],["T_STRING","testInputStreamOnEmpty",1280],"(",")",["T_WHITESPACE","\n    ",1280],"{",["T_WHITESPACE","\n        ",1281],["T_VARIABLE","$i",1282],["T_WHITESPACE"," ",1282],"=",["T_WHITESPACE"," ",1282],["T_LNUMBER","0",1282],";",["T_WHITESPACE","\n        ",1282],["T_VARIABLE","$input",1283],["T_WHITESPACE"," ",1283],"=",["T_WHITESPACE"," ",1283],["T_NEW","new",1283],["T_WHITESPACE"," ",1283],["T_STRING","InputStream",1283],"(",")",";",["T_WHITESPACE","\n        ",1283],["T_VARIABLE","$input",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","onEmpty",1284],"(",["T_FUNCTION","function",1284],["T_WHITESPACE"," ",1284],"(",")",["T_WHITESPACE"," ",1284],["T_USE","use",1284],["T_WHITESPACE"," ",1284],"(","&",["T_VARIABLE","$i",1284],")",["T_WHITESPACE"," ",1284],"{",["T_WHITESPACE"," ",1284],["T_INC","++",1284],["T_VARIABLE","$i",1284],";",["T_WHITESPACE"," ",1284],"}",")",";",["T_WHITESPACE","\n\n        ",1284],["T_VARIABLE","$process",1286],["T_WHITESPACE"," ",1286],"=",["T_WHITESPACE"," ",1286],["T_VARIABLE","$this",1286],["T_OBJECT_OPERATOR","->",1286],["T_STRING","getProcess",1286],"(",["T_STRING","self",1286],["T_DOUBLE_COLON","::",1286],["T_VARIABLE","$phpBin",1286],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1286],".",["T_STRING","escapeshellarg",1286],"(",["T_CONSTANT_ENCAPSED_STRING","'echo 123; echo fread(STDIN, 1); echo 456;'",1286],")",")",";",["T_WHITESPACE","\n        ",1286],["T_VARIABLE","$process",1287],["T_OBJECT_OPERATOR","->",1287],["T_STRING","setInput",1287],"(",["T_VARIABLE","$input",1287],")",";",["T_WHITESPACE","\n        ",1287],["T_VARIABLE","$process",1288],["T_OBJECT_OPERATOR","->",1288],["T_STRING","start",1288],"(",["T_FUNCTION","function",1288],["T_WHITESPACE"," ",1288],"(",["T_VARIABLE","$type",1288],",",["T_WHITESPACE"," ",1288],["T_VARIABLE","$data",1288],")",["T_WHITESPACE"," ",1288],["T_USE","use",1288],["T_WHITESPACE"," ",1288],"(",["T_VARIABLE","$input",1288],")",["T_WHITESPACE"," ",1288],"{",["T_WHITESPACE","\n            ",1288],["T_IF","if",1289],["T_WHITESPACE"," ",1289],"(",["T_CONSTANT_ENCAPSED_STRING","'123'",1289],["T_WHITESPACE"," ",1289],["T_IS_IDENTICAL","===",1289],["T_WHITESPACE"," ",1289],["T_VARIABLE","$data",1289],")",["T_WHITESPACE"," ",1289],"{",["T_WHITESPACE","\n                ",1289],["T_VARIABLE","$input",1290],["T_OBJECT_OPERATOR","->",1290],["T_STRING","close",1290],"(",")",";",["T_WHITESPACE","\n            ",1290],"}",["T_WHITESPACE","\n        ",1291],"}",")",";",["T_WHITESPACE","\n        ",1292],["T_VARIABLE","$process",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","wait",1293],"(",")",";",["T_WHITESPACE","\n\n        ",1293],["T_VARIABLE","$this",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","assertSame",1295],"(",["T_LNUMBER","0",1295],",",["T_WHITESPACE"," ",1295],["T_VARIABLE","$i",1295],",",["T_WHITESPACE"," ",1295],["T_CONSTANT_ENCAPSED_STRING","'InputStream->onEmpty callback should be called only when the input *becomes* empty'",1295],")",";",["T_WHITESPACE","\n        ",1295],["T_VARIABLE","$this",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","assertSame",1296],"(",["T_CONSTANT_ENCAPSED_STRING","'123456'",1296],",",["T_WHITESPACE"," ",1296],["T_VARIABLE","$process",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","getOutput",1296],"(",")",")",";",["T_WHITESPACE","\n    ",1296],"}",["T_WHITESPACE","\n\n    ",1297],["T_PUBLIC","public",1299],["T_WHITESPACE"," ",1299],["T_FUNCTION","function",1299],["T_WHITESPACE"," ",1299],["T_STRING","testIteratorOutput",1299],"(",")",["T_WHITESPACE","\n    ",1299],"{",["T_WHITESPACE","\n        ",1300],["T_VARIABLE","$input",1301],["T_WHITESPACE"," ",1301],"=",["T_WHITESPACE"," ",1301],["T_NEW","new",1301],["T_WHITESPACE"," ",1301],["T_STRING","InputStream",1301],"(",")",";",["T_WHITESPACE","\n\n        ",1301],["T_VARIABLE","$process",1303],["T_WHITESPACE"," ",1303],"=",["T_WHITESPACE"," ",1303],["T_VARIABLE","$this",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","getProcess",1303],"(",["T_STRING","self",1303],["T_DOUBLE_COLON","::",1303],["T_VARIABLE","$phpBin",1303],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1303],".",["T_STRING","escapeshellarg",1303],"(",["T_CONSTANT_ENCAPSED_STRING","'fwrite(STDOUT, 123); fwrite(STDERR, 234); flush(); usleep(10000); fwrite(STDOUT, fread(STDIN, 3)); fwrite(STDERR, 456);'",1303],")",")",";",["T_WHITESPACE","\n        ",1303],["T_VARIABLE","$process",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","setInput",1304],"(",["T_VARIABLE","$input",1304],")",";",["T_WHITESPACE","\n        ",1304],["T_VARIABLE","$process",1305],["T_OBJECT_OPERATOR","->",1305],["T_STRING","start",1305],"(",")",";",["T_WHITESPACE","\n        ",1305],["T_VARIABLE","$output",1306],["T_WHITESPACE"," ",1306],"=",["T_WHITESPACE"," ",1306],["T_ARRAY","array",1306],"(",")",";",["T_WHITESPACE","\n\n        ",1306],["T_FOREACH","foreach",1308],["T_WHITESPACE"," ",1308],"(",["T_VARIABLE","$process",1308],["T_WHITESPACE"," ",1308],["T_AS","as",1308],["T_WHITESPACE"," ",1308],["T_VARIABLE","$type",1308],["T_WHITESPACE"," ",1308],["T_DOUBLE_ARROW","=>",1308],["T_WHITESPACE"," ",1308],["T_VARIABLE","$data",1308],")",["T_WHITESPACE"," ",1308],"{",["T_WHITESPACE","\n            ",1308],["T_VARIABLE","$output",1309],"[","]",["T_WHITESPACE"," ",1309],"=",["T_WHITESPACE"," ",1309],["T_ARRAY","array",1309],"(",["T_VARIABLE","$type",1309],",",["T_WHITESPACE"," ",1309],["T_VARIABLE","$data",1309],")",";",["T_WHITESPACE","\n            ",1309],["T_BREAK","break",1310],";",["T_WHITESPACE","\n        ",1310],"}",["T_WHITESPACE","\n        ",1311],["T_VARIABLE","$expectedOutput",1312],["T_WHITESPACE"," ",1312],"=",["T_WHITESPACE"," ",1312],["T_ARRAY","array",1312],"(",["T_WHITESPACE","\n            ",1312],["T_ARRAY","array",1313],"(",["T_VARIABLE","$process",1313],["T_DOUBLE_COLON","::",1313],["T_STRING","OUT",1313],",",["T_WHITESPACE"," ",1313],["T_CONSTANT_ENCAPSED_STRING","'123'",1313],")",",",["T_WHITESPACE","\n        ",1313],")",";",["T_WHITESPACE","\n        ",1314],["T_VARIABLE","$this",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","assertSame",1315],"(",["T_VARIABLE","$expectedOutput",1315],",",["T_WHITESPACE"," ",1315],["T_VARIABLE","$output",1315],")",";",["T_WHITESPACE","\n\n        ",1315],["T_VARIABLE","$input",1317],["T_OBJECT_OPERATOR","->",1317],["T_STRING","write",1317],"(",["T_LNUMBER","345",1317],")",";",["T_WHITESPACE","\n\n        ",1317],["T_FOREACH","foreach",1319],["T_WHITESPACE"," ",1319],"(",["T_VARIABLE","$process",1319],["T_WHITESPACE"," ",1319],["T_AS","as",1319],["T_WHITESPACE"," ",1319],["T_VARIABLE","$type",1319],["T_WHITESPACE"," ",1319],["T_DOUBLE_ARROW","=>",1319],["T_WHITESPACE"," ",1319],["T_VARIABLE","$data",1319],")",["T_WHITESPACE"," ",1319],"{",["T_WHITESPACE","\n            ",1319],["T_VARIABLE","$output",1320],"[","]",["T_WHITESPACE"," ",1320],"=",["T_WHITESPACE"," ",1320],["T_ARRAY","array",1320],"(",["T_VARIABLE","$type",1320],",",["T_WHITESPACE"," ",1320],["T_VARIABLE","$data",1320],")",";",["T_WHITESPACE","\n        ",1320],"}",["T_WHITESPACE","\n\n        ",1321],["T_VARIABLE","$this",1323],["T_OBJECT_OPERATOR","->",1323],["T_STRING","assertSame",1323],"(",["T_CONSTANT_ENCAPSED_STRING","''",1323],",",["T_WHITESPACE"," ",1323],["T_VARIABLE","$process",1323],["T_OBJECT_OPERATOR","->",1323],["T_STRING","getOutput",1323],"(",")",")",";",["T_WHITESPACE","\n        ",1323],["T_VARIABLE","$this",1324],["T_OBJECT_OPERATOR","->",1324],["T_STRING","assertFalse",1324],"(",["T_VARIABLE","$process",1324],["T_OBJECT_OPERATOR","->",1324],["T_STRING","isRunning",1324],"(",")",")",";",["T_WHITESPACE","\n\n        ",1324],["T_VARIABLE","$expectedOutput",1326],["T_WHITESPACE"," ",1326],"=",["T_WHITESPACE"," ",1326],["T_ARRAY","array",1326],"(",["T_WHITESPACE","\n            ",1326],["T_ARRAY","array",1327],"(",["T_VARIABLE","$process",1327],["T_DOUBLE_COLON","::",1327],["T_STRING","OUT",1327],",",["T_WHITESPACE"," ",1327],["T_CONSTANT_ENCAPSED_STRING","'123'",1327],")",",",["T_WHITESPACE","\n            ",1327],["T_ARRAY","array",1328],"(",["T_VARIABLE","$process",1328],["T_DOUBLE_COLON","::",1328],["T_STRING","ERR",1328],",",["T_WHITESPACE"," ",1328],["T_CONSTANT_ENCAPSED_STRING","'234'",1328],")",",",["T_WHITESPACE","\n            ",1328],["T_ARRAY","array",1329],"(",["T_VARIABLE","$process",1329],["T_DOUBLE_COLON","::",1329],["T_STRING","OUT",1329],",",["T_WHITESPACE"," ",1329],["T_CONSTANT_ENCAPSED_STRING","'345'",1329],")",",",["T_WHITESPACE","\n            ",1329],["T_ARRAY","array",1330],"(",["T_VARIABLE","$process",1330],["T_DOUBLE_COLON","::",1330],["T_STRING","ERR",1330],",",["T_WHITESPACE"," ",1330],["T_CONSTANT_ENCAPSED_STRING","'456'",1330],")",",",["T_WHITESPACE","\n        ",1330],")",";",["T_WHITESPACE","\n        ",1331],["T_VARIABLE","$this",1332],["T_OBJECT_OPERATOR","->",1332],["T_STRING","assertSame",1332],"(",["T_VARIABLE","$expectedOutput",1332],",",["T_WHITESPACE"," ",1332],["T_VARIABLE","$output",1332],")",";",["T_WHITESPACE","\n    ",1332],"}",["T_WHITESPACE","\n\n    ",1333],["T_PUBLIC","public",1335],["T_WHITESPACE"," ",1335],["T_FUNCTION","function",1335],["T_WHITESPACE"," ",1335],["T_STRING","testNonBlockingNorClearingIteratorOutput",1335],"(",")",["T_WHITESPACE","\n    ",1335],"{",["T_WHITESPACE","\n        ",1336],["T_VARIABLE","$input",1337],["T_WHITESPACE"," ",1337],"=",["T_WHITESPACE"," ",1337],["T_NEW","new",1337],["T_WHITESPACE"," ",1337],["T_STRING","InputStream",1337],"(",")",";",["T_WHITESPACE","\n\n        ",1337],["T_VARIABLE","$process",1339],["T_WHITESPACE"," ",1339],"=",["T_WHITESPACE"," ",1339],["T_VARIABLE","$this",1339],["T_OBJECT_OPERATOR","->",1339],["T_STRING","getProcess",1339],"(",["T_STRING","self",1339],["T_DOUBLE_COLON","::",1339],["T_VARIABLE","$phpBin",1339],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1339],".",["T_STRING","escapeshellarg",1339],"(",["T_CONSTANT_ENCAPSED_STRING","'fwrite(STDOUT, fread(STDIN, 3));'",1339],")",")",";",["T_WHITESPACE","\n        ",1339],["T_VARIABLE","$process",1340],["T_OBJECT_OPERATOR","->",1340],["T_STRING","setInput",1340],"(",["T_VARIABLE","$input",1340],")",";",["T_WHITESPACE","\n        ",1340],["T_VARIABLE","$process",1341],["T_OBJECT_OPERATOR","->",1341],["T_STRING","start",1341],"(",")",";",["T_WHITESPACE","\n        ",1341],["T_VARIABLE","$output",1342],["T_WHITESPACE"," ",1342],"=",["T_WHITESPACE"," ",1342],["T_ARRAY","array",1342],"(",")",";",["T_WHITESPACE","\n\n        ",1342],["T_FOREACH","foreach",1344],["T_WHITESPACE"," ",1344],"(",["T_VARIABLE","$process",1344],["T_OBJECT_OPERATOR","->",1344],["T_STRING","getIterator",1344],"(",["T_VARIABLE","$process",1344],["T_DOUBLE_COLON","::",1344],["T_STRING","ITER_NON_BLOCKING",1344],["T_WHITESPACE"," ",1344],"|",["T_WHITESPACE"," ",1344],["T_VARIABLE","$process",1344],["T_DOUBLE_COLON","::",1344],["T_STRING","ITER_KEEP_OUTPUT",1344],")",["T_WHITESPACE"," ",1344],["T_AS","as",1344],["T_WHITESPACE"," ",1344],["T_VARIABLE","$type",1344],["T_WHITESPACE"," ",1344],["T_DOUBLE_ARROW","=>",1344],["T_WHITESPACE"," ",1344],["T_VARIABLE","$data",1344],")",["T_WHITESPACE"," ",1344],"{",["T_WHITESPACE","\n            ",1344],["T_VARIABLE","$output",1345],"[","]",["T_WHITESPACE"," ",1345],"=",["T_WHITESPACE"," ",1345],["T_ARRAY","array",1345],"(",["T_VARIABLE","$type",1345],",",["T_WHITESPACE"," ",1345],["T_VARIABLE","$data",1345],")",";",["T_WHITESPACE","\n            ",1345],["T_BREAK","break",1346],";",["T_WHITESPACE","\n        ",1346],"}",["T_WHITESPACE","\n        ",1347],["T_VARIABLE","$expectedOutput",1348],["T_WHITESPACE"," ",1348],"=",["T_WHITESPACE"," ",1348],["T_ARRAY","array",1348],"(",["T_WHITESPACE","\n            ",1348],["T_ARRAY","array",1349],"(",["T_VARIABLE","$process",1349],["T_DOUBLE_COLON","::",1349],["T_STRING","OUT",1349],",",["T_WHITESPACE"," ",1349],["T_CONSTANT_ENCAPSED_STRING","''",1349],")",",",["T_WHITESPACE","\n        ",1349],")",";",["T_WHITESPACE","\n        ",1350],["T_VARIABLE","$this",1351],["T_OBJECT_OPERATOR","->",1351],["T_STRING","assertSame",1351],"(",["T_VARIABLE","$expectedOutput",1351],",",["T_WHITESPACE"," ",1351],["T_VARIABLE","$output",1351],")",";",["T_WHITESPACE","\n\n        ",1351],["T_VARIABLE","$input",1353],["T_OBJECT_OPERATOR","->",1353],["T_STRING","write",1353],"(",["T_LNUMBER","123",1353],")",";",["T_WHITESPACE","\n\n        ",1353],["T_FOREACH","foreach",1355],["T_WHITESPACE"," ",1355],"(",["T_VARIABLE","$process",1355],["T_OBJECT_OPERATOR","->",1355],["T_STRING","getIterator",1355],"(",["T_VARIABLE","$process",1355],["T_DOUBLE_COLON","::",1355],["T_STRING","ITER_NON_BLOCKING",1355],["T_WHITESPACE"," ",1355],"|",["T_WHITESPACE"," ",1355],["T_VARIABLE","$process",1355],["T_DOUBLE_COLON","::",1355],["T_STRING","ITER_KEEP_OUTPUT",1355],")",["T_WHITESPACE"," ",1355],["T_AS","as",1355],["T_WHITESPACE"," ",1355],["T_VARIABLE","$type",1355],["T_WHITESPACE"," ",1355],["T_DOUBLE_ARROW","=>",1355],["T_WHITESPACE"," ",1355],["T_VARIABLE","$data",1355],")",["T_WHITESPACE"," ",1355],"{",["T_WHITESPACE","\n            ",1355],["T_IF","if",1356],["T_WHITESPACE"," ",1356],"(",["T_CONSTANT_ENCAPSED_STRING","''",1356],["T_WHITESPACE"," ",1356],["T_IS_NOT_IDENTICAL","!==",1356],["T_WHITESPACE"," ",1356],["T_VARIABLE","$data",1356],")",["T_WHITESPACE"," ",1356],"{",["T_WHITESPACE","\n                ",1356],["T_VARIABLE","$output",1357],"[","]",["T_WHITESPACE"," ",1357],"=",["T_WHITESPACE"," ",1357],["T_ARRAY","array",1357],"(",["T_VARIABLE","$type",1357],",",["T_WHITESPACE"," ",1357],["T_VARIABLE","$data",1357],")",";",["T_WHITESPACE","\n            ",1357],"}",["T_WHITESPACE","\n        ",1358],"}",["T_WHITESPACE","\n\n        ",1359],["T_VARIABLE","$this",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","assertSame",1361],"(",["T_CONSTANT_ENCAPSED_STRING","'123'",1361],",",["T_WHITESPACE"," ",1361],["T_VARIABLE","$process",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","getOutput",1361],"(",")",")",";",["T_WHITESPACE","\n        ",1361],["T_VARIABLE","$this",1362],["T_OBJECT_OPERATOR","->",1362],["T_STRING","assertFalse",1362],"(",["T_VARIABLE","$process",1362],["T_OBJECT_OPERATOR","->",1362],["T_STRING","isRunning",1362],"(",")",")",";",["T_WHITESPACE","\n\n        ",1362],["T_VARIABLE","$expectedOutput",1364],["T_WHITESPACE"," ",1364],"=",["T_WHITESPACE"," ",1364],["T_ARRAY","array",1364],"(",["T_WHITESPACE","\n            ",1364],["T_ARRAY","array",1365],"(",["T_VARIABLE","$process",1365],["T_DOUBLE_COLON","::",1365],["T_STRING","OUT",1365],",",["T_WHITESPACE"," ",1365],["T_CONSTANT_ENCAPSED_STRING","''",1365],")",",",["T_WHITESPACE","\n            ",1365],["T_ARRAY","array",1366],"(",["T_VARIABLE","$process",1366],["T_DOUBLE_COLON","::",1366],["T_STRING","OUT",1366],",",["T_WHITESPACE"," ",1366],["T_CONSTANT_ENCAPSED_STRING","'123'",1366],")",",",["T_WHITESPACE","\n        ",1366],")",";",["T_WHITESPACE","\n        ",1367],["T_VARIABLE","$this",1368],["T_OBJECT_OPERATOR","->",1368],["T_STRING","assertSame",1368],"(",["T_VARIABLE","$expectedOutput",1368],",",["T_WHITESPACE"," ",1368],["T_VARIABLE","$output",1368],")",";",["T_WHITESPACE","\n    ",1368],"}",["T_WHITESPACE","\n\n    ",1369],["T_PUBLIC","public",1371],["T_WHITESPACE"," ",1371],["T_FUNCTION","function",1371],["T_WHITESPACE"," ",1371],["T_STRING","testChainedProcesses",1371],"(",")",["T_WHITESPACE","\n    ",1371],"{",["T_WHITESPACE","\n        ",1372],["T_VARIABLE","$p1",1373],["T_WHITESPACE"," ",1373],"=",["T_WHITESPACE"," ",1373],["T_NEW","new",1373],["T_WHITESPACE"," ",1373],["T_STRING","Process",1373],"(",["T_STRING","self",1373],["T_DOUBLE_COLON","::",1373],["T_VARIABLE","$phpBin",1373],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1373],".",["T_STRING","escapeshellarg",1373],"(",["T_CONSTANT_ENCAPSED_STRING","'fwrite(STDERR, 123); fwrite(STDOUT, 456);'",1373],")",")",";",["T_WHITESPACE","\n        ",1373],["T_VARIABLE","$p2",1374],["T_WHITESPACE"," ",1374],"=",["T_WHITESPACE"," ",1374],["T_VARIABLE","$this",1374],["T_OBJECT_OPERATOR","->",1374],["T_STRING","getProcess",1374],"(",["T_STRING","sprintf",1374],"(",["T_CONSTANT_ENCAPSED_STRING","'%s -r %s'",1374],",",["T_WHITESPACE"," ",1374],["T_STRING","self",1374],["T_DOUBLE_COLON","::",1374],["T_VARIABLE","$phpBin",1374],",",["T_WHITESPACE"," ",1374],["T_STRING","escapeshellarg",1374],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_copy_to_stream(STDIN, STDOUT);'",1374],")",")",")",";",["T_WHITESPACE","\n        ",1374],["T_VARIABLE","$p2",1375],["T_OBJECT_OPERATOR","->",1375],["T_STRING","setInput",1375],"(",["T_VARIABLE","$p1",1375],")",";",["T_WHITESPACE","\n\n        ",1375],["T_VARIABLE","$p1",1377],["T_OBJECT_OPERATOR","->",1377],["T_STRING","start",1377],"(",")",";",["T_WHITESPACE","\n        ",1377],["T_VARIABLE","$p2",1378],["T_OBJECT_OPERATOR","->",1378],["T_STRING","run",1378],"(",")",";",["T_WHITESPACE","\n\n        ",1378],["T_VARIABLE","$this",1380],["T_OBJECT_OPERATOR","->",1380],["T_STRING","assertSame",1380],"(",["T_CONSTANT_ENCAPSED_STRING","'123'",1380],",",["T_WHITESPACE"," ",1380],["T_VARIABLE","$p1",1380],["T_OBJECT_OPERATOR","->",1380],["T_STRING","getErrorOutput",1380],"(",")",")",";",["T_WHITESPACE","\n        ",1380],["T_VARIABLE","$this",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","assertSame",1381],"(",["T_CONSTANT_ENCAPSED_STRING","''",1381],",",["T_WHITESPACE"," ",1381],["T_VARIABLE","$p1",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","getOutput",1381],"(",")",")",";",["T_WHITESPACE","\n        ",1381],["T_VARIABLE","$this",1382],["T_OBJECT_OPERATOR","->",1382],["T_STRING","assertSame",1382],"(",["T_CONSTANT_ENCAPSED_STRING","''",1382],",",["T_WHITESPACE"," ",1382],["T_VARIABLE","$p2",1382],["T_OBJECT_OPERATOR","->",1382],["T_STRING","getErrorOutput",1382],"(",")",")",";",["T_WHITESPACE","\n        ",1382],["T_VARIABLE","$this",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","assertSame",1383],"(",["T_CONSTANT_ENCAPSED_STRING","'456'",1383],",",["T_WHITESPACE"," ",1383],["T_VARIABLE","$p2",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","getOutput",1383],"(",")",")",";",["T_WHITESPACE","\n    ",1383],"}",["T_WHITESPACE","\n\n    ",1384],["T_PUBLIC","public",1386],["T_WHITESPACE"," ",1386],["T_FUNCTION","function",1386],["T_WHITESPACE"," ",1386],["T_STRING","testInheritEnvEnabled",1386],"(",")",["T_WHITESPACE","\n    ",1386],"{",["T_WHITESPACE","\n        ",1387],["T_VARIABLE","$process",1388],["T_WHITESPACE"," ",1388],"=",["T_WHITESPACE"," ",1388],["T_VARIABLE","$this",1388],["T_OBJECT_OPERATOR","->",1388],["T_STRING","getProcess",1388],"(",["T_STRING","self",1388],["T_DOUBLE_COLON","::",1388],["T_VARIABLE","$phpBin",1388],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1388],".",["T_STRING","escapeshellarg",1388],"(",["T_CONSTANT_ENCAPSED_STRING","'echo serialize($_SERVER);'",1388],")",",",["T_WHITESPACE"," ",1388],["T_STRING","null",1388],",",["T_WHITESPACE"," ",1388],["T_ARRAY","array",1388],"(",["T_CONSTANT_ENCAPSED_STRING","'BAR'",1388],["T_WHITESPACE"," ",1388],["T_DOUBLE_ARROW","=>",1388],["T_WHITESPACE"," ",1388],["T_CONSTANT_ENCAPSED_STRING","'BAZ'",1388],")",")",";",["T_WHITESPACE","\n\n        ",1388],["T_STRING","putenv",1390],"(",["T_CONSTANT_ENCAPSED_STRING","'FOO=BAR'",1390],")",";",["T_WHITESPACE","\n\n        ",1390],["T_VARIABLE","$this",1392],["T_OBJECT_OPERATOR","->",1392],["T_STRING","assertSame",1392],"(",["T_VARIABLE","$process",1392],",",["T_WHITESPACE"," ",1392],["T_VARIABLE","$process",1392],["T_OBJECT_OPERATOR","->",1392],["T_STRING","inheritEnvironmentVariables",1392],"(",["T_LNUMBER","1",1392],")",")",";",["T_WHITESPACE","\n        ",1392],["T_VARIABLE","$this",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","assertTrue",1393],"(",["T_VARIABLE","$process",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","areEnvironmentVariablesInherited",1393],"(",")",")",";",["T_WHITESPACE","\n\n        ",1393],["T_VARIABLE","$process",1395],["T_OBJECT_OPERATOR","->",1395],["T_STRING","run",1395],"(",")",";",["T_WHITESPACE","\n\n        ",1395],["T_VARIABLE","$expected",1397],["T_WHITESPACE"," ",1397],"=",["T_WHITESPACE"," ",1397],["T_ARRAY","array",1397],"(",["T_CONSTANT_ENCAPSED_STRING","'BAR'",1397],["T_WHITESPACE"," ",1397],["T_DOUBLE_ARROW","=>",1397],["T_WHITESPACE"," ",1397],["T_CONSTANT_ENCAPSED_STRING","'BAZ'",1397],",",["T_WHITESPACE"," ",1397],["T_CONSTANT_ENCAPSED_STRING","'FOO'",1397],["T_WHITESPACE"," ",1397],["T_DOUBLE_ARROW","=>",1397],["T_WHITESPACE"," ",1397],["T_CONSTANT_ENCAPSED_STRING","'BAR'",1397],")",";",["T_WHITESPACE","\n        ",1397],["T_VARIABLE","$env",1398],["T_WHITESPACE"," ",1398],"=",["T_WHITESPACE"," ",1398],["T_STRING","array_intersect_key",1398],"(",["T_STRING","unserialize",1398],"(",["T_VARIABLE","$process",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","getOutput",1398],"(",")",")",",",["T_WHITESPACE"," ",1398],["T_VARIABLE","$expected",1398],")",";",["T_WHITESPACE","\n\n        ",1398],["T_VARIABLE","$this",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","assertEquals",1400],"(",["T_VARIABLE","$expected",1400],",",["T_WHITESPACE"," ",1400],["T_VARIABLE","$env",1400],")",";",["T_WHITESPACE","\n    ",1400],"}",["T_WHITESPACE","\n\n    ",1401],["T_PUBLIC","public",1403],["T_WHITESPACE"," ",1403],["T_FUNCTION","function",1403],["T_WHITESPACE"," ",1403],["T_STRING","testInheritEnvDisabled",1403],"(",")",["T_WHITESPACE","\n    ",1403],"{",["T_WHITESPACE","\n        ",1404],["T_VARIABLE","$process",1405],["T_WHITESPACE"," ",1405],"=",["T_WHITESPACE"," ",1405],["T_VARIABLE","$this",1405],["T_OBJECT_OPERATOR","->",1405],["T_STRING","getProcess",1405],"(",["T_STRING","self",1405],["T_DOUBLE_COLON","::",1405],["T_VARIABLE","$phpBin",1405],".",["T_CONSTANT_ENCAPSED_STRING","' -r '",1405],".",["T_STRING","escapeshellarg",1405],"(",["T_CONSTANT_ENCAPSED_STRING","'echo serialize($_SERVER);'",1405],")",",",["T_WHITESPACE"," ",1405],["T_STRING","null",1405],",",["T_WHITESPACE"," ",1405],["T_ARRAY","array",1405],"(",["T_CONSTANT_ENCAPSED_STRING","'BAR'",1405],["T_WHITESPACE"," ",1405],["T_DOUBLE_ARROW","=>",1405],["T_WHITESPACE"," ",1405],["T_CONSTANT_ENCAPSED_STRING","'BAZ'",1405],")",")",";",["T_WHITESPACE","\n\n        ",1405],["T_STRING","putenv",1407],"(",["T_CONSTANT_ENCAPSED_STRING","'FOO=BAR'",1407],")",";",["T_WHITESPACE","\n\n        ",1407],["T_VARIABLE","$this",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","assertFalse",1409],"(",["T_VARIABLE","$process",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","areEnvironmentVariablesInherited",1409],"(",")",")",";",["T_WHITESPACE","\n\n        ",1409],["T_VARIABLE","$process",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","run",1411],"(",")",";",["T_WHITESPACE","\n\n        ",1411],["T_VARIABLE","$expected",1413],["T_WHITESPACE"," ",1413],"=",["T_WHITESPACE"," ",1413],["T_ARRAY","array",1413],"(",["T_CONSTANT_ENCAPSED_STRING","'BAR'",1413],["T_WHITESPACE"," ",1413],["T_DOUBLE_ARROW","=>",1413],["T_WHITESPACE"," ",1413],["T_CONSTANT_ENCAPSED_STRING","'BAZ'",1413],",",["T_WHITESPACE"," ",1413],["T_CONSTANT_ENCAPSED_STRING","'FOO'",1413],["T_WHITESPACE"," ",1413],["T_DOUBLE_ARROW","=>",1413],["T_WHITESPACE"," ",1413],["T_CONSTANT_ENCAPSED_STRING","'BAR'",1413],")",";",["T_WHITESPACE","\n        ",1413],["T_VARIABLE","$env",1414],["T_WHITESPACE"," ",1414],"=",["T_WHITESPACE"," ",1414],["T_STRING","array_intersect_key",1414],"(",["T_STRING","unserialize",1414],"(",["T_VARIABLE","$process",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","getOutput",1414],"(",")",")",",",["T_WHITESPACE"," ",1414],["T_VARIABLE","$expected",1414],")",";",["T_WHITESPACE","\n        ",1414],["T_UNSET","unset",1415],"(",["T_VARIABLE","$expected",1415],"[",["T_CONSTANT_ENCAPSED_STRING","'FOO'",1415],"]",")",";",["T_WHITESPACE","\n\n        ",1415],["T_VARIABLE","$this",1417],["T_OBJECT_OPERATOR","->",1417],["T_STRING","assertSame",1417],"(",["T_VARIABLE","$expected",1417],",",["T_WHITESPACE"," ",1417],["T_VARIABLE","$env",1417],")",";",["T_WHITESPACE","\n    ",1417],"}",["T_WHITESPACE","\n\n    ",1418],["T_DOC_COMMENT","\/**\n     * @param string      $commandline\n     * @param null|string $cwd\n     * @param null|array  $env\n     * @param null|string $input\n     * @param int         $timeout\n     * @param array       $options\n     *\n     * @return Process\n     *\/",1420],["T_WHITESPACE","\n    ",1429],["T_PRIVATE","private",1430],["T_WHITESPACE"," ",1430],["T_FUNCTION","function",1430],["T_WHITESPACE"," ",1430],["T_STRING","getProcess",1430],"(",["T_VARIABLE","$commandline",1430],",",["T_WHITESPACE"," ",1430],["T_VARIABLE","$cwd",1430],["T_WHITESPACE"," ",1430],"=",["T_WHITESPACE"," ",1430],["T_STRING","null",1430],",",["T_WHITESPACE"," ",1430],["T_ARRAY","array",1430],["T_WHITESPACE"," ",1430],["T_VARIABLE","$env",1430],["T_WHITESPACE"," ",1430],"=",["T_WHITESPACE"," ",1430],["T_STRING","null",1430],",",["T_WHITESPACE"," ",1430],["T_VARIABLE","$input",1430],["T_WHITESPACE"," ",1430],"=",["T_WHITESPACE"," ",1430],["T_STRING","null",1430],",",["T_WHITESPACE"," ",1430],["T_VARIABLE","$timeout",1430],["T_WHITESPACE"," ",1430],"=",["T_WHITESPACE"," ",1430],["T_LNUMBER","60",1430],",",["T_WHITESPACE"," ",1430],["T_ARRAY","array",1430],["T_WHITESPACE"," ",1430],["T_VARIABLE","$options",1430],["T_WHITESPACE"," ",1430],"=",["T_WHITESPACE"," ",1430],["T_ARRAY","array",1430],"(",")",")",["T_WHITESPACE","\n    ",1430],"{",["T_WHITESPACE","\n        ",1431],["T_VARIABLE","$process",1432],["T_WHITESPACE"," ",1432],"=",["T_WHITESPACE"," ",1432],["T_NEW","new",1432],["T_WHITESPACE"," ",1432],["T_STRING","Process",1432],"(",["T_VARIABLE","$commandline",1432],",",["T_WHITESPACE"," ",1432],["T_VARIABLE","$cwd",1432],",",["T_WHITESPACE"," ",1432],["T_VARIABLE","$env",1432],",",["T_WHITESPACE"," ",1432],["T_VARIABLE","$input",1432],",",["T_WHITESPACE"," ",1432],["T_VARIABLE","$timeout",1432],",",["T_WHITESPACE"," ",1432],["T_VARIABLE","$options",1432],")",";",["T_WHITESPACE","\n\n        ",1432],["T_IF","if",1434],["T_WHITESPACE"," ",1434],"(",["T_STRING","false",1434],["T_WHITESPACE"," ",1434],["T_IS_NOT_IDENTICAL","!==",1434],["T_WHITESPACE"," ",1434],["T_VARIABLE","$enhance",1434],["T_WHITESPACE"," ",1434],"=",["T_WHITESPACE"," ",1434],["T_STRING","getenv",1434],"(",["T_CONSTANT_ENCAPSED_STRING","'ENHANCE_SIGCHLD'",1434],")",")",["T_WHITESPACE"," ",1434],"{",["T_WHITESPACE","\n            ",1434],["T_TRY","try",1435],["T_WHITESPACE"," ",1435],"{",["T_WHITESPACE","\n                ",1435],["T_VARIABLE","$process",1436],["T_OBJECT_OPERATOR","->",1436],["T_STRING","setEnhanceSigchildCompatibility",1436],"(",["T_STRING","false",1436],")",";",["T_WHITESPACE","\n                ",1436],["T_VARIABLE","$process",1437],["T_OBJECT_OPERATOR","->",1437],["T_STRING","getExitCode",1437],"(",")",";",["T_WHITESPACE","\n                ",1437],["T_VARIABLE","$this",1438],["T_OBJECT_OPERATOR","->",1438],["T_STRING","fail",1438],"(",["T_CONSTANT_ENCAPSED_STRING","'ENHANCE_SIGCHLD must be used together with a sigchild-enabled PHP.'",1438],")",";",["T_WHITESPACE","\n            ",1438],"}",["T_WHITESPACE"," ",1439],["T_CATCH","catch",1439],["T_WHITESPACE"," ",1439],"(",["T_STRING","RuntimeException",1439],["T_WHITESPACE"," ",1439],["T_VARIABLE","$e",1439],")",["T_WHITESPACE"," ",1439],"{",["T_WHITESPACE","\n                ",1439],["T_VARIABLE","$this",1440],["T_OBJECT_OPERATOR","->",1440],["T_STRING","assertSame",1440],"(",["T_CONSTANT_ENCAPSED_STRING","'This PHP has been compiled with --enable-sigchild. You must use setEnhanceSigchildCompatibility() to use this method.'",1440],",",["T_WHITESPACE"," ",1440],["T_VARIABLE","$e",1440],["T_OBJECT_OPERATOR","->",1440],["T_STRING","getMessage",1440],"(",")",")",";",["T_WHITESPACE","\n                ",1440],["T_IF","if",1441],["T_WHITESPACE"," ",1441],"(",["T_VARIABLE","$enhance",1441],")",["T_WHITESPACE"," ",1441],"{",["T_WHITESPACE","\n                    ",1441],["T_VARIABLE","$process",1442],["T_OBJECT_OPERATOR","->",1442],["T_STRING","setEnhanceSigchildCompatibility",1442],"(",["T_STRING","true",1442],")",";",["T_WHITESPACE","\n                ",1442],"}",["T_WHITESPACE"," ",1443],["T_ELSE","else",1443],["T_WHITESPACE"," ",1443],"{",["T_WHITESPACE","\n                    ",1443],["T_STRING","self",1444],["T_DOUBLE_COLON","::",1444],["T_VARIABLE","$notEnhancedSigchild",1444],["T_WHITESPACE"," ",1444],"=",["T_WHITESPACE"," ",1444],["T_STRING","true",1444],";",["T_WHITESPACE","\n                ",1444],"}",["T_WHITESPACE","\n            ",1445],"}",["T_WHITESPACE","\n        ",1446],"}",["T_WHITESPACE","\n\n        ",1447],["T_IF","if",1449],["T_WHITESPACE"," ",1449],"(",["T_STRING","self",1449],["T_DOUBLE_COLON","::",1449],["T_VARIABLE","$process",1449],")",["T_WHITESPACE"," ",1449],"{",["T_WHITESPACE","\n            ",1449],["T_STRING","self",1450],["T_DOUBLE_COLON","::",1450],["T_VARIABLE","$process",1450],["T_OBJECT_OPERATOR","->",1450],["T_STRING","stop",1450],"(",["T_LNUMBER","0",1450],")",";",["T_WHITESPACE","\n        ",1450],"}",["T_WHITESPACE","\n\n        ",1451],["T_RETURN","return",1453],["T_WHITESPACE"," ",1453],["T_STRING","self",1453],["T_DOUBLE_COLON","::",1453],["T_VARIABLE","$process",1453],["T_WHITESPACE"," ",1453],"=",["T_WHITESPACE"," ",1453],["T_VARIABLE","$process",1453],";",["T_WHITESPACE","\n    ",1453],"}",["T_WHITESPACE","\n\n    ",1454],["T_PRIVATE","private",1456],["T_WHITESPACE"," ",1456],["T_FUNCTION","function",1456],["T_WHITESPACE"," ",1456],["T_STRING","skipIfNotEnhancedSigchild",1456],"(",["T_VARIABLE","$expectException",1456],["T_WHITESPACE"," ",1456],"=",["T_WHITESPACE"," ",1456],["T_STRING","true",1456],")",["T_WHITESPACE","\n    ",1456],"{",["T_WHITESPACE","\n        ",1457],["T_IF","if",1458],["T_WHITESPACE"," ",1458],"(",["T_STRING","self",1458],["T_DOUBLE_COLON","::",1458],["T_VARIABLE","$sigchild",1458],")",["T_WHITESPACE"," ",1458],"{",["T_WHITESPACE","\n            ",1458],["T_IF","if",1459],["T_WHITESPACE"," ",1459],"(","!",["T_VARIABLE","$expectException",1459],")",["T_WHITESPACE"," ",1459],"{",["T_WHITESPACE","\n                ",1459],["T_VARIABLE","$this",1460],["T_OBJECT_OPERATOR","->",1460],["T_STRING","markTestSkipped",1460],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP is compiled with --enable-sigchild.'",1460],")",";",["T_WHITESPACE","\n            ",1460],"}",["T_WHITESPACE"," ",1461],["T_ELSEIF","elseif",1461],["T_WHITESPACE"," ",1461],"(",["T_STRING","self",1461],["T_DOUBLE_COLON","::",1461],["T_VARIABLE","$notEnhancedSigchild",1461],")",["T_WHITESPACE"," ",1461],"{",["T_WHITESPACE","\n                ",1461],["T_VARIABLE","$this",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","setExpectedException",1462],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Process\\Exception\\RuntimeException'",1462],",",["T_WHITESPACE"," ",1462],["T_CONSTANT_ENCAPSED_STRING","'This PHP has been compiled with --enable-sigchild.'",1462],")",";",["T_WHITESPACE","\n            ",1462],"}",["T_WHITESPACE","\n        ",1463],"}",["T_WHITESPACE","\n    ",1464],"}",["T_WHITESPACE","\n",1465],"}",["T_WHITESPACE","\n\n",1466],["T_CLASS","class",1468],["T_WHITESPACE"," ",1468],["T_STRING","NonStringifiable",1468],["T_WHITESPACE","\n",1468],"{",["T_WHITESPACE","\n",1469],"}",["T_WHITESPACE","\n",1470]]