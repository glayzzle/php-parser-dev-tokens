[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Process",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Process",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ExecutableFinder",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * @author Chris Smith <chris@cs278.org>\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ExecutableFinderTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_PRIVATE","private",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$path",21],";",["T_WHITESPACE","\n\n    ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","tearDown",23],"(",")",["T_WHITESPACE","\n    ",23],"{",["T_WHITESPACE","\n        ",24],["T_IF","if",25],["T_WHITESPACE"," ",25],"(",["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","path",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n            ",25],["T_COMMENT","\/\/ Restore path if it was changed.\n",26],["T_WHITESPACE","            ",27],["T_STRING","putenv",27],"(",["T_CONSTANT_ENCAPSED_STRING","'PATH='",27],".",["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","path",27],")",";",["T_WHITESPACE","\n        ",27],"}",["T_WHITESPACE","\n    ",28],"}",["T_WHITESPACE","\n\n    ",29],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setPath",31],"(",["T_VARIABLE","$path",31],")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","path",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","getenv",33],"(",["T_CONSTANT_ENCAPSED_STRING","'PATH'",33],")",";",["T_WHITESPACE","\n        ",33],["T_STRING","putenv",34],"(",["T_CONSTANT_ENCAPSED_STRING","'PATH='",34],".",["T_VARIABLE","$path",34],")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testFind",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_STRING","ini_get",39],"(",["T_CONSTANT_ENCAPSED_STRING","'open_basedir'",39],")",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n            ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","markTestSkipped",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot test when open_basedir is set'",40],")",";",["T_WHITESPACE","\n        ",40],"}",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setPath",43],"(",["T_STRING","dirname",43],"(",["T_STRING","PHP_BINARY",43],")",")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$finder",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_STRING","ExecutableFinder",45],"(",")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$result",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$finder",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","find",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getPhpBinaryName",46],"(",")",")",";",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertSamePath",48],"(",["T_STRING","PHP_BINARY",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$result",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testFindWithDefault",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_STRING","ini_get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'open_basedir'",53],")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","markTestSkipped",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot test when open_basedir is set'",54],")",";",["T_WHITESPACE","\n        ",54],"}",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$expected",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'defaultValue'",57],";",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setPath",59],"(",["T_CONSTANT_ENCAPSED_STRING","''",59],")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$finder",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","ExecutableFinder",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$result",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$finder",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","find",62],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$expected",62],")",";",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEquals",64],"(",["T_VARIABLE","$expected",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$result",64],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","testFindWithExtraDirs",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_STRING","ini_get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'open_basedir'",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","markTestSkipped",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot test when open_basedir is set'",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setPath",73],"(",["T_CONSTANT_ENCAPSED_STRING","''",73],")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$extraDirs",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_STRING","dirname",75],"(",["T_STRING","PHP_BINARY",75],")",")",";",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$finder",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","ExecutableFinder",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$result",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$finder",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","find",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getPhpBinaryName",78],"(",")",",",["T_WHITESPACE"," ",78],["T_STRING","null",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$extraDirs",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertSamePath",80],"(",["T_STRING","PHP_BINARY",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$result",80],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","testFindWithOpenBaseDir",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",85],["T_WHITESPACE"," ",85],["T_IS_IDENTICAL","===",85],["T_WHITESPACE"," ",85],["T_STRING","DIRECTORY_SEPARATOR",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","markTestSkipped",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot run test on windows'",86],")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_STRING","ini_get",89],"(",["T_CONSTANT_ENCAPSED_STRING","'open_basedir'",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","markTestSkipped",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot test when open_basedir is set'",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","iniSet",93],"(",["T_CONSTANT_ENCAPSED_STRING","'open_basedir'",93],",",["T_WHITESPACE"," ",93],["T_STRING","dirname",93],"(",["T_STRING","PHP_BINARY",93],")",".","(","!",["T_STRING","defined",93],"(",["T_CONSTANT_ENCAPSED_STRING","'HHVM_VERSION'",93],")",["T_WHITESPACE"," ",93],["T_BOOLEAN_OR","||",93],["T_WHITESPACE"," ",93],["T_STRING","HHVM_VERSION_ID",93],["T_WHITESPACE"," ",93],["T_IS_GREATER_OR_EQUAL",">=",93],["T_WHITESPACE"," ",93],["T_LNUMBER","30800",93],["T_WHITESPACE"," ",93],"?",["T_WHITESPACE"," ",93],["T_STRING","PATH_SEPARATOR",93],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",93],["T_WHITESPACE"," ",93],":",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","''",93],")",")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$finder",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","ExecutableFinder",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$result",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$finder",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","find",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getPhpBinaryName",96],"(",")",")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertSamePath",98],"(",["T_STRING","PHP_BINARY",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$result",98],")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","testFindProcessInOpenBasedir",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_STRING","ini_get",103],"(",["T_CONSTANT_ENCAPSED_STRING","'open_basedir'",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","markTestSkipped",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot test when open_basedir is set'",104],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",106],["T_WHITESPACE"," ",106],["T_IS_IDENTICAL","===",106],["T_WHITESPACE"," ",106],["T_STRING","DIRECTORY_SEPARATOR",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","markTestSkipped",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot run test on windows'",107],")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setPath",110],"(",["T_CONSTANT_ENCAPSED_STRING","''",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","iniSet",111],"(",["T_CONSTANT_ENCAPSED_STRING","'open_basedir'",111],",",["T_WHITESPACE"," ",111],["T_STRING","PHP_BINARY",111],".","(","!",["T_STRING","defined",111],"(",["T_CONSTANT_ENCAPSED_STRING","'HHVM_VERSION'",111],")",["T_WHITESPACE"," ",111],["T_BOOLEAN_OR","||",111],["T_WHITESPACE"," ",111],["T_STRING","HHVM_VERSION_ID",111],["T_WHITESPACE"," ",111],["T_IS_GREATER_OR_EQUAL",">=",111],["T_WHITESPACE"," ",111],["T_LNUMBER","30800",111],["T_WHITESPACE"," ",111],"?",["T_WHITESPACE"," ",111],["T_STRING","PATH_SEPARATOR",111],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",111],["T_WHITESPACE"," ",111],":",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],")",")",";",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$finder",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","ExecutableFinder",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$result",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$finder",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","find",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getPhpBinaryName",114],"(",")",",",["T_WHITESPACE"," ",114],["T_STRING","false",114],")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertSamePath",116],"(",["T_STRING","PHP_BINARY",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$result",116],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_PRIVATE","private",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","assertSamePath",119],"(",["T_VARIABLE","$expected",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$tested",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",121],["T_WHITESPACE"," ",121],["T_IS_IDENTICAL","===",121],["T_WHITESPACE"," ",121],["T_STRING","DIRECTORY_SEPARATOR",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEquals",122],"(",["T_STRING","strtolower",122],"(",["T_VARIABLE","$expected",122],")",",",["T_WHITESPACE"," ",122],["T_STRING","strtolower",122],"(",["T_VARIABLE","$tested",122],")",")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE"," ",123],["T_ELSE","else",123],["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertEquals",124],"(",["T_VARIABLE","$expected",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$tested",124],")",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_PRIVATE","private",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","getPhpBinaryName",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_STRING","basename",130],"(",["T_STRING","PHP_BINARY",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",130],["T_WHITESPACE"," ",130],["T_IS_IDENTICAL","===",130],["T_WHITESPACE"," ",130],["T_STRING","DIRECTORY_SEPARATOR",130],["T_WHITESPACE"," ",130],"?",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'.exe'",130],["T_WHITESPACE"," ",130],":",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","''",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n",131],"}",["T_WHITESPACE","\n",132]]