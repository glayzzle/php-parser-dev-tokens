[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Config",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Definition",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Builder",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Config",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Definition",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Builder",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TreeBuilder",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ExprBuilderTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testAlwaysExpression",18],"(",")",["T_WHITESPACE","\n    ",18],"{",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$test",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","getTestBuilder",20],"(",")",["T_WHITESPACE","\n            ",20],["T_OBJECT_OPERATOR","->",21],["T_STRING","always",21],"(",["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","returnClosure",21],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",21],")",")",["T_WHITESPACE","\n        ",21],["T_OBJECT_OPERATOR","->",22],["T_STRING","end",22],"(",")",";",["T_WHITESPACE","\n\n        ",22],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","assertFinalizedValueIs",24],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",24],",",["T_WHITESPACE"," ",24],["T_VARIABLE","$test",24],")",";",["T_WHITESPACE","\n    ",24],"}",["T_WHITESPACE","\n\n    ",25],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testIfTrueExpression",27],"(",")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$test",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getTestBuilder",29],"(",")",["T_WHITESPACE","\n            ",29],["T_OBJECT_OPERATOR","->",30],["T_STRING","ifTrue",30],"(",")",["T_WHITESPACE","\n            ",30],["T_OBJECT_OPERATOR","->",31],["T_STRING","then",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","returnClosure",31],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",31],")",")",["T_WHITESPACE","\n        ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","end",32],"(",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertFinalizedValueIs",33],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$test",33],",",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_STRING","true",33],")",")",";",["T_WHITESPACE","\n\n        ",33],["T_VARIABLE","$test",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getTestBuilder",35],"(",")",["T_WHITESPACE","\n            ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","ifTrue",36],"(",["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$v",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE"," ",36],["T_RETURN","return",36],["T_WHITESPACE"," ",36],["T_STRING","true",36],";",["T_WHITESPACE"," ",36],"}",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","then",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","returnClosure",37],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",37],")",")",["T_WHITESPACE","\n        ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","end",38],"(",")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertFinalizedValueIs",39],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$test",39],")",";",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$test",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getTestBuilder",41],"(",")",["T_WHITESPACE","\n            ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","ifTrue",42],"(",["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$v",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE"," ",42],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_STRING","false",42],";",["T_WHITESPACE"," ",42],"}",")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","then",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","returnClosure",43],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",43],")",")",["T_WHITESPACE","\n        ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","end",44],"(",")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertFinalizedValueIs",45],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$test",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testIfStringExpression",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$test",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getTestBuilder",50],"(",")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","ifString",51],"(",")",["T_WHITESPACE","\n            ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","then",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","returnClosure",52],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",52],")",")",["T_WHITESPACE","\n        ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","end",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertFinalizedValueIs",54],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$test",54],")",";",["T_WHITESPACE","\n\n        ",54],["T_VARIABLE","$test",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getTestBuilder",56],"(",")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","ifString",57],"(",")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","then",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","returnClosure",58],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",58],")",")",["T_WHITESPACE","\n        ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","end",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertFinalizedValueIs",60],"(",["T_LNUMBER","45",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$test",60],",",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","45",60],")",")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","testIfNullExpression",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$test",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getTestBuilder",65],"(",")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","ifNull",66],"(",")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","then",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","returnClosure",67],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",67],")",")",["T_WHITESPACE","\n        ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","end",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertFinalizedValueIs",69],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$test",69],",",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_STRING","null",69],")",")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$test",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getTestBuilder",71],"(",")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","ifNull",72],"(",")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","then",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","returnClosure",73],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",73],")",")",["T_WHITESPACE","\n        ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","end",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertFinalizedValueIs",75],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$test",75],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testIfEmptyExpression",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$test",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getTestBuilder",80],"(",")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","ifEmpty",81],"(",")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","then",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","returnClosure",82],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",82],")",")",["T_WHITESPACE","\n        ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","end",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertFinalizedValueIs",84],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$test",84],",",["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$test",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getTestBuilder",86],"(",")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","ifEmpty",87],"(",")",["T_WHITESPACE","\n            ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","then",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","returnClosure",88],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",88],")",")",["T_WHITESPACE","\n        ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","end",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertFinalizedValueIs",90],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$test",90],")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","testIfArrayExpression",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$test",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getTestBuilder",95],"(",")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","ifArray",96],"(",")",["T_WHITESPACE","\n            ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","then",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","returnClosure",97],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",97],")",")",["T_WHITESPACE","\n        ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","end",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertFinalizedValueIs",99],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$test",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$test",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getTestBuilder",101],"(",")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","ifArray",102],"(",")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","then",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","returnClosure",103],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",103],")",")",["T_WHITESPACE","\n        ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","end",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertFinalizedValueIs",105],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$test",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","testIfInArrayExpression",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$test",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getTestBuilder",110],"(",")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","ifInArray",111],"(",["T_ARRAY","array",111],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'bar'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'value'",111],")",")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","then",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","returnClosure",112],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",112],")",")",["T_WHITESPACE","\n        ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","end",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertFinalizedValueIs",114],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$test",114],")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$test",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getTestBuilder",116],"(",")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","ifInArray",117],"(",["T_ARRAY","array",117],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'bar'",117],")",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","then",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","returnClosure",118],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",118],")",")",["T_WHITESPACE","\n        ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","end",119],"(",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertFinalizedValueIs",120],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$test",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","testIfNotInArrayExpression",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$test",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getTestBuilder",125],"(",")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","ifNotInArray",126],"(",["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'bar'",126],")",")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","then",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","returnClosure",127],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",127],")",")",["T_WHITESPACE","\n        ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","end",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertFinalizedValueIs",129],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$test",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$test",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getTestBuilder",131],"(",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","ifNotInArray",132],"(",["T_ARRAY","array",132],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'bar'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'value_from_config'",132],")",")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","then",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","returnClosure",133],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",133],")",")",["T_WHITESPACE","\n        ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","end",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertFinalizedValueIs",135],"(",["T_CONSTANT_ENCAPSED_STRING","'new_value'",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$test",135],")",";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","testThenEmptyArrayExpression",138],"(",")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$test",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getTestBuilder",140],"(",")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","ifString",141],"(",")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","thenEmptyArray",142],"(",")",["T_WHITESPACE","\n        ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","end",143],"(",")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertFinalizedValueIs",144],"(",["T_ARRAY","array",144],"(",")",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$test",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Config\\Definition\\Exception\\InvalidConfigurationException\n     *\/",147],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","testThenInvalid",150],"(",")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$test",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getTestBuilder",152],"(",")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","ifString",153],"(",")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","thenInvalid",154],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid value'",154],")",["T_WHITESPACE","\n        ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","end",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","finalizeTestBuilder",156],"(",["T_VARIABLE","$test",156],")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","testThenUnsetExpression",159],"(",")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$test",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getTestBuilder",161],"(",")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","ifString",162],"(",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","thenUnset",163],"(",")",["T_WHITESPACE","\n        ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","end",164],"(",")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertEquals",165],"(",["T_ARRAY","array",165],"(",")",",",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","finalizeTestBuilder",165],"(",["T_VARIABLE","$test",165],")",")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * @expectedException \\RuntimeException\n     * @expectedExceptionMessage You must specify an if part.\n     *\/",168],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","testEndIfPartNotSpecified",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getTestBuilder",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","end",174],"(",")",";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * @expectedException \\RuntimeException\n     * @expectedExceptionMessage You must specify a then part.\n     *\/",177],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","testEndThenPartNotSpecified",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$builder",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getTestBuilder",183],"(",")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$builder",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","ifPart",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'test'",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$builder",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","end",185],"(",")",";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Create a test treebuilder with a variable node, and init the validation.\n     *\n     * @return TreeBuilder\n     *\/",188],["T_WHITESPACE","\n    ",192],["T_PROTECTED","protected",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","getTestBuilder",193],"(",")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$builder",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_STRING","TreeBuilder",195],"(",")",";",["T_WHITESPACE","\n\n        ",195],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$builder",197],["T_WHITESPACE","\n            ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","root",198],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",198],")",["T_WHITESPACE","\n            ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","children",199],"(",")",["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","variableNode",200],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",200],")",["T_WHITESPACE","\n            ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","validate",201],"(",")",["T_WHITESPACE","\n        ",201],";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Close the validation process and finalize with the given config.\n     *\n     * @param TreeBuilder $testBuilder The tree builder to finalize\n     * @param array       $config      The config you want to use for the finalization, if nothing provided\n     *                                 a simple array('key'=>'value') will be used\n     *\n     * @return array The finalized config values\n     *\/",205],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","finalizeTestBuilder",214],"(",["T_VARIABLE","$testBuilder",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$config",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","null",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$testBuilder",216],["T_WHITESPACE","\n            ",216],["T_OBJECT_OPERATOR","->",217],["T_STRING","end",217],"(",")",["T_WHITESPACE","\n            ",217],["T_OBJECT_OPERATOR","->",218],["T_STRING","end",218],"(",")",["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","end",219],"(",")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","buildTree",220],"(",")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","finalize",221],"(",["T_STRING","null",221],["T_WHITESPACE"," ",221],["T_IS_IDENTICAL","===",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$config",221],["T_WHITESPACE"," ",221],"?",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'value'",221],")",["T_WHITESPACE"," ",221],":",["T_WHITESPACE"," ",221],["T_VARIABLE","$config",221],")",["T_WHITESPACE","\n        ",221],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Return a closure that will return the given value.\n     *\n     * @param mixed $val The value that the closure must return\n     *\n     * @return \\Closure\n     *\/",225],["T_WHITESPACE","\n    ",231],["T_PROTECTED","protected",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","returnClosure",232],"(",["T_VARIABLE","$val",232],")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$v",234],")",["T_WHITESPACE"," ",234],["T_USE","use",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$val",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$val",235],";",["T_WHITESPACE","\n        ",235],"}",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Assert that the given test builder, will return the given value.\n     *\n     * @param mixed       $value       The value to test\n     * @param TreeBuilder $treeBuilder The tree builder to finalize\n     * @param mixed       $config      The config values that new to be finalized\n     *\/",239],["T_WHITESPACE","\n    ",245],["T_PROTECTED","protected",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","assertFinalizedValueIs",246],"(",["T_VARIABLE","$value",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$treeBuilder",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$config",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","null",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","assertEquals",248],"(",["T_ARRAY","array",248],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$value",248],")",",",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","finalizeTestBuilder",248],"(",["T_VARIABLE","$treeBuilder",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$config",248],")",")",";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n",249],"}",["T_WHITESPACE","\n",250]]