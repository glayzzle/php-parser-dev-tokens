[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Guard",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Provider",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Security",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Guard",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Provider",14],["T_NS_SEPARATOR","\\",14],["T_STRING","GuardAuthenticationProvider",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Security",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Guard",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Token",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PostAuthenticationGuardToken",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * @author Ryan Weaver <weaverryan@gmail.com>\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","GuardAuthenticationProviderTest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PHPUnit_Framework_TestCase",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$userProvider",22],";",["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$userChecker",23],";",["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$preAuthenticationToken",24],";",["T_WHITESPACE","\n\n    ",24],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testAuthenticate",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$providerKey",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'my_cool_firewall'",28],";",["T_WHITESPACE","\n\n        ",28],["T_VARIABLE","$authenticatorA",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getMockBuilder",30],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Guard\\GuardAuthenticatorInterface'",30],")",["T_OBJECT_OPERATOR","->",30],["T_STRING","getMock",30],"(",")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$authenticatorB",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getMockBuilder",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Guard\\GuardAuthenticatorInterface'",31],")",["T_OBJECT_OPERATOR","->",31],["T_STRING","getMock",31],"(",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$authenticatorC",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getMockBuilder",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Guard\\GuardAuthenticatorInterface'",32],")",["T_OBJECT_OPERATOR","->",32],["T_STRING","getMock",32],"(",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$authenticators",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_VARIABLE","$authenticatorA",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$authenticatorB",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$authenticatorC",33],")",";",["T_WHITESPACE","\n\n        ",33],["T_COMMENT","\/\/ called 2 times - for authenticator A and B (stops on B because of match)\n",35],["T_WHITESPACE","        ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","preAuthenticationToken",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","expects",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","exactly",36],"(",["T_LNUMBER","2",36],")",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","method",37],"(",["T_CONSTANT_ENCAPSED_STRING","'getGuardProviderKey'",37],")",["T_WHITESPACE","\n            ",37],["T_COMMENT","\/\/ it will return the \"1\" index, which will match authenticatorB\n",38],["T_WHITESPACE","            ",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","will",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","returnValue",39],"(",["T_CONSTANT_ENCAPSED_STRING","'my_cool_firewall_1'",39],")",")",";",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$enteredCredentials",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_WHITESPACE","\n            ",41],["T_CONSTANT_ENCAPSED_STRING","'username'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'_weaverryan_test_user'",42],",",["T_WHITESPACE","\n            ",42],["T_CONSTANT_ENCAPSED_STRING","'password'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'guard_auth_ftw'",43],",",["T_WHITESPACE","\n        ",43],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","preAuthenticationToken",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","expects",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","atLeastOnce",45],"(",")",")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","method",46],"(",["T_CONSTANT_ENCAPSED_STRING","'getCredentials'",46],")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","will",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","returnValue",47],"(",["T_VARIABLE","$enteredCredentials",47],")",")",";",["T_WHITESPACE","\n\n        ",47],["T_COMMENT","\/\/ authenticators A and C are never called\n",49],["T_WHITESPACE","        ",50],["T_VARIABLE","$authenticatorA",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","expects",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","never",50],"(",")",")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","method",51],"(",["T_CONSTANT_ENCAPSED_STRING","'getUser'",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$authenticatorC",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","expects",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","never",52],"(",")",")",["T_WHITESPACE","\n            ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","method",53],"(",["T_CONSTANT_ENCAPSED_STRING","'getUser'",53],")",";",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$mockedUser",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getMockBuilder",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserInterface'",55],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getMock",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$authenticatorB",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","expects",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","once",56],"(",")",")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","method",57],"(",["T_CONSTANT_ENCAPSED_STRING","'getUser'",57],")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","with",58],"(",["T_VARIABLE","$enteredCredentials",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","userProvider",58],")",["T_WHITESPACE","\n            ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","will",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","returnValue",59],"(",["T_VARIABLE","$mockedUser",59],")",")",";",["T_WHITESPACE","\n        ",59],["T_COMMENT","\/\/ checkCredentials is called\n",60],["T_WHITESPACE","        ",61],["T_VARIABLE","$authenticatorB",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","expects",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","once",61],"(",")",")",["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","method",62],"(",["T_CONSTANT_ENCAPSED_STRING","'checkCredentials'",62],")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","with",63],"(",["T_VARIABLE","$enteredCredentials",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$mockedUser",63],")",["T_WHITESPACE","\n            ",63],["T_COMMENT","\/\/ authentication works!\n",64],["T_WHITESPACE","            ",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","will",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","returnValue",65],"(",["T_STRING","true",65],")",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$authedToken",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getMockBuilder",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\TokenInterface'",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getMock",66],"(",")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$authenticatorB",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","expects",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","once",67],"(",")",")",["T_WHITESPACE","\n            ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","method",68],"(",["T_CONSTANT_ENCAPSED_STRING","'createAuthenticatedToken'",68],")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","with",69],"(",["T_VARIABLE","$mockedUser",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$providerKey",69],")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","will",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","returnValue",70],"(",["T_VARIABLE","$authedToken",70],")",")",";",["T_WHITESPACE","\n\n        ",70],["T_COMMENT","\/\/ user checker should be called\n",72],["T_WHITESPACE","        ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","userChecker",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","expects",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","once",73],"(",")",")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'checkPreAuth'",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","with",75],"(",["T_VARIABLE","$mockedUser",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","userChecker",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","expects",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","once",76],"(",")",")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","method",77],"(",["T_CONSTANT_ENCAPSED_STRING","'checkPostAuth'",77],")",["T_WHITESPACE","\n            ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","with",78],"(",["T_VARIABLE","$mockedUser",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$provider",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","GuardAuthenticationProvider",80],"(",["T_VARIABLE","$authenticators",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","userProvider",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$providerKey",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","userChecker",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$actualAuthedToken",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$provider",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","authenticate",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","preAuthenticationToken",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertSame",82],"(",["T_VARIABLE","$authedToken",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$actualAuthedToken",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Security\\Core\\Exception\\BadCredentialsException\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testCheckCredentialsReturningNonTrueFailsAuthentication",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$providerKey",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'my_uncool_firewall'",90],";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$authenticator",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getMockBuilder",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Guard\\GuardAuthenticatorInterface'",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","getMock",92],"(",")",";",["T_WHITESPACE","\n\n        ",92],["T_COMMENT","\/\/ make sure the authenticator is used\n",94],["T_WHITESPACE","        ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","preAuthenticationToken",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","expects",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","any",95],"(",")",")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","method",96],"(",["T_CONSTANT_ENCAPSED_STRING","'getGuardProviderKey'",96],")",["T_WHITESPACE","\n            ",96],["T_COMMENT","\/\/ the 0 index, to match the only authenticator\n",97],["T_WHITESPACE","            ",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","will",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","returnValue",98],"(",["T_CONSTANT_ENCAPSED_STRING","'my_uncool_firewall_0'",98],")",")",";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","preAuthenticationToken",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","expects",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","atLeastOnce",100],"(",")",")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","method",101],"(",["T_CONSTANT_ENCAPSED_STRING","'getCredentials'",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","will",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","returnValue",102],"(",["T_CONSTANT_ENCAPSED_STRING","'non-null-value'",102],")",")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$mockedUser",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMockBuilder",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserInterface'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getMock",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$authenticator",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","expects",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","once",105],"(",")",")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","method",106],"(",["T_CONSTANT_ENCAPSED_STRING","'getUser'",106],")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","will",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","returnValue",107],"(",["T_VARIABLE","$mockedUser",107],")",")",";",["T_WHITESPACE","\n        ",107],["T_COMMENT","\/\/ checkCredentials is called\n",108],["T_WHITESPACE","        ",109],["T_VARIABLE","$authenticator",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","expects",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","once",109],"(",")",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","method",110],"(",["T_CONSTANT_ENCAPSED_STRING","'checkCredentials'",110],")",["T_WHITESPACE","\n            ",110],["T_COMMENT","\/\/ authentication fails :(\n",111],["T_WHITESPACE","            ",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","will",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","returnValue",112],"(",["T_STRING","null",112],")",")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$provider",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","GuardAuthenticationProvider",114],"(",["T_ARRAY","array",114],"(",["T_VARIABLE","$authenticator",114],")",",",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","userProvider",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$providerKey",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","userChecker",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$provider",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","authenticate",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","preAuthenticationToken",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Security\\Core\\Exception\\AuthenticationExpiredException\n     *\/",118],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","testGuardWithNoLongerAuthenticatedTriggersLogout",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$providerKey",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'my_firewall_abc'",123],";",["T_WHITESPACE","\n\n        ",123],["T_COMMENT","\/\/ create a token and mark it as NOT authenticated anymore\n",125],["T_WHITESPACE","        ",126],["T_COMMENT","\/\/ this mimics what would happen if a user \"changed\" between request\n",126],["T_WHITESPACE","        ",127],["T_VARIABLE","$mockedUser",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getMockBuilder",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserInterface'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getMock",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$token",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","PostAuthenticationGuardToken",128],"(",["T_VARIABLE","$mockedUser",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$providerKey",128],",",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_USER'",128],")",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$token",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","setAuthenticated",129],"(",["T_STRING","false",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$provider",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_STRING","GuardAuthenticationProvider",131],"(",["T_ARRAY","array",131],"(",")",",",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","userProvider",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$providerKey",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","userChecker",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$actualToken",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$provider",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","authenticate",132],"(",["T_VARIABLE","$token",132],")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","setUp",135],"(",")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","userProvider",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMockBuilder",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserProviderInterface'",137],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getMock",137],"(",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","userChecker",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getMockBuilder",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserCheckerInterface'",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","getMock",138],"(",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","preAuthenticationToken",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMockBuilder",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Guard\\Token\\PreAuthenticationGuardToken'",139],")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","disableOriginalConstructor",140],"(",")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","getMock",141],"(",")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","tearDown",144],"(",")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","userProvider",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","null",146],";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","userChecker",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","null",147],";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","preAuthenticationToken",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","null",148],";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n",149],"}",["T_WHITESPACE","\n",150]]