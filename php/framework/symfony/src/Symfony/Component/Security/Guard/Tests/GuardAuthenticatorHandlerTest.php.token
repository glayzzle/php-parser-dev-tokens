[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Guard",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Request",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Response",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Security",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Guard",16],["T_NS_SEPARATOR","\\",16],["T_STRING","GuardAuthenticatorHandler",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Security",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AuthenticationException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Security",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Http",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Event",18],["T_NS_SEPARATOR","\\",18],["T_STRING","InteractiveLoginEvent",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Security",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Http",19],["T_NS_SEPARATOR","\\",19],["T_STRING","SecurityEvents",19],";",["T_WHITESPACE","\n\n",19],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","GuardAuthenticatorHandlerTest",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","PHPUnit_Framework_TestCase",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$tokenStorage",23],";",["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$dispatcher",24],";",["T_WHITESPACE","\n    ",24],["T_PRIVATE","private",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$token",25],";",["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$request",26],";",["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$guardAuthenticator",27],";",["T_WHITESPACE","\n\n    ",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testAuthenticateWithToken",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","tokenStorage",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","expects",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","once",31],"(",")",")",["T_WHITESPACE","\n            ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","method",32],"(",["T_CONSTANT_ENCAPSED_STRING","'setToken'",32],")",["T_WHITESPACE","\n            ",32],["T_OBJECT_OPERATOR","->",33],["T_STRING","with",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","token",33],")",";",["T_WHITESPACE","\n\n        ",33],["T_VARIABLE","$loginEvent",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_STRING","InteractiveLoginEvent",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","request",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","token",35],")",";",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","dispatcher",37],["T_WHITESPACE","\n            ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","expects",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","once",38],"(",")",")",["T_WHITESPACE","\n            ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","method",39],"(",["T_CONSTANT_ENCAPSED_STRING","'dispatch'",39],")",["T_WHITESPACE","\n            ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","with",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","equalTo",40],"(",["T_STRING","SecurityEvents",40],["T_DOUBLE_COLON","::",40],["T_STRING","INTERACTIVE_LOGIN",40],")",",",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","equalTo",40],"(",["T_VARIABLE","$loginEvent",40],")",")",["T_WHITESPACE","\n        ",40],";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$handler",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","GuardAuthenticatorHandler",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","tokenStorage",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","dispatcher",43],")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$handler",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","authenticateWithToken",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","token",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","request",44],")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testHandleAuthenticationSuccess",47],"(",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$providerKey",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'my_handleable_firewall'",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$response",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","Response",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Guard all the things!'",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","guardAuthenticator",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","expects",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","once",51],"(",")",")",["T_WHITESPACE","\n            ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","method",52],"(",["T_CONSTANT_ENCAPSED_STRING","'onAuthenticationSuccess'",52],")",["T_WHITESPACE","\n            ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","with",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","request",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","token",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$providerKey",53],")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","will",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","returnValue",54],"(",["T_VARIABLE","$response",54],")",")",";",["T_WHITESPACE","\n\n        ",54],["T_VARIABLE","$handler",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_STRING","GuardAuthenticatorHandler",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","tokenStorage",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","dispatcher",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$actualResponse",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$handler",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","handleAuthenticationSuccess",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","token",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","request",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","guardAuthenticator",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$providerKey",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertSame",58],"(",["T_VARIABLE","$response",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$actualResponse",58],")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","testHandleAuthenticationFailure",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_COMMENT","\/\/ setToken() not called - getToken() will return null, so there's nothing to clear\n",63],["T_WHITESPACE","        ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","tokenStorage",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","expects",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","never",64],"(",")",")",["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","method",65],"(",["T_CONSTANT_ENCAPSED_STRING","'setToken'",65],")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","with",66],"(",["T_STRING","null",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$authException",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_STRING","AuthenticationException",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Bad password!'",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$response",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","Response",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Try again, but with the right password!'",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","guardAuthenticator",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","once",70],"(",")",")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","method",71],"(",["T_CONSTANT_ENCAPSED_STRING","'onAuthenticationFailure'",71],")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","with",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","request",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$authException",72],")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","will",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","returnValue",73],"(",["T_VARIABLE","$response",73],")",")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$handler",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","GuardAuthenticatorHandler",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","tokenStorage",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","dispatcher",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$actualResponse",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$handler",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","handleAuthenticationFailure",76],"(",["T_VARIABLE","$authException",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","request",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","guardAuthenticator",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'firewall_provider_key'",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertSame",77],"(",["T_VARIABLE","$response",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$actualResponse",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @dataProvider getTokenClearingTests\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","testHandleAuthenticationClearsToken",83],"(",["T_VARIABLE","$tokenClass",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$tokenProviderKey",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$actualProviderKey",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$shouldTokenBeCleared",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$token",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getMockBuilder",85],"(",["T_VARIABLE","$tokenClass",85],")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","disableOriginalConstructor",86],"(",")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$token",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","expects",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","any",88],"(",")",")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","method",89],"(",["T_CONSTANT_ENCAPSED_STRING","'getProviderKey'",89],")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","will",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","returnValue",90],"(",["T_VARIABLE","$tokenProviderKey",90],")",")",";",["T_WHITESPACE","\n\n        ",90],["T_COMMENT","\/\/ make the $token be the current token\n",92],["T_WHITESPACE","        ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","tokenStorage",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","expects",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","once",93],"(",")",")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","method",94],"(",["T_CONSTANT_ENCAPSED_STRING","'getToken'",94],")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","will",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","returnValue",95],"(",["T_VARIABLE","$token",95],")",")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","tokenStorage",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","expects",97],"(",["T_VARIABLE","$shouldTokenBeCleared",97],["T_WHITESPACE"," ",97],"?",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","once",97],"(",")",["T_WHITESPACE"," ",97],":",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","never",97],"(",")",")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","method",98],"(",["T_CONSTANT_ENCAPSED_STRING","'setToken'",98],")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","with",99],"(",["T_STRING","null",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$authException",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","AuthenticationException",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Bad password!'",100],")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$response",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","Response",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Try again, but with the right password!'",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","guardAuthenticator",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","expects",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","once",103],"(",")",")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","method",104],"(",["T_CONSTANT_ENCAPSED_STRING","'onAuthenticationFailure'",104],")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","with",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","request",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$authException",105],")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","will",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","returnValue",106],"(",["T_VARIABLE","$response",106],")",")",";",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$handler",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_NEW","new",108],["T_WHITESPACE"," ",108],["T_STRING","GuardAuthenticatorHandler",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","tokenStorage",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","dispatcher",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$actualResponse",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$handler",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","handleAuthenticationFailure",109],"(",["T_VARIABLE","$authException",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","request",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","guardAuthenticator",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$actualProviderKey",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertSame",110],"(",["T_VARIABLE","$response",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$actualResponse",110],")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","getTokenClearingTests",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$tests",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_COMMENT","\/\/ correct token class and matching firewall => clear the token\n",116],["T_WHITESPACE","        ",117],["T_VARIABLE","$tests",117],"[","]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Guard\\Token\\PostAuthenticationGuardToken'",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'the_firewall_key'",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'the_firewall_key'",117],",",["T_WHITESPACE"," ",117],["T_STRING","true",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$tests",118],"[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Guard\\Token\\PostAuthenticationGuardToken'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'the_firewall_key'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'different_key'",118],",",["T_WHITESPACE"," ",118],["T_STRING","false",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$tests",119],"[","]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\UsernamePasswordToken'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'the_firewall_key'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'the_firewall_key'",119],",",["T_WHITESPACE"," ",119],["T_STRING","false",119],")",";",["T_WHITESPACE","\n\n        ",119],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$tests",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","setUp",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","tokenStorage",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getMockBuilder",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\Storage\\TokenStorageInterface'",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","getMock",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","dispatcher",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getMockBuilder",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\EventDispatcher\\EventDispatcherInterface'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getMock",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","token",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMockBuilder",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\TokenInterface'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getMock",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","request",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","Request",129],"(",["T_ARRAY","array",129],"(",")",",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",")",",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",")",",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",")",",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",")",",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",")",")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","guardAuthenticator",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getMockBuilder",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Guard\\GuardAuthenticatorInterface'",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getMock",130],"(",")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","tearDown",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","tokenStorage",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","null",135],";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","dispatcher",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","null",136],";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","token",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","null",137],";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","request",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","null",138],";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","guardAuthenticator",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","null",139],";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n",140],"}",["T_WHITESPACE","\n",141]]