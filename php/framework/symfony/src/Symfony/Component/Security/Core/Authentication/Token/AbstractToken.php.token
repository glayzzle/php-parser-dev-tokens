[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Authentication",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Token",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Security",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Role",14],["T_NS_SEPARATOR","\\",14],["T_STRING","RoleInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Security",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Role",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Role",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Security",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","User",16],["T_NS_SEPARATOR","\\",16],["T_STRING","UserInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Security",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","User",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AdvancedUserInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Security",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","User",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EquatableInterface",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Base class for Token instances.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n * @author Johannes M. Schmitt <schmittjoh@gmail.com>\n *\/",20],["T_WHITESPACE","\n",25],["T_ABSTRACT","abstract",26],["T_WHITESPACE"," ",26],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","AbstractToken",26],["T_WHITESPACE"," ",26],["T_IMPLEMENTS","implements",26],["T_WHITESPACE"," ",26],["T_STRING","TokenInterface",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$user",28],";",["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$roles",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",")",";",["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$authenticated",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","false",30],";",["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$attributes",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",")",";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param (RoleInterface|string)[] $roles An array of roles\n     *\n     * @throws \\InvalidArgumentException\n     *\/",33],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_ARRAY","array",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$roles",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",")",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_FOREACH","foreach",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$roles",42],["T_WHITESPACE"," ",42],["T_AS","as",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$role",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_STRING","is_string",43],"(",["T_VARIABLE","$role",43],")",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n                ",43],["T_VARIABLE","$role",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STRING","Role",44],"(",["T_VARIABLE","$role",44],")",";",["T_WHITESPACE","\n            ",44],"}",["T_WHITESPACE"," ",45],["T_ELSEIF","elseif",45],["T_WHITESPACE"," ",45],"(","!",["T_VARIABLE","$role",45],["T_WHITESPACE"," ",45],["T_INSTANCEOF","instanceof",45],["T_WHITESPACE"," ",45],["T_STRING","RoleInterface",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n                ",45],["T_THROW","throw",46],["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_NS_SEPARATOR","\\",46],["T_STRING","InvalidArgumentException",46],"(",["T_STRING","sprintf",46],"(",["T_CONSTANT_ENCAPSED_STRING","'$roles must be an array of strings, or RoleInterface instances, but got %s.'",46],",",["T_WHITESPACE"," ",46],["T_STRING","gettype",46],"(",["T_VARIABLE","$role",46],")",")",")",";",["T_WHITESPACE","\n            ",46],"}",["T_WHITESPACE","\n\n            ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","roles",49],"[","]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$role",49],";",["T_WHITESPACE","\n        ",49],"}",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","getRoles",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","roles",58],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","getUsername",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","user",66],["T_WHITESPACE"," ",66],["T_INSTANCEOF","instanceof",66],["T_WHITESPACE"," ",66],["T_STRING","UserInterface",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","user",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getUsername",67],"(",")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n\n        ",68],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_STRING_CAST","(string)",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","user",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","getUser",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","user",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Sets the user in the token.\n     *\n     * The user can be a UserInterface instance, or an object implementing\n     * a __toString method or the username as a regular string.\n     *\n     * @param string|object $user The user\n     *\n     * @throws \\InvalidArgumentException\n     *\/",81],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","setUser",91],"(",["T_VARIABLE","$user",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(","!","(",["T_VARIABLE","$user",93],["T_WHITESPACE"," ",93],["T_INSTANCEOF","instanceof",93],["T_WHITESPACE"," ",93],["T_STRING","UserInterface",93],["T_WHITESPACE"," ",93],["T_BOOLEAN_OR","||",93],["T_WHITESPACE"," ",93],"(",["T_STRING","is_object",93],"(",["T_VARIABLE","$user",93],")",["T_WHITESPACE"," ",93],["T_BOOLEAN_AND","&&",93],["T_WHITESPACE"," ",93],["T_STRING","method_exists",93],"(",["T_VARIABLE","$user",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'__toString'",93],")",")",["T_WHITESPACE"," ",93],["T_BOOLEAN_OR","||",93],["T_WHITESPACE"," ",93],["T_STRING","is_string",93],"(",["T_VARIABLE","$user",93],")",")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_THROW","throw",94],["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_NS_SEPARATOR","\\",94],["T_STRING","InvalidArgumentException",94],"(",["T_CONSTANT_ENCAPSED_STRING","'$user must be an instanceof UserInterface, an object implementing a __toString method, or a primitive string.'",94],")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n\n        ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_STRING","null",97],["T_WHITESPACE"," ",97],["T_IS_IDENTICAL","===",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","user",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$changed",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","false",98],";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE"," ",99],["T_ELSEIF","elseif",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","user",99],["T_WHITESPACE"," ",99],["T_INSTANCEOF","instanceof",99],["T_WHITESPACE"," ",99],["T_STRING","UserInterface",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_VARIABLE","$user",100],["T_WHITESPACE"," ",100],["T_INSTANCEOF","instanceof",100],["T_WHITESPACE"," ",100],["T_STRING","UserInterface",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$changed",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","true",101],";",["T_WHITESPACE","\n            ",101],"}",["T_WHITESPACE"," ",102],["T_ELSE","else",102],["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$changed",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","hasUserChanged",103],"(",["T_VARIABLE","$user",103],")",";",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE"," ",105],["T_ELSEIF","elseif",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$user",105],["T_WHITESPACE"," ",105],["T_INSTANCEOF","instanceof",105],["T_WHITESPACE"," ",105],["T_STRING","UserInterface",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$changed",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","true",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE"," ",107],["T_ELSE","else",107],["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$changed",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING_CAST","(string)",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","user",108],["T_WHITESPACE"," ",108],["T_IS_NOT_IDENTICAL","!==",108],["T_WHITESPACE"," ",108],["T_STRING_CAST","(string)",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$user",108],";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$changed",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setAuthenticated",112],"(",["T_STRING","false",112],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","user",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$user",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",118],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","isAuthenticated",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","authenticated",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",126],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","setAuthenticated",129],"(",["T_VARIABLE","$authenticated",129],")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","authenticated",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_BOOL_CAST","(bool)",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$authenticated",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",134],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","eraseCredentials",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getUser",139],"(",")",["T_WHITESPACE"," ",139],["T_INSTANCEOF","instanceof",139],["T_WHITESPACE"," ",139],["T_STRING","UserInterface",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getUser",140],"(",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","eraseCredentials",140],"(",")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",144],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","serialize",147],"(",")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_STRING","serialize",149],"(",["T_WHITESPACE","\n            ",149],["T_ARRAY","array",150],"(",["T_WHITESPACE","\n                ",150],["T_STRING","is_object",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","user",151],")",["T_WHITESPACE"," ",151],"?",["T_WHITESPACE"," ",151],["T_CLONE","clone",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","user",151],["T_WHITESPACE"," ",151],":",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","user",151],",",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","authenticated",152],",",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","roles",153],",",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","attributes",154],",",["T_WHITESPACE","\n            ",154],")",["T_WHITESPACE","\n        ",155],")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",159],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","unserialize",162],"(",["T_VARIABLE","$serialized",162],")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_LIST","list",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","user",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","authenticated",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","roles",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","attributes",164],")",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","unserialize",164],"(",["T_VARIABLE","$serialized",164],")",";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Returns the token attributes.\n     *\n     * @return array The token attributes\n     *\/",167],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","getAttributes",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","attributes",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Sets the token attributes.\n     *\n     * @param array $attributes The token attributes\n     *\/",177],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","setAttributes",182],"(",["T_ARRAY","array",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$attributes",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","attributes",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$attributes",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Returns true if the attribute exists.\n     *\n     * @param string $name The attribute name\n     *\n     * @return bool true if the attribute exists, false otherwise\n     *\/",187],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","hasAttribute",194],"(",["T_VARIABLE","$name",194],")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_STRING","array_key_exists",196],"(",["T_VARIABLE","$name",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","attributes",196],")",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Returns an attribute value.\n     *\n     * @param string $name The attribute name\n     *\n     * @return mixed The attribute value\n     *\n     * @throws \\InvalidArgumentException When attribute doesn't exist for this token\n     *\/",199],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","getAttribute",208],"(",["T_VARIABLE","$name",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(","!",["T_STRING","array_key_exists",210],"(",["T_VARIABLE","$name",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","attributes",210],")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_THROW","throw",211],["T_WHITESPACE"," ",211],["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_NS_SEPARATOR","\\",211],["T_STRING","InvalidArgumentException",211],"(",["T_STRING","sprintf",211],"(",["T_CONSTANT_ENCAPSED_STRING","'This token has no \"%s\" attribute.'",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$name",211],")",")",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n\n        ",212],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","attributes",214],"[",["T_VARIABLE","$name",214],"]",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * Sets an attribute.\n     *\n     * @param string $name  The attribute name\n     * @param mixed  $value The attribute value\n     *\/",217],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","setAttribute",223],"(",["T_VARIABLE","$name",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$value",223],")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","attributes",225],"[",["T_VARIABLE","$name",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$value",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",228],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","__toString",231],"(",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$class",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","get_class",233],"(",["T_VARIABLE","$this",233],")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$class",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","substr",234],"(",["T_VARIABLE","$class",234],",",["T_WHITESPACE"," ",234],["T_STRING","strrpos",234],"(",["T_VARIABLE","$class",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",234],")",["T_WHITESPACE"," ",234],"+",["T_WHITESPACE"," ",234],["T_LNUMBER","1",234],")",";",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$roles",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_ARRAY","array",236],"(",")",";",["T_WHITESPACE","\n        ",236],["T_FOREACH","foreach",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","roles",237],["T_WHITESPACE"," ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$role",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$roles",238],"[","]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$role",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getRole",238],"(",")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n\n        ",239],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_STRING","sprintf",241],"(",["T_CONSTANT_ENCAPSED_STRING","'%s(user=\"%s\", authenticated=%s, roles=\"%s\")'",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$class",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getUsername",241],"(",")",",",["T_WHITESPACE"," ",241],["T_STRING","json_encode",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","authenticated",241],")",",",["T_WHITESPACE"," ",241],["T_STRING","implode",241],"(",["T_CONSTANT_ENCAPSED_STRING","', '",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$roles",241],")",")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_PRIVATE","private",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","hasUserChanged",244],"(",["T_STRING","UserInterface",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$user",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(","!","(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","user",246],["T_WHITESPACE"," ",246],["T_INSTANCEOF","instanceof",246],["T_WHITESPACE"," ",246],["T_STRING","UserInterface",246],")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_THROW","throw",247],["T_WHITESPACE"," ",247],["T_NEW","new",247],["T_WHITESPACE"," ",247],["T_NS_SEPARATOR","\\",247],["T_STRING","BadMethodCallException",247],"(",["T_CONSTANT_ENCAPSED_STRING","'Method \"hasUserChanged\" should be called when current user class is instance of \"UserInterface\".'",247],")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n\n        ",248],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","user",250],["T_WHITESPACE"," ",250],["T_INSTANCEOF","instanceof",250],["T_WHITESPACE"," ",250],["T_STRING","EquatableInterface",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],"!",["T_BOOL_CAST","(bool)",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","user",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","isEqualTo",251],"(",["T_VARIABLE","$user",251],")",";",["T_WHITESPACE","\n        ",251],"}",["T_WHITESPACE","\n\n        ",252],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","user",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getPassword",254],"(",")",["T_WHITESPACE"," ",254],["T_IS_NOT_IDENTICAL","!==",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$user",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getPassword",254],"(",")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_STRING","true",255],";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n\n        ",256],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","user",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getSalt",258],"(",")",["T_WHITESPACE"," ",258],["T_IS_NOT_IDENTICAL","!==",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$user",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getSalt",258],"(",")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_STRING","true",259],";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n\n        ",260],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","user",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getUsername",262],"(",")",["T_WHITESPACE"," ",262],["T_IS_NOT_IDENTICAL","!==",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$user",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getUsername",262],"(",")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_STRING","true",263],";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n\n        ",264],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","user",266],["T_WHITESPACE"," ",266],["T_INSTANCEOF","instanceof",266],["T_WHITESPACE"," ",266],["T_STRING","AdvancedUserInterface",266],["T_WHITESPACE"," ",266],["T_BOOLEAN_AND","&&",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$user",266],["T_WHITESPACE"," ",266],["T_INSTANCEOF","instanceof",266],["T_WHITESPACE"," ",266],["T_STRING","AdvancedUserInterface",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","user",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","isAccountNonExpired",267],"(",")",["T_WHITESPACE"," ",267],["T_IS_NOT_IDENTICAL","!==",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$user",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","isAccountNonExpired",267],"(",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n                ",267],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_STRING","true",268],";",["T_WHITESPACE","\n            ",268],"}",["T_WHITESPACE","\n\n            ",269],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","user",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","isAccountNonLocked",271],"(",")",["T_WHITESPACE"," ",271],["T_IS_NOT_IDENTICAL","!==",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$user",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","isAccountNonLocked",271],"(",")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n                ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_STRING","true",272],";",["T_WHITESPACE","\n            ",272],"}",["T_WHITESPACE","\n\n            ",273],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","user",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","isCredentialsNonExpired",275],"(",")",["T_WHITESPACE"," ",275],["T_IS_NOT_IDENTICAL","!==",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$user",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","isCredentialsNonExpired",275],"(",")",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_STRING","true",276],";",["T_WHITESPACE","\n            ",276],"}",["T_WHITESPACE","\n\n            ",277],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","user",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","isEnabled",279],"(",")",["T_WHITESPACE"," ",279],["T_IS_NOT_IDENTICAL","!==",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$user",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","isEnabled",279],"(",")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                ",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_STRING","true",280],";",["T_WHITESPACE","\n            ",280],"}",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE"," ",282],["T_ELSEIF","elseif",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","user",282],["T_WHITESPACE"," ",282],["T_INSTANCEOF","instanceof",282],["T_WHITESPACE"," ",282],["T_STRING","AdvancedUserInterface",282],["T_WHITESPACE"," ",282],["T_LOGICAL_XOR","xor",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$user",282],["T_WHITESPACE"," ",282],["T_INSTANCEOF","instanceof",282],["T_WHITESPACE"," ",282],["T_STRING","AdvancedUserInterface",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_STRING","true",283],";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n\n        ",284],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_STRING","false",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n",287],"}",["T_WHITESPACE","\n",288]]