[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Authentication",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Provider",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Ldap",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LdapInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Ldap",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Entry",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Ldap",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Adapter",16],["T_NS_SEPARATOR","\\",16],["T_STRING","QueryInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Ldap",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Adapter",17],["T_NS_SEPARATOR","\\",17],["T_STRING","CollectionInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Security",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Authentication",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Provider",18],["T_NS_SEPARATOR","\\",18],["T_STRING","LdapBindAuthenticationProvider",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Security",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Authentication",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Token",19],["T_NS_SEPARATOR","\\",19],["T_STRING","UsernamePasswordToken",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Security",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Core",20],["T_NS_SEPARATOR","\\",20],["T_STRING","User",20],["T_NS_SEPARATOR","\\",20],["T_STRING","User",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Ldap",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Exception",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ConnectionException",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Security",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Core",22],["T_NS_SEPARATOR","\\",22],["T_STRING","User",22],["T_NS_SEPARATOR","\\",22],["T_STRING","UserCheckerInterface",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Security",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Core",23],["T_NS_SEPARATOR","\\",23],["T_STRING","User",23],["T_NS_SEPARATOR","\\",23],["T_STRING","UserProviderInterface",23],";",["T_WHITESPACE","\n\n",23],["T_DOC_COMMENT","\/**\n * @requires extension ldap\n *\/",25],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","LdapBindAuthenticationProviderTest",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","PHPUnit_Framework_TestCase",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_DOC_COMMENT","\/**\n     * @expectedException        \\Symfony\\Component\\Security\\Core\\Exception\\BadCredentialsException\n     * @expectedExceptionMessage The presented password must not be empty.\n     *\/",30],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","testEmptyPasswordShouldThrowAnException",34],"(",")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$userProvider",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getMockBuilder",36],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserProviderInterface'",36],")",["T_OBJECT_OPERATOR","->",36],["T_STRING","getMock",36],"(",")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$ldap",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getMockBuilder",37],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Ldap\\LdapClientInterface'",37],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","getMock",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$userChecker",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getMockBuilder",38],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserCheckerInterface'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","getMock",38],"(",")",";",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$provider",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_NEW","new",40],["T_WHITESPACE"," ",40],["T_STRING","LdapBindAuthenticationProvider",40],"(",["T_VARIABLE","$userProvider",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$userChecker",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'key'",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$ldap",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$reflection",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NEW","new",41],["T_WHITESPACE"," ",41],["T_NS_SEPARATOR","\\",41],["T_STRING","ReflectionMethod",41],"(",["T_VARIABLE","$provider",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'checkAuthentication'",41],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$reflection",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","setAccessible",42],"(",["T_STRING","true",42],")",";",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$reflection",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","invoke",44],"(",["T_VARIABLE","$provider",44],",",["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STRING","User",44],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",44],",",["T_WHITESPACE"," ",44],["T_STRING","null",44],")",",",["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STRING","UsernamePasswordToken",44],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","''",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'key'",44],")",")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @expectedException        \\Symfony\\Component\\Security\\Core\\Exception\\BadCredentialsException\n     * @expectedExceptionMessage The presented password is invalid.\n     *\/",47],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testBindFailureShouldThrowAnException",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$userProvider",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMockBuilder",53],"(",["T_STRING","UserProviderInterface",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","getMock",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$ldap",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getMockBuilder",54],"(",["T_STRING","LdapInterface",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getMock",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$ldap",55],["T_WHITESPACE","\n            ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","expects",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","once",56],"(",")",")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","method",57],"(",["T_CONSTANT_ENCAPSED_STRING","'bind'",57],")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","will",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","throwException",58],"(",["T_NEW","new",58],["T_WHITESPACE"," ",58],["T_STRING","ConnectionException",58],"(",")",")",")",["T_WHITESPACE","\n        ",58],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$userChecker",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMockBuilder",60],"(",["T_STRING","UserCheckerInterface",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",")",";",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$provider",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_STRING","LdapBindAuthenticationProvider",62],"(",["T_VARIABLE","$userProvider",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$userChecker",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'key'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$ldap",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$reflection",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_NS_SEPARATOR","\\",63],["T_STRING","ReflectionMethod",63],"(",["T_VARIABLE","$provider",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'checkAuthentication'",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$reflection",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","setAccessible",64],"(",["T_STRING","true",64],")",";",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$reflection",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","invoke",66],"(",["T_VARIABLE","$provider",66],",",["T_WHITESPACE"," ",66],["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_STRING","User",66],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",66],",",["T_WHITESPACE"," ",66],["T_STRING","null",66],")",",",["T_WHITESPACE"," ",66],["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_STRING","UsernamePasswordToken",66],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'bar'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'key'",66],")",")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","testRetrieveUser",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$userProvider",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMockBuilder",71],"(",["T_STRING","UserProviderInterface",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$userProvider",72],["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","expects",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","once",73],"(",")",")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'loadUserByUsername'",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","with",75],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",75],")",["T_WHITESPACE","\n        ",75],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$ldap",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMockBuilder",77],"(",["T_STRING","LdapInterface",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getMock",77],"(",")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$userChecker",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getMockBuilder",79],"(",["T_STRING","UserCheckerInterface",79],["T_DOUBLE_COLON","::",79],["T_CLASS","class",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getMock",79],"(",")",";",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$provider",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","LdapBindAuthenticationProvider",81],"(",["T_VARIABLE","$userProvider",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$userChecker",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'key'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$ldap",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$reflection",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_NS_SEPARATOR","\\",82],["T_STRING","ReflectionMethod",82],"(",["T_VARIABLE","$provider",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'retrieveUser'",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$reflection",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setAccessible",83],"(",["T_STRING","true",83],")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$reflection",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","invoke",85],"(",["T_VARIABLE","$provider",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'foo'",85],",",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","UsernamePasswordToken",85],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'bar'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'key'",85],")",")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testQueryForDn",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$userProvider",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMockBuilder",90],"(",["T_STRING","UserProviderInterface",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getMock",90],"(",")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$collection",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_NS_SEPARATOR","\\",92],["T_STRING","ArrayIterator",92],"(",["T_ARRAY","array",92],"(",["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","Entry",92],"(",["T_CONSTANT_ENCAPSED_STRING","''",92],")",")",")",";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$query",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getMockBuilder",94],"(",["T_STRING","QueryInterface",94],["T_DOUBLE_COLON","::",94],["T_CLASS","class",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getMock",94],"(",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$query",95],["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","expects",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","once",96],"(",")",")",["T_WHITESPACE","\n            ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","method",97],"(",["T_CONSTANT_ENCAPSED_STRING","'execute'",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","will",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","returnValue",98],"(",["T_VARIABLE","$collection",98],")",")",["T_WHITESPACE","\n        ",98],";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$ldap",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getMockBuilder",101],"(",["T_STRING","LdapInterface",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],")",["T_OBJECT_OPERATOR","->",101],["T_STRING","getMock",101],"(",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$ldap",102],["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","expects",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","once",103],"(",")",")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","method",104],"(",["T_CONSTANT_ENCAPSED_STRING","'escape'",104],")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","with",105],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","''",105],")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","will",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","returnValue",106],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",106],")",")",["T_WHITESPACE","\n        ",106],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$ldap",108],["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","expects",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","once",109],"(",")",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","method",110],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",110],")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","with",111],"(",["T_CONSTANT_ENCAPSED_STRING","'{username}'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'foobar'",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","will",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","returnValue",112],"(",["T_VARIABLE","$query",112],")",")",["T_WHITESPACE","\n        ",112],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$userChecker",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getMockBuilder",114],"(",["T_STRING","UserCheckerInterface",114],["T_DOUBLE_COLON","::",114],["T_CLASS","class",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getMock",114],"(",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$provider",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_NEW","new",116],["T_WHITESPACE"," ",116],["T_STRING","LdapBindAuthenticationProvider",116],"(",["T_VARIABLE","$userProvider",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$userChecker",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'key'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$ldap",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$provider",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setQueryString",117],"(",["T_CONSTANT_ENCAPSED_STRING","'{username}bar'",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$reflection",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_NS_SEPARATOR","\\",118],["T_STRING","ReflectionMethod",118],"(",["T_VARIABLE","$provider",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'checkAuthentication'",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$reflection",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setAccessible",119],"(",["T_STRING","true",119],")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$reflection",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","invoke",121],"(",["T_VARIABLE","$provider",121],",",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","User",121],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",121],",",["T_WHITESPACE"," ",121],["T_STRING","null",121],")",",",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","UsernamePasswordToken",121],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'bar'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'key'",121],")",")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * @expectedException        \\Symfony\\Component\\Security\\Core\\Exception\\BadCredentialsException\n     * @expectedExceptionMessage The presented username is invalid.\n     *\/",124],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","testEmptyQueryResultShouldThrowAnException",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$userProvider",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getMockBuilder",130],"(",["T_STRING","UserProviderInterface",130],["T_DOUBLE_COLON","::",130],["T_CLASS","class",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getMock",130],"(",")",";",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$collection",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getMockBuilder",132],"(",["T_STRING","CollectionInterface",132],["T_DOUBLE_COLON","::",132],["T_CLASS","class",132],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","getMock",132],"(",")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$query",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getMockBuilder",134],"(",["T_STRING","QueryInterface",134],["T_DOUBLE_COLON","::",134],["T_CLASS","class",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","getMock",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$query",135],["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","expects",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","once",136],"(",")",")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","method",137],"(",["T_CONSTANT_ENCAPSED_STRING","'execute'",137],")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","will",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","returnValue",138],"(",["T_VARIABLE","$collection",138],")",")",["T_WHITESPACE","\n        ",138],";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$ldap",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getMockBuilder",141],"(",["T_STRING","LdapInterface",141],["T_DOUBLE_COLON","::",141],["T_CLASS","class",141],")",["T_OBJECT_OPERATOR","->",141],["T_STRING","getMock",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$ldap",142],["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","expects",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","once",143],"(",")",")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","method",144],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",144],")",["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","will",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","returnValue",145],"(",["T_VARIABLE","$query",145],")",")",["T_WHITESPACE","\n        ",145],";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$userChecker",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getMockBuilder",147],"(",["T_STRING","UserCheckerInterface",147],["T_DOUBLE_COLON","::",147],["T_CLASS","class",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getMock",147],"(",")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$provider",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_NEW","new",149],["T_WHITESPACE"," ",149],["T_STRING","LdapBindAuthenticationProvider",149],"(",["T_VARIABLE","$userProvider",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$userChecker",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'key'",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$ldap",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$provider",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","setQueryString",150],"(",["T_CONSTANT_ENCAPSED_STRING","'{username}bar'",150],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$reflection",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","ReflectionMethod",151],"(",["T_VARIABLE","$provider",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'checkAuthentication'",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$reflection",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setAccessible",152],"(",["T_STRING","true",152],")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$reflection",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","invoke",154],"(",["T_VARIABLE","$provider",154],",",["T_WHITESPACE"," ",154],["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_STRING","User",154],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",154],",",["T_WHITESPACE"," ",154],["T_STRING","null",154],")",",",["T_WHITESPACE"," ",154],["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_STRING","UsernamePasswordToken",154],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'bar'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'key'",154],")",")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n",155],"}",["T_WHITESPACE","\n",156]]