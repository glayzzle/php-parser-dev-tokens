[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Authorization",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Voter",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Security",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Authentication",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Token",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TokenInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Security",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Role",15],["T_NS_SEPARATOR","\\",15],["T_STRING","RoleInterface",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * RoleVoter votes if any attribute starts with a given prefix.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",17],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","RoleVoter",22],["T_WHITESPACE"," ",22],["T_IMPLEMENTS","implements",22],["T_WHITESPACE"," ",22],["T_STRING","VoterInterface",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$prefix",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param string $prefix The role prefix\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","__construct",31],"(",["T_VARIABLE","$prefix",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'ROLE_'",31],")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","prefix",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$prefix",33],";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","vote",39],"(",["T_STRING","TokenInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$token",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$subject",39],",",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$attributes",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$result",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","VoterInterface",41],["T_DOUBLE_COLON","::",41],["T_STRING","ACCESS_ABSTAIN",41],";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$roles",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","extractRoles",42],"(",["T_VARIABLE","$token",42],")",";",["T_WHITESPACE","\n\n        ",42],["T_FOREACH","foreach",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$attributes",44],["T_WHITESPACE"," ",44],["T_AS","as",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$attribute",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$attribute",45],["T_WHITESPACE"," ",45],["T_INSTANCEOF","instanceof",45],["T_WHITESPACE"," ",45],["T_STRING","RoleInterface",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n                ",45],["T_VARIABLE","$attribute",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$attribute",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getRole",46],"(",")",";",["T_WHITESPACE","\n            ",46],"}",["T_WHITESPACE","\n\n            ",47],["T_IF","if",49],["T_WHITESPACE"," ",49],"(","!",["T_STRING","is_string",49],"(",["T_VARIABLE","$attribute",49],")",["T_WHITESPACE"," ",49],["T_BOOLEAN_OR","||",49],["T_WHITESPACE"," ",49],["T_LNUMBER","0",49],["T_WHITESPACE"," ",49],["T_IS_NOT_IDENTICAL","!==",49],["T_WHITESPACE"," ",49],["T_STRING","strpos",49],"(",["T_VARIABLE","$attribute",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","prefix",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n                ",49],["T_CONTINUE","continue",50],";",["T_WHITESPACE","\n            ",50],"}",["T_WHITESPACE","\n\n            ",51],["T_VARIABLE","$result",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","VoterInterface",53],["T_DOUBLE_COLON","::",53],["T_STRING","ACCESS_DENIED",53],";",["T_WHITESPACE","\n            ",53],["T_FOREACH","foreach",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$roles",54],["T_WHITESPACE"," ",54],["T_AS","as",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$role",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n                ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$attribute",55],["T_WHITESPACE"," ",55],["T_IS_IDENTICAL","===",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$role",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getRole",55],"(",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                    ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_STRING","VoterInterface",56],["T_DOUBLE_COLON","::",56],["T_STRING","ACCESS_GRANTED",56],";",["T_WHITESPACE","\n                ",56],"}",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n\n        ",59],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$result",61],";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","extractRoles",64],"(",["T_STRING","TokenInterface",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$token",64],")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$token",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getRoles",66],"(",")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n",67],"}",["T_WHITESPACE","\n",68]]