[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Http",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Firewall",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventDispatcher",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventDispatcherInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Request",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Security",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","InvalidCsrfTokenException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Security",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Csrf",17],["T_NS_SEPARATOR","\\",17],["T_STRING","CsrfToken",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Security",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Csrf",18],["T_NS_SEPARATOR","\\",18],["T_STRING","CsrfTokenManagerInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Security",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Http",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Authentication",19],["T_NS_SEPARATOR","\\",19],["T_STRING","AuthenticationFailureHandlerInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Security",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Http",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Authentication",20],["T_NS_SEPARATOR","\\",20],["T_STRING","AuthenticationSuccessHandlerInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Security",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Core",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Authentication",21],["T_NS_SEPARATOR","\\",21],["T_STRING","AuthenticationManagerInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Security",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Http",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Authentication",22],["T_NS_SEPARATOR","\\",22],["T_STRING","SimpleFormAuthenticatorInterface",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Security",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Core",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Authentication",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Token",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Storage",23],["T_NS_SEPARATOR","\\",23],["T_STRING","TokenStorageInterface",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Symfony",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Component",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Security",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Core",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Exception",24],["T_NS_SEPARATOR","\\",24],["T_STRING","BadCredentialsException",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Symfony",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Component",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Security",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Core",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Security",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Symfony",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Component",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Security",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Http",26],["T_NS_SEPARATOR","\\",26],["T_STRING","HttpUtils",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Symfony",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Component",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Security",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Http",27],["T_NS_SEPARATOR","\\",27],["T_STRING","ParameterBagUtils",27],";",["T_WHITESPACE","\n",27],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","Symfony",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Component",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Security",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Http",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Session",28],["T_NS_SEPARATOR","\\",28],["T_STRING","SessionAuthenticationStrategyInterface",28],";",["T_WHITESPACE","\n",28],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Psr",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Log",29],["T_NS_SEPARATOR","\\",29],["T_STRING","LoggerInterface",29],";",["T_WHITESPACE","\n\n",29],["T_DOC_COMMENT","\/**\n * @author Jordi Boggiano <j.boggiano@seld.be>\n *\/",31],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","SimpleFormAuthenticationListener",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","AbstractAuthenticationListener",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$simpleAuthenticator",36],";",["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$csrfTokenManager",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param TokenStorageInterface                  $tokenStorage          A TokenStorageInterface instance\n     * @param AuthenticationManagerInterface         $authenticationManager An AuthenticationManagerInterface instance\n     * @param SessionAuthenticationStrategyInterface $sessionStrategy\n     * @param HttpUtils                              $httpUtils             An HttpUtilsInterface instance\n     * @param string                                 $providerKey\n     * @param AuthenticationSuccessHandlerInterface  $successHandler\n     * @param AuthenticationFailureHandlerInterface  $failureHandler\n     * @param array                                  $options               An array of options for the processing of a\n     *                                                                      successful, or failed authentication attempt\n     * @param LoggerInterface                        $logger                A LoggerInterface instance\n     * @param EventDispatcherInterface               $dispatcher            An EventDispatcherInterface instance\n     * @param CsrfTokenManagerInterface              $csrfTokenManager      A CsrfTokenManagerInterface instance\n     * @param SimpleFormAuthenticatorInterface       $simpleAuthenticator   A SimpleFormAuthenticatorInterface instance\n     *\n     * @throws \\InvalidArgumentException In case no simple authenticator is provided\n     *\/",39],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","__construct",58],"(",["T_STRING","TokenStorageInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$tokenStorage",58],",",["T_WHITESPACE"," ",58],["T_STRING","AuthenticationManagerInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$authenticationManager",58],",",["T_WHITESPACE"," ",58],["T_STRING","SessionAuthenticationStrategyInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$sessionStrategy",58],",",["T_WHITESPACE"," ",58],["T_STRING","HttpUtils",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$httpUtils",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$providerKey",58],",",["T_WHITESPACE"," ",58],["T_STRING","AuthenticationSuccessHandlerInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$successHandler",58],",",["T_WHITESPACE"," ",58],["T_STRING","AuthenticationFailureHandlerInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$failureHandler",58],",",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$options",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",",",["T_WHITESPACE"," ",58],["T_STRING","LoggerInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$logger",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],",",["T_WHITESPACE"," ",58],["T_STRING","EventDispatcherInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$dispatcher",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],",",["T_WHITESPACE"," ",58],["T_STRING","CsrfTokenManagerInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$csrfTokenManager",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],",",["T_WHITESPACE"," ",58],["T_STRING","SimpleFormAuthenticatorInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$simpleAuthenticator",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_VARIABLE","$simpleAuthenticator",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_THROW","throw",61],["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","InvalidArgumentException",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing simple authenticator'",61],")",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","simpleAuthenticator",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$simpleAuthenticator",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","csrfTokenManager",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$csrfTokenManager",65],";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$options",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","array_merge",67],"(",["T_ARRAY","array",67],"(",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'username_parameter'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'_username'",68],",",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'password_parameter'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'_password'",69],",",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'csrf_parameter'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'_csrf_token'",70],",",["T_WHITESPACE","\n            ",70],["T_CONSTANT_ENCAPSED_STRING","'csrf_token_id'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'authenticate'",71],",",["T_WHITESPACE","\n            ",71],["T_CONSTANT_ENCAPSED_STRING","'post_only'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","true",72],",",["T_WHITESPACE","\n        ",72],")",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$options",73],")",";",["T_WHITESPACE","\n\n        ",73],["T_STRING","parent",75],["T_DOUBLE_COLON","::",75],["T_STRING","__construct",75],"(",["T_VARIABLE","$tokenStorage",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$authenticationManager",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$sessionStrategy",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$httpUtils",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$providerKey",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$successHandler",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$failureHandler",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$options",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$logger",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$dispatcher",75],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","requiresAuthentication",81],"(",["T_STRING","Request",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$request",81],")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","options",83],"[",["T_CONSTANT_ENCAPSED_STRING","'post_only'",83],"]",["T_WHITESPACE"," ",83],["T_BOOLEAN_AND","&&",83],["T_WHITESPACE"," ",83],"!",["T_VARIABLE","$request",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isMethod",83],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","false",84],";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","parent",87],["T_DOUBLE_COLON","::",87],["T_STRING","requiresAuthentication",87],"(",["T_VARIABLE","$request",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","attemptAuthentication",93],"(",["T_STRING","Request",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$request",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","null",95],["T_WHITESPACE"," ",95],["T_IS_NOT_IDENTICAL","!==",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","csrfTokenManager",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$csrfToken",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","ParameterBagUtils",96],["T_DOUBLE_COLON","::",96],["T_STRING","getRequestParameterValue",96],"(",["T_VARIABLE","$request",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","options",96],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_parameter'",96],"]",")",";",["T_WHITESPACE","\n\n            ",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_STRING","false",98],["T_WHITESPACE"," ",98],["T_IS_IDENTICAL","===",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","csrfTokenManager",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","isTokenValid",98],"(",["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","CsrfToken",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","options",98],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_id'",98],"]",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$csrfToken",98],")",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_THROW","throw",99],["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","InvalidCsrfTokenException",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid CSRF token.'",99],")",";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n\n        ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","options",103],"[",["T_CONSTANT_ENCAPSED_STRING","'post_only'",103],"]",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$username",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","trim",104],"(",["T_STRING","ParameterBagUtils",104],["T_DOUBLE_COLON","::",104],["T_STRING","getParameterBagValue",104],"(",["T_VARIABLE","$request",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","request",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","options",104],"[",["T_CONSTANT_ENCAPSED_STRING","'username_parameter'",104],"]",")",")",";",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$password",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","ParameterBagUtils",105],["T_DOUBLE_COLON","::",105],["T_STRING","getParameterBagValue",105],"(",["T_VARIABLE","$request",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","request",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","options",105],"[",["T_CONSTANT_ENCAPSED_STRING","'password_parameter'",105],"]",")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE"," ",106],["T_ELSE","else",106],["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$username",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","trim",107],"(",["T_STRING","ParameterBagUtils",107],["T_DOUBLE_COLON","::",107],["T_STRING","getRequestParameterValue",107],"(",["T_VARIABLE","$request",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","options",107],"[",["T_CONSTANT_ENCAPSED_STRING","'username_parameter'",107],"]",")",")",";",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$password",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","ParameterBagUtils",108],["T_DOUBLE_COLON","::",108],["T_STRING","getRequestParameterValue",108],"(",["T_VARIABLE","$request",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","options",108],"[",["T_CONSTANT_ENCAPSED_STRING","'password_parameter'",108],"]",")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_STRING","strlen",111],"(",["T_VARIABLE","$username",111],")",["T_WHITESPACE"," ",111],">",["T_WHITESPACE"," ",111],["T_STRING","Security",111],["T_DOUBLE_COLON","::",111],["T_STRING","MAX_USERNAME_LENGTH",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_THROW","throw",112],["T_WHITESPACE"," ",112],["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_STRING","BadCredentialsException",112],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid username.'",112],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$request",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getSession",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","set",115],"(",["T_STRING","Security",115],["T_DOUBLE_COLON","::",115],["T_STRING","LAST_USERNAME",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$username",115],")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$token",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","simpleAuthenticator",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","createToken",117],"(",["T_VARIABLE","$request",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$username",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$password",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","providerKey",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","authenticationManager",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","authenticate",119],"(",["T_VARIABLE","$token",119],")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n",120],"}",["T_WHITESPACE","\n",121]]