[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Http",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Authentication",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Request",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Response",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Psr",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Log",16],["T_NS_SEPARATOR","\\",16],["T_STRING","LoggerInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Security",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AuthenticationException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Security",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Authentication",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Token",18],["T_NS_SEPARATOR","\\",18],["T_STRING","TokenInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Security",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Authentication",19],["T_NS_SEPARATOR","\\",19],["T_STRING","SimpleAuthenticatorInterface",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * Class to proxy authentication success\/failure handlers.\n *\n * Events are sent to the SimpleAuthenticatorInterface if it implements\n * the right interface, otherwise (or if it fails to return a Response)\n * the default handlers are triggered.\n *\n * @author Jordi Boggiano <j.boggiano@seld.be>\n *\/",21],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","SimpleAuthenticationHandler",30],["T_WHITESPACE"," ",30],["T_IMPLEMENTS","implements",30],["T_WHITESPACE"," ",30],["T_STRING","AuthenticationFailureHandlerInterface",30],",",["T_WHITESPACE"," ",30],["T_STRING","AuthenticationSuccessHandlerInterface",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$successHandler",32],";",["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$failureHandler",33],";",["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$simpleAuthenticator",34],";",["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$logger",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param SimpleAuthenticatorInterface          $authenticator  SimpleAuthenticatorInterface instance\n     * @param AuthenticationSuccessHandlerInterface $successHandler Default success handler\n     * @param AuthenticationFailureHandlerInterface $failureHandler Default failure handler\n     * @param LoggerInterface                       $logger         Optional logger\n     *\/",37],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","__construct",45],"(",["T_STRING","SimpleAuthenticatorInterface",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$authenticator",45],",",["T_WHITESPACE"," ",45],["T_STRING","AuthenticationSuccessHandlerInterface",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$successHandler",45],",",["T_WHITESPACE"," ",45],["T_STRING","AuthenticationFailureHandlerInterface",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$failureHandler",45],",",["T_WHITESPACE"," ",45],["T_STRING","LoggerInterface",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$logger",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","null",45],")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","simpleAuthenticator",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$authenticator",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","successHandler",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$successHandler",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","failureHandler",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$failureHandler",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","logger",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$logger",50],";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","onAuthenticationSuccess",56],"(",["T_STRING","Request",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$request",56],",",["T_WHITESPACE"," ",56],["T_STRING","TokenInterface",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$token",56],")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","simpleAuthenticator",58],["T_WHITESPACE"," ",58],["T_INSTANCEOF","instanceof",58],["T_WHITESPACE"," ",58],["T_STRING","AuthenticationSuccessHandlerInterface",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","logger",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","logger",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","debug",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Selected an authentication success handler.'",60],",",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","get_class",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","simpleAuthenticator",60],")",")",")",";",["T_WHITESPACE","\n            ",60],"}",["T_WHITESPACE","\n\n            ",61],["T_VARIABLE","$response",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","simpleAuthenticator",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","onAuthenticationSuccess",63],"(",["T_VARIABLE","$request",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$token",63],")",";",["T_WHITESPACE","\n            ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$response",64],["T_WHITESPACE"," ",64],["T_INSTANCEOF","instanceof",64],["T_WHITESPACE"," ",64],["T_STRING","Response",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$response",65],";",["T_WHITESPACE","\n            ",65],"}",["T_WHITESPACE","\n\n            ",66],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_STRING","null",68],["T_WHITESPACE"," ",68],["T_IS_NOT_IDENTICAL","!==",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$response",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n                ",68],["T_THROW","throw",69],["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_NS_SEPARATOR","\\",69],["T_STRING","UnexpectedValueException",69],"(",["T_STRING","sprintf",69],"(",["T_CONSTANT_ENCAPSED_STRING","'The %s::onAuthenticationSuccess method must return null to use the default success handler, or a Response object'",69],",",["T_WHITESPACE"," ",69],["T_STRING","get_class",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","simpleAuthenticator",69],")",")",")",";",["T_WHITESPACE","\n            ",69],"}",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","logger",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","logger",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","debug",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Fallback to the default authentication success handler.'",74],")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","successHandler",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","onAuthenticationSuccess",77],"(",["T_VARIABLE","$request",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$token",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","onAuthenticationFailure",83],"(",["T_STRING","Request",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$request",83],",",["T_WHITESPACE"," ",83],["T_STRING","AuthenticationException",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$exception",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","simpleAuthenticator",85],["T_WHITESPACE"," ",85],["T_INSTANCEOF","instanceof",85],["T_WHITESPACE"," ",85],["T_STRING","AuthenticationFailureHandlerInterface",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","logger",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","logger",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","debug",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Selected an authentication failure handler.'",87],",",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","get_class",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","simpleAuthenticator",87],")",")",")",";",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE","\n\n            ",88],["T_VARIABLE","$response",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","simpleAuthenticator",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","onAuthenticationFailure",90],"(",["T_VARIABLE","$request",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$exception",90],")",";",["T_WHITESPACE","\n            ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$response",91],["T_WHITESPACE"," ",91],["T_INSTANCEOF","instanceof",91],["T_WHITESPACE"," ",91],["T_STRING","Response",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$response",92],";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n\n            ",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","null",95],["T_WHITESPACE"," ",95],["T_IS_NOT_IDENTICAL","!==",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$response",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_THROW","throw",96],["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_NS_SEPARATOR","\\",96],["T_STRING","UnexpectedValueException",96],"(",["T_STRING","sprintf",96],"(",["T_CONSTANT_ENCAPSED_STRING","'The %s::onAuthenticationFailure method must return null to use the default failure handler, or a Response object'",96],",",["T_WHITESPACE"," ",96],["T_STRING","get_class",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","simpleAuthenticator",96],")",")",")",";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n\n        ",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","logger",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","logger",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","debug",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Fallback to the default authentication failure handler.'",101],")",";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n\n        ",102],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","failureHandler",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","onAuthenticationFailure",104],"(",["T_VARIABLE","$request",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$exception",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n",105],"}",["T_WHITESPACE","\n",106]]