[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Http",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Firewall",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Psr",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Log",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LoggerInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpKernel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Event",15],["T_NS_SEPARATOR","\\",15],["T_STRING","GetResponseEvent",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Security",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Authentication",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AuthenticationManagerInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Security",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Authentication",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Token",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Storage",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TokenStorageInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Security",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_NS_SEPARATOR","\\",18],["T_STRING","AuthenticationException",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Security",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Http",19],["T_NS_SEPARATOR","\\",19],["T_STRING","RememberMe",19],["T_NS_SEPARATOR","\\",19],["T_STRING","RememberMeServicesInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Security",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Http",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Event",20],["T_NS_SEPARATOR","\\",20],["T_STRING","InteractiveLoginEvent",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Security",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Http",21],["T_NS_SEPARATOR","\\",21],["T_STRING","SecurityEvents",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","EventDispatcher",22],["T_NS_SEPARATOR","\\",22],["T_STRING","EventDispatcherInterface",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Security",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Http",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Session",23],["T_NS_SEPARATOR","\\",23],["T_STRING","SessionAuthenticationStrategyInterface",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Symfony",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Component",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Security",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Http",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Session",24],["T_NS_SEPARATOR","\\",24],["T_STRING","SessionAuthenticationStrategy",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * RememberMeListener implements authentication capabilities via a cookie.\n *\n * @author Johannes M. Schmitt <schmittjoh@gmail.com>\n *\/",26],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","RememberMeListener",31],["T_WHITESPACE"," ",31],["T_IMPLEMENTS","implements",31],["T_WHITESPACE"," ",31],["T_STRING","ListenerInterface",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$tokenStorage",33],";",["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$rememberMeServices",34],";",["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$authenticationManager",35],";",["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$logger",36],";",["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$dispatcher",37],";",["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$catchExceptions",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","true",38],";",["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$sessionStrategy",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param TokenStorageInterface                  $tokenStorage\n     * @param RememberMeServicesInterface            $rememberMeServices\n     * @param AuthenticationManagerInterface         $authenticationManager\n     * @param LoggerInterface                        $logger\n     * @param EventDispatcherInterface               $dispatcher\n     * @param bool                                   $catchExceptions\n     * @param SessionAuthenticationStrategyInterface $sessionStrategy\n     *\/",41],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","__construct",52],"(",["T_STRING","TokenStorageInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$tokenStorage",52],",",["T_WHITESPACE"," ",52],["T_STRING","RememberMeServicesInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$rememberMeServices",52],",",["T_WHITESPACE"," ",52],["T_STRING","AuthenticationManagerInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$authenticationManager",52],",",["T_WHITESPACE"," ",52],["T_STRING","LoggerInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$logger",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","null",52],",",["T_WHITESPACE"," ",52],["T_STRING","EventDispatcherInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$dispatcher",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","null",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$catchExceptions",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","true",52],",",["T_WHITESPACE"," ",52],["T_STRING","SessionAuthenticationStrategyInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$sessionStrategy",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","null",52],")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","tokenStorage",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$tokenStorage",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","rememberMeServices",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$rememberMeServices",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","authenticationManager",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$authenticationManager",56],";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","logger",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$logger",57],";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","dispatcher",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$dispatcher",58],";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","catchExceptions",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$catchExceptions",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","sessionStrategy",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","null",60],["T_WHITESPACE"," ",60],["T_IS_IDENTICAL","===",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$sessionStrategy",60],["T_WHITESPACE"," ",60],"?",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_STRING","SessionAuthenticationStrategy",60],"(",["T_STRING","SessionAuthenticationStrategy",60],["T_DOUBLE_COLON","::",60],["T_STRING","MIGRATE",60],")",["T_WHITESPACE"," ",60],":",["T_WHITESPACE"," ",60],["T_VARIABLE","$sessionStrategy",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Handles remember-me cookie based authentication.\n     *\n     * @param GetResponseEvent $event A GetResponseEvent instance\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","handle",68],"(",["T_STRING","GetResponseEvent",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$event",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_STRING","null",70],["T_WHITESPACE"," ",70],["T_IS_NOT_IDENTICAL","!==",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","tokenStorage",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getToken",70],"(",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_RETURN","return",71],";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$request",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$event",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getRequest",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_STRING","null",75],["T_WHITESPACE"," ",75],["T_IS_IDENTICAL","===",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$token",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","rememberMeServices",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","autoLogin",75],"(",["T_VARIABLE","$request",75],")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_RETURN","return",76],";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n\n        ",77],["T_TRY","try",79],["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$token",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","authenticationManager",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","authenticate",80],"(",["T_VARIABLE","$token",80],")",";",["T_WHITESPACE","\n            ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$request",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","hasSession",81],"(",")",["T_WHITESPACE"," ",81],["T_BOOLEAN_AND","&&",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$request",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getSession",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","isStarted",81],"(",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","sessionStrategy",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","onAuthentication",82],"(",["T_VARIABLE","$request",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$token",82],")",";",["T_WHITESPACE","\n            ",82],"}",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","tokenStorage",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setToken",84],"(",["T_VARIABLE","$token",84],")",";",["T_WHITESPACE","\n\n            ",84],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","null",86],["T_WHITESPACE"," ",86],["T_IS_NOT_IDENTICAL","!==",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","dispatcher",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$loginEvent",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_STRING","InteractiveLoginEvent",87],"(",["T_VARIABLE","$request",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$token",87],")",";",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","dispatcher",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","dispatch",88],"(",["T_STRING","SecurityEvents",88],["T_DOUBLE_COLON","::",88],["T_STRING","INTERACTIVE_LOGIN",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$loginEvent",88],")",";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE","\n\n            ",89],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_STRING","null",91],["T_WHITESPACE"," ",91],["T_IS_NOT_IDENTICAL","!==",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","logger",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","logger",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","debug",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Populated the token storage with a remember-me token.'",92],")",";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE"," ",94],["T_CATCH","catch",94],["T_WHITESPACE"," ",94],"(",["T_STRING","AuthenticationException",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$e",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","null",95],["T_WHITESPACE"," ",95],["T_IS_NOT_IDENTICAL","!==",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","logger",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","logger",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","warning",96],"(",["T_WHITESPACE","\n                    ",96],["T_CONSTANT_ENCAPSED_STRING","'The token storage was not populated with remember-me token as the'",97],["T_WHITESPACE","\n                   ",97],".",["T_CONSTANT_ENCAPSED_STRING","' AuthenticationManager rejected the AuthenticationToken returned'",98],["T_WHITESPACE","\n                   ",98],".",["T_CONSTANT_ENCAPSED_STRING","' by the RememberMeServices.'",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'exception'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$e",99],")",["T_WHITESPACE","\n                ",99],")",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n\n            ",101],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","rememberMeServices",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","loginFail",103],"(",["T_VARIABLE","$request",103],")",";",["T_WHITESPACE","\n\n            ",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","catchExceptions",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_THROW","throw",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$e",106],";",["T_WHITESPACE","\n            ",106],"}",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n",109],"}",["T_WHITESPACE","\n",110]]