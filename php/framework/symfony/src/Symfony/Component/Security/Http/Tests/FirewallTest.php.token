[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Http",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Response",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpKernel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Event",15],["T_NS_SEPARATOR","\\",15],["T_STRING","GetResponseEvent",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpKernel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpKernelInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Security",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Http",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Firewall",17],";",["T_WHITESPACE","\n\n",17],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","FirewallTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","testOnKernelRequestRegistersExceptionListener",21],"(",")",["T_WHITESPACE","\n    ",21],"{",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$dispatcher",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getMockBuilder",23],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\EventDispatcher\\EventDispatcherInterface'",23],")",["T_OBJECT_OPERATOR","->",23],["T_STRING","getMock",23],"(",")",";",["T_WHITESPACE","\n\n        ",23],["T_VARIABLE","$listener",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getMockBuilder",25],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Http\\Firewall\\ExceptionListener'",25],")",["T_OBJECT_OPERATOR","->",25],["T_STRING","disableOriginalConstructor",25],"(",")",["T_OBJECT_OPERATOR","->",25],["T_STRING","getMock",25],"(",")",";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$listener",26],["T_WHITESPACE","\n            ",26],["T_OBJECT_OPERATOR","->",27],["T_STRING","expects",27],"(",["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","once",27],"(",")",")",["T_WHITESPACE","\n            ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","method",28],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",28],")",["T_WHITESPACE","\n            ",28],["T_OBJECT_OPERATOR","->",29],["T_STRING","with",29],"(",["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","equalTo",29],"(",["T_VARIABLE","$dispatcher",29],")",")",["T_WHITESPACE","\n        ",29],";",["T_WHITESPACE","\n\n        ",30],["T_VARIABLE","$request",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getMockBuilder",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\Request'",32],")",["T_OBJECT_OPERATOR","->",32],["T_STRING","disableOriginalConstructor",32],"(",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","disableOriginalClone",32],"(",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","getMock",32],"(",")",";",["T_WHITESPACE","\n\n        ",32],["T_VARIABLE","$map",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMockBuilder",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Http\\FirewallMapInterface'",34],")",["T_OBJECT_OPERATOR","->",34],["T_STRING","getMock",34],"(",")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$map",35],["T_WHITESPACE","\n            ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","expects",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","once",36],"(",")",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","method",37],"(",["T_CONSTANT_ENCAPSED_STRING","'getListeners'",37],")",["T_WHITESPACE","\n            ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","with",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","equalTo",38],"(",["T_VARIABLE","$request",38],")",")",["T_WHITESPACE","\n            ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","will",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","returnValue",39],"(",["T_ARRAY","array",39],"(",["T_ARRAY","array",39],"(",")",",",["T_WHITESPACE"," ",39],["T_VARIABLE","$listener",39],")",")",")",["T_WHITESPACE","\n        ",39],";",["T_WHITESPACE","\n\n        ",40],["T_VARIABLE","$event",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_STRING","GetResponseEvent",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getMockBuilder",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","getMock",42],"(",")",",",["T_WHITESPACE"," ",42],["T_VARIABLE","$request",42],",",["T_WHITESPACE"," ",42],["T_STRING","HttpKernelInterface",42],["T_DOUBLE_COLON","::",42],["T_STRING","MASTER_REQUEST",42],")",";",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$firewall",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STRING","Firewall",44],"(",["T_VARIABLE","$map",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$dispatcher",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$firewall",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","onKernelRequest",45],"(",["T_VARIABLE","$event",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testOnKernelRequestStopsWhenThereIsAResponse",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$response",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","Response",50],"(",")",";",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$first",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getMockBuilder",52],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Http\\Firewall\\ListenerInterface'",52],")",["T_OBJECT_OPERATOR","->",52],["T_STRING","getMock",52],"(",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$first",53],["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","expects",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","once",54],"(",")",")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","method",55],"(",["T_CONSTANT_ENCAPSED_STRING","'handle'",55],")",["T_WHITESPACE","\n        ",55],";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$second",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMockBuilder",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Http\\Firewall\\ListenerInterface'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getMock",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$second",59],["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","expects",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","never",60],"(",")",")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","method",61],"(",["T_CONSTANT_ENCAPSED_STRING","'handle'",61],")",["T_WHITESPACE","\n        ",61],";",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$map",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMockBuilder",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Http\\FirewallMapInterface'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getMock",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$map",65],["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","expects",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","once",66],"(",")",")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","method",67],"(",["T_CONSTANT_ENCAPSED_STRING","'getListeners'",67],")",["T_WHITESPACE","\n            ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","will",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","returnValue",68],"(",["T_ARRAY","array",68],"(",["T_ARRAY","array",68],"(",["T_VARIABLE","$first",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$second",68],")",",",["T_WHITESPACE"," ",68],["T_STRING","null",68],")",")",")",["T_WHITESPACE","\n        ",68],";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$event",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMockBuilder",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\Event\\GetResponseEvent'",71],")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","setMethods",72],"(",["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'hasResponse'",72],")",")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","setConstructorArgs",73],"(",["T_ARRAY","array",73],"(",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockBuilder",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getMock",74],"(",")",",",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMockBuilder",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\Request'",75],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","disableOriginalConstructor",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","disableOriginalClone",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","getMock",75],"(",")",",",["T_WHITESPACE","\n                ",75],["T_STRING","HttpKernelInterface",76],["T_DOUBLE_COLON","::",76],["T_STRING","MASTER_REQUEST",76],",",["T_WHITESPACE","\n            ",76],")",")",["T_WHITESPACE","\n            ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMock",78],"(",")",["T_WHITESPACE","\n        ",78],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$event",80],["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","expects",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","once",81],"(",")",")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","method",82],"(",["T_CONSTANT_ENCAPSED_STRING","'hasResponse'",82],")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","will",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","returnValue",83],"(",["T_STRING","true",83],")",")",["T_WHITESPACE","\n        ",83],";",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$firewall",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","Firewall",86],"(",["T_VARIABLE","$map",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMockBuilder",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\EventDispatcher\\EventDispatcherInterface'",86],")",["T_OBJECT_OPERATOR","->",86],["T_STRING","getMock",86],"(",")",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$firewall",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","onKernelRequest",87],"(",["T_VARIABLE","$event",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","testOnKernelRequestWithSubRequest",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$map",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getMockBuilder",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Http\\FirewallMapInterface'",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","getMock",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$map",93],["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","expects",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","never",94],"(",")",")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","method",95],"(",["T_CONSTANT_ENCAPSED_STRING","'getListeners'",95],")",["T_WHITESPACE","\n        ",95],";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$event",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","GetResponseEvent",98],"(",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMockBuilder",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",99],")",["T_OBJECT_OPERATOR","->",99],["T_STRING","getMock",99],"(",")",",",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMockBuilder",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\Request'",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","getMock",100],"(",")",",",["T_WHITESPACE","\n            ",100],["T_STRING","HttpKernelInterface",101],["T_DOUBLE_COLON","::",101],["T_STRING","SUB_REQUEST",101],["T_WHITESPACE","\n        ",101],")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$firewall",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","Firewall",104],"(",["T_VARIABLE","$map",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMockBuilder",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\EventDispatcher\\EventDispatcherInterface'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getMock",104],"(",")",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$firewall",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","onKernelRequest",105],"(",["T_VARIABLE","$event",105],")",";",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertFalse",107],"(",["T_VARIABLE","$event",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","hasResponse",107],"(",")",")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n",108],"}",["T_WHITESPACE","\n",109]]