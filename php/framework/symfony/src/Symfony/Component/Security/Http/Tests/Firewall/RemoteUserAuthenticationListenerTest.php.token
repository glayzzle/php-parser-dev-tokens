[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Http",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Firewall",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Request",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Security",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Http",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Firewall",15],["T_NS_SEPARATOR","\\",15],["T_STRING","RemoteUserAuthenticationListener",15],";",["T_WHITESPACE","\n\n",15],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","RemoteUserAuthenticationListenerTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PHPUnit_Framework_TestCase",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","testGetPreAuthenticatedData",19],"(",")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$serverVars",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_WHITESPACE","\n            ",21],["T_CONSTANT_ENCAPSED_STRING","'REMOTE_USER'",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'TheUser'",22],",",["T_WHITESPACE","\n        ",22],")",";",["T_WHITESPACE","\n\n        ",23],["T_VARIABLE","$request",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_NEW","new",25],["T_WHITESPACE"," ",25],["T_STRING","Request",25],"(",["T_ARRAY","array",25],"(",")",",",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",")",",",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",")",",",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",")",",",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",")",",",["T_WHITESPACE"," ",25],["T_VARIABLE","$serverVars",25],")",";",["T_WHITESPACE","\n\n        ",25],["T_VARIABLE","$tokenStorage",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","getMockBuilder",27],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\Storage\\TokenStorageInterface'",27],")",["T_OBJECT_OPERATOR","->",27],["T_STRING","getMock",27],"(",")",";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$authenticationManager",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getMockBuilder",29],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\AuthenticationManagerInterface'",29],")",["T_OBJECT_OPERATOR","->",29],["T_STRING","getMock",29],"(",")",";",["T_WHITESPACE","\n\n        ",29],["T_VARIABLE","$listener",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_NEW","new",31],["T_WHITESPACE"," ",31],["T_STRING","RemoteUserAuthenticationListener",31],"(",["T_WHITESPACE","\n            ",31],["T_VARIABLE","$tokenStorage",32],",",["T_WHITESPACE","\n            ",32],["T_VARIABLE","$authenticationManager",33],",",["T_WHITESPACE","\n            ",33],["T_CONSTANT_ENCAPSED_STRING","'TheProviderKey'",34],["T_WHITESPACE","\n        ",34],")",";",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$method",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_NS_SEPARATOR","\\",37],["T_STRING","ReflectionMethod",37],"(",["T_VARIABLE","$listener",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'getPreAuthenticatedData'",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$method",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","setAccessible",38],"(",["T_STRING","true",38],")",";",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$result",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$method",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","invokeArgs",40],"(",["T_VARIABLE","$listener",40],",",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_VARIABLE","$request",40],")",")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertSame",41],"(",["T_VARIABLE","$result",41],",",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_CONSTANT_ENCAPSED_STRING","'TheUser'",41],",",["T_WHITESPACE"," ",41],["T_STRING","null",41],")",")",";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\Security\\Core\\Exception\\BadCredentialsException\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testGetPreAuthenticatedDataNoUser",47],"(",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$request",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_STRING","Request",49],"(",["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$tokenStorage",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMockBuilder",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\Storage\\TokenStorageInterface'",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","getMock",51],"(",")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$authenticationManager",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMockBuilder",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\AuthenticationManagerInterface'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","getMock",53],"(",")",";",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$listener",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","RemoteUserAuthenticationListener",55],"(",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$tokenStorage",56],",",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$authenticationManager",57],",",["T_WHITESPACE","\n            ",57],["T_CONSTANT_ENCAPSED_STRING","'TheProviderKey'",58],["T_WHITESPACE","\n        ",58],")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$method",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","ReflectionMethod",61],"(",["T_VARIABLE","$listener",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'getPreAuthenticatedData'",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$method",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setAccessible",62],"(",["T_STRING","true",62],")",";",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$result",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$method",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","invokeArgs",64],"(",["T_VARIABLE","$listener",64],",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_VARIABLE","$request",64],")",")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","testGetPreAuthenticatedDataWithDifferentKeys",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$userCredentials",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","'TheUser'",69],",",["T_WHITESPACE"," ",69],["T_STRING","null",69],")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$request",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_STRING","Request",71],"(",["T_ARRAY","array",71],"(",")",",",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",",",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",",",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",",",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",",",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",["T_WHITESPACE","\n            ",71],["T_CONSTANT_ENCAPSED_STRING","'TheUserKey'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'TheUser'",72],",",["T_WHITESPACE","\n        ",72],")",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$tokenStorage",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockBuilder",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\Storage\\TokenStorageInterface'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getMock",74],"(",")",";",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$authenticationManager",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getMockBuilder",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\AuthenticationManagerInterface'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getMock",76],"(",")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$listener",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","RemoteUserAuthenticationListener",78],"(",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$tokenStorage",79],",",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$authenticationManager",80],",",["T_WHITESPACE","\n            ",80],["T_CONSTANT_ENCAPSED_STRING","'TheProviderKey'",81],",",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'TheUserKey'",82],["T_WHITESPACE","\n        ",82],")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$method",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_NS_SEPARATOR","\\",85],["T_STRING","ReflectionMethod",85],"(",["T_VARIABLE","$listener",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'getPreAuthenticatedData'",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$method",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setAccessible",86],"(",["T_STRING","true",86],")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$result",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$method",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","invokeArgs",88],"(",["T_VARIABLE","$listener",88],",",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_VARIABLE","$request",88],")",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertSame",89],"(",["T_VARIABLE","$result",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$userCredentials",89],")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n",90],"}",["T_WHITESPACE","\n",91]]