[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Http",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RememberMe",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Security",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Http",14],["T_NS_SEPARATOR","\\",14],["T_STRING","RememberMe",14],["T_NS_SEPARATOR","\\",14],["T_STRING","RememberMeServicesInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Security",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","UsernameNotFoundException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Security",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Authentication",16],["T_NS_SEPARATOR","\\",16],["T_STRING","RememberMe",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PersistentToken",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpFoundation",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Request",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","HttpFoundation",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Response",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpFoundation",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ResponseHeaderBag",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Security",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Http",20],["T_NS_SEPARATOR","\\",20],["T_STRING","RememberMe",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PersistentTokenBasedRememberMeServices",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Security",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Core",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Exception",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TokenNotFoundException",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Security",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Core",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Exception",22],["T_NS_SEPARATOR","\\",22],["T_STRING","CookieTheftException",22],";",["T_WHITESPACE","\n\n",22],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","PersistentTokenBasedRememberMeServicesTest",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","PHPUnit_Framework_TestCase",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_STATIC","static",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUpBeforeClass",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_TRY","try",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n            ",28],["T_STRING","random_bytes",29],"(",["T_LNUMBER","1",29],")",";",["T_WHITESPACE","\n        ",29],"}",["T_WHITESPACE"," ",30],["T_CATCH","catch",30],["T_WHITESPACE"," ",30],"(",["T_NS_SEPARATOR","\\",30],["T_STRING","Exception",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$e",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n            ",30],["T_THROW","throw",31],["T_WHITESPACE"," ",31],["T_NEW","new",31],["T_WHITESPACE"," ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","PHPUnit_Framework_SkippedTestError",31],"(",["T_VARIABLE","$e",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getMessage",31],"(",")",")",";",["T_WHITESPACE","\n        ",31],"}",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","testAutoLoginReturnsNullWhenNoCookie",35],"(",")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$service",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getService",37],"(",["T_STRING","null",37],",",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'foo'",37],")",")",";",["T_WHITESPACE","\n\n        ",37],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertNull",39],"(",["T_VARIABLE","$service",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","autoLogin",39],"(",["T_NEW","new",39],["T_WHITESPACE"," ",39],["T_STRING","Request",39],"(",")",")",")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","testAutoLoginThrowsExceptionOnInvalidCookie",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$service",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getService",44],"(",["T_STRING","null",44],",",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'foo'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'path'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","null",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'domain'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","null",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'always_remember_me'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","false",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'remember_me_parameter'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'foo'",44],")",")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$request",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_STRING","Request",45],"(",")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$request",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","request",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","set",46],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'true'",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$request",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","cookies",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","set",47],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'foo'",47],")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertNull",49],"(",["T_VARIABLE","$service",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","autoLogin",49],"(",["T_VARIABLE","$request",49],")",")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertTrue",50],"(",["T_VARIABLE","$request",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","attributes",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_STRING","RememberMeServicesInterface",50],["T_DOUBLE_COLON","::",50],["T_STRING","COOKIE_ATTR_NAME",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","isCleared",50],"(",")",")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testAutoLoginThrowsExceptionOnNonExistentToken",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$service",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getService",55],"(",["T_STRING","null",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'foo'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'path'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","null",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'domain'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","null",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'always_remember_me'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","false",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'remember_me_parameter'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'foo'",55],")",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$request",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_STRING","Request",56],"(",")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$request",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","request",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","set",57],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'true'",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$request",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","cookies",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","set",58],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","encodeCookie",58],"(",["T_ARRAY","array",58],"(",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$series",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'fooseries'",59],",",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$tokenValue",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'foovalue'",60],",",["T_WHITESPACE","\n        ",60],")",")",")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$tokenProvider",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMockBuilder",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\RememberMe\\TokenProviderInterface'",63],")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getMock",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$tokenProvider",64],["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","expects",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","once",65],"(",")",")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","method",66],"(",["T_CONSTANT_ENCAPSED_STRING","'loadTokenBySeries'",66],")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","will",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","throwException",67],"(",["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_STRING","TokenNotFoundException",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Token not found.'",67],")",")",")",["T_WHITESPACE","\n        ",67],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$service",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setTokenProvider",69],"(",["T_VARIABLE","$tokenProvider",69],")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertNull",71],"(",["T_VARIABLE","$service",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","autoLogin",71],"(",["T_VARIABLE","$request",71],")",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertTrue",72],"(",["T_VARIABLE","$request",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","attributes",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","get",72],"(",["T_STRING","RememberMeServicesInterface",72],["T_DOUBLE_COLON","::",72],["T_STRING","COOKIE_ATTR_NAME",72],")",["T_OBJECT_OPERATOR","->",72],["T_STRING","isCleared",72],"(",")",")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","testAutoLoginReturnsNullOnNonExistentUser",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$userProvider",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getProvider",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$service",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getService",78],"(",["T_VARIABLE","$userProvider",78],",",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'foo'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'path'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","null",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'domain'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","null",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'always_remember_me'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","true",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'lifetime'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_LNUMBER","3600",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'secure'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","false",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'httponly'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","false",78],")",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$request",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","Request",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$request",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","cookies",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","set",80],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","encodeCookie",80],"(",["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'fooseries'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'foovalue'",80],")",")",")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$tokenProvider",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getMockBuilder",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\RememberMe\\TokenProviderInterface'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","getMock",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$tokenProvider",83],["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","expects",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","once",84],"(",")",")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","method",85],"(",["T_CONSTANT_ENCAPSED_STRING","'loadTokenBySeries'",85],")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","will",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","returnValue",86],"(",["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","PersistentToken",86],"(",["T_CONSTANT_ENCAPSED_STRING","'fooclass'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'fooname'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'fooseries'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'foovalue'",86],",",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","DateTime",86],"(",")",")",")",")",["T_WHITESPACE","\n        ",86],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$service",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setTokenProvider",88],"(",["T_VARIABLE","$tokenProvider",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$userProvider",90],["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","expects",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","once",91],"(",")",")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","method",92],"(",["T_CONSTANT_ENCAPSED_STRING","'loadUserByUsername'",92],")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","will",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","throwException",93],"(",["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","UsernameNotFoundException",93],"(",["T_CONSTANT_ENCAPSED_STRING","'user not found'",93],")",")",")",["T_WHITESPACE","\n        ",93],";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertNull",96],"(",["T_VARIABLE","$service",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","autoLogin",96],"(",["T_VARIABLE","$request",96],")",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertTrue",97],"(",["T_VARIABLE","$request",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","attributes",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","has",97],"(",["T_STRING","RememberMeServicesInterface",97],["T_DOUBLE_COLON","::",97],["T_STRING","COOKIE_ATTR_NAME",97],")",")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","testAutoLoginThrowsExceptionOnStolenCookieAndRemovesItFromThePersistentBackend",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$userProvider",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getProvider",102],"(",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$service",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getService",103],"(",["T_VARIABLE","$userProvider",103],",",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'foo'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'path'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","null",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'domain'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","null",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'always_remember_me'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","true",103],")",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$request",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","Request",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$request",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","cookies",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","set",105],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","encodeCookie",105],"(",["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'fooseries'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'foovalue'",105],")",")",")",";",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$tokenProvider",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMockBuilder",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\RememberMe\\TokenProviderInterface'",107],")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getMock",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$service",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setTokenProvider",108],"(",["T_VARIABLE","$tokenProvider",108],")",";",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$tokenProvider",110],["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","expects",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","once",111],"(",")",")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","method",112],"(",["T_CONSTANT_ENCAPSED_STRING","'loadTokenBySeries'",112],")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","will",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","returnValue",113],"(",["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","PersistentToken",113],"(",["T_CONSTANT_ENCAPSED_STRING","'fooclass'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'foouser'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'fooseries'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'anotherFooValue'",113],",",["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","DateTime",113],"(",")",")",")",")",["T_WHITESPACE","\n        ",113],";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$tokenProvider",116],["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","once",117],"(",")",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","method",118],"(",["T_CONSTANT_ENCAPSED_STRING","'deleteTokenBySeries'",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","with",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","equalTo",119],"(",["T_CONSTANT_ENCAPSED_STRING","'fooseries'",119],")",")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","will",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","returnValue",120],"(",["T_STRING","null",120],")",")",["T_WHITESPACE","\n        ",120],";",["T_WHITESPACE","\n\n        ",121],["T_TRY","try",123],["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$service",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","autoLogin",124],"(",["T_VARIABLE","$request",124],")",";",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","fail",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected CookieTheftException was not thrown.'",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE"," ",126],["T_CATCH","catch",126],["T_WHITESPACE"," ",126],"(",["T_STRING","CookieTheftException",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$e",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertTrue",129],"(",["T_VARIABLE","$request",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","attributes",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","has",129],"(",["T_STRING","RememberMeServicesInterface",129],["T_DOUBLE_COLON","::",129],["T_STRING","COOKIE_ATTR_NAME",129],")",")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","testAutoLoginDoesNotAcceptAnExpiredCookie",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$service",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getService",134],"(",["T_STRING","null",134],",",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'foo'",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'path'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","null",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'domain'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","null",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'always_remember_me'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","true",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'lifetime'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_LNUMBER","3600",134],")",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$request",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_NEW","new",135],["T_WHITESPACE"," ",135],["T_STRING","Request",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$request",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","cookies",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","set",136],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","encodeCookie",136],"(",["T_ARRAY","array",136],"(",["T_CONSTANT_ENCAPSED_STRING","'fooseries'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'foovalue'",136],")",")",")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$tokenProvider",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getMockBuilder",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\RememberMe\\TokenProviderInterface'",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","getMock",138],"(",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$tokenProvider",139],["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","expects",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","once",140],"(",")",")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","method",141],"(",["T_CONSTANT_ENCAPSED_STRING","'loadTokenBySeries'",141],")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","with",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","equalTo",142],"(",["T_CONSTANT_ENCAPSED_STRING","'fooseries'",142],")",")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","will",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","returnValue",143],"(",["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_STRING","PersistentToken",143],"(",["T_CONSTANT_ENCAPSED_STRING","'fooclass'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'username'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'fooseries'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'foovalue'",143],",",["T_WHITESPACE"," ",143],["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_NS_SEPARATOR","\\",143],["T_STRING","DateTime",143],"(",["T_CONSTANT_ENCAPSED_STRING","'yesterday'",143],")",")",")",")",["T_WHITESPACE","\n        ",143],";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$service",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setTokenProvider",145],"(",["T_VARIABLE","$tokenProvider",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertNull",147],"(",["T_VARIABLE","$service",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","autoLogin",147],"(",["T_VARIABLE","$request",147],")",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertTrue",148],"(",["T_VARIABLE","$request",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","attributes",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","has",148],"(",["T_STRING","RememberMeServicesInterface",148],["T_DOUBLE_COLON","::",148],["T_STRING","COOKIE_ATTR_NAME",148],")",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","testAutoLogin",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$user",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getMockBuilder",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserInterface'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","getMock",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$user",154],["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","expects",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","once",155],"(",")",")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","method",156],"(",["T_CONSTANT_ENCAPSED_STRING","'getRoles'",156],")",["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","will",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","returnValue",157],"(",["T_ARRAY","array",157],"(",["T_CONSTANT_ENCAPSED_STRING","'ROLE_FOO'",157],")",")",")",["T_WHITESPACE","\n        ",157],";",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$userProvider",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getProvider",160],"(",")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$userProvider",161],["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","expects",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","once",162],"(",")",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'loadUserByUsername'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","with",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","equalTo",164],"(",["T_CONSTANT_ENCAPSED_STRING","'foouser'",164],")",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","will",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","returnValue",165],"(",["T_VARIABLE","$user",165],")",")",["T_WHITESPACE","\n        ",165],";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$service",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getService",168],"(",["T_VARIABLE","$userProvider",168],",",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'foo'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'path'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","null",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'domain'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","null",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'secure'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","false",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'httponly'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","false",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'always_remember_me'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","true",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'lifetime'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_LNUMBER","3600",168],")",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$request",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","Request",169],"(",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$request",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","cookies",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","set",170],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","encodeCookie",170],"(",["T_ARRAY","array",170],"(",["T_CONSTANT_ENCAPSED_STRING","'fooseries'",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'foovalue'",170],")",")",")",";",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$tokenProvider",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMockBuilder",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\RememberMe\\TokenProviderInterface'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","getMock",172],"(",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$tokenProvider",173],["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","expects",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","once",174],"(",")",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","method",175],"(",["T_CONSTANT_ENCAPSED_STRING","'loadTokenBySeries'",175],")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","with",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","equalTo",176],"(",["T_CONSTANT_ENCAPSED_STRING","'fooseries'",176],")",")",["T_WHITESPACE","\n            ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","will",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","returnValue",177],"(",["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_STRING","PersistentToken",177],"(",["T_CONSTANT_ENCAPSED_STRING","'fooclass'",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'foouser'",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'fooseries'",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'foovalue'",177],",",["T_WHITESPACE"," ",177],["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_NS_SEPARATOR","\\",177],["T_STRING","DateTime",177],"(",")",")",")",")",["T_WHITESPACE","\n        ",177],";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$service",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","setTokenProvider",179],"(",["T_VARIABLE","$tokenProvider",179],")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$returnedToken",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$service",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","autoLogin",181],"(",["T_VARIABLE","$request",181],")",";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertInstanceOf",183],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\RememberMeToken'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$returnedToken",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertSame",184],"(",["T_VARIABLE","$user",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$returnedToken",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getUser",184],"(",")",")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertEquals",185],"(",["T_CONSTANT_ENCAPSED_STRING","'foosecret'",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$returnedToken",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getSecret",185],"(",")",")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertTrue",186],"(",["T_VARIABLE","$request",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","attributes",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","has",186],"(",["T_STRING","RememberMeServicesInterface",186],["T_DOUBLE_COLON","::",186],["T_STRING","COOKIE_ATTR_NAME",186],")",")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","testLogout",189],"(",")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$service",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getService",191],"(",["T_STRING","null",191],",",["T_WHITESPACE"," ",191],["T_ARRAY","array",191],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'foo'",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'path'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'\/foo'",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'domain'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'foodomain.foo'",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'secure'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_STRING","true",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'httponly'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_STRING","false",191],")",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$request",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_STRING","Request",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$request",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","cookies",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","set",193],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","encodeCookie",193],"(",["T_ARRAY","array",193],"(",["T_CONSTANT_ENCAPSED_STRING","'fooseries'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'foovalue'",193],")",")",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$response",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_NEW","new",194],["T_WHITESPACE"," ",194],["T_STRING","Response",194],"(",")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$token",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getMockBuilder",195],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\TokenInterface'",195],")",["T_OBJECT_OPERATOR","->",195],["T_STRING","getMock",195],"(",")",";",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$tokenProvider",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getMockBuilder",197],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\RememberMe\\TokenProviderInterface'",197],")",["T_OBJECT_OPERATOR","->",197],["T_STRING","getMock",197],"(",")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$tokenProvider",198],["T_WHITESPACE","\n            ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","expects",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","once",199],"(",")",")",["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","method",200],"(",["T_CONSTANT_ENCAPSED_STRING","'deleteTokenBySeries'",200],")",["T_WHITESPACE","\n            ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","with",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","equalTo",201],"(",["T_CONSTANT_ENCAPSED_STRING","'fooseries'",201],")",")",["T_WHITESPACE","\n            ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","will",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","returnValue",202],"(",["T_STRING","null",202],")",")",["T_WHITESPACE","\n        ",202],";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$service",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setTokenProvider",204],"(",["T_VARIABLE","$tokenProvider",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$service",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","logout",206],"(",["T_VARIABLE","$request",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$response",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$token",206],")",";",["T_WHITESPACE","\n\n        ",206],["T_VARIABLE","$cookie",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$request",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","attributes",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","get",208],"(",["T_STRING","RememberMeServicesInterface",208],["T_DOUBLE_COLON","::",208],["T_STRING","COOKIE_ATTR_NAME",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertTrue",209],"(",["T_VARIABLE","$cookie",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","isCleared",209],"(",")",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertEquals",210],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$cookie",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getPath",210],"(",")",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEquals",211],"(",["T_CONSTANT_ENCAPSED_STRING","'foodomain.foo'",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$cookie",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getDomain",211],"(",")",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertTrue",212],"(",["T_VARIABLE","$cookie",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","isSecure",212],"(",")",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertFalse",213],"(",["T_VARIABLE","$cookie",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","isHttpOnly",213],"(",")",")",";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","testLogoutSimplyIgnoresNonSetRequestCookie",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$service",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getService",218],"(",["T_STRING","null",218],",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'foo'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'path'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_STRING","null",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'domain'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_STRING","null",218],")",")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$request",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_NEW","new",219],["T_WHITESPACE"," ",219],["T_STRING","Request",219],"(",")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$response",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_STRING","Response",220],"(",")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$token",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getMockBuilder",221],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\TokenInterface'",221],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","getMock",221],"(",")",";",["T_WHITESPACE","\n\n        ",221],["T_VARIABLE","$tokenProvider",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getMockBuilder",223],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\RememberMe\\TokenProviderInterface'",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","getMock",223],"(",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$tokenProvider",224],["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","expects",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","never",225],"(",")",")",["T_WHITESPACE","\n            ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","method",226],"(",["T_CONSTANT_ENCAPSED_STRING","'deleteTokenBySeries'",226],")",["T_WHITESPACE","\n        ",226],";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$service",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setTokenProvider",228],"(",["T_VARIABLE","$tokenProvider",228],")",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$service",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","logout",230],"(",["T_VARIABLE","$request",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$response",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$token",230],")",";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$cookie",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$request",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","attributes",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","get",232],"(",["T_STRING","RememberMeServicesInterface",232],["T_DOUBLE_COLON","::",232],["T_STRING","COOKIE_ATTR_NAME",232],")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","assertTrue",233],"(",["T_VARIABLE","$cookie",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","isCleared",233],"(",")",")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertEquals",234],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$cookie",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getPath",234],"(",")",")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","assertNull",235],"(",["T_VARIABLE","$cookie",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getDomain",235],"(",")",")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","testLogoutSimplyIgnoresInvalidCookie",238],"(",")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$service",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getService",240],"(",["T_STRING","null",240],",",["T_WHITESPACE"," ",240],["T_ARRAY","array",240],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'foo'",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'path'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_STRING","null",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'domain'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_STRING","null",240],")",")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$request",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_STRING","Request",241],"(",")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$request",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","cookies",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","set",242],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",242],",",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'somefoovalue'",242],")",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$response",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_NEW","new",243],["T_WHITESPACE"," ",243],["T_STRING","Response",243],"(",")",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$token",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getMockBuilder",244],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\TokenInterface'",244],")",["T_OBJECT_OPERATOR","->",244],["T_STRING","getMock",244],"(",")",";",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$tokenProvider",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getMockBuilder",246],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\RememberMe\\TokenProviderInterface'",246],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","getMock",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$tokenProvider",247],["T_WHITESPACE","\n            ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","expects",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","never",248],"(",")",")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","method",249],"(",["T_CONSTANT_ENCAPSED_STRING","'deleteTokenBySeries'",249],")",["T_WHITESPACE","\n        ",249],";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$service",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","setTokenProvider",251],"(",["T_VARIABLE","$tokenProvider",251],")",";",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$service",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","logout",253],"(",["T_VARIABLE","$request",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$response",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$token",253],")",";",["T_WHITESPACE","\n\n        ",253],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","assertTrue",255],"(",["T_VARIABLE","$request",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","attributes",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","get",255],"(",["T_STRING","RememberMeServicesInterface",255],["T_DOUBLE_COLON","::",255],["T_STRING","COOKIE_ATTR_NAME",255],")",["T_OBJECT_OPERATOR","->",255],["T_STRING","isCleared",255],"(",")",")",";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","testLoginFail",258],"(",")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$service",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getService",260],"(",["T_STRING","null",260],",",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'foo'",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'path'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_STRING","null",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'domain'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_STRING","null",260],")",")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$request",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_NEW","new",261],["T_WHITESPACE"," ",261],["T_STRING","Request",261],"(",")",";",["T_WHITESPACE","\n\n        ",261],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertFalse",263],"(",["T_VARIABLE","$request",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","attributes",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","has",263],"(",["T_STRING","RememberMeServicesInterface",263],["T_DOUBLE_COLON","::",263],["T_STRING","COOKIE_ATTR_NAME",263],")",")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$service",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","loginFail",264],"(",["T_VARIABLE","$request",264],")",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertTrue",265],"(",["T_VARIABLE","$request",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","attributes",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","get",265],"(",["T_STRING","RememberMeServicesInterface",265],["T_DOUBLE_COLON","::",265],["T_STRING","COOKIE_ATTR_NAME",265],")",["T_OBJECT_OPERATOR","->",265],["T_STRING","isCleared",265],"(",")",")",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","testLoginSuccessSetsCookieWhenLoggedInWithNonRememberMeTokenInterfaceImplementation",268],"(",")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$service",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getService",270],"(",["T_STRING","null",270],",",["T_WHITESPACE"," ",270],["T_ARRAY","array",270],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'foo'",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'domain'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'myfoodomain.foo'",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'path'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/path'",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'secure'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_STRING","true",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'httponly'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_STRING","true",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'lifetime'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_LNUMBER","3600",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'always_remember_me'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_STRING","true",270],")",")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$request",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_NEW","new",271],["T_WHITESPACE"," ",271],["T_STRING","Request",271],"(",")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$response",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_NEW","new",272],["T_WHITESPACE"," ",272],["T_STRING","Response",272],"(",")",";",["T_WHITESPACE","\n\n        ",272],["T_VARIABLE","$account",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getMockBuilder",274],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserInterface'",274],")",["T_OBJECT_OPERATOR","->",274],["T_STRING","getMock",274],"(",")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$account",275],["T_WHITESPACE","\n            ",275],["T_OBJECT_OPERATOR","->",276],["T_STRING","expects",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","once",276],"(",")",")",["T_WHITESPACE","\n            ",276],["T_OBJECT_OPERATOR","->",277],["T_STRING","method",277],"(",["T_CONSTANT_ENCAPSED_STRING","'getUsername'",277],")",["T_WHITESPACE","\n            ",277],["T_OBJECT_OPERATOR","->",278],["T_STRING","will",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","returnValue",278],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",278],")",")",["T_WHITESPACE","\n        ",278],";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$token",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getMockBuilder",280],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\Token\\TokenInterface'",280],")",["T_OBJECT_OPERATOR","->",280],["T_STRING","getMock",280],"(",")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$token",281],["T_WHITESPACE","\n            ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","expects",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","any",282],"(",")",")",["T_WHITESPACE","\n            ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","method",283],"(",["T_CONSTANT_ENCAPSED_STRING","'getUser'",283],")",["T_WHITESPACE","\n            ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","will",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","returnValue",284],"(",["T_VARIABLE","$account",284],")",")",["T_WHITESPACE","\n        ",284],";",["T_WHITESPACE","\n\n        ",285],["T_VARIABLE","$tokenProvider",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getMockBuilder",287],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\Authentication\\RememberMe\\TokenProviderInterface'",287],")",["T_OBJECT_OPERATOR","->",287],["T_STRING","getMock",287],"(",")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$tokenProvider",288],["T_WHITESPACE","\n            ",288],["T_OBJECT_OPERATOR","->",289],["T_STRING","expects",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","once",289],"(",")",")",["T_WHITESPACE","\n            ",289],["T_OBJECT_OPERATOR","->",290],["T_STRING","method",290],"(",["T_CONSTANT_ENCAPSED_STRING","'createNewToken'",290],")",["T_WHITESPACE","\n        ",290],";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$service",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","setTokenProvider",292],"(",["T_VARIABLE","$tokenProvider",292],")",";",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$cookies",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$response",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","headers",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getCookies",294],"(",")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","assertCount",295],"(",["T_LNUMBER","0",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$cookies",295],")",";",["T_WHITESPACE","\n\n        ",295],["T_VARIABLE","$service",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","loginSuccess",297],"(",["T_VARIABLE","$request",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$response",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$token",297],")",";",["T_WHITESPACE","\n\n        ",297],["T_VARIABLE","$cookies",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$response",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","headers",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getCookies",299],"(",["T_STRING","ResponseHeaderBag",299],["T_DOUBLE_COLON","::",299],["T_STRING","COOKIES_ARRAY",299],")",";",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$cookie",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$cookies",300],"[",["T_CONSTANT_ENCAPSED_STRING","'myfoodomain.foo'",300],"]","[",["T_CONSTANT_ENCAPSED_STRING","'\/foo\/path'",300],"]","[",["T_CONSTANT_ENCAPSED_STRING","'foo'",300],"]",";",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","assertFalse",301],"(",["T_VARIABLE","$cookie",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","isCleared",301],"(",")",")",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","assertTrue",302],"(",["T_VARIABLE","$cookie",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","isSecure",302],"(",")",")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","assertTrue",303],"(",["T_VARIABLE","$cookie",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","isHttpOnly",303],"(",")",")",";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertTrue",304],"(",["T_VARIABLE","$cookie",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getExpiresTime",304],"(",")",["T_WHITESPACE"," ",304],">",["T_WHITESPACE"," ",304],["T_STRING","time",304],"(",")",["T_WHITESPACE"," ",304],"+",["T_WHITESPACE"," ",304],["T_LNUMBER","3590",304],["T_WHITESPACE"," ",304],["T_BOOLEAN_AND","&&",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$cookie",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getExpiresTime",304],"(",")",["T_WHITESPACE"," ",304],"<",["T_WHITESPACE"," ",304],["T_STRING","time",304],"(",")",["T_WHITESPACE"," ",304],"+",["T_WHITESPACE"," ",304],["T_LNUMBER","3610",304],")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertEquals",305],"(",["T_CONSTANT_ENCAPSED_STRING","'myfoodomain.foo'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$cookie",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getDomain",305],"(",")",")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","assertEquals",306],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo\/path'",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$cookie",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getPath",306],"(",")",")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_PROTECTED","protected",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","encodeCookie",309],"(",["T_ARRAY","array",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$parts",309],")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$service",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getService",311],"(",")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$r",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_NEW","new",312],["T_WHITESPACE"," ",312],["T_NS_SEPARATOR","\\",312],["T_STRING","ReflectionMethod",312],"(",["T_VARIABLE","$service",312],",",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'encodeCookie'",312],")",";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$r",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","setAccessible",313],"(",["T_STRING","true",313],")",";",["T_WHITESPACE","\n\n        ",313],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$r",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","invoke",315],"(",["T_VARIABLE","$service",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$parts",315],")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_PROTECTED","protected",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","getService",318],"(",["T_VARIABLE","$userProvider",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","null",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$options",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",")",",",["T_WHITESPACE"," ",318],["T_VARIABLE","$logger",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","null",318],")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_STRING","null",320],["T_WHITESPACE"," ",320],["T_IS_IDENTICAL","===",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$userProvider",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_VARIABLE","$userProvider",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getProvider",321],"(",")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n\n        ",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_NEW","new",324],["T_WHITESPACE"," ",324],["T_STRING","PersistentTokenBasedRememberMeServices",324],"(",["T_ARRAY","array",324],"(",["T_VARIABLE","$userProvider",324],")",",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'foosecret'",324],",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'fookey'",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$options",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$logger",324],")",";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_PROTECTED","protected",327],["T_WHITESPACE"," ",327],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","getProvider",327],"(",")",["T_WHITESPACE","\n    ",327],"{",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$provider",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getMockBuilder",329],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Security\\Core\\User\\UserProviderInterface'",329],")",["T_OBJECT_OPERATOR","->",329],["T_STRING","getMock",329],"(",")",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$provider",330],["T_WHITESPACE","\n            ",330],["T_OBJECT_OPERATOR","->",331],["T_STRING","expects",331],"(",["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","any",331],"(",")",")",["T_WHITESPACE","\n            ",331],["T_OBJECT_OPERATOR","->",332],["T_STRING","method",332],"(",["T_CONSTANT_ENCAPSED_STRING","'supportsClass'",332],")",["T_WHITESPACE","\n            ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","will",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","returnValue",333],"(",["T_STRING","true",333],")",")",["T_WHITESPACE","\n        ",333],";",["T_WHITESPACE","\n\n        ",334],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$provider",336],";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n",337],"}",["T_WHITESPACE","\n",338]]