[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CssSelector",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Parser",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CssSelector",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SyntaxErrorException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","CssSelector",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Node",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","CssSelector",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Parser",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Tokenizer",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Tokenizer",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * CSS selector parser.\n *\n * This component is a port of the Python cssselect library,\n * which is copyright Ian Bicking, @see https:\/\/github.com\/SimonSapin\/cssselect.\n *\n * @author Jean-Fran\u00c3\u00a7ois Simon <jeanfrancois.simon@sensiolabs.com>\n *\n * @internal\n *\/",18],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Parser",28],["T_WHITESPACE"," ",28],["T_IMPLEMENTS","implements",28],["T_WHITESPACE"," ",28],["T_STRING","ParserInterface",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_DOC_COMMENT","\/**\n     * @var Tokenizer\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$tokenizer",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param null|Tokenizer $tokenizer\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_STRING","Tokenizer",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$tokenizer",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","null",40],")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","tokenizer",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$tokenizer",42],["T_WHITESPACE"," ",42],"?",":",["T_WHITESPACE"," ",42],["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_STRING","Tokenizer",42],"(",")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","parse",48],"(",["T_VARIABLE","$source",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$reader",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","Reader",50],"(",["T_VARIABLE","$source",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$stream",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","tokenizer",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","tokenize",51],"(",["T_VARIABLE","$reader",51],")",";",["T_WHITESPACE","\n\n        ",51],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","parseSelectorList",53],"(",["T_VARIABLE","$stream",53],")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Parses the arguments for \":nth-child()\" and friends.\n     *\n     * @param Token[] $tokens\n     *\n     * @return array\n     *\n     * @throws SyntaxErrorException\n     *\/",56],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_STATIC","static",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","parseSeries",65],"(",["T_ARRAY","array",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$tokens",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_FOREACH","foreach",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$tokens",67],["T_WHITESPACE"," ",67],["T_AS","as",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$token",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$token",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","isString",68],"(",")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n                ",68],["T_THROW","throw",69],["T_WHITESPACE"," ",69],["T_STRING","SyntaxErrorException",69],["T_DOUBLE_COLON","::",69],["T_STRING","stringAsFunctionArgument",69],"(",")",";",["T_WHITESPACE","\n            ",69],"}",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$joined",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","trim",73],"(",["T_STRING","implode",73],"(",["T_CONSTANT_ENCAPSED_STRING","''",73],",",["T_WHITESPACE"," ",73],["T_STRING","array_map",73],"(",["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],"(",["T_STRING","Token",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$token",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$token",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getValue",74],"(",")",";",["T_WHITESPACE","\n        ",74],"}",",",["T_WHITESPACE"," ",75],["T_VARIABLE","$tokens",75],")",")",")",";",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$int",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$string",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_STRING","is_numeric",78],"(",["T_VARIABLE","$string",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_THROW","throw",79],["T_WHITESPACE"," ",79],["T_STRING","SyntaxErrorException",79],["T_DOUBLE_COLON","::",79],["T_STRING","stringAsFunctionArgument",79],"(",")",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n\n            ",80],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_INT_CAST","(int)",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$string",82],";",["T_WHITESPACE","\n        ",82],"}",";",["T_WHITESPACE","\n\n        ",83],["T_SWITCH","switch",85],["T_WHITESPACE"," ",85],"(",["T_STRING","true",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_CASE","case",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'odd'",86],["T_WHITESPACE"," ",86],["T_IS_IDENTICAL","===",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$joined",86],":",["T_WHITESPACE","\n                ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_LNUMBER","2",87],",",["T_WHITESPACE"," ",87],["T_LNUMBER","1",87],")",";",["T_WHITESPACE","\n            ",87],["T_CASE","case",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'even'",88],["T_WHITESPACE"," ",88],["T_IS_IDENTICAL","===",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$joined",88],":",["T_WHITESPACE","\n                ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_LNUMBER","2",89],",",["T_WHITESPACE"," ",89],["T_LNUMBER","0",89],")",";",["T_WHITESPACE","\n            ",89],["T_CASE","case",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'n'",90],["T_WHITESPACE"," ",90],["T_IS_IDENTICAL","===",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$joined",90],":",["T_WHITESPACE","\n                ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_LNUMBER","1",91],",",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],")",";",["T_WHITESPACE","\n            ",91],["T_CASE","case",92],["T_WHITESPACE"," ",92],["T_STRING","false",92],["T_WHITESPACE"," ",92],["T_IS_IDENTICAL","===",92],["T_WHITESPACE"," ",92],["T_STRING","strpos",92],"(",["T_VARIABLE","$joined",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'n'",92],")",":",["T_WHITESPACE","\n                ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_LNUMBER","0",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$int",93],"(",["T_VARIABLE","$joined",93],")",")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$split",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","explode",96],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$joined",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$first",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ISSET","isset",97],"(",["T_VARIABLE","$split",97],"[",["T_LNUMBER","0",97],"]",")",["T_WHITESPACE"," ",97],"?",["T_WHITESPACE"," ",97],["T_VARIABLE","$split",97],"[",["T_LNUMBER","0",97],"]",["T_WHITESPACE"," ",97],":",["T_WHITESPACE"," ",97],["T_STRING","null",97],";",["T_WHITESPACE","\n\n        ",97],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$first",100],["T_WHITESPACE"," ",100],"?",["T_WHITESPACE"," ",100],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",100],["T_WHITESPACE"," ",100],["T_IS_IDENTICAL","===",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$first",100],["T_WHITESPACE"," ",100],["T_BOOLEAN_OR","||",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'+'",100],["T_WHITESPACE"," ",100],["T_IS_IDENTICAL","===",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$first",100],["T_WHITESPACE"," ",100],"?",["T_WHITESPACE"," ",100],["T_VARIABLE","$int",100],"(",["T_VARIABLE","$first",100],".",["T_CONSTANT_ENCAPSED_STRING","'1'",100],")",["T_WHITESPACE"," ",100],":",["T_WHITESPACE"," ",100],["T_VARIABLE","$int",100],"(",["T_VARIABLE","$first",100],")",")",["T_WHITESPACE"," ",100],":",["T_WHITESPACE"," ",100],["T_LNUMBER","1",100],",",["T_WHITESPACE","\n            ",100],["T_ISSET","isset",101],"(",["T_VARIABLE","$split",101],"[",["T_LNUMBER","1",101],"]",")",["T_WHITESPACE"," ",101],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$split",101],"[",["T_LNUMBER","1",101],"]",["T_WHITESPACE"," ",101],"?",["T_WHITESPACE"," ",101],["T_VARIABLE","$int",101],"(",["T_VARIABLE","$split",101],"[",["T_LNUMBER","1",101],"]",")",["T_WHITESPACE"," ",101],":",["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],",",["T_WHITESPACE","\n        ",101],")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Parses selector nodes.\n     *\n     * @param TokenStream $stream\n     *\n     * @return array\n     *\/",105],["T_WHITESPACE","\n    ",111],["T_PRIVATE","private",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","parseSelectorList",112],"(",["T_STRING","TokenStream",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$stream",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$stream",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","skipWhitespace",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$selectors",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",";",["T_WHITESPACE","\n\n        ",115],["T_WHILE","while",117],["T_WHITESPACE"," ",117],"(",["T_STRING","true",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$selectors",118],"[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","parserSelectorNode",118],"(",["T_VARIABLE","$stream",118],")",";",["T_WHITESPACE","\n\n            ",118],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$stream",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getPeek",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","isDelimiter",120],"(",["T_ARRAY","array",120],"(",["T_CONSTANT_ENCAPSED_STRING","','",120],")",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_VARIABLE","$stream",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getNext",121],"(",")",";",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$stream",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","skipWhitespace",122],"(",")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE"," ",123],["T_ELSE","else",123],["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_BREAK","break",124],";",["T_WHITESPACE","\n            ",124],"}",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$selectors",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Parses next selector or combined node.\n     *\n     * @param TokenStream $stream\n     *\n     * @return Node\\SelectorNode\n     *\n     * @throws SyntaxErrorException\n     *\/",131],["T_WHITESPACE","\n    ",139],["T_PRIVATE","private",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","parserSelectorNode",140],"(",["T_STRING","TokenStream",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$stream",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_LIST","list",142],"(",["T_VARIABLE","$result",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$pseudoElement",142],")",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","parseSimpleSelector",142],"(",["T_VARIABLE","$stream",142],")",";",["T_WHITESPACE","\n\n        ",142],["T_WHILE","while",144],["T_WHITESPACE"," ",144],"(",["T_STRING","true",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$stream",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","skipWhitespace",145],"(",")",";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$peek",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$stream",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getPeek",146],"(",")",";",["T_WHITESPACE","\n\n            ",146],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$peek",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","isFileEnd",148],"(",")",["T_WHITESPACE"," ",148],["T_BOOLEAN_OR","||",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$peek",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","isDelimiter",148],"(",["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","','",148],")",")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                ",148],["T_BREAK","break",149],";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n\n            ",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_STRING","null",152],["T_WHITESPACE"," ",152],["T_IS_NOT_IDENTICAL","!==",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$pseudoElement",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_THROW","throw",153],["T_WHITESPACE"," ",153],["T_STRING","SyntaxErrorException",153],["T_DOUBLE_COLON","::",153],["T_STRING","pseudoElementFound",153],"(",["T_VARIABLE","$pseudoElement",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'not at the end of a selector'",153],")",";",["T_WHITESPACE","\n            ",153],"}",["T_WHITESPACE","\n\n            ",154],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$peek",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","isDelimiter",156],"(",["T_ARRAY","array",156],"(",["T_CONSTANT_ENCAPSED_STRING","'+'",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'>'",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'~'",156],")",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$combinator",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$stream",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getNext",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","getValue",157],"(",")",";",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$stream",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","skipWhitespace",158],"(",")",";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE"," ",159],["T_ELSE","else",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$combinator",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","' '",160],";",["T_WHITESPACE","\n            ",160],"}",["T_WHITESPACE","\n\n            ",161],["T_LIST","list",163],"(",["T_VARIABLE","$nextSelector",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$pseudoElement",163],")",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","parseSimpleSelector",163],"(",["T_VARIABLE","$stream",163],")",";",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$result",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_NEW","new",164],["T_WHITESPACE"," ",164],["T_STRING","Node",164],["T_NS_SEPARATOR","\\",164],["T_STRING","CombinedSelectorNode",164],"(",["T_VARIABLE","$result",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$combinator",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$nextSelector",164],")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n\n        ",165],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","Node",167],["T_NS_SEPARATOR","\\",167],["T_STRING","SelectorNode",167],"(",["T_VARIABLE","$result",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$pseudoElement",167],")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Parses next simple node (hash, class, pseudo, negation).\n     *\n     * @param TokenStream $stream\n     * @param bool        $insideNegation\n     *\n     * @return array\n     *\n     * @throws SyntaxErrorException\n     *\/",170],["T_WHITESPACE","\n    ",179],["T_PRIVATE","private",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","parseSimpleSelector",180],"(",["T_STRING","TokenStream",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$stream",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$insideNegation",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","false",180],")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$stream",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","skipWhitespace",182],"(",")",";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$selectorStart",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","count",184],"(",["T_VARIABLE","$stream",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getUsed",184],"(",")",")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$result",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","parseElementNode",185],"(",["T_VARIABLE","$stream",185],")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$pseudoElement",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","null",186],";",["T_WHITESPACE","\n\n        ",186],["T_WHILE","while",188],["T_WHITESPACE"," ",188],"(",["T_STRING","true",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$peek",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$stream",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getPeek",189],"(",")",";",["T_WHITESPACE","\n            ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$peek",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","isWhitespace",190],"(",")",["T_WHITESPACE","\n                ",190],["T_BOOLEAN_OR","||",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$peek",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","isFileEnd",191],"(",")",["T_WHITESPACE","\n                ",191],["T_BOOLEAN_OR","||",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$peek",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","isDelimiter",192],"(",["T_ARRAY","array",192],"(",["T_CONSTANT_ENCAPSED_STRING","','",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'+'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'>'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'~'",192],")",")",["T_WHITESPACE","\n                ",192],["T_BOOLEAN_OR","||",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$insideNegation",193],["T_WHITESPACE"," ",193],["T_BOOLEAN_AND","&&",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$peek",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","isDelimiter",193],"(",["T_ARRAY","array",193],"(",["T_CONSTANT_ENCAPSED_STRING","')'",193],")",")",")",["T_WHITESPACE","\n            ",193],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_BREAK","break",195],";",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE","\n\n            ",196],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_STRING","null",198],["T_WHITESPACE"," ",198],["T_IS_NOT_IDENTICAL","!==",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$pseudoElement",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                ",198],["T_THROW","throw",199],["T_WHITESPACE"," ",199],["T_STRING","SyntaxErrorException",199],["T_DOUBLE_COLON","::",199],["T_STRING","pseudoElementFound",199],"(",["T_VARIABLE","$pseudoElement",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'not at the end of a selector'",199],")",";",["T_WHITESPACE","\n            ",199],"}",["T_WHITESPACE","\n\n            ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$peek",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","isHash",202],"(",")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$result",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_NEW","new",203],["T_WHITESPACE"," ",203],["T_STRING","Node",203],["T_NS_SEPARATOR","\\",203],["T_STRING","HashNode",203],"(",["T_VARIABLE","$result",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$stream",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getNext",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getValue",203],"(",")",")",";",["T_WHITESPACE","\n            ",203],"}",["T_WHITESPACE"," ",204],["T_ELSEIF","elseif",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$peek",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","isDelimiter",204],"(",["T_ARRAY","array",204],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",204],")",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$stream",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getNext",205],"(",")",";",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$result",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_NEW","new",206],["T_WHITESPACE"," ",206],["T_STRING","Node",206],["T_NS_SEPARATOR","\\",206],["T_STRING","ClassNode",206],"(",["T_VARIABLE","$result",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$stream",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getNextIdentifier",206],"(",")",")",";",["T_WHITESPACE","\n            ",206],"}",["T_WHITESPACE"," ",207],["T_ELSEIF","elseif",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$peek",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","isDelimiter",207],"(",["T_ARRAY","array",207],"(",["T_CONSTANT_ENCAPSED_STRING","'['",207],")",")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$stream",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getNext",208],"(",")",";",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$result",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","parseAttributeNode",209],"(",["T_VARIABLE","$result",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$stream",209],")",";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE"," ",210],["T_ELSEIF","elseif",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$peek",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","isDelimiter",210],"(",["T_ARRAY","array",210],"(",["T_CONSTANT_ENCAPSED_STRING","':'",210],")",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$stream",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getNext",211],"(",")",";",["T_WHITESPACE","\n\n                ",211],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$stream",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getPeek",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","isDelimiter",213],"(",["T_ARRAY","array",213],"(",["T_CONSTANT_ENCAPSED_STRING","':'",213],")",")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                    ",213],["T_VARIABLE","$stream",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getNext",214],"(",")",";",["T_WHITESPACE","\n                    ",214],["T_VARIABLE","$pseudoElement",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$stream",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getNextIdentifier",215],"(",")",";",["T_WHITESPACE","\n\n                    ",215],["T_CONTINUE","continue",217],";",["T_WHITESPACE","\n                ",217],"}",["T_WHITESPACE","\n\n                ",218],["T_VARIABLE","$identifier",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$stream",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getNextIdentifier",220],"(",")",";",["T_WHITESPACE","\n                ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_STRING","in_array",221],"(",["T_STRING","strtolower",221],"(",["T_VARIABLE","$identifier",221],")",",",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_CONSTANT_ENCAPSED_STRING","'first-line'",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'first-letter'",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'before'",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'after'",221],")",")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                    ",221],["T_COMMENT","\/\/ Special case: CSS 2.1 pseudo-elements can have a single ':'.\n",222],["T_WHITESPACE","                    ",223],["T_COMMENT","\/\/ Any new pseudo-element must have two.\n",223],["T_WHITESPACE","                    ",224],["T_VARIABLE","$pseudoElement",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$identifier",224],";",["T_WHITESPACE","\n\n                    ",224],["T_CONTINUE","continue",226],";",["T_WHITESPACE","\n                ",226],"}",["T_WHITESPACE","\n\n                ",227],["T_IF","if",229],["T_WHITESPACE"," ",229],"(","!",["T_VARIABLE","$stream",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getPeek",229],"(",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","isDelimiter",229],"(",["T_ARRAY","array",229],"(",["T_CONSTANT_ENCAPSED_STRING","'('",229],")",")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n                    ",229],["T_VARIABLE","$result",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_NEW","new",230],["T_WHITESPACE"," ",230],["T_STRING","Node",230],["T_NS_SEPARATOR","\\",230],["T_STRING","PseudoNode",230],"(",["T_VARIABLE","$result",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$identifier",230],")",";",["T_WHITESPACE","\n\n                    ",230],["T_CONTINUE","continue",232],";",["T_WHITESPACE","\n                ",232],"}",["T_WHITESPACE","\n\n                ",233],["T_VARIABLE","$stream",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getNext",235],"(",")",";",["T_WHITESPACE","\n                ",235],["T_VARIABLE","$stream",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","skipWhitespace",236],"(",")",";",["T_WHITESPACE","\n\n                ",236],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_CONSTANT_ENCAPSED_STRING","'not'",238],["T_WHITESPACE"," ",238],["T_IS_IDENTICAL","===",238],["T_WHITESPACE"," ",238],["T_STRING","strtolower",238],"(",["T_VARIABLE","$identifier",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                    ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$insideNegation",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                        ",239],["T_THROW","throw",240],["T_WHITESPACE"," ",240],["T_STRING","SyntaxErrorException",240],["T_DOUBLE_COLON","::",240],["T_STRING","nestedNot",240],"(",")",";",["T_WHITESPACE","\n                    ",240],"}",["T_WHITESPACE","\n\n                    ",241],["T_LIST","list",243],"(",["T_VARIABLE","$argument",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$argumentPseudoElement",243],")",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","parseSimpleSelector",243],"(",["T_VARIABLE","$stream",243],",",["T_WHITESPACE"," ",243],["T_STRING","true",243],")",";",["T_WHITESPACE","\n                    ",243],["T_VARIABLE","$next",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$stream",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getNext",244],"(",")",";",["T_WHITESPACE","\n\n                    ",244],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_STRING","null",246],["T_WHITESPACE"," ",246],["T_IS_NOT_IDENTICAL","!==",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$argumentPseudoElement",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                        ",246],["T_THROW","throw",247],["T_WHITESPACE"," ",247],["T_STRING","SyntaxErrorException",247],["T_DOUBLE_COLON","::",247],["T_STRING","pseudoElementFound",247],"(",["T_VARIABLE","$argumentPseudoElement",247],",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'inside ::not()'",247],")",";",["T_WHITESPACE","\n                    ",247],"}",["T_WHITESPACE","\n\n                    ",248],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!",["T_VARIABLE","$next",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","isDelimiter",250],"(",["T_ARRAY","array",250],"(",["T_CONSTANT_ENCAPSED_STRING","')'",250],")",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n                        ",250],["T_THROW","throw",251],["T_WHITESPACE"," ",251],["T_STRING","SyntaxErrorException",251],["T_DOUBLE_COLON","::",251],["T_STRING","unexpectedToken",251],"(",["T_CONSTANT_ENCAPSED_STRING","'\")\"'",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$next",251],")",";",["T_WHITESPACE","\n                    ",251],"}",["T_WHITESPACE","\n\n                    ",252],["T_VARIABLE","$result",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_NEW","new",254],["T_WHITESPACE"," ",254],["T_STRING","Node",254],["T_NS_SEPARATOR","\\",254],["T_STRING","NegationNode",254],"(",["T_VARIABLE","$result",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$argument",254],")",";",["T_WHITESPACE","\n                ",254],"}",["T_WHITESPACE"," ",255],["T_ELSE","else",255],["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                    ",255],["T_VARIABLE","$arguments",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",")",";",["T_WHITESPACE","\n                    ",256],["T_VARIABLE","$next",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","null",257],";",["T_WHITESPACE","\n\n                    ",257],["T_WHILE","while",259],["T_WHITESPACE"," ",259],"(",["T_STRING","true",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                        ",259],["T_VARIABLE","$stream",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","skipWhitespace",260],"(",")",";",["T_WHITESPACE","\n                        ",260],["T_VARIABLE","$next",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$stream",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getNext",261],"(",")",";",["T_WHITESPACE","\n\n                        ",261],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$next",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","isIdentifier",263],"(",")",["T_WHITESPACE","\n                            ",263],["T_BOOLEAN_OR","||",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$next",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","isString",264],"(",")",["T_WHITESPACE","\n                            ",264],["T_BOOLEAN_OR","||",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$next",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","isNumber",265],"(",")",["T_WHITESPACE","\n                            ",265],["T_BOOLEAN_OR","||",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$next",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","isDelimiter",266],"(",["T_ARRAY","array",266],"(",["T_CONSTANT_ENCAPSED_STRING","'+'",266],",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'-'",266],")",")",["T_WHITESPACE","\n                        ",266],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n                            ",267],["T_VARIABLE","$arguments",268],"[","]",["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$next",268],";",["T_WHITESPACE","\n                        ",268],"}",["T_WHITESPACE"," ",269],["T_ELSEIF","elseif",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$next",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","isDelimiter",269],"(",["T_ARRAY","array",269],"(",["T_CONSTANT_ENCAPSED_STRING","')'",269],")",")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n                            ",269],["T_BREAK","break",270],";",["T_WHITESPACE","\n                        ",270],"}",["T_WHITESPACE"," ",271],["T_ELSE","else",271],["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n                            ",271],["T_THROW","throw",272],["T_WHITESPACE"," ",272],["T_STRING","SyntaxErrorException",272],["T_DOUBLE_COLON","::",272],["T_STRING","unexpectedToken",272],"(",["T_CONSTANT_ENCAPSED_STRING","'an argument'",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$next",272],")",";",["T_WHITESPACE","\n                        ",272],"}",["T_WHITESPACE","\n                    ",273],"}",["T_WHITESPACE","\n\n                    ",274],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_EMPTY","empty",276],"(",["T_VARIABLE","$arguments",276],")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n                        ",276],["T_THROW","throw",277],["T_WHITESPACE"," ",277],["T_STRING","SyntaxErrorException",277],["T_DOUBLE_COLON","::",277],["T_STRING","unexpectedToken",277],"(",["T_CONSTANT_ENCAPSED_STRING","'at least one argument'",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$next",277],")",";",["T_WHITESPACE","\n                    ",277],"}",["T_WHITESPACE","\n\n                    ",278],["T_VARIABLE","$result",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_NEW","new",280],["T_WHITESPACE"," ",280],["T_STRING","Node",280],["T_NS_SEPARATOR","\\",280],["T_STRING","FunctionNode",280],"(",["T_VARIABLE","$result",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$identifier",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$arguments",280],")",";",["T_WHITESPACE","\n                ",280],"}",["T_WHITESPACE","\n            ",281],"}",["T_WHITESPACE"," ",282],["T_ELSE","else",282],["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                ",282],["T_THROW","throw",283],["T_WHITESPACE"," ",283],["T_STRING","SyntaxErrorException",283],["T_DOUBLE_COLON","::",283],["T_STRING","unexpectedToken",283],"(",["T_CONSTANT_ENCAPSED_STRING","'selector'",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$peek",283],")",";",["T_WHITESPACE","\n            ",283],"}",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_STRING","count",287],"(",["T_VARIABLE","$stream",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getUsed",287],"(",")",")",["T_WHITESPACE"," ",287],["T_IS_IDENTICAL","===",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$selectorStart",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_THROW","throw",288],["T_WHITESPACE"," ",288],["T_STRING","SyntaxErrorException",288],["T_DOUBLE_COLON","::",288],["T_STRING","unexpectedToken",288],"(",["T_CONSTANT_ENCAPSED_STRING","'selector'",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$stream",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getPeek",288],"(",")",")",";",["T_WHITESPACE","\n        ",288],"}",["T_WHITESPACE","\n\n        ",289],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_ARRAY","array",291],"(",["T_VARIABLE","$result",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$pseudoElement",291],")",";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Parses next element node.\n     *\n     * @param TokenStream $stream\n     *\n     * @return Node\\ElementNode\n     *\/",294],["T_WHITESPACE","\n    ",300],["T_PRIVATE","private",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","parseElementNode",301],"(",["T_STRING","TokenStream",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$stream",301],")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$peek",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$stream",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getPeek",303],"(",")",";",["T_WHITESPACE","\n\n        ",303],["T_IF","if",305],["T_WHITESPACE"," ",305],"(",["T_VARIABLE","$peek",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","isIdentifier",305],"(",")",["T_WHITESPACE"," ",305],["T_BOOLEAN_OR","||",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$peek",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","isDelimiter",305],"(",["T_ARRAY","array",305],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",305],")",")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$peek",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","isIdentifier",306],"(",")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                ",306],["T_VARIABLE","$namespace",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$stream",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getNext",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","getValue",307],"(",")",";",["T_WHITESPACE","\n            ",307],"}",["T_WHITESPACE"," ",308],["T_ELSE","else",308],["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                ",308],["T_VARIABLE","$stream",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getNext",309],"(",")",";",["T_WHITESPACE","\n                ",309],["T_VARIABLE","$namespace",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_STRING","null",310],";",["T_WHITESPACE","\n            ",310],"}",["T_WHITESPACE","\n\n            ",311],["T_IF","if",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$stream",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getPeek",313],"(",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","isDelimiter",313],"(",["T_ARRAY","array",313],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",313],")",")",")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n                ",313],["T_VARIABLE","$stream",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getNext",314],"(",")",";",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$element",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$stream",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getNextIdentifierOrStar",315],"(",")",";",["T_WHITESPACE","\n            ",315],"}",["T_WHITESPACE"," ",316],["T_ELSE","else",316],["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                ",316],["T_VARIABLE","$element",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$namespace",317],";",["T_WHITESPACE","\n                ",317],["T_VARIABLE","$namespace",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","null",318],";",["T_WHITESPACE","\n            ",318],"}",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE"," ",320],["T_ELSE","else",320],["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_VARIABLE","$element",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$namespace",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","null",321],";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n\n        ",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_NEW","new",324],["T_WHITESPACE"," ",324],["T_STRING","Node",324],["T_NS_SEPARATOR","\\",324],["T_STRING","ElementNode",324],"(",["T_VARIABLE","$namespace",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$element",324],")",";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Parses next attribute node.\n     *\n     * @param Node\\NodeInterface $selector\n     * @param TokenStream        $stream\n     *\n     * @return Node\\AttributeNode\n     *\n     * @throws SyntaxErrorException\n     *\/",327],["T_WHITESPACE","\n    ",336],["T_PRIVATE","private",337],["T_WHITESPACE"," ",337],["T_FUNCTION","function",337],["T_WHITESPACE"," ",337],["T_STRING","parseAttributeNode",337],"(",["T_STRING","Node",337],["T_NS_SEPARATOR","\\",337],["T_STRING","NodeInterface",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$selector",337],",",["T_WHITESPACE"," ",337],["T_STRING","TokenStream",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$stream",337],")",["T_WHITESPACE","\n    ",337],"{",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$stream",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","skipWhitespace",339],"(",")",";",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$attribute",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$stream",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getNextIdentifierOrStar",340],"(",")",";",["T_WHITESPACE","\n\n        ",340],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_STRING","null",342],["T_WHITESPACE"," ",342],["T_IS_IDENTICAL","===",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$attribute",342],["T_WHITESPACE"," ",342],["T_BOOLEAN_AND","&&",342],["T_WHITESPACE"," ",342],"!",["T_VARIABLE","$stream",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getPeek",342],"(",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","isDelimiter",342],"(",["T_ARRAY","array",342],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",342],")",")",")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_THROW","throw",343],["T_WHITESPACE"," ",343],["T_STRING","SyntaxErrorException",343],["T_DOUBLE_COLON","::",343],["T_STRING","unexpectedToken",343],"(",["T_CONSTANT_ENCAPSED_STRING","'\"|\"'",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$stream",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getPeek",343],"(",")",")",";",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE","\n\n        ",344],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_VARIABLE","$stream",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getPeek",346],"(",")",["T_OBJECT_OPERATOR","->",346],["T_STRING","isDelimiter",346],"(",["T_ARRAY","array",346],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",346],")",")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n            ",346],["T_VARIABLE","$stream",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getNext",347],"(",")",";",["T_WHITESPACE","\n\n            ",347],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$stream",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getPeek",349],"(",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","isDelimiter",349],"(",["T_ARRAY","array",349],"(",["T_CONSTANT_ENCAPSED_STRING","'='",349],")",")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$namespace",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","null",350],";",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$stream",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getNext",351],"(",")",";",["T_WHITESPACE","\n                ",351],["T_VARIABLE","$operator",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'|='",352],";",["T_WHITESPACE","\n            ",352],"}",["T_WHITESPACE"," ",353],["T_ELSE","else",353],["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$namespace",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$attribute",354],";",["T_WHITESPACE","\n                ",354],["T_VARIABLE","$attribute",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$stream",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getNextIdentifier",355],"(",")",";",["T_WHITESPACE","\n                ",355],["T_VARIABLE","$operator",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","null",356],";",["T_WHITESPACE","\n            ",356],"}",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE"," ",358],["T_ELSE","else",358],["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$namespace",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$operator",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_STRING","null",359],";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n\n        ",360],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_STRING","null",362],["T_WHITESPACE"," ",362],["T_IS_IDENTICAL","===",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$operator",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_VARIABLE","$stream",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","skipWhitespace",363],"(",")",";",["T_WHITESPACE","\n            ",363],["T_VARIABLE","$next",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$stream",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getNext",364],"(",")",";",["T_WHITESPACE","\n\n            ",364],["T_IF","if",366],["T_WHITESPACE"," ",366],"(",["T_VARIABLE","$next",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","isDelimiter",366],"(",["T_ARRAY","array",366],"(",["T_CONSTANT_ENCAPSED_STRING","']'",366],")",")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n                ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_NEW","new",367],["T_WHITESPACE"," ",367],["T_STRING","Node",367],["T_NS_SEPARATOR","\\",367],["T_STRING","AttributeNode",367],"(",["T_VARIABLE","$selector",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$namespace",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$attribute",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'exists'",367],",",["T_WHITESPACE"," ",367],["T_STRING","null",367],")",";",["T_WHITESPACE","\n            ",367],"}",["T_WHITESPACE"," ",368],["T_ELSEIF","elseif",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$next",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","isDelimiter",368],"(",["T_ARRAY","array",368],"(",["T_CONSTANT_ENCAPSED_STRING","'='",368],")",")",")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n                ",368],["T_VARIABLE","$operator",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'='",369],";",["T_WHITESPACE","\n            ",369],"}",["T_WHITESPACE"," ",370],["T_ELSEIF","elseif",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$next",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","isDelimiter",370],"(",["T_ARRAY","array",370],"(",["T_CONSTANT_ENCAPSED_STRING","'^'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'$'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'*'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'~'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'|'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'!'",370],")",")",["T_WHITESPACE","\n                ",370],["T_BOOLEAN_AND","&&",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$stream",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getPeek",371],"(",")",["T_OBJECT_OPERATOR","->",371],["T_STRING","isDelimiter",371],"(",["T_ARRAY","array",371],"(",["T_CONSTANT_ENCAPSED_STRING","'='",371],")",")",["T_WHITESPACE","\n            ",371],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                ",372],["T_VARIABLE","$operator",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$next",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","getValue",373],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'='",373],";",["T_WHITESPACE","\n                ",373],["T_VARIABLE","$stream",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getNext",374],"(",")",";",["T_WHITESPACE","\n            ",374],"}",["T_WHITESPACE"," ",375],["T_ELSE","else",375],["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n                ",375],["T_THROW","throw",376],["T_WHITESPACE"," ",376],["T_STRING","SyntaxErrorException",376],["T_DOUBLE_COLON","::",376],["T_STRING","unexpectedToken",376],"(",["T_CONSTANT_ENCAPSED_STRING","'operator'",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$next",376],")",";",["T_WHITESPACE","\n            ",376],"}",["T_WHITESPACE","\n        ",377],"}",["T_WHITESPACE","\n\n        ",378],["T_VARIABLE","$stream",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","skipWhitespace",380],"(",")",";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$value",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$stream",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getNext",381],"(",")",";",["T_WHITESPACE","\n\n        ",381],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$value",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","isNumber",383],"(",")",")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_COMMENT","\/\/ if the value is a number, it's casted into a string\n",384],["T_WHITESPACE","            ",385],["T_VARIABLE","$value",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_NEW","new",385],["T_WHITESPACE"," ",385],["T_STRING","Token",385],"(",["T_STRING","Token",385],["T_DOUBLE_COLON","::",385],["T_STRING","TYPE_STRING",385],",",["T_WHITESPACE"," ",385],["T_STRING_CAST","(string)",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$value",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getValue",385],"(",")",",",["T_WHITESPACE"," ",385],["T_VARIABLE","$value",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getPosition",385],"(",")",")",";",["T_WHITESPACE","\n        ",385],"}",["T_WHITESPACE","\n\n        ",386],["T_IF","if",388],["T_WHITESPACE"," ",388],"(","!","(",["T_VARIABLE","$value",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","isIdentifier",388],"(",")",["T_WHITESPACE"," ",388],["T_BOOLEAN_OR","||",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$value",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","isString",388],"(",")",")",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_THROW","throw",389],["T_WHITESPACE"," ",389],["T_STRING","SyntaxErrorException",389],["T_DOUBLE_COLON","::",389],["T_STRING","unexpectedToken",389],"(",["T_CONSTANT_ENCAPSED_STRING","'string or identifier'",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$value",389],")",";",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n\n        ",390],["T_VARIABLE","$stream",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","skipWhitespace",392],"(",")",";",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$next",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$stream",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getNext",393],"(",")",";",["T_WHITESPACE","\n\n        ",393],["T_IF","if",395],["T_WHITESPACE"," ",395],"(","!",["T_VARIABLE","$next",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","isDelimiter",395],"(",["T_ARRAY","array",395],"(",["T_CONSTANT_ENCAPSED_STRING","']'",395],")",")",")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n            ",395],["T_THROW","throw",396],["T_WHITESPACE"," ",396],["T_STRING","SyntaxErrorException",396],["T_DOUBLE_COLON","::",396],["T_STRING","unexpectedToken",396],"(",["T_CONSTANT_ENCAPSED_STRING","'\"]\"'",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$next",396],")",";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n\n        ",397],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_NEW","new",399],["T_WHITESPACE"," ",399],["T_STRING","Node",399],["T_NS_SEPARATOR","\\",399],["T_STRING","AttributeNode",399],"(",["T_VARIABLE","$selector",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$namespace",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$attribute",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$operator",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$value",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getValue",399],"(",")",")",";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n",400],"}",["T_WHITESPACE","\n",401]]