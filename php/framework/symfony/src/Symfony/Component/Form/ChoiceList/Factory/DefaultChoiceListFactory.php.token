[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ChoiceList",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Factory",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ChoiceList",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ArrayChoiceList",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ChoiceList",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ChoiceListInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Form",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ChoiceList",16],["T_NS_SEPARATOR","\\",16],["T_STRING","LazyChoiceList",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Form",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ChoiceList",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Loader",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ChoiceLoaderInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Form",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ChoiceList",18],["T_NS_SEPARATOR","\\",18],["T_STRING","View",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ChoiceGroupView",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Form",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ChoiceList",19],["T_NS_SEPARATOR","\\",19],["T_STRING","View",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ChoiceListView",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Form",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ChoiceList",20],["T_NS_SEPARATOR","\\",20],["T_STRING","View",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ChoiceView",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Default implementation of {@link ChoiceListFactoryInterface}.\n *\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",22],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","DefaultChoiceListFactory",27],["T_WHITESPACE"," ",27],["T_IMPLEMENTS","implements",27],["T_WHITESPACE"," ",27],["T_STRING","ChoiceListFactoryInterface",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","createListFromChoices",32],"(",["T_VARIABLE","$choices",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$value",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","null",32],")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_RETURN","return",34],["T_WHITESPACE"," ",34],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_STRING","ArrayChoiceList",34],"(",["T_VARIABLE","$choices",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$value",34],")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","createListFromLoader",40],"(",["T_STRING","ChoiceLoaderInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$loader",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$value",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","null",40],")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_STRING","LazyChoiceList",42],"(",["T_VARIABLE","$loader",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$value",42],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","createView",48],"(",["T_STRING","ChoiceListInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$list",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$preferredChoices",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$label",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$index",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$groupBy",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$attr",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$preferredViews",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$otherViews",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$choices",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$list",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getChoices",52],"(",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$keys",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$list",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getOriginalKeys",53],"(",")",";",["T_WHITESPACE","\n\n        ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_STRING","is_callable",55],"(",["T_VARIABLE","$preferredChoices",55],")",["T_WHITESPACE"," ",55],["T_BOOLEAN_AND","&&",55],["T_WHITESPACE"," ",55],"!",["T_EMPTY","empty",55],"(",["T_VARIABLE","$preferredChoices",55],")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$preferredChoices",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$choice",56],")",["T_WHITESPACE"," ",56],["T_USE","use",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$preferredChoices",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_STRING","false",57],["T_WHITESPACE"," ",57],["T_IS_NOT_IDENTICAL","!==",57],["T_WHITESPACE"," ",57],["T_STRING","array_search",57],"(",["T_VARIABLE","$choice",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$preferredChoices",57],",",["T_WHITESPACE"," ",57],["T_STRING","true",57],")",";",["T_WHITESPACE","\n            ",57],"}",";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n\n        ",59],["T_COMMENT","\/\/ The names are generated from an incrementing integer by default\n",61],["T_WHITESPACE","        ",62],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_STRING","null",62],["T_WHITESPACE"," ",62],["T_IS_IDENTICAL","===",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$index",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$index",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_LNUMBER","0",63],";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n\n        ",64],["T_COMMENT","\/\/ If $groupBy is a callable, choices are added to the group with the\n",66],["T_WHITESPACE","        ",67],["T_COMMENT","\/\/ name returned by the callable. If the callable returns null, the\n",67],["T_WHITESPACE","        ",68],["T_COMMENT","\/\/ choice is not added to any group\n",68],["T_WHITESPACE","        ",69],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_STRING","is_callable",69],"(",["T_VARIABLE","$groupBy",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$choices",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$value",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$choice",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                ",70],["T_STRING","self",71],["T_DOUBLE_COLON","::",71],["T_STRING","addChoiceViewGroupedBy",71],"(",["T_WHITESPACE","\n                    ",71],["T_VARIABLE","$groupBy",72],",",["T_WHITESPACE","\n                    ",72],["T_VARIABLE","$choice",73],",",["T_WHITESPACE","\n                    ",73],["T_STRING_CAST","(string)",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$value",74],",",["T_WHITESPACE","\n                    ",74],["T_VARIABLE","$label",75],",",["T_WHITESPACE","\n                    ",75],["T_VARIABLE","$keys",76],",",["T_WHITESPACE","\n                    ",76],["T_VARIABLE","$index",77],",",["T_WHITESPACE","\n                    ",77],["T_VARIABLE","$attr",78],",",["T_WHITESPACE","\n                    ",78],["T_VARIABLE","$preferredChoices",79],",",["T_WHITESPACE","\n                    ",79],["T_VARIABLE","$preferredViews",80],",",["T_WHITESPACE","\n                    ",80],["T_VARIABLE","$otherViews",81],["T_WHITESPACE","\n                ",81],")",";",["T_WHITESPACE","\n            ",82],"}",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE"," ",84],["T_ELSE","else",84],["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_COMMENT","\/\/ Otherwise use the original structure of the choices\n",85],["T_WHITESPACE","            ",86],["T_STRING","self",86],["T_DOUBLE_COLON","::",86],["T_STRING","addChoiceViewsGroupedBy",86],"(",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$list",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getStructuredValues",87],"(",")",",",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$label",88],",",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$choices",89],",",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$keys",90],",",["T_WHITESPACE","\n                ",90],["T_VARIABLE","$index",91],",",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$attr",92],",",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$preferredChoices",93],",",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$preferredViews",94],",",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$otherViews",95],["T_WHITESPACE","\n            ",95],")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n\n        ",97],["T_COMMENT","\/\/ Remove any empty group view that may have been created by\n",99],["T_WHITESPACE","        ",100],["T_COMMENT","\/\/ addChoiceViewGroupedBy()\n",100],["T_WHITESPACE","        ",101],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$preferredViews",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$key",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$view",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$view",102],["T_WHITESPACE"," ",102],["T_INSTANCEOF","instanceof",102],["T_WHITESPACE"," ",102],["T_STRING","ChoiceGroupView",102],["T_WHITESPACE"," ",102],["T_BOOLEAN_AND","&&",102],["T_WHITESPACE"," ",102],["T_LNUMBER","0",102],["T_WHITESPACE"," ",102],["T_IS_IDENTICAL","===",102],["T_WHITESPACE"," ",102],["T_STRING","count",102],"(",["T_VARIABLE","$view",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","choices",102],")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_UNSET","unset",103],"(",["T_VARIABLE","$preferredViews",103],"[",["T_VARIABLE","$key",103],"]",")",";",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$otherViews",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$key",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$view",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$view",108],["T_WHITESPACE"," ",108],["T_INSTANCEOF","instanceof",108],["T_WHITESPACE"," ",108],["T_STRING","ChoiceGroupView",108],["T_WHITESPACE"," ",108],["T_BOOLEAN_AND","&&",108],["T_WHITESPACE"," ",108],["T_LNUMBER","0",108],["T_WHITESPACE"," ",108],["T_IS_IDENTICAL","===",108],["T_WHITESPACE"," ",108],["T_STRING","count",108],"(",["T_VARIABLE","$view",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","choices",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_UNSET","unset",109],"(",["T_VARIABLE","$otherViews",109],"[",["T_VARIABLE","$key",109],"]",")",";",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","ChoiceListView",113],"(",["T_VARIABLE","$otherViews",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$preferredViews",113],")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_PRIVATE","private",116],["T_WHITESPACE"," ",116],["T_STATIC","static",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","addChoiceView",116],"(",["T_VARIABLE","$choice",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$value",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$label",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$keys",116],",",["T_WHITESPACE"," ",116],"&",["T_VARIABLE","$index",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$attr",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$isPreferred",116],",",["T_WHITESPACE"," ",116],"&",["T_VARIABLE","$preferredViews",116],",",["T_WHITESPACE"," ",116],"&",["T_VARIABLE","$otherViews",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_COMMENT","\/\/ $value may be an integer or a string, since it's stored in the array\n",118],["T_WHITESPACE","        ",119],["T_COMMENT","\/\/ keys. We want to guarantee it's a string though.\n",119],["T_WHITESPACE","        ",120],["T_VARIABLE","$key",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$keys",120],"[",["T_VARIABLE","$value",120],"]",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$nextIndex",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","is_int",121],"(",["T_VARIABLE","$index",121],")",["T_WHITESPACE"," ",121],"?",["T_WHITESPACE"," ",121],["T_VARIABLE","$index",121],["T_INC","++",121],["T_WHITESPACE"," ",121],":",["T_WHITESPACE"," ",121],["T_STRING","call_user_func",121],"(",["T_VARIABLE","$index",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$choice",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$key",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$value",121],")",";",["T_WHITESPACE","\n\n        ",121],["T_COMMENT","\/\/ BC normalize label to accept a false value\n",123],["T_WHITESPACE","        ",124],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_STRING","null",124],["T_WHITESPACE"," ",124],["T_IS_IDENTICAL","===",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$label",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_COMMENT","\/\/ If the labels are null, use the original choice key by default\n",125],["T_WHITESPACE","            ",126],["T_VARIABLE","$label",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING_CAST","(string)",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$key",126],";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE"," ",127],["T_ELSEIF","elseif",127],["T_WHITESPACE"," ",127],"(",["T_STRING","false",127],["T_WHITESPACE"," ",127],["T_IS_NOT_IDENTICAL","!==",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$label",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_COMMENT","\/\/ If \"choice_label\" is set to false and \"expanded\" is true, the value false\n",128],["T_WHITESPACE","            ",129],["T_COMMENT","\/\/ should be passed on to the \"label\" option of the checkboxes\/radio buttons\n",129],["T_WHITESPACE","            ",130],["T_VARIABLE","$dynamicLabel",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","call_user_func",130],"(",["T_VARIABLE","$label",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$choice",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$key",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$value",130],")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$label",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","false",131],["T_WHITESPACE"," ",131],["T_IS_IDENTICAL","===",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$dynamicLabel",131],["T_WHITESPACE"," ",131],"?",["T_WHITESPACE"," ",131],["T_STRING","false",131],["T_WHITESPACE"," ",131],":",["T_WHITESPACE"," ",131],["T_STRING_CAST","(string)",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$dynamicLabel",131],";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$view",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","ChoiceView",134],"(",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$choice",135],",",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$value",136],",",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$label",137],",",["T_WHITESPACE","\n            ",137],["T_COMMENT","\/\/ The attributes may be a callable or a mapping from choice indices\n",138],["T_WHITESPACE","            ",139],["T_COMMENT","\/\/ to nested arrays\n",139],["T_WHITESPACE","            ",140],["T_STRING","is_callable",140],"(",["T_VARIABLE","$attr",140],")",["T_WHITESPACE"," ",140],"?",["T_WHITESPACE"," ",140],["T_STRING","call_user_func",140],"(",["T_VARIABLE","$attr",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$choice",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$key",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$value",140],")",["T_WHITESPACE"," ",140],":",["T_WHITESPACE"," ",140],"(",["T_ISSET","isset",140],"(",["T_VARIABLE","$attr",140],"[",["T_VARIABLE","$key",140],"]",")",["T_WHITESPACE"," ",140],"?",["T_WHITESPACE"," ",140],["T_VARIABLE","$attr",140],"[",["T_VARIABLE","$key",140],"]",["T_WHITESPACE"," ",140],":",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",")",")",["T_WHITESPACE","\n        ",140],")",";",["T_WHITESPACE","\n\n        ",141],["T_COMMENT","\/\/ $isPreferred may be null if no choices are preferred\n",143],["T_WHITESPACE","        ",144],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$isPreferred",144],["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE"," ",144],["T_STRING","call_user_func",144],"(",["T_VARIABLE","$isPreferred",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$choice",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$key",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$value",144],")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$preferredViews",145],"[",["T_VARIABLE","$nextIndex",145],"]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$view",145],";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE"," ",146],["T_ELSE","else",146],["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$otherViews",147],"[",["T_VARIABLE","$nextIndex",147],"]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$view",147],";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_PRIVATE","private",151],["T_WHITESPACE"," ",151],["T_STATIC","static",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","addChoiceViewsGroupedBy",151],"(",["T_VARIABLE","$groupBy",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$label",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$choices",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$keys",151],",",["T_WHITESPACE"," ",151],"&",["T_VARIABLE","$index",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$attr",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$isPreferred",151],",",["T_WHITESPACE"," ",151],"&",["T_VARIABLE","$preferredViews",151],",",["T_WHITESPACE"," ",151],"&",["T_VARIABLE","$otherViews",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_FOREACH","foreach",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$groupBy",153],["T_WHITESPACE"," ",153],["T_AS","as",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$key",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$value",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_STRING","null",154],["T_WHITESPACE"," ",154],["T_IS_IDENTICAL","===",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$value",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                ",154],["T_CONTINUE","continue",155],";",["T_WHITESPACE","\n            ",155],"}",["T_WHITESPACE","\n\n            ",156],["T_COMMENT","\/\/ Add the contents of groups to new ChoiceGroupView instances\n",158],["T_WHITESPACE","            ",159],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_STRING","is_array",159],"(",["T_VARIABLE","$value",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$preferredViewsForGroup",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",")",";",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$otherViewsForGroup",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",")",";",["T_WHITESPACE","\n\n                ",161],["T_STRING","self",163],["T_DOUBLE_COLON","::",163],["T_STRING","addChoiceViewsGroupedBy",163],"(",["T_WHITESPACE","\n                    ",163],["T_VARIABLE","$value",164],",",["T_WHITESPACE","\n                    ",164],["T_VARIABLE","$label",165],",",["T_WHITESPACE","\n                    ",165],["T_VARIABLE","$choices",166],",",["T_WHITESPACE","\n                    ",166],["T_VARIABLE","$keys",167],",",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$index",168],",",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$attr",169],",",["T_WHITESPACE","\n                    ",169],["T_VARIABLE","$isPreferred",170],",",["T_WHITESPACE","\n                    ",170],["T_VARIABLE","$preferredViewsForGroup",171],",",["T_WHITESPACE","\n                    ",171],["T_VARIABLE","$otherViewsForGroup",172],["T_WHITESPACE","\n                ",172],")",";",["T_WHITESPACE","\n\n                ",173],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_STRING","count",175],"(",["T_VARIABLE","$preferredViewsForGroup",175],")",["T_WHITESPACE"," ",175],">",["T_WHITESPACE"," ",175],["T_LNUMBER","0",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                    ",175],["T_VARIABLE","$preferredViews",176],"[",["T_VARIABLE","$key",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_STRING","ChoiceGroupView",176],"(",["T_VARIABLE","$key",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$preferredViewsForGroup",176],")",";",["T_WHITESPACE","\n                ",176],"}",["T_WHITESPACE","\n\n                ",177],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_STRING","count",179],"(",["T_VARIABLE","$otherViewsForGroup",179],")",["T_WHITESPACE"," ",179],">",["T_WHITESPACE"," ",179],["T_LNUMBER","0",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                    ",179],["T_VARIABLE","$otherViews",180],"[",["T_VARIABLE","$key",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_NEW","new",180],["T_WHITESPACE"," ",180],["T_STRING","ChoiceGroupView",180],"(",["T_VARIABLE","$key",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$otherViewsForGroup",180],")",";",["T_WHITESPACE","\n                ",180],"}",["T_WHITESPACE","\n\n                ",181],["T_CONTINUE","continue",183],";",["T_WHITESPACE","\n            ",183],"}",["T_WHITESPACE","\n\n            ",184],["T_COMMENT","\/\/ Add ungrouped items directly\n",186],["T_WHITESPACE","            ",187],["T_STRING","self",187],["T_DOUBLE_COLON","::",187],["T_STRING","addChoiceView",187],"(",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$choices",188],"[",["T_VARIABLE","$value",188],"]",",",["T_WHITESPACE","\n                ",188],["T_VARIABLE","$value",189],",",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$label",190],",",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$keys",191],",",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$index",192],",",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$attr",193],",",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$isPreferred",194],",",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$preferredViews",195],",",["T_WHITESPACE","\n                ",195],["T_VARIABLE","$otherViews",196],["T_WHITESPACE","\n            ",196],")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_PRIVATE","private",201],["T_WHITESPACE"," ",201],["T_STATIC","static",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","addChoiceViewGroupedBy",201],"(",["T_VARIABLE","$groupBy",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$choice",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$value",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$label",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$keys",201],",",["T_WHITESPACE"," ",201],"&",["T_VARIABLE","$index",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$attr",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$isPreferred",201],",",["T_WHITESPACE"," ",201],"&",["T_VARIABLE","$preferredViews",201],",",["T_WHITESPACE"," ",201],"&",["T_VARIABLE","$otherViews",201],")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$groupLabel",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","call_user_func",203],"(",["T_VARIABLE","$groupBy",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$choice",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$keys",203],"[",["T_VARIABLE","$value",203],"]",",",["T_WHITESPACE"," ",203],["T_VARIABLE","$value",203],")",";",["T_WHITESPACE","\n\n        ",203],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_STRING","null",205],["T_WHITESPACE"," ",205],["T_IS_IDENTICAL","===",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$groupLabel",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_COMMENT","\/\/ If the callable returns null, don't group the choice\n",206],["T_WHITESPACE","            ",207],["T_STRING","self",207],["T_DOUBLE_COLON","::",207],["T_STRING","addChoiceView",207],"(",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$choice",208],",",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$value",209],",",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$label",210],",",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$keys",211],",",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$index",212],",",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$attr",213],",",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$isPreferred",214],",",["T_WHITESPACE","\n                ",214],["T_VARIABLE","$preferredViews",215],",",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$otherViews",216],["T_WHITESPACE","\n            ",216],")",";",["T_WHITESPACE","\n\n            ",217],["T_RETURN","return",219],";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_VARIABLE","$groupLabel",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING_CAST","(string)",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$groupLabel",222],";",["T_WHITESPACE","\n\n        ",222],["T_COMMENT","\/\/ Initialize the group views if necessary. Unnecessarily built group\n",224],["T_WHITESPACE","        ",225],["T_COMMENT","\/\/ views will be cleaned up at the end of createView()\n",225],["T_WHITESPACE","        ",226],["T_IF","if",226],["T_WHITESPACE"," ",226],"(","!",["T_ISSET","isset",226],"(",["T_VARIABLE","$preferredViews",226],"[",["T_VARIABLE","$groupLabel",226],"]",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$preferredViews",227],"[",["T_VARIABLE","$groupLabel",227],"]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_NEW","new",227],["T_WHITESPACE"," ",227],["T_STRING","ChoiceGroupView",227],"(",["T_VARIABLE","$groupLabel",227],")",";",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$otherViews",228],"[",["T_VARIABLE","$groupLabel",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","ChoiceGroupView",228],"(",["T_VARIABLE","$groupLabel",228],")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_STRING","self",231],["T_DOUBLE_COLON","::",231],["T_STRING","addChoiceView",231],"(",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$choice",232],",",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$value",233],",",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$label",234],",",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$keys",235],",",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$index",236],",",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$attr",237],",",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$isPreferred",238],",",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$preferredViews",239],"[",["T_VARIABLE","$groupLabel",239],"]",["T_OBJECT_OPERATOR","->",239],["T_STRING","choices",239],",",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$otherViews",240],"[",["T_VARIABLE","$groupLabel",240],"]",["T_OBJECT_OPERATOR","->",240],["T_STRING","choices",240],["T_WHITESPACE","\n        ",240],")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n",242],"}",["T_WHITESPACE","\n",243]]