[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Extension",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Csrf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EventListener",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventDispatcher",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventSubscriberInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FormEvents",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Form",16],["T_NS_SEPARATOR","\\",16],["T_STRING","FormError",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Form",17],["T_NS_SEPARATOR","\\",17],["T_STRING","FormEvent",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Form",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Util",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ServerParams",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Security",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Csrf",19],["T_NS_SEPARATOR","\\",19],["T_STRING","CsrfToken",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Security",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Csrf",20],["T_NS_SEPARATOR","\\",20],["T_STRING","CsrfTokenManagerInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Translation",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TranslatorInterface",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",23],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","CsrfValidationListener",26],["T_WHITESPACE"," ",26],["T_IMPLEMENTS","implements",26],["T_WHITESPACE"," ",26],["T_STRING","EventSubscriberInterface",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * The name of the CSRF field.\n     *\n     * @var string\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$fieldName",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * The generator for CSRF tokens.\n     *\n     * @var CsrfTokenManagerInterface\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$tokenManager",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * A text mentioning the tokenId of the CSRF token.\n     *\n     * Validation of the token will only succeed if it was generated in the\n     * same session and with the same tokenId.\n     *\n     * @var string\n     *\/",42],["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$tokenId",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * The message displayed in case of an error.\n     *\n     * @var string\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PRIVATE","private",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$errorMessage",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var TranslatorInterface\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PRIVATE","private",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$translator",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @var null|string\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PRIVATE","private",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$translationDomain",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @var ServerParams\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PRIVATE","private",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$serverParams",72],";",["T_WHITESPACE","\n\n    ",72],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_STATIC","static",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getSubscribedEvents",74],"(",")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_WHITESPACE","\n            ",76],["T_STRING","FormEvents",77],["T_DOUBLE_COLON","::",77],["T_STRING","PRE_SUBMIT",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'preSubmit'",77],",",["T_WHITESPACE","\n        ",77],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",["T_VARIABLE","$fieldName",81],",",["T_WHITESPACE"," ",81],["T_STRING","CsrfTokenManagerInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$tokenManager",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$tokenId",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$errorMessage",81],",",["T_WHITESPACE"," ",81],["T_STRING","TranslatorInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$translator",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$translationDomain",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],",",["T_WHITESPACE"," ",81],["T_STRING","ServerParams",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$serverParams",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","fieldName",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$fieldName",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","tokenManager",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$tokenManager",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","tokenId",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$tokenId",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","errorMessage",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$errorMessage",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","translator",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$translator",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","translationDomain",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$translationDomain",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","serverParams",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$serverParams",89],["T_WHITESPACE"," ",89],"?",":",["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_STRING","ServerParams",89],"(",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","preSubmit",92],"(",["T_STRING","FormEvent",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$event",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$form",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$event",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getForm",94],"(",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$postRequestSizeExceeded",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$form",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getConfig",95],"(",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","getMethod",95],"(",")",["T_WHITESPACE"," ",95],["T_IS_IDENTICAL","===",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'POST'",95],["T_WHITESPACE"," ",95],["T_BOOLEAN_AND","&&",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","serverParams",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","hasPostMaxSizeBeenExceeded",95],"(",")",";",["T_WHITESPACE","\n\n        ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$form",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","isRoot",97],"(",")",["T_WHITESPACE"," ",97],["T_BOOLEAN_AND","&&",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$form",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getConfig",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getOption",97],"(",["T_CONSTANT_ENCAPSED_STRING","'compound'",97],")",["T_WHITESPACE"," ",97],["T_BOOLEAN_AND","&&",97],["T_WHITESPACE"," ",97],"!",["T_VARIABLE","$postRequestSizeExceeded",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$data",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$event",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getData",98],"(",")",";",["T_WHITESPACE","\n\n            ",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_ISSET","isset",100],"(",["T_VARIABLE","$data",100],"[",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","fieldName",100],"]",")",["T_WHITESPACE"," ",100],["T_BOOLEAN_OR","||",100],["T_WHITESPACE"," ",100],"!",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","tokenManager",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","isTokenValid",100],"(",["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","CsrfToken",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","tokenId",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$data",100],"[",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","fieldName",100],"]",")",")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$errorMessage",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","errorMessage",101],";",["T_WHITESPACE","\n\n                ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_STRING","null",103],["T_WHITESPACE"," ",103],["T_IS_NOT_IDENTICAL","!==",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","translator",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                    ",103],["T_VARIABLE","$errorMessage",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","translator",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","trans",104],"(",["T_VARIABLE","$errorMessage",104],",",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",")",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","translationDomain",104],")",";",["T_WHITESPACE","\n                ",104],"}",["T_WHITESPACE","\n\n                ",105],["T_VARIABLE","$form",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","addError",107],"(",["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_STRING","FormError",107],"(",["T_VARIABLE","$errorMessage",107],")",")",";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n\n            ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_STRING","is_array",110],"(",["T_VARIABLE","$data",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_UNSET","unset",111],"(",["T_VARIABLE","$data",111],"[",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","fieldName",111],"]",")",";",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$event",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setData",112],"(",["T_VARIABLE","$data",112],")",";",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n",115],"}",["T_WHITESPACE","\n",116]]