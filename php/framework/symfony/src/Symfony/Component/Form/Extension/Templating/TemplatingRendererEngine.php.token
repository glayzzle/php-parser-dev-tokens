[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Extension",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Templating",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractRendererEngine",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FormView",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Templating",16],["T_NS_SEPARATOR","\\",16],["T_STRING","EngineInterface",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",18],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","TemplatingRendererEngine",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","AbstractRendererEngine",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * @var EngineInterface\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$engine",26],";",["T_WHITESPACE","\n\n    ",26],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","__construct",28],"(",["T_STRING","EngineInterface",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$engine",28],",",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$defaultThemes",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",")",")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_STRING","parent",30],["T_DOUBLE_COLON","::",30],["T_STRING","__construct",30],"(",["T_VARIABLE","$defaultThemes",30],")",";",["T_WHITESPACE","\n\n        ",30],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","engine",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$engine",32],";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","renderBlock",38],"(",["T_STRING","FormView",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$view",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$resource",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$blockName",38],",",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$variables",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_RETURN","return",40],["T_WHITESPACE"," ",40],["T_STRING","trim",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","engine",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","render",40],"(",["T_VARIABLE","$resource",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$variables",40],")",")",";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Loads the cache with the resource for a given block name.\n     *\n     * This implementation tries to load as few blocks as possible, since each block\n     * is represented by a template on the file system.\n     *\n     * @see getResourceForBlock()\n     *\n     * @param string   $cacheKey  The cache key of the form view\n     * @param FormView $view      The form view for finding the applying themes\n     * @param string   $blockName The name of the block to load\n     *\n     * @return bool True if the resource could be loaded, false otherwise\n     *\/",43],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","loadResourceForBlockName",57],"(",["T_VARIABLE","$cacheKey",57],",",["T_WHITESPACE"," ",57],["T_STRING","FormView",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$view",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$blockName",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_COMMENT","\/\/ Recursively try to find the block in the themes assigned to $view,\n",59],["T_WHITESPACE","        ",60],["T_COMMENT","\/\/ then of its parent form, then of the parent form of the parent and so on.\n",60],["T_WHITESPACE","        ",61],["T_COMMENT","\/\/ When the root form is reached in this recursion, also the default\n",61],["T_WHITESPACE","        ",62],["T_COMMENT","\/\/ themes are taken into account.\n",62],["T_WHITESPACE","\n        ",63],["T_COMMENT","\/\/ Check each theme whether it contains the searched block\n",64],["T_WHITESPACE","        ",65],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_ISSET","isset",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","themes",65],"[",["T_VARIABLE","$cacheKey",65],"]",")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_FOR","for",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$i",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","count",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","themes",66],"[",["T_VARIABLE","$cacheKey",66],"]",")",["T_WHITESPACE"," ",66],"-",["T_WHITESPACE"," ",66],["T_LNUMBER","1",66],";",["T_WHITESPACE"," ",66],["T_VARIABLE","$i",66],["T_WHITESPACE"," ",66],["T_IS_GREATER_OR_EQUAL",">=",66],["T_WHITESPACE"," ",66],["T_LNUMBER","0",66],";",["T_WHITESPACE"," ",66],["T_DEC","--",66],["T_VARIABLE","$i",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n                ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","loadResourceFromTheme",67],"(",["T_VARIABLE","$cacheKey",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$blockName",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","themes",67],"[",["T_VARIABLE","$cacheKey",67],"]","[",["T_VARIABLE","$i",67],"]",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n                    ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_STRING","true",68],";",["T_WHITESPACE","\n                ",68],"}",["T_WHITESPACE","\n            ",69],"}",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_COMMENT","\/\/ Check the default themes once we reach the root form without success\n",73],["T_WHITESPACE","        ",74],["T_IF","if",74],["T_WHITESPACE"," ",74],"(","!",["T_VARIABLE","$view",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","parent",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_FOR","for",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$i",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","count",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","defaultThemes",75],")",["T_WHITESPACE"," ",75],"-",["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],";",["T_WHITESPACE"," ",75],["T_VARIABLE","$i",75],["T_WHITESPACE"," ",75],["T_IS_GREATER_OR_EQUAL",">=",75],["T_WHITESPACE"," ",75],["T_LNUMBER","0",75],";",["T_WHITESPACE"," ",75],["T_DEC","--",75],["T_VARIABLE","$i",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n                ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","loadResourceFromTheme",76],"(",["T_VARIABLE","$cacheKey",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$blockName",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","defaultThemes",76],"[",["T_VARIABLE","$i",76],"]",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                    ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_STRING","true",77],";",["T_WHITESPACE","\n                ",77],"}",["T_WHITESPACE","\n            ",78],"}",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n\n        ",80],["T_COMMENT","\/\/ If we did not find anything in the themes of the current view, proceed\n",82],["T_WHITESPACE","        ",83],["T_COMMENT","\/\/ with the themes of the parent view\n",83],["T_WHITESPACE","        ",84],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$view",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","parent",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$parentCacheKey",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$view",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","parent",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","vars",85],"[",["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_STRING","CACHE_KEY_VAR",85],"]",";",["T_WHITESPACE","\n\n            ",85],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_ISSET","isset",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","resources",87],"[",["T_VARIABLE","$parentCacheKey",87],"]","[",["T_VARIABLE","$blockName",87],"]",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","loadResourceForBlockName",88],"(",["T_VARIABLE","$parentCacheKey",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$view",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","parent",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$blockName",88],")",";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE","\n\n            ",89],["T_COMMENT","\/\/ If a template exists in the parent themes, cache that template\n",91],["T_WHITESPACE","            ",92],["T_COMMENT","\/\/ for the current theme as well to speed up further accesses\n",92],["T_WHITESPACE","            ",93],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","resources",93],"[",["T_VARIABLE","$parentCacheKey",93],"]","[",["T_VARIABLE","$blockName",93],"]",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","resources",94],"[",["T_VARIABLE","$cacheKey",94],"]","[",["T_VARIABLE","$blockName",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","resources",94],"[",["T_VARIABLE","$parentCacheKey",94],"]","[",["T_VARIABLE","$blockName",94],"]",";",["T_WHITESPACE","\n\n                ",94],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_STRING","true",96],";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n\n        ",98],["T_COMMENT","\/\/ Cache that we didn't find anything to speed up further accesses\n",100],["T_WHITESPACE","        ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","resources",101],"[",["T_VARIABLE","$cacheKey",101],"]","[",["T_VARIABLE","$blockName",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","false",101],";",["T_WHITESPACE","\n\n        ",101],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_STRING","false",103],";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Tries to load the resource for a block from a theme.\n     *\n     * @param string $cacheKey  The cache key for storing the resource\n     * @param string $blockName The name of the block to load a resource for\n     * @param mixed  $theme     The theme to load the block from\n     *\n     * @return bool True if the resource could be loaded, false otherwise\n     *\/",106],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","loadResourceFromTheme",115],"(",["T_VARIABLE","$cacheKey",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$blockName",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$theme",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","engine",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","exists",117],"(",["T_VARIABLE","$templateName",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$theme",117],".",["T_CONSTANT_ENCAPSED_STRING","':'",117],".",["T_VARIABLE","$blockName",117],".",["T_CONSTANT_ENCAPSED_STRING","'.html.php'",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","resources",118],"[",["T_VARIABLE","$cacheKey",118],"]","[",["T_VARIABLE","$blockName",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$templateName",118],";",["T_WHITESPACE","\n\n            ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_STRING","true",120],";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n\n        ",121],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_STRING","false",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n",124],"}",["T_WHITESPACE","\n",125]]