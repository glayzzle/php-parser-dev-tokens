[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Extension",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Csrf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Type",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractTypeExtension",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Extension",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Csrf",15],["T_NS_SEPARATOR","\\",15],["T_STRING","EventListener",15],["T_NS_SEPARATOR","\\",15],["T_STRING","CsrfValidationListener",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Form",16],["T_NS_SEPARATOR","\\",16],["T_STRING","FormBuilderInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Form",17],["T_NS_SEPARATOR","\\",17],["T_STRING","FormView",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Form",18],["T_NS_SEPARATOR","\\",18],["T_STRING","FormInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Form",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Util",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ServerParams",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","OptionsResolver",20],["T_NS_SEPARATOR","\\",20],["T_STRING","OptionsResolver",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Security",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Csrf",21],["T_NS_SEPARATOR","\\",21],["T_STRING","CsrfTokenManagerInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Translation",22],["T_NS_SEPARATOR","\\",22],["T_STRING","TranslatorInterface",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",24],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","FormTypeCsrfExtension",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","AbstractTypeExtension",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * @var CsrfTokenManagerInterface\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$defaultTokenManager",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$defaultEnabled",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$defaultFieldName",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var TranslatorInterface\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PRIVATE","private",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$translator",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var null|string\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PRIVATE","private",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$translationDomain",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var ServerParams\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PRIVATE","private",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$serverParams",57],";",["T_WHITESPACE","\n\n    ",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","__construct",59],"(",["T_STRING","CsrfTokenManagerInterface",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$defaultTokenManager",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$defaultEnabled",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","true",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$defaultFieldName",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'_token'",59],",",["T_WHITESPACE"," ",59],["T_STRING","TranslatorInterface",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$translator",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$translationDomain",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],",",["T_WHITESPACE"," ",59],["T_STRING","ServerParams",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$serverParams",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","defaultTokenManager",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$defaultTokenManager",61],";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","defaultEnabled",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$defaultEnabled",62],";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","defaultFieldName",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$defaultFieldName",63],";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","translator",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$translator",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","translationDomain",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$translationDomain",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","serverParams",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$serverParams",66],";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Adds a CSRF field to the form when the CSRF protection is enabled.\n     *\n     * @param FormBuilderInterface $builder The form builder\n     * @param array                $options The options\n     *\/",69],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","buildForm",75],"(",["T_STRING","FormBuilderInterface",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$builder",75],",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$options",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_VARIABLE","$options",77],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_protection'",77],"]",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_RETURN","return",78],";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$builder",81],["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","addEventSubscriber",82],"(",["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","CsrfValidationListener",82],"(",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$options",83],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_field_name'",83],"]",",",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$options",84],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_manager'",84],"]",",",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$options",85],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_id'",85],"]",["T_WHITESPACE"," ",85],"?",":",["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$builder",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getName",85],"(",")",["T_WHITESPACE"," ",85],"?",":",["T_WHITESPACE"," ",85],["T_STRING","get_class",85],"(",["T_VARIABLE","$builder",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getType",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getInnerType",85],"(",")",")",")",",",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$options",86],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_message'",86],"]",",",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","translator",87],",",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","translationDomain",88],",",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","serverParams",89],["T_WHITESPACE","\n            ",89],")",")",["T_WHITESPACE","\n        ",90],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Adds a CSRF field to the root form view.\n     *\n     * @param FormView      $view    The form view\n     * @param FormInterface $form    The form\n     * @param array         $options The options\n     *\/",94],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","finishView",101],"(",["T_STRING","FormView",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$view",101],",",["T_WHITESPACE"," ",101],["T_STRING","FormInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$form",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$options",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$options",103],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_protection'",103],"]",["T_WHITESPACE"," ",103],["T_BOOLEAN_AND","&&",103],["T_WHITESPACE"," ",103],"!",["T_VARIABLE","$view",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","parent",103],["T_WHITESPACE"," ",103],["T_BOOLEAN_AND","&&",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$options",103],"[",["T_CONSTANT_ENCAPSED_STRING","'compound'",103],"]",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$factory",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$form",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getConfig",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getFormFactory",104],"(",")",";",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$tokenId",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$options",105],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_id'",105],"]",["T_WHITESPACE"," ",105],"?",":",["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$form",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getName",105],"(",")",["T_WHITESPACE"," ",105],"?",":",["T_WHITESPACE"," ",105],["T_STRING","get_class",105],"(",["T_VARIABLE","$form",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getConfig",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","getType",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","getInnerType",105],"(",")",")",")",";",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$data",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING_CAST","(string)",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$options",106],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_token_manager'",106],"]",["T_OBJECT_OPERATOR","->",106],["T_STRING","getToken",106],"(",["T_VARIABLE","$tokenId",106],")",";",["T_WHITESPACE","\n\n            ",106],["T_VARIABLE","$csrfForm",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$factory",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","createNamed",108],"(",["T_VARIABLE","$options",108],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_field_name'",108],"]",",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Form\\Extension\\Core\\Type\\HiddenType'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$data",108],",",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_WHITESPACE","\n                ",108],["T_CONSTANT_ENCAPSED_STRING","'mapped'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_STRING","false",109],",",["T_WHITESPACE","\n            ",109],")",")",";",["T_WHITESPACE","\n\n            ",110],["T_VARIABLE","$view",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","children",112],"[",["T_VARIABLE","$options",112],"[",["T_CONSTANT_ENCAPSED_STRING","'csrf_field_name'",112],"]","]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$csrfForm",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","createView",112],"(",["T_VARIABLE","$view",112],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","configureOptions",119],"(",["T_STRING","OptionsResolver",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$resolver",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$resolver",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setDefaults",121],"(",["T_ARRAY","array",121],"(",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","'csrf_protection'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","defaultEnabled",122],",",["T_WHITESPACE","\n            ",122],["T_CONSTANT_ENCAPSED_STRING","'csrf_field_name'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","defaultFieldName",123],",",["T_WHITESPACE","\n            ",123],["T_CONSTANT_ENCAPSED_STRING","'csrf_message'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'The CSRF token is invalid. Please try to resubmit the form.'",124],",",["T_WHITESPACE","\n            ",124],["T_CONSTANT_ENCAPSED_STRING","'csrf_token_manager'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","defaultTokenManager",125],",",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","'csrf_token_id'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_STRING","null",126],",",["T_WHITESPACE","\n        ",126],")",")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",130],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","getExtendedType",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Form\\Extension\\Core\\Type\\FormType'",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n",136],"}",["T_WHITESPACE","\n",137]]