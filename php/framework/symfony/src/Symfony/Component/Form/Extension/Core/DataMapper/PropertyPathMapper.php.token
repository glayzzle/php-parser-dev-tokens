[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Extension",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DataMapper",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DataMapperInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","UnexpectedTypeException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PropertyAccess",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PropertyAccess",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PropertyAccess",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PropertyAccessorInterface",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Maps arrays\/objects to\/from forms using property paths.\n *\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",19],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","PropertyPathMapper",24],["T_WHITESPACE"," ",24],["T_IMPLEMENTS","implements",24],["T_WHITESPACE"," ",24],["T_STRING","DataMapperInterface",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * @var PropertyAccessorInterface\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$propertyAccessor",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Creates a new property path mapper.\n     *\n     * @param PropertyAccessorInterface $propertyAccessor The property accessor\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_STRING","PropertyAccessorInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$propertyAccessor",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","null",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","propertyAccessor",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$propertyAccessor",38],["T_WHITESPACE"," ",38],"?",":",["T_WHITESPACE"," ",38],["T_STRING","PropertyAccess",38],["T_DOUBLE_COLON","::",38],["T_STRING","createPropertyAccessor",38],"(",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","mapDataToForms",44],"(",["T_VARIABLE","$data",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$forms",44],")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$empty",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","null",46],["T_WHITESPACE"," ",46],["T_IS_IDENTICAL","===",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$data",46],["T_WHITESPACE"," ",46],["T_BOOLEAN_OR","||",46],["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",["T_WHITESPACE"," ",46],["T_IS_IDENTICAL","===",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$data",46],";",["T_WHITESPACE","\n\n        ",46],["T_IF","if",48],["T_WHITESPACE"," ",48],"(","!",["T_VARIABLE","$empty",48],["T_WHITESPACE"," ",48],["T_BOOLEAN_AND","&&",48],["T_WHITESPACE"," ",48],"!",["T_STRING","is_array",48],"(",["T_VARIABLE","$data",48],")",["T_WHITESPACE"," ",48],["T_BOOLEAN_AND","&&",48],["T_WHITESPACE"," ",48],"!",["T_STRING","is_object",48],"(",["T_VARIABLE","$data",48],")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_THROW","throw",49],["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_STRING","UnexpectedTypeException",49],"(",["T_VARIABLE","$data",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'object, array or empty'",49],")",";",["T_WHITESPACE","\n        ",49],"}",["T_WHITESPACE","\n\n        ",50],["T_FOREACH","foreach",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$forms",52],["T_WHITESPACE"," ",52],["T_AS","as",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$form",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$propertyPath",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$form",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getPropertyPath",53],"(",")",";",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$config",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$form",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getConfig",54],"(",")",";",["T_WHITESPACE","\n\n            ",54],["T_IF","if",56],["T_WHITESPACE"," ",56],"(","!",["T_VARIABLE","$empty",56],["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],["T_STRING","null",56],["T_WHITESPACE"," ",56],["T_IS_NOT_IDENTICAL","!==",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$propertyPath",56],["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$config",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getMapped",56],"(",")",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$form",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","setData",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","propertyAccessor",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getValue",57],"(",["T_VARIABLE","$data",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$propertyPath",57],")",")",";",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE"," ",58],["T_ELSE","else",58],["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$form",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setData",59],"(",["T_VARIABLE","$form",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getConfig",59],"(",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","getData",59],"(",")",")",";",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","mapFormsToData",67],"(",["T_VARIABLE","$forms",67],",",["T_WHITESPACE"," ",67],"&",["T_VARIABLE","$data",67],")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_STRING","null",69],["T_WHITESPACE"," ",69],["T_IS_IDENTICAL","===",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$data",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_RETURN","return",70],";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(","!",["T_STRING","is_array",73],"(",["T_VARIABLE","$data",73],")",["T_WHITESPACE"," ",73],["T_BOOLEAN_AND","&&",73],["T_WHITESPACE"," ",73],"!",["T_STRING","is_object",73],"(",["T_VARIABLE","$data",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_THROW","throw",74],["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_STRING","UnexpectedTypeException",74],"(",["T_VARIABLE","$data",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'object, array or empty'",74],")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_FOREACH","foreach",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$forms",77],["T_WHITESPACE"," ",77],["T_AS","as",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$form",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$propertyPath",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$form",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getPropertyPath",78],"(",")",";",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$config",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$form",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getConfig",79],"(",")",";",["T_WHITESPACE","\n\n            ",79],["T_COMMENT","\/\/ Write-back is disabled if the form is not synchronized (transformation failed),\n",81],["T_WHITESPACE","            ",82],["T_COMMENT","\/\/ if the form was not submitted and if the form is disabled (modification not allowed)\n",82],["T_WHITESPACE","            ",83],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_STRING","null",83],["T_WHITESPACE"," ",83],["T_IS_NOT_IDENTICAL","!==",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$propertyPath",83],["T_WHITESPACE"," ",83],["T_BOOLEAN_AND","&&",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$config",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getMapped",83],"(",")",["T_WHITESPACE"," ",83],["T_BOOLEAN_AND","&&",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$form",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isSubmitted",83],"(",")",["T_WHITESPACE"," ",83],["T_BOOLEAN_AND","&&",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$form",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isSynchronized",83],"(",")",["T_WHITESPACE"," ",83],["T_BOOLEAN_AND","&&",83],["T_WHITESPACE"," ",83],"!",["T_VARIABLE","$form",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isDisabled",83],"(",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                ",83],["T_COMMENT","\/\/ If the field is of type DateTime and the data is the same skip the update to\n",84],["T_WHITESPACE","                ",85],["T_COMMENT","\/\/ keep the original object hash\n",85],["T_WHITESPACE","                ",86],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$form",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getData",86],"(",")",["T_WHITESPACE"," ",86],["T_INSTANCEOF","instanceof",86],["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","DateTime",86],["T_WHITESPACE"," ",86],["T_BOOLEAN_AND","&&",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$form",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getData",86],"(",")",["T_WHITESPACE"," ",86],["T_IS_EQUAL","==",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","propertyAccessor",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getValue",86],"(",["T_VARIABLE","$data",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$propertyPath",86],")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                    ",86],["T_CONTINUE","continue",87],";",["T_WHITESPACE","\n                ",87],"}",["T_WHITESPACE","\n\n                ",88],["T_COMMENT","\/\/ If the data is identical to the value in $data, we are\n",90],["T_WHITESPACE","                ",91],["T_COMMENT","\/\/ dealing with a reference\n",91],["T_WHITESPACE","                ",92],["T_IF","if",92],["T_WHITESPACE"," ",92],"(","!",["T_STRING","is_object",92],"(",["T_VARIABLE","$data",92],")",["T_WHITESPACE"," ",92],["T_BOOLEAN_OR","||",92],["T_WHITESPACE"," ",92],"!",["T_VARIABLE","$config",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getByReference",92],"(",")",["T_WHITESPACE"," ",92],["T_BOOLEAN_OR","||",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$form",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getData",92],"(",")",["T_WHITESPACE"," ",92],["T_IS_NOT_IDENTICAL","!==",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","propertyAccessor",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getValue",92],"(",["T_VARIABLE","$data",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$propertyPath",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","propertyAccessor",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setValue",93],"(",["T_VARIABLE","$data",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$propertyPath",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$form",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getData",93],"(",")",")",";",["T_WHITESPACE","\n                ",93],"}",["T_WHITESPACE","\n            ",94],"}",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n",97],"}",["T_WHITESPACE","\n",98]]