[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Extension",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Validator",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ViolationMapper",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FormInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Util",15],["T_NS_SEPARATOR","\\",15],["T_STRING","InheritDataAwareIterator",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PropertyAccess",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PropertyPathIterator",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PropertyAccess",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PropertyPathBuilder",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PropertyAccess",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PropertyPathIteratorInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Form",19],["T_NS_SEPARATOR","\\",19],["T_STRING","FormError",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Validator",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ConstraintViolation",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",22],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","ViolationMapper",25],["T_WHITESPACE"," ",25],["T_IMPLEMENTS","implements",25],["T_WHITESPACE"," ",25],["T_STRING","ViolationMapperInterface",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$allowNonSynchronized",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","mapViolation",35],"(",["T_STRING","ConstraintViolation",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$violation",35],",",["T_WHITESPACE"," ",35],["T_STRING","FormInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$form",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$allowNonSynchronized",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","false",35],")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","allowNonSynchronized",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$allowNonSynchronized",37],";",["T_WHITESPACE","\n\n        ",37],["T_COMMENT","\/\/ The scope is the currently found most specific form that\n",39],["T_WHITESPACE","        ",40],["T_COMMENT","\/\/ an error should be mapped to. After setting the scope, the\n",40],["T_WHITESPACE","        ",41],["T_COMMENT","\/\/ mapper will try to continue to find more specific matches in\n",41],["T_WHITESPACE","        ",42],["T_COMMENT","\/\/ the children of scope. If it cannot, the error will be\n",42],["T_WHITESPACE","        ",43],["T_COMMENT","\/\/ mapped to this scope.\n",43],["T_WHITESPACE","        ",44],["T_VARIABLE","$scope",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","null",44],";",["T_WHITESPACE","\n\n        ",44],["T_VARIABLE","$violationPath",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","null",46],";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$relativePath",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","null",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$match",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","false",48],";",["T_WHITESPACE","\n\n        ",48],["T_COMMENT","\/\/ Don't create a ViolationPath instance for empty property paths\n",50],["T_WHITESPACE","        ",51],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_STRING","strlen",51],"(",["T_VARIABLE","$violation",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getPropertyPath",51],"(",")",")",["T_WHITESPACE"," ",51],">",["T_WHITESPACE"," ",51],["T_LNUMBER","0",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$violationPath",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_NEW","new",52],["T_WHITESPACE"," ",52],["T_STRING","ViolationPath",52],"(",["T_VARIABLE","$violation",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getPropertyPath",52],"(",")",")",";",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$relativePath",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","reconstructPath",53],"(",["T_VARIABLE","$violationPath",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$form",53],")",";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n\n        ",54],["T_COMMENT","\/\/ This case happens if the violation path is empty and thus\n",56],["T_WHITESPACE","        ",57],["T_COMMENT","\/\/ the violation should be mapped to the root form\n",57],["T_WHITESPACE","        ",58],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_STRING","null",58],["T_WHITESPACE"," ",58],["T_IS_IDENTICAL","===",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$violationPath",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$scope",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$form",59],";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n\n        ",60],["T_COMMENT","\/\/ In general, mapping happens from the root form to the leaf forms\n",62],["T_WHITESPACE","        ",63],["T_COMMENT","\/\/ First, the rules of the root form are applied to determine\n",63],["T_WHITESPACE","        ",64],["T_COMMENT","\/\/ the subsequent descendant. The rules of this descendant are then\n",64],["T_WHITESPACE","        ",65],["T_COMMENT","\/\/ applied to find the next and so on, until we have found the\n",65],["T_WHITESPACE","        ",66],["T_COMMENT","\/\/ most specific form that matches the violation.\n",66],["T_WHITESPACE","\n        ",67],["T_COMMENT","\/\/ If any of the forms found in this process is not synchronized,\n",68],["T_WHITESPACE","        ",69],["T_COMMENT","\/\/ mapping is aborted. Non-synchronized forms could not reverse\n",69],["T_WHITESPACE","        ",70],["T_COMMENT","\/\/ transform the value entered by the user, thus any further violations\n",70],["T_WHITESPACE","        ",71],["T_COMMENT","\/\/ caused by the (invalid) reverse transformed value should be\n",71],["T_WHITESPACE","        ",72],["T_COMMENT","\/\/ ignored.\n",72],["T_WHITESPACE","\n        ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_STRING","null",74],["T_WHITESPACE"," ",74],["T_IS_NOT_IDENTICAL","!==",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$relativePath",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_COMMENT","\/\/ Set the scope to the root of the relative path\n",75],["T_WHITESPACE","            ",76],["T_COMMENT","\/\/ This root will usually be $form. If the path contains\n",76],["T_WHITESPACE","            ",77],["T_COMMENT","\/\/ an unmapped form though, the last unmapped form found\n",77],["T_WHITESPACE","            ",78],["T_COMMENT","\/\/ will be the root of the path.\n",78],["T_WHITESPACE","            ",79],["T_VARIABLE","$scope",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$relativePath",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getRoot",79],"(",")",";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$it",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","PropertyPathIterator",80],"(",["T_VARIABLE","$relativePath",80],")",";",["T_WHITESPACE","\n\n            ",80],["T_WHILE","while",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","acceptsErrors",82],"(",["T_VARIABLE","$scope",82],")",["T_WHITESPACE"," ",82],["T_BOOLEAN_AND","&&",82],["T_WHITESPACE"," ",82],["T_STRING","null",82],["T_WHITESPACE"," ",82],["T_IS_NOT_IDENTICAL","!==",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$child",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","matchChild",82],"(",["T_VARIABLE","$scope",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$it",82],")",")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$scope",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$child",83],";",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$it",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","next",84],"(",")",";",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$match",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","true",85],";",["T_WHITESPACE","\n            ",85],"}",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_COMMENT","\/\/ This case happens if an error happened in the data under a\n",89],["T_WHITESPACE","        ",90],["T_COMMENT","\/\/ form inheriting its parent data that does not match any of the\n",90],["T_WHITESPACE","        ",91],["T_COMMENT","\/\/ children of that form.\n",91],["T_WHITESPACE","        ",92],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_STRING","null",92],["T_WHITESPACE"," ",92],["T_IS_NOT_IDENTICAL","!==",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$violationPath",92],["T_WHITESPACE"," ",92],["T_BOOLEAN_AND","&&",92],["T_WHITESPACE"," ",92],"!",["T_VARIABLE","$match",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_COMMENT","\/\/ If we could not map the error to anything more specific\n",93],["T_WHITESPACE","            ",94],["T_COMMENT","\/\/ than the root element, map it to the innermost directly\n",94],["T_WHITESPACE","            ",95],["T_COMMENT","\/\/ mapped form of the violation path\n",95],["T_WHITESPACE","            ",96],["T_COMMENT","\/\/ e.g. \"children[foo].children[bar].data.baz\"\n",96],["T_WHITESPACE","            ",97],["T_COMMENT","\/\/ Here the innermost directly mapped child is \"bar\"\n",97],["T_WHITESPACE","\n            ",98],["T_VARIABLE","$scope",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$form",99],";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$it",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","ViolationPathIterator",100],"(",["T_VARIABLE","$violationPath",100],")",";",["T_WHITESPACE","\n\n            ",100],["T_COMMENT","\/\/ Note: acceptsErrors() will always return true for forms inheriting\n",102],["T_WHITESPACE","            ",103],["T_COMMENT","\/\/ their parent data, because these forms can never be non-synchronized\n",103],["T_WHITESPACE","            ",104],["T_COMMENT","\/\/ (they don't do any data transformation on their own)\n",104],["T_WHITESPACE","            ",105],["T_WHILE","while",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","acceptsErrors",105],"(",["T_VARIABLE","$scope",105],")",["T_WHITESPACE"," ",105],["T_BOOLEAN_AND","&&",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$it",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","valid",105],"(",")",["T_WHITESPACE"," ",105],["T_BOOLEAN_AND","&&",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$it",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","mapsForm",105],"(",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(","!",["T_VARIABLE","$scope",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","has",106],"(",["T_VARIABLE","$it",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","current",106],"(",")",")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                    ",106],["T_COMMENT","\/\/ Break if we find a reference to a non-existing child\n",107],["T_WHITESPACE","                    ",108],["T_BREAK","break",108],";",["T_WHITESPACE","\n                ",108],"}",["T_WHITESPACE","\n\n                ",109],["T_VARIABLE","$scope",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$scope",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","get",111],"(",["T_VARIABLE","$it",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","current",111],"(",")",")",";",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$it",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","next",112],"(",")",";",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_COMMENT","\/\/ Follow dot rules until we have the final target\n",116],["T_WHITESPACE","        ",117],["T_VARIABLE","$mapping",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$scope",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getConfig",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getOption",117],"(",["T_CONSTANT_ENCAPSED_STRING","'error_mapping'",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_WHILE","while",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","acceptsErrors",119],"(",["T_VARIABLE","$scope",119],")",["T_WHITESPACE"," ",119],["T_BOOLEAN_AND","&&",119],["T_WHITESPACE"," ",119],["T_ISSET","isset",119],"(",["T_VARIABLE","$mapping",119],"[",["T_CONSTANT_ENCAPSED_STRING","'.'",119],"]",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$dotRule",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_STRING","MappingRule",120],"(",["T_VARIABLE","$scope",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'.'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$mapping",120],"[",["T_CONSTANT_ENCAPSED_STRING","'.'",120],"]",")",";",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$scope",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$dotRule",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getTarget",121],"(",")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$mapping",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$scope",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getConfig",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","getOption",122],"(",["T_CONSTANT_ENCAPSED_STRING","'error_mapping'",122],")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_COMMENT","\/\/ Only add the error if the form is synchronized\n",125],["T_WHITESPACE","        ",126],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","acceptsErrors",126],"(",["T_VARIABLE","$scope",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$scope",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","addError",127],"(",["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","FormError",127],"(",["T_WHITESPACE","\n                ",127],["T_VARIABLE","$violation",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMessage",128],"(",")",",",["T_WHITESPACE","\n                ",128],["T_VARIABLE","$violation",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getMessageTemplate",129],"(",")",",",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$violation",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getParameters",130],"(",")",",",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$violation",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getPlural",131],"(",")",",",["T_WHITESPACE","\n                ",131],["T_VARIABLE","$violation",132],["T_WHITESPACE","\n            ",132],")",")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Tries to match the beginning of the property path at the\n     * current position against the children of the scope.\n     *\n     * If a matching child is found, it is returned. Otherwise\n     * null is returned.\n     *\n     * @param FormInterface                 $form The form to search\n     * @param PropertyPathIteratorInterface $it   The iterator at its current position\n     *\n     * @return null|FormInterface The found match or null\n     *\/",137],["T_WHITESPACE","\n    ",148],["T_PRIVATE","private",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","matchChild",149],"(",["T_STRING","FormInterface",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$form",149],",",["T_WHITESPACE"," ",149],["T_STRING","PropertyPathIteratorInterface",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$it",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$target",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","null",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$chunk",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$foundAtIndex",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","null",153],";",["T_WHITESPACE","\n\n        ",153],["T_COMMENT","\/\/ Construct mapping rules for the given form\n",155],["T_WHITESPACE","        ",156],["T_VARIABLE","$rules",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",")",";",["T_WHITESPACE","\n\n        ",156],["T_FOREACH","foreach",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$form",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getConfig",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getOption",158],"(",["T_CONSTANT_ENCAPSED_STRING","'error_mapping'",158],")",["T_WHITESPACE"," ",158],["T_AS","as",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$propertyPath",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$targetPath",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_COMMENT","\/\/ Dot rules are considered at the very end\n",159],["T_WHITESPACE","            ",160],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",160],["T_WHITESPACE"," ",160],["T_IS_NOT_IDENTICAL","!==",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$propertyPath",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$rules",161],"[","]",["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_NEW","new",161],["T_WHITESPACE"," ",161],["T_STRING","MappingRule",161],"(",["T_VARIABLE","$form",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$propertyPath",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$targetPath",161],")",";",["T_WHITESPACE","\n            ",161],"}",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$children",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","iterator_to_array",165],"(",["T_NEW","new",165],["T_WHITESPACE"," ",165],["T_NS_SEPARATOR","\\",165],["T_STRING","RecursiveIteratorIterator",165],"(",["T_NEW","new",165],["T_WHITESPACE"," ",165],["T_STRING","InheritDataAwareIterator",165],"(",["T_VARIABLE","$form",165],")",")",",",["T_WHITESPACE"," ",165],["T_STRING","false",165],")",";",["T_WHITESPACE","\n\n        ",165],["T_WHILE","while",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$it",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","valid",167],"(",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$it",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","isIndex",168],"(",")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$chunk",169],["T_WHITESPACE"," ",169],["T_CONCAT_EQUAL",".=",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'['",169],".",["T_VARIABLE","$it",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","current",169],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","']'",169],";",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE"," ",170],["T_ELSE","else",170],["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$chunk",171],["T_WHITESPACE"," ",171],["T_CONCAT_EQUAL",".=",171],["T_WHITESPACE"," ",171],"(",["T_CONSTANT_ENCAPSED_STRING","''",171],["T_WHITESPACE"," ",171],["T_IS_IDENTICAL","===",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$chunk",171],["T_WHITESPACE"," ",171],"?",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","''",171],["T_WHITESPACE"," ",171],":",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'.'",171],")",".",["T_VARIABLE","$it",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","current",171],"(",")",";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE","\n\n            ",172],["T_COMMENT","\/\/ Test mapping rules as long as we have any\n",174],["T_WHITESPACE","            ",175],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$rules",175],["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$key",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$rule",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_COMMENT","\/* @var MappingRule $rule *\/",176],["T_WHITESPACE","\n\n                ",176],["T_COMMENT","\/\/ Mapping rule matches completely, terminate.\n",178],["T_WHITESPACE","                ",179],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_STRING","null",179],["T_WHITESPACE"," ",179],["T_IS_NOT_IDENTICAL","!==",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$form",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$rule",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","match",179],"(",["T_VARIABLE","$chunk",179],")",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                    ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$form",180],";",["T_WHITESPACE","\n                ",180],"}",["T_WHITESPACE","\n\n                ",181],["T_COMMENT","\/\/ Keep only rules that have $chunk as prefix\n",183],["T_WHITESPACE","                ",184],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","!",["T_VARIABLE","$rule",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","isPrefix",184],"(",["T_VARIABLE","$chunk",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                    ",184],["T_UNSET","unset",185],"(",["T_VARIABLE","$rules",185],"[",["T_VARIABLE","$key",185],"]",")",";",["T_WHITESPACE","\n                ",185],"}",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n\n            ",187],["T_DOC_COMMENT","\/** @var FormInterface $child *\/",189],["T_WHITESPACE","\n            ",189],["T_FOREACH","foreach",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$children",190],["T_WHITESPACE"," ",190],["T_AS","as",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$i",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$child",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$childPath",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING_CAST","(string)",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$child",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getPropertyPath",191],"(",")",";",["T_WHITESPACE","\n                ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$childPath",192],["T_WHITESPACE"," ",192],["T_IS_IDENTICAL","===",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$chunk",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                    ",192],["T_VARIABLE","$target",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$child",193],";",["T_WHITESPACE","\n                    ",193],["T_VARIABLE","$foundAtIndex",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$it",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","key",194],"(",")",";",["T_WHITESPACE","\n                ",194],"}",["T_WHITESPACE"," ",195],["T_ELSEIF","elseif",195],["T_WHITESPACE"," ",195],"(",["T_LNUMBER","0",195],["T_WHITESPACE"," ",195],["T_IS_IDENTICAL","===",195],["T_WHITESPACE"," ",195],["T_STRING","strpos",195],"(",["T_VARIABLE","$childPath",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$chunk",195],")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                    ",195],["T_CONTINUE","continue",196],";",["T_WHITESPACE","\n                ",196],"}",["T_WHITESPACE","\n\n                ",197],["T_UNSET","unset",199],"(",["T_VARIABLE","$children",199],"[",["T_VARIABLE","$i",199],"]",")",";",["T_WHITESPACE","\n            ",199],"}",["T_WHITESPACE","\n\n            ",200],["T_VARIABLE","$it",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","next",202],"(",")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n\n        ",203],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_STRING","null",205],["T_WHITESPACE"," ",205],["T_IS_NOT_IDENTICAL","!==",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$foundAtIndex",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$it",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","seek",206],"(",["T_VARIABLE","$foundAtIndex",206],")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$target",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * Reconstructs a property path from a violation path and a form tree.\n     *\n     * @param ViolationPath $violationPath The violation path\n     * @param FormInterface $origin        The root form of the tree\n     *\n     * @return RelativePath The reconstructed path\n     *\/",212],["T_WHITESPACE","\n    ",219],["T_PRIVATE","private",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","reconstructPath",220],"(",["T_STRING","ViolationPath",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$violationPath",220],",",["T_WHITESPACE"," ",220],["T_STRING","FormInterface",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$origin",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$propertyPathBuilder",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_NEW","new",222],["T_WHITESPACE"," ",222],["T_STRING","PropertyPathBuilder",222],"(",["T_VARIABLE","$violationPath",222],")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$it",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$violationPath",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getIterator",223],"(",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$scope",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$origin",224],";",["T_WHITESPACE","\n\n        ",224],["T_COMMENT","\/\/ Remember the current index in the builder\n",226],["T_WHITESPACE","        ",227],["T_VARIABLE","$i",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_LNUMBER","0",227],";",["T_WHITESPACE","\n\n        ",227],["T_COMMENT","\/\/ Expand elements that map to a form (like \"children[address]\")\n",229],["T_WHITESPACE","        ",230],["T_FOR","for",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$it",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","rewind",230],"(",")",";",["T_WHITESPACE"," ",230],["T_VARIABLE","$it",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","valid",230],"(",")",["T_WHITESPACE"," ",230],["T_BOOLEAN_AND","&&",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$it",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","mapsForm",230],"(",")",";",["T_WHITESPACE"," ",230],["T_VARIABLE","$it",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","next",230],"(",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(","!",["T_VARIABLE","$scope",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","has",231],"(",["T_VARIABLE","$it",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","current",231],"(",")",")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                ",231],["T_COMMENT","\/\/ Scope relates to a form that does not exist\n",232],["T_WHITESPACE","                ",233],["T_COMMENT","\/\/ Bail out\n",233],["T_WHITESPACE","                ",234],["T_BREAK","break",234],";",["T_WHITESPACE","\n            ",234],"}",["T_WHITESPACE","\n\n            ",235],["T_COMMENT","\/\/ Process child form\n",237],["T_WHITESPACE","            ",238],["T_VARIABLE","$scope",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$scope",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","get",238],"(",["T_VARIABLE","$it",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","current",238],"(",")",")",";",["T_WHITESPACE","\n\n            ",238],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$scope",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getConfig",240],"(",")",["T_OBJECT_OPERATOR","->",240],["T_STRING","getInheritData",240],"(",")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                ",240],["T_COMMENT","\/\/ Form inherits its parent data\n",241],["T_WHITESPACE","                ",242],["T_COMMENT","\/\/ Cut the piece out of the property path and proceed\n",242],["T_WHITESPACE","                ",243],["T_VARIABLE","$propertyPathBuilder",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","remove",243],"(",["T_VARIABLE","$i",243],")",";",["T_WHITESPACE","\n            ",243],"}",["T_WHITESPACE"," ",244],["T_ELSEIF","elseif",244],["T_WHITESPACE"," ",244],"(","!",["T_VARIABLE","$scope",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getConfig",244],"(",")",["T_OBJECT_OPERATOR","->",244],["T_STRING","getMapped",244],"(",")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n                ",244],["T_COMMENT","\/\/ Form is not mapped\n",245],["T_WHITESPACE","                ",246],["T_COMMENT","\/\/ Set the form as new origin and strip everything\n",246],["T_WHITESPACE","                ",247],["T_COMMENT","\/\/ we have so far in the path\n",247],["T_WHITESPACE","                ",248],["T_VARIABLE","$origin",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$scope",248],";",["T_WHITESPACE","\n                ",248],["T_VARIABLE","$propertyPathBuilder",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","remove",249],"(",["T_LNUMBER","0",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$i",249],["T_WHITESPACE"," ",249],"+",["T_WHITESPACE"," ",249],["T_LNUMBER","1",249],")",";",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$i",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_LNUMBER","0",250],";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE"," ",251],["T_ELSE","else",251],["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                ",251],["T_COMMENT","\/* @var \\Symfony\\Component\\PropertyAccess\\PropertyPathInterface $propertyPath *\/",252],["T_WHITESPACE","\n                ",252],["T_VARIABLE","$propertyPath",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$scope",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getPropertyPath",253],"(",")",";",["T_WHITESPACE","\n\n                ",253],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_STRING","null",255],["T_WHITESPACE"," ",255],["T_IS_IDENTICAL","===",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$propertyPath",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                    ",255],["T_COMMENT","\/\/ Property path of a mapped form is null\n",256],["T_WHITESPACE","                    ",257],["T_COMMENT","\/\/ Should not happen, bail out\n",257],["T_WHITESPACE","                    ",258],["T_BREAK","break",258],";",["T_WHITESPACE","\n                ",258],"}",["T_WHITESPACE","\n\n                ",259],["T_VARIABLE","$propertyPathBuilder",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","replace",261],"(",["T_VARIABLE","$i",261],",",["T_WHITESPACE"," ",261],["T_LNUMBER","1",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$propertyPath",261],")",";",["T_WHITESPACE","\n                ",261],["T_VARIABLE","$i",262],["T_WHITESPACE"," ",262],["T_PLUS_EQUAL","+=",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$propertyPath",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getLength",262],"(",")",";",["T_WHITESPACE","\n            ",262],"}",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n\n        ",264],["T_VARIABLE","$finalPath",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$propertyPathBuilder",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getPropertyPath",266],"(",")",";",["T_WHITESPACE","\n\n        ",266],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_STRING","null",268],["T_WHITESPACE"," ",268],["T_IS_NOT_IDENTICAL","!==",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$finalPath",268],["T_WHITESPACE"," ",268],"?",["T_WHITESPACE"," ",268],["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_STRING","RelativePath",268],"(",["T_VARIABLE","$origin",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$finalPath",268],")",["T_WHITESPACE"," ",268],":",["T_WHITESPACE"," ",268],["T_STRING","null",268],";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_DOC_COMMENT","\/**\n     * @param FormInterface $form\n     *\n     * @return bool\n     *\/",271],["T_WHITESPACE","\n    ",275],["T_PRIVATE","private",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","acceptsErrors",276],"(",["T_STRING","FormInterface",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$form",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_COMMENT","\/\/ Ignore non-submitted forms. This happens, for example, in PATCH\n",278],["T_WHITESPACE","        ",279],["T_COMMENT","\/\/ requests.\n",279],["T_WHITESPACE","        ",280],["T_COMMENT","\/\/ https:\/\/github.com\/symfony\/symfony\/pull\/10567\n",280],["T_WHITESPACE","        ",281],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$form",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","isSubmitted",281],"(",")",["T_WHITESPACE"," ",281],["T_BOOLEAN_AND","&&",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","allowNonSynchronized",281],["T_WHITESPACE"," ",281],["T_BOOLEAN_OR","||",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$form",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","isSynchronized",281],"(",")",")",";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n",282],"}",["T_WHITESPACE","\n",283]]