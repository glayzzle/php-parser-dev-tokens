[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpKernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fragment",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpKernel",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Controller",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ControllerReference",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Request",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpKernel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","EventListener",16],["T_NS_SEPARATOR","\\",16],["T_STRING","FragmentListener",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * Adds the possibility to generate a fragment URI for a given Controller.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",18],["T_WHITESPACE","\n",22],["T_ABSTRACT","abstract",23],["T_WHITESPACE"," ",23],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","RoutableFragmentRenderer",23],["T_WHITESPACE"," ",23],["T_IMPLEMENTS","implements",23],["T_WHITESPACE"," ",23],["T_STRING","FragmentRendererInterface",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_PRIVATE","private",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$fragmentPath",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'\/_fragment'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Sets the fragment path that triggers the fragment listener.\n     *\n     * @param string $path The path\n     *\n     * @see FragmentListener\n     *\/",27],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","setFragmentPath",34],"(",["T_VARIABLE","$path",34],")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","fragmentPath",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$path",36],";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Generates a fragment URI for a given controller.\n     *\n     * @param ControllerReference $reference A ControllerReference instance\n     * @param Request             $request   A Request instance\n     * @param bool                $absolute  Whether to generate an absolute URL or not\n     * @param bool                $strict    Whether to allow non-scalar attributes or not\n     *\n     * @return string A fragment URI\n     *\/",39],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","generateFragmentUri",49],"(",["T_STRING","ControllerReference",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$reference",49],",",["T_WHITESPACE"," ",49],["T_STRING","Request",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$request",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$absolute",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","false",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$strict",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","true",49],")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$strict",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","checkNonScalar",52],"(",["T_VARIABLE","$reference",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","attributes",52],")",";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n\n        ",53],["T_COMMENT","\/\/ We need to forward the current _format and _locale values as we don't have\n",55],["T_WHITESPACE","        ",56],["T_COMMENT","\/\/ a proper routing pattern to do the job for us.\n",56],["T_WHITESPACE","        ",57],["T_COMMENT","\/\/ This makes things inconsistent if you switch from rendering a controller\n",57],["T_WHITESPACE","        ",58],["T_COMMENT","\/\/ to rendering a route if the route pattern does not contain the special\n",58],["T_WHITESPACE","        ",59],["T_COMMENT","\/\/ _format and _locale placeholders.\n",59],["T_WHITESPACE","        ",60],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_ISSET","isset",60],"(",["T_VARIABLE","$reference",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","attributes",60],"[",["T_CONSTANT_ENCAPSED_STRING","'_format'",60],"]",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$reference",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","attributes",61],"[",["T_CONSTANT_ENCAPSED_STRING","'_format'",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$request",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getRequestFormat",61],"(",")",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE","\n        ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(","!",["T_ISSET","isset",63],"(",["T_VARIABLE","$reference",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","attributes",63],"[",["T_CONSTANT_ENCAPSED_STRING","'_locale'",63],"]",")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$reference",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","attributes",64],"[",["T_CONSTANT_ENCAPSED_STRING","'_locale'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$request",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getLocale",64],"(",")",";",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$reference",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","attributes",67],"[",["T_CONSTANT_ENCAPSED_STRING","'_controller'",67],"]",["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$reference",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","controller",67],";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$reference",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","query",69],"[",["T_CONSTANT_ENCAPSED_STRING","'_path'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","http_build_query",69],"(",["T_VARIABLE","$reference",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","attributes",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","''",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'&'",69],")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$path",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","fragmentPath",71],".",["T_CONSTANT_ENCAPSED_STRING","'?'",71],".",["T_STRING","http_build_query",71],"(",["T_VARIABLE","$reference",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","query",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","''",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'&'",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$absolute",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$request",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getUriForPath",74],"(",["T_VARIABLE","$path",74],")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$request",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getBaseUrl",77],"(",")",".",["T_VARIABLE","$path",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_PRIVATE","private",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","checkNonScalar",80],"(",["T_VARIABLE","$values",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_FOREACH","foreach",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$values",82],["T_WHITESPACE"," ",82],["T_AS","as",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$key",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$value",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_STRING","is_array",83],"(",["T_VARIABLE","$value",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","checkNonScalar",84],"(",["T_VARIABLE","$value",84],")",";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE"," ",85],["T_ELSEIF","elseif",85],["T_WHITESPACE"," ",85],"(","!",["T_STRING","is_scalar",85],"(",["T_VARIABLE","$value",85],")",["T_WHITESPACE"," ",85],["T_BOOLEAN_AND","&&",85],["T_WHITESPACE"," ",85],["T_STRING","null",85],["T_WHITESPACE"," ",85],["T_IS_NOT_IDENTICAL","!==",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$value",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_THROW","throw",86],["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","LogicException",86],"(",["T_STRING","sprintf",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Controller attributes cannot contain non-scalar\/non-null values (value for key \"%s\" is not a scalar or null).'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$key",86],")",")",";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n",89],"}",["T_WHITESPACE","\n",90]]