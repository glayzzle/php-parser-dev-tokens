[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpKernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fragment",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Response",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","StreamedResponse",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpFoundation",16],["T_NS_SEPARATOR","\\",16],["T_STRING","RequestStack",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpKernel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Controller",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ControllerReference",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Renders a URI that represents a resource fragment.\n *\n * This class handles the rendering of resource fragments that are included into\n * a main resource. The handling of the rendering is managed by specialized renderers.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\n * @see FragmentRendererInterface\n *\/",19],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","FragmentHandler",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$debug",31],";",["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$renderers",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$requestStack",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param RequestStack                $requestStack The Request stack that controls the lifecycle of requests\n     * @param FragmentRendererInterface[] $renderers    An array of FragmentRendererInterface instances\n     * @param bool                        $debug        Whether the debug mode is enabled or not\n     *\/",35],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","__construct",42],"(",["T_STRING","RequestStack",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$requestStack",42],",",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$renderers",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",",",["T_WHITESPACE"," ",42],["T_VARIABLE","$debug",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","false",42],")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","requestStack",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$requestStack",44],";",["T_WHITESPACE","\n        ",44],["T_FOREACH","foreach",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$renderers",45],["T_WHITESPACE"," ",45],["T_AS","as",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$renderer",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","addRenderer",46],"(",["T_VARIABLE","$renderer",46],")",";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","debug",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$debug",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Adds a renderer.\n     *\n     * @param FragmentRendererInterface $renderer A FragmentRendererInterface instance\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","addRenderer",56],"(",["T_STRING","FragmentRendererInterface",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$renderer",56],")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","renderers",58],"[",["T_VARIABLE","$renderer",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getName",58],"(",")","]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$renderer",58],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Renders a URI and returns the Response content.\n     *\n     * Available options:\n     *\n     *  * ignore_errors: true to return an empty string in case of an error\n     *\n     * @param string|ControllerReference $uri      A URI as a string or a ControllerReference instance\n     * @param string                     $renderer The renderer name\n     * @param array                      $options  An array of options\n     *\n     * @return string|null The Response content or null when the Response is streamed\n     *\n     * @throws \\InvalidArgumentException when the renderer does not exist\n     * @throws \\LogicException           when no master request is being handled\n     *\/",61],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","render",77],"(",["T_VARIABLE","$uri",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$renderer",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'inline'",77],",",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$options",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",")",")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(","!",["T_ISSET","isset",79],"(",["T_VARIABLE","$options",79],"[",["T_CONSTANT_ENCAPSED_STRING","'ignore_errors'",79],"]",")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$options",80],"[",["T_CONSTANT_ENCAPSED_STRING","'ignore_errors'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"!",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","debug",80],";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n\n        ",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_ISSET","isset",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","renderers",83],"[",["T_VARIABLE","$renderer",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_THROW","throw",84],["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_NS_SEPARATOR","\\",84],["T_STRING","InvalidArgumentException",84],"(",["T_STRING","sprintf",84],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%s\" renderer does not exist.'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$renderer",84],")",")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n\n        ",85],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_VARIABLE","$request",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","requestStack",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getCurrentRequest",87],"(",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_THROW","throw",88],["T_WHITESPACE"," ",88],["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_NS_SEPARATOR","\\",88],["T_STRING","LogicException",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Rendering a fragment can only be done when handling a Request.'",88],")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","deliver",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","renderers",91],"[",["T_VARIABLE","$renderer",91],"]",["T_OBJECT_OPERATOR","->",91],["T_STRING","render",91],"(",["T_VARIABLE","$uri",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$request",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$options",91],")",")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Delivers the Response as a string.\n     *\n     * When the Response is a StreamedResponse, the content is streamed immediately\n     * instead of being returned.\n     *\n     * @param Response $response A Response instance\n     *\n     * @return string|null The Response content or null when the Response is streamed\n     *\n     * @throws \\RuntimeException when the Response is not successful\n     *\/",94],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","deliver",106],"(",["T_STRING","Response",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$response",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_VARIABLE","$response",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","isSuccessful",108],"(",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_THROW","throw",109],["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_NS_SEPARATOR","\\",109],["T_STRING","RuntimeException",109],"(",["T_STRING","sprintf",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Error when rendering \"%s\" (Status code is %s).'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","requestStack",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getCurrentRequest",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getUri",109],"(",")",",",["T_WHITESPACE"," ",109],["T_VARIABLE","$response",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getStatusCode",109],"(",")",")",")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(","!",["T_VARIABLE","$response",112],["T_WHITESPACE"," ",112],["T_INSTANCEOF","instanceof",112],["T_WHITESPACE"," ",112],["T_STRING","StreamedResponse",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$response",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getContent",113],"(",")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$response",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","sendContent",116],"(",")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n",117],"}",["T_WHITESPACE","\n",118]]