[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpKernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fragment",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","RequestStack",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpKernel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Controller",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ArgumentResolver",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpKernel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Controller",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ControllerResolverInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpKernel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Controller",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ControllerReference",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","HttpKernel",18],["T_NS_SEPARATOR","\\",18],["T_STRING","HttpKernel",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpKernel",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Fragment",19],["T_NS_SEPARATOR","\\",19],["T_STRING","InlineFragmentRenderer",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","HttpKernel",20],["T_NS_SEPARATOR","\\",20],["T_STRING","KernelEvents",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","HttpFoundation",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Request",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","HttpFoundation",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Response",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","EventDispatcher",23],["T_NS_SEPARATOR","\\",23],["T_STRING","EventDispatcher",23],";",["T_WHITESPACE","\n\n",23],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","InlineFragmentRendererTest",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","PHPUnit_Framework_TestCase",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testRender",27],"(",")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$strategy",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_NEW","new",29],["T_WHITESPACE"," ",29],["T_STRING","InlineFragmentRenderer",29],"(",["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getKernel",29],"(",["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","returnValue",29],"(",["T_NEW","new",29],["T_WHITESPACE"," ",29],["T_STRING","Response",29],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",29],")",")",")",")",";",["T_WHITESPACE","\n\n        ",29],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertEquals",31],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$strategy",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","render",31],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",31],",",["T_WHITESPACE"," ",31],["T_STRING","Request",31],["T_DOUBLE_COLON","::",31],["T_STRING","create",31],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",31],")",")",["T_OBJECT_OPERATOR","->",31],["T_STRING","getContent",31],"(",")",")",";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n\n    ",32],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","testRenderWithControllerReference",34],"(",")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$strategy",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STRING","InlineFragmentRenderer",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getKernel",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","returnValue",36],"(",["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STRING","Response",36],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",36],")",")",")",")",";",["T_WHITESPACE","\n\n        ",36],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertEquals",38],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$strategy",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","render",38],"(",["T_NEW","new",38],["T_WHITESPACE"," ",38],["T_STRING","ControllerReference",38],"(",["T_CONSTANT_ENCAPSED_STRING","'main_controller'",38],",",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",",",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",")",",",["T_WHITESPACE"," ",38],["T_STRING","Request",38],["T_DOUBLE_COLON","::",38],["T_STRING","create",38],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",38],")",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","getContent",38],"(",")",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testRenderWithObjectsAsAttributes",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$object",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_NS_SEPARATOR","\\",43],["T_STRING","stdClass",43],"(",")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$subRequest",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","Request",45],["T_DOUBLE_COLON","::",45],["T_STRING","create",45],"(",["T_CONSTANT_ENCAPSED_STRING","'\/_fragment?_path=_format%3Dhtml%26_locale%3Den%26_controller%3Dmain_controller'",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$subRequest",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","attributes",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","replace",46],"(",["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$object",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'_format'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'html'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'_controller'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'main_controller'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'_locale'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'en'",46],")",")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$subRequest",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","headers",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","set",47],"(",["T_CONSTANT_ENCAPSED_STRING","'x-forwarded-for'",47],",",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",47],")",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$subRequest",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","server",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","set",48],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",48],")",";",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$strategy",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","InlineFragmentRenderer",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getKernelExpectingRequest",50],"(",["T_VARIABLE","$subRequest",50],")",")",";",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$strategy",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","render",52],"(",["T_NEW","new",52],["T_WHITESPACE"," ",52],["T_STRING","ControllerReference",52],"(",["T_CONSTANT_ENCAPSED_STRING","'main_controller'",52],",",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$object",52],")",",",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",")",",",["T_WHITESPACE"," ",52],["T_STRING","Request",52],["T_DOUBLE_COLON","::",52],["T_STRING","create",52],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",52],")",")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @group legacy\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","testRenderWithObjectsAsAttributesPassedAsObjectsInTheControllerLegacy",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$resolver",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMockBuilder",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\\\Component\\\\HttpKernel\\\\Controller\\\\ControllerResolver'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","setMethods",60],"(",["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'getController'",60],")",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$resolver",61],["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","expects",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","once",62],"(",")",")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","method",63],"(",["T_CONSTANT_ENCAPSED_STRING","'getController'",63],")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","will",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","returnValue",64],"(",["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],"(",["T_NS_SEPARATOR","\\",64],["T_STRING","stdClass",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$object",64],",",["T_WHITESPACE"," ",64],["T_STRING","Bar",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$object1",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","Response",65],"(",["T_VARIABLE","$object1",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getBar",65],"(",")",")",";",["T_WHITESPACE","\n            ",65],"}",")",")",["T_WHITESPACE","\n        ",66],";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$kernel",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","HttpKernel",69],"(",["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","EventDispatcher",69],"(",")",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$resolver",69],",",["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","RequestStack",69],"(",")",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$renderer",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","InlineFragmentRenderer",70],"(",["T_VARIABLE","$kernel",70],")",";",["T_WHITESPACE","\n\n        ",70],["T_VARIABLE","$response",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$renderer",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","render",72],"(",["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","ControllerReference",72],"(",["T_CONSTANT_ENCAPSED_STRING","'main_controller'",72],",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","stdClass",72],"(",")",",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'object1'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","Bar",72],"(",")",")",",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",")",")",",",["T_WHITESPACE"," ",72],["T_STRING","Request",72],["T_DOUBLE_COLON","::",72],["T_STRING","create",72],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",72],")",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEquals",73],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$response",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getContent",73],"(",")",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @group legacy\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testRenderWithObjectsAsAttributesPassedAsObjectsInTheController",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$resolver",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getMockBuilder",81],"(",["T_STRING","ControllerResolverInterface",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","getMock",81],"(",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$resolver",82],["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","expects",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","once",83],"(",")",")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","method",84],"(",["T_CONSTANT_ENCAPSED_STRING","'getController'",84],")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","will",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","returnValue",85],"(",["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],"(",["T_NS_SEPARATOR","\\",85],["T_STRING","stdClass",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$object",85],",",["T_WHITESPACE"," ",85],["T_STRING","Bar",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$object1",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","Response",86],"(",["T_VARIABLE","$object1",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getBar",86],"(",")",")",";",["T_WHITESPACE","\n            ",86],"}",")",")",["T_WHITESPACE","\n        ",87],";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$kernel",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","HttpKernel",90],"(",["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","EventDispatcher",90],"(",")",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$resolver",90],",",["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","RequestStack",90],"(",")",",",["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","ArgumentResolver",90],"(",")",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$renderer",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","InlineFragmentRenderer",91],"(",["T_VARIABLE","$kernel",91],")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$response",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$renderer",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","render",93],"(",["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","ControllerReference",93],"(",["T_CONSTANT_ENCAPSED_STRING","'main_controller'",93],",",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","stdClass",93],"(",")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'object1'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","Bar",93],"(",")",")",",",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",")",")",",",["T_WHITESPACE"," ",93],["T_STRING","Request",93],["T_DOUBLE_COLON","::",93],["T_STRING","create",93],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",93],")",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEquals",94],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$response",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getContent",94],"(",")",")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","testRenderWithTrustedHeaderDisabled",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$trustedHeaderName",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","Request",99],["T_DOUBLE_COLON","::",99],["T_STRING","getTrustedHeaderName",99],"(",["T_STRING","Request",99],["T_DOUBLE_COLON","::",99],["T_STRING","HEADER_CLIENT_IP",99],")",";",["T_WHITESPACE","\n\n        ",99],["T_STRING","Request",101],["T_DOUBLE_COLON","::",101],["T_STRING","setTrustedHeaderName",101],"(",["T_STRING","Request",101],["T_DOUBLE_COLON","::",101],["T_STRING","HEADER_CLIENT_IP",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","''",101],")",";",["T_WHITESPACE","\n\n        ",101],["T_VARIABLE","$strategy",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","InlineFragmentRenderer",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getKernelExpectingRequest",103],"(",["T_STRING","Request",103],["T_DOUBLE_COLON","::",103],["T_STRING","create",103],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",103],")",")",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$strategy",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","render",104],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",104],",",["T_WHITESPACE"," ",104],["T_STRING","Request",104],["T_DOUBLE_COLON","::",104],["T_STRING","create",104],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",104],")",")",";",["T_WHITESPACE","\n\n        ",104],["T_STRING","Request",106],["T_DOUBLE_COLON","::",106],["T_STRING","setTrustedHeaderName",106],"(",["T_STRING","Request",106],["T_DOUBLE_COLON","::",106],["T_STRING","HEADER_CLIENT_IP",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$trustedHeaderName",106],")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * @expectedException \\RuntimeException\n     *\/",109],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","testRenderExceptionNoIgnoreErrors",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$dispatcher",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getMockBuilder",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\EventDispatcher\\EventDispatcherInterface'",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getMock",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$dispatcher",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","expects",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","never",115],"(",")",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","method",115],"(",["T_CONSTANT_ENCAPSED_STRING","'dispatch'",115],")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$strategy",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","InlineFragmentRenderer",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getKernel",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","throwException",117],"(",["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_NS_SEPARATOR","\\",117],["T_STRING","RuntimeException",117],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",117],")",")",")",",",["T_WHITESPACE"," ",117],["T_VARIABLE","$dispatcher",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEquals",119],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$strategy",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","render",119],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",119],",",["T_WHITESPACE"," ",119],["T_STRING","Request",119],["T_DOUBLE_COLON","::",119],["T_STRING","create",119],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",119],")",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getContent",119],"(",")",")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","testRenderExceptionIgnoreErrors",122],"(",")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$dispatcher",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMockBuilder",124],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\EventDispatcher\\EventDispatcherInterface'",124],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","getMock",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$dispatcher",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","expects",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","once",125],"(",")",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","method",125],"(",["T_CONSTANT_ENCAPSED_STRING","'dispatch'",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","with",125],"(",["T_STRING","KernelEvents",125],["T_DOUBLE_COLON","::",125],["T_STRING","EXCEPTION",125],")",";",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$strategy",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","InlineFragmentRenderer",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getKernel",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","throwException",127],"(",["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_NS_SEPARATOR","\\",127],["T_STRING","RuntimeException",127],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",127],")",")",")",",",["T_WHITESPACE"," ",127],["T_VARIABLE","$dispatcher",127],")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertEmpty",129],"(",["T_VARIABLE","$strategy",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","render",129],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",129],",",["T_WHITESPACE"," ",129],["T_STRING","Request",129],["T_DOUBLE_COLON","::",129],["T_STRING","create",129],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",129],")",",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_CONSTANT_ENCAPSED_STRING","'ignore_errors'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_STRING","true",129],")",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getContent",129],"(",")",")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","testRenderExceptionIgnoreErrorsWithAlt",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$strategy",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","InlineFragmentRenderer",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getKernel",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","onConsecutiveCalls",134],"(",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","throwException",135],"(",["T_NEW","new",135],["T_WHITESPACE"," ",135],["T_NS_SEPARATOR","\\",135],["T_STRING","RuntimeException",135],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",135],")",")",",",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","returnValue",136],"(",["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_STRING","Response",136],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",136],")",")",["T_WHITESPACE","\n        ",136],")",")",")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertEquals",139],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$strategy",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","render",139],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",139],",",["T_WHITESPACE"," ",139],["T_STRING","Request",139],["T_DOUBLE_COLON","::",139],["T_STRING","create",139],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",139],")",",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'ignore_errors'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_STRING","true",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'alt'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'\/foo'",139],")",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","getContent",139],"(",")",")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_PRIVATE","private",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","getKernel",142],"(",["T_VARIABLE","$returnValue",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$kernel",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getMockBuilder",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","getMock",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$kernel",145],["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","expects",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","any",146],"(",")",")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","method",147],"(",["T_CONSTANT_ENCAPSED_STRING","'handle'",147],")",["T_WHITESPACE","\n            ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","will",148],"(",["T_VARIABLE","$returnValue",148],")",["T_WHITESPACE","\n        ",148],";",["T_WHITESPACE","\n\n        ",149],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$kernel",151],";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Creates a Kernel expecting a request equals to $request\n     * Allows delta in comparison in case REQUEST_TIME changed by 1 second.\n     *\/",154],["T_WHITESPACE","\n    ",157],["T_PRIVATE","private",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","getKernelExpectingRequest",158],"(",["T_STRING","Request",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$request",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$kernel",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getMockBuilder",160],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",160],")",["T_OBJECT_OPERATOR","->",160],["T_STRING","getMock",160],"(",")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$kernel",161],["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","expects",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","any",162],"(",")",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'handle'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","with",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","equalTo",164],"(",["T_VARIABLE","$request",164],",",["T_WHITESPACE"," ",164],["T_LNUMBER","1",164],")",")",["T_WHITESPACE","\n        ",164],";",["T_WHITESPACE","\n\n        ",165],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$kernel",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","testExceptionInSubRequestsDoesNotMangleOutputBuffers",170],"(",")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$controllerResolver",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMockBuilder",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\\\Component\\\\HttpKernel\\\\Controller\\\\ControllerResolverInterface'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","getMock",172],"(",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$controllerResolver",173],["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","expects",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","once",174],"(",")",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","method",175],"(",["T_CONSTANT_ENCAPSED_STRING","'getController'",175],")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","will",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","returnValue",176],"(",["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],"(",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_STRING","ob_start",177],"(",")",";",["T_WHITESPACE","\n                ",177],["T_ECHO","echo",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'bar'",178],";",["T_WHITESPACE","\n                ",178],["T_THROW","throw",179],["T_WHITESPACE"," ",179],["T_NEW","new",179],["T_WHITESPACE"," ",179],["T_NS_SEPARATOR","\\",179],["T_STRING","RuntimeException",179],"(",")",";",["T_WHITESPACE","\n            ",179],"}",")",")",["T_WHITESPACE","\n        ",180],";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$argumentResolver",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getMockBuilder",183],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\\\Component\\\\HttpKernel\\\\Controller\\\\ArgumentResolverInterface'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","getMock",183],"(",")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$argumentResolver",184],["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","expects",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","once",185],"(",")",")",["T_WHITESPACE","\n            ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","method",186],"(",["T_CONSTANT_ENCAPSED_STRING","'getArguments'",186],")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","will",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","returnValue",187],"(",["T_ARRAY","array",187],"(",")",")",")",["T_WHITESPACE","\n        ",187],";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$kernel",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_STRING","HttpKernel",190],"(",["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_STRING","EventDispatcher",190],"(",")",",",["T_WHITESPACE"," ",190],["T_VARIABLE","$controllerResolver",190],",",["T_WHITESPACE"," ",190],["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_STRING","RequestStack",190],"(",")",",",["T_WHITESPACE"," ",190],["T_VARIABLE","$argumentResolver",190],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$renderer",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_NEW","new",191],["T_WHITESPACE"," ",191],["T_STRING","InlineFragmentRenderer",191],"(",["T_VARIABLE","$kernel",191],")",";",["T_WHITESPACE","\n\n        ",191],["T_COMMENT","\/\/ simulate a main request with output buffering\n",193],["T_WHITESPACE","        ",194],["T_STRING","ob_start",194],"(",")",";",["T_WHITESPACE","\n        ",194],["T_ECHO","echo",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'Foo'",195],";",["T_WHITESPACE","\n\n        ",195],["T_COMMENT","\/\/ simulate a sub-request with output buffering and an exception\n",197],["T_WHITESPACE","        ",198],["T_VARIABLE","$renderer",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","render",198],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",198],",",["T_WHITESPACE"," ",198],["T_STRING","Request",198],["T_DOUBLE_COLON","::",198],["T_STRING","create",198],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",198],")",",",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'ignore_errors'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_STRING","true",198],")",")",";",["T_WHITESPACE","\n\n        ",198],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertEquals",200],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo'",200],",",["T_WHITESPACE"," ",200],["T_STRING","ob_get_clean",200],"(",")",")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","testESIHeaderIsKeptInSubrequest",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$expectedSubRequest",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","Request",205],["T_DOUBLE_COLON","::",205],["T_STRING","create",205],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$expectedSubRequest",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","headers",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","set",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Capability'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'abc=\"ESI\/1.0\"'",206],")",";",["T_WHITESPACE","\n\n        ",206],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_STRING","Request",208],["T_DOUBLE_COLON","::",208],["T_STRING","getTrustedHeaderName",208],"(",["T_STRING","Request",208],["T_DOUBLE_COLON","::",208],["T_STRING","HEADER_CLIENT_IP",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$expectedSubRequest",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","headers",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","set",209],"(",["T_CONSTANT_ENCAPSED_STRING","'x-forwarded-for'",209],",",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",209],")",")",";",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$expectedSubRequest",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","server",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","set",210],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",210],")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$strategy",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_NEW","new",213],["T_WHITESPACE"," ",213],["T_STRING","InlineFragmentRenderer",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getKernelExpectingRequest",213],"(",["T_VARIABLE","$expectedSubRequest",213],")",")",";",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$request",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","Request",215],["T_DOUBLE_COLON","::",215],["T_STRING","create",215],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",215],")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$request",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","headers",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","set",216],"(",["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Capability'",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'abc=\"ESI\/1.0\"'",216],")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$strategy",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","render",217],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$request",217],")",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","testESIHeaderIsKeptInSubrequestWithTrustedHeaderDisabled",220],"(",")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$trustedHeaderName",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","Request",222],["T_DOUBLE_COLON","::",222],["T_STRING","getTrustedHeaderName",222],"(",["T_STRING","Request",222],["T_DOUBLE_COLON","::",222],["T_STRING","HEADER_CLIENT_IP",222],")",";",["T_WHITESPACE","\n        ",222],["T_STRING","Request",223],["T_DOUBLE_COLON","::",223],["T_STRING","setTrustedHeaderName",223],"(",["T_STRING","Request",223],["T_DOUBLE_COLON","::",223],["T_STRING","HEADER_CLIENT_IP",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","''",223],")",";",["T_WHITESPACE","\n\n        ",223],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","testESIHeaderIsKeptInSubrequest",225],"(",")",";",["T_WHITESPACE","\n\n        ",225],["T_STRING","Request",227],["T_DOUBLE_COLON","::",227],["T_STRING","setTrustedHeaderName",227],"(",["T_STRING","Request",227],["T_DOUBLE_COLON","::",227],["T_STRING","HEADER_CLIENT_IP",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$trustedHeaderName",227],")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","testHeadersPossiblyResultingIn304AreNotAssignedToSubrequest",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$expectedSubRequest",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","Request",232],["T_DOUBLE_COLON","::",232],["T_STRING","create",232],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",232],")",";",["T_WHITESPACE","\n        ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_STRING","Request",233],["T_DOUBLE_COLON","::",233],["T_STRING","getTrustedHeaderName",233],"(",["T_STRING","Request",233],["T_DOUBLE_COLON","::",233],["T_STRING","HEADER_CLIENT_IP",233],")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$expectedSubRequest",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","headers",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","set",234],"(",["T_CONSTANT_ENCAPSED_STRING","'x-forwarded-for'",234],",",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",234],")",")",";",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$expectedSubRequest",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","server",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","set",235],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",235],")",";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n\n        ",236],["T_VARIABLE","$strategy",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_NEW","new",238],["T_WHITESPACE"," ",238],["T_STRING","InlineFragmentRenderer",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getKernelExpectingRequest",238],"(",["T_VARIABLE","$expectedSubRequest",238],")",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$request",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","Request",239],["T_DOUBLE_COLON","::",239],["T_STRING","create",239],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'GET'",239],",",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",")",",",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",")",",",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",")",",",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'Fri, 01 Jan 2016 00:00:00 GMT'",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'*'",239],")",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$strategy",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","render",240],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$request",240],")",";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n",241],"}",["T_WHITESPACE","\n\n",242],["T_CLASS","class",244],["T_WHITESPACE"," ",244],["T_STRING","Bar",244],["T_WHITESPACE","\n",244],"{",["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$bar",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'bar'",246],";",["T_WHITESPACE","\n\n    ",246],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","getBar",248],"(",")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","bar",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n",251],"}",["T_WHITESPACE","\n",252]]