[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EventDispatcher",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EventDispatcher",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","HttpFoundation",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Request",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","RequestStack",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Response",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpKernel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Controller",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ArgumentResolver",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpKernel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Controller",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ControllerResolver",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","HttpKernel",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EventListener",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ExceptionListener",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpKernel",19],["T_NS_SEPARATOR","\\",19],["T_STRING","EventListener",19],["T_NS_SEPARATOR","\\",19],["T_STRING","RouterListener",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","HttpKernel",20],["T_NS_SEPARATOR","\\",20],["T_STRING","EventListener",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ValidateRequestListener",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","HttpKernel",21],["T_NS_SEPARATOR","\\",21],["T_STRING","HttpKernelInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","HttpKernel",22],["T_NS_SEPARATOR","\\",22],["T_STRING","HttpKernel",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","HttpKernel",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Event",23],["T_NS_SEPARATOR","\\",23],["T_STRING","GetResponseEvent",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Symfony",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Component",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Routing",24],["T_NS_SEPARATOR","\\",24],["T_STRING","RequestContext",24],";",["T_WHITESPACE","\n\n",24],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","RouterListenerTest",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_NS_SEPARATOR","\\",26],["T_STRING","PHPUnit_Framework_TestCase",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$requestStack",28],";",["T_WHITESPACE","\n\n    ",28],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","requestStack",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getMockBuilder",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\RequestStack'",32],")",["T_OBJECT_OPERATOR","->",32],["T_STRING","disableOriginalConstructor",32],"(",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","getMock",32],"(",")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @dataProvider getPortData\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","testPort",38],"(",["T_VARIABLE","$defaultHttpPort",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$defaultHttpsPort",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$uri",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$expectedHttpPort",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$expectedHttpsPort",38],")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$urlMatcher",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getMockBuilder",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Routing\\Matcher\\UrlMatcherInterface'",40],")",["T_WHITESPACE","\n                             ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","disableOriginalConstructor",41],"(",")",["T_WHITESPACE","\n                             ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","getMock",42],"(",")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$context",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","RequestContext",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$context",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setHttpPort",44],"(",["T_VARIABLE","$defaultHttpPort",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$context",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setHttpsPort",45],"(",["T_VARIABLE","$defaultHttpsPort",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$urlMatcher",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","expects",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","any",46],"(",")",")",["T_WHITESPACE","\n                     ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","method",47],"(",["T_CONSTANT_ENCAPSED_STRING","'getContext'",47],")",["T_WHITESPACE","\n                     ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","will",48],"(",["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","returnValue",48],"(",["T_VARIABLE","$context",48],")",")",";",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$listener",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","RouterListener",50],"(",["T_VARIABLE","$urlMatcher",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","requestStack",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$event",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","createGetResponseEventForUri",51],"(",["T_VARIABLE","$uri",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$listener",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","onKernelRequest",52],"(",["T_VARIABLE","$event",52],")",";",["T_WHITESPACE","\n\n        ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEquals",54],"(",["T_VARIABLE","$expectedHttpPort",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$context",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getHttpPort",54],"(",")",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertEquals",55],"(",["T_VARIABLE","$expectedHttpsPort",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$context",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getHttpsPort",55],"(",")",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertEquals",56],"(",["T_LNUMBER","0",56],["T_WHITESPACE"," ",56],["T_IS_IDENTICAL","===",56],["T_WHITESPACE"," ",56],["T_STRING","strpos",56],"(",["T_VARIABLE","$uri",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'https'",56],")",["T_WHITESPACE"," ",56],"?",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'https'",56],["T_WHITESPACE"," ",56],":",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'http'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$context",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getScheme",56],"(",")",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","getPortData",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_WHITESPACE","\n            ",61],["T_ARRAY","array",62],"(",["T_LNUMBER","80",62],",",["T_WHITESPACE"," ",62],["T_LNUMBER","443",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",62],",",["T_WHITESPACE"," ",62],["T_LNUMBER","80",62],",",["T_WHITESPACE"," ",62],["T_LNUMBER","443",62],")",",",["T_WHITESPACE","\n            ",62],["T_ARRAY","array",63],"(",["T_LNUMBER","80",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","443",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost:90\/'",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","90",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","443",63],")",",",["T_WHITESPACE","\n            ",63],["T_ARRAY","array",64],"(",["T_LNUMBER","80",64],",",["T_WHITESPACE"," ",64],["T_LNUMBER","443",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/localhost\/'",64],",",["T_WHITESPACE"," ",64],["T_LNUMBER","80",64],",",["T_WHITESPACE"," ",64],["T_LNUMBER","443",64],")",",",["T_WHITESPACE","\n            ",64],["T_ARRAY","array",65],"(",["T_LNUMBER","80",65],",",["T_WHITESPACE"," ",65],["T_LNUMBER","443",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/localhost:90\/'",65],",",["T_WHITESPACE"," ",65],["T_LNUMBER","80",65],",",["T_WHITESPACE"," ",65],["T_LNUMBER","90",65],")",",",["T_WHITESPACE","\n        ",65],")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @param string $uri\n     *\n     * @return GetResponseEvent\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PRIVATE","private",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","createGetResponseEventForUri",74],"(",["T_VARIABLE","$uri",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$kernel",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getMockBuilder",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getMock",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$request",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","Request",77],["T_DOUBLE_COLON","::",77],["T_STRING","create",77],"(",["T_VARIABLE","$uri",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$request",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","attributes",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","set",78],"(",["T_CONSTANT_ENCAPSED_STRING","'_controller'",78],",",["T_WHITESPACE"," ",78],["T_STRING","null",78],")",";",["T_WHITESPACE"," ",78],["T_COMMENT","\/\/ Prevents going in to routing process\n",78],["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","GetResponseEvent",80],"(",["T_VARIABLE","$kernel",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$request",80],",",["T_WHITESPACE"," ",80],["T_STRING","HttpKernelInterface",80],["T_DOUBLE_COLON","::",80],["T_STRING","MASTER_REQUEST",80],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @expectedException \\InvalidArgumentException\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testInvalidMatcher",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_STRING","RouterListener",88],"(",["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_NS_SEPARATOR","\\",88],["T_STRING","stdClass",88],"(",")",",",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","requestStack",88],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","testRequestMatcher",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$kernel",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getMockBuilder",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getMock",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$request",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","Request",94],["T_DOUBLE_COLON","::",94],["T_STRING","create",94],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$event",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","GetResponseEvent",95],"(",["T_VARIABLE","$kernel",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$request",95],",",["T_WHITESPACE"," ",95],["T_STRING","HttpKernelInterface",95],["T_DOUBLE_COLON","::",95],["T_STRING","MASTER_REQUEST",95],")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$requestMatcher",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMockBuilder",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Routing\\Matcher\\RequestMatcherInterface'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getMock",97],"(",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$requestMatcher",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","expects",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","once",98],"(",")",")",["T_WHITESPACE","\n                       ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","method",99],"(",["T_CONSTANT_ENCAPSED_STRING","'matchRequest'",99],")",["T_WHITESPACE","\n                       ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","with",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","isInstanceOf",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\Request'",100],")",")",["T_WHITESPACE","\n                       ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","will",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","returnValue",101],"(",["T_ARRAY","array",101],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",101],["T_VARIABLE","$listener",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","RouterListener",103],"(",["T_VARIABLE","$requestMatcher",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","requestStack",103],",",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","RequestContext",103],"(",")",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$listener",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","onKernelRequest",104],"(",["T_VARIABLE","$event",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","testSubRequestWithDifferentMethod",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$kernel",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getMockBuilder",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",109],")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getMock",109],"(",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$request",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","Request",110],["T_DOUBLE_COLON","::",110],["T_STRING","create",110],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'post'",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$event",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_STRING","GetResponseEvent",111],"(",["T_VARIABLE","$kernel",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$request",111],",",["T_WHITESPACE"," ",111],["T_STRING","HttpKernelInterface",111],["T_DOUBLE_COLON","::",111],["T_STRING","MASTER_REQUEST",111],")",";",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$requestMatcher",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getMockBuilder",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Routing\\Matcher\\RequestMatcherInterface'",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getMock",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$requestMatcher",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","expects",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","any",114],"(",")",")",["T_WHITESPACE","\n                       ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","method",115],"(",["T_CONSTANT_ENCAPSED_STRING","'matchRequest'",115],")",["T_WHITESPACE","\n                       ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","with",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","isInstanceOf",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\Request'",116],")",")",["T_WHITESPACE","\n                       ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","will",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","returnValue",117],"(",["T_ARRAY","array",117],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$context",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","RequestContext",119],"(",")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$listener",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","RouterListener",121],"(",["T_VARIABLE","$requestMatcher",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","requestStack",121],",",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","RequestContext",121],"(",")",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$listener",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","onKernelRequest",122],"(",["T_VARIABLE","$event",122],")",";",["T_WHITESPACE","\n\n        ",122],["T_COMMENT","\/\/ sub-request with another HTTP method\n",124],["T_WHITESPACE","        ",125],["T_VARIABLE","$kernel",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getMockBuilder",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getMock",125],"(",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$request",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","Request",126],["T_DOUBLE_COLON","::",126],["T_STRING","create",126],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'get'",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$event",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","GetResponseEvent",127],"(",["T_VARIABLE","$kernel",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$request",127],",",["T_WHITESPACE"," ",127],["T_STRING","HttpKernelInterface",127],["T_DOUBLE_COLON","::",127],["T_STRING","SUB_REQUEST",127],")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$listener",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","onKernelRequest",129],"(",["T_VARIABLE","$event",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEquals",131],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$context",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getMethod",131],"(",")",")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * @dataProvider getLoggingParameterData\n     *\/",134],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","testLoggingParameter",137],"(",["T_VARIABLE","$parameter",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$log",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$parameters",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$requestMatcher",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMockBuilder",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Routing\\Matcher\\RequestMatcherInterface'",139],")",["T_OBJECT_OPERATOR","->",139],["T_STRING","getMock",139],"(",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$requestMatcher",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","expects",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","once",140],"(",")",")",["T_WHITESPACE","\n          ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","method",141],"(",["T_CONSTANT_ENCAPSED_STRING","'matchRequest'",141],")",["T_WHITESPACE","\n          ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","will",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","returnValue",142],"(",["T_VARIABLE","$parameter",142],")",")",";",["T_WHITESPACE","\n\n        ",142],["T_VARIABLE","$logger",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getMockBuilder",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Psr\\Log\\LoggerInterface'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","getMock",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$logger",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","expects",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","once",145],"(",")",")",["T_WHITESPACE","\n          ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","method",146],"(",["T_CONSTANT_ENCAPSED_STRING","'info'",146],")",["T_WHITESPACE","\n          ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","with",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","equalTo",147],"(",["T_VARIABLE","$log",147],")",",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","equalTo",147],"(",["T_VARIABLE","$parameters",147],")",")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$kernel",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getMockBuilder",149],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",149],")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getMock",149],"(",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$request",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","Request",150],["T_DOUBLE_COLON","::",150],["T_STRING","create",150],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",150],")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$listener",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","RouterListener",152],"(",["T_VARIABLE","$requestMatcher",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","requestStack",152],",",["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","RequestContext",152],"(",")",",",["T_WHITESPACE"," ",152],["T_VARIABLE","$logger",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$listener",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","onKernelRequest",153],"(",["T_NEW","new",153],["T_WHITESPACE"," ",153],["T_STRING","GetResponseEvent",153],"(",["T_VARIABLE","$kernel",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$request",153],",",["T_WHITESPACE"," ",153],["T_STRING","HttpKernelInterface",153],["T_DOUBLE_COLON","::",153],["T_STRING","MASTER_REQUEST",153],")",")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","getLoggingParameterData",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_WHITESPACE","\n            ",158],["T_ARRAY","array",159],"(",["T_ARRAY","array",159],"(",["T_CONSTANT_ENCAPSED_STRING","'_route'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'foo'",159],")",",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Matched route \"{route}\".'",159],",",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",["T_CONSTANT_ENCAPSED_STRING","'route'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'foo'",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",["T_CONSTANT_ENCAPSED_STRING","'_route'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'foo'",159],")",",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'request_uri'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'method'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'GET'",159],")",")",",",["T_WHITESPACE","\n            ",159],["T_ARRAY","array",160],"(",["T_ARRAY","array",160],"(",")",",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'Matched route \"{route}\".'",160],",",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",["T_CONSTANT_ENCAPSED_STRING","'route'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'n\/a'",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",")",",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'request_uri'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'method'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'GET'",160],")",")",",",["T_WHITESPACE","\n        ",160],")",";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","testWithBadRequest",164],"(",")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$requestStack",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_STRING","RequestStack",166],"(",")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$requestMatcher",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getMockBuilder",168],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Routing\\Matcher\\RequestMatcherInterface'",168],")",["T_OBJECT_OPERATOR","->",168],["T_STRING","getMock",168],"(",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$requestMatcher",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","expects",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","never",169],"(",")",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","method",169],"(",["T_CONSTANT_ENCAPSED_STRING","'matchRequest'",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$dispatcher",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","EventDispatcher",171],"(",")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$dispatcher",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","addSubscriber",172],"(",["T_NEW","new",172],["T_WHITESPACE"," ",172],["T_STRING","ValidateRequestListener",172],"(",")",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$dispatcher",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","addSubscriber",173],"(",["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","RouterListener",173],"(",["T_VARIABLE","$requestMatcher",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$requestStack",173],",",["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","RequestContext",173],"(",")",")",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$dispatcher",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","addSubscriber",174],"(",["T_NEW","new",174],["T_WHITESPACE"," ",174],["T_STRING","ExceptionListener",174],"(",["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],"(",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_NEW","new",175],["T_WHITESPACE"," ",175],["T_STRING","Response",175],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception handled'",175],",",["T_WHITESPACE"," ",175],["T_LNUMBER","400",175],")",";",["T_WHITESPACE","\n        ",175],"}",")",")",";",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$kernel",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_STRING","HttpKernel",178],"(",["T_VARIABLE","$dispatcher",178],",",["T_WHITESPACE"," ",178],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_STRING","ControllerResolver",178],"(",")",",",["T_WHITESPACE"," ",178],["T_VARIABLE","$requestStack",178],",",["T_WHITESPACE"," ",178],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_STRING","ArgumentResolver",178],"(",")",")",";",["T_WHITESPACE","\n\n        ",178],["T_VARIABLE","$request",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","Request",180],["T_DOUBLE_COLON","::",180],["T_STRING","create",180],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$request",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","headers",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","set",181],"(",["T_CONSTANT_ENCAPSED_STRING","'host'",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'###'",181],")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$response",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$kernel",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","handle",182],"(",["T_VARIABLE","$request",182],")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertSame",183],"(",["T_LNUMBER","400",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$response",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getStatusCode",183],"(",")",")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n",184],"}",["T_WHITESPACE","\n",185]]