[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpKernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpCache",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpKernel",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpCache",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpCache",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Request",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpFoundation",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Response",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpKernel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpKernelInterface",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * @group time-sensitive\n *\/",19],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","HttpCacheTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","HttpCacheTestCase",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","testTerminateDelegatesTerminationOnlyForTerminableInterface",24],"(",")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$storeMock",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","getMockBuilder",26],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\\\Component\\\\HttpKernel\\\\HttpCache\\\\StoreInterface'",26],")",["T_WHITESPACE","\n            ",26],["T_OBJECT_OPERATOR","->",27],["T_STRING","disableOriginalConstructor",27],"(",")",["T_WHITESPACE","\n            ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","getMock",28],"(",")",";",["T_WHITESPACE","\n\n        ",28],["T_COMMENT","\/\/ does not implement TerminableInterface\n",30],["T_WHITESPACE","        ",31],["T_VARIABLE","$kernel",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_NEW","new",31],["T_WHITESPACE"," ",31],["T_STRING","TestKernel",31],"(",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$httpCache",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","HttpCache",32],"(",["T_VARIABLE","$kernel",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$storeMock",32],")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$httpCache",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","terminate",33],"(",["T_STRING","Request",33],["T_DOUBLE_COLON","::",33],["T_STRING","create",33],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",33],")",",",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","Response",33],"(",")",")",";",["T_WHITESPACE","\n\n        ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertFalse",35],"(",["T_VARIABLE","$kernel",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","terminateCalled",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'terminate() is never called if the kernel class does not implement TerminableInterface'",35],")",";",["T_WHITESPACE","\n\n        ",35],["T_COMMENT","\/\/ implements TerminableInterface\n",37],["T_WHITESPACE","        ",38],["T_VARIABLE","$kernelMock",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getMockBuilder",38],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\\\Component\\\\HttpKernel\\\\Kernel'",38],")",["T_WHITESPACE","\n            ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","disableOriginalConstructor",39],"(",")",["T_WHITESPACE","\n            ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","setMethods",40],"(",["T_ARRAY","array",40],"(",["T_CONSTANT_ENCAPSED_STRING","'terminate'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'registerBundles'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'registerContainerConfiguration'",40],")",")",["T_WHITESPACE","\n            ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","getMock",41],"(",")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$kernelMock",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","expects",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","once",43],"(",")",")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","method",44],"(",["T_CONSTANT_ENCAPSED_STRING","'terminate'",44],")",";",["T_WHITESPACE","\n\n        ",44],["T_VARIABLE","$kernel",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","HttpCache",46],"(",["T_VARIABLE","$kernelMock",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$storeMock",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$kernel",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","terminate",47],"(",["T_STRING","Request",47],["T_DOUBLE_COLON","::",47],["T_STRING","create",47],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",47],")",",",["T_WHITESPACE"," ",47],["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_STRING","Response",47],"(",")",")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","testPassesOnNonGetHeadRequests",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","setNextResponse",52],"(",["T_LNUMBER","200",52],")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","request",53],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'\/'",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertHttpKernelIsCalled",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertResponseOk",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertTraceContains",56],"(",["T_CONSTANT_ENCAPSED_STRING","'pass'",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertFalse",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","response",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","headers",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","has",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",57],")",")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","testInvalidatesOnPostPutDeleteRequests",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_FOREACH","foreach",62],["T_WHITESPACE"," ",62],"(",["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'post'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'put'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'delete'",62],")",["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$method",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","setNextResponse",63],"(",["T_LNUMBER","200",63],")",";",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","request",64],"(",["T_VARIABLE","$method",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'\/'",64],")",";",["T_WHITESPACE","\n\n            ",64],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertHttpKernelIsCalled",66],"(",")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertResponseOk",67],"(",")",";",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertTraceContains",68],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidate'",68],")",";",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertTraceContains",69],"(",["T_CONSTANT_ENCAPSED_STRING","'pass'",69],")",";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","testDoesNotCacheWithAuthorizationRequestHeaderAndNonPublicResponse",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setNextResponse",75],"(",["T_LNUMBER","200",75],",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'\"Foo\"'",75],")",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","request",76],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'\/'",76],",",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_AUTHORIZATION'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'basic foobarbaz'",76],")",")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertHttpKernelIsCalled",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertResponseOk",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertEquals",80],"(",["T_CONSTANT_ENCAPSED_STRING","'private'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","response",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","headers",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",80],")",")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertTraceContains",82],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertTraceNotContains",83],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",83],")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertFalse",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","response",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","headers",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","has",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",84],")",")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","testDoesCacheWithAuthorizationRequestHeaderAndPublicResponse",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setNextResponse",89],"(",["T_LNUMBER","200",89],",",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'public'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'ETag'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\"Foo\"'",89],")",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","request",90],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'\/'",90],",",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_AUTHORIZATION'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'basic foobarbaz'",90],")",")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertHttpKernelIsCalled",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertResponseOk",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertTraceContains",94],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertTraceContains",95],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertTrue",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","response",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","headers",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","has",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",96],")",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertEquals",97],"(",["T_CONSTANT_ENCAPSED_STRING","'public'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","response",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","headers",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","get",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",97],")",")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","testDoesNotCacheWithCookieHeaderAndNonPublicResponse",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","setNextResponse",102],"(",["T_LNUMBER","200",102],",",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'\"Foo\"'",102],")",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","request",103],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'\/'",103],",",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",",",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'bar'",103],")",")",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertHttpKernelIsCalled",105],"(",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertResponseOk",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEquals",107],"(",["T_CONSTANT_ENCAPSED_STRING","'private'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","response",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","headers",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",107],")",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertTraceContains",108],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertTraceNotContains",109],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertFalse",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","response",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","headers",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","has",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",110],")",")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","testDoesNotCacheRequestsWithACookieHeader",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setNextResponse",115],"(",["T_LNUMBER","200",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","request",116],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'\/'",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'bar'",116],")",")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertHttpKernelIsCalled",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertResponseOk",119],"(",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertEquals",120],"(",["T_CONSTANT_ENCAPSED_STRING","'private'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","response",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","headers",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","get",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",120],")",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertTraceContains",121],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertTraceNotContains",122],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertFalse",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","response",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","headers",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","has",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",123],")",")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","testRespondsWith304WhenIfModifiedSinceMatchesLastModified",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$time",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","DateTime",128],["T_DOUBLE_COLON","::",128],["T_STRING","createFromFormat",128],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",128],",",["T_WHITESPACE"," ",128],["T_STRING","time",128],"(",")",")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setNextResponse",130],"(",["T_LNUMBER","200",130],",",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'public'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$time",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","format",130],"(",["T_STRING","DATE_RFC2822",130],")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",130],")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","request",131],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'\/'",131],",",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$time",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","format",131],"(",["T_STRING","DATE_RFC2822",131],")",")",")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertHttpKernelIsCalled",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEquals",134],"(",["T_LNUMBER","304",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","response",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getStatusCode",134],"(",")",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertEquals",135],"(",["T_CONSTANT_ENCAPSED_STRING","''",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","response",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","headers",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","get",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",135],")",")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEmpty",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","response",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getContent",136],"(",")",")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertTraceContains",137],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertTraceContains",138],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",138],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","testRespondsWith304WhenIfNoneMatchMatchesETag",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setNextResponse",143],"(",["T_LNUMBER","200",143],",",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'public'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'ETag'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'12345'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",143],")",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","request",144],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\/'",144],",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'12345'",144],")",")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertHttpKernelIsCalled",146],"(",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEquals",147],"(",["T_LNUMBER","304",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","response",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getStatusCode",147],"(",")",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEquals",148],"(",["T_CONSTANT_ENCAPSED_STRING","''",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","response",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","headers",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","get",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",148],")",")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertTrue",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","response",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","headers",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","has",149],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",149],")",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEmpty",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","response",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getContent",150],"(",")",")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertTraceContains",151],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertTraceContains",152],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",152],")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","testRespondsWith304OnlyIfIfNoneMatchAndIfModifiedSinceBothMatch",155],"(",")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$time",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_NS_SEPARATOR","\\",157],["T_STRING","DateTime",157],["T_DOUBLE_COLON","::",157],["T_STRING","createFromFormat",157],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",157],",",["T_WHITESPACE"," ",157],["T_STRING","time",157],"(",")",")",";",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","setNextResponse",159],"(",["T_LNUMBER","200",159],",",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",")",",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","''",159],",",["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$request",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$response",159],")",["T_WHITESPACE"," ",159],["T_USE","use",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$time",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$response",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setStatusCode",160],"(",["T_LNUMBER","200",160],")",";",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$response",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","headers",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","set",161],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'12345'",161],")",";",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$response",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","headers",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","set",162],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$time",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","format",162],"(",["T_STRING","DATE_RFC2822",162],")",")",";",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$response",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","headers",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","set",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",163],")",";",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$response",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","setContent",164],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",164],")",";",["T_WHITESPACE","\n        ",164],"}",")",";",["T_WHITESPACE","\n\n        ",165],["T_COMMENT","\/\/ only ETag matches\n",167],["T_WHITESPACE","        ",168],["T_VARIABLE","$t",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_NS_SEPARATOR","\\",168],["T_STRING","DateTime",168],["T_DOUBLE_COLON","::",168],["T_STRING","createFromFormat",168],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",168],",",["T_WHITESPACE"," ",168],["T_STRING","time",168],"(",")",["T_WHITESPACE"," ",168],"-",["T_WHITESPACE"," ",168],["T_LNUMBER","3600",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","request",169],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'\/'",169],",",["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'12345'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$t",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","format",169],"(",["T_STRING","DATE_RFC2822",169],")",")",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertHttpKernelIsCalled",170],"(",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertEquals",171],"(",["T_LNUMBER","200",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","response",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getStatusCode",171],"(",")",")",";",["T_WHITESPACE","\n\n        ",171],["T_COMMENT","\/\/ only Last-Modified matches\n",173],["T_WHITESPACE","        ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","request",174],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\/'",174],",",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'1234'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$time",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","format",174],"(",["T_STRING","DATE_RFC2822",174],")",")",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertHttpKernelIsCalled",175],"(",")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertEquals",176],"(",["T_LNUMBER","200",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","response",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getStatusCode",176],"(",")",")",";",["T_WHITESPACE","\n\n        ",176],["T_COMMENT","\/\/ Both matches\n",178],["T_WHITESPACE","        ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","request",179],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'\/'",179],",",["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'12345'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$time",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","format",179],"(",["T_STRING","DATE_RFC2822",179],")",")",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertHttpKernelIsCalled",180],"(",")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertEquals",181],"(",["T_LNUMBER","304",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","response",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getStatusCode",181],"(",")",")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","testIncrementsMaxAgeWhenNoDateIsSpecifiedEventWhenUsingETag",184],"(",")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","setNextResponse",186],"(",["T_WHITESPACE","\n            ",186],["T_LNUMBER","200",187],",",["T_WHITESPACE","\n            ",187],["T_ARRAY","array",188],"(",["T_WHITESPACE","\n                ",188],["T_CONSTANT_ENCAPSED_STRING","'ETag'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'1234'",189],",",["T_WHITESPACE","\n                ",189],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'public, s-maxage=60'",190],",",["T_WHITESPACE","\n            ",190],")",["T_WHITESPACE","\n        ",191],")",";",["T_WHITESPACE","\n\n        ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","request",194],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'\/'",194],")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertHttpKernelIsCalled",195],"(",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertEquals",196],"(",["T_LNUMBER","200",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","response",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getStatusCode",196],"(",")",")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertTraceContains",197],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertTraceContains",198],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",198],")",";",["T_WHITESPACE","\n\n        ",198],["T_STRING","sleep",200],"(",["T_LNUMBER","2",200],")",";",["T_WHITESPACE","\n\n        ",200],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","request",202],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'\/'",202],")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertHttpKernelIsNotCalled",203],"(",")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertEquals",204],"(",["T_LNUMBER","200",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","response",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getStatusCode",204],"(",")",")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","assertTraceContains",205],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertEquals",206],"(",["T_LNUMBER","2",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","response",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","headers",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",206],")",")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","testValidatesPrivateResponsesCachedOnTheClient",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setNextResponse",211],"(",["T_LNUMBER","200",211],",",["T_WHITESPACE"," ",211],["T_ARRAY","array",211],"(",")",",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","''",211],",",["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$request",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$response",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$etags",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","preg_split",212],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s*,\\s*\/'",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$request",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","headers",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","get",212],"(",["T_CONSTANT_ENCAPSED_STRING","'IF_NONE_MATCH'",212],")",")",";",["T_WHITESPACE","\n            ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$request",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","cookies",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","has",213],"(",["T_CONSTANT_ENCAPSED_STRING","'authenticated'",213],")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$response",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","headers",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","set",214],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'private, no-store'",214],")",";",["T_WHITESPACE","\n                ",214],["T_VARIABLE","$response",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","setETag",215],"(",["T_CONSTANT_ENCAPSED_STRING","'\"private tag\"'",215],")",";",["T_WHITESPACE","\n                ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_STRING","in_array",216],"(",["T_CONSTANT_ENCAPSED_STRING","'\"private tag\"'",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$etags",216],")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                    ",216],["T_VARIABLE","$response",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setStatusCode",217],"(",["T_LNUMBER","304",217],")",";",["T_WHITESPACE","\n                ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                    ",218],["T_VARIABLE","$response",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","setStatusCode",219],"(",["T_LNUMBER","200",219],")",";",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$response",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","headers",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","set",220],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",220],")",";",["T_WHITESPACE","\n                    ",220],["T_VARIABLE","$response",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","setContent",221],"(",["T_CONSTANT_ENCAPSED_STRING","'private data'",221],")",";",["T_WHITESPACE","\n                ",221],"}",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE"," ",223],["T_ELSE","else",223],["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$response",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","headers",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","set",224],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'public'",224],")",";",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$response",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","setETag",225],"(",["T_CONSTANT_ENCAPSED_STRING","'\"public tag\"'",225],")",";",["T_WHITESPACE","\n                ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_STRING","in_array",226],"(",["T_CONSTANT_ENCAPSED_STRING","'\"public tag\"'",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$etags",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                    ",226],["T_VARIABLE","$response",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","setStatusCode",227],"(",["T_LNUMBER","304",227],")",";",["T_WHITESPACE","\n                ",227],"}",["T_WHITESPACE"," ",228],["T_ELSE","else",228],["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                    ",228],["T_VARIABLE","$response",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","setStatusCode",229],"(",["T_LNUMBER","200",229],")",";",["T_WHITESPACE","\n                    ",229],["T_VARIABLE","$response",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","headers",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","set",230],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",230],")",";",["T_WHITESPACE","\n                    ",230],["T_VARIABLE","$response",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","setContent",231],"(",["T_CONSTANT_ENCAPSED_STRING","'public data'",231],")",";",["T_WHITESPACE","\n                ",231],"}",["T_WHITESPACE","\n            ",232],"}",["T_WHITESPACE","\n        ",233],"}",")",";",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","request",236],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'\/'",236],")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertHttpKernelIsCalled",237],"(",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","assertEquals",238],"(",["T_LNUMBER","200",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","response",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getStatusCode",238],"(",")",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertEquals",239],"(",["T_CONSTANT_ENCAPSED_STRING","'\"public tag\"'",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","response",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","headers",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","get",239],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",239],")",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertEquals",240],"(",["T_CONSTANT_ENCAPSED_STRING","'public data'",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","response",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getContent",240],"(",")",")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertTraceContains",241],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",241],")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertTraceContains",242],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",242],")",";",["T_WHITESPACE","\n\n        ",242],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","request",244],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'\/'",244],",",["T_WHITESPACE"," ",244],["T_ARRAY","array",244],"(",")",",",["T_WHITESPACE"," ",244],["T_ARRAY","array",244],"(",["T_CONSTANT_ENCAPSED_STRING","'authenticated'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","''",244],")",")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","assertHttpKernelIsCalled",245],"(",")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertEquals",246],"(",["T_LNUMBER","200",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","response",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getStatusCode",246],"(",")",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertEquals",247],"(",["T_CONSTANT_ENCAPSED_STRING","'\"private tag\"'",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","response",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","headers",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","get",247],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",247],")",")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","assertEquals",248],"(",["T_CONSTANT_ENCAPSED_STRING","'private data'",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","response",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getContent",248],"(",")",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertTraceContains",249],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",249],")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","assertTraceContains",250],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid'",250],")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","assertTraceNotContains",251],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",251],")",";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","testStoresResponsesWhenNoCacheRequestDirectivePresent",254],"(",")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$time",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_NS_SEPARATOR","\\",256],["T_STRING","DateTime",256],["T_DOUBLE_COLON","::",256],["T_STRING","createFromFormat",256],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",256],",",["T_WHITESPACE"," ",256],["T_STRING","time",256],"(",")",["T_WHITESPACE"," ",256],"+",["T_WHITESPACE"," ",256],["T_LNUMBER","5",256],")",";",["T_WHITESPACE","\n\n        ",256],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setNextResponse",258],"(",["T_LNUMBER","200",258],",",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'public'",258],",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'Expires'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$time",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","format",258],"(",["T_STRING","DATE_RFC2822",258],")",")",")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","request",259],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'\/'",259],",",["T_WHITESPACE"," ",259],["T_ARRAY","array",259],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CACHE_CONTROL'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'no-cache'",259],")",")",";",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertHttpKernelIsCalled",261],"(",")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","assertTraceContains",262],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertTrue",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","response",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","headers",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","has",263],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",263],")",")",";",["T_WHITESPACE","\n    ",263],"}",["T_WHITESPACE","\n\n    ",264],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","testReloadsResponsesWhenCacheHitsButNoCacheRequestDirectivePresentWhenAllowReloadIsSetTrue",266],"(",")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$count",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_LNUMBER","0",268],";",["T_WHITESPACE","\n\n        ",268],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","setNextResponse",270],"(",["T_LNUMBER","200",270],",",["T_WHITESPACE"," ",270],["T_ARRAY","array",270],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=10000'",270],")",",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","''",270],",",["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$request",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$response",270],")",["T_WHITESPACE"," ",270],["T_USE","use",270],["T_WHITESPACE"," ",270],"(","&",["T_VARIABLE","$count",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_INC","++",271],["T_VARIABLE","$count",271],";",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$response",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","setContent",272],"(",["T_LNUMBER","1",272],["T_WHITESPACE"," ",272],["T_IS_EQUAL","==",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$count",272],["T_WHITESPACE"," ",272],"?",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",272],["T_WHITESPACE"," ",272],":",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'Goodbye World'",272],")",";",["T_WHITESPACE","\n        ",272],"}",")",";",["T_WHITESPACE","\n\n        ",273],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","request",275],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'\/'",275],")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","assertEquals",276],"(",["T_LNUMBER","200",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","response",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getStatusCode",276],"(",")",")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","assertEquals",277],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","response",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getContent",277],"(",")",")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","assertTraceContains",278],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",278],")",";",["T_WHITESPACE","\n\n        ",278],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","request",280],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'\/'",280],")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertEquals",281],"(",["T_LNUMBER","200",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","response",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getStatusCode",281],"(",")",")",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertEquals",282],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","response",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getContent",282],"(",")",")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","assertTraceContains",283],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",283],")",";",["T_WHITESPACE","\n\n        ",283],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","cacheConfig",285],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_reload'",285],"]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","true",285],";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","request",286],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",286],",",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'\/'",286],",",["T_WHITESPACE"," ",286],["T_ARRAY","array",286],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CACHE_CONTROL'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'no-cache'",286],")",")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","assertEquals",287],"(",["T_LNUMBER","200",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","response",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getStatusCode",287],"(",")",")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","assertEquals",288],"(",["T_CONSTANT_ENCAPSED_STRING","'Goodbye World'",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","response",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getContent",288],"(",")",")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","assertTraceContains",289],"(",["T_CONSTANT_ENCAPSED_STRING","'reload'",289],")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","assertTraceContains",290],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",290],")",";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","testDoesNotReloadResponsesWhenAllowReloadIsSetFalseDefault",293],"(",")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$count",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_LNUMBER","0",295],";",["T_WHITESPACE","\n\n        ",295],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","setNextResponse",297],"(",["T_LNUMBER","200",297],",",["T_WHITESPACE"," ",297],["T_ARRAY","array",297],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=10000'",297],")",",",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","''",297],",",["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$request",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$response",297],")",["T_WHITESPACE"," ",297],["T_USE","use",297],["T_WHITESPACE"," ",297],"(","&",["T_VARIABLE","$count",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_INC","++",298],["T_VARIABLE","$count",298],";",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$response",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","setContent",299],"(",["T_LNUMBER","1",299],["T_WHITESPACE"," ",299],["T_IS_EQUAL","==",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$count",299],["T_WHITESPACE"," ",299],"?",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",299],["T_WHITESPACE"," ",299],":",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'Goodbye World'",299],")",";",["T_WHITESPACE","\n        ",299],"}",")",";",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","request",302],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",302],",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'\/'",302],")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","assertEquals",303],"(",["T_LNUMBER","200",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","response",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getStatusCode",303],"(",")",")",";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertEquals",304],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","response",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getContent",304],"(",")",")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertTraceContains",305],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",305],")",";",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","request",307],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'\/'",307],")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertEquals",308],"(",["T_LNUMBER","200",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","response",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getStatusCode",308],"(",")",")",";",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","assertEquals",309],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","response",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getContent",309],"(",")",")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","assertTraceContains",310],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",310],")",";",["T_WHITESPACE","\n\n        ",310],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","cacheConfig",312],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_reload'",312],"]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","false",312],";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","request",313],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'\/'",313],",",["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CACHE_CONTROL'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'no-cache'",313],")",")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","assertEquals",314],"(",["T_LNUMBER","200",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","response",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getStatusCode",314],"(",")",")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","assertEquals",315],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","response",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getContent",315],"(",")",")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertTraceNotContains",316],"(",["T_CONSTANT_ENCAPSED_STRING","'reload'",316],")",";",["T_WHITESPACE","\n\n        ",316],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","request",318],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'\/'",318],",",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CACHE_CONTROL'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'no-cache'",318],")",")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","assertEquals",319],"(",["T_LNUMBER","200",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","response",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getStatusCode",319],"(",")",")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","assertEquals",320],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","response",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getContent",320],"(",")",")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","assertTraceNotContains",321],"(",["T_CONSTANT_ENCAPSED_STRING","'reload'",321],")",";",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","testRevalidatesFreshCacheEntryWhenMaxAgeRequestDirectiveIsExceededWhenAllowRevalidateOptionIsSetTrue",324],"(",")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$count",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_LNUMBER","0",326],";",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setNextResponse",328],"(",["T_LNUMBER","200",328],",",["T_WHITESPACE"," ",328],["T_ARRAY","array",328],"(",")",",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","''",328],",",["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$request",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$response",328],")",["T_WHITESPACE"," ",328],["T_USE","use",328],["T_WHITESPACE"," ",328],"(","&",["T_VARIABLE","$count",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_INC","++",329],["T_VARIABLE","$count",329],";",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$response",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","headers",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","set",330],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=10000'",330],")",";",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$response",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","setETag",331],"(",["T_VARIABLE","$count",331],")",";",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$response",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","setContent",332],"(",["T_LNUMBER","1",332],["T_WHITESPACE"," ",332],["T_IS_EQUAL","==",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$count",332],["T_WHITESPACE"," ",332],"?",["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",332],["T_WHITESPACE"," ",332],":",["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'Goodbye World'",332],")",";",["T_WHITESPACE","\n        ",332],"}",")",";",["T_WHITESPACE","\n\n        ",333],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","request",335],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",335],",",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'\/'",335],")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","assertEquals",336],"(",["T_LNUMBER","200",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","response",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getStatusCode",336],"(",")",")",";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","assertEquals",337],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","response",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getContent",337],"(",")",")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","assertTraceContains",338],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",338],")",";",["T_WHITESPACE","\n\n        ",338],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","request",340],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",340],",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'\/'",340],")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","assertEquals",341],"(",["T_LNUMBER","200",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","response",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getStatusCode",341],"(",")",")",";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","assertEquals",342],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","response",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getContent",342],"(",")",")",";",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","assertTraceContains",343],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",343],")",";",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","cacheConfig",345],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_revalidate'",345],"]",["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","true",345],";",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","request",346],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",346],",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'\/'",346],",",["T_WHITESPACE"," ",346],["T_ARRAY","array",346],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CACHE_CONTROL'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'max-age=0'",346],")",")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","assertEquals",347],"(",["T_LNUMBER","200",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","response",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getStatusCode",347],"(",")",")",";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","assertEquals",348],"(",["T_CONSTANT_ENCAPSED_STRING","'Goodbye World'",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","response",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getContent",348],"(",")",")",";",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","assertTraceContains",349],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",349],")",";",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","assertTraceContains",350],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid'",350],")",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","assertTraceContains",351],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",351],")",";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_PUBLIC","public",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","testDoesNotRevalidateFreshCacheEntryWhenEnableRevalidateOptionIsSetFalseDefault",354],"(",")",["T_WHITESPACE","\n    ",354],"{",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$count",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_LNUMBER","0",356],";",["T_WHITESPACE","\n\n        ",356],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","setNextResponse",358],"(",["T_LNUMBER","200",358],",",["T_WHITESPACE"," ",358],["T_ARRAY","array",358],"(",")",",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","''",358],",",["T_WHITESPACE"," ",358],["T_FUNCTION","function",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$request",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$response",358],")",["T_WHITESPACE"," ",358],["T_USE","use",358],["T_WHITESPACE"," ",358],"(","&",["T_VARIABLE","$count",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_INC","++",359],["T_VARIABLE","$count",359],";",["T_WHITESPACE","\n            ",359],["T_VARIABLE","$response",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","headers",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","set",360],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",360],",",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=10000'",360],")",";",["T_WHITESPACE","\n            ",360],["T_VARIABLE","$response",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","setETag",361],"(",["T_VARIABLE","$count",361],")",";",["T_WHITESPACE","\n            ",361],["T_VARIABLE","$response",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","setContent",362],"(",["T_LNUMBER","1",362],["T_WHITESPACE"," ",362],["T_IS_EQUAL","==",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$count",362],["T_WHITESPACE"," ",362],"?",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",362],["T_WHITESPACE"," ",362],":",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'Goodbye World'",362],")",";",["T_WHITESPACE","\n        ",362],"}",")",";",["T_WHITESPACE","\n\n        ",363],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","request",365],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",365],",",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'\/'",365],")",";",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","assertEquals",366],"(",["T_LNUMBER","200",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","response",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getStatusCode",366],"(",")",")",";",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","assertEquals",367],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","response",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getContent",367],"(",")",")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","assertTraceContains",368],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",368],")",";",["T_WHITESPACE","\n\n        ",368],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","request",370],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'\/'",370],")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","assertEquals",371],"(",["T_LNUMBER","200",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","response",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getStatusCode",371],"(",")",")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","assertEquals",372],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","response",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getContent",372],"(",")",")",";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","assertTraceContains",373],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",373],")",";",["T_WHITESPACE","\n\n        ",373],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","cacheConfig",375],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_revalidate'",375],"]",["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","false",375],";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","request",376],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'\/'",376],",",["T_WHITESPACE"," ",376],["T_ARRAY","array",376],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CACHE_CONTROL'",376],["T_WHITESPACE"," ",376],["T_DOUBLE_ARROW","=>",376],["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'max-age=0'",376],")",")",";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","assertEquals",377],"(",["T_LNUMBER","200",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","response",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getStatusCode",377],"(",")",")",";",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","assertEquals",378],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","response",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getContent",378],"(",")",")",";",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","assertTraceNotContains",379],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",379],")",";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","assertTraceNotContains",380],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid'",380],")",";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","assertTraceContains",381],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",381],")",";",["T_WHITESPACE","\n\n        ",381],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","request",383],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",383],",",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'\/'",383],",",["T_WHITESPACE"," ",383],["T_ARRAY","array",383],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CACHE_CONTROL'",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'max-age=0'",383],")",")",";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","assertEquals",384],"(",["T_LNUMBER","200",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","response",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getStatusCode",384],"(",")",")",";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","assertEquals",385],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","response",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getContent",385],"(",")",")",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","assertTraceNotContains",386],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",386],")",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","assertTraceNotContains",387],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid'",387],")",";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","assertTraceContains",388],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",388],")",";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_PUBLIC","public",391],["T_WHITESPACE"," ",391],["T_FUNCTION","function",391],["T_WHITESPACE"," ",391],["T_STRING","testFetchesResponseFromBackendWhenCacheMisses",391],"(",")",["T_WHITESPACE","\n    ",391],"{",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$time",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_NS_SEPARATOR","\\",393],["T_STRING","DateTime",393],["T_DOUBLE_COLON","::",393],["T_STRING","createFromFormat",393],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",393],",",["T_WHITESPACE"," ",393],["T_STRING","time",393],"(",")",["T_WHITESPACE"," ",393],"+",["T_WHITESPACE"," ",393],["T_LNUMBER","5",393],")",";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","setNextResponse",394],"(",["T_LNUMBER","200",394],",",["T_WHITESPACE"," ",394],["T_ARRAY","array",394],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'public'",394],",",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'Expires'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$time",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","format",394],"(",["T_STRING","DATE_RFC2822",394],")",")",")",";",["T_WHITESPACE","\n\n        ",394],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","request",396],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",396],",",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'\/'",396],")",";",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","assertEquals",397],"(",["T_LNUMBER","200",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","response",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","getStatusCode",397],"(",")",")",";",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","assertTraceContains",398],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",398],")",";",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","assertTrue",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","response",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","headers",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","has",399],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",399],")",")",";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n    ",400],["T_PUBLIC","public",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","testDoesNotCacheSomeStatusCodeResponses",402],"(",")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_FOREACH","foreach",404],["T_WHITESPACE"," ",404],"(",["T_STRING","array_merge",404],"(",["T_STRING","range",404],"(",["T_LNUMBER","201",404],",",["T_WHITESPACE"," ",404],["T_LNUMBER","202",404],")",",",["T_WHITESPACE"," ",404],["T_STRING","range",404],"(",["T_LNUMBER","204",404],",",["T_WHITESPACE"," ",404],["T_LNUMBER","206",404],")",",",["T_WHITESPACE"," ",404],["T_STRING","range",404],"(",["T_LNUMBER","303",404],",",["T_WHITESPACE"," ",404],["T_LNUMBER","305",404],")",",",["T_WHITESPACE"," ",404],["T_STRING","range",404],"(",["T_LNUMBER","400",404],",",["T_WHITESPACE"," ",404],["T_LNUMBER","403",404],")",",",["T_WHITESPACE"," ",404],["T_STRING","range",404],"(",["T_LNUMBER","405",404],",",["T_WHITESPACE"," ",404],["T_LNUMBER","409",404],")",",",["T_WHITESPACE"," ",404],["T_STRING","range",404],"(",["T_LNUMBER","411",404],",",["T_WHITESPACE"," ",404],["T_LNUMBER","417",404],")",",",["T_WHITESPACE"," ",404],["T_STRING","range",404],"(",["T_LNUMBER","500",404],",",["T_WHITESPACE"," ",404],["T_LNUMBER","505",404],")",")",["T_WHITESPACE"," ",404],["T_AS","as",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$code",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n            ",404],["T_VARIABLE","$time",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_NS_SEPARATOR","\\",405],["T_STRING","DateTime",405],["T_DOUBLE_COLON","::",405],["T_STRING","createFromFormat",405],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",405],",",["T_WHITESPACE"," ",405],["T_STRING","time",405],"(",")",["T_WHITESPACE"," ",405],"+",["T_WHITESPACE"," ",405],["T_LNUMBER","5",405],")",";",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","setNextResponse",406],"(",["T_VARIABLE","$code",406],",",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",["T_CONSTANT_ENCAPSED_STRING","'Expires'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$time",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","format",406],"(",["T_STRING","DATE_RFC2822",406],")",")",")",";",["T_WHITESPACE","\n\n            ",406],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","request",408],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'\/'",408],")",";",["T_WHITESPACE","\n            ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","assertEquals",409],"(",["T_VARIABLE","$code",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","response",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getStatusCode",409],"(",")",")",";",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","assertTraceNotContains",410],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",410],")",";",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","assertFalse",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","response",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","headers",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","has",411],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",411],")",")",";",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n\n    ",413],["T_PUBLIC","public",415],["T_WHITESPACE"," ",415],["T_FUNCTION","function",415],["T_WHITESPACE"," ",415],["T_STRING","testDoesNotCacheResponsesWithExplicitNoStoreDirective",415],"(",")",["T_WHITESPACE","\n    ",415],"{",["T_WHITESPACE","\n        ",416],["T_VARIABLE","$time",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_NS_SEPARATOR","\\",417],["T_STRING","DateTime",417],["T_DOUBLE_COLON","::",417],["T_STRING","createFromFormat",417],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",417],",",["T_WHITESPACE"," ",417],["T_STRING","time",417],"(",")",["T_WHITESPACE"," ",417],"+",["T_WHITESPACE"," ",417],["T_LNUMBER","5",417],")",";",["T_WHITESPACE","\n        ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","setNextResponse",418],"(",["T_LNUMBER","200",418],",",["T_WHITESPACE"," ",418],["T_ARRAY","array",418],"(",["T_CONSTANT_ENCAPSED_STRING","'Expires'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$time",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","format",418],"(",["T_STRING","DATE_RFC2822",418],")",",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'no-store'",418],")",")",";",["T_WHITESPACE","\n\n        ",418],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","request",420],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",420],",",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'\/'",420],")",";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","assertTraceNotContains",421],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",421],")",";",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","assertFalse",422],"(",["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","response",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","headers",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","has",422],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",422],")",")",";",["T_WHITESPACE","\n    ",422],"}",["T_WHITESPACE","\n\n    ",423],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","testDoesNotCacheResponsesWithoutFreshnessInformationOrAValidator",425],"(",")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","setNextResponse",427],"(",")",";",["T_WHITESPACE","\n\n        ",427],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","request",429],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",429],",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'\/'",429],")",";",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","assertEquals",430],"(",["T_LNUMBER","200",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","response",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getStatusCode",430],"(",")",")",";",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","assertTraceNotContains",431],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",431],")",";",["T_WHITESPACE","\n    ",431],"}",["T_WHITESPACE","\n\n    ",432],["T_PUBLIC","public",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","testCachesResponsesWithExplicitNoCacheDirective",434],"(",")",["T_WHITESPACE","\n    ",434],"{",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$time",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_NS_SEPARATOR","\\",436],["T_STRING","DateTime",436],["T_DOUBLE_COLON","::",436],["T_STRING","createFromFormat",436],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",436],",",["T_WHITESPACE"," ",436],["T_STRING","time",436],"(",")",["T_WHITESPACE"," ",436],"+",["T_WHITESPACE"," ",436],["T_LNUMBER","5",436],")",";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","setNextResponse",437],"(",["T_LNUMBER","200",437],",",["T_WHITESPACE"," ",437],["T_ARRAY","array",437],"(",["T_CONSTANT_ENCAPSED_STRING","'Expires'",437],["T_WHITESPACE"," ",437],["T_DOUBLE_ARROW","=>",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$time",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","format",437],"(",["T_STRING","DATE_RFC2822",437],")",",",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",437],["T_WHITESPACE"," ",437],["T_DOUBLE_ARROW","=>",437],["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'public, no-cache'",437],")",")",";",["T_WHITESPACE","\n\n        ",437],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","request",439],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",439],",",["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","'\/'",439],")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","assertTraceContains",440],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",440],")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","assertTrue",441],"(",["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","response",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","headers",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","has",441],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",441],")",")",";",["T_WHITESPACE","\n    ",441],"}",["T_WHITESPACE","\n\n    ",442],["T_PUBLIC","public",444],["T_WHITESPACE"," ",444],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],["T_STRING","testCachesResponsesWithAnExpirationHeader",444],"(",")",["T_WHITESPACE","\n    ",444],"{",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$time",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_NS_SEPARATOR","\\",446],["T_STRING","DateTime",446],["T_DOUBLE_COLON","::",446],["T_STRING","createFromFormat",446],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",446],",",["T_WHITESPACE"," ",446],["T_STRING","time",446],"(",")",["T_WHITESPACE"," ",446],"+",["T_WHITESPACE"," ",446],["T_LNUMBER","5",446],")",";",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","setNextResponse",447],"(",["T_LNUMBER","200",447],",",["T_WHITESPACE"," ",447],["T_ARRAY","array",447],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'public'",447],",",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'Expires'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$time",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","format",447],"(",["T_STRING","DATE_RFC2822",447],")",")",")",";",["T_WHITESPACE","\n\n        ",447],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","request",449],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",449],",",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'\/'",449],")",";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","assertEquals",450],"(",["T_LNUMBER","200",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","response",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getStatusCode",450],"(",")",")",";",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","assertEquals",451],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","response",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getContent",451],"(",")",")",";",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","assertNotNull",452],"(",["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","response",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","headers",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","get",452],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",452],")",")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","assertNotNull",453],"(",["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","response",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","headers",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","get",453],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",453],")",")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","assertTraceContains",454],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",454],")",";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","assertTraceContains",455],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",455],")",";",["T_WHITESPACE","\n\n        ",455],["T_VARIABLE","$values",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getMetaStorageValues",457],"(",")",";",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","assertCount",458],"(",["T_LNUMBER","1",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$values",458],")",";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n\n    ",459],["T_PUBLIC","public",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","testCachesResponsesWithAMaxAgeDirective",461],"(",")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","setNextResponse",463],"(",["T_LNUMBER","200",463],",",["T_WHITESPACE"," ",463],["T_ARRAY","array",463],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=5'",463],")",")",";",["T_WHITESPACE","\n\n        ",463],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","request",465],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",465],",",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'\/'",465],")",";",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","assertEquals",466],"(",["T_LNUMBER","200",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","response",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getStatusCode",466],"(",")",")",";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","assertEquals",467],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","response",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getContent",467],"(",")",")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","assertNotNull",468],"(",["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","response",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","headers",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","get",468],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",468],")",")",";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","assertNotNull",469],"(",["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","response",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","headers",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","get",469],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",469],")",")",";",["T_WHITESPACE","\n        ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","assertTraceContains",470],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",470],")",";",["T_WHITESPACE","\n        ",470],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","assertTraceContains",471],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",471],")",";",["T_WHITESPACE","\n\n        ",471],["T_VARIABLE","$values",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getMetaStorageValues",473],"(",")",";",["T_WHITESPACE","\n        ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","assertCount",474],"(",["T_LNUMBER","1",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$values",474],")",";",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n\n    ",475],["T_PUBLIC","public",477],["T_WHITESPACE"," ",477],["T_FUNCTION","function",477],["T_WHITESPACE"," ",477],["T_STRING","testCachesResponsesWithASMaxAgeDirective",477],"(",")",["T_WHITESPACE","\n    ",477],"{",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","setNextResponse",479],"(",["T_LNUMBER","200",479],",",["T_WHITESPACE"," ",479],["T_ARRAY","array",479],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",479],["T_WHITESPACE"," ",479],["T_DOUBLE_ARROW","=>",479],["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'s-maxage=5'",479],")",")",";",["T_WHITESPACE","\n\n        ",479],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","request",481],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",481],",",["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'\/'",481],")",";",["T_WHITESPACE","\n        ",481],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","assertEquals",482],"(",["T_LNUMBER","200",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","response",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getStatusCode",482],"(",")",")",";",["T_WHITESPACE","\n        ",482],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","assertEquals",483],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",483],",",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","response",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getContent",483],"(",")",")",";",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","assertNotNull",484],"(",["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","response",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","headers",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","get",484],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",484],")",")",";",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","assertNotNull",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","response",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","headers",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","get",485],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",485],")",")",";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","assertTraceContains",486],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",486],")",";",["T_WHITESPACE","\n        ",486],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","assertTraceContains",487],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",487],")",";",["T_WHITESPACE","\n\n        ",487],["T_VARIABLE","$values",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getMetaStorageValues",489],"(",")",";",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","assertCount",490],"(",["T_LNUMBER","1",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$values",490],")",";",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_PUBLIC","public",493],["T_WHITESPACE"," ",493],["T_FUNCTION","function",493],["T_WHITESPACE"," ",493],["T_STRING","testCachesResponsesWithALastModifiedValidatorButNoFreshnessInformation",493],"(",")",["T_WHITESPACE","\n    ",493],"{",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$time",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_NS_SEPARATOR","\\",495],["T_STRING","DateTime",495],["T_DOUBLE_COLON","::",495],["T_STRING","createFromFormat",495],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",495],",",["T_WHITESPACE"," ",495],["T_STRING","time",495],"(",")",")",";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","setNextResponse",496],"(",["T_LNUMBER","200",496],",",["T_WHITESPACE"," ",496],["T_ARRAY","array",496],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'public'",496],",",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$time",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","format",496],"(",["T_STRING","DATE_RFC2822",496],")",")",")",";",["T_WHITESPACE","\n\n        ",496],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","request",498],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",498],",",["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","'\/'",498],")",";",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","assertEquals",499],"(",["T_LNUMBER","200",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","response",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getStatusCode",499],"(",")",")",";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","assertEquals",500],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","response",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getContent",500],"(",")",")",";",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","assertTraceContains",501],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",501],")",";",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","assertTraceContains",502],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",502],")",";",["T_WHITESPACE","\n    ",502],"}",["T_WHITESPACE","\n\n    ",503],["T_PUBLIC","public",505],["T_WHITESPACE"," ",505],["T_FUNCTION","function",505],["T_WHITESPACE"," ",505],["T_STRING","testCachesResponsesWithAnETagValidatorButNoFreshnessInformation",505],"(",")",["T_WHITESPACE","\n    ",505],"{",["T_WHITESPACE","\n        ",506],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","setNextResponse",507],"(",["T_LNUMBER","200",507],",",["T_WHITESPACE"," ",507],["T_ARRAY","array",507],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",507],["T_WHITESPACE"," ",507],["T_DOUBLE_ARROW","=>",507],["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'public'",507],",",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'ETag'",507],["T_WHITESPACE"," ",507],["T_DOUBLE_ARROW","=>",507],["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'\"123456\"'",507],")",")",";",["T_WHITESPACE","\n\n        ",507],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","request",509],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",509],",",["T_WHITESPACE"," ",509],["T_CONSTANT_ENCAPSED_STRING","'\/'",509],")",";",["T_WHITESPACE","\n        ",509],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","assertEquals",510],"(",["T_LNUMBER","200",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","response",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getStatusCode",510],"(",")",")",";",["T_WHITESPACE","\n        ",510],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","assertEquals",511],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",511],",",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","response",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","getContent",511],"(",")",")",";",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","assertTraceContains",512],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",512],")",";",["T_WHITESPACE","\n        ",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","assertTraceContains",513],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",513],")",";",["T_WHITESPACE","\n    ",513],"}",["T_WHITESPACE","\n\n    ",514],["T_PUBLIC","public",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","testHitsCachedResponsesWithExpiresHeader",516],"(",")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$time1",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_NS_SEPARATOR","\\",518],["T_STRING","DateTime",518],["T_DOUBLE_COLON","::",518],["T_STRING","createFromFormat",518],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",518],",",["T_WHITESPACE"," ",518],["T_STRING","time",518],"(",")",["T_WHITESPACE"," ",518],"-",["T_WHITESPACE"," ",518],["T_LNUMBER","5",518],")",";",["T_WHITESPACE","\n        ",518],["T_VARIABLE","$time2",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_NS_SEPARATOR","\\",519],["T_STRING","DateTime",519],["T_DOUBLE_COLON","::",519],["T_STRING","createFromFormat",519],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",519],",",["T_WHITESPACE"," ",519],["T_STRING","time",519],"(",")",["T_WHITESPACE"," ",519],"+",["T_WHITESPACE"," ",519],["T_LNUMBER","5",519],")",";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","setNextResponse",520],"(",["T_LNUMBER","200",520],",",["T_WHITESPACE"," ",520],["T_ARRAY","array",520],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'public'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'Date'",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$time1",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","format",520],"(",["T_STRING","DATE_RFC2822",520],")",",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'Expires'",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$time2",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","format",520],"(",["T_STRING","DATE_RFC2822",520],")",")",")",";",["T_WHITESPACE","\n\n        ",520],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","request",522],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",522],",",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'\/'",522],")",";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","assertHttpKernelIsCalled",523],"(",")",";",["T_WHITESPACE","\n        ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","assertEquals",524],"(",["T_LNUMBER","200",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","response",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getStatusCode",524],"(",")",")",";",["T_WHITESPACE","\n        ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","assertNotNull",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","response",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","headers",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","get",525],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",525],")",")",";",["T_WHITESPACE","\n        ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","assertTraceContains",526],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",526],")",";",["T_WHITESPACE","\n        ",526],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","assertTraceContains",527],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",527],")",";",["T_WHITESPACE","\n        ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","assertEquals",528],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",528],",",["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","response",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getContent",528],"(",")",")",";",["T_WHITESPACE","\n\n        ",528],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","request",530],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",530],",",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'\/'",530],")",";",["T_WHITESPACE","\n        ",530],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","assertHttpKernelIsNotCalled",531],"(",")",";",["T_WHITESPACE","\n        ",531],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","assertEquals",532],"(",["T_LNUMBER","200",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","response",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","getStatusCode",532],"(",")",")",";",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","assertTrue",533],"(",["T_STRING","strtotime",533],"(",["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","responses",533],"[",["T_LNUMBER","0",533],"]",["T_OBJECT_OPERATOR","->",533],["T_STRING","headers",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","get",533],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",533],")",")",["T_WHITESPACE"," ",533],"-",["T_WHITESPACE"," ",533],["T_STRING","strtotime",533],"(",["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","response",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","headers",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","get",533],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",533],")",")",["T_WHITESPACE"," ",533],"<",["T_WHITESPACE"," ",533],["T_LNUMBER","2",533],")",";",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","assertTrue",534],"(",["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","response",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","headers",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","get",534],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",534],")",["T_WHITESPACE"," ",534],">",["T_WHITESPACE"," ",534],["T_LNUMBER","0",534],")",";",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","assertNotNull",535],"(",["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","response",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","headers",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","get",535],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",535],")",")",";",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","assertTraceContains",536],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",536],")",";",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","assertTraceNotContains",537],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",537],")",";",["T_WHITESPACE","\n        ",537],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","assertEquals",538],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",538],",",["T_WHITESPACE"," ",538],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","response",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","getContent",538],"(",")",")",";",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n\n    ",539],["T_PUBLIC","public",541],["T_WHITESPACE"," ",541],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","testHitsCachedResponseWithMaxAgeDirective",541],"(",")",["T_WHITESPACE","\n    ",541],"{",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$time",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_NS_SEPARATOR","\\",543],["T_STRING","DateTime",543],["T_DOUBLE_COLON","::",543],["T_STRING","createFromFormat",543],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",543],",",["T_WHITESPACE"," ",543],["T_STRING","time",543],"(",")",["T_WHITESPACE"," ",543],"-",["T_WHITESPACE"," ",543],["T_LNUMBER","5",543],")",";",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","setNextResponse",544],"(",["T_LNUMBER","200",544],",",["T_WHITESPACE"," ",544],["T_ARRAY","array",544],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$time",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","format",544],"(",["T_STRING","DATE_RFC2822",544],")",",",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=10'",544],")",")",";",["T_WHITESPACE","\n\n        ",544],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","request",546],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",546],",",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","'\/'",546],")",";",["T_WHITESPACE","\n        ",546],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","assertHttpKernelIsCalled",547],"(",")",";",["T_WHITESPACE","\n        ",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","assertEquals",548],"(",["T_LNUMBER","200",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","response",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getStatusCode",548],"(",")",")",";",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","assertNotNull",549],"(",["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","response",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","headers",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","get",549],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",549],")",")",";",["T_WHITESPACE","\n        ",549],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","assertTraceContains",550],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",550],")",";",["T_WHITESPACE","\n        ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","assertTraceContains",551],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",551],")",";",["T_WHITESPACE","\n        ",551],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","assertEquals",552],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","response",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","getContent",552],"(",")",")",";",["T_WHITESPACE","\n\n        ",552],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","request",554],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",554],",",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'\/'",554],")",";",["T_WHITESPACE","\n        ",554],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","assertHttpKernelIsNotCalled",555],"(",")",";",["T_WHITESPACE","\n        ",555],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","assertEquals",556],"(",["T_LNUMBER","200",556],",",["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","response",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getStatusCode",556],"(",")",")",";",["T_WHITESPACE","\n        ",556],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","assertTrue",557],"(",["T_STRING","strtotime",557],"(",["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","responses",557],"[",["T_LNUMBER","0",557],"]",["T_OBJECT_OPERATOR","->",557],["T_STRING","headers",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","get",557],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",557],")",")",["T_WHITESPACE"," ",557],"-",["T_WHITESPACE"," ",557],["T_STRING","strtotime",557],"(",["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","response",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","headers",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","get",557],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",557],")",")",["T_WHITESPACE"," ",557],"<",["T_WHITESPACE"," ",557],["T_LNUMBER","2",557],")",";",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","assertTrue",558],"(",["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","response",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","headers",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","get",558],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",558],")",["T_WHITESPACE"," ",558],">",["T_WHITESPACE"," ",558],["T_LNUMBER","0",558],")",";",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","assertNotNull",559],"(",["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","response",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","headers",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","get",559],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",559],")",")",";",["T_WHITESPACE","\n        ",559],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","assertTraceContains",560],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",560],")",";",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","assertTraceNotContains",561],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",561],")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","assertEquals",562],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","response",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getContent",562],"(",")",")",";",["T_WHITESPACE","\n    ",562],"}",["T_WHITESPACE","\n\n    ",563],["T_PUBLIC","public",565],["T_WHITESPACE"," ",565],["T_FUNCTION","function",565],["T_WHITESPACE"," ",565],["T_STRING","testHitsCachedResponseWithSMaxAgeDirective",565],"(",")",["T_WHITESPACE","\n    ",565],"{",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$time",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_NS_SEPARATOR","\\",567],["T_STRING","DateTime",567],["T_DOUBLE_COLON","::",567],["T_STRING","createFromFormat",567],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",567],",",["T_WHITESPACE"," ",567],["T_STRING","time",567],"(",")",["T_WHITESPACE"," ",567],"-",["T_WHITESPACE"," ",567],["T_LNUMBER","5",567],")",";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","setNextResponse",568],"(",["T_LNUMBER","200",568],",",["T_WHITESPACE"," ",568],["T_ARRAY","array",568],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$time",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","format",568],"(",["T_STRING","DATE_RFC2822",568],")",",",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'s-maxage=10, max-age=0'",568],")",")",";",["T_WHITESPACE","\n\n        ",568],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","request",570],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",570],",",["T_WHITESPACE"," ",570],["T_CONSTANT_ENCAPSED_STRING","'\/'",570],")",";",["T_WHITESPACE","\n        ",570],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","assertHttpKernelIsCalled",571],"(",")",";",["T_WHITESPACE","\n        ",571],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","assertEquals",572],"(",["T_LNUMBER","200",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","response",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","getStatusCode",572],"(",")",")",";",["T_WHITESPACE","\n        ",572],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","assertNotNull",573],"(",["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","response",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","headers",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","get",573],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",573],")",")",";",["T_WHITESPACE","\n        ",573],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","assertTraceContains",574],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",574],")",";",["T_WHITESPACE","\n        ",574],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","assertTraceContains",575],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",575],")",";",["T_WHITESPACE","\n        ",575],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","assertEquals",576],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",576],",",["T_WHITESPACE"," ",576],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","response",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","getContent",576],"(",")",")",";",["T_WHITESPACE","\n\n        ",576],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","request",578],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",578],",",["T_WHITESPACE"," ",578],["T_CONSTANT_ENCAPSED_STRING","'\/'",578],")",";",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","assertHttpKernelIsNotCalled",579],"(",")",";",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","assertEquals",580],"(",["T_LNUMBER","200",580],",",["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","response",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","getStatusCode",580],"(",")",")",";",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","assertTrue",581],"(",["T_STRING","strtotime",581],"(",["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","responses",581],"[",["T_LNUMBER","0",581],"]",["T_OBJECT_OPERATOR","->",581],["T_STRING","headers",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","get",581],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",581],")",")",["T_WHITESPACE"," ",581],"-",["T_WHITESPACE"," ",581],["T_STRING","strtotime",581],"(",["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","response",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","headers",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","get",581],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",581],")",")",["T_WHITESPACE"," ",581],"<",["T_WHITESPACE"," ",581],["T_LNUMBER","2",581],")",";",["T_WHITESPACE","\n        ",581],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","assertTrue",582],"(",["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","response",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","headers",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","get",582],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",582],")",["T_WHITESPACE"," ",582],">",["T_WHITESPACE"," ",582],["T_LNUMBER","0",582],")",";",["T_WHITESPACE","\n        ",582],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","assertNotNull",583],"(",["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","response",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","headers",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","get",583],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",583],")",")",";",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","assertTraceContains",584],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",584],")",";",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","assertTraceNotContains",585],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",585],")",";",["T_WHITESPACE","\n        ",585],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","assertEquals",586],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",586],",",["T_WHITESPACE"," ",586],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","response",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","getContent",586],"(",")",")",";",["T_WHITESPACE","\n    ",586],"}",["T_WHITESPACE","\n\n    ",587],["T_PUBLIC","public",589],["T_WHITESPACE"," ",589],["T_FUNCTION","function",589],["T_WHITESPACE"," ",589],["T_STRING","testAssignsDefaultTtlWhenResponseHasNoFreshnessInformation",589],"(",")",["T_WHITESPACE","\n    ",589],"{",["T_WHITESPACE","\n        ",590],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","setNextResponse",591],"(",")",";",["T_WHITESPACE","\n\n        ",591],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","cacheConfig",593],"[",["T_CONSTANT_ENCAPSED_STRING","'default_ttl'",593],"]",["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_LNUMBER","10",593],";",["T_WHITESPACE","\n        ",593],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","request",594],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",594],",",["T_WHITESPACE"," ",594],["T_CONSTANT_ENCAPSED_STRING","'\/'",594],")",";",["T_WHITESPACE","\n        ",594],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","assertHttpKernelIsCalled",595],"(",")",";",["T_WHITESPACE","\n        ",595],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","assertTraceContains",596],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",596],")",";",["T_WHITESPACE","\n        ",596],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","assertTraceContains",597],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",597],")",";",["T_WHITESPACE","\n        ",597],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","assertEquals",598],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",598],",",["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","response",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","getContent",598],"(",")",")",";",["T_WHITESPACE","\n        ",598],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","assertRegExp",599],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage=10\/'",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","response",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","headers",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","get",599],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",599],")",")",";",["T_WHITESPACE","\n\n        ",599],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","cacheConfig",601],"[",["T_CONSTANT_ENCAPSED_STRING","'default_ttl'",601],"]",["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_LNUMBER","10",601],";",["T_WHITESPACE","\n        ",601],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","request",602],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",602],",",["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","'\/'",602],")",";",["T_WHITESPACE","\n        ",602],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","assertHttpKernelIsNotCalled",603],"(",")",";",["T_WHITESPACE","\n        ",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","assertEquals",604],"(",["T_LNUMBER","200",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","response",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","getStatusCode",604],"(",")",")",";",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","assertTraceContains",605],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",605],")",";",["T_WHITESPACE","\n        ",605],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","assertTraceNotContains",606],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",606],")",";",["T_WHITESPACE","\n        ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","assertEquals",607],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","response",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","getContent",607],"(",")",")",";",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","assertRegExp",608],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage=10\/'",608],",",["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","response",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","headers",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","get",608],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",608],")",")",";",["T_WHITESPACE","\n    ",608],"}",["T_WHITESPACE","\n\n    ",609],["T_PUBLIC","public",611],["T_WHITESPACE"," ",611],["T_FUNCTION","function",611],["T_WHITESPACE"," ",611],["T_STRING","testAssignsDefaultTtlWhenResponseHasNoFreshnessInformationAndAfterTtlWasExpired",611],"(",")",["T_WHITESPACE","\n    ",611],"{",["T_WHITESPACE","\n        ",612],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","setNextResponse",613],"(",")",";",["T_WHITESPACE","\n\n        ",613],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","cacheConfig",615],"[",["T_CONSTANT_ENCAPSED_STRING","'default_ttl'",615],"]",["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_LNUMBER","2",615],";",["T_WHITESPACE","\n        ",615],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","request",616],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",616],",",["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'\/'",616],")",";",["T_WHITESPACE","\n        ",616],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","assertHttpKernelIsCalled",617],"(",")",";",["T_WHITESPACE","\n        ",617],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","assertTraceContains",618],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",618],")",";",["T_WHITESPACE","\n        ",618],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","assertTraceContains",619],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",619],")",";",["T_WHITESPACE","\n        ",619],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","assertEquals",620],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",620],",",["T_WHITESPACE"," ",620],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","response",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","getContent",620],"(",")",")",";",["T_WHITESPACE","\n        ",620],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","assertRegExp",621],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage=2\/'",621],",",["T_WHITESPACE"," ",621],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","response",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","headers",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","get",621],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",621],")",")",";",["T_WHITESPACE","\n\n        ",621],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","request",623],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",623],",",["T_WHITESPACE"," ",623],["T_CONSTANT_ENCAPSED_STRING","'\/'",623],")",";",["T_WHITESPACE","\n        ",623],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","assertHttpKernelIsNotCalled",624],"(",")",";",["T_WHITESPACE","\n        ",624],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","assertEquals",625],"(",["T_LNUMBER","200",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","response",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","getStatusCode",625],"(",")",")",";",["T_WHITESPACE","\n        ",625],["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","assertTraceContains",626],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",626],")",";",["T_WHITESPACE","\n        ",626],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","assertTraceNotContains",627],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",627],")",";",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","assertEquals",628],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",628],",",["T_WHITESPACE"," ",628],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","response",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","getContent",628],"(",")",")",";",["T_WHITESPACE","\n        ",628],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","assertRegExp",629],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage=2\/'",629],",",["T_WHITESPACE"," ",629],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","response",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","headers",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","get",629],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",629],")",")",";",["T_WHITESPACE","\n\n        ",629],["T_COMMENT","\/\/ expires the cache\n",631],["T_WHITESPACE","        ",632],["T_VARIABLE","$values",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","getMetaStorageValues",632],"(",")",";",["T_WHITESPACE","\n        ",632],["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","assertCount",633],"(",["T_LNUMBER","1",633],",",["T_WHITESPACE"," ",633],["T_VARIABLE","$values",633],")",";",["T_WHITESPACE","\n        ",633],["T_VARIABLE","$tmp",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_STRING","unserialize",634],"(",["T_VARIABLE","$values",634],"[",["T_LNUMBER","0",634],"]",")",";",["T_WHITESPACE","\n        ",634],["T_VARIABLE","$time",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_NS_SEPARATOR","\\",635],["T_STRING","DateTime",635],["T_DOUBLE_COLON","::",635],["T_STRING","createFromFormat",635],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",635],",",["T_WHITESPACE"," ",635],["T_STRING","time",635],"(",")",["T_WHITESPACE"," ",635],"-",["T_WHITESPACE"," ",635],["T_LNUMBER","5",635],")",";",["T_WHITESPACE","\n        ",635],["T_VARIABLE","$tmp",636],"[",["T_LNUMBER","0",636],"]","[",["T_LNUMBER","1",636],"]","[",["T_CONSTANT_ENCAPSED_STRING","'date'",636],"]",["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$time",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","format",636],"(",["T_STRING","DATE_RFC2822",636],")",";",["T_WHITESPACE","\n        ",636],["T_VARIABLE","$r",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_NEW","new",637],["T_WHITESPACE"," ",637],["T_NS_SEPARATOR","\\",637],["T_STRING","ReflectionObject",637],"(",["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","store",637],")",";",["T_WHITESPACE","\n        ",637],["T_VARIABLE","$m",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_VARIABLE","$r",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","getMethod",638],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",638],")",";",["T_WHITESPACE","\n        ",638],["T_VARIABLE","$m",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","setAccessible",639],"(",["T_STRING","true",639],")",";",["T_WHITESPACE","\n        ",639],["T_VARIABLE","$m",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","invoke",640],"(",["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","store",640],",",["T_WHITESPACE"," ",640],["T_CONSTANT_ENCAPSED_STRING","'md'",640],".",["T_STRING","hash",640],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",640],",",["T_WHITESPACE"," ",640],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",640],")",",",["T_WHITESPACE"," ",640],["T_STRING","serialize",640],"(",["T_VARIABLE","$tmp",640],")",")",";",["T_WHITESPACE","\n\n        ",640],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","request",642],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",642],",",["T_WHITESPACE"," ",642],["T_CONSTANT_ENCAPSED_STRING","'\/'",642],")",";",["T_WHITESPACE","\n        ",642],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","assertHttpKernelIsCalled",643],"(",")",";",["T_WHITESPACE","\n        ",643],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","assertEquals",644],"(",["T_LNUMBER","200",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","response",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","getStatusCode",644],"(",")",")",";",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","assertTraceContains",645],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",645],")",";",["T_WHITESPACE","\n        ",645],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","assertTraceContains",646],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid'",646],")",";",["T_WHITESPACE","\n        ",646],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","assertTraceContains",647],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",647],")",";",["T_WHITESPACE","\n        ",647],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","assertEquals",648],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","response",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","getContent",648],"(",")",")",";",["T_WHITESPACE","\n        ",648],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","assertRegExp",649],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage=2\/'",649],",",["T_WHITESPACE"," ",649],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","response",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","headers",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","get",649],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",649],")",")",";",["T_WHITESPACE","\n\n        ",649],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","setNextResponse",651],"(",")",";",["T_WHITESPACE","\n\n        ",651],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","request",653],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",653],",",["T_WHITESPACE"," ",653],["T_CONSTANT_ENCAPSED_STRING","'\/'",653],")",";",["T_WHITESPACE","\n        ",653],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","assertHttpKernelIsNotCalled",654],"(",")",";",["T_WHITESPACE","\n        ",654],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","assertEquals",655],"(",["T_LNUMBER","200",655],",",["T_WHITESPACE"," ",655],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","response",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","getStatusCode",655],"(",")",")",";",["T_WHITESPACE","\n        ",655],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","assertTraceContains",656],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",656],")",";",["T_WHITESPACE","\n        ",656],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","assertTraceNotContains",657],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",657],")",";",["T_WHITESPACE","\n        ",657],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","assertEquals",658],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","response",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","getContent",658],"(",")",")",";",["T_WHITESPACE","\n        ",658],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","assertRegExp",659],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage=2\/'",659],",",["T_WHITESPACE"," ",659],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","response",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","headers",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","get",659],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",659],")",")",";",["T_WHITESPACE","\n    ",659],"}",["T_WHITESPACE","\n\n    ",660],["T_PUBLIC","public",662],["T_WHITESPACE"," ",662],["T_FUNCTION","function",662],["T_WHITESPACE"," ",662],["T_STRING","testAssignsDefaultTtlWhenResponseHasNoFreshnessInformationAndAfterTtlWasExpiredWithStatus304",662],"(",")",["T_WHITESPACE","\n    ",662],"{",["T_WHITESPACE","\n        ",663],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","setNextResponse",664],"(",")",";",["T_WHITESPACE","\n\n        ",664],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","cacheConfig",666],"[",["T_CONSTANT_ENCAPSED_STRING","'default_ttl'",666],"]",["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_LNUMBER","2",666],";",["T_WHITESPACE","\n        ",666],["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","request",667],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",667],",",["T_WHITESPACE"," ",667],["T_CONSTANT_ENCAPSED_STRING","'\/'",667],")",";",["T_WHITESPACE","\n        ",667],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","assertHttpKernelIsCalled",668],"(",")",";",["T_WHITESPACE","\n        ",668],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","assertTraceContains",669],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",669],")",";",["T_WHITESPACE","\n        ",669],["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","assertTraceContains",670],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",670],")",";",["T_WHITESPACE","\n        ",670],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","assertEquals",671],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",671],",",["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","response",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","getContent",671],"(",")",")",";",["T_WHITESPACE","\n        ",671],["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","assertRegExp",672],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage=2\/'",672],",",["T_WHITESPACE"," ",672],["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","response",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","headers",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","get",672],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",672],")",")",";",["T_WHITESPACE","\n\n        ",672],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","request",674],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",674],",",["T_WHITESPACE"," ",674],["T_CONSTANT_ENCAPSED_STRING","'\/'",674],")",";",["T_WHITESPACE","\n        ",674],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","assertHttpKernelIsNotCalled",675],"(",")",";",["T_WHITESPACE","\n        ",675],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","assertEquals",676],"(",["T_LNUMBER","200",676],",",["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","response",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","getStatusCode",676],"(",")",")",";",["T_WHITESPACE","\n        ",676],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","assertTraceContains",677],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",677],")",";",["T_WHITESPACE","\n        ",677],["T_VARIABLE","$this",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","assertTraceNotContains",678],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",678],")",";",["T_WHITESPACE","\n        ",678],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","assertEquals",679],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",679],",",["T_WHITESPACE"," ",679],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","response",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","getContent",679],"(",")",")",";",["T_WHITESPACE","\n\n        ",679],["T_COMMENT","\/\/ expires the cache\n",681],["T_WHITESPACE","        ",682],["T_VARIABLE","$values",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","getMetaStorageValues",682],"(",")",";",["T_WHITESPACE","\n        ",682],["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","assertCount",683],"(",["T_LNUMBER","1",683],",",["T_WHITESPACE"," ",683],["T_VARIABLE","$values",683],")",";",["T_WHITESPACE","\n        ",683],["T_VARIABLE","$tmp",684],["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_STRING","unserialize",684],"(",["T_VARIABLE","$values",684],"[",["T_LNUMBER","0",684],"]",")",";",["T_WHITESPACE","\n        ",684],["T_VARIABLE","$time",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_NS_SEPARATOR","\\",685],["T_STRING","DateTime",685],["T_DOUBLE_COLON","::",685],["T_STRING","createFromFormat",685],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",685],",",["T_WHITESPACE"," ",685],["T_STRING","time",685],"(",")",["T_WHITESPACE"," ",685],"-",["T_WHITESPACE"," ",685],["T_LNUMBER","5",685],")",";",["T_WHITESPACE","\n        ",685],["T_VARIABLE","$tmp",686],"[",["T_LNUMBER","0",686],"]","[",["T_LNUMBER","1",686],"]","[",["T_CONSTANT_ENCAPSED_STRING","'date'",686],"]",["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_VARIABLE","$time",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","format",686],"(",["T_STRING","DATE_RFC2822",686],")",";",["T_WHITESPACE","\n        ",686],["T_VARIABLE","$r",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_NEW","new",687],["T_WHITESPACE"," ",687],["T_NS_SEPARATOR","\\",687],["T_STRING","ReflectionObject",687],"(",["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","store",687],")",";",["T_WHITESPACE","\n        ",687],["T_VARIABLE","$m",688],["T_WHITESPACE"," ",688],"=",["T_WHITESPACE"," ",688],["T_VARIABLE","$r",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","getMethod",688],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",688],")",";",["T_WHITESPACE","\n        ",688],["T_VARIABLE","$m",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","setAccessible",689],"(",["T_STRING","true",689],")",";",["T_WHITESPACE","\n        ",689],["T_VARIABLE","$m",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","invoke",690],"(",["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","store",690],",",["T_WHITESPACE"," ",690],["T_CONSTANT_ENCAPSED_STRING","'md'",690],".",["T_STRING","hash",690],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",690],",",["T_WHITESPACE"," ",690],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",690],")",",",["T_WHITESPACE"," ",690],["T_STRING","serialize",690],"(",["T_VARIABLE","$tmp",690],")",")",";",["T_WHITESPACE","\n\n        ",690],["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","request",692],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",692],",",["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'\/'",692],")",";",["T_WHITESPACE","\n        ",692],["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","assertHttpKernelIsCalled",693],"(",")",";",["T_WHITESPACE","\n        ",693],["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","assertEquals",694],"(",["T_LNUMBER","200",694],",",["T_WHITESPACE"," ",694],["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","response",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","getStatusCode",694],"(",")",")",";",["T_WHITESPACE","\n        ",694],["T_VARIABLE","$this",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","assertTraceContains",695],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",695],")",";",["T_WHITESPACE","\n        ",695],["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","assertTraceContains",696],"(",["T_CONSTANT_ENCAPSED_STRING","'valid'",696],")",";",["T_WHITESPACE","\n        ",696],["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","assertTraceContains",697],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",697],")",";",["T_WHITESPACE","\n        ",697],["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","assertTraceNotContains",698],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",698],")",";",["T_WHITESPACE","\n        ",698],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","assertEquals",699],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",699],",",["T_WHITESPACE"," ",699],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","response",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","getContent",699],"(",")",")",";",["T_WHITESPACE","\n        ",699],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","assertRegExp",700],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage=2\/'",700],",",["T_WHITESPACE"," ",700],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","response",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","headers",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","get",700],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",700],")",")",";",["T_WHITESPACE","\n\n        ",700],["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","request",702],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",702],",",["T_WHITESPACE"," ",702],["T_CONSTANT_ENCAPSED_STRING","'\/'",702],")",";",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","assertHttpKernelIsNotCalled",703],"(",")",";",["T_WHITESPACE","\n        ",703],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","assertEquals",704],"(",["T_LNUMBER","200",704],",",["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","response",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","getStatusCode",704],"(",")",")",";",["T_WHITESPACE","\n        ",704],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","assertTraceContains",705],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",705],")",";",["T_WHITESPACE","\n        ",705],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","assertTraceNotContains",706],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",706],")",";",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","assertEquals",707],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",707],",",["T_WHITESPACE"," ",707],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","response",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","getContent",707],"(",")",")",";",["T_WHITESPACE","\n        ",707],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","assertRegExp",708],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage=2\/'",708],",",["T_WHITESPACE"," ",708],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","response",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","headers",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","get",708],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",708],")",")",";",["T_WHITESPACE","\n    ",708],"}",["T_WHITESPACE","\n\n    ",709],["T_PUBLIC","public",711],["T_WHITESPACE"," ",711],["T_FUNCTION","function",711],["T_WHITESPACE"," ",711],["T_STRING","testDoesNotAssignDefaultTtlWhenResponseHasMustRevalidateDirective",711],"(",")",["T_WHITESPACE","\n    ",711],"{",["T_WHITESPACE","\n        ",712],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","setNextResponse",713],"(",["T_LNUMBER","200",713],",",["T_WHITESPACE"," ",713],["T_ARRAY","array",713],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",713],["T_WHITESPACE"," ",713],["T_DOUBLE_ARROW","=>",713],["T_WHITESPACE"," ",713],["T_CONSTANT_ENCAPSED_STRING","'must-revalidate'",713],")",")",";",["T_WHITESPACE","\n\n        ",713],["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","cacheConfig",715],"[",["T_CONSTANT_ENCAPSED_STRING","'default_ttl'",715],"]",["T_WHITESPACE"," ",715],"=",["T_WHITESPACE"," ",715],["T_LNUMBER","10",715],";",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","request",716],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",716],",",["T_WHITESPACE"," ",716],["T_CONSTANT_ENCAPSED_STRING","'\/'",716],")",";",["T_WHITESPACE","\n        ",716],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","assertHttpKernelIsCalled",717],"(",")",";",["T_WHITESPACE","\n        ",717],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","assertEquals",718],"(",["T_LNUMBER","200",718],",",["T_WHITESPACE"," ",718],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","response",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","getStatusCode",718],"(",")",")",";",["T_WHITESPACE","\n        ",718],["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","assertTraceContains",719],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",719],")",";",["T_WHITESPACE","\n        ",719],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","assertTraceNotContains",720],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",720],")",";",["T_WHITESPACE","\n        ",720],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","assertNotRegExp",721],"(",["T_CONSTANT_ENCAPSED_STRING","'\/s-maxage\/'",721],",",["T_WHITESPACE"," ",721],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","response",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","headers",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","get",721],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",721],")",")",";",["T_WHITESPACE","\n        ",721],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","assertEquals",722],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",722],",",["T_WHITESPACE"," ",722],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","response",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","getContent",722],"(",")",")",";",["T_WHITESPACE","\n    ",722],"}",["T_WHITESPACE","\n\n    ",723],["T_PUBLIC","public",725],["T_WHITESPACE"," ",725],["T_FUNCTION","function",725],["T_WHITESPACE"," ",725],["T_STRING","testFetchesFullResponseWhenCacheStaleAndNoValidatorsPresent",725],"(",")",["T_WHITESPACE","\n    ",725],"{",["T_WHITESPACE","\n        ",726],["T_VARIABLE","$time",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_NS_SEPARATOR","\\",727],["T_STRING","DateTime",727],["T_DOUBLE_COLON","::",727],["T_STRING","createFromFormat",727],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",727],",",["T_WHITESPACE"," ",727],["T_STRING","time",727],"(",")",["T_WHITESPACE"," ",727],"+",["T_WHITESPACE"," ",727],["T_LNUMBER","5",727],")",";",["T_WHITESPACE","\n        ",727],["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","setNextResponse",728],"(",["T_LNUMBER","200",728],",",["T_WHITESPACE"," ",728],["T_ARRAY","array",728],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",728],["T_WHITESPACE"," ",728],["T_DOUBLE_ARROW","=>",728],["T_WHITESPACE"," ",728],["T_CONSTANT_ENCAPSED_STRING","'public'",728],",",["T_WHITESPACE"," ",728],["T_CONSTANT_ENCAPSED_STRING","'Expires'",728],["T_WHITESPACE"," ",728],["T_DOUBLE_ARROW","=>",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$time",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","format",728],"(",["T_STRING","DATE_RFC2822",728],")",")",")",";",["T_WHITESPACE","\n\n        ",728],["T_COMMENT","\/\/ build initial request\n",730],["T_WHITESPACE","        ",731],["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","request",731],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",731],",",["T_WHITESPACE"," ",731],["T_CONSTANT_ENCAPSED_STRING","'\/'",731],")",";",["T_WHITESPACE","\n        ",731],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","assertHttpKernelIsCalled",732],"(",")",";",["T_WHITESPACE","\n        ",732],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","assertEquals",733],"(",["T_LNUMBER","200",733],",",["T_WHITESPACE"," ",733],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","response",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","getStatusCode",733],"(",")",")",";",["T_WHITESPACE","\n        ",733],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","assertNotNull",734],"(",["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","response",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","headers",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","get",734],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",734],")",")",";",["T_WHITESPACE","\n        ",734],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","assertNotNull",735],"(",["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","response",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","headers",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","get",735],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",735],")",")",";",["T_WHITESPACE","\n        ",735],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","assertNotNull",736],"(",["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","response",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","headers",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","get",736],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",736],")",")",";",["T_WHITESPACE","\n        ",736],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","assertTraceContains",737],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",737],")",";",["T_WHITESPACE","\n        ",737],["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","assertTraceContains",738],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",738],")",";",["T_WHITESPACE","\n        ",738],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","assertEquals",739],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",739],",",["T_WHITESPACE"," ",739],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","response",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","getContent",739],"(",")",")",";",["T_WHITESPACE","\n\n        ",739],["T_COMMENT","\/\/ go in and play around with the cached metadata directly ...\n",741],["T_WHITESPACE","        ",742],["T_VARIABLE","$values",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","getMetaStorageValues",742],"(",")",";",["T_WHITESPACE","\n        ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","assertCount",743],"(",["T_LNUMBER","1",743],",",["T_WHITESPACE"," ",743],["T_VARIABLE","$values",743],")",";",["T_WHITESPACE","\n        ",743],["T_VARIABLE","$tmp",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_STRING","unserialize",744],"(",["T_VARIABLE","$values",744],"[",["T_LNUMBER","0",744],"]",")",";",["T_WHITESPACE","\n        ",744],["T_VARIABLE","$time",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_NS_SEPARATOR","\\",745],["T_STRING","DateTime",745],["T_DOUBLE_COLON","::",745],["T_STRING","createFromFormat",745],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",745],",",["T_WHITESPACE"," ",745],["T_STRING","time",745],"(",")",")",";",["T_WHITESPACE","\n        ",745],["T_VARIABLE","$tmp",746],"[",["T_LNUMBER","0",746],"]","[",["T_LNUMBER","1",746],"]","[",["T_CONSTANT_ENCAPSED_STRING","'expires'",746],"]",["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_VARIABLE","$time",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","format",746],"(",["T_STRING","DATE_RFC2822",746],")",";",["T_WHITESPACE","\n        ",746],["T_VARIABLE","$r",747],["T_WHITESPACE"," ",747],"=",["T_WHITESPACE"," ",747],["T_NEW","new",747],["T_WHITESPACE"," ",747],["T_NS_SEPARATOR","\\",747],["T_STRING","ReflectionObject",747],"(",["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","store",747],")",";",["T_WHITESPACE","\n        ",747],["T_VARIABLE","$m",748],["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_VARIABLE","$r",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","getMethod",748],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",748],")",";",["T_WHITESPACE","\n        ",748],["T_VARIABLE","$m",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","setAccessible",749],"(",["T_STRING","true",749],")",";",["T_WHITESPACE","\n        ",749],["T_VARIABLE","$m",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","invoke",750],"(",["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","store",750],",",["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'md'",750],".",["T_STRING","hash",750],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",750],",",["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",750],")",",",["T_WHITESPACE"," ",750],["T_STRING","serialize",750],"(",["T_VARIABLE","$tmp",750],")",")",";",["T_WHITESPACE","\n\n        ",750],["T_COMMENT","\/\/ build subsequent request; should be found but miss due to freshness\n",752],["T_WHITESPACE","        ",753],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","request",753],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",753],",",["T_WHITESPACE"," ",753],["T_CONSTANT_ENCAPSED_STRING","'\/'",753],")",";",["T_WHITESPACE","\n        ",753],["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","assertHttpKernelIsCalled",754],"(",")",";",["T_WHITESPACE","\n        ",754],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","assertEquals",755],"(",["T_LNUMBER","200",755],",",["T_WHITESPACE"," ",755],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","response",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","getStatusCode",755],"(",")",")",";",["T_WHITESPACE","\n        ",755],["T_VARIABLE","$this",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","assertTrue",756],"(",["T_VARIABLE","$this",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","response",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","headers",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","get",756],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",756],")",["T_WHITESPACE"," ",756],["T_IS_SMALLER_OR_EQUAL","<=",756],["T_WHITESPACE"," ",756],["T_LNUMBER","1",756],")",";",["T_WHITESPACE","\n        ",756],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","assertNotNull",757],"(",["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","response",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","headers",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","get",757],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",757],")",")",";",["T_WHITESPACE","\n        ",757],["T_VARIABLE","$this",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","assertTraceContains",758],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",758],")",";",["T_WHITESPACE","\n        ",758],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","assertTraceNotContains",759],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",759],")",";",["T_WHITESPACE","\n        ",759],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","assertTraceNotContains",760],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",760],")",";",["T_WHITESPACE","\n        ",760],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","assertTraceContains",761],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",761],")",";",["T_WHITESPACE","\n        ",761],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","assertEquals",762],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",762],",",["T_WHITESPACE"," ",762],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","response",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","getContent",762],"(",")",")",";",["T_WHITESPACE","\n    ",762],"}",["T_WHITESPACE","\n\n    ",763],["T_PUBLIC","public",765],["T_WHITESPACE"," ",765],["T_FUNCTION","function",765],["T_WHITESPACE"," ",765],["T_STRING","testValidatesCachedResponsesWithLastModifiedAndNoFreshnessInformation",765],"(",")",["T_WHITESPACE","\n    ",765],"{",["T_WHITESPACE","\n        ",766],["T_VARIABLE","$time",767],["T_WHITESPACE"," ",767],"=",["T_WHITESPACE"," ",767],["T_NS_SEPARATOR","\\",767],["T_STRING","DateTime",767],["T_DOUBLE_COLON","::",767],["T_STRING","createFromFormat",767],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",767],",",["T_WHITESPACE"," ",767],["T_STRING","time",767],"(",")",")",";",["T_WHITESPACE","\n        ",767],["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","setNextResponse",768],"(",["T_LNUMBER","200",768],",",["T_WHITESPACE"," ",768],["T_ARRAY","array",768],"(",")",",",["T_WHITESPACE"," ",768],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",768],",",["T_WHITESPACE"," ",768],["T_FUNCTION","function",768],["T_WHITESPACE"," ",768],"(",["T_VARIABLE","$request",768],",",["T_WHITESPACE"," ",768],["T_VARIABLE","$response",768],")",["T_WHITESPACE"," ",768],["T_USE","use",768],["T_WHITESPACE"," ",768],"(",["T_VARIABLE","$time",768],")",["T_WHITESPACE"," ",768],"{",["T_WHITESPACE","\n            ",768],["T_VARIABLE","$response",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","headers",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","set",769],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",769],",",["T_WHITESPACE"," ",769],["T_CONSTANT_ENCAPSED_STRING","'public'",769],")",";",["T_WHITESPACE","\n            ",769],["T_VARIABLE","$response",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","headers",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","set",770],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",770],",",["T_WHITESPACE"," ",770],["T_VARIABLE","$time",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","format",770],"(",["T_STRING","DATE_RFC2822",770],")",")",";",["T_WHITESPACE","\n            ",770],["T_IF","if",771],["T_WHITESPACE"," ",771],"(",["T_VARIABLE","$time",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","format",771],"(",["T_STRING","DATE_RFC2822",771],")",["T_WHITESPACE"," ",771],["T_IS_EQUAL","==",771],["T_WHITESPACE"," ",771],["T_VARIABLE","$request",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","headers",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","get",771],"(",["T_CONSTANT_ENCAPSED_STRING","'IF_MODIFIED_SINCE'",771],")",")",["T_WHITESPACE"," ",771],"{",["T_WHITESPACE","\n                ",771],["T_VARIABLE","$response",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","setStatusCode",772],"(",["T_LNUMBER","304",772],")",";",["T_WHITESPACE","\n                ",772],["T_VARIABLE","$response",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","setContent",773],"(",["T_CONSTANT_ENCAPSED_STRING","''",773],")",";",["T_WHITESPACE","\n            ",773],"}",["T_WHITESPACE","\n        ",774],"}",")",";",["T_WHITESPACE","\n\n        ",775],["T_COMMENT","\/\/ build initial request\n",777],["T_WHITESPACE","        ",778],["T_VARIABLE","$this",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","request",778],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",778],",",["T_WHITESPACE"," ",778],["T_CONSTANT_ENCAPSED_STRING","'\/'",778],")",";",["T_WHITESPACE","\n        ",778],["T_VARIABLE","$this",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","assertHttpKernelIsCalled",779],"(",")",";",["T_WHITESPACE","\n        ",779],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","assertEquals",780],"(",["T_LNUMBER","200",780],",",["T_WHITESPACE"," ",780],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","response",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","getStatusCode",780],"(",")",")",";",["T_WHITESPACE","\n        ",780],["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","assertNotNull",781],"(",["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","response",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","headers",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","get",781],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",781],")",")",";",["T_WHITESPACE","\n        ",781],["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","assertNotNull",782],"(",["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","response",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","headers",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","get",782],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",782],")",")",";",["T_WHITESPACE","\n        ",782],["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","assertEquals",783],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",783],",",["T_WHITESPACE"," ",783],["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","response",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","getContent",783],"(",")",")",";",["T_WHITESPACE","\n        ",783],["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","assertTraceContains",784],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",784],")",";",["T_WHITESPACE","\n        ",784],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","assertTraceContains",785],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",785],")",";",["T_WHITESPACE","\n        ",785],["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","assertTraceNotContains",786],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",786],")",";",["T_WHITESPACE","\n\n        ",786],["T_COMMENT","\/\/ build subsequent request; should be found but miss due to freshness\n",788],["T_WHITESPACE","        ",789],["T_VARIABLE","$this",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","request",789],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",789],",",["T_WHITESPACE"," ",789],["T_CONSTANT_ENCAPSED_STRING","'\/'",789],")",";",["T_WHITESPACE","\n        ",789],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","assertHttpKernelIsCalled",790],"(",")",";",["T_WHITESPACE","\n        ",790],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","assertEquals",791],"(",["T_LNUMBER","200",791],",",["T_WHITESPACE"," ",791],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","response",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","getStatusCode",791],"(",")",")",";",["T_WHITESPACE","\n        ",791],["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","assertNotNull",792],"(",["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","response",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","headers",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","get",792],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",792],")",")",";",["T_WHITESPACE","\n        ",792],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","assertNotNull",793],"(",["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","response",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","headers",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","get",793],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",793],")",")",";",["T_WHITESPACE","\n        ",793],["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","assertTrue",794],"(",["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","response",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","headers",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","get",794],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",794],")",["T_WHITESPACE"," ",794],["T_IS_SMALLER_OR_EQUAL","<=",794],["T_WHITESPACE"," ",794],["T_LNUMBER","1",794],")",";",["T_WHITESPACE","\n        ",794],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","assertEquals",795],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",795],",",["T_WHITESPACE"," ",795],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","response",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","getContent",795],"(",")",")",";",["T_WHITESPACE","\n        ",795],["T_VARIABLE","$this",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","assertTraceContains",796],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",796],")",";",["T_WHITESPACE","\n        ",796],["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","assertTraceContains",797],"(",["T_CONSTANT_ENCAPSED_STRING","'valid'",797],")",";",["T_WHITESPACE","\n        ",797],["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","assertTraceContains",798],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",798],")",";",["T_WHITESPACE","\n        ",798],["T_VARIABLE","$this",799],["T_OBJECT_OPERATOR","->",799],["T_STRING","assertTraceNotContains",799],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",799],")",";",["T_WHITESPACE","\n    ",799],"}",["T_WHITESPACE","\n\n    ",800],["T_PUBLIC","public",802],["T_WHITESPACE"," ",802],["T_FUNCTION","function",802],["T_WHITESPACE"," ",802],["T_STRING","testValidatesCachedResponsesUseSameHttpMethod",802],"(",")",["T_WHITESPACE","\n    ",802],"{",["T_WHITESPACE","\n        ",803],["T_VARIABLE","$test",804],["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_VARIABLE","$this",804],";",["T_WHITESPACE","\n\n        ",804],["T_VARIABLE","$this",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","setNextResponse",806],"(",["T_LNUMBER","200",806],",",["T_WHITESPACE"," ",806],["T_ARRAY","array",806],"(",")",",",["T_WHITESPACE"," ",806],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",806],",",["T_WHITESPACE"," ",806],["T_FUNCTION","function",806],["T_WHITESPACE"," ",806],"(",["T_VARIABLE","$request",806],",",["T_WHITESPACE"," ",806],["T_VARIABLE","$response",806],")",["T_WHITESPACE"," ",806],["T_USE","use",806],["T_WHITESPACE"," ",806],"(",["T_VARIABLE","$test",806],")",["T_WHITESPACE"," ",806],"{",["T_WHITESPACE","\n            ",806],["T_VARIABLE","$test",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","assertSame",807],"(",["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",807],",",["T_WHITESPACE"," ",807],["T_VARIABLE","$request",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","getMethod",807],"(",")",")",";",["T_WHITESPACE","\n        ",807],"}",")",";",["T_WHITESPACE","\n\n        ",808],["T_COMMENT","\/\/ build initial request\n",810],["T_WHITESPACE","        ",811],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","request",811],"(",["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",811],",",["T_WHITESPACE"," ",811],["T_CONSTANT_ENCAPSED_STRING","'\/'",811],")",";",["T_WHITESPACE","\n\n        ",811],["T_COMMENT","\/\/ build subsequent request\n",813],["T_WHITESPACE","        ",814],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","request",814],"(",["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",814],",",["T_WHITESPACE"," ",814],["T_CONSTANT_ENCAPSED_STRING","'\/'",814],")",";",["T_WHITESPACE","\n    ",814],"}",["T_WHITESPACE","\n\n    ",815],["T_PUBLIC","public",817],["T_WHITESPACE"," ",817],["T_FUNCTION","function",817],["T_WHITESPACE"," ",817],["T_STRING","testValidatesCachedResponsesWithETagAndNoFreshnessInformation",817],"(",")",["T_WHITESPACE","\n    ",817],"{",["T_WHITESPACE","\n        ",818],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","setNextResponse",819],"(",["T_LNUMBER","200",819],",",["T_WHITESPACE"," ",819],["T_ARRAY","array",819],"(",")",",",["T_WHITESPACE"," ",819],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",819],",",["T_WHITESPACE"," ",819],["T_FUNCTION","function",819],["T_WHITESPACE"," ",819],"(",["T_VARIABLE","$request",819],",",["T_WHITESPACE"," ",819],["T_VARIABLE","$response",819],")",["T_WHITESPACE"," ",819],"{",["T_WHITESPACE","\n            ",819],["T_VARIABLE","$response",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","headers",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","set",820],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",820],",",["T_WHITESPACE"," ",820],["T_CONSTANT_ENCAPSED_STRING","'public'",820],")",";",["T_WHITESPACE","\n            ",820],["T_VARIABLE","$response",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","headers",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","set",821],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",821],",",["T_WHITESPACE"," ",821],["T_CONSTANT_ENCAPSED_STRING","'\"12345\"'",821],")",";",["T_WHITESPACE","\n            ",821],["T_IF","if",822],["T_WHITESPACE"," ",822],"(",["T_VARIABLE","$response",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","getETag",822],"(",")",["T_WHITESPACE"," ",822],["T_IS_EQUAL","==",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$request",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","headers",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","get",822],"(",["T_CONSTANT_ENCAPSED_STRING","'IF_NONE_MATCH'",822],")",")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n                ",822],["T_VARIABLE","$response",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","setStatusCode",823],"(",["T_LNUMBER","304",823],")",";",["T_WHITESPACE","\n                ",823],["T_VARIABLE","$response",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","setContent",824],"(",["T_CONSTANT_ENCAPSED_STRING","''",824],")",";",["T_WHITESPACE","\n            ",824],"}",["T_WHITESPACE","\n        ",825],"}",")",";",["T_WHITESPACE","\n\n        ",826],["T_COMMENT","\/\/ build initial request\n",828],["T_WHITESPACE","        ",829],["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","request",829],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",829],",",["T_WHITESPACE"," ",829],["T_CONSTANT_ENCAPSED_STRING","'\/'",829],")",";",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","assertHttpKernelIsCalled",830],"(",")",";",["T_WHITESPACE","\n        ",830],["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","assertEquals",831],"(",["T_LNUMBER","200",831],",",["T_WHITESPACE"," ",831],["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","response",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","getStatusCode",831],"(",")",")",";",["T_WHITESPACE","\n        ",831],["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","assertNotNull",832],"(",["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","response",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","headers",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","get",832],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",832],")",")",";",["T_WHITESPACE","\n        ",832],["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","assertNotNull",833],"(",["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","response",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","headers",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","get",833],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",833],")",")",";",["T_WHITESPACE","\n        ",833],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","assertEquals",834],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",834],",",["T_WHITESPACE"," ",834],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","response",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","getContent",834],"(",")",")",";",["T_WHITESPACE","\n        ",834],["T_VARIABLE","$this",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","assertTraceContains",835],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",835],")",";",["T_WHITESPACE","\n        ",835],["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","assertTraceContains",836],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",836],")",";",["T_WHITESPACE","\n\n        ",836],["T_COMMENT","\/\/ build subsequent request; should be found but miss due to freshness\n",838],["T_WHITESPACE","        ",839],["T_VARIABLE","$this",839],["T_OBJECT_OPERATOR","->",839],["T_STRING","request",839],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",839],",",["T_WHITESPACE"," ",839],["T_CONSTANT_ENCAPSED_STRING","'\/'",839],")",";",["T_WHITESPACE","\n        ",839],["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","assertHttpKernelIsCalled",840],"(",")",";",["T_WHITESPACE","\n        ",840],["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","assertEquals",841],"(",["T_LNUMBER","200",841],",",["T_WHITESPACE"," ",841],["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","response",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","getStatusCode",841],"(",")",")",";",["T_WHITESPACE","\n        ",841],["T_VARIABLE","$this",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","assertNotNull",842],"(",["T_VARIABLE","$this",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","response",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","headers",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","get",842],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",842],")",")",";",["T_WHITESPACE","\n        ",842],["T_VARIABLE","$this",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","assertNotNull",843],"(",["T_VARIABLE","$this",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","response",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","headers",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","get",843],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",843],")",")",";",["T_WHITESPACE","\n        ",843],["T_VARIABLE","$this",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","assertTrue",844],"(",["T_VARIABLE","$this",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","response",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","headers",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","get",844],"(",["T_CONSTANT_ENCAPSED_STRING","'Age'",844],")",["T_WHITESPACE"," ",844],["T_IS_SMALLER_OR_EQUAL","<=",844],["T_WHITESPACE"," ",844],["T_LNUMBER","1",844],")",";",["T_WHITESPACE","\n        ",844],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","assertEquals",845],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",845],",",["T_WHITESPACE"," ",845],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","response",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","getContent",845],"(",")",")",";",["T_WHITESPACE","\n        ",845],["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","assertTraceContains",846],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",846],")",";",["T_WHITESPACE","\n        ",846],["T_VARIABLE","$this",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","assertTraceContains",847],"(",["T_CONSTANT_ENCAPSED_STRING","'valid'",847],")",";",["T_WHITESPACE","\n        ",847],["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","assertTraceContains",848],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",848],")",";",["T_WHITESPACE","\n        ",848],["T_VARIABLE","$this",849],["T_OBJECT_OPERATOR","->",849],["T_STRING","assertTraceNotContains",849],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",849],")",";",["T_WHITESPACE","\n    ",849],"}",["T_WHITESPACE","\n\n    ",850],["T_PUBLIC","public",852],["T_WHITESPACE"," ",852],["T_FUNCTION","function",852],["T_WHITESPACE"," ",852],["T_STRING","testReplacesCachedResponsesWhenValidationResultsInNon304Response",852],"(",")",["T_WHITESPACE","\n    ",852],"{",["T_WHITESPACE","\n        ",853],["T_VARIABLE","$time",854],["T_WHITESPACE"," ",854],"=",["T_WHITESPACE"," ",854],["T_NS_SEPARATOR","\\",854],["T_STRING","DateTime",854],["T_DOUBLE_COLON","::",854],["T_STRING","createFromFormat",854],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",854],",",["T_WHITESPACE"," ",854],["T_STRING","time",854],"(",")",")",";",["T_WHITESPACE","\n        ",854],["T_VARIABLE","$count",855],["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],["T_LNUMBER","0",855],";",["T_WHITESPACE","\n        ",855],["T_VARIABLE","$this",856],["T_OBJECT_OPERATOR","->",856],["T_STRING","setNextResponse",856],"(",["T_LNUMBER","200",856],",",["T_WHITESPACE"," ",856],["T_ARRAY","array",856],"(",")",",",["T_WHITESPACE"," ",856],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",856],",",["T_WHITESPACE"," ",856],["T_FUNCTION","function",856],["T_WHITESPACE"," ",856],"(",["T_VARIABLE","$request",856],",",["T_WHITESPACE"," ",856],["T_VARIABLE","$response",856],")",["T_WHITESPACE"," ",856],["T_USE","use",856],["T_WHITESPACE"," ",856],"(",["T_VARIABLE","$time",856],",",["T_WHITESPACE"," ",856],"&",["T_VARIABLE","$count",856],")",["T_WHITESPACE"," ",856],"{",["T_WHITESPACE","\n            ",856],["T_VARIABLE","$response",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","headers",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","set",857],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",857],",",["T_WHITESPACE"," ",857],["T_VARIABLE","$time",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","format",857],"(",["T_STRING","DATE_RFC2822",857],")",")",";",["T_WHITESPACE","\n            ",857],["T_VARIABLE","$response",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","headers",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","set",858],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",858],",",["T_WHITESPACE"," ",858],["T_CONSTANT_ENCAPSED_STRING","'public'",858],")",";",["T_WHITESPACE","\n            ",858],["T_SWITCH","switch",859],["T_WHITESPACE"," ",859],"(",["T_INC","++",859],["T_VARIABLE","$count",859],")",["T_WHITESPACE"," ",859],"{",["T_WHITESPACE","\n                ",859],["T_CASE","case",860],["T_WHITESPACE"," ",860],["T_LNUMBER","1",860],":",["T_WHITESPACE","\n                    ",860],["T_VARIABLE","$response",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","setContent",861],"(",["T_CONSTANT_ENCAPSED_STRING","'first response'",861],")",";",["T_WHITESPACE","\n                    ",861],["T_BREAK","break",862],";",["T_WHITESPACE","\n                ",862],["T_CASE","case",863],["T_WHITESPACE"," ",863],["T_LNUMBER","2",863],":",["T_WHITESPACE","\n                    ",863],["T_VARIABLE","$response",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","setContent",864],"(",["T_CONSTANT_ENCAPSED_STRING","'second response'",864],")",";",["T_WHITESPACE","\n                    ",864],["T_BREAK","break",865],";",["T_WHITESPACE","\n                ",865],["T_CASE","case",866],["T_WHITESPACE"," ",866],["T_LNUMBER","3",866],":",["T_WHITESPACE","\n                    ",866],["T_VARIABLE","$response",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","setContent",867],"(",["T_CONSTANT_ENCAPSED_STRING","''",867],")",";",["T_WHITESPACE","\n                    ",867],["T_VARIABLE","$response",868],["T_OBJECT_OPERATOR","->",868],["T_STRING","setStatusCode",868],"(",["T_LNUMBER","304",868],")",";",["T_WHITESPACE","\n                    ",868],["T_BREAK","break",869],";",["T_WHITESPACE","\n            ",869],"}",["T_WHITESPACE","\n        ",870],"}",")",";",["T_WHITESPACE","\n\n        ",871],["T_COMMENT","\/\/ first request should fetch from backend and store in cache\n",873],["T_WHITESPACE","        ",874],["T_VARIABLE","$this",874],["T_OBJECT_OPERATOR","->",874],["T_STRING","request",874],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",874],",",["T_WHITESPACE"," ",874],["T_CONSTANT_ENCAPSED_STRING","'\/'",874],")",";",["T_WHITESPACE","\n        ",874],["T_VARIABLE","$this",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","assertEquals",875],"(",["T_LNUMBER","200",875],",",["T_WHITESPACE"," ",875],["T_VARIABLE","$this",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","response",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","getStatusCode",875],"(",")",")",";",["T_WHITESPACE","\n        ",875],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","assertEquals",876],"(",["T_CONSTANT_ENCAPSED_STRING","'first response'",876],",",["T_WHITESPACE"," ",876],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","response",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","getContent",876],"(",")",")",";",["T_WHITESPACE","\n\n        ",876],["T_COMMENT","\/\/ second request is validated, is invalid, and replaces cached entry\n",878],["T_WHITESPACE","        ",879],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","request",879],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",879],",",["T_WHITESPACE"," ",879],["T_CONSTANT_ENCAPSED_STRING","'\/'",879],")",";",["T_WHITESPACE","\n        ",879],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","assertEquals",880],"(",["T_LNUMBER","200",880],",",["T_WHITESPACE"," ",880],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","response",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","getStatusCode",880],"(",")",")",";",["T_WHITESPACE","\n        ",880],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","assertEquals",881],"(",["T_CONSTANT_ENCAPSED_STRING","'second response'",881],",",["T_WHITESPACE"," ",881],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","response",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","getContent",881],"(",")",")",";",["T_WHITESPACE","\n\n        ",881],["T_COMMENT","\/\/ third response is validated, valid, and returns cached entry\n",883],["T_WHITESPACE","        ",884],["T_VARIABLE","$this",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","request",884],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",884],",",["T_WHITESPACE"," ",884],["T_CONSTANT_ENCAPSED_STRING","'\/'",884],")",";",["T_WHITESPACE","\n        ",884],["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","assertEquals",885],"(",["T_LNUMBER","200",885],",",["T_WHITESPACE"," ",885],["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","response",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","getStatusCode",885],"(",")",")",";",["T_WHITESPACE","\n        ",885],["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","assertEquals",886],"(",["T_CONSTANT_ENCAPSED_STRING","'second response'",886],",",["T_WHITESPACE"," ",886],["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","response",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","getContent",886],"(",")",")",";",["T_WHITESPACE","\n\n        ",886],["T_VARIABLE","$this",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","assertEquals",888],"(",["T_LNUMBER","3",888],",",["T_WHITESPACE"," ",888],["T_VARIABLE","$count",888],")",";",["T_WHITESPACE","\n    ",888],"}",["T_WHITESPACE","\n\n    ",889],["T_PUBLIC","public",891],["T_WHITESPACE"," ",891],["T_FUNCTION","function",891],["T_WHITESPACE"," ",891],["T_STRING","testPassesHeadRequestsThroughDirectlyOnPass",891],"(",")",["T_WHITESPACE","\n    ",891],"{",["T_WHITESPACE","\n        ",892],["T_VARIABLE","$this",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","setNextResponse",893],"(",["T_LNUMBER","200",893],",",["T_WHITESPACE"," ",893],["T_ARRAY","array",893],"(",")",",",["T_WHITESPACE"," ",893],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",893],",",["T_WHITESPACE"," ",893],["T_FUNCTION","function",893],["T_WHITESPACE"," ",893],"(",["T_VARIABLE","$request",893],",",["T_WHITESPACE"," ",893],["T_VARIABLE","$response",893],")",["T_WHITESPACE"," ",893],"{",["T_WHITESPACE","\n            ",893],["T_VARIABLE","$response",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","setContent",894],"(",["T_CONSTANT_ENCAPSED_STRING","''",894],")",";",["T_WHITESPACE","\n            ",894],["T_VARIABLE","$response",895],["T_OBJECT_OPERATOR","->",895],["T_STRING","setStatusCode",895],"(",["T_LNUMBER","200",895],")",";",["T_WHITESPACE","\n            ",895],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","assertEquals",896],"(",["T_CONSTANT_ENCAPSED_STRING","'HEAD'",896],",",["T_WHITESPACE"," ",896],["T_VARIABLE","$request",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","getMethod",896],"(",")",")",";",["T_WHITESPACE","\n        ",896],"}",")",";",["T_WHITESPACE","\n\n        ",897],["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","request",899],"(",["T_CONSTANT_ENCAPSED_STRING","'HEAD'",899],",",["T_WHITESPACE"," ",899],["T_CONSTANT_ENCAPSED_STRING","'\/'",899],",",["T_WHITESPACE"," ",899],["T_ARRAY","array",899],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_EXPECT'",899],["T_WHITESPACE"," ",899],["T_DOUBLE_ARROW","=>",899],["T_WHITESPACE"," ",899],["T_CONSTANT_ENCAPSED_STRING","'something ...'",899],")",")",";",["T_WHITESPACE","\n        ",899],["T_VARIABLE","$this",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","assertHttpKernelIsCalled",900],"(",")",";",["T_WHITESPACE","\n        ",900],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","assertEquals",901],"(",["T_CONSTANT_ENCAPSED_STRING","''",901],",",["T_WHITESPACE"," ",901],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","response",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","getContent",901],"(",")",")",";",["T_WHITESPACE","\n    ",901],"}",["T_WHITESPACE","\n\n    ",902],["T_PUBLIC","public",904],["T_WHITESPACE"," ",904],["T_FUNCTION","function",904],["T_WHITESPACE"," ",904],["T_STRING","testUsesCacheToRespondToHeadRequestsWhenFresh",904],"(",")",["T_WHITESPACE","\n    ",904],"{",["T_WHITESPACE","\n        ",905],["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","setNextResponse",906],"(",["T_LNUMBER","200",906],",",["T_WHITESPACE"," ",906],["T_ARRAY","array",906],"(",")",",",["T_WHITESPACE"," ",906],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",906],",",["T_WHITESPACE"," ",906],["T_FUNCTION","function",906],["T_WHITESPACE"," ",906],"(",["T_VARIABLE","$request",906],",",["T_WHITESPACE"," ",906],["T_VARIABLE","$response",906],")",["T_WHITESPACE"," ",906],"{",["T_WHITESPACE","\n            ",906],["T_VARIABLE","$response",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","headers",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","set",907],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",907],",",["T_WHITESPACE"," ",907],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=10'",907],")",";",["T_WHITESPACE","\n            ",907],["T_VARIABLE","$response",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","setContent",908],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",908],")",";",["T_WHITESPACE","\n            ",908],["T_VARIABLE","$response",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","setStatusCode",909],"(",["T_LNUMBER","200",909],")",";",["T_WHITESPACE","\n            ",909],["T_VARIABLE","$this",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","assertNotEquals",910],"(",["T_CONSTANT_ENCAPSED_STRING","'HEAD'",910],",",["T_WHITESPACE"," ",910],["T_VARIABLE","$request",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","getMethod",910],"(",")",")",";",["T_WHITESPACE","\n        ",910],"}",")",";",["T_WHITESPACE","\n\n        ",911],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","request",913],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",913],",",["T_WHITESPACE"," ",913],["T_CONSTANT_ENCAPSED_STRING","'\/'",913],")",";",["T_WHITESPACE","\n        ",913],["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","assertHttpKernelIsCalled",914],"(",")",";",["T_WHITESPACE","\n        ",914],["T_VARIABLE","$this",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","assertEquals",915],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",915],",",["T_WHITESPACE"," ",915],["T_VARIABLE","$this",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","response",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","getContent",915],"(",")",")",";",["T_WHITESPACE","\n\n        ",915],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","request",917],"(",["T_CONSTANT_ENCAPSED_STRING","'HEAD'",917],",",["T_WHITESPACE"," ",917],["T_CONSTANT_ENCAPSED_STRING","'\/'",917],")",";",["T_WHITESPACE","\n        ",917],["T_VARIABLE","$this",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","assertHttpKernelIsNotCalled",918],"(",")",";",["T_WHITESPACE","\n        ",918],["T_VARIABLE","$this",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","assertEquals",919],"(",["T_LNUMBER","200",919],",",["T_WHITESPACE"," ",919],["T_VARIABLE","$this",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","response",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","getStatusCode",919],"(",")",")",";",["T_WHITESPACE","\n        ",919],["T_VARIABLE","$this",920],["T_OBJECT_OPERATOR","->",920],["T_STRING","assertEquals",920],"(",["T_CONSTANT_ENCAPSED_STRING","''",920],",",["T_WHITESPACE"," ",920],["T_VARIABLE","$this",920],["T_OBJECT_OPERATOR","->",920],["T_STRING","response",920],["T_OBJECT_OPERATOR","->",920],["T_STRING","getContent",920],"(",")",")",";",["T_WHITESPACE","\n        ",920],["T_VARIABLE","$this",921],["T_OBJECT_OPERATOR","->",921],["T_STRING","assertEquals",921],"(",["T_STRING","strlen",921],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",921],")",",",["T_WHITESPACE"," ",921],["T_VARIABLE","$this",921],["T_OBJECT_OPERATOR","->",921],["T_STRING","response",921],["T_OBJECT_OPERATOR","->",921],["T_STRING","headers",921],["T_OBJECT_OPERATOR","->",921],["T_STRING","get",921],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",921],")",")",";",["T_WHITESPACE","\n    ",921],"}",["T_WHITESPACE","\n\n    ",922],["T_PUBLIC","public",924],["T_WHITESPACE"," ",924],["T_FUNCTION","function",924],["T_WHITESPACE"," ",924],["T_STRING","testSendsNoContentWhenFresh",924],"(",")",["T_WHITESPACE","\n    ",924],"{",["T_WHITESPACE","\n        ",925],["T_VARIABLE","$time",926],["T_WHITESPACE"," ",926],"=",["T_WHITESPACE"," ",926],["T_NS_SEPARATOR","\\",926],["T_STRING","DateTime",926],["T_DOUBLE_COLON","::",926],["T_STRING","createFromFormat",926],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",926],",",["T_WHITESPACE"," ",926],["T_STRING","time",926],"(",")",")",";",["T_WHITESPACE","\n        ",926],["T_VARIABLE","$this",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","setNextResponse",927],"(",["T_LNUMBER","200",927],",",["T_WHITESPACE"," ",927],["T_ARRAY","array",927],"(",")",",",["T_WHITESPACE"," ",927],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",927],",",["T_WHITESPACE"," ",927],["T_FUNCTION","function",927],["T_WHITESPACE"," ",927],"(",["T_VARIABLE","$request",927],",",["T_WHITESPACE"," ",927],["T_VARIABLE","$response",927],")",["T_WHITESPACE"," ",927],["T_USE","use",927],["T_WHITESPACE"," ",927],"(",["T_VARIABLE","$time",927],")",["T_WHITESPACE"," ",927],"{",["T_WHITESPACE","\n            ",927],["T_VARIABLE","$response",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","headers",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","set",928],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",928],",",["T_WHITESPACE"," ",928],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=10'",928],")",";",["T_WHITESPACE","\n            ",928],["T_VARIABLE","$response",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","headers",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","set",929],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",929],",",["T_WHITESPACE"," ",929],["T_VARIABLE","$time",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","format",929],"(",["T_STRING","DATE_RFC2822",929],")",")",";",["T_WHITESPACE","\n        ",929],"}",")",";",["T_WHITESPACE","\n\n        ",930],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","request",932],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",932],",",["T_WHITESPACE"," ",932],["T_CONSTANT_ENCAPSED_STRING","'\/'",932],")",";",["T_WHITESPACE","\n        ",932],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","assertHttpKernelIsCalled",933],"(",")",";",["T_WHITESPACE","\n        ",933],["T_VARIABLE","$this",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","assertEquals",934],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",934],",",["T_WHITESPACE"," ",934],["T_VARIABLE","$this",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","response",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","getContent",934],"(",")",")",";",["T_WHITESPACE","\n\n        ",934],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","request",936],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",936],",",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'\/'",936],",",["T_WHITESPACE"," ",936],["T_ARRAY","array",936],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",936],["T_WHITESPACE"," ",936],["T_DOUBLE_ARROW","=>",936],["T_WHITESPACE"," ",936],["T_VARIABLE","$time",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","format",936],"(",["T_STRING","DATE_RFC2822",936],")",")",")",";",["T_WHITESPACE","\n        ",936],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","assertHttpKernelIsNotCalled",937],"(",")",";",["T_WHITESPACE","\n        ",937],["T_VARIABLE","$this",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","assertEquals",938],"(",["T_LNUMBER","304",938],",",["T_WHITESPACE"," ",938],["T_VARIABLE","$this",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","response",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","getStatusCode",938],"(",")",")",";",["T_WHITESPACE","\n        ",938],["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","assertEquals",939],"(",["T_CONSTANT_ENCAPSED_STRING","''",939],",",["T_WHITESPACE"," ",939],["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","response",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","getContent",939],"(",")",")",";",["T_WHITESPACE","\n    ",939],"}",["T_WHITESPACE","\n\n    ",940],["T_PUBLIC","public",942],["T_WHITESPACE"," ",942],["T_FUNCTION","function",942],["T_WHITESPACE"," ",942],["T_STRING","testInvalidatesCachedResponsesOnPost",942],"(",")",["T_WHITESPACE","\n    ",942],"{",["T_WHITESPACE","\n        ",943],["T_VARIABLE","$this",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","setNextResponse",944],"(",["T_LNUMBER","200",944],",",["T_WHITESPACE"," ",944],["T_ARRAY","array",944],"(",")",",",["T_WHITESPACE"," ",944],["T_CONSTANT_ENCAPSED_STRING","'Hello World'",944],",",["T_WHITESPACE"," ",944],["T_FUNCTION","function",944],["T_WHITESPACE"," ",944],"(",["T_VARIABLE","$request",944],",",["T_WHITESPACE"," ",944],["T_VARIABLE","$response",944],")",["T_WHITESPACE"," ",944],"{",["T_WHITESPACE","\n            ",944],["T_IF","if",945],["T_WHITESPACE"," ",945],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",945],["T_WHITESPACE"," ",945],["T_IS_EQUAL","==",945],["T_WHITESPACE"," ",945],["T_VARIABLE","$request",945],["T_OBJECT_OPERATOR","->",945],["T_STRING","getMethod",945],"(",")",")",["T_WHITESPACE"," ",945],"{",["T_WHITESPACE","\n                ",945],["T_VARIABLE","$response",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","setStatusCode",946],"(",["T_LNUMBER","200",946],")",";",["T_WHITESPACE","\n                ",946],["T_VARIABLE","$response",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","headers",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","set",947],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",947],",",["T_WHITESPACE"," ",947],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=500'",947],")",";",["T_WHITESPACE","\n                ",947],["T_VARIABLE","$response",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","setContent",948],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",948],")",";",["T_WHITESPACE","\n            ",948],"}",["T_WHITESPACE"," ",949],["T_ELSEIF","elseif",949],["T_WHITESPACE"," ",949],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",949],["T_WHITESPACE"," ",949],["T_IS_EQUAL","==",949],["T_WHITESPACE"," ",949],["T_VARIABLE","$request",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","getMethod",949],"(",")",")",["T_WHITESPACE"," ",949],"{",["T_WHITESPACE","\n                ",949],["T_VARIABLE","$response",950],["T_OBJECT_OPERATOR","->",950],["T_STRING","setStatusCode",950],"(",["T_LNUMBER","303",950],")",";",["T_WHITESPACE","\n                ",950],["T_VARIABLE","$response",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","headers",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","set",951],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",951],",",["T_WHITESPACE"," ",951],["T_CONSTANT_ENCAPSED_STRING","'\/'",951],")",";",["T_WHITESPACE","\n                ",951],["T_VARIABLE","$response",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","headers",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","remove",952],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",952],")",";",["T_WHITESPACE","\n                ",952],["T_VARIABLE","$response",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","setContent",953],"(",["T_CONSTANT_ENCAPSED_STRING","''",953],")",";",["T_WHITESPACE","\n            ",953],"}",["T_WHITESPACE","\n        ",954],"}",")",";",["T_WHITESPACE","\n\n        ",955],["T_COMMENT","\/\/ build initial request to enter into the cache\n",957],["T_WHITESPACE","        ",958],["T_VARIABLE","$this",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","request",958],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",958],",",["T_WHITESPACE"," ",958],["T_CONSTANT_ENCAPSED_STRING","'\/'",958],")",";",["T_WHITESPACE","\n        ",958],["T_VARIABLE","$this",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","assertHttpKernelIsCalled",959],"(",")",";",["T_WHITESPACE","\n        ",959],["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","assertEquals",960],"(",["T_LNUMBER","200",960],",",["T_WHITESPACE"," ",960],["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","response",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","getStatusCode",960],"(",")",")",";",["T_WHITESPACE","\n        ",960],["T_VARIABLE","$this",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","assertEquals",961],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",961],",",["T_WHITESPACE"," ",961],["T_VARIABLE","$this",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","response",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","getContent",961],"(",")",")",";",["T_WHITESPACE","\n        ",961],["T_VARIABLE","$this",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","assertTraceContains",962],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",962],")",";",["T_WHITESPACE","\n        ",962],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","assertTraceContains",963],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",963],")",";",["T_WHITESPACE","\n\n        ",963],["T_COMMENT","\/\/ make sure it is valid\n",965],["T_WHITESPACE","        ",966],["T_VARIABLE","$this",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","request",966],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",966],",",["T_WHITESPACE"," ",966],["T_CONSTANT_ENCAPSED_STRING","'\/'",966],")",";",["T_WHITESPACE","\n        ",966],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","assertHttpKernelIsNotCalled",967],"(",")",";",["T_WHITESPACE","\n        ",967],["T_VARIABLE","$this",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","assertEquals",968],"(",["T_LNUMBER","200",968],",",["T_WHITESPACE"," ",968],["T_VARIABLE","$this",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","response",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","getStatusCode",968],"(",")",")",";",["T_WHITESPACE","\n        ",968],["T_VARIABLE","$this",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","assertEquals",969],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",969],",",["T_WHITESPACE"," ",969],["T_VARIABLE","$this",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","response",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","getContent",969],"(",")",")",";",["T_WHITESPACE","\n        ",969],["T_VARIABLE","$this",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","assertTraceContains",970],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",970],")",";",["T_WHITESPACE","\n\n        ",970],["T_COMMENT","\/\/ now POST to same URL\n",972],["T_WHITESPACE","        ",973],["T_VARIABLE","$this",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","request",973],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",973],",",["T_WHITESPACE"," ",973],["T_CONSTANT_ENCAPSED_STRING","'\/helloworld'",973],")",";",["T_WHITESPACE","\n        ",973],["T_VARIABLE","$this",974],["T_OBJECT_OPERATOR","->",974],["T_STRING","assertHttpKernelIsCalled",974],"(",")",";",["T_WHITESPACE","\n        ",974],["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","assertEquals",975],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",975],",",["T_WHITESPACE"," ",975],["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","response",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","headers",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","get",975],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",975],")",")",";",["T_WHITESPACE","\n        ",975],["T_VARIABLE","$this",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","assertTraceContains",976],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidate'",976],")",";",["T_WHITESPACE","\n        ",976],["T_VARIABLE","$this",977],["T_OBJECT_OPERATOR","->",977],["T_STRING","assertTraceContains",977],"(",["T_CONSTANT_ENCAPSED_STRING","'pass'",977],")",";",["T_WHITESPACE","\n        ",977],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","assertEquals",978],"(",["T_CONSTANT_ENCAPSED_STRING","''",978],",",["T_WHITESPACE"," ",978],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","response",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","getContent",978],"(",")",")",";",["T_WHITESPACE","\n\n        ",978],["T_COMMENT","\/\/ now make sure it was actually invalidated\n",980],["T_WHITESPACE","        ",981],["T_VARIABLE","$this",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","request",981],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",981],",",["T_WHITESPACE"," ",981],["T_CONSTANT_ENCAPSED_STRING","'\/'",981],")",";",["T_WHITESPACE","\n        ",981],["T_VARIABLE","$this",982],["T_OBJECT_OPERATOR","->",982],["T_STRING","assertHttpKernelIsCalled",982],"(",")",";",["T_WHITESPACE","\n        ",982],["T_VARIABLE","$this",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","assertEquals",983],"(",["T_LNUMBER","200",983],",",["T_WHITESPACE"," ",983],["T_VARIABLE","$this",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","response",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","getStatusCode",983],"(",")",")",";",["T_WHITESPACE","\n        ",983],["T_VARIABLE","$this",984],["T_OBJECT_OPERATOR","->",984],["T_STRING","assertEquals",984],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World'",984],",",["T_WHITESPACE"," ",984],["T_VARIABLE","$this",984],["T_OBJECT_OPERATOR","->",984],["T_STRING","response",984],["T_OBJECT_OPERATOR","->",984],["T_STRING","getContent",984],"(",")",")",";",["T_WHITESPACE","\n        ",984],["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","assertTraceContains",985],"(",["T_CONSTANT_ENCAPSED_STRING","'stale'",985],")",";",["T_WHITESPACE","\n        ",985],["T_VARIABLE","$this",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","assertTraceContains",986],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid'",986],")",";",["T_WHITESPACE","\n        ",986],["T_VARIABLE","$this",987],["T_OBJECT_OPERATOR","->",987],["T_STRING","assertTraceContains",987],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",987],")",";",["T_WHITESPACE","\n    ",987],"}",["T_WHITESPACE","\n\n    ",988],["T_PUBLIC","public",990],["T_WHITESPACE"," ",990],["T_FUNCTION","function",990],["T_WHITESPACE"," ",990],["T_STRING","testServesFromCacheWhenHeadersMatch",990],"(",")",["T_WHITESPACE","\n    ",990],"{",["T_WHITESPACE","\n        ",991],["T_VARIABLE","$count",992],["T_WHITESPACE"," ",992],"=",["T_WHITESPACE"," ",992],["T_LNUMBER","0",992],";",["T_WHITESPACE","\n        ",992],["T_VARIABLE","$this",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","setNextResponse",993],"(",["T_LNUMBER","200",993],",",["T_WHITESPACE"," ",993],["T_ARRAY","array",993],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",993],["T_WHITESPACE"," ",993],["T_DOUBLE_ARROW","=>",993],["T_WHITESPACE"," ",993],["T_CONSTANT_ENCAPSED_STRING","'max-age=10000'",993],")",",",["T_WHITESPACE"," ",993],["T_CONSTANT_ENCAPSED_STRING","''",993],",",["T_WHITESPACE"," ",993],["T_FUNCTION","function",993],["T_WHITESPACE"," ",993],"(",["T_VARIABLE","$request",993],",",["T_WHITESPACE"," ",993],["T_VARIABLE","$response",993],")",["T_WHITESPACE"," ",993],["T_USE","use",993],["T_WHITESPACE"," ",993],"(","&",["T_VARIABLE","$count",993],")",["T_WHITESPACE"," ",993],"{",["T_WHITESPACE","\n            ",993],["T_VARIABLE","$response",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","headers",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","set",994],"(",["T_CONSTANT_ENCAPSED_STRING","'Vary'",994],",",["T_WHITESPACE"," ",994],["T_CONSTANT_ENCAPSED_STRING","'Accept User-Agent Foo'",994],")",";",["T_WHITESPACE","\n            ",994],["T_VARIABLE","$response",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","headers",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","set",995],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",995],",",["T_WHITESPACE"," ",995],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=10'",995],")",";",["T_WHITESPACE","\n            ",995],["T_VARIABLE","$response",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","headers",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","set",996],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Response-Count'",996],",",["T_WHITESPACE"," ",996],["T_INC","++",996],["T_VARIABLE","$count",996],")",";",["T_WHITESPACE","\n            ",996],["T_VARIABLE","$response",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","setContent",997],"(",["T_VARIABLE","$request",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","headers",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","get",997],"(",["T_CONSTANT_ENCAPSED_STRING","'USER_AGENT'",997],")",")",";",["T_WHITESPACE","\n        ",997],"}",")",";",["T_WHITESPACE","\n\n        ",998],["T_VARIABLE","$this",1000],["T_OBJECT_OPERATOR","->",1000],["T_STRING","request",1000],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1000],",",["T_WHITESPACE"," ",1000],["T_CONSTANT_ENCAPSED_STRING","'\/'",1000],",",["T_WHITESPACE"," ",1000],["T_ARRAY","array",1000],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",1000],["T_WHITESPACE"," ",1000],["T_DOUBLE_ARROW","=>",1000],["T_WHITESPACE"," ",1000],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",1000],",",["T_WHITESPACE"," ",1000],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1000],["T_WHITESPACE"," ",1000],["T_DOUBLE_ARROW","=>",1000],["T_WHITESPACE"," ",1000],["T_CONSTANT_ENCAPSED_STRING","'Bob\/1.0'",1000],")",")",";",["T_WHITESPACE","\n        ",1000],["T_VARIABLE","$this",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","assertEquals",1001],"(",["T_LNUMBER","200",1001],",",["T_WHITESPACE"," ",1001],["T_VARIABLE","$this",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","response",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","getStatusCode",1001],"(",")",")",";",["T_WHITESPACE","\n        ",1001],["T_VARIABLE","$this",1002],["T_OBJECT_OPERATOR","->",1002],["T_STRING","assertEquals",1002],"(",["T_CONSTANT_ENCAPSED_STRING","'Bob\/1.0'",1002],",",["T_WHITESPACE"," ",1002],["T_VARIABLE","$this",1002],["T_OBJECT_OPERATOR","->",1002],["T_STRING","response",1002],["T_OBJECT_OPERATOR","->",1002],["T_STRING","getContent",1002],"(",")",")",";",["T_WHITESPACE","\n        ",1002],["T_VARIABLE","$this",1003],["T_OBJECT_OPERATOR","->",1003],["T_STRING","assertTraceContains",1003],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",1003],")",";",["T_WHITESPACE","\n        ",1003],["T_VARIABLE","$this",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","assertTraceContains",1004],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",1004],")",";",["T_WHITESPACE","\n\n        ",1004],["T_VARIABLE","$this",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","request",1006],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1006],",",["T_WHITESPACE"," ",1006],["T_CONSTANT_ENCAPSED_STRING","'\/'",1006],",",["T_WHITESPACE"," ",1006],["T_ARRAY","array",1006],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",1006],["T_WHITESPACE"," ",1006],["T_DOUBLE_ARROW","=>",1006],["T_WHITESPACE"," ",1006],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",1006],",",["T_WHITESPACE"," ",1006],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1006],["T_WHITESPACE"," ",1006],["T_DOUBLE_ARROW","=>",1006],["T_WHITESPACE"," ",1006],["T_CONSTANT_ENCAPSED_STRING","'Bob\/1.0'",1006],")",")",";",["T_WHITESPACE","\n        ",1006],["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","assertEquals",1007],"(",["T_LNUMBER","200",1007],",",["T_WHITESPACE"," ",1007],["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","response",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","getStatusCode",1007],"(",")",")",";",["T_WHITESPACE","\n        ",1007],["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","assertEquals",1008],"(",["T_CONSTANT_ENCAPSED_STRING","'Bob\/1.0'",1008],",",["T_WHITESPACE"," ",1008],["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","response",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","getContent",1008],"(",")",")",";",["T_WHITESPACE","\n        ",1008],["T_VARIABLE","$this",1009],["T_OBJECT_OPERATOR","->",1009],["T_STRING","assertTraceContains",1009],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",1009],")",";",["T_WHITESPACE","\n        ",1009],["T_VARIABLE","$this",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","assertTraceNotContains",1010],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",1010],")",";",["T_WHITESPACE","\n        ",1010],["T_VARIABLE","$this",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","assertNotNull",1011],"(",["T_VARIABLE","$this",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","response",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","headers",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","get",1011],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Content-Digest'",1011],")",")",";",["T_WHITESPACE","\n    ",1011],"}",["T_WHITESPACE","\n\n    ",1012],["T_PUBLIC","public",1014],["T_WHITESPACE"," ",1014],["T_FUNCTION","function",1014],["T_WHITESPACE"," ",1014],["T_STRING","testStoresMultipleResponsesWhenHeadersDiffer",1014],"(",")",["T_WHITESPACE","\n    ",1014],"{",["T_WHITESPACE","\n        ",1015],["T_VARIABLE","$count",1016],["T_WHITESPACE"," ",1016],"=",["T_WHITESPACE"," ",1016],["T_LNUMBER","0",1016],";",["T_WHITESPACE","\n        ",1016],["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","setNextResponse",1017],"(",["T_LNUMBER","200",1017],",",["T_WHITESPACE"," ",1017],["T_ARRAY","array",1017],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1017],["T_WHITESPACE"," ",1017],["T_DOUBLE_ARROW","=>",1017],["T_WHITESPACE"," ",1017],["T_CONSTANT_ENCAPSED_STRING","'max-age=10000'",1017],")",",",["T_WHITESPACE"," ",1017],["T_CONSTANT_ENCAPSED_STRING","''",1017],",",["T_WHITESPACE"," ",1017],["T_FUNCTION","function",1017],["T_WHITESPACE"," ",1017],"(",["T_VARIABLE","$request",1017],",",["T_WHITESPACE"," ",1017],["T_VARIABLE","$response",1017],")",["T_WHITESPACE"," ",1017],["T_USE","use",1017],["T_WHITESPACE"," ",1017],"(","&",["T_VARIABLE","$count",1017],")",["T_WHITESPACE"," ",1017],"{",["T_WHITESPACE","\n            ",1017],["T_VARIABLE","$response",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","headers",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","set",1018],"(",["T_CONSTANT_ENCAPSED_STRING","'Vary'",1018],",",["T_WHITESPACE"," ",1018],["T_CONSTANT_ENCAPSED_STRING","'Accept User-Agent Foo'",1018],")",";",["T_WHITESPACE","\n            ",1018],["T_VARIABLE","$response",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","headers",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","set",1019],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1019],",",["T_WHITESPACE"," ",1019],["T_CONSTANT_ENCAPSED_STRING","'public, max-age=10'",1019],")",";",["T_WHITESPACE","\n            ",1019],["T_VARIABLE","$response",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","headers",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","set",1020],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Response-Count'",1020],",",["T_WHITESPACE"," ",1020],["T_INC","++",1020],["T_VARIABLE","$count",1020],")",";",["T_WHITESPACE","\n            ",1020],["T_VARIABLE","$response",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","setContent",1021],"(",["T_VARIABLE","$request",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","headers",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","get",1021],"(",["T_CONSTANT_ENCAPSED_STRING","'USER_AGENT'",1021],")",")",";",["T_WHITESPACE","\n        ",1021],"}",")",";",["T_WHITESPACE","\n\n        ",1022],["T_VARIABLE","$this",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","request",1024],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1024],",",["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'\/'",1024],",",["T_WHITESPACE"," ",1024],["T_ARRAY","array",1024],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",1024],["T_WHITESPACE"," ",1024],["T_DOUBLE_ARROW","=>",1024],["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",1024],",",["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1024],["T_WHITESPACE"," ",1024],["T_DOUBLE_ARROW","=>",1024],["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'Bob\/1.0'",1024],")",")",";",["T_WHITESPACE","\n        ",1024],["T_VARIABLE","$this",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","assertEquals",1025],"(",["T_LNUMBER","200",1025],",",["T_WHITESPACE"," ",1025],["T_VARIABLE","$this",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","response",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","getStatusCode",1025],"(",")",")",";",["T_WHITESPACE","\n        ",1025],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","assertEquals",1026],"(",["T_CONSTANT_ENCAPSED_STRING","'Bob\/1.0'",1026],",",["T_WHITESPACE"," ",1026],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","response",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","getContent",1026],"(",")",")",";",["T_WHITESPACE","\n        ",1026],["T_VARIABLE","$this",1027],["T_OBJECT_OPERATOR","->",1027],["T_STRING","assertEquals",1027],"(",["T_LNUMBER","1",1027],",",["T_WHITESPACE"," ",1027],["T_VARIABLE","$this",1027],["T_OBJECT_OPERATOR","->",1027],["T_STRING","response",1027],["T_OBJECT_OPERATOR","->",1027],["T_STRING","headers",1027],["T_OBJECT_OPERATOR","->",1027],["T_STRING","get",1027],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Response-Count'",1027],")",")",";",["T_WHITESPACE","\n\n        ",1027],["T_VARIABLE","$this",1029],["T_OBJECT_OPERATOR","->",1029],["T_STRING","request",1029],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1029],",",["T_WHITESPACE"," ",1029],["T_CONSTANT_ENCAPSED_STRING","'\/'",1029],",",["T_WHITESPACE"," ",1029],["T_ARRAY","array",1029],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",1029],["T_WHITESPACE"," ",1029],["T_DOUBLE_ARROW","=>",1029],["T_WHITESPACE"," ",1029],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",1029],",",["T_WHITESPACE"," ",1029],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1029],["T_WHITESPACE"," ",1029],["T_DOUBLE_ARROW","=>",1029],["T_WHITESPACE"," ",1029],["T_CONSTANT_ENCAPSED_STRING","'Bob\/2.0'",1029],")",")",";",["T_WHITESPACE","\n        ",1029],["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","assertEquals",1030],"(",["T_LNUMBER","200",1030],",",["T_WHITESPACE"," ",1030],["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","response",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","getStatusCode",1030],"(",")",")",";",["T_WHITESPACE","\n        ",1030],["T_VARIABLE","$this",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","assertTraceContains",1031],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",1031],")",";",["T_WHITESPACE","\n        ",1031],["T_VARIABLE","$this",1032],["T_OBJECT_OPERATOR","->",1032],["T_STRING","assertTraceContains",1032],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",1032],")",";",["T_WHITESPACE","\n        ",1032],["T_VARIABLE","$this",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","assertEquals",1033],"(",["T_CONSTANT_ENCAPSED_STRING","'Bob\/2.0'",1033],",",["T_WHITESPACE"," ",1033],["T_VARIABLE","$this",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","response",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","getContent",1033],"(",")",")",";",["T_WHITESPACE","\n        ",1033],["T_VARIABLE","$this",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","assertEquals",1034],"(",["T_LNUMBER","2",1034],",",["T_WHITESPACE"," ",1034],["T_VARIABLE","$this",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","response",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","headers",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","get",1034],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Response-Count'",1034],")",")",";",["T_WHITESPACE","\n\n        ",1034],["T_VARIABLE","$this",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","request",1036],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1036],",",["T_WHITESPACE"," ",1036],["T_CONSTANT_ENCAPSED_STRING","'\/'",1036],",",["T_WHITESPACE"," ",1036],["T_ARRAY","array",1036],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",1036],["T_WHITESPACE"," ",1036],["T_DOUBLE_ARROW","=>",1036],["T_WHITESPACE"," ",1036],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",1036],",",["T_WHITESPACE"," ",1036],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1036],["T_WHITESPACE"," ",1036],["T_DOUBLE_ARROW","=>",1036],["T_WHITESPACE"," ",1036],["T_CONSTANT_ENCAPSED_STRING","'Bob\/1.0'",1036],")",")",";",["T_WHITESPACE","\n        ",1036],["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","assertTraceContains",1037],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",1037],")",";",["T_WHITESPACE","\n        ",1037],["T_VARIABLE","$this",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","assertEquals",1038],"(",["T_CONSTANT_ENCAPSED_STRING","'Bob\/1.0'",1038],",",["T_WHITESPACE"," ",1038],["T_VARIABLE","$this",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","response",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","getContent",1038],"(",")",")",";",["T_WHITESPACE","\n        ",1038],["T_VARIABLE","$this",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","assertEquals",1039],"(",["T_LNUMBER","1",1039],",",["T_WHITESPACE"," ",1039],["T_VARIABLE","$this",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","response",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","headers",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","get",1039],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Response-Count'",1039],")",")",";",["T_WHITESPACE","\n\n        ",1039],["T_VARIABLE","$this",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","request",1041],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1041],",",["T_WHITESPACE"," ",1041],["T_CONSTANT_ENCAPSED_STRING","'\/'",1041],",",["T_WHITESPACE"," ",1041],["T_ARRAY","array",1041],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",1041],["T_WHITESPACE"," ",1041],["T_DOUBLE_ARROW","=>",1041],["T_WHITESPACE"," ",1041],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",1041],",",["T_WHITESPACE"," ",1041],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1041],["T_WHITESPACE"," ",1041],["T_DOUBLE_ARROW","=>",1041],["T_WHITESPACE"," ",1041],["T_CONSTANT_ENCAPSED_STRING","'Bob\/2.0'",1041],")",")",";",["T_WHITESPACE","\n        ",1041],["T_VARIABLE","$this",1042],["T_OBJECT_OPERATOR","->",1042],["T_STRING","assertTraceContains",1042],"(",["T_CONSTANT_ENCAPSED_STRING","'fresh'",1042],")",";",["T_WHITESPACE","\n        ",1042],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","assertEquals",1043],"(",["T_CONSTANT_ENCAPSED_STRING","'Bob\/2.0'",1043],",",["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","response",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","getContent",1043],"(",")",")",";",["T_WHITESPACE","\n        ",1043],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","assertEquals",1044],"(",["T_LNUMBER","2",1044],",",["T_WHITESPACE"," ",1044],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","response",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","headers",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","get",1044],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Response-Count'",1044],")",")",";",["T_WHITESPACE","\n\n        ",1044],["T_VARIABLE","$this",1046],["T_OBJECT_OPERATOR","->",1046],["T_STRING","request",1046],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1046],",",["T_WHITESPACE"," ",1046],["T_CONSTANT_ENCAPSED_STRING","'\/'",1046],",",["T_WHITESPACE"," ",1046],["T_ARRAY","array",1046],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",1046],["T_WHITESPACE"," ",1046],["T_DOUBLE_ARROW","=>",1046],["T_WHITESPACE"," ",1046],["T_CONSTANT_ENCAPSED_STRING","'Bob\/2.0'",1046],")",")",";",["T_WHITESPACE","\n        ",1046],["T_VARIABLE","$this",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","assertTraceContains",1047],"(",["T_CONSTANT_ENCAPSED_STRING","'miss'",1047],")",";",["T_WHITESPACE","\n        ",1047],["T_VARIABLE","$this",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","assertEquals",1048],"(",["T_CONSTANT_ENCAPSED_STRING","'Bob\/2.0'",1048],",",["T_WHITESPACE"," ",1048],["T_VARIABLE","$this",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","response",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","getContent",1048],"(",")",")",";",["T_WHITESPACE","\n        ",1048],["T_VARIABLE","$this",1049],["T_OBJECT_OPERATOR","->",1049],["T_STRING","assertEquals",1049],"(",["T_LNUMBER","3",1049],",",["T_WHITESPACE"," ",1049],["T_VARIABLE","$this",1049],["T_OBJECT_OPERATOR","->",1049],["T_STRING","response",1049],["T_OBJECT_OPERATOR","->",1049],["T_STRING","headers",1049],["T_OBJECT_OPERATOR","->",1049],["T_STRING","get",1049],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Response-Count'",1049],")",")",";",["T_WHITESPACE","\n    ",1049],"}",["T_WHITESPACE","\n\n    ",1050],["T_PUBLIC","public",1052],["T_WHITESPACE"," ",1052],["T_FUNCTION","function",1052],["T_WHITESPACE"," ",1052],["T_STRING","testShouldCatchExceptions",1052],"(",")",["T_WHITESPACE","\n    ",1052],"{",["T_WHITESPACE","\n        ",1053],["T_VARIABLE","$this",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","catchExceptions",1054],"(",")",";",["T_WHITESPACE","\n\n        ",1054],["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","setNextResponse",1056],"(",")",";",["T_WHITESPACE","\n        ",1056],["T_VARIABLE","$this",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","request",1057],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1057],",",["T_WHITESPACE"," ",1057],["T_CONSTANT_ENCAPSED_STRING","'\/'",1057],")",";",["T_WHITESPACE","\n\n        ",1057],["T_VARIABLE","$this",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","assertExceptionsAreCaught",1059],"(",")",";",["T_WHITESPACE","\n    ",1059],"}",["T_WHITESPACE","\n\n    ",1060],["T_PUBLIC","public",1062],["T_WHITESPACE"," ",1062],["T_FUNCTION","function",1062],["T_WHITESPACE"," ",1062],["T_STRING","testShouldCatchExceptionsWhenReloadingAndNoCacheRequest",1062],"(",")",["T_WHITESPACE","\n    ",1062],"{",["T_WHITESPACE","\n        ",1063],["T_VARIABLE","$this",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","catchExceptions",1064],"(",")",";",["T_WHITESPACE","\n\n        ",1064],["T_VARIABLE","$this",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","setNextResponse",1066],"(",")",";",["T_WHITESPACE","\n        ",1066],["T_VARIABLE","$this",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","cacheConfig",1067],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_reload'",1067],"]",["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],["T_STRING","true",1067],";",["T_WHITESPACE","\n        ",1067],["T_VARIABLE","$this",1068],["T_OBJECT_OPERATOR","->",1068],["T_STRING","request",1068],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1068],",",["T_WHITESPACE"," ",1068],["T_CONSTANT_ENCAPSED_STRING","'\/'",1068],",",["T_WHITESPACE"," ",1068],["T_ARRAY","array",1068],"(",")",",",["T_WHITESPACE"," ",1068],["T_ARRAY","array",1068],"(",")",",",["T_WHITESPACE"," ",1068],["T_STRING","false",1068],",",["T_WHITESPACE"," ",1068],["T_ARRAY","array",1068],"(",["T_CONSTANT_ENCAPSED_STRING","'Pragma'",1068],["T_WHITESPACE"," ",1068],["T_DOUBLE_ARROW","=>",1068],["T_WHITESPACE"," ",1068],["T_CONSTANT_ENCAPSED_STRING","'no-cache'",1068],")",")",";",["T_WHITESPACE","\n\n        ",1068],["T_VARIABLE","$this",1070],["T_OBJECT_OPERATOR","->",1070],["T_STRING","assertExceptionsAreCaught",1070],"(",")",";",["T_WHITESPACE","\n    ",1070],"}",["T_WHITESPACE","\n\n    ",1071],["T_PUBLIC","public",1073],["T_WHITESPACE"," ",1073],["T_FUNCTION","function",1073],["T_WHITESPACE"," ",1073],["T_STRING","testShouldNotCatchExceptions",1073],"(",")",["T_WHITESPACE","\n    ",1073],"{",["T_WHITESPACE","\n        ",1074],["T_VARIABLE","$this",1075],["T_OBJECT_OPERATOR","->",1075],["T_STRING","catchExceptions",1075],"(",["T_STRING","false",1075],")",";",["T_WHITESPACE","\n\n        ",1075],["T_VARIABLE","$this",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","setNextResponse",1077],"(",")",";",["T_WHITESPACE","\n        ",1077],["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","request",1078],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1078],",",["T_WHITESPACE"," ",1078],["T_CONSTANT_ENCAPSED_STRING","'\/'",1078],")",";",["T_WHITESPACE","\n\n        ",1078],["T_VARIABLE","$this",1080],["T_OBJECT_OPERATOR","->",1080],["T_STRING","assertExceptionsAreNotCaught",1080],"(",")",";",["T_WHITESPACE","\n    ",1080],"}",["T_WHITESPACE","\n\n    ",1081],["T_PUBLIC","public",1083],["T_WHITESPACE"," ",1083],["T_FUNCTION","function",1083],["T_WHITESPACE"," ",1083],["T_STRING","testEsiCacheSendsTheLowestTtl",1083],"(",")",["T_WHITESPACE","\n    ",1083],"{",["T_WHITESPACE","\n        ",1084],["T_VARIABLE","$responses",1085],["T_WHITESPACE"," ",1085],"=",["T_WHITESPACE"," ",1085],["T_ARRAY","array",1085],"(",["T_WHITESPACE","\n            ",1085],["T_ARRAY","array",1086],"(",["T_WHITESPACE","\n                ",1086],["T_CONSTANT_ENCAPSED_STRING","'status'",1087],["T_WHITESPACE"," ",1087],["T_DOUBLE_ARROW","=>",1087],["T_WHITESPACE"," ",1087],["T_LNUMBER","200",1087],",",["T_WHITESPACE","\n                ",1087],["T_CONSTANT_ENCAPSED_STRING","'body'",1088],["T_WHITESPACE"," ",1088],["T_DOUBLE_ARROW","=>",1088],["T_WHITESPACE"," ",1088],["T_CONSTANT_ENCAPSED_STRING","'<esi:include src=\"\/foo\" \/> <esi:include src=\"\/bar\" \/>'",1088],",",["T_WHITESPACE","\n                ",1088],["T_CONSTANT_ENCAPSED_STRING","'headers'",1089],["T_WHITESPACE"," ",1089],["T_DOUBLE_ARROW","=>",1089],["T_WHITESPACE"," ",1089],["T_ARRAY","array",1089],"(",["T_WHITESPACE","\n                    ",1089],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1090],["T_WHITESPACE"," ",1090],["T_DOUBLE_ARROW","=>",1090],["T_WHITESPACE"," ",1090],["T_CONSTANT_ENCAPSED_STRING","'s-maxage=300'",1090],",",["T_WHITESPACE","\n                    ",1090],["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Control'",1091],["T_WHITESPACE"," ",1091],["T_DOUBLE_ARROW","=>",1091],["T_WHITESPACE"," ",1091],["T_CONSTANT_ENCAPSED_STRING","'content=\"ESI\/1.0\"'",1091],",",["T_WHITESPACE","\n                ",1091],")",",",["T_WHITESPACE","\n            ",1092],")",",",["T_WHITESPACE","\n            ",1093],["T_ARRAY","array",1094],"(",["T_WHITESPACE","\n                ",1094],["T_CONSTANT_ENCAPSED_STRING","'status'",1095],["T_WHITESPACE"," ",1095],["T_DOUBLE_ARROW","=>",1095],["T_WHITESPACE"," ",1095],["T_LNUMBER","200",1095],",",["T_WHITESPACE","\n                ",1095],["T_CONSTANT_ENCAPSED_STRING","'body'",1096],["T_WHITESPACE"," ",1096],["T_DOUBLE_ARROW","=>",1096],["T_WHITESPACE"," ",1096],["T_CONSTANT_ENCAPSED_STRING","'Hello World!'",1096],",",["T_WHITESPACE","\n                ",1096],["T_CONSTANT_ENCAPSED_STRING","'headers'",1097],["T_WHITESPACE"," ",1097],["T_DOUBLE_ARROW","=>",1097],["T_WHITESPACE"," ",1097],["T_ARRAY","array",1097],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1097],["T_WHITESPACE"," ",1097],["T_DOUBLE_ARROW","=>",1097],["T_WHITESPACE"," ",1097],["T_CONSTANT_ENCAPSED_STRING","'s-maxage=300'",1097],")",",",["T_WHITESPACE","\n            ",1097],")",",",["T_WHITESPACE","\n            ",1098],["T_ARRAY","array",1099],"(",["T_WHITESPACE","\n                ",1099],["T_CONSTANT_ENCAPSED_STRING","'status'",1100],["T_WHITESPACE"," ",1100],["T_DOUBLE_ARROW","=>",1100],["T_WHITESPACE"," ",1100],["T_LNUMBER","200",1100],",",["T_WHITESPACE","\n                ",1100],["T_CONSTANT_ENCAPSED_STRING","'body'",1101],["T_WHITESPACE"," ",1101],["T_DOUBLE_ARROW","=>",1101],["T_WHITESPACE"," ",1101],["T_CONSTANT_ENCAPSED_STRING","'My name is Bobby.'",1101],",",["T_WHITESPACE","\n                ",1101],["T_CONSTANT_ENCAPSED_STRING","'headers'",1102],["T_WHITESPACE"," ",1102],["T_DOUBLE_ARROW","=>",1102],["T_WHITESPACE"," ",1102],["T_ARRAY","array",1102],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1102],["T_WHITESPACE"," ",1102],["T_DOUBLE_ARROW","=>",1102],["T_WHITESPACE"," ",1102],["T_CONSTANT_ENCAPSED_STRING","'s-maxage=100'",1102],")",",",["T_WHITESPACE","\n            ",1102],")",",",["T_WHITESPACE","\n        ",1103],")",";",["T_WHITESPACE","\n\n        ",1104],["T_VARIABLE","$this",1106],["T_OBJECT_OPERATOR","->",1106],["T_STRING","setNextResponses",1106],"(",["T_VARIABLE","$responses",1106],")",";",["T_WHITESPACE","\n\n        ",1106],["T_VARIABLE","$this",1108],["T_OBJECT_OPERATOR","->",1108],["T_STRING","request",1108],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1108],",",["T_WHITESPACE"," ",1108],["T_CONSTANT_ENCAPSED_STRING","'\/'",1108],",",["T_WHITESPACE"," ",1108],["T_ARRAY","array",1108],"(",")",",",["T_WHITESPACE"," ",1108],["T_ARRAY","array",1108],"(",")",",",["T_WHITESPACE"," ",1108],["T_STRING","true",1108],")",";",["T_WHITESPACE","\n        ",1108],["T_VARIABLE","$this",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","assertEquals",1109],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World! My name is Bobby.'",1109],",",["T_WHITESPACE"," ",1109],["T_VARIABLE","$this",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","response",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","getContent",1109],"(",")",")",";",["T_WHITESPACE","\n\n        ",1109],["T_COMMENT","\/\/ check for 100 or 99 as the test can be executed after a second change\n",1111],["T_WHITESPACE","        ",1112],["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","assertTrue",1112],"(",["T_STRING","in_array",1112],"(",["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","response",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","getTtl",1112],"(",")",",",["T_WHITESPACE"," ",1112],["T_ARRAY","array",1112],"(",["T_LNUMBER","99",1112],",",["T_WHITESPACE"," ",1112],["T_LNUMBER","100",1112],")",")",")",";",["T_WHITESPACE","\n    ",1112],"}",["T_WHITESPACE","\n\n    ",1113],["T_PUBLIC","public",1115],["T_WHITESPACE"," ",1115],["T_FUNCTION","function",1115],["T_WHITESPACE"," ",1115],["T_STRING","testEsiCacheForceValidation",1115],"(",")",["T_WHITESPACE","\n    ",1115],"{",["T_WHITESPACE","\n        ",1116],["T_VARIABLE","$responses",1117],["T_WHITESPACE"," ",1117],"=",["T_WHITESPACE"," ",1117],["T_ARRAY","array",1117],"(",["T_WHITESPACE","\n            ",1117],["T_ARRAY","array",1118],"(",["T_WHITESPACE","\n                ",1118],["T_CONSTANT_ENCAPSED_STRING","'status'",1119],["T_WHITESPACE"," ",1119],["T_DOUBLE_ARROW","=>",1119],["T_WHITESPACE"," ",1119],["T_LNUMBER","200",1119],",",["T_WHITESPACE","\n                ",1119],["T_CONSTANT_ENCAPSED_STRING","'body'",1120],["T_WHITESPACE"," ",1120],["T_DOUBLE_ARROW","=>",1120],["T_WHITESPACE"," ",1120],["T_CONSTANT_ENCAPSED_STRING","'<esi:include src=\"\/foo\" \/> <esi:include src=\"\/bar\" \/>'",1120],",",["T_WHITESPACE","\n                ",1120],["T_CONSTANT_ENCAPSED_STRING","'headers'",1121],["T_WHITESPACE"," ",1121],["T_DOUBLE_ARROW","=>",1121],["T_WHITESPACE"," ",1121],["T_ARRAY","array",1121],"(",["T_WHITESPACE","\n                    ",1121],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1122],["T_WHITESPACE"," ",1122],["T_DOUBLE_ARROW","=>",1122],["T_WHITESPACE"," ",1122],["T_CONSTANT_ENCAPSED_STRING","'s-maxage=300'",1122],",",["T_WHITESPACE","\n                    ",1122],["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Control'",1123],["T_WHITESPACE"," ",1123],["T_DOUBLE_ARROW","=>",1123],["T_WHITESPACE"," ",1123],["T_CONSTANT_ENCAPSED_STRING","'content=\"ESI\/1.0\"'",1123],",",["T_WHITESPACE","\n                ",1123],")",",",["T_WHITESPACE","\n            ",1124],")",",",["T_WHITESPACE","\n            ",1125],["T_ARRAY","array",1126],"(",["T_WHITESPACE","\n                ",1126],["T_CONSTANT_ENCAPSED_STRING","'status'",1127],["T_WHITESPACE"," ",1127],["T_DOUBLE_ARROW","=>",1127],["T_WHITESPACE"," ",1127],["T_LNUMBER","200",1127],",",["T_WHITESPACE","\n                ",1127],["T_CONSTANT_ENCAPSED_STRING","'body'",1128],["T_WHITESPACE"," ",1128],["T_DOUBLE_ARROW","=>",1128],["T_WHITESPACE"," ",1128],["T_CONSTANT_ENCAPSED_STRING","'Hello World!'",1128],",",["T_WHITESPACE","\n                ",1128],["T_CONSTANT_ENCAPSED_STRING","'headers'",1129],["T_WHITESPACE"," ",1129],["T_DOUBLE_ARROW","=>",1129],["T_WHITESPACE"," ",1129],["T_ARRAY","array",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",1129],["T_WHITESPACE"," ",1129],["T_DOUBLE_ARROW","=>",1129],["T_WHITESPACE"," ",1129],["T_CONSTANT_ENCAPSED_STRING","'foobar'",1129],")",",",["T_WHITESPACE","\n            ",1129],")",",",["T_WHITESPACE","\n            ",1130],["T_ARRAY","array",1131],"(",["T_WHITESPACE","\n                ",1131],["T_CONSTANT_ENCAPSED_STRING","'status'",1132],["T_WHITESPACE"," ",1132],["T_DOUBLE_ARROW","=>",1132],["T_WHITESPACE"," ",1132],["T_LNUMBER","200",1132],",",["T_WHITESPACE","\n                ",1132],["T_CONSTANT_ENCAPSED_STRING","'body'",1133],["T_WHITESPACE"," ",1133],["T_DOUBLE_ARROW","=>",1133],["T_WHITESPACE"," ",1133],["T_CONSTANT_ENCAPSED_STRING","'My name is Bobby.'",1133],",",["T_WHITESPACE","\n                ",1133],["T_CONSTANT_ENCAPSED_STRING","'headers'",1134],["T_WHITESPACE"," ",1134],["T_DOUBLE_ARROW","=>",1134],["T_WHITESPACE"," ",1134],["T_ARRAY","array",1134],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1134],["T_WHITESPACE"," ",1134],["T_DOUBLE_ARROW","=>",1134],["T_WHITESPACE"," ",1134],["T_CONSTANT_ENCAPSED_STRING","'s-maxage=100'",1134],")",",",["T_WHITESPACE","\n            ",1134],")",",",["T_WHITESPACE","\n        ",1135],")",";",["T_WHITESPACE","\n\n        ",1136],["T_VARIABLE","$this",1138],["T_OBJECT_OPERATOR","->",1138],["T_STRING","setNextResponses",1138],"(",["T_VARIABLE","$responses",1138],")",";",["T_WHITESPACE","\n\n        ",1138],["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","request",1140],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1140],",",["T_WHITESPACE"," ",1140],["T_CONSTANT_ENCAPSED_STRING","'\/'",1140],",",["T_WHITESPACE"," ",1140],["T_ARRAY","array",1140],"(",")",",",["T_WHITESPACE"," ",1140],["T_ARRAY","array",1140],"(",")",",",["T_WHITESPACE"," ",1140],["T_STRING","true",1140],")",";",["T_WHITESPACE","\n        ",1140],["T_VARIABLE","$this",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","assertEquals",1141],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World! My name is Bobby.'",1141],",",["T_WHITESPACE"," ",1141],["T_VARIABLE","$this",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","response",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","getContent",1141],"(",")",")",";",["T_WHITESPACE","\n        ",1141],["T_VARIABLE","$this",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","assertNull",1142],"(",["T_VARIABLE","$this",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","response",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","getTtl",1142],"(",")",")",";",["T_WHITESPACE","\n        ",1142],["T_VARIABLE","$this",1143],["T_OBJECT_OPERATOR","->",1143],["T_STRING","assertTrue",1143],"(",["T_VARIABLE","$this",1143],["T_OBJECT_OPERATOR","->",1143],["T_STRING","response",1143],["T_OBJECT_OPERATOR","->",1143],["T_STRING","mustRevalidate",1143],"(",")",")",";",["T_WHITESPACE","\n        ",1143],["T_VARIABLE","$this",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","assertTrue",1144],"(",["T_VARIABLE","$this",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","response",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","headers",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","hasCacheControlDirective",1144],"(",["T_CONSTANT_ENCAPSED_STRING","'private'",1144],")",")",";",["T_WHITESPACE","\n        ",1144],["T_VARIABLE","$this",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","assertTrue",1145],"(",["T_VARIABLE","$this",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","response",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","headers",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","hasCacheControlDirective",1145],"(",["T_CONSTANT_ENCAPSED_STRING","'no-cache'",1145],")",")",";",["T_WHITESPACE","\n    ",1145],"}",["T_WHITESPACE","\n\n    ",1146],["T_PUBLIC","public",1148],["T_WHITESPACE"," ",1148],["T_FUNCTION","function",1148],["T_WHITESPACE"," ",1148],["T_STRING","testEsiRecalculateContentLengthHeader",1148],"(",")",["T_WHITESPACE","\n    ",1148],"{",["T_WHITESPACE","\n        ",1149],["T_VARIABLE","$responses",1150],["T_WHITESPACE"," ",1150],"=",["T_WHITESPACE"," ",1150],["T_ARRAY","array",1150],"(",["T_WHITESPACE","\n            ",1150],["T_ARRAY","array",1151],"(",["T_WHITESPACE","\n                ",1151],["T_CONSTANT_ENCAPSED_STRING","'status'",1152],["T_WHITESPACE"," ",1152],["T_DOUBLE_ARROW","=>",1152],["T_WHITESPACE"," ",1152],["T_LNUMBER","200",1152],",",["T_WHITESPACE","\n                ",1152],["T_CONSTANT_ENCAPSED_STRING","'body'",1153],["T_WHITESPACE"," ",1153],["T_DOUBLE_ARROW","=>",1153],["T_WHITESPACE"," ",1153],["T_CONSTANT_ENCAPSED_STRING","'<esi:include src=\"\/foo\" \/>'",1153],",",["T_WHITESPACE","\n                ",1153],["T_CONSTANT_ENCAPSED_STRING","'headers'",1154],["T_WHITESPACE"," ",1154],["T_DOUBLE_ARROW","=>",1154],["T_WHITESPACE"," ",1154],["T_ARRAY","array",1154],"(",["T_WHITESPACE","\n                    ",1154],["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",1155],["T_WHITESPACE"," ",1155],["T_DOUBLE_ARROW","=>",1155],["T_WHITESPACE"," ",1155],["T_LNUMBER","26",1155],",",["T_WHITESPACE","\n                    ",1155],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1156],["T_WHITESPACE"," ",1156],["T_DOUBLE_ARROW","=>",1156],["T_WHITESPACE"," ",1156],["T_CONSTANT_ENCAPSED_STRING","'s-maxage=300'",1156],",",["T_WHITESPACE","\n                    ",1156],["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Control'",1157],["T_WHITESPACE"," ",1157],["T_DOUBLE_ARROW","=>",1157],["T_WHITESPACE"," ",1157],["T_CONSTANT_ENCAPSED_STRING","'content=\"ESI\/1.0\"'",1157],",",["T_WHITESPACE","\n                ",1157],")",",",["T_WHITESPACE","\n            ",1158],")",",",["T_WHITESPACE","\n            ",1159],["T_ARRAY","array",1160],"(",["T_WHITESPACE","\n                ",1160],["T_CONSTANT_ENCAPSED_STRING","'status'",1161],["T_WHITESPACE"," ",1161],["T_DOUBLE_ARROW","=>",1161],["T_WHITESPACE"," ",1161],["T_LNUMBER","200",1161],",",["T_WHITESPACE","\n                ",1161],["T_CONSTANT_ENCAPSED_STRING","'body'",1162],["T_WHITESPACE"," ",1162],["T_DOUBLE_ARROW","=>",1162],["T_WHITESPACE"," ",1162],["T_CONSTANT_ENCAPSED_STRING","'Hello World!'",1162],",",["T_WHITESPACE","\n                ",1162],["T_CONSTANT_ENCAPSED_STRING","'headers'",1163],["T_WHITESPACE"," ",1163],["T_DOUBLE_ARROW","=>",1163],["T_WHITESPACE"," ",1163],["T_ARRAY","array",1163],"(",")",",",["T_WHITESPACE","\n            ",1163],")",",",["T_WHITESPACE","\n        ",1164],")",";",["T_WHITESPACE","\n\n        ",1165],["T_VARIABLE","$this",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","setNextResponses",1167],"(",["T_VARIABLE","$responses",1167],")",";",["T_WHITESPACE","\n\n        ",1167],["T_VARIABLE","$this",1169],["T_OBJECT_OPERATOR","->",1169],["T_STRING","request",1169],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1169],",",["T_WHITESPACE"," ",1169],["T_CONSTANT_ENCAPSED_STRING","'\/'",1169],",",["T_WHITESPACE"," ",1169],["T_ARRAY","array",1169],"(",")",",",["T_WHITESPACE"," ",1169],["T_ARRAY","array",1169],"(",")",",",["T_WHITESPACE"," ",1169],["T_STRING","true",1169],")",";",["T_WHITESPACE","\n        ",1169],["T_VARIABLE","$this",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","assertEquals",1170],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello World!'",1170],",",["T_WHITESPACE"," ",1170],["T_VARIABLE","$this",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","response",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","getContent",1170],"(",")",")",";",["T_WHITESPACE","\n        ",1170],["T_VARIABLE","$this",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","assertEquals",1171],"(",["T_LNUMBER","12",1171],",",["T_WHITESPACE"," ",1171],["T_VARIABLE","$this",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","response",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","headers",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","get",1171],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",1171],")",")",";",["T_WHITESPACE","\n    ",1171],"}",["T_WHITESPACE","\n\n    ",1172],["T_PUBLIC","public",1174],["T_WHITESPACE"," ",1174],["T_FUNCTION","function",1174],["T_WHITESPACE"," ",1174],["T_STRING","testClientIpIsAlwaysLocalhostForForwardedRequests",1174],"(",")",["T_WHITESPACE","\n    ",1174],"{",["T_WHITESPACE","\n        ",1175],["T_VARIABLE","$this",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","setNextResponse",1176],"(",")",";",["T_WHITESPACE","\n        ",1176],["T_VARIABLE","$this",1177],["T_OBJECT_OPERATOR","->",1177],["T_STRING","request",1177],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1177],",",["T_WHITESPACE"," ",1177],["T_CONSTANT_ENCAPSED_STRING","'\/'",1177],",",["T_WHITESPACE"," ",1177],["T_ARRAY","array",1177],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1177],["T_WHITESPACE"," ",1177],["T_DOUBLE_ARROW","=>",1177],["T_WHITESPACE"," ",1177],["T_CONSTANT_ENCAPSED_STRING","'10.0.0.1'",1177],")",")",";",["T_WHITESPACE","\n\n        ",1177],["T_VARIABLE","$this",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","assertEquals",1179],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",1179],",",["T_WHITESPACE"," ",1179],["T_VARIABLE","$this",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","kernel",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","getBackendRequest",1179],"(",")",["T_OBJECT_OPERATOR","->",1179],["T_STRING","server",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","get",1179],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1179],")",")",";",["T_WHITESPACE","\n    ",1179],"}",["T_WHITESPACE","\n\n    ",1180],["T_DOC_COMMENT","\/**\n     * @dataProvider getTrustedProxyData\n     *\/",1182],["T_WHITESPACE","\n    ",1184],["T_PUBLIC","public",1185],["T_WHITESPACE"," ",1185],["T_FUNCTION","function",1185],["T_WHITESPACE"," ",1185],["T_STRING","testHttpCacheIsSetAsATrustedProxy",1185],"(",["T_ARRAY","array",1185],["T_WHITESPACE"," ",1185],["T_VARIABLE","$existing",1185],",",["T_WHITESPACE"," ",1185],["T_ARRAY","array",1185],["T_WHITESPACE"," ",1185],["T_VARIABLE","$expected",1185],")",["T_WHITESPACE","\n    ",1185],"{",["T_WHITESPACE","\n        ",1186],["T_STRING","Request",1187],["T_DOUBLE_COLON","::",1187],["T_STRING","setTrustedProxies",1187],"(",["T_VARIABLE","$existing",1187],")",";",["T_WHITESPACE","\n\n        ",1187],["T_VARIABLE","$this",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","setNextResponse",1189],"(",")",";",["T_WHITESPACE","\n        ",1189],["T_VARIABLE","$this",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","request",1190],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1190],",",["T_WHITESPACE"," ",1190],["T_CONSTANT_ENCAPSED_STRING","'\/'",1190],",",["T_WHITESPACE"," ",1190],["T_ARRAY","array",1190],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1190],["T_WHITESPACE"," ",1190],["T_DOUBLE_ARROW","=>",1190],["T_WHITESPACE"," ",1190],["T_CONSTANT_ENCAPSED_STRING","'10.0.0.1'",1190],")",")",";",["T_WHITESPACE","\n\n        ",1190],["T_VARIABLE","$this",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","assertEquals",1192],"(",["T_VARIABLE","$expected",1192],",",["T_WHITESPACE"," ",1192],["T_STRING","Request",1192],["T_DOUBLE_COLON","::",1192],["T_STRING","getTrustedProxies",1192],"(",")",")",";",["T_WHITESPACE","\n    ",1192],"}",["T_WHITESPACE","\n\n    ",1193],["T_PUBLIC","public",1195],["T_WHITESPACE"," ",1195],["T_FUNCTION","function",1195],["T_WHITESPACE"," ",1195],["T_STRING","getTrustedProxyData",1195],"(",")",["T_WHITESPACE","\n    ",1195],"{",["T_WHITESPACE","\n        ",1196],["T_RETURN","return",1197],["T_WHITESPACE"," ",1197],["T_ARRAY","array",1197],"(",["T_WHITESPACE","\n            ",1197],["T_ARRAY","array",1198],"(",["T_ARRAY","array",1198],"(",")",",",["T_WHITESPACE"," ",1198],["T_ARRAY","array",1198],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",1198],")",")",",",["T_WHITESPACE","\n            ",1198],["T_ARRAY","array",1199],"(",["T_ARRAY","array",1199],"(",["T_CONSTANT_ENCAPSED_STRING","'10.0.0.2'",1199],")",",",["T_WHITESPACE"," ",1199],["T_ARRAY","array",1199],"(",["T_CONSTANT_ENCAPSED_STRING","'10.0.0.2'",1199],",",["T_WHITESPACE"," ",1199],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",1199],")",")",",",["T_WHITESPACE","\n            ",1199],["T_ARRAY","array",1200],"(",["T_ARRAY","array",1200],"(",["T_CONSTANT_ENCAPSED_STRING","'10.0.0.2'",1200],",",["T_WHITESPACE"," ",1200],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",1200],")",",",["T_WHITESPACE"," ",1200],["T_ARRAY","array",1200],"(",["T_CONSTANT_ENCAPSED_STRING","'10.0.0.2'",1200],",",["T_WHITESPACE"," ",1200],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",1200],")",")",",",["T_WHITESPACE","\n        ",1200],")",";",["T_WHITESPACE","\n    ",1201],"}",["T_WHITESPACE","\n\n    ",1202],["T_DOC_COMMENT","\/**\n     * @dataProvider getXForwardedForData\n     *\/",1204],["T_WHITESPACE","\n    ",1206],["T_PUBLIC","public",1207],["T_WHITESPACE"," ",1207],["T_FUNCTION","function",1207],["T_WHITESPACE"," ",1207],["T_STRING","testXForwarderForHeaderForForwardedRequests",1207],"(",["T_VARIABLE","$xForwardedFor",1207],",",["T_WHITESPACE"," ",1207],["T_VARIABLE","$expected",1207],")",["T_WHITESPACE","\n    ",1207],"{",["T_WHITESPACE","\n        ",1208],["T_VARIABLE","$this",1209],["T_OBJECT_OPERATOR","->",1209],["T_STRING","setNextResponse",1209],"(",")",";",["T_WHITESPACE","\n        ",1209],["T_VARIABLE","$server",1210],["T_WHITESPACE"," ",1210],"=",["T_WHITESPACE"," ",1210],["T_ARRAY","array",1210],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1210],["T_WHITESPACE"," ",1210],["T_DOUBLE_ARROW","=>",1210],["T_WHITESPACE"," ",1210],["T_CONSTANT_ENCAPSED_STRING","'10.0.0.1'",1210],")",";",["T_WHITESPACE","\n        ",1210],["T_IF","if",1211],["T_WHITESPACE"," ",1211],"(",["T_STRING","false",1211],["T_WHITESPACE"," ",1211],["T_IS_NOT_IDENTICAL","!==",1211],["T_WHITESPACE"," ",1211],["T_VARIABLE","$xForwardedFor",1211],")",["T_WHITESPACE"," ",1211],"{",["T_WHITESPACE","\n            ",1211],["T_VARIABLE","$server",1212],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",1212],"]",["T_WHITESPACE"," ",1212],"=",["T_WHITESPACE"," ",1212],["T_VARIABLE","$xForwardedFor",1212],";",["T_WHITESPACE","\n        ",1212],"}",["T_WHITESPACE","\n        ",1213],["T_VARIABLE","$this",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","request",1214],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1214],",",["T_WHITESPACE"," ",1214],["T_CONSTANT_ENCAPSED_STRING","'\/'",1214],",",["T_WHITESPACE"," ",1214],["T_VARIABLE","$server",1214],")",";",["T_WHITESPACE","\n\n        ",1214],["T_VARIABLE","$this",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","assertEquals",1216],"(",["T_VARIABLE","$expected",1216],",",["T_WHITESPACE"," ",1216],["T_VARIABLE","$this",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","kernel",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","getBackendRequest",1216],"(",")",["T_OBJECT_OPERATOR","->",1216],["T_STRING","headers",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","get",1216],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Forwarded-For'",1216],")",")",";",["T_WHITESPACE","\n    ",1216],"}",["T_WHITESPACE","\n\n    ",1217],["T_PUBLIC","public",1219],["T_WHITESPACE"," ",1219],["T_FUNCTION","function",1219],["T_WHITESPACE"," ",1219],["T_STRING","getXForwardedForData",1219],"(",")",["T_WHITESPACE","\n    ",1219],"{",["T_WHITESPACE","\n        ",1220],["T_RETURN","return",1221],["T_WHITESPACE"," ",1221],["T_ARRAY","array",1221],"(",["T_WHITESPACE","\n            ",1221],["T_ARRAY","array",1222],"(",["T_STRING","false",1222],",",["T_WHITESPACE"," ",1222],["T_CONSTANT_ENCAPSED_STRING","'10.0.0.1'",1222],")",",",["T_WHITESPACE","\n            ",1222],["T_ARRAY","array",1223],"(",["T_CONSTANT_ENCAPSED_STRING","'10.0.0.2'",1223],",",["T_WHITESPACE"," ",1223],["T_CONSTANT_ENCAPSED_STRING","'10.0.0.2, 10.0.0.1'",1223],")",",",["T_WHITESPACE","\n            ",1223],["T_ARRAY","array",1224],"(",["T_CONSTANT_ENCAPSED_STRING","'10.0.0.2, 10.0.0.3'",1224],",",["T_WHITESPACE"," ",1224],["T_CONSTANT_ENCAPSED_STRING","'10.0.0.2, 10.0.0.3, 10.0.0.1'",1224],")",",",["T_WHITESPACE","\n        ",1224],")",";",["T_WHITESPACE","\n    ",1225],"}",["T_WHITESPACE","\n\n    ",1226],["T_PUBLIC","public",1228],["T_WHITESPACE"," ",1228],["T_FUNCTION","function",1228],["T_WHITESPACE"," ",1228],["T_STRING","testXForwarderForHeaderForPassRequests",1228],"(",")",["T_WHITESPACE","\n    ",1228],"{",["T_WHITESPACE","\n        ",1229],["T_VARIABLE","$this",1230],["T_OBJECT_OPERATOR","->",1230],["T_STRING","setNextResponse",1230],"(",")",";",["T_WHITESPACE","\n        ",1230],["T_VARIABLE","$server",1231],["T_WHITESPACE"," ",1231],"=",["T_WHITESPACE"," ",1231],["T_ARRAY","array",1231],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1231],["T_WHITESPACE"," ",1231],["T_DOUBLE_ARROW","=>",1231],["T_WHITESPACE"," ",1231],["T_CONSTANT_ENCAPSED_STRING","'10.0.0.1'",1231],")",";",["T_WHITESPACE","\n        ",1231],["T_VARIABLE","$this",1232],["T_OBJECT_OPERATOR","->",1232],["T_STRING","request",1232],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",1232],",",["T_WHITESPACE"," ",1232],["T_CONSTANT_ENCAPSED_STRING","'\/'",1232],",",["T_WHITESPACE"," ",1232],["T_VARIABLE","$server",1232],")",";",["T_WHITESPACE","\n\n        ",1232],["T_VARIABLE","$this",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","assertEquals",1234],"(",["T_CONSTANT_ENCAPSED_STRING","'10.0.0.1'",1234],",",["T_WHITESPACE"," ",1234],["T_VARIABLE","$this",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","kernel",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","getBackendRequest",1234],"(",")",["T_OBJECT_OPERATOR","->",1234],["T_STRING","headers",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","get",1234],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Forwarded-For'",1234],")",")",";",["T_WHITESPACE","\n    ",1234],"}",["T_WHITESPACE","\n\n    ",1235],["T_PUBLIC","public",1237],["T_WHITESPACE"," ",1237],["T_FUNCTION","function",1237],["T_WHITESPACE"," ",1237],["T_STRING","testEsiCacheRemoveValidationHeadersIfEmbeddedResponses",1237],"(",")",["T_WHITESPACE","\n    ",1237],"{",["T_WHITESPACE","\n        ",1238],["T_VARIABLE","$time",1239],["T_WHITESPACE"," ",1239],"=",["T_WHITESPACE"," ",1239],["T_NS_SEPARATOR","\\",1239],["T_STRING","DateTime",1239],["T_DOUBLE_COLON","::",1239],["T_STRING","createFromFormat",1239],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",1239],",",["T_WHITESPACE"," ",1239],["T_STRING","time",1239],"(",")",")",";",["T_WHITESPACE","\n\n        ",1239],["T_VARIABLE","$responses",1241],["T_WHITESPACE"," ",1241],"=",["T_WHITESPACE"," ",1241],["T_ARRAY","array",1241],"(",["T_WHITESPACE","\n            ",1241],["T_ARRAY","array",1242],"(",["T_WHITESPACE","\n                ",1242],["T_CONSTANT_ENCAPSED_STRING","'status'",1243],["T_WHITESPACE"," ",1243],["T_DOUBLE_ARROW","=>",1243],["T_WHITESPACE"," ",1243],["T_LNUMBER","200",1243],",",["T_WHITESPACE","\n                ",1243],["T_CONSTANT_ENCAPSED_STRING","'body'",1244],["T_WHITESPACE"," ",1244],["T_DOUBLE_ARROW","=>",1244],["T_WHITESPACE"," ",1244],["T_CONSTANT_ENCAPSED_STRING","'<esi:include src=\"\/hey\" \/>'",1244],",",["T_WHITESPACE","\n                ",1244],["T_CONSTANT_ENCAPSED_STRING","'headers'",1245],["T_WHITESPACE"," ",1245],["T_DOUBLE_ARROW","=>",1245],["T_WHITESPACE"," ",1245],["T_ARRAY","array",1245],"(",["T_WHITESPACE","\n                    ",1245],["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Control'",1246],["T_WHITESPACE"," ",1246],["T_DOUBLE_ARROW","=>",1246],["T_WHITESPACE"," ",1246],["T_CONSTANT_ENCAPSED_STRING","'content=\"ESI\/1.0\"'",1246],",",["T_WHITESPACE","\n                    ",1246],["T_CONSTANT_ENCAPSED_STRING","'ETag'",1247],["T_WHITESPACE"," ",1247],["T_DOUBLE_ARROW","=>",1247],["T_WHITESPACE"," ",1247],["T_CONSTANT_ENCAPSED_STRING","'hey'",1247],",",["T_WHITESPACE","\n                    ",1247],["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",1248],["T_WHITESPACE"," ",1248],["T_DOUBLE_ARROW","=>",1248],["T_WHITESPACE"," ",1248],["T_VARIABLE","$time",1248],["T_OBJECT_OPERATOR","->",1248],["T_STRING","format",1248],"(",["T_STRING","DATE_RFC2822",1248],")",",",["T_WHITESPACE","\n                ",1248],")",",",["T_WHITESPACE","\n            ",1249],")",",",["T_WHITESPACE","\n            ",1250],["T_ARRAY","array",1251],"(",["T_WHITESPACE","\n                ",1251],["T_CONSTANT_ENCAPSED_STRING","'status'",1252],["T_WHITESPACE"," ",1252],["T_DOUBLE_ARROW","=>",1252],["T_WHITESPACE"," ",1252],["T_LNUMBER","200",1252],",",["T_WHITESPACE","\n                ",1252],["T_CONSTANT_ENCAPSED_STRING","'body'",1253],["T_WHITESPACE"," ",1253],["T_DOUBLE_ARROW","=>",1253],["T_WHITESPACE"," ",1253],["T_CONSTANT_ENCAPSED_STRING","'Hey!'",1253],",",["T_WHITESPACE","\n                ",1253],["T_CONSTANT_ENCAPSED_STRING","'headers'",1254],["T_WHITESPACE"," ",1254],["T_DOUBLE_ARROW","=>",1254],["T_WHITESPACE"," ",1254],["T_ARRAY","array",1254],"(",")",",",["T_WHITESPACE","\n            ",1254],")",",",["T_WHITESPACE","\n        ",1255],")",";",["T_WHITESPACE","\n\n        ",1256],["T_VARIABLE","$this",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","setNextResponses",1258],"(",["T_VARIABLE","$responses",1258],")",";",["T_WHITESPACE","\n\n        ",1258],["T_VARIABLE","$this",1260],["T_OBJECT_OPERATOR","->",1260],["T_STRING","request",1260],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1260],",",["T_WHITESPACE"," ",1260],["T_CONSTANT_ENCAPSED_STRING","'\/'",1260],",",["T_WHITESPACE"," ",1260],["T_ARRAY","array",1260],"(",")",",",["T_WHITESPACE"," ",1260],["T_ARRAY","array",1260],"(",")",",",["T_WHITESPACE"," ",1260],["T_STRING","true",1260],")",";",["T_WHITESPACE","\n        ",1260],["T_VARIABLE","$this",1261],["T_OBJECT_OPERATOR","->",1261],["T_STRING","assertNull",1261],"(",["T_VARIABLE","$this",1261],["T_OBJECT_OPERATOR","->",1261],["T_STRING","response",1261],["T_OBJECT_OPERATOR","->",1261],["T_STRING","getETag",1261],"(",")",")",";",["T_WHITESPACE","\n        ",1261],["T_VARIABLE","$this",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","assertNull",1262],"(",["T_VARIABLE","$this",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","response",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","getLastModified",1262],"(",")",")",";",["T_WHITESPACE","\n    ",1262],"}",["T_WHITESPACE","\n\n    ",1263],["T_PUBLIC","public",1265],["T_WHITESPACE"," ",1265],["T_FUNCTION","function",1265],["T_WHITESPACE"," ",1265],["T_STRING","testDoesNotCacheOptionsRequest",1265],"(",")",["T_WHITESPACE","\n    ",1265],"{",["T_WHITESPACE","\n        ",1266],["T_VARIABLE","$this",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","setNextResponse",1267],"(",["T_LNUMBER","200",1267],",",["T_WHITESPACE"," ",1267],["T_ARRAY","array",1267],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1267],["T_WHITESPACE"," ",1267],["T_DOUBLE_ARROW","=>",1267],["T_WHITESPACE"," ",1267],["T_CONSTANT_ENCAPSED_STRING","'public, s-maxage=60'",1267],")",",",["T_WHITESPACE"," ",1267],["T_CONSTANT_ENCAPSED_STRING","'get'",1267],")",";",["T_WHITESPACE","\n        ",1267],["T_VARIABLE","$this",1268],["T_OBJECT_OPERATOR","->",1268],["T_STRING","request",1268],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1268],",",["T_WHITESPACE"," ",1268],["T_CONSTANT_ENCAPSED_STRING","'\/'",1268],")",";",["T_WHITESPACE","\n        ",1268],["T_VARIABLE","$this",1269],["T_OBJECT_OPERATOR","->",1269],["T_STRING","assertHttpKernelIsCalled",1269],"(",")",";",["T_WHITESPACE","\n\n        ",1269],["T_VARIABLE","$this",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","setNextResponse",1271],"(",["T_LNUMBER","200",1271],",",["T_WHITESPACE"," ",1271],["T_ARRAY","array",1271],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1271],["T_WHITESPACE"," ",1271],["T_DOUBLE_ARROW","=>",1271],["T_WHITESPACE"," ",1271],["T_CONSTANT_ENCAPSED_STRING","'public, s-maxage=60'",1271],")",",",["T_WHITESPACE"," ",1271],["T_CONSTANT_ENCAPSED_STRING","'options'",1271],")",";",["T_WHITESPACE","\n        ",1271],["T_VARIABLE","$this",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","request",1272],"(",["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",1272],",",["T_WHITESPACE"," ",1272],["T_CONSTANT_ENCAPSED_STRING","'\/'",1272],")",";",["T_WHITESPACE","\n        ",1272],["T_VARIABLE","$this",1273],["T_OBJECT_OPERATOR","->",1273],["T_STRING","assertHttpKernelIsCalled",1273],"(",")",";",["T_WHITESPACE","\n\n        ",1273],["T_VARIABLE","$this",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","request",1275],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1275],",",["T_WHITESPACE"," ",1275],["T_CONSTANT_ENCAPSED_STRING","'\/'",1275],")",";",["T_WHITESPACE","\n        ",1275],["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","assertHttpKernelIsNotCalled",1276],"(",")",";",["T_WHITESPACE","\n        ",1276],["T_VARIABLE","$this",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","assertSame",1277],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",1277],",",["T_WHITESPACE"," ",1277],["T_VARIABLE","$this",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","response",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","getContent",1277],"(",")",")",";",["T_WHITESPACE","\n    ",1277],"}",["T_WHITESPACE","\n",1278],"}",["T_WHITESPACE","\n\n",1279],["T_CLASS","class",1281],["T_WHITESPACE"," ",1281],["T_STRING","TestKernel",1281],["T_WHITESPACE"," ",1281],["T_IMPLEMENTS","implements",1281],["T_WHITESPACE"," ",1281],["T_STRING","HttpKernelInterface",1281],["T_WHITESPACE","\n",1281],"{",["T_WHITESPACE","\n    ",1282],["T_PUBLIC","public",1283],["T_WHITESPACE"," ",1283],["T_VARIABLE","$terminateCalled",1283],["T_WHITESPACE"," ",1283],"=",["T_WHITESPACE"," ",1283],["T_STRING","false",1283],";",["T_WHITESPACE","\n\n    ",1283],["T_PUBLIC","public",1285],["T_WHITESPACE"," ",1285],["T_FUNCTION","function",1285],["T_WHITESPACE"," ",1285],["T_STRING","terminate",1285],"(",["T_STRING","Request",1285],["T_WHITESPACE"," ",1285],["T_VARIABLE","$request",1285],",",["T_WHITESPACE"," ",1285],["T_STRING","Response",1285],["T_WHITESPACE"," ",1285],["T_VARIABLE","$response",1285],")",["T_WHITESPACE","\n    ",1285],"{",["T_WHITESPACE","\n        ",1286],["T_VARIABLE","$this",1287],["T_OBJECT_OPERATOR","->",1287],["T_STRING","terminateCalled",1287],["T_WHITESPACE"," ",1287],"=",["T_WHITESPACE"," ",1287],["T_STRING","true",1287],";",["T_WHITESPACE","\n    ",1287],"}",["T_WHITESPACE","\n\n    ",1288],["T_PUBLIC","public",1290],["T_WHITESPACE"," ",1290],["T_FUNCTION","function",1290],["T_WHITESPACE"," ",1290],["T_STRING","handle",1290],"(",["T_STRING","Request",1290],["T_WHITESPACE"," ",1290],["T_VARIABLE","$request",1290],",",["T_WHITESPACE"," ",1290],["T_VARIABLE","$type",1290],["T_WHITESPACE"," ",1290],"=",["T_WHITESPACE"," ",1290],["T_STRING","self",1290],["T_DOUBLE_COLON","::",1290],["T_STRING","MASTER_REQUEST",1290],",",["T_WHITESPACE"," ",1290],["T_VARIABLE","$catch",1290],["T_WHITESPACE"," ",1290],"=",["T_WHITESPACE"," ",1290],["T_STRING","true",1290],")",["T_WHITESPACE","\n    ",1290],"{",["T_WHITESPACE","\n    ",1291],"}",["T_WHITESPACE","\n",1292],"}",["T_WHITESPACE","\n",1293]]