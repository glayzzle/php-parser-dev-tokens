[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpKernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventDispatcher",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EventDispatcherInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","RequestStack",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpKernel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Controller",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ArgumentResolverInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpKernel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Controller",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ControllerResolverInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","HttpKernel",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Event",18],["T_NS_SEPARATOR","\\",18],["T_STRING","FilterControllerArgumentsEvent",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpKernel",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpKernel",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","HttpKernel",20],["T_NS_SEPARATOR","\\",20],["T_STRING","HttpKernelInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","HttpKernel",21],["T_NS_SEPARATOR","\\",21],["T_STRING","KernelEvents",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","HttpKernel",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Exception",22],["T_NS_SEPARATOR","\\",22],["T_STRING","MethodNotAllowedHttpException",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","HttpKernel",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Exception",23],["T_NS_SEPARATOR","\\",23],["T_STRING","AccessDeniedHttpException",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Symfony",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Component",24],["T_NS_SEPARATOR","\\",24],["T_STRING","HttpFoundation",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Request",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Symfony",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Component",25],["T_NS_SEPARATOR","\\",25],["T_STRING","HttpFoundation",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Response",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Symfony",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Component",26],["T_NS_SEPARATOR","\\",26],["T_STRING","HttpFoundation",26],["T_NS_SEPARATOR","\\",26],["T_STRING","RedirectResponse",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Symfony",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Component",27],["T_NS_SEPARATOR","\\",27],["T_STRING","EventDispatcher",27],["T_NS_SEPARATOR","\\",27],["T_STRING","EventDispatcher",27],";",["T_WHITESPACE","\n\n",27],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","HttpKernelTest",29],["T_WHITESPACE"," ",29],["T_EXTENDS","extends",29],["T_WHITESPACE"," ",29],["T_NS_SEPARATOR","\\",29],["T_STRING","PHPUnit_Framework_TestCase",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_DOC_COMMENT","\/**\n     * @expectedException \\RuntimeException\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","testHandleWhenControllerThrowsAnExceptionAndCatchIsTrue",34],"(",")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$kernel",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getHttpKernel",36],"(",["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STRING","EventDispatcher",36],"(",")",",",["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE"," ",36],["T_THROW","throw",36],["T_WHITESPACE"," ",36],["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_NS_SEPARATOR","\\",36],["T_STRING","RuntimeException",36],"(",")",";",["T_WHITESPACE"," ",36],"}",")",";",["T_WHITESPACE","\n\n        ",36],["T_VARIABLE","$kernel",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","handle",38],"(",["T_NEW","new",38],["T_WHITESPACE"," ",38],["T_STRING","Request",38],"(",")",",",["T_WHITESPACE"," ",38],["T_STRING","HttpKernelInterface",38],["T_DOUBLE_COLON","::",38],["T_STRING","MASTER_REQUEST",38],",",["T_WHITESPACE"," ",38],["T_STRING","true",38],")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @expectedException \\RuntimeException\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testHandleWhenControllerThrowsAnExceptionAndCatchIsFalseAndNoListenerIsRegistered",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$kernel",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getHttpKernel",46],"(",["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","EventDispatcher",46],"(",")",",",["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE"," ",46],["T_THROW","throw",46],["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_NS_SEPARATOR","\\",46],["T_STRING","RuntimeException",46],"(",")",";",["T_WHITESPACE"," ",46],"}",")",";",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$kernel",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","handle",48],"(",["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_STRING","Request",48],"(",")",",",["T_WHITESPACE"," ",48],["T_STRING","HttpKernelInterface",48],["T_DOUBLE_COLON","::",48],["T_STRING","MASTER_REQUEST",48],",",["T_WHITESPACE"," ",48],["T_STRING","false",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testHandleWhenControllerThrowsAnExceptionAndCatchIsTrueWithAHandlingListener",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$dispatcher",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STRING","EventDispatcher",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$dispatcher",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","addListener",54],"(",["T_STRING","KernelEvents",54],["T_DOUBLE_COLON","::",54],["T_STRING","EXCEPTION",54],",",["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$event",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$event",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","setResponse",55],"(",["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","Response",55],"(",["T_VARIABLE","$event",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getException",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getMessage",55],"(",")",")",")",";",["T_WHITESPACE","\n        ",55],"}",")",";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$kernel",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getHttpKernel",58],"(",["T_VARIABLE","$dispatcher",58],",",["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],"(",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE"," ",58],["T_THROW","throw",58],["T_WHITESPACE"," ",58],["T_NEW","new",58],["T_WHITESPACE"," ",58],["T_NS_SEPARATOR","\\",58],["T_STRING","RuntimeException",58],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",58],")",";",["T_WHITESPACE"," ",58],"}",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$response",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$kernel",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","handle",59],"(",["T_NEW","new",59],["T_WHITESPACE"," ",59],["T_STRING","Request",59],"(",")",",",["T_WHITESPACE"," ",59],["T_STRING","HttpKernelInterface",59],["T_DOUBLE_COLON","::",59],["T_STRING","MASTER_REQUEST",59],",",["T_WHITESPACE"," ",59],["T_STRING","true",59],")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEquals",61],"(",["T_CONSTANT_ENCAPSED_STRING","'500'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$response",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getStatusCode",61],"(",")",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEquals",62],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$response",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getContent",62],"(",")",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testHandleWhenControllerThrowsAnExceptionAndCatchIsTrueWithANonHandlingListener",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$exception",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","RuntimeException",67],"(",")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$dispatcher",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","EventDispatcher",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$dispatcher",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","addListener",70],"(",["T_STRING","KernelEvents",70],["T_DOUBLE_COLON","::",70],["T_STRING","EXCEPTION",70],",",["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$event",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_COMMENT","\/\/ should set a response, but does not\n",71],["T_WHITESPACE","        ",72],"}",")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$kernel",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getHttpKernel",74],"(",["T_VARIABLE","$dispatcher",74],",",["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],"(",")",["T_WHITESPACE"," ",74],["T_USE","use",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$exception",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE"," ",74],["T_THROW","throw",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$exception",74],";",["T_WHITESPACE"," ",74],"}",")",";",["T_WHITESPACE","\n\n        ",74],["T_TRY","try",76],["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$kernel",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","handle",77],"(",["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","Request",77],"(",")",",",["T_WHITESPACE"," ",77],["T_STRING","HttpKernelInterface",77],["T_DOUBLE_COLON","::",77],["T_STRING","MASTER_REQUEST",77],",",["T_WHITESPACE"," ",77],["T_STRING","true",77],")",";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","fail",78],"(",["T_CONSTANT_ENCAPSED_STRING","'LogicException expected'",78],")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE"," ",79],["T_CATCH","catch",79],["T_WHITESPACE"," ",79],"(",["T_NS_SEPARATOR","\\",79],["T_STRING","RuntimeException",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$e",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertSame",80],"(",["T_VARIABLE","$exception",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$e",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","testHandleExceptionWithARedirectionResponse",84],"(",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$dispatcher",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","EventDispatcher",86],"(",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$dispatcher",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","addListener",87],"(",["T_STRING","KernelEvents",87],["T_DOUBLE_COLON","::",87],["T_STRING","EXCEPTION",87],",",["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$event",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$event",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setResponse",88],"(",["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_STRING","RedirectResponse",88],"(",["T_CONSTANT_ENCAPSED_STRING","'\/login'",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","301",88],")",")",";",["T_WHITESPACE","\n        ",88],"}",")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$kernel",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getHttpKernel",91],"(",["T_VARIABLE","$dispatcher",91],",",["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],"(",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE"," ",91],["T_THROW","throw",91],["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","AccessDeniedHttpException",91],"(",")",";",["T_WHITESPACE"," ",91],"}",")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$response",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$kernel",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","handle",92],"(",["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","Request",92],"(",")",")",";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEquals",94],"(",["T_CONSTANT_ENCAPSED_STRING","'301'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$response",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getStatusCode",94],"(",")",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEquals",95],"(",["T_CONSTANT_ENCAPSED_STRING","'\/login'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$response",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","headers",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","get",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",95],")",")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","testHandleHttpException",98],"(",")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$dispatcher",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","EventDispatcher",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$dispatcher",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","addListener",101],"(",["T_STRING","KernelEvents",101],["T_DOUBLE_COLON","::",101],["T_STRING","EXCEPTION",101],",",["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$event",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$event",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","setResponse",102],"(",["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","Response",102],"(",["T_VARIABLE","$event",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getException",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getMessage",102],"(",")",")",")",";",["T_WHITESPACE","\n        ",102],"}",")",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$kernel",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getHttpKernel",105],"(",["T_VARIABLE","$dispatcher",105],",",["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],"(",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE"," ",105],["T_THROW","throw",105],["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","MethodNotAllowedHttpException",105],"(",["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",105],")",")",";",["T_WHITESPACE"," ",105],"}",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$response",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$kernel",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","handle",106],"(",["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","Request",106],"(",")",")",";",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEquals",108],"(",["T_CONSTANT_ENCAPSED_STRING","'405'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$response",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getStatusCode",108],"(",")",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEquals",109],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$response",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","headers",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","get",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Allow'",109],")",")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * @dataProvider getStatusCodes\n     *\/",112],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","testHandleWhenAnExceptionIsHandledWithASpecificStatusCode",115],"(",["T_VARIABLE","$responseStatusCode",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$expectedStatusCode",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$dispatcher",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","EventDispatcher",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$dispatcher",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","addListener",118],"(",["T_STRING","KernelEvents",118],["T_DOUBLE_COLON","::",118],["T_STRING","EXCEPTION",118],",",["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$event",118],")",["T_WHITESPACE"," ",118],["T_USE","use",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$responseStatusCode",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$expectedStatusCode",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$event",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setResponse",119],"(",["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","Response",119],"(",["T_CONSTANT_ENCAPSED_STRING","''",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$responseStatusCode",119],",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Status-Code'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$expectedStatusCode",119],")",")",")",";",["T_WHITESPACE","\n        ",119],"}",")",";",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$kernel",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getHttpKernel",122],"(",["T_VARIABLE","$dispatcher",122],",",["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],"(",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE"," ",122],["T_THROW","throw",122],["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_NS_SEPARATOR","\\",122],["T_STRING","RuntimeException",122],"(",")",";",["T_WHITESPACE"," ",122],"}",")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$response",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$kernel",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","handle",123],"(",["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","Request",123],"(",")",")",";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEquals",125],"(",["T_VARIABLE","$expectedStatusCode",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$response",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getStatusCode",125],"(",")",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertFalse",126],"(",["T_VARIABLE","$response",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","headers",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","has",126],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Status-Code'",126],")",")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","getStatusCodes",129],"(",")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_WHITESPACE","\n            ",131],["T_ARRAY","array",132],"(",["T_LNUMBER","200",132],",",["T_WHITESPACE"," ",132],["T_LNUMBER","404",132],")",",",["T_WHITESPACE","\n            ",132],["T_ARRAY","array",133],"(",["T_LNUMBER","404",133],",",["T_WHITESPACE"," ",133],["T_LNUMBER","200",133],")",",",["T_WHITESPACE","\n            ",133],["T_ARRAY","array",134],"(",["T_LNUMBER","301",134],",",["T_WHITESPACE"," ",134],["T_LNUMBER","200",134],")",",",["T_WHITESPACE","\n            ",134],["T_ARRAY","array",135],"(",["T_LNUMBER","500",135],",",["T_WHITESPACE"," ",135],["T_LNUMBER","200",135],")",",",["T_WHITESPACE","\n        ",135],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testHandleWhenAListenerReturnsAResponse",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$dispatcher",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_STRING","EventDispatcher",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$dispatcher",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","addListener",142],"(",["T_STRING","KernelEvents",142],["T_DOUBLE_COLON","::",142],["T_STRING","REQUEST",142],",",["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$event",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$event",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setResponse",143],"(",["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_STRING","Response",143],"(",["T_CONSTANT_ENCAPSED_STRING","'hello'",143],")",")",";",["T_WHITESPACE","\n        ",143],"}",")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$kernel",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getHttpKernel",146],"(",["T_VARIABLE","$dispatcher",146],")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEquals",148],"(",["T_CONSTANT_ENCAPSED_STRING","'hello'",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$kernel",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","handle",148],"(",["T_NEW","new",148],["T_WHITESPACE"," ",148],["T_STRING","Request",148],"(",")",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getContent",148],"(",")",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\HttpKernel\\Exception\\NotFoundHttpException\n     *\/",151],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","testHandleWhenNoControllerIsFound",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$dispatcher",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","EventDispatcher",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$kernel",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getHttpKernel",157],"(",["T_VARIABLE","$dispatcher",157],",",["T_WHITESPACE"," ",157],["T_STRING","false",157],")",";",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$kernel",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","handle",159],"(",["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","Request",159],"(",")",")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","testHandleWhenTheControllerIsAClosure",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$response",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_NEW","new",164],["T_WHITESPACE"," ",164],["T_STRING","Response",164],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$dispatcher",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_NEW","new",165],["T_WHITESPACE"," ",165],["T_STRING","EventDispatcher",165],"(",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$kernel",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getHttpKernel",166],"(",["T_VARIABLE","$dispatcher",166],",",["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],"(",")",["T_WHITESPACE"," ",166],["T_USE","use",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$response",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE"," ",166],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$response",166],";",["T_WHITESPACE"," ",166],"}",")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertSame",168],"(",["T_VARIABLE","$response",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$kernel",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","handle",168],"(",["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_STRING","Request",168],"(",")",")",")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","testHandleWhenTheControllerIsAnObjectWithInvoke",171],"(",")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$dispatcher",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","EventDispatcher",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$kernel",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getHttpKernel",174],"(",["T_VARIABLE","$dispatcher",174],",",["T_WHITESPACE"," ",174],["T_NEW","new",174],["T_WHITESPACE"," ",174],["T_STRING","Controller",174],"(",")",")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertResponseEquals",176],"(",["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_STRING","Response",176],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",176],")",",",["T_WHITESPACE"," ",176],["T_VARIABLE","$kernel",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","handle",176],"(",["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_STRING","Request",176],"(",")",")",")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","testHandleWhenTheControllerIsAFunction",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$dispatcher",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_NEW","new",181],["T_WHITESPACE"," ",181],["T_STRING","EventDispatcher",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$kernel",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getHttpKernel",182],"(",["T_VARIABLE","$dispatcher",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\Tests\\controller_func'",182],")",";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertResponseEquals",184],"(",["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_STRING","Response",184],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",184],")",",",["T_WHITESPACE"," ",184],["T_VARIABLE","$kernel",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","handle",184],"(",["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_STRING","Request",184],"(",")",")",")",";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","testHandleWhenTheControllerIsAnArray",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$dispatcher",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_NEW","new",189],["T_WHITESPACE"," ",189],["T_STRING","EventDispatcher",189],"(",")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$kernel",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getHttpKernel",190],"(",["T_VARIABLE","$dispatcher",190],",",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_STRING","Controller",190],"(",")",",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'controller'",190],")",")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertResponseEquals",192],"(",["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_STRING","Response",192],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",192],")",",",["T_WHITESPACE"," ",192],["T_VARIABLE","$kernel",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","handle",192],"(",["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_STRING","Request",192],"(",")",")",")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","testHandleWhenTheControllerIsAStaticArray",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$dispatcher",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_NEW","new",197],["T_WHITESPACE"," ",197],["T_STRING","EventDispatcher",197],"(",")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$kernel",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getHttpKernel",198],"(",["T_VARIABLE","$dispatcher",198],",",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\Tests\\Controller'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'staticcontroller'",198],")",")",";",["T_WHITESPACE","\n\n        ",198],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertResponseEquals",200],"(",["T_NEW","new",200],["T_WHITESPACE"," ",200],["T_STRING","Response",200],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",200],")",",",["T_WHITESPACE"," ",200],["T_VARIABLE","$kernel",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","handle",200],"(",["T_NEW","new",200],["T_WHITESPACE"," ",200],["T_STRING","Request",200],"(",")",")",")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     *\/",203],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","testHandleWhenTheControllerDoesNotReturnAResponse",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$dispatcher",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","EventDispatcher",208],"(",")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$kernel",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getHttpKernel",209],"(",["T_VARIABLE","$dispatcher",209],",",["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],"(",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE"," ",209],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'foo'",209],";",["T_WHITESPACE"," ",209],"}",")",";",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$kernel",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","handle",211],"(",["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_STRING","Request",211],"(",")",")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","testHandleWhenTheControllerDoesNotReturnAResponseButAViewIsRegistered",214],"(",")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$dispatcher",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_STRING","EventDispatcher",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$dispatcher",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","addListener",217],"(",["T_STRING","KernelEvents",217],["T_DOUBLE_COLON","::",217],["T_STRING","VIEW",217],",",["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$event",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$event",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","setResponse",218],"(",["T_NEW","new",218],["T_WHITESPACE"," ",218],["T_STRING","Response",218],"(",["T_VARIABLE","$event",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getControllerResult",218],"(",")",")",")",";",["T_WHITESPACE","\n        ",218],"}",")",";",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$kernel",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getHttpKernel",221],"(",["T_VARIABLE","$dispatcher",221],",",["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],"(",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE"," ",221],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'foo'",221],";",["T_WHITESPACE"," ",221],"}",")",";",["T_WHITESPACE","\n\n        ",221],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertEquals",223],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$kernel",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","handle",223],"(",["T_NEW","new",223],["T_WHITESPACE"," ",223],["T_STRING","Request",223],"(",")",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","getContent",223],"(",")",")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","testHandleWithAResponseListener",226],"(",")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$dispatcher",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","EventDispatcher",228],"(",")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$dispatcher",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","addListener",229],"(",["T_STRING","KernelEvents",229],["T_DOUBLE_COLON","::",229],["T_STRING","RESPONSE",229],",",["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$event",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$event",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","setResponse",230],"(",["T_NEW","new",230],["T_WHITESPACE"," ",230],["T_STRING","Response",230],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",230],")",")",";",["T_WHITESPACE","\n        ",230],"}",")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$kernel",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getHttpKernel",232],"(",["T_VARIABLE","$dispatcher",232],")",";",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertEquals",234],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$kernel",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","handle",234],"(",["T_NEW","new",234],["T_WHITESPACE"," ",234],["T_STRING","Request",234],"(",")",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","getContent",234],"(",")",")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","testHandleAllowChangingControllerArguments",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$dispatcher",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_NEW","new",239],["T_WHITESPACE"," ",239],["T_STRING","EventDispatcher",239],"(",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$dispatcher",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","addListener",240],"(",["T_STRING","KernelEvents",240],["T_DOUBLE_COLON","::",240],["T_STRING","CONTROLLER_ARGUMENTS",240],",",["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],"(",["T_STRING","FilterControllerArgumentsEvent",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$event",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$event",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","setArguments",241],"(",["T_ARRAY","array",241],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",241],")",")",";",["T_WHITESPACE","\n        ",241],"}",")",";",["T_WHITESPACE","\n\n        ",242],["T_VARIABLE","$kernel",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getHttpKernel",244],"(",["T_VARIABLE","$dispatcher",244],",",["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$content",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE"," ",244],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_NEW","new",244],["T_WHITESPACE"," ",244],["T_STRING","Response",244],"(",["T_VARIABLE","$content",244],")",";",["T_WHITESPACE"," ",244],"}",")",";",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertResponseEquals",246],"(",["T_NEW","new",246],["T_WHITESPACE"," ",246],["T_STRING","Response",246],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",246],")",",",["T_WHITESPACE"," ",246],["T_VARIABLE","$kernel",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","handle",246],"(",["T_NEW","new",246],["T_WHITESPACE"," ",246],["T_STRING","Request",246],"(",")",")",")",";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","testHandleAllowChangingControllerAndArguments",249],"(",")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$dispatcher",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_NEW","new",251],["T_WHITESPACE"," ",251],["T_STRING","EventDispatcher",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$dispatcher",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","addListener",252],"(",["T_STRING","KernelEvents",252],["T_DOUBLE_COLON","::",252],["T_STRING","CONTROLLER_ARGUMENTS",252],",",["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],"(",["T_STRING","FilterControllerArgumentsEvent",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$event",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$oldController",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$event",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getController",253],"(",")",";",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$oldArguments",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$event",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getArguments",254],"(",")",";",["T_WHITESPACE","\n\n            ",254],["T_VARIABLE","$newController",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$id",256],")",["T_WHITESPACE"," ",256],["T_USE","use",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$oldController",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$oldArguments",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$response",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","call_user_func_array",257],"(",["T_VARIABLE","$oldController",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$oldArguments",257],")",";",["T_WHITESPACE","\n\n                ",257],["T_VARIABLE","$response",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","headers",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","set",259],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Id'",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$id",259],")",";",["T_WHITESPACE","\n\n                ",259],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$response",261],";",["T_WHITESPACE","\n            ",261],"}",";",["T_WHITESPACE","\n\n            ",262],["T_VARIABLE","$event",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","setController",264],"(",["T_VARIABLE","$newController",264],")",";",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$event",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","setArguments",265],"(",["T_ARRAY","array",265],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",265],")",")",";",["T_WHITESPACE","\n        ",265],"}",")",";",["T_WHITESPACE","\n\n        ",266],["T_VARIABLE","$kernel",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getHttpKernel",268],"(",["T_VARIABLE","$dispatcher",268],",",["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$content",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE"," ",268],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_STRING","Response",268],"(",["T_VARIABLE","$content",268],")",";",["T_WHITESPACE"," ",268],"}",",",["T_WHITESPACE"," ",268],["T_STRING","null",268],",",["T_WHITESPACE"," ",268],["T_ARRAY","array",268],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",268],")",")",";",["T_WHITESPACE","\n\n        ",268],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertResponseEquals",270],"(",["T_NEW","new",270],["T_WHITESPACE"," ",270],["T_STRING","Response",270],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",270],",",["T_WHITESPACE"," ",270],["T_LNUMBER","200",270],",",["T_WHITESPACE"," ",270],["T_ARRAY","array",270],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Id'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'bar'",270],")",")",",",["T_WHITESPACE"," ",270],["T_VARIABLE","$kernel",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","handle",270],"(",["T_NEW","new",270],["T_WHITESPACE"," ",270],["T_STRING","Request",270],"(",")",")",")",";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","testTerminate",273],"(",")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$dispatcher",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_NEW","new",275],["T_WHITESPACE"," ",275],["T_STRING","EventDispatcher",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$kernel",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getHttpKernel",276],"(",["T_VARIABLE","$dispatcher",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$dispatcher",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","addListener",277],"(",["T_STRING","KernelEvents",277],["T_DOUBLE_COLON","::",277],["T_STRING","TERMINATE",277],",",["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$event",277],")",["T_WHITESPACE"," ",277],["T_USE","use",277],["T_WHITESPACE"," ",277],"(","&",["T_VARIABLE","$called",277],",",["T_WHITESPACE"," ",277],"&",["T_VARIABLE","$capturedKernel",277],",",["T_WHITESPACE"," ",277],"&",["T_VARIABLE","$capturedRequest",277],",",["T_WHITESPACE"," ",277],"&",["T_VARIABLE","$capturedResponse",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$called",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","true",278],";",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$capturedKernel",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$event",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getKernel",279],"(",")",";",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$capturedRequest",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$event",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getRequest",280],"(",")",";",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$capturedResponse",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$event",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getResponse",281],"(",")",";",["T_WHITESPACE","\n        ",281],"}",")",";",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$kernel",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","terminate",284],"(",["T_VARIABLE","$request",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","Request",284],["T_DOUBLE_COLON","::",284],["T_STRING","create",284],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",284],")",",",["T_WHITESPACE"," ",284],["T_VARIABLE","$response",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_NEW","new",284],["T_WHITESPACE"," ",284],["T_STRING","Response",284],"(",")",")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","assertTrue",285],"(",["T_VARIABLE","$called",285],")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertEquals",286],"(",["T_VARIABLE","$kernel",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$capturedKernel",286],")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","assertEquals",287],"(",["T_VARIABLE","$request",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$capturedRequest",287],")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","assertEquals",288],"(",["T_VARIABLE","$response",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$capturedResponse",288],")",";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","testVerifyRequestStackPushPopDuringHandle",291],"(",")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$request",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_NEW","new",293],["T_WHITESPACE"," ",293],["T_STRING","Request",293],"(",")",";",["T_WHITESPACE","\n\n        ",293],["T_VARIABLE","$stack",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getMockBuilder",295],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\RequestStack'",295],")",["T_OBJECT_OPERATOR","->",295],["T_STRING","setMethods",295],"(",["T_ARRAY","array",295],"(",["T_CONSTANT_ENCAPSED_STRING","'push'",295],",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'pop'",295],")",")",["T_OBJECT_OPERATOR","->",295],["T_STRING","getMock",295],"(",")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$stack",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","expects",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","at",296],"(",["T_LNUMBER","0",296],")",")",["T_OBJECT_OPERATOR","->",296],["T_STRING","method",296],"(",["T_CONSTANT_ENCAPSED_STRING","'push'",296],")",["T_OBJECT_OPERATOR","->",296],["T_STRING","with",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","equalTo",296],"(",["T_VARIABLE","$request",296],")",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$stack",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","expects",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","at",297],"(",["T_LNUMBER","1",297],")",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","method",297],"(",["T_CONSTANT_ENCAPSED_STRING","'pop'",297],")",";",["T_WHITESPACE","\n\n        ",297],["T_VARIABLE","$dispatcher",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_NEW","new",299],["T_WHITESPACE"," ",299],["T_STRING","EventDispatcher",299],"(",")",";",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$kernel",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getHttpKernel",300],"(",["T_VARIABLE","$dispatcher",300],",",["T_WHITESPACE"," ",300],["T_STRING","null",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$stack",300],")",";",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$kernel",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","handle",302],"(",["T_VARIABLE","$request",302],",",["T_WHITESPACE"," ",302],["T_STRING","HttpKernelInterface",302],["T_DOUBLE_COLON","::",302],["T_STRING","MASTER_REQUEST",302],")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\HttpKernel\\Exception\\BadRequestHttpException\n     *\/",305],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","testInconsistentClientIpsOnMasterRequests",308],"(",")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$request",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_NEW","new",310],["T_WHITESPACE"," ",310],["T_STRING","Request",310],"(",")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$request",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","setTrustedProxies",311],"(",["T_ARRAY","array",311],"(",["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",311],")",")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$request",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","server",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","set",312],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",312],",",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",312],")",";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$request",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","headers",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","set",313],"(",["T_CONSTANT_ENCAPSED_STRING","'FORWARDED'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'2.2.2.2'",313],")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$request",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","headers",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","set",314],"(",["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_FOR'",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3'",314],")",";",["T_WHITESPACE","\n\n        ",314],["T_VARIABLE","$dispatcher",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_NEW","new",316],["T_WHITESPACE"," ",316],["T_STRING","EventDispatcher",316],"(",")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$dispatcher",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","addListener",317],"(",["T_STRING","KernelEvents",317],["T_DOUBLE_COLON","::",317],["T_STRING","REQUEST",317],",",["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$event",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n            ",317],["T_VARIABLE","$event",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getRequest",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","getClientIp",318],"(",")",";",["T_WHITESPACE","\n        ",318],"}",")",";",["T_WHITESPACE","\n\n        ",319],["T_VARIABLE","$kernel",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getHttpKernel",321],"(",["T_VARIABLE","$dispatcher",321],")",";",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$kernel",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","handle",322],"(",["T_VARIABLE","$request",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$kernel",322],["T_DOUBLE_COLON","::",322],["T_STRING","MASTER_REQUEST",322],",",["T_WHITESPACE"," ",322],["T_STRING","false",322],")",";",["T_WHITESPACE","\n    ",322],"}",["T_WHITESPACE","\n\n    ",323],["T_PRIVATE","private",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","getHttpKernel",325],"(",["T_STRING","EventDispatcherInterface",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$eventDispatcher",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$controller",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","null",325],",",["T_WHITESPACE"," ",325],["T_STRING","RequestStack",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$requestStack",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","null",325],",",["T_WHITESPACE"," ",325],["T_ARRAY","array",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$arguments",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_ARRAY","array",325],"(",")",")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_STRING","null",327],["T_WHITESPACE"," ",327],["T_IS_IDENTICAL","===",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$controller",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$controller",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],"(",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE"," ",328],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_NEW","new",328],["T_WHITESPACE"," ",328],["T_STRING","Response",328],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello'",328],")",";",["T_WHITESPACE"," ",328],"}",";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n\n        ",329],["T_VARIABLE","$controllerResolver",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getMockBuilder",331],"(",["T_STRING","ControllerResolverInterface",331],["T_DOUBLE_COLON","::",331],["T_CLASS","class",331],")",["T_OBJECT_OPERATOR","->",331],["T_STRING","getMock",331],"(",")",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$controllerResolver",332],["T_WHITESPACE","\n            ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","expects",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","any",333],"(",")",")",["T_WHITESPACE","\n            ",333],["T_OBJECT_OPERATOR","->",334],["T_STRING","method",334],"(",["T_CONSTANT_ENCAPSED_STRING","'getController'",334],")",["T_WHITESPACE","\n            ",334],["T_OBJECT_OPERATOR","->",335],["T_STRING","will",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","returnValue",335],"(",["T_VARIABLE","$controller",335],")",")",";",["T_WHITESPACE","\n\n        ",335],["T_VARIABLE","$argumentResolver",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getMockBuilder",337],"(",["T_STRING","ArgumentResolverInterface",337],["T_DOUBLE_COLON","::",337],["T_CLASS","class",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","getMock",337],"(",")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$argumentResolver",338],["T_WHITESPACE","\n            ",338],["T_OBJECT_OPERATOR","->",339],["T_STRING","expects",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","any",339],"(",")",")",["T_WHITESPACE","\n            ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","method",340],"(",["T_CONSTANT_ENCAPSED_STRING","'getArguments'",340],")",["T_WHITESPACE","\n            ",340],["T_OBJECT_OPERATOR","->",341],["T_STRING","will",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","returnValue",341],"(",["T_VARIABLE","$arguments",341],")",")",";",["T_WHITESPACE","\n\n        ",341],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_NEW","new",343],["T_WHITESPACE"," ",343],["T_STRING","HttpKernel",343],"(",["T_VARIABLE","$eventDispatcher",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$controllerResolver",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$requestStack",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$argumentResolver",343],")",";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_PRIVATE","private",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","assertResponseEquals",346],"(",["T_STRING","Response",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$expected",346],",",["T_WHITESPACE"," ",346],["T_STRING","Response",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$actual",346],")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$expected",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","setDate",348],"(",["T_VARIABLE","$actual",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getDate",348],"(",")",")",";",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","assertEquals",349],"(",["T_VARIABLE","$expected",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$actual",349],")",";",["T_WHITESPACE","\n    ",349],"}",["T_WHITESPACE","\n",350],"}",["T_WHITESPACE","\n\n",351],["T_CLASS","class",353],["T_WHITESPACE"," ",353],["T_STRING","Controller",353],["T_WHITESPACE","\n",353],"{",["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","__invoke",355],"(",")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_NEW","new",357],["T_WHITESPACE"," ",357],["T_STRING","Response",357],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",357],")",";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","controller",360],"(",")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_NEW","new",362],["T_WHITESPACE"," ",362],["T_STRING","Response",362],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",362],")",";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_STATIC","static",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","staticController",365],"(",")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_NEW","new",367],["T_WHITESPACE"," ",367],["T_STRING","Response",367],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",367],")",";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n",368],"}",["T_WHITESPACE","\n\n",369],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","controller_func",371],"(",")",["T_WHITESPACE","\n",371],"{",["T_WHITESPACE","\n    ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_NEW","new",373],["T_WHITESPACE"," ",373],["T_STRING","Response",373],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",373],")",";",["T_WHITESPACE","\n",373],"}",["T_WHITESPACE","\n",374]]