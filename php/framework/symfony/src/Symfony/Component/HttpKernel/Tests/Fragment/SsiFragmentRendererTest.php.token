[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpKernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fragment",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpKernel",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Controller",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ControllerReference",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpKernel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Fragment",15],["T_NS_SEPARATOR","\\",15],["T_STRING","SsiFragmentRenderer",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpKernel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpCache",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Ssi",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpFoundation",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Request",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","HttpKernel",18],["T_NS_SEPARATOR","\\",18],["T_STRING","UriSigner",18],";",["T_WHITESPACE","\n\n",18],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","SsiFragmentRendererTest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PHPUnit_Framework_TestCase",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","testRenderFallbackToInlineStrategyIfSsiNotSupported",22],"(",")",["T_WHITESPACE","\n    ",22],"{",["T_WHITESPACE","\n        ",23],["T_VARIABLE","$strategy",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_NEW","new",24],["T_WHITESPACE"," ",24],["T_STRING","SsiFragmentRenderer",24],"(",["T_NEW","new",24],["T_WHITESPACE"," ",24],["T_STRING","Ssi",24],"(",")",",",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","getInlineStrategy",24],"(",["T_STRING","true",24],")",")",";",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$strategy",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","render",25],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",25],",",["T_WHITESPACE"," ",25],["T_STRING","Request",25],["T_DOUBLE_COLON","::",25],["T_STRING","create",25],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",25],")",")",";",["T_WHITESPACE","\n    ",25],"}",["T_WHITESPACE","\n\n    ",26],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testRender",28],"(",")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$strategy",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_STRING","SsiFragmentRenderer",30],"(",["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_STRING","Ssi",30],"(",")",",",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getInlineStrategy",30],"(",")",")",";",["T_WHITESPACE","\n\n        ",30],["T_VARIABLE","$request",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","Request",32],["T_DOUBLE_COLON","::",32],["T_STRING","create",32],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",32],")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$request",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","setLocale",33],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",33],")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$request",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","headers",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","set",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Capability'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'SSI\/1.0'",34],")",";",["T_WHITESPACE","\n\n        ",34],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertEquals",36],"(",["T_CONSTANT_ENCAPSED_STRING","'<!--#include virtual=\"\/\" -->'",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$strategy",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","render",36],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$request",36],")",["T_OBJECT_OPERATOR","->",36],["T_STRING","getContent",36],"(",")",")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertEquals",37],"(",["T_CONSTANT_ENCAPSED_STRING","'<!--#include virtual=\"\/\" -->'",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$strategy",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","render",37],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$request",37],",",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'This is a comment'",37],")",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","getContent",37],"(",")",",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Strategy options should not impact the ssi include tag'",37],")",";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n\n    ",38],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testRenderControllerReference",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$signer",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_STRING","UriSigner",42],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",42],")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$strategy",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","SsiFragmentRenderer",43],"(",["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","Ssi",43],"(",")",",",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getInlineStrategy",43],"(",")",",",["T_WHITESPACE"," ",43],["T_VARIABLE","$signer",43],")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$request",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","Request",45],["T_DOUBLE_COLON","::",45],["T_STRING","create",45],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$request",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setLocale",46],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$request",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","headers",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","set",47],"(",["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Capability'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'SSI\/1.0'",47],")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$reference",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_STRING","ControllerReference",49],"(",["T_CONSTANT_ENCAPSED_STRING","'main_controller'",49],",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$altReference",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","ControllerReference",50],"(",["T_CONSTANT_ENCAPSED_STRING","'alt_controller'",50],",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",")",";",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertEquals",52],"(",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'<!--#include virtual=\"\/_fragment?_path=_format%3Dhtml%26_locale%3Dfr%26_controller%3Dmain_controller&_hash=Jz1P8NErmhKTeI6onI1EdAXTB85359MY3RIk5mSJ60w%3D\" -->'",53],",",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$strategy",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","render",54],"(",["T_VARIABLE","$reference",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$request",54],",",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_CONSTANT_ENCAPSED_STRING","'alt'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$altReference",54],")",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getContent",54],"(",")",["T_WHITESPACE","\n        ",54],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","testRenderControllerReferenceWithoutSignerThrowsException",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$strategy",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","SsiFragmentRenderer",63],"(",["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","Ssi",63],"(",")",",",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getInlineStrategy",63],"(",")",")",";",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$request",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","Request",65],["T_DOUBLE_COLON","::",65],["T_STRING","create",65],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$request",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setLocale",66],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$request",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","headers",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","set",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Capability'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'SSI\/1.0'",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$strategy",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","render",69],"(",["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","ControllerReference",69],"(",["T_CONSTANT_ENCAPSED_STRING","'main_controller'",69],")",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$request",69],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","testRenderAltControllerReferenceWithoutSignerThrowsException",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$strategy",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","SsiFragmentRenderer",77],"(",["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","Ssi",77],"(",")",",",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getInlineStrategy",77],"(",")",")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$request",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","Request",79],["T_DOUBLE_COLON","::",79],["T_STRING","create",79],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",79],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$request",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setLocale",80],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$request",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","headers",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","set",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Surrogate-Capability'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'SSI\/1.0'",81],")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$strategy",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","render",83],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$request",83],",",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'alt'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","ControllerReference",83],"(",["T_CONSTANT_ENCAPSED_STRING","'alt_controller'",83],")",")",")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_PRIVATE","private",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getInlineStrategy",86],"(",["T_VARIABLE","$called",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","false",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$inline",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMockBuilder",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\Fragment\\InlineFragmentRenderer'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","disableOriginalConstructor",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getMock",88],"(",")",";",["T_WHITESPACE","\n\n        ",88],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$called",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$inline",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","expects",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","once",91],"(",")",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","method",91],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",91],")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n\n        ",92],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$inline",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n",95],"}",["T_WHITESPACE","\n",96]]