[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Console",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Console",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Output",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ConsoleOutputInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Console",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Output",15],["T_NS_SEPARATOR","\\",15],["T_STRING","OutputInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Process",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ProcessFailedException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Process",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Process",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Process",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ProcessBuilder",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * The ProcessHelper class provides helpers to run external processes.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",20],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","ProcessHelper",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_STRING","Helper",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_DOC_COMMENT","\/**\n     * Runs an external process.\n     *\n     * @param OutputInterface      $output    An OutputInterface instance\n     * @param string|array|Process $cmd       An instance of Process or an array of arguments to escape and run or a command to run\n     * @param string|null          $error     An error message that must be displayed if something went wrong\n     * @param callable|null        $callback  A PHP callback to run whenever there is some\n     *                                        output available on STDOUT or STDERR\n     * @param int                  $verbosity The threshold for verbosity\n     *\n     * @return Process The process that ran\n     *\/",27],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","run",39],"(",["T_STRING","OutputInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$output",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$cmd",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$error",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],",",["T_WHITESPACE"," ",39],["T_CALLABLE","callable",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$callback",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$verbosity",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","OutputInterface",39],["T_DOUBLE_COLON","::",39],["T_STRING","VERBOSITY_VERY_VERBOSE",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_IF","if",41],["T_WHITESPACE"," ",41],"(",["T_VARIABLE","$output",41],["T_WHITESPACE"," ",41],["T_INSTANCEOF","instanceof",41],["T_WHITESPACE"," ",41],["T_STRING","ConsoleOutputInterface",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n            ",41],["T_VARIABLE","$output",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$output",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getErrorOutput",42],"(",")",";",["T_WHITESPACE","\n        ",42],"}",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$formatter",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getHelperSet",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","get",45],"(",["T_CONSTANT_ENCAPSED_STRING","'debug_formatter'",45],")",";",["T_WHITESPACE","\n\n        ",45],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_STRING","is_array",47],"(",["T_VARIABLE","$cmd",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$process",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","ProcessBuilder",48],["T_DOUBLE_COLON","::",48],["T_STRING","create",48],"(",["T_VARIABLE","$cmd",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getProcess",48],"(",")",";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE"," ",49],["T_ELSEIF","elseif",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$cmd",49],["T_WHITESPACE"," ",49],["T_INSTANCEOF","instanceof",49],["T_WHITESPACE"," ",49],["T_STRING","Process",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$process",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$cmd",50],";",["T_WHITESPACE","\n        ",50],"}",["T_WHITESPACE"," ",51],["T_ELSE","else",51],["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$process",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_NEW","new",52],["T_WHITESPACE"," ",52],["T_STRING","Process",52],"(",["T_VARIABLE","$cmd",52],")",";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n\n        ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$verbosity",55],["T_WHITESPACE"," ",55],["T_IS_SMALLER_OR_EQUAL","<=",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$output",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getVerbosity",55],"(",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$output",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","write",56],"(",["T_VARIABLE","$formatter",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","start",56],"(",["T_STRING","spl_object_hash",56],"(",["T_VARIABLE","$process",56],")",",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","escapeString",56],"(",["T_VARIABLE","$process",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getCommandLine",56],"(",")",")",")",")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n\n        ",57],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$output",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","isDebug",59],"(",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$callback",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","wrapCallback",60],"(",["T_VARIABLE","$output",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$process",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$callback",60],")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$process",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","run",63],"(",["T_VARIABLE","$callback",63],")",";",["T_WHITESPACE","\n\n        ",63],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$verbosity",65],["T_WHITESPACE"," ",65],["T_IS_SMALLER_OR_EQUAL","<=",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$output",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getVerbosity",65],"(",")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$message",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$process",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","isSuccessful",66],"(",")",["T_WHITESPACE"," ",66],"?",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Command ran successfully'",66],["T_WHITESPACE"," ",66],":",["T_WHITESPACE"," ",66],["T_STRING","sprintf",66],"(",["T_CONSTANT_ENCAPSED_STRING","'%s Command did not run successfully'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$process",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getExitCode",66],"(",")",")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$output",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","write",67],"(",["T_VARIABLE","$formatter",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","stop",67],"(",["T_STRING","spl_object_hash",67],"(",["T_VARIABLE","$process",67],")",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$message",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$process",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","isSuccessful",67],"(",")",")",")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n\n        ",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(","!",["T_VARIABLE","$process",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","isSuccessful",70],"(",")",["T_WHITESPACE"," ",70],["T_BOOLEAN_AND","&&",70],["T_WHITESPACE"," ",70],["T_STRING","null",70],["T_WHITESPACE"," ",70],["T_IS_NOT_IDENTICAL","!==",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$error",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$output",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","writeln",71],"(",["T_STRING","sprintf",71],"(",["T_CONSTANT_ENCAPSED_STRING","'<error>%s<\/error>'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","escapeString",71],"(",["T_VARIABLE","$error",71],")",")",")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$process",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Runs the process.\n     *\n     * This is identical to run() except that an exception is thrown if the process\n     * exits with a non-zero exit code.\n     *\n     * @param OutputInterface $output   An OutputInterface instance\n     * @param string|Process  $cmd      An instance of Process or a command to run\n     * @param string|null     $error    An error message that must be displayed if something went wrong\n     * @param callable|null   $callback A PHP callback to run whenever there is some\n     *                                  output available on STDOUT or STDERR\n     *\n     * @return Process The process that ran\n     *\n     * @throws ProcessFailedException\n     *\n     * @see run()\n     *\/",77],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","mustRun",95],"(",["T_STRING","OutputInterface",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$output",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$cmd",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$error",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","null",95],",",["T_WHITESPACE"," ",95],["T_CALLABLE","callable",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$callback",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","null",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$process",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","run",97],"(",["T_VARIABLE","$output",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$cmd",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$error",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$callback",97],")",";",["T_WHITESPACE","\n\n        ",97],["T_IF","if",99],["T_WHITESPACE"," ",99],"(","!",["T_VARIABLE","$process",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","isSuccessful",99],"(",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_THROW","throw",100],["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","ProcessFailedException",100],"(",["T_VARIABLE","$process",100],")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n\n        ",101],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$process",103],";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Wraps a Process callback to add debugging output.\n     *\n     * @param OutputInterface $output   An OutputInterface interface\n     * @param Process         $process  The Process\n     * @param callable|null   $callback A PHP callable\n     *\n     * @return callable\n     *\/",106],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","wrapCallback",115],"(",["T_STRING","OutputInterface",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$output",115],",",["T_WHITESPACE"," ",115],["T_STRING","Process",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$process",115],",",["T_WHITESPACE"," ",115],["T_CALLABLE","callable",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$callback",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","null",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$output",117],["T_WHITESPACE"," ",117],["T_INSTANCEOF","instanceof",117],["T_WHITESPACE"," ",117],["T_STRING","ConsoleOutputInterface",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$output",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$output",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getErrorOutput",118],"(",")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$formatter",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getHelperSet",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","get",121],"(",["T_CONSTANT_ENCAPSED_STRING","'debug_formatter'",121],")",";",["T_WHITESPACE","\n\n        ",121],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$type",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$buffer",123],")",["T_WHITESPACE"," ",123],["T_USE","use",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$output",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$process",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$callback",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$formatter",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$output",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","write",124],"(",["T_VARIABLE","$formatter",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","progress",124],"(",["T_STRING","spl_object_hash",124],"(",["T_VARIABLE","$process",124],")",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","escapeString",124],"(",["T_VARIABLE","$buffer",124],")",",",["T_WHITESPACE"," ",124],["T_STRING","Process",124],["T_DOUBLE_COLON","::",124],["T_STRING","ERR",124],["T_WHITESPACE"," ",124],["T_IS_IDENTICAL","===",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$type",124],")",")",";",["T_WHITESPACE","\n\n            ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_STRING","null",126],["T_WHITESPACE"," ",126],["T_IS_NOT_IDENTICAL","!==",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$callback",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_STRING","call_user_func",127],"(",["T_VARIABLE","$callback",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$type",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$buffer",127],")",";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n        ",128],"}",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_PRIVATE","private",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","escapeString",132],"(",["T_VARIABLE","$str",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_STRING","str_replace",134],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'\\\\<'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$str",134],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",137],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","getName",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'process'",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n",143],"}",["T_WHITESPACE","\n",144]]