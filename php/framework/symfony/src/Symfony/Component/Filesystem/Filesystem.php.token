[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Filesystem",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Filesystem",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","IOException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Filesystem",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FileNotFoundException",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Provides basic utility to manipulate the file system.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",17],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","Filesystem",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * Copies a file.\n     *\n     * If the target file is older than the origin file, it's always overwritten.\n     * If the target file is newer, it is overwritten only when the\n     * $overwriteNewerFiles option is set to true.\n     *\n     * @param string $originFile          The original filename\n     * @param string $targetFile          The target filename\n     * @param bool   $overwriteNewerFiles If true, target files newer than origin files are overwritten\n     *\n     * @throws FileNotFoundException When originFile doesn't exist\n     * @throws IOException           When copy fails\n     *\/",24],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","copy",38],"(",["T_VARIABLE","$originFile",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$targetFile",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$overwriteNewerFiles",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","false",38],")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_STRING","stream_is_local",40],"(",["T_VARIABLE","$originFile",40],")",["T_WHITESPACE"," ",40],["T_BOOLEAN_AND","&&",40],["T_WHITESPACE"," ",40],"!",["T_STRING","is_file",40],"(",["T_VARIABLE","$originFile",40],")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_THROW","throw",41],["T_WHITESPACE"," ",41],["T_NEW","new",41],["T_WHITESPACE"," ",41],["T_STRING","FileNotFoundException",41],"(",["T_STRING","sprintf",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to copy \"%s\" because file does not exist.'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$originFile",41],")",",",["T_WHITESPACE"," ",41],["T_LNUMBER","0",41],",",["T_WHITESPACE"," ",41],["T_STRING","null",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$originFile",41],")",";",["T_WHITESPACE","\n        ",41],"}",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","mkdir",44],"(",["T_STRING","dirname",44],"(",["T_VARIABLE","$targetFile",44],")",")",";",["T_WHITESPACE","\n\n        ",44],["T_VARIABLE","$doCopy",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","true",46],";",["T_WHITESPACE","\n        ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(","!",["T_VARIABLE","$overwriteNewerFiles",47],["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],["T_STRING","null",47],["T_WHITESPACE"," ",47],["T_IS_IDENTICAL","===",47],["T_WHITESPACE"," ",47],["T_STRING","parse_url",47],"(",["T_VARIABLE","$originFile",47],",",["T_WHITESPACE"," ",47],["T_STRING","PHP_URL_HOST",47],")",["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],["T_STRING","is_file",47],"(",["T_VARIABLE","$targetFile",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$doCopy",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","filemtime",48],"(",["T_VARIABLE","$originFile",48],")",["T_WHITESPACE"," ",48],">",["T_WHITESPACE"," ",48],["T_STRING","filemtime",48],"(",["T_VARIABLE","$targetFile",48],")",";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n\n        ",49],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$doCopy",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_COMMENT","\/\/ https:\/\/bugs.php.net\/bug.php?id=64634\n",52],["T_WHITESPACE","            ",53],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_STRING","false",53],["T_WHITESPACE"," ",53],["T_IS_IDENTICAL","===",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$source",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"@",["T_STRING","fopen",53],"(",["T_VARIABLE","$originFile",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'r'",53],")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n                ",53],["T_THROW","throw",54],["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_STRING","IOException",54],"(",["T_STRING","sprintf",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to copy \"%s\" to \"%s\" because source file could not be opened for reading.'",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$originFile",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$targetFile",54],")",",",["T_WHITESPACE"," ",54],["T_LNUMBER","0",54],",",["T_WHITESPACE"," ",54],["T_STRING","null",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$originFile",54],")",";",["T_WHITESPACE","\n            ",54],"}",["T_WHITESPACE","\n\n            ",55],["T_COMMENT","\/\/ Stream context created to allow files overwrite when using FTP stream wrapper - disabled by default\n",57],["T_WHITESPACE","            ",58],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_STRING","false",58],["T_WHITESPACE"," ",58],["T_IS_IDENTICAL","===",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$target",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"@",["T_STRING","fopen",58],"(",["T_VARIABLE","$targetFile",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'w'",58],",",["T_WHITESPACE"," ",58],["T_STRING","null",58],",",["T_WHITESPACE"," ",58],["T_STRING","stream_context_create",58],"(",["T_ARRAY","array",58],"(",["T_CONSTANT_ENCAPSED_STRING","'ftp'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_CONSTANT_ENCAPSED_STRING","'overwrite'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","true",58],")",")",")",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_THROW","throw",59],["T_WHITESPACE"," ",59],["T_NEW","new",59],["T_WHITESPACE"," ",59],["T_STRING","IOException",59],"(",["T_STRING","sprintf",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to copy \"%s\" to \"%s\" because target file could not be opened for writing.'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$originFile",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$targetFile",59],")",",",["T_WHITESPACE"," ",59],["T_LNUMBER","0",59],",",["T_WHITESPACE"," ",59],["T_STRING","null",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$originFile",59],")",";",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE","\n\n            ",60],["T_VARIABLE","$bytesCopied",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","stream_copy_to_stream",62],"(",["T_VARIABLE","$source",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$target",62],")",";",["T_WHITESPACE","\n            ",62],["T_STRING","fclose",63],"(",["T_VARIABLE","$source",63],")",";",["T_WHITESPACE","\n            ",63],["T_STRING","fclose",64],"(",["T_VARIABLE","$target",64],")",";",["T_WHITESPACE","\n            ",64],["T_UNSET","unset",65],"(",["T_VARIABLE","$source",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$target",65],")",";",["T_WHITESPACE","\n\n            ",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","!",["T_STRING","is_file",67],"(",["T_VARIABLE","$targetFile",67],")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n                ",67],["T_THROW","throw",68],["T_WHITESPACE"," ",68],["T_NEW","new",68],["T_WHITESPACE"," ",68],["T_STRING","IOException",68],"(",["T_STRING","sprintf",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to copy \"%s\" to \"%s\".'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$originFile",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$targetFile",68],")",",",["T_WHITESPACE"," ",68],["T_LNUMBER","0",68],",",["T_WHITESPACE"," ",68],["T_STRING","null",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$originFile",68],")",";",["T_WHITESPACE","\n            ",68],"}",["T_WHITESPACE","\n\n            ",69],["T_COMMENT","\/\/ Like `cp`, preserve executable permission bits\n",71],["T_WHITESPACE","            ",72],"@",["T_STRING","chmod",72],"(",["T_VARIABLE","$targetFile",72],",",["T_WHITESPACE"," ",72],["T_STRING","fileperms",72],"(",["T_VARIABLE","$targetFile",72],")",["T_WHITESPACE"," ",72],"|",["T_WHITESPACE"," ",72],"(",["T_STRING","fileperms",72],"(",["T_VARIABLE","$originFile",72],")",["T_WHITESPACE"," ",72],"&",["T_WHITESPACE"," ",72],["T_LNUMBER","0111",72],")",")",";",["T_WHITESPACE","\n\n            ",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_STRING","stream_is_local",74],"(",["T_VARIABLE","$originFile",74],")",["T_WHITESPACE"," ",74],["T_BOOLEAN_AND","&&",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$bytesCopied",74],["T_WHITESPACE"," ",74],["T_IS_NOT_IDENTICAL","!==",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$bytesOrigin",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","filesize",74],"(",["T_VARIABLE","$originFile",74],")",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_THROW","throw",75],["T_WHITESPACE"," ",75],["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","IOException",75],"(",["T_STRING","sprintf",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to copy the whole content of \"%s\" to \"%s\" (%g of %g bytes copied).'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$originFile",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$targetFile",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$bytesCopied",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$bytesOrigin",75],")",",",["T_WHITESPACE"," ",75],["T_LNUMBER","0",75],",",["T_WHITESPACE"," ",75],["T_STRING","null",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$originFile",75],")",";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Creates a directory recursively.\n     *\n     * @param string|array|\\Traversable $dirs The directory path\n     * @param int                       $mode The directory mode\n     *\n     * @throws IOException On any directory creation failure\n     *\/",80],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","mkdir",88],"(",["T_VARIABLE","$dirs",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$mode",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_LNUMBER","0777",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","toIterator",90],"(",["T_VARIABLE","$dirs",90],")",["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$dir",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_STRING","is_dir",91],"(",["T_VARIABLE","$dir",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_CONTINUE","continue",92],";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n\n            ",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","true",95],["T_WHITESPACE"," ",95],["T_IS_NOT_IDENTICAL","!==",95],["T_WHITESPACE"," ",95],"@",["T_STRING","mkdir",95],"(",["T_VARIABLE","$dir",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$mode",95],",",["T_WHITESPACE"," ",95],["T_STRING","true",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$error",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","error_get_last",96],"(",")",";",["T_WHITESPACE","\n                ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","!",["T_STRING","is_dir",97],"(",["T_VARIABLE","$dir",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                    ",97],["T_COMMENT","\/\/ The directory was not created by a concurrent process. Let's throw an exception with a developer friendly error message if we have one\n",98],["T_WHITESPACE","                    ",99],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$error",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                        ",99],["T_THROW","throw",100],["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","IOException",100],"(",["T_STRING","sprintf",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to create \"%s\": %s.'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$dir",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$error",100],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",100],"]",")",",",["T_WHITESPACE"," ",100],["T_LNUMBER","0",100],",",["T_WHITESPACE"," ",100],["T_STRING","null",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$dir",100],")",";",["T_WHITESPACE","\n                    ",100],"}",["T_WHITESPACE","\n                    ",101],["T_THROW","throw",102],["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","IOException",102],"(",["T_STRING","sprintf",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to create \"%s\"'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$dir",102],")",",",["T_WHITESPACE"," ",102],["T_LNUMBER","0",102],",",["T_WHITESPACE"," ",102],["T_STRING","null",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$dir",102],")",";",["T_WHITESPACE","\n                ",102],"}",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Checks the existence of files or directories.\n     *\n     * @param string|array|\\Traversable $files A filename, an array of files, or a \\Traversable instance to check\n     *\n     * @return bool true if the file exists, false otherwise\n     *\/",108],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","exists",115],"(",["T_VARIABLE","$files",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","toIterator",117],"(",["T_VARIABLE","$files",117],")",["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$file",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",118],["T_WHITESPACE"," ",118],["T_IS_IDENTICAL","===",118],["T_WHITESPACE"," ",118],["T_STRING","DIRECTORY_SEPARATOR",118],["T_WHITESPACE"," ",118],["T_BOOLEAN_AND","&&",118],["T_WHITESPACE"," ",118],["T_STRING","strlen",118],"(",["T_VARIABLE","$file",118],")",["T_WHITESPACE"," ",118],">",["T_WHITESPACE"," ",118],["T_LNUMBER","258",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_THROW","throw",119],["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","IOException",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not check if file exist because path length exceeds 258 characters.'",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","0",119],",",["T_WHITESPACE"," ",119],["T_STRING","null",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$file",119],")",";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n\n            ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_STRING","file_exists",122],"(",["T_VARIABLE","$file",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_STRING","false",123],";",["T_WHITESPACE","\n            ",123],"}",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n\n        ",125],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_STRING","true",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Sets access and modification time of file.\n     *\n     * @param string|array|\\Traversable $files A filename, an array of files, or a \\Traversable instance to create\n     * @param int                       $time  The touch time as a Unix timestamp\n     * @param int                       $atime The access time as a Unix timestamp\n     *\n     * @throws IOException When touch fails\n     *\/",130],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","touch",139],"(",["T_VARIABLE","$files",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$time",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","null",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$atime",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","null",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_FOREACH","foreach",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","toIterator",141],"(",["T_VARIABLE","$files",141],")",["T_WHITESPACE"," ",141],["T_AS","as",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$file",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$touch",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$time",142],["T_WHITESPACE"," ",142],"?",["T_WHITESPACE"," ",142],"@",["T_STRING","touch",142],"(",["T_VARIABLE","$file",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$time",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$atime",142],")",["T_WHITESPACE"," ",142],":",["T_WHITESPACE"," ",142],"@",["T_STRING","touch",142],"(",["T_VARIABLE","$file",142],")",";",["T_WHITESPACE","\n            ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_STRING","true",143],["T_WHITESPACE"," ",143],["T_IS_NOT_IDENTICAL","!==",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$touch",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_THROW","throw",144],["T_WHITESPACE"," ",144],["T_NEW","new",144],["T_WHITESPACE"," ",144],["T_STRING","IOException",144],"(",["T_STRING","sprintf",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to touch \"%s\".'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$file",144],")",",",["T_WHITESPACE"," ",144],["T_LNUMBER","0",144],",",["T_WHITESPACE"," ",144],["T_STRING","null",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$file",144],")",";",["T_WHITESPACE","\n            ",144],"}",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Removes files or directories.\n     *\n     * @param string|array|\\Traversable $files A filename, an array of files, or a \\Traversable instance to remove\n     *\n     * @throws IOException When removal fails\n     *\/",149],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","remove",156],"(",["T_VARIABLE","$files",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$files",158],["T_WHITESPACE"," ",158],["T_INSTANCEOF","instanceof",158],["T_WHITESPACE"," ",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Traversable",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$files",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","iterator_to_array",159],"(",["T_VARIABLE","$files",159],",",["T_WHITESPACE"," ",159],["T_STRING","false",159],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE"," ",160],["T_ELSEIF","elseif",160],["T_WHITESPACE"," ",160],"(","!",["T_STRING","is_array",160],"(",["T_VARIABLE","$files",160],")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$files",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",["T_VARIABLE","$files",161],")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$files",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","array_reverse",163],"(",["T_VARIABLE","$files",163],")",";",["T_WHITESPACE","\n        ",163],["T_FOREACH","foreach",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$files",164],["T_WHITESPACE"," ",164],["T_AS","as",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$file",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_STRING","is_link",165],"(",["T_VARIABLE","$file",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_COMMENT","\/\/ See https:\/\/bugs.php.net\/52176\n",166],["T_WHITESPACE","                ",167],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!","@","(",["T_STRING","unlink",167],"(",["T_VARIABLE","$file",167],")",["T_WHITESPACE"," ",167],["T_BOOLEAN_OR","||",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",167],["T_WHITESPACE"," ",167],["T_IS_NOT_IDENTICAL","!==",167],["T_WHITESPACE"," ",167],["T_STRING","DIRECTORY_SEPARATOR",167],["T_WHITESPACE"," ",167],["T_BOOLEAN_OR","||",167],["T_WHITESPACE"," ",167],["T_STRING","rmdir",167],"(",["T_VARIABLE","$file",167],")",")",["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],["T_STRING","file_exists",167],"(",["T_VARIABLE","$file",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$error",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","error_get_last",168],"(",")",";",["T_WHITESPACE","\n                    ",168],["T_THROW","throw",169],["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","IOException",169],"(",["T_STRING","sprintf",169],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to remove symlink \"%s\": %s.'",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$file",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$error",169],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",169],"]",")",")",";",["T_WHITESPACE","\n                ",169],"}",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE"," ",171],["T_ELSEIF","elseif",171],["T_WHITESPACE"," ",171],"(",["T_STRING","is_dir",171],"(",["T_VARIABLE","$file",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","remove",172],"(",["T_NEW","new",172],["T_WHITESPACE"," ",172],["T_NS_SEPARATOR","\\",172],["T_STRING","FilesystemIterator",172],"(",["T_VARIABLE","$file",172],",",["T_WHITESPACE"," ",172],["T_NS_SEPARATOR","\\",172],["T_STRING","FilesystemIterator",172],["T_DOUBLE_COLON","::",172],["T_STRING","CURRENT_AS_PATHNAME",172],["T_WHITESPACE"," ",172],"|",["T_WHITESPACE"," ",172],["T_NS_SEPARATOR","\\",172],["T_STRING","FilesystemIterator",172],["T_DOUBLE_COLON","::",172],["T_STRING","SKIP_DOTS",172],")",")",";",["T_WHITESPACE","\n\n                ",172],["T_IF","if",174],["T_WHITESPACE"," ",174],"(","!","@",["T_STRING","rmdir",174],"(",["T_VARIABLE","$file",174],")",["T_WHITESPACE"," ",174],["T_BOOLEAN_AND","&&",174],["T_WHITESPACE"," ",174],["T_STRING","file_exists",174],"(",["T_VARIABLE","$file",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                    ",174],["T_VARIABLE","$error",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","error_get_last",175],"(",")",";",["T_WHITESPACE","\n                    ",175],["T_THROW","throw",176],["T_WHITESPACE"," ",176],["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_STRING","IOException",176],"(",["T_STRING","sprintf",176],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to remove directory \"%s\": %s.'",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$file",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$error",176],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",176],"]",")",")",";",["T_WHITESPACE","\n                ",176],"}",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE"," ",178],["T_ELSEIF","elseif",178],["T_WHITESPACE"," ",178],"(","!","@",["T_STRING","unlink",178],"(",["T_VARIABLE","$file",178],")",["T_WHITESPACE"," ",178],["T_BOOLEAN_AND","&&",178],["T_WHITESPACE"," ",178],["T_STRING","file_exists",178],"(",["T_VARIABLE","$file",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$error",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","error_get_last",179],"(",")",";",["T_WHITESPACE","\n                ",179],["T_THROW","throw",180],["T_WHITESPACE"," ",180],["T_NEW","new",180],["T_WHITESPACE"," ",180],["T_STRING","IOException",180],"(",["T_STRING","sprintf",180],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to remove file \"%s\": %s.'",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$file",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$error",180],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",180],"]",")",")",";",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Change mode for an array of files or directories.\n     *\n     * @param string|array|\\Traversable $files     A filename, an array of files, or a \\Traversable instance to change mode\n     * @param int                       $mode      The new mode (octal)\n     * @param int                       $umask     The mode mask (octal)\n     * @param bool                      $recursive Whether change the mod recursively or not\n     *\n     * @throws IOException When the change fail\n     *\/",185],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","chmod",195],"(",["T_VARIABLE","$files",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$mode",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$umask",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_LNUMBER","0000",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$recursive",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","false",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_FOREACH","foreach",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","toIterator",197],"(",["T_VARIABLE","$files",197],")",["T_WHITESPACE"," ",197],["T_AS","as",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$file",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_STRING","true",198],["T_WHITESPACE"," ",198],["T_IS_NOT_IDENTICAL","!==",198],["T_WHITESPACE"," ",198],"@",["T_STRING","chmod",198],"(",["T_VARIABLE","$file",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$mode",198],["T_WHITESPACE"," ",198],"&",["T_WHITESPACE"," ",198],"~",["T_VARIABLE","$umask",198],")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                ",198],["T_THROW","throw",199],["T_WHITESPACE"," ",199],["T_NEW","new",199],["T_WHITESPACE"," ",199],["T_STRING","IOException",199],"(",["T_STRING","sprintf",199],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to chmod file \"%s\".'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$file",199],")",",",["T_WHITESPACE"," ",199],["T_LNUMBER","0",199],",",["T_WHITESPACE"," ",199],["T_STRING","null",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$file",199],")",";",["T_WHITESPACE","\n            ",199],"}",["T_WHITESPACE","\n            ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$recursive",201],["T_WHITESPACE"," ",201],["T_BOOLEAN_AND","&&",201],["T_WHITESPACE"," ",201],["T_STRING","is_dir",201],"(",["T_VARIABLE","$file",201],")",["T_WHITESPACE"," ",201],["T_BOOLEAN_AND","&&",201],["T_WHITESPACE"," ",201],"!",["T_STRING","is_link",201],"(",["T_VARIABLE","$file",201],")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","chmod",202],"(",["T_NEW","new",202],["T_WHITESPACE"," ",202],["T_NS_SEPARATOR","\\",202],["T_STRING","FilesystemIterator",202],"(",["T_VARIABLE","$file",202],")",",",["T_WHITESPACE"," ",202],["T_VARIABLE","$mode",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$umask",202],",",["T_WHITESPACE"," ",202],["T_STRING","true",202],")",";",["T_WHITESPACE","\n            ",202],"}",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_DOC_COMMENT","\/**\n     * Change the owner of an array of files or directories.\n     *\n     * @param string|array|\\Traversable $files     A filename, an array of files, or a \\Traversable instance to change owner\n     * @param string                    $user      The new owner user name\n     * @param bool                      $recursive Whether change the owner recursively or not\n     *\n     * @throws IOException When the change fail\n     *\/",207],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","chown",216],"(",["T_VARIABLE","$files",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$user",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$recursive",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","false",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_FOREACH","foreach",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","toIterator",218],"(",["T_VARIABLE","$files",218],")",["T_WHITESPACE"," ",218],["T_AS","as",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$file",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$recursive",219],["T_WHITESPACE"," ",219],["T_BOOLEAN_AND","&&",219],["T_WHITESPACE"," ",219],["T_STRING","is_dir",219],"(",["T_VARIABLE","$file",219],")",["T_WHITESPACE"," ",219],["T_BOOLEAN_AND","&&",219],["T_WHITESPACE"," ",219],"!",["T_STRING","is_link",219],"(",["T_VARIABLE","$file",219],")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","chown",220],"(",["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_NS_SEPARATOR","\\",220],["T_STRING","FilesystemIterator",220],"(",["T_VARIABLE","$file",220],")",",",["T_WHITESPACE"," ",220],["T_VARIABLE","$user",220],",",["T_WHITESPACE"," ",220],["T_STRING","true",220],")",";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n            ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_STRING","is_link",222],"(",["T_VARIABLE","$file",222],")",["T_WHITESPACE"," ",222],["T_BOOLEAN_AND","&&",222],["T_WHITESPACE"," ",222],["T_STRING","function_exists",222],"(",["T_CONSTANT_ENCAPSED_STRING","'lchown'",222],")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_STRING","true",223],["T_WHITESPACE"," ",223],["T_IS_NOT_IDENTICAL","!==",223],["T_WHITESPACE"," ",223],"@",["T_STRING","lchown",223],"(",["T_VARIABLE","$file",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$user",223],")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                    ",223],["T_THROW","throw",224],["T_WHITESPACE"," ",224],["T_NEW","new",224],["T_WHITESPACE"," ",224],["T_STRING","IOException",224],"(",["T_STRING","sprintf",224],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to chown file \"%s\".'",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$file",224],")",",",["T_WHITESPACE"," ",224],["T_LNUMBER","0",224],",",["T_WHITESPACE"," ",224],["T_STRING","null",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$file",224],")",";",["T_WHITESPACE","\n                ",224],"}",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE"," ",226],["T_ELSE","else",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_STRING","true",227],["T_WHITESPACE"," ",227],["T_IS_NOT_IDENTICAL","!==",227],["T_WHITESPACE"," ",227],"@",["T_STRING","chown",227],"(",["T_VARIABLE","$file",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$user",227],")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                    ",227],["T_THROW","throw",228],["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","IOException",228],"(",["T_STRING","sprintf",228],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to chown file \"%s\".'",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$file",228],")",",",["T_WHITESPACE"," ",228],["T_LNUMBER","0",228],",",["T_WHITESPACE"," ",228],["T_STRING","null",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$file",228],")",";",["T_WHITESPACE","\n                ",228],"}",["T_WHITESPACE","\n            ",229],"}",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Change the group of an array of files or directories.\n     *\n     * @param string|array|\\Traversable $files     A filename, an array of files, or a \\Traversable instance to change group\n     * @param string                    $group     The group name\n     * @param bool                      $recursive Whether change the group recursively or not\n     *\n     * @throws IOException When the change fail\n     *\/",234],["T_WHITESPACE","\n    ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","chgrp",243],"(",["T_VARIABLE","$files",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$group",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$recursive",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","false",243],")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_FOREACH","foreach",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","toIterator",245],"(",["T_VARIABLE","$files",245],")",["T_WHITESPACE"," ",245],["T_AS","as",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$file",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$recursive",246],["T_WHITESPACE"," ",246],["T_BOOLEAN_AND","&&",246],["T_WHITESPACE"," ",246],["T_STRING","is_dir",246],"(",["T_VARIABLE","$file",246],")",["T_WHITESPACE"," ",246],["T_BOOLEAN_AND","&&",246],["T_WHITESPACE"," ",246],"!",["T_STRING","is_link",246],"(",["T_VARIABLE","$file",246],")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","chgrp",247],"(",["T_NEW","new",247],["T_WHITESPACE"," ",247],["T_NS_SEPARATOR","\\",247],["T_STRING","FilesystemIterator",247],"(",["T_VARIABLE","$file",247],")",",",["T_WHITESPACE"," ",247],["T_VARIABLE","$group",247],",",["T_WHITESPACE"," ",247],["T_STRING","true",247],")",";",["T_WHITESPACE","\n            ",247],"}",["T_WHITESPACE","\n            ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_STRING","is_link",249],"(",["T_VARIABLE","$file",249],")",["T_WHITESPACE"," ",249],["T_BOOLEAN_AND","&&",249],["T_WHITESPACE"," ",249],["T_STRING","function_exists",249],"(",["T_CONSTANT_ENCAPSED_STRING","'lchgrp'",249],")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_STRING","true",250],["T_WHITESPACE"," ",250],["T_IS_NOT_IDENTICAL","!==",250],["T_WHITESPACE"," ",250],"@",["T_STRING","lchgrp",250],"(",["T_VARIABLE","$file",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$group",250],")",["T_WHITESPACE"," ",250],["T_BOOLEAN_OR","||",250],["T_WHITESPACE"," ",250],"(",["T_STRING","defined",250],"(",["T_CONSTANT_ENCAPSED_STRING","'HHVM_VERSION'",250],")",["T_WHITESPACE"," ",250],["T_BOOLEAN_AND","&&",250],["T_WHITESPACE"," ",250],"!",["T_STRING","posix_getgrnam",250],"(",["T_VARIABLE","$group",250],")",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n                    ",250],["T_THROW","throw",251],["T_WHITESPACE"," ",251],["T_NEW","new",251],["T_WHITESPACE"," ",251],["T_STRING","IOException",251],"(",["T_STRING","sprintf",251],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to chgrp file \"%s\".'",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$file",251],")",",",["T_WHITESPACE"," ",251],["T_LNUMBER","0",251],",",["T_WHITESPACE"," ",251],["T_STRING","null",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$file",251],")",";",["T_WHITESPACE","\n                ",251],"}",["T_WHITESPACE","\n            ",252],"}",["T_WHITESPACE"," ",253],["T_ELSE","else",253],["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n                ",253],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_STRING","true",254],["T_WHITESPACE"," ",254],["T_IS_NOT_IDENTICAL","!==",254],["T_WHITESPACE"," ",254],"@",["T_STRING","chgrp",254],"(",["T_VARIABLE","$file",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$group",254],")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                    ",254],["T_THROW","throw",255],["T_WHITESPACE"," ",255],["T_NEW","new",255],["T_WHITESPACE"," ",255],["T_STRING","IOException",255],"(",["T_STRING","sprintf",255],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to chgrp file \"%s\".'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$file",255],")",",",["T_WHITESPACE"," ",255],["T_LNUMBER","0",255],",",["T_WHITESPACE"," ",255],["T_STRING","null",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$file",255],")",";",["T_WHITESPACE","\n                ",255],"}",["T_WHITESPACE","\n            ",256],"}",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Renames a file or a directory.\n     *\n     * @param string $origin    The origin filename or directory\n     * @param string $target    The new filename or directory\n     * @param bool   $overwrite Whether to overwrite the target if it already exists\n     *\n     * @throws IOException When target file or directory already exists\n     * @throws IOException When origin cannot be renamed\n     *\/",261],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","rename",271],"(",["T_VARIABLE","$origin",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$target",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$overwrite",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","false",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_COMMENT","\/\/ we check that target does not exist\n",273],["T_WHITESPACE","        ",274],["T_IF","if",274],["T_WHITESPACE"," ",274],"(","!",["T_VARIABLE","$overwrite",274],["T_WHITESPACE"," ",274],["T_BOOLEAN_AND","&&",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","isReadable",274],"(",["T_VARIABLE","$target",274],")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_THROW","throw",275],["T_WHITESPACE"," ",275],["T_NEW","new",275],["T_WHITESPACE"," ",275],["T_STRING","IOException",275],"(",["T_STRING","sprintf",275],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot rename because the target \"%s\" already exists.'",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$target",275],")",",",["T_WHITESPACE"," ",275],["T_LNUMBER","0",275],",",["T_WHITESPACE"," ",275],["T_STRING","null",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$target",275],")",";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n\n        ",276],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_STRING","true",278],["T_WHITESPACE"," ",278],["T_IS_NOT_IDENTICAL","!==",278],["T_WHITESPACE"," ",278],"@",["T_STRING","rename",278],"(",["T_VARIABLE","$origin",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$target",278],")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_THROW","throw",279],["T_WHITESPACE"," ",279],["T_NEW","new",279],["T_WHITESPACE"," ",279],["T_STRING","IOException",279],"(",["T_STRING","sprintf",279],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot rename \"%s\" to \"%s\".'",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$origin",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$target",279],")",",",["T_WHITESPACE"," ",279],["T_LNUMBER","0",279],",",["T_WHITESPACE"," ",279],["T_STRING","null",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$target",279],")",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Tells whether a file exists and is readable.\n     *\n     * @param string $filename Path to the file\n     *\n     * @return bool\n     *\n     * @throws IOException When windows path is longer than 258 characters\n     *\/",283],["T_WHITESPACE","\n    ",291],["T_PRIVATE","private",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","isReadable",292],"(",["T_VARIABLE","$filename",292],")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",294],["T_WHITESPACE"," ",294],["T_IS_IDENTICAL","===",294],["T_WHITESPACE"," ",294],["T_STRING","DIRECTORY_SEPARATOR",294],["T_WHITESPACE"," ",294],["T_BOOLEAN_AND","&&",294],["T_WHITESPACE"," ",294],["T_STRING","strlen",294],"(",["T_VARIABLE","$filename",294],")",["T_WHITESPACE"," ",294],">",["T_WHITESPACE"," ",294],["T_LNUMBER","258",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_THROW","throw",295],["T_WHITESPACE"," ",295],["T_NEW","new",295],["T_WHITESPACE"," ",295],["T_STRING","IOException",295],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not check if file is readable because path length exceeds 258 characters.'",295],",",["T_WHITESPACE"," ",295],["T_LNUMBER","0",295],",",["T_WHITESPACE"," ",295],["T_STRING","null",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$filename",295],")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_STRING","is_readable",298],"(",["T_VARIABLE","$filename",298],")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Creates a symbolic link or copy a directory.\n     *\n     * @param string $originDir     The origin directory path\n     * @param string $targetDir     The symbolic link name\n     * @param bool   $copyOnWindows Whether to copy files if on Windows\n     *\n     * @throws IOException When symlink fails\n     *\/",301],["T_WHITESPACE","\n    ",309],["T_PUBLIC","public",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","symlink",310],"(",["T_VARIABLE","$originDir",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$targetDir",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$copyOnWindows",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_STRING","false",310],")",["T_WHITESPACE","\n    ",310],"{",["T_WHITESPACE","\n        ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",312],["T_WHITESPACE"," ",312],["T_IS_IDENTICAL","===",312],["T_WHITESPACE"," ",312],["T_STRING","DIRECTORY_SEPARATOR",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$originDir",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","strtr",313],"(",["T_VARIABLE","$originDir",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'\/'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",313],")",";",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$targetDir",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","strtr",314],"(",["T_VARIABLE","$targetDir",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'\/'",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",314],")",";",["T_WHITESPACE","\n\n            ",314],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$copyOnWindows",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","mirror",317],"(",["T_VARIABLE","$originDir",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$targetDir",317],")",";",["T_WHITESPACE","\n\n                ",317],["T_RETURN","return",319],";",["T_WHITESPACE","\n            ",319],"}",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","mkdir",323],"(",["T_STRING","dirname",323],"(",["T_VARIABLE","$targetDir",323],")",")",";",["T_WHITESPACE","\n\n        ",323],["T_VARIABLE","$ok",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","false",325],";",["T_WHITESPACE","\n        ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(",["T_STRING","is_link",326],"(",["T_VARIABLE","$targetDir",326],")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_STRING","readlink",327],"(",["T_VARIABLE","$targetDir",327],")",["T_WHITESPACE"," ",327],["T_IS_NOT_EQUAL","!=",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$originDir",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","remove",328],"(",["T_VARIABLE","$targetDir",328],")",";",["T_WHITESPACE","\n            ",328],"}",["T_WHITESPACE"," ",329],["T_ELSE","else",329],["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n                ",329],["T_VARIABLE","$ok",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_STRING","true",330],";",["T_WHITESPACE","\n            ",330],"}",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n\n        ",332],["T_IF","if",334],["T_WHITESPACE"," ",334],"(","!",["T_VARIABLE","$ok",334],["T_WHITESPACE"," ",334],["T_BOOLEAN_AND","&&",334],["T_WHITESPACE"," ",334],["T_STRING","true",334],["T_WHITESPACE"," ",334],["T_IS_NOT_IDENTICAL","!==",334],["T_WHITESPACE"," ",334],"@",["T_STRING","symlink",334],"(",["T_VARIABLE","$originDir",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$targetDir",334],")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","linkException",335],"(",["T_VARIABLE","$originDir",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$targetDir",335],",",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'symbolic'",335],")",";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * Creates a hard link, or several hard links to a file.\n     *\n     * @param string          $originFile  The original file\n     * @param string|string[] $targetFiles The target file(s)\n     *\n     * @throws FileNotFoundException When original file is missing or not a file\n     * @throws IOException           When link fails, including if link already exists\n     *\/",339],["T_WHITESPACE","\n    ",347],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","hardlink",348],"(",["T_VARIABLE","$originFile",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$targetFiles",348],")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(","!",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","exists",350],"(",["T_VARIABLE","$originFile",350],")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n            ",350],["T_THROW","throw",351],["T_WHITESPACE"," ",351],["T_NEW","new",351],["T_WHITESPACE"," ",351],["T_STRING","FileNotFoundException",351],"(",["T_STRING","null",351],",",["T_WHITESPACE"," ",351],["T_LNUMBER","0",351],",",["T_WHITESPACE"," ",351],["T_STRING","null",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$originFile",351],")",";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n\n        ",352],["T_IF","if",354],["T_WHITESPACE"," ",354],"(","!",["T_STRING","is_file",354],"(",["T_VARIABLE","$originFile",354],")",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_THROW","throw",355],["T_WHITESPACE"," ",355],["T_NEW","new",355],["T_WHITESPACE"," ",355],["T_STRING","FileNotFoundException",355],"(",["T_STRING","sprintf",355],"(",["T_CONSTANT_ENCAPSED_STRING","'Origin file \"%s\" is not a file'",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$originFile",355],")",")",";",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE","\n\n        ",356],["T_FOREACH","foreach",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","toIterator",358],"(",["T_VARIABLE","$targetFiles",358],")",["T_WHITESPACE"," ",358],["T_AS","as",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$targetFile",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_STRING","is_file",359],"(",["T_VARIABLE","$targetFile",359],")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n                ",359],["T_IF","if",360],["T_WHITESPACE"," ",360],"(",["T_STRING","fileinode",360],"(",["T_VARIABLE","$originFile",360],")",["T_WHITESPACE"," ",360],["T_IS_IDENTICAL","===",360],["T_WHITESPACE"," ",360],["T_STRING","fileinode",360],"(",["T_VARIABLE","$targetFile",360],")",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n                    ",360],["T_CONTINUE","continue",361],";",["T_WHITESPACE","\n                ",361],"}",["T_WHITESPACE","\n                ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","remove",363],"(",["T_VARIABLE","$targetFile",363],")",";",["T_WHITESPACE","\n            ",363],"}",["T_WHITESPACE","\n\n            ",364],["T_IF","if",366],["T_WHITESPACE"," ",366],"(",["T_STRING","true",366],["T_WHITESPACE"," ",366],["T_IS_NOT_IDENTICAL","!==",366],["T_WHITESPACE"," ",366],"@",["T_STRING","link",366],"(",["T_VARIABLE","$originFile",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$targetFile",366],")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n                ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","linkException",367],"(",["T_VARIABLE","$originFile",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$targetFile",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'hard'",367],")",";",["T_WHITESPACE","\n            ",367],"}",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * @param string $origin\n     * @param string $target\n     * @param string $linkType Name of the link type, typically 'symbolic' or 'hard'\n     *\/",372],["T_WHITESPACE","\n    ",376],["T_PRIVATE","private",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","linkException",377],"(",["T_VARIABLE","$origin",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$target",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$linkType",377],")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$report",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","error_get_last",379],"(",")",";",["T_WHITESPACE","\n        ",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_STRING","is_array",380],"(",["T_VARIABLE","$report",380],")",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n            ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",381],["T_WHITESPACE"," ",381],["T_IS_IDENTICAL","===",381],["T_WHITESPACE"," ",381],["T_STRING","DIRECTORY_SEPARATOR",381],["T_WHITESPACE"," ",381],["T_BOOLEAN_AND","&&",381],["T_WHITESPACE"," ",381],["T_STRING","false",381],["T_WHITESPACE"," ",381],["T_IS_NOT_IDENTICAL","!==",381],["T_WHITESPACE"," ",381],["T_STRING","strpos",381],"(",["T_VARIABLE","$report",381],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",381],"]",",",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'error code(1314)'",381],")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                ",381],["T_THROW","throw",382],["T_WHITESPACE"," ",382],["T_NEW","new",382],["T_WHITESPACE"," ",382],["T_STRING","IOException",382],"(",["T_STRING","sprintf",382],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to create %s link due to error code 1314: \\'A required privilege is not held by the client\\'. Do you have the required Administrator-rights?'",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$linkType",382],")",",",["T_WHITESPACE"," ",382],["T_LNUMBER","0",382],",",["T_WHITESPACE"," ",382],["T_STRING","null",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$target",382],")",";",["T_WHITESPACE","\n            ",382],"}",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE","\n        ",384],["T_THROW","throw",385],["T_WHITESPACE"," ",385],["T_NEW","new",385],["T_WHITESPACE"," ",385],["T_STRING","IOException",385],"(",["T_STRING","sprintf",385],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to create %s link from \"%s\" to \"%s\".'",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$linkType",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$origin",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$target",385],")",",",["T_WHITESPACE"," ",385],["T_LNUMBER","0",385],",",["T_WHITESPACE"," ",385],["T_STRING","null",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$target",385],")",";",["T_WHITESPACE","\n    ",385],"}",["T_WHITESPACE","\n\n    ",386],["T_DOC_COMMENT","\/**\n     * Resolves links in paths.\n     *\n     * With $canonicalize = false (default)\n     *      - if $path does not exist or is not a link, returns null\n     *      - if $path is a link, returns the next direct target of the link without considering the existence of the target\n     *\n     * With $canonicalize = true\n     *      - if $path does not exist, returns null\n     *      - if $path exists, returns its absolute fully resolved final version\n     *\n     * @param string $path         A filesystem path\n     * @param bool   $canonicalize Whether or not to return a canonicalized path\n     *\n     * @return string|null\n     *\/",388],["T_WHITESPACE","\n    ",403],["T_PUBLIC","public",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","readlink",404],"(",["T_VARIABLE","$path",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$canonicalize",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_STRING","false",404],")",["T_WHITESPACE","\n    ",404],"{",["T_WHITESPACE","\n        ",405],["T_IF","if",406],["T_WHITESPACE"," ",406],"(","!",["T_VARIABLE","$canonicalize",406],["T_WHITESPACE"," ",406],["T_BOOLEAN_AND","&&",406],["T_WHITESPACE"," ",406],"!",["T_STRING","is_link",406],"(",["T_VARIABLE","$path",406],")",")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_RETURN","return",407],";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n\n        ",408],["T_IF","if",410],["T_WHITESPACE"," ",410],"(",["T_VARIABLE","$canonicalize",410],")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n            ",410],["T_IF","if",411],["T_WHITESPACE"," ",411],"(","!",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","exists",411],"(",["T_VARIABLE","$path",411],")",")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n                ",411],["T_RETURN","return",412],";",["T_WHITESPACE","\n            ",412],"}",["T_WHITESPACE","\n\n            ",413],["T_IF","if",415],["T_WHITESPACE"," ",415],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",415],["T_WHITESPACE"," ",415],["T_IS_IDENTICAL","===",415],["T_WHITESPACE"," ",415],["T_STRING","DIRECTORY_SEPARATOR",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n                ",415],["T_VARIABLE","$path",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","readlink",416],"(",["T_VARIABLE","$path",416],")",";",["T_WHITESPACE","\n            ",416],"}",["T_WHITESPACE","\n\n            ",417],["T_RETURN","return",419],["T_WHITESPACE"," ",419],["T_STRING","realpath",419],"(",["T_VARIABLE","$path",419],")",";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE","\n\n        ",420],["T_IF","if",422],["T_WHITESPACE"," ",422],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",422],["T_WHITESPACE"," ",422],["T_IS_IDENTICAL","===",422],["T_WHITESPACE"," ",422],["T_STRING","DIRECTORY_SEPARATOR",422],")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n            ",422],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_STRING","realpath",423],"(",["T_VARIABLE","$path",423],")",";",["T_WHITESPACE","\n        ",423],"}",["T_WHITESPACE","\n\n        ",424],["T_RETURN","return",426],["T_WHITESPACE"," ",426],["T_STRING","readlink",426],"(",["T_VARIABLE","$path",426],")",";",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n\n    ",427],["T_DOC_COMMENT","\/**\n     * Given an existing path, convert it to a path relative to a given starting path.\n     *\n     * @param string $endPath   Absolute path of target\n     * @param string $startPath Absolute path where traversal begins\n     *\n     * @return string Path of target relative to starting path\n     *\/",429],["T_WHITESPACE","\n    ",436],["T_PUBLIC","public",437],["T_WHITESPACE"," ",437],["T_FUNCTION","function",437],["T_WHITESPACE"," ",437],["T_STRING","makePathRelative",437],"(",["T_VARIABLE","$endPath",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$startPath",437],")",["T_WHITESPACE","\n    ",437],"{",["T_WHITESPACE","\n        ",438],["T_COMMENT","\/\/ Normalize separators on Windows\n",439],["T_WHITESPACE","        ",440],["T_IF","if",440],["T_WHITESPACE"," ",440],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",440],["T_WHITESPACE"," ",440],["T_IS_IDENTICAL","===",440],["T_WHITESPACE"," ",440],["T_STRING","DIRECTORY_SEPARATOR",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n            ",440],["T_VARIABLE","$endPath",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_STRING","str_replace",441],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'\/'",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$endPath",441],")",";",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$startPath",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","str_replace",442],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",442],",",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'\/'",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$startPath",442],")",";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE","\n\n        ",443],["T_COMMENT","\/\/ Split the paths into arrays\n",445],["T_WHITESPACE","        ",446],["T_VARIABLE","$startPathArr",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","explode",446],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",446],",",["T_WHITESPACE"," ",446],["T_STRING","trim",446],"(",["T_VARIABLE","$startPath",446],",",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","'\/'",446],")",")",";",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$endPathArr",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_STRING","explode",447],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",447],",",["T_WHITESPACE"," ",447],["T_STRING","trim",447],"(",["T_VARIABLE","$endPath",447],",",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'\/'",447],")",")",";",["T_WHITESPACE","\n\n        ",447],["T_COMMENT","\/\/ Find for which directory the common path stops\n",449],["T_WHITESPACE","        ",450],["T_VARIABLE","$index",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_LNUMBER","0",450],";",["T_WHITESPACE","\n        ",450],["T_WHILE","while",451],["T_WHITESPACE"," ",451],"(",["T_ISSET","isset",451],"(",["T_VARIABLE","$startPathArr",451],"[",["T_VARIABLE","$index",451],"]",")",["T_WHITESPACE"," ",451],["T_BOOLEAN_AND","&&",451],["T_WHITESPACE"," ",451],["T_ISSET","isset",451],"(",["T_VARIABLE","$endPathArr",451],"[",["T_VARIABLE","$index",451],"]",")",["T_WHITESPACE"," ",451],["T_BOOLEAN_AND","&&",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$startPathArr",451],"[",["T_VARIABLE","$index",451],"]",["T_WHITESPACE"," ",451],["T_IS_IDENTICAL","===",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$endPathArr",451],"[",["T_VARIABLE","$index",451],"]",")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n            ",451],["T_INC","++",452],["T_VARIABLE","$index",452],";",["T_WHITESPACE","\n        ",452],"}",["T_WHITESPACE","\n\n        ",453],["T_COMMENT","\/\/ Determine how deep the start path is relative to the common path (ie, \"web\/bundles\" = 2 levels)\n",455],["T_WHITESPACE","        ",456],["T_IF","if",456],["T_WHITESPACE"," ",456],"(",["T_STRING","count",456],"(",["T_VARIABLE","$startPathArr",456],")",["T_WHITESPACE"," ",456],["T_IS_IDENTICAL","===",456],["T_WHITESPACE"," ",456],["T_LNUMBER","1",456],["T_WHITESPACE"," ",456],["T_BOOLEAN_AND","&&",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$startPathArr",456],"[",["T_LNUMBER","0",456],"]",["T_WHITESPACE"," ",456],["T_IS_IDENTICAL","===",456],["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","''",456],")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n            ",456],["T_VARIABLE","$depth",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_LNUMBER","0",457],";",["T_WHITESPACE","\n        ",457],"}",["T_WHITESPACE"," ",458],["T_ELSE","else",458],["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$depth",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_STRING","count",459],"(",["T_VARIABLE","$startPathArr",459],")",["T_WHITESPACE"," ",459],"-",["T_WHITESPACE"," ",459],["T_VARIABLE","$index",459],";",["T_WHITESPACE","\n        ",459],"}",["T_WHITESPACE","\n\n        ",460],["T_COMMENT","\/\/ When we need to traverse from the start, and we are starting from a root path, don't add '..\/'\n",462],["T_WHITESPACE","        ",463],["T_IF","if",463],["T_WHITESPACE"," ",463],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",463],["T_WHITESPACE"," ",463],["T_IS_IDENTICAL","===",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$startPath",463],"[",["T_LNUMBER","0",463],"]",["T_WHITESPACE"," ",463],["T_BOOLEAN_AND","&&",463],["T_WHITESPACE"," ",463],["T_LNUMBER","0",463],["T_WHITESPACE"," ",463],["T_IS_IDENTICAL","===",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$index",463],["T_WHITESPACE"," ",463],["T_BOOLEAN_AND","&&",463],["T_WHITESPACE"," ",463],["T_LNUMBER","0",463],["T_WHITESPACE"," ",463],["T_IS_IDENTICAL","===",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$depth",463],")",["T_WHITESPACE"," ",463],"{",["T_WHITESPACE","\n            ",463],["T_VARIABLE","$traverser",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","''",464],";",["T_WHITESPACE","\n        ",464],"}",["T_WHITESPACE"," ",465],["T_ELSE","else",465],["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n            ",465],["T_COMMENT","\/\/ Repeated \"..\/\" for each level need to reach the common path\n",466],["T_WHITESPACE","            ",467],["T_VARIABLE","$traverser",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","str_repeat",467],"(",["T_CONSTANT_ENCAPSED_STRING","'..\/'",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$depth",467],")",";",["T_WHITESPACE","\n        ",467],"}",["T_WHITESPACE","\n\n        ",468],["T_VARIABLE","$endPathRemainder",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_STRING","implode",470],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",470],",",["T_WHITESPACE"," ",470],["T_STRING","array_slice",470],"(",["T_VARIABLE","$endPathArr",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$index",470],")",")",";",["T_WHITESPACE","\n\n        ",470],["T_COMMENT","\/\/ Construct $endPath from traversing to the common path, then to the remaining $endPath\n",472],["T_WHITESPACE","        ",473],["T_VARIABLE","$relativePath",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_VARIABLE","$traverser",473],".","(",["T_CONSTANT_ENCAPSED_STRING","''",473],["T_WHITESPACE"," ",473],["T_IS_NOT_IDENTICAL","!==",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$endPathRemainder",473],["T_WHITESPACE"," ",473],"?",["T_WHITESPACE"," ",473],["T_VARIABLE","$endPathRemainder",473],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",473],["T_WHITESPACE"," ",473],":",["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","''",473],")",";",["T_WHITESPACE","\n\n        ",473],["T_RETURN","return",475],["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","''",475],["T_WHITESPACE"," ",475],["T_IS_IDENTICAL","===",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$relativePath",475],["T_WHITESPACE"," ",475],"?",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'.\/'",475],["T_WHITESPACE"," ",475],":",["T_WHITESPACE"," ",475],["T_VARIABLE","$relativePath",475],";",["T_WHITESPACE","\n    ",475],"}",["T_WHITESPACE","\n\n    ",476],["T_DOC_COMMENT","\/**\n     * Mirrors a directory to another.\n     *\n     * @param string       $originDir The origin directory\n     * @param string       $targetDir The target directory\n     * @param \\Traversable $iterator  A Traversable instance\n     * @param array        $options   An array of boolean options\n     *                                Valid options are:\n     *                                - $options['override'] Whether to override an existing file on copy or not (see copy())\n     *                                - $options['copy_on_windows'] Whether to copy files instead of links on Windows (see symlink())\n     *                                - $options['delete'] Whether to delete files that are not in the source directory (defaults to false)\n     *\n     * @throws IOException When file type is unknown\n     *\/",478],["T_WHITESPACE","\n    ",491],["T_PUBLIC","public",492],["T_WHITESPACE"," ",492],["T_FUNCTION","function",492],["T_WHITESPACE"," ",492],["T_STRING","mirror",492],"(",["T_VARIABLE","$originDir",492],",",["T_WHITESPACE"," ",492],["T_VARIABLE","$targetDir",492],",",["T_WHITESPACE"," ",492],["T_NS_SEPARATOR","\\",492],["T_STRING","Traversable",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$iterator",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","null",492],",",["T_WHITESPACE"," ",492],["T_VARIABLE","$options",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_ARRAY","array",492],"(",")",")",["T_WHITESPACE","\n    ",492],"{",["T_WHITESPACE","\n        ",493],["T_VARIABLE","$targetDir",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_STRING","rtrim",494],"(",["T_VARIABLE","$targetDir",494],",",["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","'\/\\\\'",494],")",";",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$originDir",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING","rtrim",495],"(",["T_VARIABLE","$originDir",495],",",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'\/\\\\'",495],")",";",["T_WHITESPACE","\n\n        ",495],["T_COMMENT","\/\/ Iterate in destination folder to remove obsolete entries\n",497],["T_WHITESPACE","        ",498],["T_IF","if",498],["T_WHITESPACE"," ",498],"(",["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","exists",498],"(",["T_VARIABLE","$targetDir",498],")",["T_WHITESPACE"," ",498],["T_BOOLEAN_AND","&&",498],["T_WHITESPACE"," ",498],["T_ISSET","isset",498],"(",["T_VARIABLE","$options",498],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",498],"]",")",["T_WHITESPACE"," ",498],["T_BOOLEAN_AND","&&",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$options",498],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",498],"]",")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n            ",498],["T_VARIABLE","$deleteIterator",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$iterator",499],";",["T_WHITESPACE","\n            ",499],["T_IF","if",500],["T_WHITESPACE"," ",500],"(",["T_STRING","null",500],["T_WHITESPACE"," ",500],["T_IS_IDENTICAL","===",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$deleteIterator",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n                ",500],["T_VARIABLE","$flags",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_NS_SEPARATOR","\\",501],["T_STRING","FilesystemIterator",501],["T_DOUBLE_COLON","::",501],["T_STRING","SKIP_DOTS",501],";",["T_WHITESPACE","\n                ",501],["T_VARIABLE","$deleteIterator",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_NEW","new",502],["T_WHITESPACE"," ",502],["T_NS_SEPARATOR","\\",502],["T_STRING","RecursiveIteratorIterator",502],"(",["T_NEW","new",502],["T_WHITESPACE"," ",502],["T_NS_SEPARATOR","\\",502],["T_STRING","RecursiveDirectoryIterator",502],"(",["T_VARIABLE","$targetDir",502],",",["T_WHITESPACE"," ",502],["T_VARIABLE","$flags",502],")",",",["T_WHITESPACE"," ",502],["T_NS_SEPARATOR","\\",502],["T_STRING","RecursiveIteratorIterator",502],["T_DOUBLE_COLON","::",502],["T_STRING","CHILD_FIRST",502],")",";",["T_WHITESPACE","\n            ",502],"}",["T_WHITESPACE","\n            ",503],["T_FOREACH","foreach",504],["T_WHITESPACE"," ",504],"(",["T_VARIABLE","$deleteIterator",504],["T_WHITESPACE"," ",504],["T_AS","as",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$file",504],")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n                ",504],["T_VARIABLE","$origin",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_STRING","str_replace",505],"(",["T_VARIABLE","$targetDir",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$originDir",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$file",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","getPathname",505],"(",")",")",";",["T_WHITESPACE","\n                ",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(","!",["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","exists",506],"(",["T_VARIABLE","$origin",506],")",")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n                    ",506],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","remove",507],"(",["T_VARIABLE","$file",507],")",";",["T_WHITESPACE","\n                ",507],"}",["T_WHITESPACE","\n            ",508],"}",["T_WHITESPACE","\n        ",509],"}",["T_WHITESPACE","\n\n        ",510],["T_VARIABLE","$copyOnWindows",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_STRING","false",512],";",["T_WHITESPACE","\n        ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_ISSET","isset",513],"(",["T_VARIABLE","$options",513],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_on_windows'",513],"]",")",")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$copyOnWindows",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$options",514],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_on_windows'",514],"]",";",["T_WHITESPACE","\n        ",514],"}",["T_WHITESPACE","\n\n        ",515],["T_IF","if",517],["T_WHITESPACE"," ",517],"(",["T_STRING","null",517],["T_WHITESPACE"," ",517],["T_IS_IDENTICAL","===",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$iterator",517],")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n            ",517],["T_VARIABLE","$flags",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$copyOnWindows",518],["T_WHITESPACE"," ",518],"?",["T_WHITESPACE"," ",518],["T_NS_SEPARATOR","\\",518],["T_STRING","FilesystemIterator",518],["T_DOUBLE_COLON","::",518],["T_STRING","SKIP_DOTS",518],["T_WHITESPACE"," ",518],"|",["T_WHITESPACE"," ",518],["T_NS_SEPARATOR","\\",518],["T_STRING","FilesystemIterator",518],["T_DOUBLE_COLON","::",518],["T_STRING","FOLLOW_SYMLINKS",518],["T_WHITESPACE"," ",518],":",["T_WHITESPACE"," ",518],["T_NS_SEPARATOR","\\",518],["T_STRING","FilesystemIterator",518],["T_DOUBLE_COLON","::",518],["T_STRING","SKIP_DOTS",518],";",["T_WHITESPACE","\n            ",518],["T_VARIABLE","$iterator",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_NEW","new",519],["T_WHITESPACE"," ",519],["T_NS_SEPARATOR","\\",519],["T_STRING","RecursiveIteratorIterator",519],"(",["T_NEW","new",519],["T_WHITESPACE"," ",519],["T_NS_SEPARATOR","\\",519],["T_STRING","RecursiveDirectoryIterator",519],"(",["T_VARIABLE","$originDir",519],",",["T_WHITESPACE"," ",519],["T_VARIABLE","$flags",519],")",",",["T_WHITESPACE"," ",519],["T_NS_SEPARATOR","\\",519],["T_STRING","RecursiveIteratorIterator",519],["T_DOUBLE_COLON","::",519],["T_STRING","SELF_FIRST",519],")",";",["T_WHITESPACE","\n        ",519],"}",["T_WHITESPACE","\n\n        ",520],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","exists",522],"(",["T_VARIABLE","$originDir",522],")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","mkdir",523],"(",["T_VARIABLE","$targetDir",523],")",";",["T_WHITESPACE","\n        ",523],"}",["T_WHITESPACE","\n\n        ",524],["T_FOREACH","foreach",526],["T_WHITESPACE"," ",526],"(",["T_VARIABLE","$iterator",526],["T_WHITESPACE"," ",526],["T_AS","as",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$file",526],")",["T_WHITESPACE"," ",526],"{",["T_WHITESPACE","\n            ",526],["T_VARIABLE","$target",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_STRING","str_replace",527],"(",["T_VARIABLE","$originDir",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$targetDir",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$file",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","getPathname",527],"(",")",")",";",["T_WHITESPACE","\n\n            ",527],["T_IF","if",529],["T_WHITESPACE"," ",529],"(",["T_VARIABLE","$copyOnWindows",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n                ",529],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_STRING","is_file",530],"(",["T_VARIABLE","$file",530],")",")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n                    ",530],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","copy",531],"(",["T_VARIABLE","$file",531],",",["T_WHITESPACE"," ",531],["T_VARIABLE","$target",531],",",["T_WHITESPACE"," ",531],["T_ISSET","isset",531],"(",["T_VARIABLE","$options",531],"[",["T_CONSTANT_ENCAPSED_STRING","'override'",531],"]",")",["T_WHITESPACE"," ",531],"?",["T_WHITESPACE"," ",531],["T_VARIABLE","$options",531],"[",["T_CONSTANT_ENCAPSED_STRING","'override'",531],"]",["T_WHITESPACE"," ",531],":",["T_WHITESPACE"," ",531],["T_STRING","false",531],")",";",["T_WHITESPACE","\n                ",531],"}",["T_WHITESPACE"," ",532],["T_ELSEIF","elseif",532],["T_WHITESPACE"," ",532],"(",["T_STRING","is_dir",532],"(",["T_VARIABLE","$file",532],")",")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n                    ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","mkdir",533],"(",["T_VARIABLE","$target",533],")",";",["T_WHITESPACE","\n                ",533],"}",["T_WHITESPACE"," ",534],["T_ELSE","else",534],["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n                    ",534],["T_THROW","throw",535],["T_WHITESPACE"," ",535],["T_NEW","new",535],["T_WHITESPACE"," ",535],["T_STRING","IOException",535],"(",["T_STRING","sprintf",535],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to guess \"%s\" file type.'",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$file",535],")",",",["T_WHITESPACE"," ",535],["T_LNUMBER","0",535],",",["T_WHITESPACE"," ",535],["T_STRING","null",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$file",535],")",";",["T_WHITESPACE","\n                ",535],"}",["T_WHITESPACE","\n            ",536],"}",["T_WHITESPACE"," ",537],["T_ELSE","else",537],["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n                ",537],["T_IF","if",538],["T_WHITESPACE"," ",538],"(",["T_STRING","is_link",538],"(",["T_VARIABLE","$file",538],")",")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n                    ",538],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","symlink",539],"(",["T_VARIABLE","$file",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getLinkTarget",539],"(",")",",",["T_WHITESPACE"," ",539],["T_VARIABLE","$target",539],")",";",["T_WHITESPACE","\n                ",539],"}",["T_WHITESPACE"," ",540],["T_ELSEIF","elseif",540],["T_WHITESPACE"," ",540],"(",["T_STRING","is_dir",540],"(",["T_VARIABLE","$file",540],")",")",["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n                    ",540],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","mkdir",541],"(",["T_VARIABLE","$target",541],")",";",["T_WHITESPACE","\n                ",541],"}",["T_WHITESPACE"," ",542],["T_ELSEIF","elseif",542],["T_WHITESPACE"," ",542],"(",["T_STRING","is_file",542],"(",["T_VARIABLE","$file",542],")",")",["T_WHITESPACE"," ",542],"{",["T_WHITESPACE","\n                    ",542],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","copy",543],"(",["T_VARIABLE","$file",543],",",["T_WHITESPACE"," ",543],["T_VARIABLE","$target",543],",",["T_WHITESPACE"," ",543],["T_ISSET","isset",543],"(",["T_VARIABLE","$options",543],"[",["T_CONSTANT_ENCAPSED_STRING","'override'",543],"]",")",["T_WHITESPACE"," ",543],"?",["T_WHITESPACE"," ",543],["T_VARIABLE","$options",543],"[",["T_CONSTANT_ENCAPSED_STRING","'override'",543],"]",["T_WHITESPACE"," ",543],":",["T_WHITESPACE"," ",543],["T_STRING","false",543],")",";",["T_WHITESPACE","\n                ",543],"}",["T_WHITESPACE"," ",544],["T_ELSE","else",544],["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n                    ",544],["T_THROW","throw",545],["T_WHITESPACE"," ",545],["T_NEW","new",545],["T_WHITESPACE"," ",545],["T_STRING","IOException",545],"(",["T_STRING","sprintf",545],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to guess \"%s\" file type.'",545],",",["T_WHITESPACE"," ",545],["T_VARIABLE","$file",545],")",",",["T_WHITESPACE"," ",545],["T_LNUMBER","0",545],",",["T_WHITESPACE"," ",545],["T_STRING","null",545],",",["T_WHITESPACE"," ",545],["T_VARIABLE","$file",545],")",";",["T_WHITESPACE","\n                ",545],"}",["T_WHITESPACE","\n            ",546],"}",["T_WHITESPACE","\n        ",547],"}",["T_WHITESPACE","\n    ",548],"}",["T_WHITESPACE","\n\n    ",549],["T_DOC_COMMENT","\/**\n     * Returns whether the file path is an absolute path.\n     *\n     * @param string $file A file path\n     *\n     * @return bool\n     *\/",551],["T_WHITESPACE","\n    ",557],["T_PUBLIC","public",558],["T_WHITESPACE"," ",558],["T_FUNCTION","function",558],["T_WHITESPACE"," ",558],["T_STRING","isAbsolutePath",558],"(",["T_VARIABLE","$file",558],")",["T_WHITESPACE","\n    ",558],"{",["T_WHITESPACE","\n        ",559],["T_RETURN","return",560],["T_WHITESPACE"," ",560],["T_STRING","strspn",560],"(",["T_VARIABLE","$file",560],",",["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'\/\\\\'",560],",",["T_WHITESPACE"," ",560],["T_LNUMBER","0",560],",",["T_WHITESPACE"," ",560],["T_LNUMBER","1",560],")",["T_WHITESPACE","\n            ",560],["T_BOOLEAN_OR","||",561],["T_WHITESPACE"," ",561],"(",["T_STRING","strlen",561],"(",["T_VARIABLE","$file",561],")",["T_WHITESPACE"," ",561],">",["T_WHITESPACE"," ",561],["T_LNUMBER","3",561],["T_WHITESPACE"," ",561],["T_BOOLEAN_AND","&&",561],["T_WHITESPACE"," ",561],["T_STRING","ctype_alpha",561],"(",["T_VARIABLE","$file",561],"[",["T_LNUMBER","0",561],"]",")",["T_WHITESPACE","\n                ",561],["T_BOOLEAN_AND","&&",562],["T_WHITESPACE"," ",562],["T_STRING","substr",562],"(",["T_VARIABLE","$file",562],",",["T_WHITESPACE"," ",562],["T_LNUMBER","1",562],",",["T_WHITESPACE"," ",562],["T_LNUMBER","1",562],")",["T_WHITESPACE"," ",562],["T_IS_IDENTICAL","===",562],["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","':'",562],["T_WHITESPACE","\n                ",562],["T_BOOLEAN_AND","&&",563],["T_WHITESPACE"," ",563],["T_STRING","strspn",563],"(",["T_VARIABLE","$file",563],",",["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'\/\\\\'",563],",",["T_WHITESPACE"," ",563],["T_LNUMBER","2",563],",",["T_WHITESPACE"," ",563],["T_LNUMBER","1",563],")",["T_WHITESPACE","\n            ",563],")",["T_WHITESPACE","\n            ",564],["T_BOOLEAN_OR","||",565],["T_WHITESPACE"," ",565],["T_STRING","null",565],["T_WHITESPACE"," ",565],["T_IS_NOT_IDENTICAL","!==",565],["T_WHITESPACE"," ",565],["T_STRING","parse_url",565],"(",["T_VARIABLE","$file",565],",",["T_WHITESPACE"," ",565],["T_STRING","PHP_URL_SCHEME",565],")",["T_WHITESPACE","\n        ",565],";",["T_WHITESPACE","\n    ",566],"}",["T_WHITESPACE","\n\n    ",567],["T_DOC_COMMENT","\/**\n     * Creates a temporary file with support for custom stream wrappers.\n     *\n     * @param string $dir    The directory where the temporary filename will be created\n     * @param string $prefix The prefix of the generated temporary filename\n     *                       Note: Windows uses only the first three characters of prefix\n     *\n     * @return string The new temporary filename (with path), or throw an exception on failure\n     *\/",569],["T_WHITESPACE","\n    ",577],["T_PUBLIC","public",578],["T_WHITESPACE"," ",578],["T_FUNCTION","function",578],["T_WHITESPACE"," ",578],["T_STRING","tempnam",578],"(",["T_VARIABLE","$dir",578],",",["T_WHITESPACE"," ",578],["T_VARIABLE","$prefix",578],")",["T_WHITESPACE","\n    ",578],"{",["T_WHITESPACE","\n        ",579],["T_LIST","list",580],"(",["T_VARIABLE","$scheme",580],",",["T_WHITESPACE"," ",580],["T_VARIABLE","$hierarchy",580],")",["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","getSchemeAndHierarchy",580],"(",["T_VARIABLE","$dir",580],")",";",["T_WHITESPACE","\n\n        ",580],["T_COMMENT","\/\/ If no scheme or scheme is \"file\" or \"gs\" (Google Cloud) create temp file in local filesystem\n",582],["T_WHITESPACE","        ",583],["T_IF","if",583],["T_WHITESPACE"," ",583],"(",["T_STRING","null",583],["T_WHITESPACE"," ",583],["T_IS_IDENTICAL","===",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$scheme",583],["T_WHITESPACE"," ",583],["T_BOOLEAN_OR","||",583],["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","'file'",583],["T_WHITESPACE"," ",583],["T_IS_IDENTICAL","===",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$scheme",583],["T_WHITESPACE"," ",583],["T_BOOLEAN_OR","||",583],["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","'gs'",583],["T_WHITESPACE"," ",583],["T_IS_IDENTICAL","===",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$scheme",583],")",["T_WHITESPACE"," ",583],"{",["T_WHITESPACE","\n            ",583],["T_VARIABLE","$tmpFile",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],"@",["T_STRING","tempnam",584],"(",["T_VARIABLE","$hierarchy",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$prefix",584],")",";",["T_WHITESPACE","\n\n            ",584],["T_COMMENT","\/\/ If tempnam failed or no scheme return the filename otherwise prepend the scheme\n",586],["T_WHITESPACE","            ",587],["T_IF","if",587],["T_WHITESPACE"," ",587],"(",["T_STRING","false",587],["T_WHITESPACE"," ",587],["T_IS_NOT_IDENTICAL","!==",587],["T_WHITESPACE"," ",587],["T_VARIABLE","$tmpFile",587],")",["T_WHITESPACE"," ",587],"{",["T_WHITESPACE","\n                ",587],["T_IF","if",588],["T_WHITESPACE"," ",588],"(",["T_STRING","null",588],["T_WHITESPACE"," ",588],["T_IS_NOT_IDENTICAL","!==",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$scheme",588],["T_WHITESPACE"," ",588],["T_BOOLEAN_AND","&&",588],["T_WHITESPACE"," ",588],["T_CONSTANT_ENCAPSED_STRING","'gs'",588],["T_WHITESPACE"," ",588],["T_IS_NOT_IDENTICAL","!==",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$scheme",588],")",["T_WHITESPACE"," ",588],"{",["T_WHITESPACE","\n                    ",588],["T_RETURN","return",589],["T_WHITESPACE"," ",589],["T_VARIABLE","$scheme",589],".",["T_CONSTANT_ENCAPSED_STRING","':\/\/'",589],".",["T_VARIABLE","$tmpFile",589],";",["T_WHITESPACE","\n                ",589],"}",["T_WHITESPACE","\n\n                ",590],["T_RETURN","return",592],["T_WHITESPACE"," ",592],["T_VARIABLE","$tmpFile",592],";",["T_WHITESPACE","\n            ",592],"}",["T_WHITESPACE","\n\n            ",593],["T_THROW","throw",595],["T_WHITESPACE"," ",595],["T_NEW","new",595],["T_WHITESPACE"," ",595],["T_STRING","IOException",595],"(",["T_CONSTANT_ENCAPSED_STRING","'A temporary file could not be created.'",595],")",";",["T_WHITESPACE","\n        ",595],"}",["T_WHITESPACE","\n\n        ",596],["T_COMMENT","\/\/ Loop until we create a valid temp file or have reached 10 attempts\n",598],["T_WHITESPACE","        ",599],["T_FOR","for",599],["T_WHITESPACE"," ",599],"(",["T_VARIABLE","$i",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_LNUMBER","0",599],";",["T_WHITESPACE"," ",599],["T_VARIABLE","$i",599],["T_WHITESPACE"," ",599],"<",["T_WHITESPACE"," ",599],["T_LNUMBER","10",599],";",["T_WHITESPACE"," ",599],["T_INC","++",599],["T_VARIABLE","$i",599],")",["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n            ",599],["T_COMMENT","\/\/ Create a unique filename\n",600],["T_WHITESPACE","            ",601],["T_VARIABLE","$tmpFile",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_VARIABLE","$dir",601],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",601],".",["T_VARIABLE","$prefix",601],".",["T_STRING","uniqid",601],"(",["T_STRING","mt_rand",601],"(",")",",",["T_WHITESPACE"," ",601],["T_STRING","true",601],")",";",["T_WHITESPACE","\n\n            ",601],["T_COMMENT","\/\/ Use fopen instead of file_exists as some streams do not support stat\n",603],["T_WHITESPACE","            ",604],["T_COMMENT","\/\/ Use mode 'x+' to atomically check existence and create to avoid a TOCTOU vulnerability\n",604],["T_WHITESPACE","            ",605],["T_VARIABLE","$handle",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],"@",["T_STRING","fopen",605],"(",["T_VARIABLE","$tmpFile",605],",",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'x+'",605],")",";",["T_WHITESPACE","\n\n            ",605],["T_COMMENT","\/\/ If unsuccessful restart the loop\n",607],["T_WHITESPACE","            ",608],["T_IF","if",608],["T_WHITESPACE"," ",608],"(",["T_STRING","false",608],["T_WHITESPACE"," ",608],["T_IS_IDENTICAL","===",608],["T_WHITESPACE"," ",608],["T_VARIABLE","$handle",608],")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n                ",608],["T_CONTINUE","continue",609],";",["T_WHITESPACE","\n            ",609],"}",["T_WHITESPACE","\n\n            ",610],["T_COMMENT","\/\/ Close the file if it was successfully opened\n",612],["T_WHITESPACE","            ",613],"@",["T_STRING","fclose",613],"(",["T_VARIABLE","$handle",613],")",";",["T_WHITESPACE","\n\n            ",613],["T_RETURN","return",615],["T_WHITESPACE"," ",615],["T_VARIABLE","$tmpFile",615],";",["T_WHITESPACE","\n        ",615],"}",["T_WHITESPACE","\n\n        ",616],["T_THROW","throw",618],["T_WHITESPACE"," ",618],["T_NEW","new",618],["T_WHITESPACE"," ",618],["T_STRING","IOException",618],"(",["T_CONSTANT_ENCAPSED_STRING","'A temporary file could not be created.'",618],")",";",["T_WHITESPACE","\n    ",618],"}",["T_WHITESPACE","\n\n    ",619],["T_DOC_COMMENT","\/**\n     * Atomically dumps content into a file.\n     *\n     * @param string $filename The file to be written to\n     * @param string $content  The data to write into the file\n     *\n     * @throws IOException If the file cannot be written to\n     *\/",621],["T_WHITESPACE","\n    ",628],["T_PUBLIC","public",629],["T_WHITESPACE"," ",629],["T_FUNCTION","function",629],["T_WHITESPACE"," ",629],["T_STRING","dumpFile",629],"(",["T_VARIABLE","$filename",629],",",["T_WHITESPACE"," ",629],["T_VARIABLE","$content",629],")",["T_WHITESPACE","\n    ",629],"{",["T_WHITESPACE","\n        ",630],["T_VARIABLE","$dir",631],["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_STRING","dirname",631],"(",["T_VARIABLE","$filename",631],")",";",["T_WHITESPACE","\n\n        ",631],["T_IF","if",633],["T_WHITESPACE"," ",633],"(","!",["T_STRING","is_dir",633],"(",["T_VARIABLE","$dir",633],")",")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n            ",633],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","mkdir",634],"(",["T_VARIABLE","$dir",634],")",";",["T_WHITESPACE","\n        ",634],"}",["T_WHITESPACE","\n\n        ",635],["T_IF","if",637],["T_WHITESPACE"," ",637],"(","!",["T_STRING","is_writable",637],"(",["T_VARIABLE","$dir",637],")",")",["T_WHITESPACE"," ",637],"{",["T_WHITESPACE","\n            ",637],["T_THROW","throw",638],["T_WHITESPACE"," ",638],["T_NEW","new",638],["T_WHITESPACE"," ",638],["T_STRING","IOException",638],"(",["T_STRING","sprintf",638],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to write to the \"%s\" directory.'",638],",",["T_WHITESPACE"," ",638],["T_VARIABLE","$dir",638],")",",",["T_WHITESPACE"," ",638],["T_LNUMBER","0",638],",",["T_WHITESPACE"," ",638],["T_STRING","null",638],",",["T_WHITESPACE"," ",638],["T_VARIABLE","$dir",638],")",";",["T_WHITESPACE","\n        ",638],"}",["T_WHITESPACE","\n\n        ",639],["T_COMMENT","\/\/ Will create a temp file with 0600 access rights\n",641],["T_WHITESPACE","        ",642],["T_COMMENT","\/\/ when the filesystem supports chmod.\n",642],["T_WHITESPACE","        ",643],["T_VARIABLE","$tmpFile",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","tempnam",643],"(",["T_VARIABLE","$dir",643],",",["T_WHITESPACE"," ",643],["T_STRING","basename",643],"(",["T_VARIABLE","$filename",643],")",")",";",["T_WHITESPACE","\n\n        ",643],["T_IF","if",645],["T_WHITESPACE"," ",645],"(",["T_STRING","false",645],["T_WHITESPACE"," ",645],["T_IS_IDENTICAL","===",645],["T_WHITESPACE"," ",645],"@",["T_STRING","file_put_contents",645],"(",["T_VARIABLE","$tmpFile",645],",",["T_WHITESPACE"," ",645],["T_VARIABLE","$content",645],")",")",["T_WHITESPACE"," ",645],"{",["T_WHITESPACE","\n            ",645],["T_THROW","throw",646],["T_WHITESPACE"," ",646],["T_NEW","new",646],["T_WHITESPACE"," ",646],["T_STRING","IOException",646],"(",["T_STRING","sprintf",646],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to write file \"%s\".'",646],",",["T_WHITESPACE"," ",646],["T_VARIABLE","$filename",646],")",",",["T_WHITESPACE"," ",646],["T_LNUMBER","0",646],",",["T_WHITESPACE"," ",646],["T_STRING","null",646],",",["T_WHITESPACE"," ",646],["T_VARIABLE","$filename",646],")",";",["T_WHITESPACE","\n        ",646],"}",["T_WHITESPACE","\n\n        ",647],"@",["T_STRING","chmod",649],"(",["T_VARIABLE","$tmpFile",649],",",["T_WHITESPACE"," ",649],["T_LNUMBER","0666",649],["T_WHITESPACE"," ",649],"&",["T_WHITESPACE"," ",649],"~",["T_STRING","umask",649],"(",")",")",";",["T_WHITESPACE","\n        ",649],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","rename",650],"(",["T_VARIABLE","$tmpFile",650],",",["T_WHITESPACE"," ",650],["T_VARIABLE","$filename",650],",",["T_WHITESPACE"," ",650],["T_STRING","true",650],")",";",["T_WHITESPACE","\n    ",650],"}",["T_WHITESPACE","\n\n    ",651],["T_DOC_COMMENT","\/**\n     * Appends content to an existing file.\n     *\n     * @param string $filename The file to which to append content\n     * @param string $content  The content to append\n     *\n     * @throws IOException If the file is not writable\n     *\/",653],["T_WHITESPACE","\n    ",660],["T_PUBLIC","public",661],["T_WHITESPACE"," ",661],["T_FUNCTION","function",661],["T_WHITESPACE"," ",661],["T_STRING","appendToFile",661],"(",["T_VARIABLE","$filename",661],",",["T_WHITESPACE"," ",661],["T_VARIABLE","$content",661],")",["T_WHITESPACE","\n    ",661],"{",["T_WHITESPACE","\n        ",662],["T_VARIABLE","$dir",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_STRING","dirname",663],"(",["T_VARIABLE","$filename",663],")",";",["T_WHITESPACE","\n\n        ",663],["T_IF","if",665],["T_WHITESPACE"," ",665],"(","!",["T_STRING","is_dir",665],"(",["T_VARIABLE","$dir",665],")",")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n            ",665],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","mkdir",666],"(",["T_VARIABLE","$dir",666],")",";",["T_WHITESPACE","\n        ",666],"}",["T_WHITESPACE","\n\n        ",667],["T_IF","if",669],["T_WHITESPACE"," ",669],"(","!",["T_STRING","is_writable",669],"(",["T_VARIABLE","$dir",669],")",")",["T_WHITESPACE"," ",669],"{",["T_WHITESPACE","\n            ",669],["T_THROW","throw",670],["T_WHITESPACE"," ",670],["T_NEW","new",670],["T_WHITESPACE"," ",670],["T_STRING","IOException",670],"(",["T_STRING","sprintf",670],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to write to the \"%s\" directory.'",670],",",["T_WHITESPACE"," ",670],["T_VARIABLE","$dir",670],")",",",["T_WHITESPACE"," ",670],["T_LNUMBER","0",670],",",["T_WHITESPACE"," ",670],["T_STRING","null",670],",",["T_WHITESPACE"," ",670],["T_VARIABLE","$dir",670],")",";",["T_WHITESPACE","\n        ",670],"}",["T_WHITESPACE","\n\n        ",671],["T_IF","if",673],["T_WHITESPACE"," ",673],"(",["T_STRING","false",673],["T_WHITESPACE"," ",673],["T_IS_IDENTICAL","===",673],["T_WHITESPACE"," ",673],"@",["T_STRING","file_put_contents",673],"(",["T_VARIABLE","$filename",673],",",["T_WHITESPACE"," ",673],["T_VARIABLE","$content",673],",",["T_WHITESPACE"," ",673],["T_STRING","FILE_APPEND",673],")",")",["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n            ",673],["T_THROW","throw",674],["T_WHITESPACE"," ",674],["T_NEW","new",674],["T_WHITESPACE"," ",674],["T_STRING","IOException",674],"(",["T_STRING","sprintf",674],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to write file \"%s\".'",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$filename",674],")",",",["T_WHITESPACE"," ",674],["T_LNUMBER","0",674],",",["T_WHITESPACE"," ",674],["T_STRING","null",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$filename",674],")",";",["T_WHITESPACE","\n        ",674],"}",["T_WHITESPACE","\n    ",675],"}",["T_WHITESPACE","\n\n    ",676],["T_DOC_COMMENT","\/**\n     * @param mixed $files\n     *\n     * @return \\Traversable\n     *\/",678],["T_WHITESPACE","\n    ",682],["T_PRIVATE","private",683],["T_WHITESPACE"," ",683],["T_FUNCTION","function",683],["T_WHITESPACE"," ",683],["T_STRING","toIterator",683],"(",["T_VARIABLE","$files",683],")",["T_WHITESPACE","\n    ",683],"{",["T_WHITESPACE","\n        ",684],["T_IF","if",685],["T_WHITESPACE"," ",685],"(","!",["T_VARIABLE","$files",685],["T_WHITESPACE"," ",685],["T_INSTANCEOF","instanceof",685],["T_WHITESPACE"," ",685],["T_NS_SEPARATOR","\\",685],["T_STRING","Traversable",685],")",["T_WHITESPACE"," ",685],"{",["T_WHITESPACE","\n            ",685],["T_VARIABLE","$files",686],["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_NEW","new",686],["T_WHITESPACE"," ",686],["T_NS_SEPARATOR","\\",686],["T_STRING","ArrayObject",686],"(",["T_STRING","is_array",686],"(",["T_VARIABLE","$files",686],")",["T_WHITESPACE"," ",686],"?",["T_WHITESPACE"," ",686],["T_VARIABLE","$files",686],["T_WHITESPACE"," ",686],":",["T_WHITESPACE"," ",686],["T_ARRAY","array",686],"(",["T_VARIABLE","$files",686],")",")",";",["T_WHITESPACE","\n        ",686],"}",["T_WHITESPACE","\n\n        ",687],["T_RETURN","return",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$files",689],";",["T_WHITESPACE","\n    ",689],"}",["T_WHITESPACE","\n\n    ",690],["T_DOC_COMMENT","\/**\n     * Gets a 2-tuple of scheme (may be null) and hierarchical part of a filename (e.g. file:\/\/\/tmp -> array(file, tmp)).\n     *\n     * @param string $filename The filename to be parsed\n     *\n     * @return array The filename scheme and hierarchical part\n     *\/",692],["T_WHITESPACE","\n    ",698],["T_PRIVATE","private",699],["T_WHITESPACE"," ",699],["T_FUNCTION","function",699],["T_WHITESPACE"," ",699],["T_STRING","getSchemeAndHierarchy",699],"(",["T_VARIABLE","$filename",699],")",["T_WHITESPACE","\n    ",699],"{",["T_WHITESPACE","\n        ",700],["T_VARIABLE","$components",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_STRING","explode",701],"(",["T_CONSTANT_ENCAPSED_STRING","':\/\/'",701],",",["T_WHITESPACE"," ",701],["T_VARIABLE","$filename",701],",",["T_WHITESPACE"," ",701],["T_LNUMBER","2",701],")",";",["T_WHITESPACE","\n\n        ",701],["T_RETURN","return",703],["T_WHITESPACE"," ",703],["T_LNUMBER","2",703],["T_WHITESPACE"," ",703],["T_IS_IDENTICAL","===",703],["T_WHITESPACE"," ",703],["T_STRING","count",703],"(",["T_VARIABLE","$components",703],")",["T_WHITESPACE"," ",703],"?",["T_WHITESPACE"," ",703],["T_ARRAY","array",703],"(",["T_VARIABLE","$components",703],"[",["T_LNUMBER","0",703],"]",",",["T_WHITESPACE"," ",703],["T_VARIABLE","$components",703],"[",["T_LNUMBER","1",703],"]",")",["T_WHITESPACE"," ",703],":",["T_WHITESPACE"," ",703],["T_ARRAY","array",703],"(",["T_STRING","null",703],",",["T_WHITESPACE"," ",703],["T_VARIABLE","$components",703],"[",["T_LNUMBER","0",703],"]",")",";",["T_WHITESPACE","\n    ",703],"}",["T_WHITESPACE","\n",704],"}",["T_WHITESPACE","\n",705]]