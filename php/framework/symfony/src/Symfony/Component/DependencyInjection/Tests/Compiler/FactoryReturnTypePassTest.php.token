[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyInjection",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Compiler",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DependencyInjection",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Compiler",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FactoryReturnTypePass",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DependencyInjection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ContainerBuilder",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DependencyInjection",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Reference",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DependencyInjection",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Tests",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Fixtures",17],["T_NS_SEPARATOR","\\",17],["T_STRING","factoryFunction",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DependencyInjection",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Tests",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Fixtures",18],["T_NS_SEPARATOR","\\",18],["T_STRING","FactoryDummy",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","DependencyInjection",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Tests",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Fixtures",19],["T_NS_SEPARATOR","\\",19],["T_STRING","FactoryParent",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * @author Guilhem N. <egetick@gmail.com>\n *\n * @group legacy\n *\/",21],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","FactoryReturnTypePassTest",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_NS_SEPARATOR","\\",26],["T_STRING","PHPUnit_Framework_TestCase",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testProcess",28],"(",")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$container",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_STRING","ContainerBuilder",30],"(",")",";",["T_WHITESPACE","\n\n        ",30],["T_VARIABLE","$factory",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$container",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","register",32],"(",["T_CONSTANT_ENCAPSED_STRING","'factory'",32],")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$factory",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","setFactory",33],"(",["T_ARRAY","array",33],"(",["T_STRING","FactoryDummy",33],["T_DOUBLE_COLON","::",33],["T_CLASS","class",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'createFactory'",33],")",")",";",["T_WHITESPACE","\n\n        ",33],["T_VARIABLE","$container",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","setAlias",35],"(",["T_CONSTANT_ENCAPSED_STRING","'alias_factory'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'factory'",35],")",";",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$foo",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$container",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","register",37],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$foo",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","setFactory",38],"(",["T_ARRAY","array",38],"(",["T_NEW","new",38],["T_WHITESPACE"," ",38],["T_STRING","Reference",38],"(",["T_CONSTANT_ENCAPSED_STRING","'alias_factory'",38],")",",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'create'",38],")",")",";",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$bar",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$container",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","register",40],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",40],",",["T_WHITESPACE"," ",40],["T_CLASS_C","__CLASS__",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$bar",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","setFactory",41],"(",["T_ARRAY","array",41],"(",["T_NEW","new",41],["T_WHITESPACE"," ",41],["T_STRING","Reference",41],"(",["T_CONSTANT_ENCAPSED_STRING","'factory'",41],")",",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'create'",41],")",")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$pass",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","FactoryReturnTypePass",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$pass",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","process",44],"(",["T_VARIABLE","$container",44],")",";",["T_WHITESPACE","\n\n        ",44],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_STRING","method_exists",46],"(",["T_NS_SEPARATOR","\\",46],["T_STRING","ReflectionMethod",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'getReturnType'",46],")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n            ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertEquals",47],"(",["T_STRING","FactoryDummy",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$factory",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getClass",47],"(",")",")",";",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertEquals",48],"(",["T_NS_SEPARATOR","\\",48],["T_STRING","stdClass",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$foo",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getClass",48],"(",")",")",";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE"," ",49],["T_ELSE","else",49],["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertNull",50],"(",["T_VARIABLE","$factory",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getClass",50],"(",")",")",";",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertNull",51],"(",["T_VARIABLE","$foo",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getClass",51],"(",")",")",";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEquals",53],"(",["T_CLASS_C","__CLASS__",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$bar",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getClass",53],"(",")",")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @dataProvider returnTypesProvider\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testReturnTypes",59],"(",["T_VARIABLE","$factory",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$returnType",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$hhvmSupport",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","true",59],")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_VARIABLE","$hhvmSupport",61],["T_WHITESPACE"," ",61],["T_BOOLEAN_AND","&&",61],["T_WHITESPACE"," ",61],["T_STRING","defined",61],"(",["T_CONSTANT_ENCAPSED_STRING","'HHVM_VERSION'",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","markTestSkipped",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Scalar typehints not supported by hhvm.'",62],")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$container",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","ContainerBuilder",65],"(",")",";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$service",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$container",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","register",67],"(",["T_CONSTANT_ENCAPSED_STRING","'service'",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$service",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setFactory",68],"(",["T_VARIABLE","$factory",68],")",";",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$pass",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","FactoryReturnTypePass",70],"(",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$pass",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","process",71],"(",["T_VARIABLE","$container",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_STRING","method_exists",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","ReflectionMethod",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'getReturnType'",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertEquals",74],"(",["T_VARIABLE","$returnType",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$service",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getClass",74],"(",")",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE"," ",75],["T_ELSE","else",75],["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertNull",76],"(",["T_VARIABLE","$service",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getClass",76],"(",")",")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","returnTypesProvider",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",["T_WHITESPACE","\n            ",82],["T_COMMENT","\/\/ must be loaded before the function as they are in the same file\n",83],["T_WHITESPACE","            ",84],["T_ARRAY","array",84],"(",["T_ARRAY","array",84],"(",["T_STRING","FactoryDummy",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'createBuiltin'",84],")",",",["T_WHITESPACE"," ",84],["T_STRING","null",84],",",["T_WHITESPACE"," ",84],["T_STRING","false",84],")",",",["T_WHITESPACE","\n            ",84],["T_ARRAY","array",85],"(",["T_ARRAY","array",85],"(",["T_STRING","FactoryDummy",85],["T_DOUBLE_COLON","::",85],["T_CLASS","class",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'createParent'",85],")",",",["T_WHITESPACE"," ",85],["T_STRING","FactoryParent",85],["T_DOUBLE_COLON","::",85],["T_CLASS","class",85],")",",",["T_WHITESPACE","\n            ",85],["T_ARRAY","array",86],"(",["T_ARRAY","array",86],"(",["T_STRING","FactoryDummy",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'createSelf'",86],")",",",["T_WHITESPACE"," ",86],["T_STRING","FactoryDummy",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],")",",",["T_WHITESPACE","\n            ",86],["T_ARRAY","array",87],"(",["T_STRING","factoryFunction",87],["T_DOUBLE_COLON","::",87],["T_CLASS","class",87],",",["T_WHITESPACE"," ",87],["T_STRING","FactoryDummy",87],["T_DOUBLE_COLON","::",87],["T_CLASS","class",87],")",",",["T_WHITESPACE","\n        ",87],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","testCircularReference",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$container",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","ContainerBuilder",93],"(",")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$factory",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$container",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","register",95],"(",["T_CONSTANT_ENCAPSED_STRING","'factory'",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$factory",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setFactory",96],"(",["T_ARRAY","array",96],"(",["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_STRING","Reference",96],"(",["T_CONSTANT_ENCAPSED_STRING","'factory2'",96],")",",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'createSelf'",96],")",")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$factory2",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$container",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","register",98],"(",["T_CONSTANT_ENCAPSED_STRING","'factory2'",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$factory2",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setFactory",99],"(",["T_ARRAY","array",99],"(",["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","Reference",99],"(",["T_CONSTANT_ENCAPSED_STRING","'factory'",99],")",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'create'",99],")",")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$pass",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NEW","new",101],["T_WHITESPACE"," ",101],["T_STRING","FactoryReturnTypePass",101],"(",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$pass",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","process",102],"(",["T_VARIABLE","$container",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertNull",104],"(",["T_VARIABLE","$factory",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getClass",104],"(",")",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertNull",105],"(",["T_VARIABLE","$factory2",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getClass",105],"(",")",")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * @requires function ReflectionMethod::getReturnType\n     * @expectedDeprecation Relying on its factory's return-type to define the class of service \"factory\" is deprecated since Symfony 3.3 and won't work in 4.0. Set the \"class\" attribute to \"Symfony\\Component\\DependencyInjection\\Tests\\Fixtures\\FactoryDummy\" on the service definition instead.\n     *\/",108],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","testCompile",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$container",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","ContainerBuilder",114],"(",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$factory",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$container",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","register",116],"(",["T_CONSTANT_ENCAPSED_STRING","'factory'",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$factory",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setFactory",117],"(",["T_ARRAY","array",117],"(",["T_STRING","FactoryDummy",117],["T_DOUBLE_COLON","::",117],["T_CLASS","class",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'createFactory'",117],")",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$container",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","compile",118],"(",")",";",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertEquals",120],"(",["T_STRING","FactoryDummy",120],["T_DOUBLE_COLON","::",120],["T_CLASS","class",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$container",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getDefinition",120],"(",["T_CONSTANT_ENCAPSED_STRING","'factory'",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","getClass",120],"(",")",")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n",121],"}",["T_WHITESPACE","\n",122]]