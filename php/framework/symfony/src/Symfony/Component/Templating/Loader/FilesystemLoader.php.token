[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Templating",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Loader",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Templating",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Storage",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Storage",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Templating",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Storage",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FileStorage",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Templating",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TemplateReferenceInterface",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * FilesystemLoader is a loader that read templates from the filesystem.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",18],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","FilesystemLoader",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","Loader",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$templatePathPatterns",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param array $templatePathPatterns An array of path patterns to look for templates\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","__construct",32],"(",["T_VARIABLE","$templatePathPatterns",32],")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","templatePathPatterns",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY_CAST","(array)",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$templatePathPatterns",34],";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Loads a template.\n     *\n     * @param TemplateReferenceInterface $template A template\n     *\n     * @return Storage|bool false if the template cannot be loaded, a Storage instance otherwise\n     *\/",37],["T_WHITESPACE","\n    ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","load",44],"(",["T_STRING","TemplateReferenceInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$template",44],")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$file",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$template",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","get",46],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",46],")",";",["T_WHITESPACE","\n\n        ",46],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_STRING","self",48],["T_DOUBLE_COLON","::",48],["T_STRING","isAbsolutePath",48],"(",["T_VARIABLE","$file",48],")",["T_WHITESPACE"," ",48],["T_BOOLEAN_AND","&&",48],["T_WHITESPACE"," ",48],["T_STRING","is_file",48],"(",["T_VARIABLE","$file",48],")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_STRING","FileStorage",49],"(",["T_VARIABLE","$file",49],")",";",["T_WHITESPACE","\n        ",49],"}",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$replacements",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",";",["T_WHITESPACE","\n        ",52],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$template",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","all",53],"(",")",["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$key",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$value",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$replacements",54],"[",["T_CONSTANT_ENCAPSED_STRING","'%'",54],".",["T_VARIABLE","$key",54],".",["T_CONSTANT_ENCAPSED_STRING","'%'",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$value",54],";",["T_WHITESPACE","\n        ",54],"}",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$fileFailures",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",")",";",["T_WHITESPACE","\n        ",57],["T_FOREACH","foreach",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","templatePathPatterns",58],["T_WHITESPACE"," ",58],["T_AS","as",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$templatePathPattern",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_STRING","is_file",59],"(",["T_VARIABLE","$file",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","strtr",59],"(",["T_VARIABLE","$templatePathPattern",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$replacements",59],")",")",["T_WHITESPACE"," ",59],["T_BOOLEAN_AND","&&",59],["T_WHITESPACE"," ",59],["T_STRING","is_readable",59],"(",["T_VARIABLE","$file",59],")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n                ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_STRING","null",60],["T_WHITESPACE"," ",60],["T_IS_NOT_IDENTICAL","!==",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","logger",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","logger",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","debug",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Loaded template file.'",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$file",61],")",")",";",["T_WHITESPACE","\n                ",61],"}",["T_WHITESPACE","\n\n                ",62],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_STRING","FileStorage",64],"(",["T_VARIABLE","$file",64],")",";",["T_WHITESPACE","\n            ",64],"}",["T_WHITESPACE","\n\n            ",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_STRING","null",67],["T_WHITESPACE"," ",67],["T_IS_NOT_IDENTICAL","!==",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","logger",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n                ",67],["T_VARIABLE","$fileFailures",68],"[","]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$file",68],";",["T_WHITESPACE","\n            ",68],"}",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n\n        ",70],["T_COMMENT","\/\/ only log failures if no template could be loaded at all\n",72],["T_WHITESPACE","        ",73],["T_FOREACH","foreach",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$fileFailures",73],["T_WHITESPACE"," ",73],["T_AS","as",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$file",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_STRING","null",74],["T_WHITESPACE"," ",74],["T_IS_NOT_IDENTICAL","!==",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","logger",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","logger",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","debug",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed loading template file.'",75],",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$file",75],")",")",";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n\n        ",77],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_STRING","false",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Returns true if the template is still fresh.\n     *\n     * @param TemplateReferenceInterface $template A template\n     * @param int                        $time     The last modification time of the cached template (timestamp)\n     *\n     * @return bool true if the template is still fresh, false otherwise\n     *\/",82],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","isFresh",90],"(",["T_STRING","TemplateReferenceInterface",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$template",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$time",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_STRING","false",92],["T_WHITESPACE"," ",92],["T_IS_IDENTICAL","===",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$storage",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","load",92],"(",["T_VARIABLE","$template",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_STRING","false",93],";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_STRING","filemtime",96],"(",["T_STRING_CAST","(string)",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$storage",96],")",["T_WHITESPACE"," ",96],"<",["T_WHITESPACE"," ",96],["T_VARIABLE","$time",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Returns true if the file is an existing absolute path.\n     *\n     * @param string $file A path\n     *\n     * @return bool true if the path exists and is absolute, false otherwise\n     *\/",99],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_STATIC","static",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","isAbsolutePath",106],"(",["T_VARIABLE","$file",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$file",108],"[",["T_LNUMBER","0",108],"]",["T_WHITESPACE"," ",108],["T_IS_EQUAL","==",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'\/'",108],["T_WHITESPACE"," ",108],["T_BOOLEAN_OR","||",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$file",108],"[",["T_LNUMBER","0",108],"]",["T_WHITESPACE"," ",108],["T_IS_EQUAL","==",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",108],["T_WHITESPACE","\n            ",108],["T_BOOLEAN_OR","||",109],["T_WHITESPACE"," ",109],"(",["T_STRING","strlen",109],"(",["T_VARIABLE","$file",109],")",["T_WHITESPACE"," ",109],">",["T_WHITESPACE"," ",109],["T_LNUMBER","3",109],["T_WHITESPACE"," ",109],["T_BOOLEAN_AND","&&",109],["T_WHITESPACE"," ",109],["T_STRING","ctype_alpha",109],"(",["T_VARIABLE","$file",109],"[",["T_LNUMBER","0",109],"]",")",["T_WHITESPACE","\n                ",109],["T_BOOLEAN_AND","&&",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$file",110],"[",["T_LNUMBER","1",110],"]",["T_WHITESPACE"," ",110],["T_IS_EQUAL","==",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","':'",110],["T_WHITESPACE","\n                ",110],["T_BOOLEAN_AND","&&",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$file",111],"[",["T_LNUMBER","2",111],"]",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",111],["T_WHITESPACE"," ",111],["T_BOOLEAN_OR","||",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$file",111],"[",["T_LNUMBER","2",111],"]",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'\/'",111],")",["T_WHITESPACE","\n            ",111],")",["T_WHITESPACE","\n            ",112],["T_BOOLEAN_OR","||",113],["T_WHITESPACE"," ",113],["T_STRING","null",113],["T_WHITESPACE"," ",113],["T_IS_NOT_IDENTICAL","!==",113],["T_WHITESPACE"," ",113],["T_STRING","parse_url",113],"(",["T_VARIABLE","$file",113],",",["T_WHITESPACE"," ",113],["T_STRING","PHP_URL_SCHEME",113],")",["T_WHITESPACE","\n        ",113],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING","true",115],";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_STRING","false",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n",119],"}",["T_WHITESPACE","\n",120]]