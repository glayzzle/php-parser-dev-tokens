[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Templating",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Templating",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Storage",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Storage",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Templating",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Storage",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FileStorage",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Templating",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Storage",16],["T_NS_SEPARATOR","\\",16],["T_STRING","StringStorage",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Templating",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Helper",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HelperInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Templating",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Loader",18],["T_NS_SEPARATOR","\\",18],["T_STRING","LoaderInterface",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * PhpEngine is an engine able to render PHP templates.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",20],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","PhpEngine",25],["T_WHITESPACE"," ",25],["T_IMPLEMENTS","implements",25],["T_WHITESPACE"," ",25],["T_STRING","EngineInterface",25],",",["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","ArrayAccess",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$loader",27],";",["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$current",28],";",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * @var HelperInterface[]\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$helpers",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$parents",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",")",";",["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$stack",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$charset",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",35],";",["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$cache",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",";",["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$escapers",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_STATIC","static",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$escaperCache",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$globals",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$parser",40],";",["T_WHITESPACE","\n\n    ",40],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$evalTemplate",42],";",["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$evalParameters",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param TemplateNameParserInterface $parser  A TemplateNameParserInterface instance\n     * @param LoaderInterface             $loader  A loader instance\n     * @param HelperInterface[]           $helpers An array of helper instances\n     *\/",45],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","__construct",52],"(",["T_STRING","TemplateNameParserInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$parser",52],",",["T_WHITESPACE"," ",52],["T_STRING","LoaderInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$loader",52],",",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$helpers",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","parser",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$parser",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","loader",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$loader",55],";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","addHelpers",57],"(",["T_VARIABLE","$helpers",57],")",";",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","initializeEscapers",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","escapers",60],["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$context",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$escaper",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setEscaper",61],"(",["T_VARIABLE","$context",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$escaper",61],")",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @throws \\InvalidArgumentException if the template does not exist\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","render",70],"(",["T_VARIABLE","$name",70],",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$parameters",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$storage",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","load",72],"(",["T_VARIABLE","$name",72],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$key",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","hash",73],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",73],",",["T_WHITESPACE"," ",73],["T_STRING","serialize",73],"(",["T_VARIABLE","$storage",73],")",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","current",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$key",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","parents",75],"[",["T_VARIABLE","$key",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","null",75],";",["T_WHITESPACE","\n\n        ",75],["T_COMMENT","\/\/ attach the global variables\n",77],["T_WHITESPACE","        ",78],["T_VARIABLE","$parameters",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","array_replace",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getGlobals",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$parameters",78],")",";",["T_WHITESPACE","\n        ",78],["T_COMMENT","\/\/ render\n",79],["T_WHITESPACE","        ",80],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_STRING","false",80],["T_WHITESPACE"," ",80],["T_IS_IDENTICAL","===",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$content",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","evaluate",80],"(",["T_VARIABLE","$storage",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$parameters",80],")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_THROW","throw",81],["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","RuntimeException",81],"(",["T_STRING","sprintf",81],"(",["T_CONSTANT_ENCAPSED_STRING","'The template \"%s\" cannot be rendered.'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","parser",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","parse",81],"(",["T_VARIABLE","$name",81],")",")",")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_COMMENT","\/\/ decorator\n",84],["T_WHITESPACE","        ",85],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","parents",85],"[",["T_VARIABLE","$key",85],"]",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$slots",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","get",86],"(",["T_CONSTANT_ENCAPSED_STRING","'slots'",86],")",";",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","stack",87],"[","]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$slots",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","get",87],"(",["T_CONSTANT_ENCAPSED_STRING","'_content'",87],")",";",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$slots",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","set",88],"(",["T_CONSTANT_ENCAPSED_STRING","'_content'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$content",88],")",";",["T_WHITESPACE","\n\n            ",88],["T_VARIABLE","$content",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","render",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","parents",90],"[",["T_VARIABLE","$key",90],"]",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$parameters",90],")",";",["T_WHITESPACE","\n\n            ",90],["T_VARIABLE","$slots",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","set",92],"(",["T_CONSTANT_ENCAPSED_STRING","'_content'",92],",",["T_WHITESPACE"," ",92],["T_STRING","array_pop",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","stack",92],")",")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$content",95],";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",98],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","exists",101],"(",["T_VARIABLE","$name",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_TRY","try",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","load",104],"(",["T_VARIABLE","$name",104],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE"," ",105],["T_CATCH","catch",105],["T_WHITESPACE"," ",105],"(",["T_NS_SEPARATOR","\\",105],["T_STRING","InvalidArgumentException",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$e",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_STRING","false",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_STRING","true",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",112],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","supports",115],"(",["T_VARIABLE","$name",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$template",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","parser",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","parse",117],"(",["T_VARIABLE","$name",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'php'",119],["T_WHITESPACE"," ",119],["T_IS_IDENTICAL","===",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$template",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","get",119],"(",["T_CONSTANT_ENCAPSED_STRING","'engine'",119],")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Evaluates a template.\n     *\n     * @param Storage $template   The template to render\n     * @param array   $parameters An array of parameters to pass to the template\n     *\n     * @return string|false The evaluated template, or false if the engine is unable to render the template\n     *\n     * @throws \\InvalidArgumentException\n     *\/",122],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","evaluate",132],"(",["T_STRING","Storage",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$template",132],",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$parameters",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","evalTemplate",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$template",134],";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","evalParameters",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$parameters",135],";",["T_WHITESPACE","\n        ",135],["T_UNSET","unset",136],"(",["T_VARIABLE","$template",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$parameters",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_ISSET","isset",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","evalParameters",138],"[",["T_CONSTANT_ENCAPSED_STRING","'this'",138],"]",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_THROW","throw",139],["T_WHITESPACE"," ",139],["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_NS_SEPARATOR","\\",139],["T_STRING","InvalidArgumentException",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter (this)'",139],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n        ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_ISSET","isset",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","evalParameters",141],"[",["T_CONSTANT_ENCAPSED_STRING","'view'",141],"]",")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_THROW","throw",142],["T_WHITESPACE"," ",142],["T_NEW","new",142],["T_WHITESPACE"," ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","InvalidArgumentException",142],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter (view)'",142],")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_COMMENT","\/\/ the view variable is exposed to the require file below\n",145],["T_WHITESPACE","        ",146],["T_VARIABLE","$view",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],";",["T_WHITESPACE","\n        ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","evalTemplate",147],["T_WHITESPACE"," ",147],["T_INSTANCEOF","instanceof",147],["T_WHITESPACE"," ",147],["T_STRING","FileStorage",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_STRING","extract",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","evalParameters",148],",",["T_WHITESPACE"," ",148],["T_STRING","EXTR_SKIP",148],")",";",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","evalParameters",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","null",149],";",["T_WHITESPACE","\n\n            ",149],["T_STRING","ob_start",151],"(",")",";",["T_WHITESPACE","\n            ",151],["T_REQUIRE","require",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","evalTemplate",152],";",["T_WHITESPACE","\n\n            ",152],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","evalTemplate",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","null",154],";",["T_WHITESPACE","\n\n            ",154],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_STRING","ob_get_clean",156],"(",")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE"," ",157],["T_ELSEIF","elseif",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","evalTemplate",157],["T_WHITESPACE"," ",157],["T_INSTANCEOF","instanceof",157],["T_WHITESPACE"," ",157],["T_STRING","StringStorage",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_STRING","extract",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","evalParameters",158],",",["T_WHITESPACE"," ",158],["T_STRING","EXTR_SKIP",158],")",";",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","evalParameters",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","null",159],";",["T_WHITESPACE","\n\n            ",159],["T_STRING","ob_start",161],"(",")",";",["T_WHITESPACE","\n            ",161],["T_EVAL","eval",162],"(",["T_CONSTANT_ENCAPSED_STRING","'; ?>'",162],".",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","evalTemplate",162],".",["T_CONSTANT_ENCAPSED_STRING","'<?php ;'",162],")",";",["T_WHITESPACE","\n\n            ",162],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","evalTemplate",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","null",164],";",["T_WHITESPACE","\n\n            ",164],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_STRING","ob_get_clean",166],"(",")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n\n        ",167],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_STRING","false",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Gets a helper value.\n     *\n     * @param string $name The helper name\n     *\n     * @return HelperInterface The helper value\n     *\n     * @throws \\InvalidArgumentException if the helper is not defined\n     *\/",172],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","offsetGet",181],"(",["T_VARIABLE","$name",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","get",183],"(",["T_VARIABLE","$name",183],")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Returns true if the helper is defined.\n     *\n     * @param string $name The helper name\n     *\n     * @return bool true if the helper is defined, false otherwise\n     *\/",186],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","offsetExists",193],"(",["T_VARIABLE","$name",193],")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_ISSET","isset",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","helpers",195],"[",["T_VARIABLE","$name",195],"]",")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Sets a helper.\n     *\n     * @param HelperInterface $name  The helper instance\n     * @param string          $value An alias\n     *\/",198],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","offsetSet",204],"(",["T_VARIABLE","$name",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$value",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","set",206],"(",["T_VARIABLE","$name",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$value",206],")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Removes a helper.\n     *\n     * @param string $name The helper name\n     *\n     * @throws \\LogicException\n     *\/",209],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","offsetUnset",216],"(",["T_VARIABLE","$name",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_THROW","throw",218],["T_WHITESPACE"," ",218],["T_NEW","new",218],["T_WHITESPACE"," ",218],["T_NS_SEPARATOR","\\",218],["T_STRING","LogicException",218],"(",["T_STRING","sprintf",218],"(",["T_CONSTANT_ENCAPSED_STRING","'You can\\'t unset a helper (%s).'",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$name",218],")",")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Adds some helpers.\n     *\n     * @param HelperInterface[] $helpers An array of helper\n     *\/",221],["T_WHITESPACE","\n    ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","addHelpers",226],"(",["T_ARRAY","array",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$helpers",226],")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_FOREACH","foreach",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$helpers",228],["T_WHITESPACE"," ",228],["T_AS","as",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$alias",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$helper",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","set",229],"(",["T_VARIABLE","$helper",229],",",["T_WHITESPACE"," ",229],["T_STRING","is_int",229],"(",["T_VARIABLE","$alias",229],")",["T_WHITESPACE"," ",229],"?",["T_WHITESPACE"," ",229],["T_STRING","null",229],["T_WHITESPACE"," ",229],":",["T_WHITESPACE"," ",229],["T_VARIABLE","$alias",229],")",";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Sets the helpers.\n     *\n     * @param HelperInterface[] $helpers An array of helper\n     *\/",233],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","setHelpers",238],"(",["T_ARRAY","array",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$helpers",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","helpers",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_ARRAY","array",240],"(",")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","addHelpers",241],"(",["T_VARIABLE","$helpers",241],")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Sets a helper.\n     *\n     * @param HelperInterface $helper The helper instance\n     * @param string          $alias  An alias\n     *\/",244],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","set",250],"(",["T_STRING","HelperInterface",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$helper",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$alias",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","null",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","helpers",252],"[",["T_VARIABLE","$helper",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getName",252],"(",")","]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$helper",252],";",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_STRING","null",253],["T_WHITESPACE"," ",253],["T_IS_NOT_IDENTICAL","!==",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$alias",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","helpers",254],"[",["T_VARIABLE","$alias",254],"]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$helper",254],";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$helper",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","setCharset",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","charset",257],")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Returns true if the helper if defined.\n     *\n     * @param string $name The helper name\n     *\n     * @return bool true if the helper is defined, false otherwise\n     *\/",260],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","has",267],"(",["T_VARIABLE","$name",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_ISSET","isset",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","helpers",269],"[",["T_VARIABLE","$name",269],"]",")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Gets a helper value.\n     *\n     * @param string $name The helper name\n     *\n     * @return HelperInterface The helper instance\n     *\n     * @throws \\InvalidArgumentException if the helper is not defined\n     *\/",272],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","get",281],"(",["T_VARIABLE","$name",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(","!",["T_ISSET","isset",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","helpers",283],"[",["T_VARIABLE","$name",283],"]",")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_THROW","throw",284],["T_WHITESPACE"," ",284],["T_NEW","new",284],["T_WHITESPACE"," ",284],["T_NS_SEPARATOR","\\",284],["T_STRING","InvalidArgumentException",284],"(",["T_STRING","sprintf",284],"(",["T_CONSTANT_ENCAPSED_STRING","'The helper \"%s\" is not defined.'",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$name",284],")",")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","helpers",287],"[",["T_VARIABLE","$name",287],"]",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Decorates the current template with another one.\n     *\n     * @param string $template The decorator logical name\n     *\/",290],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","extend",295],"(",["T_VARIABLE","$template",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","parents",297],"[",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","current",297],"]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$template",297],";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * Escapes a string by using the current charset.\n     *\n     * @param mixed  $value   A variable to escape\n     * @param string $context The context name\n     *\n     * @return string The escaped value\n     *\/",300],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","escape",308],"(",["T_VARIABLE","$value",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$context",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'html'",308],")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_STRING","is_numeric",310],"(",["T_VARIABLE","$value",310],")",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$value",311],";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n\n        ",312],["T_COMMENT","\/\/ If we deal with a scalar value, we can cache the result to increase\n",314],["T_WHITESPACE","        ",315],["T_COMMENT","\/\/ the performance when the same value is escaped multiple times (e.g. loops)\n",315],["T_WHITESPACE","        ",316],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_STRING","is_scalar",316],"(",["T_VARIABLE","$value",316],")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(","!",["T_ISSET","isset",317],"(",["T_STRING","self",317],["T_DOUBLE_COLON","::",317],["T_VARIABLE","$escaperCache",317],"[",["T_VARIABLE","$context",317],"]","[",["T_VARIABLE","$value",317],"]",")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],["T_STRING","self",318],["T_DOUBLE_COLON","::",318],["T_VARIABLE","$escaperCache",318],"[",["T_VARIABLE","$context",318],"]","[",["T_VARIABLE","$value",318],"]",["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","call_user_func",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getEscaper",318],"(",["T_VARIABLE","$context",318],")",",",["T_WHITESPACE"," ",318],["T_VARIABLE","$value",318],")",";",["T_WHITESPACE","\n            ",318],"}",["T_WHITESPACE","\n\n            ",319],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_STRING","self",321],["T_DOUBLE_COLON","::",321],["T_VARIABLE","$escaperCache",321],"[",["T_VARIABLE","$context",321],"]","[",["T_VARIABLE","$value",321],"]",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n\n        ",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_STRING","call_user_func",324],"(",["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getEscaper",324],"(",["T_VARIABLE","$context",324],")",",",["T_WHITESPACE"," ",324],["T_VARIABLE","$value",324],")",";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Sets the charset to use.\n     *\n     * @param string $charset The charset\n     *\/",327],["T_WHITESPACE","\n    ",331],["T_PUBLIC","public",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","setCharset",332],"(",["T_VARIABLE","$charset",332],")",["T_WHITESPACE","\n    ",332],"{",["T_WHITESPACE","\n        ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF8'",334],["T_WHITESPACE"," ",334],["T_IS_IDENTICAL","===",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$charset",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","strtoupper",334],"(",["T_VARIABLE","$charset",334],")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$charset",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",335],";",["T_WHITESPACE"," ",335],["T_COMMENT","\/\/ iconv on Windows requires \"UTF-8\" instead of \"UTF8\"\n",335],["T_WHITESPACE","        ",336],"}",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","charset",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$charset",337],";",["T_WHITESPACE","\n\n        ",337],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","helpers",339],["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$helper",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$helper",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","setCharset",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","charset",340],")",";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n    ",342],["T_DOC_COMMENT","\/**\n     * Gets the current charset.\n     *\n     * @return string The current charset\n     *\/",344],["T_WHITESPACE","\n    ",348],["T_PUBLIC","public",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","getCharset",349],"(",")",["T_WHITESPACE","\n    ",349],"{",["T_WHITESPACE","\n        ",350],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","charset",351],";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * Adds an escaper for the given context.\n     *\n     * @param string   $context The escaper context (html, js, ...)\n     * @param callable $escaper A PHP callable\n     *\/",354],["T_WHITESPACE","\n    ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","setEscaper",360],"(",["T_VARIABLE","$context",360],",",["T_WHITESPACE"," ",360],["T_CALLABLE","callable",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$escaper",360],")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","escapers",362],"[",["T_VARIABLE","$context",362],"]",["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$escaper",362],";",["T_WHITESPACE","\n        ",362],["T_STRING","self",363],["T_DOUBLE_COLON","::",363],["T_VARIABLE","$escaperCache",363],"[",["T_VARIABLE","$context",363],"]",["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_ARRAY","array",363],"(",")",";",["T_WHITESPACE","\n    ",363],"}",["T_WHITESPACE","\n\n    ",364],["T_DOC_COMMENT","\/**\n     * Gets an escaper for a given context.\n     *\n     * @param string $context The context name\n     *\n     * @return callable $escaper A PHP callable\n     *\n     * @throws \\InvalidArgumentException\n     *\/",366],["T_WHITESPACE","\n    ",374],["T_PUBLIC","public",375],["T_WHITESPACE"," ",375],["T_FUNCTION","function",375],["T_WHITESPACE"," ",375],["T_STRING","getEscaper",375],"(",["T_VARIABLE","$context",375],")",["T_WHITESPACE","\n    ",375],"{",["T_WHITESPACE","\n        ",376],["T_IF","if",377],["T_WHITESPACE"," ",377],"(","!",["T_ISSET","isset",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","escapers",377],"[",["T_VARIABLE","$context",377],"]",")",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n            ",377],["T_THROW","throw",378],["T_WHITESPACE"," ",378],["T_NEW","new",378],["T_WHITESPACE"," ",378],["T_NS_SEPARATOR","\\",378],["T_STRING","InvalidArgumentException",378],"(",["T_STRING","sprintf",378],"(",["T_CONSTANT_ENCAPSED_STRING","'No registered escaper for context \"%s\".'",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$context",378],")",")",";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n\n        ",379],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","escapers",381],"[",["T_VARIABLE","$context",381],"]",";",["T_WHITESPACE","\n    ",381],"}",["T_WHITESPACE","\n\n    ",382],["T_DOC_COMMENT","\/**\n     * @param string $name\n     * @param mixed  $value\n     *\/",384],["T_WHITESPACE","\n    ",387],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","addGlobal",388],"(",["T_VARIABLE","$name",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$value",388],")",["T_WHITESPACE","\n    ",388],"{",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","globals",390],"[",["T_VARIABLE","$name",390],"]",["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$value",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_DOC_COMMENT","\/**\n     * Returns the assigned globals.\n     *\n     * @return array\n     *\/",393],["T_WHITESPACE","\n    ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","getGlobals",398],"(",")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","globals",400],";",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_DOC_COMMENT","\/**\n     * Initializes the built-in escapers.\n     *\n     * Each function specifies a way for applying a transformation to a string\n     * passed to it. The purpose is for the string to be \"escaped\" so it is\n     * suitable for the format it is being displayed in.\n     *\n     * For example, the string: \"It's required that you enter a username & password.\\n\"\n     * If this were to be displayed as HTML it would be sensible to turn the\n     * ampersand into '&amp;' and the apostrophe into '&aps;'. However if it were\n     * going to be used as a string in JavaScript to be displayed in an alert box\n     * it would be right to leave the string as-is, but c-escape the apostrophe and\n     * the new line.\n     *\n     * For each function there is a define to avoid problems with strings being\n     * incorrectly specified.\n     *\/",403],["T_WHITESPACE","\n    ",419],["T_PROTECTED","protected",420],["T_WHITESPACE"," ",420],["T_FUNCTION","function",420],["T_WHITESPACE"," ",420],["T_STRING","initializeEscapers",420],"(",")",["T_WHITESPACE","\n    ",420],"{",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$flags",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_STRING","ENT_QUOTES",422],["T_WHITESPACE"," ",422],"|",["T_WHITESPACE"," ",422],["T_STRING","ENT_SUBSTITUTE",422],";",["T_WHITESPACE","\n\n        ",422],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","escapers",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_ARRAY","array",424],"(",["T_WHITESPACE","\n            ",424],["T_CONSTANT_ENCAPSED_STRING","'html'",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE","\n                ",425],["T_DOC_COMMENT","\/**\n                 * Runs the PHP function htmlspecialchars on the value passed.\n                 *\n                 * @param string $value the value to escape\n                 *\n                 * @return string the escaped value\n                 *\/",426],["T_WHITESPACE","\n                ",432],["T_FUNCTION","function",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$value",433],")",["T_WHITESPACE"," ",433],["T_USE","use",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$flags",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n                    ",433],["T_COMMENT","\/\/ Numbers and Boolean values get turned into strings which can cause problems\n",434],["T_WHITESPACE","                    ",435],["T_COMMENT","\/\/ with type comparisons (e.g. === or is_int() etc).\n",435],["T_WHITESPACE","                    ",436],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_STRING","is_string",436],"(",["T_VARIABLE","$value",436],")",["T_WHITESPACE"," ",436],"?",["T_WHITESPACE"," ",436],["T_STRING","htmlspecialchars",436],"(",["T_VARIABLE","$value",436],",",["T_WHITESPACE"," ",436],["T_VARIABLE","$flags",436],",",["T_WHITESPACE"," ",436],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getCharset",436],"(",")",",",["T_WHITESPACE"," ",436],["T_STRING","false",436],")",["T_WHITESPACE"," ",436],":",["T_WHITESPACE"," ",436],["T_VARIABLE","$value",436],";",["T_WHITESPACE","\n                ",436],"}",",",["T_WHITESPACE","\n\n            ",437],["T_CONSTANT_ENCAPSED_STRING","'js'",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE","\n                ",439],["T_DOC_COMMENT","\/**\n                 * A function that escape all non-alphanumeric characters\n                 * into their \\xHH or \\uHHHH representations.\n                 *\n                 * @param string $value the value to escape\n                 *\n                 * @return string the escaped value\n                 *\/",440],["T_WHITESPACE","\n                ",447],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],"(",["T_VARIABLE","$value",448],")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n                    ",448],["T_IF","if",449],["T_WHITESPACE"," ",449],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",449],["T_WHITESPACE"," ",449],["T_IS_NOT_EQUAL","!=",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getCharset",449],"(",")",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n                        ",449],["T_VARIABLE","$value",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_STRING","iconv",450],"(",["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getCharset",450],"(",")",",",["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$value",450],")",";",["T_WHITESPACE","\n                    ",450],"}",["T_WHITESPACE","\n\n                    ",451],["T_VARIABLE","$callback",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],"(",["T_VARIABLE","$matches",453],")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n                        ",453],["T_VARIABLE","$char",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$matches",454],"[",["T_LNUMBER","0",454],"]",";",["T_WHITESPACE","\n\n                        ",454],["T_COMMENT","\/\/ \\xHH\n",456],["T_WHITESPACE","                        ",457],["T_IF","if",457],["T_WHITESPACE"," ",457],"(","!",["T_ISSET","isset",457],"(",["T_VARIABLE","$char",457],"[",["T_LNUMBER","1",457],"]",")",")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n                            ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'\\\\x'",458],".",["T_STRING","substr",458],"(",["T_CONSTANT_ENCAPSED_STRING","'00'",458],".",["T_STRING","bin2hex",458],"(",["T_VARIABLE","$char",458],")",",",["T_WHITESPACE"," ",458],"-",["T_LNUMBER","2",458],")",";",["T_WHITESPACE","\n                        ",458],"}",["T_WHITESPACE","\n\n                        ",459],["T_COMMENT","\/\/ \\uHHHH\n",461],["T_WHITESPACE","                        ",462],["T_VARIABLE","$char",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_STRING","iconv",462],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",462],",",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'UTF-16BE'",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$char",462],")",";",["T_WHITESPACE","\n\n                        ",462],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'\\\\u'",464],".",["T_STRING","substr",464],"(",["T_CONSTANT_ENCAPSED_STRING","'0000'",464],".",["T_STRING","bin2hex",464],"(",["T_VARIABLE","$char",464],")",",",["T_WHITESPACE"," ",464],"-",["T_LNUMBER","4",464],")",";",["T_WHITESPACE","\n                    ",464],"}",";",["T_WHITESPACE","\n\n                    ",465],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_STRING","null",467],["T_WHITESPACE"," ",467],["T_IS_IDENTICAL","===",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$value",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","preg_replace_callback",467],"(",["T_CONSTANT_ENCAPSED_STRING","'#[^\\p{L}\\p{N} ]#u'",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$callback",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$value",467],")",")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n                        ",467],["T_THROW","throw",468],["T_WHITESPACE"," ",468],["T_NEW","new",468],["T_WHITESPACE"," ",468],["T_NS_SEPARATOR","\\",468],["T_STRING","InvalidArgumentException",468],"(",["T_CONSTANT_ENCAPSED_STRING","'The string to escape is not a valid UTF-8 string.'",468],")",";",["T_WHITESPACE","\n                    ",468],"}",["T_WHITESPACE","\n\n                    ",469],["T_IF","if",471],["T_WHITESPACE"," ",471],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",471],["T_WHITESPACE"," ",471],["T_IS_NOT_EQUAL","!=",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getCharset",471],"(",")",")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n                        ",471],["T_VARIABLE","$value",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_STRING","iconv",472],"(",["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getCharset",472],"(",")",",",["T_WHITESPACE"," ",472],["T_VARIABLE","$value",472],")",";",["T_WHITESPACE","\n                    ",472],"}",["T_WHITESPACE","\n\n                    ",473],["T_RETURN","return",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$value",475],";",["T_WHITESPACE","\n                ",475],"}",",",["T_WHITESPACE","\n        ",476],")",";",["T_WHITESPACE","\n\n        ",477],["T_STRING","self",479],["T_DOUBLE_COLON","::",479],["T_VARIABLE","$escaperCache",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_ARRAY","array",479],"(",")",";",["T_WHITESPACE","\n    ",479],"}",["T_WHITESPACE","\n\n    ",480],["T_DOC_COMMENT","\/**\n     * Gets the loader associated with this engine.\n     *\n     * @return LoaderInterface A LoaderInterface instance\n     *\/",482],["T_WHITESPACE","\n    ",486],["T_PUBLIC","public",487],["T_WHITESPACE"," ",487],["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],["T_STRING","getLoader",487],"(",")",["T_WHITESPACE","\n    ",487],"{",["T_WHITESPACE","\n        ",488],["T_RETURN","return",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","loader",489],";",["T_WHITESPACE","\n    ",489],"}",["T_WHITESPACE","\n\n    ",490],["T_DOC_COMMENT","\/**\n     * Loads the given template.\n     *\n     * @param string|TemplateReferenceInterface $name A template name or a TemplateReferenceInterface instance\n     *\n     * @return Storage A Storage instance\n     *\n     * @throws \\InvalidArgumentException if the template cannot be found\n     *\/",492],["T_WHITESPACE","\n    ",500],["T_PROTECTED","protected",501],["T_WHITESPACE"," ",501],["T_FUNCTION","function",501],["T_WHITESPACE"," ",501],["T_STRING","load",501],"(",["T_VARIABLE","$name",501],")",["T_WHITESPACE","\n    ",501],"{",["T_WHITESPACE","\n        ",502],["T_VARIABLE","$template",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","parser",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","parse",503],"(",["T_VARIABLE","$name",503],")",";",["T_WHITESPACE","\n\n        ",503],["T_VARIABLE","$key",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$template",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","getLogicalName",505],"(",")",";",["T_WHITESPACE","\n        ",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_ISSET","isset",506],"(",["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","cache",506],"[",["T_VARIABLE","$key",506],"]",")",")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","cache",507],"[",["T_VARIABLE","$key",507],"]",";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n\n        ",508],["T_VARIABLE","$storage",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","loader",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","load",510],"(",["T_VARIABLE","$template",510],")",";",["T_WHITESPACE","\n\n        ",510],["T_IF","if",512],["T_WHITESPACE"," ",512],"(",["T_STRING","false",512],["T_WHITESPACE"," ",512],["T_IS_IDENTICAL","===",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$storage",512],")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_THROW","throw",513],["T_WHITESPACE"," ",513],["T_NEW","new",513],["T_WHITESPACE"," ",513],["T_NS_SEPARATOR","\\",513],["T_STRING","InvalidArgumentException",513],"(",["T_STRING","sprintf",513],"(",["T_CONSTANT_ENCAPSED_STRING","'The template \"%s\" does not exist.'",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$template",513],")",")",";",["T_WHITESPACE","\n        ",513],"}",["T_WHITESPACE","\n\n        ",514],["T_RETURN","return",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","cache",516],"[",["T_VARIABLE","$key",516],"]",["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$storage",516],";",["T_WHITESPACE","\n    ",516],"}",["T_WHITESPACE","\n",517],"}",["T_WHITESPACE","\n",518]]