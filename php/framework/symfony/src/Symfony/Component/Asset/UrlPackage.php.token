[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Asset",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Asset",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Context",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ContextInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Asset",15],["T_NS_SEPARATOR","\\",15],["T_STRING","VersionStrategy",15],["T_NS_SEPARATOR","\\",15],["T_STRING","VersionStrategyInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Asset",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","InvalidArgumentException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Asset",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","LogicException",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Package that adds a base URL to asset URLs in addition to a version.\n *\n * The package allows to use more than one base URLs in which case\n * it randomly chooses one for each asset; it also guarantees that\n * any given path will always use the same base URL to be nice with\n * HTTP caching mechanisms.\n *\n * When the request context is available, this package can choose the\n * best base URL to use based on the current request scheme:\n *\n *  * For HTTP request, it chooses between all base URLs;\n *  * For HTTPs requests, it chooses between HTTPs base URLs and relative protocol URLs\n *    or falls back to any base URL if no secure ones are available.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",19],["T_WHITESPACE","\n",35],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","UrlPackage",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Package",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$baseUrls",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$sslPackage",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @param string|string[]          $baseUrls        Base asset URLs\n     * @param VersionStrategyInterface $versionStrategy The version strategy\n     * @param ContextInterface|null    $context         Context\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","__construct",46],"(",["T_VARIABLE","$baseUrls",46],",",["T_WHITESPACE"," ",46],["T_STRING","VersionStrategyInterface",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$versionStrategy",46],",",["T_WHITESPACE"," ",46],["T_STRING","ContextInterface",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$context",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","null",46],")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","__construct",48],"(",["T_VARIABLE","$versionStrategy",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$context",48],")",";",["T_WHITESPACE","\n\n        ",48],["T_IF","if",50],["T_WHITESPACE"," ",50],"(","!",["T_STRING","is_array",50],"(",["T_VARIABLE","$baseUrls",50],")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$baseUrls",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY_CAST","(array)",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$baseUrls",51],";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n\n        ",52],["T_IF","if",54],["T_WHITESPACE"," ",54],"(","!",["T_VARIABLE","$baseUrls",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_THROW","throw",55],["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","LogicException",55],"(",["T_CONSTANT_ENCAPSED_STRING","'You must provide at least one base URL.'",55],")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n\n        ",56],["T_FOREACH","foreach",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$baseUrls",58],["T_WHITESPACE"," ",58],["T_AS","as",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$baseUrl",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","baseUrls",59],"[","]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","rtrim",59],"(",["T_VARIABLE","$baseUrl",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'\/'",59],")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$sslUrls",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getSslUrls",62],"(",["T_VARIABLE","$baseUrls",62],")",";",["T_WHITESPACE","\n\n        ",62],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$sslUrls",64],["T_WHITESPACE"," ",64],["T_BOOLEAN_AND","&&",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$baseUrls",64],["T_WHITESPACE"," ",64],["T_IS_NOT_IDENTICAL","!==",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$sslUrls",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","sslPackage",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","self",65],"(",["T_VARIABLE","$sslUrls",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$versionStrategy",65],")",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","getUrl",72],"(",["T_VARIABLE","$path",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","isAbsoluteUrl",74],"(",["T_VARIABLE","$path",74],")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$path",75],";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_STRING","null",78],["T_WHITESPACE"," ",78],["T_IS_NOT_IDENTICAL","!==",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","sslPackage",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_AND","&&",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getContext",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","isSecure",78],"(",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","sslPackage",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getUrl",79],"(",["T_VARIABLE","$path",79],")",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$url",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getVersionStrategy",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","applyVersion",82],"(",["T_VARIABLE","$path",82],")",";",["T_WHITESPACE","\n\n        ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$url",84],["T_WHITESPACE"," ",84],["T_BOOLEAN_AND","&&",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'\/'",84],["T_WHITESPACE"," ",84],["T_IS_NOT_EQUAL","!=",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$url",84],"[",["T_LNUMBER","0",84],"]",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$url",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'\/'",85],".",["T_VARIABLE","$url",85],";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getBaseUrl",88],"(",["T_VARIABLE","$path",88],")",".",["T_VARIABLE","$url",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Returns the base URL for a path.\n     *\n     * @param string $path\n     *\n     * @return string The base URL\n     *\/",91],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getBaseUrl",98],"(",["T_VARIABLE","$path",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_LNUMBER","1",100],["T_WHITESPACE"," ",100],["T_IS_IDENTICAL","===",100],["T_WHITESPACE"," ",100],["T_STRING","count",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","baseUrls",100],")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","baseUrls",101],"[",["T_LNUMBER","0",101],"]",";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n\n        ",102],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","baseUrls",104],"[",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","chooseBaseUrl",104],"(",["T_VARIABLE","$path",104],")","]",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Determines which base URL to use for the given path.\n     *\n     * Override this method to change the default distribution strategy.\n     * This method should always return the same base URL index for a given path.\n     *\n     * @param string $path\n     *\n     * @return int The base URL index for the given path\n     *\/",107],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","chooseBaseUrl",117],"(",["T_VARIABLE","$path",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_INT_CAST","(int)",119],["T_WHITESPACE"," ",119],["T_STRING","fmod",119],"(",["T_STRING","hexdec",119],"(",["T_STRING","substr",119],"(",["T_STRING","hash",119],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$path",119],")",",",["T_WHITESPACE"," ",119],["T_LNUMBER","0",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","10",119],")",")",",",["T_WHITESPACE"," ",119],["T_STRING","count",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","baseUrls",119],")",")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_PRIVATE","private",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","getSslUrls",122],"(",["T_VARIABLE","$urls",122],")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$sslUrls",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_FOREACH","foreach",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$urls",125],["T_WHITESPACE"," ",125],["T_AS","as",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$url",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",126],["T_WHITESPACE"," ",126],["T_IS_IDENTICAL","===",126],["T_WHITESPACE"," ",126],["T_STRING","substr",126],"(",["T_VARIABLE","$url",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","0",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","8",126],")",["T_WHITESPACE"," ",126],["T_BOOLEAN_OR","||",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'\/\/'",126],["T_WHITESPACE"," ",126],["T_IS_IDENTICAL","===",126],["T_WHITESPACE"," ",126],["T_STRING","substr",126],"(",["T_VARIABLE","$url",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","0",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","2",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$sslUrls",127],"[","]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$url",127],";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE"," ",128],["T_ELSEIF","elseif",128],["T_WHITESPACE"," ",128],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",128],["T_WHITESPACE"," ",128],["T_IS_NOT_IDENTICAL","!==",128],["T_WHITESPACE"," ",128],["T_STRING","substr",128],"(",["T_VARIABLE","$url",128],",",["T_WHITESPACE"," ",128],["T_LNUMBER","0",128],",",["T_WHITESPACE"," ",128],["T_LNUMBER","7",128],")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                ",128],["T_THROW","throw",129],["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","InvalidArgumentException",129],"(",["T_STRING","sprintf",129],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\" is not a valid URL'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$url",129],")",")",";",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$sslUrls",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n",134],"}",["T_WHITESPACE","\n",135]]