[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Serializer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Encoder",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Serializer",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","UnexpectedValueException",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Encodes XML data.\n *\n * @author Jordi Boggiano <j.boggiano@seld.be>\n * @author John Wards <jwards@whiteoctober.co.uk>\n * @author Fabian Vogler <fabian@equivalence.ch>\n * @author K\u00c3\u00a9vin Dunglas <dunglas@gmail.com>\n *\/",16],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","XmlEncoder",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_STRING","SerializerAwareEncoder",24],["T_WHITESPACE"," ",24],["T_IMPLEMENTS","implements",24],["T_WHITESPACE"," ",24],["T_STRING","EncoderInterface",24],",",["T_WHITESPACE"," ",24],["T_STRING","DecoderInterface",24],",",["T_WHITESPACE"," ",24],["T_STRING","NormalizationAwareInterface",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\DOMDocument\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$dom",29],";",["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$format",30],";",["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$context",31],";",["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$rootNodeName",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'response'",32],";",["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$loadOptions",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Construct new XmlEncoder and allow to change the root node element name.\n     *\n     * @param string   $rootNodeName\n     * @param int|null $loadOptions  A bit field of LIBXML_* constants\n     *\/",35],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","__construct",41],"(",["T_VARIABLE","$rootNodeName",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'response'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$loadOptions",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","null",41],")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","rootNodeName",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$rootNodeName",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","loadOptions",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","null",44],["T_WHITESPACE"," ",44],["T_IS_NOT_IDENTICAL","!==",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$loadOptions",44],["T_WHITESPACE"," ",44],"?",["T_WHITESPACE"," ",44],["T_VARIABLE","$loadOptions",44],["T_WHITESPACE"," ",44],":",["T_WHITESPACE"," ",44],["T_STRING","LIBXML_NONET",44],["T_WHITESPACE"," ",44],"|",["T_WHITESPACE"," ",44],["T_STRING","LIBXML_NOBLANKS",44],";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","encode",50],"(",["T_VARIABLE","$data",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$format",50],",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$context",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$data",52],["T_WHITESPACE"," ",52],["T_INSTANCEOF","instanceof",52],["T_WHITESPACE"," ",52],["T_NS_SEPARATOR","\\",52],["T_STRING","DOMDocument",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$data",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","saveXML",53],"(",")",";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n\n        ",54],["T_VARIABLE","$xmlRootNodeName",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","resolveXmlRootName",56],"(",["T_VARIABLE","$context",56],")",";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","dom",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","createDomDocument",58],"(",["T_VARIABLE","$context",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","format",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$format",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","context",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$context",60],";",["T_WHITESPACE","\n\n        ",60],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_STRING","null",62],["T_WHITESPACE"," ",62],["T_IS_NOT_IDENTICAL","!==",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$data",62],["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],"!",["T_STRING","is_scalar",62],"(",["T_VARIABLE","$data",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$root",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","dom",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","createElement",63],"(",["T_VARIABLE","$xmlRootNodeName",63],")",";",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","dom",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","appendChild",64],"(",["T_VARIABLE","$root",64],")",";",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","buildXml",65],"(",["T_VARIABLE","$root",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$data",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$xmlRootNodeName",65],")",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE"," ",66],["T_ELSE","else",66],["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","appendNode",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","dom",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$data",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$xmlRootNodeName",67],")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n\n        ",68],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","dom",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","saveXML",70],"(",")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","decode",76],"(",["T_VARIABLE","$data",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$format",76],",",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$context",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",")",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_CONSTANT_ENCAPSED_STRING","''",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","trim",78],"(",["T_VARIABLE","$data",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_THROW","throw",79],["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","UnexpectedValueException",79],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid XML data, it can not be empty.'",79],")",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$internalErrors",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","libxml_use_internal_errors",82],"(",["T_STRING","true",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$disableEntities",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","libxml_disable_entity_loader",83],"(",["T_STRING","true",83],")",";",["T_WHITESPACE","\n        ",83],["T_STRING","libxml_clear_errors",84],"(",")",";",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$dom",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","DOMDocument",86],"(",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$dom",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","loadXML",87],"(",["T_VARIABLE","$data",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","loadOptions",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_STRING","libxml_use_internal_errors",89],"(",["T_VARIABLE","$internalErrors",89],")",";",["T_WHITESPACE","\n        ",89],["T_STRING","libxml_disable_entity_loader",90],"(",["T_VARIABLE","$disableEntities",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$error",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","libxml_get_last_error",92],"(",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_STRING","libxml_clear_errors",93],"(",")",";",["T_WHITESPACE","\n\n            ",93],["T_THROW","throw",95],["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","UnexpectedValueException",95],"(",["T_VARIABLE","$error",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","message",95],")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_FOREACH","foreach",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$dom",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","childNodes",98],["T_WHITESPACE"," ",98],["T_AS","as",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$child",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$child",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","nodeType",99],["T_WHITESPACE"," ",99],["T_IS_IDENTICAL","===",99],["T_WHITESPACE"," ",99],["T_STRING","XML_DOCUMENT_TYPE_NODE",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_THROW","throw",100],["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","UnexpectedValueException",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Document types are not allowed.'",100],")",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$rootNode",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$dom",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","firstChild",104],";",["T_WHITESPACE","\n\n        ",104],["T_COMMENT","\/\/ todo: throw an exception if the root node name is not correctly configured (bc)\n",106],["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$rootNode",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","hasChildNodes",108],"(",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$xpath",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_NS_SEPARATOR","\\",109],["T_STRING","DOMXPath",109],"(",["T_VARIABLE","$dom",109],")",";",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$data",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",")",";",["T_WHITESPACE","\n            ",110],["T_FOREACH","foreach",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$xpath",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","query",111],"(",["T_CONSTANT_ENCAPSED_STRING","'namespace::*'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$dom",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","documentElement",111],")",["T_WHITESPACE"," ",111],["T_AS","as",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$nsNode",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$data",112],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",112],".",["T_VARIABLE","$nsNode",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","nodeName",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$nsNode",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","nodeValue",112],";",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n\n            ",113],["T_UNSET","unset",115],"(",["T_VARIABLE","$data",115],"[",["T_CONSTANT_ENCAPSED_STRING","'@xmlns:xml'",115],"]",")",";",["T_WHITESPACE","\n\n            ",115],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_EMPTY","empty",117],"(",["T_VARIABLE","$data",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","parseXml",118],"(",["T_VARIABLE","$rootNode",118],")",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n\n            ",119],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_STRING","array_merge",121],"(",["T_VARIABLE","$data",121],",",["T_WHITESPACE"," ",121],["T_ARRAY_CAST","(array)",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","parseXml",121],"(",["T_VARIABLE","$rootNode",121],")",")",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n        ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_VARIABLE","$rootNode",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","hasAttributes",124],"(",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$rootNode",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","nodeValue",125],";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$data",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",")",";",["T_WHITESPACE","\n\n        ",128],["T_FOREACH","foreach",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$rootNode",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","attributes",130],["T_WHITESPACE"," ",130],["T_AS","as",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$attrKey",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$attr",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$data",131],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",131],".",["T_VARIABLE","$attrKey",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$attr",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","nodeValue",131],";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$data",134],"[",["T_CONSTANT_ENCAPSED_STRING","'#'",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$rootNode",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","nodeValue",134],";",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$data",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",139],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","supportsEncoding",142],"(",["T_VARIABLE","$format",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'xml'",144],["T_WHITESPACE"," ",144],["T_IS_IDENTICAL","===",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$format",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",147],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","supportsDecoding",150],"(",["T_VARIABLE","$format",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'xml'",152],["T_WHITESPACE"," ",152],["T_IS_IDENTICAL","===",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$format",152],";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Sets the root node name.\n     *\n     * @param string $name root node name\n     *\/",155],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","setRootNodeName",160],"(",["T_VARIABLE","$name",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","rootNodeName",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$name",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Returns the root node name.\n     *\n     * @return string\n     *\/",165],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","getRootNodeName",170],"(",")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","rootNodeName",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * @param \\DOMNode $node\n     * @param string   $val\n     *\n     * @return bool\n     *\/",175],["T_WHITESPACE","\n    ",180],["T_FINAL","final",181],["T_WHITESPACE"," ",181],["T_PROTECTED","protected",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","appendXMLString",181],"(",["T_NS_SEPARATOR","\\",181],["T_STRING","DOMNode",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$node",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$val",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_STRING","strlen",183],"(",["T_VARIABLE","$val",183],")",["T_WHITESPACE"," ",183],">",["T_WHITESPACE"," ",183],["T_LNUMBER","0",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$frag",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","dom",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","createDocumentFragment",184],"(",")",";",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$frag",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","appendXML",185],"(",["T_VARIABLE","$val",185],")",";",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$node",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","appendChild",186],"(",["T_VARIABLE","$frag",186],")",";",["T_WHITESPACE","\n\n            ",186],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_STRING","true",188],";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n\n        ",189],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_STRING","false",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * @param \\DOMNode $node\n     * @param string   $val\n     *\n     * @return bool\n     *\/",194],["T_WHITESPACE","\n    ",199],["T_FINAL","final",200],["T_WHITESPACE"," ",200],["T_PROTECTED","protected",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","appendText",200],"(",["T_NS_SEPARATOR","\\",200],["T_STRING","DOMNode",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$node",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$val",200],")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$nodeText",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","dom",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","createTextNode",202],"(",["T_VARIABLE","$val",202],")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$node",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","appendChild",203],"(",["T_VARIABLE","$nodeText",203],")",";",["T_WHITESPACE","\n\n        ",203],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_STRING","true",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * @param \\DOMNode $node\n     * @param string   $val\n     *\n     * @return bool\n     *\/",208],["T_WHITESPACE","\n    ",213],["T_FINAL","final",214],["T_WHITESPACE"," ",214],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","appendCData",214],"(",["T_NS_SEPARATOR","\\",214],["T_STRING","DOMNode",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$node",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$val",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$nodeText",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","dom",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","createCDATASection",216],"(",["T_VARIABLE","$val",216],")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$node",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","appendChild",217],"(",["T_VARIABLE","$nodeText",217],")",";",["T_WHITESPACE","\n\n        ",217],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_STRING","true",219],";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * @param \\DOMNode             $node\n     * @param \\DOMDocumentFragment $fragment\n     *\n     * @return bool\n     *\/",222],["T_WHITESPACE","\n    ",227],["T_FINAL","final",228],["T_WHITESPACE"," ",228],["T_PROTECTED","protected",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","appendDocumentFragment",228],"(",["T_NS_SEPARATOR","\\",228],["T_STRING","DOMNode",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$node",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$fragment",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$fragment",230],["T_WHITESPACE"," ",230],["T_INSTANCEOF","instanceof",230],["T_WHITESPACE"," ",230],["T_NS_SEPARATOR","\\",230],["T_STRING","DOMDocumentFragment",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$node",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","appendChild",231],"(",["T_VARIABLE","$fragment",231],")",";",["T_WHITESPACE","\n\n            ",231],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_STRING","true",233],";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_STRING","false",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Checks the name is a valid xml element name.\n     *\n     * @param string $name\n     *\n     * @return bool\n     *\/",239],["T_WHITESPACE","\n    ",245],["T_FINAL","final",246],["T_WHITESPACE"," ",246],["T_PROTECTED","protected",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","isElementNameValid",246],"(",["T_VARIABLE","$name",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$name",248],["T_WHITESPACE"," ",248],["T_BOOLEAN_AND","&&",248],["T_WHITESPACE","\n            ",248],["T_STRING","false",249],["T_WHITESPACE"," ",249],["T_IS_IDENTICAL","===",249],["T_WHITESPACE"," ",249],["T_STRING","strpos",249],"(",["T_VARIABLE","$name",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","' '",249],")",["T_WHITESPACE"," ",249],["T_BOOLEAN_AND","&&",249],["T_WHITESPACE","\n            ",249],["T_STRING","preg_match",250],"(",["T_CONSTANT_ENCAPSED_STRING","'#^[\\pL_][\\pL0-9._:-]*$#ui'",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$name",250],")",";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Parse the input DOMNode into an array or a string.\n     *\n     * @param \\DOMNode $node xml to parse\n     *\n     * @return array|string\n     *\/",253],["T_WHITESPACE","\n    ",259],["T_PRIVATE","private",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","parseXml",260],"(",["T_NS_SEPARATOR","\\",260],["T_STRING","DOMNode",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$node",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$data",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","parseXmlAttributes",262],"(",["T_VARIABLE","$node",262],")",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$value",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","parseXmlValue",264],"(",["T_VARIABLE","$node",264],")",";",["T_WHITESPACE","\n\n        ",264],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_STRING","count",266],"(",["T_VARIABLE","$data",266],")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$value",267],";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n\n        ",268],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_STRING","is_array",270],"(",["T_VARIABLE","$value",270],")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$data",271],"[",["T_CONSTANT_ENCAPSED_STRING","'#'",271],"]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$value",271],";",["T_WHITESPACE","\n\n            ",271],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$data",273],";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n\n        ",274],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_LNUMBER","1",276],["T_WHITESPACE"," ",276],["T_IS_IDENTICAL","===",276],["T_WHITESPACE"," ",276],["T_STRING","count",276],"(",["T_VARIABLE","$value",276],")",["T_WHITESPACE"," ",276],["T_BOOLEAN_AND","&&",276],["T_WHITESPACE"," ",276],["T_STRING","key",276],"(",["T_VARIABLE","$value",276],")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$data",277],"[",["T_STRING","key",277],"(",["T_VARIABLE","$value",277],")","]",["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","current",277],"(",["T_VARIABLE","$value",277],")",";",["T_WHITESPACE","\n\n            ",277],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$data",279],";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n\n        ",280],["T_FOREACH","foreach",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$value",282],["T_WHITESPACE"," ",282],["T_AS","as",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$key",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$val",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$data",283],"[",["T_VARIABLE","$key",283],"]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$val",283],";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n\n        ",284],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$data",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Parse the input DOMNode attributes into an array.\n     *\n     * @param \\DOMNode $node xml to parse\n     *\n     * @return array\n     *\/",289],["T_WHITESPACE","\n    ",295],["T_PRIVATE","private",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","parseXmlAttributes",296],"(",["T_NS_SEPARATOR","\\",296],["T_STRING","DOMNode",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$node",296],")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(","!",["T_VARIABLE","$node",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","hasAttributes",298],"(",")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_ARRAY","array",299],"(",")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$data",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_ARRAY","array",302],"(",")",";",["T_WHITESPACE","\n\n        ",302],["T_FOREACH","foreach",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$node",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","attributes",304],["T_WHITESPACE"," ",304],["T_AS","as",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$attr",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_IF","if",305],["T_WHITESPACE"," ",305],"(",["T_STRING","ctype_digit",305],"(",["T_VARIABLE","$attr",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","nodeValue",305],")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n                ",305],["T_VARIABLE","$data",306],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",306],".",["T_VARIABLE","$attr",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","nodeName",306],"]",["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_INT_CAST","(int)",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$attr",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","nodeValue",306],";",["T_WHITESPACE","\n            ",306],"}",["T_WHITESPACE"," ",307],["T_ELSE","else",307],["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n                ",307],["T_VARIABLE","$data",308],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",308],".",["T_VARIABLE","$attr",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","nodeName",308],"]",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$attr",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","nodeValue",308],";",["T_WHITESPACE","\n            ",308],"}",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n\n        ",310],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$data",312],";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_DOC_COMMENT","\/**\n     * Parse the input DOMNode value (content and children) into an array or a string.\n     *\n     * @param \\DOMNode $node xml to parse\n     *\n     * @return array|string\n     *\/",315],["T_WHITESPACE","\n    ",321],["T_PRIVATE","private",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","parseXmlValue",322],"(",["T_NS_SEPARATOR","\\",322],["T_STRING","DOMNode",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$node",322],")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_VARIABLE","$node",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","hasChildNodes",324],"(",")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$node",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","nodeValue",325],";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_LNUMBER","1",328],["T_WHITESPACE"," ",328],["T_IS_IDENTICAL","===",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$node",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","childNodes",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","length",328],["T_WHITESPACE"," ",328],["T_BOOLEAN_AND","&&",328],["T_WHITESPACE"," ",328],["T_STRING","in_array",328],"(",["T_VARIABLE","$node",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","firstChild",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","nodeType",328],",",["T_WHITESPACE"," ",328],["T_ARRAY","array",328],"(",["T_STRING","XML_TEXT_NODE",328],",",["T_WHITESPACE"," ",328],["T_STRING","XML_CDATA_SECTION_NODE",328],")",")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$node",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","firstChild",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","nodeValue",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$value",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],"(",")",";",["T_WHITESPACE","\n\n        ",332],["T_FOREACH","foreach",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$node",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","childNodes",334],["T_WHITESPACE"," ",334],["T_AS","as",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$subnode",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$val",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","parseXml",335],"(",["T_VARIABLE","$subnode",335],")",";",["T_WHITESPACE","\n\n            ",335],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",337],["T_WHITESPACE"," ",337],["T_IS_IDENTICAL","===",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$subnode",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","nodeName",337],["T_WHITESPACE"," ",337],["T_BOOLEAN_AND","&&",337],["T_WHITESPACE"," ",337],["T_ISSET","isset",337],"(",["T_VARIABLE","$val",337],"[",["T_CONSTANT_ENCAPSED_STRING","'@key'",337],"]",")",")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n                ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_ISSET","isset",338],"(",["T_VARIABLE","$val",338],"[",["T_CONSTANT_ENCAPSED_STRING","'#'",338],"]",")",")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                    ",338],["T_VARIABLE","$value",339],"[",["T_VARIABLE","$val",339],"[",["T_CONSTANT_ENCAPSED_STRING","'@key'",339],"]","]",["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$val",339],"[",["T_CONSTANT_ENCAPSED_STRING","'#'",339],"]",";",["T_WHITESPACE","\n                ",339],"}",["T_WHITESPACE"," ",340],["T_ELSE","else",340],["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                    ",340],["T_VARIABLE","$value",341],"[",["T_VARIABLE","$val",341],"[",["T_CONSTANT_ENCAPSED_STRING","'@key'",341],"]","]",["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$val",341],";",["T_WHITESPACE","\n                ",341],"}",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE"," ",343],["T_ELSE","else",343],["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$value",344],"[",["T_VARIABLE","$subnode",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","nodeName",344],"]","[","]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$val",344],";",["T_WHITESPACE","\n            ",344],"}",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n\n        ",346],["T_FOREACH","foreach",348],["T_WHITESPACE"," ",348],"(",["T_VARIABLE","$value",348],["T_WHITESPACE"," ",348],["T_AS","as",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$key",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$val",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_STRING","is_array",349],"(",["T_VARIABLE","$val",349],")",["T_WHITESPACE"," ",349],["T_BOOLEAN_AND","&&",349],["T_WHITESPACE"," ",349],["T_LNUMBER","1",349],["T_WHITESPACE"," ",349],["T_IS_IDENTICAL","===",349],["T_WHITESPACE"," ",349],["T_STRING","count",349],"(",["T_VARIABLE","$val",349],")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$value",350],"[",["T_VARIABLE","$key",350],"]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","current",350],"(",["T_VARIABLE","$val",350],")",";",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n\n        ",352],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$value",354],";",["T_WHITESPACE","\n    ",354],"}",["T_WHITESPACE","\n\n    ",355],["T_DOC_COMMENT","\/**\n     * Parse the data and convert it to DOMElements.\n     *\n     * @param \\DOMNode     $parentNode\n     * @param array|object $data\n     * @param string|null  $xmlRootNodeName\n     *\n     * @return bool\n     *\n     * @throws UnexpectedValueException\n     *\/",357],["T_WHITESPACE","\n    ",367],["T_PRIVATE","private",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","buildXml",368],"(",["T_NS_SEPARATOR","\\",368],["T_STRING","DOMNode",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$parentNode",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$data",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$xmlRootNodeName",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_STRING","null",368],")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$append",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","true",370],";",["T_WHITESPACE","\n\n        ",370],["T_IF","if",372],["T_WHITESPACE"," ",372],"(",["T_STRING","is_array",372],"(",["T_VARIABLE","$data",372],")",["T_WHITESPACE"," ",372],["T_BOOLEAN_OR","||",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$data",372],["T_WHITESPACE"," ",372],["T_INSTANCEOF","instanceof",372],["T_WHITESPACE"," ",372],["T_NS_SEPARATOR","\\",372],["T_STRING","Traversable",372],["T_WHITESPACE"," ",372],["T_BOOLEAN_AND","&&",372],["T_WHITESPACE"," ",372],"!",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","serializer",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","supportsNormalization",372],"(",["T_VARIABLE","$data",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","format",372],")",")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_FOREACH","foreach",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$data",373],["T_WHITESPACE"," ",373],["T_AS","as",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$key",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$data",373],")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n                ",373],["T_COMMENT","\/\/Ah this is the magic @ attribute types.\n",374],["T_WHITESPACE","                ",375],["T_IF","if",375],["T_WHITESPACE"," ",375],"(",["T_LNUMBER","0",375],["T_WHITESPACE"," ",375],["T_IS_IDENTICAL","===",375],["T_WHITESPACE"," ",375],["T_STRING","strpos",375],"(",["T_VARIABLE","$key",375],",",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'@'",375],")",["T_WHITESPACE"," ",375],["T_BOOLEAN_AND","&&",375],["T_WHITESPACE"," ",375],["T_STRING","is_scalar",375],"(",["T_VARIABLE","$data",375],")",["T_WHITESPACE"," ",375],["T_BOOLEAN_AND","&&",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","isElementNameValid",375],"(",["T_VARIABLE","$attributeName",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","substr",375],"(",["T_VARIABLE","$key",375],",",["T_WHITESPACE"," ",375],["T_LNUMBER","1",375],")",")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n                    ",375],["T_VARIABLE","$parentNode",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","setAttribute",376],"(",["T_VARIABLE","$attributeName",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$data",376],")",";",["T_WHITESPACE","\n                ",376],"}",["T_WHITESPACE"," ",377],["T_ELSEIF","elseif",377],["T_WHITESPACE"," ",377],"(",["T_VARIABLE","$key",377],["T_WHITESPACE"," ",377],["T_IS_IDENTICAL","===",377],["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'#'",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n                    ",377],["T_VARIABLE","$append",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","selectNodeType",378],"(",["T_VARIABLE","$parentNode",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$data",378],")",";",["T_WHITESPACE","\n                ",378],"}",["T_WHITESPACE"," ",379],["T_ELSEIF","elseif",379],["T_WHITESPACE"," ",379],"(",["T_STRING","is_array",379],"(",["T_VARIABLE","$data",379],")",["T_WHITESPACE"," ",379],["T_BOOLEAN_AND","&&",379],["T_WHITESPACE"," ",379],["T_STRING","false",379],["T_WHITESPACE"," ",379],["T_IS_IDENTICAL","===",379],["T_WHITESPACE"," ",379],["T_STRING","is_numeric",379],"(",["T_VARIABLE","$key",379],")",")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n                    ",379],["T_COMMENT","\/\/ Is this array fully numeric keys?\n",380],["T_WHITESPACE","                    ",381],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_STRING","ctype_digit",381],"(",["T_STRING","implode",381],"(",["T_CONSTANT_ENCAPSED_STRING","''",381],",",["T_WHITESPACE"," ",381],["T_STRING","array_keys",381],"(",["T_VARIABLE","$data",381],")",")",")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                        ",381],["T_COMMENT","\/*\n                         * Create nodes to append to $parentNode based on the $key of this array\n                         * Produces <xml><item>0<\/item><item>1<\/item><\/xml>\n                         * From array(\"item\" => array(0,1));.\n                         *\/",382],["T_WHITESPACE","\n                        ",386],["T_FOREACH","foreach",387],["T_WHITESPACE"," ",387],"(",["T_VARIABLE","$data",387],["T_WHITESPACE"," ",387],["T_AS","as",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$subData",387],")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n                            ",387],["T_VARIABLE","$append",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","appendNode",388],"(",["T_VARIABLE","$parentNode",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$subData",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$key",388],")",";",["T_WHITESPACE","\n                        ",388],"}",["T_WHITESPACE","\n                    ",389],"}",["T_WHITESPACE"," ",390],["T_ELSE","else",390],["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n                        ",390],["T_VARIABLE","$append",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","appendNode",391],"(",["T_VARIABLE","$parentNode",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$data",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$key",391],")",";",["T_WHITESPACE","\n                    ",391],"}",["T_WHITESPACE","\n                ",392],"}",["T_WHITESPACE"," ",393],["T_ELSEIF","elseif",393],["T_WHITESPACE"," ",393],"(",["T_STRING","is_numeric",393],"(",["T_VARIABLE","$key",393],")",["T_WHITESPACE"," ",393],["T_BOOLEAN_OR","||",393],["T_WHITESPACE"," ",393],"!",["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","isElementNameValid",393],"(",["T_VARIABLE","$key",393],")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n                    ",393],["T_VARIABLE","$append",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","appendNode",394],"(",["T_VARIABLE","$parentNode",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$data",394],",",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'item'",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$key",394],")",";",["T_WHITESPACE","\n                ",394],"}",["T_WHITESPACE"," ",395],["T_ELSEIF","elseif",395],["T_WHITESPACE"," ",395],"(",["T_STRING","null",395],["T_WHITESPACE"," ",395],["T_IS_NOT_IDENTICAL","!==",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$data",395],["T_WHITESPACE"," ",395],["T_BOOLEAN_OR","||",395],["T_WHITESPACE"," ",395],"!",["T_ISSET","isset",395],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","context",395],"[",["T_CONSTANT_ENCAPSED_STRING","'remove_empty_tags'",395],"]",")",["T_WHITESPACE"," ",395],["T_BOOLEAN_OR","||",395],["T_WHITESPACE"," ",395],["T_STRING","false",395],["T_WHITESPACE"," ",395],["T_IS_IDENTICAL","===",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","context",395],"[",["T_CONSTANT_ENCAPSED_STRING","'remove_empty_tags'",395],"]",")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n                    ",395],["T_VARIABLE","$append",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","appendNode",396],"(",["T_VARIABLE","$parentNode",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$data",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$key",396],")",";",["T_WHITESPACE","\n                ",396],"}",["T_WHITESPACE","\n            ",397],"}",["T_WHITESPACE","\n\n            ",398],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$append",400],";",["T_WHITESPACE","\n        ",400],"}",["T_WHITESPACE","\n\n        ",401],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_STRING","is_object",403],"(",["T_VARIABLE","$data",403],")",")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_VARIABLE","$data",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","serializer",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","normalize",404],"(",["T_VARIABLE","$data",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","format",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","context",404],")",";",["T_WHITESPACE","\n            ",404],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_STRING","null",405],["T_WHITESPACE"," ",405],["T_IS_NOT_IDENTICAL","!==",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$data",405],["T_WHITESPACE"," ",405],["T_BOOLEAN_AND","&&",405],["T_WHITESPACE"," ",405],"!",["T_STRING","is_scalar",405],"(",["T_VARIABLE","$data",405],")",")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n                ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","buildXml",406],"(",["T_VARIABLE","$parentNode",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$data",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$xmlRootNodeName",406],")",";",["T_WHITESPACE","\n            ",406],"}",["T_WHITESPACE","\n\n            ",407],["T_COMMENT","\/\/ top level data object was normalized into a scalar\n",409],["T_WHITESPACE","            ",410],["T_IF","if",410],["T_WHITESPACE"," ",410],"(","!",["T_VARIABLE","$parentNode",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","parentNode",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","parentNode",410],")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n                ",410],["T_VARIABLE","$root",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$parentNode",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","parentNode",411],";",["T_WHITESPACE","\n                ",411],["T_VARIABLE","$root",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","removeChild",412],"(",["T_VARIABLE","$parentNode",412],")",";",["T_WHITESPACE","\n\n                ",412],["T_RETURN","return",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","appendNode",414],"(",["T_VARIABLE","$root",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$data",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$xmlRootNodeName",414],")",";",["T_WHITESPACE","\n            ",414],"}",["T_WHITESPACE","\n\n            ",415],["T_RETURN","return",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","appendNode",417],"(",["T_VARIABLE","$parentNode",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$data",417],",",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'data'",417],")",";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n\n        ",418],["T_THROW","throw",420],["T_WHITESPACE"," ",420],["T_NEW","new",420],["T_WHITESPACE"," ",420],["T_STRING","UnexpectedValueException",420],"(",["T_STRING","sprintf",420],"(",["T_CONSTANT_ENCAPSED_STRING","'An unexpected value could not be serialized: %s'",420],",",["T_WHITESPACE"," ",420],["T_STRING","var_export",420],"(",["T_VARIABLE","$data",420],",",["T_WHITESPACE"," ",420],["T_STRING","true",420],")",")",")",";",["T_WHITESPACE","\n    ",420],"}",["T_WHITESPACE","\n\n    ",421],["T_DOC_COMMENT","\/**\n     * Selects the type of node to create and appends it to the parent.\n     *\n     * @param \\DOMNode     $parentNode\n     * @param array|object $data\n     * @param string       $nodeName\n     * @param string       $key\n     *\n     * @return bool\n     *\/",423],["T_WHITESPACE","\n    ",432],["T_PRIVATE","private",433],["T_WHITESPACE"," ",433],["T_FUNCTION","function",433],["T_WHITESPACE"," ",433],["T_STRING","appendNode",433],"(",["T_NS_SEPARATOR","\\",433],["T_STRING","DOMNode",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$parentNode",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$data",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$nodeName",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$key",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_STRING","null",433],")",["T_WHITESPACE","\n    ",433],"{",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$node",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","dom",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","createElement",435],"(",["T_VARIABLE","$nodeName",435],")",";",["T_WHITESPACE","\n        ",435],["T_IF","if",436],["T_WHITESPACE"," ",436],"(",["T_STRING","null",436],["T_WHITESPACE"," ",436],["T_IS_NOT_IDENTICAL","!==",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$key",436],")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$node",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","setAttribute",437],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$key",437],")",";",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$appendNode",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","selectNodeType",439],"(",["T_VARIABLE","$node",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$data",439],")",";",["T_WHITESPACE","\n        ",439],["T_COMMENT","\/\/ we may have decided not to append this node, either in error or if its $nodeName is not valid\n",440],["T_WHITESPACE","        ",441],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$appendNode",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$parentNode",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","appendChild",442],"(",["T_VARIABLE","$node",442],")",";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE","\n\n        ",443],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$appendNode",445],";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n\n    ",446],["T_DOC_COMMENT","\/**\n     * Checks if a value contains any characters which would require CDATA wrapping.\n     *\n     * @param string $val\n     *\n     * @return bool\n     *\/",448],["T_WHITESPACE","\n    ",454],["T_PRIVATE","private",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","needsCdataWrapping",455],"(",["T_VARIABLE","$val",455],")",["T_WHITESPACE","\n    ",455],"{",["T_WHITESPACE","\n        ",456],["T_RETURN","return",457],["T_WHITESPACE"," ",457],["T_STRING","preg_match",457],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[<>&]\/'",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$val",457],")",";",["T_WHITESPACE","\n    ",457],"}",["T_WHITESPACE","\n\n    ",458],["T_DOC_COMMENT","\/**\n     * Tests the value being passed and decide what sort of element to create.\n     *\n     * @param \\DOMNode $node\n     * @param mixed    $val\n     *\n     * @return bool\n     *\n     * @throws UnexpectedValueException\n     *\/",460],["T_WHITESPACE","\n    ",469],["T_PRIVATE","private",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","selectNodeType",470],"(",["T_NS_SEPARATOR","\\",470],["T_STRING","DOMNode",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$node",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$val",470],")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_IF","if",472],["T_WHITESPACE"," ",472],"(",["T_STRING","is_array",472],"(",["T_VARIABLE","$val",472],")",")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n            ",472],["T_RETURN","return",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","buildXml",473],"(",["T_VARIABLE","$node",473],",",["T_WHITESPACE"," ",473],["T_VARIABLE","$val",473],")",";",["T_WHITESPACE","\n        ",473],"}",["T_WHITESPACE"," ",474],["T_ELSEIF","elseif",474],["T_WHITESPACE"," ",474],"(",["T_VARIABLE","$val",474],["T_WHITESPACE"," ",474],["T_INSTANCEOF","instanceof",474],["T_WHITESPACE"," ",474],["T_NS_SEPARATOR","\\",474],["T_STRING","SimpleXMLElement",474],")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$child",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","dom",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","importNode",475],"(",["T_STRING","dom_import_simplexml",475],"(",["T_VARIABLE","$val",475],")",",",["T_WHITESPACE"," ",475],["T_STRING","true",475],")",";",["T_WHITESPACE","\n            ",475],["T_VARIABLE","$node",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","appendChild",476],"(",["T_VARIABLE","$child",476],")",";",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE"," ",477],["T_ELSEIF","elseif",477],["T_WHITESPACE"," ",477],"(",["T_VARIABLE","$val",477],["T_WHITESPACE"," ",477],["T_INSTANCEOF","instanceof",477],["T_WHITESPACE"," ",477],["T_NS_SEPARATOR","\\",477],["T_STRING","Traversable",477],")",["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n            ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","buildXml",478],"(",["T_VARIABLE","$node",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$val",478],")",";",["T_WHITESPACE","\n        ",478],"}",["T_WHITESPACE"," ",479],["T_ELSEIF","elseif",479],["T_WHITESPACE"," ",479],"(",["T_STRING","is_object",479],"(",["T_VARIABLE","$val",479],")",")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n            ",479],["T_RETURN","return",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","buildXml",480],"(",["T_VARIABLE","$node",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","serializer",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","normalize",480],"(",["T_VARIABLE","$val",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","format",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","context",480],")",")",";",["T_WHITESPACE","\n        ",480],"}",["T_WHITESPACE"," ",481],["T_ELSEIF","elseif",481],["T_WHITESPACE"," ",481],"(",["T_STRING","is_numeric",481],"(",["T_VARIABLE","$val",481],")",")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n            ",481],["T_RETURN","return",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","appendText",482],"(",["T_VARIABLE","$node",482],",",["T_WHITESPACE"," ",482],["T_STRING_CAST","(string)",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$val",482],")",";",["T_WHITESPACE","\n        ",482],"}",["T_WHITESPACE"," ",483],["T_ELSEIF","elseif",483],["T_WHITESPACE"," ",483],"(",["T_STRING","is_string",483],"(",["T_VARIABLE","$val",483],")",["T_WHITESPACE"," ",483],["T_BOOLEAN_AND","&&",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","needsCdataWrapping",483],"(",["T_VARIABLE","$val",483],")",")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n            ",483],["T_RETURN","return",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","appendCData",484],"(",["T_VARIABLE","$node",484],",",["T_WHITESPACE"," ",484],["T_VARIABLE","$val",484],")",";",["T_WHITESPACE","\n        ",484],"}",["T_WHITESPACE"," ",485],["T_ELSEIF","elseif",485],["T_WHITESPACE"," ",485],"(",["T_STRING","is_string",485],"(",["T_VARIABLE","$val",485],")",")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n            ",485],["T_RETURN","return",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","appendText",486],"(",["T_VARIABLE","$node",486],",",["T_WHITESPACE"," ",486],["T_VARIABLE","$val",486],")",";",["T_WHITESPACE","\n        ",486],"}",["T_WHITESPACE"," ",487],["T_ELSEIF","elseif",487],["T_WHITESPACE"," ",487],"(",["T_STRING","is_bool",487],"(",["T_VARIABLE","$val",487],")",")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","appendText",488],"(",["T_VARIABLE","$node",488],",",["T_WHITESPACE"," ",488],["T_INT_CAST","(int)",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$val",488],")",";",["T_WHITESPACE","\n        ",488],"}",["T_WHITESPACE"," ",489],["T_ELSEIF","elseif",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$val",489],["T_WHITESPACE"," ",489],["T_INSTANCEOF","instanceof",489],["T_WHITESPACE"," ",489],["T_NS_SEPARATOR","\\",489],["T_STRING","DOMNode",489],")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n            ",489],["T_VARIABLE","$child",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","dom",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","importNode",490],"(",["T_VARIABLE","$val",490],",",["T_WHITESPACE"," ",490],["T_STRING","true",490],")",";",["T_WHITESPACE","\n            ",490],["T_VARIABLE","$node",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","appendChild",491],"(",["T_VARIABLE","$child",491],")",";",["T_WHITESPACE","\n        ",491],"}",["T_WHITESPACE","\n\n        ",492],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_STRING","true",494],";",["T_WHITESPACE","\n    ",494],"}",["T_WHITESPACE","\n\n    ",495],["T_DOC_COMMENT","\/**\n     * Get real XML root node name, taking serializer options into account.\n     *\n     * @param array $context\n     *\n     * @return string\n     *\/",497],["T_WHITESPACE","\n    ",503],["T_PRIVATE","private",504],["T_WHITESPACE"," ",504],["T_FUNCTION","function",504],["T_WHITESPACE"," ",504],["T_STRING","resolveXmlRootName",504],"(",["T_ARRAY","array",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$context",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_ARRAY","array",504],"(",")",")",["T_WHITESPACE","\n    ",504],"{",["T_WHITESPACE","\n        ",505],["T_RETURN","return",506],["T_WHITESPACE"," ",506],["T_ISSET","isset",506],"(",["T_VARIABLE","$context",506],"[",["T_CONSTANT_ENCAPSED_STRING","'xml_root_node_name'",506],"]",")",["T_WHITESPACE","\n            ",506],"?",["T_WHITESPACE"," ",507],["T_VARIABLE","$context",507],"[",["T_CONSTANT_ENCAPSED_STRING","'xml_root_node_name'",507],"]",["T_WHITESPACE","\n            ",507],":",["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","rootNodeName",508],";",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * Create a DOM document, taking serializer options into account.\n     *\n     * @param array $context options that the encoder has access to\n     *\n     * @return \\DOMDocument\n     *\/",511],["T_WHITESPACE","\n    ",517],["T_PRIVATE","private",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","createDomDocument",518],"(",["T_ARRAY","array",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$context",518],")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$document",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_NEW","new",520],["T_WHITESPACE"," ",520],["T_NS_SEPARATOR","\\",520],["T_STRING","DOMDocument",520],"(",")",";",["T_WHITESPACE","\n\n        ",520],["T_COMMENT","\/\/ Set an attribute on the DOM document specifying, as part of the XML declaration,\n",522],["T_WHITESPACE","        ",523],["T_VARIABLE","$xmlOptions",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_ARRAY","array",523],"(",["T_WHITESPACE","\n            ",523],["T_COMMENT","\/\/ nicely formats output with indentation and extra space\n",524],["T_WHITESPACE","            ",525],["T_CONSTANT_ENCAPSED_STRING","'xml_format_output'",525],["T_WHITESPACE"," ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","'formatOutput'",525],",",["T_WHITESPACE","\n            ",525],["T_COMMENT","\/\/ the version number of the document\n",526],["T_WHITESPACE","            ",527],["T_CONSTANT_ENCAPSED_STRING","'xml_version'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'xmlVersion'",527],",",["T_WHITESPACE","\n            ",527],["T_COMMENT","\/\/ the encoding of the document\n",528],["T_WHITESPACE","            ",529],["T_CONSTANT_ENCAPSED_STRING","'xml_encoding'",529],["T_WHITESPACE"," ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'encoding'",529],",",["T_WHITESPACE","\n            ",529],["T_COMMENT","\/\/ whether the document is standalone\n",530],["T_WHITESPACE","            ",531],["T_CONSTANT_ENCAPSED_STRING","'xml_standalone'",531],["T_WHITESPACE"," ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'xmlStandalone'",531],",",["T_WHITESPACE","\n        ",531],")",";",["T_WHITESPACE","\n        ",532],["T_FOREACH","foreach",533],["T_WHITESPACE"," ",533],"(",["T_VARIABLE","$xmlOptions",533],["T_WHITESPACE"," ",533],["T_AS","as",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$xmlOption",533],["T_WHITESPACE"," ",533],["T_DOUBLE_ARROW","=>",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$documentProperty",533],")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n            ",533],["T_IF","if",534],["T_WHITESPACE"," ",534],"(",["T_ISSET","isset",534],"(",["T_VARIABLE","$context",534],"[",["T_VARIABLE","$xmlOption",534],"]",")",")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n                ",534],["T_VARIABLE","$document",535],["T_OBJECT_OPERATOR","->",535],["T_VARIABLE","$documentProperty",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$context",535],"[",["T_VARIABLE","$xmlOption",535],"]",";",["T_WHITESPACE","\n            ",535],"}",["T_WHITESPACE","\n        ",536],"}",["T_WHITESPACE","\n\n        ",537],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$document",539],";",["T_WHITESPACE","\n    ",539],"}",["T_WHITESPACE","\n",540],"}",["T_WHITESPACE","\n",541]]