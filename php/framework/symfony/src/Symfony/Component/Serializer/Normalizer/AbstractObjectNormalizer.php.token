[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Serializer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Normalizer",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PropertyAccess",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","InvalidArgumentException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Serializer",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Encoder",15],["T_NS_SEPARATOR","\\",15],["T_STRING","JsonEncoder",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Serializer",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","CircularReferenceException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Serializer",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ExtraAttributesException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Serializer",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_NS_SEPARATOR","\\",18],["T_STRING","LogicException",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Serializer",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Exception",19],["T_NS_SEPARATOR","\\",19],["T_STRING","UnexpectedValueException",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PropertyInfo",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PropertyTypeExtractorInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","PropertyInfo",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Type",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Serializer",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Mapping",22],["T_NS_SEPARATOR","\\",22],["T_STRING","AttributeMetadataInterface",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Symfony",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Component",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Serializer",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Mapping",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Factory",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ClassMetadataFactoryInterface",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Symfony",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Component",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Serializer",24],["T_NS_SEPARATOR","\\",24],["T_STRING","NameConverter",24],["T_NS_SEPARATOR","\\",24],["T_STRING","NameConverterInterface",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Base class for a normalizer dealing with objects.\n *\n * @author K\u00c3\u00a9vin Dunglas <dunglas@gmail.com>\n *\/",26],["T_WHITESPACE","\n",30],["T_ABSTRACT","abstract",31],["T_WHITESPACE"," ",31],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","AbstractObjectNormalizer",31],["T_WHITESPACE"," ",31],["T_EXTENDS","extends",31],["T_WHITESPACE"," ",31],["T_STRING","AbstractNormalizer",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","ENABLE_MAX_DEPTH",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'enable_max_depth'",33],";",["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","DEPTH_KEY_PATTERN",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'depth_%s::%s'",34],";",["T_WHITESPACE","\n\n    ",34],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$propertyTypeExtractor",36],";",["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$attributesCache",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",")",";",["T_WHITESPACE","\n\n    ",37],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_STRING","ClassMetadataFactoryInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$classMetadataFactory",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],",",["T_WHITESPACE"," ",39],["T_STRING","NameConverterInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$nameConverter",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],",",["T_WHITESPACE"," ",39],["T_STRING","PropertyTypeExtractorInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$propertyTypeExtractor",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","__construct",41],"(",["T_VARIABLE","$classMetadataFactory",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$nameConverter",41],")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","propertyTypeExtractor",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$propertyTypeExtractor",43],";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","supportsNormalization",49],"(",["T_VARIABLE","$data",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$format",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_RETURN","return",51],["T_WHITESPACE"," ",51],["T_STRING","is_object",51],"(",["T_VARIABLE","$data",51],")",["T_WHITESPACE"," ",51],["T_BOOLEAN_AND","&&",51],["T_WHITESPACE"," ",51],"!",["T_VARIABLE","$data",51],["T_WHITESPACE"," ",51],["T_INSTANCEOF","instanceof",51],["T_WHITESPACE"," ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Traversable",51],";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @throws CircularReferenceException\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","normalize",59],"(",["T_VARIABLE","$object",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$format",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$context",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_ISSET","isset",61],"(",["T_VARIABLE","$context",61],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_key'",61],"]",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$context",62],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_key'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getCacheKey",62],"(",["T_VARIABLE","$format",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$context",62],")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","isCircularReference",65],"(",["T_VARIABLE","$object",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$context",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","handleCircularReference",66],"(",["T_VARIABLE","$object",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$data",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$stack",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$attributes",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getAttributes",71],"(",["T_VARIABLE","$object",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$format",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$context",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$class",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","get_class",72],"(",["T_VARIABLE","$object",72],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$attributesMetadata",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","classMetadataFactory",73],["T_WHITESPACE"," ",73],"?",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","classMetadataFactory",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getMetadataFor",73],"(",["T_VARIABLE","$class",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getAttributesMetadata",73],"(",")",["T_WHITESPACE"," ",73],":",["T_WHITESPACE"," ",73],["T_STRING","null",73],";",["T_WHITESPACE","\n\n        ",73],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$attributes",75],["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$attribute",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_STRING","null",76],["T_WHITESPACE"," ",76],["T_IS_NOT_IDENTICAL","!==",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$attributesMetadata",76],["T_WHITESPACE"," ",76],["T_BOOLEAN_AND","&&",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","isMaxDepthReached",76],"(",["T_VARIABLE","$attributesMetadata",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$class",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$attribute",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$context",76],")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_CONTINUE","continue",77],";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n\n            ",78],["T_VARIABLE","$attributeValue",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getAttributeValue",80],"(",["T_VARIABLE","$object",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$attribute",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$format",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$context",80],")",";",["T_WHITESPACE","\n\n            ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_ISSET","isset",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","callbacks",82],"[",["T_VARIABLE","$attribute",82],"]",")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$attributeValue",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","call_user_func",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","callbacks",83],"[",["T_VARIABLE","$attribute",83],"]",",",["T_WHITESPACE"," ",83],["T_VARIABLE","$attributeValue",83],")",";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE","\n\n            ",84],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","null",86],["T_WHITESPACE"," ",86],["T_IS_NOT_IDENTICAL","!==",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$attributeValue",86],["T_WHITESPACE"," ",86],["T_BOOLEAN_AND","&&",86],["T_WHITESPACE"," ",86],"!",["T_STRING","is_scalar",86],"(",["T_VARIABLE","$attributeValue",86],")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$stack",87],"[",["T_VARIABLE","$attribute",87],"]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$attributeValue",87],";",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE","\n\n            ",88],["T_VARIABLE","$data",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","updateData",90],"(",["T_VARIABLE","$data",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$attribute",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$attributeValue",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_FOREACH","foreach",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$stack",93],["T_WHITESPACE"," ",93],["T_AS","as",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$attribute",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$attributeValue",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(","!",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","serializer",94],["T_WHITESPACE"," ",94],["T_INSTANCEOF","instanceof",94],["T_WHITESPACE"," ",94],["T_STRING","NormalizerInterface",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_THROW","throw",95],["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","LogicException",95],"(",["T_STRING","sprintf",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot normalize attribute \"%s\" because the injected serializer is not a normalizer'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$attribute",95],")",")",";",["T_WHITESPACE","\n            ",95],"}",["T_WHITESPACE","\n\n            ",96],["T_VARIABLE","$data",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","updateData",98],"(",["T_VARIABLE","$data",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$attribute",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","serializer",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","normalize",98],"(",["T_VARIABLE","$attributeValue",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$format",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$context",98],")",")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$data",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Gets and caches attributes for the given object, format and context.\n     *\n     * @param object      $object\n     * @param string|null $format\n     * @param array       $context\n     *\n     * @return string[]\n     *\/",104],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","getAttributes",113],"(",["T_VARIABLE","$object",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$format",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","null",113],",",["T_WHITESPACE"," ",113],["T_ARRAY","array",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$context",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$class",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","get_class",115],"(",["T_VARIABLE","$object",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$key",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$class",116],".",["T_CONSTANT_ENCAPSED_STRING","'-'",116],".",["T_VARIABLE","$context",116],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_key'",116],"]",";",["T_WHITESPACE","\n\n        ",116],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_ISSET","isset",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","attributesCache",118],"[",["T_VARIABLE","$key",118],"]",")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","attributesCache",119],"[",["T_VARIABLE","$key",119],"]",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$allowedAttributes",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getAllowedAttributes",122],"(",["T_VARIABLE","$object",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$context",122],",",["T_WHITESPACE"," ",122],["T_STRING","true",122],")",";",["T_WHITESPACE","\n\n        ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_STRING","false",124],["T_WHITESPACE"," ",124],["T_IS_NOT_IDENTICAL","!==",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$allowedAttributes",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$context",125],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_key'",125],"]",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","attributesCache",126],"[",["T_VARIABLE","$key",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$allowedAttributes",126],";",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE","\n\n            ",127],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$allowedAttributes",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n\n        ",130],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_ISSET","isset",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","attributesCache",132],"[",["T_VARIABLE","$class",132],"]",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","attributesCache",133],"[",["T_VARIABLE","$class",133],"]",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","attributesCache",136],"[",["T_VARIABLE","$class",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","extractAttributes",136],"(",["T_VARIABLE","$object",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$format",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$context",136],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Extracts attributes to normalize from the class of the given object, format and context.\n     *\n     * @param object      $object\n     * @param string|null $format\n     * @param array       $context\n     *\n     * @return string[]\n     *\/",139],["T_WHITESPACE","\n    ",147],["T_ABSTRACT","abstract",148],["T_WHITESPACE"," ",148],["T_PROTECTED","protected",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","extractAttributes",148],"(",["T_VARIABLE","$object",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$format",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","null",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$context",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",")",")",";",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Gets the attribute value.\n     *\n     * @param object      $object\n     * @param string      $attribute\n     * @param string|null $format\n     * @param array       $context\n     *\n     * @return mixed\n     *\/",150],["T_WHITESPACE","\n    ",159],["T_ABSTRACT","abstract",160],["T_WHITESPACE"," ",160],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","getAttributeValue",160],"(",["T_VARIABLE","$object",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$attribute",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$format",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","null",160],",",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$context",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",")",")",";",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",162],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","supportsDenormalization",165],"(",["T_VARIABLE","$data",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$type",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$format",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","null",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_STRING","class_exists",167],"(",["T_VARIABLE","$type",167],")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",170],["T_WHITESPACE","\n    ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","denormalize",173],"(",["T_VARIABLE","$data",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$class",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$format",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","null",173],",",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$context",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",")",")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(","!",["T_ISSET","isset",175],"(",["T_VARIABLE","$context",175],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_key'",175],"]",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$context",176],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_key'",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getCacheKey",176],"(",["T_VARIABLE","$format",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$context",176],")",";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$allowedAttributes",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getAllowedAttributes",179],"(",["T_VARIABLE","$class",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$context",179],",",["T_WHITESPACE"," ",179],["T_STRING","true",179],")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$normalizedData",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","prepareForDenormalization",180],"(",["T_VARIABLE","$data",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$extraAttributes",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",")",";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$reflectionClass",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_NEW","new",183],["T_WHITESPACE"," ",183],["T_NS_SEPARATOR","\\",183],["T_STRING","ReflectionClass",183],"(",["T_VARIABLE","$class",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$object",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","instantiateObject",184],"(",["T_VARIABLE","$normalizedData",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$class",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$context",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$reflectionClass",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$allowedAttributes",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$format",184],")",";",["T_WHITESPACE","\n\n        ",184],["T_FOREACH","foreach",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$normalizedData",186],["T_WHITESPACE"," ",186],["T_AS","as",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$attribute",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$value",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","nameConverter",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$attribute",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","nameConverter",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","denormalize",188],"(",["T_VARIABLE","$attribute",188],")",";",["T_WHITESPACE","\n            ",188],"}",["T_WHITESPACE","\n\n            ",189],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","(",["T_VARIABLE","$allowedAttributes",191],["T_WHITESPACE"," ",191],["T_IS_NOT_IDENTICAL","!==",191],["T_WHITESPACE"," ",191],["T_STRING","false",191],["T_WHITESPACE"," ",191],["T_BOOLEAN_AND","&&",191],["T_WHITESPACE"," ",191],"!",["T_STRING","in_array",191],"(",["T_VARIABLE","$attribute",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$allowedAttributes",191],")",")",["T_WHITESPACE"," ",191],["T_BOOLEAN_OR","||",191],["T_WHITESPACE"," ",191],"!",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","isAllowedAttribute",191],"(",["T_VARIABLE","$class",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$attribute",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$format",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$context",191],")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_ISSET","isset",192],"(",["T_VARIABLE","$context",192],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_extra_attributes'",192],"]",")",["T_WHITESPACE"," ",192],["T_BOOLEAN_AND","&&",192],["T_WHITESPACE"," ",192],"!",["T_VARIABLE","$context",192],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_extra_attributes'",192],"]",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                    ",192],["T_VARIABLE","$extraAttributes",193],"[","]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$attribute",193],";",["T_WHITESPACE","\n                ",193],"}",["T_WHITESPACE","\n\n                ",194],["T_CONTINUE","continue",196],";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n\n            ",197],["T_VARIABLE","$value",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","validateAndDenormalize",199],"(",["T_VARIABLE","$class",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$attribute",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$value",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$format",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$context",199],")",";",["T_WHITESPACE","\n            ",199],["T_TRY","try",200],["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","setAttributeValue",201],"(",["T_VARIABLE","$object",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$attribute",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$value",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$format",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$context",201],")",";",["T_WHITESPACE","\n            ",201],"}",["T_WHITESPACE"," ",202],["T_CATCH","catch",202],["T_WHITESPACE"," ",202],"(",["T_STRING","InvalidArgumentException",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$e",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                ",202],["T_THROW","throw",203],["T_WHITESPACE"," ",203],["T_NEW","new",203],["T_WHITESPACE"," ",203],["T_STRING","UnexpectedValueException",203],"(",["T_VARIABLE","$e",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getMessage",203],"(",")",",",["T_WHITESPACE"," ",203],["T_VARIABLE","$e",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getCode",203],"(",")",",",["T_WHITESPACE"," ",203],["T_VARIABLE","$e",203],")",";",["T_WHITESPACE","\n            ",203],"}",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_EMPTY","empty",207],"(",["T_VARIABLE","$extraAttributes",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_THROW","throw",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","ExtraAttributesException",208],"(",["T_VARIABLE","$extraAttributes",208],")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n\n        ",209],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$object",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Sets attribute value.\n     *\n     * @param object      $object\n     * @param string      $attribute\n     * @param mixed       $value\n     * @param string|null $format\n     * @param array       $context\n     *\/",214],["T_WHITESPACE","\n    ",222],["T_ABSTRACT","abstract",223],["T_WHITESPACE"," ",223],["T_PROTECTED","protected",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","setAttributeValue",223],"(",["T_VARIABLE","$object",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$attribute",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$value",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$format",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","null",223],",",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$context",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",")",")",";",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Validates the submitted data and denormalizes it.\n     *\n     * @param string      $currentClass\n     * @param string      $attribute\n     * @param mixed       $data\n     * @param string|null $format\n     * @param array       $context\n     *\n     * @return mixed\n     *\n     * @throws UnexpectedValueException\n     * @throws LogicException\n     *\/",225],["T_WHITESPACE","\n    ",238],["T_PRIVATE","private",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","validateAndDenormalize",239],"(",["T_VARIABLE","$currentClass",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$attribute",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$data",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$format",239],",",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$context",239],")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_STRING","null",241],["T_WHITESPACE"," ",241],["T_IS_IDENTICAL","===",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","propertyTypeExtractor",241],["T_WHITESPACE"," ",241],["T_BOOLEAN_OR","||",241],["T_WHITESPACE"," ",241],["T_STRING","null",241],["T_WHITESPACE"," ",241],["T_IS_IDENTICAL","===",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$types",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","propertyTypeExtractor",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getTypes",241],"(",["T_VARIABLE","$currentClass",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$attribute",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$data",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$expectedTypes",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],"(",")",";",["T_WHITESPACE","\n        ",245],["T_FOREACH","foreach",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$types",246],["T_WHITESPACE"," ",246],["T_AS","as",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$type",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_STRING","null",247],["T_WHITESPACE"," ",247],["T_IS_IDENTICAL","===",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$data",247],["T_WHITESPACE"," ",247],["T_BOOLEAN_AND","&&",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$type",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","isNullable",247],"(",")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                ",247],["T_RETURN","return",248],";",["T_WHITESPACE","\n            ",248],"}",["T_WHITESPACE","\n\n            ",249],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$type",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","isCollection",251],"(",")",["T_WHITESPACE"," ",251],["T_BOOLEAN_AND","&&",251],["T_WHITESPACE"," ",251],["T_STRING","null",251],["T_WHITESPACE"," ",251],["T_IS_NOT_IDENTICAL","!==",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$collectionValueType",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$type",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getCollectionValueType",251],"(",")",")",["T_WHITESPACE"," ",251],["T_BOOLEAN_AND","&&",251],["T_WHITESPACE"," ",251],["T_STRING","Type",251],["T_DOUBLE_COLON","::",251],["T_STRING","BUILTIN_TYPE_OBJECT",251],["T_WHITESPACE"," ",251],["T_IS_IDENTICAL","===",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$collectionValueType",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getBuiltinType",251],"(",")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                ",251],["T_VARIABLE","$builtinType",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","Type",252],["T_DOUBLE_COLON","::",252],["T_STRING","BUILTIN_TYPE_OBJECT",252],";",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$class",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$collectionValueType",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getClassName",253],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'[]'",253],";",["T_WHITESPACE","\n\n                ",253],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_STRING","null",255],["T_WHITESPACE"," ",255],["T_IS_NOT_IDENTICAL","!==",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$collectionKeyType",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$type",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getCollectionKeyType",255],"(",")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                    ",255],["T_VARIABLE","$context",256],"[",["T_CONSTANT_ENCAPSED_STRING","'key_type'",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$collectionKeyType",256],";",["T_WHITESPACE","\n                ",256],"}",["T_WHITESPACE","\n            ",257],"}",["T_WHITESPACE"," ",258],["T_ELSE","else",258],["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                ",258],["T_VARIABLE","$builtinType",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$type",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getBuiltinType",259],"(",")",";",["T_WHITESPACE","\n                ",259],["T_VARIABLE","$class",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$type",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getClassName",260],"(",")",";",["T_WHITESPACE","\n            ",260],"}",["T_WHITESPACE","\n\n            ",261],["T_VARIABLE","$expectedTypes",263],"[",["T_STRING","Type",263],["T_DOUBLE_COLON","::",263],["T_STRING","BUILTIN_TYPE_OBJECT",263],["T_WHITESPACE"," ",263],["T_IS_IDENTICAL","===",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$builtinType",263],["T_WHITESPACE"," ",263],["T_BOOLEAN_AND","&&",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$class",263],["T_WHITESPACE"," ",263],"?",["T_WHITESPACE"," ",263],["T_VARIABLE","$class",263],["T_WHITESPACE"," ",263],":",["T_WHITESPACE"," ",263],["T_VARIABLE","$builtinType",263],"]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","true",263],";",["T_WHITESPACE","\n\n            ",263],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_STRING","Type",265],["T_DOUBLE_COLON","::",265],["T_STRING","BUILTIN_TYPE_OBJECT",265],["T_WHITESPACE"," ",265],["T_IS_IDENTICAL","===",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$builtinType",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n                ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","serializer",266],["T_WHITESPACE"," ",266],["T_INSTANCEOF","instanceof",266],["T_WHITESPACE"," ",266],["T_STRING","DenormalizerInterface",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                    ",266],["T_THROW","throw",267],["T_WHITESPACE"," ",267],["T_NEW","new",267],["T_WHITESPACE"," ",267],["T_STRING","LogicException",267],"(",["T_STRING","sprintf",267],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot denormalize attribute \"%s\" for class \"%s\" because injected serializer is not a denormalizer'",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$attribute",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$class",267],")",")",";",["T_WHITESPACE","\n                ",267],"}",["T_WHITESPACE","\n\n                ",268],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","serializer",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","supportsDenormalization",270],"(",["T_VARIABLE","$data",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$class",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$format",270],")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                    ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","serializer",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","denormalize",271],"(",["T_VARIABLE","$data",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$class",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$format",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$context",271],")",";",["T_WHITESPACE","\n                ",271],"}",["T_WHITESPACE","\n            ",272],"}",["T_WHITESPACE","\n\n            ",273],["T_COMMENT","\/\/ JSON only has a Number type corresponding to both int and float PHP types.\n",275],["T_WHITESPACE","            ",276],["T_COMMENT","\/\/ PHP's json_encode, JavaScript's JSON.stringify, Go's json.Marshal as well as most other JSON encoders convert\n",276],["T_WHITESPACE","            ",277],["T_COMMENT","\/\/ floating-point numbers like 12.0 to 12 (the decimal part is dropped when possible).\n",277],["T_WHITESPACE","            ",278],["T_COMMENT","\/\/ PHP's json_decode automatically converts Numbers without a decimal part to integers.\n",278],["T_WHITESPACE","            ",279],["T_COMMENT","\/\/ To circumvent this behavior, integers are converted to floats when denormalizing JSON based formats and when\n",279],["T_WHITESPACE","            ",280],["T_COMMENT","\/\/ a float is expected.\n",280],["T_WHITESPACE","            ",281],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_STRING","Type",281],["T_DOUBLE_COLON","::",281],["T_STRING","BUILTIN_TYPE_FLOAT",281],["T_WHITESPACE"," ",281],["T_IS_IDENTICAL","===",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$builtinType",281],["T_WHITESPACE"," ",281],["T_BOOLEAN_AND","&&",281],["T_WHITESPACE"," ",281],["T_STRING","is_int",281],"(",["T_VARIABLE","$data",281],")",["T_WHITESPACE"," ",281],["T_BOOLEAN_AND","&&",281],["T_WHITESPACE"," ",281],["T_STRING","false",281],["T_WHITESPACE"," ",281],["T_IS_NOT_IDENTICAL","!==",281],["T_WHITESPACE"," ",281],["T_STRING","strpos",281],"(",["T_VARIABLE","$format",281],",",["T_WHITESPACE"," ",281],["T_STRING","JsonEncoder",281],["T_DOUBLE_COLON","::",281],["T_STRING","FORMAT",281],")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                ",281],["T_RETURN","return",282],["T_WHITESPACE"," ",282],["T_DOUBLE_CAST","(float)",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$data",282],";",["T_WHITESPACE","\n            ",282],"}",["T_WHITESPACE","\n\n            ",283],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_STRING","call_user_func",285],"(",["T_CONSTANT_ENCAPSED_STRING","'is_'",285],".",["T_VARIABLE","$builtinType",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$data",285],")",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n                ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$data",286],";",["T_WHITESPACE","\n            ",286],"}",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE","\n\n        ",288],["T_THROW","throw",290],["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","UnexpectedValueException",290],"(",["T_STRING","sprintf",290],"(",["T_CONSTANT_ENCAPSED_STRING","'The type of the \"%s\" attribute for class \"%s\" must be one of \"%s\" (\"%s\" given).'",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$attribute",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$currentClass",290],",",["T_WHITESPACE"," ",290],["T_STRING","implode",290],"(",["T_CONSTANT_ENCAPSED_STRING","'\", \"'",290],",",["T_WHITESPACE"," ",290],["T_STRING","array_keys",290],"(",["T_VARIABLE","$expectedTypes",290],")",")",",",["T_WHITESPACE"," ",290],["T_STRING","gettype",290],"(",["T_VARIABLE","$data",290],")",")",")",";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_DOC_COMMENT","\/**\n     * Sets an attribute and apply the name converter if necessary.\n     *\n     * @param array  $data\n     * @param string $attribute\n     * @param mixed  $attributeValue\n     *\n     * @return array\n     *\/",293],["T_WHITESPACE","\n    ",301],["T_PRIVATE","private",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","updateData",302],"(",["T_ARRAY","array",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$data",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$attribute",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$attributeValue",302],")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","nameConverter",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$attribute",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","nameConverter",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","normalize",305],"(",["T_VARIABLE","$attribute",305],")",";",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$data",308],"[",["T_VARIABLE","$attribute",308],"]",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$attributeValue",308],";",["T_WHITESPACE","\n\n        ",308],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$data",310],";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Is the max depth reached for the given attribute?\n     *\n     * @param AttributeMetadataInterface[] $attributesMetadata\n     * @param string                       $class\n     * @param string                       $attribute\n     * @param array                        $context\n     *\n     * @return bool\n     *\/",313],["T_WHITESPACE","\n    ",322],["T_PRIVATE","private",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","isMaxDepthReached",323],"(",["T_ARRAY","array",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$attributesMetadata",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$class",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$attribute",323],",",["T_WHITESPACE"," ",323],["T_ARRAY","array",323],["T_WHITESPACE"," ",323],"&",["T_VARIABLE","$context",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_WHITESPACE","\n            ",325],"!",["T_ISSET","isset",326],"(",["T_VARIABLE","$context",326],"[",["T_STATIC","static",326],["T_DOUBLE_COLON","::",326],["T_STRING","ENABLE_MAX_DEPTH",326],"]",")",["T_WHITESPACE"," ",326],["T_BOOLEAN_OR","||",326],["T_WHITESPACE","\n            ",326],"!",["T_ISSET","isset",327],"(",["T_VARIABLE","$attributesMetadata",327],"[",["T_VARIABLE","$attribute",327],"]",")",["T_WHITESPACE"," ",327],["T_BOOLEAN_OR","||",327],["T_WHITESPACE","\n            ",327],["T_STRING","null",328],["T_WHITESPACE"," ",328],["T_IS_IDENTICAL","===",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$maxDepth",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$attributesMetadata",328],"[",["T_VARIABLE","$attribute",328],"]",["T_OBJECT_OPERATOR","->",328],["T_STRING","getMaxDepth",328],"(",")",["T_WHITESPACE","\n        ",328],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_STRING","false",330],";",["T_WHITESPACE","\n        ",330],"}",["T_WHITESPACE","\n\n        ",331],["T_VARIABLE","$key",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_STRING","sprintf",333],"(",["T_STATIC","static",333],["T_DOUBLE_COLON","::",333],["T_STRING","DEPTH_KEY_PATTERN",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$class",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$attribute",333],")",";",["T_WHITESPACE","\n        ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(","!",["T_ISSET","isset",334],"(",["T_VARIABLE","$context",334],"[",["T_VARIABLE","$key",334],"]",")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$context",335],"[",["T_VARIABLE","$key",335],"]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_LNUMBER","1",335],";",["T_WHITESPACE","\n\n            ",335],["T_RETURN","return",337],["T_WHITESPACE"," ",337],["T_STRING","false",337],";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n\n        ",338],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$context",340],"[",["T_VARIABLE","$key",340],"]",["T_WHITESPACE"," ",340],["T_IS_IDENTICAL","===",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$maxDepth",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_STRING","true",341],";",["T_WHITESPACE","\n        ",341],"}",["T_WHITESPACE","\n\n        ",342],["T_INC","++",344],["T_VARIABLE","$context",344],"[",["T_VARIABLE","$key",344],"]",";",["T_WHITESPACE","\n\n        ",344],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_STRING","false",346],";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Gets the cache key to use.\n     *\n     * @param string|null $format\n     * @param array       $context\n     *\n     * @return bool|string\n     *\/",349],["T_WHITESPACE","\n    ",356],["T_PRIVATE","private",357],["T_WHITESPACE"," ",357],["T_FUNCTION","function",357],["T_WHITESPACE"," ",357],["T_STRING","getCacheKey",357],"(",["T_VARIABLE","$format",357],",",["T_WHITESPACE"," ",357],["T_ARRAY","array",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$context",357],")",["T_WHITESPACE","\n    ",357],"{",["T_WHITESPACE","\n        ",358],["T_TRY","try",359],["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n            ",359],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_STRING","md5",360],"(",["T_VARIABLE","$format",360],".",["T_STRING","serialize",360],"(",["T_VARIABLE","$context",360],")",")",";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE"," ",361],["T_CATCH","catch",361],["T_WHITESPACE"," ",361],"(",["T_NS_SEPARATOR","\\",361],["T_STRING","Exception",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$exception",361],")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n            ",361],["T_COMMENT","\/\/ The context cannot be serialized, skip the cache\n",362],["T_WHITESPACE","            ",363],["T_RETURN","return",363],["T_WHITESPACE"," ",363],["T_STRING","false",363],";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n",365],"}",["T_WHITESPACE","\n",366]]