[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DomCrawler",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CssSelector",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CssSelectorConverter",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Crawler eases navigation of a list of \\DOMNode objects.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",16],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","Crawler",21],["T_WHITESPACE"," ",21],["T_IMPLEMENTS","implements",21],["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Countable",21],",",["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","IteratorAggregate",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * @var string The current URI\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$uri",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var string The default namespace prefix to be used with XPath and CSS expressions\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$defaultNamespacePrefix",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'default'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var array A map of manually registered namespaces\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$namespaces",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var string The base href value\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$baseHref",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\DOMDocument|null\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PRIVATE","private",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$document",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var \\DOMElement[]\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$nodes",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Whether the Crawler contains HTML or XML content (used when converting CSS to XPath).\n     *\n     * @var bool\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PRIVATE","private",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$isHtml",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","true",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @param mixed  $node       A Node to use as the base for the crawling\n     * @param string $currentUri The current URI\n     * @param string $baseHref   The base href value\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","__construct",65],"(",["T_VARIABLE","$node",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","null",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$currentUri",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","null",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$baseHref",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","null",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","uri",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$currentUri",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","baseHref",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$baseHref",68],["T_WHITESPACE"," ",68],"?",":",["T_WHITESPACE"," ",68],["T_VARIABLE","$currentUri",68],";",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","add",70],"(",["T_VARIABLE","$node",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Returns the current URI.\n     *\n     * @return string\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","getUri",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","uri",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Returns base href.\n     *\n     * @return string\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","getBaseHref",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","baseHref",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Removes all the nodes.\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","clear",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","nodes",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","document",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","null",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Adds a node to the current list of nodes.\n     *\n     * This method uses the appropriate specialized add*() method based\n     * on the type of the argument.\n     *\n     * @param \\DOMNodeList|\\DOMNode|array|string|null $node A node\n     *\n     * @throws \\InvalidArgumentException When node is not the expected type.\n     *\/",102],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","add",112],"(",["T_VARIABLE","$node",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$node",114],["T_WHITESPACE"," ",114],["T_INSTANCEOF","instanceof",114],["T_WHITESPACE"," ",114],["T_NS_SEPARATOR","\\",114],["T_STRING","DOMNodeList",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","addNodeList",115],"(",["T_VARIABLE","$node",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE"," ",116],["T_ELSEIF","elseif",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$node",116],["T_WHITESPACE"," ",116],["T_INSTANCEOF","instanceof",116],["T_WHITESPACE"," ",116],["T_NS_SEPARATOR","\\",116],["T_STRING","DOMNode",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","addNode",117],"(",["T_VARIABLE","$node",117],")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE"," ",118],["T_ELSEIF","elseif",118],["T_WHITESPACE"," ",118],"(",["T_STRING","is_array",118],"(",["T_VARIABLE","$node",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","addNodes",119],"(",["T_VARIABLE","$node",119],")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE"," ",120],["T_ELSEIF","elseif",120],["T_WHITESPACE"," ",120],"(",["T_STRING","is_string",120],"(",["T_VARIABLE","$node",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","addContent",121],"(",["T_VARIABLE","$node",121],")",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE"," ",122],["T_ELSEIF","elseif",122],["T_WHITESPACE"," ",122],"(",["T_STRING","null",122],["T_WHITESPACE"," ",122],["T_IS_NOT_IDENTICAL","!==",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$node",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_THROW","throw",123],["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_NS_SEPARATOR","\\",123],["T_STRING","InvalidArgumentException",123],"(",["T_STRING","sprintf",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Expecting a DOMNodeList or DOMNode instance, an array, a string, or null, but got \"%s\".'",123],",",["T_WHITESPACE"," ",123],["T_STRING","is_object",123],"(",["T_VARIABLE","$node",123],")",["T_WHITESPACE"," ",123],"?",["T_WHITESPACE"," ",123],["T_STRING","get_class",123],"(",["T_VARIABLE","$node",123],")",["T_WHITESPACE"," ",123],":",["T_WHITESPACE"," ",123],["T_STRING","gettype",123],"(",["T_VARIABLE","$node",123],")",")",")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Adds HTML\/XML content.\n     *\n     * If the charset is not set via the content type, it is assumed\n     * to be ISO-8859-1, which is the default charset defined by the\n     * HTTP 1.1 specification.\n     *\n     * @param string      $content A string to parse as HTML\/XML\n     * @param null|string $type    The content type of the string\n     *\/",127],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","addContent",137],"(",["T_VARIABLE","$content",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$type",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","null",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_EMPTY","empty",139],"(",["T_VARIABLE","$type",139],")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$type",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_LNUMBER","0",140],["T_WHITESPACE"," ",140],["T_IS_IDENTICAL","===",140],["T_WHITESPACE"," ",140],["T_STRING","strpos",140],"(",["T_VARIABLE","$content",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'<?xml'",140],")",["T_WHITESPACE"," ",140],"?",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",140],["T_WHITESPACE"," ",140],":",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_COMMENT","\/\/ DOM only for HTML\/XML content\n",143],["T_WHITESPACE","        ",144],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_STRING","preg_match",144],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(x|ht)ml\/i'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$type",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$xmlMatches",144],")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_RETURN","return",145],";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$charset",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","null",148],";",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_STRING","false",149],["T_WHITESPACE"," ",149],["T_IS_NOT_IDENTICAL","!==",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$pos",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","stripos",149],"(",["T_VARIABLE","$type",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'charset='",149],")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$charset",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","substr",150],"(",["T_VARIABLE","$type",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$pos",150],["T_WHITESPACE"," ",150],"+",["T_WHITESPACE"," ",150],["T_LNUMBER","8",150],")",";",["T_WHITESPACE","\n            ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_STRING","false",151],["T_WHITESPACE"," ",151],["T_IS_NOT_IDENTICAL","!==",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$pos",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","strpos",151],"(",["T_VARIABLE","$charset",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","';'",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$charset",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","substr",152],"(",["T_VARIABLE","$charset",152],",",["T_WHITESPACE"," ",152],["T_LNUMBER","0",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$pos",152],")",";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n\n        ",154],["T_COMMENT","\/\/ http:\/\/www.w3.org\/TR\/encoding\/#encodings\n",156],["T_WHITESPACE","        ",157],["T_COMMENT","\/\/ http:\/\/www.w3.org\/TR\/REC-xml\/#NT-EncName\n",157],["T_WHITESPACE","        ",158],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_STRING","null",158],["T_WHITESPACE"," ",158],["T_IS_IDENTICAL","===",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$charset",158],["T_WHITESPACE"," ",158],["T_BOOLEAN_AND","&&",158],["T_WHITESPACE","\n            ",158],["T_STRING","preg_match",159],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\<meta[^\\>]+charset *= *[\"\\']?([a-zA-Z\\-0-9_:.]+)\/i'",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$content",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$matches",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$charset",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$matches",160],"[",["T_LNUMBER","1",160],"]",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_STRING","null",163],["T_WHITESPACE"," ",163],["T_IS_IDENTICAL","===",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$charset",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$charset",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'ISO-8859-1'",164],";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n\n        ",165],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_CONSTANT_ENCAPSED_STRING","'x'",167],["T_WHITESPACE"," ",167],["T_IS_IDENTICAL","===",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$xmlMatches",167],"[",["T_LNUMBER","1",167],"]",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","addXmlContent",168],"(",["T_VARIABLE","$content",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$charset",168],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE"," ",169],["T_ELSE","else",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","addHtmlContent",170],"(",["T_VARIABLE","$content",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$charset",170],")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Adds an HTML content to the list of nodes.\n     *\n     * The libxml errors are disabled when the content is parsed.\n     *\n     * If you want to get parsing errors, be sure to enable\n     * internal errors via libxml_use_internal_errors(true)\n     * and then, get the errors via libxml_get_errors(). Be\n     * sure to clear errors with libxml_clear_errors() afterward.\n     *\n     * @param string $content The HTML content\n     * @param string $charset The charset\n     *\/",174],["T_WHITESPACE","\n    ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","addHtmlContent",187],"(",["T_VARIABLE","$content",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$charset",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",187],")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$internalErrors",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","libxml_use_internal_errors",189],"(",["T_STRING","true",189],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$disableEntities",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","libxml_disable_entity_loader",190],"(",["T_STRING","true",190],")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$dom",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_NS_SEPARATOR","\\",192],["T_STRING","DOMDocument",192],"(",["T_CONSTANT_ENCAPSED_STRING","'1.0'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$charset",192],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$dom",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","validateOnParse",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","true",193],";",["T_WHITESPACE","\n\n        ",193],["T_STRING","set_error_handler",195],"(",["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],"(",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE"," ",195],["T_THROW","throw",195],["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Exception",195],"(",")",";",["T_WHITESPACE"," ",195],"}",")",";",["T_WHITESPACE","\n\n        ",195],["T_TRY","try",197],["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_COMMENT","\/\/ Convert charset to HTML-entities to work around bugs in DOMDocument::loadHTML()\n",198],["T_WHITESPACE","            ",199],["T_VARIABLE","$content",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","mb_convert_encoding",199],"(",["T_VARIABLE","$content",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'HTML-ENTITIES'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$charset",199],")",";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE"," ",200],["T_CATCH","catch",200],["T_WHITESPACE"," ",200],"(",["T_NS_SEPARATOR","\\",200],["T_STRING","Exception",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$e",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n\n        ",201],["T_STRING","restore_error_handler",203],"(",")",";",["T_WHITESPACE","\n\n        ",203],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_CONSTANT_ENCAPSED_STRING","''",205],["T_WHITESPACE"," ",205],["T_IS_NOT_IDENTICAL","!==",205],["T_WHITESPACE"," ",205],["T_STRING","trim",205],"(",["T_VARIABLE","$content",205],")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],"@",["T_VARIABLE","$dom",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","loadHTML",206],"(",["T_VARIABLE","$content",206],")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_STRING","libxml_use_internal_errors",209],"(",["T_VARIABLE","$internalErrors",209],")",";",["T_WHITESPACE","\n        ",209],["T_STRING","libxml_disable_entity_loader",210],"(",["T_VARIABLE","$disableEntities",210],")",";",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","addDocument",212],"(",["T_VARIABLE","$dom",212],")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$base",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","filterRelativeXPath",214],"(",["T_CONSTANT_ENCAPSED_STRING","'descendant-or-self::base'",214],")",["T_OBJECT_OPERATOR","->",214],["T_STRING","extract",214],"(",["T_ARRAY","array",214],"(",["T_CONSTANT_ENCAPSED_STRING","'href'",214],")",")",";",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$baseHref",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","current",216],"(",["T_VARIABLE","$base",216],")",";",["T_WHITESPACE","\n        ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_STRING","count",217],"(",["T_VARIABLE","$base",217],")",["T_WHITESPACE"," ",217],["T_BOOLEAN_AND","&&",217],["T_WHITESPACE"," ",217],"!",["T_EMPTY","empty",217],"(",["T_VARIABLE","$baseHref",217],")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","baseHref",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                ",218],["T_VARIABLE","$linkNode",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$dom",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","createElement",219],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",219],")",";",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$linkNode",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","setAttribute",220],"(",["T_CONSTANT_ENCAPSED_STRING","'href'",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$baseHref",220],")",";",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$link",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_NEW","new",221],["T_WHITESPACE"," ",221],["T_STRING","Link",221],"(",["T_VARIABLE","$linkNode",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","baseHref",221],")",";",["T_WHITESPACE","\n                ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","baseHref",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$link",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getUri",222],"(",")",";",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE"," ",223],["T_ELSE","else",223],["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","baseHref",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$baseHref",224],";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Adds an XML content to the list of nodes.\n     *\n     * The libxml errors are disabled when the content is parsed.\n     *\n     * If you want to get parsing errors, be sure to enable\n     * internal errors via libxml_use_internal_errors(true)\n     * and then, get the errors via libxml_get_errors(). Be\n     * sure to clear errors with libxml_clear_errors() afterward.\n     *\n     * @param string $content The XML content\n     * @param string $charset The charset\n     * @param int    $options Bitwise OR of the libxml option constants\n     *                        LIBXML_PARSEHUGE is dangerous, see\n     *                        http:\/\/symfony.com\/blog\/security-release-symfony-2-0-17-released\n     *\/",229],["T_WHITESPACE","\n    ",244],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","addXmlContent",245],"(",["T_VARIABLE","$content",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$charset",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$options",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","LIBXML_NONET",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_COMMENT","\/\/ remove the default namespace if it's the only namespace to make XPath expressions simpler\n",247],["T_WHITESPACE","        ",248],["T_IF","if",248],["T_WHITESPACE"," ",248],"(","!",["T_STRING","preg_match",248],"(",["T_CONSTANT_ENCAPSED_STRING","'\/xmlns:\/'",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$content",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$content",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","str_replace",249],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlns'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'ns'",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$content",249],")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$internalErrors",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","libxml_use_internal_errors",252],"(",["T_STRING","true",252],")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$disableEntities",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","libxml_disable_entity_loader",253],"(",["T_STRING","true",253],")",";",["T_WHITESPACE","\n\n        ",253],["T_VARIABLE","$dom",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_NEW","new",255],["T_WHITESPACE"," ",255],["T_NS_SEPARATOR","\\",255],["T_STRING","DOMDocument",255],"(",["T_CONSTANT_ENCAPSED_STRING","'1.0'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$charset",255],")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$dom",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","validateOnParse",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","true",256],";",["T_WHITESPACE","\n\n        ",256],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_CONSTANT_ENCAPSED_STRING","''",258],["T_WHITESPACE"," ",258],["T_IS_NOT_IDENTICAL","!==",258],["T_WHITESPACE"," ",258],["T_STRING","trim",258],"(",["T_VARIABLE","$content",258],")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],"@",["T_VARIABLE","$dom",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","loadXML",259],"(",["T_VARIABLE","$content",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$options",259],")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n\n        ",260],["T_STRING","libxml_use_internal_errors",262],"(",["T_VARIABLE","$internalErrors",262],")",";",["T_WHITESPACE","\n        ",262],["T_STRING","libxml_disable_entity_loader",263],"(",["T_VARIABLE","$disableEntities",263],")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","addDocument",265],"(",["T_VARIABLE","$dom",265],")",";",["T_WHITESPACE","\n\n        ",265],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","isHtml",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING","false",267],";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Adds a \\DOMDocument to the list of nodes.\n     *\n     * @param \\DOMDocument $dom A \\DOMDocument instance\n     *\/",270],["T_WHITESPACE","\n    ",274],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","addDocument",275],"(",["T_NS_SEPARATOR","\\",275],["T_STRING","DOMDocument",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$dom",275],")",["T_WHITESPACE","\n    ",275],"{",["T_WHITESPACE","\n        ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$dom",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","documentElement",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","addNode",278],"(",["T_VARIABLE","$dom",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","documentElement",278],")",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Adds a \\DOMNodeList to the list of nodes.\n     *\n     * @param \\DOMNodeList $nodes A \\DOMNodeList instance\n     *\/",282],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","addNodeList",287],"(",["T_NS_SEPARATOR","\\",287],["T_STRING","DOMNodeList",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$nodes",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_FOREACH","foreach",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$nodes",289],["T_WHITESPACE"," ",289],["T_AS","as",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$node",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$node",290],["T_WHITESPACE"," ",290],["T_INSTANCEOF","instanceof",290],["T_WHITESPACE"," ",290],["T_NS_SEPARATOR","\\",290],["T_STRING","DOMNode",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","addNode",291],"(",["T_VARIABLE","$node",291],")",";",["T_WHITESPACE","\n            ",291],"}",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Adds an array of \\DOMNode instances to the list of nodes.\n     *\n     * @param \\DOMNode[] $nodes An array of \\DOMNode instances\n     *\/",296],["T_WHITESPACE","\n    ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","addNodes",301],"(",["T_ARRAY","array",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$nodes",301],")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_FOREACH","foreach",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$nodes",303],["T_WHITESPACE"," ",303],["T_AS","as",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$node",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","add",304],"(",["T_VARIABLE","$node",304],")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * Adds a \\DOMNode instance to the list of nodes.\n     *\n     * @param \\DOMNode $node A \\DOMNode instance\n     *\/",308],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","addNode",313],"(",["T_NS_SEPARATOR","\\",313],["T_STRING","DOMNode",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$node",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$node",315],["T_WHITESPACE"," ",315],["T_INSTANCEOF","instanceof",315],["T_WHITESPACE"," ",315],["T_NS_SEPARATOR","\\",315],["T_STRING","DOMDocument",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$node",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$node",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","documentElement",316],";",["T_WHITESPACE","\n        ",316],"}",["T_WHITESPACE","\n\n        ",317],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_STRING","null",319],["T_WHITESPACE"," ",319],["T_IS_NOT_IDENTICAL","!==",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","document",319],["T_WHITESPACE"," ",319],["T_BOOLEAN_AND","&&",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","document",319],["T_WHITESPACE"," ",319],["T_IS_NOT_IDENTICAL","!==",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$node",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","ownerDocument",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_THROW","throw",320],["T_WHITESPACE"," ",320],["T_NEW","new",320],["T_WHITESPACE"," ",320],["T_NS_SEPARATOR","\\",320],["T_STRING","InvalidArgumentException",320],"(",["T_CONSTANT_ENCAPSED_STRING","'Attaching DOM nodes from multiple documents in the same crawler is forbidden.'",320],")",";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_STRING","null",323],["T_WHITESPACE"," ",323],["T_IS_IDENTICAL","===",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","document",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","document",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$node",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","ownerDocument",324],";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n\n        ",325],["T_COMMENT","\/\/ Don't add duplicate nodes in the Crawler\n",327],["T_WHITESPACE","        ",328],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_STRING","in_array",328],"(",["T_VARIABLE","$node",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","nodes",328],",",["T_WHITESPACE"," ",328],["T_STRING","true",328],")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_RETURN","return",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","nodes",332],"[","]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$node",332],";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Returns a node given its position in the node list.\n     *\n     * @param int $position The position\n     *\n     * @return self\n     *\/",335],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","eq",342],"(",["T_VARIABLE","$position",342],")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_ISSET","isset",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","nodes",344],"[",["T_VARIABLE","$position",344],"]",")",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","createSubCrawler",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","nodes",345],"[",["T_VARIABLE","$position",345],"]",")",";",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n\n        ",346],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","createSubCrawler",348],"(",["T_STRING","null",348],")",";",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n\n    ",349],["T_DOC_COMMENT","\/**\n     * Calls an anonymous function on each node of the list.\n     *\n     * The anonymous function receives the position and the node wrapped\n     * in a Crawler instance as arguments.\n     *\n     * Example:\n     *\n     *     $crawler->filter('h1')->each(function ($node, $i) {\n     *         return $node->text();\n     *     });\n     *\n     * @param \\Closure $closure An anonymous function\n     *\n     * @return array An array of values returned by the anonymous function\n     *\/",351],["T_WHITESPACE","\n    ",366],["T_PUBLIC","public",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","each",367],"(",["T_NS_SEPARATOR","\\",367],["T_STRING","Closure",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$closure",367],")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$data",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_ARRAY","array",369],"(",")",";",["T_WHITESPACE","\n        ",369],["T_FOREACH","foreach",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","nodes",370],["T_WHITESPACE"," ",370],["T_AS","as",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$i",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$node",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_VARIABLE","$data",371],"[","]",["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$closure",371],"(",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","createSubCrawler",371],"(",["T_VARIABLE","$node",371],")",",",["T_WHITESPACE"," ",371],["T_VARIABLE","$i",371],")",";",["T_WHITESPACE","\n        ",371],"}",["T_WHITESPACE","\n\n        ",372],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$data",374],";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n\n    ",375],["T_DOC_COMMENT","\/**\n     * Slices the list of nodes by $offset and $length.\n     *\n     * @param int $offset\n     * @param int $length\n     *\n     * @return self\n     *\/",377],["T_WHITESPACE","\n    ",384],["T_PUBLIC","public",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","slice",385],"(",["T_VARIABLE","$offset",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_LNUMBER","0",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$length",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_STRING","null",385],")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","createSubCrawler",387],"(",["T_STRING","array_slice",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","nodes",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$offset",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$length",387],")",")",";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Reduces the list of nodes by calling an anonymous function.\n     *\n     * To remove a node from the list, the anonymous function must return false.\n     *\n     * @param \\Closure $closure An anonymous function\n     *\n     * @return self\n     *\/",390],["T_WHITESPACE","\n    ",398],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","reduce",399],"(",["T_NS_SEPARATOR","\\",399],["T_STRING","Closure",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$closure",399],")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$nodes",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_ARRAY","array",401],"(",")",";",["T_WHITESPACE","\n        ",401],["T_FOREACH","foreach",402],["T_WHITESPACE"," ",402],"(",["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","nodes",402],["T_WHITESPACE"," ",402],["T_AS","as",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$i",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$node",402],")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n            ",402],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_STRING","false",403],["T_WHITESPACE"," ",403],["T_IS_NOT_IDENTICAL","!==",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$closure",403],"(",["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","createSubCrawler",403],"(",["T_VARIABLE","$node",403],")",",",["T_WHITESPACE"," ",403],["T_VARIABLE","$i",403],")",")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n                ",403],["T_VARIABLE","$nodes",404],"[","]",["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$node",404],";",["T_WHITESPACE","\n            ",404],"}",["T_WHITESPACE","\n        ",405],"}",["T_WHITESPACE","\n\n        ",406],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","createSubCrawler",408],"(",["T_VARIABLE","$nodes",408],")",";",["T_WHITESPACE","\n    ",408],"}",["T_WHITESPACE","\n\n    ",409],["T_DOC_COMMENT","\/**\n     * Returns the first node of the current selection.\n     *\n     * @return self\n     *\/",411],["T_WHITESPACE","\n    ",415],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","first",416],"(",")",["T_WHITESPACE","\n    ",416],"{",["T_WHITESPACE","\n        ",417],["T_RETURN","return",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","eq",418],"(",["T_LNUMBER","0",418],")",";",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_DOC_COMMENT","\/**\n     * Returns the last node of the current selection.\n     *\n     * @return self\n     *\/",421],["T_WHITESPACE","\n    ",425],["T_PUBLIC","public",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","last",426],"(",")",["T_WHITESPACE","\n    ",426],"{",["T_WHITESPACE","\n        ",427],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","eq",428],"(",["T_STRING","count",428],"(",["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","nodes",428],")",["T_WHITESPACE"," ",428],"-",["T_WHITESPACE"," ",428],["T_LNUMBER","1",428],")",";",["T_WHITESPACE","\n    ",428],"}",["T_WHITESPACE","\n\n    ",429],["T_DOC_COMMENT","\/**\n     * Returns the siblings nodes of the current selection.\n     *\n     * @return self\n     *\n     * @throws \\InvalidArgumentException When current node is empty\n     *\/",431],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","siblings",438],"(",")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_IF","if",440],["T_WHITESPACE"," ",440],"(","!",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","nodes",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n            ",440],["T_THROW","throw",441],["T_WHITESPACE"," ",441],["T_NEW","new",441],["T_WHITESPACE"," ",441],["T_NS_SEPARATOR","\\",441],["T_STRING","InvalidArgumentException",441],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",441],")",";",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE","\n\n        ",442],["T_RETURN","return",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","createSubCrawler",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","sibling",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getNode",444],"(",["T_LNUMBER","0",444],")",["T_OBJECT_OPERATOR","->",444],["T_STRING","parentNode",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","firstChild",444],")",")",";",["T_WHITESPACE","\n    ",444],"}",["T_WHITESPACE","\n\n    ",445],["T_DOC_COMMENT","\/**\n     * Returns the next siblings nodes of the current selection.\n     *\n     * @return self\n     *\n     * @throws \\InvalidArgumentException When current node is empty\n     *\/",447],["T_WHITESPACE","\n    ",453],["T_PUBLIC","public",454],["T_WHITESPACE"," ",454],["T_FUNCTION","function",454],["T_WHITESPACE"," ",454],["T_STRING","nextAll",454],"(",")",["T_WHITESPACE","\n    ",454],"{",["T_WHITESPACE","\n        ",455],["T_IF","if",456],["T_WHITESPACE"," ",456],"(","!",["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","nodes",456],")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n            ",456],["T_THROW","throw",457],["T_WHITESPACE"," ",457],["T_NEW","new",457],["T_WHITESPACE"," ",457],["T_NS_SEPARATOR","\\",457],["T_STRING","InvalidArgumentException",457],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",457],")",";",["T_WHITESPACE","\n        ",457],"}",["T_WHITESPACE","\n\n        ",458],["T_RETURN","return",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","createSubCrawler",460],"(",["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","sibling",460],"(",["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","getNode",460],"(",["T_LNUMBER","0",460],")",")",")",";",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n\n    ",461],["T_DOC_COMMENT","\/**\n     * Returns the previous sibling nodes of the current selection.\n     *\n     * @return self\n     *\n     * @throws \\InvalidArgumentException\n     *\/",463],["T_WHITESPACE","\n    ",469],["T_PUBLIC","public",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","previousAll",470],"(",")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_IF","if",472],["T_WHITESPACE"," ",472],"(","!",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","nodes",472],")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n            ",472],["T_THROW","throw",473],["T_WHITESPACE"," ",473],["T_NEW","new",473],["T_WHITESPACE"," ",473],["T_NS_SEPARATOR","\\",473],["T_STRING","InvalidArgumentException",473],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",473],")",";",["T_WHITESPACE","\n        ",473],"}",["T_WHITESPACE","\n\n        ",474],["T_RETURN","return",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","createSubCrawler",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","sibling",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getNode",476],"(",["T_LNUMBER","0",476],")",",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'previousSibling'",476],")",")",";",["T_WHITESPACE","\n    ",476],"}",["T_WHITESPACE","\n\n    ",477],["T_DOC_COMMENT","\/**\n     * Returns the parents nodes of the current selection.\n     *\n     * @return self\n     *\n     * @throws \\InvalidArgumentException When current node is empty\n     *\/",479],["T_WHITESPACE","\n    ",485],["T_PUBLIC","public",486],["T_WHITESPACE"," ",486],["T_FUNCTION","function",486],["T_WHITESPACE"," ",486],["T_STRING","parents",486],"(",")",["T_WHITESPACE","\n    ",486],"{",["T_WHITESPACE","\n        ",487],["T_IF","if",488],["T_WHITESPACE"," ",488],"(","!",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","nodes",488],")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n            ",488],["T_THROW","throw",489],["T_WHITESPACE"," ",489],["T_NEW","new",489],["T_WHITESPACE"," ",489],["T_NS_SEPARATOR","\\",489],["T_STRING","InvalidArgumentException",489],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",489],")",";",["T_WHITESPACE","\n        ",489],"}",["T_WHITESPACE","\n\n        ",490],["T_VARIABLE","$node",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","getNode",492],"(",["T_LNUMBER","0",492],")",";",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$nodes",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_ARRAY","array",493],"(",")",";",["T_WHITESPACE","\n\n        ",493],["T_WHILE","while",495],["T_WHITESPACE"," ",495],"(",["T_VARIABLE","$node",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$node",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","parentNode",495],")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n            ",495],["T_IF","if",496],["T_WHITESPACE"," ",496],"(",["T_STRING","XML_ELEMENT_NODE",496],["T_WHITESPACE"," ",496],["T_IS_IDENTICAL","===",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$node",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","nodeType",496],")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n                ",496],["T_VARIABLE","$nodes",497],"[","]",["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_VARIABLE","$node",497],";",["T_WHITESPACE","\n            ",497],"}",["T_WHITESPACE","\n        ",498],"}",["T_WHITESPACE","\n\n        ",499],["T_RETURN","return",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","createSubCrawler",501],"(",["T_VARIABLE","$nodes",501],")",";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n\n    ",502],["T_DOC_COMMENT","\/**\n     * Returns the children nodes of the current selection.\n     *\n     * @return self\n     *\n     * @throws \\InvalidArgumentException When current node is empty\n     *\/",504],["T_WHITESPACE","\n    ",510],["T_PUBLIC","public",511],["T_WHITESPACE"," ",511],["T_FUNCTION","function",511],["T_WHITESPACE"," ",511],["T_STRING","children",511],"(",")",["T_WHITESPACE","\n    ",511],"{",["T_WHITESPACE","\n        ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(","!",["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","nodes",513],")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n            ",513],["T_THROW","throw",514],["T_WHITESPACE"," ",514],["T_NEW","new",514],["T_WHITESPACE"," ",514],["T_NS_SEPARATOR","\\",514],["T_STRING","InvalidArgumentException",514],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",514],")",";",["T_WHITESPACE","\n        ",514],"}",["T_WHITESPACE","\n\n        ",515],["T_VARIABLE","$node",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getNode",517],"(",["T_LNUMBER","0",517],")",["T_OBJECT_OPERATOR","->",517],["T_STRING","firstChild",517],";",["T_WHITESPACE","\n\n        ",517],["T_RETURN","return",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","createSubCrawler",519],"(",["T_VARIABLE","$node",519],["T_WHITESPACE"," ",519],"?",["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","sibling",519],"(",["T_VARIABLE","$node",519],")",["T_WHITESPACE"," ",519],":",["T_WHITESPACE"," ",519],["T_ARRAY","array",519],"(",")",")",";",["T_WHITESPACE","\n    ",519],"}",["T_WHITESPACE","\n\n    ",520],["T_DOC_COMMENT","\/**\n     * Returns the attribute value of the first node of the list.\n     *\n     * @param string $attribute The attribute name\n     *\n     * @return string|null The attribute value or null if the attribute does not exist\n     *\n     * @throws \\InvalidArgumentException When current node is empty\n     *\/",522],["T_WHITESPACE","\n    ",530],["T_PUBLIC","public",531],["T_WHITESPACE"," ",531],["T_FUNCTION","function",531],["T_WHITESPACE"," ",531],["T_STRING","attr",531],"(",["T_VARIABLE","$attribute",531],")",["T_WHITESPACE","\n    ",531],"{",["T_WHITESPACE","\n        ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(","!",["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","nodes",533],")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n            ",533],["T_THROW","throw",534],["T_WHITESPACE"," ",534],["T_NEW","new",534],["T_WHITESPACE"," ",534],["T_NS_SEPARATOR","\\",534],["T_STRING","InvalidArgumentException",534],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",534],")",";",["T_WHITESPACE","\n        ",534],"}",["T_WHITESPACE","\n\n        ",535],["T_VARIABLE","$node",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getNode",537],"(",["T_LNUMBER","0",537],")",";",["T_WHITESPACE","\n\n        ",537],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$node",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","hasAttribute",539],"(",["T_VARIABLE","$attribute",539],")",["T_WHITESPACE"," ",539],"?",["T_WHITESPACE"," ",539],["T_VARIABLE","$node",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getAttribute",539],"(",["T_VARIABLE","$attribute",539],")",["T_WHITESPACE"," ",539],":",["T_WHITESPACE"," ",539],["T_STRING","null",539],";",["T_WHITESPACE","\n    ",539],"}",["T_WHITESPACE","\n\n    ",540],["T_DOC_COMMENT","\/**\n     * Returns the node name of the first node of the list.\n     *\n     * @return string The node name\n     *\n     * @throws \\InvalidArgumentException When current node is empty\n     *\/",542],["T_WHITESPACE","\n    ",548],["T_PUBLIC","public",549],["T_WHITESPACE"," ",549],["T_FUNCTION","function",549],["T_WHITESPACE"," ",549],["T_STRING","nodeName",549],"(",")",["T_WHITESPACE","\n    ",549],"{",["T_WHITESPACE","\n        ",550],["T_IF","if",551],["T_WHITESPACE"," ",551],"(","!",["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","nodes",551],")",["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n            ",551],["T_THROW","throw",552],["T_WHITESPACE"," ",552],["T_NEW","new",552],["T_WHITESPACE"," ",552],["T_NS_SEPARATOR","\\",552],["T_STRING","InvalidArgumentException",552],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",552],")",";",["T_WHITESPACE","\n        ",552],"}",["T_WHITESPACE","\n\n        ",553],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","getNode",555],"(",["T_LNUMBER","0",555],")",["T_OBJECT_OPERATOR","->",555],["T_STRING","nodeName",555],";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n\n    ",556],["T_DOC_COMMENT","\/**\n     * Returns the node value of the first node of the list.\n     *\n     * @return string The node value\n     *\n     * @throws \\InvalidArgumentException When current node is empty\n     *\/",558],["T_WHITESPACE","\n    ",564],["T_PUBLIC","public",565],["T_WHITESPACE"," ",565],["T_FUNCTION","function",565],["T_WHITESPACE"," ",565],["T_STRING","text",565],"(",")",["T_WHITESPACE","\n    ",565],"{",["T_WHITESPACE","\n        ",566],["T_IF","if",567],["T_WHITESPACE"," ",567],"(","!",["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","nodes",567],")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n            ",567],["T_THROW","throw",568],["T_WHITESPACE"," ",568],["T_NEW","new",568],["T_WHITESPACE"," ",568],["T_NS_SEPARATOR","\\",568],["T_STRING","InvalidArgumentException",568],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",568],")",";",["T_WHITESPACE","\n        ",568],"}",["T_WHITESPACE","\n\n        ",569],["T_RETURN","return",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","getNode",571],"(",["T_LNUMBER","0",571],")",["T_OBJECT_OPERATOR","->",571],["T_STRING","nodeValue",571],";",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * Returns the first node of the list as HTML.\n     *\n     * @return string The node html\n     *\n     * @throws \\InvalidArgumentException When current node is empty\n     *\/",574],["T_WHITESPACE","\n    ",580],["T_PUBLIC","public",581],["T_WHITESPACE"," ",581],["T_FUNCTION","function",581],["T_WHITESPACE"," ",581],["T_STRING","html",581],"(",")",["T_WHITESPACE","\n    ",581],"{",["T_WHITESPACE","\n        ",582],["T_IF","if",583],["T_WHITESPACE"," ",583],"(","!",["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","nodes",583],")",["T_WHITESPACE"," ",583],"{",["T_WHITESPACE","\n            ",583],["T_THROW","throw",584],["T_WHITESPACE"," ",584],["T_NEW","new",584],["T_WHITESPACE"," ",584],["T_NS_SEPARATOR","\\",584],["T_STRING","InvalidArgumentException",584],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",584],")",";",["T_WHITESPACE","\n        ",584],"}",["T_WHITESPACE","\n\n        ",585],["T_VARIABLE","$html",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","''",587],";",["T_WHITESPACE","\n        ",587],["T_FOREACH","foreach",588],["T_WHITESPACE"," ",588],"(",["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","getNode",588],"(",["T_LNUMBER","0",588],")",["T_OBJECT_OPERATOR","->",588],["T_STRING","childNodes",588],["T_WHITESPACE"," ",588],["T_AS","as",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$child",588],")",["T_WHITESPACE"," ",588],"{",["T_WHITESPACE","\n            ",588],["T_VARIABLE","$html",589],["T_WHITESPACE"," ",589],["T_CONCAT_EQUAL",".=",589],["T_WHITESPACE"," ",589],["T_VARIABLE","$child",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","ownerDocument",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","saveHTML",589],"(",["T_VARIABLE","$child",589],")",";",["T_WHITESPACE","\n        ",589],"}",["T_WHITESPACE","\n\n        ",590],["T_RETURN","return",592],["T_WHITESPACE"," ",592],["T_VARIABLE","$html",592],";",["T_WHITESPACE","\n    ",592],"}",["T_WHITESPACE","\n\n    ",593],["T_DOC_COMMENT","\/**\n     * Evaluates an XPath expression.\n     *\n     * Since an XPath expression might evaluate to either a simple type or a \\DOMNodeList,\n     * this method will return either an array of simple types or a new Crawler instance.\n     *\n     * @param string $xpath An XPath expression\n     *\n     * @return array|Crawler An array of evaluation results or a new Crawler instance\n     *\/",595],["T_WHITESPACE","\n    ",604],["T_PUBLIC","public",605],["T_WHITESPACE"," ",605],["T_FUNCTION","function",605],["T_WHITESPACE"," ",605],["T_STRING","evaluate",605],"(",["T_VARIABLE","$xpath",605],")",["T_WHITESPACE","\n    ",605],"{",["T_WHITESPACE","\n        ",606],["T_IF","if",607],["T_WHITESPACE"," ",607],"(",["T_STRING","null",607],["T_WHITESPACE"," ",607],["T_IS_IDENTICAL","===",607],["T_WHITESPACE"," ",607],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","document",607],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n            ",607],["T_THROW","throw",608],["T_WHITESPACE"," ",608],["T_NEW","new",608],["T_WHITESPACE"," ",608],["T_NS_SEPARATOR","\\",608],["T_STRING","LogicException",608],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot evaluate the expression on an uninitialized crawler.'",608],")",";",["T_WHITESPACE","\n        ",608],"}",["T_WHITESPACE","\n\n        ",609],["T_VARIABLE","$data",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_ARRAY","array",611],"(",")",";",["T_WHITESPACE","\n        ",611],["T_VARIABLE","$domxpath",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","createDOMXPath",612],"(",["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","document",612],",",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","findNamespacePrefixes",612],"(",["T_VARIABLE","$xpath",612],")",")",";",["T_WHITESPACE","\n\n        ",612],["T_FOREACH","foreach",614],["T_WHITESPACE"," ",614],"(",["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","nodes",614],["T_WHITESPACE"," ",614],["T_AS","as",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$node",614],")",["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n            ",614],["T_VARIABLE","$data",615],"[","]",["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_VARIABLE","$domxpath",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","evaluate",615],"(",["T_VARIABLE","$xpath",615],",",["T_WHITESPACE"," ",615],["T_VARIABLE","$node",615],")",";",["T_WHITESPACE","\n        ",615],"}",["T_WHITESPACE","\n\n        ",616],["T_IF","if",618],["T_WHITESPACE"," ",618],"(",["T_ISSET","isset",618],"(",["T_VARIABLE","$data",618],"[",["T_LNUMBER","0",618],"]",")",["T_WHITESPACE"," ",618],["T_BOOLEAN_AND","&&",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$data",618],"[",["T_LNUMBER","0",618],"]",["T_WHITESPACE"," ",618],["T_INSTANCEOF","instanceof",618],["T_WHITESPACE"," ",618],["T_NS_SEPARATOR","\\",618],["T_STRING","DOMNodeList",618],")",["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n            ",618],["T_RETURN","return",619],["T_WHITESPACE"," ",619],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","createSubCrawler",619],"(",["T_VARIABLE","$data",619],")",";",["T_WHITESPACE","\n        ",619],"}",["T_WHITESPACE","\n\n        ",620],["T_RETURN","return",622],["T_WHITESPACE"," ",622],["T_VARIABLE","$data",622],";",["T_WHITESPACE","\n    ",622],"}",["T_WHITESPACE","\n\n    ",623],["T_DOC_COMMENT","\/**\n     * Extracts information from the list of nodes.\n     *\n     * You can extract attributes or\/and the node value (_text).\n     *\n     * Example:\n     *\n     * $crawler->filter('h1 a')->extract(array('_text', 'href'));\n     *\n     * @param array $attributes An array of attributes\n     *\n     * @return array An array of extracted values\n     *\/",625],["T_WHITESPACE","\n    ",637],["T_PUBLIC","public",638],["T_WHITESPACE"," ",638],["T_FUNCTION","function",638],["T_WHITESPACE"," ",638],["T_STRING","extract",638],"(",["T_VARIABLE","$attributes",638],")",["T_WHITESPACE","\n    ",638],"{",["T_WHITESPACE","\n        ",639],["T_VARIABLE","$attributes",640],["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_ARRAY_CAST","(array)",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$attributes",640],";",["T_WHITESPACE","\n        ",640],["T_VARIABLE","$count",641],["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_STRING","count",641],"(",["T_VARIABLE","$attributes",641],")",";",["T_WHITESPACE","\n\n        ",641],["T_VARIABLE","$data",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_ARRAY","array",643],"(",")",";",["T_WHITESPACE","\n        ",643],["T_FOREACH","foreach",644],["T_WHITESPACE"," ",644],"(",["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","nodes",644],["T_WHITESPACE"," ",644],["T_AS","as",644],["T_WHITESPACE"," ",644],["T_VARIABLE","$node",644],")",["T_WHITESPACE"," ",644],"{",["T_WHITESPACE","\n            ",644],["T_VARIABLE","$elements",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_ARRAY","array",645],"(",")",";",["T_WHITESPACE","\n            ",645],["T_FOREACH","foreach",646],["T_WHITESPACE"," ",646],"(",["T_VARIABLE","$attributes",646],["T_WHITESPACE"," ",646],["T_AS","as",646],["T_WHITESPACE"," ",646],["T_VARIABLE","$attribute",646],")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n                ",646],["T_IF","if",647],["T_WHITESPACE"," ",647],"(",["T_CONSTANT_ENCAPSED_STRING","'_text'",647],["T_WHITESPACE"," ",647],["T_IS_IDENTICAL","===",647],["T_WHITESPACE"," ",647],["T_VARIABLE","$attribute",647],")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n                    ",647],["T_VARIABLE","$elements",648],"[","]",["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$node",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","nodeValue",648],";",["T_WHITESPACE","\n                ",648],"}",["T_WHITESPACE"," ",649],["T_ELSE","else",649],["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n                    ",649],["T_VARIABLE","$elements",650],"[","]",["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],["T_VARIABLE","$node",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","getAttribute",650],"(",["T_VARIABLE","$attribute",650],")",";",["T_WHITESPACE","\n                ",650],"}",["T_WHITESPACE","\n            ",651],"}",["T_WHITESPACE","\n\n            ",652],["T_VARIABLE","$data",654],"[","]",["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$count",654],["T_WHITESPACE"," ",654],">",["T_WHITESPACE"," ",654],["T_LNUMBER","1",654],["T_WHITESPACE"," ",654],"?",["T_WHITESPACE"," ",654],["T_VARIABLE","$elements",654],["T_WHITESPACE"," ",654],":",["T_WHITESPACE"," ",654],["T_VARIABLE","$elements",654],"[",["T_LNUMBER","0",654],"]",";",["T_WHITESPACE","\n        ",654],"}",["T_WHITESPACE","\n\n        ",655],["T_RETURN","return",657],["T_WHITESPACE"," ",657],["T_VARIABLE","$data",657],";",["T_WHITESPACE","\n    ",657],"}",["T_WHITESPACE","\n\n    ",658],["T_DOC_COMMENT","\/**\n     * Filters the list of nodes with an XPath expression.\n     *\n     * The XPath expression is evaluated in the context of the crawler, which\n     * is considered as a fake parent of the elements inside it.\n     * This means that a child selector \"div\" or \".\/div\" will match only\n     * the div elements of the current crawler, not their children.\n     *\n     * @param string $xpath An XPath expression\n     *\n     * @return self\n     *\/",660],["T_WHITESPACE","\n    ",671],["T_PUBLIC","public",672],["T_WHITESPACE"," ",672],["T_FUNCTION","function",672],["T_WHITESPACE"," ",672],["T_STRING","filterXPath",672],"(",["T_VARIABLE","$xpath",672],")",["T_WHITESPACE","\n    ",672],"{",["T_WHITESPACE","\n        ",673],["T_VARIABLE","$xpath",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","relativize",674],"(",["T_VARIABLE","$xpath",674],")",";",["T_WHITESPACE","\n\n        ",674],["T_COMMENT","\/\/ If we dropped all expressions in the XPath while preparing it, there would be no match\n",676],["T_WHITESPACE","        ",677],["T_IF","if",677],["T_WHITESPACE"," ",677],"(",["T_CONSTANT_ENCAPSED_STRING","''",677],["T_WHITESPACE"," ",677],["T_IS_IDENTICAL","===",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$xpath",677],")",["T_WHITESPACE"," ",677],"{",["T_WHITESPACE","\n            ",677],["T_RETURN","return",678],["T_WHITESPACE"," ",678],["T_VARIABLE","$this",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","createSubCrawler",678],"(",["T_STRING","null",678],")",";",["T_WHITESPACE","\n        ",678],"}",["T_WHITESPACE","\n\n        ",679],["T_RETURN","return",681],["T_WHITESPACE"," ",681],["T_VARIABLE","$this",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","filterRelativeXPath",681],"(",["T_VARIABLE","$xpath",681],")",";",["T_WHITESPACE","\n    ",681],"}",["T_WHITESPACE","\n\n    ",682],["T_DOC_COMMENT","\/**\n     * Filters the list of nodes with a CSS selector.\n     *\n     * This method only works if you have installed the CssSelector Symfony Component.\n     *\n     * @param string $selector A CSS selector\n     *\n     * @return self\n     *\n     * @throws \\RuntimeException if the CssSelector Component is not available\n     *\/",684],["T_WHITESPACE","\n    ",694],["T_PUBLIC","public",695],["T_WHITESPACE"," ",695],["T_FUNCTION","function",695],["T_WHITESPACE"," ",695],["T_STRING","filter",695],"(",["T_VARIABLE","$selector",695],")",["T_WHITESPACE","\n    ",695],"{",["T_WHITESPACE","\n        ",696],["T_IF","if",697],["T_WHITESPACE"," ",697],"(","!",["T_STRING","class_exists",697],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\\\Component\\\\CssSelector\\\\CssSelectorConverter'",697],")",")",["T_WHITESPACE"," ",697],"{",["T_WHITESPACE","\n            ",697],["T_THROW","throw",698],["T_WHITESPACE"," ",698],["T_NEW","new",698],["T_WHITESPACE"," ",698],["T_NS_SEPARATOR","\\",698],["T_STRING","RuntimeException",698],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to filter with a CSS selector as the Symfony CssSelector 2.8+ is not installed (you can use filterXPath instead).'",698],")",";",["T_WHITESPACE","\n        ",698],"}",["T_WHITESPACE","\n\n        ",699],["T_VARIABLE","$converter",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_NEW","new",701],["T_WHITESPACE"," ",701],["T_STRING","CssSelectorConverter",701],"(",["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","isHtml",701],")",";",["T_WHITESPACE","\n\n        ",701],["T_COMMENT","\/\/ The CssSelector already prefixes the selector with descendant-or-self::\n",703],["T_WHITESPACE","        ",704],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","filterRelativeXPath",704],"(",["T_VARIABLE","$converter",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","toXPath",704],"(",["T_VARIABLE","$selector",704],")",")",";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Selects links by name or alt value for clickable images.\n     *\n     * @param string $value The link text\n     *\n     * @return self\n     *\/",707],["T_WHITESPACE","\n    ",713],["T_PUBLIC","public",714],["T_WHITESPACE"," ",714],["T_FUNCTION","function",714],["T_WHITESPACE"," ",714],["T_STRING","selectLink",714],"(",["T_VARIABLE","$value",714],")",["T_WHITESPACE","\n    ",714],"{",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$xpath",716],["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_STRING","sprintf",716],"(",["T_CONSTANT_ENCAPSED_STRING","'descendant-or-self::a[contains(concat(\\' \\', normalize-space(string(.)), \\' \\'), %s) '",716],",",["T_WHITESPACE"," ",716],["T_STATIC","static",716],["T_DOUBLE_COLON","::",716],["T_STRING","xpathLiteral",716],"(",["T_CONSTANT_ENCAPSED_STRING","' '",716],".",["T_VARIABLE","$value",716],".",["T_CONSTANT_ENCAPSED_STRING","' '",716],")",")",".",["T_WHITESPACE","\n                            ",716],["T_STRING","sprintf",717],"(",["T_CONSTANT_ENCAPSED_STRING","'or .\/img[contains(concat(\\' \\', normalize-space(string(@alt)), \\' \\'), %s)]]'",717],",",["T_WHITESPACE"," ",717],["T_STATIC","static",717],["T_DOUBLE_COLON","::",717],["T_STRING","xpathLiteral",717],"(",["T_CONSTANT_ENCAPSED_STRING","' '",717],".",["T_VARIABLE","$value",717],".",["T_CONSTANT_ENCAPSED_STRING","' '",717],")",")",";",["T_WHITESPACE","\n\n        ",717],["T_RETURN","return",719],["T_WHITESPACE"," ",719],["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","filterRelativeXPath",719],"(",["T_VARIABLE","$xpath",719],")",";",["T_WHITESPACE","\n    ",719],"}",["T_WHITESPACE","\n\n    ",720],["T_DOC_COMMENT","\/**\n     * Selects images by alt value.\n     *\n     * @param string $value The image alt\n     *\n     * @return self A new instance of Crawler with the filtered list of nodes\n     *\/",722],["T_WHITESPACE","\n    ",728],["T_PUBLIC","public",729],["T_WHITESPACE"," ",729],["T_FUNCTION","function",729],["T_WHITESPACE"," ",729],["T_STRING","selectImage",729],"(",["T_VARIABLE","$value",729],")",["T_WHITESPACE","\n    ",729],"{",["T_WHITESPACE","\n        ",730],["T_VARIABLE","$xpath",731],["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_STRING","sprintf",731],"(",["T_CONSTANT_ENCAPSED_STRING","'descendant-or-self::img[contains(normalize-space(string(@alt)), %s)]'",731],",",["T_WHITESPACE"," ",731],["T_STATIC","static",731],["T_DOUBLE_COLON","::",731],["T_STRING","xpathLiteral",731],"(",["T_VARIABLE","$value",731],")",")",";",["T_WHITESPACE","\n\n        ",731],["T_RETURN","return",733],["T_WHITESPACE"," ",733],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","filterRelativeXPath",733],"(",["T_VARIABLE","$xpath",733],")",";",["T_WHITESPACE","\n    ",733],"}",["T_WHITESPACE","\n\n    ",734],["T_DOC_COMMENT","\/**\n     * Selects a button by name or alt value for images.\n     *\n     * @param string $value The button text\n     *\n     * @return self\n     *\/",736],["T_WHITESPACE","\n    ",742],["T_PUBLIC","public",743],["T_WHITESPACE"," ",743],["T_FUNCTION","function",743],["T_WHITESPACE"," ",743],["T_STRING","selectButton",743],"(",["T_VARIABLE","$value",743],")",["T_WHITESPACE","\n    ",743],"{",["T_WHITESPACE","\n        ",744],["T_VARIABLE","$translate",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_CONSTANT_ENCAPSED_STRING","'translate(@type, \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\", \"abcdefghijklmnopqrstuvwxyz\")'",745],";",["T_WHITESPACE","\n        ",745],["T_VARIABLE","$xpath",746],["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_STRING","sprintf",746],"(",["T_CONSTANT_ENCAPSED_STRING","'descendant-or-self::input[((contains(%s, \"submit\") or contains(%s, \"button\")) and contains(concat(\\' \\', normalize-space(string(@value)), \\' \\'), %s)) '",746],",",["T_WHITESPACE"," ",746],["T_VARIABLE","$translate",746],",",["T_WHITESPACE"," ",746],["T_VARIABLE","$translate",746],",",["T_WHITESPACE"," ",746],["T_STATIC","static",746],["T_DOUBLE_COLON","::",746],["T_STRING","xpathLiteral",746],"(",["T_CONSTANT_ENCAPSED_STRING","' '",746],".",["T_VARIABLE","$value",746],".",["T_CONSTANT_ENCAPSED_STRING","' '",746],")",")",".",["T_WHITESPACE","\n                         ",746],["T_STRING","sprintf",747],"(",["T_CONSTANT_ENCAPSED_STRING","'or (contains(%s, \"image\") and contains(concat(\\' \\', normalize-space(string(@alt)), \\' \\'), %s)) or @id=%s or @name=%s] '",747],",",["T_WHITESPACE"," ",747],["T_VARIABLE","$translate",747],",",["T_WHITESPACE"," ",747],["T_STATIC","static",747],["T_DOUBLE_COLON","::",747],["T_STRING","xpathLiteral",747],"(",["T_CONSTANT_ENCAPSED_STRING","' '",747],".",["T_VARIABLE","$value",747],".",["T_CONSTANT_ENCAPSED_STRING","' '",747],")",",",["T_WHITESPACE"," ",747],["T_STATIC","static",747],["T_DOUBLE_COLON","::",747],["T_STRING","xpathLiteral",747],"(",["T_VARIABLE","$value",747],")",",",["T_WHITESPACE"," ",747],["T_STATIC","static",747],["T_DOUBLE_COLON","::",747],["T_STRING","xpathLiteral",747],"(",["T_VARIABLE","$value",747],")",")",".",["T_WHITESPACE","\n                         ",747],["T_STRING","sprintf",748],"(",["T_CONSTANT_ENCAPSED_STRING","'| descendant-or-self::button[contains(concat(\\' \\', normalize-space(string(.)), \\' \\'), %s) or @id=%s or @name=%s]'",748],",",["T_WHITESPACE"," ",748],["T_STATIC","static",748],["T_DOUBLE_COLON","::",748],["T_STRING","xpathLiteral",748],"(",["T_CONSTANT_ENCAPSED_STRING","' '",748],".",["T_VARIABLE","$value",748],".",["T_CONSTANT_ENCAPSED_STRING","' '",748],")",",",["T_WHITESPACE"," ",748],["T_STATIC","static",748],["T_DOUBLE_COLON","::",748],["T_STRING","xpathLiteral",748],"(",["T_VARIABLE","$value",748],")",",",["T_WHITESPACE"," ",748],["T_STATIC","static",748],["T_DOUBLE_COLON","::",748],["T_STRING","xpathLiteral",748],"(",["T_VARIABLE","$value",748],")",")",";",["T_WHITESPACE","\n\n        ",748],["T_RETURN","return",750],["T_WHITESPACE"," ",750],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","filterRelativeXPath",750],"(",["T_VARIABLE","$xpath",750],")",";",["T_WHITESPACE","\n    ",750],"}",["T_WHITESPACE","\n\n    ",751],["T_DOC_COMMENT","\/**\n     * Returns a Link object for the first node in the list.\n     *\n     * @param string $method The method for the link (get by default)\n     *\n     * @return Link A Link instance\n     *\n     * @throws \\InvalidArgumentException If the current node list is empty or the selected node is not instance of DOMElement\n     *\/",753],["T_WHITESPACE","\n    ",761],["T_PUBLIC","public",762],["T_WHITESPACE"," ",762],["T_FUNCTION","function",762],["T_WHITESPACE"," ",762],["T_STRING","link",762],"(",["T_VARIABLE","$method",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_CONSTANT_ENCAPSED_STRING","'get'",762],")",["T_WHITESPACE","\n    ",762],"{",["T_WHITESPACE","\n        ",763],["T_IF","if",764],["T_WHITESPACE"," ",764],"(","!",["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","nodes",764],")",["T_WHITESPACE"," ",764],"{",["T_WHITESPACE","\n            ",764],["T_THROW","throw",765],["T_WHITESPACE"," ",765],["T_NEW","new",765],["T_WHITESPACE"," ",765],["T_NS_SEPARATOR","\\",765],["T_STRING","InvalidArgumentException",765],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",765],")",";",["T_WHITESPACE","\n        ",765],"}",["T_WHITESPACE","\n\n        ",766],["T_VARIABLE","$node",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","getNode",768],"(",["T_LNUMBER","0",768],")",";",["T_WHITESPACE","\n\n        ",768],["T_IF","if",770],["T_WHITESPACE"," ",770],"(","!",["T_VARIABLE","$node",770],["T_WHITESPACE"," ",770],["T_INSTANCEOF","instanceof",770],["T_WHITESPACE"," ",770],["T_NS_SEPARATOR","\\",770],["T_STRING","DOMElement",770],")",["T_WHITESPACE"," ",770],"{",["T_WHITESPACE","\n            ",770],["T_THROW","throw",771],["T_WHITESPACE"," ",771],["T_NEW","new",771],["T_WHITESPACE"," ",771],["T_NS_SEPARATOR","\\",771],["T_STRING","InvalidArgumentException",771],"(",["T_STRING","sprintf",771],"(",["T_CONSTANT_ENCAPSED_STRING","'The selected node should be instance of DOMElement, got \"%s\".'",771],",",["T_WHITESPACE"," ",771],["T_STRING","get_class",771],"(",["T_VARIABLE","$node",771],")",")",")",";",["T_WHITESPACE","\n        ",771],"}",["T_WHITESPACE","\n\n        ",772],["T_RETURN","return",774],["T_WHITESPACE"," ",774],["T_NEW","new",774],["T_WHITESPACE"," ",774],["T_STRING","Link",774],"(",["T_VARIABLE","$node",774],",",["T_WHITESPACE"," ",774],["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","baseHref",774],",",["T_WHITESPACE"," ",774],["T_VARIABLE","$method",774],")",";",["T_WHITESPACE","\n    ",774],"}",["T_WHITESPACE","\n\n    ",775],["T_DOC_COMMENT","\/**\n     * Returns an array of Link objects for the nodes in the list.\n     *\n     * @return Link[] An array of Link instances\n     *\n     * @throws \\InvalidArgumentException If the current node list contains non-DOMElement instances\n     *\/",777],["T_WHITESPACE","\n    ",783],["T_PUBLIC","public",784],["T_WHITESPACE"," ",784],["T_FUNCTION","function",784],["T_WHITESPACE"," ",784],["T_STRING","links",784],"(",")",["T_WHITESPACE","\n    ",784],"{",["T_WHITESPACE","\n        ",785],["T_VARIABLE","$links",786],["T_WHITESPACE"," ",786],"=",["T_WHITESPACE"," ",786],["T_ARRAY","array",786],"(",")",";",["T_WHITESPACE","\n        ",786],["T_FOREACH","foreach",787],["T_WHITESPACE"," ",787],"(",["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","nodes",787],["T_WHITESPACE"," ",787],["T_AS","as",787],["T_WHITESPACE"," ",787],["T_VARIABLE","$node",787],")",["T_WHITESPACE"," ",787],"{",["T_WHITESPACE","\n            ",787],["T_IF","if",788],["T_WHITESPACE"," ",788],"(","!",["T_VARIABLE","$node",788],["T_WHITESPACE"," ",788],["T_INSTANCEOF","instanceof",788],["T_WHITESPACE"," ",788],["T_NS_SEPARATOR","\\",788],["T_STRING","DOMElement",788],")",["T_WHITESPACE"," ",788],"{",["T_WHITESPACE","\n                ",788],["T_THROW","throw",789],["T_WHITESPACE"," ",789],["T_NEW","new",789],["T_WHITESPACE"," ",789],["T_NS_SEPARATOR","\\",789],["T_STRING","InvalidArgumentException",789],"(",["T_STRING","sprintf",789],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list should contain only DOMElement instances, \"%s\" found.'",789],",",["T_WHITESPACE"," ",789],["T_STRING","get_class",789],"(",["T_VARIABLE","$node",789],")",")",")",";",["T_WHITESPACE","\n            ",789],"}",["T_WHITESPACE","\n\n            ",790],["T_VARIABLE","$links",792],"[","]",["T_WHITESPACE"," ",792],"=",["T_WHITESPACE"," ",792],["T_NEW","new",792],["T_WHITESPACE"," ",792],["T_STRING","Link",792],"(",["T_VARIABLE","$node",792],",",["T_WHITESPACE"," ",792],["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","baseHref",792],",",["T_WHITESPACE"," ",792],["T_CONSTANT_ENCAPSED_STRING","'get'",792],")",";",["T_WHITESPACE","\n        ",792],"}",["T_WHITESPACE","\n\n        ",793],["T_RETURN","return",795],["T_WHITESPACE"," ",795],["T_VARIABLE","$links",795],";",["T_WHITESPACE","\n    ",795],"}",["T_WHITESPACE","\n\n    ",796],["T_DOC_COMMENT","\/**\n     * Returns an Image object for the first node in the list.\n     *\n     * @return Image An Image instance\n     *\n     * @throws \\InvalidArgumentException If the current node list is empty\n     *\/",798],["T_WHITESPACE","\n    ",804],["T_PUBLIC","public",805],["T_WHITESPACE"," ",805],["T_FUNCTION","function",805],["T_WHITESPACE"," ",805],["T_STRING","image",805],"(",")",["T_WHITESPACE","\n    ",805],"{",["T_WHITESPACE","\n        ",806],["T_IF","if",807],["T_WHITESPACE"," ",807],"(","!",["T_STRING","count",807],"(",["T_VARIABLE","$this",807],")",")",["T_WHITESPACE"," ",807],"{",["T_WHITESPACE","\n            ",807],["T_THROW","throw",808],["T_WHITESPACE"," ",808],["T_NEW","new",808],["T_WHITESPACE"," ",808],["T_NS_SEPARATOR","\\",808],["T_STRING","InvalidArgumentException",808],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",808],")",";",["T_WHITESPACE","\n        ",808],"}",["T_WHITESPACE","\n\n        ",809],["T_VARIABLE","$node",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","getNode",811],"(",["T_LNUMBER","0",811],")",";",["T_WHITESPACE","\n\n        ",811],["T_IF","if",813],["T_WHITESPACE"," ",813],"(","!",["T_VARIABLE","$node",813],["T_WHITESPACE"," ",813],["T_INSTANCEOF","instanceof",813],["T_WHITESPACE"," ",813],["T_NS_SEPARATOR","\\",813],["T_STRING","DOMElement",813],")",["T_WHITESPACE"," ",813],"{",["T_WHITESPACE","\n            ",813],["T_THROW","throw",814],["T_WHITESPACE"," ",814],["T_NEW","new",814],["T_WHITESPACE"," ",814],["T_NS_SEPARATOR","\\",814],["T_STRING","InvalidArgumentException",814],"(",["T_STRING","sprintf",814],"(",["T_CONSTANT_ENCAPSED_STRING","'The selected node should be instance of DOMElement, got \"%s\".'",814],",",["T_WHITESPACE"," ",814],["T_STRING","get_class",814],"(",["T_VARIABLE","$node",814],")",")",")",";",["T_WHITESPACE","\n        ",814],"}",["T_WHITESPACE","\n\n        ",815],["T_RETURN","return",817],["T_WHITESPACE"," ",817],["T_NEW","new",817],["T_WHITESPACE"," ",817],["T_STRING","Image",817],"(",["T_VARIABLE","$node",817],",",["T_WHITESPACE"," ",817],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","baseHref",817],")",";",["T_WHITESPACE","\n    ",817],"}",["T_WHITESPACE","\n\n    ",818],["T_DOC_COMMENT","\/**\n     * Returns an array of Image objects for the nodes in the list.\n     *\n     * @return Image[] An array of Image instances\n     *\/",820],["T_WHITESPACE","\n    ",824],["T_PUBLIC","public",825],["T_WHITESPACE"," ",825],["T_FUNCTION","function",825],["T_WHITESPACE"," ",825],["T_STRING","images",825],"(",")",["T_WHITESPACE","\n    ",825],"{",["T_WHITESPACE","\n        ",826],["T_VARIABLE","$images",827],["T_WHITESPACE"," ",827],"=",["T_WHITESPACE"," ",827],["T_ARRAY","array",827],"(",")",";",["T_WHITESPACE","\n        ",827],["T_FOREACH","foreach",828],["T_WHITESPACE"," ",828],"(",["T_VARIABLE","$this",828],["T_WHITESPACE"," ",828],["T_AS","as",828],["T_WHITESPACE"," ",828],["T_VARIABLE","$node",828],")",["T_WHITESPACE"," ",828],"{",["T_WHITESPACE","\n            ",828],["T_IF","if",829],["T_WHITESPACE"," ",829],"(","!",["T_VARIABLE","$node",829],["T_WHITESPACE"," ",829],["T_INSTANCEOF","instanceof",829],["T_WHITESPACE"," ",829],["T_NS_SEPARATOR","\\",829],["T_STRING","DOMElement",829],")",["T_WHITESPACE"," ",829],"{",["T_WHITESPACE","\n                ",829],["T_THROW","throw",830],["T_WHITESPACE"," ",830],["T_NEW","new",830],["T_WHITESPACE"," ",830],["T_NS_SEPARATOR","\\",830],["T_STRING","InvalidArgumentException",830],"(",["T_STRING","sprintf",830],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list should contain only DOMElement instances, \"%s\" found.'",830],",",["T_WHITESPACE"," ",830],["T_STRING","get_class",830],"(",["T_VARIABLE","$node",830],")",")",")",";",["T_WHITESPACE","\n            ",830],"}",["T_WHITESPACE","\n\n            ",831],["T_VARIABLE","$images",833],"[","]",["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_NEW","new",833],["T_WHITESPACE"," ",833],["T_STRING","Image",833],"(",["T_VARIABLE","$node",833],",",["T_WHITESPACE"," ",833],["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","baseHref",833],")",";",["T_WHITESPACE","\n        ",833],"}",["T_WHITESPACE","\n\n        ",834],["T_RETURN","return",836],["T_WHITESPACE"," ",836],["T_VARIABLE","$images",836],";",["T_WHITESPACE","\n    ",836],"}",["T_WHITESPACE","\n\n    ",837],["T_DOC_COMMENT","\/**\n     * Returns a Form object for the first node in the list.\n     *\n     * @param array  $values An array of values for the form fields\n     * @param string $method The method for the form\n     *\n     * @return Form A Form instance\n     *\n     * @throws \\InvalidArgumentException If the current node list is empty or the selected node is not instance of DOMElement\n     *\/",839],["T_WHITESPACE","\n    ",848],["T_PUBLIC","public",849],["T_WHITESPACE"," ",849],["T_FUNCTION","function",849],["T_WHITESPACE"," ",849],["T_STRING","form",849],"(",["T_ARRAY","array",849],["T_WHITESPACE"," ",849],["T_VARIABLE","$values",849],["T_WHITESPACE"," ",849],"=",["T_WHITESPACE"," ",849],["T_STRING","null",849],",",["T_WHITESPACE"," ",849],["T_VARIABLE","$method",849],["T_WHITESPACE"," ",849],"=",["T_WHITESPACE"," ",849],["T_STRING","null",849],")",["T_WHITESPACE","\n    ",849],"{",["T_WHITESPACE","\n        ",850],["T_IF","if",851],["T_WHITESPACE"," ",851],"(","!",["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","nodes",851],")",["T_WHITESPACE"," ",851],"{",["T_WHITESPACE","\n            ",851],["T_THROW","throw",852],["T_WHITESPACE"," ",852],["T_NEW","new",852],["T_WHITESPACE"," ",852],["T_NS_SEPARATOR","\\",852],["T_STRING","InvalidArgumentException",852],"(",["T_CONSTANT_ENCAPSED_STRING","'The current node list is empty.'",852],")",";",["T_WHITESPACE","\n        ",852],"}",["T_WHITESPACE","\n\n        ",853],["T_VARIABLE","$node",855],["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","getNode",855],"(",["T_LNUMBER","0",855],")",";",["T_WHITESPACE","\n\n        ",855],["T_IF","if",857],["T_WHITESPACE"," ",857],"(","!",["T_VARIABLE","$node",857],["T_WHITESPACE"," ",857],["T_INSTANCEOF","instanceof",857],["T_WHITESPACE"," ",857],["T_NS_SEPARATOR","\\",857],["T_STRING","DOMElement",857],")",["T_WHITESPACE"," ",857],"{",["T_WHITESPACE","\n            ",857],["T_THROW","throw",858],["T_WHITESPACE"," ",858],["T_NEW","new",858],["T_WHITESPACE"," ",858],["T_NS_SEPARATOR","\\",858],["T_STRING","InvalidArgumentException",858],"(",["T_STRING","sprintf",858],"(",["T_CONSTANT_ENCAPSED_STRING","'The selected node should be instance of DOMElement, got \"%s\".'",858],",",["T_WHITESPACE"," ",858],["T_STRING","get_class",858],"(",["T_VARIABLE","$node",858],")",")",")",";",["T_WHITESPACE","\n        ",858],"}",["T_WHITESPACE","\n\n        ",859],["T_VARIABLE","$form",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_NEW","new",861],["T_WHITESPACE"," ",861],["T_STRING","Form",861],"(",["T_VARIABLE","$node",861],",",["T_WHITESPACE"," ",861],["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","uri",861],",",["T_WHITESPACE"," ",861],["T_VARIABLE","$method",861],",",["T_WHITESPACE"," ",861],["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","baseHref",861],")",";",["T_WHITESPACE","\n\n        ",861],["T_IF","if",863],["T_WHITESPACE"," ",863],"(",["T_STRING","null",863],["T_WHITESPACE"," ",863],["T_IS_NOT_IDENTICAL","!==",863],["T_WHITESPACE"," ",863],["T_VARIABLE","$values",863],")",["T_WHITESPACE"," ",863],"{",["T_WHITESPACE","\n            ",863],["T_VARIABLE","$form",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","setValues",864],"(",["T_VARIABLE","$values",864],")",";",["T_WHITESPACE","\n        ",864],"}",["T_WHITESPACE","\n\n        ",865],["T_RETURN","return",867],["T_WHITESPACE"," ",867],["T_VARIABLE","$form",867],";",["T_WHITESPACE","\n    ",867],"}",["T_WHITESPACE","\n\n    ",868],["T_DOC_COMMENT","\/**\n     * Overloads a default namespace prefix to be used with XPath and CSS expressions.\n     *\n     * @param string $prefix\n     *\/",870],["T_WHITESPACE","\n    ",874],["T_PUBLIC","public",875],["T_WHITESPACE"," ",875],["T_FUNCTION","function",875],["T_WHITESPACE"," ",875],["T_STRING","setDefaultNamespacePrefix",875],"(",["T_VARIABLE","$prefix",875],")",["T_WHITESPACE","\n    ",875],"{",["T_WHITESPACE","\n        ",876],["T_VARIABLE","$this",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","defaultNamespacePrefix",877],["T_WHITESPACE"," ",877],"=",["T_WHITESPACE"," ",877],["T_VARIABLE","$prefix",877],";",["T_WHITESPACE","\n    ",877],"}",["T_WHITESPACE","\n\n    ",878],["T_DOC_COMMENT","\/**\n     * @param string $prefix\n     * @param string $namespace\n     *\/",880],["T_WHITESPACE","\n    ",883],["T_PUBLIC","public",884],["T_WHITESPACE"," ",884],["T_FUNCTION","function",884],["T_WHITESPACE"," ",884],["T_STRING","registerNamespace",884],"(",["T_VARIABLE","$prefix",884],",",["T_WHITESPACE"," ",884],["T_VARIABLE","$namespace",884],")",["T_WHITESPACE","\n    ",884],"{",["T_WHITESPACE","\n        ",885],["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","namespaces",886],"[",["T_VARIABLE","$prefix",886],"]",["T_WHITESPACE"," ",886],"=",["T_WHITESPACE"," ",886],["T_VARIABLE","$namespace",886],";",["T_WHITESPACE","\n    ",886],"}",["T_WHITESPACE","\n\n    ",887],["T_DOC_COMMENT","\/**\n     * Converts string for XPath expressions.\n     *\n     * Escaped characters are: quotes (\") and apostrophe (').\n     *\n     *  Examples:\n     *  <code>\n     *     echo Crawler::xpathLiteral('foo \" bar');\n     *     \/\/prints 'foo \" bar'\n     *\n     *     echo Crawler::xpathLiteral(\"foo ' bar\");\n     *     \/\/prints \"foo ' bar\"\n     *\n     *     echo Crawler::xpathLiteral('a\\'b\"c');\n     *     \/\/prints concat('a', \"'\", 'b\"c')\n     *  <\/code>\n     *\n     * @param string $s String to be escaped\n     *\n     * @return string Converted string\n     *\/",889],["T_WHITESPACE","\n    ",909],["T_PUBLIC","public",910],["T_WHITESPACE"," ",910],["T_STATIC","static",910],["T_WHITESPACE"," ",910],["T_FUNCTION","function",910],["T_WHITESPACE"," ",910],["T_STRING","xpathLiteral",910],"(",["T_VARIABLE","$s",910],")",["T_WHITESPACE","\n    ",910],"{",["T_WHITESPACE","\n        ",911],["T_IF","if",912],["T_WHITESPACE"," ",912],"(",["T_STRING","false",912],["T_WHITESPACE"," ",912],["T_IS_IDENTICAL","===",912],["T_WHITESPACE"," ",912],["T_STRING","strpos",912],"(",["T_VARIABLE","$s",912],",",["T_WHITESPACE"," ",912],["T_CONSTANT_ENCAPSED_STRING","\"'\"",912],")",")",["T_WHITESPACE"," ",912],"{",["T_WHITESPACE","\n            ",912],["T_RETURN","return",913],["T_WHITESPACE"," ",913],["T_STRING","sprintf",913],"(",["T_CONSTANT_ENCAPSED_STRING","\"'%s'\"",913],",",["T_WHITESPACE"," ",913],["T_VARIABLE","$s",913],")",";",["T_WHITESPACE","\n        ",913],"}",["T_WHITESPACE","\n\n        ",914],["T_IF","if",916],["T_WHITESPACE"," ",916],"(",["T_STRING","false",916],["T_WHITESPACE"," ",916],["T_IS_IDENTICAL","===",916],["T_WHITESPACE"," ",916],["T_STRING","strpos",916],"(",["T_VARIABLE","$s",916],",",["T_WHITESPACE"," ",916],["T_CONSTANT_ENCAPSED_STRING","'\"'",916],")",")",["T_WHITESPACE"," ",916],"{",["T_WHITESPACE","\n            ",916],["T_RETURN","return",917],["T_WHITESPACE"," ",917],["T_STRING","sprintf",917],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\"'",917],",",["T_WHITESPACE"," ",917],["T_VARIABLE","$s",917],")",";",["T_WHITESPACE","\n        ",917],"}",["T_WHITESPACE","\n\n        ",918],["T_VARIABLE","$string",920],["T_WHITESPACE"," ",920],"=",["T_WHITESPACE"," ",920],["T_VARIABLE","$s",920],";",["T_WHITESPACE","\n        ",920],["T_VARIABLE","$parts",921],["T_WHITESPACE"," ",921],"=",["T_WHITESPACE"," ",921],["T_ARRAY","array",921],"(",")",";",["T_WHITESPACE","\n        ",921],["T_WHILE","while",922],["T_WHITESPACE"," ",922],"(",["T_STRING","true",922],")",["T_WHITESPACE"," ",922],"{",["T_WHITESPACE","\n            ",922],["T_IF","if",923],["T_WHITESPACE"," ",923],"(",["T_STRING","false",923],["T_WHITESPACE"," ",923],["T_IS_NOT_IDENTICAL","!==",923],["T_WHITESPACE"," ",923],["T_VARIABLE","$pos",923],["T_WHITESPACE"," ",923],"=",["T_WHITESPACE"," ",923],["T_STRING","strpos",923],"(",["T_VARIABLE","$string",923],",",["T_WHITESPACE"," ",923],["T_CONSTANT_ENCAPSED_STRING","\"'\"",923],")",")",["T_WHITESPACE"," ",923],"{",["T_WHITESPACE","\n                ",923],["T_VARIABLE","$parts",924],"[","]",["T_WHITESPACE"," ",924],"=",["T_WHITESPACE"," ",924],["T_STRING","sprintf",924],"(",["T_CONSTANT_ENCAPSED_STRING","\"'%s'\"",924],",",["T_WHITESPACE"," ",924],["T_STRING","substr",924],"(",["T_VARIABLE","$string",924],",",["T_WHITESPACE"," ",924],["T_LNUMBER","0",924],",",["T_WHITESPACE"," ",924],["T_VARIABLE","$pos",924],")",")",";",["T_WHITESPACE","\n                ",924],["T_VARIABLE","$parts",925],"[","]",["T_WHITESPACE"," ",925],"=",["T_WHITESPACE"," ",925],["T_CONSTANT_ENCAPSED_STRING","\"\\\"'\\\"\"",925],";",["T_WHITESPACE","\n                ",925],["T_VARIABLE","$string",926],["T_WHITESPACE"," ",926],"=",["T_WHITESPACE"," ",926],["T_STRING","substr",926],"(",["T_VARIABLE","$string",926],",",["T_WHITESPACE"," ",926],["T_VARIABLE","$pos",926],["T_WHITESPACE"," ",926],"+",["T_WHITESPACE"," ",926],["T_LNUMBER","1",926],")",";",["T_WHITESPACE","\n            ",926],"}",["T_WHITESPACE"," ",927],["T_ELSE","else",927],["T_WHITESPACE"," ",927],"{",["T_WHITESPACE","\n                ",927],["T_VARIABLE","$parts",928],"[","]",["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],"\"",["T_ENCAPSED_AND_WHITESPACE","'",928],["T_VARIABLE","$string",928],["T_ENCAPSED_AND_WHITESPACE","'",928],"\"",";",["T_WHITESPACE","\n                ",928],["T_BREAK","break",929],";",["T_WHITESPACE","\n            ",929],"}",["T_WHITESPACE","\n        ",930],"}",["T_WHITESPACE","\n\n        ",931],["T_RETURN","return",933],["T_WHITESPACE"," ",933],["T_STRING","sprintf",933],"(",["T_CONSTANT_ENCAPSED_STRING","'concat(%s)'",933],",",["T_WHITESPACE"," ",933],["T_STRING","implode",933],"(",["T_CONSTANT_ENCAPSED_STRING","', '",933],",",["T_WHITESPACE"," ",933],["T_VARIABLE","$parts",933],")",")",";",["T_WHITESPACE","\n    ",933],"}",["T_WHITESPACE","\n\n    ",934],["T_DOC_COMMENT","\/**\n     * Filters the list of nodes with an XPath expression.\n     *\n     * The XPath expression should already be processed to apply it in the context of each node.\n     *\n     * @param string $xpath\n     *\n     * @return self\n     *\/",936],["T_WHITESPACE","\n    ",944],["T_PRIVATE","private",945],["T_WHITESPACE"," ",945],["T_FUNCTION","function",945],["T_WHITESPACE"," ",945],["T_STRING","filterRelativeXPath",945],"(",["T_VARIABLE","$xpath",945],")",["T_WHITESPACE","\n    ",945],"{",["T_WHITESPACE","\n        ",946],["T_VARIABLE","$prefixes",947],["T_WHITESPACE"," ",947],"=",["T_WHITESPACE"," ",947],["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","findNamespacePrefixes",947],"(",["T_VARIABLE","$xpath",947],")",";",["T_WHITESPACE","\n\n        ",947],["T_VARIABLE","$crawler",949],["T_WHITESPACE"," ",949],"=",["T_WHITESPACE"," ",949],["T_VARIABLE","$this",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","createSubCrawler",949],"(",["T_STRING","null",949],")",";",["T_WHITESPACE","\n\n        ",949],["T_FOREACH","foreach",951],["T_WHITESPACE"," ",951],"(",["T_VARIABLE","$this",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","nodes",951],["T_WHITESPACE"," ",951],["T_AS","as",951],["T_WHITESPACE"," ",951],["T_VARIABLE","$node",951],")",["T_WHITESPACE"," ",951],"{",["T_WHITESPACE","\n            ",951],["T_VARIABLE","$domxpath",952],["T_WHITESPACE"," ",952],"=",["T_WHITESPACE"," ",952],["T_VARIABLE","$this",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","createDOMXPath",952],"(",["T_VARIABLE","$node",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","ownerDocument",952],",",["T_WHITESPACE"," ",952],["T_VARIABLE","$prefixes",952],")",";",["T_WHITESPACE","\n            ",952],["T_VARIABLE","$crawler",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","add",953],"(",["T_VARIABLE","$domxpath",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","query",953],"(",["T_VARIABLE","$xpath",953],",",["T_WHITESPACE"," ",953],["T_VARIABLE","$node",953],")",")",";",["T_WHITESPACE","\n        ",953],"}",["T_WHITESPACE","\n\n        ",954],["T_RETURN","return",956],["T_WHITESPACE"," ",956],["T_VARIABLE","$crawler",956],";",["T_WHITESPACE","\n    ",956],"}",["T_WHITESPACE","\n\n    ",957],["T_DOC_COMMENT","\/**\n     * Make the XPath relative to the current context.\n     *\n     * The returned XPath will match elements matching the XPath inside the current crawler\n     * when running in the context of a node of the crawler.\n     *\n     * @param string $xpath\n     *\n     * @return string\n     *\/",959],["T_WHITESPACE","\n    ",968],["T_PRIVATE","private",969],["T_WHITESPACE"," ",969],["T_FUNCTION","function",969],["T_WHITESPACE"," ",969],["T_STRING","relativize",969],"(",["T_VARIABLE","$xpath",969],")",["T_WHITESPACE","\n    ",969],"{",["T_WHITESPACE","\n        ",970],["T_VARIABLE","$expressions",971],["T_WHITESPACE"," ",971],"=",["T_WHITESPACE"," ",971],["T_ARRAY","array",971],"(",")",";",["T_WHITESPACE","\n\n        ",971],["T_COMMENT","\/\/ An expression which will never match to replace expressions which cannot match in the crawler\n",973],["T_WHITESPACE","        ",974],["T_COMMENT","\/\/ We cannot simply drop\n",974],["T_WHITESPACE","        ",975],["T_VARIABLE","$nonMatchingExpression",975],["T_WHITESPACE"," ",975],"=",["T_WHITESPACE"," ",975],["T_CONSTANT_ENCAPSED_STRING","'a[name() = \"b\"]'",975],";",["T_WHITESPACE","\n\n        ",975],["T_VARIABLE","$xpathLen",977],["T_WHITESPACE"," ",977],"=",["T_WHITESPACE"," ",977],["T_STRING","strlen",977],"(",["T_VARIABLE","$xpath",977],")",";",["T_WHITESPACE","\n        ",977],["T_VARIABLE","$openedBrackets",978],["T_WHITESPACE"," ",978],"=",["T_WHITESPACE"," ",978],["T_LNUMBER","0",978],";",["T_WHITESPACE","\n        ",978],["T_VARIABLE","$startPosition",979],["T_WHITESPACE"," ",979],"=",["T_WHITESPACE"," ",979],["T_STRING","strspn",979],"(",["T_VARIABLE","$xpath",979],",",["T_WHITESPACE"," ",979],["T_CONSTANT_ENCAPSED_STRING","\" \\t\\n\\r\\0\\x0B\"",979],")",";",["T_WHITESPACE","\n\n        ",979],["T_FOR","for",981],["T_WHITESPACE"," ",981],"(",["T_VARIABLE","$i",981],["T_WHITESPACE"," ",981],"=",["T_WHITESPACE"," ",981],["T_VARIABLE","$startPosition",981],";",["T_WHITESPACE"," ",981],["T_VARIABLE","$i",981],["T_WHITESPACE"," ",981],["T_IS_SMALLER_OR_EQUAL","<=",981],["T_WHITESPACE"," ",981],["T_VARIABLE","$xpathLen",981],";",["T_WHITESPACE"," ",981],["T_INC","++",981],["T_VARIABLE","$i",981],")",["T_WHITESPACE"," ",981],"{",["T_WHITESPACE","\n            ",981],["T_VARIABLE","$i",982],["T_WHITESPACE"," ",982],["T_PLUS_EQUAL","+=",982],["T_WHITESPACE"," ",982],["T_STRING","strcspn",982],"(",["T_VARIABLE","$xpath",982],",",["T_WHITESPACE"," ",982],["T_CONSTANT_ENCAPSED_STRING","'\"\\'[]|'",982],",",["T_WHITESPACE"," ",982],["T_VARIABLE","$i",982],")",";",["T_WHITESPACE","\n\n            ",982],["T_IF","if",984],["T_WHITESPACE"," ",984],"(",["T_VARIABLE","$i",984],["T_WHITESPACE"," ",984],"<",["T_WHITESPACE"," ",984],["T_VARIABLE","$xpathLen",984],")",["T_WHITESPACE"," ",984],"{",["T_WHITESPACE","\n                ",984],["T_SWITCH","switch",985],["T_WHITESPACE"," ",985],"(",["T_VARIABLE","$xpath",985],"[",["T_VARIABLE","$i",985],"]",")",["T_WHITESPACE"," ",985],"{",["T_WHITESPACE","\n                    ",985],["T_CASE","case",986],["T_WHITESPACE"," ",986],["T_CONSTANT_ENCAPSED_STRING","'\"'",986],":",["T_WHITESPACE","\n                    ",986],["T_CASE","case",987],["T_WHITESPACE"," ",987],["T_CONSTANT_ENCAPSED_STRING","\"'\"",987],":",["T_WHITESPACE","\n                        ",987],["T_IF","if",988],["T_WHITESPACE"," ",988],"(",["T_STRING","false",988],["T_WHITESPACE"," ",988],["T_IS_IDENTICAL","===",988],["T_WHITESPACE"," ",988],["T_VARIABLE","$i",988],["T_WHITESPACE"," ",988],"=",["T_WHITESPACE"," ",988],["T_STRING","strpos",988],"(",["T_VARIABLE","$xpath",988],",",["T_WHITESPACE"," ",988],["T_VARIABLE","$xpath",988],"[",["T_VARIABLE","$i",988],"]",",",["T_WHITESPACE"," ",988],["T_VARIABLE","$i",988],["T_WHITESPACE"," ",988],"+",["T_WHITESPACE"," ",988],["T_LNUMBER","1",988],")",")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n                            ",988],["T_RETURN","return",989],["T_WHITESPACE"," ",989],["T_VARIABLE","$xpath",989],";",["T_WHITESPACE"," ",989],["T_COMMENT","\/\/ The XPath expression is invalid\n",989],["T_WHITESPACE","                        ",990],"}",["T_WHITESPACE","\n                        ",990],["T_CONTINUE","continue",991],["T_WHITESPACE"," ",991],["T_LNUMBER","2",991],";",["T_WHITESPACE","\n                    ",991],["T_CASE","case",992],["T_WHITESPACE"," ",992],["T_CONSTANT_ENCAPSED_STRING","'['",992],":",["T_WHITESPACE","\n                        ",992],["T_INC","++",993],["T_VARIABLE","$openedBrackets",993],";",["T_WHITESPACE","\n                        ",993],["T_CONTINUE","continue",994],["T_WHITESPACE"," ",994],["T_LNUMBER","2",994],";",["T_WHITESPACE","\n                    ",994],["T_CASE","case",995],["T_WHITESPACE"," ",995],["T_CONSTANT_ENCAPSED_STRING","']'",995],":",["T_WHITESPACE","\n                        ",995],["T_DEC","--",996],["T_VARIABLE","$openedBrackets",996],";",["T_WHITESPACE","\n                        ",996],["T_CONTINUE","continue",997],["T_WHITESPACE"," ",997],["T_LNUMBER","2",997],";",["T_WHITESPACE","\n                ",997],"}",["T_WHITESPACE","\n            ",998],"}",["T_WHITESPACE","\n            ",999],["T_IF","if",1000],["T_WHITESPACE"," ",1000],"(",["T_VARIABLE","$openedBrackets",1000],")",["T_WHITESPACE"," ",1000],"{",["T_WHITESPACE","\n                ",1000],["T_CONTINUE","continue",1001],";",["T_WHITESPACE","\n            ",1001],"}",["T_WHITESPACE","\n\n            ",1002],["T_IF","if",1004],["T_WHITESPACE"," ",1004],"(",["T_VARIABLE","$startPosition",1004],["T_WHITESPACE"," ",1004],"<",["T_WHITESPACE"," ",1004],["T_VARIABLE","$xpathLen",1004],["T_WHITESPACE"," ",1004],["T_BOOLEAN_AND","&&",1004],["T_WHITESPACE"," ",1004],["T_CONSTANT_ENCAPSED_STRING","'('",1004],["T_WHITESPACE"," ",1004],["T_IS_IDENTICAL","===",1004],["T_WHITESPACE"," ",1004],["T_VARIABLE","$xpath",1004],"[",["T_VARIABLE","$startPosition",1004],"]",")",["T_WHITESPACE"," ",1004],"{",["T_WHITESPACE","\n                ",1004],["T_COMMENT","\/\/ If the union is inside some braces, we need to preserve the opening braces and apply\n",1005],["T_WHITESPACE","                ",1006],["T_COMMENT","\/\/ the change only inside it.\n",1006],["T_WHITESPACE","                ",1007],["T_VARIABLE","$j",1007],["T_WHITESPACE"," ",1007],"=",["T_WHITESPACE"," ",1007],["T_LNUMBER","1",1007],["T_WHITESPACE"," ",1007],"+",["T_WHITESPACE"," ",1007],["T_STRING","strspn",1007],"(",["T_VARIABLE","$xpath",1007],",",["T_WHITESPACE"," ",1007],["T_CONSTANT_ENCAPSED_STRING","\"( \\t\\n\\r\\0\\x0B\"",1007],",",["T_WHITESPACE"," ",1007],["T_VARIABLE","$startPosition",1007],["T_WHITESPACE"," ",1007],"+",["T_WHITESPACE"," ",1007],["T_LNUMBER","1",1007],")",";",["T_WHITESPACE","\n                ",1007],["T_VARIABLE","$parenthesis",1008],["T_WHITESPACE"," ",1008],"=",["T_WHITESPACE"," ",1008],["T_STRING","substr",1008],"(",["T_VARIABLE","$xpath",1008],",",["T_WHITESPACE"," ",1008],["T_VARIABLE","$startPosition",1008],",",["T_WHITESPACE"," ",1008],["T_VARIABLE","$j",1008],")",";",["T_WHITESPACE","\n                ",1008],["T_VARIABLE","$startPosition",1009],["T_WHITESPACE"," ",1009],["T_PLUS_EQUAL","+=",1009],["T_WHITESPACE"," ",1009],["T_VARIABLE","$j",1009],";",["T_WHITESPACE","\n            ",1009],"}",["T_WHITESPACE"," ",1010],["T_ELSE","else",1010],["T_WHITESPACE"," ",1010],"{",["T_WHITESPACE","\n                ",1010],["T_VARIABLE","$parenthesis",1011],["T_WHITESPACE"," ",1011],"=",["T_WHITESPACE"," ",1011],["T_CONSTANT_ENCAPSED_STRING","''",1011],";",["T_WHITESPACE","\n            ",1011],"}",["T_WHITESPACE","\n            ",1012],["T_VARIABLE","$expression",1013],["T_WHITESPACE"," ",1013],"=",["T_WHITESPACE"," ",1013],["T_STRING","rtrim",1013],"(",["T_STRING","substr",1013],"(",["T_VARIABLE","$xpath",1013],",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$startPosition",1013],",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$i",1013],["T_WHITESPACE"," ",1013],"-",["T_WHITESPACE"," ",1013],["T_VARIABLE","$startPosition",1013],")",")",";",["T_WHITESPACE","\n\n            ",1013],["T_IF","if",1015],["T_WHITESPACE"," ",1015],"(",["T_LNUMBER","0",1015],["T_WHITESPACE"," ",1015],["T_IS_IDENTICAL","===",1015],["T_WHITESPACE"," ",1015],["T_STRING","strpos",1015],"(",["T_VARIABLE","$expression",1015],",",["T_WHITESPACE"," ",1015],["T_CONSTANT_ENCAPSED_STRING","'self::*\/'",1015],")",")",["T_WHITESPACE"," ",1015],"{",["T_WHITESPACE","\n                ",1015],["T_VARIABLE","$expression",1016],["T_WHITESPACE"," ",1016],"=",["T_WHITESPACE"," ",1016],["T_CONSTANT_ENCAPSED_STRING","'.\/'",1016],".",["T_STRING","substr",1016],"(",["T_VARIABLE","$expression",1016],",",["T_WHITESPACE"," ",1016],["T_LNUMBER","8",1016],")",";",["T_WHITESPACE","\n            ",1016],"}",["T_WHITESPACE","\n\n            ",1017],["T_COMMENT","\/\/ add prefix before absolute element selector\n",1019],["T_WHITESPACE","            ",1020],["T_IF","if",1020],["T_WHITESPACE"," ",1020],"(",["T_CONSTANT_ENCAPSED_STRING","''",1020],["T_WHITESPACE"," ",1020],["T_IS_IDENTICAL","===",1020],["T_WHITESPACE"," ",1020],["T_VARIABLE","$expression",1020],")",["T_WHITESPACE"," ",1020],"{",["T_WHITESPACE","\n                ",1020],["T_VARIABLE","$expression",1021],["T_WHITESPACE"," ",1021],"=",["T_WHITESPACE"," ",1021],["T_VARIABLE","$nonMatchingExpression",1021],";",["T_WHITESPACE","\n            ",1021],"}",["T_WHITESPACE"," ",1022],["T_ELSEIF","elseif",1022],["T_WHITESPACE"," ",1022],"(",["T_LNUMBER","0",1022],["T_WHITESPACE"," ",1022],["T_IS_IDENTICAL","===",1022],["T_WHITESPACE"," ",1022],["T_STRING","strpos",1022],"(",["T_VARIABLE","$expression",1022],",",["T_WHITESPACE"," ",1022],["T_CONSTANT_ENCAPSED_STRING","'\/\/'",1022],")",")",["T_WHITESPACE"," ",1022],"{",["T_WHITESPACE","\n                ",1022],["T_VARIABLE","$expression",1023],["T_WHITESPACE"," ",1023],"=",["T_WHITESPACE"," ",1023],["T_CONSTANT_ENCAPSED_STRING","'descendant-or-self::'",1023],".",["T_STRING","substr",1023],"(",["T_VARIABLE","$expression",1023],",",["T_WHITESPACE"," ",1023],["T_LNUMBER","2",1023],")",";",["T_WHITESPACE","\n            ",1023],"}",["T_WHITESPACE"," ",1024],["T_ELSEIF","elseif",1024],["T_WHITESPACE"," ",1024],"(",["T_LNUMBER","0",1024],["T_WHITESPACE"," ",1024],["T_IS_IDENTICAL","===",1024],["T_WHITESPACE"," ",1024],["T_STRING","strpos",1024],"(",["T_VARIABLE","$expression",1024],",",["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'.\/\/'",1024],")",")",["T_WHITESPACE"," ",1024],"{",["T_WHITESPACE","\n                ",1024],["T_VARIABLE","$expression",1025],["T_WHITESPACE"," ",1025],"=",["T_WHITESPACE"," ",1025],["T_CONSTANT_ENCAPSED_STRING","'descendant-or-self::'",1025],".",["T_STRING","substr",1025],"(",["T_VARIABLE","$expression",1025],",",["T_WHITESPACE"," ",1025],["T_LNUMBER","3",1025],")",";",["T_WHITESPACE","\n            ",1025],"}",["T_WHITESPACE"," ",1026],["T_ELSEIF","elseif",1026],["T_WHITESPACE"," ",1026],"(",["T_LNUMBER","0",1026],["T_WHITESPACE"," ",1026],["T_IS_IDENTICAL","===",1026],["T_WHITESPACE"," ",1026],["T_STRING","strpos",1026],"(",["T_VARIABLE","$expression",1026],",",["T_WHITESPACE"," ",1026],["T_CONSTANT_ENCAPSED_STRING","'.\/'",1026],")",")",["T_WHITESPACE"," ",1026],"{",["T_WHITESPACE","\n                ",1026],["T_VARIABLE","$expression",1027],["T_WHITESPACE"," ",1027],"=",["T_WHITESPACE"," ",1027],["T_CONSTANT_ENCAPSED_STRING","'self::'",1027],".",["T_STRING","substr",1027],"(",["T_VARIABLE","$expression",1027],",",["T_WHITESPACE"," ",1027],["T_LNUMBER","2",1027],")",";",["T_WHITESPACE","\n            ",1027],"}",["T_WHITESPACE"," ",1028],["T_ELSEIF","elseif",1028],["T_WHITESPACE"," ",1028],"(",["T_LNUMBER","0",1028],["T_WHITESPACE"," ",1028],["T_IS_IDENTICAL","===",1028],["T_WHITESPACE"," ",1028],["T_STRING","strpos",1028],"(",["T_VARIABLE","$expression",1028],",",["T_WHITESPACE"," ",1028],["T_CONSTANT_ENCAPSED_STRING","'child::'",1028],")",")",["T_WHITESPACE"," ",1028],"{",["T_WHITESPACE","\n                ",1028],["T_VARIABLE","$expression",1029],["T_WHITESPACE"," ",1029],"=",["T_WHITESPACE"," ",1029],["T_CONSTANT_ENCAPSED_STRING","'self::'",1029],".",["T_STRING","substr",1029],"(",["T_VARIABLE","$expression",1029],",",["T_WHITESPACE"," ",1029],["T_LNUMBER","7",1029],")",";",["T_WHITESPACE","\n            ",1029],"}",["T_WHITESPACE"," ",1030],["T_ELSEIF","elseif",1030],["T_WHITESPACE"," ",1030],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1030],["T_WHITESPACE"," ",1030],["T_IS_IDENTICAL","===",1030],["T_WHITESPACE"," ",1030],["T_VARIABLE","$expression",1030],"[",["T_LNUMBER","0",1030],"]",["T_WHITESPACE"," ",1030],["T_BOOLEAN_OR","||",1030],["T_WHITESPACE"," ",1030],["T_CONSTANT_ENCAPSED_STRING","'.'",1030],["T_WHITESPACE"," ",1030],["T_IS_IDENTICAL","===",1030],["T_WHITESPACE"," ",1030],["T_VARIABLE","$expression",1030],"[",["T_LNUMBER","0",1030],"]",["T_WHITESPACE"," ",1030],["T_BOOLEAN_OR","||",1030],["T_WHITESPACE"," ",1030],["T_LNUMBER","0",1030],["T_WHITESPACE"," ",1030],["T_IS_IDENTICAL","===",1030],["T_WHITESPACE"," ",1030],["T_STRING","strpos",1030],"(",["T_VARIABLE","$expression",1030],",",["T_WHITESPACE"," ",1030],["T_CONSTANT_ENCAPSED_STRING","'self::'",1030],")",")",["T_WHITESPACE"," ",1030],"{",["T_WHITESPACE","\n                ",1030],["T_VARIABLE","$expression",1031],["T_WHITESPACE"," ",1031],"=",["T_WHITESPACE"," ",1031],["T_VARIABLE","$nonMatchingExpression",1031],";",["T_WHITESPACE","\n            ",1031],"}",["T_WHITESPACE"," ",1032],["T_ELSEIF","elseif",1032],["T_WHITESPACE"," ",1032],"(",["T_LNUMBER","0",1032],["T_WHITESPACE"," ",1032],["T_IS_IDENTICAL","===",1032],["T_WHITESPACE"," ",1032],["T_STRING","strpos",1032],"(",["T_VARIABLE","$expression",1032],",",["T_WHITESPACE"," ",1032],["T_CONSTANT_ENCAPSED_STRING","'descendant::'",1032],")",")",["T_WHITESPACE"," ",1032],"{",["T_WHITESPACE","\n                ",1032],["T_VARIABLE","$expression",1033],["T_WHITESPACE"," ",1033],"=",["T_WHITESPACE"," ",1033],["T_CONSTANT_ENCAPSED_STRING","'descendant-or-self::'",1033],".",["T_STRING","substr",1033],"(",["T_VARIABLE","$expression",1033],",",["T_WHITESPACE"," ",1033],["T_LNUMBER","12",1033],")",";",["T_WHITESPACE","\n            ",1033],"}",["T_WHITESPACE"," ",1034],["T_ELSEIF","elseif",1034],["T_WHITESPACE"," ",1034],"(",["T_STRING","preg_match",1034],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(ancestor|ancestor-or-self|attribute|following|following-sibling|namespace|parent|preceding|preceding-sibling)::\/'",1034],",",["T_WHITESPACE"," ",1034],["T_VARIABLE","$expression",1034],")",")",["T_WHITESPACE"," ",1034],"{",["T_WHITESPACE","\n                ",1034],["T_COMMENT","\/\/ the fake root has no parent, preceding or following nodes and also no attributes (even no namespace attributes)\n",1035],["T_WHITESPACE","                ",1036],["T_VARIABLE","$expression",1036],["T_WHITESPACE"," ",1036],"=",["T_WHITESPACE"," ",1036],["T_VARIABLE","$nonMatchingExpression",1036],";",["T_WHITESPACE","\n            ",1036],"}",["T_WHITESPACE"," ",1037],["T_ELSEIF","elseif",1037],["T_WHITESPACE"," ",1037],"(",["T_LNUMBER","0",1037],["T_WHITESPACE"," ",1037],["T_IS_NOT_IDENTICAL","!==",1037],["T_WHITESPACE"," ",1037],["T_STRING","strpos",1037],"(",["T_VARIABLE","$expression",1037],",",["T_WHITESPACE"," ",1037],["T_CONSTANT_ENCAPSED_STRING","'descendant-or-self::'",1037],")",")",["T_WHITESPACE"," ",1037],"{",["T_WHITESPACE","\n                ",1037],["T_VARIABLE","$expression",1038],["T_WHITESPACE"," ",1038],"=",["T_WHITESPACE"," ",1038],["T_CONSTANT_ENCAPSED_STRING","'self::'",1038],".",["T_VARIABLE","$expression",1038],";",["T_WHITESPACE","\n            ",1038],"}",["T_WHITESPACE","\n            ",1039],["T_VARIABLE","$expressions",1040],"[","]",["T_WHITESPACE"," ",1040],"=",["T_WHITESPACE"," ",1040],["T_VARIABLE","$parenthesis",1040],".",["T_VARIABLE","$expression",1040],";",["T_WHITESPACE","\n\n            ",1040],["T_IF","if",1042],["T_WHITESPACE"," ",1042],"(",["T_VARIABLE","$i",1042],["T_WHITESPACE"," ",1042],["T_IS_IDENTICAL","===",1042],["T_WHITESPACE"," ",1042],["T_VARIABLE","$xpathLen",1042],")",["T_WHITESPACE"," ",1042],"{",["T_WHITESPACE","\n                ",1042],["T_RETURN","return",1043],["T_WHITESPACE"," ",1043],["T_STRING","implode",1043],"(",["T_CONSTANT_ENCAPSED_STRING","' | '",1043],",",["T_WHITESPACE"," ",1043],["T_VARIABLE","$expressions",1043],")",";",["T_WHITESPACE","\n            ",1043],"}",["T_WHITESPACE","\n\n            ",1044],["T_VARIABLE","$i",1046],["T_WHITESPACE"," ",1046],["T_PLUS_EQUAL","+=",1046],["T_WHITESPACE"," ",1046],["T_STRING","strspn",1046],"(",["T_VARIABLE","$xpath",1046],",",["T_WHITESPACE"," ",1046],["T_CONSTANT_ENCAPSED_STRING","\" \\t\\n\\r\\0\\x0B\"",1046],",",["T_WHITESPACE"," ",1046],["T_VARIABLE","$i",1046],["T_WHITESPACE"," ",1046],"+",["T_WHITESPACE"," ",1046],["T_LNUMBER","1",1046],")",";",["T_WHITESPACE","\n            ",1046],["T_VARIABLE","$startPosition",1047],["T_WHITESPACE"," ",1047],"=",["T_WHITESPACE"," ",1047],["T_VARIABLE","$i",1047],["T_WHITESPACE"," ",1047],"+",["T_WHITESPACE"," ",1047],["T_LNUMBER","1",1047],";",["T_WHITESPACE","\n        ",1047],"}",["T_WHITESPACE","\n\n        ",1048],["T_RETURN","return",1050],["T_WHITESPACE"," ",1050],["T_VARIABLE","$xpath",1050],";",["T_WHITESPACE"," ",1050],["T_COMMENT","\/\/ The XPath expression is invalid\n",1050],["T_WHITESPACE","    ",1051],"}",["T_WHITESPACE","\n\n    ",1051],["T_DOC_COMMENT","\/**\n     * @param int $position\n     *\n     * @return \\DOMElement|null\n     *\/",1053],["T_WHITESPACE","\n    ",1057],["T_PUBLIC","public",1058],["T_WHITESPACE"," ",1058],["T_FUNCTION","function",1058],["T_WHITESPACE"," ",1058],["T_STRING","getNode",1058],"(",["T_VARIABLE","$position",1058],")",["T_WHITESPACE","\n    ",1058],"{",["T_WHITESPACE","\n        ",1059],["T_IF","if",1060],["T_WHITESPACE"," ",1060],"(",["T_ISSET","isset",1060],"(",["T_VARIABLE","$this",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","nodes",1060],"[",["T_VARIABLE","$position",1060],"]",")",")",["T_WHITESPACE"," ",1060],"{",["T_WHITESPACE","\n            ",1060],["T_RETURN","return",1061],["T_WHITESPACE"," ",1061],["T_VARIABLE","$this",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","nodes",1061],"[",["T_VARIABLE","$position",1061],"]",";",["T_WHITESPACE","\n        ",1061],"}",["T_WHITESPACE","\n    ",1062],"}",["T_WHITESPACE","\n\n    ",1063],["T_DOC_COMMENT","\/**\n     * @return int\n     *\/",1065],["T_WHITESPACE","\n    ",1067],["T_PUBLIC","public",1068],["T_WHITESPACE"," ",1068],["T_FUNCTION","function",1068],["T_WHITESPACE"," ",1068],["T_STRING","count",1068],"(",")",["T_WHITESPACE","\n    ",1068],"{",["T_WHITESPACE","\n        ",1069],["T_RETURN","return",1070],["T_WHITESPACE"," ",1070],["T_STRING","count",1070],"(",["T_VARIABLE","$this",1070],["T_OBJECT_OPERATOR","->",1070],["T_STRING","nodes",1070],")",";",["T_WHITESPACE","\n    ",1070],"}",["T_WHITESPACE","\n\n    ",1071],["T_DOC_COMMENT","\/**\n     * @return \\ArrayIterator\n     *\/",1073],["T_WHITESPACE","\n    ",1075],["T_PUBLIC","public",1076],["T_WHITESPACE"," ",1076],["T_FUNCTION","function",1076],["T_WHITESPACE"," ",1076],["T_STRING","getIterator",1076],"(",")",["T_WHITESPACE","\n    ",1076],"{",["T_WHITESPACE","\n        ",1077],["T_RETURN","return",1078],["T_WHITESPACE"," ",1078],["T_NEW","new",1078],["T_WHITESPACE"," ",1078],["T_NS_SEPARATOR","\\",1078],["T_STRING","ArrayIterator",1078],"(",["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","nodes",1078],")",";",["T_WHITESPACE","\n    ",1078],"}",["T_WHITESPACE","\n\n    ",1079],["T_DOC_COMMENT","\/**\n     * @param \\DOMElement $node\n     * @param string      $siblingDir\n     *\n     * @return array\n     *\/",1081],["T_WHITESPACE","\n    ",1086],["T_PROTECTED","protected",1087],["T_WHITESPACE"," ",1087],["T_FUNCTION","function",1087],["T_WHITESPACE"," ",1087],["T_STRING","sibling",1087],"(",["T_VARIABLE","$node",1087],",",["T_WHITESPACE"," ",1087],["T_VARIABLE","$siblingDir",1087],["T_WHITESPACE"," ",1087],"=",["T_WHITESPACE"," ",1087],["T_CONSTANT_ENCAPSED_STRING","'nextSibling'",1087],")",["T_WHITESPACE","\n    ",1087],"{",["T_WHITESPACE","\n        ",1088],["T_VARIABLE","$nodes",1089],["T_WHITESPACE"," ",1089],"=",["T_WHITESPACE"," ",1089],["T_ARRAY","array",1089],"(",")",";",["T_WHITESPACE","\n\n        ",1089],["T_DO","do",1091],["T_WHITESPACE"," ",1091],"{",["T_WHITESPACE","\n            ",1091],["T_IF","if",1092],["T_WHITESPACE"," ",1092],"(",["T_VARIABLE","$node",1092],["T_WHITESPACE"," ",1092],["T_IS_NOT_IDENTICAL","!==",1092],["T_WHITESPACE"," ",1092],["T_VARIABLE","$this",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","getNode",1092],"(",["T_LNUMBER","0",1092],")",["T_WHITESPACE"," ",1092],["T_BOOLEAN_AND","&&",1092],["T_WHITESPACE"," ",1092],["T_VARIABLE","$node",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","nodeType",1092],["T_WHITESPACE"," ",1092],["T_IS_IDENTICAL","===",1092],["T_WHITESPACE"," ",1092],["T_LNUMBER","1",1092],")",["T_WHITESPACE"," ",1092],"{",["T_WHITESPACE","\n                ",1092],["T_VARIABLE","$nodes",1093],"[","]",["T_WHITESPACE"," ",1093],"=",["T_WHITESPACE"," ",1093],["T_VARIABLE","$node",1093],";",["T_WHITESPACE","\n            ",1093],"}",["T_WHITESPACE","\n        ",1094],"}",["T_WHITESPACE"," ",1095],["T_WHILE","while",1095],["T_WHITESPACE"," ",1095],"(",["T_VARIABLE","$node",1095],["T_WHITESPACE"," ",1095],"=",["T_WHITESPACE"," ",1095],["T_VARIABLE","$node",1095],["T_OBJECT_OPERATOR","->",1095],["T_VARIABLE","$siblingDir",1095],")",";",["T_WHITESPACE","\n\n        ",1095],["T_RETURN","return",1097],["T_WHITESPACE"," ",1097],["T_VARIABLE","$nodes",1097],";",["T_WHITESPACE","\n    ",1097],"}",["T_WHITESPACE","\n\n    ",1098],["T_DOC_COMMENT","\/**\n     * @param \\DOMDocument $document\n     * @param array        $prefixes\n     *\n     * @return \\DOMXPath\n     *\n     * @throws \\InvalidArgumentException\n     *\/",1100],["T_WHITESPACE","\n    ",1107],["T_PRIVATE","private",1108],["T_WHITESPACE"," ",1108],["T_FUNCTION","function",1108],["T_WHITESPACE"," ",1108],["T_STRING","createDOMXPath",1108],"(",["T_NS_SEPARATOR","\\",1108],["T_STRING","DOMDocument",1108],["T_WHITESPACE"," ",1108],["T_VARIABLE","$document",1108],",",["T_WHITESPACE"," ",1108],["T_ARRAY","array",1108],["T_WHITESPACE"," ",1108],["T_VARIABLE","$prefixes",1108],["T_WHITESPACE"," ",1108],"=",["T_WHITESPACE"," ",1108],["T_ARRAY","array",1108],"(",")",")",["T_WHITESPACE","\n    ",1108],"{",["T_WHITESPACE","\n        ",1109],["T_VARIABLE","$domxpath",1110],["T_WHITESPACE"," ",1110],"=",["T_WHITESPACE"," ",1110],["T_NEW","new",1110],["T_WHITESPACE"," ",1110],["T_NS_SEPARATOR","\\",1110],["T_STRING","DOMXPath",1110],"(",["T_VARIABLE","$document",1110],")",";",["T_WHITESPACE","\n\n        ",1110],["T_FOREACH","foreach",1112],["T_WHITESPACE"," ",1112],"(",["T_VARIABLE","$prefixes",1112],["T_WHITESPACE"," ",1112],["T_AS","as",1112],["T_WHITESPACE"," ",1112],["T_VARIABLE","$prefix",1112],")",["T_WHITESPACE"," ",1112],"{",["T_WHITESPACE","\n            ",1112],["T_VARIABLE","$namespace",1113],["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","discoverNamespace",1113],"(",["T_VARIABLE","$domxpath",1113],",",["T_WHITESPACE"," ",1113],["T_VARIABLE","$prefix",1113],")",";",["T_WHITESPACE","\n            ",1113],["T_IF","if",1114],["T_WHITESPACE"," ",1114],"(",["T_STRING","null",1114],["T_WHITESPACE"," ",1114],["T_IS_NOT_IDENTICAL","!==",1114],["T_WHITESPACE"," ",1114],["T_VARIABLE","$namespace",1114],")",["T_WHITESPACE"," ",1114],"{",["T_WHITESPACE","\n                ",1114],["T_VARIABLE","$domxpath",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","registerNamespace",1115],"(",["T_VARIABLE","$prefix",1115],",",["T_WHITESPACE"," ",1115],["T_VARIABLE","$namespace",1115],")",";",["T_WHITESPACE","\n            ",1115],"}",["T_WHITESPACE","\n        ",1116],"}",["T_WHITESPACE","\n\n        ",1117],["T_RETURN","return",1119],["T_WHITESPACE"," ",1119],["T_VARIABLE","$domxpath",1119],";",["T_WHITESPACE","\n    ",1119],"}",["T_WHITESPACE","\n\n    ",1120],["T_DOC_COMMENT","\/**\n     * @param \\DOMXPath $domxpath\n     * @param string    $prefix\n     *\n     * @return string\n     *\n     * @throws \\InvalidArgumentException\n     *\/",1122],["T_WHITESPACE","\n    ",1129],["T_PRIVATE","private",1130],["T_WHITESPACE"," ",1130],["T_FUNCTION","function",1130],["T_WHITESPACE"," ",1130],["T_STRING","discoverNamespace",1130],"(",["T_NS_SEPARATOR","\\",1130],["T_STRING","DOMXPath",1130],["T_WHITESPACE"," ",1130],["T_VARIABLE","$domxpath",1130],",",["T_WHITESPACE"," ",1130],["T_VARIABLE","$prefix",1130],")",["T_WHITESPACE","\n    ",1130],"{",["T_WHITESPACE","\n        ",1131],["T_IF","if",1132],["T_WHITESPACE"," ",1132],"(",["T_ISSET","isset",1132],"(",["T_VARIABLE","$this",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","namespaces",1132],"[",["T_VARIABLE","$prefix",1132],"]",")",")",["T_WHITESPACE"," ",1132],"{",["T_WHITESPACE","\n            ",1132],["T_RETURN","return",1133],["T_WHITESPACE"," ",1133],["T_VARIABLE","$this",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","namespaces",1133],"[",["T_VARIABLE","$prefix",1133],"]",";",["T_WHITESPACE","\n        ",1133],"}",["T_WHITESPACE","\n\n        ",1134],["T_COMMENT","\/\/ ask for one namespace, otherwise we'd get a collection with an item for each node\n",1136],["T_WHITESPACE","        ",1137],["T_VARIABLE","$namespaces",1137],["T_WHITESPACE"," ",1137],"=",["T_WHITESPACE"," ",1137],["T_VARIABLE","$domxpath",1137],["T_OBJECT_OPERATOR","->",1137],["T_STRING","query",1137],"(",["T_STRING","sprintf",1137],"(",["T_CONSTANT_ENCAPSED_STRING","'(\/\/namespace::*[name()=\"%s\"])[last()]'",1137],",",["T_WHITESPACE"," ",1137],["T_VARIABLE","$this",1137],["T_OBJECT_OPERATOR","->",1137],["T_STRING","defaultNamespacePrefix",1137],["T_WHITESPACE"," ",1137],["T_IS_IDENTICAL","===",1137],["T_WHITESPACE"," ",1137],["T_VARIABLE","$prefix",1137],["T_WHITESPACE"," ",1137],"?",["T_WHITESPACE"," ",1137],["T_CONSTANT_ENCAPSED_STRING","''",1137],["T_WHITESPACE"," ",1137],":",["T_WHITESPACE"," ",1137],["T_VARIABLE","$prefix",1137],")",")",";",["T_WHITESPACE","\n\n        ",1137],["T_IF","if",1139],["T_WHITESPACE"," ",1139],"(",["T_VARIABLE","$node",1139],["T_WHITESPACE"," ",1139],"=",["T_WHITESPACE"," ",1139],["T_VARIABLE","$namespaces",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","item",1139],"(",["T_LNUMBER","0",1139],")",")",["T_WHITESPACE"," ",1139],"{",["T_WHITESPACE","\n            ",1139],["T_RETURN","return",1140],["T_WHITESPACE"," ",1140],["T_VARIABLE","$node",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","nodeValue",1140],";",["T_WHITESPACE","\n        ",1140],"}",["T_WHITESPACE","\n    ",1141],"}",["T_WHITESPACE","\n\n    ",1142],["T_DOC_COMMENT","\/**\n     * @param string $xpath\n     *\n     * @return array\n     *\/",1144],["T_WHITESPACE","\n    ",1148],["T_PRIVATE","private",1149],["T_WHITESPACE"," ",1149],["T_FUNCTION","function",1149],["T_WHITESPACE"," ",1149],["T_STRING","findNamespacePrefixes",1149],"(",["T_VARIABLE","$xpath",1149],")",["T_WHITESPACE","\n    ",1149],"{",["T_WHITESPACE","\n        ",1150],["T_IF","if",1151],["T_WHITESPACE"," ",1151],"(",["T_STRING","preg_match_all",1151],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(?P<prefix>[a-z_][a-z_0-9\\-\\.]*+):[^\"\\\/:]\/i'",1151],",",["T_WHITESPACE"," ",1151],["T_VARIABLE","$xpath",1151],",",["T_WHITESPACE"," ",1151],["T_VARIABLE","$matches",1151],")",")",["T_WHITESPACE"," ",1151],"{",["T_WHITESPACE","\n            ",1151],["T_RETURN","return",1152],["T_WHITESPACE"," ",1152],["T_STRING","array_unique",1152],"(",["T_VARIABLE","$matches",1152],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",1152],"]",")",";",["T_WHITESPACE","\n        ",1152],"}",["T_WHITESPACE","\n\n        ",1153],["T_RETURN","return",1155],["T_WHITESPACE"," ",1155],["T_ARRAY","array",1155],"(",")",";",["T_WHITESPACE","\n    ",1155],"}",["T_WHITESPACE","\n\n    ",1156],["T_DOC_COMMENT","\/**\n     * Creates a crawler for some subnodes.\n     *\n     * @param \\DOMElement|\\DOMElement[]|\\DOMNodeList|null $nodes\n     *\n     * @return static\n     *\/",1158],["T_WHITESPACE","\n    ",1164],["T_PRIVATE","private",1165],["T_WHITESPACE"," ",1165],["T_FUNCTION","function",1165],["T_WHITESPACE"," ",1165],["T_STRING","createSubCrawler",1165],"(",["T_VARIABLE","$nodes",1165],")",["T_WHITESPACE","\n    ",1165],"{",["T_WHITESPACE","\n        ",1166],["T_VARIABLE","$crawler",1167],["T_WHITESPACE"," ",1167],"=",["T_WHITESPACE"," ",1167],["T_NEW","new",1167],["T_WHITESPACE"," ",1167],["T_STATIC","static",1167],"(",["T_VARIABLE","$nodes",1167],",",["T_WHITESPACE"," ",1167],["T_VARIABLE","$this",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","uri",1167],",",["T_WHITESPACE"," ",1167],["T_VARIABLE","$this",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","baseHref",1167],")",";",["T_WHITESPACE","\n        ",1167],["T_VARIABLE","$crawler",1168],["T_OBJECT_OPERATOR","->",1168],["T_STRING","isHtml",1168],["T_WHITESPACE"," ",1168],"=",["T_WHITESPACE"," ",1168],["T_VARIABLE","$this",1168],["T_OBJECT_OPERATOR","->",1168],["T_STRING","isHtml",1168],";",["T_WHITESPACE","\n        ",1168],["T_VARIABLE","$crawler",1169],["T_OBJECT_OPERATOR","->",1169],["T_STRING","document",1169],["T_WHITESPACE"," ",1169],"=",["T_WHITESPACE"," ",1169],["T_VARIABLE","$this",1169],["T_OBJECT_OPERATOR","->",1169],["T_STRING","document",1169],";",["T_WHITESPACE","\n        ",1169],["T_VARIABLE","$crawler",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","namespaces",1170],["T_WHITESPACE"," ",1170],"=",["T_WHITESPACE"," ",1170],["T_VARIABLE","$this",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","namespaces",1170],";",["T_WHITESPACE","\n\n        ",1170],["T_RETURN","return",1172],["T_WHITESPACE"," ",1172],["T_VARIABLE","$crawler",1172],";",["T_WHITESPACE","\n    ",1172],"}",["T_WHITESPACE","\n",1173],"}",["T_WHITESPACE","\n",1174]]