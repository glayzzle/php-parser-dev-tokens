[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","File",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","File",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FileException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","File",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FileNotFoundException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpFoundation",16],["T_NS_SEPARATOR","\\",16],["T_STRING","File",16],["T_NS_SEPARATOR","\\",16],["T_STRING","MimeType",16],["T_NS_SEPARATOR","\\",16],["T_STRING","MimeTypeGuesser",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpFoundation",17],["T_NS_SEPARATOR","\\",17],["T_STRING","File",17],["T_NS_SEPARATOR","\\",17],["T_STRING","MimeType",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ExtensionGuesser",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * A file in the file system.\n *\n * @author Bernhard Schussek <bschussek@gmail.com>\n *\/",19],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","File",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","SplFileInfo",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * Constructs a new file from the given path.\n     *\n     * @param string $path      The path to the file\n     * @param bool   $checkPath Whether to check the path or not\n     *\n     * @throws FileNotFoundException If the given path is not a file\n     *\/",26],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","__construct",34],"(",["T_VARIABLE","$path",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$checkPath",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","true",34],")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$checkPath",36],["T_WHITESPACE"," ",36],["T_BOOLEAN_AND","&&",36],["T_WHITESPACE"," ",36],"!",["T_STRING","is_file",36],"(",["T_VARIABLE","$path",36],")",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n            ",36],["T_THROW","throw",37],["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_STRING","FileNotFoundException",37],"(",["T_VARIABLE","$path",37],")",";",["T_WHITESPACE","\n        ",37],"}",["T_WHITESPACE","\n\n        ",38],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","__construct",40],"(",["T_VARIABLE","$path",40],")",";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Returns the extension based on the mime type.\n     *\n     * If the mime type is unknown, returns null.\n     *\n     * This method uses the mime type as guessed by getMimeType()\n     * to guess the file extension.\n     *\n     * @return string|null The guessed extension or null if it cannot be guessed\n     *\n     * @see ExtensionGuesser\n     * @see getMimeType()\n     *\/",43],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","guessExtension",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$type",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMimeType",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$guesser",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","ExtensionGuesser",59],["T_DOUBLE_COLON","::",59],["T_STRING","getInstance",59],"(",")",";",["T_WHITESPACE","\n\n        ",59],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$guesser",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","guess",61],"(",["T_VARIABLE","$type",61],")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Returns the mime type of the file.\n     *\n     * The mime type is guessed using a MimeTypeGuesser instance, which uses finfo(),\n     * mime_content_type() and the system binary \"file\" (in this order), depending on\n     * which of those are available.\n     *\n     * @return string|null The guessed mime type (e.g. \"application\/pdf\")\n     *\n     * @see MimeTypeGuesser\n     *\/",64],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getMimeType",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$guesser",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","MimeTypeGuesser",77],["T_DOUBLE_COLON","::",77],["T_STRING","getInstance",77],"(",")",";",["T_WHITESPACE","\n\n        ",77],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$guesser",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","guess",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getPathname",79],"(",")",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Moves the file to a new location.\n     *\n     * @param string $directory The destination folder\n     * @param string $name      The new file name\n     *\n     * @return self A File object representing the new file\n     *\n     * @throws FileException if the target file could not be created\n     *\/",82],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","move",92],"(",["T_VARIABLE","$directory",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$name",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","null",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$target",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getTargetFile",94],"(",["T_VARIABLE","$directory",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$name",94],")",";",["T_WHITESPACE","\n\n        ",94],["T_IF","if",96],["T_WHITESPACE"," ",96],"(","!","@",["T_STRING","rename",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getPathname",96],"(",")",",",["T_WHITESPACE"," ",96],["T_VARIABLE","$target",96],")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$error",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","error_get_last",97],"(",")",";",["T_WHITESPACE","\n            ",97],["T_THROW","throw",98],["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","FileException",98],"(",["T_STRING","sprintf",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not move the file \"%s\" to \"%s\" (%s)'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getPathname",98],"(",")",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$target",98],",",["T_WHITESPACE"," ",98],["T_STRING","strip_tags",98],"(",["T_VARIABLE","$error",98],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",98],"]",")",")",")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],"@",["T_STRING","chmod",101],"(",["T_VARIABLE","$target",101],",",["T_WHITESPACE"," ",101],["T_LNUMBER","0666",101],["T_WHITESPACE"," ",101],"&",["T_WHITESPACE"," ",101],"~",["T_STRING","umask",101],"(",")",")",";",["T_WHITESPACE","\n\n        ",101],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$target",103],";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","getTargetFile",106],"(",["T_VARIABLE","$directory",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$name",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","null",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_STRING","is_dir",108],"(",["T_VARIABLE","$directory",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_STRING","false",109],["T_WHITESPACE"," ",109],["T_IS_IDENTICAL","===",109],["T_WHITESPACE"," ",109],"@",["T_STRING","mkdir",109],"(",["T_VARIABLE","$directory",109],",",["T_WHITESPACE"," ",109],["T_LNUMBER","0777",109],",",["T_WHITESPACE"," ",109],["T_STRING","true",109],")",["T_WHITESPACE"," ",109],["T_BOOLEAN_AND","&&",109],["T_WHITESPACE"," ",109],"!",["T_STRING","is_dir",109],"(",["T_VARIABLE","$directory",109],")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_THROW","throw",110],["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STRING","FileException",110],"(",["T_STRING","sprintf",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to create the \"%s\" directory'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$directory",110],")",")",";",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE"," ",112],["T_ELSEIF","elseif",112],["T_WHITESPACE"," ",112],"(","!",["T_STRING","is_writable",112],"(",["T_VARIABLE","$directory",112],")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_THROW","throw",113],["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","FileException",113],"(",["T_STRING","sprintf",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to write in the \"%s\" directory'",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$directory",113],")",")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$target",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","rtrim",116],"(",["T_VARIABLE","$directory",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'\/\\\\'",116],")",".",["T_STRING","DIRECTORY_SEPARATOR",116],".","(",["T_STRING","null",116],["T_WHITESPACE"," ",116],["T_IS_IDENTICAL","===",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$name",116],["T_WHITESPACE"," ",116],"?",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getBasename",116],"(",")",["T_WHITESPACE"," ",116],":",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getName",116],"(",["T_VARIABLE","$name",116],")",")",";",["T_WHITESPACE","\n\n        ",116],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","self",118],"(",["T_VARIABLE","$target",118],",",["T_WHITESPACE"," ",118],["T_STRING","false",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Returns locale independent base name of the given path.\n     *\n     * @param string $name The new file name\n     *\n     * @return string containing\n     *\/",121],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","getName",128],"(",["T_VARIABLE","$name",128],")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$originalName",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","str_replace",130],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'\/'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$name",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$pos",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","strrpos",131],"(",["T_VARIABLE","$originalName",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'\/'",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$originalName",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","false",132],["T_WHITESPACE"," ",132],["T_IS_IDENTICAL","===",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$pos",132],["T_WHITESPACE"," ",132],"?",["T_WHITESPACE"," ",132],["T_VARIABLE","$originalName",132],["T_WHITESPACE"," ",132],":",["T_WHITESPACE"," ",132],["T_STRING","substr",132],"(",["T_VARIABLE","$originalName",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$pos",132],["T_WHITESPACE"," ",132],"+",["T_WHITESPACE"," ",132],["T_LNUMBER","1",132],")",";",["T_WHITESPACE","\n\n        ",132],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$originalName",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n",135],"}",["T_WHITESPACE","\n",136]]