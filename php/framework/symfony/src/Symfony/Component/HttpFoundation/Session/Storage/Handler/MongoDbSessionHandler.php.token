[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Session",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Storage",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Handler",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * MongoDB session handler.\n *\n * @author Markus Bachmann <markus.bachmann@bachi.biz>\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","MongoDbSessionHandler",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","SessionHandlerInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Mongo|\\MongoClient|\\MongoDB\\Client\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$mongo",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\MongoCollection\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$collection",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$options",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * List of available options:\n     *  * database: The name of the database [required]\n     *  * collection: The name of the collection [required]\n     *  * id_field: The field name for storing the session id [default: _id]\n     *  * data_field: The field name for storing the session data [default: data]\n     *  * time_field: The field name for storing the timestamp [default: time]\n     *  * expiry_field: The field name for storing the expiry-timestamp [default: expires_at]\n     *\n     * It is strongly recommended to put an index on the `expiry_field` for\n     * garbage-collection. Alternatively it's possible to automatically expire\n     * the sessions in the database as described below:\n     *\n     * A TTL collections can be used on MongoDB 2.2+ to cleanup expired sessions\n     * automatically. Such an index can for example look like this:\n     *\n     *     db.<session-collection>.ensureIndex(\n     *         { \"<expiry-field>\": 1 },\n     *         { \"expireAfterSeconds\": 0 }\n     *     )\n     *\n     * More details on: http:\/\/docs.mongodb.org\/manual\/tutorial\/expire-data\/\n     *\n     * If you use such an index, you can drop `gc_probability` to 0 since\n     * no garbage-collection is required.\n     *\n     * @param \\Mongo|\\MongoClient|\\MongoDB\\Client $mongo   A MongoDB\\Client, MongoClient or Mongo instance\n     * @param array                               $options An associative array of field options\n     *\n     * @throws \\InvalidArgumentException When MongoClient or Mongo instance not provided\n     * @throws \\InvalidArgumentException When \"database\" or \"collection\" not provided\n     *\/",36],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","__construct",70],"(",["T_VARIABLE","$mongo",70],",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$options",70],")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(","!","(",["T_VARIABLE","$mongo",72],["T_WHITESPACE"," ",72],["T_INSTANCEOF","instanceof",72],["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","MongoDB",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Client",72],["T_WHITESPACE"," ",72],["T_BOOLEAN_OR","||",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$mongo",72],["T_WHITESPACE"," ",72],["T_INSTANCEOF","instanceof",72],["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","MongoClient",72],["T_WHITESPACE"," ",72],["T_BOOLEAN_OR","||",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$mongo",72],["T_WHITESPACE"," ",72],["T_INSTANCEOF","instanceof",72],["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Mongo",72],")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_THROW","throw",73],["T_WHITESPACE"," ",73],["T_NEW","new",73],["T_WHITESPACE"," ",73],["T_NS_SEPARATOR","\\",73],["T_STRING","InvalidArgumentException",73],"(",["T_CONSTANT_ENCAPSED_STRING","'MongoClient or Mongo instance required'",73],")",";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n\n        ",74],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_ISSET","isset",76],"(",["T_VARIABLE","$options",76],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",76],"]",")",["T_WHITESPACE"," ",76],["T_BOOLEAN_OR","||",76],["T_WHITESPACE"," ",76],"!",["T_ISSET","isset",76],"(",["T_VARIABLE","$options",76],"[",["T_CONSTANT_ENCAPSED_STRING","'collection'",76],"]",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_THROW","throw",77],["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_NS_SEPARATOR","\\",77],["T_STRING","InvalidArgumentException",77],"(",["T_CONSTANT_ENCAPSED_STRING","'You must provide the \"database\" and \"collection\" option for MongoDBSessionHandler'",77],")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","mongo",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$mongo",80],";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","options",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","array_merge",82],"(",["T_ARRAY","array",82],"(",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'id_field'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'_id'",83],",",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","'data_field'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'data'",84],",",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'time_field'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'time'",85],",",["T_WHITESPACE","\n            ",85],["T_CONSTANT_ENCAPSED_STRING","'expiry_field'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'expires_at'",86],",",["T_WHITESPACE","\n        ",86],")",",",["T_WHITESPACE"," ",87],["T_VARIABLE","$options",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","open",93],"(",["T_VARIABLE","$savePath",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$sessionName",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_STRING","true",95],";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",98],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","close",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_STRING","true",103],";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",106],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","destroy",109],"(",["T_VARIABLE","$sessionId",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$methodName",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","mongo",111],["T_WHITESPACE"," ",111],["T_INSTANCEOF","instanceof",111],["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","MongoDB",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Client",111],["T_WHITESPACE"," ",111],"?",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'deleteOne'",111],["T_WHITESPACE"," ",111],":",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'remove'",111],";",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getCollection",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_VARIABLE","$methodName",113],"(",["T_ARRAY","array",113],"(",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","options",114],"[",["T_CONSTANT_ENCAPSED_STRING","'id_field'",114],"]",["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$sessionId",114],",",["T_WHITESPACE","\n        ",114],")",")",";",["T_WHITESPACE","\n\n        ",115],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_STRING","true",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",120],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","gc",123],"(",["T_VARIABLE","$maxlifetime",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$methodName",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","mongo",125],["T_WHITESPACE"," ",125],["T_INSTANCEOF","instanceof",125],["T_WHITESPACE"," ",125],["T_NS_SEPARATOR","\\",125],["T_STRING","MongoDB",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Client",125],["T_WHITESPACE"," ",125],"?",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'deleteOne'",125],["T_WHITESPACE"," ",125],":",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'remove'",125],";",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getCollection",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_VARIABLE","$methodName",127],"(",["T_ARRAY","array",127],"(",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","options",128],"[",["T_CONSTANT_ENCAPSED_STRING","'expiry_field'",128],"]",["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_CONSTANT_ENCAPSED_STRING","'$lt'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","createDateTime",128],"(",")",")",",",["T_WHITESPACE","\n        ",128],")",")",";",["T_WHITESPACE","\n\n        ",129],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_STRING","true",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",134],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","write",137],"(",["T_VARIABLE","$sessionId",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$data",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$expiry",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","createDateTime",139],"(",["T_STRING","time",139],"(",")",["T_WHITESPACE"," ",139],"+",["T_WHITESPACE"," ",139],["T_INT_CAST","(int)",139],["T_WHITESPACE"," ",139],["T_STRING","ini_get",139],"(",["T_CONSTANT_ENCAPSED_STRING","'session.gc_maxlifetime'",139],")",")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$fields",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","options",142],"[",["T_CONSTANT_ENCAPSED_STRING","'time_field'",142],"]",["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","createDateTime",142],"(",")",",",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","options",143],"[",["T_CONSTANT_ENCAPSED_STRING","'expiry_field'",143],"]",["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$expiry",143],",",["T_WHITESPACE","\n        ",143],")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$options",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_CONSTANT_ENCAPSED_STRING","'upsert'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_STRING","true",146],")",";",["T_WHITESPACE","\n\n        ",146],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","mongo",148],["T_WHITESPACE"," ",148],["T_INSTANCEOF","instanceof",148],["T_WHITESPACE"," ",148],["T_NS_SEPARATOR","\\",148],["T_STRING","MongoDB",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Client",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$fields",149],"[",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","options",149],"[",["T_CONSTANT_ENCAPSED_STRING","'data_field'",149],"]","]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_NEW","new",149],["T_WHITESPACE"," ",149],["T_NS_SEPARATOR","\\",149],["T_STRING","MongoDB",149],["T_NS_SEPARATOR","\\",149],["T_STRING","BSON",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Binary",149],"(",["T_VARIABLE","$data",149],",",["T_WHITESPACE"," ",149],["T_NS_SEPARATOR","\\",149],["T_STRING","MongoDB",149],["T_NS_SEPARATOR","\\",149],["T_STRING","BSON",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Binary",149],["T_DOUBLE_COLON","::",149],["T_STRING","TYPE_OLD_BINARY",149],")",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE"," ",150],["T_ELSE","else",150],["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$fields",151],"[",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","options",151],"[",["T_CONSTANT_ENCAPSED_STRING","'data_field'",151],"]","]",["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","MongoBinData",151],"(",["T_VARIABLE","$data",151],",",["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","MongoBinData",151],["T_DOUBLE_COLON","::",151],["T_STRING","BYTE_ARRAY",151],")",";",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$options",152],"[",["T_CONSTANT_ENCAPSED_STRING","'multiple'",152],"]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","false",152],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$methodName",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","mongo",155],["T_WHITESPACE"," ",155],["T_INSTANCEOF","instanceof",155],["T_WHITESPACE"," ",155],["T_NS_SEPARATOR","\\",155],["T_STRING","MongoDB",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Client",155],["T_WHITESPACE"," ",155],"?",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'updateOne'",155],["T_WHITESPACE"," ",155],":",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'update'",155],";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getCollection",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_VARIABLE","$methodName",157],"(",["T_WHITESPACE","\n            ",157],["T_ARRAY","array",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","options",158],"[",["T_CONSTANT_ENCAPSED_STRING","'id_field'",158],"]",["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$sessionId",158],")",",",["T_WHITESPACE","\n            ",158],["T_ARRAY","array",159],"(",["T_CONSTANT_ENCAPSED_STRING","'$set'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$fields",159],")",",",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$options",160],["T_WHITESPACE","\n        ",160],")",";",["T_WHITESPACE","\n\n        ",161],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","true",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",166],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","read",169],"(",["T_VARIABLE","$sessionId",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$dbData",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getCollection",171],"(",")",["T_OBJECT_OPERATOR","->",171],["T_STRING","findOne",171],"(",["T_ARRAY","array",171],"(",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","options",172],"[",["T_CONSTANT_ENCAPSED_STRING","'id_field'",172],"]",["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$sessionId",172],",",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","options",173],"[",["T_CONSTANT_ENCAPSED_STRING","'expiry_field'",173],"]",["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","'$gte'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","createDateTime",173],"(",")",")",",",["T_WHITESPACE","\n        ",173],")",")",";",["T_WHITESPACE","\n\n        ",174],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_STRING","null",176],["T_WHITESPACE"," ",176],["T_IS_IDENTICAL","===",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$dbData",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","''",177],";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n\n        ",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$dbData",180],"[",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","options",180],"[",["T_CONSTANT_ENCAPSED_STRING","'data_field'",180],"]","]",["T_WHITESPACE"," ",180],["T_INSTANCEOF","instanceof",180],["T_WHITESPACE"," ",180],["T_NS_SEPARATOR","\\",180],["T_STRING","MongoDB",180],["T_NS_SEPARATOR","\\",180],["T_STRING","BSON",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Binary",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$dbData",181],"[",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","options",181],"[",["T_CONSTANT_ENCAPSED_STRING","'data_field'",181],"]","]",["T_OBJECT_OPERATOR","->",181],["T_STRING","getData",181],"(",")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$dbData",184],"[",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","options",184],"[",["T_CONSTANT_ENCAPSED_STRING","'data_field'",184],"]","]",["T_OBJECT_OPERATOR","->",184],["T_STRING","bin",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Return a \"MongoCollection\" instance.\n     *\n     * @return \\MongoCollection\n     *\/",187],["T_WHITESPACE","\n    ",191],["T_PRIVATE","private",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","getCollection",192],"(",")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_STRING","null",194],["T_WHITESPACE"," ",194],["T_IS_IDENTICAL","===",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","collection",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","collection",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","mongo",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","selectCollection",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","options",195],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",195],"]",",",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","options",195],"[",["T_CONSTANT_ENCAPSED_STRING","'collection'",195],"]",")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n\n        ",196],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","collection",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Return a Mongo instance.\n     *\n     * @return \\Mongo|\\MongoClient|\\MongoDB\\Client\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PROTECTED","protected",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","getMongo",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","mongo",208],";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Create a date object using the class appropriate for the current mongo connection.\n     *\n     * Return an instance of a MongoDate or \\MongoDB\\BSON\\UTCDateTime\n     *\n     * @param int $seconds An integer representing UTC seconds since Jan 1 1970.  Defaults to now.\n     *\n     * @return \\MongoDate|\\MongoDB\\BSON\\UTCDateTime\n     *\/",211],["T_WHITESPACE","\n    ",219],["T_PRIVATE","private",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","createDateTime",220],"(",["T_VARIABLE","$seconds",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","null",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_STRING","null",222],["T_WHITESPACE"," ",222],["T_IS_IDENTICAL","===",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$seconds",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$seconds",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","time",223],"(",")",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n\n        ",224],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","mongo",226],["T_WHITESPACE"," ",226],["T_INSTANCEOF","instanceof",226],["T_WHITESPACE"," ",226],["T_NS_SEPARATOR","\\",226],["T_STRING","MongoDB",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Client",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_NEW","new",227],["T_WHITESPACE"," ",227],["T_NS_SEPARATOR","\\",227],["T_STRING","MongoDB",227],["T_NS_SEPARATOR","\\",227],["T_STRING","BSON",227],["T_NS_SEPARATOR","\\",227],["T_STRING","UTCDateTime",227],"(",["T_VARIABLE","$seconds",227],["T_WHITESPACE"," ",227],"*",["T_WHITESPACE"," ",227],["T_LNUMBER","1000",227],")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n\n        ",228],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_NEW","new",230],["T_WHITESPACE"," ",230],["T_NS_SEPARATOR","\\",230],["T_STRING","MongoDate",230],"(",["T_VARIABLE","$seconds",230],")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n",231],"}",["T_WHITESPACE","\n",232]]