[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","File",14],["T_NS_SEPARATOR","\\",14],["T_STRING","File",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","File",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FileException",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * BinaryFileResponse represents an HTTP response delivering a file.\n *\n * @author Niklas Fiekas <niklas.fiekas@tu-clausthal.de>\n * @author stealth35 <stealth35-php@live.fr>\n * @author Igor Wiedler <igor@wiedler.ch>\n * @author Jordan Alliot <jordan.alliot@gmail.com>\n * @author Sergey Linnik <linniksa@gmail.com>\n *\/",17],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","BinaryFileResponse",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","Response",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$trustXSendfileTypeHeader",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","false",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var File\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$file",33],";",["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$offset",34],";",["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$maxlen",35],";",["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$deleteFileAfterSend",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","false",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param \\SplFileInfo|string $file               The file to stream\n     * @param int                 $status             The response status code\n     * @param array               $headers            An array of response headers\n     * @param bool                $public             Files are public by default\n     * @param null|string         $contentDisposition The type of Content-Disposition to set automatically with the filename\n     * @param bool                $autoEtag           Whether the ETag header should be automatically set\n     * @param bool                $autoLastModified   Whether the Last-Modified header should be automatically set\n     *\/",38],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_VARIABLE","$file",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$status",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","200",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$headers",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_VARIABLE","$public",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","true",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$contentDisposition",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$autoEtag",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","false",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$autoLastModified",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","true",49],")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_STRING","parent",51],["T_DOUBLE_COLON","::",51],["T_STRING","__construct",51],"(",["T_STRING","null",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$status",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$headers",51],")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","setFile",53],"(",["T_VARIABLE","$file",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$contentDisposition",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$autoEtag",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$autoLastModified",53],")",";",["T_WHITESPACE","\n\n        ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$public",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","setPublic",56],"(",")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @param \\SplFileInfo|string $file               The file to stream\n     * @param int                 $status             The response status code\n     * @param array               $headers            An array of response headers\n     * @param bool                $public             Files are public by default\n     * @param null|string         $contentDisposition The type of Content-Disposition to set automatically with the filename\n     * @param bool                $autoEtag           Whether the ETag header should be automatically set\n     * @param bool                $autoLastModified   Whether the Last-Modified header should be automatically set\n     *\n     * @return static\n     *\/",60],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_STATIC","static",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","create",71],"(",["T_VARIABLE","$file",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$status",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_LNUMBER","200",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$headers",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",",",["T_WHITESPACE"," ",71],["T_VARIABLE","$public",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","true",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$contentDisposition",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$autoEtag",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","false",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$autoLastModified",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","true",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_NEW","new",73],["T_WHITESPACE"," ",73],["T_STATIC","static",73],"(",["T_VARIABLE","$file",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$status",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$headers",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$public",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$contentDisposition",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$autoEtag",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$autoLastModified",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Sets the file to stream.\n     *\n     * @param \\SplFileInfo|string $file               The file to stream\n     * @param string              $contentDisposition\n     * @param bool                $autoEtag\n     * @param bool                $autoLastModified\n     *\n     * @return $this\n     *\n     * @throws FileException\n     *\/",76],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","setFile",88],"(",["T_VARIABLE","$file",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$contentDisposition",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","null",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$autoEtag",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","false",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$autoLastModified",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","true",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_VARIABLE","$file",90],["T_WHITESPACE"," ",90],["T_INSTANCEOF","instanceof",90],["T_WHITESPACE"," ",90],["T_STRING","File",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$file",91],["T_WHITESPACE"," ",91],["T_INSTANCEOF","instanceof",91],["T_WHITESPACE"," ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","SplFileInfo",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$file",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","File",92],"(",["T_VARIABLE","$file",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getPathname",92],"(",")",")",";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE"," ",93],["T_ELSE","else",93],["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$file",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","File",94],"(",["T_STRING_CAST","(string)",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$file",94],")",";",["T_WHITESPACE","\n            ",94],"}",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_VARIABLE","$file",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","isReadable",98],"(",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_THROW","throw",99],["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","FileException",99],"(",["T_CONSTANT_ENCAPSED_STRING","'File must be readable.'",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","file",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$file",102],";",["T_WHITESPACE","\n\n        ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$autoEtag",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","setAutoEtag",105],"(",")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n\n        ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$autoLastModified",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","setAutoLastModified",109],"(",")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$contentDisposition",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setContentDisposition",113],"(",["T_VARIABLE","$contentDisposition",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Gets the file.\n     *\n     * @return File The file to stream\n     *\/",119],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getFile",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","file",126],";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Automatically sets the Last-Modified header according the file modification date.\n     *\/",129],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","setAutoLastModified",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setLastModified",134],"(",["T_NS_SEPARATOR","\\",134],["T_STRING","DateTime",134],["T_DOUBLE_COLON","::",134],["T_STRING","createFromFormat",134],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","file",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getMTime",134],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Automatically sets the ETag header according to the checksum of the file.\n     *\/",139],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","setAutoEtag",142],"(",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setEtag",144],"(",["T_STRING","sha1_file",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","file",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getPathname",144],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",144],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Sets the Content-Disposition header with the given filename.\n     *\n     * @param string $disposition      ResponseHeaderBag::DISPOSITION_INLINE or ResponseHeaderBag::DISPOSITION_ATTACHMENT\n     * @param string $filename         Optionally use this filename instead of the real name of the file\n     * @param string $filenameFallback A fallback filename, containing only ASCII characters. Defaults to an automatically encoded filename\n     *\n     * @return $this\n     *\/",149],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","setContentDisposition",158],"(",["T_VARIABLE","$disposition",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$filename",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","''",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$filenameFallback",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","''",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$filename",160],["T_WHITESPACE"," ",160],["T_IS_IDENTICAL","===",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","''",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$filename",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","file",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getFilename",161],"(",")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n\n        ",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_CONSTANT_ENCAPSED_STRING","''",164],["T_WHITESPACE"," ",164],["T_IS_IDENTICAL","===",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$filenameFallback",164],["T_WHITESPACE"," ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],"(","!",["T_STRING","preg_match",164],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[\\x20-\\x7e]*$\/'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$filename",164],")",["T_WHITESPACE"," ",164],["T_BOOLEAN_OR","||",164],["T_WHITESPACE"," ",164],["T_STRING","false",164],["T_WHITESPACE"," ",164],["T_IS_NOT_IDENTICAL","!==",164],["T_WHITESPACE"," ",164],["T_STRING","strpos",164],"(",["T_VARIABLE","$filename",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'%'",164],")",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$encoding",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","mb_detect_encoding",165],"(",["T_VARIABLE","$filename",165],",",["T_WHITESPACE"," ",165],["T_STRING","null",165],",",["T_WHITESPACE"," ",165],["T_STRING","true",165],")",";",["T_WHITESPACE","\n\n            ",165],["T_FOR","for",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$i",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_LNUMBER","0",167],";",["T_WHITESPACE"," ",167],["T_VARIABLE","$i",167],["T_WHITESPACE"," ",167],"<",["T_WHITESPACE"," ",167],["T_STRING","mb_strlen",167],"(",["T_VARIABLE","$filename",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$encoding",167],")",";",["T_WHITESPACE"," ",167],["T_INC","++",167],["T_VARIABLE","$i",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$char",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","mb_substr",168],"(",["T_VARIABLE","$filename",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$i",168],",",["T_WHITESPACE"," ",168],["T_LNUMBER","1",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$encoding",168],")",";",["T_WHITESPACE","\n\n                ",168],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_CONSTANT_ENCAPSED_STRING","'%'",170],["T_WHITESPACE"," ",170],["T_IS_IDENTICAL","===",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$char",170],["T_WHITESPACE"," ",170],["T_BOOLEAN_OR","||",170],["T_WHITESPACE"," ",170],["T_STRING","ord",170],"(",["T_VARIABLE","$char",170],")",["T_WHITESPACE"," ",170],"<",["T_WHITESPACE"," ",170],["T_LNUMBER","32",170],["T_WHITESPACE"," ",170],["T_BOOLEAN_OR","||",170],["T_WHITESPACE"," ",170],["T_STRING","ord",170],"(",["T_VARIABLE","$char",170],")",["T_WHITESPACE"," ",170],">",["T_WHITESPACE"," ",170],["T_LNUMBER","126",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                    ",170],["T_VARIABLE","$filenameFallback",171],["T_WHITESPACE"," ",171],["T_CONCAT_EQUAL",".=",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'_'",171],";",["T_WHITESPACE","\n                ",171],"}",["T_WHITESPACE"," ",172],["T_ELSE","else",172],["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                    ",172],["T_VARIABLE","$filenameFallback",173],["T_WHITESPACE"," ",173],["T_CONCAT_EQUAL",".=",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$char",173],";",["T_WHITESPACE","\n                ",173],"}",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$dispositionHeader",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","headers",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","makeDisposition",178],"(",["T_VARIABLE","$disposition",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$filename",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$filenameFallback",178],")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","headers",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","set",179],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Disposition'",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$dispositionHeader",179],")",";",["T_WHITESPACE","\n\n        ",179],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",184],["T_WHITESPACE","\n    ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","prepare",187],"(",["T_STRING","Request",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$request",187],")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(","!",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","headers",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","has",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",189],")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","headers",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","set",190],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","file",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getMimeType",190],"(",")",["T_WHITESPACE"," ",190],"?",":",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'application\/octet-stream'",190],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.0'",193],["T_WHITESPACE"," ",193],["T_IS_NOT_IDENTICAL","!==",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$request",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","server",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","get",193],"(",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PROTOCOL'",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","setProtocolVersion",194],"(",["T_CONSTANT_ENCAPSED_STRING","'1.1'",194],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","ensureIEOverSSLCompatibility",197],"(",["T_VARIABLE","$request",197],")",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","offset",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_LNUMBER","0",199],";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","maxlen",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"-",["T_LNUMBER","1",200],";",["T_WHITESPACE","\n\n        ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_STRING","false",202],["T_WHITESPACE"," ",202],["T_IS_IDENTICAL","===",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$fileSize",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","file",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getSize",202],"(",")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","headers",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","set",205],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$fileSize",205],")",";",["T_WHITESPACE","\n\n        ",205],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","headers",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","has",207],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Ranges'",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_COMMENT","\/\/ Only accept ranges on safe HTTP methods\n",208],["T_WHITESPACE","            ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","headers",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","set",209],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Ranges'",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$request",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","isMethodSafe",209],"(",["T_STRING","false",209],")",["T_WHITESPACE"," ",209],"?",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'bytes'",209],["T_WHITESPACE"," ",209],":",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'none'",209],")",";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE","\n\n        ",210],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_STRING","self",212],["T_DOUBLE_COLON","::",212],["T_VARIABLE","$trustXSendfileTypeHeader",212],["T_WHITESPACE"," ",212],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$request",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","headers",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","has",212],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Sendfile-Type'",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_COMMENT","\/\/ Use X-Sendfile, do not send any content.\n",213],["T_WHITESPACE","            ",214],["T_VARIABLE","$type",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$request",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","headers",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","get",214],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Sendfile-Type'",214],")",";",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$path",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","file",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getRealPath",215],"(",")",";",["T_WHITESPACE","\n            ",215],["T_COMMENT","\/\/ Fall back to scheme:\/\/path for stream wrapped locations.\n",216],["T_WHITESPACE","            ",217],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_STRING","false",217],["T_WHITESPACE"," ",217],["T_IS_IDENTICAL","===",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$path",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$path",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","file",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getPathname",218],"(",")",";",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE","\n            ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_STRING","strtolower",220],"(",["T_VARIABLE","$type",220],")",["T_WHITESPACE"," ",220],["T_IS_IDENTICAL","===",220],["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'x-accel-redirect'",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                ",220],["T_COMMENT","\/\/ Do X-Accel-Mapping substitutions.\n",221],["T_WHITESPACE","                ",222],["T_COMMENT","\/\/ @link http:\/\/wiki.nginx.org\/X-accel#X-Accel-Redirect\n",222],["T_WHITESPACE","                ",223],["T_FOREACH","foreach",223],["T_WHITESPACE"," ",223],"(",["T_STRING","explode",223],"(",["T_CONSTANT_ENCAPSED_STRING","','",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$request",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","headers",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","get",223],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Accel-Mapping'",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","''",223],")",")",["T_WHITESPACE"," ",223],["T_AS","as",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$mapping",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                    ",223],["T_VARIABLE","$mapping",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","explode",224],"(",["T_CONSTANT_ENCAPSED_STRING","'='",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$mapping",224],",",["T_WHITESPACE"," ",224],["T_LNUMBER","2",224],")",";",["T_WHITESPACE","\n\n                    ",224],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_LNUMBER","2",226],["T_WHITESPACE"," ",226],["T_IS_IDENTICAL","===",226],["T_WHITESPACE"," ",226],["T_STRING","count",226],"(",["T_VARIABLE","$mapping",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                        ",226],["T_VARIABLE","$pathPrefix",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","trim",227],"(",["T_VARIABLE","$mapping",227],"[",["T_LNUMBER","0",227],"]",")",";",["T_WHITESPACE","\n                        ",227],["T_VARIABLE","$location",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","trim",228],"(",["T_VARIABLE","$mapping",228],"[",["T_LNUMBER","1",228],"]",")",";",["T_WHITESPACE","\n\n                        ",228],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_STRING","substr",230],"(",["T_VARIABLE","$path",230],",",["T_WHITESPACE"," ",230],["T_LNUMBER","0",230],",",["T_WHITESPACE"," ",230],["T_STRING","strlen",230],"(",["T_VARIABLE","$pathPrefix",230],")",")",["T_WHITESPACE"," ",230],["T_IS_IDENTICAL","===",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$pathPrefix",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                            ",230],["T_VARIABLE","$path",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$location",231],".",["T_STRING","substr",231],"(",["T_VARIABLE","$path",231],",",["T_WHITESPACE"," ",231],["T_STRING","strlen",231],"(",["T_VARIABLE","$pathPrefix",231],")",")",";",["T_WHITESPACE","\n                            ",231],["T_BREAK","break",232],";",["T_WHITESPACE","\n                        ",232],"}",["T_WHITESPACE","\n                    ",233],"}",["T_WHITESPACE","\n                ",234],"}",["T_WHITESPACE","\n            ",235],"}",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","headers",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","set",237],"(",["T_VARIABLE","$type",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$path",237],")",";",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","maxlen",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_LNUMBER","0",238],";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE"," ",239],["T_ELSEIF","elseif",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$request",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","headers",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","has",239],"(",["T_CONSTANT_ENCAPSED_STRING","'Range'",239],")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_COMMENT","\/\/ Process the range headers.\n",240],["T_WHITESPACE","            ",241],["T_IF","if",241],["T_WHITESPACE"," ",241],"(","!",["T_VARIABLE","$request",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","headers",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","has",241],"(",["T_CONSTANT_ENCAPSED_STRING","'If-Range'",241],")",["T_WHITESPACE"," ",241],["T_BOOLEAN_OR","||",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","hasValidIfRangeHeader",241],"(",["T_VARIABLE","$request",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","headers",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","get",241],"(",["T_CONSTANT_ENCAPSED_STRING","'If-Range'",241],")",")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$range",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$request",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","headers",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","get",242],"(",["T_CONSTANT_ENCAPSED_STRING","'Range'",242],")",";",["T_WHITESPACE","\n\n                ",242],["T_LIST","list",244],"(",["T_VARIABLE","$start",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$end",244],")",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","explode",244],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",244],",",["T_WHITESPACE"," ",244],["T_STRING","substr",244],"(",["T_VARIABLE","$range",244],",",["T_WHITESPACE"," ",244],["T_LNUMBER","6",244],")",",",["T_WHITESPACE"," ",244],["T_LNUMBER","2",244],")",["T_WHITESPACE"," ",244],"+",["T_WHITESPACE"," ",244],["T_ARRAY","array",244],"(",["T_LNUMBER","0",244],")",";",["T_WHITESPACE","\n\n                ",244],["T_VARIABLE","$end",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],"(",["T_CONSTANT_ENCAPSED_STRING","''",246],["T_WHITESPACE"," ",246],["T_IS_IDENTICAL","===",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$end",246],")",["T_WHITESPACE"," ",246],"?",["T_WHITESPACE"," ",246],["T_VARIABLE","$fileSize",246],["T_WHITESPACE"," ",246],"-",["T_WHITESPACE"," ",246],["T_LNUMBER","1",246],["T_WHITESPACE"," ",246],":",["T_WHITESPACE"," ",246],["T_INT_CAST","(int)",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$end",246],";",["T_WHITESPACE","\n\n                ",246],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_CONSTANT_ENCAPSED_STRING","''",248],["T_WHITESPACE"," ",248],["T_IS_IDENTICAL","===",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$start",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                    ",248],["T_VARIABLE","$start",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$fileSize",249],["T_WHITESPACE"," ",249],"-",["T_WHITESPACE"," ",249],["T_VARIABLE","$end",249],";",["T_WHITESPACE","\n                    ",249],["T_VARIABLE","$end",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$fileSize",250],["T_WHITESPACE"," ",250],"-",["T_WHITESPACE"," ",250],["T_LNUMBER","1",250],";",["T_WHITESPACE","\n                ",250],"}",["T_WHITESPACE"," ",251],["T_ELSE","else",251],["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                    ",251],["T_VARIABLE","$start",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_INT_CAST","(int)",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$start",252],";",["T_WHITESPACE","\n                ",252],"}",["T_WHITESPACE","\n\n                ",253],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$start",255],["T_WHITESPACE"," ",255],["T_IS_SMALLER_OR_EQUAL","<=",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$end",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                    ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$start",256],["T_WHITESPACE"," ",256],"<",["T_WHITESPACE"," ",256],["T_LNUMBER","0",256],["T_WHITESPACE"," ",256],["T_BOOLEAN_OR","||",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$end",256],["T_WHITESPACE"," ",256],">",["T_WHITESPACE"," ",256],["T_VARIABLE","$fileSize",256],["T_WHITESPACE"," ",256],"-",["T_WHITESPACE"," ",256],["T_LNUMBER","1",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","setStatusCode",257],"(",["T_LNUMBER","416",257],")",";",["T_WHITESPACE","\n                        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","headers",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","set",258],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Range'",258],",",["T_WHITESPACE"," ",258],["T_STRING","sprintf",258],"(",["T_CONSTANT_ENCAPSED_STRING","'bytes *\/%s'",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$fileSize",258],")",")",";",["T_WHITESPACE","\n                    ",258],"}",["T_WHITESPACE"," ",259],["T_ELSEIF","elseif",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$start",259],["T_WHITESPACE"," ",259],["T_IS_NOT_IDENTICAL","!==",259],["T_WHITESPACE"," ",259],["T_LNUMBER","0",259],["T_WHITESPACE"," ",259],["T_BOOLEAN_OR","||",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$end",259],["T_WHITESPACE"," ",259],["T_IS_NOT_IDENTICAL","!==",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$fileSize",259],["T_WHITESPACE"," ",259],"-",["T_WHITESPACE"," ",259],["T_LNUMBER","1",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","maxlen",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$end",260],["T_WHITESPACE"," ",260],"<",["T_WHITESPACE"," ",260],["T_VARIABLE","$fileSize",260],["T_WHITESPACE"," ",260],"?",["T_WHITESPACE"," ",260],["T_VARIABLE","$end",260],["T_WHITESPACE"," ",260],"-",["T_WHITESPACE"," ",260],["T_VARIABLE","$start",260],["T_WHITESPACE"," ",260],"+",["T_WHITESPACE"," ",260],["T_LNUMBER","1",260],["T_WHITESPACE"," ",260],":",["T_WHITESPACE"," ",260],"-",["T_LNUMBER","1",260],";",["T_WHITESPACE","\n                        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","offset",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$start",261],";",["T_WHITESPACE","\n\n                        ",261],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","setStatusCode",263],"(",["T_LNUMBER","206",263],")",";",["T_WHITESPACE","\n                        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","headers",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","set",264],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Range'",264],",",["T_WHITESPACE"," ",264],["T_STRING","sprintf",264],"(",["T_CONSTANT_ENCAPSED_STRING","'bytes %s-%s\/%s'",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$start",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$end",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$fileSize",264],")",")",";",["T_WHITESPACE","\n                        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","headers",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","set",265],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$end",265],["T_WHITESPACE"," ",265],"-",["T_WHITESPACE"," ",265],["T_VARIABLE","$start",265],["T_WHITESPACE"," ",265],"+",["T_WHITESPACE"," ",265],["T_LNUMBER","1",265],")",";",["T_WHITESPACE","\n                    ",265],"}",["T_WHITESPACE","\n                ",266],"}",["T_WHITESPACE","\n            ",267],"}",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_PRIVATE","private",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","hasValidIfRangeHeader",274],"(",["T_VARIABLE","$header",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getEtag",276],"(",")",["T_WHITESPACE"," ",276],["T_IS_IDENTICAL","===",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$header",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_STRING","true",277],";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n\n        ",278],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_STRING","null",280],["T_WHITESPACE"," ",280],["T_IS_IDENTICAL","===",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$lastModified",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getLastModified",280],"(",")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_STRING","false",281],";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n\n        ",282],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$lastModified",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","format",284],"(",["T_CONSTANT_ENCAPSED_STRING","'D, d M Y H:i:s'",284],")",".",["T_CONSTANT_ENCAPSED_STRING","' GMT'",284],["T_WHITESPACE"," ",284],["T_IS_IDENTICAL","===",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$header",284],";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n\n    ",285],["T_DOC_COMMENT","\/**\n     * Sends the file.\n     *\n     * {@inheritdoc}\n     *\/",287],["T_WHITESPACE","\n    ",291],["T_PUBLIC","public",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","sendContent",292],"(",")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(","!",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","isSuccessful",294],"(",")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_STRING","parent",295],["T_DOUBLE_COLON","::",295],["T_STRING","sendContent",295],"(",")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_LNUMBER","0",298],["T_WHITESPACE"," ",298],["T_IS_IDENTICAL","===",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","maxlen",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$out",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","fopen",302],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/output'",302],",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'wb'",302],")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$file",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","fopen",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","file",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getPathname",303],"(",")",",",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'rb'",303],")",";",["T_WHITESPACE","\n\n        ",303],["T_STRING","stream_copy_to_stream",305],"(",["T_VARIABLE","$file",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$out",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","maxlen",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","offset",305],")",";",["T_WHITESPACE","\n\n        ",305],["T_STRING","fclose",307],"(",["T_VARIABLE","$out",307],")",";",["T_WHITESPACE","\n        ",307],["T_STRING","fclose",308],"(",["T_VARIABLE","$file",308],")",";",["T_WHITESPACE","\n\n        ",308],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","deleteFileAfterSend",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_STRING","unlink",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","file",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getPathname",311],"(",")",")",";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n\n        ",312],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @throws \\LogicException when the content is not null\n     *\/",317],["T_WHITESPACE","\n    ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","setContent",322],"(",["T_VARIABLE","$content",322],")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_STRING","null",324],["T_WHITESPACE"," ",324],["T_IS_NOT_IDENTICAL","!==",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$content",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_THROW","throw",325],["T_WHITESPACE"," ",325],["T_NEW","new",325],["T_WHITESPACE"," ",325],["T_NS_SEPARATOR","\\",325],["T_STRING","LogicException",325],"(",["T_CONSTANT_ENCAPSED_STRING","'The content cannot be set on a BinaryFileResponse instance.'",325],")",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @return false\n     *\/",329],["T_WHITESPACE","\n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","getContent",334],"(",")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_STRING","false",336],";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * Trust X-Sendfile-Type header.\n     *\/",339],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_STATIC","static",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","trustXSendfileTypeHeader",342],"(",")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_STRING","self",344],["T_DOUBLE_COLON","::",344],["T_VARIABLE","$trustXSendfileTypeHeader",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_STRING","true",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * If this is set to true, the file will be unlinked after the request is send\n     * Note: If the X-Sendfile header is used, the deleteFileAfterSend setting will not be used.\n     *\n     * @param bool $shouldDelete\n     *\n     * @return $this\n     *\/",347],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","deleteFileAfterSend",355],"(",["T_VARIABLE","$shouldDelete",355],")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","deleteFileAfterSend",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$shouldDelete",357],";",["T_WHITESPACE","\n\n        ",357],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n",360],"}",["T_WHITESPACE","\n",361]]