[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ConflictingHeadersException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","SuspiciousOperationException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpFoundation",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Session",16],["T_NS_SEPARATOR","\\",16],["T_STRING","SessionInterface",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * Request represents an HTTP request.\n *\n * The methods dealing with URL accept \/ return a raw path (% encoded):\n *   * getBasePath\n *   * getBaseUrl\n *   * getPathInfo\n *   * getRequestUri\n *   * getUri\n *   * getUriForPath\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",18],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","Request",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","HEADER_FORWARDED",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'forwarded'",33],";",["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","HEADER_CLIENT_IP",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'client_ip'",34],";",["T_WHITESPACE","\n    ",34],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","HEADER_CLIENT_HOST",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'client_host'",35],";",["T_WHITESPACE","\n    ",35],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","HEADER_CLIENT_PROTO",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'client_proto'",36],";",["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","HEADER_CLIENT_PORT",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'client_port'",37],";",["T_WHITESPACE","\n\n    ",37],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","METHOD_HEAD",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","METHOD_GET",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'GET'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","METHOD_POST",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'POST'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","METHOD_PUT",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'PUT'",42],";",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","METHOD_PATCH",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'PATCH'",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","METHOD_DELETE",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",44],";",["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","METHOD_PURGE",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'PURGE'",45],";",["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","METHOD_OPTIONS",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",46],";",["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","METHOD_TRACE",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'TRACE'",47],";",["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","METHOD_CONNECT",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'CONNECT'",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var string[]\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_STATIC","static",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$trustedProxies",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var string[]\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_STATIC","static",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$trustedHostPatterns",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @var string[]\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_STATIC","static",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$trustedHosts",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",")",";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Names for headers that can be trusted when\n     * using trusted proxies.\n     *\n     * The FORWARDED header is the standard as of rfc7239.\n     *\n     * The other headers are non-standard, but widely used\n     * by popular reverse proxies (like Apache mod_proxy or Amazon EC2).\n     *\/",65],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_STATIC","static",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$trustedHeaders",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_WHITESPACE","\n        ",74],["T_STRING","self",75],["T_DOUBLE_COLON","::",75],["T_STRING","HEADER_FORWARDED",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'FORWARDED'",75],",",["T_WHITESPACE","\n        ",75],["T_STRING","self",76],["T_DOUBLE_COLON","::",76],["T_STRING","HEADER_CLIENT_IP",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_FOR'",76],",",["T_WHITESPACE","\n        ",76],["T_STRING","self",77],["T_DOUBLE_COLON","::",77],["T_STRING","HEADER_CLIENT_HOST",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_HOST'",77],",",["T_WHITESPACE","\n        ",77],["T_STRING","self",78],["T_DOUBLE_COLON","::",78],["T_STRING","HEADER_CLIENT_PROTO",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_PROTO'",78],",",["T_WHITESPACE","\n        ",78],["T_STRING","self",79],["T_DOUBLE_COLON","::",79],["T_STRING","HEADER_CLIENT_PORT",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_PORT'",79],",",["T_WHITESPACE","\n    ",79],")",";",["T_WHITESPACE","\n\n    ",80],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_STATIC","static",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$httpMethodParameterOverride",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","false",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Custom parameters.\n     *\n     * @var \\Symfony\\Component\\HttpFoundation\\ParameterBag\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$attributes",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Request body parameters ($_POST).\n     *\n     * @var \\Symfony\\Component\\HttpFoundation\\ParameterBag\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$request",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Query string parameters ($_GET).\n     *\n     * @var \\Symfony\\Component\\HttpFoundation\\ParameterBag\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$query",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Server and execution environment parameters ($_SERVER).\n     *\n     * @var \\Symfony\\Component\\HttpFoundation\\ServerBag\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$server",110],";",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Uploaded files ($_FILES).\n     *\n     * @var \\Symfony\\Component\\HttpFoundation\\FileBag\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$files",117],";",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Cookies ($_COOKIE).\n     *\n     * @var \\Symfony\\Component\\HttpFoundation\\ParameterBag\n     *\/",119],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$cookies",124],";",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Headers (taken from the $_SERVER).\n     *\n     * @var \\Symfony\\Component\\HttpFoundation\\HeaderBag\n     *\/",126],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$headers",131],";",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",133],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$content",136],";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",138],["T_WHITESPACE","\n    ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$languages",141],";",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",143],["T_WHITESPACE","\n    ",145],["T_PROTECTED","protected",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$charsets",146],";",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",148],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$encodings",151],";",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",153],["T_WHITESPACE","\n    ",155],["T_PROTECTED","protected",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$acceptableContentTypes",156],";",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",158],["T_WHITESPACE","\n    ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$pathInfo",161],";",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",163],["T_WHITESPACE","\n    ",165],["T_PROTECTED","protected",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$requestUri",166],";",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",168],["T_WHITESPACE","\n    ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$baseUrl",171],";",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",173],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$basePath",176],";",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",178],["T_WHITESPACE","\n    ",180],["T_PROTECTED","protected",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$method",181],";",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",183],["T_WHITESPACE","\n    ",185],["T_PROTECTED","protected",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$format",186],";",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * @var \\Symfony\\Component\\HttpFoundation\\Session\\SessionInterface\n     *\/",188],["T_WHITESPACE","\n    ",190],["T_PROTECTED","protected",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$session",191],";",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",193],["T_WHITESPACE","\n    ",195],["T_PROTECTED","protected",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$locale",196],";",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",198],["T_WHITESPACE","\n    ",200],["T_PROTECTED","protected",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$defaultLocale",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'en'",201],";",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",203],["T_WHITESPACE","\n    ",205],["T_PROTECTED","protected",206],["T_WHITESPACE"," ",206],["T_STATIC","static",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$formats",206],";",["T_WHITESPACE","\n\n    ",206],["T_PROTECTED","protected",208],["T_WHITESPACE"," ",208],["T_STATIC","static",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$requestFactory",208],";",["T_WHITESPACE","\n\n    ",208],["T_PRIVATE","private",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$isHostValid",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","true",210],";",["T_WHITESPACE","\n    ",210],["T_PRIVATE","private",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$isClientIpsValid",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","true",211],";",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param array           $query      The GET parameters\n     * @param array           $request    The POST parameters\n     * @param array           $attributes The request attributes (parameters parsed from the PATH_INFO, ...)\n     * @param array           $cookies    The COOKIE parameters\n     * @param array           $files      The FILES parameters\n     * @param array           $server     The SERVER parameters\n     * @param string|resource $content    The raw body data\n     *\/",213],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","__construct",224],"(",["T_ARRAY","array",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$query",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$request",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$attributes",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$cookies",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$files",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$server",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",",",["T_WHITESPACE"," ",224],["T_VARIABLE","$content",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","null",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","initialize",226],"(",["T_VARIABLE","$query",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$request",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$attributes",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$cookies",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$files",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$server",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$content",226],")",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Sets the parameters for this request.\n     *\n     * This method also re-initializes all properties.\n     *\n     * @param array           $query      The GET parameters\n     * @param array           $request    The POST parameters\n     * @param array           $attributes The request attributes (parameters parsed from the PATH_INFO, ...)\n     * @param array           $cookies    The COOKIE parameters\n     * @param array           $files      The FILES parameters\n     * @param array           $server     The SERVER parameters\n     * @param string|resource $content    The raw body data\n     *\/",229],["T_WHITESPACE","\n    ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","initialize",242],"(",["T_ARRAY","array",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$query",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$request",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$attributes",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$cookies",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$files",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$server",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",",",["T_WHITESPACE"," ",242],["T_VARIABLE","$content",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","null",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","request",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_NEW","new",244],["T_WHITESPACE"," ",244],["T_STRING","ParameterBag",244],"(",["T_VARIABLE","$request",244],")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","query",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_NEW","new",245],["T_WHITESPACE"," ",245],["T_STRING","ParameterBag",245],"(",["T_VARIABLE","$query",245],")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","attributes",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_NEW","new",246],["T_WHITESPACE"," ",246],["T_STRING","ParameterBag",246],"(",["T_VARIABLE","$attributes",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","cookies",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_NEW","new",247],["T_WHITESPACE"," ",247],["T_STRING","ParameterBag",247],"(",["T_VARIABLE","$cookies",247],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","files",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","FileBag",248],"(",["T_VARIABLE","$files",248],")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","server",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_NEW","new",249],["T_WHITESPACE"," ",249],["T_STRING","ServerBag",249],"(",["T_VARIABLE","$server",249],")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","headers",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_NEW","new",250],["T_WHITESPACE"," ",250],["T_STRING","HeaderBag",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","server",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getHeaders",250],"(",")",")",";",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","content",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$content",252],";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","languages",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","null",253],";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","charsets",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","null",254],";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","encodings",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","null",255],";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","acceptableContentTypes",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","null",256],";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","pathInfo",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","null",257],";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","requestUri",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","null",258],";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","baseUrl",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","null",259],";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","basePath",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","null",260],";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","method",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","null",261],";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","format",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","null",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Creates a new request with values from PHP's super globals.\n     *\n     * @return static\n     *\/",265],["T_WHITESPACE","\n    ",269],["T_PUBLIC","public",270],["T_WHITESPACE"," ",270],["T_STATIC","static",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","createFromGlobals",270],"(",")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_COMMENT","\/\/ With the php's bug #66606, the php's built-in web server\n",272],["T_WHITESPACE","        ",273],["T_COMMENT","\/\/ stores the Content-Type and Content-Length header values in\n",273],["T_WHITESPACE","        ",274],["T_COMMENT","\/\/ HTTP_CONTENT_TYPE and HTTP_CONTENT_LENGTH fields.\n",274],["T_WHITESPACE","        ",275],["T_VARIABLE","$server",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$_SERVER",275],";",["T_WHITESPACE","\n        ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_CONSTANT_ENCAPSED_STRING","'cli-server'",276],["T_WHITESPACE"," ",276],["T_IS_IDENTICAL","===",276],["T_WHITESPACE"," ",276],["T_STRING","PHP_SAPI",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_STRING","array_key_exists",277],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CONTENT_LENGTH'",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$_SERVER",277],")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                ",277],["T_VARIABLE","$server",278],"[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_LENGTH'",278],"]",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$_SERVER",278],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CONTENT_LENGTH'",278],"]",";",["T_WHITESPACE","\n            ",278],"}",["T_WHITESPACE","\n            ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_STRING","array_key_exists",280],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CONTENT_TYPE'",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$_SERVER",280],")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$server",281],"[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",281],"]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$_SERVER",281],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_CONTENT_TYPE'",281],"]",";",["T_WHITESPACE","\n            ",281],"}",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n\n        ",283],["T_VARIABLE","$request",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","self",285],["T_DOUBLE_COLON","::",285],["T_STRING","createRequestFromFactory",285],"(",["T_VARIABLE","$_GET",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$_POST",285],",",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",")",",",["T_WHITESPACE"," ",285],["T_VARIABLE","$_COOKIE",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$_FILES",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$server",285],")",";",["T_WHITESPACE","\n\n        ",285],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_LNUMBER","0",287],["T_WHITESPACE"," ",287],["T_IS_IDENTICAL","===",287],["T_WHITESPACE"," ",287],["T_STRING","strpos",287],"(",["T_VARIABLE","$request",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","headers",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","get",287],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",287],")",",",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'application\/x-www-form-urlencoded'",287],")",["T_WHITESPACE","\n            ",287],["T_BOOLEAN_AND","&&",288],["T_WHITESPACE"," ",288],["T_STRING","in_array",288],"(",["T_STRING","strtoupper",288],"(",["T_VARIABLE","$request",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","server",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","get",288],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",288],",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'GET'",288],")",")",",",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",["T_CONSTANT_ENCAPSED_STRING","'PUT'",288],",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",288],",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'PATCH'",288],")",")",["T_WHITESPACE","\n        ",288],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_STRING","parse_str",290],"(",["T_VARIABLE","$request",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getContent",290],"(",")",",",["T_WHITESPACE"," ",290],["T_VARIABLE","$data",290],")",";",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$request",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","request",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_NEW","new",291],["T_WHITESPACE"," ",291],["T_STRING","ParameterBag",291],"(",["T_VARIABLE","$data",291],")",";",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n\n        ",292],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$request",294],";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * Creates a Request based on a given URI and configuration.\n     *\n     * The information contained in the URI always take precedence\n     * over the other information (server and parameters).\n     *\n     * @param string $uri        The URI\n     * @param string $method     The HTTP method\n     * @param array  $parameters The query (GET) or request (POST) parameters\n     * @param array  $cookies    The request cookies ($_COOKIE)\n     * @param array  $files      The request files ($_FILES)\n     * @param array  $server     The server parameters ($_SERVER)\n     * @param string $content    The raw body data\n     *\n     * @return static\n     *\/",297],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_STATIC","static",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","create",313],"(",["T_VARIABLE","$uri",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$method",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'GET'",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$parameters",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",")",",",["T_WHITESPACE"," ",313],["T_VARIABLE","$cookies",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",")",",",["T_WHITESPACE"," ",313],["T_VARIABLE","$files",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",")",",",["T_WHITESPACE"," ",313],["T_VARIABLE","$server",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",")",",",["T_WHITESPACE"," ",313],["T_VARIABLE","$content",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","null",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$server",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","array_replace",315],"(",["T_ARRAY","array",315],"(",["T_WHITESPACE","\n            ",315],["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'localhost'",316],",",["T_WHITESPACE","\n            ",316],["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_LNUMBER","80",317],",",["T_WHITESPACE","\n            ",317],["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'localhost'",318],",",["T_WHITESPACE","\n            ",318],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'Symfony\/3.X'",319],",",["T_WHITESPACE","\n            ",319],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'text\/html,application\/xhtml+xml,application\/xml;q=0.9,*\/*;q=0.8'",320],",",["T_WHITESPACE","\n            ",320],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'en-us,en;q=0.5'",321],",",["T_WHITESPACE","\n            ",321],["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_CHARSET'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'ISO-8859-1,utf-8;q=0.7,*;q=0.7'",322],",",["T_WHITESPACE","\n            ",322],["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",323],",",["T_WHITESPACE","\n            ",323],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","''",324],",",["T_WHITESPACE","\n            ",324],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","''",325],",",["T_WHITESPACE","\n            ",325],["T_CONSTANT_ENCAPSED_STRING","'SERVER_PROTOCOL'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.1'",326],",",["T_WHITESPACE","\n            ",326],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_TIME'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_STRING","time",327],"(",")",",",["T_WHITESPACE","\n        ",327],")",",",["T_WHITESPACE"," ",328],["T_VARIABLE","$server",328],")",";",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$server",330],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_INFO'",330],"]",["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","''",330],";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$server",331],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",331],"]",["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","strtoupper",331],"(",["T_VARIABLE","$method",331],")",";",["T_WHITESPACE","\n\n        ",331],["T_VARIABLE","$components",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_STRING","parse_url",333],"(",["T_VARIABLE","$uri",333],")",";",["T_WHITESPACE","\n        ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_ISSET","isset",334],"(",["T_VARIABLE","$components",334],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",334],"]",")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$server",335],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",335],"]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$components",335],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",335],"]",";",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$server",336],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",336],"]",["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$components",336],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",336],"]",";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n\n        ",337],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_ISSET","isset",339],"(",["T_VARIABLE","$components",339],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",339],"]",")",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_CONSTANT_ENCAPSED_STRING","'https'",340],["T_WHITESPACE"," ",340],["T_IS_IDENTICAL","===",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$components",340],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",340],"]",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$server",341],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",341],"]",["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'on'",341],";",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$server",342],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",342],"]",["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_LNUMBER","443",342],";",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE"," ",343],["T_ELSE","else",343],["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n                ",343],["T_UNSET","unset",344],"(",["T_VARIABLE","$server",344],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",344],"]",")",";",["T_WHITESPACE","\n                ",344],["T_VARIABLE","$server",345],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",345],"]",["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_LNUMBER","80",345],";",["T_WHITESPACE","\n            ",345],"}",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE","\n\n        ",347],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_ISSET","isset",349],"(",["T_VARIABLE","$components",349],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",349],"]",")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$server",350],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",350],"]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$components",350],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",350],"]",";",["T_WHITESPACE","\n            ",350],["T_VARIABLE","$server",351],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",351],"]",["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$server",351],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",351],"]",".",["T_CONSTANT_ENCAPSED_STRING","':'",351],".",["T_VARIABLE","$components",351],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",351],"]",";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n\n        ",352],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_ISSET","isset",354],"(",["T_VARIABLE","$components",354],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",354],"]",")",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$server",355],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",355],"]",["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$components",355],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",355],"]",";",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE","\n\n        ",356],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_ISSET","isset",358],"(",["T_VARIABLE","$components",358],"[",["T_CONSTANT_ENCAPSED_STRING","'pass'",358],"]",")",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$server",359],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",359],"]",["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$components",359],"[",["T_CONSTANT_ENCAPSED_STRING","'pass'",359],"]",";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n\n        ",360],["T_IF","if",362],["T_WHITESPACE"," ",362],"(","!",["T_ISSET","isset",362],"(",["T_VARIABLE","$components",362],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",362],"]",")",")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_VARIABLE","$components",363],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",363],"]",["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'\/'",363],";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE","\n\n        ",364],["T_SWITCH","switch",366],["T_WHITESPACE"," ",366],"(",["T_STRING","strtoupper",366],"(",["T_VARIABLE","$method",366],")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_CASE","case",367],["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'POST'",367],":",["T_WHITESPACE","\n            ",367],["T_CASE","case",368],["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'PUT'",368],":",["T_WHITESPACE","\n            ",368],["T_CASE","case",369],["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",369],":",["T_WHITESPACE","\n                ",369],["T_IF","if",370],["T_WHITESPACE"," ",370],"(","!",["T_ISSET","isset",370],"(",["T_VARIABLE","$server",370],"[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",370],"]",")",")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n                    ",370],["T_VARIABLE","$server",371],"[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",371],"]",["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'application\/x-www-form-urlencoded'",371],";",["T_WHITESPACE","\n                ",371],"}",["T_WHITESPACE","\n                ",372],["T_COMMENT","\/\/ no break\n",373],["T_WHITESPACE","            ",374],["T_CASE","case",374],["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'PATCH'",374],":",["T_WHITESPACE","\n                ",374],["T_VARIABLE","$request",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$parameters",375],";",["T_WHITESPACE","\n                ",375],["T_VARIABLE","$query",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_ARRAY","array",376],"(",")",";",["T_WHITESPACE","\n                ",376],["T_BREAK","break",377],";",["T_WHITESPACE","\n            ",377],["T_DEFAULT","default",378],":",["T_WHITESPACE","\n                ",378],["T_VARIABLE","$request",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_ARRAY","array",379],"(",")",";",["T_WHITESPACE","\n                ",379],["T_VARIABLE","$query",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$parameters",380],";",["T_WHITESPACE","\n                ",380],["T_BREAK","break",381],";",["T_WHITESPACE","\n        ",381],"}",["T_WHITESPACE","\n\n        ",382],["T_VARIABLE","$queryString",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","''",384],";",["T_WHITESPACE","\n        ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_ISSET","isset",385],"(",["T_VARIABLE","$components",385],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",385],"]",")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n            ",385],["T_STRING","parse_str",386],"(",["T_STRING","html_entity_decode",386],"(",["T_VARIABLE","$components",386],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",386],"]",")",",",["T_WHITESPACE"," ",386],["T_VARIABLE","$qs",386],")",";",["T_WHITESPACE","\n\n            ",386],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$query",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                ",388],["T_VARIABLE","$query",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_STRING","array_replace",389],"(",["T_VARIABLE","$qs",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$query",389],")",";",["T_WHITESPACE","\n                ",389],["T_VARIABLE","$queryString",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_STRING","http_build_query",390],"(",["T_VARIABLE","$query",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","''",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'&'",390],")",";",["T_WHITESPACE","\n            ",390],"}",["T_WHITESPACE"," ",391],["T_ELSE","else",391],["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n                ",391],["T_VARIABLE","$query",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$qs",392],";",["T_WHITESPACE","\n                ",392],["T_VARIABLE","$queryString",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$components",393],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",393],"]",";",["T_WHITESPACE","\n            ",393],"}",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE"," ",395],["T_ELSEIF","elseif",395],["T_WHITESPACE"," ",395],"(",["T_VARIABLE","$query",395],")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n            ",395],["T_VARIABLE","$queryString",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_STRING","http_build_query",396],"(",["T_VARIABLE","$query",396],",",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","''",396],",",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'&'",396],")",";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n\n        ",397],["T_VARIABLE","$server",399],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",399],"]",["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$components",399],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",399],"]",".","(",["T_CONSTANT_ENCAPSED_STRING","''",399],["T_WHITESPACE"," ",399],["T_IS_NOT_IDENTICAL","!==",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$queryString",399],["T_WHITESPACE"," ",399],"?",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'?'",399],".",["T_VARIABLE","$queryString",399],["T_WHITESPACE"," ",399],":",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","''",399],")",";",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$server",400],"[",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",400],"]",["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$queryString",400],";",["T_WHITESPACE","\n\n        ",400],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_STRING","self",402],["T_DOUBLE_COLON","::",402],["T_STRING","createRequestFromFactory",402],"(",["T_VARIABLE","$query",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$request",402],",",["T_WHITESPACE"," ",402],["T_ARRAY","array",402],"(",")",",",["T_WHITESPACE"," ",402],["T_VARIABLE","$cookies",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$files",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$server",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$content",402],")",";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     * Sets a callable able to create a Request instance.\n     *\n     * This is mainly useful when you need to override the Request class\n     * to keep BC with an existing system. It should not be used for any\n     * other purpose.\n     *\n     * @param callable|null $callable A PHP callable\n     *\/",405],["T_WHITESPACE","\n    ",413],["T_PUBLIC","public",414],["T_WHITESPACE"," ",414],["T_STATIC","static",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","setFactory",414],"(",["T_VARIABLE","$callable",414],")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_STRING","self",416],["T_DOUBLE_COLON","::",416],["T_VARIABLE","$requestFactory",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$callable",416],";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Clones a request and overrides some of its parameters.\n     *\n     * @param array $query      The GET parameters\n     * @param array $request    The POST parameters\n     * @param array $attributes The request attributes (parameters parsed from the PATH_INFO, ...)\n     * @param array $cookies    The COOKIE parameters\n     * @param array $files      The FILES parameters\n     * @param array $server     The SERVER parameters\n     *\n     * @return static\n     *\/",419],["T_WHITESPACE","\n    ",430],["T_PUBLIC","public",431],["T_WHITESPACE"," ",431],["T_FUNCTION","function",431],["T_WHITESPACE"," ",431],["T_STRING","duplicate",431],"(",["T_ARRAY","array",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$query",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","null",431],",",["T_WHITESPACE"," ",431],["T_ARRAY","array",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$request",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","null",431],",",["T_WHITESPACE"," ",431],["T_ARRAY","array",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$attributes",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","null",431],",",["T_WHITESPACE"," ",431],["T_ARRAY","array",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$cookies",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","null",431],",",["T_WHITESPACE"," ",431],["T_ARRAY","array",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$files",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","null",431],",",["T_WHITESPACE"," ",431],["T_ARRAY","array",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$server",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","null",431],")",["T_WHITESPACE","\n    ",431],"{",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$dup",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_CLONE","clone",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],";",["T_WHITESPACE","\n        ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_VARIABLE","$query",434],["T_WHITESPACE"," ",434],["T_IS_NOT_IDENTICAL","!==",434],["T_WHITESPACE"," ",434],["T_STRING","null",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n            ",434],["T_VARIABLE","$dup",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","query",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_NEW","new",435],["T_WHITESPACE"," ",435],["T_STRING","ParameterBag",435],"(",["T_VARIABLE","$query",435],")",";",["T_WHITESPACE","\n        ",435],"}",["T_WHITESPACE","\n        ",436],["T_IF","if",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$request",437],["T_WHITESPACE"," ",437],["T_IS_NOT_IDENTICAL","!==",437],["T_WHITESPACE"," ",437],["T_STRING","null",437],")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n            ",437],["T_VARIABLE","$dup",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","request",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_NEW","new",438],["T_WHITESPACE"," ",438],["T_STRING","ParameterBag",438],"(",["T_VARIABLE","$request",438],")",";",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n        ",439],["T_IF","if",440],["T_WHITESPACE"," ",440],"(",["T_VARIABLE","$attributes",440],["T_WHITESPACE"," ",440],["T_IS_NOT_IDENTICAL","!==",440],["T_WHITESPACE"," ",440],["T_STRING","null",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n            ",440],["T_VARIABLE","$dup",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","attributes",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_NEW","new",441],["T_WHITESPACE"," ",441],["T_STRING","ParameterBag",441],"(",["T_VARIABLE","$attributes",441],")",";",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE","\n        ",442],["T_IF","if",443],["T_WHITESPACE"," ",443],"(",["T_VARIABLE","$cookies",443],["T_WHITESPACE"," ",443],["T_IS_NOT_IDENTICAL","!==",443],["T_WHITESPACE"," ",443],["T_STRING","null",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$dup",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","cookies",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_NEW","new",444],["T_WHITESPACE"," ",444],["T_STRING","ParameterBag",444],"(",["T_VARIABLE","$cookies",444],")",";",["T_WHITESPACE","\n        ",444],"}",["T_WHITESPACE","\n        ",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$files",446],["T_WHITESPACE"," ",446],["T_IS_NOT_IDENTICAL","!==",446],["T_WHITESPACE"," ",446],["T_STRING","null",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n            ",446],["T_VARIABLE","$dup",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","files",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_NEW","new",447],["T_WHITESPACE"," ",447],["T_STRING","FileBag",447],"(",["T_VARIABLE","$files",447],")",";",["T_WHITESPACE","\n        ",447],"}",["T_WHITESPACE","\n        ",448],["T_IF","if",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$server",449],["T_WHITESPACE"," ",449],["T_IS_NOT_IDENTICAL","!==",449],["T_WHITESPACE"," ",449],["T_STRING","null",449],")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n            ",449],["T_VARIABLE","$dup",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","server",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_NEW","new",450],["T_WHITESPACE"," ",450],["T_STRING","ServerBag",450],"(",["T_VARIABLE","$server",450],")",";",["T_WHITESPACE","\n            ",450],["T_VARIABLE","$dup",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","headers",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_NEW","new",451],["T_WHITESPACE"," ",451],["T_STRING","HeaderBag",451],"(",["T_VARIABLE","$dup",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","server",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getHeaders",451],"(",")",")",";",["T_WHITESPACE","\n        ",451],"}",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$dup",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","languages",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","null",453],";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$dup",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","charsets",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","null",454],";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$dup",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","encodings",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_STRING","null",455],";",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$dup",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","acceptableContentTypes",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_STRING","null",456],";",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$dup",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","pathInfo",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","null",457],";",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$dup",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","requestUri",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_STRING","null",458],";",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$dup",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","baseUrl",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_STRING","null",459],";",["T_WHITESPACE","\n        ",459],["T_VARIABLE","$dup",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","basePath",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_STRING","null",460],";",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$dup",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","method",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","null",461],";",["T_WHITESPACE","\n        ",461],["T_VARIABLE","$dup",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","format",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_STRING","null",462],";",["T_WHITESPACE","\n\n        ",462],["T_IF","if",464],["T_WHITESPACE"," ",464],"(","!",["T_VARIABLE","$dup",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","get",464],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",464],")",["T_WHITESPACE"," ",464],["T_BOOLEAN_AND","&&",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","get",464],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",464],")",")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$dup",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","attributes",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","set",465],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",465],",",["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","get",465],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",465],")",")",";",["T_WHITESPACE","\n        ",465],"}",["T_WHITESPACE","\n\n        ",466],["T_IF","if",468],["T_WHITESPACE"," ",468],"(","!",["T_VARIABLE","$dup",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getRequestFormat",468],"(",["T_STRING","null",468],")",")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n            ",468],["T_VARIABLE","$dup",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","setRequestFormat",469],"(",["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getRequestFormat",469],"(",["T_STRING","null",469],")",")",";",["T_WHITESPACE","\n        ",469],"}",["T_WHITESPACE","\n\n        ",470],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$dup",472],";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n\n    ",473],["T_DOC_COMMENT","\/**\n     * Clones the current request.\n     *\n     * Note that the session is not cloned as duplicated requests\n     * are most of the time sub-requests of the main one.\n     *\/",475],["T_WHITESPACE","\n    ",480],["T_PUBLIC","public",481],["T_WHITESPACE"," ",481],["T_FUNCTION","function",481],["T_WHITESPACE"," ",481],["T_STRING","__clone",481],"(",")",["T_WHITESPACE","\n    ",481],"{",["T_WHITESPACE","\n        ",482],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","query",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_CLONE","clone",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","query",483],";",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","request",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_CLONE","clone",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","request",484],";",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","attributes",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_CLONE","clone",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","attributes",485],";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","cookies",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_CLONE","clone",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","cookies",486],";",["T_WHITESPACE","\n        ",486],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","files",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_CLONE","clone",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","files",487],";",["T_WHITESPACE","\n        ",487],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","server",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_CLONE","clone",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","server",488],";",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","headers",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_CLONE","clone",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","headers",489],";",["T_WHITESPACE","\n    ",489],"}",["T_WHITESPACE","\n\n    ",490],["T_DOC_COMMENT","\/**\n     * Returns the request as a string.\n     *\n     * @return string The request\n     *\/",492],["T_WHITESPACE","\n    ",496],["T_PUBLIC","public",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","__toString",497],"(",")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_TRY","try",499],["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n            ",499],["T_VARIABLE","$content",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getContent",500],"(",")",";",["T_WHITESPACE","\n        ",500],"}",["T_WHITESPACE"," ",501],["T_CATCH","catch",501],["T_WHITESPACE"," ",501],"(",["T_NS_SEPARATOR","\\",501],["T_STRING","LogicException",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$e",501],")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n            ",501],["T_RETURN","return",502],["T_WHITESPACE"," ",502],["T_STRING","trigger_error",502],"(",["T_VARIABLE","$e",502],",",["T_WHITESPACE"," ",502],["T_STRING","E_USER_ERROR",502],")",";",["T_WHITESPACE","\n        ",502],"}",["T_WHITESPACE","\n\n        ",503],["T_RETURN","return",505],["T_WHITESPACE","\n            ",505],["T_STRING","sprintf",506],"(",["T_CONSTANT_ENCAPSED_STRING","'%s %s %s'",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getMethod",506],"(",")",",",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getRequestUri",506],"(",")",",",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","server",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","get",506],"(",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PROTOCOL'",506],")",")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",506],".",["T_WHITESPACE","\n            ",506],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","headers",507],".",["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",507],".",["T_WHITESPACE","\n            ",507],["T_VARIABLE","$content",508],";",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * Overrides the PHP global variables according to this request instance.\n     *\n     * It overrides $_GET, $_POST, $_REQUEST, $_SERVER, $_COOKIE.\n     * $_FILES is never overridden, see rfc1867\n     *\/",511],["T_WHITESPACE","\n    ",516],["T_PUBLIC","public",517],["T_WHITESPACE"," ",517],["T_FUNCTION","function",517],["T_WHITESPACE"," ",517],["T_STRING","overrideGlobals",517],"(",")",["T_WHITESPACE","\n    ",517],"{",["T_WHITESPACE","\n        ",518],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","server",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","set",519],"(",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",519],",",["T_WHITESPACE"," ",519],["T_STATIC","static",519],["T_DOUBLE_COLON","::",519],["T_STRING","normalizeQueryString",519],"(",["T_STRING","http_build_query",519],"(",["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","query",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","all",519],"(",")",",",["T_WHITESPACE"," ",519],["T_STRING","null",519],",",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'&'",519],")",")",")",";",["T_WHITESPACE","\n\n        ",519],["T_VARIABLE","$_GET",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","query",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","all",521],"(",")",";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$_POST",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","request",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","all",522],"(",")",";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$_SERVER",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","server",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","all",523],"(",")",";",["T_WHITESPACE","\n        ",523],["T_VARIABLE","$_COOKIE",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","cookies",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","all",524],"(",")",";",["T_WHITESPACE","\n\n        ",524],["T_FOREACH","foreach",526],["T_WHITESPACE"," ",526],"(",["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","headers",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","all",526],"(",")",["T_WHITESPACE"," ",526],["T_AS","as",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$key",526],["T_WHITESPACE"," ",526],["T_DOUBLE_ARROW","=>",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$value",526],")",["T_WHITESPACE"," ",526],"{",["T_WHITESPACE","\n            ",526],["T_VARIABLE","$key",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_STRING","strtoupper",527],"(",["T_STRING","str_replace",527],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",527],",",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'_'",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$key",527],")",")",";",["T_WHITESPACE","\n            ",527],["T_IF","if",528],["T_WHITESPACE"," ",528],"(",["T_STRING","in_array",528],"(",["T_VARIABLE","$key",528],",",["T_WHITESPACE"," ",528],["T_ARRAY","array",528],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",528],",",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'CONTENT_LENGTH'",528],")",")",")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n                ",528],["T_VARIABLE","$_SERVER",529],"[",["T_VARIABLE","$key",529],"]",["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_STRING","implode",529],"(",["T_CONSTANT_ENCAPSED_STRING","', '",529],",",["T_WHITESPACE"," ",529],["T_VARIABLE","$value",529],")",";",["T_WHITESPACE","\n            ",529],"}",["T_WHITESPACE"," ",530],["T_ELSE","else",530],["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n                ",530],["T_VARIABLE","$_SERVER",531],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_'",531],".",["T_VARIABLE","$key",531],"]",["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_STRING","implode",531],"(",["T_CONSTANT_ENCAPSED_STRING","', '",531],",",["T_WHITESPACE"," ",531],["T_VARIABLE","$value",531],")",";",["T_WHITESPACE","\n            ",531],"}",["T_WHITESPACE","\n        ",532],"}",["T_WHITESPACE","\n\n        ",533],["T_VARIABLE","$request",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_ARRAY","array",535],"(",["T_CONSTANT_ENCAPSED_STRING","'g'",535],["T_WHITESPACE"," ",535],["T_DOUBLE_ARROW","=>",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$_GET",535],",",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'p'",535],["T_WHITESPACE"," ",535],["T_DOUBLE_ARROW","=>",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$_POST",535],",",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'c'",535],["T_WHITESPACE"," ",535],["T_DOUBLE_ARROW","=>",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$_COOKIE",535],")",";",["T_WHITESPACE","\n\n        ",535],["T_VARIABLE","$requestOrder",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_STRING","ini_get",537],"(",["T_CONSTANT_ENCAPSED_STRING","'request_order'",537],")",["T_WHITESPACE"," ",537],"?",":",["T_WHITESPACE"," ",537],["T_STRING","ini_get",537],"(",["T_CONSTANT_ENCAPSED_STRING","'variables_order'",537],")",";",["T_WHITESPACE","\n        ",537],["T_VARIABLE","$requestOrder",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_STRING","preg_replace",538],"(",["T_CONSTANT_ENCAPSED_STRING","'#[^cgp]#'",538],",",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","''",538],",",["T_WHITESPACE"," ",538],["T_STRING","strtolower",538],"(",["T_VARIABLE","$requestOrder",538],")",")",["T_WHITESPACE"," ",538],"?",":",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'gp'",538],";",["T_WHITESPACE","\n\n        ",538],["T_VARIABLE","$_REQUEST",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_ARRAY","array",540],"(",")",";",["T_WHITESPACE","\n        ",540],["T_FOREACH","foreach",541],["T_WHITESPACE"," ",541],"(",["T_STRING","str_split",541],"(",["T_VARIABLE","$requestOrder",541],")",["T_WHITESPACE"," ",541],["T_AS","as",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$order",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_VARIABLE","$_REQUEST",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_STRING","array_merge",542],"(",["T_VARIABLE","$_REQUEST",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$request",542],"[",["T_VARIABLE","$order",542],"]",")",";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n\n    ",544],["T_DOC_COMMENT","\/**\n     * Sets a list of trusted proxies.\n     *\n     * You should only list the reverse proxies that you manage directly.\n     *\n     * @param array $proxies A list of trusted proxies\n     *\/",546],["T_WHITESPACE","\n    ",552],["T_PUBLIC","public",553],["T_WHITESPACE"," ",553],["T_STATIC","static",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","setTrustedProxies",553],"(",["T_ARRAY","array",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$proxies",553],")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_STRING","self",555],["T_DOUBLE_COLON","::",555],["T_VARIABLE","$trustedProxies",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_VARIABLE","$proxies",555],";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n\n    ",556],["T_DOC_COMMENT","\/**\n     * Gets the list of trusted proxies.\n     *\n     * @return array An array of trusted proxies\n     *\/",558],["T_WHITESPACE","\n    ",562],["T_PUBLIC","public",563],["T_WHITESPACE"," ",563],["T_STATIC","static",563],["T_WHITESPACE"," ",563],["T_FUNCTION","function",563],["T_WHITESPACE"," ",563],["T_STRING","getTrustedProxies",563],"(",")",["T_WHITESPACE","\n    ",563],"{",["T_WHITESPACE","\n        ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_STRING","self",565],["T_DOUBLE_COLON","::",565],["T_VARIABLE","$trustedProxies",565],";",["T_WHITESPACE","\n    ",565],"}",["T_WHITESPACE","\n\n    ",566],["T_DOC_COMMENT","\/**\n     * Sets a list of trusted host patterns.\n     *\n     * You should only list the hosts you manage using regexs.\n     *\n     * @param array $hostPatterns A list of trusted host patterns\n     *\/",568],["T_WHITESPACE","\n    ",574],["T_PUBLIC","public",575],["T_WHITESPACE"," ",575],["T_STATIC","static",575],["T_WHITESPACE"," ",575],["T_FUNCTION","function",575],["T_WHITESPACE"," ",575],["T_STRING","setTrustedHosts",575],"(",["T_ARRAY","array",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$hostPatterns",575],")",["T_WHITESPACE","\n    ",575],"{",["T_WHITESPACE","\n        ",576],["T_STRING","self",577],["T_DOUBLE_COLON","::",577],["T_VARIABLE","$trustedHostPatterns",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_STRING","array_map",577],"(",["T_FUNCTION","function",577],["T_WHITESPACE"," ",577],"(",["T_VARIABLE","$hostPattern",577],")",["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n            ",577],["T_RETURN","return",578],["T_WHITESPACE"," ",578],["T_STRING","sprintf",578],"(",["T_CONSTANT_ENCAPSED_STRING","'#%s#i'",578],",",["T_WHITESPACE"," ",578],["T_VARIABLE","$hostPattern",578],")",";",["T_WHITESPACE","\n        ",578],"}",",",["T_WHITESPACE"," ",579],["T_VARIABLE","$hostPatterns",579],")",";",["T_WHITESPACE","\n        ",579],["T_COMMENT","\/\/ we need to reset trusted hosts on trusted host patterns change\n",580],["T_WHITESPACE","        ",581],["T_STRING","self",581],["T_DOUBLE_COLON","::",581],["T_VARIABLE","$trustedHosts",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],["T_ARRAY","array",581],"(",")",";",["T_WHITESPACE","\n    ",581],"}",["T_WHITESPACE","\n\n    ",582],["T_DOC_COMMENT","\/**\n     * Gets the list of trusted host patterns.\n     *\n     * @return array An array of trusted host patterns\n     *\/",584],["T_WHITESPACE","\n    ",588],["T_PUBLIC","public",589],["T_WHITESPACE"," ",589],["T_STATIC","static",589],["T_WHITESPACE"," ",589],["T_FUNCTION","function",589],["T_WHITESPACE"," ",589],["T_STRING","getTrustedHosts",589],"(",")",["T_WHITESPACE","\n    ",589],"{",["T_WHITESPACE","\n        ",590],["T_RETURN","return",591],["T_WHITESPACE"," ",591],["T_STRING","self",591],["T_DOUBLE_COLON","::",591],["T_VARIABLE","$trustedHostPatterns",591],";",["T_WHITESPACE","\n    ",591],"}",["T_WHITESPACE","\n\n    ",592],["T_DOC_COMMENT","\/**\n     * Sets the name for trusted headers.\n     *\n     * The following header keys are supported:\n     *\n     *  * Request::HEADER_CLIENT_IP:    defaults to X-Forwarded-For   (see getClientIp())\n     *  * Request::HEADER_CLIENT_HOST:  defaults to X-Forwarded-Host  (see getHost())\n     *  * Request::HEADER_CLIENT_PORT:  defaults to X-Forwarded-Port  (see getPort())\n     *  * Request::HEADER_CLIENT_PROTO: defaults to X-Forwarded-Proto (see getScheme() and isSecure())\n     *\n     * Setting an empty value allows to disable the trusted header for the given key.\n     *\n     * @param string $key   The header key\n     * @param string $value The header name\n     *\n     * @throws \\InvalidArgumentException\n     *\/",594],["T_WHITESPACE","\n    ",610],["T_PUBLIC","public",611],["T_WHITESPACE"," ",611],["T_STATIC","static",611],["T_WHITESPACE"," ",611],["T_FUNCTION","function",611],["T_WHITESPACE"," ",611],["T_STRING","setTrustedHeaderName",611],"(",["T_VARIABLE","$key",611],",",["T_WHITESPACE"," ",611],["T_VARIABLE","$value",611],")",["T_WHITESPACE","\n    ",611],"{",["T_WHITESPACE","\n        ",612],["T_IF","if",613],["T_WHITESPACE"," ",613],"(","!",["T_STRING","array_key_exists",613],"(",["T_VARIABLE","$key",613],",",["T_WHITESPACE"," ",613],["T_STRING","self",613],["T_DOUBLE_COLON","::",613],["T_VARIABLE","$trustedHeaders",613],")",")",["T_WHITESPACE"," ",613],"{",["T_WHITESPACE","\n            ",613],["T_THROW","throw",614],["T_WHITESPACE"," ",614],["T_NEW","new",614],["T_WHITESPACE"," ",614],["T_NS_SEPARATOR","\\",614],["T_STRING","InvalidArgumentException",614],"(",["T_STRING","sprintf",614],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to set the trusted header name for key \"%s\".'",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$key",614],")",")",";",["T_WHITESPACE","\n        ",614],"}",["T_WHITESPACE","\n\n        ",615],["T_STRING","self",617],["T_DOUBLE_COLON","::",617],["T_VARIABLE","$trustedHeaders",617],"[",["T_VARIABLE","$key",617],"]",["T_WHITESPACE"," ",617],"=",["T_WHITESPACE"," ",617],["T_VARIABLE","$value",617],";",["T_WHITESPACE","\n    ",617],"}",["T_WHITESPACE","\n\n    ",618],["T_DOC_COMMENT","\/**\n     * Gets the trusted proxy header name.\n     *\n     * @param string $key The header key\n     *\n     * @return string The header name\n     *\n     * @throws \\InvalidArgumentException\n     *\/",620],["T_WHITESPACE","\n    ",628],["T_PUBLIC","public",629],["T_WHITESPACE"," ",629],["T_STATIC","static",629],["T_WHITESPACE"," ",629],["T_FUNCTION","function",629],["T_WHITESPACE"," ",629],["T_STRING","getTrustedHeaderName",629],"(",["T_VARIABLE","$key",629],")",["T_WHITESPACE","\n    ",629],"{",["T_WHITESPACE","\n        ",630],["T_IF","if",631],["T_WHITESPACE"," ",631],"(","!",["T_STRING","array_key_exists",631],"(",["T_VARIABLE","$key",631],",",["T_WHITESPACE"," ",631],["T_STRING","self",631],["T_DOUBLE_COLON","::",631],["T_VARIABLE","$trustedHeaders",631],")",")",["T_WHITESPACE"," ",631],"{",["T_WHITESPACE","\n            ",631],["T_THROW","throw",632],["T_WHITESPACE"," ",632],["T_NEW","new",632],["T_WHITESPACE"," ",632],["T_NS_SEPARATOR","\\",632],["T_STRING","InvalidArgumentException",632],"(",["T_STRING","sprintf",632],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to get the trusted header name for key \"%s\".'",632],",",["T_WHITESPACE"," ",632],["T_VARIABLE","$key",632],")",")",";",["T_WHITESPACE","\n        ",632],"}",["T_WHITESPACE","\n\n        ",633],["T_RETURN","return",635],["T_WHITESPACE"," ",635],["T_STRING","self",635],["T_DOUBLE_COLON","::",635],["T_VARIABLE","$trustedHeaders",635],"[",["T_VARIABLE","$key",635],"]",";",["T_WHITESPACE","\n    ",635],"}",["T_WHITESPACE","\n\n    ",636],["T_DOC_COMMENT","\/**\n     * Normalizes a query string.\n     *\n     * It builds a normalized query string, where keys\/value pairs are alphabetized,\n     * have consistent escaping and unneeded delimiters are removed.\n     *\n     * @param string $qs Query string\n     *\n     * @return string A normalized query string for the Request\n     *\/",638],["T_WHITESPACE","\n    ",647],["T_PUBLIC","public",648],["T_WHITESPACE"," ",648],["T_STATIC","static",648],["T_WHITESPACE"," ",648],["T_FUNCTION","function",648],["T_WHITESPACE"," ",648],["T_STRING","normalizeQueryString",648],"(",["T_VARIABLE","$qs",648],")",["T_WHITESPACE","\n    ",648],"{",["T_WHITESPACE","\n        ",649],["T_IF","if",650],["T_WHITESPACE"," ",650],"(",["T_CONSTANT_ENCAPSED_STRING","''",650],["T_WHITESPACE"," ",650],["T_IS_EQUAL","==",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$qs",650],")",["T_WHITESPACE"," ",650],"{",["T_WHITESPACE","\n            ",650],["T_RETURN","return",651],["T_WHITESPACE"," ",651],["T_CONSTANT_ENCAPSED_STRING","''",651],";",["T_WHITESPACE","\n        ",651],"}",["T_WHITESPACE","\n\n        ",652],["T_VARIABLE","$parts",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_ARRAY","array",654],"(",")",";",["T_WHITESPACE","\n        ",654],["T_VARIABLE","$order",655],["T_WHITESPACE"," ",655],"=",["T_WHITESPACE"," ",655],["T_ARRAY","array",655],"(",")",";",["T_WHITESPACE","\n\n        ",655],["T_FOREACH","foreach",657],["T_WHITESPACE"," ",657],"(",["T_STRING","explode",657],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",657],",",["T_WHITESPACE"," ",657],["T_VARIABLE","$qs",657],")",["T_WHITESPACE"," ",657],["T_AS","as",657],["T_WHITESPACE"," ",657],["T_VARIABLE","$param",657],")",["T_WHITESPACE"," ",657],"{",["T_WHITESPACE","\n            ",657],["T_IF","if",658],["T_WHITESPACE"," ",658],"(",["T_CONSTANT_ENCAPSED_STRING","''",658],["T_WHITESPACE"," ",658],["T_IS_IDENTICAL","===",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$param",658],["T_WHITESPACE"," ",658],["T_BOOLEAN_OR","||",658],["T_WHITESPACE"," ",658],["T_CONSTANT_ENCAPSED_STRING","'='",658],["T_WHITESPACE"," ",658],["T_IS_IDENTICAL","===",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$param",658],"[",["T_LNUMBER","0",658],"]",")",["T_WHITESPACE"," ",658],"{",["T_WHITESPACE","\n                ",658],["T_COMMENT","\/\/ Ignore useless delimiters, e.g. \"x=y&\".\n",659],["T_WHITESPACE","                ",660],["T_COMMENT","\/\/ Also ignore pairs with empty key, even if there was a value, e.g. \"=value\", as such nameless values cannot be retrieved anyway.\n",660],["T_WHITESPACE","                ",661],["T_COMMENT","\/\/ PHP also does not include them when building _GET.\n",661],["T_WHITESPACE","                ",662],["T_CONTINUE","continue",662],";",["T_WHITESPACE","\n            ",662],"}",["T_WHITESPACE","\n\n            ",663],["T_VARIABLE","$keyValuePair",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_STRING","explode",665],"(",["T_CONSTANT_ENCAPSED_STRING","'='",665],",",["T_WHITESPACE"," ",665],["T_VARIABLE","$param",665],",",["T_WHITESPACE"," ",665],["T_LNUMBER","2",665],")",";",["T_WHITESPACE","\n\n            ",665],["T_COMMENT","\/\/ GET parameters, that are submitted from a HTML form, encode spaces as \"+\" by default (as defined in enctype application\/x-www-form-urlencoded).\n",667],["T_WHITESPACE","            ",668],["T_COMMENT","\/\/ PHP also converts \"+\" to spaces when filling the global _GET or when using the function parse_str. This is why we use urldecode and then normalize to\n",668],["T_WHITESPACE","            ",669],["T_COMMENT","\/\/ RFC 3986 with rawurlencode.\n",669],["T_WHITESPACE","            ",670],["T_VARIABLE","$parts",670],"[","]",["T_WHITESPACE"," ",670],"=",["T_WHITESPACE"," ",670],["T_ISSET","isset",670],"(",["T_VARIABLE","$keyValuePair",670],"[",["T_LNUMBER","1",670],"]",")",["T_WHITESPACE"," ",670],"?",["T_WHITESPACE","\n                ",670],["T_STRING","rawurlencode",671],"(",["T_STRING","urldecode",671],"(",["T_VARIABLE","$keyValuePair",671],"[",["T_LNUMBER","0",671],"]",")",")",".",["T_CONSTANT_ENCAPSED_STRING","'='",671],".",["T_STRING","rawurlencode",671],"(",["T_STRING","urldecode",671],"(",["T_VARIABLE","$keyValuePair",671],"[",["T_LNUMBER","1",671],"]",")",")",["T_WHITESPACE"," ",671],":",["T_WHITESPACE","\n                ",671],["T_STRING","rawurlencode",672],"(",["T_STRING","urldecode",672],"(",["T_VARIABLE","$keyValuePair",672],"[",["T_LNUMBER","0",672],"]",")",")",";",["T_WHITESPACE","\n            ",672],["T_VARIABLE","$order",673],"[","]",["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_STRING","urldecode",673],"(",["T_VARIABLE","$keyValuePair",673],"[",["T_LNUMBER","0",673],"]",")",";",["T_WHITESPACE","\n        ",673],"}",["T_WHITESPACE","\n\n        ",674],["T_STRING","array_multisort",676],"(",["T_VARIABLE","$order",676],",",["T_WHITESPACE"," ",676],["T_STRING","SORT_ASC",676],",",["T_WHITESPACE"," ",676],["T_VARIABLE","$parts",676],")",";",["T_WHITESPACE","\n\n        ",676],["T_RETURN","return",678],["T_WHITESPACE"," ",678],["T_STRING","implode",678],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",678],",",["T_WHITESPACE"," ",678],["T_VARIABLE","$parts",678],")",";",["T_WHITESPACE","\n    ",678],"}",["T_WHITESPACE","\n\n    ",679],["T_DOC_COMMENT","\/**\n     * Enables support for the _method request parameter to determine the intended HTTP method.\n     *\n     * Be warned that enabling this feature might lead to CSRF issues in your code.\n     * Check that you are using CSRF tokens when required.\n     * If the HTTP method parameter override is enabled, an html-form with method \"POST\" can be altered\n     * and used to send a \"PUT\" or \"DELETE\" request via the _method request parameter.\n     * If these methods are not protected against CSRF, this presents a possible vulnerability.\n     *\n     * The HTTP method can only be overridden when the real HTTP method is POST.\n     *\/",681],["T_WHITESPACE","\n    ",691],["T_PUBLIC","public",692],["T_WHITESPACE"," ",692],["T_STATIC","static",692],["T_WHITESPACE"," ",692],["T_FUNCTION","function",692],["T_WHITESPACE"," ",692],["T_STRING","enableHttpMethodParameterOverride",692],"(",")",["T_WHITESPACE","\n    ",692],"{",["T_WHITESPACE","\n        ",693],["T_STRING","self",694],["T_DOUBLE_COLON","::",694],["T_VARIABLE","$httpMethodParameterOverride",694],["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],["T_STRING","true",694],";",["T_WHITESPACE","\n    ",694],"}",["T_WHITESPACE","\n\n    ",695],["T_DOC_COMMENT","\/**\n     * Checks whether support for the _method request parameter is enabled.\n     *\n     * @return bool True when the _method request parameter is enabled, false otherwise\n     *\/",697],["T_WHITESPACE","\n    ",701],["T_PUBLIC","public",702],["T_WHITESPACE"," ",702],["T_STATIC","static",702],["T_WHITESPACE"," ",702],["T_FUNCTION","function",702],["T_WHITESPACE"," ",702],["T_STRING","getHttpMethodParameterOverride",702],"(",")",["T_WHITESPACE","\n    ",702],"{",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_STRING","self",704],["T_DOUBLE_COLON","::",704],["T_VARIABLE","$httpMethodParameterOverride",704],";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Gets a \"parameter\" value from any bag.\n     *\n     * This method is mainly useful for libraries that want to provide some flexibility. If you don't need the\n     * flexibility in controllers, it is better to explicitly get request parameters from the appropriate\n     * public property instead (attributes, query, request).\n     *\n     * Order of precedence: PATH (routing placeholders or custom attributes), GET, BODY\n     *\n     * @param string $key     the key\n     * @param mixed  $default the default value if the parameter key does not exist\n     *\n     * @return mixed\n     *\/",707],["T_WHITESPACE","\n    ",720],["T_PUBLIC","public",721],["T_WHITESPACE"," ",721],["T_FUNCTION","function",721],["T_WHITESPACE"," ",721],["T_STRING","get",721],"(",["T_VARIABLE","$key",721],",",["T_WHITESPACE"," ",721],["T_VARIABLE","$default",721],["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_STRING","null",721],")",["T_WHITESPACE","\n    ",721],"{",["T_WHITESPACE","\n        ",722],["T_IF","if",723],["T_WHITESPACE"," ",723],"(",["T_VARIABLE","$this",723],["T_WHITESPACE"," ",723],["T_IS_NOT_IDENTICAL","!==",723],["T_WHITESPACE"," ",723],["T_VARIABLE","$result",723],["T_WHITESPACE"," ",723],"=",["T_WHITESPACE"," ",723],["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","attributes",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","get",723],"(",["T_VARIABLE","$key",723],",",["T_WHITESPACE"," ",723],["T_VARIABLE","$this",723],")",")",["T_WHITESPACE"," ",723],"{",["T_WHITESPACE","\n            ",723],["T_RETURN","return",724],["T_WHITESPACE"," ",724],["T_VARIABLE","$result",724],";",["T_WHITESPACE","\n        ",724],"}",["T_WHITESPACE","\n\n        ",725],["T_IF","if",727],["T_WHITESPACE"," ",727],"(",["T_VARIABLE","$this",727],["T_WHITESPACE"," ",727],["T_IS_NOT_IDENTICAL","!==",727],["T_WHITESPACE"," ",727],["T_VARIABLE","$result",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","query",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","get",727],"(",["T_VARIABLE","$key",727],",",["T_WHITESPACE"," ",727],["T_VARIABLE","$this",727],")",")",["T_WHITESPACE"," ",727],"{",["T_WHITESPACE","\n            ",727],["T_RETURN","return",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$result",728],";",["T_WHITESPACE","\n        ",728],"}",["T_WHITESPACE","\n\n        ",729],["T_IF","if",731],["T_WHITESPACE"," ",731],"(",["T_VARIABLE","$this",731],["T_WHITESPACE"," ",731],["T_IS_NOT_IDENTICAL","!==",731],["T_WHITESPACE"," ",731],["T_VARIABLE","$result",731],["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","request",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","get",731],"(",["T_VARIABLE","$key",731],",",["T_WHITESPACE"," ",731],["T_VARIABLE","$this",731],")",")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n            ",731],["T_RETURN","return",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$result",732],";",["T_WHITESPACE","\n        ",732],"}",["T_WHITESPACE","\n\n        ",733],["T_RETURN","return",735],["T_WHITESPACE"," ",735],["T_VARIABLE","$default",735],";",["T_WHITESPACE","\n    ",735],"}",["T_WHITESPACE","\n\n    ",736],["T_DOC_COMMENT","\/**\n     * Gets the Session.\n     *\n     * @return SessionInterface|null The session\n     *\/",738],["T_WHITESPACE","\n    ",742],["T_PUBLIC","public",743],["T_WHITESPACE"," ",743],["T_FUNCTION","function",743],["T_WHITESPACE"," ",743],["T_STRING","getSession",743],"(",")",["T_WHITESPACE","\n    ",743],"{",["T_WHITESPACE","\n        ",744],["T_RETURN","return",745],["T_WHITESPACE"," ",745],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","session",745],";",["T_WHITESPACE","\n    ",745],"}",["T_WHITESPACE","\n\n    ",746],["T_DOC_COMMENT","\/**\n     * Whether the request contains a Session which was started in one of the\n     * previous requests.\n     *\n     * @return bool\n     *\/",748],["T_WHITESPACE","\n    ",753],["T_PUBLIC","public",754],["T_WHITESPACE"," ",754],["T_FUNCTION","function",754],["T_WHITESPACE"," ",754],["T_STRING","hasPreviousSession",754],"(",")",["T_WHITESPACE","\n    ",754],"{",["T_WHITESPACE","\n        ",755],["T_COMMENT","\/\/ the check for $this->session avoids malicious users trying to fake a session cookie with proper name\n",756],["T_WHITESPACE","        ",757],["T_RETURN","return",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","hasSession",757],"(",")",["T_WHITESPACE"," ",757],["T_BOOLEAN_AND","&&",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","cookies",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","has",757],"(",["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","session",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","getName",757],"(",")",")",";",["T_WHITESPACE","\n    ",757],"}",["T_WHITESPACE","\n\n    ",758],["T_DOC_COMMENT","\/**\n     * Whether the request contains a Session object.\n     *\n     * This method does not give any information about the state of the session object,\n     * like whether the session is started or not. It is just a way to check if this Request\n     * is associated with a Session instance.\n     *\n     * @return bool true when the Request contains a Session object, false otherwise\n     *\/",760],["T_WHITESPACE","\n    ",768],["T_PUBLIC","public",769],["T_WHITESPACE"," ",769],["T_FUNCTION","function",769],["T_WHITESPACE"," ",769],["T_STRING","hasSession",769],"(",")",["T_WHITESPACE","\n    ",769],"{",["T_WHITESPACE","\n        ",770],["T_RETURN","return",771],["T_WHITESPACE"," ",771],["T_STRING","null",771],["T_WHITESPACE"," ",771],["T_IS_NOT_IDENTICAL","!==",771],["T_WHITESPACE"," ",771],["T_VARIABLE","$this",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","session",771],";",["T_WHITESPACE","\n    ",771],"}",["T_WHITESPACE","\n\n    ",772],["T_DOC_COMMENT","\/**\n     * Sets the Session.\n     *\n     * @param SessionInterface $session The Session\n     *\/",774],["T_WHITESPACE","\n    ",778],["T_PUBLIC","public",779],["T_WHITESPACE"," ",779],["T_FUNCTION","function",779],["T_WHITESPACE"," ",779],["T_STRING","setSession",779],"(",["T_STRING","SessionInterface",779],["T_WHITESPACE"," ",779],["T_VARIABLE","$session",779],")",["T_WHITESPACE","\n    ",779],"{",["T_WHITESPACE","\n        ",780],["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","session",781],["T_WHITESPACE"," ",781],"=",["T_WHITESPACE"," ",781],["T_VARIABLE","$session",781],";",["T_WHITESPACE","\n    ",781],"}",["T_WHITESPACE","\n\n    ",782],["T_DOC_COMMENT","\/**\n     * Returns the client IP addresses.\n     *\n     * In the returned array the most trusted IP address is first, and the\n     * least trusted one last. The \"real\" client IP address is the last one,\n     * but this is also the least trusted one. Trusted proxies are stripped.\n     *\n     * Use this method carefully; you should use getClientIp() instead.\n     *\n     * @return array The client IP addresses\n     *\n     * @see getClientIp()\n     *\/",784],["T_WHITESPACE","\n    ",796],["T_PUBLIC","public",797],["T_WHITESPACE"," ",797],["T_FUNCTION","function",797],["T_WHITESPACE"," ",797],["T_STRING","getClientIps",797],"(",")",["T_WHITESPACE","\n    ",797],"{",["T_WHITESPACE","\n        ",798],["T_VARIABLE","$clientIps",799],["T_WHITESPACE"," ",799],"=",["T_WHITESPACE"," ",799],["T_ARRAY","array",799],"(",")",";",["T_WHITESPACE","\n        ",799],["T_VARIABLE","$ip",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],["T_VARIABLE","$this",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","server",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","get",800],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",800],")",";",["T_WHITESPACE","\n\n        ",800],["T_IF","if",802],["T_WHITESPACE"," ",802],"(","!",["T_VARIABLE","$this",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","isFromTrustedProxy",802],"(",")",")",["T_WHITESPACE"," ",802],"{",["T_WHITESPACE","\n            ",802],["T_RETURN","return",803],["T_WHITESPACE"," ",803],["T_ARRAY","array",803],"(",["T_VARIABLE","$ip",803],")",";",["T_WHITESPACE","\n        ",803],"}",["T_WHITESPACE","\n\n        ",804],["T_VARIABLE","$hasTrustedForwardedHeader",806],["T_WHITESPACE"," ",806],"=",["T_WHITESPACE"," ",806],["T_STRING","self",806],["T_DOUBLE_COLON","::",806],["T_VARIABLE","$trustedHeaders",806],"[",["T_STRING","self",806],["T_DOUBLE_COLON","::",806],["T_STRING","HEADER_FORWARDED",806],"]",["T_WHITESPACE"," ",806],["T_BOOLEAN_AND","&&",806],["T_WHITESPACE"," ",806],["T_VARIABLE","$this",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","headers",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","has",806],"(",["T_STRING","self",806],["T_DOUBLE_COLON","::",806],["T_VARIABLE","$trustedHeaders",806],"[",["T_STRING","self",806],["T_DOUBLE_COLON","::",806],["T_STRING","HEADER_FORWARDED",806],"]",")",";",["T_WHITESPACE","\n        ",806],["T_VARIABLE","$hasTrustedClientIpHeader",807],["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_STRING","self",807],["T_DOUBLE_COLON","::",807],["T_VARIABLE","$trustedHeaders",807],"[",["T_STRING","self",807],["T_DOUBLE_COLON","::",807],["T_STRING","HEADER_CLIENT_IP",807],"]",["T_WHITESPACE"," ",807],["T_BOOLEAN_AND","&&",807],["T_WHITESPACE"," ",807],["T_VARIABLE","$this",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","headers",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","has",807],"(",["T_STRING","self",807],["T_DOUBLE_COLON","::",807],["T_VARIABLE","$trustedHeaders",807],"[",["T_STRING","self",807],["T_DOUBLE_COLON","::",807],["T_STRING","HEADER_CLIENT_IP",807],"]",")",";",["T_WHITESPACE","\n\n        ",807],["T_IF","if",809],["T_WHITESPACE"," ",809],"(",["T_VARIABLE","$hasTrustedForwardedHeader",809],")",["T_WHITESPACE"," ",809],"{",["T_WHITESPACE","\n            ",809],["T_VARIABLE","$forwardedHeader",810],["T_WHITESPACE"," ",810],"=",["T_WHITESPACE"," ",810],["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","headers",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","get",810],"(",["T_STRING","self",810],["T_DOUBLE_COLON","::",810],["T_VARIABLE","$trustedHeaders",810],"[",["T_STRING","self",810],["T_DOUBLE_COLON","::",810],["T_STRING","HEADER_FORWARDED",810],"]",")",";",["T_WHITESPACE","\n            ",810],["T_STRING","preg_match_all",811],"(",["T_CONSTANT_ENCAPSED_STRING","'{(for)=(\"?\\[?)([a-z0-9\\.:_\\-\/]*)}'",811],",",["T_WHITESPACE"," ",811],["T_VARIABLE","$forwardedHeader",811],",",["T_WHITESPACE"," ",811],["T_VARIABLE","$matches",811],")",";",["T_WHITESPACE","\n            ",811],["T_VARIABLE","$forwardedClientIps",812],["T_WHITESPACE"," ",812],"=",["T_WHITESPACE"," ",812],["T_VARIABLE","$matches",812],"[",["T_LNUMBER","3",812],"]",";",["T_WHITESPACE","\n\n            ",812],["T_VARIABLE","$forwardedClientIps",814],["T_WHITESPACE"," ",814],"=",["T_WHITESPACE"," ",814],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","normalizeAndFilterClientIps",814],"(",["T_VARIABLE","$forwardedClientIps",814],",",["T_WHITESPACE"," ",814],["T_VARIABLE","$ip",814],")",";",["T_WHITESPACE","\n            ",814],["T_VARIABLE","$clientIps",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_VARIABLE","$forwardedClientIps",815],";",["T_WHITESPACE","\n        ",815],"}",["T_WHITESPACE","\n\n        ",816],["T_IF","if",818],["T_WHITESPACE"," ",818],"(",["T_VARIABLE","$hasTrustedClientIpHeader",818],")",["T_WHITESPACE"," ",818],"{",["T_WHITESPACE","\n            ",818],["T_VARIABLE","$xForwardedForClientIps",819],["T_WHITESPACE"," ",819],"=",["T_WHITESPACE"," ",819],["T_STRING","array_map",819],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",819],",",["T_WHITESPACE"," ",819],["T_STRING","explode",819],"(",["T_CONSTANT_ENCAPSED_STRING","','",819],",",["T_WHITESPACE"," ",819],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","headers",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","get",819],"(",["T_STRING","self",819],["T_DOUBLE_COLON","::",819],["T_VARIABLE","$trustedHeaders",819],"[",["T_STRING","self",819],["T_DOUBLE_COLON","::",819],["T_STRING","HEADER_CLIENT_IP",819],"]",")",")",")",";",["T_WHITESPACE","\n\n            ",819],["T_VARIABLE","$xForwardedForClientIps",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_VARIABLE","$this",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","normalizeAndFilterClientIps",821],"(",["T_VARIABLE","$xForwardedForClientIps",821],",",["T_WHITESPACE"," ",821],["T_VARIABLE","$ip",821],")",";",["T_WHITESPACE","\n            ",821],["T_VARIABLE","$clientIps",822],["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],["T_VARIABLE","$xForwardedForClientIps",822],";",["T_WHITESPACE","\n        ",822],"}",["T_WHITESPACE","\n\n        ",823],["T_IF","if",825],["T_WHITESPACE"," ",825],"(",["T_VARIABLE","$hasTrustedForwardedHeader",825],["T_WHITESPACE"," ",825],["T_BOOLEAN_AND","&&",825],["T_WHITESPACE"," ",825],["T_VARIABLE","$hasTrustedClientIpHeader",825],["T_WHITESPACE"," ",825],["T_BOOLEAN_AND","&&",825],["T_WHITESPACE"," ",825],["T_VARIABLE","$forwardedClientIps",825],["T_WHITESPACE"," ",825],["T_IS_NOT_IDENTICAL","!==",825],["T_WHITESPACE"," ",825],["T_VARIABLE","$xForwardedForClientIps",825],")",["T_WHITESPACE"," ",825],"{",["T_WHITESPACE","\n            ",825],["T_IF","if",826],["T_WHITESPACE"," ",826],"(","!",["T_VARIABLE","$this",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","isClientIpsValid",826],")",["T_WHITESPACE"," ",826],"{",["T_WHITESPACE","\n                ",826],["T_RETURN","return",827],["T_WHITESPACE"," ",827],["T_ARRAY","array",827],"(",["T_CONSTANT_ENCAPSED_STRING","'0.0.0.0'",827],")",";",["T_WHITESPACE","\n            ",827],"}",["T_WHITESPACE","\n            ",828],["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","isClientIpsValid",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_STRING","false",829],";",["T_WHITESPACE","\n\n            ",829],["T_THROW","throw",831],["T_WHITESPACE"," ",831],["T_NEW","new",831],["T_WHITESPACE"," ",831],["T_STRING","ConflictingHeadersException",831],"(",["T_CONSTANT_ENCAPSED_STRING","'The request has both a trusted Forwarded header and a trusted Client IP header, conflicting with each other with regards to the originating IP addresses of the request. This is the result of a misconfiguration. You should either configure your proxy only to send one of these headers, or configure your project to distrust one of them.'",831],")",";",["T_WHITESPACE","\n        ",831],"}",["T_WHITESPACE","\n\n        ",832],["T_IF","if",834],["T_WHITESPACE"," ",834],"(","!",["T_VARIABLE","$hasTrustedForwardedHeader",834],["T_WHITESPACE"," ",834],["T_BOOLEAN_AND","&&",834],["T_WHITESPACE"," ",834],"!",["T_VARIABLE","$hasTrustedClientIpHeader",834],")",["T_WHITESPACE"," ",834],"{",["T_WHITESPACE","\n            ",834],["T_RETURN","return",835],["T_WHITESPACE"," ",835],["T_VARIABLE","$this",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","normalizeAndFilterClientIps",835],"(",["T_ARRAY","array",835],"(",")",",",["T_WHITESPACE"," ",835],["T_VARIABLE","$ip",835],")",";",["T_WHITESPACE","\n        ",835],"}",["T_WHITESPACE","\n\n        ",836],["T_RETURN","return",838],["T_WHITESPACE"," ",838],["T_VARIABLE","$clientIps",838],";",["T_WHITESPACE","\n    ",838],"}",["T_WHITESPACE","\n\n    ",839],["T_DOC_COMMENT","\/**\n     * Returns the client IP address.\n     *\n     * This method can read the client IP address from the \"X-Forwarded-For\" header\n     * when trusted proxies were set via \"setTrustedProxies()\". The \"X-Forwarded-For\"\n     * header value is a comma+space separated list of IP addresses, the left-most\n     * being the original client, and each successive proxy that passed the request\n     * adding the IP address where it received the request from.\n     *\n     * If your reverse proxy uses a different header name than \"X-Forwarded-For\",\n     * (\"Client-Ip\" for instance), configure it via \"setTrustedHeaderName()\" with\n     * the \"client-ip\" key.\n     *\n     * @return string The client IP address\n     *\n     * @see getClientIps()\n     * @see http:\/\/en.wikipedia.org\/wiki\/X-Forwarded-For\n     *\/",841],["T_WHITESPACE","\n    ",858],["T_PUBLIC","public",859],["T_WHITESPACE"," ",859],["T_FUNCTION","function",859],["T_WHITESPACE"," ",859],["T_STRING","getClientIp",859],"(",")",["T_WHITESPACE","\n    ",859],"{",["T_WHITESPACE","\n        ",860],["T_VARIABLE","$ipAddresses",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","getClientIps",861],"(",")",";",["T_WHITESPACE","\n\n        ",861],["T_RETURN","return",863],["T_WHITESPACE"," ",863],["T_VARIABLE","$ipAddresses",863],"[",["T_LNUMBER","0",863],"]",";",["T_WHITESPACE","\n    ",863],"}",["T_WHITESPACE","\n\n    ",864],["T_DOC_COMMENT","\/**\n     * Returns current script name.\n     *\n     * @return string\n     *\/",866],["T_WHITESPACE","\n    ",870],["T_PUBLIC","public",871],["T_WHITESPACE"," ",871],["T_FUNCTION","function",871],["T_WHITESPACE"," ",871],["T_STRING","getScriptName",871],"(",")",["T_WHITESPACE","\n    ",871],"{",["T_WHITESPACE","\n        ",872],["T_RETURN","return",873],["T_WHITESPACE"," ",873],["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","server",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","get",873],"(",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",873],",",["T_WHITESPACE"," ",873],["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","server",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","get",873],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIG_SCRIPT_NAME'",873],",",["T_WHITESPACE"," ",873],["T_CONSTANT_ENCAPSED_STRING","''",873],")",")",";",["T_WHITESPACE","\n    ",873],"}",["T_WHITESPACE","\n\n    ",874],["T_DOC_COMMENT","\/**\n     * Returns the path being requested relative to the executed script.\n     *\n     * The path info always starts with a \/.\n     *\n     * Suppose this request is instantiated from \/mysite on localhost:\n     *\n     *  * http:\/\/localhost\/mysite              returns an empty string\n     *  * http:\/\/localhost\/mysite\/about        returns '\/about'\n     *  * http:\/\/localhost\/mysite\/enco%20ded   returns '\/enco%20ded'\n     *  * http:\/\/localhost\/mysite\/about?var=1  returns '\/about'\n     *\n     * @return string The raw path (i.e. not urldecoded)\n     *\/",876],["T_WHITESPACE","\n    ",889],["T_PUBLIC","public",890],["T_WHITESPACE"," ",890],["T_FUNCTION","function",890],["T_WHITESPACE"," ",890],["T_STRING","getPathInfo",890],"(",")",["T_WHITESPACE","\n    ",890],"{",["T_WHITESPACE","\n        ",891],["T_IF","if",892],["T_WHITESPACE"," ",892],"(",["T_STRING","null",892],["T_WHITESPACE"," ",892],["T_IS_IDENTICAL","===",892],["T_WHITESPACE"," ",892],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","pathInfo",892],")",["T_WHITESPACE"," ",892],"{",["T_WHITESPACE","\n            ",892],["T_VARIABLE","$this",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","pathInfo",893],["T_WHITESPACE"," ",893],"=",["T_WHITESPACE"," ",893],["T_VARIABLE","$this",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","preparePathInfo",893],"(",")",";",["T_WHITESPACE","\n        ",893],"}",["T_WHITESPACE","\n\n        ",894],["T_RETURN","return",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","pathInfo",896],";",["T_WHITESPACE","\n    ",896],"}",["T_WHITESPACE","\n\n    ",897],["T_DOC_COMMENT","\/**\n     * Returns the root path from which this request is executed.\n     *\n     * Suppose that an index.php file instantiates this request object:\n     *\n     *  * http:\/\/localhost\/index.php         returns an empty string\n     *  * http:\/\/localhost\/index.php\/page    returns an empty string\n     *  * http:\/\/localhost\/web\/index.php     returns '\/web'\n     *  * http:\/\/localhost\/we%20b\/index.php  returns '\/we%20b'\n     *\n     * @return string The raw path (i.e. not urldecoded)\n     *\/",899],["T_WHITESPACE","\n    ",910],["T_PUBLIC","public",911],["T_WHITESPACE"," ",911],["T_FUNCTION","function",911],["T_WHITESPACE"," ",911],["T_STRING","getBasePath",911],"(",")",["T_WHITESPACE","\n    ",911],"{",["T_WHITESPACE","\n        ",912],["T_IF","if",913],["T_WHITESPACE"," ",913],"(",["T_STRING","null",913],["T_WHITESPACE"," ",913],["T_IS_IDENTICAL","===",913],["T_WHITESPACE"," ",913],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","basePath",913],")",["T_WHITESPACE"," ",913],"{",["T_WHITESPACE","\n            ",913],["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","basePath",914],["T_WHITESPACE"," ",914],"=",["T_WHITESPACE"," ",914],["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","prepareBasePath",914],"(",")",";",["T_WHITESPACE","\n        ",914],"}",["T_WHITESPACE","\n\n        ",915],["T_RETURN","return",917],["T_WHITESPACE"," ",917],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","basePath",917],";",["T_WHITESPACE","\n    ",917],"}",["T_WHITESPACE","\n\n    ",918],["T_DOC_COMMENT","\/**\n     * Returns the root URL from which this request is executed.\n     *\n     * The base URL never ends with a \/.\n     *\n     * This is similar to getBasePath(), except that it also includes the\n     * script filename (e.g. index.php) if one exists.\n     *\n     * @return string The raw URL (i.e. not urldecoded)\n     *\/",920],["T_WHITESPACE","\n    ",929],["T_PUBLIC","public",930],["T_WHITESPACE"," ",930],["T_FUNCTION","function",930],["T_WHITESPACE"," ",930],["T_STRING","getBaseUrl",930],"(",")",["T_WHITESPACE","\n    ",930],"{",["T_WHITESPACE","\n        ",931],["T_IF","if",932],["T_WHITESPACE"," ",932],"(",["T_STRING","null",932],["T_WHITESPACE"," ",932],["T_IS_IDENTICAL","===",932],["T_WHITESPACE"," ",932],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","baseUrl",932],")",["T_WHITESPACE"," ",932],"{",["T_WHITESPACE","\n            ",932],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","baseUrl",933],["T_WHITESPACE"," ",933],"=",["T_WHITESPACE"," ",933],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","prepareBaseUrl",933],"(",")",";",["T_WHITESPACE","\n        ",933],"}",["T_WHITESPACE","\n\n        ",934],["T_RETURN","return",936],["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","baseUrl",936],";",["T_WHITESPACE","\n    ",936],"}",["T_WHITESPACE","\n\n    ",937],["T_DOC_COMMENT","\/**\n     * Gets the request's scheme.\n     *\n     * @return string\n     *\/",939],["T_WHITESPACE","\n    ",943],["T_PUBLIC","public",944],["T_WHITESPACE"," ",944],["T_FUNCTION","function",944],["T_WHITESPACE"," ",944],["T_STRING","getScheme",944],"(",")",["T_WHITESPACE","\n    ",944],"{",["T_WHITESPACE","\n        ",945],["T_RETURN","return",946],["T_WHITESPACE"," ",946],["T_VARIABLE","$this",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","isSecure",946],"(",")",["T_WHITESPACE"," ",946],"?",["T_WHITESPACE"," ",946],["T_CONSTANT_ENCAPSED_STRING","'https'",946],["T_WHITESPACE"," ",946],":",["T_WHITESPACE"," ",946],["T_CONSTANT_ENCAPSED_STRING","'http'",946],";",["T_WHITESPACE","\n    ",946],"}",["T_WHITESPACE","\n\n    ",947],["T_DOC_COMMENT","\/**\n     * Returns the port on which the request is made.\n     *\n     * This method can read the client port from the \"X-Forwarded-Port\" header\n     * when trusted proxies were set via \"setTrustedProxies()\".\n     *\n     * The \"X-Forwarded-Port\" header must contain the client port.\n     *\n     * If your reverse proxy uses a different header name than \"X-Forwarded-Port\",\n     * configure it via \"setTrustedHeaderName()\" with the \"client-port\" key.\n     *\n     * @return string\n     *\/",949],["T_WHITESPACE","\n    ",961],["T_PUBLIC","public",962],["T_WHITESPACE"," ",962],["T_FUNCTION","function",962],["T_WHITESPACE"," ",962],["T_STRING","getPort",962],"(",")",["T_WHITESPACE","\n    ",962],"{",["T_WHITESPACE","\n        ",963],["T_IF","if",964],["T_WHITESPACE"," ",964],"(",["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","isFromTrustedProxy",964],"(",")",")",["T_WHITESPACE"," ",964],"{",["T_WHITESPACE","\n            ",964],["T_IF","if",965],["T_WHITESPACE"," ",965],"(",["T_STRING","self",965],["T_DOUBLE_COLON","::",965],["T_VARIABLE","$trustedHeaders",965],"[",["T_STRING","self",965],["T_DOUBLE_COLON","::",965],["T_STRING","HEADER_CLIENT_PORT",965],"]",["T_WHITESPACE"," ",965],["T_BOOLEAN_AND","&&",965],["T_WHITESPACE"," ",965],["T_VARIABLE","$port",965],["T_WHITESPACE"," ",965],"=",["T_WHITESPACE"," ",965],["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","headers",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","get",965],"(",["T_STRING","self",965],["T_DOUBLE_COLON","::",965],["T_VARIABLE","$trustedHeaders",965],"[",["T_STRING","self",965],["T_DOUBLE_COLON","::",965],["T_STRING","HEADER_CLIENT_PORT",965],"]",")",")",["T_WHITESPACE"," ",965],"{",["T_WHITESPACE","\n                ",965],["T_RETURN","return",966],["T_WHITESPACE"," ",966],["T_VARIABLE","$port",966],";",["T_WHITESPACE","\n            ",966],"}",["T_WHITESPACE","\n\n            ",967],["T_IF","if",969],["T_WHITESPACE"," ",969],"(",["T_STRING","self",969],["T_DOUBLE_COLON","::",969],["T_VARIABLE","$trustedHeaders",969],"[",["T_STRING","self",969],["T_DOUBLE_COLON","::",969],["T_STRING","HEADER_CLIENT_PROTO",969],"]",["T_WHITESPACE"," ",969],["T_BOOLEAN_AND","&&",969],["T_WHITESPACE"," ",969],["T_CONSTANT_ENCAPSED_STRING","'https'",969],["T_WHITESPACE"," ",969],["T_IS_IDENTICAL","===",969],["T_WHITESPACE"," ",969],["T_VARIABLE","$this",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","headers",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","get",969],"(",["T_STRING","self",969],["T_DOUBLE_COLON","::",969],["T_VARIABLE","$trustedHeaders",969],"[",["T_STRING","self",969],["T_DOUBLE_COLON","::",969],["T_STRING","HEADER_CLIENT_PROTO",969],"]",",",["T_WHITESPACE"," ",969],["T_CONSTANT_ENCAPSED_STRING","'http'",969],")",")",["T_WHITESPACE"," ",969],"{",["T_WHITESPACE","\n                ",969],["T_RETURN","return",970],["T_WHITESPACE"," ",970],["T_LNUMBER","443",970],";",["T_WHITESPACE","\n            ",970],"}",["T_WHITESPACE","\n        ",971],"}",["T_WHITESPACE","\n\n        ",972],["T_IF","if",974],["T_WHITESPACE"," ",974],"(",["T_VARIABLE","$host",974],["T_WHITESPACE"," ",974],"=",["T_WHITESPACE"," ",974],["T_VARIABLE","$this",974],["T_OBJECT_OPERATOR","->",974],["T_STRING","headers",974],["T_OBJECT_OPERATOR","->",974],["T_STRING","get",974],"(",["T_CONSTANT_ENCAPSED_STRING","'HOST'",974],")",")",["T_WHITESPACE"," ",974],"{",["T_WHITESPACE","\n            ",974],["T_IF","if",975],["T_WHITESPACE"," ",975],"(",["T_VARIABLE","$host",975],"[",["T_LNUMBER","0",975],"]",["T_WHITESPACE"," ",975],["T_IS_IDENTICAL","===",975],["T_WHITESPACE"," ",975],["T_CONSTANT_ENCAPSED_STRING","'['",975],")",["T_WHITESPACE"," ",975],"{",["T_WHITESPACE","\n                ",975],["T_VARIABLE","$pos",976],["T_WHITESPACE"," ",976],"=",["T_WHITESPACE"," ",976],["T_STRING","strpos",976],"(",["T_VARIABLE","$host",976],",",["T_WHITESPACE"," ",976],["T_CONSTANT_ENCAPSED_STRING","':'",976],",",["T_WHITESPACE"," ",976],["T_STRING","strrpos",976],"(",["T_VARIABLE","$host",976],",",["T_WHITESPACE"," ",976],["T_CONSTANT_ENCAPSED_STRING","']'",976],")",")",";",["T_WHITESPACE","\n            ",976],"}",["T_WHITESPACE"," ",977],["T_ELSE","else",977],["T_WHITESPACE"," ",977],"{",["T_WHITESPACE","\n                ",977],["T_VARIABLE","$pos",978],["T_WHITESPACE"," ",978],"=",["T_WHITESPACE"," ",978],["T_STRING","strrpos",978],"(",["T_VARIABLE","$host",978],",",["T_WHITESPACE"," ",978],["T_CONSTANT_ENCAPSED_STRING","':'",978],")",";",["T_WHITESPACE","\n            ",978],"}",["T_WHITESPACE","\n\n            ",979],["T_IF","if",981],["T_WHITESPACE"," ",981],"(",["T_STRING","false",981],["T_WHITESPACE"," ",981],["T_IS_NOT_IDENTICAL","!==",981],["T_WHITESPACE"," ",981],["T_VARIABLE","$pos",981],")",["T_WHITESPACE"," ",981],"{",["T_WHITESPACE","\n                ",981],["T_RETURN","return",982],["T_WHITESPACE"," ",982],["T_INT_CAST","(int)",982],["T_WHITESPACE"," ",982],["T_STRING","substr",982],"(",["T_VARIABLE","$host",982],",",["T_WHITESPACE"," ",982],["T_VARIABLE","$pos",982],["T_WHITESPACE"," ",982],"+",["T_WHITESPACE"," ",982],["T_LNUMBER","1",982],")",";",["T_WHITESPACE","\n            ",982],"}",["T_WHITESPACE","\n\n            ",983],["T_RETURN","return",985],["T_WHITESPACE"," ",985],["T_CONSTANT_ENCAPSED_STRING","'https'",985],["T_WHITESPACE"," ",985],["T_IS_IDENTICAL","===",985],["T_WHITESPACE"," ",985],["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","getScheme",985],"(",")",["T_WHITESPACE"," ",985],"?",["T_WHITESPACE"," ",985],["T_LNUMBER","443",985],["T_WHITESPACE"," ",985],":",["T_WHITESPACE"," ",985],["T_LNUMBER","80",985],";",["T_WHITESPACE","\n        ",985],"}",["T_WHITESPACE","\n\n        ",986],["T_RETURN","return",988],["T_WHITESPACE"," ",988],["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","server",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","get",988],"(",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",988],")",";",["T_WHITESPACE","\n    ",988],"}",["T_WHITESPACE","\n\n    ",989],["T_DOC_COMMENT","\/**\n     * Returns the user.\n     *\n     * @return string|null\n     *\/",991],["T_WHITESPACE","\n    ",995],["T_PUBLIC","public",996],["T_WHITESPACE"," ",996],["T_FUNCTION","function",996],["T_WHITESPACE"," ",996],["T_STRING","getUser",996],"(",")",["T_WHITESPACE","\n    ",996],"{",["T_WHITESPACE","\n        ",997],["T_RETURN","return",998],["T_WHITESPACE"," ",998],["T_VARIABLE","$this",998],["T_OBJECT_OPERATOR","->",998],["T_STRING","headers",998],["T_OBJECT_OPERATOR","->",998],["T_STRING","get",998],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",998],")",";",["T_WHITESPACE","\n    ",998],"}",["T_WHITESPACE","\n\n    ",999],["T_DOC_COMMENT","\/**\n     * Returns the password.\n     *\n     * @return string|null\n     *\/",1001],["T_WHITESPACE","\n    ",1005],["T_PUBLIC","public",1006],["T_WHITESPACE"," ",1006],["T_FUNCTION","function",1006],["T_WHITESPACE"," ",1006],["T_STRING","getPassword",1006],"(",")",["T_WHITESPACE","\n    ",1006],"{",["T_WHITESPACE","\n        ",1007],["T_RETURN","return",1008],["T_WHITESPACE"," ",1008],["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","headers",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","get",1008],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",1008],")",";",["T_WHITESPACE","\n    ",1008],"}",["T_WHITESPACE","\n\n    ",1009],["T_DOC_COMMENT","\/**\n     * Gets the user info.\n     *\n     * @return string A user name and, optionally, scheme-specific information about how to gain authorization to access the server\n     *\/",1011],["T_WHITESPACE","\n    ",1015],["T_PUBLIC","public",1016],["T_WHITESPACE"," ",1016],["T_FUNCTION","function",1016],["T_WHITESPACE"," ",1016],["T_STRING","getUserInfo",1016],"(",")",["T_WHITESPACE","\n    ",1016],"{",["T_WHITESPACE","\n        ",1017],["T_VARIABLE","$userinfo",1018],["T_WHITESPACE"," ",1018],"=",["T_WHITESPACE"," ",1018],["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","getUser",1018],"(",")",";",["T_WHITESPACE","\n\n        ",1018],["T_VARIABLE","$pass",1020],["T_WHITESPACE"," ",1020],"=",["T_WHITESPACE"," ",1020],["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","getPassword",1020],"(",")",";",["T_WHITESPACE","\n        ",1020],["T_IF","if",1021],["T_WHITESPACE"," ",1021],"(",["T_CONSTANT_ENCAPSED_STRING","''",1021],["T_WHITESPACE"," ",1021],["T_IS_NOT_EQUAL","!=",1021],["T_WHITESPACE"," ",1021],["T_VARIABLE","$pass",1021],")",["T_WHITESPACE"," ",1021],"{",["T_WHITESPACE","\n            ",1021],["T_VARIABLE","$userinfo",1022],["T_WHITESPACE"," ",1022],["T_CONCAT_EQUAL",".=",1022],["T_WHITESPACE"," ",1022],"\"",["T_ENCAPSED_AND_WHITESPACE",":",1022],["T_VARIABLE","$pass",1022],"\"",";",["T_WHITESPACE","\n        ",1022],"}",["T_WHITESPACE","\n\n        ",1023],["T_RETURN","return",1025],["T_WHITESPACE"," ",1025],["T_VARIABLE","$userinfo",1025],";",["T_WHITESPACE","\n    ",1025],"}",["T_WHITESPACE","\n\n    ",1026],["T_DOC_COMMENT","\/**\n     * Returns the HTTP host being requested.\n     *\n     * The port name will be appended to the host if it's non-standard.\n     *\n     * @return string\n     *\/",1028],["T_WHITESPACE","\n    ",1034],["T_PUBLIC","public",1035],["T_WHITESPACE"," ",1035],["T_FUNCTION","function",1035],["T_WHITESPACE"," ",1035],["T_STRING","getHttpHost",1035],"(",")",["T_WHITESPACE","\n    ",1035],"{",["T_WHITESPACE","\n        ",1036],["T_VARIABLE","$scheme",1037],["T_WHITESPACE"," ",1037],"=",["T_WHITESPACE"," ",1037],["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","getScheme",1037],"(",")",";",["T_WHITESPACE","\n        ",1037],["T_VARIABLE","$port",1038],["T_WHITESPACE"," ",1038],"=",["T_WHITESPACE"," ",1038],["T_VARIABLE","$this",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","getPort",1038],"(",")",";",["T_WHITESPACE","\n\n        ",1038],["T_IF","if",1040],["T_WHITESPACE"," ",1040],"(","(",["T_CONSTANT_ENCAPSED_STRING","'http'",1040],["T_WHITESPACE"," ",1040],["T_IS_EQUAL","==",1040],["T_WHITESPACE"," ",1040],["T_VARIABLE","$scheme",1040],["T_WHITESPACE"," ",1040],["T_BOOLEAN_AND","&&",1040],["T_WHITESPACE"," ",1040],["T_VARIABLE","$port",1040],["T_WHITESPACE"," ",1040],["T_IS_EQUAL","==",1040],["T_WHITESPACE"," ",1040],["T_LNUMBER","80",1040],")",["T_WHITESPACE"," ",1040],["T_BOOLEAN_OR","||",1040],["T_WHITESPACE"," ",1040],"(",["T_CONSTANT_ENCAPSED_STRING","'https'",1040],["T_WHITESPACE"," ",1040],["T_IS_EQUAL","==",1040],["T_WHITESPACE"," ",1040],["T_VARIABLE","$scheme",1040],["T_WHITESPACE"," ",1040],["T_BOOLEAN_AND","&&",1040],["T_WHITESPACE"," ",1040],["T_VARIABLE","$port",1040],["T_WHITESPACE"," ",1040],["T_IS_EQUAL","==",1040],["T_WHITESPACE"," ",1040],["T_LNUMBER","443",1040],")",")",["T_WHITESPACE"," ",1040],"{",["T_WHITESPACE","\n            ",1040],["T_RETURN","return",1041],["T_WHITESPACE"," ",1041],["T_VARIABLE","$this",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","getHost",1041],"(",")",";",["T_WHITESPACE","\n        ",1041],"}",["T_WHITESPACE","\n\n        ",1042],["T_RETURN","return",1044],["T_WHITESPACE"," ",1044],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","getHost",1044],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","':'",1044],".",["T_VARIABLE","$port",1044],";",["T_WHITESPACE","\n    ",1044],"}",["T_WHITESPACE","\n\n    ",1045],["T_DOC_COMMENT","\/**\n     * Returns the requested URI (path and query string).\n     *\n     * @return string The raw URI (i.e. not URI decoded)\n     *\/",1047],["T_WHITESPACE","\n    ",1051],["T_PUBLIC","public",1052],["T_WHITESPACE"," ",1052],["T_FUNCTION","function",1052],["T_WHITESPACE"," ",1052],["T_STRING","getRequestUri",1052],"(",")",["T_WHITESPACE","\n    ",1052],"{",["T_WHITESPACE","\n        ",1053],["T_IF","if",1054],["T_WHITESPACE"," ",1054],"(",["T_STRING","null",1054],["T_WHITESPACE"," ",1054],["T_IS_IDENTICAL","===",1054],["T_WHITESPACE"," ",1054],["T_VARIABLE","$this",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","requestUri",1054],")",["T_WHITESPACE"," ",1054],"{",["T_WHITESPACE","\n            ",1054],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","requestUri",1055],["T_WHITESPACE"," ",1055],"=",["T_WHITESPACE"," ",1055],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","prepareRequestUri",1055],"(",")",";",["T_WHITESPACE","\n        ",1055],"}",["T_WHITESPACE","\n\n        ",1056],["T_RETURN","return",1058],["T_WHITESPACE"," ",1058],["T_VARIABLE","$this",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","requestUri",1058],";",["T_WHITESPACE","\n    ",1058],"}",["T_WHITESPACE","\n\n    ",1059],["T_DOC_COMMENT","\/**\n     * Gets the scheme and HTTP host.\n     *\n     * If the URL was called with basic authentication, the user\n     * and the password are not added to the generated string.\n     *\n     * @return string The scheme and HTTP host\n     *\/",1061],["T_WHITESPACE","\n    ",1068],["T_PUBLIC","public",1069],["T_WHITESPACE"," ",1069],["T_FUNCTION","function",1069],["T_WHITESPACE"," ",1069],["T_STRING","getSchemeAndHttpHost",1069],"(",")",["T_WHITESPACE","\n    ",1069],"{",["T_WHITESPACE","\n        ",1070],["T_RETURN","return",1071],["T_WHITESPACE"," ",1071],["T_VARIABLE","$this",1071],["T_OBJECT_OPERATOR","->",1071],["T_STRING","getScheme",1071],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","':\/\/'",1071],".",["T_VARIABLE","$this",1071],["T_OBJECT_OPERATOR","->",1071],["T_STRING","getHttpHost",1071],"(",")",";",["T_WHITESPACE","\n    ",1071],"}",["T_WHITESPACE","\n\n    ",1072],["T_DOC_COMMENT","\/**\n     * Generates a normalized URI (URL) for the Request.\n     *\n     * @return string A normalized URI (URL) for the Request\n     *\n     * @see getQueryString()\n     *\/",1074],["T_WHITESPACE","\n    ",1080],["T_PUBLIC","public",1081],["T_WHITESPACE"," ",1081],["T_FUNCTION","function",1081],["T_WHITESPACE"," ",1081],["T_STRING","getUri",1081],"(",")",["T_WHITESPACE","\n    ",1081],"{",["T_WHITESPACE","\n        ",1082],["T_IF","if",1083],["T_WHITESPACE"," ",1083],"(",["T_STRING","null",1083],["T_WHITESPACE"," ",1083],["T_IS_NOT_IDENTICAL","!==",1083],["T_WHITESPACE"," ",1083],["T_VARIABLE","$qs",1083],["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_VARIABLE","$this",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","getQueryString",1083],"(",")",")",["T_WHITESPACE"," ",1083],"{",["T_WHITESPACE","\n            ",1083],["T_VARIABLE","$qs",1084],["T_WHITESPACE"," ",1084],"=",["T_WHITESPACE"," ",1084],["T_CONSTANT_ENCAPSED_STRING","'?'",1084],".",["T_VARIABLE","$qs",1084],";",["T_WHITESPACE","\n        ",1084],"}",["T_WHITESPACE","\n\n        ",1085],["T_RETURN","return",1087],["T_WHITESPACE"," ",1087],["T_VARIABLE","$this",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","getSchemeAndHttpHost",1087],"(",")",".",["T_VARIABLE","$this",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","getBaseUrl",1087],"(",")",".",["T_VARIABLE","$this",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","getPathInfo",1087],"(",")",".",["T_VARIABLE","$qs",1087],";",["T_WHITESPACE","\n    ",1087],"}",["T_WHITESPACE","\n\n    ",1088],["T_DOC_COMMENT","\/**\n     * Generates a normalized URI for the given path.\n     *\n     * @param string $path A path to use instead of the current one\n     *\n     * @return string The normalized URI for the path\n     *\/",1090],["T_WHITESPACE","\n    ",1096],["T_PUBLIC","public",1097],["T_WHITESPACE"," ",1097],["T_FUNCTION","function",1097],["T_WHITESPACE"," ",1097],["T_STRING","getUriForPath",1097],"(",["T_VARIABLE","$path",1097],")",["T_WHITESPACE","\n    ",1097],"{",["T_WHITESPACE","\n        ",1098],["T_RETURN","return",1099],["T_WHITESPACE"," ",1099],["T_VARIABLE","$this",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","getSchemeAndHttpHost",1099],"(",")",".",["T_VARIABLE","$this",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","getBaseUrl",1099],"(",")",".",["T_VARIABLE","$path",1099],";",["T_WHITESPACE","\n    ",1099],"}",["T_WHITESPACE","\n\n    ",1100],["T_DOC_COMMENT","\/**\n     * Returns the path as relative reference from the current Request path.\n     *\n     * Only the URIs path component (no schema, host etc.) is relevant and must be given.\n     * Both paths must be absolute and not contain relative parts.\n     * Relative URLs from one resource to another are useful when generating self-contained downloadable document archives.\n     * Furthermore, they can be used to reduce the link size in documents.\n     *\n     * Example target paths, given a base path of \"\/a\/b\/c\/d\":\n     * - \"\/a\/b\/c\/d\"     -> \"\"\n     * - \"\/a\/b\/c\/\"      -> \".\/\"\n     * - \"\/a\/b\/\"        -> \"..\/\"\n     * - \"\/a\/b\/c\/other\" -> \"other\"\n     * - \"\/a\/x\/y\"       -> \"..\/..\/x\/y\"\n     *\n     * @param string $path The target path\n     *\n     * @return string The relative target path\n     *\/",1102],["T_WHITESPACE","\n    ",1120],["T_PUBLIC","public",1121],["T_WHITESPACE"," ",1121],["T_FUNCTION","function",1121],["T_WHITESPACE"," ",1121],["T_STRING","getRelativeUriForPath",1121],"(",["T_VARIABLE","$path",1121],")",["T_WHITESPACE","\n    ",1121],"{",["T_WHITESPACE","\n        ",1122],["T_COMMENT","\/\/ be sure that we are dealing with an absolute path\n",1123],["T_WHITESPACE","        ",1124],["T_IF","if",1124],["T_WHITESPACE"," ",1124],"(","!",["T_ISSET","isset",1124],"(",["T_VARIABLE","$path",1124],"[",["T_LNUMBER","0",1124],"]",")",["T_WHITESPACE"," ",1124],["T_BOOLEAN_OR","||",1124],["T_WHITESPACE"," ",1124],["T_CONSTANT_ENCAPSED_STRING","'\/'",1124],["T_WHITESPACE"," ",1124],["T_IS_NOT_IDENTICAL","!==",1124],["T_WHITESPACE"," ",1124],["T_VARIABLE","$path",1124],"[",["T_LNUMBER","0",1124],"]",")",["T_WHITESPACE"," ",1124],"{",["T_WHITESPACE","\n            ",1124],["T_RETURN","return",1125],["T_WHITESPACE"," ",1125],["T_VARIABLE","$path",1125],";",["T_WHITESPACE","\n        ",1125],"}",["T_WHITESPACE","\n\n        ",1126],["T_IF","if",1128],["T_WHITESPACE"," ",1128],"(",["T_VARIABLE","$path",1128],["T_WHITESPACE"," ",1128],["T_IS_IDENTICAL","===",1128],["T_WHITESPACE"," ",1128],["T_VARIABLE","$basePath",1128],["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],["T_VARIABLE","$this",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","getPathInfo",1128],"(",")",")",["T_WHITESPACE"," ",1128],"{",["T_WHITESPACE","\n            ",1128],["T_RETURN","return",1129],["T_WHITESPACE"," ",1129],["T_CONSTANT_ENCAPSED_STRING","''",1129],";",["T_WHITESPACE","\n        ",1129],"}",["T_WHITESPACE","\n\n        ",1130],["T_VARIABLE","$sourceDirs",1132],["T_WHITESPACE"," ",1132],"=",["T_WHITESPACE"," ",1132],["T_STRING","explode",1132],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1132],",",["T_WHITESPACE"," ",1132],["T_ISSET","isset",1132],"(",["T_VARIABLE","$basePath",1132],"[",["T_LNUMBER","0",1132],"]",")",["T_WHITESPACE"," ",1132],["T_BOOLEAN_AND","&&",1132],["T_WHITESPACE"," ",1132],["T_CONSTANT_ENCAPSED_STRING","'\/'",1132],["T_WHITESPACE"," ",1132],["T_IS_IDENTICAL","===",1132],["T_WHITESPACE"," ",1132],["T_VARIABLE","$basePath",1132],"[",["T_LNUMBER","0",1132],"]",["T_WHITESPACE"," ",1132],"?",["T_WHITESPACE"," ",1132],["T_STRING","substr",1132],"(",["T_VARIABLE","$basePath",1132],",",["T_WHITESPACE"," ",1132],["T_LNUMBER","1",1132],")",["T_WHITESPACE"," ",1132],":",["T_WHITESPACE"," ",1132],["T_VARIABLE","$basePath",1132],")",";",["T_WHITESPACE","\n        ",1132],["T_VARIABLE","$targetDirs",1133],["T_WHITESPACE"," ",1133],"=",["T_WHITESPACE"," ",1133],["T_STRING","explode",1133],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1133],",",["T_WHITESPACE"," ",1133],["T_ISSET","isset",1133],"(",["T_VARIABLE","$path",1133],"[",["T_LNUMBER","0",1133],"]",")",["T_WHITESPACE"," ",1133],["T_BOOLEAN_AND","&&",1133],["T_WHITESPACE"," ",1133],["T_CONSTANT_ENCAPSED_STRING","'\/'",1133],["T_WHITESPACE"," ",1133],["T_IS_IDENTICAL","===",1133],["T_WHITESPACE"," ",1133],["T_VARIABLE","$path",1133],"[",["T_LNUMBER","0",1133],"]",["T_WHITESPACE"," ",1133],"?",["T_WHITESPACE"," ",1133],["T_STRING","substr",1133],"(",["T_VARIABLE","$path",1133],",",["T_WHITESPACE"," ",1133],["T_LNUMBER","1",1133],")",["T_WHITESPACE"," ",1133],":",["T_WHITESPACE"," ",1133],["T_VARIABLE","$path",1133],")",";",["T_WHITESPACE","\n        ",1133],["T_STRING","array_pop",1134],"(",["T_VARIABLE","$sourceDirs",1134],")",";",["T_WHITESPACE","\n        ",1134],["T_VARIABLE","$targetFile",1135],["T_WHITESPACE"," ",1135],"=",["T_WHITESPACE"," ",1135],["T_STRING","array_pop",1135],"(",["T_VARIABLE","$targetDirs",1135],")",";",["T_WHITESPACE","\n\n        ",1135],["T_FOREACH","foreach",1137],["T_WHITESPACE"," ",1137],"(",["T_VARIABLE","$sourceDirs",1137],["T_WHITESPACE"," ",1137],["T_AS","as",1137],["T_WHITESPACE"," ",1137],["T_VARIABLE","$i",1137],["T_WHITESPACE"," ",1137],["T_DOUBLE_ARROW","=>",1137],["T_WHITESPACE"," ",1137],["T_VARIABLE","$dir",1137],")",["T_WHITESPACE"," ",1137],"{",["T_WHITESPACE","\n            ",1137],["T_IF","if",1138],["T_WHITESPACE"," ",1138],"(",["T_ISSET","isset",1138],"(",["T_VARIABLE","$targetDirs",1138],"[",["T_VARIABLE","$i",1138],"]",")",["T_WHITESPACE"," ",1138],["T_BOOLEAN_AND","&&",1138],["T_WHITESPACE"," ",1138],["T_VARIABLE","$dir",1138],["T_WHITESPACE"," ",1138],["T_IS_IDENTICAL","===",1138],["T_WHITESPACE"," ",1138],["T_VARIABLE","$targetDirs",1138],"[",["T_VARIABLE","$i",1138],"]",")",["T_WHITESPACE"," ",1138],"{",["T_WHITESPACE","\n                ",1138],["T_UNSET","unset",1139],"(",["T_VARIABLE","$sourceDirs",1139],"[",["T_VARIABLE","$i",1139],"]",",",["T_WHITESPACE"," ",1139],["T_VARIABLE","$targetDirs",1139],"[",["T_VARIABLE","$i",1139],"]",")",";",["T_WHITESPACE","\n            ",1139],"}",["T_WHITESPACE"," ",1140],["T_ELSE","else",1140],["T_WHITESPACE"," ",1140],"{",["T_WHITESPACE","\n                ",1140],["T_BREAK","break",1141],";",["T_WHITESPACE","\n            ",1141],"}",["T_WHITESPACE","\n        ",1142],"}",["T_WHITESPACE","\n\n        ",1143],["T_VARIABLE","$targetDirs",1145],"[","]",["T_WHITESPACE"," ",1145],"=",["T_WHITESPACE"," ",1145],["T_VARIABLE","$targetFile",1145],";",["T_WHITESPACE","\n        ",1145],["T_VARIABLE","$path",1146],["T_WHITESPACE"," ",1146],"=",["T_WHITESPACE"," ",1146],["T_STRING","str_repeat",1146],"(",["T_CONSTANT_ENCAPSED_STRING","'..\/'",1146],",",["T_WHITESPACE"," ",1146],["T_STRING","count",1146],"(",["T_VARIABLE","$sourceDirs",1146],")",")",".",["T_STRING","implode",1146],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1146],",",["T_WHITESPACE"," ",1146],["T_VARIABLE","$targetDirs",1146],")",";",["T_WHITESPACE","\n\n        ",1146],["T_COMMENT","\/\/ A reference to the same base directory or an empty subdirectory must be prefixed with \".\/\".\n",1148],["T_WHITESPACE","        ",1149],["T_COMMENT","\/\/ This also applies to a segment with a colon character (e.g., \"file:colon\") that cannot be used\n",1149],["T_WHITESPACE","        ",1150],["T_COMMENT","\/\/ as the first segment of a relative-path reference, as it would be mistaken for a scheme name\n",1150],["T_WHITESPACE","        ",1151],["T_COMMENT","\/\/ (see http:\/\/tools.ietf.org\/html\/rfc3986#section-4.2).\n",1151],["T_WHITESPACE","        ",1152],["T_RETURN","return",1152],["T_WHITESPACE"," ",1152],"!",["T_ISSET","isset",1152],"(",["T_VARIABLE","$path",1152],"[",["T_LNUMBER","0",1152],"]",")",["T_WHITESPACE"," ",1152],["T_BOOLEAN_OR","||",1152],["T_WHITESPACE"," ",1152],["T_CONSTANT_ENCAPSED_STRING","'\/'",1152],["T_WHITESPACE"," ",1152],["T_IS_IDENTICAL","===",1152],["T_WHITESPACE"," ",1152],["T_VARIABLE","$path",1152],"[",["T_LNUMBER","0",1152],"]",["T_WHITESPACE","\n            ",1152],["T_BOOLEAN_OR","||",1153],["T_WHITESPACE"," ",1153],["T_STRING","false",1153],["T_WHITESPACE"," ",1153],["T_IS_NOT_IDENTICAL","!==",1153],["T_WHITESPACE"," ",1153],"(",["T_VARIABLE","$colonPos",1153],["T_WHITESPACE"," ",1153],"=",["T_WHITESPACE"," ",1153],["T_STRING","strpos",1153],"(",["T_VARIABLE","$path",1153],",",["T_WHITESPACE"," ",1153],["T_CONSTANT_ENCAPSED_STRING","':'",1153],")",")",["T_WHITESPACE"," ",1153],["T_BOOLEAN_AND","&&",1153],["T_WHITESPACE"," ",1153],"(",["T_VARIABLE","$colonPos",1153],["T_WHITESPACE"," ",1153],"<",["T_WHITESPACE"," ",1153],"(",["T_VARIABLE","$slashPos",1153],["T_WHITESPACE"," ",1153],"=",["T_WHITESPACE"," ",1153],["T_STRING","strpos",1153],"(",["T_VARIABLE","$path",1153],",",["T_WHITESPACE"," ",1153],["T_CONSTANT_ENCAPSED_STRING","'\/'",1153],")",")",["T_WHITESPACE"," ",1153],["T_BOOLEAN_OR","||",1153],["T_WHITESPACE"," ",1153],["T_STRING","false",1153],["T_WHITESPACE"," ",1153],["T_IS_IDENTICAL","===",1153],["T_WHITESPACE"," ",1153],["T_VARIABLE","$slashPos",1153],")",["T_WHITESPACE","\n            ",1153],"?",["T_WHITESPACE"," ",1154],"\"",["T_ENCAPSED_AND_WHITESPACE",".\/",1154],["T_VARIABLE","$path",1154],"\"",["T_WHITESPACE"," ",1154],":",["T_WHITESPACE"," ",1154],["T_VARIABLE","$path",1154],";",["T_WHITESPACE","\n    ",1154],"}",["T_WHITESPACE","\n\n    ",1155],["T_DOC_COMMENT","\/**\n     * Generates the normalized query string for the Request.\n     *\n     * It builds a normalized query string, where keys\/value pairs are alphabetized\n     * and have consistent escaping.\n     *\n     * @return string|null A normalized query string for the Request\n     *\/",1157],["T_WHITESPACE","\n    ",1164],["T_PUBLIC","public",1165],["T_WHITESPACE"," ",1165],["T_FUNCTION","function",1165],["T_WHITESPACE"," ",1165],["T_STRING","getQueryString",1165],"(",")",["T_WHITESPACE","\n    ",1165],"{",["T_WHITESPACE","\n        ",1166],["T_VARIABLE","$qs",1167],["T_WHITESPACE"," ",1167],"=",["T_WHITESPACE"," ",1167],["T_STATIC","static",1167],["T_DOUBLE_COLON","::",1167],["T_STRING","normalizeQueryString",1167],"(",["T_VARIABLE","$this",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","server",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","get",1167],"(",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",1167],")",")",";",["T_WHITESPACE","\n\n        ",1167],["T_RETURN","return",1169],["T_WHITESPACE"," ",1169],["T_CONSTANT_ENCAPSED_STRING","''",1169],["T_WHITESPACE"," ",1169],["T_IS_IDENTICAL","===",1169],["T_WHITESPACE"," ",1169],["T_VARIABLE","$qs",1169],["T_WHITESPACE"," ",1169],"?",["T_WHITESPACE"," ",1169],["T_STRING","null",1169],["T_WHITESPACE"," ",1169],":",["T_WHITESPACE"," ",1169],["T_VARIABLE","$qs",1169],";",["T_WHITESPACE","\n    ",1169],"}",["T_WHITESPACE","\n\n    ",1170],["T_DOC_COMMENT","\/**\n     * Checks whether the request is secure or not.\n     *\n     * This method can read the client protocol from the \"X-Forwarded-Proto\" header\n     * when trusted proxies were set via \"setTrustedProxies()\".\n     *\n     * The \"X-Forwarded-Proto\" header must contain the protocol: \"https\" or \"http\".\n     *\n     * If your reverse proxy uses a different header name than \"X-Forwarded-Proto\"\n     * (\"SSL_HTTPS\" for instance), configure it via \"setTrustedHeaderName()\" with\n     * the \"client-proto\" key.\n     *\n     * @return bool\n     *\/",1172],["T_WHITESPACE","\n    ",1185],["T_PUBLIC","public",1186],["T_WHITESPACE"," ",1186],["T_FUNCTION","function",1186],["T_WHITESPACE"," ",1186],["T_STRING","isSecure",1186],"(",")",["T_WHITESPACE","\n    ",1186],"{",["T_WHITESPACE","\n        ",1187],["T_IF","if",1188],["T_WHITESPACE"," ",1188],"(",["T_VARIABLE","$this",1188],["T_OBJECT_OPERATOR","->",1188],["T_STRING","isFromTrustedProxy",1188],"(",")",["T_WHITESPACE"," ",1188],["T_BOOLEAN_AND","&&",1188],["T_WHITESPACE"," ",1188],["T_STRING","self",1188],["T_DOUBLE_COLON","::",1188],["T_VARIABLE","$trustedHeaders",1188],"[",["T_STRING","self",1188],["T_DOUBLE_COLON","::",1188],["T_STRING","HEADER_CLIENT_PROTO",1188],"]",["T_WHITESPACE"," ",1188],["T_BOOLEAN_AND","&&",1188],["T_WHITESPACE"," ",1188],["T_VARIABLE","$proto",1188],["T_WHITESPACE"," ",1188],"=",["T_WHITESPACE"," ",1188],["T_VARIABLE","$this",1188],["T_OBJECT_OPERATOR","->",1188],["T_STRING","headers",1188],["T_OBJECT_OPERATOR","->",1188],["T_STRING","get",1188],"(",["T_STRING","self",1188],["T_DOUBLE_COLON","::",1188],["T_VARIABLE","$trustedHeaders",1188],"[",["T_STRING","self",1188],["T_DOUBLE_COLON","::",1188],["T_STRING","HEADER_CLIENT_PROTO",1188],"]",")",")",["T_WHITESPACE"," ",1188],"{",["T_WHITESPACE","\n            ",1188],["T_RETURN","return",1189],["T_WHITESPACE"," ",1189],["T_STRING","in_array",1189],"(",["T_STRING","strtolower",1189],"(",["T_STRING","current",1189],"(",["T_STRING","explode",1189],"(",["T_CONSTANT_ENCAPSED_STRING","','",1189],",",["T_WHITESPACE"," ",1189],["T_VARIABLE","$proto",1189],")",")",")",",",["T_WHITESPACE"," ",1189],["T_ARRAY","array",1189],"(",["T_CONSTANT_ENCAPSED_STRING","'https'",1189],",",["T_WHITESPACE"," ",1189],["T_CONSTANT_ENCAPSED_STRING","'on'",1189],",",["T_WHITESPACE"," ",1189],["T_CONSTANT_ENCAPSED_STRING","'ssl'",1189],",",["T_WHITESPACE"," ",1189],["T_CONSTANT_ENCAPSED_STRING","'1'",1189],")",")",";",["T_WHITESPACE","\n        ",1189],"}",["T_WHITESPACE","\n\n        ",1190],["T_VARIABLE","$https",1192],["T_WHITESPACE"," ",1192],"=",["T_WHITESPACE"," ",1192],["T_VARIABLE","$this",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","server",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","get",1192],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",1192],")",";",["T_WHITESPACE","\n\n        ",1192],["T_RETURN","return",1194],["T_WHITESPACE"," ",1194],"!",["T_EMPTY","empty",1194],"(",["T_VARIABLE","$https",1194],")",["T_WHITESPACE"," ",1194],["T_BOOLEAN_AND","&&",1194],["T_WHITESPACE"," ",1194],["T_CONSTANT_ENCAPSED_STRING","'off'",1194],["T_WHITESPACE"," ",1194],["T_IS_NOT_IDENTICAL","!==",1194],["T_WHITESPACE"," ",1194],["T_STRING","strtolower",1194],"(",["T_VARIABLE","$https",1194],")",";",["T_WHITESPACE","\n    ",1194],"}",["T_WHITESPACE","\n\n    ",1195],["T_DOC_COMMENT","\/**\n     * Returns the host name.\n     *\n     * This method can read the client host name from the \"X-Forwarded-Host\" header\n     * when trusted proxies were set via \"setTrustedProxies()\".\n     *\n     * The \"X-Forwarded-Host\" header must contain the client host name.\n     *\n     * If your reverse proxy uses a different header name than \"X-Forwarded-Host\",\n     * configure it via \"setTrustedHeaderName()\" with the \"client-host\" key.\n     *\n     * @return string\n     *\n     * @throws SuspiciousOperationException when the host name is invalid or not trusted\n     *\/",1197],["T_WHITESPACE","\n    ",1211],["T_PUBLIC","public",1212],["T_WHITESPACE"," ",1212],["T_FUNCTION","function",1212],["T_WHITESPACE"," ",1212],["T_STRING","getHost",1212],"(",")",["T_WHITESPACE","\n    ",1212],"{",["T_WHITESPACE","\n        ",1213],["T_IF","if",1214],["T_WHITESPACE"," ",1214],"(",["T_VARIABLE","$this",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","isFromTrustedProxy",1214],"(",")",["T_WHITESPACE"," ",1214],["T_BOOLEAN_AND","&&",1214],["T_WHITESPACE"," ",1214],["T_STRING","self",1214],["T_DOUBLE_COLON","::",1214],["T_VARIABLE","$trustedHeaders",1214],"[",["T_STRING","self",1214],["T_DOUBLE_COLON","::",1214],["T_STRING","HEADER_CLIENT_HOST",1214],"]",["T_WHITESPACE"," ",1214],["T_BOOLEAN_AND","&&",1214],["T_WHITESPACE"," ",1214],["T_VARIABLE","$host",1214],["T_WHITESPACE"," ",1214],"=",["T_WHITESPACE"," ",1214],["T_VARIABLE","$this",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","headers",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","get",1214],"(",["T_STRING","self",1214],["T_DOUBLE_COLON","::",1214],["T_VARIABLE","$trustedHeaders",1214],"[",["T_STRING","self",1214],["T_DOUBLE_COLON","::",1214],["T_STRING","HEADER_CLIENT_HOST",1214],"]",")",")",["T_WHITESPACE"," ",1214],"{",["T_WHITESPACE","\n            ",1214],["T_VARIABLE","$elements",1215],["T_WHITESPACE"," ",1215],"=",["T_WHITESPACE"," ",1215],["T_STRING","explode",1215],"(",["T_CONSTANT_ENCAPSED_STRING","','",1215],",",["T_WHITESPACE"," ",1215],["T_VARIABLE","$host",1215],")",";",["T_WHITESPACE","\n\n            ",1215],["T_VARIABLE","$host",1217],["T_WHITESPACE"," ",1217],"=",["T_WHITESPACE"," ",1217],["T_VARIABLE","$elements",1217],"[",["T_STRING","count",1217],"(",["T_VARIABLE","$elements",1217],")",["T_WHITESPACE"," ",1217],"-",["T_WHITESPACE"," ",1217],["T_LNUMBER","1",1217],"]",";",["T_WHITESPACE","\n        ",1217],"}",["T_WHITESPACE"," ",1218],["T_ELSEIF","elseif",1218],["T_WHITESPACE"," ",1218],"(","!",["T_VARIABLE","$host",1218],["T_WHITESPACE"," ",1218],"=",["T_WHITESPACE"," ",1218],["T_VARIABLE","$this",1218],["T_OBJECT_OPERATOR","->",1218],["T_STRING","headers",1218],["T_OBJECT_OPERATOR","->",1218],["T_STRING","get",1218],"(",["T_CONSTANT_ENCAPSED_STRING","'HOST'",1218],")",")",["T_WHITESPACE"," ",1218],"{",["T_WHITESPACE","\n            ",1218],["T_IF","if",1219],["T_WHITESPACE"," ",1219],"(","!",["T_VARIABLE","$host",1219],["T_WHITESPACE"," ",1219],"=",["T_WHITESPACE"," ",1219],["T_VARIABLE","$this",1219],["T_OBJECT_OPERATOR","->",1219],["T_STRING","server",1219],["T_OBJECT_OPERATOR","->",1219],["T_STRING","get",1219],"(",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",1219],")",")",["T_WHITESPACE"," ",1219],"{",["T_WHITESPACE","\n                ",1219],["T_VARIABLE","$host",1220],["T_WHITESPACE"," ",1220],"=",["T_WHITESPACE"," ",1220],["T_VARIABLE","$this",1220],["T_OBJECT_OPERATOR","->",1220],["T_STRING","server",1220],["T_OBJECT_OPERATOR","->",1220],["T_STRING","get",1220],"(",["T_CONSTANT_ENCAPSED_STRING","'SERVER_ADDR'",1220],",",["T_WHITESPACE"," ",1220],["T_CONSTANT_ENCAPSED_STRING","''",1220],")",";",["T_WHITESPACE","\n            ",1220],"}",["T_WHITESPACE","\n        ",1221],"}",["T_WHITESPACE","\n\n        ",1222],["T_COMMENT","\/\/ trim and remove port number from host\n",1224],["T_WHITESPACE","        ",1225],["T_COMMENT","\/\/ host is lowercase as per RFC 952\/2181\n",1225],["T_WHITESPACE","        ",1226],["T_VARIABLE","$host",1226],["T_WHITESPACE"," ",1226],"=",["T_WHITESPACE"," ",1226],["T_STRING","strtolower",1226],"(",["T_STRING","preg_replace",1226],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:\\d+$\/'",1226],",",["T_WHITESPACE"," ",1226],["T_CONSTANT_ENCAPSED_STRING","''",1226],",",["T_WHITESPACE"," ",1226],["T_STRING","trim",1226],"(",["T_VARIABLE","$host",1226],")",")",")",";",["T_WHITESPACE","\n\n        ",1226],["T_COMMENT","\/\/ as the host can come from the user (HTTP_HOST and depending on the configuration, SERVER_NAME too can come from the user)\n",1228],["T_WHITESPACE","        ",1229],["T_COMMENT","\/\/ check that it does not contain forbidden characters (see RFC 952 and RFC 2181)\n",1229],["T_WHITESPACE","        ",1230],["T_COMMENT","\/\/ use preg_replace() instead of preg_match() to prevent DoS attacks with long host names\n",1230],["T_WHITESPACE","        ",1231],["T_IF","if",1231],["T_WHITESPACE"," ",1231],"(",["T_VARIABLE","$host",1231],["T_WHITESPACE"," ",1231],["T_BOOLEAN_AND","&&",1231],["T_WHITESPACE"," ",1231],["T_CONSTANT_ENCAPSED_STRING","''",1231],["T_WHITESPACE"," ",1231],["T_IS_NOT_IDENTICAL","!==",1231],["T_WHITESPACE"," ",1231],["T_STRING","preg_replace",1231],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(?:^\\[)?[a-zA-Z0-9-:\\]_]+\\.?\/'",1231],",",["T_WHITESPACE"," ",1231],["T_CONSTANT_ENCAPSED_STRING","''",1231],",",["T_WHITESPACE"," ",1231],["T_VARIABLE","$host",1231],")",")",["T_WHITESPACE"," ",1231],"{",["T_WHITESPACE","\n            ",1231],["T_IF","if",1232],["T_WHITESPACE"," ",1232],"(","!",["T_VARIABLE","$this",1232],["T_OBJECT_OPERATOR","->",1232],["T_STRING","isHostValid",1232],")",["T_WHITESPACE"," ",1232],"{",["T_WHITESPACE","\n                ",1232],["T_RETURN","return",1233],["T_WHITESPACE"," ",1233],["T_CONSTANT_ENCAPSED_STRING","''",1233],";",["T_WHITESPACE","\n            ",1233],"}",["T_WHITESPACE","\n            ",1234],["T_VARIABLE","$this",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","isHostValid",1235],["T_WHITESPACE"," ",1235],"=",["T_WHITESPACE"," ",1235],["T_STRING","false",1235],";",["T_WHITESPACE","\n\n            ",1235],["T_THROW","throw",1237],["T_WHITESPACE"," ",1237],["T_NEW","new",1237],["T_WHITESPACE"," ",1237],["T_STRING","SuspiciousOperationException",1237],"(",["T_STRING","sprintf",1237],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Host \"%s\".'",1237],",",["T_WHITESPACE"," ",1237],["T_VARIABLE","$host",1237],")",")",";",["T_WHITESPACE","\n        ",1237],"}",["T_WHITESPACE","\n\n        ",1238],["T_IF","if",1240],["T_WHITESPACE"," ",1240],"(",["T_STRING","count",1240],"(",["T_STRING","self",1240],["T_DOUBLE_COLON","::",1240],["T_VARIABLE","$trustedHostPatterns",1240],")",["T_WHITESPACE"," ",1240],">",["T_WHITESPACE"," ",1240],["T_LNUMBER","0",1240],")",["T_WHITESPACE"," ",1240],"{",["T_WHITESPACE","\n            ",1240],["T_COMMENT","\/\/ to avoid host header injection attacks, you should provide a list of trusted host patterns\n",1241],["T_WHITESPACE","\n            ",1242],["T_IF","if",1243],["T_WHITESPACE"," ",1243],"(",["T_STRING","in_array",1243],"(",["T_VARIABLE","$host",1243],",",["T_WHITESPACE"," ",1243],["T_STRING","self",1243],["T_DOUBLE_COLON","::",1243],["T_VARIABLE","$trustedHosts",1243],")",")",["T_WHITESPACE"," ",1243],"{",["T_WHITESPACE","\n                ",1243],["T_RETURN","return",1244],["T_WHITESPACE"," ",1244],["T_VARIABLE","$host",1244],";",["T_WHITESPACE","\n            ",1244],"}",["T_WHITESPACE","\n\n            ",1245],["T_FOREACH","foreach",1247],["T_WHITESPACE"," ",1247],"(",["T_STRING","self",1247],["T_DOUBLE_COLON","::",1247],["T_VARIABLE","$trustedHostPatterns",1247],["T_WHITESPACE"," ",1247],["T_AS","as",1247],["T_WHITESPACE"," ",1247],["T_VARIABLE","$pattern",1247],")",["T_WHITESPACE"," ",1247],"{",["T_WHITESPACE","\n                ",1247],["T_IF","if",1248],["T_WHITESPACE"," ",1248],"(",["T_STRING","preg_match",1248],"(",["T_VARIABLE","$pattern",1248],",",["T_WHITESPACE"," ",1248],["T_VARIABLE","$host",1248],")",")",["T_WHITESPACE"," ",1248],"{",["T_WHITESPACE","\n                    ",1248],["T_STRING","self",1249],["T_DOUBLE_COLON","::",1249],["T_VARIABLE","$trustedHosts",1249],"[","]",["T_WHITESPACE"," ",1249],"=",["T_WHITESPACE"," ",1249],["T_VARIABLE","$host",1249],";",["T_WHITESPACE","\n\n                    ",1249],["T_RETURN","return",1251],["T_WHITESPACE"," ",1251],["T_VARIABLE","$host",1251],";",["T_WHITESPACE","\n                ",1251],"}",["T_WHITESPACE","\n            ",1252],"}",["T_WHITESPACE","\n\n            ",1253],["T_IF","if",1255],["T_WHITESPACE"," ",1255],"(","!",["T_VARIABLE","$this",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","isHostValid",1255],")",["T_WHITESPACE"," ",1255],"{",["T_WHITESPACE","\n                ",1255],["T_RETURN","return",1256],["T_WHITESPACE"," ",1256],["T_CONSTANT_ENCAPSED_STRING","''",1256],";",["T_WHITESPACE","\n            ",1256],"}",["T_WHITESPACE","\n            ",1257],["T_VARIABLE","$this",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","isHostValid",1258],["T_WHITESPACE"," ",1258],"=",["T_WHITESPACE"," ",1258],["T_STRING","false",1258],";",["T_WHITESPACE","\n\n            ",1258],["T_THROW","throw",1260],["T_WHITESPACE"," ",1260],["T_NEW","new",1260],["T_WHITESPACE"," ",1260],["T_STRING","SuspiciousOperationException",1260],"(",["T_STRING","sprintf",1260],"(",["T_CONSTANT_ENCAPSED_STRING","'Untrusted Host \"%s\".'",1260],",",["T_WHITESPACE"," ",1260],["T_VARIABLE","$host",1260],")",")",";",["T_WHITESPACE","\n        ",1260],"}",["T_WHITESPACE","\n\n        ",1261],["T_RETURN","return",1263],["T_WHITESPACE"," ",1263],["T_VARIABLE","$host",1263],";",["T_WHITESPACE","\n    ",1263],"}",["T_WHITESPACE","\n\n    ",1264],["T_DOC_COMMENT","\/**\n     * Sets the request method.\n     *\n     * @param string $method\n     *\/",1266],["T_WHITESPACE","\n    ",1270],["T_PUBLIC","public",1271],["T_WHITESPACE"," ",1271],["T_FUNCTION","function",1271],["T_WHITESPACE"," ",1271],["T_STRING","setMethod",1271],"(",["T_VARIABLE","$method",1271],")",["T_WHITESPACE","\n    ",1271],"{",["T_WHITESPACE","\n        ",1272],["T_VARIABLE","$this",1273],["T_OBJECT_OPERATOR","->",1273],["T_STRING","method",1273],["T_WHITESPACE"," ",1273],"=",["T_WHITESPACE"," ",1273],["T_STRING","null",1273],";",["T_WHITESPACE","\n        ",1273],["T_VARIABLE","$this",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","server",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","set",1274],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",1274],",",["T_WHITESPACE"," ",1274],["T_VARIABLE","$method",1274],")",";",["T_WHITESPACE","\n    ",1274],"}",["T_WHITESPACE","\n\n    ",1275],["T_DOC_COMMENT","\/**\n     * Gets the request \"intended\" method.\n     *\n     * If the X-HTTP-Method-Override header is set, and if the method is a POST,\n     * then it is used to determine the \"real\" intended HTTP method.\n     *\n     * The _method request parameter can also be used to determine the HTTP method,\n     * but only if enableHttpMethodParameterOverride() has been called.\n     *\n     * The method is always an uppercased string.\n     *\n     * @return string The request method\n     *\n     * @see getRealMethod()\n     *\/",1277],["T_WHITESPACE","\n    ",1291],["T_PUBLIC","public",1292],["T_WHITESPACE"," ",1292],["T_FUNCTION","function",1292],["T_WHITESPACE"," ",1292],["T_STRING","getMethod",1292],"(",")",["T_WHITESPACE","\n    ",1292],"{",["T_WHITESPACE","\n        ",1293],["T_IF","if",1294],["T_WHITESPACE"," ",1294],"(",["T_STRING","null",1294],["T_WHITESPACE"," ",1294],["T_IS_IDENTICAL","===",1294],["T_WHITESPACE"," ",1294],["T_VARIABLE","$this",1294],["T_OBJECT_OPERATOR","->",1294],["T_STRING","method",1294],")",["T_WHITESPACE"," ",1294],"{",["T_WHITESPACE","\n            ",1294],["T_VARIABLE","$this",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","method",1295],["T_WHITESPACE"," ",1295],"=",["T_WHITESPACE"," ",1295],["T_STRING","strtoupper",1295],"(",["T_VARIABLE","$this",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","server",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","get",1295],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",1295],",",["T_WHITESPACE"," ",1295],["T_CONSTANT_ENCAPSED_STRING","'GET'",1295],")",")",";",["T_WHITESPACE","\n\n            ",1295],["T_IF","if",1297],["T_WHITESPACE"," ",1297],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",1297],["T_WHITESPACE"," ",1297],["T_IS_IDENTICAL","===",1297],["T_WHITESPACE"," ",1297],["T_VARIABLE","$this",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","method",1297],")",["T_WHITESPACE"," ",1297],"{",["T_WHITESPACE","\n                ",1297],["T_IF","if",1298],["T_WHITESPACE"," ",1298],"(",["T_VARIABLE","$method",1298],["T_WHITESPACE"," ",1298],"=",["T_WHITESPACE"," ",1298],["T_VARIABLE","$this",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","headers",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","get",1298],"(",["T_CONSTANT_ENCAPSED_STRING","'X-HTTP-METHOD-OVERRIDE'",1298],")",")",["T_WHITESPACE"," ",1298],"{",["T_WHITESPACE","\n                    ",1298],["T_VARIABLE","$this",1299],["T_OBJECT_OPERATOR","->",1299],["T_STRING","method",1299],["T_WHITESPACE"," ",1299],"=",["T_WHITESPACE"," ",1299],["T_STRING","strtoupper",1299],"(",["T_VARIABLE","$method",1299],")",";",["T_WHITESPACE","\n                ",1299],"}",["T_WHITESPACE"," ",1300],["T_ELSEIF","elseif",1300],["T_WHITESPACE"," ",1300],"(",["T_STRING","self",1300],["T_DOUBLE_COLON","::",1300],["T_VARIABLE","$httpMethodParameterOverride",1300],")",["T_WHITESPACE"," ",1300],"{",["T_WHITESPACE","\n                    ",1300],["T_VARIABLE","$this",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","method",1301],["T_WHITESPACE"," ",1301],"=",["T_WHITESPACE"," ",1301],["T_STRING","strtoupper",1301],"(",["T_VARIABLE","$this",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","request",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","get",1301],"(",["T_CONSTANT_ENCAPSED_STRING","'_method'",1301],",",["T_WHITESPACE"," ",1301],["T_VARIABLE","$this",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","query",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","get",1301],"(",["T_CONSTANT_ENCAPSED_STRING","'_method'",1301],",",["T_WHITESPACE"," ",1301],["T_CONSTANT_ENCAPSED_STRING","'POST'",1301],")",")",")",";",["T_WHITESPACE","\n                ",1301],"}",["T_WHITESPACE","\n            ",1302],"}",["T_WHITESPACE","\n        ",1303],"}",["T_WHITESPACE","\n\n        ",1304],["T_RETURN","return",1306],["T_WHITESPACE"," ",1306],["T_VARIABLE","$this",1306],["T_OBJECT_OPERATOR","->",1306],["T_STRING","method",1306],";",["T_WHITESPACE","\n    ",1306],"}",["T_WHITESPACE","\n\n    ",1307],["T_DOC_COMMENT","\/**\n     * Gets the \"real\" request method.\n     *\n     * @return string The request method\n     *\n     * @see getMethod()\n     *\/",1309],["T_WHITESPACE","\n    ",1315],["T_PUBLIC","public",1316],["T_WHITESPACE"," ",1316],["T_FUNCTION","function",1316],["T_WHITESPACE"," ",1316],["T_STRING","getRealMethod",1316],"(",")",["T_WHITESPACE","\n    ",1316],"{",["T_WHITESPACE","\n        ",1317],["T_RETURN","return",1318],["T_WHITESPACE"," ",1318],["T_STRING","strtoupper",1318],"(",["T_VARIABLE","$this",1318],["T_OBJECT_OPERATOR","->",1318],["T_STRING","server",1318],["T_OBJECT_OPERATOR","->",1318],["T_STRING","get",1318],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",1318],",",["T_WHITESPACE"," ",1318],["T_CONSTANT_ENCAPSED_STRING","'GET'",1318],")",")",";",["T_WHITESPACE","\n    ",1318],"}",["T_WHITESPACE","\n\n    ",1319],["T_DOC_COMMENT","\/**\n     * Gets the mime type associated with the format.\n     *\n     * @param string $format The format\n     *\n     * @return string The associated mime type (null if not found)\n     *\/",1321],["T_WHITESPACE","\n    ",1327],["T_PUBLIC","public",1328],["T_WHITESPACE"," ",1328],["T_FUNCTION","function",1328],["T_WHITESPACE"," ",1328],["T_STRING","getMimeType",1328],"(",["T_VARIABLE","$format",1328],")",["T_WHITESPACE","\n    ",1328],"{",["T_WHITESPACE","\n        ",1329],["T_IF","if",1330],["T_WHITESPACE"," ",1330],"(",["T_STRING","null",1330],["T_WHITESPACE"," ",1330],["T_IS_IDENTICAL","===",1330],["T_WHITESPACE"," ",1330],["T_STATIC","static",1330],["T_DOUBLE_COLON","::",1330],["T_VARIABLE","$formats",1330],")",["T_WHITESPACE"," ",1330],"{",["T_WHITESPACE","\n            ",1330],["T_STATIC","static",1331],["T_DOUBLE_COLON","::",1331],["T_STRING","initializeFormats",1331],"(",")",";",["T_WHITESPACE","\n        ",1331],"}",["T_WHITESPACE","\n\n        ",1332],["T_RETURN","return",1334],["T_WHITESPACE"," ",1334],["T_ISSET","isset",1334],"(",["T_STATIC","static",1334],["T_DOUBLE_COLON","::",1334],["T_VARIABLE","$formats",1334],"[",["T_VARIABLE","$format",1334],"]",")",["T_WHITESPACE"," ",1334],"?",["T_WHITESPACE"," ",1334],["T_STATIC","static",1334],["T_DOUBLE_COLON","::",1334],["T_VARIABLE","$formats",1334],"[",["T_VARIABLE","$format",1334],"]","[",["T_LNUMBER","0",1334],"]",["T_WHITESPACE"," ",1334],":",["T_WHITESPACE"," ",1334],["T_STRING","null",1334],";",["T_WHITESPACE","\n    ",1334],"}",["T_WHITESPACE","\n\n    ",1335],["T_DOC_COMMENT","\/**\n     * Gets the mime types associated with the format.\n     *\n     * @param string $format The format\n     *\n     * @return array The associated mime types\n     *\/",1337],["T_WHITESPACE","\n    ",1343],["T_PUBLIC","public",1344],["T_WHITESPACE"," ",1344],["T_STATIC","static",1344],["T_WHITESPACE"," ",1344],["T_FUNCTION","function",1344],["T_WHITESPACE"," ",1344],["T_STRING","getMimeTypes",1344],"(",["T_VARIABLE","$format",1344],")",["T_WHITESPACE","\n    ",1344],"{",["T_WHITESPACE","\n        ",1345],["T_IF","if",1346],["T_WHITESPACE"," ",1346],"(",["T_STRING","null",1346],["T_WHITESPACE"," ",1346],["T_IS_IDENTICAL","===",1346],["T_WHITESPACE"," ",1346],["T_STATIC","static",1346],["T_DOUBLE_COLON","::",1346],["T_VARIABLE","$formats",1346],")",["T_WHITESPACE"," ",1346],"{",["T_WHITESPACE","\n            ",1346],["T_STATIC","static",1347],["T_DOUBLE_COLON","::",1347],["T_STRING","initializeFormats",1347],"(",")",";",["T_WHITESPACE","\n        ",1347],"}",["T_WHITESPACE","\n\n        ",1348],["T_RETURN","return",1350],["T_WHITESPACE"," ",1350],["T_ISSET","isset",1350],"(",["T_STATIC","static",1350],["T_DOUBLE_COLON","::",1350],["T_VARIABLE","$formats",1350],"[",["T_VARIABLE","$format",1350],"]",")",["T_WHITESPACE"," ",1350],"?",["T_WHITESPACE"," ",1350],["T_STATIC","static",1350],["T_DOUBLE_COLON","::",1350],["T_VARIABLE","$formats",1350],"[",["T_VARIABLE","$format",1350],"]",["T_WHITESPACE"," ",1350],":",["T_WHITESPACE"," ",1350],["T_ARRAY","array",1350],"(",")",";",["T_WHITESPACE","\n    ",1350],"}",["T_WHITESPACE","\n\n    ",1351],["T_DOC_COMMENT","\/**\n     * Gets the format associated with the mime type.\n     *\n     * @param string $mimeType The associated mime type\n     *\n     * @return string|null The format (null if not found)\n     *\/",1353],["T_WHITESPACE","\n    ",1359],["T_PUBLIC","public",1360],["T_WHITESPACE"," ",1360],["T_FUNCTION","function",1360],["T_WHITESPACE"," ",1360],["T_STRING","getFormat",1360],"(",["T_VARIABLE","$mimeType",1360],")",["T_WHITESPACE","\n    ",1360],"{",["T_WHITESPACE","\n        ",1361],["T_VARIABLE","$canonicalMimeType",1362],["T_WHITESPACE"," ",1362],"=",["T_WHITESPACE"," ",1362],["T_STRING","null",1362],";",["T_WHITESPACE","\n        ",1362],["T_IF","if",1363],["T_WHITESPACE"," ",1363],"(",["T_STRING","false",1363],["T_WHITESPACE"," ",1363],["T_IS_NOT_IDENTICAL","!==",1363],["T_WHITESPACE"," ",1363],["T_VARIABLE","$pos",1363],["T_WHITESPACE"," ",1363],"=",["T_WHITESPACE"," ",1363],["T_STRING","strpos",1363],"(",["T_VARIABLE","$mimeType",1363],",",["T_WHITESPACE"," ",1363],["T_CONSTANT_ENCAPSED_STRING","';'",1363],")",")",["T_WHITESPACE"," ",1363],"{",["T_WHITESPACE","\n            ",1363],["T_VARIABLE","$canonicalMimeType",1364],["T_WHITESPACE"," ",1364],"=",["T_WHITESPACE"," ",1364],["T_STRING","substr",1364],"(",["T_VARIABLE","$mimeType",1364],",",["T_WHITESPACE"," ",1364],["T_LNUMBER","0",1364],",",["T_WHITESPACE"," ",1364],["T_VARIABLE","$pos",1364],")",";",["T_WHITESPACE","\n        ",1364],"}",["T_WHITESPACE","\n\n        ",1365],["T_IF","if",1367],["T_WHITESPACE"," ",1367],"(",["T_STRING","null",1367],["T_WHITESPACE"," ",1367],["T_IS_IDENTICAL","===",1367],["T_WHITESPACE"," ",1367],["T_STATIC","static",1367],["T_DOUBLE_COLON","::",1367],["T_VARIABLE","$formats",1367],")",["T_WHITESPACE"," ",1367],"{",["T_WHITESPACE","\n            ",1367],["T_STATIC","static",1368],["T_DOUBLE_COLON","::",1368],["T_STRING","initializeFormats",1368],"(",")",";",["T_WHITESPACE","\n        ",1368],"}",["T_WHITESPACE","\n\n        ",1369],["T_FOREACH","foreach",1371],["T_WHITESPACE"," ",1371],"(",["T_STATIC","static",1371],["T_DOUBLE_COLON","::",1371],["T_VARIABLE","$formats",1371],["T_WHITESPACE"," ",1371],["T_AS","as",1371],["T_WHITESPACE"," ",1371],["T_VARIABLE","$format",1371],["T_WHITESPACE"," ",1371],["T_DOUBLE_ARROW","=>",1371],["T_WHITESPACE"," ",1371],["T_VARIABLE","$mimeTypes",1371],")",["T_WHITESPACE"," ",1371],"{",["T_WHITESPACE","\n            ",1371],["T_IF","if",1372],["T_WHITESPACE"," ",1372],"(",["T_STRING","in_array",1372],"(",["T_VARIABLE","$mimeType",1372],",",["T_WHITESPACE"," ",1372],["T_ARRAY_CAST","(array)",1372],["T_WHITESPACE"," ",1372],["T_VARIABLE","$mimeTypes",1372],")",")",["T_WHITESPACE"," ",1372],"{",["T_WHITESPACE","\n                ",1372],["T_RETURN","return",1373],["T_WHITESPACE"," ",1373],["T_VARIABLE","$format",1373],";",["T_WHITESPACE","\n            ",1373],"}",["T_WHITESPACE","\n            ",1374],["T_IF","if",1375],["T_WHITESPACE"," ",1375],"(",["T_STRING","null",1375],["T_WHITESPACE"," ",1375],["T_IS_NOT_IDENTICAL","!==",1375],["T_WHITESPACE"," ",1375],["T_VARIABLE","$canonicalMimeType",1375],["T_WHITESPACE"," ",1375],["T_BOOLEAN_AND","&&",1375],["T_WHITESPACE"," ",1375],["T_STRING","in_array",1375],"(",["T_VARIABLE","$canonicalMimeType",1375],",",["T_WHITESPACE"," ",1375],["T_ARRAY_CAST","(array)",1375],["T_WHITESPACE"," ",1375],["T_VARIABLE","$mimeTypes",1375],")",")",["T_WHITESPACE"," ",1375],"{",["T_WHITESPACE","\n                ",1375],["T_RETURN","return",1376],["T_WHITESPACE"," ",1376],["T_VARIABLE","$format",1376],";",["T_WHITESPACE","\n            ",1376],"}",["T_WHITESPACE","\n        ",1377],"}",["T_WHITESPACE","\n    ",1378],"}",["T_WHITESPACE","\n\n    ",1379],["T_DOC_COMMENT","\/**\n     * Associates a format with mime types.\n     *\n     * @param string       $format    The format\n     * @param string|array $mimeTypes The associated mime types (the preferred one must be the first as it will be used as the content type)\n     *\/",1381],["T_WHITESPACE","\n    ",1386],["T_PUBLIC","public",1387],["T_WHITESPACE"," ",1387],["T_FUNCTION","function",1387],["T_WHITESPACE"," ",1387],["T_STRING","setFormat",1387],"(",["T_VARIABLE","$format",1387],",",["T_WHITESPACE"," ",1387],["T_VARIABLE","$mimeTypes",1387],")",["T_WHITESPACE","\n    ",1387],"{",["T_WHITESPACE","\n        ",1388],["T_IF","if",1389],["T_WHITESPACE"," ",1389],"(",["T_STRING","null",1389],["T_WHITESPACE"," ",1389],["T_IS_IDENTICAL","===",1389],["T_WHITESPACE"," ",1389],["T_STATIC","static",1389],["T_DOUBLE_COLON","::",1389],["T_VARIABLE","$formats",1389],")",["T_WHITESPACE"," ",1389],"{",["T_WHITESPACE","\n            ",1389],["T_STATIC","static",1390],["T_DOUBLE_COLON","::",1390],["T_STRING","initializeFormats",1390],"(",")",";",["T_WHITESPACE","\n        ",1390],"}",["T_WHITESPACE","\n\n        ",1391],["T_STATIC","static",1393],["T_DOUBLE_COLON","::",1393],["T_VARIABLE","$formats",1393],"[",["T_VARIABLE","$format",1393],"]",["T_WHITESPACE"," ",1393],"=",["T_WHITESPACE"," ",1393],["T_STRING","is_array",1393],"(",["T_VARIABLE","$mimeTypes",1393],")",["T_WHITESPACE"," ",1393],"?",["T_WHITESPACE"," ",1393],["T_VARIABLE","$mimeTypes",1393],["T_WHITESPACE"," ",1393],":",["T_WHITESPACE"," ",1393],["T_ARRAY","array",1393],"(",["T_VARIABLE","$mimeTypes",1393],")",";",["T_WHITESPACE","\n    ",1393],"}",["T_WHITESPACE","\n\n    ",1394],["T_DOC_COMMENT","\/**\n     * Gets the request format.\n     *\n     * Here is the process to determine the format:\n     *\n     *  * format defined by the user (with setRequestFormat())\n     *  * _format request attribute\n     *  * $default\n     *\n     * @param string $default The default format\n     *\n     * @return string The request format\n     *\/",1396],["T_WHITESPACE","\n    ",1408],["T_PUBLIC","public",1409],["T_WHITESPACE"," ",1409],["T_FUNCTION","function",1409],["T_WHITESPACE"," ",1409],["T_STRING","getRequestFormat",1409],"(",["T_VARIABLE","$default",1409],["T_WHITESPACE"," ",1409],"=",["T_WHITESPACE"," ",1409],["T_CONSTANT_ENCAPSED_STRING","'html'",1409],")",["T_WHITESPACE","\n    ",1409],"{",["T_WHITESPACE","\n        ",1410],["T_IF","if",1411],["T_WHITESPACE"," ",1411],"(",["T_STRING","null",1411],["T_WHITESPACE"," ",1411],["T_IS_IDENTICAL","===",1411],["T_WHITESPACE"," ",1411],["T_VARIABLE","$this",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","format",1411],")",["T_WHITESPACE"," ",1411],"{",["T_WHITESPACE","\n            ",1411],["T_VARIABLE","$this",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","format",1412],["T_WHITESPACE"," ",1412],"=",["T_WHITESPACE"," ",1412],["T_VARIABLE","$this",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","attributes",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","get",1412],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",1412],",",["T_WHITESPACE"," ",1412],["T_VARIABLE","$default",1412],")",";",["T_WHITESPACE","\n        ",1412],"}",["T_WHITESPACE","\n\n        ",1413],["T_RETURN","return",1415],["T_WHITESPACE"," ",1415],["T_VARIABLE","$this",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","format",1415],";",["T_WHITESPACE","\n    ",1415],"}",["T_WHITESPACE","\n\n    ",1416],["T_DOC_COMMENT","\/**\n     * Sets the request format.\n     *\n     * @param string $format The request format\n     *\/",1418],["T_WHITESPACE","\n    ",1422],["T_PUBLIC","public",1423],["T_WHITESPACE"," ",1423],["T_FUNCTION","function",1423],["T_WHITESPACE"," ",1423],["T_STRING","setRequestFormat",1423],"(",["T_VARIABLE","$format",1423],")",["T_WHITESPACE","\n    ",1423],"{",["T_WHITESPACE","\n        ",1424],["T_VARIABLE","$this",1425],["T_OBJECT_OPERATOR","->",1425],["T_STRING","format",1425],["T_WHITESPACE"," ",1425],"=",["T_WHITESPACE"," ",1425],["T_VARIABLE","$format",1425],";",["T_WHITESPACE","\n    ",1425],"}",["T_WHITESPACE","\n\n    ",1426],["T_DOC_COMMENT","\/**\n     * Gets the format associated with the request.\n     *\n     * @return string|null The format (null if no content type is present)\n     *\/",1428],["T_WHITESPACE","\n    ",1432],["T_PUBLIC","public",1433],["T_WHITESPACE"," ",1433],["T_FUNCTION","function",1433],["T_WHITESPACE"," ",1433],["T_STRING","getContentType",1433],"(",")",["T_WHITESPACE","\n    ",1433],"{",["T_WHITESPACE","\n        ",1434],["T_RETURN","return",1435],["T_WHITESPACE"," ",1435],["T_VARIABLE","$this",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","getFormat",1435],"(",["T_VARIABLE","$this",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","headers",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","get",1435],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",1435],")",")",";",["T_WHITESPACE","\n    ",1435],"}",["T_WHITESPACE","\n\n    ",1436],["T_DOC_COMMENT","\/**\n     * Sets the default locale.\n     *\n     * @param string $locale\n     *\/",1438],["T_WHITESPACE","\n    ",1442],["T_PUBLIC","public",1443],["T_WHITESPACE"," ",1443],["T_FUNCTION","function",1443],["T_WHITESPACE"," ",1443],["T_STRING","setDefaultLocale",1443],"(",["T_VARIABLE","$locale",1443],")",["T_WHITESPACE","\n    ",1443],"{",["T_WHITESPACE","\n        ",1444],["T_VARIABLE","$this",1445],["T_OBJECT_OPERATOR","->",1445],["T_STRING","defaultLocale",1445],["T_WHITESPACE"," ",1445],"=",["T_WHITESPACE"," ",1445],["T_VARIABLE","$locale",1445],";",["T_WHITESPACE","\n\n        ",1445],["T_IF","if",1447],["T_WHITESPACE"," ",1447],"(",["T_STRING","null",1447],["T_WHITESPACE"," ",1447],["T_IS_IDENTICAL","===",1447],["T_WHITESPACE"," ",1447],["T_VARIABLE","$this",1447],["T_OBJECT_OPERATOR","->",1447],["T_STRING","locale",1447],")",["T_WHITESPACE"," ",1447],"{",["T_WHITESPACE","\n            ",1447],["T_VARIABLE","$this",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","setPhpDefaultLocale",1448],"(",["T_VARIABLE","$locale",1448],")",";",["T_WHITESPACE","\n        ",1448],"}",["T_WHITESPACE","\n    ",1449],"}",["T_WHITESPACE","\n\n    ",1450],["T_DOC_COMMENT","\/**\n     * Get the default locale.\n     *\n     * @return string\n     *\/",1452],["T_WHITESPACE","\n    ",1456],["T_PUBLIC","public",1457],["T_WHITESPACE"," ",1457],["T_FUNCTION","function",1457],["T_WHITESPACE"," ",1457],["T_STRING","getDefaultLocale",1457],"(",")",["T_WHITESPACE","\n    ",1457],"{",["T_WHITESPACE","\n        ",1458],["T_RETURN","return",1459],["T_WHITESPACE"," ",1459],["T_VARIABLE","$this",1459],["T_OBJECT_OPERATOR","->",1459],["T_STRING","defaultLocale",1459],";",["T_WHITESPACE","\n    ",1459],"}",["T_WHITESPACE","\n\n    ",1460],["T_DOC_COMMENT","\/**\n     * Sets the locale.\n     *\n     * @param string $locale\n     *\/",1462],["T_WHITESPACE","\n    ",1466],["T_PUBLIC","public",1467],["T_WHITESPACE"," ",1467],["T_FUNCTION","function",1467],["T_WHITESPACE"," ",1467],["T_STRING","setLocale",1467],"(",["T_VARIABLE","$locale",1467],")",["T_WHITESPACE","\n    ",1467],"{",["T_WHITESPACE","\n        ",1468],["T_VARIABLE","$this",1469],["T_OBJECT_OPERATOR","->",1469],["T_STRING","setPhpDefaultLocale",1469],"(",["T_VARIABLE","$this",1469],["T_OBJECT_OPERATOR","->",1469],["T_STRING","locale",1469],["T_WHITESPACE"," ",1469],"=",["T_WHITESPACE"," ",1469],["T_VARIABLE","$locale",1469],")",";",["T_WHITESPACE","\n    ",1469],"}",["T_WHITESPACE","\n\n    ",1470],["T_DOC_COMMENT","\/**\n     * Get the locale.\n     *\n     * @return string\n     *\/",1472],["T_WHITESPACE","\n    ",1476],["T_PUBLIC","public",1477],["T_WHITESPACE"," ",1477],["T_FUNCTION","function",1477],["T_WHITESPACE"," ",1477],["T_STRING","getLocale",1477],"(",")",["T_WHITESPACE","\n    ",1477],"{",["T_WHITESPACE","\n        ",1478],["T_RETURN","return",1479],["T_WHITESPACE"," ",1479],["T_STRING","null",1479],["T_WHITESPACE"," ",1479],["T_IS_IDENTICAL","===",1479],["T_WHITESPACE"," ",1479],["T_VARIABLE","$this",1479],["T_OBJECT_OPERATOR","->",1479],["T_STRING","locale",1479],["T_WHITESPACE"," ",1479],"?",["T_WHITESPACE"," ",1479],["T_VARIABLE","$this",1479],["T_OBJECT_OPERATOR","->",1479],["T_STRING","defaultLocale",1479],["T_WHITESPACE"," ",1479],":",["T_WHITESPACE"," ",1479],["T_VARIABLE","$this",1479],["T_OBJECT_OPERATOR","->",1479],["T_STRING","locale",1479],";",["T_WHITESPACE","\n    ",1479],"}",["T_WHITESPACE","\n\n    ",1480],["T_DOC_COMMENT","\/**\n     * Checks if the request method is of specified type.\n     *\n     * @param string $method Uppercase request method (GET, POST etc)\n     *\n     * @return bool\n     *\/",1482],["T_WHITESPACE","\n    ",1488],["T_PUBLIC","public",1489],["T_WHITESPACE"," ",1489],["T_FUNCTION","function",1489],["T_WHITESPACE"," ",1489],["T_STRING","isMethod",1489],"(",["T_VARIABLE","$method",1489],")",["T_WHITESPACE","\n    ",1489],"{",["T_WHITESPACE","\n        ",1490],["T_RETURN","return",1491],["T_WHITESPACE"," ",1491],["T_VARIABLE","$this",1491],["T_OBJECT_OPERATOR","->",1491],["T_STRING","getMethod",1491],"(",")",["T_WHITESPACE"," ",1491],["T_IS_IDENTICAL","===",1491],["T_WHITESPACE"," ",1491],["T_STRING","strtoupper",1491],"(",["T_VARIABLE","$method",1491],")",";",["T_WHITESPACE","\n    ",1491],"}",["T_WHITESPACE","\n\n    ",1492],["T_DOC_COMMENT","\/**\n     * Checks whether or not the method is safe.\n     *\n     * @see https:\/\/tools.ietf.org\/html\/rfc7231#section-4.2.1\n     *\n     * @param bool $andCacheable Adds the additional condition that the method should be cacheable. True by default.\n     *\n     * @return bool\n     *\/",1494],["T_WHITESPACE","\n    ",1502],["T_PUBLIC","public",1503],["T_WHITESPACE"," ",1503],["T_FUNCTION","function",1503],["T_WHITESPACE"," ",1503],["T_STRING","isMethodSafe",1503],"(",["T_COMMENT","\/* $andCacheable = true *\/",1503],")",["T_WHITESPACE","\n    ",1503],"{",["T_WHITESPACE","\n        ",1504],["T_IF","if",1505],["T_WHITESPACE"," ",1505],"(","!",["T_STRING","func_num_args",1505],"(",")",["T_WHITESPACE"," ",1505],["T_BOOLEAN_OR","||",1505],["T_WHITESPACE"," ",1505],["T_STRING","func_get_arg",1505],"(",["T_LNUMBER","0",1505],")",")",["T_WHITESPACE"," ",1505],"{",["T_WHITESPACE","\n            ",1505],["T_COMMENT","\/\/ This deprecation should be turned into a BadMethodCallException in 4.0 (without adding the argument in the signature)\n",1506],["T_WHITESPACE","            ",1507],["T_COMMENT","\/\/ then setting $andCacheable to false should be deprecated in 4.1\n",1507],["T_WHITESPACE","            ",1508],"@",["T_STRING","trigger_error",1508],"(",["T_CONSTANT_ENCAPSED_STRING","'Checking only for cacheable HTTP methods with Symfony\\Component\\HttpFoundation\\Request::isMethodSafe() is deprecated since version 3.2 and will throw an exception in 4.0. Disable checking only for cacheable methods by calling the method with `false` as first argument or use the Request::isMethodCacheable() instead.'",1508],",",["T_WHITESPACE"," ",1508],["T_STRING","E_USER_DEPRECATED",1508],")",";",["T_WHITESPACE","\n\n            ",1508],["T_RETURN","return",1510],["T_WHITESPACE"," ",1510],["T_STRING","in_array",1510],"(",["T_VARIABLE","$this",1510],["T_OBJECT_OPERATOR","->",1510],["T_STRING","getMethod",1510],"(",")",",",["T_WHITESPACE"," ",1510],["T_ARRAY","array",1510],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1510],",",["T_WHITESPACE"," ",1510],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",1510],")",")",";",["T_WHITESPACE","\n        ",1510],"}",["T_WHITESPACE","\n\n        ",1511],["T_RETURN","return",1513],["T_WHITESPACE"," ",1513],["T_STRING","in_array",1513],"(",["T_VARIABLE","$this",1513],["T_OBJECT_OPERATOR","->",1513],["T_STRING","getMethod",1513],"(",")",",",["T_WHITESPACE"," ",1513],["T_ARRAY","array",1513],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1513],",",["T_WHITESPACE"," ",1513],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",1513],",",["T_WHITESPACE"," ",1513],["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",1513],",",["T_WHITESPACE"," ",1513],["T_CONSTANT_ENCAPSED_STRING","'TRACE'",1513],")",")",";",["T_WHITESPACE","\n    ",1513],"}",["T_WHITESPACE","\n\n    ",1514],["T_DOC_COMMENT","\/**\n     * Checks whether or not the method is idempotent.\n     *\n     * @return bool\n     *\/",1516],["T_WHITESPACE","\n    ",1520],["T_PUBLIC","public",1521],["T_WHITESPACE"," ",1521],["T_FUNCTION","function",1521],["T_WHITESPACE"," ",1521],["T_STRING","isMethodIdempotent",1521],"(",")",["T_WHITESPACE","\n    ",1521],"{",["T_WHITESPACE","\n        ",1522],["T_RETURN","return",1523],["T_WHITESPACE"," ",1523],["T_STRING","in_array",1523],"(",["T_VARIABLE","$this",1523],["T_OBJECT_OPERATOR","->",1523],["T_STRING","getMethod",1523],"(",")",",",["T_WHITESPACE"," ",1523],["T_ARRAY","array",1523],"(",["T_CONSTANT_ENCAPSED_STRING","'HEAD'",1523],",",["T_WHITESPACE"," ",1523],["T_CONSTANT_ENCAPSED_STRING","'GET'",1523],",",["T_WHITESPACE"," ",1523],["T_CONSTANT_ENCAPSED_STRING","'PUT'",1523],",",["T_WHITESPACE"," ",1523],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",1523],",",["T_WHITESPACE"," ",1523],["T_CONSTANT_ENCAPSED_STRING","'TRACE'",1523],",",["T_WHITESPACE"," ",1523],["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",1523],",",["T_WHITESPACE"," ",1523],["T_CONSTANT_ENCAPSED_STRING","'PURGE'",1523],")",")",";",["T_WHITESPACE","\n    ",1523],"}",["T_WHITESPACE","\n\n    ",1524],["T_DOC_COMMENT","\/**\n     * Checks whether the method is cacheable or not.\n     *\n     * @see https:\/\/tools.ietf.org\/html\/rfc7231#section-4.2.3\n     *\n     * @return bool\n     *\/",1526],["T_WHITESPACE","\n    ",1532],["T_PUBLIC","public",1533],["T_WHITESPACE"," ",1533],["T_FUNCTION","function",1533],["T_WHITESPACE"," ",1533],["T_STRING","isMethodCacheable",1533],"(",")",["T_WHITESPACE","\n    ",1533],"{",["T_WHITESPACE","\n        ",1534],["T_RETURN","return",1535],["T_WHITESPACE"," ",1535],["T_STRING","in_array",1535],"(",["T_VARIABLE","$this",1535],["T_OBJECT_OPERATOR","->",1535],["T_STRING","getMethod",1535],"(",")",",",["T_WHITESPACE"," ",1535],["T_ARRAY","array",1535],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1535],",",["T_WHITESPACE"," ",1535],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",1535],")",")",";",["T_WHITESPACE","\n    ",1535],"}",["T_WHITESPACE","\n\n    ",1536],["T_DOC_COMMENT","\/**\n     * Returns the request body content.\n     *\n     * @param bool $asResource If true, a resource will be returned\n     *\n     * @return string|resource The request body content or a resource to read the body stream\n     *\n     * @throws \\LogicException\n     *\/",1538],["T_WHITESPACE","\n    ",1546],["T_PUBLIC","public",1547],["T_WHITESPACE"," ",1547],["T_FUNCTION","function",1547],["T_WHITESPACE"," ",1547],["T_STRING","getContent",1547],"(",["T_VARIABLE","$asResource",1547],["T_WHITESPACE"," ",1547],"=",["T_WHITESPACE"," ",1547],["T_STRING","false",1547],")",["T_WHITESPACE","\n    ",1547],"{",["T_WHITESPACE","\n        ",1548],["T_VARIABLE","$currentContentIsResource",1549],["T_WHITESPACE"," ",1549],"=",["T_WHITESPACE"," ",1549],["T_STRING","is_resource",1549],"(",["T_VARIABLE","$this",1549],["T_OBJECT_OPERATOR","->",1549],["T_STRING","content",1549],")",";",["T_WHITESPACE","\n        ",1549],["T_IF","if",1550],["T_WHITESPACE"," ",1550],"(",["T_STRING","PHP_VERSION_ID",1550],["T_WHITESPACE"," ",1550],"<",["T_WHITESPACE"," ",1550],["T_LNUMBER","50600",1550],["T_WHITESPACE"," ",1550],["T_BOOLEAN_AND","&&",1550],["T_WHITESPACE"," ",1550],["T_STRING","false",1550],["T_WHITESPACE"," ",1550],["T_IS_IDENTICAL","===",1550],["T_WHITESPACE"," ",1550],["T_VARIABLE","$this",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","content",1550],")",["T_WHITESPACE"," ",1550],"{",["T_WHITESPACE","\n            ",1550],["T_THROW","throw",1551],["T_WHITESPACE"," ",1551],["T_NEW","new",1551],["T_WHITESPACE"," ",1551],["T_NS_SEPARATOR","\\",1551],["T_STRING","LogicException",1551],"(",["T_CONSTANT_ENCAPSED_STRING","'getContent() can only be called once when using the resource return type and PHP below 5.6.'",1551],")",";",["T_WHITESPACE","\n        ",1551],"}",["T_WHITESPACE","\n\n        ",1552],["T_IF","if",1554],["T_WHITESPACE"," ",1554],"(",["T_STRING","true",1554],["T_WHITESPACE"," ",1554],["T_IS_IDENTICAL","===",1554],["T_WHITESPACE"," ",1554],["T_VARIABLE","$asResource",1554],")",["T_WHITESPACE"," ",1554],"{",["T_WHITESPACE","\n            ",1554],["T_IF","if",1555],["T_WHITESPACE"," ",1555],"(",["T_VARIABLE","$currentContentIsResource",1555],")",["T_WHITESPACE"," ",1555],"{",["T_WHITESPACE","\n                ",1555],["T_STRING","rewind",1556],"(",["T_VARIABLE","$this",1556],["T_OBJECT_OPERATOR","->",1556],["T_STRING","content",1556],")",";",["T_WHITESPACE","\n\n                ",1556],["T_RETURN","return",1558],["T_WHITESPACE"," ",1558],["T_VARIABLE","$this",1558],["T_OBJECT_OPERATOR","->",1558],["T_STRING","content",1558],";",["T_WHITESPACE","\n            ",1558],"}",["T_WHITESPACE","\n\n            ",1559],["T_COMMENT","\/\/ Content passed in parameter (test)\n",1561],["T_WHITESPACE","            ",1562],["T_IF","if",1562],["T_WHITESPACE"," ",1562],"(",["T_STRING","is_string",1562],"(",["T_VARIABLE","$this",1562],["T_OBJECT_OPERATOR","->",1562],["T_STRING","content",1562],")",")",["T_WHITESPACE"," ",1562],"{",["T_WHITESPACE","\n                ",1562],["T_VARIABLE","$resource",1563],["T_WHITESPACE"," ",1563],"=",["T_WHITESPACE"," ",1563],["T_STRING","fopen",1563],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/temp'",1563],",",["T_WHITESPACE"," ",1563],["T_CONSTANT_ENCAPSED_STRING","'r+'",1563],")",";",["T_WHITESPACE","\n                ",1563],["T_STRING","fwrite",1564],"(",["T_VARIABLE","$resource",1564],",",["T_WHITESPACE"," ",1564],["T_VARIABLE","$this",1564],["T_OBJECT_OPERATOR","->",1564],["T_STRING","content",1564],")",";",["T_WHITESPACE","\n                ",1564],["T_STRING","rewind",1565],"(",["T_VARIABLE","$resource",1565],")",";",["T_WHITESPACE","\n\n                ",1565],["T_RETURN","return",1567],["T_WHITESPACE"," ",1567],["T_VARIABLE","$resource",1567],";",["T_WHITESPACE","\n            ",1567],"}",["T_WHITESPACE","\n\n            ",1568],["T_VARIABLE","$this",1570],["T_OBJECT_OPERATOR","->",1570],["T_STRING","content",1570],["T_WHITESPACE"," ",1570],"=",["T_WHITESPACE"," ",1570],["T_STRING","false",1570],";",["T_WHITESPACE","\n\n            ",1570],["T_RETURN","return",1572],["T_WHITESPACE"," ",1572],["T_STRING","fopen",1572],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/input'",1572],",",["T_WHITESPACE"," ",1572],["T_CONSTANT_ENCAPSED_STRING","'rb'",1572],")",";",["T_WHITESPACE","\n        ",1572],"}",["T_WHITESPACE","\n\n        ",1573],["T_IF","if",1575],["T_WHITESPACE"," ",1575],"(",["T_VARIABLE","$currentContentIsResource",1575],")",["T_WHITESPACE"," ",1575],"{",["T_WHITESPACE","\n            ",1575],["T_STRING","rewind",1576],"(",["T_VARIABLE","$this",1576],["T_OBJECT_OPERATOR","->",1576],["T_STRING","content",1576],")",";",["T_WHITESPACE","\n\n            ",1576],["T_RETURN","return",1578],["T_WHITESPACE"," ",1578],["T_STRING","stream_get_contents",1578],"(",["T_VARIABLE","$this",1578],["T_OBJECT_OPERATOR","->",1578],["T_STRING","content",1578],")",";",["T_WHITESPACE","\n        ",1578],"}",["T_WHITESPACE","\n\n        ",1579],["T_IF","if",1581],["T_WHITESPACE"," ",1581],"(",["T_STRING","null",1581],["T_WHITESPACE"," ",1581],["T_IS_IDENTICAL","===",1581],["T_WHITESPACE"," ",1581],["T_VARIABLE","$this",1581],["T_OBJECT_OPERATOR","->",1581],["T_STRING","content",1581],["T_WHITESPACE"," ",1581],["T_BOOLEAN_OR","||",1581],["T_WHITESPACE"," ",1581],["T_STRING","false",1581],["T_WHITESPACE"," ",1581],["T_IS_IDENTICAL","===",1581],["T_WHITESPACE"," ",1581],["T_VARIABLE","$this",1581],["T_OBJECT_OPERATOR","->",1581],["T_STRING","content",1581],")",["T_WHITESPACE"," ",1581],"{",["T_WHITESPACE","\n            ",1581],["T_VARIABLE","$this",1582],["T_OBJECT_OPERATOR","->",1582],["T_STRING","content",1582],["T_WHITESPACE"," ",1582],"=",["T_WHITESPACE"," ",1582],["T_STRING","file_get_contents",1582],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/input'",1582],")",";",["T_WHITESPACE","\n        ",1582],"}",["T_WHITESPACE","\n\n        ",1583],["T_RETURN","return",1585],["T_WHITESPACE"," ",1585],["T_VARIABLE","$this",1585],["T_OBJECT_OPERATOR","->",1585],["T_STRING","content",1585],";",["T_WHITESPACE","\n    ",1585],"}",["T_WHITESPACE","\n\n    ",1586],["T_DOC_COMMENT","\/**\n     * Gets the Etags.\n     *\n     * @return array The entity tags\n     *\/",1588],["T_WHITESPACE","\n    ",1592],["T_PUBLIC","public",1593],["T_WHITESPACE"," ",1593],["T_FUNCTION","function",1593],["T_WHITESPACE"," ",1593],["T_STRING","getETags",1593],"(",")",["T_WHITESPACE","\n    ",1593],"{",["T_WHITESPACE","\n        ",1594],["T_RETURN","return",1595],["T_WHITESPACE"," ",1595],["T_STRING","preg_split",1595],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s*,\\s*\/'",1595],",",["T_WHITESPACE"," ",1595],["T_VARIABLE","$this",1595],["T_OBJECT_OPERATOR","->",1595],["T_STRING","headers",1595],["T_OBJECT_OPERATOR","->",1595],["T_STRING","get",1595],"(",["T_CONSTANT_ENCAPSED_STRING","'if_none_match'",1595],")",",",["T_WHITESPACE"," ",1595],["T_STRING","null",1595],",",["T_WHITESPACE"," ",1595],["T_STRING","PREG_SPLIT_NO_EMPTY",1595],")",";",["T_WHITESPACE","\n    ",1595],"}",["T_WHITESPACE","\n\n    ",1596],["T_DOC_COMMENT","\/**\n     * @return bool\n     *\/",1598],["T_WHITESPACE","\n    ",1600],["T_PUBLIC","public",1601],["T_WHITESPACE"," ",1601],["T_FUNCTION","function",1601],["T_WHITESPACE"," ",1601],["T_STRING","isNoCache",1601],"(",")",["T_WHITESPACE","\n    ",1601],"{",["T_WHITESPACE","\n        ",1602],["T_RETURN","return",1603],["T_WHITESPACE"," ",1603],["T_VARIABLE","$this",1603],["T_OBJECT_OPERATOR","->",1603],["T_STRING","headers",1603],["T_OBJECT_OPERATOR","->",1603],["T_STRING","hasCacheControlDirective",1603],"(",["T_CONSTANT_ENCAPSED_STRING","'no-cache'",1603],")",["T_WHITESPACE"," ",1603],["T_BOOLEAN_OR","||",1603],["T_WHITESPACE"," ",1603],["T_CONSTANT_ENCAPSED_STRING","'no-cache'",1603],["T_WHITESPACE"," ",1603],["T_IS_EQUAL","==",1603],["T_WHITESPACE"," ",1603],["T_VARIABLE","$this",1603],["T_OBJECT_OPERATOR","->",1603],["T_STRING","headers",1603],["T_OBJECT_OPERATOR","->",1603],["T_STRING","get",1603],"(",["T_CONSTANT_ENCAPSED_STRING","'Pragma'",1603],")",";",["T_WHITESPACE","\n    ",1603],"}",["T_WHITESPACE","\n\n    ",1604],["T_DOC_COMMENT","\/**\n     * Returns the preferred language.\n     *\n     * @param array $locales An array of ordered available locales\n     *\n     * @return string|null The preferred locale\n     *\/",1606],["T_WHITESPACE","\n    ",1612],["T_PUBLIC","public",1613],["T_WHITESPACE"," ",1613],["T_FUNCTION","function",1613],["T_WHITESPACE"," ",1613],["T_STRING","getPreferredLanguage",1613],"(",["T_ARRAY","array",1613],["T_WHITESPACE"," ",1613],["T_VARIABLE","$locales",1613],["T_WHITESPACE"," ",1613],"=",["T_WHITESPACE"," ",1613],["T_STRING","null",1613],")",["T_WHITESPACE","\n    ",1613],"{",["T_WHITESPACE","\n        ",1614],["T_VARIABLE","$preferredLanguages",1615],["T_WHITESPACE"," ",1615],"=",["T_WHITESPACE"," ",1615],["T_VARIABLE","$this",1615],["T_OBJECT_OPERATOR","->",1615],["T_STRING","getLanguages",1615],"(",")",";",["T_WHITESPACE","\n\n        ",1615],["T_IF","if",1617],["T_WHITESPACE"," ",1617],"(",["T_EMPTY","empty",1617],"(",["T_VARIABLE","$locales",1617],")",")",["T_WHITESPACE"," ",1617],"{",["T_WHITESPACE","\n            ",1617],["T_RETURN","return",1618],["T_WHITESPACE"," ",1618],["T_ISSET","isset",1618],"(",["T_VARIABLE","$preferredLanguages",1618],"[",["T_LNUMBER","0",1618],"]",")",["T_WHITESPACE"," ",1618],"?",["T_WHITESPACE"," ",1618],["T_VARIABLE","$preferredLanguages",1618],"[",["T_LNUMBER","0",1618],"]",["T_WHITESPACE"," ",1618],":",["T_WHITESPACE"," ",1618],["T_STRING","null",1618],";",["T_WHITESPACE","\n        ",1618],"}",["T_WHITESPACE","\n\n        ",1619],["T_IF","if",1621],["T_WHITESPACE"," ",1621],"(","!",["T_VARIABLE","$preferredLanguages",1621],")",["T_WHITESPACE"," ",1621],"{",["T_WHITESPACE","\n            ",1621],["T_RETURN","return",1622],["T_WHITESPACE"," ",1622],["T_VARIABLE","$locales",1622],"[",["T_LNUMBER","0",1622],"]",";",["T_WHITESPACE","\n        ",1622],"}",["T_WHITESPACE","\n\n        ",1623],["T_VARIABLE","$extendedPreferredLanguages",1625],["T_WHITESPACE"," ",1625],"=",["T_WHITESPACE"," ",1625],["T_ARRAY","array",1625],"(",")",";",["T_WHITESPACE","\n        ",1625],["T_FOREACH","foreach",1626],["T_WHITESPACE"," ",1626],"(",["T_VARIABLE","$preferredLanguages",1626],["T_WHITESPACE"," ",1626],["T_AS","as",1626],["T_WHITESPACE"," ",1626],["T_VARIABLE","$language",1626],")",["T_WHITESPACE"," ",1626],"{",["T_WHITESPACE","\n            ",1626],["T_VARIABLE","$extendedPreferredLanguages",1627],"[","]",["T_WHITESPACE"," ",1627],"=",["T_WHITESPACE"," ",1627],["T_VARIABLE","$language",1627],";",["T_WHITESPACE","\n            ",1627],["T_IF","if",1628],["T_WHITESPACE"," ",1628],"(",["T_STRING","false",1628],["T_WHITESPACE"," ",1628],["T_IS_NOT_IDENTICAL","!==",1628],["T_WHITESPACE"," ",1628],["T_VARIABLE","$position",1628],["T_WHITESPACE"," ",1628],"=",["T_WHITESPACE"," ",1628],["T_STRING","strpos",1628],"(",["T_VARIABLE","$language",1628],",",["T_WHITESPACE"," ",1628],["T_CONSTANT_ENCAPSED_STRING","'_'",1628],")",")",["T_WHITESPACE"," ",1628],"{",["T_WHITESPACE","\n                ",1628],["T_VARIABLE","$superLanguage",1629],["T_WHITESPACE"," ",1629],"=",["T_WHITESPACE"," ",1629],["T_STRING","substr",1629],"(",["T_VARIABLE","$language",1629],",",["T_WHITESPACE"," ",1629],["T_LNUMBER","0",1629],",",["T_WHITESPACE"," ",1629],["T_VARIABLE","$position",1629],")",";",["T_WHITESPACE","\n                ",1629],["T_IF","if",1630],["T_WHITESPACE"," ",1630],"(","!",["T_STRING","in_array",1630],"(",["T_VARIABLE","$superLanguage",1630],",",["T_WHITESPACE"," ",1630],["T_VARIABLE","$preferredLanguages",1630],")",")",["T_WHITESPACE"," ",1630],"{",["T_WHITESPACE","\n                    ",1630],["T_VARIABLE","$extendedPreferredLanguages",1631],"[","]",["T_WHITESPACE"," ",1631],"=",["T_WHITESPACE"," ",1631],["T_VARIABLE","$superLanguage",1631],";",["T_WHITESPACE","\n                ",1631],"}",["T_WHITESPACE","\n            ",1632],"}",["T_WHITESPACE","\n        ",1633],"}",["T_WHITESPACE","\n\n        ",1634],["T_VARIABLE","$preferredLanguages",1636],["T_WHITESPACE"," ",1636],"=",["T_WHITESPACE"," ",1636],["T_STRING","array_values",1636],"(",["T_STRING","array_intersect",1636],"(",["T_VARIABLE","$extendedPreferredLanguages",1636],",",["T_WHITESPACE"," ",1636],["T_VARIABLE","$locales",1636],")",")",";",["T_WHITESPACE","\n\n        ",1636],["T_RETURN","return",1638],["T_WHITESPACE"," ",1638],["T_ISSET","isset",1638],"(",["T_VARIABLE","$preferredLanguages",1638],"[",["T_LNUMBER","0",1638],"]",")",["T_WHITESPACE"," ",1638],"?",["T_WHITESPACE"," ",1638],["T_VARIABLE","$preferredLanguages",1638],"[",["T_LNUMBER","0",1638],"]",["T_WHITESPACE"," ",1638],":",["T_WHITESPACE"," ",1638],["T_VARIABLE","$locales",1638],"[",["T_LNUMBER","0",1638],"]",";",["T_WHITESPACE","\n    ",1638],"}",["T_WHITESPACE","\n\n    ",1639],["T_DOC_COMMENT","\/**\n     * Gets a list of languages acceptable by the client browser.\n     *\n     * @return array Languages ordered in the user browser preferences\n     *\/",1641],["T_WHITESPACE","\n    ",1645],["T_PUBLIC","public",1646],["T_WHITESPACE"," ",1646],["T_FUNCTION","function",1646],["T_WHITESPACE"," ",1646],["T_STRING","getLanguages",1646],"(",")",["T_WHITESPACE","\n    ",1646],"{",["T_WHITESPACE","\n        ",1647],["T_IF","if",1648],["T_WHITESPACE"," ",1648],"(",["T_STRING","null",1648],["T_WHITESPACE"," ",1648],["T_IS_NOT_IDENTICAL","!==",1648],["T_WHITESPACE"," ",1648],["T_VARIABLE","$this",1648],["T_OBJECT_OPERATOR","->",1648],["T_STRING","languages",1648],")",["T_WHITESPACE"," ",1648],"{",["T_WHITESPACE","\n            ",1648],["T_RETURN","return",1649],["T_WHITESPACE"," ",1649],["T_VARIABLE","$this",1649],["T_OBJECT_OPERATOR","->",1649],["T_STRING","languages",1649],";",["T_WHITESPACE","\n        ",1649],"}",["T_WHITESPACE","\n\n        ",1650],["T_VARIABLE","$languages",1652],["T_WHITESPACE"," ",1652],"=",["T_WHITESPACE"," ",1652],["T_STRING","AcceptHeader",1652],["T_DOUBLE_COLON","::",1652],["T_STRING","fromString",1652],"(",["T_VARIABLE","$this",1652],["T_OBJECT_OPERATOR","->",1652],["T_STRING","headers",1652],["T_OBJECT_OPERATOR","->",1652],["T_STRING","get",1652],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Language'",1652],")",")",["T_OBJECT_OPERATOR","->",1652],["T_STRING","all",1652],"(",")",";",["T_WHITESPACE","\n        ",1652],["T_VARIABLE","$this",1653],["T_OBJECT_OPERATOR","->",1653],["T_STRING","languages",1653],["T_WHITESPACE"," ",1653],"=",["T_WHITESPACE"," ",1653],["T_ARRAY","array",1653],"(",")",";",["T_WHITESPACE","\n        ",1653],["T_FOREACH","foreach",1654],["T_WHITESPACE"," ",1654],"(",["T_VARIABLE","$languages",1654],["T_WHITESPACE"," ",1654],["T_AS","as",1654],["T_WHITESPACE"," ",1654],["T_VARIABLE","$lang",1654],["T_WHITESPACE"," ",1654],["T_DOUBLE_ARROW","=>",1654],["T_WHITESPACE"," ",1654],["T_VARIABLE","$acceptHeaderItem",1654],")",["T_WHITESPACE"," ",1654],"{",["T_WHITESPACE","\n            ",1654],["T_IF","if",1655],["T_WHITESPACE"," ",1655],"(",["T_STRING","false",1655],["T_WHITESPACE"," ",1655],["T_IS_NOT_IDENTICAL","!==",1655],["T_WHITESPACE"," ",1655],["T_STRING","strpos",1655],"(",["T_VARIABLE","$lang",1655],",",["T_WHITESPACE"," ",1655],["T_CONSTANT_ENCAPSED_STRING","'-'",1655],")",")",["T_WHITESPACE"," ",1655],"{",["T_WHITESPACE","\n                ",1655],["T_VARIABLE","$codes",1656],["T_WHITESPACE"," ",1656],"=",["T_WHITESPACE"," ",1656],["T_STRING","explode",1656],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",1656],",",["T_WHITESPACE"," ",1656],["T_VARIABLE","$lang",1656],")",";",["T_WHITESPACE","\n                ",1656],["T_IF","if",1657],["T_WHITESPACE"," ",1657],"(",["T_CONSTANT_ENCAPSED_STRING","'i'",1657],["T_WHITESPACE"," ",1657],["T_IS_IDENTICAL","===",1657],["T_WHITESPACE"," ",1657],["T_VARIABLE","$codes",1657],"[",["T_LNUMBER","0",1657],"]",")",["T_WHITESPACE"," ",1657],"{",["T_WHITESPACE","\n                    ",1657],["T_COMMENT","\/\/ Language not listed in ISO 639 that are not variants\n",1658],["T_WHITESPACE","                    ",1659],["T_COMMENT","\/\/ of any listed language, which can be registered with the\n",1659],["T_WHITESPACE","                    ",1660],["T_COMMENT","\/\/ i-prefix, such as i-cherokee\n",1660],["T_WHITESPACE","                    ",1661],["T_IF","if",1661],["T_WHITESPACE"," ",1661],"(",["T_STRING","count",1661],"(",["T_VARIABLE","$codes",1661],")",["T_WHITESPACE"," ",1661],">",["T_WHITESPACE"," ",1661],["T_LNUMBER","1",1661],")",["T_WHITESPACE"," ",1661],"{",["T_WHITESPACE","\n                        ",1661],["T_VARIABLE","$lang",1662],["T_WHITESPACE"," ",1662],"=",["T_WHITESPACE"," ",1662],["T_VARIABLE","$codes",1662],"[",["T_LNUMBER","1",1662],"]",";",["T_WHITESPACE","\n                    ",1662],"}",["T_WHITESPACE","\n                ",1663],"}",["T_WHITESPACE"," ",1664],["T_ELSE","else",1664],["T_WHITESPACE"," ",1664],"{",["T_WHITESPACE","\n                    ",1664],["T_FOR","for",1665],["T_WHITESPACE"," ",1665],"(",["T_VARIABLE","$i",1665],["T_WHITESPACE"," ",1665],"=",["T_WHITESPACE"," ",1665],["T_LNUMBER","0",1665],",",["T_WHITESPACE"," ",1665],["T_VARIABLE","$max",1665],["T_WHITESPACE"," ",1665],"=",["T_WHITESPACE"," ",1665],["T_STRING","count",1665],"(",["T_VARIABLE","$codes",1665],")",";",["T_WHITESPACE"," ",1665],["T_VARIABLE","$i",1665],["T_WHITESPACE"," ",1665],"<",["T_WHITESPACE"," ",1665],["T_VARIABLE","$max",1665],";",["T_WHITESPACE"," ",1665],["T_INC","++",1665],["T_VARIABLE","$i",1665],")",["T_WHITESPACE"," ",1665],"{",["T_WHITESPACE","\n                        ",1665],["T_IF","if",1666],["T_WHITESPACE"," ",1666],"(",["T_VARIABLE","$i",1666],["T_WHITESPACE"," ",1666],["T_IS_IDENTICAL","===",1666],["T_WHITESPACE"," ",1666],["T_LNUMBER","0",1666],")",["T_WHITESPACE"," ",1666],"{",["T_WHITESPACE","\n                            ",1666],["T_VARIABLE","$lang",1667],["T_WHITESPACE"," ",1667],"=",["T_WHITESPACE"," ",1667],["T_STRING","strtolower",1667],"(",["T_VARIABLE","$codes",1667],"[",["T_LNUMBER","0",1667],"]",")",";",["T_WHITESPACE","\n                        ",1667],"}",["T_WHITESPACE"," ",1668],["T_ELSE","else",1668],["T_WHITESPACE"," ",1668],"{",["T_WHITESPACE","\n                            ",1668],["T_VARIABLE","$lang",1669],["T_WHITESPACE"," ",1669],["T_CONCAT_EQUAL",".=",1669],["T_WHITESPACE"," ",1669],["T_CONSTANT_ENCAPSED_STRING","'_'",1669],".",["T_STRING","strtoupper",1669],"(",["T_VARIABLE","$codes",1669],"[",["T_VARIABLE","$i",1669],"]",")",";",["T_WHITESPACE","\n                        ",1669],"}",["T_WHITESPACE","\n                    ",1670],"}",["T_WHITESPACE","\n                ",1671],"}",["T_WHITESPACE","\n            ",1672],"}",["T_WHITESPACE","\n\n            ",1673],["T_VARIABLE","$this",1675],["T_OBJECT_OPERATOR","->",1675],["T_STRING","languages",1675],"[","]",["T_WHITESPACE"," ",1675],"=",["T_WHITESPACE"," ",1675],["T_VARIABLE","$lang",1675],";",["T_WHITESPACE","\n        ",1675],"}",["T_WHITESPACE","\n\n        ",1676],["T_RETURN","return",1678],["T_WHITESPACE"," ",1678],["T_VARIABLE","$this",1678],["T_OBJECT_OPERATOR","->",1678],["T_STRING","languages",1678],";",["T_WHITESPACE","\n    ",1678],"}",["T_WHITESPACE","\n\n    ",1679],["T_DOC_COMMENT","\/**\n     * Gets a list of charsets acceptable by the client browser.\n     *\n     * @return array List of charsets in preferable order\n     *\/",1681],["T_WHITESPACE","\n    ",1685],["T_PUBLIC","public",1686],["T_WHITESPACE"," ",1686],["T_FUNCTION","function",1686],["T_WHITESPACE"," ",1686],["T_STRING","getCharsets",1686],"(",")",["T_WHITESPACE","\n    ",1686],"{",["T_WHITESPACE","\n        ",1687],["T_IF","if",1688],["T_WHITESPACE"," ",1688],"(",["T_STRING","null",1688],["T_WHITESPACE"," ",1688],["T_IS_NOT_IDENTICAL","!==",1688],["T_WHITESPACE"," ",1688],["T_VARIABLE","$this",1688],["T_OBJECT_OPERATOR","->",1688],["T_STRING","charsets",1688],")",["T_WHITESPACE"," ",1688],"{",["T_WHITESPACE","\n            ",1688],["T_RETURN","return",1689],["T_WHITESPACE"," ",1689],["T_VARIABLE","$this",1689],["T_OBJECT_OPERATOR","->",1689],["T_STRING","charsets",1689],";",["T_WHITESPACE","\n        ",1689],"}",["T_WHITESPACE","\n\n        ",1690],["T_RETURN","return",1692],["T_WHITESPACE"," ",1692],["T_VARIABLE","$this",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","charsets",1692],["T_WHITESPACE"," ",1692],"=",["T_WHITESPACE"," ",1692],["T_STRING","array_keys",1692],"(",["T_STRING","AcceptHeader",1692],["T_DOUBLE_COLON","::",1692],["T_STRING","fromString",1692],"(",["T_VARIABLE","$this",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","headers",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","get",1692],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Charset'",1692],")",")",["T_OBJECT_OPERATOR","->",1692],["T_STRING","all",1692],"(",")",")",";",["T_WHITESPACE","\n    ",1692],"}",["T_WHITESPACE","\n\n    ",1693],["T_DOC_COMMENT","\/**\n     * Gets a list of encodings acceptable by the client browser.\n     *\n     * @return array List of encodings in preferable order\n     *\/",1695],["T_WHITESPACE","\n    ",1699],["T_PUBLIC","public",1700],["T_WHITESPACE"," ",1700],["T_FUNCTION","function",1700],["T_WHITESPACE"," ",1700],["T_STRING","getEncodings",1700],"(",")",["T_WHITESPACE","\n    ",1700],"{",["T_WHITESPACE","\n        ",1701],["T_IF","if",1702],["T_WHITESPACE"," ",1702],"(",["T_STRING","null",1702],["T_WHITESPACE"," ",1702],["T_IS_NOT_IDENTICAL","!==",1702],["T_WHITESPACE"," ",1702],["T_VARIABLE","$this",1702],["T_OBJECT_OPERATOR","->",1702],["T_STRING","encodings",1702],")",["T_WHITESPACE"," ",1702],"{",["T_WHITESPACE","\n            ",1702],["T_RETURN","return",1703],["T_WHITESPACE"," ",1703],["T_VARIABLE","$this",1703],["T_OBJECT_OPERATOR","->",1703],["T_STRING","encodings",1703],";",["T_WHITESPACE","\n        ",1703],"}",["T_WHITESPACE","\n\n        ",1704],["T_RETURN","return",1706],["T_WHITESPACE"," ",1706],["T_VARIABLE","$this",1706],["T_OBJECT_OPERATOR","->",1706],["T_STRING","encodings",1706],["T_WHITESPACE"," ",1706],"=",["T_WHITESPACE"," ",1706],["T_STRING","array_keys",1706],"(",["T_STRING","AcceptHeader",1706],["T_DOUBLE_COLON","::",1706],["T_STRING","fromString",1706],"(",["T_VARIABLE","$this",1706],["T_OBJECT_OPERATOR","->",1706],["T_STRING","headers",1706],["T_OBJECT_OPERATOR","->",1706],["T_STRING","get",1706],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Encoding'",1706],")",")",["T_OBJECT_OPERATOR","->",1706],["T_STRING","all",1706],"(",")",")",";",["T_WHITESPACE","\n    ",1706],"}",["T_WHITESPACE","\n\n    ",1707],["T_DOC_COMMENT","\/**\n     * Gets a list of content types acceptable by the client browser.\n     *\n     * @return array List of content types in preferable order\n     *\/",1709],["T_WHITESPACE","\n    ",1713],["T_PUBLIC","public",1714],["T_WHITESPACE"," ",1714],["T_FUNCTION","function",1714],["T_WHITESPACE"," ",1714],["T_STRING","getAcceptableContentTypes",1714],"(",")",["T_WHITESPACE","\n    ",1714],"{",["T_WHITESPACE","\n        ",1715],["T_IF","if",1716],["T_WHITESPACE"," ",1716],"(",["T_STRING","null",1716],["T_WHITESPACE"," ",1716],["T_IS_NOT_IDENTICAL","!==",1716],["T_WHITESPACE"," ",1716],["T_VARIABLE","$this",1716],["T_OBJECT_OPERATOR","->",1716],["T_STRING","acceptableContentTypes",1716],")",["T_WHITESPACE"," ",1716],"{",["T_WHITESPACE","\n            ",1716],["T_RETURN","return",1717],["T_WHITESPACE"," ",1717],["T_VARIABLE","$this",1717],["T_OBJECT_OPERATOR","->",1717],["T_STRING","acceptableContentTypes",1717],";",["T_WHITESPACE","\n        ",1717],"}",["T_WHITESPACE","\n\n        ",1718],["T_RETURN","return",1720],["T_WHITESPACE"," ",1720],["T_VARIABLE","$this",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","acceptableContentTypes",1720],["T_WHITESPACE"," ",1720],"=",["T_WHITESPACE"," ",1720],["T_STRING","array_keys",1720],"(",["T_STRING","AcceptHeader",1720],["T_DOUBLE_COLON","::",1720],["T_STRING","fromString",1720],"(",["T_VARIABLE","$this",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","headers",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","get",1720],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept'",1720],")",")",["T_OBJECT_OPERATOR","->",1720],["T_STRING","all",1720],"(",")",")",";",["T_WHITESPACE","\n    ",1720],"}",["T_WHITESPACE","\n\n    ",1721],["T_DOC_COMMENT","\/**\n     * Returns true if the request is a XMLHttpRequest.\n     *\n     * It works if your JavaScript library sets an X-Requested-With HTTP header.\n     * It is known to work with common JavaScript frameworks:\n     *\n     * @see http:\/\/en.wikipedia.org\/wiki\/List_of_Ajax_frameworks#JavaScript\n     *\n     * @return bool true if the request is an XMLHttpRequest, false otherwise\n     *\/",1723],["T_WHITESPACE","\n    ",1732],["T_PUBLIC","public",1733],["T_WHITESPACE"," ",1733],["T_FUNCTION","function",1733],["T_WHITESPACE"," ",1733],["T_STRING","isXmlHttpRequest",1733],"(",")",["T_WHITESPACE","\n    ",1733],"{",["T_WHITESPACE","\n        ",1734],["T_RETURN","return",1735],["T_WHITESPACE"," ",1735],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",1735],["T_WHITESPACE"," ",1735],["T_IS_EQUAL","==",1735],["T_WHITESPACE"," ",1735],["T_VARIABLE","$this",1735],["T_OBJECT_OPERATOR","->",1735],["T_STRING","headers",1735],["T_OBJECT_OPERATOR","->",1735],["T_STRING","get",1735],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Requested-With'",1735],")",";",["T_WHITESPACE","\n    ",1735],"}",["T_WHITESPACE","\n\n    ",1736],["T_COMMENT","\/*\n     * The following methods are derived from code of the Zend Framework (1.10dev - 2010-01-24)\n     *\n     * Code subject to the new BSD license (http:\/\/framework.zend.com\/license\/new-bsd).\n     *\n     * Copyright (c) 2005-2010 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n     *\/",1738],["T_WHITESPACE","\n\n    ",1744],["T_PROTECTED","protected",1746],["T_WHITESPACE"," ",1746],["T_FUNCTION","function",1746],["T_WHITESPACE"," ",1746],["T_STRING","prepareRequestUri",1746],"(",")",["T_WHITESPACE","\n    ",1746],"{",["T_WHITESPACE","\n        ",1747],["T_VARIABLE","$requestUri",1748],["T_WHITESPACE"," ",1748],"=",["T_WHITESPACE"," ",1748],["T_CONSTANT_ENCAPSED_STRING","''",1748],";",["T_WHITESPACE","\n\n        ",1748],["T_IF","if",1750],["T_WHITESPACE"," ",1750],"(",["T_VARIABLE","$this",1750],["T_OBJECT_OPERATOR","->",1750],["T_STRING","headers",1750],["T_OBJECT_OPERATOR","->",1750],["T_STRING","has",1750],"(",["T_CONSTANT_ENCAPSED_STRING","'X_ORIGINAL_URL'",1750],")",")",["T_WHITESPACE"," ",1750],"{",["T_WHITESPACE","\n            ",1750],["T_COMMENT","\/\/ IIS with Microsoft Rewrite Module\n",1751],["T_WHITESPACE","            ",1752],["T_VARIABLE","$requestUri",1752],["T_WHITESPACE"," ",1752],"=",["T_WHITESPACE"," ",1752],["T_VARIABLE","$this",1752],["T_OBJECT_OPERATOR","->",1752],["T_STRING","headers",1752],["T_OBJECT_OPERATOR","->",1752],["T_STRING","get",1752],"(",["T_CONSTANT_ENCAPSED_STRING","'X_ORIGINAL_URL'",1752],")",";",["T_WHITESPACE","\n            ",1752],["T_VARIABLE","$this",1753],["T_OBJECT_OPERATOR","->",1753],["T_STRING","headers",1753],["T_OBJECT_OPERATOR","->",1753],["T_STRING","remove",1753],"(",["T_CONSTANT_ENCAPSED_STRING","'X_ORIGINAL_URL'",1753],")",";",["T_WHITESPACE","\n            ",1753],["T_VARIABLE","$this",1754],["T_OBJECT_OPERATOR","->",1754],["T_STRING","server",1754],["T_OBJECT_OPERATOR","->",1754],["T_STRING","remove",1754],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_ORIGINAL_URL'",1754],")",";",["T_WHITESPACE","\n            ",1754],["T_VARIABLE","$this",1755],["T_OBJECT_OPERATOR","->",1755],["T_STRING","server",1755],["T_OBJECT_OPERATOR","->",1755],["T_STRING","remove",1755],"(",["T_CONSTANT_ENCAPSED_STRING","'UNENCODED_URL'",1755],")",";",["T_WHITESPACE","\n            ",1755],["T_VARIABLE","$this",1756],["T_OBJECT_OPERATOR","->",1756],["T_STRING","server",1756],["T_OBJECT_OPERATOR","->",1756],["T_STRING","remove",1756],"(",["T_CONSTANT_ENCAPSED_STRING","'IIS_WasUrlRewritten'",1756],")",";",["T_WHITESPACE","\n        ",1756],"}",["T_WHITESPACE"," ",1757],["T_ELSEIF","elseif",1757],["T_WHITESPACE"," ",1757],"(",["T_VARIABLE","$this",1757],["T_OBJECT_OPERATOR","->",1757],["T_STRING","headers",1757],["T_OBJECT_OPERATOR","->",1757],["T_STRING","has",1757],"(",["T_CONSTANT_ENCAPSED_STRING","'X_REWRITE_URL'",1757],")",")",["T_WHITESPACE"," ",1757],"{",["T_WHITESPACE","\n            ",1757],["T_COMMENT","\/\/ IIS with ISAPI_Rewrite\n",1758],["T_WHITESPACE","            ",1759],["T_VARIABLE","$requestUri",1759],["T_WHITESPACE"," ",1759],"=",["T_WHITESPACE"," ",1759],["T_VARIABLE","$this",1759],["T_OBJECT_OPERATOR","->",1759],["T_STRING","headers",1759],["T_OBJECT_OPERATOR","->",1759],["T_STRING","get",1759],"(",["T_CONSTANT_ENCAPSED_STRING","'X_REWRITE_URL'",1759],")",";",["T_WHITESPACE","\n            ",1759],["T_VARIABLE","$this",1760],["T_OBJECT_OPERATOR","->",1760],["T_STRING","headers",1760],["T_OBJECT_OPERATOR","->",1760],["T_STRING","remove",1760],"(",["T_CONSTANT_ENCAPSED_STRING","'X_REWRITE_URL'",1760],")",";",["T_WHITESPACE","\n        ",1760],"}",["T_WHITESPACE"," ",1761],["T_ELSEIF","elseif",1761],["T_WHITESPACE"," ",1761],"(",["T_VARIABLE","$this",1761],["T_OBJECT_OPERATOR","->",1761],["T_STRING","server",1761],["T_OBJECT_OPERATOR","->",1761],["T_STRING","get",1761],"(",["T_CONSTANT_ENCAPSED_STRING","'IIS_WasUrlRewritten'",1761],")",["T_WHITESPACE"," ",1761],["T_IS_EQUAL","==",1761],["T_WHITESPACE"," ",1761],["T_CONSTANT_ENCAPSED_STRING","'1'",1761],["T_WHITESPACE"," ",1761],["T_BOOLEAN_AND","&&",1761],["T_WHITESPACE"," ",1761],["T_VARIABLE","$this",1761],["T_OBJECT_OPERATOR","->",1761],["T_STRING","server",1761],["T_OBJECT_OPERATOR","->",1761],["T_STRING","get",1761],"(",["T_CONSTANT_ENCAPSED_STRING","'UNENCODED_URL'",1761],")",["T_WHITESPACE"," ",1761],["T_IS_NOT_EQUAL","!=",1761],["T_WHITESPACE"," ",1761],["T_CONSTANT_ENCAPSED_STRING","''",1761],")",["T_WHITESPACE"," ",1761],"{",["T_WHITESPACE","\n            ",1761],["T_COMMENT","\/\/ IIS7 with URL Rewrite: make sure we get the unencoded URL (double slash problem)\n",1762],["T_WHITESPACE","            ",1763],["T_VARIABLE","$requestUri",1763],["T_WHITESPACE"," ",1763],"=",["T_WHITESPACE"," ",1763],["T_VARIABLE","$this",1763],["T_OBJECT_OPERATOR","->",1763],["T_STRING","server",1763],["T_OBJECT_OPERATOR","->",1763],["T_STRING","get",1763],"(",["T_CONSTANT_ENCAPSED_STRING","'UNENCODED_URL'",1763],")",";",["T_WHITESPACE","\n            ",1763],["T_VARIABLE","$this",1764],["T_OBJECT_OPERATOR","->",1764],["T_STRING","server",1764],["T_OBJECT_OPERATOR","->",1764],["T_STRING","remove",1764],"(",["T_CONSTANT_ENCAPSED_STRING","'UNENCODED_URL'",1764],")",";",["T_WHITESPACE","\n            ",1764],["T_VARIABLE","$this",1765],["T_OBJECT_OPERATOR","->",1765],["T_STRING","server",1765],["T_OBJECT_OPERATOR","->",1765],["T_STRING","remove",1765],"(",["T_CONSTANT_ENCAPSED_STRING","'IIS_WasUrlRewritten'",1765],")",";",["T_WHITESPACE","\n        ",1765],"}",["T_WHITESPACE"," ",1766],["T_ELSEIF","elseif",1766],["T_WHITESPACE"," ",1766],"(",["T_VARIABLE","$this",1766],["T_OBJECT_OPERATOR","->",1766],["T_STRING","server",1766],["T_OBJECT_OPERATOR","->",1766],["T_STRING","has",1766],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",1766],")",")",["T_WHITESPACE"," ",1766],"{",["T_WHITESPACE","\n            ",1766],["T_VARIABLE","$requestUri",1767],["T_WHITESPACE"," ",1767],"=",["T_WHITESPACE"," ",1767],["T_VARIABLE","$this",1767],["T_OBJECT_OPERATOR","->",1767],["T_STRING","server",1767],["T_OBJECT_OPERATOR","->",1767],["T_STRING","get",1767],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",1767],")",";",["T_WHITESPACE","\n            ",1767],["T_COMMENT","\/\/ HTTP proxy reqs setup request URI with scheme and host [and port] + the URL path, only use URL path\n",1768],["T_WHITESPACE","            ",1769],["T_VARIABLE","$schemeAndHttpHost",1769],["T_WHITESPACE"," ",1769],"=",["T_WHITESPACE"," ",1769],["T_VARIABLE","$this",1769],["T_OBJECT_OPERATOR","->",1769],["T_STRING","getSchemeAndHttpHost",1769],"(",")",";",["T_WHITESPACE","\n            ",1769],["T_IF","if",1770],["T_WHITESPACE"," ",1770],"(",["T_STRING","strpos",1770],"(",["T_VARIABLE","$requestUri",1770],",",["T_WHITESPACE"," ",1770],["T_VARIABLE","$schemeAndHttpHost",1770],")",["T_WHITESPACE"," ",1770],["T_IS_IDENTICAL","===",1770],["T_WHITESPACE"," ",1770],["T_LNUMBER","0",1770],")",["T_WHITESPACE"," ",1770],"{",["T_WHITESPACE","\n                ",1770],["T_VARIABLE","$requestUri",1771],["T_WHITESPACE"," ",1771],"=",["T_WHITESPACE"," ",1771],["T_STRING","substr",1771],"(",["T_VARIABLE","$requestUri",1771],",",["T_WHITESPACE"," ",1771],["T_STRING","strlen",1771],"(",["T_VARIABLE","$schemeAndHttpHost",1771],")",")",";",["T_WHITESPACE","\n            ",1771],"}",["T_WHITESPACE","\n        ",1772],"}",["T_WHITESPACE"," ",1773],["T_ELSEIF","elseif",1773],["T_WHITESPACE"," ",1773],"(",["T_VARIABLE","$this",1773],["T_OBJECT_OPERATOR","->",1773],["T_STRING","server",1773],["T_OBJECT_OPERATOR","->",1773],["T_STRING","has",1773],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIG_PATH_INFO'",1773],")",")",["T_WHITESPACE"," ",1773],"{",["T_WHITESPACE","\n            ",1773],["T_COMMENT","\/\/ IIS 5.0, PHP as CGI\n",1774],["T_WHITESPACE","            ",1775],["T_VARIABLE","$requestUri",1775],["T_WHITESPACE"," ",1775],"=",["T_WHITESPACE"," ",1775],["T_VARIABLE","$this",1775],["T_OBJECT_OPERATOR","->",1775],["T_STRING","server",1775],["T_OBJECT_OPERATOR","->",1775],["T_STRING","get",1775],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIG_PATH_INFO'",1775],")",";",["T_WHITESPACE","\n            ",1775],["T_IF","if",1776],["T_WHITESPACE"," ",1776],"(",["T_CONSTANT_ENCAPSED_STRING","''",1776],["T_WHITESPACE"," ",1776],["T_IS_NOT_EQUAL","!=",1776],["T_WHITESPACE"," ",1776],["T_VARIABLE","$this",1776],["T_OBJECT_OPERATOR","->",1776],["T_STRING","server",1776],["T_OBJECT_OPERATOR","->",1776],["T_STRING","get",1776],"(",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",1776],")",")",["T_WHITESPACE"," ",1776],"{",["T_WHITESPACE","\n                ",1776],["T_VARIABLE","$requestUri",1777],["T_WHITESPACE"," ",1777],["T_CONCAT_EQUAL",".=",1777],["T_WHITESPACE"," ",1777],["T_CONSTANT_ENCAPSED_STRING","'?'",1777],".",["T_VARIABLE","$this",1777],["T_OBJECT_OPERATOR","->",1777],["T_STRING","server",1777],["T_OBJECT_OPERATOR","->",1777],["T_STRING","get",1777],"(",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",1777],")",";",["T_WHITESPACE","\n            ",1777],"}",["T_WHITESPACE","\n            ",1778],["T_VARIABLE","$this",1779],["T_OBJECT_OPERATOR","->",1779],["T_STRING","server",1779],["T_OBJECT_OPERATOR","->",1779],["T_STRING","remove",1779],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIG_PATH_INFO'",1779],")",";",["T_WHITESPACE","\n        ",1779],"}",["T_WHITESPACE","\n\n        ",1780],["T_COMMENT","\/\/ normalize the request URI to ease creating sub-requests from this request\n",1782],["T_WHITESPACE","        ",1783],["T_VARIABLE","$this",1783],["T_OBJECT_OPERATOR","->",1783],["T_STRING","server",1783],["T_OBJECT_OPERATOR","->",1783],["T_STRING","set",1783],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",1783],",",["T_WHITESPACE"," ",1783],["T_VARIABLE","$requestUri",1783],")",";",["T_WHITESPACE","\n\n        ",1783],["T_RETURN","return",1785],["T_WHITESPACE"," ",1785],["T_VARIABLE","$requestUri",1785],";",["T_WHITESPACE","\n    ",1785],"}",["T_WHITESPACE","\n\n    ",1786],["T_DOC_COMMENT","\/**\n     * Prepares the base URL.\n     *\n     * @return string\n     *\/",1788],["T_WHITESPACE","\n    ",1792],["T_PROTECTED","protected",1793],["T_WHITESPACE"," ",1793],["T_FUNCTION","function",1793],["T_WHITESPACE"," ",1793],["T_STRING","prepareBaseUrl",1793],"(",")",["T_WHITESPACE","\n    ",1793],"{",["T_WHITESPACE","\n        ",1794],["T_VARIABLE","$filename",1795],["T_WHITESPACE"," ",1795],"=",["T_WHITESPACE"," ",1795],["T_STRING","basename",1795],"(",["T_VARIABLE","$this",1795],["T_OBJECT_OPERATOR","->",1795],["T_STRING","server",1795],["T_OBJECT_OPERATOR","->",1795],["T_STRING","get",1795],"(",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1795],")",")",";",["T_WHITESPACE","\n\n        ",1795],["T_IF","if",1797],["T_WHITESPACE"," ",1797],"(",["T_STRING","basename",1797],"(",["T_VARIABLE","$this",1797],["T_OBJECT_OPERATOR","->",1797],["T_STRING","server",1797],["T_OBJECT_OPERATOR","->",1797],["T_STRING","get",1797],"(",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1797],")",")",["T_WHITESPACE"," ",1797],["T_IS_IDENTICAL","===",1797],["T_WHITESPACE"," ",1797],["T_VARIABLE","$filename",1797],")",["T_WHITESPACE"," ",1797],"{",["T_WHITESPACE","\n            ",1797],["T_VARIABLE","$baseUrl",1798],["T_WHITESPACE"," ",1798],"=",["T_WHITESPACE"," ",1798],["T_VARIABLE","$this",1798],["T_OBJECT_OPERATOR","->",1798],["T_STRING","server",1798],["T_OBJECT_OPERATOR","->",1798],["T_STRING","get",1798],"(",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1798],")",";",["T_WHITESPACE","\n        ",1798],"}",["T_WHITESPACE"," ",1799],["T_ELSEIF","elseif",1799],["T_WHITESPACE"," ",1799],"(",["T_STRING","basename",1799],"(",["T_VARIABLE","$this",1799],["T_OBJECT_OPERATOR","->",1799],["T_STRING","server",1799],["T_OBJECT_OPERATOR","->",1799],["T_STRING","get",1799],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1799],")",")",["T_WHITESPACE"," ",1799],["T_IS_IDENTICAL","===",1799],["T_WHITESPACE"," ",1799],["T_VARIABLE","$filename",1799],")",["T_WHITESPACE"," ",1799],"{",["T_WHITESPACE","\n            ",1799],["T_VARIABLE","$baseUrl",1800],["T_WHITESPACE"," ",1800],"=",["T_WHITESPACE"," ",1800],["T_VARIABLE","$this",1800],["T_OBJECT_OPERATOR","->",1800],["T_STRING","server",1800],["T_OBJECT_OPERATOR","->",1800],["T_STRING","get",1800],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1800],")",";",["T_WHITESPACE","\n        ",1800],"}",["T_WHITESPACE"," ",1801],["T_ELSEIF","elseif",1801],["T_WHITESPACE"," ",1801],"(",["T_STRING","basename",1801],"(",["T_VARIABLE","$this",1801],["T_OBJECT_OPERATOR","->",1801],["T_STRING","server",1801],["T_OBJECT_OPERATOR","->",1801],["T_STRING","get",1801],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIG_SCRIPT_NAME'",1801],")",")",["T_WHITESPACE"," ",1801],["T_IS_IDENTICAL","===",1801],["T_WHITESPACE"," ",1801],["T_VARIABLE","$filename",1801],")",["T_WHITESPACE"," ",1801],"{",["T_WHITESPACE","\n            ",1801],["T_VARIABLE","$baseUrl",1802],["T_WHITESPACE"," ",1802],"=",["T_WHITESPACE"," ",1802],["T_VARIABLE","$this",1802],["T_OBJECT_OPERATOR","->",1802],["T_STRING","server",1802],["T_OBJECT_OPERATOR","->",1802],["T_STRING","get",1802],"(",["T_CONSTANT_ENCAPSED_STRING","'ORIG_SCRIPT_NAME'",1802],")",";",["T_WHITESPACE"," ",1802],["T_COMMENT","\/\/ 1and1 shared hosting compatibility\n",1802],["T_WHITESPACE","        ",1803],"}",["T_WHITESPACE"," ",1803],["T_ELSE","else",1803],["T_WHITESPACE"," ",1803],"{",["T_WHITESPACE","\n            ",1803],["T_COMMENT","\/\/ Backtrack up the script_filename to find the portion matching\n",1804],["T_WHITESPACE","            ",1805],["T_COMMENT","\/\/ php_self\n",1805],["T_WHITESPACE","            ",1806],["T_VARIABLE","$path",1806],["T_WHITESPACE"," ",1806],"=",["T_WHITESPACE"," ",1806],["T_VARIABLE","$this",1806],["T_OBJECT_OPERATOR","->",1806],["T_STRING","server",1806],["T_OBJECT_OPERATOR","->",1806],["T_STRING","get",1806],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1806],",",["T_WHITESPACE"," ",1806],["T_CONSTANT_ENCAPSED_STRING","''",1806],")",";",["T_WHITESPACE","\n            ",1806],["T_VARIABLE","$file",1807],["T_WHITESPACE"," ",1807],"=",["T_WHITESPACE"," ",1807],["T_VARIABLE","$this",1807],["T_OBJECT_OPERATOR","->",1807],["T_STRING","server",1807],["T_OBJECT_OPERATOR","->",1807],["T_STRING","get",1807],"(",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1807],",",["T_WHITESPACE"," ",1807],["T_CONSTANT_ENCAPSED_STRING","''",1807],")",";",["T_WHITESPACE","\n            ",1807],["T_VARIABLE","$segs",1808],["T_WHITESPACE"," ",1808],"=",["T_WHITESPACE"," ",1808],["T_STRING","explode",1808],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1808],",",["T_WHITESPACE"," ",1808],["T_STRING","trim",1808],"(",["T_VARIABLE","$file",1808],",",["T_WHITESPACE"," ",1808],["T_CONSTANT_ENCAPSED_STRING","'\/'",1808],")",")",";",["T_WHITESPACE","\n            ",1808],["T_VARIABLE","$segs",1809],["T_WHITESPACE"," ",1809],"=",["T_WHITESPACE"," ",1809],["T_STRING","array_reverse",1809],"(",["T_VARIABLE","$segs",1809],")",";",["T_WHITESPACE","\n            ",1809],["T_VARIABLE","$index",1810],["T_WHITESPACE"," ",1810],"=",["T_WHITESPACE"," ",1810],["T_LNUMBER","0",1810],";",["T_WHITESPACE","\n            ",1810],["T_VARIABLE","$last",1811],["T_WHITESPACE"," ",1811],"=",["T_WHITESPACE"," ",1811],["T_STRING","count",1811],"(",["T_VARIABLE","$segs",1811],")",";",["T_WHITESPACE","\n            ",1811],["T_VARIABLE","$baseUrl",1812],["T_WHITESPACE"," ",1812],"=",["T_WHITESPACE"," ",1812],["T_CONSTANT_ENCAPSED_STRING","''",1812],";",["T_WHITESPACE","\n            ",1812],["T_DO","do",1813],["T_WHITESPACE"," ",1813],"{",["T_WHITESPACE","\n                ",1813],["T_VARIABLE","$seg",1814],["T_WHITESPACE"," ",1814],"=",["T_WHITESPACE"," ",1814],["T_VARIABLE","$segs",1814],"[",["T_VARIABLE","$index",1814],"]",";",["T_WHITESPACE","\n                ",1814],["T_VARIABLE","$baseUrl",1815],["T_WHITESPACE"," ",1815],"=",["T_WHITESPACE"," ",1815],["T_CONSTANT_ENCAPSED_STRING","'\/'",1815],".",["T_VARIABLE","$seg",1815],".",["T_VARIABLE","$baseUrl",1815],";",["T_WHITESPACE","\n                ",1815],["T_INC","++",1816],["T_VARIABLE","$index",1816],";",["T_WHITESPACE","\n            ",1816],"}",["T_WHITESPACE"," ",1817],["T_WHILE","while",1817],["T_WHITESPACE"," ",1817],"(",["T_VARIABLE","$last",1817],["T_WHITESPACE"," ",1817],">",["T_WHITESPACE"," ",1817],["T_VARIABLE","$index",1817],["T_WHITESPACE"," ",1817],["T_BOOLEAN_AND","&&",1817],["T_WHITESPACE"," ",1817],"(",["T_STRING","false",1817],["T_WHITESPACE"," ",1817],["T_IS_NOT_IDENTICAL","!==",1817],["T_WHITESPACE"," ",1817],["T_VARIABLE","$pos",1817],["T_WHITESPACE"," ",1817],"=",["T_WHITESPACE"," ",1817],["T_STRING","strpos",1817],"(",["T_VARIABLE","$path",1817],",",["T_WHITESPACE"," ",1817],["T_VARIABLE","$baseUrl",1817],")",")",["T_WHITESPACE"," ",1817],["T_BOOLEAN_AND","&&",1817],["T_WHITESPACE"," ",1817],["T_LNUMBER","0",1817],["T_WHITESPACE"," ",1817],["T_IS_NOT_EQUAL","!=",1817],["T_WHITESPACE"," ",1817],["T_VARIABLE","$pos",1817],")",";",["T_WHITESPACE","\n        ",1817],"}",["T_WHITESPACE","\n\n        ",1818],["T_COMMENT","\/\/ Does the baseUrl have anything in common with the request_uri?\n",1820],["T_WHITESPACE","        ",1821],["T_VARIABLE","$requestUri",1821],["T_WHITESPACE"," ",1821],"=",["T_WHITESPACE"," ",1821],["T_VARIABLE","$this",1821],["T_OBJECT_OPERATOR","->",1821],["T_STRING","getRequestUri",1821],"(",")",";",["T_WHITESPACE","\n\n        ",1821],["T_IF","if",1823],["T_WHITESPACE"," ",1823],"(",["T_VARIABLE","$baseUrl",1823],["T_WHITESPACE"," ",1823],["T_BOOLEAN_AND","&&",1823],["T_WHITESPACE"," ",1823],["T_STRING","false",1823],["T_WHITESPACE"," ",1823],["T_IS_NOT_IDENTICAL","!==",1823],["T_WHITESPACE"," ",1823],["T_VARIABLE","$prefix",1823],["T_WHITESPACE"," ",1823],"=",["T_WHITESPACE"," ",1823],["T_VARIABLE","$this",1823],["T_OBJECT_OPERATOR","->",1823],["T_STRING","getUrlencodedPrefix",1823],"(",["T_VARIABLE","$requestUri",1823],",",["T_WHITESPACE"," ",1823],["T_VARIABLE","$baseUrl",1823],")",")",["T_WHITESPACE"," ",1823],"{",["T_WHITESPACE","\n            ",1823],["T_COMMENT","\/\/ full $baseUrl matches\n",1824],["T_WHITESPACE","            ",1825],["T_RETURN","return",1825],["T_WHITESPACE"," ",1825],["T_VARIABLE","$prefix",1825],";",["T_WHITESPACE","\n        ",1825],"}",["T_WHITESPACE","\n\n        ",1826],["T_IF","if",1828],["T_WHITESPACE"," ",1828],"(",["T_VARIABLE","$baseUrl",1828],["T_WHITESPACE"," ",1828],["T_BOOLEAN_AND","&&",1828],["T_WHITESPACE"," ",1828],["T_STRING","false",1828],["T_WHITESPACE"," ",1828],["T_IS_NOT_IDENTICAL","!==",1828],["T_WHITESPACE"," ",1828],["T_VARIABLE","$prefix",1828],["T_WHITESPACE"," ",1828],"=",["T_WHITESPACE"," ",1828],["T_VARIABLE","$this",1828],["T_OBJECT_OPERATOR","->",1828],["T_STRING","getUrlencodedPrefix",1828],"(",["T_VARIABLE","$requestUri",1828],",",["T_WHITESPACE"," ",1828],["T_STRING","rtrim",1828],"(",["T_STRING","dirname",1828],"(",["T_VARIABLE","$baseUrl",1828],")",",",["T_WHITESPACE"," ",1828],["T_CONSTANT_ENCAPSED_STRING","'\/'",1828],".",["T_STRING","DIRECTORY_SEPARATOR",1828],")",".",["T_CONSTANT_ENCAPSED_STRING","'\/'",1828],")",")",["T_WHITESPACE"," ",1828],"{",["T_WHITESPACE","\n            ",1828],["T_COMMENT","\/\/ directory portion of $baseUrl matches\n",1829],["T_WHITESPACE","            ",1830],["T_RETURN","return",1830],["T_WHITESPACE"," ",1830],["T_STRING","rtrim",1830],"(",["T_VARIABLE","$prefix",1830],",",["T_WHITESPACE"," ",1830],["T_CONSTANT_ENCAPSED_STRING","'\/'",1830],".",["T_STRING","DIRECTORY_SEPARATOR",1830],")",";",["T_WHITESPACE","\n        ",1830],"}",["T_WHITESPACE","\n\n        ",1831],["T_VARIABLE","$truncatedRequestUri",1833],["T_WHITESPACE"," ",1833],"=",["T_WHITESPACE"," ",1833],["T_VARIABLE","$requestUri",1833],";",["T_WHITESPACE","\n        ",1833],["T_IF","if",1834],["T_WHITESPACE"," ",1834],"(",["T_STRING","false",1834],["T_WHITESPACE"," ",1834],["T_IS_NOT_IDENTICAL","!==",1834],["T_WHITESPACE"," ",1834],["T_VARIABLE","$pos",1834],["T_WHITESPACE"," ",1834],"=",["T_WHITESPACE"," ",1834],["T_STRING","strpos",1834],"(",["T_VARIABLE","$requestUri",1834],",",["T_WHITESPACE"," ",1834],["T_CONSTANT_ENCAPSED_STRING","'?'",1834],")",")",["T_WHITESPACE"," ",1834],"{",["T_WHITESPACE","\n            ",1834],["T_VARIABLE","$truncatedRequestUri",1835],["T_WHITESPACE"," ",1835],"=",["T_WHITESPACE"," ",1835],["T_STRING","substr",1835],"(",["T_VARIABLE","$requestUri",1835],",",["T_WHITESPACE"," ",1835],["T_LNUMBER","0",1835],",",["T_WHITESPACE"," ",1835],["T_VARIABLE","$pos",1835],")",";",["T_WHITESPACE","\n        ",1835],"}",["T_WHITESPACE","\n\n        ",1836],["T_VARIABLE","$basename",1838],["T_WHITESPACE"," ",1838],"=",["T_WHITESPACE"," ",1838],["T_STRING","basename",1838],"(",["T_VARIABLE","$baseUrl",1838],")",";",["T_WHITESPACE","\n        ",1838],["T_IF","if",1839],["T_WHITESPACE"," ",1839],"(",["T_EMPTY","empty",1839],"(",["T_VARIABLE","$basename",1839],")",["T_WHITESPACE"," ",1839],["T_BOOLEAN_OR","||",1839],["T_WHITESPACE"," ",1839],"!",["T_STRING","strpos",1839],"(",["T_STRING","rawurldecode",1839],"(",["T_VARIABLE","$truncatedRequestUri",1839],")",",",["T_WHITESPACE"," ",1839],["T_VARIABLE","$basename",1839],")",")",["T_WHITESPACE"," ",1839],"{",["T_WHITESPACE","\n            ",1839],["T_COMMENT","\/\/ no match whatsoever; set it blank\n",1840],["T_WHITESPACE","            ",1841],["T_RETURN","return",1841],["T_WHITESPACE"," ",1841],["T_CONSTANT_ENCAPSED_STRING","''",1841],";",["T_WHITESPACE","\n        ",1841],"}",["T_WHITESPACE","\n\n        ",1842],["T_COMMENT","\/\/ If using mod_rewrite or ISAPI_Rewrite strip the script filename\n",1844],["T_WHITESPACE","        ",1845],["T_COMMENT","\/\/ out of baseUrl. $pos !== 0 makes sure it is not matching a value\n",1845],["T_WHITESPACE","        ",1846],["T_COMMENT","\/\/ from PATH_INFO or QUERY_STRING\n",1846],["T_WHITESPACE","        ",1847],["T_IF","if",1847],["T_WHITESPACE"," ",1847],"(",["T_STRING","strlen",1847],"(",["T_VARIABLE","$requestUri",1847],")",["T_WHITESPACE"," ",1847],["T_IS_GREATER_OR_EQUAL",">=",1847],["T_WHITESPACE"," ",1847],["T_STRING","strlen",1847],"(",["T_VARIABLE","$baseUrl",1847],")",["T_WHITESPACE"," ",1847],["T_BOOLEAN_AND","&&",1847],["T_WHITESPACE"," ",1847],"(",["T_STRING","false",1847],["T_WHITESPACE"," ",1847],["T_IS_NOT_IDENTICAL","!==",1847],["T_WHITESPACE"," ",1847],["T_VARIABLE","$pos",1847],["T_WHITESPACE"," ",1847],"=",["T_WHITESPACE"," ",1847],["T_STRING","strpos",1847],"(",["T_VARIABLE","$requestUri",1847],",",["T_WHITESPACE"," ",1847],["T_VARIABLE","$baseUrl",1847],")",")",["T_WHITESPACE"," ",1847],["T_BOOLEAN_AND","&&",1847],["T_WHITESPACE"," ",1847],["T_VARIABLE","$pos",1847],["T_WHITESPACE"," ",1847],["T_IS_NOT_IDENTICAL","!==",1847],["T_WHITESPACE"," ",1847],["T_LNUMBER","0",1847],")",["T_WHITESPACE"," ",1847],"{",["T_WHITESPACE","\n            ",1847],["T_VARIABLE","$baseUrl",1848],["T_WHITESPACE"," ",1848],"=",["T_WHITESPACE"," ",1848],["T_STRING","substr",1848],"(",["T_VARIABLE","$requestUri",1848],",",["T_WHITESPACE"," ",1848],["T_LNUMBER","0",1848],",",["T_WHITESPACE"," ",1848],["T_VARIABLE","$pos",1848],["T_WHITESPACE"," ",1848],"+",["T_WHITESPACE"," ",1848],["T_STRING","strlen",1848],"(",["T_VARIABLE","$baseUrl",1848],")",")",";",["T_WHITESPACE","\n        ",1848],"}",["T_WHITESPACE","\n\n        ",1849],["T_RETURN","return",1851],["T_WHITESPACE"," ",1851],["T_STRING","rtrim",1851],"(",["T_VARIABLE","$baseUrl",1851],",",["T_WHITESPACE"," ",1851],["T_CONSTANT_ENCAPSED_STRING","'\/'",1851],".",["T_STRING","DIRECTORY_SEPARATOR",1851],")",";",["T_WHITESPACE","\n    ",1851],"}",["T_WHITESPACE","\n\n    ",1852],["T_DOC_COMMENT","\/**\n     * Prepares the base path.\n     *\n     * @return string base path\n     *\/",1854],["T_WHITESPACE","\n    ",1858],["T_PROTECTED","protected",1859],["T_WHITESPACE"," ",1859],["T_FUNCTION","function",1859],["T_WHITESPACE"," ",1859],["T_STRING","prepareBasePath",1859],"(",")",["T_WHITESPACE","\n    ",1859],"{",["T_WHITESPACE","\n        ",1860],["T_VARIABLE","$filename",1861],["T_WHITESPACE"," ",1861],"=",["T_WHITESPACE"," ",1861],["T_STRING","basename",1861],"(",["T_VARIABLE","$this",1861],["T_OBJECT_OPERATOR","->",1861],["T_STRING","server",1861],["T_OBJECT_OPERATOR","->",1861],["T_STRING","get",1861],"(",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1861],")",")",";",["T_WHITESPACE","\n        ",1861],["T_VARIABLE","$baseUrl",1862],["T_WHITESPACE"," ",1862],"=",["T_WHITESPACE"," ",1862],["T_VARIABLE","$this",1862],["T_OBJECT_OPERATOR","->",1862],["T_STRING","getBaseUrl",1862],"(",")",";",["T_WHITESPACE","\n        ",1862],["T_IF","if",1863],["T_WHITESPACE"," ",1863],"(",["T_EMPTY","empty",1863],"(",["T_VARIABLE","$baseUrl",1863],")",")",["T_WHITESPACE"," ",1863],"{",["T_WHITESPACE","\n            ",1863],["T_RETURN","return",1864],["T_WHITESPACE"," ",1864],["T_CONSTANT_ENCAPSED_STRING","''",1864],";",["T_WHITESPACE","\n        ",1864],"}",["T_WHITESPACE","\n\n        ",1865],["T_IF","if",1867],["T_WHITESPACE"," ",1867],"(",["T_STRING","basename",1867],"(",["T_VARIABLE","$baseUrl",1867],")",["T_WHITESPACE"," ",1867],["T_IS_IDENTICAL","===",1867],["T_WHITESPACE"," ",1867],["T_VARIABLE","$filename",1867],")",["T_WHITESPACE"," ",1867],"{",["T_WHITESPACE","\n            ",1867],["T_VARIABLE","$basePath",1868],["T_WHITESPACE"," ",1868],"=",["T_WHITESPACE"," ",1868],["T_STRING","dirname",1868],"(",["T_VARIABLE","$baseUrl",1868],")",";",["T_WHITESPACE","\n        ",1868],"}",["T_WHITESPACE"," ",1869],["T_ELSE","else",1869],["T_WHITESPACE"," ",1869],"{",["T_WHITESPACE","\n            ",1869],["T_VARIABLE","$basePath",1870],["T_WHITESPACE"," ",1870],"=",["T_WHITESPACE"," ",1870],["T_VARIABLE","$baseUrl",1870],";",["T_WHITESPACE","\n        ",1870],"}",["T_WHITESPACE","\n\n        ",1871],["T_IF","if",1873],["T_WHITESPACE"," ",1873],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",1873],["T_WHITESPACE"," ",1873],["T_IS_IDENTICAL","===",1873],["T_WHITESPACE"," ",1873],["T_STRING","DIRECTORY_SEPARATOR",1873],")",["T_WHITESPACE"," ",1873],"{",["T_WHITESPACE","\n            ",1873],["T_VARIABLE","$basePath",1874],["T_WHITESPACE"," ",1874],"=",["T_WHITESPACE"," ",1874],["T_STRING","str_replace",1874],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",1874],",",["T_WHITESPACE"," ",1874],["T_CONSTANT_ENCAPSED_STRING","'\/'",1874],",",["T_WHITESPACE"," ",1874],["T_VARIABLE","$basePath",1874],")",";",["T_WHITESPACE","\n        ",1874],"}",["T_WHITESPACE","\n\n        ",1875],["T_RETURN","return",1877],["T_WHITESPACE"," ",1877],["T_STRING","rtrim",1877],"(",["T_VARIABLE","$basePath",1877],",",["T_WHITESPACE"," ",1877],["T_CONSTANT_ENCAPSED_STRING","'\/'",1877],")",";",["T_WHITESPACE","\n    ",1877],"}",["T_WHITESPACE","\n\n    ",1878],["T_DOC_COMMENT","\/**\n     * Prepares the path info.\n     *\n     * @return string path info\n     *\/",1880],["T_WHITESPACE","\n    ",1884],["T_PROTECTED","protected",1885],["T_WHITESPACE"," ",1885],["T_FUNCTION","function",1885],["T_WHITESPACE"," ",1885],["T_STRING","preparePathInfo",1885],"(",")",["T_WHITESPACE","\n    ",1885],"{",["T_WHITESPACE","\n        ",1886],["T_VARIABLE","$baseUrl",1887],["T_WHITESPACE"," ",1887],"=",["T_WHITESPACE"," ",1887],["T_VARIABLE","$this",1887],["T_OBJECT_OPERATOR","->",1887],["T_STRING","getBaseUrl",1887],"(",")",";",["T_WHITESPACE","\n\n        ",1887],["T_IF","if",1889],["T_WHITESPACE"," ",1889],"(",["T_STRING","null",1889],["T_WHITESPACE"," ",1889],["T_IS_IDENTICAL","===",1889],["T_WHITESPACE"," ",1889],"(",["T_VARIABLE","$requestUri",1889],["T_WHITESPACE"," ",1889],"=",["T_WHITESPACE"," ",1889],["T_VARIABLE","$this",1889],["T_OBJECT_OPERATOR","->",1889],["T_STRING","getRequestUri",1889],"(",")",")",")",["T_WHITESPACE"," ",1889],"{",["T_WHITESPACE","\n            ",1889],["T_RETURN","return",1890],["T_WHITESPACE"," ",1890],["T_CONSTANT_ENCAPSED_STRING","'\/'",1890],";",["T_WHITESPACE","\n        ",1890],"}",["T_WHITESPACE","\n\n        ",1891],["T_COMMENT","\/\/ Remove the query string from REQUEST_URI\n",1893],["T_WHITESPACE","        ",1894],["T_IF","if",1894],["T_WHITESPACE"," ",1894],"(",["T_VARIABLE","$pos",1894],["T_WHITESPACE"," ",1894],"=",["T_WHITESPACE"," ",1894],["T_STRING","strpos",1894],"(",["T_VARIABLE","$requestUri",1894],",",["T_WHITESPACE"," ",1894],["T_CONSTANT_ENCAPSED_STRING","'?'",1894],")",")",["T_WHITESPACE"," ",1894],"{",["T_WHITESPACE","\n            ",1894],["T_VARIABLE","$requestUri",1895],["T_WHITESPACE"," ",1895],"=",["T_WHITESPACE"," ",1895],["T_STRING","substr",1895],"(",["T_VARIABLE","$requestUri",1895],",",["T_WHITESPACE"," ",1895],["T_LNUMBER","0",1895],",",["T_WHITESPACE"," ",1895],["T_VARIABLE","$pos",1895],")",";",["T_WHITESPACE","\n        ",1895],"}",["T_WHITESPACE","\n\n        ",1896],["T_VARIABLE","$pathInfo",1898],["T_WHITESPACE"," ",1898],"=",["T_WHITESPACE"," ",1898],["T_STRING","substr",1898],"(",["T_VARIABLE","$requestUri",1898],",",["T_WHITESPACE"," ",1898],["T_STRING","strlen",1898],"(",["T_VARIABLE","$baseUrl",1898],")",")",";",["T_WHITESPACE","\n        ",1898],["T_IF","if",1899],["T_WHITESPACE"," ",1899],"(",["T_STRING","null",1899],["T_WHITESPACE"," ",1899],["T_IS_NOT_IDENTICAL","!==",1899],["T_WHITESPACE"," ",1899],["T_VARIABLE","$baseUrl",1899],["T_WHITESPACE"," ",1899],["T_BOOLEAN_AND","&&",1899],["T_WHITESPACE"," ",1899],"(",["T_STRING","false",1899],["T_WHITESPACE"," ",1899],["T_IS_IDENTICAL","===",1899],["T_WHITESPACE"," ",1899],["T_VARIABLE","$pathInfo",1899],["T_WHITESPACE"," ",1899],["T_BOOLEAN_OR","||",1899],["T_WHITESPACE"," ",1899],["T_CONSTANT_ENCAPSED_STRING","''",1899],["T_WHITESPACE"," ",1899],["T_IS_IDENTICAL","===",1899],["T_WHITESPACE"," ",1899],["T_VARIABLE","$pathInfo",1899],")",")",["T_WHITESPACE"," ",1899],"{",["T_WHITESPACE","\n            ",1899],["T_COMMENT","\/\/ If substr() returns false then PATH_INFO is set to an empty string\n",1900],["T_WHITESPACE","            ",1901],["T_RETURN","return",1901],["T_WHITESPACE"," ",1901],["T_CONSTANT_ENCAPSED_STRING","'\/'",1901],";",["T_WHITESPACE","\n        ",1901],"}",["T_WHITESPACE"," ",1902],["T_ELSEIF","elseif",1902],["T_WHITESPACE"," ",1902],"(",["T_STRING","null",1902],["T_WHITESPACE"," ",1902],["T_IS_IDENTICAL","===",1902],["T_WHITESPACE"," ",1902],["T_VARIABLE","$baseUrl",1902],")",["T_WHITESPACE"," ",1902],"{",["T_WHITESPACE","\n            ",1902],["T_RETURN","return",1903],["T_WHITESPACE"," ",1903],["T_VARIABLE","$requestUri",1903],";",["T_WHITESPACE","\n        ",1903],"}",["T_WHITESPACE","\n\n        ",1904],["T_RETURN","return",1906],["T_WHITESPACE"," ",1906],["T_STRING_CAST","(string)",1906],["T_WHITESPACE"," ",1906],["T_VARIABLE","$pathInfo",1906],";",["T_WHITESPACE","\n    ",1906],"}",["T_WHITESPACE","\n\n    ",1907],["T_DOC_COMMENT","\/**\n     * Initializes HTTP request formats.\n     *\/",1909],["T_WHITESPACE","\n    ",1911],["T_PROTECTED","protected",1912],["T_WHITESPACE"," ",1912],["T_STATIC","static",1912],["T_WHITESPACE"," ",1912],["T_FUNCTION","function",1912],["T_WHITESPACE"," ",1912],["T_STRING","initializeFormats",1912],"(",")",["T_WHITESPACE","\n    ",1912],"{",["T_WHITESPACE","\n        ",1913],["T_STATIC","static",1914],["T_DOUBLE_COLON","::",1914],["T_VARIABLE","$formats",1914],["T_WHITESPACE"," ",1914],"=",["T_WHITESPACE"," ",1914],["T_ARRAY","array",1914],"(",["T_WHITESPACE","\n            ",1914],["T_CONSTANT_ENCAPSED_STRING","'html'",1915],["T_WHITESPACE"," ",1915],["T_DOUBLE_ARROW","=>",1915],["T_WHITESPACE"," ",1915],["T_ARRAY","array",1915],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/html'",1915],",",["T_WHITESPACE"," ",1915],["T_CONSTANT_ENCAPSED_STRING","'application\/xhtml+xml'",1915],")",",",["T_WHITESPACE","\n            ",1915],["T_CONSTANT_ENCAPSED_STRING","'txt'",1916],["T_WHITESPACE"," ",1916],["T_DOUBLE_ARROW","=>",1916],["T_WHITESPACE"," ",1916],["T_ARRAY","array",1916],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",1916],")",",",["T_WHITESPACE","\n            ",1916],["T_CONSTANT_ENCAPSED_STRING","'js'",1917],["T_WHITESPACE"," ",1917],["T_DOUBLE_ARROW","=>",1917],["T_WHITESPACE"," ",1917],["T_ARRAY","array",1917],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/javascript'",1917],",",["T_WHITESPACE"," ",1917],["T_CONSTANT_ENCAPSED_STRING","'application\/x-javascript'",1917],",",["T_WHITESPACE"," ",1917],["T_CONSTANT_ENCAPSED_STRING","'text\/javascript'",1917],")",",",["T_WHITESPACE","\n            ",1917],["T_CONSTANT_ENCAPSED_STRING","'css'",1918],["T_WHITESPACE"," ",1918],["T_DOUBLE_ARROW","=>",1918],["T_WHITESPACE"," ",1918],["T_ARRAY","array",1918],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/css'",1918],")",",",["T_WHITESPACE","\n            ",1918],["T_CONSTANT_ENCAPSED_STRING","'json'",1919],["T_WHITESPACE"," ",1919],["T_DOUBLE_ARROW","=>",1919],["T_WHITESPACE"," ",1919],["T_ARRAY","array",1919],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",1919],",",["T_WHITESPACE"," ",1919],["T_CONSTANT_ENCAPSED_STRING","'application\/x-json'",1919],")",",",["T_WHITESPACE","\n            ",1919],["T_CONSTANT_ENCAPSED_STRING","'xml'",1920],["T_WHITESPACE"," ",1920],["T_DOUBLE_ARROW","=>",1920],["T_WHITESPACE"," ",1920],["T_ARRAY","array",1920],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/xml'",1920],",",["T_WHITESPACE"," ",1920],["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",1920],",",["T_WHITESPACE"," ",1920],["T_CONSTANT_ENCAPSED_STRING","'application\/x-xml'",1920],")",",",["T_WHITESPACE","\n            ",1920],["T_CONSTANT_ENCAPSED_STRING","'rdf'",1921],["T_WHITESPACE"," ",1921],["T_DOUBLE_ARROW","=>",1921],["T_WHITESPACE"," ",1921],["T_ARRAY","array",1921],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/rdf+xml'",1921],")",",",["T_WHITESPACE","\n            ",1921],["T_CONSTANT_ENCAPSED_STRING","'atom'",1922],["T_WHITESPACE"," ",1922],["T_DOUBLE_ARROW","=>",1922],["T_WHITESPACE"," ",1922],["T_ARRAY","array",1922],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/atom+xml'",1922],")",",",["T_WHITESPACE","\n            ",1922],["T_CONSTANT_ENCAPSED_STRING","'rss'",1923],["T_WHITESPACE"," ",1923],["T_DOUBLE_ARROW","=>",1923],["T_WHITESPACE"," ",1923],["T_ARRAY","array",1923],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/rss+xml'",1923],")",",",["T_WHITESPACE","\n            ",1923],["T_CONSTANT_ENCAPSED_STRING","'form'",1924],["T_WHITESPACE"," ",1924],["T_DOUBLE_ARROW","=>",1924],["T_WHITESPACE"," ",1924],["T_ARRAY","array",1924],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/x-www-form-urlencoded'",1924],")",",",["T_WHITESPACE","\n        ",1924],")",";",["T_WHITESPACE","\n    ",1925],"}",["T_WHITESPACE","\n\n    ",1926],["T_DOC_COMMENT","\/**\n     * Sets the default PHP locale.\n     *\n     * @param string $locale\n     *\/",1928],["T_WHITESPACE","\n    ",1932],["T_PRIVATE","private",1933],["T_WHITESPACE"," ",1933],["T_FUNCTION","function",1933],["T_WHITESPACE"," ",1933],["T_STRING","setPhpDefaultLocale",1933],"(",["T_VARIABLE","$locale",1933],")",["T_WHITESPACE","\n    ",1933],"{",["T_WHITESPACE","\n        ",1934],["T_COMMENT","\/\/ if either the class Locale doesn't exist, or an exception is thrown when\n",1935],["T_WHITESPACE","        ",1936],["T_COMMENT","\/\/ setting the default locale, the intl module is not installed, and\n",1936],["T_WHITESPACE","        ",1937],["T_COMMENT","\/\/ the call can be ignored:\n",1937],["T_WHITESPACE","        ",1938],["T_TRY","try",1938],["T_WHITESPACE"," ",1938],"{",["T_WHITESPACE","\n            ",1938],["T_IF","if",1939],["T_WHITESPACE"," ",1939],"(",["T_STRING","class_exists",1939],"(",["T_CONSTANT_ENCAPSED_STRING","'Locale'",1939],",",["T_WHITESPACE"," ",1939],["T_STRING","false",1939],")",")",["T_WHITESPACE"," ",1939],"{",["T_WHITESPACE","\n                ",1939],["T_NS_SEPARATOR","\\",1940],["T_STRING","Locale",1940],["T_DOUBLE_COLON","::",1940],["T_STRING","setDefault",1940],"(",["T_VARIABLE","$locale",1940],")",";",["T_WHITESPACE","\n            ",1940],"}",["T_WHITESPACE","\n        ",1941],"}",["T_WHITESPACE"," ",1942],["T_CATCH","catch",1942],["T_WHITESPACE"," ",1942],"(",["T_NS_SEPARATOR","\\",1942],["T_STRING","Exception",1942],["T_WHITESPACE"," ",1942],["T_VARIABLE","$e",1942],")",["T_WHITESPACE"," ",1942],"{",["T_WHITESPACE","\n        ",1942],"}",["T_WHITESPACE","\n    ",1943],"}",["T_WHITESPACE","\n\n    ",1944],["T_COMMENT","\/*\n     * Returns the prefix as encoded in the string when the string starts with\n     * the given prefix, false otherwise.\n     *\n     * @param string $string The urlencoded string\n     * @param string $prefix The prefix not encoded\n     *\n     * @return string|false The prefix as it is encoded in $string, or false\n     *\/",1946],["T_WHITESPACE","\n    ",1954],["T_PRIVATE","private",1955],["T_WHITESPACE"," ",1955],["T_FUNCTION","function",1955],["T_WHITESPACE"," ",1955],["T_STRING","getUrlencodedPrefix",1955],"(",["T_VARIABLE","$string",1955],",",["T_WHITESPACE"," ",1955],["T_VARIABLE","$prefix",1955],")",["T_WHITESPACE","\n    ",1955],"{",["T_WHITESPACE","\n        ",1956],["T_IF","if",1957],["T_WHITESPACE"," ",1957],"(",["T_LNUMBER","0",1957],["T_WHITESPACE"," ",1957],["T_IS_NOT_IDENTICAL","!==",1957],["T_WHITESPACE"," ",1957],["T_STRING","strpos",1957],"(",["T_STRING","rawurldecode",1957],"(",["T_VARIABLE","$string",1957],")",",",["T_WHITESPACE"," ",1957],["T_VARIABLE","$prefix",1957],")",")",["T_WHITESPACE"," ",1957],"{",["T_WHITESPACE","\n            ",1957],["T_RETURN","return",1958],["T_WHITESPACE"," ",1958],["T_STRING","false",1958],";",["T_WHITESPACE","\n        ",1958],"}",["T_WHITESPACE","\n\n        ",1959],["T_VARIABLE","$len",1961],["T_WHITESPACE"," ",1961],"=",["T_WHITESPACE"," ",1961],["T_STRING","strlen",1961],"(",["T_VARIABLE","$prefix",1961],")",";",["T_WHITESPACE","\n\n        ",1961],["T_IF","if",1963],["T_WHITESPACE"," ",1963],"(",["T_STRING","preg_match",1963],"(",["T_STRING","sprintf",1963],"(",["T_CONSTANT_ENCAPSED_STRING","'#^(%%[[:xdigit:]]{2}|.){%d}#'",1963],",",["T_WHITESPACE"," ",1963],["T_VARIABLE","$len",1963],")",",",["T_WHITESPACE"," ",1963],["T_VARIABLE","$string",1963],",",["T_WHITESPACE"," ",1963],["T_VARIABLE","$match",1963],")",")",["T_WHITESPACE"," ",1963],"{",["T_WHITESPACE","\n            ",1963],["T_RETURN","return",1964],["T_WHITESPACE"," ",1964],["T_VARIABLE","$match",1964],"[",["T_LNUMBER","0",1964],"]",";",["T_WHITESPACE","\n        ",1964],"}",["T_WHITESPACE","\n\n        ",1965],["T_RETURN","return",1967],["T_WHITESPACE"," ",1967],["T_STRING","false",1967],";",["T_WHITESPACE","\n    ",1967],"}",["T_WHITESPACE","\n\n    ",1968],["T_PRIVATE","private",1970],["T_WHITESPACE"," ",1970],["T_STATIC","static",1970],["T_WHITESPACE"," ",1970],["T_FUNCTION","function",1970],["T_WHITESPACE"," ",1970],["T_STRING","createRequestFromFactory",1970],"(",["T_ARRAY","array",1970],["T_WHITESPACE"," ",1970],["T_VARIABLE","$query",1970],["T_WHITESPACE"," ",1970],"=",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],"(",")",",",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],["T_WHITESPACE"," ",1970],["T_VARIABLE","$request",1970],["T_WHITESPACE"," ",1970],"=",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],"(",")",",",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],["T_WHITESPACE"," ",1970],["T_VARIABLE","$attributes",1970],["T_WHITESPACE"," ",1970],"=",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],"(",")",",",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],["T_WHITESPACE"," ",1970],["T_VARIABLE","$cookies",1970],["T_WHITESPACE"," ",1970],"=",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],"(",")",",",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],["T_WHITESPACE"," ",1970],["T_VARIABLE","$files",1970],["T_WHITESPACE"," ",1970],"=",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],"(",")",",",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],["T_WHITESPACE"," ",1970],["T_VARIABLE","$server",1970],["T_WHITESPACE"," ",1970],"=",["T_WHITESPACE"," ",1970],["T_ARRAY","array",1970],"(",")",",",["T_WHITESPACE"," ",1970],["T_VARIABLE","$content",1970],["T_WHITESPACE"," ",1970],"=",["T_WHITESPACE"," ",1970],["T_STRING","null",1970],")",["T_WHITESPACE","\n    ",1970],"{",["T_WHITESPACE","\n        ",1971],["T_IF","if",1972],["T_WHITESPACE"," ",1972],"(",["T_STRING","self",1972],["T_DOUBLE_COLON","::",1972],["T_VARIABLE","$requestFactory",1972],")",["T_WHITESPACE"," ",1972],"{",["T_WHITESPACE","\n            ",1972],["T_VARIABLE","$request",1973],["T_WHITESPACE"," ",1973],"=",["T_WHITESPACE"," ",1973],["T_STRING","call_user_func",1973],"(",["T_STRING","self",1973],["T_DOUBLE_COLON","::",1973],["T_VARIABLE","$requestFactory",1973],",",["T_WHITESPACE"," ",1973],["T_VARIABLE","$query",1973],",",["T_WHITESPACE"," ",1973],["T_VARIABLE","$request",1973],",",["T_WHITESPACE"," ",1973],["T_VARIABLE","$attributes",1973],",",["T_WHITESPACE"," ",1973],["T_VARIABLE","$cookies",1973],",",["T_WHITESPACE"," ",1973],["T_VARIABLE","$files",1973],",",["T_WHITESPACE"," ",1973],["T_VARIABLE","$server",1973],",",["T_WHITESPACE"," ",1973],["T_VARIABLE","$content",1973],")",";",["T_WHITESPACE","\n\n            ",1973],["T_IF","if",1975],["T_WHITESPACE"," ",1975],"(","!",["T_VARIABLE","$request",1975],["T_WHITESPACE"," ",1975],["T_INSTANCEOF","instanceof",1975],["T_WHITESPACE"," ",1975],["T_STRING","self",1975],")",["T_WHITESPACE"," ",1975],"{",["T_WHITESPACE","\n                ",1975],["T_THROW","throw",1976],["T_WHITESPACE"," ",1976],["T_NEW","new",1976],["T_WHITESPACE"," ",1976],["T_NS_SEPARATOR","\\",1976],["T_STRING","LogicException",1976],"(",["T_CONSTANT_ENCAPSED_STRING","'The Request factory must return an instance of Symfony\\Component\\HttpFoundation\\Request.'",1976],")",";",["T_WHITESPACE","\n            ",1976],"}",["T_WHITESPACE","\n\n            ",1977],["T_RETURN","return",1979],["T_WHITESPACE"," ",1979],["T_VARIABLE","$request",1979],";",["T_WHITESPACE","\n        ",1979],"}",["T_WHITESPACE","\n\n        ",1980],["T_RETURN","return",1982],["T_WHITESPACE"," ",1982],["T_NEW","new",1982],["T_WHITESPACE"," ",1982],["T_STATIC","static",1982],"(",["T_VARIABLE","$query",1982],",",["T_WHITESPACE"," ",1982],["T_VARIABLE","$request",1982],",",["T_WHITESPACE"," ",1982],["T_VARIABLE","$attributes",1982],",",["T_WHITESPACE"," ",1982],["T_VARIABLE","$cookies",1982],",",["T_WHITESPACE"," ",1982],["T_VARIABLE","$files",1982],",",["T_WHITESPACE"," ",1982],["T_VARIABLE","$server",1982],",",["T_WHITESPACE"," ",1982],["T_VARIABLE","$content",1982],")",";",["T_WHITESPACE","\n    ",1982],"}",["T_WHITESPACE","\n\n    ",1983],["T_DOC_COMMENT","\/**\n     * Indicates whether this request originated from a trusted proxy.\n     *\n     * This can be useful to determine whether or not to trust the\n     * contents of a proxy-specific header.\n     *\n     * @return bool true if the request came from a trusted proxy, false otherwise\n     *\/",1985],["T_WHITESPACE","\n    ",1992],["T_PUBLIC","public",1993],["T_WHITESPACE"," ",1993],["T_FUNCTION","function",1993],["T_WHITESPACE"," ",1993],["T_STRING","isFromTrustedProxy",1993],"(",")",["T_WHITESPACE","\n    ",1993],"{",["T_WHITESPACE","\n        ",1994],["T_RETURN","return",1995],["T_WHITESPACE"," ",1995],["T_STRING","self",1995],["T_DOUBLE_COLON","::",1995],["T_VARIABLE","$trustedProxies",1995],["T_WHITESPACE"," ",1995],["T_BOOLEAN_AND","&&",1995],["T_WHITESPACE"," ",1995],["T_STRING","IpUtils",1995],["T_DOUBLE_COLON","::",1995],["T_STRING","checkIp",1995],"(",["T_VARIABLE","$this",1995],["T_OBJECT_OPERATOR","->",1995],["T_STRING","server",1995],["T_OBJECT_OPERATOR","->",1995],["T_STRING","get",1995],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1995],")",",",["T_WHITESPACE"," ",1995],["T_STRING","self",1995],["T_DOUBLE_COLON","::",1995],["T_VARIABLE","$trustedProxies",1995],")",";",["T_WHITESPACE","\n    ",1995],"}",["T_WHITESPACE","\n\n    ",1996],["T_PRIVATE","private",1998],["T_WHITESPACE"," ",1998],["T_FUNCTION","function",1998],["T_WHITESPACE"," ",1998],["T_STRING","normalizeAndFilterClientIps",1998],"(",["T_ARRAY","array",1998],["T_WHITESPACE"," ",1998],["T_VARIABLE","$clientIps",1998],",",["T_WHITESPACE"," ",1998],["T_VARIABLE","$ip",1998],")",["T_WHITESPACE","\n    ",1998],"{",["T_WHITESPACE","\n        ",1999],["T_VARIABLE","$clientIps",2000],"[","]",["T_WHITESPACE"," ",2000],"=",["T_WHITESPACE"," ",2000],["T_VARIABLE","$ip",2000],";",["T_WHITESPACE"," ",2000],["T_COMMENT","\/\/ Complete the IP chain with the IP the request actually came from\n",2000],["T_WHITESPACE","        ",2001],["T_VARIABLE","$firstTrustedIp",2001],["T_WHITESPACE"," ",2001],"=",["T_WHITESPACE"," ",2001],["T_STRING","null",2001],";",["T_WHITESPACE","\n\n        ",2001],["T_FOREACH","foreach",2003],["T_WHITESPACE"," ",2003],"(",["T_VARIABLE","$clientIps",2003],["T_WHITESPACE"," ",2003],["T_AS","as",2003],["T_WHITESPACE"," ",2003],["T_VARIABLE","$key",2003],["T_WHITESPACE"," ",2003],["T_DOUBLE_ARROW","=>",2003],["T_WHITESPACE"," ",2003],["T_VARIABLE","$clientIp",2003],")",["T_WHITESPACE"," ",2003],"{",["T_WHITESPACE","\n            ",2003],["T_COMMENT","\/\/ Remove port (unfortunately, it does happen)\n",2004],["T_WHITESPACE","            ",2005],["T_IF","if",2005],["T_WHITESPACE"," ",2005],"(",["T_STRING","preg_match",2005],"(",["T_CONSTANT_ENCAPSED_STRING","'{((?:\\d+\\.){3}\\d+)\\:\\d+}'",2005],",",["T_WHITESPACE"," ",2005],["T_VARIABLE","$clientIp",2005],",",["T_WHITESPACE"," ",2005],["T_VARIABLE","$match",2005],")",")",["T_WHITESPACE"," ",2005],"{",["T_WHITESPACE","\n                ",2005],["T_VARIABLE","$clientIps",2006],"[",["T_VARIABLE","$key",2006],"]",["T_WHITESPACE"," ",2006],"=",["T_WHITESPACE"," ",2006],["T_VARIABLE","$clientIp",2006],["T_WHITESPACE"," ",2006],"=",["T_WHITESPACE"," ",2006],["T_VARIABLE","$match",2006],"[",["T_LNUMBER","1",2006],"]",";",["T_WHITESPACE","\n            ",2006],"}",["T_WHITESPACE","\n\n            ",2007],["T_IF","if",2009],["T_WHITESPACE"," ",2009],"(","!",["T_STRING","filter_var",2009],"(",["T_VARIABLE","$clientIp",2009],",",["T_WHITESPACE"," ",2009],["T_STRING","FILTER_VALIDATE_IP",2009],")",")",["T_WHITESPACE"," ",2009],"{",["T_WHITESPACE","\n                ",2009],["T_UNSET","unset",2010],"(",["T_VARIABLE","$clientIps",2010],"[",["T_VARIABLE","$key",2010],"]",")",";",["T_WHITESPACE","\n\n                ",2010],["T_CONTINUE","continue",2012],";",["T_WHITESPACE","\n            ",2012],"}",["T_WHITESPACE","\n\n            ",2013],["T_IF","if",2015],["T_WHITESPACE"," ",2015],"(",["T_STRING","IpUtils",2015],["T_DOUBLE_COLON","::",2015],["T_STRING","checkIp",2015],"(",["T_VARIABLE","$clientIp",2015],",",["T_WHITESPACE"," ",2015],["T_STRING","self",2015],["T_DOUBLE_COLON","::",2015],["T_VARIABLE","$trustedProxies",2015],")",")",["T_WHITESPACE"," ",2015],"{",["T_WHITESPACE","\n                ",2015],["T_UNSET","unset",2016],"(",["T_VARIABLE","$clientIps",2016],"[",["T_VARIABLE","$key",2016],"]",")",";",["T_WHITESPACE","\n\n                ",2016],["T_COMMENT","\/\/ Fallback to this when the client IP falls into the range of trusted proxies\n",2018],["T_WHITESPACE","                ",2019],["T_IF","if",2019],["T_WHITESPACE"," ",2019],"(",["T_STRING","null",2019],["T_WHITESPACE"," ",2019],["T_IS_IDENTICAL","===",2019],["T_WHITESPACE"," ",2019],["T_VARIABLE","$firstTrustedIp",2019],")",["T_WHITESPACE"," ",2019],"{",["T_WHITESPACE","\n                    ",2019],["T_VARIABLE","$firstTrustedIp",2020],["T_WHITESPACE"," ",2020],"=",["T_WHITESPACE"," ",2020],["T_VARIABLE","$clientIp",2020],";",["T_WHITESPACE","\n                ",2020],"}",["T_WHITESPACE","\n            ",2021],"}",["T_WHITESPACE","\n        ",2022],"}",["T_WHITESPACE","\n\n        ",2023],["T_COMMENT","\/\/ Now the IP chain contains only untrusted proxies and the client IP\n",2025],["T_WHITESPACE","        ",2026],["T_RETURN","return",2026],["T_WHITESPACE"," ",2026],["T_VARIABLE","$clientIps",2026],["T_WHITESPACE"," ",2026],"?",["T_WHITESPACE"," ",2026],["T_STRING","array_reverse",2026],"(",["T_VARIABLE","$clientIps",2026],")",["T_WHITESPACE"," ",2026],":",["T_WHITESPACE"," ",2026],["T_ARRAY","array",2026],"(",["T_VARIABLE","$firstTrustedIp",2026],")",";",["T_WHITESPACE","\n    ",2026],"}",["T_WHITESPACE","\n",2027],"}",["T_WHITESPACE","\n",2028]]