[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","File",12],["T_NS_SEPARATOR","\\",12],["T_STRING","MimeType",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","File",14],["T_NS_SEPARATOR","\\",14],["T_STRING","MimeType",14],["T_NS_SEPARATOR","\\",14],["T_STRING","MimeTypeGuesser",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","File",15],["T_NS_SEPARATOR","\\",15],["T_STRING","MimeType",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FileBinaryMimeTypeGuesser",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * @requires extension fileinfo\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","MimeTypeTest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PHPUnit_Framework_TestCase",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$path",22],";",["T_WHITESPACE","\n\n    ",22],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","testGuessImageWithoutExtension",24],"(",")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","assertEquals",26],"(",["T_CONSTANT_ENCAPSED_STRING","'image\/gif'",26],",",["T_WHITESPACE"," ",26],["T_STRING","MimeTypeGuesser",26],["T_DOUBLE_COLON","::",26],["T_STRING","getInstance",26],"(",")",["T_OBJECT_OPERATOR","->",26],["T_STRING","guess",26],"(",["T_DIR","__DIR__",26],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Fixtures\/test'",26],")",")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n\n    ",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testGuessImageWithDirectory",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","setExpectedException",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\File\\Exception\\FileNotFoundException'",31],")",";",["T_WHITESPACE","\n\n        ",31],["T_STRING","MimeTypeGuesser",33],["T_DOUBLE_COLON","::",33],["T_STRING","getInstance",33],"(",")",["T_OBJECT_OPERATOR","->",33],["T_STRING","guess",33],"(",["T_DIR","__DIR__",33],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Fixtures\/directory'",33],")",";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n\n    ",34],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","testGuessImageWithFileBinaryMimeTypeGuesser",36],"(",")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$guesser",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","MimeTypeGuesser",38],["T_DOUBLE_COLON","::",38],["T_STRING","getInstance",38],"(",")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$guesser",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","register",39],"(",["T_NEW","new",39],["T_WHITESPACE"," ",39],["T_STRING","FileBinaryMimeTypeGuesser",39],"(",")",")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertEquals",40],"(",["T_CONSTANT_ENCAPSED_STRING","'image\/gif'",40],",",["T_WHITESPACE"," ",40],["T_STRING","MimeTypeGuesser",40],["T_DOUBLE_COLON","::",40],["T_STRING","getInstance",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","guess",40],"(",["T_DIR","__DIR__",40],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Fixtures\/test'",40],")",")",";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testGuessImageWithKnownExtension",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEquals",45],"(",["T_CONSTANT_ENCAPSED_STRING","'image\/gif'",45],",",["T_WHITESPACE"," ",45],["T_STRING","MimeTypeGuesser",45],["T_DOUBLE_COLON","::",45],["T_STRING","getInstance",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","guess",45],"(",["T_DIR","__DIR__",45],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Fixtures\/test.gif'",45],")",")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testGuessFileWithUnknownExtension",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertEquals",50],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/octet-stream'",50],",",["T_WHITESPACE"," ",50],["T_STRING","MimeTypeGuesser",50],["T_DOUBLE_COLON","::",50],["T_STRING","getInstance",50],"(",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","guess",50],"(",["T_DIR","__DIR__",50],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Fixtures\/.unknownextension'",50],")",")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testGuessWithIncorrectPath",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","setExpectedException",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\File\\Exception\\FileNotFoundException'",55],")",";",["T_WHITESPACE","\n        ",55],["T_STRING","MimeTypeGuesser",56],["T_DOUBLE_COLON","::",56],["T_STRING","getInstance",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","guess",56],"(",["T_DIR","__DIR__",56],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Fixtures\/not_here'",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testGuessWithNonReadablePath",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",61],["T_WHITESPACE"," ",61],["T_IS_IDENTICAL","===",61],["T_WHITESPACE"," ",61],["T_STRING","DIRECTORY_SEPARATOR",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","markTestSkipped",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Can not verify chmod operations on Windows'",62],")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_IF","if",65],["T_WHITESPACE"," ",65],"(","!",["T_STRING","getenv",65],"(",["T_CONSTANT_ENCAPSED_STRING","'USER'",65],")",["T_WHITESPACE"," ",65],["T_BOOLEAN_OR","||",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'root'",65],["T_WHITESPACE"," ",65],["T_IS_IDENTICAL","===",65],["T_WHITESPACE"," ",65],["T_STRING","getenv",65],"(",["T_CONSTANT_ENCAPSED_STRING","'USER'",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","markTestSkipped",66],"(",["T_CONSTANT_ENCAPSED_STRING","'This test will fail if run under superuser'",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$path",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_DIR","__DIR__",69],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Fixtures\/to_delete'",69],";",["T_WHITESPACE","\n        ",69],["T_STRING","touch",70],"(",["T_VARIABLE","$path",70],")",";",["T_WHITESPACE","\n        ",70],"@",["T_STRING","chmod",71],"(",["T_VARIABLE","$path",71],",",["T_WHITESPACE"," ",71],["T_LNUMBER","0333",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_STRING","substr",73],"(",["T_STRING","sprintf",73],"(",["T_CONSTANT_ENCAPSED_STRING","'%o'",73],",",["T_WHITESPACE"," ",73],["T_STRING","fileperms",73],"(",["T_VARIABLE","$path",73],")",")",",",["T_WHITESPACE"," ",73],"-",["T_LNUMBER","4",73],")",["T_WHITESPACE"," ",73],["T_IS_EQUAL","==",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'0333'",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setExpectedException",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpFoundation\\File\\Exception\\AccessDeniedException'",74],")",";",["T_WHITESPACE","\n            ",74],["T_STRING","MimeTypeGuesser",75],["T_DOUBLE_COLON","::",75],["T_STRING","getInstance",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","guess",75],"(",["T_VARIABLE","$path",75],")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE"," ",76],["T_ELSE","else",76],["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","markTestSkipped",77],"(",["T_CONSTANT_ENCAPSED_STRING","'Can not verify chmod operations, change of file permissions failed'",77],")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_STATIC","static",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","tearDownAfterClass",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$path",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_DIR","__DIR__",83],".",["T_CONSTANT_ENCAPSED_STRING","'\/..\/Fixtures\/to_delete'",83],";",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","file_exists",84],"(",["T_VARIABLE","$path",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],"@",["T_STRING","chmod",85],"(",["T_VARIABLE","$path",85],",",["T_WHITESPACE"," ",85],["T_LNUMBER","0666",85],")",";",["T_WHITESPACE","\n            ",85],"@",["T_STRING","unlink",86],"(",["T_VARIABLE","$path",86],")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n",88],"}",["T_WHITESPACE","\n",89]]