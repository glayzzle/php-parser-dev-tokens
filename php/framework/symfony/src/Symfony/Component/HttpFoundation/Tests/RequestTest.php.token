[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SuspiciousOperationException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Session",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Storage",15],["T_NS_SEPARATOR","\\",15],["T_STRING","MockArraySessionStorage",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpFoundation",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Session",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Session",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpFoundation",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Request",17],";",["T_WHITESPACE","\n\n",17],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","RequestTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","testInitialize",21],"(",")",["T_WHITESPACE","\n    ",21],"{",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$request",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_NEW","new",23],["T_WHITESPACE"," ",23],["T_STRING","Request",23],"(",")",";",["T_WHITESPACE","\n\n        ",23],["T_VARIABLE","$request",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","initialize",25],"(",["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'bar'",25],")",")",";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","assertEquals",26],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$request",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","query",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","get",26],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",26],")",",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'->initialize() takes an array of query parameters as its first argument'",26],")",";",["T_WHITESPACE","\n\n        ",26],["T_VARIABLE","$request",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","initialize",28],"(",["T_ARRAY","array",28],"(",")",",",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'bar'",28],")",")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","assertEquals",29],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$request",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","request",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","get",29],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",29],")",",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'->initialize() takes an array of request parameters as its second argument'",29],")",";",["T_WHITESPACE","\n\n        ",29],["T_VARIABLE","$request",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","initialize",31],"(",["T_ARRAY","array",31],"(",")",",",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",")",",",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'bar'",31],")",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertEquals",32],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$request",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","attributes",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","get",32],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",32],")",",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'->initialize() takes an array of attributes as its third argument'",32],")",";",["T_WHITESPACE","\n\n        ",32],["T_VARIABLE","$request",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","initialize",34],"(",["T_ARRAY","array",34],"(",")",",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_FOO'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'bar'",34],")",")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertEquals",35],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$request",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","headers",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","get",35],"(",["T_CONSTANT_ENCAPSED_STRING","'FOO'",35],")",",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'->initialize() takes an array of HTTP headers as its sixth argument'",35],")",";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","testGetLocale",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$request",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_NEW","new",40],["T_WHITESPACE"," ",40],["T_STRING","Request",40],"(",")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$request",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","setLocale",41],"(",["T_CONSTANT_ENCAPSED_STRING","'pl'",41],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$locale",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$request",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getLocale",42],"(",")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertEquals",43],"(",["T_CONSTANT_ENCAPSED_STRING","'pl'",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$locale",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testGetUser",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$request",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","Request",48],["T_DOUBLE_COLON","::",48],["T_STRING","create",48],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/user_test:password_test@test.com\/'",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$user",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$request",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getUser",49],"(",")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEquals",51],"(",["T_CONSTANT_ENCAPSED_STRING","'user_test'",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$user",51],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","testGetPassword",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$request",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","Request",56],["T_DOUBLE_COLON","::",56],["T_STRING","create",56],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/user_test:password_test@test.com\/'",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$password",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$request",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getPassword",57],"(",")",";",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEquals",59],"(",["T_CONSTANT_ENCAPSED_STRING","'password_test'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$password",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","testIsNoCache",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$request",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_STRING","Request",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$isNoCache",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$request",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","isNoCache",65],"(",")",";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertFalse",67],"(",["T_VARIABLE","$isNoCache",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","testGetContentType",70],"(",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$request",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","Request",72],"(",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$contentType",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$request",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getContentType",73],"(",")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertNull",75],"(",["T_VARIABLE","$contentType",75],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testSetDefaultLocale",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$request",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","Request",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$request",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setDefaultLocale",81],"(",["T_CONSTANT_ENCAPSED_STRING","'pl'",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$locale",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$request",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getLocale",82],"(",")",";",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEquals",84],"(",["T_CONSTANT_ENCAPSED_STRING","'pl'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$locale",84],")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","testCreate",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$request",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","Request",89],["T_DOUBLE_COLON","::",89],["T_STRING","create",89],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/foo?bar=baz'",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertEquals",90],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/foo?bar=baz'",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$request",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getUri",90],"(",")",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertEquals",91],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$request",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getPathInfo",91],"(",")",")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertEquals",92],"(",["T_CONSTANT_ENCAPSED_STRING","'bar=baz'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$request",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getQueryString",92],"(",")",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEquals",93],"(",["T_LNUMBER","80",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$request",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getPort",93],"(",")",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEquals",94],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$request",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getHttpHost",94],"(",")",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertFalse",95],"(",["T_VARIABLE","$request",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","isSecure",95],"(",")",")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$request",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","Request",97],["T_DOUBLE_COLON","::",97],["T_STRING","create",97],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/foo'",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'GET'",97],",",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'baz'",97],")",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertEquals",98],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/foo?bar=baz'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$request",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getUri",98],"(",")",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertEquals",99],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$request",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getPathInfo",99],"(",")",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEquals",100],"(",["T_CONSTANT_ENCAPSED_STRING","'bar=baz'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$request",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getQueryString",100],"(",")",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEquals",101],"(",["T_LNUMBER","80",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$request",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getPort",101],"(",")",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEquals",102],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$request",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getHttpHost",102],"(",")",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertFalse",103],"(",["T_VARIABLE","$request",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","isSecure",103],"(",")",")",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$request",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","Request",105],["T_DOUBLE_COLON","::",105],["T_STRING","create",105],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/foo?bar=foo'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'GET'",105],",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'baz'",105],")",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEquals",106],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/foo?bar=baz'",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$request",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getUri",106],"(",")",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEquals",107],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$request",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getPathInfo",107],"(",")",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEquals",108],"(",["T_CONSTANT_ENCAPSED_STRING","'bar=baz'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$request",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getQueryString",108],"(",")",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEquals",109],"(",["T_LNUMBER","80",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$request",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getPort",109],"(",")",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEquals",110],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$request",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getHttpHost",110],"(",")",")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertFalse",111],"(",["T_VARIABLE","$request",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","isSecure",111],"(",")",")",";",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$request",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","Request",113],["T_DOUBLE_COLON","::",113],["T_STRING","create",113],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/test.com\/foo?bar=baz'",113],")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertEquals",114],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/test.com\/foo?bar=baz'",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$request",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getUri",114],"(",")",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertEquals",115],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$request",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getPathInfo",115],"(",")",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertEquals",116],"(",["T_CONSTANT_ENCAPSED_STRING","'bar=baz'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$request",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getQueryString",116],"(",")",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertEquals",117],"(",["T_LNUMBER","443",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$request",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getPort",117],"(",")",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertEquals",118],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$request",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getHttpHost",118],"(",")",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertTrue",119],"(",["T_VARIABLE","$request",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","isSecure",119],"(",")",")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$request",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","Request",121],["T_DOUBLE_COLON","::",121],["T_STRING","create",121],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com:90\/foo'",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEquals",122],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com:90\/foo'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$request",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getUri",122],"(",")",")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertEquals",123],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$request",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getPathInfo",123],"(",")",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertEquals",124],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$request",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getHost",124],"(",")",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEquals",125],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com:90'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$request",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getHttpHost",125],"(",")",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertEquals",126],"(",["T_LNUMBER","90",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$request",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getPort",126],"(",")",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertFalse",127],"(",["T_VARIABLE","$request",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","isSecure",127],"(",")",")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$request",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","Request",129],["T_DOUBLE_COLON","::",129],["T_STRING","create",129],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/test.com:90\/foo'",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertEquals",130],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/test.com:90\/foo'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$request",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getUri",130],"(",")",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEquals",131],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$request",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getPathInfo",131],"(",")",")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertEquals",132],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$request",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getHost",132],"(",")",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertEquals",133],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com:90'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$request",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getHttpHost",133],"(",")",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEquals",134],"(",["T_LNUMBER","90",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$request",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getPort",134],"(",")",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertTrue",135],"(",["T_VARIABLE","$request",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","isSecure",135],"(",")",")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$request",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","Request",137],["T_DOUBLE_COLON","::",137],["T_STRING","create",137],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/127.0.0.1:90\/foo'",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertEquals",138],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/127.0.0.1:90\/foo'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$request",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getUri",138],"(",")",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertEquals",139],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$request",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getPathInfo",139],"(",")",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEquals",140],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$request",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getHost",140],"(",")",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEquals",141],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1:90'",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$request",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getHttpHost",141],"(",")",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertEquals",142],"(",["T_LNUMBER","90",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$request",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getPort",142],"(",")",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertTrue",143],"(",["T_VARIABLE","$request",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","isSecure",143],"(",")",")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$request",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","Request",145],["T_DOUBLE_COLON","::",145],["T_STRING","create",145],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/[::1]:90\/foo'",145],")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEquals",146],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/[::1]:90\/foo'",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$request",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getUri",146],"(",")",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEquals",147],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$request",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getPathInfo",147],"(",")",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEquals",148],"(",["T_CONSTANT_ENCAPSED_STRING","'[::1]'",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$request",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getHost",148],"(",")",")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEquals",149],"(",["T_CONSTANT_ENCAPSED_STRING","'[::1]:90'",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$request",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getHttpHost",149],"(",")",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEquals",150],"(",["T_LNUMBER","90",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$request",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getPort",150],"(",")",")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertTrue",151],"(",["T_VARIABLE","$request",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","isSecure",151],"(",")",")",";",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$request",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","Request",153],["T_DOUBLE_COLON","::",153],["T_STRING","create",153],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/[::1]\/foo'",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEquals",154],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/[::1]\/foo'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$request",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getUri",154],"(",")",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertEquals",155],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$request",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getPathInfo",155],"(",")",")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertEquals",156],"(",["T_CONSTANT_ENCAPSED_STRING","'[::1]'",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$request",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getHost",156],"(",")",")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEquals",157],"(",["T_CONSTANT_ENCAPSED_STRING","'[::1]'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$request",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getHttpHost",157],"(",")",")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEquals",158],"(",["T_LNUMBER","443",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$request",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getPort",158],"(",")",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertTrue",159],"(",["T_VARIABLE","$request",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","isSecure",159],"(",")",")",";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$json",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'{\"jsonrpc\":\"2.0\",\"method\":\"echo\",\"id\":7,\"params\":[\"Hello World\"]}'",161],";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$request",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","Request",162],["T_DOUBLE_COLON","::",162],["T_STRING","create",162],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/jsonrpc'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'POST'",162],",",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",")",",",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",")",",",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",")",",",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",")",",",["T_WHITESPACE"," ",162],["T_VARIABLE","$json",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertEquals",163],"(",["T_VARIABLE","$json",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$request",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getContent",163],"(",")",")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertFalse",164],"(",["T_VARIABLE","$request",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","isSecure",164],"(",")",")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$request",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","Request",166],["T_DOUBLE_COLON","::",166],["T_STRING","create",166],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com'",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertEquals",167],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/'",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$request",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getUri",167],"(",")",")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertEquals",168],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$request",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getPathInfo",168],"(",")",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEquals",169],"(",["T_CONSTANT_ENCAPSED_STRING","''",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$request",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getQueryString",169],"(",")",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEquals",170],"(",["T_LNUMBER","80",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$request",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getPort",170],"(",")",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertEquals",171],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$request",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getHttpHost",171],"(",")",")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertFalse",172],"(",["T_VARIABLE","$request",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","isSecure",172],"(",")",")",";",["T_WHITESPACE","\n\n        ",172],["T_VARIABLE","$request",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","Request",174],["T_DOUBLE_COLON","::",174],["T_STRING","create",174],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com?test=1'",174],")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertEquals",175],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/?test=1'",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$request",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getUri",175],"(",")",")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertEquals",176],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$request",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getPathInfo",176],"(",")",")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertEquals",177],"(",["T_CONSTANT_ENCAPSED_STRING","'test=1'",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$request",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getQueryString",177],"(",")",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertEquals",178],"(",["T_LNUMBER","80",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$request",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getPort",178],"(",")",")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertEquals",179],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$request",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getHttpHost",179],"(",")",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertFalse",180],"(",["T_VARIABLE","$request",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","isSecure",180],"(",")",")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$request",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","Request",182],["T_DOUBLE_COLON","::",182],["T_STRING","create",182],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com:90\/?test=1'",182],")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertEquals",183],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com:90\/?test=1'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$request",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getUri",183],"(",")",")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertEquals",184],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$request",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getPathInfo",184],"(",")",")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertEquals",185],"(",["T_CONSTANT_ENCAPSED_STRING","'test=1'",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$request",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getQueryString",185],"(",")",")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertEquals",186],"(",["T_LNUMBER","90",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$request",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getPort",186],"(",")",")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertEquals",187],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com:90'",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$request",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getHttpHost",187],"(",")",")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertFalse",188],"(",["T_VARIABLE","$request",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","isSecure",188],"(",")",")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$request",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","Request",190],["T_DOUBLE_COLON","::",190],["T_STRING","create",190],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/username:password@test.com'",190],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertEquals",191],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$request",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getUri",191],"(",")",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertEquals",192],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$request",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getPathInfo",192],"(",")",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertEquals",193],"(",["T_CONSTANT_ENCAPSED_STRING","''",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$request",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getQueryString",193],"(",")",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertEquals",194],"(",["T_LNUMBER","80",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$request",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getPort",194],"(",")",")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertEquals",195],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$request",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getHttpHost",195],"(",")",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertEquals",196],"(",["T_CONSTANT_ENCAPSED_STRING","'username'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$request",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getUser",196],"(",")",")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertEquals",197],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$request",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getPassword",197],"(",")",")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertFalse",198],"(",["T_VARIABLE","$request",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","isSecure",198],"(",")",")",";",["T_WHITESPACE","\n\n        ",198],["T_VARIABLE","$request",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","Request",200],["T_DOUBLE_COLON","::",200],["T_STRING","create",200],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/username@test.com'",200],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertEquals",201],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/'",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$request",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getUri",201],"(",")",")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertEquals",202],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$request",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getPathInfo",202],"(",")",")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertEquals",203],"(",["T_CONSTANT_ENCAPSED_STRING","''",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$request",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getQueryString",203],"(",")",")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertEquals",204],"(",["T_LNUMBER","80",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$request",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getPort",204],"(",")",")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","assertEquals",205],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$request",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getHttpHost",205],"(",")",")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertEquals",206],"(",["T_CONSTANT_ENCAPSED_STRING","'username'",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$request",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getUser",206],"(",")",")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertSame",207],"(",["T_CONSTANT_ENCAPSED_STRING","''",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$request",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getPassword",207],"(",")",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertFalse",208],"(",["T_VARIABLE","$request",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","isSecure",208],"(",")",")",";",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$request",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","Request",210],["T_DOUBLE_COLON","::",210],["T_STRING","create",210],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/?foo'",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEquals",211],"(",["T_CONSTANT_ENCAPSED_STRING","'\/?foo'",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$request",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getRequestUri",211],"(",")",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertEquals",212],"(",["T_ARRAY","array",212],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","''",212],")",",",["T_WHITESPACE"," ",212],["T_VARIABLE","$request",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","query",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","all",212],"(",")",")",";",["T_WHITESPACE","\n\n        ",212],["T_COMMENT","\/\/ assume rewrite rule: (.*) --> app\/app.php; app\/ is a symlink to a symfony web\/ directory\n",214],["T_WHITESPACE","        ",215],["T_VARIABLE","$request",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","Request",215],["T_DOUBLE_COLON","::",215],["T_STRING","create",215],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/apparthotel-1234'",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'GET'",215],",",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",")",",",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",")",",",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",")",",",["T_WHITESPACE","\n            ",215],["T_ARRAY","array",216],"(",["T_WHITESPACE","\n                ",216],["T_CONSTANT_ENCAPSED_STRING","'DOCUMENT_ROOT'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'\/var\/www\/www.test.com'",217],",",["T_WHITESPACE","\n                ",217],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'\/var\/www\/www.test.com\/app\/app.php'",218],",",["T_WHITESPACE","\n                ",218],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'\/app\/app.php'",219],",",["T_WHITESPACE","\n                ",219],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'\/app\/app.php\/apparthotel-1234'",220],",",["T_WHITESPACE","\n            ",220],")",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEquals",222],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/apparthotel-1234'",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$request",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getUri",222],"(",")",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertEquals",223],"(",["T_CONSTANT_ENCAPSED_STRING","'\/apparthotel-1234'",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$request",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getPathInfo",223],"(",")",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertEquals",224],"(",["T_CONSTANT_ENCAPSED_STRING","''",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$request",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getQueryString",224],"(",")",")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertEquals",225],"(",["T_LNUMBER","80",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$request",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getPort",225],"(",")",")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertEquals",226],"(",["T_CONSTANT_ENCAPSED_STRING","'test.com'",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$request",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getHttpHost",226],"(",")",")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","assertFalse",227],"(",["T_VARIABLE","$request",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","isSecure",227],"(",")",")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","testCreateCheckPrecedence",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_COMMENT","\/\/ server is used by default\n",232],["T_WHITESPACE","        ",233],["T_VARIABLE","$request",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","Request",233],["T_DOUBLE_COLON","::",233],["T_STRING","create",233],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",233],",",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",")",",",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",")",",",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",")",",",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",["T_WHITESPACE","\n            ",233],["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'example.com'",234],",",["T_WHITESPACE","\n            ",234],["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'on'",235],",",["T_WHITESPACE","\n            ",235],["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_LNUMBER","443",236],",",["T_WHITESPACE","\n            ",236],["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'fabien'",237],",",["T_WHITESPACE","\n            ",237],["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'pa$$'",238],",",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'foo=bar'",239],",",["T_WHITESPACE","\n            ",239],["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",240],",",["T_WHITESPACE","\n        ",240],")",")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertEquals",242],"(",["T_CONSTANT_ENCAPSED_STRING","'example.com'",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$request",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getHost",242],"(",")",")",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","assertEquals",243],"(",["T_LNUMBER","443",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$request",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getPort",243],"(",")",")",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","assertTrue",244],"(",["T_VARIABLE","$request",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","isSecure",244],"(",")",")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","assertEquals",245],"(",["T_CONSTANT_ENCAPSED_STRING","'fabien'",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$request",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getUser",245],"(",")",")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertEquals",246],"(",["T_CONSTANT_ENCAPSED_STRING","'pa$$'",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$request",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getPassword",246],"(",")",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertEquals",247],"(",["T_CONSTANT_ENCAPSED_STRING","''",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$request",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getQueryString",247],"(",")",")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","assertEquals",248],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$request",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","headers",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","get",248],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",248],")",")",";",["T_WHITESPACE","\n\n        ",248],["T_COMMENT","\/\/ URI has precedence over server\n",250],["T_WHITESPACE","        ",251],["T_VARIABLE","$request",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","Request",251],["T_DOUBLE_COLON","::",251],["T_STRING","create",251],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/thomas:pokemon@example.net:8080\/?foo=bar'",251],",",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'GET'",251],",",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",",",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",",",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",",",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",["T_WHITESPACE","\n            ",251],["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'example.com'",252],",",["T_WHITESPACE","\n            ",252],["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'on'",253],",",["T_WHITESPACE","\n            ",253],["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_LNUMBER","443",254],",",["T_WHITESPACE","\n        ",254],")",")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertEquals",256],"(",["T_CONSTANT_ENCAPSED_STRING","'example.net'",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$request",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getHost",256],"(",")",")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertEquals",257],"(",["T_LNUMBER","8080",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$request",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getPort",257],"(",")",")",";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","assertFalse",258],"(",["T_VARIABLE","$request",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","isSecure",258],"(",")",")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertEquals",259],"(",["T_CONSTANT_ENCAPSED_STRING","'thomas'",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$request",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getUser",259],"(",")",")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","assertEquals",260],"(",["T_CONSTANT_ENCAPSED_STRING","'pokemon'",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$request",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getPassword",260],"(",")",")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertEquals",261],"(",["T_CONSTANT_ENCAPSED_STRING","'foo=bar'",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$request",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getQueryString",261],"(",")",")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","testDuplicate",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$request",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","Request",266],"(",["T_ARRAY","array",266],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'bar'",266],")",",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'bar'",266],")",",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'bar'",266],")",",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",")",",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",")",",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_FOO'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'bar'",266],")",")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$dup",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$request",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","duplicate",267],"(",")",";",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertEquals",269],"(",["T_VARIABLE","$request",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","query",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","all",269],"(",")",",",["T_WHITESPACE"," ",269],["T_VARIABLE","$dup",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","query",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","all",269],"(",")",",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'->duplicate() duplicates a request an copy the current query parameters'",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertEquals",270],"(",["T_VARIABLE","$request",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","request",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","all",270],"(",")",",",["T_WHITESPACE"," ",270],["T_VARIABLE","$dup",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","request",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","all",270],"(",")",",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'->duplicate() duplicates a request an copy the current request parameters'",270],")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertEquals",271],"(",["T_VARIABLE","$request",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","attributes",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","all",271],"(",")",",",["T_WHITESPACE"," ",271],["T_VARIABLE","$dup",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","attributes",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","all",271],"(",")",",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'->duplicate() duplicates a request an copy the current attributes'",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","assertEquals",272],"(",["T_VARIABLE","$request",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","headers",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","all",272],"(",")",",",["T_WHITESPACE"," ",272],["T_VARIABLE","$dup",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","headers",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","all",272],"(",")",",",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'->duplicate() duplicates a request an copy the current HTTP headers'",272],")",";",["T_WHITESPACE","\n\n        ",272],["T_VARIABLE","$dup",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$request",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","duplicate",274],"(",["T_ARRAY","array",274],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'foobar'",274],")",",",["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'foobar'",274],")",",",["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'foobar'",274],")",",",["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",")",",",["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",")",",",["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_FOO'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'foobar'",274],")",")",";",["T_WHITESPACE","\n\n        ",274],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","assertEquals",276],"(",["T_ARRAY","array",276],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'foobar'",276],")",",",["T_WHITESPACE"," ",276],["T_VARIABLE","$dup",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","query",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","all",276],"(",")",",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'->duplicate() overrides the query parameters if provided'",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","assertEquals",277],"(",["T_ARRAY","array",277],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'foobar'",277],")",",",["T_WHITESPACE"," ",277],["T_VARIABLE","$dup",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","request",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","all",277],"(",")",",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'->duplicate() overrides the request parameters if provided'",277],")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","assertEquals",278],"(",["T_ARRAY","array",278],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'foobar'",278],")",",",["T_WHITESPACE"," ",278],["T_VARIABLE","$dup",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","attributes",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","all",278],"(",")",",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'->duplicate() overrides the attributes if provided'",278],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assertEquals",279],"(",["T_ARRAY","array",279],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_ARRAY","array",279],"(",["T_CONSTANT_ENCAPSED_STRING","'foobar'",279],")",")",",",["T_WHITESPACE"," ",279],["T_VARIABLE","$dup",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","headers",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","all",279],"(",")",",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'->duplicate() overrides the HTTP header if provided'",279],")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","testDuplicateWithFormat",282],"(",")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$request",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_NEW","new",284],["T_WHITESPACE"," ",284],["T_STRING","Request",284],"(",["T_ARRAY","array",284],"(",")",",",["T_WHITESPACE"," ",284],["T_ARRAY","array",284],"(",")",",",["T_WHITESPACE"," ",284],["T_ARRAY","array",284],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'json'",284],")",")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$dup",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$request",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","duplicate",285],"(",")",";",["T_WHITESPACE","\n\n        ",285],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","assertEquals",287],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$dup",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getRequestFormat",287],"(",")",")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","assertEquals",288],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$dup",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","attributes",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","get",288],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",288],")",")",";",["T_WHITESPACE","\n\n        ",288],["T_VARIABLE","$request",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","Request",290],"(",")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$request",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","setRequestFormat",291],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",291],")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$dup",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$request",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","duplicate",292],"(",")",";",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","assertEquals",294],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$dup",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getRequestFormat",294],"(",")",")",";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * @dataProvider getFormatToMimeTypeMapProvider\n     *\/",297],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","testGetFormatFromMimeType",300],"(",["T_VARIABLE","$format",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$mimeTypes",300],")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$request",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_NEW","new",302],["T_WHITESPACE"," ",302],["T_STRING","Request",302],"(",")",";",["T_WHITESPACE","\n        ",302],["T_FOREACH","foreach",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$mimeTypes",303],["T_WHITESPACE"," ",303],["T_AS","as",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$mime",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertEquals",304],"(",["T_VARIABLE","$format",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$request",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getFormat",304],"(",["T_VARIABLE","$mime",304],")",")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$request",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","setFormat",306],"(",["T_VARIABLE","$format",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$mimeTypes",306],")",";",["T_WHITESPACE","\n        ",306],["T_FOREACH","foreach",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$mimeTypes",307],["T_WHITESPACE"," ",307],["T_AS","as",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$mime",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertEquals",308],"(",["T_VARIABLE","$format",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$request",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getFormat",308],"(",["T_VARIABLE","$mime",308],")",")",";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","testGetFormatFromMimeTypeWithParameters",312],"(",")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$request",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_NEW","new",314],["T_WHITESPACE"," ",314],["T_STRING","Request",314],"(",")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","assertEquals",315],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$request",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getFormat",315],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/json; charset=utf-8'",315],")",")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * @dataProvider getFormatToMimeTypeMapProvider\n     *\/",318],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","testGetMimeTypeFromFormat",321],"(",["T_VARIABLE","$format",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$mimeTypes",321],")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_STRING","null",323],["T_WHITESPACE"," ",323],["T_IS_NOT_IDENTICAL","!==",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$format",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$request",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_NEW","new",324],["T_WHITESPACE"," ",324],["T_STRING","Request",324],"(",")",";",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","assertEquals",325],"(",["T_VARIABLE","$mimeTypes",325],"[",["T_LNUMBER","0",325],"]",",",["T_WHITESPACE"," ",325],["T_VARIABLE","$request",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getMimeType",325],"(",["T_VARIABLE","$format",325],")",")",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * @dataProvider getFormatToMimeTypeMapProvider\n     *\/",329],["T_WHITESPACE","\n    ",331],["T_PUBLIC","public",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","testGetMimeTypesFromFormat",332],"(",["T_VARIABLE","$format",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$mimeTypes",332],")",["T_WHITESPACE","\n    ",332],"{",["T_WHITESPACE","\n        ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_STRING","null",334],["T_WHITESPACE"," ",334],["T_IS_NOT_IDENTICAL","!==",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$format",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","assertEquals",335],"(",["T_VARIABLE","$mimeTypes",335],",",["T_WHITESPACE"," ",335],["T_STRING","Request",335],["T_DOUBLE_COLON","::",335],["T_STRING","getMimeTypes",335],"(",["T_VARIABLE","$format",335],")",")",";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","testGetMimeTypesFromInexistentFormat",339],"(",")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$request",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_NEW","new",341],["T_WHITESPACE"," ",341],["T_STRING","Request",341],"(",")",";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","assertNull",342],"(",["T_VARIABLE","$request",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getMimeType",342],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",342],")",")",";",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","assertEquals",343],"(",["T_ARRAY","array",343],"(",")",",",["T_WHITESPACE"," ",343],["T_STRING","Request",343],["T_DOUBLE_COLON","::",343],["T_STRING","getMimeTypes",343],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",343],")",")",";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_PUBLIC","public",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","testGetFormatWithCustomMimeType",346],"(",")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$request",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_NEW","new",348],["T_WHITESPACE"," ",348],["T_STRING","Request",348],"(",")",";",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$request",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","setFormat",349],"(",["T_CONSTANT_ENCAPSED_STRING","'custom'",349],",",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.foo.api;myversion=2.3'",349],")",";",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","assertEquals",350],"(",["T_CONSTANT_ENCAPSED_STRING","'custom'",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$request",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getFormat",350],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.foo.api;myversion=2.3'",350],")",")",";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_PUBLIC","public",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","getFormatToMimeTypeMapProvider",353],"(",")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_ARRAY","array",355],"(",["T_WHITESPACE","\n            ",355],["T_ARRAY","array",356],"(",["T_STRING","null",356],",",["T_WHITESPACE"," ",356],["T_ARRAY","array",356],"(",["T_STRING","null",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'unexistent-mime-type'",356],")",")",",",["T_WHITESPACE","\n            ",356],["T_ARRAY","array",357],"(",["T_CONSTANT_ENCAPSED_STRING","'txt'",357],",",["T_WHITESPACE"," ",357],["T_ARRAY","array",357],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/plain'",357],")",")",",",["T_WHITESPACE","\n            ",357],["T_ARRAY","array",358],"(",["T_CONSTANT_ENCAPSED_STRING","'js'",358],",",["T_WHITESPACE"," ",358],["T_ARRAY","array",358],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/javascript'",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'application\/x-javascript'",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'text\/javascript'",358],")",")",",",["T_WHITESPACE","\n            ",358],["T_ARRAY","array",359],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",359],",",["T_WHITESPACE"," ",359],["T_ARRAY","array",359],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/css'",359],")",")",",",["T_WHITESPACE","\n            ",359],["T_ARRAY","array",360],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",360],",",["T_WHITESPACE"," ",360],["T_ARRAY","array",360],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/json'",360],",",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'application\/x-json'",360],")",")",",",["T_WHITESPACE","\n            ",360],["T_ARRAY","array",361],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",361],",",["T_WHITESPACE"," ",361],["T_ARRAY","array",361],"(",["T_CONSTANT_ENCAPSED_STRING","'text\/xml'",361],",",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'application\/xml'",361],",",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'application\/x-xml'",361],")",")",",",["T_WHITESPACE","\n            ",361],["T_ARRAY","array",362],"(",["T_CONSTANT_ENCAPSED_STRING","'rdf'",362],",",["T_WHITESPACE"," ",362],["T_ARRAY","array",362],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/rdf+xml'",362],")",")",",",["T_WHITESPACE","\n            ",362],["T_ARRAY","array",363],"(",["T_CONSTANT_ENCAPSED_STRING","'atom'",363],",",["T_WHITESPACE"," ",363],["T_ARRAY","array",363],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/atom+xml'",363],")",")",",",["T_WHITESPACE","\n        ",363],")",";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_PUBLIC","public",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","testGetUri",367],"(",")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$server",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_ARRAY","array",369],"(",")",";",["T_WHITESPACE","\n\n        ",369],["T_COMMENT","\/\/ Standard Request on non default PORT\n",371],["T_WHITESPACE","        ",372],["T_COMMENT","\/\/ http:\/\/host:8080\/index.php\/path\/info?query=string\n",372],["T_WHITESPACE","\n        ",373],["T_VARIABLE","$server",374],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",374],"]",["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'host:8080'",374],";",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$server",375],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",375],"]",["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'servername'",375],";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$server",376],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",376],"]",["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'8080'",376],";",["T_WHITESPACE","\n\n        ",376],["T_VARIABLE","$server",378],"[",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",378],"]",["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'query=string'",378],";",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$server",379],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",379],"]",["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'\/index.php\/path\/info?query=string'",379],";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$server",380],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",380],"]",["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",380],";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$server",381],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_INFO'",381],"]",["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'\/path\/info'",381],";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$server",382],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_TRANSLATED'",382],"]",["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'redirect:\/index.php\/path\/info'",382],";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$server",383],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",383],"]",["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'\/index_dev.php\/path\/info'",383],";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$server",384],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",384],"]",["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'\/some\/where\/index.php'",384],";",["T_WHITESPACE","\n\n        ",384],["T_VARIABLE","$request",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_NEW","new",386],["T_WHITESPACE"," ",386],["T_STRING","Request",386],"(",")",";",["T_WHITESPACE","\n\n        ",386],["T_VARIABLE","$request",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","initialize",388],"(",["T_ARRAY","array",388],"(",")",",",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",")",",",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",")",",",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",")",",",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",")",",",["T_WHITESPACE"," ",388],["T_VARIABLE","$server",388],")",";",["T_WHITESPACE","\n\n        ",388],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","assertEquals",390],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host:8080\/index.php\/path\/info?query=string'",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$request",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getUri",390],"(",")",",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'->getUri() with non default port'",390],")",";",["T_WHITESPACE","\n\n        ",390],["T_COMMENT","\/\/ Use std port number\n",392],["T_WHITESPACE","        ",393],["T_VARIABLE","$server",393],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",393],"]",["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'host'",393],";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$server",394],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",394],"]",["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'servername'",394],";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$server",395],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",395],"]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'80'",395],";",["T_WHITESPACE","\n\n        ",395],["T_VARIABLE","$request",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","initialize",397],"(",["T_ARRAY","array",397],"(",")",",",["T_WHITESPACE"," ",397],["T_ARRAY","array",397],"(",")",",",["T_WHITESPACE"," ",397],["T_ARRAY","array",397],"(",")",",",["T_WHITESPACE"," ",397],["T_ARRAY","array",397],"(",")",",",["T_WHITESPACE"," ",397],["T_ARRAY","array",397],"(",")",",",["T_WHITESPACE"," ",397],["T_VARIABLE","$server",397],")",";",["T_WHITESPACE","\n\n        ",397],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","assertEquals",399],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host\/index.php\/path\/info?query=string'",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$request",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getUri",399],"(",")",",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'->getUri() with default port'",399],")",";",["T_WHITESPACE","\n\n        ",399],["T_COMMENT","\/\/ Without HOST HEADER\n",401],["T_WHITESPACE","        ",402],["T_UNSET","unset",402],"(",["T_VARIABLE","$server",402],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",402],"]",")",";",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$server",403],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",403],"]",["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'servername'",403],";",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$server",404],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",404],"]",["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'80'",404],";",["T_WHITESPACE","\n\n        ",404],["T_VARIABLE","$request",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","initialize",406],"(",["T_ARRAY","array",406],"(",")",",",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",")",",",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",")",",",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",")",",",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",")",",",["T_WHITESPACE"," ",406],["T_VARIABLE","$server",406],")",";",["T_WHITESPACE","\n\n        ",406],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","assertEquals",408],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername\/index.php\/path\/info?query=string'",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$request",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getUri",408],"(",")",",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'->getUri() with default port without HOST_HEADER'",408],")",";",["T_WHITESPACE","\n\n        ",408],["T_COMMENT","\/\/ Request with URL REWRITING (hide index.php)\n",410],["T_WHITESPACE","        ",411],["T_COMMENT","\/\/   RewriteCond %{REQUEST_FILENAME} !-f\n",411],["T_WHITESPACE","        ",412],["T_COMMENT","\/\/   RewriteRule ^(.*)$ index.php [QSA,L]\n",412],["T_WHITESPACE","        ",413],["T_COMMENT","\/\/ http:\/\/host:8080\/path\/info?query=string\n",413],["T_WHITESPACE","        ",414],["T_VARIABLE","$server",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_ARRAY","array",414],"(",")",";",["T_WHITESPACE","\n        ",414],["T_VARIABLE","$server",415],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",415],"]",["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'host:8080'",415],";",["T_WHITESPACE","\n        ",415],["T_VARIABLE","$server",416],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",416],"]",["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'servername'",416],";",["T_WHITESPACE","\n        ",416],["T_VARIABLE","$server",417],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",417],"]",["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'8080'",417],";",["T_WHITESPACE","\n\n        ",417],["T_VARIABLE","$server",419],"[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECT_QUERY_STRING'",419],"]",["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'query=string'",419],";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$server",420],"[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECT_URL'",420],"]",["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'\/path\/info'",420],";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$server",421],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",421],"]",["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",421],";",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$server",422],"[",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",422],"]",["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'query=string'",422],";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$server",423],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",423],"]",["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'\/path\/info?toto=test&1=1'",423],";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$server",424],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",424],"]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",424],";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$server",425],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",425],"]",["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",425],";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$server",426],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",426],"]",["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'\/some\/where\/index.php'",426],";",["T_WHITESPACE","\n\n        ",426],["T_VARIABLE","$request",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","initialize",428],"(",["T_ARRAY","array",428],"(",")",",",["T_WHITESPACE"," ",428],["T_ARRAY","array",428],"(",")",",",["T_WHITESPACE"," ",428],["T_ARRAY","array",428],"(",")",",",["T_WHITESPACE"," ",428],["T_ARRAY","array",428],"(",")",",",["T_WHITESPACE"," ",428],["T_ARRAY","array",428],"(",")",",",["T_WHITESPACE"," ",428],["T_VARIABLE","$server",428],")",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","assertEquals",429],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host:8080\/path\/info?query=string'",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$request",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getUri",429],"(",")",",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'->getUri() with rewrite'",429],")",";",["T_WHITESPACE","\n\n        ",429],["T_COMMENT","\/\/ Use std port number\n",431],["T_WHITESPACE","        ",432],["T_COMMENT","\/\/  http:\/\/host\/path\/info?query=string\n",432],["T_WHITESPACE","        ",433],["T_VARIABLE","$server",433],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",433],"]",["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'host'",433],";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$server",434],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",434],"]",["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'servername'",434],";",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$server",435],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",435],"]",["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'80'",435],";",["T_WHITESPACE","\n\n        ",435],["T_VARIABLE","$request",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","initialize",437],"(",["T_ARRAY","array",437],"(",")",",",["T_WHITESPACE"," ",437],["T_ARRAY","array",437],"(",")",",",["T_WHITESPACE"," ",437],["T_ARRAY","array",437],"(",")",",",["T_WHITESPACE"," ",437],["T_ARRAY","array",437],"(",")",",",["T_WHITESPACE"," ",437],["T_ARRAY","array",437],"(",")",",",["T_WHITESPACE"," ",437],["T_VARIABLE","$server",437],")",";",["T_WHITESPACE","\n\n        ",437],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","assertEquals",439],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host\/path\/info?query=string'",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$request",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","getUri",439],"(",")",",",["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","'->getUri() with rewrite and default port'",439],")",";",["T_WHITESPACE","\n\n        ",439],["T_COMMENT","\/\/ Without HOST HEADER\n",441],["T_WHITESPACE","        ",442],["T_UNSET","unset",442],"(",["T_VARIABLE","$server",442],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",442],"]",")",";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$server",443],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",443],"]",["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'servername'",443],";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$server",444],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",444],"]",["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_CONSTANT_ENCAPSED_STRING","'80'",444],";",["T_WHITESPACE","\n\n        ",444],["T_VARIABLE","$request",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","initialize",446],"(",["T_ARRAY","array",446],"(",")",",",["T_WHITESPACE"," ",446],["T_ARRAY","array",446],"(",")",",",["T_WHITESPACE"," ",446],["T_ARRAY","array",446],"(",")",",",["T_WHITESPACE"," ",446],["T_ARRAY","array",446],"(",")",",",["T_WHITESPACE"," ",446],["T_ARRAY","array",446],"(",")",",",["T_WHITESPACE"," ",446],["T_VARIABLE","$server",446],")",";",["T_WHITESPACE","\n\n        ",446],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","assertEquals",448],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername\/path\/info?query=string'",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$request",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getUri",448],"(",")",",",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'->getUri() with rewrite, default port without HOST_HEADER'",448],")",";",["T_WHITESPACE","\n\n        ",448],["T_COMMENT","\/\/ With encoded characters\n",450],["T_WHITESPACE","\n        ",451],["T_VARIABLE","$server",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_ARRAY","array",452],"(",["T_WHITESPACE","\n            ",452],["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","'host:8080'",453],",",["T_WHITESPACE","\n            ",453],["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'servername'",454],",",["T_WHITESPACE","\n            ",454],["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",455],["T_WHITESPACE"," ",455],["T_DOUBLE_ARROW","=>",455],["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'8080'",455],",",["T_WHITESPACE","\n            ",455],["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",456],["T_WHITESPACE"," ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'query=string'",456],",",["T_WHITESPACE","\n            ",456],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'\/ba%20se\/index_dev.php\/foo%20bar\/in+fo?query=string'",457],",",["T_WHITESPACE","\n            ",457],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'\/ba se\/index_dev.php'",458],",",["T_WHITESPACE","\n            ",458],["T_CONSTANT_ENCAPSED_STRING","'PATH_TRANSLATED'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'redirect:\/index.php\/foo bar\/in+fo'",459],",",["T_WHITESPACE","\n            ",459],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","'\/ba se\/index_dev.php\/path\/info'",460],",",["T_WHITESPACE","\n            ",460],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'\/some\/where\/ba se\/index_dev.php'",461],",",["T_WHITESPACE","\n        ",461],")",";",["T_WHITESPACE","\n\n        ",462],["T_VARIABLE","$request",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","initialize",464],"(",["T_ARRAY","array",464],"(",")",",",["T_WHITESPACE"," ",464],["T_ARRAY","array",464],"(",")",",",["T_WHITESPACE"," ",464],["T_ARRAY","array",464],"(",")",",",["T_WHITESPACE"," ",464],["T_ARRAY","array",464],"(",")",",",["T_WHITESPACE"," ",464],["T_ARRAY","array",464],"(",")",",",["T_WHITESPACE"," ",464],["T_VARIABLE","$server",464],")",";",["T_WHITESPACE","\n\n        ",464],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","assertEquals",466],"(",["T_WHITESPACE","\n            ",466],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host:8080\/ba%20se\/index_dev.php\/foo%20bar\/in+fo?query=string'",467],",",["T_WHITESPACE","\n            ",467],["T_VARIABLE","$request",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getUri",468],"(",")",["T_WHITESPACE","\n        ",468],")",";",["T_WHITESPACE","\n\n        ",469],["T_COMMENT","\/\/ with user info\n",471],["T_WHITESPACE","\n        ",472],["T_VARIABLE","$server",473],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",473],"]",["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'fabien'",473],";",["T_WHITESPACE","\n        ",473],["T_VARIABLE","$request",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","initialize",474],"(",["T_ARRAY","array",474],"(",")",",",["T_WHITESPACE"," ",474],["T_ARRAY","array",474],"(",")",",",["T_WHITESPACE"," ",474],["T_ARRAY","array",474],"(",")",",",["T_WHITESPACE"," ",474],["T_ARRAY","array",474],"(",")",",",["T_WHITESPACE"," ",474],["T_ARRAY","array",474],"(",")",",",["T_WHITESPACE"," ",474],["T_VARIABLE","$server",474],")",";",["T_WHITESPACE","\n        ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","assertEquals",475],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host:8080\/ba%20se\/index_dev.php\/foo%20bar\/in+fo?query=string'",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$request",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getUri",475],"(",")",")",";",["T_WHITESPACE","\n\n        ",475],["T_VARIABLE","$server",477],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",477],"]",["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'symfony'",477],";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$request",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","initialize",478],"(",["T_ARRAY","array",478],"(",")",",",["T_WHITESPACE"," ",478],["T_ARRAY","array",478],"(",")",",",["T_WHITESPACE"," ",478],["T_ARRAY","array",478],"(",")",",",["T_WHITESPACE"," ",478],["T_ARRAY","array",478],"(",")",",",["T_WHITESPACE"," ",478],["T_ARRAY","array",478],"(",")",",",["T_WHITESPACE"," ",478],["T_VARIABLE","$server",478],")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","assertEquals",479],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host:8080\/ba%20se\/index_dev.php\/foo%20bar\/in+fo?query=string'",479],",",["T_WHITESPACE"," ",479],["T_VARIABLE","$request",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getUri",479],"(",")",")",";",["T_WHITESPACE","\n    ",479],"}",["T_WHITESPACE","\n\n    ",480],["T_PUBLIC","public",482],["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","testGetUriForPath",482],"(",")",["T_WHITESPACE","\n    ",482],"{",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$request",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_STRING","Request",484],["T_DOUBLE_COLON","::",484],["T_STRING","create",484],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/foo?bar=baz'",484],")",";",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","assertEquals",485],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com\/some\/path'",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$request",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getUriForPath",485],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",485],")",")",";",["T_WHITESPACE","\n\n        ",485],["T_VARIABLE","$request",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_STRING","Request",487],["T_DOUBLE_COLON","::",487],["T_STRING","create",487],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com:90\/foo?bar=baz'",487],")",";",["T_WHITESPACE","\n        ",487],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","assertEquals",488],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/test.com:90\/some\/path'",488],",",["T_WHITESPACE"," ",488],["T_VARIABLE","$request",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","getUriForPath",488],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",488],")",")",";",["T_WHITESPACE","\n\n        ",488],["T_VARIABLE","$request",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_STRING","Request",490],["T_DOUBLE_COLON","::",490],["T_STRING","create",490],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/test.com\/foo?bar=baz'",490],")",";",["T_WHITESPACE","\n        ",490],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","assertEquals",491],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/test.com\/some\/path'",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$request",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getUriForPath",491],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",491],")",")",";",["T_WHITESPACE","\n\n        ",491],["T_VARIABLE","$request",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_STRING","Request",493],["T_DOUBLE_COLON","::",493],["T_STRING","create",493],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/test.com:90\/foo?bar=baz'",493],")",";",["T_WHITESPACE","\n        ",493],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","assertEquals",494],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/test.com:90\/some\/path'",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$request",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getUriForPath",494],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",494],")",")",";",["T_WHITESPACE","\n\n        ",494],["T_VARIABLE","$server",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_ARRAY","array",496],"(",")",";",["T_WHITESPACE","\n\n        ",496],["T_COMMENT","\/\/ Standard Request on non default PORT\n",498],["T_WHITESPACE","        ",499],["T_COMMENT","\/\/ http:\/\/host:8080\/index.php\/path\/info?query=string\n",499],["T_WHITESPACE","\n        ",500],["T_VARIABLE","$server",501],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",501],"]",["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'host:8080'",501],";",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$server",502],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",502],"]",["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'servername'",502],";",["T_WHITESPACE","\n        ",502],["T_VARIABLE","$server",503],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",503],"]",["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","'8080'",503],";",["T_WHITESPACE","\n\n        ",503],["T_VARIABLE","$server",505],"[",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",505],"]",["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'query=string'",505],";",["T_WHITESPACE","\n        ",505],["T_VARIABLE","$server",506],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",506],"]",["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","'\/index.php\/path\/info?query=string'",506],";",["T_WHITESPACE","\n        ",506],["T_VARIABLE","$server",507],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",507],"]",["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",507],";",["T_WHITESPACE","\n        ",507],["T_VARIABLE","$server",508],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_INFO'",508],"]",["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'\/path\/info'",508],";",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$server",509],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_TRANSLATED'",509],"]",["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_CONSTANT_ENCAPSED_STRING","'redirect:\/index.php\/path\/info'",509],";",["T_WHITESPACE","\n        ",509],["T_VARIABLE","$server",510],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",510],"]",["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","'\/index_dev.php\/path\/info'",510],";",["T_WHITESPACE","\n        ",510],["T_VARIABLE","$server",511],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",511],"]",["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_CONSTANT_ENCAPSED_STRING","'\/some\/where\/index.php'",511],";",["T_WHITESPACE","\n\n        ",511],["T_VARIABLE","$request",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_NEW","new",513],["T_WHITESPACE"," ",513],["T_STRING","Request",513],"(",")",";",["T_WHITESPACE","\n\n        ",513],["T_VARIABLE","$request",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","initialize",515],"(",["T_ARRAY","array",515],"(",")",",",["T_WHITESPACE"," ",515],["T_ARRAY","array",515],"(",")",",",["T_WHITESPACE"," ",515],["T_ARRAY","array",515],"(",")",",",["T_WHITESPACE"," ",515],["T_ARRAY","array",515],"(",")",",",["T_WHITESPACE"," ",515],["T_ARRAY","array",515],"(",")",",",["T_WHITESPACE"," ",515],["T_VARIABLE","$server",515],")",";",["T_WHITESPACE","\n\n        ",515],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","assertEquals",517],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host:8080\/index.php\/some\/path'",517],",",["T_WHITESPACE"," ",517],["T_VARIABLE","$request",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getUriForPath",517],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",517],")",",",["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","'->getUriForPath() with non default port'",517],")",";",["T_WHITESPACE","\n\n        ",517],["T_COMMENT","\/\/ Use std port number\n",519],["T_WHITESPACE","        ",520],["T_VARIABLE","$server",520],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",520],"]",["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'host'",520],";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$server",521],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",521],"]",["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","'servername'",521],";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$server",522],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",522],"]",["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'80'",522],";",["T_WHITESPACE","\n\n        ",522],["T_VARIABLE","$request",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","initialize",524],"(",["T_ARRAY","array",524],"(",")",",",["T_WHITESPACE"," ",524],["T_ARRAY","array",524],"(",")",",",["T_WHITESPACE"," ",524],["T_ARRAY","array",524],"(",")",",",["T_WHITESPACE"," ",524],["T_ARRAY","array",524],"(",")",",",["T_WHITESPACE"," ",524],["T_ARRAY","array",524],"(",")",",",["T_WHITESPACE"," ",524],["T_VARIABLE","$server",524],")",";",["T_WHITESPACE","\n\n        ",524],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","assertEquals",526],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host\/index.php\/some\/path'",526],",",["T_WHITESPACE"," ",526],["T_VARIABLE","$request",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","getUriForPath",526],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",526],")",",",["T_WHITESPACE"," ",526],["T_CONSTANT_ENCAPSED_STRING","'->getUriForPath() with default port'",526],")",";",["T_WHITESPACE","\n\n        ",526],["T_COMMENT","\/\/ Without HOST HEADER\n",528],["T_WHITESPACE","        ",529],["T_UNSET","unset",529],"(",["T_VARIABLE","$server",529],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",529],"]",")",";",["T_WHITESPACE","\n        ",529],["T_VARIABLE","$server",530],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",530],"]",["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'servername'",530],";",["T_WHITESPACE","\n        ",530],["T_VARIABLE","$server",531],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",531],"]",["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'80'",531],";",["T_WHITESPACE","\n\n        ",531],["T_VARIABLE","$request",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","initialize",533],"(",["T_ARRAY","array",533],"(",")",",",["T_WHITESPACE"," ",533],["T_ARRAY","array",533],"(",")",",",["T_WHITESPACE"," ",533],["T_ARRAY","array",533],"(",")",",",["T_WHITESPACE"," ",533],["T_ARRAY","array",533],"(",")",",",["T_WHITESPACE"," ",533],["T_ARRAY","array",533],"(",")",",",["T_WHITESPACE"," ",533],["T_VARIABLE","$server",533],")",";",["T_WHITESPACE","\n\n        ",533],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","assertEquals",535],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername\/index.php\/some\/path'",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$request",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getUriForPath",535],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",535],")",",",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'->getUriForPath() with default port without HOST_HEADER'",535],")",";",["T_WHITESPACE","\n\n        ",535],["T_COMMENT","\/\/ Request with URL REWRITING (hide index.php)\n",537],["T_WHITESPACE","        ",538],["T_COMMENT","\/\/   RewriteCond %{REQUEST_FILENAME} !-f\n",538],["T_WHITESPACE","        ",539],["T_COMMENT","\/\/   RewriteRule ^(.*)$ index.php [QSA,L]\n",539],["T_WHITESPACE","        ",540],["T_COMMENT","\/\/ http:\/\/host:8080\/path\/info?query=string\n",540],["T_WHITESPACE","        ",541],["T_VARIABLE","$server",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_ARRAY","array",541],"(",")",";",["T_WHITESPACE","\n        ",541],["T_VARIABLE","$server",542],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",542],"]",["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","'host:8080'",542],";",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$server",543],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",543],"]",["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","'servername'",543],";",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$server",544],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",544],"]",["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'8080'",544],";",["T_WHITESPACE","\n\n        ",544],["T_VARIABLE","$server",546],"[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECT_QUERY_STRING'",546],"]",["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","'query=string'",546],";",["T_WHITESPACE","\n        ",546],["T_VARIABLE","$server",547],"[",["T_CONSTANT_ENCAPSED_STRING","'REDIRECT_URL'",547],"]",["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_CONSTANT_ENCAPSED_STRING","'\/path\/info'",547],";",["T_WHITESPACE","\n        ",547],["T_VARIABLE","$server",548],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",548],"]",["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",548],";",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$server",549],"[",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",549],"]",["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_CONSTANT_ENCAPSED_STRING","'query=string'",549],";",["T_WHITESPACE","\n        ",549],["T_VARIABLE","$server",550],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",550],"]",["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'\/path\/info?toto=test&1=1'",550],";",["T_WHITESPACE","\n        ",550],["T_VARIABLE","$server",551],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",551],"]",["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",551],";",["T_WHITESPACE","\n        ",551],["T_VARIABLE","$server",552],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",552],"]",["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",552],";",["T_WHITESPACE","\n        ",552],["T_VARIABLE","$server",553],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",553],"]",["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","'\/some\/where\/index.php'",553],";",["T_WHITESPACE","\n\n        ",553],["T_VARIABLE","$request",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","initialize",555],"(",["T_ARRAY","array",555],"(",")",",",["T_WHITESPACE"," ",555],["T_ARRAY","array",555],"(",")",",",["T_WHITESPACE"," ",555],["T_ARRAY","array",555],"(",")",",",["T_WHITESPACE"," ",555],["T_ARRAY","array",555],"(",")",",",["T_WHITESPACE"," ",555],["T_ARRAY","array",555],"(",")",",",["T_WHITESPACE"," ",555],["T_VARIABLE","$server",555],")",";",["T_WHITESPACE","\n        ",555],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","assertEquals",556],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host:8080\/some\/path'",556],",",["T_WHITESPACE"," ",556],["T_VARIABLE","$request",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getUriForPath",556],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",556],")",",",["T_WHITESPACE"," ",556],["T_CONSTANT_ENCAPSED_STRING","'->getUri() with rewrite'",556],")",";",["T_WHITESPACE","\n\n        ",556],["T_COMMENT","\/\/ Use std port number\n",558],["T_WHITESPACE","        ",559],["T_COMMENT","\/\/  http:\/\/host\/path\/info?query=string\n",559],["T_WHITESPACE","        ",560],["T_VARIABLE","$server",560],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",560],"]",["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'host'",560],";",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$server",561],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",561],"]",["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_CONSTANT_ENCAPSED_STRING","'servername'",561],";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$server",562],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",562],"]",["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","'80'",562],";",["T_WHITESPACE","\n\n        ",562],["T_VARIABLE","$request",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","initialize",564],"(",["T_ARRAY","array",564],"(",")",",",["T_WHITESPACE"," ",564],["T_ARRAY","array",564],"(",")",",",["T_WHITESPACE"," ",564],["T_ARRAY","array",564],"(",")",",",["T_WHITESPACE"," ",564],["T_ARRAY","array",564],"(",")",",",["T_WHITESPACE"," ",564],["T_ARRAY","array",564],"(",")",",",["T_WHITESPACE"," ",564],["T_VARIABLE","$server",564],")",";",["T_WHITESPACE","\n\n        ",564],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","assertEquals",566],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host\/some\/path'",566],",",["T_WHITESPACE"," ",566],["T_VARIABLE","$request",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","getUriForPath",566],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",566],")",",",["T_WHITESPACE"," ",566],["T_CONSTANT_ENCAPSED_STRING","'->getUriForPath() with rewrite and default port'",566],")",";",["T_WHITESPACE","\n\n        ",566],["T_COMMENT","\/\/ Without HOST HEADER\n",568],["T_WHITESPACE","        ",569],["T_UNSET","unset",569],"(",["T_VARIABLE","$server",569],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",569],"]",")",";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$server",570],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",570],"]",["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_CONSTANT_ENCAPSED_STRING","'servername'",570],";",["T_WHITESPACE","\n        ",570],["T_VARIABLE","$server",571],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",571],"]",["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_CONSTANT_ENCAPSED_STRING","'80'",571],";",["T_WHITESPACE","\n\n        ",571],["T_VARIABLE","$request",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","initialize",573],"(",["T_ARRAY","array",573],"(",")",",",["T_WHITESPACE"," ",573],["T_ARRAY","array",573],"(",")",",",["T_WHITESPACE"," ",573],["T_ARRAY","array",573],"(",")",",",["T_WHITESPACE"," ",573],["T_ARRAY","array",573],"(",")",",",["T_WHITESPACE"," ",573],["T_ARRAY","array",573],"(",")",",",["T_WHITESPACE"," ",573],["T_VARIABLE","$server",573],")",";",["T_WHITESPACE","\n\n        ",573],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","assertEquals",575],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername\/some\/path'",575],",",["T_WHITESPACE"," ",575],["T_VARIABLE","$request",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","getUriForPath",575],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",575],")",",",["T_WHITESPACE"," ",575],["T_CONSTANT_ENCAPSED_STRING","'->getUriForPath() with rewrite, default port without HOST_HEADER'",575],")",";",["T_WHITESPACE","\n        ",575],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","assertEquals",576],"(",["T_CONSTANT_ENCAPSED_STRING","'servername'",576],",",["T_WHITESPACE"," ",576],["T_VARIABLE","$request",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","getHttpHost",576],"(",")",")",";",["T_WHITESPACE","\n\n        ",576],["T_COMMENT","\/\/ with user info\n",578],["T_WHITESPACE","\n        ",579],["T_VARIABLE","$server",580],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",580],"]",["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_CONSTANT_ENCAPSED_STRING","'fabien'",580],";",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$request",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","initialize",581],"(",["T_ARRAY","array",581],"(",")",",",["T_WHITESPACE"," ",581],["T_ARRAY","array",581],"(",")",",",["T_WHITESPACE"," ",581],["T_ARRAY","array",581],"(",")",",",["T_WHITESPACE"," ",581],["T_ARRAY","array",581],"(",")",",",["T_WHITESPACE"," ",581],["T_ARRAY","array",581],"(",")",",",["T_WHITESPACE"," ",581],["T_VARIABLE","$server",581],")",";",["T_WHITESPACE","\n        ",581],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","assertEquals",582],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername\/some\/path'",582],",",["T_WHITESPACE"," ",582],["T_VARIABLE","$request",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","getUriForPath",582],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",582],")",")",";",["T_WHITESPACE","\n\n        ",582],["T_VARIABLE","$server",584],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",584],"]",["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","'symfony'",584],";",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$request",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","initialize",585],"(",["T_ARRAY","array",585],"(",")",",",["T_WHITESPACE"," ",585],["T_ARRAY","array",585],"(",")",",",["T_WHITESPACE"," ",585],["T_ARRAY","array",585],"(",")",",",["T_WHITESPACE"," ",585],["T_ARRAY","array",585],"(",")",",",["T_WHITESPACE"," ",585],["T_ARRAY","array",585],"(",")",",",["T_WHITESPACE"," ",585],["T_VARIABLE","$server",585],")",";",["T_WHITESPACE","\n        ",585],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","assertEquals",586],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername\/some\/path'",586],",",["T_WHITESPACE"," ",586],["T_VARIABLE","$request",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","getUriForPath",586],"(",["T_CONSTANT_ENCAPSED_STRING","'\/some\/path'",586],")",")",";",["T_WHITESPACE","\n    ",586],"}",["T_WHITESPACE","\n\n    ",587],["T_DOC_COMMENT","\/**\n     * @dataProvider getRelativeUriForPathData()\n     *\/",589],["T_WHITESPACE","\n    ",591],["T_PUBLIC","public",592],["T_WHITESPACE"," ",592],["T_FUNCTION","function",592],["T_WHITESPACE"," ",592],["T_STRING","testGetRelativeUriForPath",592],"(",["T_VARIABLE","$expected",592],",",["T_WHITESPACE"," ",592],["T_VARIABLE","$pathinfo",592],",",["T_WHITESPACE"," ",592],["T_VARIABLE","$path",592],")",["T_WHITESPACE","\n    ",592],"{",["T_WHITESPACE","\n        ",593],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","assertEquals",594],"(",["T_VARIABLE","$expected",594],",",["T_WHITESPACE"," ",594],["T_STRING","Request",594],["T_DOUBLE_COLON","::",594],["T_STRING","create",594],"(",["T_VARIABLE","$pathinfo",594],")",["T_OBJECT_OPERATOR","->",594],["T_STRING","getRelativeUriForPath",594],"(",["T_VARIABLE","$path",594],")",")",";",["T_WHITESPACE","\n    ",594],"}",["T_WHITESPACE","\n\n    ",595],["T_PUBLIC","public",597],["T_WHITESPACE"," ",597],["T_FUNCTION","function",597],["T_WHITESPACE"," ",597],["T_STRING","getRelativeUriForPathData",597],"(",")",["T_WHITESPACE","\n    ",597],"{",["T_WHITESPACE","\n        ",598],["T_RETURN","return",599],["T_WHITESPACE"," ",599],["T_ARRAY","array",599],"(",["T_WHITESPACE","\n            ",599],["T_ARRAY","array",600],"(",["T_CONSTANT_ENCAPSED_STRING","'me.png'",600],",",["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'\/foo'",600],",",["T_WHITESPACE"," ",600],["T_CONSTANT_ENCAPSED_STRING","'\/me.png'",600],")",",",["T_WHITESPACE","\n            ",600],["T_ARRAY","array",601],"(",["T_CONSTANT_ENCAPSED_STRING","'..\/me.png'",601],",",["T_WHITESPACE"," ",601],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",601],",",["T_WHITESPACE"," ",601],["T_CONSTANT_ENCAPSED_STRING","'\/me.png'",601],")",",",["T_WHITESPACE","\n            ",601],["T_ARRAY","array",602],"(",["T_CONSTANT_ENCAPSED_STRING","'me.png'",602],",",["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",602],",",["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/me.png'",602],")",",",["T_WHITESPACE","\n            ",602],["T_ARRAY","array",603],"(",["T_CONSTANT_ENCAPSED_STRING","'..\/baz\/me.png'",603],",",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar\/b'",603],",",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/baz\/me.png'",603],")",",",["T_WHITESPACE","\n            ",603],["T_ARRAY","array",604],"(",["T_CONSTANT_ENCAPSED_STRING","'..\/..\/fooz\/baz\/me.png'",604],",",["T_WHITESPACE"," ",604],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar\/b'",604],",",["T_WHITESPACE"," ",604],["T_CONSTANT_ENCAPSED_STRING","'\/fooz\/baz\/me.png'",604],")",",",["T_WHITESPACE","\n            ",604],["T_ARRAY","array",605],"(",["T_CONSTANT_ENCAPSED_STRING","'baz\/me.png'",605],",",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar\/b'",605],",",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'baz\/me.png'",605],")",",",["T_WHITESPACE","\n        ",605],")",";",["T_WHITESPACE","\n    ",606],"}",["T_WHITESPACE","\n\n    ",607],["T_PUBLIC","public",609],["T_WHITESPACE"," ",609],["T_FUNCTION","function",609],["T_WHITESPACE"," ",609],["T_STRING","testGetUserInfo",609],"(",")",["T_WHITESPACE","\n    ",609],"{",["T_WHITESPACE","\n        ",610],["T_VARIABLE","$request",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_NEW","new",611],["T_WHITESPACE"," ",611],["T_STRING","Request",611],"(",")",";",["T_WHITESPACE","\n\n        ",611],["T_VARIABLE","$server",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_ARRAY","array",613],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",613],["T_WHITESPACE"," ",613],["T_DOUBLE_ARROW","=>",613],["T_WHITESPACE"," ",613],["T_CONSTANT_ENCAPSED_STRING","'fabien'",613],")",";",["T_WHITESPACE","\n        ",613],["T_VARIABLE","$request",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","initialize",614],"(",["T_ARRAY","array",614],"(",")",",",["T_WHITESPACE"," ",614],["T_ARRAY","array",614],"(",")",",",["T_WHITESPACE"," ",614],["T_ARRAY","array",614],"(",")",",",["T_WHITESPACE"," ",614],["T_ARRAY","array",614],"(",")",",",["T_WHITESPACE"," ",614],["T_ARRAY","array",614],"(",")",",",["T_WHITESPACE"," ",614],["T_VARIABLE","$server",614],")",";",["T_WHITESPACE","\n        ",614],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","assertEquals",615],"(",["T_CONSTANT_ENCAPSED_STRING","'fabien'",615],",",["T_WHITESPACE"," ",615],["T_VARIABLE","$request",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","getUserInfo",615],"(",")",")",";",["T_WHITESPACE","\n\n        ",615],["T_VARIABLE","$server",617],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",617],"]",["T_WHITESPACE"," ",617],"=",["T_WHITESPACE"," ",617],["T_CONSTANT_ENCAPSED_STRING","'0'",617],";",["T_WHITESPACE","\n        ",617],["T_VARIABLE","$request",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","initialize",618],"(",["T_ARRAY","array",618],"(",")",",",["T_WHITESPACE"," ",618],["T_ARRAY","array",618],"(",")",",",["T_WHITESPACE"," ",618],["T_ARRAY","array",618],"(",")",",",["T_WHITESPACE"," ",618],["T_ARRAY","array",618],"(",")",",",["T_WHITESPACE"," ",618],["T_ARRAY","array",618],"(",")",",",["T_WHITESPACE"," ",618],["T_VARIABLE","$server",618],")",";",["T_WHITESPACE","\n        ",618],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","assertEquals",619],"(",["T_CONSTANT_ENCAPSED_STRING","'0'",619],",",["T_WHITESPACE"," ",619],["T_VARIABLE","$request",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","getUserInfo",619],"(",")",")",";",["T_WHITESPACE","\n\n        ",619],["T_VARIABLE","$server",621],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",621],"]",["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_CONSTANT_ENCAPSED_STRING","'0'",621],";",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$request",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","initialize",622],"(",["T_ARRAY","array",622],"(",")",",",["T_WHITESPACE"," ",622],["T_ARRAY","array",622],"(",")",",",["T_WHITESPACE"," ",622],["T_ARRAY","array",622],"(",")",",",["T_WHITESPACE"," ",622],["T_ARRAY","array",622],"(",")",",",["T_WHITESPACE"," ",622],["T_ARRAY","array",622],"(",")",",",["T_WHITESPACE"," ",622],["T_VARIABLE","$server",622],")",";",["T_WHITESPACE","\n        ",622],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","assertEquals",623],"(",["T_CONSTANT_ENCAPSED_STRING","'0:0'",623],",",["T_WHITESPACE"," ",623],["T_VARIABLE","$request",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","getUserInfo",623],"(",")",")",";",["T_WHITESPACE","\n    ",623],"}",["T_WHITESPACE","\n\n    ",624],["T_PUBLIC","public",626],["T_WHITESPACE"," ",626],["T_FUNCTION","function",626],["T_WHITESPACE"," ",626],["T_STRING","testGetSchemeAndHttpHost",626],"(",")",["T_WHITESPACE","\n    ",626],"{",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$request",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_NEW","new",628],["T_WHITESPACE"," ",628],["T_STRING","Request",628],"(",")",";",["T_WHITESPACE","\n\n        ",628],["T_VARIABLE","$server",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_ARRAY","array",630],"(",")",";",["T_WHITESPACE","\n        ",630],["T_VARIABLE","$server",631],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",631],"]",["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_CONSTANT_ENCAPSED_STRING","'servername'",631],";",["T_WHITESPACE","\n        ",631],["T_VARIABLE","$server",632],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",632],"]",["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_CONSTANT_ENCAPSED_STRING","'90'",632],";",["T_WHITESPACE","\n        ",632],["T_VARIABLE","$request",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","initialize",633],"(",["T_ARRAY","array",633],"(",")",",",["T_WHITESPACE"," ",633],["T_ARRAY","array",633],"(",")",",",["T_WHITESPACE"," ",633],["T_ARRAY","array",633],"(",")",",",["T_WHITESPACE"," ",633],["T_ARRAY","array",633],"(",")",",",["T_WHITESPACE"," ",633],["T_ARRAY","array",633],"(",")",",",["T_WHITESPACE"," ",633],["T_VARIABLE","$server",633],")",";",["T_WHITESPACE","\n        ",633],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","assertEquals",634],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername:90'",634],",",["T_WHITESPACE"," ",634],["T_VARIABLE","$request",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getSchemeAndHttpHost",634],"(",")",")",";",["T_WHITESPACE","\n\n        ",634],["T_VARIABLE","$server",636],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",636],"]",["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'fabien'",636],";",["T_WHITESPACE","\n        ",636],["T_VARIABLE","$request",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","initialize",637],"(",["T_ARRAY","array",637],"(",")",",",["T_WHITESPACE"," ",637],["T_ARRAY","array",637],"(",")",",",["T_WHITESPACE"," ",637],["T_ARRAY","array",637],"(",")",",",["T_WHITESPACE"," ",637],["T_ARRAY","array",637],"(",")",",",["T_WHITESPACE"," ",637],["T_ARRAY","array",637],"(",")",",",["T_WHITESPACE"," ",637],["T_VARIABLE","$server",637],")",";",["T_WHITESPACE","\n        ",637],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","assertEquals",638],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername:90'",638],",",["T_WHITESPACE"," ",638],["T_VARIABLE","$request",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","getSchemeAndHttpHost",638],"(",")",")",";",["T_WHITESPACE","\n\n        ",638],["T_VARIABLE","$server",640],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",640],"]",["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_CONSTANT_ENCAPSED_STRING","'0'",640],";",["T_WHITESPACE","\n        ",640],["T_VARIABLE","$request",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","initialize",641],"(",["T_ARRAY","array",641],"(",")",",",["T_WHITESPACE"," ",641],["T_ARRAY","array",641],"(",")",",",["T_WHITESPACE"," ",641],["T_ARRAY","array",641],"(",")",",",["T_WHITESPACE"," ",641],["T_ARRAY","array",641],"(",")",",",["T_WHITESPACE"," ",641],["T_ARRAY","array",641],"(",")",",",["T_WHITESPACE"," ",641],["T_VARIABLE","$server",641],")",";",["T_WHITESPACE","\n        ",641],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","assertEquals",642],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername:90'",642],",",["T_WHITESPACE"," ",642],["T_VARIABLE","$request",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","getSchemeAndHttpHost",642],"(",")",")",";",["T_WHITESPACE","\n\n        ",642],["T_VARIABLE","$server",644],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",644],"]",["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_CONSTANT_ENCAPSED_STRING","'0'",644],";",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$request",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","initialize",645],"(",["T_ARRAY","array",645],"(",")",",",["T_WHITESPACE"," ",645],["T_ARRAY","array",645],"(",")",",",["T_WHITESPACE"," ",645],["T_ARRAY","array",645],"(",")",",",["T_WHITESPACE"," ",645],["T_ARRAY","array",645],"(",")",",",["T_WHITESPACE"," ",645],["T_ARRAY","array",645],"(",")",",",["T_WHITESPACE"," ",645],["T_VARIABLE","$server",645],")",";",["T_WHITESPACE","\n        ",645],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","assertEquals",646],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/servername:90'",646],",",["T_WHITESPACE"," ",646],["T_VARIABLE","$request",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getSchemeAndHttpHost",646],"(",")",")",";",["T_WHITESPACE","\n    ",646],"}",["T_WHITESPACE","\n\n    ",647],["T_DOC_COMMENT","\/**\n     * @dataProvider getQueryStringNormalizationData\n     *\/",649],["T_WHITESPACE","\n    ",651],["T_PUBLIC","public",652],["T_WHITESPACE"," ",652],["T_FUNCTION","function",652],["T_WHITESPACE"," ",652],["T_STRING","testGetQueryString",652],"(",["T_VARIABLE","$query",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$expectedQuery",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$msg",652],")",["T_WHITESPACE","\n    ",652],"{",["T_WHITESPACE","\n        ",653],["T_VARIABLE","$request",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_NEW","new",654],["T_WHITESPACE"," ",654],["T_STRING","Request",654],"(",")",";",["T_WHITESPACE","\n\n        ",654],["T_VARIABLE","$request",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","server",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","set",656],"(",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",656],",",["T_WHITESPACE"," ",656],["T_VARIABLE","$query",656],")",";",["T_WHITESPACE","\n        ",656],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","assertSame",657],"(",["T_VARIABLE","$expectedQuery",657],",",["T_WHITESPACE"," ",657],["T_VARIABLE","$request",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","getQueryString",657],"(",")",",",["T_WHITESPACE"," ",657],["T_VARIABLE","$msg",657],")",";",["T_WHITESPACE","\n    ",657],"}",["T_WHITESPACE","\n\n    ",658],["T_PUBLIC","public",660],["T_WHITESPACE"," ",660],["T_FUNCTION","function",660],["T_WHITESPACE"," ",660],["T_STRING","getQueryStringNormalizationData",660],"(",")",["T_WHITESPACE","\n    ",660],"{",["T_WHITESPACE","\n        ",661],["T_RETURN","return",662],["T_WHITESPACE"," ",662],["T_ARRAY","array",662],"(",["T_WHITESPACE","\n            ",662],["T_ARRAY","array",663],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",663],",",["T_WHITESPACE"," ",663],["T_CONSTANT_ENCAPSED_STRING","'foo'",663],",",["T_WHITESPACE"," ",663],["T_CONSTANT_ENCAPSED_STRING","'works with valueless parameters'",663],")",",",["T_WHITESPACE","\n            ",663],["T_ARRAY","array",664],"(",["T_CONSTANT_ENCAPSED_STRING","'foo='",664],",",["T_WHITESPACE"," ",664],["T_CONSTANT_ENCAPSED_STRING","'foo='",664],",",["T_WHITESPACE"," ",664],["T_CONSTANT_ENCAPSED_STRING","'includes a dangling equal sign'",664],")",",",["T_WHITESPACE","\n            ",664],["T_ARRAY","array",665],"(",["T_CONSTANT_ENCAPSED_STRING","'bar=&foo=bar'",665],",",["T_WHITESPACE"," ",665],["T_CONSTANT_ENCAPSED_STRING","'bar=&foo=bar'",665],",",["T_WHITESPACE"," ",665],["T_CONSTANT_ENCAPSED_STRING","'->works with empty parameters'",665],")",",",["T_WHITESPACE","\n            ",665],["T_ARRAY","array",666],"(",["T_CONSTANT_ENCAPSED_STRING","'foo=bar&bar='",666],",",["T_WHITESPACE"," ",666],["T_CONSTANT_ENCAPSED_STRING","'bar=&foo=bar'",666],",",["T_WHITESPACE"," ",666],["T_CONSTANT_ENCAPSED_STRING","'sorts keys alphabetically'",666],")",",",["T_WHITESPACE","\n\n            ",666],["T_COMMENT","\/\/ GET parameters, that are submitted from a HTML form, encode spaces as \"+\" by default (as defined in enctype application\/x-www-form-urlencoded).\n",668],["T_WHITESPACE","            ",669],["T_COMMENT","\/\/ PHP also converts \"+\" to spaces when filling the global _GET or when using the function parse_str.\n",669],["T_WHITESPACE","            ",670],["T_ARRAY","array",670],"(",["T_CONSTANT_ENCAPSED_STRING","'him=John%20Doe&her=Jane+Doe'",670],",",["T_WHITESPACE"," ",670],["T_CONSTANT_ENCAPSED_STRING","'her=Jane%20Doe&him=John%20Doe'",670],",",["T_WHITESPACE"," ",670],["T_CONSTANT_ENCAPSED_STRING","'normalizes spaces in both encodings \"%20\" and \"+\"'",670],")",",",["T_WHITESPACE","\n\n            ",670],["T_ARRAY","array",672],"(",["T_CONSTANT_ENCAPSED_STRING","'foo[]=1&foo[]=2'",672],",",["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'foo%5B%5D=1&foo%5B%5D=2'",672],",",["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'allows array notation'",672],")",",",["T_WHITESPACE","\n            ",672],["T_ARRAY","array",673],"(",["T_CONSTANT_ENCAPSED_STRING","'foo=1&foo=2'",673],",",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","'foo=1&foo=2'",673],",",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","'allows repeated parameters'",673],")",",",["T_WHITESPACE","\n            ",673],["T_ARRAY","array",674],"(",["T_CONSTANT_ENCAPSED_STRING","'pa%3Dram=foo%26bar%3Dbaz&test=test'",674],",",["T_WHITESPACE"," ",674],["T_CONSTANT_ENCAPSED_STRING","'pa%3Dram=foo%26bar%3Dbaz&test=test'",674],",",["T_WHITESPACE"," ",674],["T_CONSTANT_ENCAPSED_STRING","'works with encoded delimiters'",674],")",",",["T_WHITESPACE","\n            ",674],["T_ARRAY","array",675],"(",["T_CONSTANT_ENCAPSED_STRING","'0'",675],",",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'0'",675],",",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'allows \"0\"'",675],")",",",["T_WHITESPACE","\n            ",675],["T_ARRAY","array",676],"(",["T_CONSTANT_ENCAPSED_STRING","'Jane Doe&John%20Doe'",676],",",["T_WHITESPACE"," ",676],["T_CONSTANT_ENCAPSED_STRING","'Jane%20Doe&John%20Doe'",676],",",["T_WHITESPACE"," ",676],["T_CONSTANT_ENCAPSED_STRING","'normalizes encoding in keys'",676],")",",",["T_WHITESPACE","\n            ",676],["T_ARRAY","array",677],"(",["T_CONSTANT_ENCAPSED_STRING","'her=Jane Doe&him=John%20Doe'",677],",",["T_WHITESPACE"," ",677],["T_CONSTANT_ENCAPSED_STRING","'her=Jane%20Doe&him=John%20Doe'",677],",",["T_WHITESPACE"," ",677],["T_CONSTANT_ENCAPSED_STRING","'normalizes encoding in values'",677],")",",",["T_WHITESPACE","\n            ",677],["T_ARRAY","array",678],"(",["T_CONSTANT_ENCAPSED_STRING","'foo=bar&&&test&&'",678],",",["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","'foo=bar&test'",678],",",["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","'removes unneeded delimiters'",678],")",",",["T_WHITESPACE","\n            ",678],["T_ARRAY","array",679],"(",["T_CONSTANT_ENCAPSED_STRING","'formula=e=m*c^2'",679],",",["T_WHITESPACE"," ",679],["T_CONSTANT_ENCAPSED_STRING","'formula=e%3Dm%2Ac%5E2'",679],",",["T_WHITESPACE"," ",679],["T_CONSTANT_ENCAPSED_STRING","'correctly treats only the first \"=\" as delimiter and the next as value'",679],")",",",["T_WHITESPACE","\n\n            ",679],["T_COMMENT","\/\/ Ignore pairs with empty key, even if there was a value, e.g. \"=value\", as such nameless values cannot be retrieved anyway.\n",681],["T_WHITESPACE","            ",682],["T_COMMENT","\/\/ PHP also does not include them when building _GET.\n",682],["T_WHITESPACE","            ",683],["T_ARRAY","array",683],"(",["T_CONSTANT_ENCAPSED_STRING","'foo=bar&=a=b&=x=y'",683],",",["T_WHITESPACE"," ",683],["T_CONSTANT_ENCAPSED_STRING","'foo=bar'",683],",",["T_WHITESPACE"," ",683],["T_CONSTANT_ENCAPSED_STRING","'removes params with empty key'",683],")",",",["T_WHITESPACE","\n        ",683],")",";",["T_WHITESPACE","\n    ",684],"}",["T_WHITESPACE","\n\n    ",685],["T_PUBLIC","public",687],["T_WHITESPACE"," ",687],["T_FUNCTION","function",687],["T_WHITESPACE"," ",687],["T_STRING","testGetQueryStringReturnsNull",687],"(",")",["T_WHITESPACE","\n    ",687],"{",["T_WHITESPACE","\n        ",688],["T_VARIABLE","$request",689],["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],["T_NEW","new",689],["T_WHITESPACE"," ",689],["T_STRING","Request",689],"(",")",";",["T_WHITESPACE","\n\n        ",689],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","assertNull",691],"(",["T_VARIABLE","$request",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","getQueryString",691],"(",")",",",["T_WHITESPACE"," ",691],["T_CONSTANT_ENCAPSED_STRING","'->getQueryString() returns null for non-existent query string'",691],")",";",["T_WHITESPACE","\n\n        ",691],["T_VARIABLE","$request",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","server",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","set",693],"(",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",693],",",["T_WHITESPACE"," ",693],["T_CONSTANT_ENCAPSED_STRING","''",693],")",";",["T_WHITESPACE","\n        ",693],["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","assertNull",694],"(",["T_VARIABLE","$request",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","getQueryString",694],"(",")",",",["T_WHITESPACE"," ",694],["T_CONSTANT_ENCAPSED_STRING","'->getQueryString() returns null for empty query string'",694],")",";",["T_WHITESPACE","\n    ",694],"}",["T_WHITESPACE","\n\n    ",695],["T_PUBLIC","public",697],["T_WHITESPACE"," ",697],["T_FUNCTION","function",697],["T_WHITESPACE"," ",697],["T_STRING","testGetHost",697],"(",")",["T_WHITESPACE","\n    ",697],"{",["T_WHITESPACE","\n        ",698],["T_VARIABLE","$request",699],["T_WHITESPACE"," ",699],"=",["T_WHITESPACE"," ",699],["T_NEW","new",699],["T_WHITESPACE"," ",699],["T_STRING","Request",699],"(",")",";",["T_WHITESPACE","\n\n        ",699],["T_VARIABLE","$request",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","initialize",701],"(",["T_ARRAY","array",701],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",701],["T_WHITESPACE"," ",701],["T_DOUBLE_ARROW","=>",701],["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'bar'",701],")",")",";",["T_WHITESPACE","\n        ",701],["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","assertEquals",702],"(",["T_CONSTANT_ENCAPSED_STRING","''",702],",",["T_WHITESPACE"," ",702],["T_VARIABLE","$request",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","getHost",702],"(",")",",",["T_WHITESPACE"," ",702],["T_CONSTANT_ENCAPSED_STRING","'->getHost() return empty string if not initialized'",702],")",";",["T_WHITESPACE","\n\n        ",702],["T_VARIABLE","$request",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","initialize",704],"(",["T_ARRAY","array",704],"(",")",",",["T_WHITESPACE"," ",704],["T_ARRAY","array",704],"(",")",",",["T_WHITESPACE"," ",704],["T_ARRAY","array",704],"(",")",",",["T_WHITESPACE"," ",704],["T_ARRAY","array",704],"(",")",",",["T_WHITESPACE"," ",704],["T_ARRAY","array",704],"(",")",",",["T_WHITESPACE"," ",704],["T_ARRAY","array",704],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",704],["T_WHITESPACE"," ",704],["T_DOUBLE_ARROW","=>",704],["T_WHITESPACE"," ",704],["T_CONSTANT_ENCAPSED_STRING","'www.example.com'",704],")",")",";",["T_WHITESPACE","\n        ",704],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","assertEquals",705],"(",["T_CONSTANT_ENCAPSED_STRING","'www.example.com'",705],",",["T_WHITESPACE"," ",705],["T_VARIABLE","$request",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","getHost",705],"(",")",",",["T_WHITESPACE"," ",705],["T_CONSTANT_ENCAPSED_STRING","'->getHost() from Host Header'",705],")",";",["T_WHITESPACE","\n\n        ",705],["T_COMMENT","\/\/ Host header with port number\n",707],["T_WHITESPACE","        ",708],["T_VARIABLE","$request",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","initialize",708],"(",["T_ARRAY","array",708],"(",")",",",["T_WHITESPACE"," ",708],["T_ARRAY","array",708],"(",")",",",["T_WHITESPACE"," ",708],["T_ARRAY","array",708],"(",")",",",["T_WHITESPACE"," ",708],["T_ARRAY","array",708],"(",")",",",["T_WHITESPACE"," ",708],["T_ARRAY","array",708],"(",")",",",["T_WHITESPACE"," ",708],["T_ARRAY","array",708],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",708],["T_WHITESPACE"," ",708],["T_DOUBLE_ARROW","=>",708],["T_WHITESPACE"," ",708],["T_CONSTANT_ENCAPSED_STRING","'www.example.com:8080'",708],")",")",";",["T_WHITESPACE","\n        ",708],["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","assertEquals",709],"(",["T_CONSTANT_ENCAPSED_STRING","'www.example.com'",709],",",["T_WHITESPACE"," ",709],["T_VARIABLE","$request",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","getHost",709],"(",")",",",["T_WHITESPACE"," ",709],["T_CONSTANT_ENCAPSED_STRING","'->getHost() from Host Header with port number'",709],")",";",["T_WHITESPACE","\n\n        ",709],["T_COMMENT","\/\/ Server values\n",711],["T_WHITESPACE","        ",712],["T_VARIABLE","$request",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","initialize",712],"(",["T_ARRAY","array",712],"(",")",",",["T_WHITESPACE"," ",712],["T_ARRAY","array",712],"(",")",",",["T_WHITESPACE"," ",712],["T_ARRAY","array",712],"(",")",",",["T_WHITESPACE"," ",712],["T_ARRAY","array",712],"(",")",",",["T_WHITESPACE"," ",712],["T_ARRAY","array",712],"(",")",",",["T_WHITESPACE"," ",712],["T_ARRAY","array",712],"(",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",712],["T_WHITESPACE"," ",712],["T_DOUBLE_ARROW","=>",712],["T_WHITESPACE"," ",712],["T_CONSTANT_ENCAPSED_STRING","'www.example.com'",712],")",")",";",["T_WHITESPACE","\n        ",712],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","assertEquals",713],"(",["T_CONSTANT_ENCAPSED_STRING","'www.example.com'",713],",",["T_WHITESPACE"," ",713],["T_VARIABLE","$request",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","getHost",713],"(",")",",",["T_WHITESPACE"," ",713],["T_CONSTANT_ENCAPSED_STRING","'->getHost() from server name'",713],")",";",["T_WHITESPACE","\n\n        ",713],["T_VARIABLE","$request",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","initialize",715],"(",["T_ARRAY","array",715],"(",")",",",["T_WHITESPACE"," ",715],["T_ARRAY","array",715],"(",")",",",["T_WHITESPACE"," ",715],["T_ARRAY","array",715],"(",")",",",["T_WHITESPACE"," ",715],["T_ARRAY","array",715],"(",")",",",["T_WHITESPACE"," ",715],["T_ARRAY","array",715],"(",")",",",["T_WHITESPACE"," ",715],["T_ARRAY","array",715],"(",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",715],["T_WHITESPACE"," ",715],["T_DOUBLE_ARROW","=>",715],["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","'www.example.com'",715],",",["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",715],["T_WHITESPACE"," ",715],["T_DOUBLE_ARROW","=>",715],["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","'www.host.com'",715],")",")",";",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","assertEquals",716],"(",["T_CONSTANT_ENCAPSED_STRING","'www.host.com'",716],",",["T_WHITESPACE"," ",716],["T_VARIABLE","$request",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","getHost",716],"(",")",",",["T_WHITESPACE"," ",716],["T_CONSTANT_ENCAPSED_STRING","'->getHost() value from Host header has priority over SERVER_NAME '",716],")",";",["T_WHITESPACE","\n    ",716],"}",["T_WHITESPACE","\n\n    ",717],["T_PUBLIC","public",719],["T_WHITESPACE"," ",719],["T_FUNCTION","function",719],["T_WHITESPACE"," ",719],["T_STRING","testGetPort",719],"(",")",["T_WHITESPACE","\n    ",719],"{",["T_WHITESPACE","\n        ",720],["T_VARIABLE","$request",721],["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_STRING","Request",721],["T_DOUBLE_COLON","::",721],["T_STRING","create",721],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",721],",",["T_WHITESPACE"," ",721],["T_CONSTANT_ENCAPSED_STRING","'GET'",721],",",["T_WHITESPACE"," ",721],["T_ARRAY","array",721],"(",")",",",["T_WHITESPACE"," ",721],["T_ARRAY","array",721],"(",")",",",["T_WHITESPACE"," ",721],["T_ARRAY","array",721],"(",")",",",["T_WHITESPACE"," ",721],["T_ARRAY","array",721],"(",["T_WHITESPACE","\n            ",721],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",722],["T_WHITESPACE"," ",722],["T_DOUBLE_ARROW","=>",722],["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'https'",722],",",["T_WHITESPACE","\n            ",722],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PORT'",723],["T_WHITESPACE"," ",723],["T_DOUBLE_ARROW","=>",723],["T_WHITESPACE"," ",723],["T_CONSTANT_ENCAPSED_STRING","'443'",723],",",["T_WHITESPACE","\n        ",723],")",")",";",["T_WHITESPACE","\n        ",724],["T_VARIABLE","$port",725],["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_VARIABLE","$request",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","getPort",725],"(",")",";",["T_WHITESPACE","\n\n        ",725],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","assertEquals",727],"(",["T_LNUMBER","80",727],",",["T_WHITESPACE"," ",727],["T_VARIABLE","$port",727],",",["T_WHITESPACE"," ",727],["T_CONSTANT_ENCAPSED_STRING","'Without trusted proxies FORWARDED_PROTO and FORWARDED_PORT are ignored.'",727],")",";",["T_WHITESPACE","\n\n        ",727],["T_STRING","Request",729],["T_DOUBLE_COLON","::",729],["T_STRING","setTrustedProxies",729],"(",["T_ARRAY","array",729],"(",["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",729],")",")",";",["T_WHITESPACE","\n        ",729],["T_VARIABLE","$request",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_STRING","Request",730],["T_DOUBLE_COLON","::",730],["T_STRING","create",730],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",730],",",["T_WHITESPACE"," ",730],["T_CONSTANT_ENCAPSED_STRING","'GET'",730],",",["T_WHITESPACE"," ",730],["T_ARRAY","array",730],"(",")",",",["T_WHITESPACE"," ",730],["T_ARRAY","array",730],"(",")",",",["T_WHITESPACE"," ",730],["T_ARRAY","array",730],"(",")",",",["T_WHITESPACE"," ",730],["T_ARRAY","array",730],"(",["T_WHITESPACE","\n            ",730],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",731],["T_WHITESPACE"," ",731],["T_DOUBLE_ARROW","=>",731],["T_WHITESPACE"," ",731],["T_CONSTANT_ENCAPSED_STRING","'https'",731],",",["T_WHITESPACE","\n            ",731],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PORT'",732],["T_WHITESPACE"," ",732],["T_DOUBLE_ARROW","=>",732],["T_WHITESPACE"," ",732],["T_CONSTANT_ENCAPSED_STRING","'8443'",732],",",["T_WHITESPACE","\n        ",732],")",")",";",["T_WHITESPACE","\n        ",733],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","assertEquals",734],"(",["T_LNUMBER","80",734],",",["T_WHITESPACE"," ",734],["T_VARIABLE","$request",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","getPort",734],"(",")",",",["T_WHITESPACE"," ",734],["T_CONSTANT_ENCAPSED_STRING","'With PROTO and PORT on untrusted connection server value takes precedence.'",734],")",";",["T_WHITESPACE","\n        ",734],["T_VARIABLE","$request",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","server",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","set",735],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",735],",",["T_WHITESPACE"," ",735],["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",735],")",";",["T_WHITESPACE","\n        ",735],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","assertEquals",736],"(",["T_LNUMBER","8443",736],",",["T_WHITESPACE"," ",736],["T_VARIABLE","$request",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","getPort",736],"(",")",",",["T_WHITESPACE"," ",736],["T_CONSTANT_ENCAPSED_STRING","'With PROTO and PORT set PORT takes precedence.'",736],")",";",["T_WHITESPACE","\n\n        ",736],["T_VARIABLE","$request",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_STRING","Request",738],["T_DOUBLE_COLON","::",738],["T_STRING","create",738],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",738],",",["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","'GET'",738],",",["T_WHITESPACE"," ",738],["T_ARRAY","array",738],"(",")",",",["T_WHITESPACE"," ",738],["T_ARRAY","array",738],"(",")",",",["T_WHITESPACE"," ",738],["T_ARRAY","array",738],"(",")",",",["T_WHITESPACE"," ",738],["T_ARRAY","array",738],"(",["T_WHITESPACE","\n            ",738],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",739],["T_WHITESPACE"," ",739],["T_DOUBLE_ARROW","=>",739],["T_WHITESPACE"," ",739],["T_CONSTANT_ENCAPSED_STRING","'https'",739],",",["T_WHITESPACE","\n        ",739],")",")",";",["T_WHITESPACE","\n        ",740],["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","assertEquals",741],"(",["T_LNUMBER","80",741],",",["T_WHITESPACE"," ",741],["T_VARIABLE","$request",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","getPort",741],"(",")",",",["T_WHITESPACE"," ",741],["T_CONSTANT_ENCAPSED_STRING","'With only PROTO set getPort() ignores trusted headers on untrusted connection.'",741],")",";",["T_WHITESPACE","\n        ",741],["T_VARIABLE","$request",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","server",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","set",742],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",742],",",["T_WHITESPACE"," ",742],["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",742],")",";",["T_WHITESPACE","\n        ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","assertEquals",743],"(",["T_LNUMBER","443",743],",",["T_WHITESPACE"," ",743],["T_VARIABLE","$request",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","getPort",743],"(",")",",",["T_WHITESPACE"," ",743],["T_CONSTANT_ENCAPSED_STRING","'With only PROTO set getPort() defaults to 443.'",743],")",";",["T_WHITESPACE","\n\n        ",743],["T_VARIABLE","$request",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_STRING","Request",745],["T_DOUBLE_COLON","::",745],["T_STRING","create",745],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",745],",",["T_WHITESPACE"," ",745],["T_CONSTANT_ENCAPSED_STRING","'GET'",745],",",["T_WHITESPACE"," ",745],["T_ARRAY","array",745],"(",")",",",["T_WHITESPACE"," ",745],["T_ARRAY","array",745],"(",")",",",["T_WHITESPACE"," ",745],["T_ARRAY","array",745],"(",")",",",["T_WHITESPACE"," ",745],["T_ARRAY","array",745],"(",["T_WHITESPACE","\n            ",745],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",746],["T_WHITESPACE"," ",746],["T_DOUBLE_ARROW","=>",746],["T_WHITESPACE"," ",746],["T_CONSTANT_ENCAPSED_STRING","'http'",746],",",["T_WHITESPACE","\n        ",746],")",")",";",["T_WHITESPACE","\n        ",747],["T_VARIABLE","$this",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","assertEquals",748],"(",["T_LNUMBER","80",748],",",["T_WHITESPACE"," ",748],["T_VARIABLE","$request",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","getPort",748],"(",")",",",["T_WHITESPACE"," ",748],["T_CONSTANT_ENCAPSED_STRING","'If X_FORWARDED_PROTO is set to HTTP getPort() ignores trusted headers on untrusted connection.'",748],")",";",["T_WHITESPACE","\n        ",748],["T_VARIABLE","$request",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","server",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","set",749],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",749],",",["T_WHITESPACE"," ",749],["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",749],")",";",["T_WHITESPACE","\n        ",749],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","assertEquals",750],"(",["T_LNUMBER","80",750],",",["T_WHITESPACE"," ",750],["T_VARIABLE","$request",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","getPort",750],"(",")",",",["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'If X_FORWARDED_PROTO is set to HTTP getPort() returns port of the original request.'",750],")",";",["T_WHITESPACE","\n\n        ",750],["T_VARIABLE","$request",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_STRING","Request",752],["T_DOUBLE_COLON","::",752],["T_STRING","create",752],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",752],",",["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'GET'",752],",",["T_WHITESPACE"," ",752],["T_ARRAY","array",752],"(",")",",",["T_WHITESPACE"," ",752],["T_ARRAY","array",752],"(",")",",",["T_WHITESPACE"," ",752],["T_ARRAY","array",752],"(",")",",",["T_WHITESPACE"," ",752],["T_ARRAY","array",752],"(",["T_WHITESPACE","\n            ",752],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",753],["T_WHITESPACE"," ",753],["T_DOUBLE_ARROW","=>",753],["T_WHITESPACE"," ",753],["T_CONSTANT_ENCAPSED_STRING","'On'",753],",",["T_WHITESPACE","\n        ",753],")",")",";",["T_WHITESPACE","\n        ",754],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","assertEquals",755],"(",["T_LNUMBER","80",755],",",["T_WHITESPACE"," ",755],["T_VARIABLE","$request",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","getPort",755],"(",")",",",["T_WHITESPACE"," ",755],["T_CONSTANT_ENCAPSED_STRING","'With only PROTO set and value is On, getPort() ignores trusted headers on untrusted connection.'",755],")",";",["T_WHITESPACE","\n        ",755],["T_VARIABLE","$request",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","server",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","set",756],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",756],",",["T_WHITESPACE"," ",756],["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",756],")",";",["T_WHITESPACE","\n        ",756],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","assertEquals",757],"(",["T_LNUMBER","443",757],",",["T_WHITESPACE"," ",757],["T_VARIABLE","$request",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","getPort",757],"(",")",",",["T_WHITESPACE"," ",757],["T_CONSTANT_ENCAPSED_STRING","'With only PROTO set and value is On, getPort() defaults to 443.'",757],")",";",["T_WHITESPACE","\n\n        ",757],["T_VARIABLE","$request",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_STRING","Request",759],["T_DOUBLE_COLON","::",759],["T_STRING","create",759],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",759],",",["T_WHITESPACE"," ",759],["T_CONSTANT_ENCAPSED_STRING","'GET'",759],",",["T_WHITESPACE"," ",759],["T_ARRAY","array",759],"(",")",",",["T_WHITESPACE"," ",759],["T_ARRAY","array",759],"(",")",",",["T_WHITESPACE"," ",759],["T_ARRAY","array",759],"(",")",",",["T_WHITESPACE"," ",759],["T_ARRAY","array",759],"(",["T_WHITESPACE","\n            ",759],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",760],["T_WHITESPACE"," ",760],["T_DOUBLE_ARROW","=>",760],["T_WHITESPACE"," ",760],["T_CONSTANT_ENCAPSED_STRING","'1'",760],",",["T_WHITESPACE","\n        ",760],")",")",";",["T_WHITESPACE","\n        ",761],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","assertEquals",762],"(",["T_LNUMBER","80",762],",",["T_WHITESPACE"," ",762],["T_VARIABLE","$request",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","getPort",762],"(",")",",",["T_WHITESPACE"," ",762],["T_CONSTANT_ENCAPSED_STRING","'With only PROTO set and value is 1, getPort() ignores trusted headers on untrusted connection.'",762],")",";",["T_WHITESPACE","\n        ",762],["T_VARIABLE","$request",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","server",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","set",763],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",763],",",["T_WHITESPACE"," ",763],["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",763],")",";",["T_WHITESPACE","\n        ",763],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","assertEquals",764],"(",["T_LNUMBER","443",764],",",["T_WHITESPACE"," ",764],["T_VARIABLE","$request",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","getPort",764],"(",")",",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'With only PROTO set and value is 1, getPort() defaults to 443.'",764],")",";",["T_WHITESPACE","\n\n        ",764],["T_VARIABLE","$request",766],["T_WHITESPACE"," ",766],"=",["T_WHITESPACE"," ",766],["T_STRING","Request",766],["T_DOUBLE_COLON","::",766],["T_STRING","create",766],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",766],",",["T_WHITESPACE"," ",766],["T_CONSTANT_ENCAPSED_STRING","'GET'",766],",",["T_WHITESPACE"," ",766],["T_ARRAY","array",766],"(",")",",",["T_WHITESPACE"," ",766],["T_ARRAY","array",766],"(",")",",",["T_WHITESPACE"," ",766],["T_ARRAY","array",766],"(",")",",",["T_WHITESPACE"," ",766],["T_ARRAY","array",766],"(",["T_WHITESPACE","\n            ",766],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",767],["T_WHITESPACE"," ",767],["T_DOUBLE_ARROW","=>",767],["T_WHITESPACE"," ",767],["T_CONSTANT_ENCAPSED_STRING","'something-else'",767],",",["T_WHITESPACE","\n        ",767],")",")",";",["T_WHITESPACE","\n        ",768],["T_VARIABLE","$port",769],["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_VARIABLE","$request",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","getPort",769],"(",")",";",["T_WHITESPACE","\n        ",769],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","assertEquals",770],"(",["T_LNUMBER","80",770],",",["T_WHITESPACE"," ",770],["T_VARIABLE","$port",770],",",["T_WHITESPACE"," ",770],["T_CONSTANT_ENCAPSED_STRING","'With only PROTO set and value is not recognized, getPort() defaults to 80.'",770],")",";",["T_WHITESPACE","\n\n        ",770],["T_STRING","Request",772],["T_DOUBLE_COLON","::",772],["T_STRING","setTrustedProxies",772],"(",["T_ARRAY","array",772],"(",")",")",";",["T_WHITESPACE","\n    ",772],"}",["T_WHITESPACE","\n\n    ",773],["T_DOC_COMMENT","\/**\n     * @expectedException \\RuntimeException\n     *\/",775],["T_WHITESPACE","\n    ",777],["T_PUBLIC","public",778],["T_WHITESPACE"," ",778],["T_FUNCTION","function",778],["T_WHITESPACE"," ",778],["T_STRING","testGetHostWithFakeHttpHostValue",778],"(",")",["T_WHITESPACE","\n    ",778],"{",["T_WHITESPACE","\n        ",779],["T_VARIABLE","$request",780],["T_WHITESPACE"," ",780],"=",["T_WHITESPACE"," ",780],["T_NEW","new",780],["T_WHITESPACE"," ",780],["T_STRING","Request",780],"(",")",";",["T_WHITESPACE","\n        ",780],["T_VARIABLE","$request",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","initialize",781],"(",["T_ARRAY","array",781],"(",")",",",["T_WHITESPACE"," ",781],["T_ARRAY","array",781],"(",")",",",["T_WHITESPACE"," ",781],["T_ARRAY","array",781],"(",")",",",["T_WHITESPACE"," ",781],["T_ARRAY","array",781],"(",")",",",["T_WHITESPACE"," ",781],["T_ARRAY","array",781],"(",")",",",["T_WHITESPACE"," ",781],["T_ARRAY","array",781],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",781],["T_WHITESPACE"," ",781],["T_DOUBLE_ARROW","=>",781],["T_WHITESPACE"," ",781],["T_CONSTANT_ENCAPSED_STRING","'www.host.com?query=string'",781],")",")",";",["T_WHITESPACE","\n        ",781],["T_VARIABLE","$request",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","getHost",782],"(",")",";",["T_WHITESPACE","\n    ",782],"}",["T_WHITESPACE","\n\n    ",783],["T_PUBLIC","public",785],["T_WHITESPACE"," ",785],["T_FUNCTION","function",785],["T_WHITESPACE"," ",785],["T_STRING","testGetSetMethod",785],"(",")",["T_WHITESPACE","\n    ",785],"{",["T_WHITESPACE","\n        ",786],["T_VARIABLE","$request",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_NEW","new",787],["T_WHITESPACE"," ",787],["T_STRING","Request",787],"(",")",";",["T_WHITESPACE","\n\n        ",787],["T_VARIABLE","$this",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","assertEquals",789],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",789],",",["T_WHITESPACE"," ",789],["T_VARIABLE","$request",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","getMethod",789],"(",")",",",["T_WHITESPACE"," ",789],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() returns GET if no method is defined'",789],")",";",["T_WHITESPACE","\n\n        ",789],["T_VARIABLE","$request",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","setMethod",791],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",791],")",";",["T_WHITESPACE","\n        ",791],["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","assertEquals",792],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",792],",",["T_WHITESPACE"," ",792],["T_VARIABLE","$request",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","getMethod",792],"(",")",",",["T_WHITESPACE"," ",792],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() returns an uppercased string'",792],")",";",["T_WHITESPACE","\n\n        ",792],["T_VARIABLE","$request",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","setMethod",794],"(",["T_CONSTANT_ENCAPSED_STRING","'PURGE'",794],")",";",["T_WHITESPACE","\n        ",794],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","assertEquals",795],"(",["T_CONSTANT_ENCAPSED_STRING","'PURGE'",795],",",["T_WHITESPACE"," ",795],["T_VARIABLE","$request",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","getMethod",795],"(",")",",",["T_WHITESPACE"," ",795],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() returns the method even if it is not a standard one'",795],")",";",["T_WHITESPACE","\n\n        ",795],["T_VARIABLE","$request",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","setMethod",797],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",797],")",";",["T_WHITESPACE","\n        ",797],["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","assertEquals",798],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",798],",",["T_WHITESPACE"," ",798],["T_VARIABLE","$request",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","getMethod",798],"(",")",",",["T_WHITESPACE"," ",798],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() returns the method POST if no _method is defined'",798],")",";",["T_WHITESPACE","\n\n        ",798],["T_VARIABLE","$request",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","setMethod",800],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",800],")",";",["T_WHITESPACE","\n        ",800],["T_VARIABLE","$request",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","request",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","set",801],"(",["T_CONSTANT_ENCAPSED_STRING","'_method'",801],",",["T_WHITESPACE"," ",801],["T_CONSTANT_ENCAPSED_STRING","'purge'",801],")",";",["T_WHITESPACE","\n        ",801],["T_VARIABLE","$this",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","assertEquals",802],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",802],",",["T_WHITESPACE"," ",802],["T_VARIABLE","$request",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","getMethod",802],"(",")",",",["T_WHITESPACE"," ",802],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() does not return the method from _method if defined and POST but support not enabled'",802],")",";",["T_WHITESPACE","\n\n        ",802],["T_VARIABLE","$request",804],["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_NEW","new",804],["T_WHITESPACE"," ",804],["T_STRING","Request",804],"(",")",";",["T_WHITESPACE","\n        ",804],["T_VARIABLE","$request",805],["T_OBJECT_OPERATOR","->",805],["T_STRING","setMethod",805],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",805],")",";",["T_WHITESPACE","\n        ",805],["T_VARIABLE","$request",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","request",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","set",806],"(",["T_CONSTANT_ENCAPSED_STRING","'_method'",806],",",["T_WHITESPACE"," ",806],["T_CONSTANT_ENCAPSED_STRING","'purge'",806],")",";",["T_WHITESPACE","\n\n        ",806],["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","assertFalse",808],"(",["T_STRING","Request",808],["T_DOUBLE_COLON","::",808],["T_STRING","getHttpMethodParameterOverride",808],"(",")",",",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","'httpMethodParameterOverride should be disabled by default'",808],")",";",["T_WHITESPACE","\n\n        ",808],["T_STRING","Request",810],["T_DOUBLE_COLON","::",810],["T_STRING","enableHttpMethodParameterOverride",810],"(",")",";",["T_WHITESPACE","\n\n        ",810],["T_VARIABLE","$this",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","assertTrue",812],"(",["T_STRING","Request",812],["T_DOUBLE_COLON","::",812],["T_STRING","getHttpMethodParameterOverride",812],"(",")",",",["T_WHITESPACE"," ",812],["T_CONSTANT_ENCAPSED_STRING","'httpMethodParameterOverride should be enabled now but it is not'",812],")",";",["T_WHITESPACE","\n\n        ",812],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","assertEquals",814],"(",["T_CONSTANT_ENCAPSED_STRING","'PURGE'",814],",",["T_WHITESPACE"," ",814],["T_VARIABLE","$request",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","getMethod",814],"(",")",",",["T_WHITESPACE"," ",814],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() returns the method from _method if defined and POST'",814],")",";",["T_WHITESPACE","\n        ",814],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","disableHttpMethodParameterOverride",815],"(",")",";",["T_WHITESPACE","\n\n        ",815],["T_VARIABLE","$request",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_NEW","new",817],["T_WHITESPACE"," ",817],["T_STRING","Request",817],"(",")",";",["T_WHITESPACE","\n        ",817],["T_VARIABLE","$request",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","setMethod",818],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",818],")",";",["T_WHITESPACE","\n        ",818],["T_VARIABLE","$request",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","query",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","set",819],"(",["T_CONSTANT_ENCAPSED_STRING","'_method'",819],",",["T_WHITESPACE"," ",819],["T_CONSTANT_ENCAPSED_STRING","'purge'",819],")",";",["T_WHITESPACE","\n        ",819],["T_VARIABLE","$this",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","assertEquals",820],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",820],",",["T_WHITESPACE"," ",820],["T_VARIABLE","$request",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","getMethod",820],"(",")",",",["T_WHITESPACE"," ",820],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() does not return the method from _method if defined and POST but support not enabled'",820],")",";",["T_WHITESPACE","\n\n        ",820],["T_VARIABLE","$request",822],["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],["T_NEW","new",822],["T_WHITESPACE"," ",822],["T_STRING","Request",822],"(",")",";",["T_WHITESPACE","\n        ",822],["T_VARIABLE","$request",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","setMethod",823],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",823],")",";",["T_WHITESPACE","\n        ",823],["T_VARIABLE","$request",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","query",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","set",824],"(",["T_CONSTANT_ENCAPSED_STRING","'_method'",824],",",["T_WHITESPACE"," ",824],["T_CONSTANT_ENCAPSED_STRING","'purge'",824],")",";",["T_WHITESPACE","\n        ",824],["T_STRING","Request",825],["T_DOUBLE_COLON","::",825],["T_STRING","enableHttpMethodParameterOverride",825],"(",")",";",["T_WHITESPACE","\n        ",825],["T_VARIABLE","$this",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","assertEquals",826],"(",["T_CONSTANT_ENCAPSED_STRING","'PURGE'",826],",",["T_WHITESPACE"," ",826],["T_VARIABLE","$request",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","getMethod",826],"(",")",",",["T_WHITESPACE"," ",826],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() returns the method from _method if defined and POST'",826],")",";",["T_WHITESPACE","\n        ",826],["T_VARIABLE","$this",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","disableHttpMethodParameterOverride",827],"(",")",";",["T_WHITESPACE","\n\n        ",827],["T_VARIABLE","$request",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_NEW","new",829],["T_WHITESPACE"," ",829],["T_STRING","Request",829],"(",")",";",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$request",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","setMethod",830],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",830],")",";",["T_WHITESPACE","\n        ",830],["T_VARIABLE","$request",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","headers",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","set",831],"(",["T_CONSTANT_ENCAPSED_STRING","'X-HTTP-METHOD-OVERRIDE'",831],",",["T_WHITESPACE"," ",831],["T_CONSTANT_ENCAPSED_STRING","'delete'",831],")",";",["T_WHITESPACE","\n        ",831],["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","assertEquals",832],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE'",832],",",["T_WHITESPACE"," ",832],["T_VARIABLE","$request",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","getMethod",832],"(",")",",",["T_WHITESPACE"," ",832],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() returns the method from X-HTTP-Method-Override even though _method is set if defined and POST'",832],")",";",["T_WHITESPACE","\n\n        ",832],["T_VARIABLE","$request",834],["T_WHITESPACE"," ",834],"=",["T_WHITESPACE"," ",834],["T_NEW","new",834],["T_WHITESPACE"," ",834],["T_STRING","Request",834],"(",")",";",["T_WHITESPACE","\n        ",834],["T_VARIABLE","$request",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","setMethod",835],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",835],")",";",["T_WHITESPACE","\n        ",835],["T_VARIABLE","$request",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","headers",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","set",836],"(",["T_CONSTANT_ENCAPSED_STRING","'X-HTTP-METHOD-OVERRIDE'",836],",",["T_WHITESPACE"," ",836],["T_CONSTANT_ENCAPSED_STRING","'delete'",836],")",";",["T_WHITESPACE","\n        ",836],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","assertEquals",837],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE'",837],",",["T_WHITESPACE"," ",837],["T_VARIABLE","$request",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","getMethod",837],"(",")",",",["T_WHITESPACE"," ",837],["T_CONSTANT_ENCAPSED_STRING","'->getMethod() returns the method from X-HTTP-Method-Override if defined and POST'",837],")",";",["T_WHITESPACE","\n    ",837],"}",["T_WHITESPACE","\n\n    ",838],["T_DOC_COMMENT","\/**\n     * @dataProvider testGetClientIpsProvider\n     *\/",840],["T_WHITESPACE","\n    ",842],["T_PUBLIC","public",843],["T_WHITESPACE"," ",843],["T_FUNCTION","function",843],["T_WHITESPACE"," ",843],["T_STRING","testGetClientIp",843],"(",["T_VARIABLE","$expected",843],",",["T_WHITESPACE"," ",843],["T_VARIABLE","$remoteAddr",843],",",["T_WHITESPACE"," ",843],["T_VARIABLE","$httpForwardedFor",843],",",["T_WHITESPACE"," ",843],["T_VARIABLE","$trustedProxies",843],")",["T_WHITESPACE","\n    ",843],"{",["T_WHITESPACE","\n        ",844],["T_VARIABLE","$request",845],["T_WHITESPACE"," ",845],"=",["T_WHITESPACE"," ",845],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","getRequestInstanceForClientIpTests",845],"(",["T_VARIABLE","$remoteAddr",845],",",["T_WHITESPACE"," ",845],["T_VARIABLE","$httpForwardedFor",845],",",["T_WHITESPACE"," ",845],["T_VARIABLE","$trustedProxies",845],")",";",["T_WHITESPACE","\n\n        ",845],["T_VARIABLE","$this",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","assertEquals",847],"(",["T_VARIABLE","$expected",847],"[",["T_LNUMBER","0",847],"]",",",["T_WHITESPACE"," ",847],["T_VARIABLE","$request",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","getClientIp",847],"(",")",")",";",["T_WHITESPACE","\n\n        ",847],["T_STRING","Request",849],["T_DOUBLE_COLON","::",849],["T_STRING","setTrustedProxies",849],"(",["T_ARRAY","array",849],"(",")",")",";",["T_WHITESPACE","\n    ",849],"}",["T_WHITESPACE","\n\n    ",850],["T_DOC_COMMENT","\/**\n     * @dataProvider testGetClientIpsProvider\n     *\/",852],["T_WHITESPACE","\n    ",854],["T_PUBLIC","public",855],["T_WHITESPACE"," ",855],["T_FUNCTION","function",855],["T_WHITESPACE"," ",855],["T_STRING","testGetClientIps",855],"(",["T_VARIABLE","$expected",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$remoteAddr",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$httpForwardedFor",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$trustedProxies",855],")",["T_WHITESPACE","\n    ",855],"{",["T_WHITESPACE","\n        ",856],["T_VARIABLE","$request",857],["T_WHITESPACE"," ",857],"=",["T_WHITESPACE"," ",857],["T_VARIABLE","$this",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","getRequestInstanceForClientIpTests",857],"(",["T_VARIABLE","$remoteAddr",857],",",["T_WHITESPACE"," ",857],["T_VARIABLE","$httpForwardedFor",857],",",["T_WHITESPACE"," ",857],["T_VARIABLE","$trustedProxies",857],")",";",["T_WHITESPACE","\n\n        ",857],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","assertEquals",859],"(",["T_VARIABLE","$expected",859],",",["T_WHITESPACE"," ",859],["T_VARIABLE","$request",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","getClientIps",859],"(",")",")",";",["T_WHITESPACE","\n\n        ",859],["T_STRING","Request",861],["T_DOUBLE_COLON","::",861],["T_STRING","setTrustedProxies",861],"(",["T_ARRAY","array",861],"(",")",")",";",["T_WHITESPACE","\n    ",861],"}",["T_WHITESPACE","\n\n    ",862],["T_DOC_COMMENT","\/**\n     * @dataProvider testGetClientIpsForwardedProvider\n     *\/",864],["T_WHITESPACE","\n    ",866],["T_PUBLIC","public",867],["T_WHITESPACE"," ",867],["T_FUNCTION","function",867],["T_WHITESPACE"," ",867],["T_STRING","testGetClientIpsForwarded",867],"(",["T_VARIABLE","$expected",867],",",["T_WHITESPACE"," ",867],["T_VARIABLE","$remoteAddr",867],",",["T_WHITESPACE"," ",867],["T_VARIABLE","$httpForwarded",867],",",["T_WHITESPACE"," ",867],["T_VARIABLE","$trustedProxies",867],")",["T_WHITESPACE","\n    ",867],"{",["T_WHITESPACE","\n        ",868],["T_VARIABLE","$request",869],["T_WHITESPACE"," ",869],"=",["T_WHITESPACE"," ",869],["T_VARIABLE","$this",869],["T_OBJECT_OPERATOR","->",869],["T_STRING","getRequestInstanceForClientIpsForwardedTests",869],"(",["T_VARIABLE","$remoteAddr",869],",",["T_WHITESPACE"," ",869],["T_VARIABLE","$httpForwarded",869],",",["T_WHITESPACE"," ",869],["T_VARIABLE","$trustedProxies",869],")",";",["T_WHITESPACE","\n\n        ",869],["T_VARIABLE","$this",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","assertEquals",871],"(",["T_VARIABLE","$expected",871],",",["T_WHITESPACE"," ",871],["T_VARIABLE","$request",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","getClientIps",871],"(",")",")",";",["T_WHITESPACE","\n\n        ",871],["T_STRING","Request",873],["T_DOUBLE_COLON","::",873],["T_STRING","setTrustedProxies",873],"(",["T_ARRAY","array",873],"(",")",")",";",["T_WHITESPACE","\n    ",873],"}",["T_WHITESPACE","\n\n    ",874],["T_PUBLIC","public",876],["T_WHITESPACE"," ",876],["T_FUNCTION","function",876],["T_WHITESPACE"," ",876],["T_STRING","testGetClientIpsForwardedProvider",876],"(",")",["T_WHITESPACE","\n    ",876],"{",["T_WHITESPACE","\n        ",877],["T_COMMENT","\/\/              $expected                                  $remoteAddr  $httpForwarded                                       $trustedProxies\n",878],["T_WHITESPACE","        ",879],["T_RETURN","return",879],["T_WHITESPACE"," ",879],["T_ARRAY","array",879],"(",["T_WHITESPACE","\n            ",879],["T_ARRAY","array",880],"(",["T_ARRAY","array",880],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",880],")",",",["T_WHITESPACE","                              ",880],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",880],",",["T_WHITESPACE"," ",880],["T_CONSTANT_ENCAPSED_STRING","'for=\"_gazonk\"'",880],",",["T_WHITESPACE","                                      ",880],["T_STRING","null",880],")",",",["T_WHITESPACE","\n            ",880],["T_ARRAY","array",881],"(",["T_ARRAY","array",881],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",881],")",",",["T_WHITESPACE","                              ",881],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",881],",",["T_WHITESPACE"," ",881],["T_CONSTANT_ENCAPSED_STRING","'for=\"_gazonk\"'",881],",",["T_WHITESPACE","                                      ",881],["T_ARRAY","array",881],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",881],")",")",",",["T_WHITESPACE","\n            ",881],["T_ARRAY","array",882],"(",["T_ARRAY","array",882],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",882],")",",",["T_WHITESPACE","                            ",882],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",882],",",["T_WHITESPACE"," ",882],["T_CONSTANT_ENCAPSED_STRING","'for=\"88.88.88.88:80\"'",882],",",["T_WHITESPACE","                               ",882],["T_ARRAY","array",882],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",882],")",")",",",["T_WHITESPACE","\n            ",882],["T_ARRAY","array",883],"(",["T_ARRAY","array",883],"(",["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60'",883],")",",",["T_WHITESPACE","                             ",883],["T_CONSTANT_ENCAPSED_STRING","'::1'",883],",",["T_WHITESPACE","       ",883],["T_CONSTANT_ENCAPSED_STRING","'for=192.0.2.60;proto=http;by=203.0.113.43'",883],",",["T_WHITESPACE","          ",883],["T_ARRAY","array",883],"(",["T_CONSTANT_ENCAPSED_STRING","'::1'",883],")",")",",",["T_WHITESPACE","\n            ",883],["T_ARRAY","array",884],"(",["T_ARRAY","array",884],"(",["T_CONSTANT_ENCAPSED_STRING","'2620:0:1cfe:face:b00c::3'",884],",",["T_WHITESPACE"," ",884],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.43'",884],")",",",["T_WHITESPACE"," ",884],["T_CONSTANT_ENCAPSED_STRING","'::1'",884],",",["T_WHITESPACE","       ",884],["T_CONSTANT_ENCAPSED_STRING","'for=192.0.2.43, for=2620:0:1cfe:face:b00c::3'",884],",",["T_WHITESPACE","       ",884],["T_ARRAY","array",884],"(",["T_CONSTANT_ENCAPSED_STRING","'::1'",884],")",")",",",["T_WHITESPACE","\n            ",884],["T_ARRAY","array",885],"(",["T_ARRAY","array",885],"(",["T_CONSTANT_ENCAPSED_STRING","'2001:db8:cafe::17'",885],")",",",["T_WHITESPACE","                      ",885],["T_CONSTANT_ENCAPSED_STRING","'::1'",885],",",["T_WHITESPACE","       ",885],["T_CONSTANT_ENCAPSED_STRING","'for=\"[2001:db8:cafe::17]:4711'",885],",",["T_WHITESPACE","                      ",885],["T_ARRAY","array",885],"(",["T_CONSTANT_ENCAPSED_STRING","'::1'",885],")",")",",",["T_WHITESPACE","\n        ",885],")",";",["T_WHITESPACE","\n    ",886],"}",["T_WHITESPACE","\n\n    ",887],["T_PUBLIC","public",889],["T_WHITESPACE"," ",889],["T_FUNCTION","function",889],["T_WHITESPACE"," ",889],["T_STRING","testGetClientIpsProvider",889],"(",")",["T_WHITESPACE","\n    ",889],"{",["T_WHITESPACE","\n        ",890],["T_COMMENT","\/\/        $expected                   $remoteAddr                $httpForwardedFor            $trustedProxies\n",891],["T_WHITESPACE","        ",892],["T_RETURN","return",892],["T_WHITESPACE"," ",892],["T_ARRAY","array",892],"(",["T_WHITESPACE","\n            ",892],["T_COMMENT","\/\/ simple IPv4\n",893],["T_WHITESPACE","            ",894],["T_ARRAY","array",894],"(",["T_ARRAY","array",894],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",894],")",",",["T_WHITESPACE","              ",894],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",894],",",["T_WHITESPACE","              ",894],["T_STRING","null",894],",",["T_WHITESPACE","                        ",894],["T_STRING","null",894],")",",",["T_WHITESPACE","\n            ",894],["T_COMMENT","\/\/ trust the IPv4 remote addr\n",895],["T_WHITESPACE","            ",896],["T_ARRAY","array",896],"(",["T_ARRAY","array",896],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",896],")",",",["T_WHITESPACE","              ",896],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",896],",",["T_WHITESPACE","              ",896],["T_STRING","null",896],",",["T_WHITESPACE","                        ",896],["T_ARRAY","array",896],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",896],")",")",",",["T_WHITESPACE","\n\n            ",896],["T_COMMENT","\/\/ simple IPv6\n",898],["T_WHITESPACE","            ",899],["T_ARRAY","array",899],"(",["T_ARRAY","array",899],"(",["T_CONSTANT_ENCAPSED_STRING","'::1'",899],")",",",["T_WHITESPACE","                      ",899],["T_CONSTANT_ENCAPSED_STRING","'::1'",899],",",["T_WHITESPACE","                      ",899],["T_STRING","null",899],",",["T_WHITESPACE","                        ",899],["T_STRING","null",899],")",",",["T_WHITESPACE","\n            ",899],["T_COMMENT","\/\/ trust the IPv6 remote addr\n",900],["T_WHITESPACE","            ",901],["T_ARRAY","array",901],"(",["T_ARRAY","array",901],"(",["T_CONSTANT_ENCAPSED_STRING","'::1'",901],")",",",["T_WHITESPACE","                      ",901],["T_CONSTANT_ENCAPSED_STRING","'::1'",901],",",["T_WHITESPACE","                      ",901],["T_STRING","null",901],",",["T_WHITESPACE","                        ",901],["T_ARRAY","array",901],"(",["T_CONSTANT_ENCAPSED_STRING","'::1'",901],")",")",",",["T_WHITESPACE","\n\n            ",901],["T_COMMENT","\/\/ forwarded for with remote IPv4 addr not trusted\n",903],["T_WHITESPACE","            ",904],["T_ARRAY","array",904],"(",["T_ARRAY","array",904],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",904],")",",",["T_WHITESPACE","                ",904],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",904],",",["T_WHITESPACE","                ",904],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",904],",",["T_WHITESPACE","               ",904],["T_STRING","null",904],")",",",["T_WHITESPACE","\n            ",904],["T_COMMENT","\/\/ forwarded for with remote IPv4 addr trusted\n",905],["T_WHITESPACE","            ",906],["T_ARRAY","array",906],"(",["T_ARRAY","array",906],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",906],")",",",["T_WHITESPACE","              ",906],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",906],",",["T_WHITESPACE","                ",906],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",906],",",["T_WHITESPACE","               ",906],["T_ARRAY","array",906],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",906],")",")",",",["T_WHITESPACE","\n            ",906],["T_COMMENT","\/\/ forwarded for with remote IPv4 and all FF addrs trusted\n",907],["T_WHITESPACE","            ",908],["T_ARRAY","array",908],"(",["T_ARRAY","array",908],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",908],")",",",["T_WHITESPACE","              ",908],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",908],",",["T_WHITESPACE","                ",908],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",908],",",["T_WHITESPACE","               ",908],["T_ARRAY","array",908],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",908],",",["T_WHITESPACE"," ",908],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",908],")",")",",",["T_WHITESPACE","\n            ",908],["T_COMMENT","\/\/ forwarded for with remote IPv4 range trusted\n",909],["T_WHITESPACE","            ",910],["T_ARRAY","array",910],"(",["T_ARRAY","array",910],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",910],")",",",["T_WHITESPACE","              ",910],["T_CONSTANT_ENCAPSED_STRING","'123.45.67.89'",910],",",["T_WHITESPACE","             ",910],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",910],",",["T_WHITESPACE","               ",910],["T_ARRAY","array",910],"(",["T_CONSTANT_ENCAPSED_STRING","'123.45.67.0\/24'",910],")",")",",",["T_WHITESPACE","\n\n            ",910],["T_COMMENT","\/\/ forwarded for with remote IPv6 addr not trusted\n",912],["T_WHITESPACE","            ",913],["T_ARRAY","array",913],"(",["T_ARRAY","array",913],"(",["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",913],")",",",["T_WHITESPACE"," ",913],["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",913],",",["T_WHITESPACE"," ",913],["T_CONSTANT_ENCAPSED_STRING","'2620:0:1cfe:face:b00c::3'",913],",",["T_WHITESPACE","  ",913],["T_STRING","null",913],")",",",["T_WHITESPACE","\n            ",913],["T_COMMENT","\/\/ forwarded for with remote IPv6 addr trusted\n",914],["T_WHITESPACE","            ",915],["T_ARRAY","array",915],"(",["T_ARRAY","array",915],"(",["T_CONSTANT_ENCAPSED_STRING","'2620:0:1cfe:face:b00c::3'",915],")",",",["T_WHITESPACE"," ",915],["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",915],",",["T_WHITESPACE"," ",915],["T_CONSTANT_ENCAPSED_STRING","'2620:0:1cfe:face:b00c::3'",915],",",["T_WHITESPACE","  ",915],["T_ARRAY","array",915],"(",["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",915],")",")",",",["T_WHITESPACE","\n            ",915],["T_COMMENT","\/\/ forwarded for with remote IPv6 range trusted\n",916],["T_WHITESPACE","            ",917],["T_ARRAY","array",917],"(",["T_ARRAY","array",917],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",917],")",",",["T_WHITESPACE","              ",917],["T_CONSTANT_ENCAPSED_STRING","'2a01:198:603:0:396e:4789:8e99:890f'",917],",",["T_WHITESPACE"," ",917],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",917],",",["T_WHITESPACE","     ",917],["T_ARRAY","array",917],"(",["T_CONSTANT_ENCAPSED_STRING","'2a01:198:603:0::\/65'",917],")",")",",",["T_WHITESPACE","\n\n            ",917],["T_COMMENT","\/\/ multiple forwarded for with remote IPv4 addr trusted\n",919],["T_WHITESPACE","            ",920],["T_ARRAY","array",920],"(",["T_ARRAY","array",920],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",920],",",["T_WHITESPACE"," ",920],["T_CONSTANT_ENCAPSED_STRING","'87.65.43.21'",920],",",["T_WHITESPACE"," ",920],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",920],")",",",["T_WHITESPACE"," ",920],["T_CONSTANT_ENCAPSED_STRING","'123.45.67.89'",920],",",["T_WHITESPACE"," ",920],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1, 87.65.43.21, 88.88.88.88'",920],",",["T_WHITESPACE"," ",920],["T_ARRAY","array",920],"(",["T_CONSTANT_ENCAPSED_STRING","'123.45.67.89'",920],")",")",",",["T_WHITESPACE","\n            ",920],["T_COMMENT","\/\/ multiple forwarded for with remote IPv4 addr and some reverse proxies trusted\n",921],["T_WHITESPACE","            ",922],["T_ARRAY","array",922],"(",["T_ARRAY","array",922],"(",["T_CONSTANT_ENCAPSED_STRING","'87.65.43.21'",922],",",["T_WHITESPACE"," ",922],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",922],")",",",["T_WHITESPACE"," ",922],["T_CONSTANT_ENCAPSED_STRING","'123.45.67.89'",922],",",["T_WHITESPACE","             ",922],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1, 87.65.43.21, 88.88.88.88'",922],",",["T_WHITESPACE"," ",922],["T_ARRAY","array",922],"(",["T_CONSTANT_ENCAPSED_STRING","'123.45.67.89'",922],",",["T_WHITESPACE"," ",922],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",922],")",")",",",["T_WHITESPACE","\n            ",922],["T_COMMENT","\/\/ multiple forwarded for with remote IPv4 addr and some reverse proxies trusted but in the middle\n",923],["T_WHITESPACE","            ",924],["T_ARRAY","array",924],"(",["T_ARRAY","array",924],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",924],",",["T_WHITESPACE"," ",924],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",924],")",",",["T_WHITESPACE"," ",924],["T_CONSTANT_ENCAPSED_STRING","'123.45.67.89'",924],",",["T_WHITESPACE","             ",924],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1, 87.65.43.21, 88.88.88.88'",924],",",["T_WHITESPACE"," ",924],["T_ARRAY","array",924],"(",["T_CONSTANT_ENCAPSED_STRING","'123.45.67.89'",924],",",["T_WHITESPACE"," ",924],["T_CONSTANT_ENCAPSED_STRING","'87.65.43.21'",924],")",")",",",["T_WHITESPACE","\n            ",924],["T_COMMENT","\/\/ multiple forwarded for with remote IPv4 addr and all reverse proxies trusted\n",925],["T_WHITESPACE","            ",926],["T_ARRAY","array",926],"(",["T_ARRAY","array",926],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",926],")",",",["T_WHITESPACE","                ",926],["T_CONSTANT_ENCAPSED_STRING","'123.45.67.89'",926],",",["T_WHITESPACE","             ",926],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1, 87.65.43.21, 88.88.88.88'",926],",",["T_WHITESPACE"," ",926],["T_ARRAY","array",926],"(",["T_CONSTANT_ENCAPSED_STRING","'123.45.67.89'",926],",",["T_WHITESPACE"," ",926],["T_CONSTANT_ENCAPSED_STRING","'87.65.43.21'",926],",",["T_WHITESPACE"," ",926],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",926],",",["T_WHITESPACE"," ",926],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",926],")",")",",",["T_WHITESPACE","\n\n            ",926],["T_COMMENT","\/\/ multiple forwarded for with remote IPv6 addr trusted\n",928],["T_WHITESPACE","            ",929],["T_ARRAY","array",929],"(",["T_ARRAY","array",929],"(",["T_CONSTANT_ENCAPSED_STRING","'2620:0:1cfe:face:b00c::3'",929],",",["T_WHITESPACE"," ",929],["T_CONSTANT_ENCAPSED_STRING","'3620:0:1cfe:face:b00c::3'",929],")",",",["T_WHITESPACE"," ",929],["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",929],",",["T_WHITESPACE"," ",929],["T_CONSTANT_ENCAPSED_STRING","'3620:0:1cfe:face:b00c::3,2620:0:1cfe:face:b00c::3'",929],",",["T_WHITESPACE"," ",929],["T_ARRAY","array",929],"(",["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",929],")",")",",",["T_WHITESPACE","\n            ",929],["T_COMMENT","\/\/ multiple forwarded for with remote IPv6 addr and some reverse proxies trusted\n",930],["T_WHITESPACE","            ",931],["T_ARRAY","array",931],"(",["T_ARRAY","array",931],"(",["T_CONSTANT_ENCAPSED_STRING","'3620:0:1cfe:face:b00c::3'",931],")",",",["T_WHITESPACE"," ",931],["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",931],",",["T_WHITESPACE"," ",931],["T_CONSTANT_ENCAPSED_STRING","'3620:0:1cfe:face:b00c::3,2620:0:1cfe:face:b00c::3'",931],",",["T_WHITESPACE"," ",931],["T_ARRAY","array",931],"(",["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",931],",",["T_WHITESPACE"," ",931],["T_CONSTANT_ENCAPSED_STRING","'2620:0:1cfe:face:b00c::3'",931],")",")",",",["T_WHITESPACE","\n            ",931],["T_COMMENT","\/\/ multiple forwarded for with remote IPv4 addr and some reverse proxies trusted but in the middle\n",932],["T_WHITESPACE","            ",933],["T_ARRAY","array",933],"(",["T_ARRAY","array",933],"(",["T_CONSTANT_ENCAPSED_STRING","'2620:0:1cfe:face:b00c::3'",933],",",["T_WHITESPACE"," ",933],["T_CONSTANT_ENCAPSED_STRING","'4620:0:1cfe:face:b00c::3'",933],")",",",["T_WHITESPACE"," ",933],["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",933],",",["T_WHITESPACE"," ",933],["T_CONSTANT_ENCAPSED_STRING","'4620:0:1cfe:face:b00c::3,3620:0:1cfe:face:b00c::3,2620:0:1cfe:face:b00c::3'",933],",",["T_WHITESPACE"," ",933],["T_ARRAY","array",933],"(",["T_CONSTANT_ENCAPSED_STRING","'1620:0:1cfe:face:b00c::3'",933],",",["T_WHITESPACE"," ",933],["T_CONSTANT_ENCAPSED_STRING","'3620:0:1cfe:face:b00c::3'",933],")",")",",",["T_WHITESPACE","\n\n            ",933],["T_COMMENT","\/\/ client IP with port\n",935],["T_WHITESPACE","            ",936],["T_ARRAY","array",936],"(",["T_ARRAY","array",936],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",936],")",",",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",936],",",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88:12345, 127.0.0.1'",936],",",["T_WHITESPACE"," ",936],["T_ARRAY","array",936],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",936],")",")",",",["T_WHITESPACE","\n\n            ",936],["T_COMMENT","\/\/ invalid forwarded IP is ignored\n",938],["T_WHITESPACE","            ",939],["T_ARRAY","array",939],"(",["T_ARRAY","array",939],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",939],")",",",["T_WHITESPACE"," ",939],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",939],",",["T_WHITESPACE"," ",939],["T_CONSTANT_ENCAPSED_STRING","'unknown,88.88.88.88'",939],",",["T_WHITESPACE"," ",939],["T_ARRAY","array",939],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",939],")",")",",",["T_WHITESPACE","\n            ",939],["T_ARRAY","array",940],"(",["T_ARRAY","array",940],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",940],")",",",["T_WHITESPACE"," ",940],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",940],",",["T_WHITESPACE"," ",940],["T_CONSTANT_ENCAPSED_STRING","'}__test|O:21:&quot;JDatabaseDriverMysqli&quot;:3:{s:2,88.88.88.88'",940],",",["T_WHITESPACE"," ",940],["T_ARRAY","array",940],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",940],")",")",",",["T_WHITESPACE","\n        ",940],")",";",["T_WHITESPACE","\n    ",941],"}",["T_WHITESPACE","\n\n    ",942],["T_DOC_COMMENT","\/**\n     * @expectedException \\Symfony\\Component\\HttpFoundation\\Exception\\ConflictingHeadersException\n     * @dataProvider testGetClientIpsWithConflictingHeadersProvider\n     *\/",944],["T_WHITESPACE","\n    ",947],["T_PUBLIC","public",948],["T_WHITESPACE"," ",948],["T_FUNCTION","function",948],["T_WHITESPACE"," ",948],["T_STRING","testGetClientIpsWithConflictingHeaders",948],"(",["T_VARIABLE","$httpForwarded",948],",",["T_WHITESPACE"," ",948],["T_VARIABLE","$httpXForwardedFor",948],")",["T_WHITESPACE","\n    ",948],"{",["T_WHITESPACE","\n        ",949],["T_VARIABLE","$request",950],["T_WHITESPACE"," ",950],"=",["T_WHITESPACE"," ",950],["T_NEW","new",950],["T_WHITESPACE"," ",950],["T_STRING","Request",950],"(",")",";",["T_WHITESPACE","\n\n        ",950],["T_VARIABLE","$server",952],["T_WHITESPACE"," ",952],"=",["T_WHITESPACE"," ",952],["T_ARRAY","array",952],"(",["T_WHITESPACE","\n            ",952],["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",953],["T_WHITESPACE"," ",953],["T_DOUBLE_ARROW","=>",953],["T_WHITESPACE"," ",953],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",953],",",["T_WHITESPACE","\n            ",953],["T_CONSTANT_ENCAPSED_STRING","'HTTP_FORWARDED'",954],["T_WHITESPACE"," ",954],["T_DOUBLE_ARROW","=>",954],["T_WHITESPACE"," ",954],["T_VARIABLE","$httpForwarded",954],",",["T_WHITESPACE","\n            ",954],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",955],["T_WHITESPACE"," ",955],["T_DOUBLE_ARROW","=>",955],["T_WHITESPACE"," ",955],["T_VARIABLE","$httpXForwardedFor",955],",",["T_WHITESPACE","\n        ",955],")",";",["T_WHITESPACE","\n\n        ",956],["T_STRING","Request",958],["T_DOUBLE_COLON","::",958],["T_STRING","setTrustedProxies",958],"(",["T_ARRAY","array",958],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",958],")",")",";",["T_WHITESPACE","\n\n        ",958],["T_VARIABLE","$request",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","initialize",960],"(",["T_ARRAY","array",960],"(",")",",",["T_WHITESPACE"," ",960],["T_ARRAY","array",960],"(",")",",",["T_WHITESPACE"," ",960],["T_ARRAY","array",960],"(",")",",",["T_WHITESPACE"," ",960],["T_ARRAY","array",960],"(",")",",",["T_WHITESPACE"," ",960],["T_ARRAY","array",960],"(",")",",",["T_WHITESPACE"," ",960],["T_VARIABLE","$server",960],")",";",["T_WHITESPACE","\n\n        ",960],["T_VARIABLE","$request",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","getClientIps",962],"(",")",";",["T_WHITESPACE","\n    ",962],"}",["T_WHITESPACE","\n\n    ",963],["T_PUBLIC","public",965],["T_WHITESPACE"," ",965],["T_FUNCTION","function",965],["T_WHITESPACE"," ",965],["T_STRING","testGetClientIpsWithConflictingHeadersProvider",965],"(",")",["T_WHITESPACE","\n    ",965],"{",["T_WHITESPACE","\n        ",966],["T_COMMENT","\/\/        $httpForwarded                   $httpXForwardedFor\n",967],["T_WHITESPACE","        ",968],["T_RETURN","return",968],["T_WHITESPACE"," ",968],["T_ARRAY","array",968],"(",["T_WHITESPACE","\n            ",968],["T_ARRAY","array",969],"(",["T_CONSTANT_ENCAPSED_STRING","'for=87.65.43.21'",969],",",["T_WHITESPACE","                 ",969],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60'",969],")",",",["T_WHITESPACE","\n            ",969],["T_ARRAY","array",970],"(",["T_CONSTANT_ENCAPSED_STRING","'for=87.65.43.21, for=192.0.2.60'",970],",",["T_WHITESPACE"," ",970],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60'",970],")",",",["T_WHITESPACE","\n            ",970],["T_ARRAY","array",971],"(",["T_CONSTANT_ENCAPSED_STRING","'for=192.0.2.60'",971],",",["T_WHITESPACE","                  ",971],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60,87.65.43.21'",971],")",",",["T_WHITESPACE","\n            ",971],["T_ARRAY","array",972],"(",["T_CONSTANT_ENCAPSED_STRING","'for=\"::face\", for=192.0.2.60'",972],",",["T_WHITESPACE","    ",972],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60,192.0.2.43'",972],")",",",["T_WHITESPACE","\n            ",972],["T_ARRAY","array",973],"(",["T_CONSTANT_ENCAPSED_STRING","'for=87.65.43.21, for=192.0.2.60'",973],",",["T_WHITESPACE"," ",973],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60,87.65.43.21'",973],")",",",["T_WHITESPACE","\n        ",973],")",";",["T_WHITESPACE","\n    ",974],"}",["T_WHITESPACE","\n\n    ",975],["T_DOC_COMMENT","\/**\n     * @dataProvider testGetClientIpsWithAgreeingHeadersProvider\n     *\/",977],["T_WHITESPACE","\n    ",979],["T_PUBLIC","public",980],["T_WHITESPACE"," ",980],["T_FUNCTION","function",980],["T_WHITESPACE"," ",980],["T_STRING","testGetClientIpsWithAgreeingHeaders",980],"(",["T_VARIABLE","$httpForwarded",980],",",["T_WHITESPACE"," ",980],["T_VARIABLE","$httpXForwardedFor",980],")",["T_WHITESPACE","\n    ",980],"{",["T_WHITESPACE","\n        ",981],["T_VARIABLE","$request",982],["T_WHITESPACE"," ",982],"=",["T_WHITESPACE"," ",982],["T_NEW","new",982],["T_WHITESPACE"," ",982],["T_STRING","Request",982],"(",")",";",["T_WHITESPACE","\n\n        ",982],["T_VARIABLE","$server",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_ARRAY","array",984],"(",["T_WHITESPACE","\n            ",984],["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",985],["T_WHITESPACE"," ",985],["T_DOUBLE_ARROW","=>",985],["T_WHITESPACE"," ",985],["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",985],",",["T_WHITESPACE","\n            ",985],["T_CONSTANT_ENCAPSED_STRING","'HTTP_FORWARDED'",986],["T_WHITESPACE"," ",986],["T_DOUBLE_ARROW","=>",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$httpForwarded",986],",",["T_WHITESPACE","\n            ",986],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",987],["T_WHITESPACE"," ",987],["T_DOUBLE_ARROW","=>",987],["T_WHITESPACE"," ",987],["T_VARIABLE","$httpXForwardedFor",987],",",["T_WHITESPACE","\n        ",987],")",";",["T_WHITESPACE","\n\n        ",988],["T_STRING","Request",990],["T_DOUBLE_COLON","::",990],["T_STRING","setTrustedProxies",990],"(",["T_ARRAY","array",990],"(",["T_CONSTANT_ENCAPSED_STRING","'88.88.88.88'",990],")",")",";",["T_WHITESPACE","\n\n        ",990],["T_VARIABLE","$request",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","initialize",992],"(",["T_ARRAY","array",992],"(",")",",",["T_WHITESPACE"," ",992],["T_ARRAY","array",992],"(",")",",",["T_WHITESPACE"," ",992],["T_ARRAY","array",992],"(",")",",",["T_WHITESPACE"," ",992],["T_ARRAY","array",992],"(",")",",",["T_WHITESPACE"," ",992],["T_ARRAY","array",992],"(",")",",",["T_WHITESPACE"," ",992],["T_VARIABLE","$server",992],")",";",["T_WHITESPACE","\n\n        ",992],["T_VARIABLE","$request",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","getClientIps",994],"(",")",";",["T_WHITESPACE","\n\n        ",994],["T_STRING","Request",996],["T_DOUBLE_COLON","::",996],["T_STRING","setTrustedProxies",996],"(",["T_ARRAY","array",996],"(",")",")",";",["T_WHITESPACE","\n    ",996],"}",["T_WHITESPACE","\n\n    ",997],["T_PUBLIC","public",999],["T_WHITESPACE"," ",999],["T_FUNCTION","function",999],["T_WHITESPACE"," ",999],["T_STRING","testGetClientIpsWithAgreeingHeadersProvider",999],"(",")",["T_WHITESPACE","\n    ",999],"{",["T_WHITESPACE","\n        ",1000],["T_COMMENT","\/\/        $httpForwarded                               $httpXForwardedFor\n",1001],["T_WHITESPACE","        ",1002],["T_RETURN","return",1002],["T_WHITESPACE"," ",1002],["T_ARRAY","array",1002],"(",["T_WHITESPACE","\n            ",1002],["T_ARRAY","array",1003],"(",["T_CONSTANT_ENCAPSED_STRING","'for=\"192.0.2.60\"'",1003],",",["T_WHITESPACE","                          ",1003],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60'",1003],")",",",["T_WHITESPACE","\n            ",1003],["T_ARRAY","array",1004],"(",["T_CONSTANT_ENCAPSED_STRING","'for=192.0.2.60, for=87.65.43.21'",1004],",",["T_WHITESPACE","           ",1004],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60,87.65.43.21'",1004],")",",",["T_WHITESPACE","\n            ",1004],["T_ARRAY","array",1005],"(",["T_CONSTANT_ENCAPSED_STRING","'for=\"[::face]\", for=192.0.2.60'",1005],",",["T_WHITESPACE","            ",1005],["T_CONSTANT_ENCAPSED_STRING","'::face,192.0.2.60'",1005],")",",",["T_WHITESPACE","\n            ",1005],["T_ARRAY","array",1006],"(",["T_CONSTANT_ENCAPSED_STRING","'for=\"192.0.2.60:80\"'",1006],",",["T_WHITESPACE","                       ",1006],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60'",1006],")",",",["T_WHITESPACE","\n            ",1006],["T_ARRAY","array",1007],"(",["T_CONSTANT_ENCAPSED_STRING","'for=192.0.2.60;proto=http;by=203.0.113.43'",1007],",",["T_WHITESPACE"," ",1007],["T_CONSTANT_ENCAPSED_STRING","'192.0.2.60'",1007],")",",",["T_WHITESPACE","\n            ",1007],["T_ARRAY","array",1008],"(",["T_CONSTANT_ENCAPSED_STRING","'for=\"[2001:db8:cafe::17]:4711\"'",1008],",",["T_WHITESPACE","            ",1008],["T_CONSTANT_ENCAPSED_STRING","'2001:db8:cafe::17'",1008],")",",",["T_WHITESPACE","\n        ",1008],")",";",["T_WHITESPACE","\n    ",1009],"}",["T_WHITESPACE","\n\n    ",1010],["T_PUBLIC","public",1012],["T_WHITESPACE"," ",1012],["T_FUNCTION","function",1012],["T_WHITESPACE"," ",1012],["T_STRING","testGetContentWorksTwiceInDefaultMode",1012],"(",")",["T_WHITESPACE","\n    ",1012],"{",["T_WHITESPACE","\n        ",1013],["T_VARIABLE","$req",1014],["T_WHITESPACE"," ",1014],"=",["T_WHITESPACE"," ",1014],["T_NEW","new",1014],["T_WHITESPACE"," ",1014],["T_STRING","Request",1014],"(",")",";",["T_WHITESPACE","\n        ",1014],["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","assertEquals",1015],"(",["T_CONSTANT_ENCAPSED_STRING","''",1015],",",["T_WHITESPACE"," ",1015],["T_VARIABLE","$req",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","getContent",1015],"(",")",")",";",["T_WHITESPACE","\n        ",1015],["T_VARIABLE","$this",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","assertEquals",1016],"(",["T_CONSTANT_ENCAPSED_STRING","''",1016],",",["T_WHITESPACE"," ",1016],["T_VARIABLE","$req",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","getContent",1016],"(",")",")",";",["T_WHITESPACE","\n    ",1016],"}",["T_WHITESPACE","\n\n    ",1017],["T_PUBLIC","public",1019],["T_WHITESPACE"," ",1019],["T_FUNCTION","function",1019],["T_WHITESPACE"," ",1019],["T_STRING","testGetContentReturnsResource",1019],"(",")",["T_WHITESPACE","\n    ",1019],"{",["T_WHITESPACE","\n        ",1020],["T_VARIABLE","$req",1021],["T_WHITESPACE"," ",1021],"=",["T_WHITESPACE"," ",1021],["T_NEW","new",1021],["T_WHITESPACE"," ",1021],["T_STRING","Request",1021],"(",")",";",["T_WHITESPACE","\n        ",1021],["T_VARIABLE","$retval",1022],["T_WHITESPACE"," ",1022],"=",["T_WHITESPACE"," ",1022],["T_VARIABLE","$req",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","getContent",1022],"(",["T_STRING","true",1022],")",";",["T_WHITESPACE","\n        ",1022],["T_VARIABLE","$this",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","assertInternalType",1023],"(",["T_CONSTANT_ENCAPSED_STRING","'resource'",1023],",",["T_WHITESPACE"," ",1023],["T_VARIABLE","$retval",1023],")",";",["T_WHITESPACE","\n        ",1023],["T_VARIABLE","$this",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","assertEquals",1024],"(",["T_CONSTANT_ENCAPSED_STRING","''",1024],",",["T_WHITESPACE"," ",1024],["T_STRING","fread",1024],"(",["T_VARIABLE","$retval",1024],",",["T_WHITESPACE"," ",1024],["T_LNUMBER","1",1024],")",")",";",["T_WHITESPACE","\n        ",1024],["T_VARIABLE","$this",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","assertTrue",1025],"(",["T_STRING","feof",1025],"(",["T_VARIABLE","$retval",1025],")",")",";",["T_WHITESPACE","\n    ",1025],"}",["T_WHITESPACE","\n\n    ",1026],["T_PUBLIC","public",1028],["T_WHITESPACE"," ",1028],["T_FUNCTION","function",1028],["T_WHITESPACE"," ",1028],["T_STRING","testGetContentReturnsResourceWhenContentSetInConstructor",1028],"(",")",["T_WHITESPACE","\n    ",1028],"{",["T_WHITESPACE","\n        ",1029],["T_VARIABLE","$req",1030],["T_WHITESPACE"," ",1030],"=",["T_WHITESPACE"," ",1030],["T_NEW","new",1030],["T_WHITESPACE"," ",1030],["T_STRING","Request",1030],"(",["T_ARRAY","array",1030],"(",")",",",["T_WHITESPACE"," ",1030],["T_ARRAY","array",1030],"(",")",",",["T_WHITESPACE"," ",1030],["T_ARRAY","array",1030],"(",")",",",["T_WHITESPACE"," ",1030],["T_ARRAY","array",1030],"(",")",",",["T_WHITESPACE"," ",1030],["T_ARRAY","array",1030],"(",")",",",["T_WHITESPACE"," ",1030],["T_ARRAY","array",1030],"(",")",",",["T_WHITESPACE"," ",1030],["T_CONSTANT_ENCAPSED_STRING","'MyContent'",1030],")",";",["T_WHITESPACE","\n        ",1030],["T_VARIABLE","$resource",1031],["T_WHITESPACE"," ",1031],"=",["T_WHITESPACE"," ",1031],["T_VARIABLE","$req",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","getContent",1031],"(",["T_STRING","true",1031],")",";",["T_WHITESPACE","\n\n        ",1031],["T_VARIABLE","$this",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","assertTrue",1033],"(",["T_STRING","is_resource",1033],"(",["T_VARIABLE","$resource",1033],")",")",";",["T_WHITESPACE","\n        ",1033],["T_VARIABLE","$this",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","assertEquals",1034],"(",["T_CONSTANT_ENCAPSED_STRING","'MyContent'",1034],",",["T_WHITESPACE"," ",1034],["T_STRING","stream_get_contents",1034],"(",["T_VARIABLE","$resource",1034],")",")",";",["T_WHITESPACE","\n    ",1034],"}",["T_WHITESPACE","\n\n    ",1035],["T_PUBLIC","public",1037],["T_WHITESPACE"," ",1037],["T_FUNCTION","function",1037],["T_WHITESPACE"," ",1037],["T_STRING","testContentAsResource",1037],"(",")",["T_WHITESPACE","\n    ",1037],"{",["T_WHITESPACE","\n        ",1038],["T_VARIABLE","$resource",1039],["T_WHITESPACE"," ",1039],"=",["T_WHITESPACE"," ",1039],["T_STRING","fopen",1039],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/memory'",1039],",",["T_WHITESPACE"," ",1039],["T_CONSTANT_ENCAPSED_STRING","'r+'",1039],")",";",["T_WHITESPACE","\n        ",1039],["T_STRING","fwrite",1040],"(",["T_VARIABLE","$resource",1040],",",["T_WHITESPACE"," ",1040],["T_CONSTANT_ENCAPSED_STRING","'My other content'",1040],")",";",["T_WHITESPACE","\n        ",1040],["T_STRING","rewind",1041],"(",["T_VARIABLE","$resource",1041],")",";",["T_WHITESPACE","\n\n        ",1041],["T_VARIABLE","$req",1043],["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_NEW","new",1043],["T_WHITESPACE"," ",1043],["T_STRING","Request",1043],"(",["T_ARRAY","array",1043],"(",")",",",["T_WHITESPACE"," ",1043],["T_ARRAY","array",1043],"(",")",",",["T_WHITESPACE"," ",1043],["T_ARRAY","array",1043],"(",")",",",["T_WHITESPACE"," ",1043],["T_ARRAY","array",1043],"(",")",",",["T_WHITESPACE"," ",1043],["T_ARRAY","array",1043],"(",")",",",["T_WHITESPACE"," ",1043],["T_ARRAY","array",1043],"(",")",",",["T_WHITESPACE"," ",1043],["T_VARIABLE","$resource",1043],")",";",["T_WHITESPACE","\n        ",1043],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","assertEquals",1044],"(",["T_CONSTANT_ENCAPSED_STRING","'My other content'",1044],",",["T_WHITESPACE"," ",1044],["T_STRING","stream_get_contents",1044],"(",["T_VARIABLE","$req",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","getContent",1044],"(",["T_STRING","true",1044],")",")",")",";",["T_WHITESPACE","\n        ",1044],["T_VARIABLE","$this",1045],["T_OBJECT_OPERATOR","->",1045],["T_STRING","assertEquals",1045],"(",["T_CONSTANT_ENCAPSED_STRING","'My other content'",1045],",",["T_WHITESPACE"," ",1045],["T_VARIABLE","$req",1045],["T_OBJECT_OPERATOR","->",1045],["T_STRING","getContent",1045],"(",")",")",";",["T_WHITESPACE","\n    ",1045],"}",["T_WHITESPACE","\n\n    ",1046],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @dataProvider getContentCantBeCalledTwiceWithResourcesProvider\n     *\/",1048],["T_WHITESPACE","\n    ",1051],["T_PUBLIC","public",1052],["T_WHITESPACE"," ",1052],["T_FUNCTION","function",1052],["T_WHITESPACE"," ",1052],["T_STRING","testGetContentCantBeCalledTwiceWithResources",1052],"(",["T_VARIABLE","$first",1052],",",["T_WHITESPACE"," ",1052],["T_VARIABLE","$second",1052],")",["T_WHITESPACE","\n    ",1052],"{",["T_WHITESPACE","\n        ",1053],["T_IF","if",1054],["T_WHITESPACE"," ",1054],"(",["T_STRING","PHP_VERSION_ID",1054],["T_WHITESPACE"," ",1054],["T_IS_GREATER_OR_EQUAL",">=",1054],["T_WHITESPACE"," ",1054],["T_LNUMBER","50600",1054],")",["T_WHITESPACE"," ",1054],"{",["T_WHITESPACE","\n            ",1054],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","markTestSkipped",1055],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP >= 5.6 allows to open php:\/\/input several times.'",1055],")",";",["T_WHITESPACE","\n        ",1055],"}",["T_WHITESPACE","\n\n        ",1056],["T_VARIABLE","$req",1058],["T_WHITESPACE"," ",1058],"=",["T_WHITESPACE"," ",1058],["T_NEW","new",1058],["T_WHITESPACE"," ",1058],["T_STRING","Request",1058],"(",")",";",["T_WHITESPACE","\n        ",1058],["T_VARIABLE","$req",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","getContent",1059],"(",["T_VARIABLE","$first",1059],")",";",["T_WHITESPACE","\n        ",1059],["T_VARIABLE","$req",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","getContent",1060],"(",["T_VARIABLE","$second",1060],")",";",["T_WHITESPACE","\n    ",1060],"}",["T_WHITESPACE","\n\n    ",1061],["T_PUBLIC","public",1063],["T_WHITESPACE"," ",1063],["T_FUNCTION","function",1063],["T_WHITESPACE"," ",1063],["T_STRING","getContentCantBeCalledTwiceWithResourcesProvider",1063],"(",")",["T_WHITESPACE","\n    ",1063],"{",["T_WHITESPACE","\n        ",1064],["T_RETURN","return",1065],["T_WHITESPACE"," ",1065],["T_ARRAY","array",1065],"(",["T_WHITESPACE","\n            ",1065],["T_CONSTANT_ENCAPSED_STRING","'Resource then fetch'",1066],["T_WHITESPACE"," ",1066],["T_DOUBLE_ARROW","=>",1066],["T_WHITESPACE"," ",1066],["T_ARRAY","array",1066],"(",["T_STRING","true",1066],",",["T_WHITESPACE"," ",1066],["T_STRING","false",1066],")",",",["T_WHITESPACE","\n            ",1066],["T_CONSTANT_ENCAPSED_STRING","'Resource then resource'",1067],["T_WHITESPACE"," ",1067],["T_DOUBLE_ARROW","=>",1067],["T_WHITESPACE"," ",1067],["T_ARRAY","array",1067],"(",["T_STRING","true",1067],",",["T_WHITESPACE"," ",1067],["T_STRING","true",1067],")",",",["T_WHITESPACE","\n        ",1067],")",";",["T_WHITESPACE","\n    ",1068],"}",["T_WHITESPACE","\n\n    ",1069],["T_DOC_COMMENT","\/**\n     * @dataProvider getContentCanBeCalledTwiceWithResourcesProvider\n     * @requires PHP 5.6\n     *\/",1071],["T_WHITESPACE","\n    ",1074],["T_PUBLIC","public",1075],["T_WHITESPACE"," ",1075],["T_FUNCTION","function",1075],["T_WHITESPACE"," ",1075],["T_STRING","testGetContentCanBeCalledTwiceWithResources",1075],"(",["T_VARIABLE","$first",1075],",",["T_WHITESPACE"," ",1075],["T_VARIABLE","$second",1075],")",["T_WHITESPACE","\n    ",1075],"{",["T_WHITESPACE","\n        ",1076],["T_VARIABLE","$req",1077],["T_WHITESPACE"," ",1077],"=",["T_WHITESPACE"," ",1077],["T_NEW","new",1077],["T_WHITESPACE"," ",1077],["T_STRING","Request",1077],"(",")",";",["T_WHITESPACE","\n        ",1077],["T_VARIABLE","$a",1078],["T_WHITESPACE"," ",1078],"=",["T_WHITESPACE"," ",1078],["T_VARIABLE","$req",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","getContent",1078],"(",["T_VARIABLE","$first",1078],")",";",["T_WHITESPACE","\n        ",1078],["T_VARIABLE","$b",1079],["T_WHITESPACE"," ",1079],"=",["T_WHITESPACE"," ",1079],["T_VARIABLE","$req",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","getContent",1079],"(",["T_VARIABLE","$second",1079],")",";",["T_WHITESPACE","\n\n        ",1079],["T_IF","if",1081],["T_WHITESPACE"," ",1081],"(",["T_VARIABLE","$first",1081],")",["T_WHITESPACE"," ",1081],"{",["T_WHITESPACE","\n            ",1081],["T_VARIABLE","$a",1082],["T_WHITESPACE"," ",1082],"=",["T_WHITESPACE"," ",1082],["T_STRING","stream_get_contents",1082],"(",["T_VARIABLE","$a",1082],")",";",["T_WHITESPACE","\n        ",1082],"}",["T_WHITESPACE","\n\n        ",1083],["T_IF","if",1085],["T_WHITESPACE"," ",1085],"(",["T_VARIABLE","$second",1085],")",["T_WHITESPACE"," ",1085],"{",["T_WHITESPACE","\n            ",1085],["T_VARIABLE","$b",1086],["T_WHITESPACE"," ",1086],"=",["T_WHITESPACE"," ",1086],["T_STRING","stream_get_contents",1086],"(",["T_VARIABLE","$b",1086],")",";",["T_WHITESPACE","\n        ",1086],"}",["T_WHITESPACE","\n\n        ",1087],["T_VARIABLE","$this",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","assertSame",1089],"(",["T_VARIABLE","$a",1089],",",["T_WHITESPACE"," ",1089],["T_VARIABLE","$b",1089],")",";",["T_WHITESPACE","\n    ",1089],"}",["T_WHITESPACE","\n\n    ",1090],["T_PUBLIC","public",1092],["T_WHITESPACE"," ",1092],["T_FUNCTION","function",1092],["T_WHITESPACE"," ",1092],["T_STRING","getContentCanBeCalledTwiceWithResourcesProvider",1092],"(",")",["T_WHITESPACE","\n    ",1092],"{",["T_WHITESPACE","\n        ",1093],["T_RETURN","return",1094],["T_WHITESPACE"," ",1094],["T_ARRAY","array",1094],"(",["T_WHITESPACE","\n            ",1094],["T_CONSTANT_ENCAPSED_STRING","'Fetch then fetch'",1095],["T_WHITESPACE"," ",1095],["T_DOUBLE_ARROW","=>",1095],["T_WHITESPACE"," ",1095],["T_ARRAY","array",1095],"(",["T_STRING","false",1095],",",["T_WHITESPACE"," ",1095],["T_STRING","false",1095],")",",",["T_WHITESPACE","\n            ",1095],["T_CONSTANT_ENCAPSED_STRING","'Fetch then resource'",1096],["T_WHITESPACE"," ",1096],["T_DOUBLE_ARROW","=>",1096],["T_WHITESPACE"," ",1096],["T_ARRAY","array",1096],"(",["T_STRING","false",1096],",",["T_WHITESPACE"," ",1096],["T_STRING","true",1096],")",",",["T_WHITESPACE","\n            ",1096],["T_CONSTANT_ENCAPSED_STRING","'Resource then fetch'",1097],["T_WHITESPACE"," ",1097],["T_DOUBLE_ARROW","=>",1097],["T_WHITESPACE"," ",1097],["T_ARRAY","array",1097],"(",["T_STRING","true",1097],",",["T_WHITESPACE"," ",1097],["T_STRING","false",1097],")",",",["T_WHITESPACE","\n            ",1097],["T_CONSTANT_ENCAPSED_STRING","'Resource then resource'",1098],["T_WHITESPACE"," ",1098],["T_DOUBLE_ARROW","=>",1098],["T_WHITESPACE"," ",1098],["T_ARRAY","array",1098],"(",["T_STRING","true",1098],",",["T_WHITESPACE"," ",1098],["T_STRING","true",1098],")",",",["T_WHITESPACE","\n        ",1098],")",";",["T_WHITESPACE","\n    ",1099],"}",["T_WHITESPACE","\n\n    ",1100],["T_PUBLIC","public",1102],["T_WHITESPACE"," ",1102],["T_FUNCTION","function",1102],["T_WHITESPACE"," ",1102],["T_STRING","provideOverloadedMethods",1102],"(",")",["T_WHITESPACE","\n    ",1102],"{",["T_WHITESPACE","\n        ",1103],["T_RETURN","return",1104],["T_WHITESPACE"," ",1104],["T_ARRAY","array",1104],"(",["T_WHITESPACE","\n            ",1104],["T_ARRAY","array",1105],"(",["T_CONSTANT_ENCAPSED_STRING","'PUT'",1105],")",",",["T_WHITESPACE","\n            ",1105],["T_ARRAY","array",1106],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE'",1106],")",",",["T_WHITESPACE","\n            ",1106],["T_ARRAY","array",1107],"(",["T_CONSTANT_ENCAPSED_STRING","'PATCH'",1107],")",",",["T_WHITESPACE","\n            ",1107],["T_ARRAY","array",1108],"(",["T_CONSTANT_ENCAPSED_STRING","'put'",1108],")",",",["T_WHITESPACE","\n            ",1108],["T_ARRAY","array",1109],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",1109],")",",",["T_WHITESPACE","\n            ",1109],["T_ARRAY","array",1110],"(",["T_CONSTANT_ENCAPSED_STRING","'patch'",1110],")",",",["T_WHITESPACE","\n        ",1110],")",";",["T_WHITESPACE","\n    ",1111],"}",["T_WHITESPACE","\n\n    ",1112],["T_DOC_COMMENT","\/**\n     * @dataProvider provideOverloadedMethods\n     *\/",1114],["T_WHITESPACE","\n    ",1116],["T_PUBLIC","public",1117],["T_WHITESPACE"," ",1117],["T_FUNCTION","function",1117],["T_WHITESPACE"," ",1117],["T_STRING","testCreateFromGlobals",1117],"(",["T_VARIABLE","$method",1117],")",["T_WHITESPACE","\n    ",1117],"{",["T_WHITESPACE","\n        ",1118],["T_VARIABLE","$normalizedMethod",1119],["T_WHITESPACE"," ",1119],"=",["T_WHITESPACE"," ",1119],["T_STRING","strtoupper",1119],"(",["T_VARIABLE","$method",1119],")",";",["T_WHITESPACE","\n\n        ",1119],["T_VARIABLE","$_GET",1121],"[",["T_CONSTANT_ENCAPSED_STRING","'foo1'",1121],"]",["T_WHITESPACE"," ",1121],"=",["T_WHITESPACE"," ",1121],["T_CONSTANT_ENCAPSED_STRING","'bar1'",1121],";",["T_WHITESPACE","\n        ",1121],["T_VARIABLE","$_POST",1122],"[",["T_CONSTANT_ENCAPSED_STRING","'foo2'",1122],"]",["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_CONSTANT_ENCAPSED_STRING","'bar2'",1122],";",["T_WHITESPACE","\n        ",1122],["T_VARIABLE","$_COOKIE",1123],"[",["T_CONSTANT_ENCAPSED_STRING","'foo3'",1123],"]",["T_WHITESPACE"," ",1123],"=",["T_WHITESPACE"," ",1123],["T_CONSTANT_ENCAPSED_STRING","'bar3'",1123],";",["T_WHITESPACE","\n        ",1123],["T_VARIABLE","$_FILES",1124],"[",["T_CONSTANT_ENCAPSED_STRING","'foo4'",1124],"]",["T_WHITESPACE"," ",1124],"=",["T_WHITESPACE"," ",1124],["T_ARRAY","array",1124],"(",["T_CONSTANT_ENCAPSED_STRING","'bar4'",1124],")",";",["T_WHITESPACE","\n        ",1124],["T_VARIABLE","$_SERVER",1125],"[",["T_CONSTANT_ENCAPSED_STRING","'foo5'",1125],"]",["T_WHITESPACE"," ",1125],"=",["T_WHITESPACE"," ",1125],["T_CONSTANT_ENCAPSED_STRING","'bar5'",1125],";",["T_WHITESPACE","\n\n        ",1125],["T_VARIABLE","$request",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_STRING","Request",1127],["T_DOUBLE_COLON","::",1127],["T_STRING","createFromGlobals",1127],"(",")",";",["T_WHITESPACE","\n        ",1127],["T_VARIABLE","$this",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","assertEquals",1128],"(",["T_CONSTANT_ENCAPSED_STRING","'bar1'",1128],",",["T_WHITESPACE"," ",1128],["T_VARIABLE","$request",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","query",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","get",1128],"(",["T_CONSTANT_ENCAPSED_STRING","'foo1'",1128],")",",",["T_WHITESPACE"," ",1128],["T_CONSTANT_ENCAPSED_STRING","'::fromGlobals() uses values from $_GET'",1128],")",";",["T_WHITESPACE","\n        ",1128],["T_VARIABLE","$this",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","assertEquals",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'bar2'",1129],",",["T_WHITESPACE"," ",1129],["T_VARIABLE","$request",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","request",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","get",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'foo2'",1129],")",",",["T_WHITESPACE"," ",1129],["T_CONSTANT_ENCAPSED_STRING","'::fromGlobals() uses values from $_POST'",1129],")",";",["T_WHITESPACE","\n        ",1129],["T_VARIABLE","$this",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","assertEquals",1130],"(",["T_CONSTANT_ENCAPSED_STRING","'bar3'",1130],",",["T_WHITESPACE"," ",1130],["T_VARIABLE","$request",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","cookies",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","get",1130],"(",["T_CONSTANT_ENCAPSED_STRING","'foo3'",1130],")",",",["T_WHITESPACE"," ",1130],["T_CONSTANT_ENCAPSED_STRING","'::fromGlobals() uses values from $_COOKIE'",1130],")",";",["T_WHITESPACE","\n        ",1130],["T_VARIABLE","$this",1131],["T_OBJECT_OPERATOR","->",1131],["T_STRING","assertEquals",1131],"(",["T_ARRAY","array",1131],"(",["T_CONSTANT_ENCAPSED_STRING","'bar4'",1131],")",",",["T_WHITESPACE"," ",1131],["T_VARIABLE","$request",1131],["T_OBJECT_OPERATOR","->",1131],["T_STRING","files",1131],["T_OBJECT_OPERATOR","->",1131],["T_STRING","get",1131],"(",["T_CONSTANT_ENCAPSED_STRING","'foo4'",1131],")",",",["T_WHITESPACE"," ",1131],["T_CONSTANT_ENCAPSED_STRING","'::fromGlobals() uses values from $_FILES'",1131],")",";",["T_WHITESPACE","\n        ",1131],["T_VARIABLE","$this",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","assertEquals",1132],"(",["T_CONSTANT_ENCAPSED_STRING","'bar5'",1132],",",["T_WHITESPACE"," ",1132],["T_VARIABLE","$request",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","server",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","get",1132],"(",["T_CONSTANT_ENCAPSED_STRING","'foo5'",1132],")",",",["T_WHITESPACE"," ",1132],["T_CONSTANT_ENCAPSED_STRING","'::fromGlobals() uses values from $_SERVER'",1132],")",";",["T_WHITESPACE","\n\n        ",1132],["T_UNSET","unset",1134],"(",["T_VARIABLE","$_GET",1134],"[",["T_CONSTANT_ENCAPSED_STRING","'foo1'",1134],"]",",",["T_WHITESPACE"," ",1134],["T_VARIABLE","$_POST",1134],"[",["T_CONSTANT_ENCAPSED_STRING","'foo2'",1134],"]",",",["T_WHITESPACE"," ",1134],["T_VARIABLE","$_COOKIE",1134],"[",["T_CONSTANT_ENCAPSED_STRING","'foo3'",1134],"]",",",["T_WHITESPACE"," ",1134],["T_VARIABLE","$_FILES",1134],"[",["T_CONSTANT_ENCAPSED_STRING","'foo4'",1134],"]",",",["T_WHITESPACE"," ",1134],["T_VARIABLE","$_SERVER",1134],"[",["T_CONSTANT_ENCAPSED_STRING","'foo5'",1134],"]",")",";",["T_WHITESPACE","\n\n        ",1134],["T_VARIABLE","$_SERVER",1136],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",1136],"]",["T_WHITESPACE"," ",1136],"=",["T_WHITESPACE"," ",1136],["T_VARIABLE","$method",1136],";",["T_WHITESPACE","\n        ",1136],["T_VARIABLE","$_SERVER",1137],"[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",1137],"]",["T_WHITESPACE"," ",1137],"=",["T_WHITESPACE"," ",1137],["T_CONSTANT_ENCAPSED_STRING","'application\/x-www-form-urlencoded'",1137],";",["T_WHITESPACE","\n        ",1137],["T_VARIABLE","$request",1138],["T_WHITESPACE"," ",1138],"=",["T_WHITESPACE"," ",1138],["T_STRING","RequestContentProxy",1138],["T_DOUBLE_COLON","::",1138],["T_STRING","createFromGlobals",1138],"(",")",";",["T_WHITESPACE","\n        ",1138],["T_VARIABLE","$this",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","assertEquals",1139],"(",["T_VARIABLE","$normalizedMethod",1139],",",["T_WHITESPACE"," ",1139],["T_VARIABLE","$request",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","getMethod",1139],"(",")",")",";",["T_WHITESPACE","\n        ",1139],["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","assertEquals",1140],"(",["T_CONSTANT_ENCAPSED_STRING","'mycontent'",1140],",",["T_WHITESPACE"," ",1140],["T_VARIABLE","$request",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","request",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","get",1140],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",1140],")",")",";",["T_WHITESPACE","\n\n        ",1140],["T_UNSET","unset",1142],"(",["T_VARIABLE","$_SERVER",1142],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",1142],"]",",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$_SERVER",1142],"[",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",1142],"]",")",";",["T_WHITESPACE","\n\n        ",1142],["T_STRING","Request",1144],["T_DOUBLE_COLON","::",1144],["T_STRING","createFromGlobals",1144],"(",")",";",["T_WHITESPACE","\n        ",1144],["T_STRING","Request",1145],["T_DOUBLE_COLON","::",1145],["T_STRING","enableHttpMethodParameterOverride",1145],"(",")",";",["T_WHITESPACE","\n        ",1145],["T_VARIABLE","$_POST",1146],"[",["T_CONSTANT_ENCAPSED_STRING","'_method'",1146],"]",["T_WHITESPACE"," ",1146],"=",["T_WHITESPACE"," ",1146],["T_VARIABLE","$method",1146],";",["T_WHITESPACE","\n        ",1146],["T_VARIABLE","$_POST",1147],"[",["T_CONSTANT_ENCAPSED_STRING","'foo6'",1147],"]",["T_WHITESPACE"," ",1147],"=",["T_WHITESPACE"," ",1147],["T_CONSTANT_ENCAPSED_STRING","'bar6'",1147],";",["T_WHITESPACE","\n        ",1147],["T_VARIABLE","$_SERVER",1148],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",1148],"]",["T_WHITESPACE"," ",1148],"=",["T_WHITESPACE"," ",1148],["T_CONSTANT_ENCAPSED_STRING","'PoSt'",1148],";",["T_WHITESPACE","\n        ",1148],["T_VARIABLE","$request",1149],["T_WHITESPACE"," ",1149],"=",["T_WHITESPACE"," ",1149],["T_STRING","Request",1149],["T_DOUBLE_COLON","::",1149],["T_STRING","createFromGlobals",1149],"(",")",";",["T_WHITESPACE","\n        ",1149],["T_VARIABLE","$this",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","assertEquals",1150],"(",["T_VARIABLE","$normalizedMethod",1150],",",["T_WHITESPACE"," ",1150],["T_VARIABLE","$request",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","getMethod",1150],"(",")",")",";",["T_WHITESPACE","\n        ",1150],["T_VARIABLE","$this",1151],["T_OBJECT_OPERATOR","->",1151],["T_STRING","assertEquals",1151],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",1151],",",["T_WHITESPACE"," ",1151],["T_VARIABLE","$request",1151],["T_OBJECT_OPERATOR","->",1151],["T_STRING","getRealMethod",1151],"(",")",")",";",["T_WHITESPACE","\n        ",1151],["T_VARIABLE","$this",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","assertEquals",1152],"(",["T_CONSTANT_ENCAPSED_STRING","'bar6'",1152],",",["T_WHITESPACE"," ",1152],["T_VARIABLE","$request",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","request",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","get",1152],"(",["T_CONSTANT_ENCAPSED_STRING","'foo6'",1152],")",")",";",["T_WHITESPACE","\n\n        ",1152],["T_UNSET","unset",1154],"(",["T_VARIABLE","$_POST",1154],"[",["T_CONSTANT_ENCAPSED_STRING","'_method'",1154],"]",",",["T_WHITESPACE"," ",1154],["T_VARIABLE","$_POST",1154],"[",["T_CONSTANT_ENCAPSED_STRING","'foo6'",1154],"]",",",["T_WHITESPACE"," ",1154],["T_VARIABLE","$_SERVER",1154],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",1154],"]",")",";",["T_WHITESPACE","\n        ",1154],["T_VARIABLE","$this",1155],["T_OBJECT_OPERATOR","->",1155],["T_STRING","disableHttpMethodParameterOverride",1155],"(",")",";",["T_WHITESPACE","\n    ",1155],"}",["T_WHITESPACE","\n\n    ",1156],["T_PUBLIC","public",1158],["T_WHITESPACE"," ",1158],["T_FUNCTION","function",1158],["T_WHITESPACE"," ",1158],["T_STRING","testOverrideGlobals",1158],"(",")",["T_WHITESPACE","\n    ",1158],"{",["T_WHITESPACE","\n        ",1159],["T_VARIABLE","$request",1160],["T_WHITESPACE"," ",1160],"=",["T_WHITESPACE"," ",1160],["T_NEW","new",1160],["T_WHITESPACE"," ",1160],["T_STRING","Request",1160],"(",")",";",["T_WHITESPACE","\n        ",1160],["T_VARIABLE","$request",1161],["T_OBJECT_OPERATOR","->",1161],["T_STRING","initialize",1161],"(",["T_ARRAY","array",1161],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1161],["T_WHITESPACE"," ",1161],["T_DOUBLE_ARROW","=>",1161],["T_WHITESPACE"," ",1161],["T_CONSTANT_ENCAPSED_STRING","'bar'",1161],")",")",";",["T_WHITESPACE","\n\n        ",1161],["T_COMMENT","\/\/ as the Request::overrideGlobals really work, it erase $_SERVER, so we must backup it\n",1163],["T_WHITESPACE","        ",1164],["T_VARIABLE","$server",1164],["T_WHITESPACE"," ",1164],"=",["T_WHITESPACE"," ",1164],["T_VARIABLE","$_SERVER",1164],";",["T_WHITESPACE","\n\n        ",1164],["T_VARIABLE","$request",1166],["T_OBJECT_OPERATOR","->",1166],["T_STRING","overrideGlobals",1166],"(",")",";",["T_WHITESPACE","\n\n        ",1166],["T_VARIABLE","$this",1168],["T_OBJECT_OPERATOR","->",1168],["T_STRING","assertEquals",1168],"(",["T_ARRAY","array",1168],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1168],["T_WHITESPACE"," ",1168],["T_DOUBLE_ARROW","=>",1168],["T_WHITESPACE"," ",1168],["T_CONSTANT_ENCAPSED_STRING","'bar'",1168],")",",",["T_WHITESPACE"," ",1168],["T_VARIABLE","$_GET",1168],")",";",["T_WHITESPACE","\n\n        ",1168],["T_VARIABLE","$request",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","initialize",1170],"(",["T_ARRAY","array",1170],"(",")",",",["T_WHITESPACE"," ",1170],["T_ARRAY","array",1170],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1170],["T_WHITESPACE"," ",1170],["T_DOUBLE_ARROW","=>",1170],["T_WHITESPACE"," ",1170],["T_CONSTANT_ENCAPSED_STRING","'bar'",1170],")",")",";",["T_WHITESPACE","\n        ",1170],["T_VARIABLE","$request",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","overrideGlobals",1171],"(",")",";",["T_WHITESPACE","\n\n        ",1171],["T_VARIABLE","$this",1173],["T_OBJECT_OPERATOR","->",1173],["T_STRING","assertEquals",1173],"(",["T_ARRAY","array",1173],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1173],["T_WHITESPACE"," ",1173],["T_DOUBLE_ARROW","=>",1173],["T_WHITESPACE"," ",1173],["T_CONSTANT_ENCAPSED_STRING","'bar'",1173],")",",",["T_WHITESPACE"," ",1173],["T_VARIABLE","$_POST",1173],")",";",["T_WHITESPACE","\n\n        ",1173],["T_VARIABLE","$this",1175],["T_OBJECT_OPERATOR","->",1175],["T_STRING","assertArrayNotHasKey",1175],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",1175],",",["T_WHITESPACE"," ",1175],["T_VARIABLE","$_SERVER",1175],")",";",["T_WHITESPACE","\n\n        ",1175],["T_VARIABLE","$request",1177],["T_OBJECT_OPERATOR","->",1177],["T_STRING","headers",1177],["T_OBJECT_OPERATOR","->",1177],["T_STRING","set",1177],"(",["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_PROTO'",1177],",",["T_WHITESPACE"," ",1177],["T_CONSTANT_ENCAPSED_STRING","'https'",1177],")",";",["T_WHITESPACE","\n\n        ",1177],["T_STRING","Request",1179],["T_DOUBLE_COLON","::",1179],["T_STRING","setTrustedProxies",1179],"(",["T_ARRAY","array",1179],"(",["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",1179],")",")",";",["T_WHITESPACE","\n        ",1179],["T_VARIABLE","$this",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","assertFalse",1180],"(",["T_VARIABLE","$request",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","isSecure",1180],"(",")",")",";",["T_WHITESPACE","\n        ",1180],["T_VARIABLE","$request",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","server",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","set",1181],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1181],",",["T_WHITESPACE"," ",1181],["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",1181],")",";",["T_WHITESPACE","\n        ",1181],["T_VARIABLE","$this",1182],["T_OBJECT_OPERATOR","->",1182],["T_STRING","assertTrue",1182],"(",["T_VARIABLE","$request",1182],["T_OBJECT_OPERATOR","->",1182],["T_STRING","isSecure",1182],"(",")",")",";",["T_WHITESPACE","\n        ",1182],["T_STRING","Request",1183],["T_DOUBLE_COLON","::",1183],["T_STRING","setTrustedProxies",1183],"(",["T_ARRAY","array",1183],"(",")",")",";",["T_WHITESPACE","\n\n        ",1183],["T_VARIABLE","$request",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","overrideGlobals",1185],"(",")",";",["T_WHITESPACE","\n\n        ",1185],["T_VARIABLE","$this",1187],["T_OBJECT_OPERATOR","->",1187],["T_STRING","assertArrayHasKey",1187],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_PROTO'",1187],",",["T_WHITESPACE"," ",1187],["T_VARIABLE","$_SERVER",1187],")",";",["T_WHITESPACE","\n\n        ",1187],["T_VARIABLE","$request",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","headers",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","set",1189],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",1189],",",["T_WHITESPACE"," ",1189],["T_CONSTANT_ENCAPSED_STRING","'multipart\/form-data'",1189],")",";",["T_WHITESPACE","\n        ",1189],["T_VARIABLE","$request",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","headers",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","set",1190],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_LENGTH'",1190],",",["T_WHITESPACE"," ",1190],["T_LNUMBER","12345",1190],")",";",["T_WHITESPACE","\n\n        ",1190],["T_VARIABLE","$request",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","overrideGlobals",1192],"(",")",";",["T_WHITESPACE","\n\n        ",1192],["T_VARIABLE","$this",1194],["T_OBJECT_OPERATOR","->",1194],["T_STRING","assertArrayHasKey",1194],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",1194],",",["T_WHITESPACE"," ",1194],["T_VARIABLE","$_SERVER",1194],")",";",["T_WHITESPACE","\n        ",1194],["T_VARIABLE","$this",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","assertArrayHasKey",1195],"(",["T_CONSTANT_ENCAPSED_STRING","'CONTENT_LENGTH'",1195],",",["T_WHITESPACE"," ",1195],["T_VARIABLE","$_SERVER",1195],")",";",["T_WHITESPACE","\n\n        ",1195],["T_VARIABLE","$request",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","initialize",1197],"(",["T_ARRAY","array",1197],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1197],["T_WHITESPACE"," ",1197],["T_DOUBLE_ARROW","=>",1197],["T_WHITESPACE"," ",1197],["T_CONSTANT_ENCAPSED_STRING","'bar'",1197],",",["T_WHITESPACE"," ",1197],["T_CONSTANT_ENCAPSED_STRING","'baz'",1197],["T_WHITESPACE"," ",1197],["T_DOUBLE_ARROW","=>",1197],["T_WHITESPACE"," ",1197],["T_CONSTANT_ENCAPSED_STRING","'foo'",1197],")",")",";",["T_WHITESPACE","\n        ",1197],["T_VARIABLE","$request",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","query",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","remove",1198],"(",["T_CONSTANT_ENCAPSED_STRING","'baz'",1198],")",";",["T_WHITESPACE","\n\n        ",1198],["T_VARIABLE","$request",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","overrideGlobals",1200],"(",")",";",["T_WHITESPACE","\n\n        ",1200],["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","assertEquals",1202],"(",["T_ARRAY","array",1202],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1202],["T_WHITESPACE"," ",1202],["T_DOUBLE_ARROW","=>",1202],["T_WHITESPACE"," ",1202],["T_CONSTANT_ENCAPSED_STRING","'bar'",1202],")",",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$_GET",1202],")",";",["T_WHITESPACE","\n        ",1202],["T_VARIABLE","$this",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","assertEquals",1203],"(",["T_CONSTANT_ENCAPSED_STRING","'foo=bar'",1203],",",["T_WHITESPACE"," ",1203],["T_VARIABLE","$_SERVER",1203],"[",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",1203],"]",")",";",["T_WHITESPACE","\n        ",1203],["T_VARIABLE","$this",1204],["T_OBJECT_OPERATOR","->",1204],["T_STRING","assertEquals",1204],"(",["T_CONSTANT_ENCAPSED_STRING","'foo=bar'",1204],",",["T_WHITESPACE"," ",1204],["T_VARIABLE","$request",1204],["T_OBJECT_OPERATOR","->",1204],["T_STRING","server",1204],["T_OBJECT_OPERATOR","->",1204],["T_STRING","get",1204],"(",["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",1204],")",")",";",["T_WHITESPACE","\n\n        ",1204],["T_COMMENT","\/\/ restore initial $_SERVER array\n",1206],["T_WHITESPACE","        ",1207],["T_VARIABLE","$_SERVER",1207],["T_WHITESPACE"," ",1207],"=",["T_WHITESPACE"," ",1207],["T_VARIABLE","$server",1207],";",["T_WHITESPACE","\n    ",1207],"}",["T_WHITESPACE","\n\n    ",1208],["T_PUBLIC","public",1210],["T_WHITESPACE"," ",1210],["T_FUNCTION","function",1210],["T_WHITESPACE"," ",1210],["T_STRING","testGetScriptName",1210],"(",")",["T_WHITESPACE","\n    ",1210],"{",["T_WHITESPACE","\n        ",1211],["T_VARIABLE","$request",1212],["T_WHITESPACE"," ",1212],"=",["T_WHITESPACE"," ",1212],["T_NEW","new",1212],["T_WHITESPACE"," ",1212],["T_STRING","Request",1212],"(",")",";",["T_WHITESPACE","\n        ",1212],["T_VARIABLE","$this",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","assertEquals",1213],"(",["T_CONSTANT_ENCAPSED_STRING","''",1213],",",["T_WHITESPACE"," ",1213],["T_VARIABLE","$request",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","getScriptName",1213],"(",")",")",";",["T_WHITESPACE","\n\n        ",1213],["T_VARIABLE","$server",1215],["T_WHITESPACE"," ",1215],"=",["T_WHITESPACE"," ",1215],["T_ARRAY","array",1215],"(",")",";",["T_WHITESPACE","\n        ",1215],["T_VARIABLE","$server",1216],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1216],"]",["T_WHITESPACE"," ",1216],"=",["T_WHITESPACE"," ",1216],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",1216],";",["T_WHITESPACE","\n\n        ",1216],["T_VARIABLE","$request",1218],["T_OBJECT_OPERATOR","->",1218],["T_STRING","initialize",1218],"(",["T_ARRAY","array",1218],"(",")",",",["T_WHITESPACE"," ",1218],["T_ARRAY","array",1218],"(",")",",",["T_WHITESPACE"," ",1218],["T_ARRAY","array",1218],"(",")",",",["T_WHITESPACE"," ",1218],["T_ARRAY","array",1218],"(",")",",",["T_WHITESPACE"," ",1218],["T_ARRAY","array",1218],"(",")",",",["T_WHITESPACE"," ",1218],["T_VARIABLE","$server",1218],")",";",["T_WHITESPACE","\n\n        ",1218],["T_VARIABLE","$this",1220],["T_OBJECT_OPERATOR","->",1220],["T_STRING","assertEquals",1220],"(",["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",1220],",",["T_WHITESPACE"," ",1220],["T_VARIABLE","$request",1220],["T_OBJECT_OPERATOR","->",1220],["T_STRING","getScriptName",1220],"(",")",")",";",["T_WHITESPACE","\n\n        ",1220],["T_VARIABLE","$server",1222],["T_WHITESPACE"," ",1222],"=",["T_WHITESPACE"," ",1222],["T_ARRAY","array",1222],"(",")",";",["T_WHITESPACE","\n        ",1222],["T_VARIABLE","$server",1223],"[",["T_CONSTANT_ENCAPSED_STRING","'ORIG_SCRIPT_NAME'",1223],"]",["T_WHITESPACE"," ",1223],"=",["T_WHITESPACE"," ",1223],["T_CONSTANT_ENCAPSED_STRING","'\/frontend.php'",1223],";",["T_WHITESPACE","\n        ",1223],["T_VARIABLE","$request",1224],["T_OBJECT_OPERATOR","->",1224],["T_STRING","initialize",1224],"(",["T_ARRAY","array",1224],"(",")",",",["T_WHITESPACE"," ",1224],["T_ARRAY","array",1224],"(",")",",",["T_WHITESPACE"," ",1224],["T_ARRAY","array",1224],"(",")",",",["T_WHITESPACE"," ",1224],["T_ARRAY","array",1224],"(",")",",",["T_WHITESPACE"," ",1224],["T_ARRAY","array",1224],"(",")",",",["T_WHITESPACE"," ",1224],["T_VARIABLE","$server",1224],")",";",["T_WHITESPACE","\n\n        ",1224],["T_VARIABLE","$this",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","assertEquals",1226],"(",["T_CONSTANT_ENCAPSED_STRING","'\/frontend.php'",1226],",",["T_WHITESPACE"," ",1226],["T_VARIABLE","$request",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","getScriptName",1226],"(",")",")",";",["T_WHITESPACE","\n\n        ",1226],["T_VARIABLE","$server",1228],["T_WHITESPACE"," ",1228],"=",["T_WHITESPACE"," ",1228],["T_ARRAY","array",1228],"(",")",";",["T_WHITESPACE","\n        ",1228],["T_VARIABLE","$server",1229],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1229],"]",["T_WHITESPACE"," ",1229],"=",["T_WHITESPACE"," ",1229],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",1229],";",["T_WHITESPACE","\n        ",1229],["T_VARIABLE","$server",1230],"[",["T_CONSTANT_ENCAPSED_STRING","'ORIG_SCRIPT_NAME'",1230],"]",["T_WHITESPACE"," ",1230],"=",["T_WHITESPACE"," ",1230],["T_CONSTANT_ENCAPSED_STRING","'\/frontend.php'",1230],";",["T_WHITESPACE","\n        ",1230],["T_VARIABLE","$request",1231],["T_OBJECT_OPERATOR","->",1231],["T_STRING","initialize",1231],"(",["T_ARRAY","array",1231],"(",")",",",["T_WHITESPACE"," ",1231],["T_ARRAY","array",1231],"(",")",",",["T_WHITESPACE"," ",1231],["T_ARRAY","array",1231],"(",")",",",["T_WHITESPACE"," ",1231],["T_ARRAY","array",1231],"(",")",",",["T_WHITESPACE"," ",1231],["T_ARRAY","array",1231],"(",")",",",["T_WHITESPACE"," ",1231],["T_VARIABLE","$server",1231],")",";",["T_WHITESPACE","\n\n        ",1231],["T_VARIABLE","$this",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","assertEquals",1233],"(",["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",1233],",",["T_WHITESPACE"," ",1233],["T_VARIABLE","$request",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","getScriptName",1233],"(",")",")",";",["T_WHITESPACE","\n    ",1233],"}",["T_WHITESPACE","\n\n    ",1234],["T_PUBLIC","public",1236],["T_WHITESPACE"," ",1236],["T_FUNCTION","function",1236],["T_WHITESPACE"," ",1236],["T_STRING","testGetBasePath",1236],"(",")",["T_WHITESPACE","\n    ",1236],"{",["T_WHITESPACE","\n        ",1237],["T_VARIABLE","$request",1238],["T_WHITESPACE"," ",1238],"=",["T_WHITESPACE"," ",1238],["T_NEW","new",1238],["T_WHITESPACE"," ",1238],["T_STRING","Request",1238],"(",")",";",["T_WHITESPACE","\n        ",1238],["T_VARIABLE","$this",1239],["T_OBJECT_OPERATOR","->",1239],["T_STRING","assertEquals",1239],"(",["T_CONSTANT_ENCAPSED_STRING","''",1239],",",["T_WHITESPACE"," ",1239],["T_VARIABLE","$request",1239],["T_OBJECT_OPERATOR","->",1239],["T_STRING","getBasePath",1239],"(",")",")",";",["T_WHITESPACE","\n\n        ",1239],["T_VARIABLE","$server",1241],["T_WHITESPACE"," ",1241],"=",["T_WHITESPACE"," ",1241],["T_ARRAY","array",1241],"(",")",";",["T_WHITESPACE","\n        ",1241],["T_VARIABLE","$server",1242],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1242],"]",["T_WHITESPACE"," ",1242],"=",["T_WHITESPACE"," ",1242],["T_CONSTANT_ENCAPSED_STRING","'\/some\/where\/index.php'",1242],";",["T_WHITESPACE","\n        ",1242],["T_VARIABLE","$request",1243],["T_OBJECT_OPERATOR","->",1243],["T_STRING","initialize",1243],"(",["T_ARRAY","array",1243],"(",")",",",["T_WHITESPACE"," ",1243],["T_ARRAY","array",1243],"(",")",",",["T_WHITESPACE"," ",1243],["T_ARRAY","array",1243],"(",")",",",["T_WHITESPACE"," ",1243],["T_ARRAY","array",1243],"(",")",",",["T_WHITESPACE"," ",1243],["T_ARRAY","array",1243],"(",")",",",["T_WHITESPACE"," ",1243],["T_VARIABLE","$server",1243],")",";",["T_WHITESPACE","\n        ",1243],["T_VARIABLE","$this",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","assertEquals",1244],"(",["T_CONSTANT_ENCAPSED_STRING","''",1244],",",["T_WHITESPACE"," ",1244],["T_VARIABLE","$request",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","getBasePath",1244],"(",")",")",";",["T_WHITESPACE","\n\n        ",1244],["T_VARIABLE","$server",1246],["T_WHITESPACE"," ",1246],"=",["T_WHITESPACE"," ",1246],["T_ARRAY","array",1246],"(",")",";",["T_WHITESPACE","\n        ",1246],["T_VARIABLE","$server",1247],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1247],"]",["T_WHITESPACE"," ",1247],"=",["T_WHITESPACE"," ",1247],["T_CONSTANT_ENCAPSED_STRING","'\/some\/where\/index.php'",1247],";",["T_WHITESPACE","\n        ",1247],["T_VARIABLE","$server",1248],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1248],"]",["T_WHITESPACE"," ",1248],"=",["T_WHITESPACE"," ",1248],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",1248],";",["T_WHITESPACE","\n        ",1248],["T_VARIABLE","$request",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","initialize",1249],"(",["T_ARRAY","array",1249],"(",")",",",["T_WHITESPACE"," ",1249],["T_ARRAY","array",1249],"(",")",",",["T_WHITESPACE"," ",1249],["T_ARRAY","array",1249],"(",")",",",["T_WHITESPACE"," ",1249],["T_ARRAY","array",1249],"(",")",",",["T_WHITESPACE"," ",1249],["T_ARRAY","array",1249],"(",")",",",["T_WHITESPACE"," ",1249],["T_VARIABLE","$server",1249],")",";",["T_WHITESPACE","\n\n        ",1249],["T_VARIABLE","$this",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","assertEquals",1251],"(",["T_CONSTANT_ENCAPSED_STRING","''",1251],",",["T_WHITESPACE"," ",1251],["T_VARIABLE","$request",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","getBasePath",1251],"(",")",")",";",["T_WHITESPACE","\n\n        ",1251],["T_VARIABLE","$server",1253],["T_WHITESPACE"," ",1253],"=",["T_WHITESPACE"," ",1253],["T_ARRAY","array",1253],"(",")",";",["T_WHITESPACE","\n        ",1253],["T_VARIABLE","$server",1254],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1254],"]",["T_WHITESPACE"," ",1254],"=",["T_WHITESPACE"," ",1254],["T_CONSTANT_ENCAPSED_STRING","'\/some\/where\/index.php'",1254],";",["T_WHITESPACE","\n        ",1254],["T_VARIABLE","$server",1255],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1255],"]",["T_WHITESPACE"," ",1255],"=",["T_WHITESPACE"," ",1255],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",1255],";",["T_WHITESPACE","\n        ",1255],["T_VARIABLE","$request",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","initialize",1256],"(",["T_ARRAY","array",1256],"(",")",",",["T_WHITESPACE"," ",1256],["T_ARRAY","array",1256],"(",")",",",["T_WHITESPACE"," ",1256],["T_ARRAY","array",1256],"(",")",",",["T_WHITESPACE"," ",1256],["T_ARRAY","array",1256],"(",")",",",["T_WHITESPACE"," ",1256],["T_ARRAY","array",1256],"(",")",",",["T_WHITESPACE"," ",1256],["T_VARIABLE","$server",1256],")",";",["T_WHITESPACE","\n\n        ",1256],["T_VARIABLE","$this",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","assertEquals",1258],"(",["T_CONSTANT_ENCAPSED_STRING","''",1258],",",["T_WHITESPACE"," ",1258],["T_VARIABLE","$request",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","getBasePath",1258],"(",")",")",";",["T_WHITESPACE","\n\n        ",1258],["T_VARIABLE","$server",1260],["T_WHITESPACE"," ",1260],"=",["T_WHITESPACE"," ",1260],["T_ARRAY","array",1260],"(",")",";",["T_WHITESPACE","\n        ",1260],["T_VARIABLE","$server",1261],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1261],"]",["T_WHITESPACE"," ",1261],"=",["T_WHITESPACE"," ",1261],["T_CONSTANT_ENCAPSED_STRING","'\/some\/where\/index.php'",1261],";",["T_WHITESPACE","\n        ",1261],["T_VARIABLE","$server",1262],"[",["T_CONSTANT_ENCAPSED_STRING","'ORIG_SCRIPT_NAME'",1262],"]",["T_WHITESPACE"," ",1262],"=",["T_WHITESPACE"," ",1262],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",1262],";",["T_WHITESPACE","\n        ",1262],["T_VARIABLE","$request",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","initialize",1263],"(",["T_ARRAY","array",1263],"(",")",",",["T_WHITESPACE"," ",1263],["T_ARRAY","array",1263],"(",")",",",["T_WHITESPACE"," ",1263],["T_ARRAY","array",1263],"(",")",",",["T_WHITESPACE"," ",1263],["T_ARRAY","array",1263],"(",")",",",["T_WHITESPACE"," ",1263],["T_ARRAY","array",1263],"(",")",",",["T_WHITESPACE"," ",1263],["T_VARIABLE","$server",1263],")",";",["T_WHITESPACE","\n\n        ",1263],["T_VARIABLE","$this",1265],["T_OBJECT_OPERATOR","->",1265],["T_STRING","assertEquals",1265],"(",["T_CONSTANT_ENCAPSED_STRING","''",1265],",",["T_WHITESPACE"," ",1265],["T_VARIABLE","$request",1265],["T_OBJECT_OPERATOR","->",1265],["T_STRING","getBasePath",1265],"(",")",")",";",["T_WHITESPACE","\n    ",1265],"}",["T_WHITESPACE","\n\n    ",1266],["T_PUBLIC","public",1268],["T_WHITESPACE"," ",1268],["T_FUNCTION","function",1268],["T_WHITESPACE"," ",1268],["T_STRING","testGetPathInfo",1268],"(",")",["T_WHITESPACE","\n    ",1268],"{",["T_WHITESPACE","\n        ",1269],["T_VARIABLE","$request",1270],["T_WHITESPACE"," ",1270],"=",["T_WHITESPACE"," ",1270],["T_NEW","new",1270],["T_WHITESPACE"," ",1270],["T_STRING","Request",1270],"(",")",";",["T_WHITESPACE","\n        ",1270],["T_VARIABLE","$this",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","assertEquals",1271],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1271],",",["T_WHITESPACE"," ",1271],["T_VARIABLE","$request",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","getPathInfo",1271],"(",")",")",";",["T_WHITESPACE","\n\n        ",1271],["T_VARIABLE","$server",1273],["T_WHITESPACE"," ",1273],"=",["T_WHITESPACE"," ",1273],["T_ARRAY","array",1273],"(",")",";",["T_WHITESPACE","\n        ",1273],["T_VARIABLE","$server",1274],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",1274],"]",["T_WHITESPACE"," ",1274],"=",["T_WHITESPACE"," ",1274],["T_CONSTANT_ENCAPSED_STRING","'\/path\/info'",1274],";",["T_WHITESPACE","\n        ",1274],["T_VARIABLE","$request",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","initialize",1275],"(",["T_ARRAY","array",1275],"(",")",",",["T_WHITESPACE"," ",1275],["T_ARRAY","array",1275],"(",")",",",["T_WHITESPACE"," ",1275],["T_ARRAY","array",1275],"(",")",",",["T_WHITESPACE"," ",1275],["T_ARRAY","array",1275],"(",")",",",["T_WHITESPACE"," ",1275],["T_ARRAY","array",1275],"(",")",",",["T_WHITESPACE"," ",1275],["T_VARIABLE","$server",1275],")",";",["T_WHITESPACE","\n\n        ",1275],["T_VARIABLE","$this",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","assertEquals",1277],"(",["T_CONSTANT_ENCAPSED_STRING","'\/path\/info'",1277],",",["T_WHITESPACE"," ",1277],["T_VARIABLE","$request",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","getPathInfo",1277],"(",")",")",";",["T_WHITESPACE","\n\n        ",1277],["T_VARIABLE","$server",1279],["T_WHITESPACE"," ",1279],"=",["T_WHITESPACE"," ",1279],["T_ARRAY","array",1279],"(",")",";",["T_WHITESPACE","\n        ",1279],["T_VARIABLE","$server",1280],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",1280],"]",["T_WHITESPACE"," ",1280],"=",["T_WHITESPACE"," ",1280],["T_CONSTANT_ENCAPSED_STRING","'\/path%20test\/info'",1280],";",["T_WHITESPACE","\n        ",1280],["T_VARIABLE","$request",1281],["T_OBJECT_OPERATOR","->",1281],["T_STRING","initialize",1281],"(",["T_ARRAY","array",1281],"(",")",",",["T_WHITESPACE"," ",1281],["T_ARRAY","array",1281],"(",")",",",["T_WHITESPACE"," ",1281],["T_ARRAY","array",1281],"(",")",",",["T_WHITESPACE"," ",1281],["T_ARRAY","array",1281],"(",")",",",["T_WHITESPACE"," ",1281],["T_ARRAY","array",1281],"(",")",",",["T_WHITESPACE"," ",1281],["T_VARIABLE","$server",1281],")",";",["T_WHITESPACE","\n\n        ",1281],["T_VARIABLE","$this",1283],["T_OBJECT_OPERATOR","->",1283],["T_STRING","assertEquals",1283],"(",["T_CONSTANT_ENCAPSED_STRING","'\/path%20test\/info'",1283],",",["T_WHITESPACE"," ",1283],["T_VARIABLE","$request",1283],["T_OBJECT_OPERATOR","->",1283],["T_STRING","getPathInfo",1283],"(",")",")",";",["T_WHITESPACE","\n    ",1283],"}",["T_WHITESPACE","\n\n    ",1284],["T_PUBLIC","public",1286],["T_WHITESPACE"," ",1286],["T_FUNCTION","function",1286],["T_WHITESPACE"," ",1286],["T_STRING","testGetParameterPrecedence",1286],"(",")",["T_WHITESPACE","\n    ",1286],"{",["T_WHITESPACE","\n        ",1287],["T_VARIABLE","$request",1288],["T_WHITESPACE"," ",1288],"=",["T_WHITESPACE"," ",1288],["T_NEW","new",1288],["T_WHITESPACE"," ",1288],["T_STRING","Request",1288],"(",")",";",["T_WHITESPACE","\n        ",1288],["T_VARIABLE","$request",1289],["T_OBJECT_OPERATOR","->",1289],["T_STRING","attributes",1289],["T_OBJECT_OPERATOR","->",1289],["T_STRING","set",1289],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1289],",",["T_WHITESPACE"," ",1289],["T_CONSTANT_ENCAPSED_STRING","'attr'",1289],")",";",["T_WHITESPACE","\n        ",1289],["T_VARIABLE","$request",1290],["T_OBJECT_OPERATOR","->",1290],["T_STRING","query",1290],["T_OBJECT_OPERATOR","->",1290],["T_STRING","set",1290],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1290],",",["T_WHITESPACE"," ",1290],["T_CONSTANT_ENCAPSED_STRING","'query'",1290],")",";",["T_WHITESPACE","\n        ",1290],["T_VARIABLE","$request",1291],["T_OBJECT_OPERATOR","->",1291],["T_STRING","request",1291],["T_OBJECT_OPERATOR","->",1291],["T_STRING","set",1291],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1291],",",["T_WHITESPACE"," ",1291],["T_CONSTANT_ENCAPSED_STRING","'body'",1291],")",";",["T_WHITESPACE","\n\n        ",1291],["T_VARIABLE","$this",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","assertSame",1293],"(",["T_CONSTANT_ENCAPSED_STRING","'attr'",1293],",",["T_WHITESPACE"," ",1293],["T_VARIABLE","$request",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","get",1293],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1293],")",")",";",["T_WHITESPACE","\n\n        ",1293],["T_VARIABLE","$request",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","attributes",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","remove",1295],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1295],")",";",["T_WHITESPACE","\n        ",1295],["T_VARIABLE","$this",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","assertSame",1296],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",1296],",",["T_WHITESPACE"," ",1296],["T_VARIABLE","$request",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","get",1296],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1296],")",")",";",["T_WHITESPACE","\n\n        ",1296],["T_VARIABLE","$request",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","query",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","remove",1298],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1298],")",";",["T_WHITESPACE","\n        ",1298],["T_VARIABLE","$this",1299],["T_OBJECT_OPERATOR","->",1299],["T_STRING","assertSame",1299],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",1299],",",["T_WHITESPACE"," ",1299],["T_VARIABLE","$request",1299],["T_OBJECT_OPERATOR","->",1299],["T_STRING","get",1299],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1299],")",")",";",["T_WHITESPACE","\n\n        ",1299],["T_VARIABLE","$request",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","request",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","remove",1301],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1301],")",";",["T_WHITESPACE","\n        ",1301],["T_VARIABLE","$this",1302],["T_OBJECT_OPERATOR","->",1302],["T_STRING","assertNull",1302],"(",["T_VARIABLE","$request",1302],["T_OBJECT_OPERATOR","->",1302],["T_STRING","get",1302],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1302],")",")",";",["T_WHITESPACE","\n    ",1302],"}",["T_WHITESPACE","\n\n    ",1303],["T_PUBLIC","public",1305],["T_WHITESPACE"," ",1305],["T_FUNCTION","function",1305],["T_WHITESPACE"," ",1305],["T_STRING","testGetPreferredLanguage",1305],"(",")",["T_WHITESPACE","\n    ",1305],"{",["T_WHITESPACE","\n        ",1306],["T_VARIABLE","$request",1307],["T_WHITESPACE"," ",1307],"=",["T_WHITESPACE"," ",1307],["T_NEW","new",1307],["T_WHITESPACE"," ",1307],["T_STRING","Request",1307],"(",")",";",["T_WHITESPACE","\n        ",1307],["T_VARIABLE","$this",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","assertNull",1308],"(",["T_VARIABLE","$request",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","getPreferredLanguage",1308],"(",")",")",";",["T_WHITESPACE","\n        ",1308],["T_VARIABLE","$this",1309],["T_OBJECT_OPERATOR","->",1309],["T_STRING","assertNull",1309],"(",["T_VARIABLE","$request",1309],["T_OBJECT_OPERATOR","->",1309],["T_STRING","getPreferredLanguage",1309],"(",["T_ARRAY","array",1309],"(",")",")",")",";",["T_WHITESPACE","\n        ",1309],["T_VARIABLE","$this",1310],["T_OBJECT_OPERATOR","->",1310],["T_STRING","assertEquals",1310],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1310],",",["T_WHITESPACE"," ",1310],["T_VARIABLE","$request",1310],["T_OBJECT_OPERATOR","->",1310],["T_STRING","getPreferredLanguage",1310],"(",["T_ARRAY","array",1310],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1310],")",")",")",";",["T_WHITESPACE","\n        ",1310],["T_VARIABLE","$this",1311],["T_OBJECT_OPERATOR","->",1311],["T_STRING","assertEquals",1311],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1311],",",["T_WHITESPACE"," ",1311],["T_VARIABLE","$request",1311],["T_OBJECT_OPERATOR","->",1311],["T_STRING","getPreferredLanguage",1311],"(",["T_ARRAY","array",1311],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1311],",",["T_WHITESPACE"," ",1311],["T_CONSTANT_ENCAPSED_STRING","'en'",1311],")",")",")",";",["T_WHITESPACE","\n        ",1311],["T_VARIABLE","$this",1312],["T_OBJECT_OPERATOR","->",1312],["T_STRING","assertEquals",1312],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1312],",",["T_WHITESPACE"," ",1312],["T_VARIABLE","$request",1312],["T_OBJECT_OPERATOR","->",1312],["T_STRING","getPreferredLanguage",1312],"(",["T_ARRAY","array",1312],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1312],",",["T_WHITESPACE"," ",1312],["T_CONSTANT_ENCAPSED_STRING","'fr'",1312],")",")",")",";",["T_WHITESPACE","\n        ",1312],["T_VARIABLE","$this",1313],["T_OBJECT_OPERATOR","->",1313],["T_STRING","assertEquals",1313],"(",["T_CONSTANT_ENCAPSED_STRING","'fr-ch'",1313],",",["T_WHITESPACE"," ",1313],["T_VARIABLE","$request",1313],["T_OBJECT_OPERATOR","->",1313],["T_STRING","getPreferredLanguage",1313],"(",["T_ARRAY","array",1313],"(",["T_CONSTANT_ENCAPSED_STRING","'fr-ch'",1313],",",["T_WHITESPACE"," ",1313],["T_CONSTANT_ENCAPSED_STRING","'fr-fr'",1313],")",")",")",";",["T_WHITESPACE","\n\n        ",1313],["T_VARIABLE","$request",1315],["T_WHITESPACE"," ",1315],"=",["T_WHITESPACE"," ",1315],["T_NEW","new",1315],["T_WHITESPACE"," ",1315],["T_STRING","Request",1315],"(",")",";",["T_WHITESPACE","\n        ",1315],["T_VARIABLE","$request",1316],["T_OBJECT_OPERATOR","->",1316],["T_STRING","headers",1316],["T_OBJECT_OPERATOR","->",1316],["T_STRING","set",1316],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1316],",",["T_WHITESPACE"," ",1316],["T_CONSTANT_ENCAPSED_STRING","'zh, en-us; q=0.8, en; q=0.6'",1316],")",";",["T_WHITESPACE","\n        ",1316],["T_VARIABLE","$this",1317],["T_OBJECT_OPERATOR","->",1317],["T_STRING","assertEquals",1317],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1317],",",["T_WHITESPACE"," ",1317],["T_VARIABLE","$request",1317],["T_OBJECT_OPERATOR","->",1317],["T_STRING","getPreferredLanguage",1317],"(",["T_ARRAY","array",1317],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1317],",",["T_WHITESPACE"," ",1317],["T_CONSTANT_ENCAPSED_STRING","'en-us'",1317],")",")",")",";",["T_WHITESPACE","\n\n        ",1317],["T_VARIABLE","$request",1319],["T_WHITESPACE"," ",1319],"=",["T_WHITESPACE"," ",1319],["T_NEW","new",1319],["T_WHITESPACE"," ",1319],["T_STRING","Request",1319],"(",")",";",["T_WHITESPACE","\n        ",1319],["T_VARIABLE","$request",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","headers",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","set",1320],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1320],",",["T_WHITESPACE"," ",1320],["T_CONSTANT_ENCAPSED_STRING","'zh, en-us; q=0.8, en; q=0.6'",1320],")",";",["T_WHITESPACE","\n        ",1320],["T_VARIABLE","$this",1321],["T_OBJECT_OPERATOR","->",1321],["T_STRING","assertEquals",1321],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1321],",",["T_WHITESPACE"," ",1321],["T_VARIABLE","$request",1321],["T_OBJECT_OPERATOR","->",1321],["T_STRING","getPreferredLanguage",1321],"(",["T_ARRAY","array",1321],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1321],",",["T_WHITESPACE"," ",1321],["T_CONSTANT_ENCAPSED_STRING","'en'",1321],")",")",")",";",["T_WHITESPACE","\n\n        ",1321],["T_VARIABLE","$request",1323],["T_WHITESPACE"," ",1323],"=",["T_WHITESPACE"," ",1323],["T_NEW","new",1323],["T_WHITESPACE"," ",1323],["T_STRING","Request",1323],"(",")",";",["T_WHITESPACE","\n        ",1323],["T_VARIABLE","$request",1324],["T_OBJECT_OPERATOR","->",1324],["T_STRING","headers",1324],["T_OBJECT_OPERATOR","->",1324],["T_STRING","set",1324],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1324],",",["T_WHITESPACE"," ",1324],["T_CONSTANT_ENCAPSED_STRING","'zh, en-us; q=0.8'",1324],")",";",["T_WHITESPACE","\n        ",1324],["T_VARIABLE","$this",1325],["T_OBJECT_OPERATOR","->",1325],["T_STRING","assertEquals",1325],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1325],",",["T_WHITESPACE"," ",1325],["T_VARIABLE","$request",1325],["T_OBJECT_OPERATOR","->",1325],["T_STRING","getPreferredLanguage",1325],"(",["T_ARRAY","array",1325],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1325],",",["T_WHITESPACE"," ",1325],["T_CONSTANT_ENCAPSED_STRING","'en'",1325],")",")",")",";",["T_WHITESPACE","\n\n        ",1325],["T_VARIABLE","$request",1327],["T_WHITESPACE"," ",1327],"=",["T_WHITESPACE"," ",1327],["T_NEW","new",1327],["T_WHITESPACE"," ",1327],["T_STRING","Request",1327],"(",")",";",["T_WHITESPACE","\n        ",1327],["T_VARIABLE","$request",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","headers",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","set",1328],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1328],",",["T_WHITESPACE"," ",1328],["T_CONSTANT_ENCAPSED_STRING","'zh, en-us; q=0.8, fr-fr; q=0.6, fr; q=0.5'",1328],")",";",["T_WHITESPACE","\n        ",1328],["T_VARIABLE","$this",1329],["T_OBJECT_OPERATOR","->",1329],["T_STRING","assertEquals",1329],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1329],",",["T_WHITESPACE"," ",1329],["T_VARIABLE","$request",1329],["T_OBJECT_OPERATOR","->",1329],["T_STRING","getPreferredLanguage",1329],"(",["T_ARRAY","array",1329],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1329],",",["T_WHITESPACE"," ",1329],["T_CONSTANT_ENCAPSED_STRING","'en'",1329],")",")",")",";",["T_WHITESPACE","\n    ",1329],"}",["T_WHITESPACE","\n\n    ",1330],["T_PUBLIC","public",1332],["T_WHITESPACE"," ",1332],["T_FUNCTION","function",1332],["T_WHITESPACE"," ",1332],["T_STRING","testIsXmlHttpRequest",1332],"(",")",["T_WHITESPACE","\n    ",1332],"{",["T_WHITESPACE","\n        ",1333],["T_VARIABLE","$request",1334],["T_WHITESPACE"," ",1334],"=",["T_WHITESPACE"," ",1334],["T_NEW","new",1334],["T_WHITESPACE"," ",1334],["T_STRING","Request",1334],"(",")",";",["T_WHITESPACE","\n        ",1334],["T_VARIABLE","$this",1335],["T_OBJECT_OPERATOR","->",1335],["T_STRING","assertFalse",1335],"(",["T_VARIABLE","$request",1335],["T_OBJECT_OPERATOR","->",1335],["T_STRING","isXmlHttpRequest",1335],"(",")",")",";",["T_WHITESPACE","\n\n        ",1335],["T_VARIABLE","$request",1337],["T_OBJECT_OPERATOR","->",1337],["T_STRING","headers",1337],["T_OBJECT_OPERATOR","->",1337],["T_STRING","set",1337],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Requested-With'",1337],",",["T_WHITESPACE"," ",1337],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",1337],")",";",["T_WHITESPACE","\n        ",1337],["T_VARIABLE","$this",1338],["T_OBJECT_OPERATOR","->",1338],["T_STRING","assertTrue",1338],"(",["T_VARIABLE","$request",1338],["T_OBJECT_OPERATOR","->",1338],["T_STRING","isXmlHttpRequest",1338],"(",")",")",";",["T_WHITESPACE","\n\n        ",1338],["T_VARIABLE","$request",1340],["T_OBJECT_OPERATOR","->",1340],["T_STRING","headers",1340],["T_OBJECT_OPERATOR","->",1340],["T_STRING","remove",1340],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Requested-With'",1340],")",";",["T_WHITESPACE","\n        ",1340],["T_VARIABLE","$this",1341],["T_OBJECT_OPERATOR","->",1341],["T_STRING","assertFalse",1341],"(",["T_VARIABLE","$request",1341],["T_OBJECT_OPERATOR","->",1341],["T_STRING","isXmlHttpRequest",1341],"(",")",")",";",["T_WHITESPACE","\n    ",1341],"}",["T_WHITESPACE","\n\n    ",1342],["T_DOC_COMMENT","\/**\n     * @requires extension intl\n     *\/",1344],["T_WHITESPACE","\n    ",1346],["T_PUBLIC","public",1347],["T_WHITESPACE"," ",1347],["T_FUNCTION","function",1347],["T_WHITESPACE"," ",1347],["T_STRING","testIntlLocale",1347],"(",")",["T_WHITESPACE","\n    ",1347],"{",["T_WHITESPACE","\n        ",1348],["T_VARIABLE","$request",1349],["T_WHITESPACE"," ",1349],"=",["T_WHITESPACE"," ",1349],["T_NEW","new",1349],["T_WHITESPACE"," ",1349],["T_STRING","Request",1349],"(",")",";",["T_WHITESPACE","\n\n        ",1349],["T_VARIABLE","$request",1351],["T_OBJECT_OPERATOR","->",1351],["T_STRING","setDefaultLocale",1351],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1351],")",";",["T_WHITESPACE","\n        ",1351],["T_VARIABLE","$this",1352],["T_OBJECT_OPERATOR","->",1352],["T_STRING","assertEquals",1352],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1352],",",["T_WHITESPACE"," ",1352],["T_VARIABLE","$request",1352],["T_OBJECT_OPERATOR","->",1352],["T_STRING","getLocale",1352],"(",")",")",";",["T_WHITESPACE","\n        ",1352],["T_VARIABLE","$this",1353],["T_OBJECT_OPERATOR","->",1353],["T_STRING","assertEquals",1353],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",1353],",",["T_WHITESPACE"," ",1353],["T_NS_SEPARATOR","\\",1353],["T_STRING","Locale",1353],["T_DOUBLE_COLON","::",1353],["T_STRING","getDefault",1353],"(",")",")",";",["T_WHITESPACE","\n\n        ",1353],["T_VARIABLE","$request",1355],["T_OBJECT_OPERATOR","->",1355],["T_STRING","setLocale",1355],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1355],")",";",["T_WHITESPACE","\n        ",1355],["T_VARIABLE","$this",1356],["T_OBJECT_OPERATOR","->",1356],["T_STRING","assertEquals",1356],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1356],",",["T_WHITESPACE"," ",1356],["T_VARIABLE","$request",1356],["T_OBJECT_OPERATOR","->",1356],["T_STRING","getLocale",1356],"(",")",")",";",["T_WHITESPACE","\n        ",1356],["T_VARIABLE","$this",1357],["T_OBJECT_OPERATOR","->",1357],["T_STRING","assertEquals",1357],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1357],",",["T_WHITESPACE"," ",1357],["T_NS_SEPARATOR","\\",1357],["T_STRING","Locale",1357],["T_DOUBLE_COLON","::",1357],["T_STRING","getDefault",1357],"(",")",")",";",["T_WHITESPACE","\n\n        ",1357],["T_VARIABLE","$request",1359],["T_OBJECT_OPERATOR","->",1359],["T_STRING","setDefaultLocale",1359],"(",["T_CONSTANT_ENCAPSED_STRING","'de'",1359],")",";",["T_WHITESPACE","\n        ",1359],["T_VARIABLE","$this",1360],["T_OBJECT_OPERATOR","->",1360],["T_STRING","assertEquals",1360],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1360],",",["T_WHITESPACE"," ",1360],["T_VARIABLE","$request",1360],["T_OBJECT_OPERATOR","->",1360],["T_STRING","getLocale",1360],"(",")",")",";",["T_WHITESPACE","\n        ",1360],["T_VARIABLE","$this",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","assertEquals",1361],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1361],",",["T_WHITESPACE"," ",1361],["T_NS_SEPARATOR","\\",1361],["T_STRING","Locale",1361],["T_DOUBLE_COLON","::",1361],["T_STRING","getDefault",1361],"(",")",")",";",["T_WHITESPACE","\n    ",1361],"}",["T_WHITESPACE","\n\n    ",1362],["T_PUBLIC","public",1364],["T_WHITESPACE"," ",1364],["T_FUNCTION","function",1364],["T_WHITESPACE"," ",1364],["T_STRING","testGetCharsets",1364],"(",")",["T_WHITESPACE","\n    ",1364],"{",["T_WHITESPACE","\n        ",1365],["T_VARIABLE","$request",1366],["T_WHITESPACE"," ",1366],"=",["T_WHITESPACE"," ",1366],["T_NEW","new",1366],["T_WHITESPACE"," ",1366],["T_STRING","Request",1366],"(",")",";",["T_WHITESPACE","\n        ",1366],["T_VARIABLE","$this",1367],["T_OBJECT_OPERATOR","->",1367],["T_STRING","assertEquals",1367],"(",["T_ARRAY","array",1367],"(",")",",",["T_WHITESPACE"," ",1367],["T_VARIABLE","$request",1367],["T_OBJECT_OPERATOR","->",1367],["T_STRING","getCharsets",1367],"(",")",")",";",["T_WHITESPACE","\n        ",1367],["T_VARIABLE","$request",1368],["T_OBJECT_OPERATOR","->",1368],["T_STRING","headers",1368],["T_OBJECT_OPERATOR","->",1368],["T_STRING","set",1368],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Charset'",1368],",",["T_WHITESPACE"," ",1368],["T_CONSTANT_ENCAPSED_STRING","'ISO-8859-1, US-ASCII, UTF-8; q=0.8, ISO-10646-UCS-2; q=0.6'",1368],")",";",["T_WHITESPACE","\n        ",1368],["T_VARIABLE","$this",1369],["T_OBJECT_OPERATOR","->",1369],["T_STRING","assertEquals",1369],"(",["T_ARRAY","array",1369],"(",")",",",["T_WHITESPACE"," ",1369],["T_VARIABLE","$request",1369],["T_OBJECT_OPERATOR","->",1369],["T_STRING","getCharsets",1369],"(",")",")",";",["T_WHITESPACE"," ",1369],["T_COMMENT","\/\/ testing caching\n",1369],["T_WHITESPACE","\n        ",1370],["T_VARIABLE","$request",1371],["T_WHITESPACE"," ",1371],"=",["T_WHITESPACE"," ",1371],["T_NEW","new",1371],["T_WHITESPACE"," ",1371],["T_STRING","Request",1371],"(",")",";",["T_WHITESPACE","\n        ",1371],["T_VARIABLE","$request",1372],["T_OBJECT_OPERATOR","->",1372],["T_STRING","headers",1372],["T_OBJECT_OPERATOR","->",1372],["T_STRING","set",1372],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Charset'",1372],",",["T_WHITESPACE"," ",1372],["T_CONSTANT_ENCAPSED_STRING","'ISO-8859-1, US-ASCII, UTF-8; q=0.8, ISO-10646-UCS-2; q=0.6'",1372],")",";",["T_WHITESPACE","\n        ",1372],["T_VARIABLE","$this",1373],["T_OBJECT_OPERATOR","->",1373],["T_STRING","assertEquals",1373],"(",["T_ARRAY","array",1373],"(",["T_CONSTANT_ENCAPSED_STRING","'ISO-8859-1'",1373],",",["T_WHITESPACE"," ",1373],["T_CONSTANT_ENCAPSED_STRING","'US-ASCII'",1373],",",["T_WHITESPACE"," ",1373],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1373],",",["T_WHITESPACE"," ",1373],["T_CONSTANT_ENCAPSED_STRING","'ISO-10646-UCS-2'",1373],")",",",["T_WHITESPACE"," ",1373],["T_VARIABLE","$request",1373],["T_OBJECT_OPERATOR","->",1373],["T_STRING","getCharsets",1373],"(",")",")",";",["T_WHITESPACE","\n\n        ",1373],["T_VARIABLE","$request",1375],["T_WHITESPACE"," ",1375],"=",["T_WHITESPACE"," ",1375],["T_NEW","new",1375],["T_WHITESPACE"," ",1375],["T_STRING","Request",1375],"(",")",";",["T_WHITESPACE","\n        ",1375],["T_VARIABLE","$request",1376],["T_OBJECT_OPERATOR","->",1376],["T_STRING","headers",1376],["T_OBJECT_OPERATOR","->",1376],["T_STRING","set",1376],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Charset'",1376],",",["T_WHITESPACE"," ",1376],["T_CONSTANT_ENCAPSED_STRING","'ISO-8859-1,utf-8;q=0.7,*;q=0.7'",1376],")",";",["T_WHITESPACE","\n        ",1376],["T_VARIABLE","$this",1377],["T_OBJECT_OPERATOR","->",1377],["T_STRING","assertEquals",1377],"(",["T_ARRAY","array",1377],"(",["T_CONSTANT_ENCAPSED_STRING","'ISO-8859-1'",1377],",",["T_WHITESPACE"," ",1377],["T_CONSTANT_ENCAPSED_STRING","'utf-8'",1377],",",["T_WHITESPACE"," ",1377],["T_CONSTANT_ENCAPSED_STRING","'*'",1377],")",",",["T_WHITESPACE"," ",1377],["T_VARIABLE","$request",1377],["T_OBJECT_OPERATOR","->",1377],["T_STRING","getCharsets",1377],"(",")",")",";",["T_WHITESPACE","\n    ",1377],"}",["T_WHITESPACE","\n\n    ",1378],["T_PUBLIC","public",1380],["T_WHITESPACE"," ",1380],["T_FUNCTION","function",1380],["T_WHITESPACE"," ",1380],["T_STRING","testGetEncodings",1380],"(",")",["T_WHITESPACE","\n    ",1380],"{",["T_WHITESPACE","\n        ",1381],["T_VARIABLE","$request",1382],["T_WHITESPACE"," ",1382],"=",["T_WHITESPACE"," ",1382],["T_NEW","new",1382],["T_WHITESPACE"," ",1382],["T_STRING","Request",1382],"(",")",";",["T_WHITESPACE","\n        ",1382],["T_VARIABLE","$this",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","assertEquals",1383],"(",["T_ARRAY","array",1383],"(",")",",",["T_WHITESPACE"," ",1383],["T_VARIABLE","$request",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","getEncodings",1383],"(",")",")",";",["T_WHITESPACE","\n        ",1383],["T_VARIABLE","$request",1384],["T_OBJECT_OPERATOR","->",1384],["T_STRING","headers",1384],["T_OBJECT_OPERATOR","->",1384],["T_STRING","set",1384],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Encoding'",1384],",",["T_WHITESPACE"," ",1384],["T_CONSTANT_ENCAPSED_STRING","'gzip,deflate,sdch'",1384],")",";",["T_WHITESPACE","\n        ",1384],["T_VARIABLE","$this",1385],["T_OBJECT_OPERATOR","->",1385],["T_STRING","assertEquals",1385],"(",["T_ARRAY","array",1385],"(",")",",",["T_WHITESPACE"," ",1385],["T_VARIABLE","$request",1385],["T_OBJECT_OPERATOR","->",1385],["T_STRING","getEncodings",1385],"(",")",")",";",["T_WHITESPACE"," ",1385],["T_COMMENT","\/\/ testing caching\n",1385],["T_WHITESPACE","\n        ",1386],["T_VARIABLE","$request",1387],["T_WHITESPACE"," ",1387],"=",["T_WHITESPACE"," ",1387],["T_NEW","new",1387],["T_WHITESPACE"," ",1387],["T_STRING","Request",1387],"(",")",";",["T_WHITESPACE","\n        ",1387],["T_VARIABLE","$request",1388],["T_OBJECT_OPERATOR","->",1388],["T_STRING","headers",1388],["T_OBJECT_OPERATOR","->",1388],["T_STRING","set",1388],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Encoding'",1388],",",["T_WHITESPACE"," ",1388],["T_CONSTANT_ENCAPSED_STRING","'gzip,deflate,sdch'",1388],")",";",["T_WHITESPACE","\n        ",1388],["T_VARIABLE","$this",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","assertEquals",1389],"(",["T_ARRAY","array",1389],"(",["T_CONSTANT_ENCAPSED_STRING","'gzip'",1389],",",["T_WHITESPACE"," ",1389],["T_CONSTANT_ENCAPSED_STRING","'deflate'",1389],",",["T_WHITESPACE"," ",1389],["T_CONSTANT_ENCAPSED_STRING","'sdch'",1389],")",",",["T_WHITESPACE"," ",1389],["T_VARIABLE","$request",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","getEncodings",1389],"(",")",")",";",["T_WHITESPACE","\n\n        ",1389],["T_VARIABLE","$request",1391],["T_WHITESPACE"," ",1391],"=",["T_WHITESPACE"," ",1391],["T_NEW","new",1391],["T_WHITESPACE"," ",1391],["T_STRING","Request",1391],"(",")",";",["T_WHITESPACE","\n        ",1391],["T_VARIABLE","$request",1392],["T_OBJECT_OPERATOR","->",1392],["T_STRING","headers",1392],["T_OBJECT_OPERATOR","->",1392],["T_STRING","set",1392],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Encoding'",1392],",",["T_WHITESPACE"," ",1392],["T_CONSTANT_ENCAPSED_STRING","'gzip;q=0.4,deflate;q=0.9,compress;q=0.7'",1392],")",";",["T_WHITESPACE","\n        ",1392],["T_VARIABLE","$this",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","assertEquals",1393],"(",["T_ARRAY","array",1393],"(",["T_CONSTANT_ENCAPSED_STRING","'deflate'",1393],",",["T_WHITESPACE"," ",1393],["T_CONSTANT_ENCAPSED_STRING","'compress'",1393],",",["T_WHITESPACE"," ",1393],["T_CONSTANT_ENCAPSED_STRING","'gzip'",1393],")",",",["T_WHITESPACE"," ",1393],["T_VARIABLE","$request",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","getEncodings",1393],"(",")",")",";",["T_WHITESPACE","\n    ",1393],"}",["T_WHITESPACE","\n\n    ",1394],["T_PUBLIC","public",1396],["T_WHITESPACE"," ",1396],["T_FUNCTION","function",1396],["T_WHITESPACE"," ",1396],["T_STRING","testGetAcceptableContentTypes",1396],"(",")",["T_WHITESPACE","\n    ",1396],"{",["T_WHITESPACE","\n        ",1397],["T_VARIABLE","$request",1398],["T_WHITESPACE"," ",1398],"=",["T_WHITESPACE"," ",1398],["T_NEW","new",1398],["T_WHITESPACE"," ",1398],["T_STRING","Request",1398],"(",")",";",["T_WHITESPACE","\n        ",1398],["T_VARIABLE","$this",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","assertEquals",1399],"(",["T_ARRAY","array",1399],"(",")",",",["T_WHITESPACE"," ",1399],["T_VARIABLE","$request",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","getAcceptableContentTypes",1399],"(",")",")",";",["T_WHITESPACE","\n        ",1399],["T_VARIABLE","$request",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","headers",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","set",1400],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept'",1400],",",["T_WHITESPACE"," ",1400],["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.wap.wmlscriptc, text\/vnd.wap.wml, application\/vnd.wap.xhtml+xml, application\/xhtml+xml, text\/html, multipart\/mixed, *\/*'",1400],")",";",["T_WHITESPACE","\n        ",1400],["T_VARIABLE","$this",1401],["T_OBJECT_OPERATOR","->",1401],["T_STRING","assertEquals",1401],"(",["T_ARRAY","array",1401],"(",")",",",["T_WHITESPACE"," ",1401],["T_VARIABLE","$request",1401],["T_OBJECT_OPERATOR","->",1401],["T_STRING","getAcceptableContentTypes",1401],"(",")",")",";",["T_WHITESPACE"," ",1401],["T_COMMENT","\/\/ testing caching\n",1401],["T_WHITESPACE","\n        ",1402],["T_VARIABLE","$request",1403],["T_WHITESPACE"," ",1403],"=",["T_WHITESPACE"," ",1403],["T_NEW","new",1403],["T_WHITESPACE"," ",1403],["T_STRING","Request",1403],"(",")",";",["T_WHITESPACE","\n        ",1403],["T_VARIABLE","$request",1404],["T_OBJECT_OPERATOR","->",1404],["T_STRING","headers",1404],["T_OBJECT_OPERATOR","->",1404],["T_STRING","set",1404],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept'",1404],",",["T_WHITESPACE"," ",1404],["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.wap.wmlscriptc, text\/vnd.wap.wml, application\/vnd.wap.xhtml+xml, application\/xhtml+xml, text\/html, multipart\/mixed, *\/*'",1404],")",";",["T_WHITESPACE","\n        ",1404],["T_VARIABLE","$this",1405],["T_OBJECT_OPERATOR","->",1405],["T_STRING","assertEquals",1405],"(",["T_ARRAY","array",1405],"(",["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.wap.wmlscriptc'",1405],",",["T_WHITESPACE"," ",1405],["T_CONSTANT_ENCAPSED_STRING","'text\/vnd.wap.wml'",1405],",",["T_WHITESPACE"," ",1405],["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.wap.xhtml+xml'",1405],",",["T_WHITESPACE"," ",1405],["T_CONSTANT_ENCAPSED_STRING","'application\/xhtml+xml'",1405],",",["T_WHITESPACE"," ",1405],["T_CONSTANT_ENCAPSED_STRING","'text\/html'",1405],",",["T_WHITESPACE"," ",1405],["T_CONSTANT_ENCAPSED_STRING","'multipart\/mixed'",1405],",",["T_WHITESPACE"," ",1405],["T_CONSTANT_ENCAPSED_STRING","'*\/*'",1405],")",",",["T_WHITESPACE"," ",1405],["T_VARIABLE","$request",1405],["T_OBJECT_OPERATOR","->",1405],["T_STRING","getAcceptableContentTypes",1405],"(",")",")",";",["T_WHITESPACE","\n    ",1405],"}",["T_WHITESPACE","\n\n    ",1406],["T_PUBLIC","public",1408],["T_WHITESPACE"," ",1408],["T_FUNCTION","function",1408],["T_WHITESPACE"," ",1408],["T_STRING","testGetLanguages",1408],"(",")",["T_WHITESPACE","\n    ",1408],"{",["T_WHITESPACE","\n        ",1409],["T_VARIABLE","$request",1410],["T_WHITESPACE"," ",1410],"=",["T_WHITESPACE"," ",1410],["T_NEW","new",1410],["T_WHITESPACE"," ",1410],["T_STRING","Request",1410],"(",")",";",["T_WHITESPACE","\n        ",1410],["T_VARIABLE","$this",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","assertEquals",1411],"(",["T_ARRAY","array",1411],"(",")",",",["T_WHITESPACE"," ",1411],["T_VARIABLE","$request",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","getLanguages",1411],"(",")",")",";",["T_WHITESPACE","\n\n        ",1411],["T_VARIABLE","$request",1413],["T_WHITESPACE"," ",1413],"=",["T_WHITESPACE"," ",1413],["T_NEW","new",1413],["T_WHITESPACE"," ",1413],["T_STRING","Request",1413],"(",")",";",["T_WHITESPACE","\n        ",1413],["T_VARIABLE","$request",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","headers",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","set",1414],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1414],",",["T_WHITESPACE"," ",1414],["T_CONSTANT_ENCAPSED_STRING","'zh, en-us; q=0.8, en; q=0.6'",1414],")",";",["T_WHITESPACE","\n        ",1414],["T_VARIABLE","$this",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","assertEquals",1415],"(",["T_ARRAY","array",1415],"(",["T_CONSTANT_ENCAPSED_STRING","'zh'",1415],",",["T_WHITESPACE"," ",1415],["T_CONSTANT_ENCAPSED_STRING","'en_US'",1415],",",["T_WHITESPACE"," ",1415],["T_CONSTANT_ENCAPSED_STRING","'en'",1415],")",",",["T_WHITESPACE"," ",1415],["T_VARIABLE","$request",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","getLanguages",1415],"(",")",")",";",["T_WHITESPACE","\n        ",1415],["T_VARIABLE","$this",1416],["T_OBJECT_OPERATOR","->",1416],["T_STRING","assertEquals",1416],"(",["T_ARRAY","array",1416],"(",["T_CONSTANT_ENCAPSED_STRING","'zh'",1416],",",["T_WHITESPACE"," ",1416],["T_CONSTANT_ENCAPSED_STRING","'en_US'",1416],",",["T_WHITESPACE"," ",1416],["T_CONSTANT_ENCAPSED_STRING","'en'",1416],")",",",["T_WHITESPACE"," ",1416],["T_VARIABLE","$request",1416],["T_OBJECT_OPERATOR","->",1416],["T_STRING","getLanguages",1416],"(",")",")",";",["T_WHITESPACE","\n\n        ",1416],["T_VARIABLE","$request",1418],["T_WHITESPACE"," ",1418],"=",["T_WHITESPACE"," ",1418],["T_NEW","new",1418],["T_WHITESPACE"," ",1418],["T_STRING","Request",1418],"(",")",";",["T_WHITESPACE","\n        ",1418],["T_VARIABLE","$request",1419],["T_OBJECT_OPERATOR","->",1419],["T_STRING","headers",1419],["T_OBJECT_OPERATOR","->",1419],["T_STRING","set",1419],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1419],",",["T_WHITESPACE"," ",1419],["T_CONSTANT_ENCAPSED_STRING","'zh, en-us; q=0.6, en; q=0.8'",1419],")",";",["T_WHITESPACE","\n        ",1419],["T_VARIABLE","$this",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","assertEquals",1420],"(",["T_ARRAY","array",1420],"(",["T_CONSTANT_ENCAPSED_STRING","'zh'",1420],",",["T_WHITESPACE"," ",1420],["T_CONSTANT_ENCAPSED_STRING","'en'",1420],",",["T_WHITESPACE"," ",1420],["T_CONSTANT_ENCAPSED_STRING","'en_US'",1420],")",",",["T_WHITESPACE"," ",1420],["T_VARIABLE","$request",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","getLanguages",1420],"(",")",")",";",["T_WHITESPACE"," ",1420],["T_COMMENT","\/\/ Test out of order qvalues\n",1420],["T_WHITESPACE","\n        ",1421],["T_VARIABLE","$request",1422],["T_WHITESPACE"," ",1422],"=",["T_WHITESPACE"," ",1422],["T_NEW","new",1422],["T_WHITESPACE"," ",1422],["T_STRING","Request",1422],"(",")",";",["T_WHITESPACE","\n        ",1422],["T_VARIABLE","$request",1423],["T_OBJECT_OPERATOR","->",1423],["T_STRING","headers",1423],["T_OBJECT_OPERATOR","->",1423],["T_STRING","set",1423],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1423],",",["T_WHITESPACE"," ",1423],["T_CONSTANT_ENCAPSED_STRING","'zh, en, en-us'",1423],")",";",["T_WHITESPACE","\n        ",1423],["T_VARIABLE","$this",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","assertEquals",1424],"(",["T_ARRAY","array",1424],"(",["T_CONSTANT_ENCAPSED_STRING","'zh'",1424],",",["T_WHITESPACE"," ",1424],["T_CONSTANT_ENCAPSED_STRING","'en'",1424],",",["T_WHITESPACE"," ",1424],["T_CONSTANT_ENCAPSED_STRING","'en_US'",1424],")",",",["T_WHITESPACE"," ",1424],["T_VARIABLE","$request",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","getLanguages",1424],"(",")",")",";",["T_WHITESPACE"," ",1424],["T_COMMENT","\/\/ Test equal weighting without qvalues\n",1424],["T_WHITESPACE","\n        ",1425],["T_VARIABLE","$request",1426],["T_WHITESPACE"," ",1426],"=",["T_WHITESPACE"," ",1426],["T_NEW","new",1426],["T_WHITESPACE"," ",1426],["T_STRING","Request",1426],"(",")",";",["T_WHITESPACE","\n        ",1426],["T_VARIABLE","$request",1427],["T_OBJECT_OPERATOR","->",1427],["T_STRING","headers",1427],["T_OBJECT_OPERATOR","->",1427],["T_STRING","set",1427],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1427],",",["T_WHITESPACE"," ",1427],["T_CONSTANT_ENCAPSED_STRING","'zh; q=0.6, en, en-us; q=0.6'",1427],")",";",["T_WHITESPACE","\n        ",1427],["T_VARIABLE","$this",1428],["T_OBJECT_OPERATOR","->",1428],["T_STRING","assertEquals",1428],"(",["T_ARRAY","array",1428],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",1428],",",["T_WHITESPACE"," ",1428],["T_CONSTANT_ENCAPSED_STRING","'zh'",1428],",",["T_WHITESPACE"," ",1428],["T_CONSTANT_ENCAPSED_STRING","'en_US'",1428],")",",",["T_WHITESPACE"," ",1428],["T_VARIABLE","$request",1428],["T_OBJECT_OPERATOR","->",1428],["T_STRING","getLanguages",1428],"(",")",")",";",["T_WHITESPACE"," ",1428],["T_COMMENT","\/\/ Test equal weighting with qvalues\n",1428],["T_WHITESPACE","\n        ",1429],["T_VARIABLE","$request",1430],["T_WHITESPACE"," ",1430],"=",["T_WHITESPACE"," ",1430],["T_NEW","new",1430],["T_WHITESPACE"," ",1430],["T_STRING","Request",1430],"(",")",";",["T_WHITESPACE","\n        ",1430],["T_VARIABLE","$request",1431],["T_OBJECT_OPERATOR","->",1431],["T_STRING","headers",1431],["T_OBJECT_OPERATOR","->",1431],["T_STRING","set",1431],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1431],",",["T_WHITESPACE"," ",1431],["T_CONSTANT_ENCAPSED_STRING","'zh, i-cherokee; q=0.6'",1431],")",";",["T_WHITESPACE","\n        ",1431],["T_VARIABLE","$this",1432],["T_OBJECT_OPERATOR","->",1432],["T_STRING","assertEquals",1432],"(",["T_ARRAY","array",1432],"(",["T_CONSTANT_ENCAPSED_STRING","'zh'",1432],",",["T_WHITESPACE"," ",1432],["T_CONSTANT_ENCAPSED_STRING","'cherokee'",1432],")",",",["T_WHITESPACE"," ",1432],["T_VARIABLE","$request",1432],["T_OBJECT_OPERATOR","->",1432],["T_STRING","getLanguages",1432],"(",")",")",";",["T_WHITESPACE","\n    ",1432],"}",["T_WHITESPACE","\n\n    ",1433],["T_PUBLIC","public",1435],["T_WHITESPACE"," ",1435],["T_FUNCTION","function",1435],["T_WHITESPACE"," ",1435],["T_STRING","testGetRequestFormat",1435],"(",")",["T_WHITESPACE","\n    ",1435],"{",["T_WHITESPACE","\n        ",1436],["T_VARIABLE","$request",1437],["T_WHITESPACE"," ",1437],"=",["T_WHITESPACE"," ",1437],["T_NEW","new",1437],["T_WHITESPACE"," ",1437],["T_STRING","Request",1437],"(",")",";",["T_WHITESPACE","\n        ",1437],["T_VARIABLE","$this",1438],["T_OBJECT_OPERATOR","->",1438],["T_STRING","assertEquals",1438],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",1438],",",["T_WHITESPACE"," ",1438],["T_VARIABLE","$request",1438],["T_OBJECT_OPERATOR","->",1438],["T_STRING","getRequestFormat",1438],"(",")",")",";",["T_WHITESPACE","\n\n        ",1438],["T_VARIABLE","$request",1440],["T_WHITESPACE"," ",1440],"=",["T_WHITESPACE"," ",1440],["T_NEW","new",1440],["T_WHITESPACE"," ",1440],["T_STRING","Request",1440],"(",")",";",["T_WHITESPACE","\n        ",1440],["T_VARIABLE","$this",1441],["T_OBJECT_OPERATOR","->",1441],["T_STRING","assertNull",1441],"(",["T_VARIABLE","$request",1441],["T_OBJECT_OPERATOR","->",1441],["T_STRING","getRequestFormat",1441],"(",["T_STRING","null",1441],")",")",";",["T_WHITESPACE","\n\n        ",1441],["T_VARIABLE","$request",1443],["T_WHITESPACE"," ",1443],"=",["T_WHITESPACE"," ",1443],["T_NEW","new",1443],["T_WHITESPACE"," ",1443],["T_STRING","Request",1443],"(",")",";",["T_WHITESPACE","\n        ",1443],["T_VARIABLE","$this",1444],["T_OBJECT_OPERATOR","->",1444],["T_STRING","assertNull",1444],"(",["T_VARIABLE","$request",1444],["T_OBJECT_OPERATOR","->",1444],["T_STRING","setRequestFormat",1444],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1444],")",")",";",["T_WHITESPACE","\n        ",1444],["T_VARIABLE","$this",1445],["T_OBJECT_OPERATOR","->",1445],["T_STRING","assertEquals",1445],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1445],",",["T_WHITESPACE"," ",1445],["T_VARIABLE","$request",1445],["T_OBJECT_OPERATOR","->",1445],["T_STRING","getRequestFormat",1445],"(",["T_STRING","null",1445],")",")",";",["T_WHITESPACE","\n\n        ",1445],["T_VARIABLE","$request",1447],["T_WHITESPACE"," ",1447],"=",["T_WHITESPACE"," ",1447],["T_NEW","new",1447],["T_WHITESPACE"," ",1447],["T_STRING","Request",1447],"(",["T_ARRAY","array",1447],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",1447],["T_WHITESPACE"," ",1447],["T_DOUBLE_ARROW","=>",1447],["T_WHITESPACE"," ",1447],["T_CONSTANT_ENCAPSED_STRING","'foo'",1447],")",")",";",["T_WHITESPACE","\n        ",1447],["T_VARIABLE","$this",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","assertEquals",1448],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",1448],",",["T_WHITESPACE"," ",1448],["T_VARIABLE","$request",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","getRequestFormat",1448],"(",")",")",";",["T_WHITESPACE","\n    ",1448],"}",["T_WHITESPACE","\n\n    ",1449],["T_PUBLIC","public",1451],["T_WHITESPACE"," ",1451],["T_FUNCTION","function",1451],["T_WHITESPACE"," ",1451],["T_STRING","testHasSession",1451],"(",")",["T_WHITESPACE","\n    ",1451],"{",["T_WHITESPACE","\n        ",1452],["T_VARIABLE","$request",1453],["T_WHITESPACE"," ",1453],"=",["T_WHITESPACE"," ",1453],["T_NEW","new",1453],["T_WHITESPACE"," ",1453],["T_STRING","Request",1453],"(",")",";",["T_WHITESPACE","\n\n        ",1453],["T_VARIABLE","$this",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","assertFalse",1455],"(",["T_VARIABLE","$request",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","hasSession",1455],"(",")",")",";",["T_WHITESPACE","\n        ",1455],["T_VARIABLE","$request",1456],["T_OBJECT_OPERATOR","->",1456],["T_STRING","setSession",1456],"(",["T_NEW","new",1456],["T_WHITESPACE"," ",1456],["T_STRING","Session",1456],"(",["T_NEW","new",1456],["T_WHITESPACE"," ",1456],["T_STRING","MockArraySessionStorage",1456],"(",")",")",")",";",["T_WHITESPACE","\n        ",1456],["T_VARIABLE","$this",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","assertTrue",1457],"(",["T_VARIABLE","$request",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","hasSession",1457],"(",")",")",";",["T_WHITESPACE","\n    ",1457],"}",["T_WHITESPACE","\n\n    ",1458],["T_PUBLIC","public",1460],["T_WHITESPACE"," ",1460],["T_FUNCTION","function",1460],["T_WHITESPACE"," ",1460],["T_STRING","testGetSession",1460],"(",")",["T_WHITESPACE","\n    ",1460],"{",["T_WHITESPACE","\n        ",1461],["T_VARIABLE","$request",1462],["T_WHITESPACE"," ",1462],"=",["T_WHITESPACE"," ",1462],["T_NEW","new",1462],["T_WHITESPACE"," ",1462],["T_STRING","Request",1462],"(",")",";",["T_WHITESPACE","\n\n        ",1462],["T_VARIABLE","$request",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","setSession",1464],"(",["T_NEW","new",1464],["T_WHITESPACE"," ",1464],["T_STRING","Session",1464],"(",["T_NEW","new",1464],["T_WHITESPACE"," ",1464],["T_STRING","MockArraySessionStorage",1464],"(",")",")",")",";",["T_WHITESPACE","\n        ",1464],["T_VARIABLE","$this",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","assertTrue",1465],"(",["T_VARIABLE","$request",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","hasSession",1465],"(",")",")",";",["T_WHITESPACE","\n\n        ",1465],["T_VARIABLE","$session",1467],["T_WHITESPACE"," ",1467],"=",["T_WHITESPACE"," ",1467],["T_VARIABLE","$request",1467],["T_OBJECT_OPERATOR","->",1467],["T_STRING","getSession",1467],"(",")",";",["T_WHITESPACE","\n        ",1467],["T_VARIABLE","$this",1468],["T_OBJECT_OPERATOR","->",1468],["T_STRING","assertObjectHasAttribute",1468],"(",["T_CONSTANT_ENCAPSED_STRING","'storage'",1468],",",["T_WHITESPACE"," ",1468],["T_VARIABLE","$session",1468],")",";",["T_WHITESPACE","\n        ",1468],["T_VARIABLE","$this",1469],["T_OBJECT_OPERATOR","->",1469],["T_STRING","assertObjectHasAttribute",1469],"(",["T_CONSTANT_ENCAPSED_STRING","'flashName'",1469],",",["T_WHITESPACE"," ",1469],["T_VARIABLE","$session",1469],")",";",["T_WHITESPACE","\n        ",1469],["T_VARIABLE","$this",1470],["T_OBJECT_OPERATOR","->",1470],["T_STRING","assertObjectHasAttribute",1470],"(",["T_CONSTANT_ENCAPSED_STRING","'attributeName'",1470],",",["T_WHITESPACE"," ",1470],["T_VARIABLE","$session",1470],")",";",["T_WHITESPACE","\n    ",1470],"}",["T_WHITESPACE","\n\n    ",1471],["T_PUBLIC","public",1473],["T_WHITESPACE"," ",1473],["T_FUNCTION","function",1473],["T_WHITESPACE"," ",1473],["T_STRING","testHasPreviousSession",1473],"(",")",["T_WHITESPACE","\n    ",1473],"{",["T_WHITESPACE","\n        ",1474],["T_VARIABLE","$request",1475],["T_WHITESPACE"," ",1475],"=",["T_WHITESPACE"," ",1475],["T_NEW","new",1475],["T_WHITESPACE"," ",1475],["T_STRING","Request",1475],"(",")",";",["T_WHITESPACE","\n\n        ",1475],["T_VARIABLE","$this",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","assertFalse",1477],"(",["T_VARIABLE","$request",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","hasPreviousSession",1477],"(",")",")",";",["T_WHITESPACE","\n        ",1477],["T_VARIABLE","$request",1478],["T_OBJECT_OPERATOR","->",1478],["T_STRING","cookies",1478],["T_OBJECT_OPERATOR","->",1478],["T_STRING","set",1478],"(",["T_CONSTANT_ENCAPSED_STRING","'MOCKSESSID'",1478],",",["T_WHITESPACE"," ",1478],["T_CONSTANT_ENCAPSED_STRING","'foo'",1478],")",";",["T_WHITESPACE","\n        ",1478],["T_VARIABLE","$this",1479],["T_OBJECT_OPERATOR","->",1479],["T_STRING","assertFalse",1479],"(",["T_VARIABLE","$request",1479],["T_OBJECT_OPERATOR","->",1479],["T_STRING","hasPreviousSession",1479],"(",")",")",";",["T_WHITESPACE","\n        ",1479],["T_VARIABLE","$request",1480],["T_OBJECT_OPERATOR","->",1480],["T_STRING","setSession",1480],"(",["T_NEW","new",1480],["T_WHITESPACE"," ",1480],["T_STRING","Session",1480],"(",["T_NEW","new",1480],["T_WHITESPACE"," ",1480],["T_STRING","MockArraySessionStorage",1480],"(",")",")",")",";",["T_WHITESPACE","\n        ",1480],["T_VARIABLE","$this",1481],["T_OBJECT_OPERATOR","->",1481],["T_STRING","assertTrue",1481],"(",["T_VARIABLE","$request",1481],["T_OBJECT_OPERATOR","->",1481],["T_STRING","hasPreviousSession",1481],"(",")",")",";",["T_WHITESPACE","\n    ",1481],"}",["T_WHITESPACE","\n\n    ",1482],["T_PUBLIC","public",1484],["T_WHITESPACE"," ",1484],["T_FUNCTION","function",1484],["T_WHITESPACE"," ",1484],["T_STRING","testToString",1484],"(",")",["T_WHITESPACE","\n    ",1484],"{",["T_WHITESPACE","\n        ",1485],["T_VARIABLE","$request",1486],["T_WHITESPACE"," ",1486],"=",["T_WHITESPACE"," ",1486],["T_NEW","new",1486],["T_WHITESPACE"," ",1486],["T_STRING","Request",1486],"(",")",";",["T_WHITESPACE","\n\n        ",1486],["T_VARIABLE","$request",1488],["T_OBJECT_OPERATOR","->",1488],["T_STRING","headers",1488],["T_OBJECT_OPERATOR","->",1488],["T_STRING","set",1488],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-language'",1488],",",["T_WHITESPACE"," ",1488],["T_CONSTANT_ENCAPSED_STRING","'zh, en-us; q=0.8, en; q=0.6'",1488],")",";",["T_WHITESPACE","\n\n        ",1488],["T_VARIABLE","$this",1490],["T_OBJECT_OPERATOR","->",1490],["T_STRING","assertContains",1490],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Language: zh, en-us; q=0.8, en; q=0.6'",1490],",",["T_WHITESPACE"," ",1490],["T_VARIABLE","$request",1490],["T_OBJECT_OPERATOR","->",1490],["T_STRING","__toString",1490],"(",")",")",";",["T_WHITESPACE","\n    ",1490],"}",["T_WHITESPACE","\n\n    ",1491],["T_PUBLIC","public",1493],["T_WHITESPACE"," ",1493],["T_FUNCTION","function",1493],["T_WHITESPACE"," ",1493],["T_STRING","testIsMethod",1493],"(",")",["T_WHITESPACE","\n    ",1493],"{",["T_WHITESPACE","\n        ",1494],["T_VARIABLE","$request",1495],["T_WHITESPACE"," ",1495],"=",["T_WHITESPACE"," ",1495],["T_NEW","new",1495],["T_WHITESPACE"," ",1495],["T_STRING","Request",1495],"(",")",";",["T_WHITESPACE","\n        ",1495],["T_VARIABLE","$request",1496],["T_OBJECT_OPERATOR","->",1496],["T_STRING","setMethod",1496],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",1496],")",";",["T_WHITESPACE","\n        ",1496],["T_VARIABLE","$this",1497],["T_OBJECT_OPERATOR","->",1497],["T_STRING","assertTrue",1497],"(",["T_VARIABLE","$request",1497],["T_OBJECT_OPERATOR","->",1497],["T_STRING","isMethod",1497],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",1497],")",")",";",["T_WHITESPACE","\n        ",1497],["T_VARIABLE","$this",1498],["T_OBJECT_OPERATOR","->",1498],["T_STRING","assertTrue",1498],"(",["T_VARIABLE","$request",1498],["T_OBJECT_OPERATOR","->",1498],["T_STRING","isMethod",1498],"(",["T_CONSTANT_ENCAPSED_STRING","'post'",1498],")",")",";",["T_WHITESPACE","\n        ",1498],["T_VARIABLE","$this",1499],["T_OBJECT_OPERATOR","->",1499],["T_STRING","assertFalse",1499],"(",["T_VARIABLE","$request",1499],["T_OBJECT_OPERATOR","->",1499],["T_STRING","isMethod",1499],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1499],")",")",";",["T_WHITESPACE","\n        ",1499],["T_VARIABLE","$this",1500],["T_OBJECT_OPERATOR","->",1500],["T_STRING","assertFalse",1500],"(",["T_VARIABLE","$request",1500],["T_OBJECT_OPERATOR","->",1500],["T_STRING","isMethod",1500],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",1500],")",")",";",["T_WHITESPACE","\n\n        ",1500],["T_VARIABLE","$request",1502],["T_OBJECT_OPERATOR","->",1502],["T_STRING","setMethod",1502],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1502],")",";",["T_WHITESPACE","\n        ",1502],["T_VARIABLE","$this",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","assertTrue",1503],"(",["T_VARIABLE","$request",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","isMethod",1503],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1503],")",")",";",["T_WHITESPACE","\n        ",1503],["T_VARIABLE","$this",1504],["T_OBJECT_OPERATOR","->",1504],["T_STRING","assertTrue",1504],"(",["T_VARIABLE","$request",1504],["T_OBJECT_OPERATOR","->",1504],["T_STRING","isMethod",1504],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",1504],")",")",";",["T_WHITESPACE","\n        ",1504],["T_VARIABLE","$this",1505],["T_OBJECT_OPERATOR","->",1505],["T_STRING","assertFalse",1505],"(",["T_VARIABLE","$request",1505],["T_OBJECT_OPERATOR","->",1505],["T_STRING","isMethod",1505],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",1505],")",")",";",["T_WHITESPACE","\n        ",1505],["T_VARIABLE","$this",1506],["T_OBJECT_OPERATOR","->",1506],["T_STRING","assertFalse",1506],"(",["T_VARIABLE","$request",1506],["T_OBJECT_OPERATOR","->",1506],["T_STRING","isMethod",1506],"(",["T_CONSTANT_ENCAPSED_STRING","'post'",1506],")",")",";",["T_WHITESPACE","\n    ",1506],"}",["T_WHITESPACE","\n\n    ",1507],["T_DOC_COMMENT","\/**\n     * @dataProvider getBaseUrlData\n     *\/",1509],["T_WHITESPACE","\n    ",1511],["T_PUBLIC","public",1512],["T_WHITESPACE"," ",1512],["T_FUNCTION","function",1512],["T_WHITESPACE"," ",1512],["T_STRING","testGetBaseUrl",1512],"(",["T_VARIABLE","$uri",1512],",",["T_WHITESPACE"," ",1512],["T_VARIABLE","$server",1512],",",["T_WHITESPACE"," ",1512],["T_VARIABLE","$expectedBaseUrl",1512],",",["T_WHITESPACE"," ",1512],["T_VARIABLE","$expectedPathInfo",1512],")",["T_WHITESPACE","\n    ",1512],"{",["T_WHITESPACE","\n        ",1513],["T_VARIABLE","$request",1514],["T_WHITESPACE"," ",1514],"=",["T_WHITESPACE"," ",1514],["T_STRING","Request",1514],["T_DOUBLE_COLON","::",1514],["T_STRING","create",1514],"(",["T_VARIABLE","$uri",1514],",",["T_WHITESPACE"," ",1514],["T_CONSTANT_ENCAPSED_STRING","'GET'",1514],",",["T_WHITESPACE"," ",1514],["T_ARRAY","array",1514],"(",")",",",["T_WHITESPACE"," ",1514],["T_ARRAY","array",1514],"(",")",",",["T_WHITESPACE"," ",1514],["T_ARRAY","array",1514],"(",")",",",["T_WHITESPACE"," ",1514],["T_VARIABLE","$server",1514],")",";",["T_WHITESPACE","\n\n        ",1514],["T_VARIABLE","$this",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","assertSame",1516],"(",["T_VARIABLE","$expectedBaseUrl",1516],",",["T_WHITESPACE"," ",1516],["T_VARIABLE","$request",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","getBaseUrl",1516],"(",")",",",["T_WHITESPACE"," ",1516],["T_CONSTANT_ENCAPSED_STRING","'baseUrl'",1516],")",";",["T_WHITESPACE","\n        ",1516],["T_VARIABLE","$this",1517],["T_OBJECT_OPERATOR","->",1517],["T_STRING","assertSame",1517],"(",["T_VARIABLE","$expectedPathInfo",1517],",",["T_WHITESPACE"," ",1517],["T_VARIABLE","$request",1517],["T_OBJECT_OPERATOR","->",1517],["T_STRING","getPathInfo",1517],"(",")",",",["T_WHITESPACE"," ",1517],["T_CONSTANT_ENCAPSED_STRING","'pathInfo'",1517],")",";",["T_WHITESPACE","\n    ",1517],"}",["T_WHITESPACE","\n\n    ",1518],["T_PUBLIC","public",1520],["T_WHITESPACE"," ",1520],["T_FUNCTION","function",1520],["T_WHITESPACE"," ",1520],["T_STRING","getBaseUrlData",1520],"(",")",["T_WHITESPACE","\n    ",1520],"{",["T_WHITESPACE","\n        ",1521],["T_RETURN","return",1522],["T_WHITESPACE"," ",1522],["T_ARRAY","array",1522],"(",["T_WHITESPACE","\n            ",1522],["T_ARRAY","array",1523],"(",["T_WHITESPACE","\n                ",1523],["T_CONSTANT_ENCAPSED_STRING","'\/fruit\/strawberry\/1234index.php\/blah'",1524],",",["T_WHITESPACE","\n                ",1524],["T_ARRAY","array",1525],"(",["T_WHITESPACE","\n                    ",1525],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1526],["T_WHITESPACE"," ",1526],["T_DOUBLE_ARROW","=>",1526],["T_WHITESPACE"," ",1526],["T_CONSTANT_ENCAPSED_STRING","'E:\/Sites\/cc-new\/public_html\/fruit\/index.php'",1526],",",["T_WHITESPACE","\n                    ",1526],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1527],["T_WHITESPACE"," ",1527],["T_DOUBLE_ARROW","=>",1527],["T_WHITESPACE"," ",1527],["T_CONSTANT_ENCAPSED_STRING","'\/fruit\/index.php'",1527],",",["T_WHITESPACE","\n                    ",1527],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1528],["T_WHITESPACE"," ",1528],["T_DOUBLE_ARROW","=>",1528],["T_WHITESPACE"," ",1528],["T_CONSTANT_ENCAPSED_STRING","'\/fruit\/index.php'",1528],",",["T_WHITESPACE","\n                ",1528],")",",",["T_WHITESPACE","\n                ",1529],["T_CONSTANT_ENCAPSED_STRING","'\/fruit'",1530],",",["T_WHITESPACE","\n                ",1530],["T_CONSTANT_ENCAPSED_STRING","'\/strawberry\/1234index.php\/blah'",1531],",",["T_WHITESPACE","\n            ",1531],")",",",["T_WHITESPACE","\n            ",1532],["T_ARRAY","array",1533],"(",["T_WHITESPACE","\n                ",1533],["T_CONSTANT_ENCAPSED_STRING","'\/fruit\/strawberry\/1234index.php\/blah'",1534],",",["T_WHITESPACE","\n                ",1534],["T_ARRAY","array",1535],"(",["T_WHITESPACE","\n                    ",1535],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1536],["T_WHITESPACE"," ",1536],["T_DOUBLE_ARROW","=>",1536],["T_WHITESPACE"," ",1536],["T_CONSTANT_ENCAPSED_STRING","'E:\/Sites\/cc-new\/public_html\/index.php'",1536],",",["T_WHITESPACE","\n                    ",1536],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1537],["T_WHITESPACE"," ",1537],["T_DOUBLE_ARROW","=>",1537],["T_WHITESPACE"," ",1537],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",1537],",",["T_WHITESPACE","\n                    ",1537],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1538],["T_WHITESPACE"," ",1538],["T_DOUBLE_ARROW","=>",1538],["T_WHITESPACE"," ",1538],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",1538],",",["T_WHITESPACE","\n                ",1538],")",",",["T_WHITESPACE","\n                ",1539],["T_CONSTANT_ENCAPSED_STRING","''",1540],",",["T_WHITESPACE","\n                ",1540],["T_CONSTANT_ENCAPSED_STRING","'\/fruit\/strawberry\/1234index.php\/blah'",1541],",",["T_WHITESPACE","\n            ",1541],")",",",["T_WHITESPACE","\n            ",1542],["T_ARRAY","array",1543],"(",["T_WHITESPACE","\n                ",1543],["T_CONSTANT_ENCAPSED_STRING","'\/foo%20bar\/'",1544],",",["T_WHITESPACE","\n                ",1544],["T_ARRAY","array",1545],"(",["T_WHITESPACE","\n                    ",1545],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1546],["T_WHITESPACE"," ",1546],["T_DOUBLE_ARROW","=>",1546],["T_WHITESPACE"," ",1546],["T_CONSTANT_ENCAPSED_STRING","'\/home\/John Doe\/public_html\/foo bar\/app.php'",1546],",",["T_WHITESPACE","\n                    ",1546],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1547],["T_WHITESPACE"," ",1547],["T_DOUBLE_ARROW","=>",1547],["T_WHITESPACE"," ",1547],["T_CONSTANT_ENCAPSED_STRING","'\/foo bar\/app.php'",1547],",",["T_WHITESPACE","\n                    ",1547],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1548],["T_WHITESPACE"," ",1548],["T_DOUBLE_ARROW","=>",1548],["T_WHITESPACE"," ",1548],["T_CONSTANT_ENCAPSED_STRING","'\/foo bar\/app.php'",1548],",",["T_WHITESPACE","\n                ",1548],")",",",["T_WHITESPACE","\n                ",1549],["T_CONSTANT_ENCAPSED_STRING","'\/foo%20bar'",1550],",",["T_WHITESPACE","\n                ",1550],["T_CONSTANT_ENCAPSED_STRING","'\/'",1551],",",["T_WHITESPACE","\n            ",1551],")",",",["T_WHITESPACE","\n            ",1552],["T_ARRAY","array",1553],"(",["T_WHITESPACE","\n                ",1553],["T_CONSTANT_ENCAPSED_STRING","'\/foo%20bar\/home'",1554],",",["T_WHITESPACE","\n                ",1554],["T_ARRAY","array",1555],"(",["T_WHITESPACE","\n                    ",1555],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1556],["T_WHITESPACE"," ",1556],["T_DOUBLE_ARROW","=>",1556],["T_WHITESPACE"," ",1556],["T_CONSTANT_ENCAPSED_STRING","'\/home\/John Doe\/public_html\/foo bar\/app.php'",1556],",",["T_WHITESPACE","\n                    ",1556],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1557],["T_WHITESPACE"," ",1557],["T_DOUBLE_ARROW","=>",1557],["T_WHITESPACE"," ",1557],["T_CONSTANT_ENCAPSED_STRING","'\/foo bar\/app.php'",1557],",",["T_WHITESPACE","\n                    ",1557],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1558],["T_WHITESPACE"," ",1558],["T_DOUBLE_ARROW","=>",1558],["T_WHITESPACE"," ",1558],["T_CONSTANT_ENCAPSED_STRING","'\/foo bar\/app.php'",1558],",",["T_WHITESPACE","\n                ",1558],")",",",["T_WHITESPACE","\n                ",1559],["T_CONSTANT_ENCAPSED_STRING","'\/foo%20bar'",1560],",",["T_WHITESPACE","\n                ",1560],["T_CONSTANT_ENCAPSED_STRING","'\/home'",1561],",",["T_WHITESPACE","\n            ",1561],")",",",["T_WHITESPACE","\n            ",1562],["T_ARRAY","array",1563],"(",["T_WHITESPACE","\n                ",1563],["T_CONSTANT_ENCAPSED_STRING","'\/foo%20bar\/app.php\/home'",1564],",",["T_WHITESPACE","\n                ",1564],["T_ARRAY","array",1565],"(",["T_WHITESPACE","\n                    ",1565],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1566],["T_WHITESPACE"," ",1566],["T_DOUBLE_ARROW","=>",1566],["T_WHITESPACE"," ",1566],["T_CONSTANT_ENCAPSED_STRING","'\/home\/John Doe\/public_html\/foo bar\/app.php'",1566],",",["T_WHITESPACE","\n                    ",1566],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1567],["T_WHITESPACE"," ",1567],["T_DOUBLE_ARROW","=>",1567],["T_WHITESPACE"," ",1567],["T_CONSTANT_ENCAPSED_STRING","'\/foo bar\/app.php'",1567],",",["T_WHITESPACE","\n                    ",1567],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1568],["T_WHITESPACE"," ",1568],["T_DOUBLE_ARROW","=>",1568],["T_WHITESPACE"," ",1568],["T_CONSTANT_ENCAPSED_STRING","'\/foo bar\/app.php'",1568],",",["T_WHITESPACE","\n                ",1568],")",",",["T_WHITESPACE","\n                ",1569],["T_CONSTANT_ENCAPSED_STRING","'\/foo%20bar\/app.php'",1570],",",["T_WHITESPACE","\n                ",1570],["T_CONSTANT_ENCAPSED_STRING","'\/home'",1571],",",["T_WHITESPACE","\n            ",1571],")",",",["T_WHITESPACE","\n            ",1572],["T_ARRAY","array",1573],"(",["T_WHITESPACE","\n                ",1573],["T_CONSTANT_ENCAPSED_STRING","'\/foo%20bar\/app.php\/home%3Dbaz'",1574],",",["T_WHITESPACE","\n                ",1574],["T_ARRAY","array",1575],"(",["T_WHITESPACE","\n                    ",1575],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1576],["T_WHITESPACE"," ",1576],["T_DOUBLE_ARROW","=>",1576],["T_WHITESPACE"," ",1576],["T_CONSTANT_ENCAPSED_STRING","'\/home\/John Doe\/public_html\/foo bar\/app.php'",1576],",",["T_WHITESPACE","\n                    ",1576],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1577],["T_WHITESPACE"," ",1577],["T_DOUBLE_ARROW","=>",1577],["T_WHITESPACE"," ",1577],["T_CONSTANT_ENCAPSED_STRING","'\/foo bar\/app.php'",1577],",",["T_WHITESPACE","\n                    ",1577],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1578],["T_WHITESPACE"," ",1578],["T_DOUBLE_ARROW","=>",1578],["T_WHITESPACE"," ",1578],["T_CONSTANT_ENCAPSED_STRING","'\/foo bar\/app.php'",1578],",",["T_WHITESPACE","\n                ",1578],")",",",["T_WHITESPACE","\n                ",1579],["T_CONSTANT_ENCAPSED_STRING","'\/foo%20bar\/app.php'",1580],",",["T_WHITESPACE","\n                ",1580],["T_CONSTANT_ENCAPSED_STRING","'\/home%3Dbaz'",1581],",",["T_WHITESPACE","\n            ",1581],")",",",["T_WHITESPACE","\n            ",1582],["T_ARRAY","array",1583],"(",["T_WHITESPACE","\n                ",1583],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar+baz'",1584],",",["T_WHITESPACE","\n                ",1584],["T_ARRAY","array",1585],"(",["T_WHITESPACE","\n                    ",1585],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1586],["T_WHITESPACE"," ",1586],["T_DOUBLE_ARROW","=>",1586],["T_WHITESPACE"," ",1586],["T_CONSTANT_ENCAPSED_STRING","'\/home\/John Doe\/public_html\/foo\/app.php'",1586],",",["T_WHITESPACE","\n                    ",1586],["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1587],["T_WHITESPACE"," ",1587],["T_DOUBLE_ARROW","=>",1587],["T_WHITESPACE"," ",1587],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/app.php'",1587],",",["T_WHITESPACE","\n                    ",1587],["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",1588],["T_WHITESPACE"," ",1588],["T_DOUBLE_ARROW","=>",1588],["T_WHITESPACE"," ",1588],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/app.php'",1588],",",["T_WHITESPACE","\n                ",1588],")",",",["T_WHITESPACE","\n                ",1589],["T_CONSTANT_ENCAPSED_STRING","'\/foo'",1590],",",["T_WHITESPACE","\n                ",1590],["T_CONSTANT_ENCAPSED_STRING","'\/bar+baz'",1591],",",["T_WHITESPACE","\n            ",1591],")",",",["T_WHITESPACE","\n        ",1592],")",";",["T_WHITESPACE","\n    ",1593],"}",["T_WHITESPACE","\n\n    ",1594],["T_DOC_COMMENT","\/**\n     * @dataProvider urlencodedStringPrefixData\n     *\/",1596],["T_WHITESPACE","\n    ",1598],["T_PUBLIC","public",1599],["T_WHITESPACE"," ",1599],["T_FUNCTION","function",1599],["T_WHITESPACE"," ",1599],["T_STRING","testUrlencodedStringPrefix",1599],"(",["T_VARIABLE","$string",1599],",",["T_WHITESPACE"," ",1599],["T_VARIABLE","$prefix",1599],",",["T_WHITESPACE"," ",1599],["T_VARIABLE","$expect",1599],")",["T_WHITESPACE","\n    ",1599],"{",["T_WHITESPACE","\n        ",1600],["T_VARIABLE","$request",1601],["T_WHITESPACE"," ",1601],"=",["T_WHITESPACE"," ",1601],["T_NEW","new",1601],["T_WHITESPACE"," ",1601],["T_STRING","Request",1601],"(",")",";",["T_WHITESPACE","\n\n        ",1601],["T_VARIABLE","$me",1603],["T_WHITESPACE"," ",1603],"=",["T_WHITESPACE"," ",1603],["T_NEW","new",1603],["T_WHITESPACE"," ",1603],["T_NS_SEPARATOR","\\",1603],["T_STRING","ReflectionMethod",1603],"(",["T_VARIABLE","$request",1603],",",["T_WHITESPACE"," ",1603],["T_CONSTANT_ENCAPSED_STRING","'getUrlencodedPrefix'",1603],")",";",["T_WHITESPACE","\n        ",1603],["T_VARIABLE","$me",1604],["T_OBJECT_OPERATOR","->",1604],["T_STRING","setAccessible",1604],"(",["T_STRING","true",1604],")",";",["T_WHITESPACE","\n\n        ",1604],["T_VARIABLE","$this",1606],["T_OBJECT_OPERATOR","->",1606],["T_STRING","assertSame",1606],"(",["T_VARIABLE","$expect",1606],",",["T_WHITESPACE"," ",1606],["T_VARIABLE","$me",1606],["T_OBJECT_OPERATOR","->",1606],["T_STRING","invoke",1606],"(",["T_VARIABLE","$request",1606],",",["T_WHITESPACE"," ",1606],["T_VARIABLE","$string",1606],",",["T_WHITESPACE"," ",1606],["T_VARIABLE","$prefix",1606],")",")",";",["T_WHITESPACE","\n    ",1606],"}",["T_WHITESPACE","\n\n    ",1607],["T_PUBLIC","public",1609],["T_WHITESPACE"," ",1609],["T_FUNCTION","function",1609],["T_WHITESPACE"," ",1609],["T_STRING","urlencodedStringPrefixData",1609],"(",")",["T_WHITESPACE","\n    ",1609],"{",["T_WHITESPACE","\n        ",1610],["T_RETURN","return",1611],["T_WHITESPACE"," ",1611],["T_ARRAY","array",1611],"(",["T_WHITESPACE","\n            ",1611],["T_ARRAY","array",1612],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1612],",",["T_WHITESPACE"," ",1612],["T_CONSTANT_ENCAPSED_STRING","'foo'",1612],",",["T_WHITESPACE"," ",1612],["T_CONSTANT_ENCAPSED_STRING","'foo'",1612],")",",",["T_WHITESPACE","\n            ",1612],["T_ARRAY","array",1613],"(",["T_CONSTANT_ENCAPSED_STRING","'fo%6f'",1613],",",["T_WHITESPACE"," ",1613],["T_CONSTANT_ENCAPSED_STRING","'foo'",1613],",",["T_WHITESPACE"," ",1613],["T_CONSTANT_ENCAPSED_STRING","'fo%6f'",1613],")",",",["T_WHITESPACE","\n            ",1613],["T_ARRAY","array",1614],"(",["T_CONSTANT_ENCAPSED_STRING","'foo\/bar'",1614],",",["T_WHITESPACE"," ",1614],["T_CONSTANT_ENCAPSED_STRING","'foo'",1614],",",["T_WHITESPACE"," ",1614],["T_CONSTANT_ENCAPSED_STRING","'foo'",1614],")",",",["T_WHITESPACE","\n            ",1614],["T_ARRAY","array",1615],"(",["T_CONSTANT_ENCAPSED_STRING","'fo%6f\/bar'",1615],",",["T_WHITESPACE"," ",1615],["T_CONSTANT_ENCAPSED_STRING","'foo'",1615],",",["T_WHITESPACE"," ",1615],["T_CONSTANT_ENCAPSED_STRING","'fo%6f'",1615],")",",",["T_WHITESPACE","\n            ",1615],["T_ARRAY","array",1616],"(",["T_CONSTANT_ENCAPSED_STRING","'f%6f%6f\/bar'",1616],",",["T_WHITESPACE"," ",1616],["T_CONSTANT_ENCAPSED_STRING","'foo'",1616],",",["T_WHITESPACE"," ",1616],["T_CONSTANT_ENCAPSED_STRING","'f%6f%6f'",1616],")",",",["T_WHITESPACE","\n            ",1616],["T_ARRAY","array",1617],"(",["T_CONSTANT_ENCAPSED_STRING","'%66%6F%6F\/bar'",1617],",",["T_WHITESPACE"," ",1617],["T_CONSTANT_ENCAPSED_STRING","'foo'",1617],",",["T_WHITESPACE"," ",1617],["T_CONSTANT_ENCAPSED_STRING","'%66%6F%6F'",1617],")",",",["T_WHITESPACE","\n            ",1617],["T_ARRAY","array",1618],"(",["T_CONSTANT_ENCAPSED_STRING","'fo+o\/bar'",1618],",",["T_WHITESPACE"," ",1618],["T_CONSTANT_ENCAPSED_STRING","'fo+o'",1618],",",["T_WHITESPACE"," ",1618],["T_CONSTANT_ENCAPSED_STRING","'fo+o'",1618],")",",",["T_WHITESPACE","\n            ",1618],["T_ARRAY","array",1619],"(",["T_CONSTANT_ENCAPSED_STRING","'fo%2Bo\/bar'",1619],",",["T_WHITESPACE"," ",1619],["T_CONSTANT_ENCAPSED_STRING","'fo+o'",1619],",",["T_WHITESPACE"," ",1619],["T_CONSTANT_ENCAPSED_STRING","'fo%2Bo'",1619],")",",",["T_WHITESPACE","\n        ",1619],")",";",["T_WHITESPACE","\n    ",1620],"}",["T_WHITESPACE","\n\n    ",1621],["T_PRIVATE","private",1623],["T_WHITESPACE"," ",1623],["T_FUNCTION","function",1623],["T_WHITESPACE"," ",1623],["T_STRING","disableHttpMethodParameterOverride",1623],"(",")",["T_WHITESPACE","\n    ",1623],"{",["T_WHITESPACE","\n        ",1624],["T_VARIABLE","$class",1625],["T_WHITESPACE"," ",1625],"=",["T_WHITESPACE"," ",1625],["T_NEW","new",1625],["T_WHITESPACE"," ",1625],["T_NS_SEPARATOR","\\",1625],["T_STRING","ReflectionClass",1625],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\\\Component\\\\HttpFoundation\\\\Request'",1625],")",";",["T_WHITESPACE","\n        ",1625],["T_VARIABLE","$property",1626],["T_WHITESPACE"," ",1626],"=",["T_WHITESPACE"," ",1626],["T_VARIABLE","$class",1626],["T_OBJECT_OPERATOR","->",1626],["T_STRING","getProperty",1626],"(",["T_CONSTANT_ENCAPSED_STRING","'httpMethodParameterOverride'",1626],")",";",["T_WHITESPACE","\n        ",1626],["T_VARIABLE","$property",1627],["T_OBJECT_OPERATOR","->",1627],["T_STRING","setAccessible",1627],"(",["T_STRING","true",1627],")",";",["T_WHITESPACE","\n        ",1627],["T_VARIABLE","$property",1628],["T_OBJECT_OPERATOR","->",1628],["T_STRING","setValue",1628],"(",["T_STRING","false",1628],")",";",["T_WHITESPACE","\n    ",1628],"}",["T_WHITESPACE","\n\n    ",1629],["T_PRIVATE","private",1631],["T_WHITESPACE"," ",1631],["T_FUNCTION","function",1631],["T_WHITESPACE"," ",1631],["T_STRING","getRequestInstanceForClientIpTests",1631],"(",["T_VARIABLE","$remoteAddr",1631],",",["T_WHITESPACE"," ",1631],["T_VARIABLE","$httpForwardedFor",1631],",",["T_WHITESPACE"," ",1631],["T_VARIABLE","$trustedProxies",1631],")",["T_WHITESPACE","\n    ",1631],"{",["T_WHITESPACE","\n        ",1632],["T_VARIABLE","$request",1633],["T_WHITESPACE"," ",1633],"=",["T_WHITESPACE"," ",1633],["T_NEW","new",1633],["T_WHITESPACE"," ",1633],["T_STRING","Request",1633],"(",")",";",["T_WHITESPACE","\n\n        ",1633],["T_VARIABLE","$server",1635],["T_WHITESPACE"," ",1635],"=",["T_WHITESPACE"," ",1635],["T_ARRAY","array",1635],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1635],["T_WHITESPACE"," ",1635],["T_DOUBLE_ARROW","=>",1635],["T_WHITESPACE"," ",1635],["T_VARIABLE","$remoteAddr",1635],")",";",["T_WHITESPACE","\n        ",1635],["T_IF","if",1636],["T_WHITESPACE"," ",1636],"(",["T_STRING","null",1636],["T_WHITESPACE"," ",1636],["T_IS_NOT_IDENTICAL","!==",1636],["T_WHITESPACE"," ",1636],["T_VARIABLE","$httpForwardedFor",1636],")",["T_WHITESPACE"," ",1636],"{",["T_WHITESPACE","\n            ",1636],["T_VARIABLE","$server",1637],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_FORWARDED_FOR'",1637],"]",["T_WHITESPACE"," ",1637],"=",["T_WHITESPACE"," ",1637],["T_VARIABLE","$httpForwardedFor",1637],";",["T_WHITESPACE","\n        ",1637],"}",["T_WHITESPACE","\n\n        ",1638],["T_IF","if",1640],["T_WHITESPACE"," ",1640],"(",["T_VARIABLE","$trustedProxies",1640],")",["T_WHITESPACE"," ",1640],"{",["T_WHITESPACE","\n            ",1640],["T_STRING","Request",1641],["T_DOUBLE_COLON","::",1641],["T_STRING","setTrustedProxies",1641],"(",["T_VARIABLE","$trustedProxies",1641],")",";",["T_WHITESPACE","\n        ",1641],"}",["T_WHITESPACE","\n\n        ",1642],["T_VARIABLE","$request",1644],["T_OBJECT_OPERATOR","->",1644],["T_STRING","initialize",1644],"(",["T_ARRAY","array",1644],"(",")",",",["T_WHITESPACE"," ",1644],["T_ARRAY","array",1644],"(",")",",",["T_WHITESPACE"," ",1644],["T_ARRAY","array",1644],"(",")",",",["T_WHITESPACE"," ",1644],["T_ARRAY","array",1644],"(",")",",",["T_WHITESPACE"," ",1644],["T_ARRAY","array",1644],"(",")",",",["T_WHITESPACE"," ",1644],["T_VARIABLE","$server",1644],")",";",["T_WHITESPACE","\n\n        ",1644],["T_RETURN","return",1646],["T_WHITESPACE"," ",1646],["T_VARIABLE","$request",1646],";",["T_WHITESPACE","\n    ",1646],"}",["T_WHITESPACE","\n\n    ",1647],["T_PRIVATE","private",1649],["T_WHITESPACE"," ",1649],["T_FUNCTION","function",1649],["T_WHITESPACE"," ",1649],["T_STRING","getRequestInstanceForClientIpsForwardedTests",1649],"(",["T_VARIABLE","$remoteAddr",1649],",",["T_WHITESPACE"," ",1649],["T_VARIABLE","$httpForwarded",1649],",",["T_WHITESPACE"," ",1649],["T_VARIABLE","$trustedProxies",1649],")",["T_WHITESPACE","\n    ",1649],"{",["T_WHITESPACE","\n        ",1650],["T_VARIABLE","$request",1651],["T_WHITESPACE"," ",1651],"=",["T_WHITESPACE"," ",1651],["T_NEW","new",1651],["T_WHITESPACE"," ",1651],["T_STRING","Request",1651],"(",")",";",["T_WHITESPACE","\n\n        ",1651],["T_VARIABLE","$server",1653],["T_WHITESPACE"," ",1653],"=",["T_WHITESPACE"," ",1653],["T_ARRAY","array",1653],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1653],["T_WHITESPACE"," ",1653],["T_DOUBLE_ARROW","=>",1653],["T_WHITESPACE"," ",1653],["T_VARIABLE","$remoteAddr",1653],")",";",["T_WHITESPACE","\n\n        ",1653],["T_IF","if",1655],["T_WHITESPACE"," ",1655],"(",["T_STRING","null",1655],["T_WHITESPACE"," ",1655],["T_IS_NOT_IDENTICAL","!==",1655],["T_WHITESPACE"," ",1655],["T_VARIABLE","$httpForwarded",1655],")",["T_WHITESPACE"," ",1655],"{",["T_WHITESPACE","\n            ",1655],["T_VARIABLE","$server",1656],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_FORWARDED'",1656],"]",["T_WHITESPACE"," ",1656],"=",["T_WHITESPACE"," ",1656],["T_VARIABLE","$httpForwarded",1656],";",["T_WHITESPACE","\n        ",1656],"}",["T_WHITESPACE","\n\n        ",1657],["T_IF","if",1659],["T_WHITESPACE"," ",1659],"(",["T_VARIABLE","$trustedProxies",1659],")",["T_WHITESPACE"," ",1659],"{",["T_WHITESPACE","\n            ",1659],["T_STRING","Request",1660],["T_DOUBLE_COLON","::",1660],["T_STRING","setTrustedProxies",1660],"(",["T_VARIABLE","$trustedProxies",1660],")",";",["T_WHITESPACE","\n        ",1660],"}",["T_WHITESPACE","\n\n        ",1661],["T_VARIABLE","$request",1663],["T_OBJECT_OPERATOR","->",1663],["T_STRING","initialize",1663],"(",["T_ARRAY","array",1663],"(",")",",",["T_WHITESPACE"," ",1663],["T_ARRAY","array",1663],"(",")",",",["T_WHITESPACE"," ",1663],["T_ARRAY","array",1663],"(",")",",",["T_WHITESPACE"," ",1663],["T_ARRAY","array",1663],"(",")",",",["T_WHITESPACE"," ",1663],["T_ARRAY","array",1663],"(",")",",",["T_WHITESPACE"," ",1663],["T_VARIABLE","$server",1663],")",";",["T_WHITESPACE","\n\n        ",1663],["T_RETURN","return",1665],["T_WHITESPACE"," ",1665],["T_VARIABLE","$request",1665],";",["T_WHITESPACE","\n    ",1665],"}",["T_WHITESPACE","\n\n    ",1666],["T_PUBLIC","public",1668],["T_WHITESPACE"," ",1668],["T_FUNCTION","function",1668],["T_WHITESPACE"," ",1668],["T_STRING","testTrustedProxies",1668],"(",")",["T_WHITESPACE","\n    ",1668],"{",["T_WHITESPACE","\n        ",1669],["T_VARIABLE","$request",1670],["T_WHITESPACE"," ",1670],"=",["T_WHITESPACE"," ",1670],["T_STRING","Request",1670],["T_DOUBLE_COLON","::",1670],["T_STRING","create",1670],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",1670],")",";",["T_WHITESPACE","\n        ",1670],["T_VARIABLE","$request",1671],["T_OBJECT_OPERATOR","->",1671],["T_STRING","server",1671],["T_OBJECT_OPERATOR","->",1671],["T_STRING","set",1671],"(",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",1671],",",["T_WHITESPACE"," ",1671],["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3'",1671],")",";",["T_WHITESPACE","\n        ",1671],["T_VARIABLE","$request",1672],["T_OBJECT_OPERATOR","->",1672],["T_STRING","headers",1672],["T_OBJECT_OPERATOR","->",1672],["T_STRING","set",1672],"(",["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_FOR'",1672],",",["T_WHITESPACE"," ",1672],["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1, 2.2.2.2'",1672],")",";",["T_WHITESPACE","\n        ",1672],["T_VARIABLE","$request",1673],["T_OBJECT_OPERATOR","->",1673],["T_STRING","headers",1673],["T_OBJECT_OPERATOR","->",1673],["T_STRING","set",1673],"(",["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_HOST'",1673],",",["T_WHITESPACE"," ",1673],["T_CONSTANT_ENCAPSED_STRING","'foo.example.com, real.example.com:8080'",1673],")",";",["T_WHITESPACE","\n        ",1673],["T_VARIABLE","$request",1674],["T_OBJECT_OPERATOR","->",1674],["T_STRING","headers",1674],["T_OBJECT_OPERATOR","->",1674],["T_STRING","set",1674],"(",["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_PROTO'",1674],",",["T_WHITESPACE"," ",1674],["T_CONSTANT_ENCAPSED_STRING","'https'",1674],")",";",["T_WHITESPACE","\n        ",1674],["T_VARIABLE","$request",1675],["T_OBJECT_OPERATOR","->",1675],["T_STRING","headers",1675],["T_OBJECT_OPERATOR","->",1675],["T_STRING","set",1675],"(",["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_PORT'",1675],",",["T_WHITESPACE"," ",1675],["T_LNUMBER","443",1675],")",";",["T_WHITESPACE","\n        ",1675],["T_VARIABLE","$request",1676],["T_OBJECT_OPERATOR","->",1676],["T_STRING","headers",1676],["T_OBJECT_OPERATOR","->",1676],["T_STRING","set",1676],"(",["T_CONSTANT_ENCAPSED_STRING","'X_MY_FOR'",1676],",",["T_WHITESPACE"," ",1676],["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3, 4.4.4.4'",1676],")",";",["T_WHITESPACE","\n        ",1676],["T_VARIABLE","$request",1677],["T_OBJECT_OPERATOR","->",1677],["T_STRING","headers",1677],["T_OBJECT_OPERATOR","->",1677],["T_STRING","set",1677],"(",["T_CONSTANT_ENCAPSED_STRING","'X_MY_HOST'",1677],",",["T_WHITESPACE"," ",1677],["T_CONSTANT_ENCAPSED_STRING","'my.example.com'",1677],")",";",["T_WHITESPACE","\n        ",1677],["T_VARIABLE","$request",1678],["T_OBJECT_OPERATOR","->",1678],["T_STRING","headers",1678],["T_OBJECT_OPERATOR","->",1678],["T_STRING","set",1678],"(",["T_CONSTANT_ENCAPSED_STRING","'X_MY_PROTO'",1678],",",["T_WHITESPACE"," ",1678],["T_CONSTANT_ENCAPSED_STRING","'http'",1678],")",";",["T_WHITESPACE","\n        ",1678],["T_VARIABLE","$request",1679],["T_OBJECT_OPERATOR","->",1679],["T_STRING","headers",1679],["T_OBJECT_OPERATOR","->",1679],["T_STRING","set",1679],"(",["T_CONSTANT_ENCAPSED_STRING","'X_MY_PORT'",1679],",",["T_WHITESPACE"," ",1679],["T_LNUMBER","81",1679],")",";",["T_WHITESPACE","\n\n        ",1679],["T_COMMENT","\/\/ no trusted proxies\n",1681],["T_WHITESPACE","        ",1682],["T_VARIABLE","$this",1682],["T_OBJECT_OPERATOR","->",1682],["T_STRING","assertEquals",1682],"(",["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3'",1682],",",["T_WHITESPACE"," ",1682],["T_VARIABLE","$request",1682],["T_OBJECT_OPERATOR","->",1682],["T_STRING","getClientIp",1682],"(",")",")",";",["T_WHITESPACE","\n        ",1682],["T_VARIABLE","$this",1683],["T_OBJECT_OPERATOR","->",1683],["T_STRING","assertEquals",1683],"(",["T_CONSTANT_ENCAPSED_STRING","'example.com'",1683],",",["T_WHITESPACE"," ",1683],["T_VARIABLE","$request",1683],["T_OBJECT_OPERATOR","->",1683],["T_STRING","getHost",1683],"(",")",")",";",["T_WHITESPACE","\n        ",1683],["T_VARIABLE","$this",1684],["T_OBJECT_OPERATOR","->",1684],["T_STRING","assertEquals",1684],"(",["T_LNUMBER","80",1684],",",["T_WHITESPACE"," ",1684],["T_VARIABLE","$request",1684],["T_OBJECT_OPERATOR","->",1684],["T_STRING","getPort",1684],"(",")",")",";",["T_WHITESPACE","\n        ",1684],["T_VARIABLE","$this",1685],["T_OBJECT_OPERATOR","->",1685],["T_STRING","assertFalse",1685],"(",["T_VARIABLE","$request",1685],["T_OBJECT_OPERATOR","->",1685],["T_STRING","isSecure",1685],"(",")",")",";",["T_WHITESPACE","\n\n        ",1685],["T_COMMENT","\/\/ disabling proxy trusting\n",1687],["T_WHITESPACE","        ",1688],["T_STRING","Request",1688],["T_DOUBLE_COLON","::",1688],["T_STRING","setTrustedProxies",1688],"(",["T_ARRAY","array",1688],"(",")",")",";",["T_WHITESPACE","\n        ",1688],["T_VARIABLE","$this",1689],["T_OBJECT_OPERATOR","->",1689],["T_STRING","assertEquals",1689],"(",["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3'",1689],",",["T_WHITESPACE"," ",1689],["T_VARIABLE","$request",1689],["T_OBJECT_OPERATOR","->",1689],["T_STRING","getClientIp",1689],"(",")",")",";",["T_WHITESPACE","\n        ",1689],["T_VARIABLE","$this",1690],["T_OBJECT_OPERATOR","->",1690],["T_STRING","assertEquals",1690],"(",["T_CONSTANT_ENCAPSED_STRING","'example.com'",1690],",",["T_WHITESPACE"," ",1690],["T_VARIABLE","$request",1690],["T_OBJECT_OPERATOR","->",1690],["T_STRING","getHost",1690],"(",")",")",";",["T_WHITESPACE","\n        ",1690],["T_VARIABLE","$this",1691],["T_OBJECT_OPERATOR","->",1691],["T_STRING","assertEquals",1691],"(",["T_LNUMBER","80",1691],",",["T_WHITESPACE"," ",1691],["T_VARIABLE","$request",1691],["T_OBJECT_OPERATOR","->",1691],["T_STRING","getPort",1691],"(",")",")",";",["T_WHITESPACE","\n        ",1691],["T_VARIABLE","$this",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","assertFalse",1692],"(",["T_VARIABLE","$request",1692],["T_OBJECT_OPERATOR","->",1692],["T_STRING","isSecure",1692],"(",")",")",";",["T_WHITESPACE","\n\n        ",1692],["T_COMMENT","\/\/ request is forwarded by a non-trusted proxy\n",1694],["T_WHITESPACE","        ",1695],["T_STRING","Request",1695],["T_DOUBLE_COLON","::",1695],["T_STRING","setTrustedProxies",1695],"(",["T_ARRAY","array",1695],"(",["T_CONSTANT_ENCAPSED_STRING","'2.2.2.2'",1695],")",")",";",["T_WHITESPACE","\n        ",1695],["T_VARIABLE","$this",1696],["T_OBJECT_OPERATOR","->",1696],["T_STRING","assertEquals",1696],"(",["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3'",1696],",",["T_WHITESPACE"," ",1696],["T_VARIABLE","$request",1696],["T_OBJECT_OPERATOR","->",1696],["T_STRING","getClientIp",1696],"(",")",")",";",["T_WHITESPACE","\n        ",1696],["T_VARIABLE","$this",1697],["T_OBJECT_OPERATOR","->",1697],["T_STRING","assertEquals",1697],"(",["T_CONSTANT_ENCAPSED_STRING","'example.com'",1697],",",["T_WHITESPACE"," ",1697],["T_VARIABLE","$request",1697],["T_OBJECT_OPERATOR","->",1697],["T_STRING","getHost",1697],"(",")",")",";",["T_WHITESPACE","\n        ",1697],["T_VARIABLE","$this",1698],["T_OBJECT_OPERATOR","->",1698],["T_STRING","assertEquals",1698],"(",["T_LNUMBER","80",1698],",",["T_WHITESPACE"," ",1698],["T_VARIABLE","$request",1698],["T_OBJECT_OPERATOR","->",1698],["T_STRING","getPort",1698],"(",")",")",";",["T_WHITESPACE","\n        ",1698],["T_VARIABLE","$this",1699],["T_OBJECT_OPERATOR","->",1699],["T_STRING","assertFalse",1699],"(",["T_VARIABLE","$request",1699],["T_OBJECT_OPERATOR","->",1699],["T_STRING","isSecure",1699],"(",")",")",";",["T_WHITESPACE","\n\n        ",1699],["T_COMMENT","\/\/ trusted proxy via setTrustedProxies()\n",1701],["T_WHITESPACE","        ",1702],["T_STRING","Request",1702],["T_DOUBLE_COLON","::",1702],["T_STRING","setTrustedProxies",1702],"(",["T_ARRAY","array",1702],"(",["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3'",1702],",",["T_WHITESPACE"," ",1702],["T_CONSTANT_ENCAPSED_STRING","'2.2.2.2'",1702],")",")",";",["T_WHITESPACE","\n        ",1702],["T_VARIABLE","$this",1703],["T_OBJECT_OPERATOR","->",1703],["T_STRING","assertEquals",1703],"(",["T_CONSTANT_ENCAPSED_STRING","'1.1.1.1'",1703],",",["T_WHITESPACE"," ",1703],["T_VARIABLE","$request",1703],["T_OBJECT_OPERATOR","->",1703],["T_STRING","getClientIp",1703],"(",")",")",";",["T_WHITESPACE","\n        ",1703],["T_VARIABLE","$this",1704],["T_OBJECT_OPERATOR","->",1704],["T_STRING","assertEquals",1704],"(",["T_CONSTANT_ENCAPSED_STRING","'real.example.com'",1704],",",["T_WHITESPACE"," ",1704],["T_VARIABLE","$request",1704],["T_OBJECT_OPERATOR","->",1704],["T_STRING","getHost",1704],"(",")",")",";",["T_WHITESPACE","\n        ",1704],["T_VARIABLE","$this",1705],["T_OBJECT_OPERATOR","->",1705],["T_STRING","assertEquals",1705],"(",["T_LNUMBER","443",1705],",",["T_WHITESPACE"," ",1705],["T_VARIABLE","$request",1705],["T_OBJECT_OPERATOR","->",1705],["T_STRING","getPort",1705],"(",")",")",";",["T_WHITESPACE","\n        ",1705],["T_VARIABLE","$this",1706],["T_OBJECT_OPERATOR","->",1706],["T_STRING","assertTrue",1706],"(",["T_VARIABLE","$request",1706],["T_OBJECT_OPERATOR","->",1706],["T_STRING","isSecure",1706],"(",")",")",";",["T_WHITESPACE","\n\n        ",1706],["T_COMMENT","\/\/ trusted proxy via setTrustedProxies()\n",1708],["T_WHITESPACE","        ",1709],["T_STRING","Request",1709],["T_DOUBLE_COLON","::",1709],["T_STRING","setTrustedProxies",1709],"(",["T_ARRAY","array",1709],"(",["T_CONSTANT_ENCAPSED_STRING","'3.3.3.4'",1709],",",["T_WHITESPACE"," ",1709],["T_CONSTANT_ENCAPSED_STRING","'2.2.2.2'",1709],")",")",";",["T_WHITESPACE","\n        ",1709],["T_VARIABLE","$this",1710],["T_OBJECT_OPERATOR","->",1710],["T_STRING","assertEquals",1710],"(",["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3'",1710],",",["T_WHITESPACE"," ",1710],["T_VARIABLE","$request",1710],["T_OBJECT_OPERATOR","->",1710],["T_STRING","getClientIp",1710],"(",")",")",";",["T_WHITESPACE","\n        ",1710],["T_VARIABLE","$this",1711],["T_OBJECT_OPERATOR","->",1711],["T_STRING","assertEquals",1711],"(",["T_CONSTANT_ENCAPSED_STRING","'example.com'",1711],",",["T_WHITESPACE"," ",1711],["T_VARIABLE","$request",1711],["T_OBJECT_OPERATOR","->",1711],["T_STRING","getHost",1711],"(",")",")",";",["T_WHITESPACE","\n        ",1711],["T_VARIABLE","$this",1712],["T_OBJECT_OPERATOR","->",1712],["T_STRING","assertEquals",1712],"(",["T_LNUMBER","80",1712],",",["T_WHITESPACE"," ",1712],["T_VARIABLE","$request",1712],["T_OBJECT_OPERATOR","->",1712],["T_STRING","getPort",1712],"(",")",")",";",["T_WHITESPACE","\n        ",1712],["T_VARIABLE","$this",1713],["T_OBJECT_OPERATOR","->",1713],["T_STRING","assertFalse",1713],"(",["T_VARIABLE","$request",1713],["T_OBJECT_OPERATOR","->",1713],["T_STRING","isSecure",1713],"(",")",")",";",["T_WHITESPACE","\n\n        ",1713],["T_COMMENT","\/\/ check various X_FORWARDED_PROTO header values\n",1715],["T_WHITESPACE","        ",1716],["T_STRING","Request",1716],["T_DOUBLE_COLON","::",1716],["T_STRING","setTrustedProxies",1716],"(",["T_ARRAY","array",1716],"(",["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3'",1716],",",["T_WHITESPACE"," ",1716],["T_CONSTANT_ENCAPSED_STRING","'2.2.2.2'",1716],")",")",";",["T_WHITESPACE","\n        ",1716],["T_VARIABLE","$request",1717],["T_OBJECT_OPERATOR","->",1717],["T_STRING","headers",1717],["T_OBJECT_OPERATOR","->",1717],["T_STRING","set",1717],"(",["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_PROTO'",1717],",",["T_WHITESPACE"," ",1717],["T_CONSTANT_ENCAPSED_STRING","'ssl'",1717],")",";",["T_WHITESPACE","\n        ",1717],["T_VARIABLE","$this",1718],["T_OBJECT_OPERATOR","->",1718],["T_STRING","assertTrue",1718],"(",["T_VARIABLE","$request",1718],["T_OBJECT_OPERATOR","->",1718],["T_STRING","isSecure",1718],"(",")",")",";",["T_WHITESPACE","\n\n        ",1718],["T_VARIABLE","$request",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","headers",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","set",1720],"(",["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_PROTO'",1720],",",["T_WHITESPACE"," ",1720],["T_CONSTANT_ENCAPSED_STRING","'https, http'",1720],")",";",["T_WHITESPACE","\n        ",1720],["T_VARIABLE","$this",1721],["T_OBJECT_OPERATOR","->",1721],["T_STRING","assertTrue",1721],"(",["T_VARIABLE","$request",1721],["T_OBJECT_OPERATOR","->",1721],["T_STRING","isSecure",1721],"(",")",")",";",["T_WHITESPACE","\n\n        ",1721],["T_COMMENT","\/\/ custom header names\n",1723],["T_WHITESPACE","        ",1724],["T_STRING","Request",1724],["T_DOUBLE_COLON","::",1724],["T_STRING","setTrustedHeaderName",1724],"(",["T_STRING","Request",1724],["T_DOUBLE_COLON","::",1724],["T_STRING","HEADER_CLIENT_IP",1724],",",["T_WHITESPACE"," ",1724],["T_CONSTANT_ENCAPSED_STRING","'X_MY_FOR'",1724],")",";",["T_WHITESPACE","\n        ",1724],["T_STRING","Request",1725],["T_DOUBLE_COLON","::",1725],["T_STRING","setTrustedHeaderName",1725],"(",["T_STRING","Request",1725],["T_DOUBLE_COLON","::",1725],["T_STRING","HEADER_CLIENT_HOST",1725],",",["T_WHITESPACE"," ",1725],["T_CONSTANT_ENCAPSED_STRING","'X_MY_HOST'",1725],")",";",["T_WHITESPACE","\n        ",1725],["T_STRING","Request",1726],["T_DOUBLE_COLON","::",1726],["T_STRING","setTrustedHeaderName",1726],"(",["T_STRING","Request",1726],["T_DOUBLE_COLON","::",1726],["T_STRING","HEADER_CLIENT_PORT",1726],",",["T_WHITESPACE"," ",1726],["T_CONSTANT_ENCAPSED_STRING","'X_MY_PORT'",1726],")",";",["T_WHITESPACE","\n        ",1726],["T_STRING","Request",1727],["T_DOUBLE_COLON","::",1727],["T_STRING","setTrustedHeaderName",1727],"(",["T_STRING","Request",1727],["T_DOUBLE_COLON","::",1727],["T_STRING","HEADER_CLIENT_PROTO",1727],",",["T_WHITESPACE"," ",1727],["T_CONSTANT_ENCAPSED_STRING","'X_MY_PROTO'",1727],")",";",["T_WHITESPACE","\n        ",1727],["T_VARIABLE","$this",1728],["T_OBJECT_OPERATOR","->",1728],["T_STRING","assertEquals",1728],"(",["T_CONSTANT_ENCAPSED_STRING","'4.4.4.4'",1728],",",["T_WHITESPACE"," ",1728],["T_VARIABLE","$request",1728],["T_OBJECT_OPERATOR","->",1728],["T_STRING","getClientIp",1728],"(",")",")",";",["T_WHITESPACE","\n        ",1728],["T_VARIABLE","$this",1729],["T_OBJECT_OPERATOR","->",1729],["T_STRING","assertEquals",1729],"(",["T_CONSTANT_ENCAPSED_STRING","'my.example.com'",1729],",",["T_WHITESPACE"," ",1729],["T_VARIABLE","$request",1729],["T_OBJECT_OPERATOR","->",1729],["T_STRING","getHost",1729],"(",")",")",";",["T_WHITESPACE","\n        ",1729],["T_VARIABLE","$this",1730],["T_OBJECT_OPERATOR","->",1730],["T_STRING","assertEquals",1730],"(",["T_LNUMBER","81",1730],",",["T_WHITESPACE"," ",1730],["T_VARIABLE","$request",1730],["T_OBJECT_OPERATOR","->",1730],["T_STRING","getPort",1730],"(",")",")",";",["T_WHITESPACE","\n        ",1730],["T_VARIABLE","$this",1731],["T_OBJECT_OPERATOR","->",1731],["T_STRING","assertFalse",1731],"(",["T_VARIABLE","$request",1731],["T_OBJECT_OPERATOR","->",1731],["T_STRING","isSecure",1731],"(",")",")",";",["T_WHITESPACE","\n\n        ",1731],["T_COMMENT","\/\/ disabling via empty header names\n",1733],["T_WHITESPACE","        ",1734],["T_STRING","Request",1734],["T_DOUBLE_COLON","::",1734],["T_STRING","setTrustedHeaderName",1734],"(",["T_STRING","Request",1734],["T_DOUBLE_COLON","::",1734],["T_STRING","HEADER_CLIENT_IP",1734],",",["T_WHITESPACE"," ",1734],["T_STRING","null",1734],")",";",["T_WHITESPACE","\n        ",1734],["T_STRING","Request",1735],["T_DOUBLE_COLON","::",1735],["T_STRING","setTrustedHeaderName",1735],"(",["T_STRING","Request",1735],["T_DOUBLE_COLON","::",1735],["T_STRING","HEADER_CLIENT_HOST",1735],",",["T_WHITESPACE"," ",1735],["T_STRING","null",1735],")",";",["T_WHITESPACE","\n        ",1735],["T_STRING","Request",1736],["T_DOUBLE_COLON","::",1736],["T_STRING","setTrustedHeaderName",1736],"(",["T_STRING","Request",1736],["T_DOUBLE_COLON","::",1736],["T_STRING","HEADER_CLIENT_PORT",1736],",",["T_WHITESPACE"," ",1736],["T_STRING","null",1736],")",";",["T_WHITESPACE","\n        ",1736],["T_STRING","Request",1737],["T_DOUBLE_COLON","::",1737],["T_STRING","setTrustedHeaderName",1737],"(",["T_STRING","Request",1737],["T_DOUBLE_COLON","::",1737],["T_STRING","HEADER_CLIENT_PROTO",1737],",",["T_WHITESPACE"," ",1737],["T_STRING","null",1737],")",";",["T_WHITESPACE","\n        ",1737],["T_VARIABLE","$this",1738],["T_OBJECT_OPERATOR","->",1738],["T_STRING","assertEquals",1738],"(",["T_CONSTANT_ENCAPSED_STRING","'3.3.3.3'",1738],",",["T_WHITESPACE"," ",1738],["T_VARIABLE","$request",1738],["T_OBJECT_OPERATOR","->",1738],["T_STRING","getClientIp",1738],"(",")",")",";",["T_WHITESPACE","\n        ",1738],["T_VARIABLE","$this",1739],["T_OBJECT_OPERATOR","->",1739],["T_STRING","assertEquals",1739],"(",["T_CONSTANT_ENCAPSED_STRING","'example.com'",1739],",",["T_WHITESPACE"," ",1739],["T_VARIABLE","$request",1739],["T_OBJECT_OPERATOR","->",1739],["T_STRING","getHost",1739],"(",")",")",";",["T_WHITESPACE","\n        ",1739],["T_VARIABLE","$this",1740],["T_OBJECT_OPERATOR","->",1740],["T_STRING","assertEquals",1740],"(",["T_LNUMBER","80",1740],",",["T_WHITESPACE"," ",1740],["T_VARIABLE","$request",1740],["T_OBJECT_OPERATOR","->",1740],["T_STRING","getPort",1740],"(",")",")",";",["T_WHITESPACE","\n        ",1740],["T_VARIABLE","$this",1741],["T_OBJECT_OPERATOR","->",1741],["T_STRING","assertFalse",1741],"(",["T_VARIABLE","$request",1741],["T_OBJECT_OPERATOR","->",1741],["T_STRING","isSecure",1741],"(",")",")",";",["T_WHITESPACE","\n\n        ",1741],["T_COMMENT","\/\/ reset\n",1743],["T_WHITESPACE","        ",1744],["T_STRING","Request",1744],["T_DOUBLE_COLON","::",1744],["T_STRING","setTrustedProxies",1744],"(",["T_ARRAY","array",1744],"(",")",")",";",["T_WHITESPACE","\n        ",1744],["T_STRING","Request",1745],["T_DOUBLE_COLON","::",1745],["T_STRING","setTrustedHeaderName",1745],"(",["T_STRING","Request",1745],["T_DOUBLE_COLON","::",1745],["T_STRING","HEADER_CLIENT_IP",1745],",",["T_WHITESPACE"," ",1745],["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_FOR'",1745],")",";",["T_WHITESPACE","\n        ",1745],["T_STRING","Request",1746],["T_DOUBLE_COLON","::",1746],["T_STRING","setTrustedHeaderName",1746],"(",["T_STRING","Request",1746],["T_DOUBLE_COLON","::",1746],["T_STRING","HEADER_CLIENT_HOST",1746],",",["T_WHITESPACE"," ",1746],["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_HOST'",1746],")",";",["T_WHITESPACE","\n        ",1746],["T_STRING","Request",1747],["T_DOUBLE_COLON","::",1747],["T_STRING","setTrustedHeaderName",1747],"(",["T_STRING","Request",1747],["T_DOUBLE_COLON","::",1747],["T_STRING","HEADER_CLIENT_PORT",1747],",",["T_WHITESPACE"," ",1747],["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_PORT'",1747],")",";",["T_WHITESPACE","\n        ",1747],["T_STRING","Request",1748],["T_DOUBLE_COLON","::",1748],["T_STRING","setTrustedHeaderName",1748],"(",["T_STRING","Request",1748],["T_DOUBLE_COLON","::",1748],["T_STRING","HEADER_CLIENT_PROTO",1748],",",["T_WHITESPACE"," ",1748],["T_CONSTANT_ENCAPSED_STRING","'X_FORWARDED_PROTO'",1748],")",";",["T_WHITESPACE","\n    ",1748],"}",["T_WHITESPACE","\n\n    ",1749],["T_DOC_COMMENT","\/**\n     * @expectedException \\InvalidArgumentException\n     *\/",1751],["T_WHITESPACE","\n    ",1753],["T_PUBLIC","public",1754],["T_WHITESPACE"," ",1754],["T_FUNCTION","function",1754],["T_WHITESPACE"," ",1754],["T_STRING","testSetTrustedProxiesInvalidHeaderName",1754],"(",")",["T_WHITESPACE","\n    ",1754],"{",["T_WHITESPACE","\n        ",1755],["T_STRING","Request",1756],["T_DOUBLE_COLON","::",1756],["T_STRING","create",1756],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",1756],")",";",["T_WHITESPACE","\n        ",1756],["T_STRING","Request",1757],["T_DOUBLE_COLON","::",1757],["T_STRING","setTrustedHeaderName",1757],"(",["T_CONSTANT_ENCAPSED_STRING","'bogus name'",1757],",",["T_WHITESPACE"," ",1757],["T_CONSTANT_ENCAPSED_STRING","'X_MY_FOR'",1757],")",";",["T_WHITESPACE","\n    ",1757],"}",["T_WHITESPACE","\n\n    ",1758],["T_DOC_COMMENT","\/**\n     * @expectedException \\InvalidArgumentException\n     *\/",1760],["T_WHITESPACE","\n    ",1762],["T_PUBLIC","public",1763],["T_WHITESPACE"," ",1763],["T_FUNCTION","function",1763],["T_WHITESPACE"," ",1763],["T_STRING","testGetTrustedProxiesInvalidHeaderName",1763],"(",")",["T_WHITESPACE","\n    ",1763],"{",["T_WHITESPACE","\n        ",1764],["T_STRING","Request",1765],["T_DOUBLE_COLON","::",1765],["T_STRING","create",1765],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",1765],")",";",["T_WHITESPACE","\n        ",1765],["T_STRING","Request",1766],["T_DOUBLE_COLON","::",1766],["T_STRING","getTrustedHeaderName",1766],"(",["T_CONSTANT_ENCAPSED_STRING","'bogus name'",1766],")",";",["T_WHITESPACE","\n    ",1766],"}",["T_WHITESPACE","\n\n    ",1767],["T_DOC_COMMENT","\/**\n     * @dataProvider iisRequestUriProvider\n     *\/",1769],["T_WHITESPACE","\n    ",1771],["T_PUBLIC","public",1772],["T_WHITESPACE"," ",1772],["T_FUNCTION","function",1772],["T_WHITESPACE"," ",1772],["T_STRING","testIISRequestUri",1772],"(",["T_VARIABLE","$headers",1772],",",["T_WHITESPACE"," ",1772],["T_VARIABLE","$server",1772],",",["T_WHITESPACE"," ",1772],["T_VARIABLE","$expectedRequestUri",1772],")",["T_WHITESPACE","\n    ",1772],"{",["T_WHITESPACE","\n        ",1773],["T_VARIABLE","$request",1774],["T_WHITESPACE"," ",1774],"=",["T_WHITESPACE"," ",1774],["T_NEW","new",1774],["T_WHITESPACE"," ",1774],["T_STRING","Request",1774],"(",")",";",["T_WHITESPACE","\n        ",1774],["T_VARIABLE","$request",1775],["T_OBJECT_OPERATOR","->",1775],["T_STRING","headers",1775],["T_OBJECT_OPERATOR","->",1775],["T_STRING","replace",1775],"(",["T_VARIABLE","$headers",1775],")",";",["T_WHITESPACE","\n        ",1775],["T_VARIABLE","$request",1776],["T_OBJECT_OPERATOR","->",1776],["T_STRING","server",1776],["T_OBJECT_OPERATOR","->",1776],["T_STRING","replace",1776],"(",["T_VARIABLE","$server",1776],")",";",["T_WHITESPACE","\n\n        ",1776],["T_VARIABLE","$this",1778],["T_OBJECT_OPERATOR","->",1778],["T_STRING","assertEquals",1778],"(",["T_VARIABLE","$expectedRequestUri",1778],",",["T_WHITESPACE"," ",1778],["T_VARIABLE","$request",1778],["T_OBJECT_OPERATOR","->",1778],["T_STRING","getRequestUri",1778],"(",")",",",["T_WHITESPACE"," ",1778],["T_CONSTANT_ENCAPSED_STRING","'->getRequestUri() is correct'",1778],")",";",["T_WHITESPACE","\n\n        ",1778],["T_VARIABLE","$subRequestUri",1780],["T_WHITESPACE"," ",1780],"=",["T_WHITESPACE"," ",1780],["T_CONSTANT_ENCAPSED_STRING","'\/bar\/foo'",1780],";",["T_WHITESPACE","\n        ",1780],["T_VARIABLE","$subRequest",1781],["T_WHITESPACE"," ",1781],"=",["T_WHITESPACE"," ",1781],["T_STRING","Request",1781],["T_DOUBLE_COLON","::",1781],["T_STRING","create",1781],"(",["T_VARIABLE","$subRequestUri",1781],",",["T_WHITESPACE"," ",1781],["T_CONSTANT_ENCAPSED_STRING","'get'",1781],",",["T_WHITESPACE"," ",1781],["T_ARRAY","array",1781],"(",")",",",["T_WHITESPACE"," ",1781],["T_ARRAY","array",1781],"(",")",",",["T_WHITESPACE"," ",1781],["T_ARRAY","array",1781],"(",")",",",["T_WHITESPACE"," ",1781],["T_VARIABLE","$request",1781],["T_OBJECT_OPERATOR","->",1781],["T_STRING","server",1781],["T_OBJECT_OPERATOR","->",1781],["T_STRING","all",1781],"(",")",")",";",["T_WHITESPACE","\n        ",1781],["T_VARIABLE","$this",1782],["T_OBJECT_OPERATOR","->",1782],["T_STRING","assertEquals",1782],"(",["T_VARIABLE","$subRequestUri",1782],",",["T_WHITESPACE"," ",1782],["T_VARIABLE","$subRequest",1782],["T_OBJECT_OPERATOR","->",1782],["T_STRING","getRequestUri",1782],"(",")",",",["T_WHITESPACE"," ",1782],["T_CONSTANT_ENCAPSED_STRING","'->getRequestUri() is correct in sub request'",1782],")",";",["T_WHITESPACE","\n    ",1782],"}",["T_WHITESPACE","\n\n    ",1783],["T_PUBLIC","public",1785],["T_WHITESPACE"," ",1785],["T_FUNCTION","function",1785],["T_WHITESPACE"," ",1785],["T_STRING","iisRequestUriProvider",1785],"(",")",["T_WHITESPACE","\n    ",1785],"{",["T_WHITESPACE","\n        ",1786],["T_RETURN","return",1787],["T_WHITESPACE"," ",1787],["T_ARRAY","array",1787],"(",["T_WHITESPACE","\n            ",1787],["T_ARRAY","array",1788],"(",["T_WHITESPACE","\n                ",1788],["T_ARRAY","array",1789],"(",["T_WHITESPACE","\n                    ",1789],["T_CONSTANT_ENCAPSED_STRING","'X_ORIGINAL_URL'",1790],["T_WHITESPACE"," ",1790],["T_DOUBLE_ARROW","=>",1790],["T_WHITESPACE"," ",1790],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1790],",",["T_WHITESPACE","\n                ",1790],")",",",["T_WHITESPACE","\n                ",1791],["T_ARRAY","array",1792],"(",")",",",["T_WHITESPACE","\n                ",1792],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1793],",",["T_WHITESPACE","\n            ",1793],")",",",["T_WHITESPACE","\n            ",1794],["T_ARRAY","array",1795],"(",["T_WHITESPACE","\n                ",1795],["T_ARRAY","array",1796],"(",["T_WHITESPACE","\n                    ",1796],["T_CONSTANT_ENCAPSED_STRING","'X_REWRITE_URL'",1797],["T_WHITESPACE"," ",1797],["T_DOUBLE_ARROW","=>",1797],["T_WHITESPACE"," ",1797],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1797],",",["T_WHITESPACE","\n                ",1797],")",",",["T_WHITESPACE","\n                ",1798],["T_ARRAY","array",1799],"(",")",",",["T_WHITESPACE","\n                ",1799],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1800],",",["T_WHITESPACE","\n            ",1800],")",",",["T_WHITESPACE","\n            ",1801],["T_ARRAY","array",1802],"(",["T_WHITESPACE","\n                ",1802],["T_ARRAY","array",1803],"(",")",",",["T_WHITESPACE","\n                ",1803],["T_ARRAY","array",1804],"(",["T_WHITESPACE","\n                    ",1804],["T_CONSTANT_ENCAPSED_STRING","'IIS_WasUrlRewritten'",1805],["T_WHITESPACE"," ",1805],["T_DOUBLE_ARROW","=>",1805],["T_WHITESPACE"," ",1805],["T_CONSTANT_ENCAPSED_STRING","'1'",1805],",",["T_WHITESPACE","\n                    ",1805],["T_CONSTANT_ENCAPSED_STRING","'UNENCODED_URL'",1806],["T_WHITESPACE"," ",1806],["T_DOUBLE_ARROW","=>",1806],["T_WHITESPACE"," ",1806],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1806],",",["T_WHITESPACE","\n                ",1806],")",",",["T_WHITESPACE","\n                ",1807],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1808],",",["T_WHITESPACE","\n            ",1808],")",",",["T_WHITESPACE","\n            ",1809],["T_ARRAY","array",1810],"(",["T_WHITESPACE","\n                ",1810],["T_ARRAY","array",1811],"(",["T_WHITESPACE","\n                    ",1811],["T_CONSTANT_ENCAPSED_STRING","'X_ORIGINAL_URL'",1812],["T_WHITESPACE"," ",1812],["T_DOUBLE_ARROW","=>",1812],["T_WHITESPACE"," ",1812],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1812],",",["T_WHITESPACE","\n                ",1812],")",",",["T_WHITESPACE","\n                ",1813],["T_ARRAY","array",1814],"(",["T_WHITESPACE","\n                    ",1814],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_ORIGINAL_URL'",1815],["T_WHITESPACE"," ",1815],["T_DOUBLE_ARROW","=>",1815],["T_WHITESPACE"," ",1815],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1815],",",["T_WHITESPACE","\n                ",1815],")",",",["T_WHITESPACE","\n                ",1816],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1817],",",["T_WHITESPACE","\n            ",1817],")",",",["T_WHITESPACE","\n            ",1818],["T_ARRAY","array",1819],"(",["T_WHITESPACE","\n                ",1819],["T_ARRAY","array",1820],"(",["T_WHITESPACE","\n                    ",1820],["T_CONSTANT_ENCAPSED_STRING","'X_ORIGINAL_URL'",1821],["T_WHITESPACE"," ",1821],["T_DOUBLE_ARROW","=>",1821],["T_WHITESPACE"," ",1821],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1821],",",["T_WHITESPACE","\n                ",1821],")",",",["T_WHITESPACE","\n                ",1822],["T_ARRAY","array",1823],"(",["T_WHITESPACE","\n                    ",1823],["T_CONSTANT_ENCAPSED_STRING","'IIS_WasUrlRewritten'",1824],["T_WHITESPACE"," ",1824],["T_DOUBLE_ARROW","=>",1824],["T_WHITESPACE"," ",1824],["T_CONSTANT_ENCAPSED_STRING","'1'",1824],",",["T_WHITESPACE","\n                    ",1824],["T_CONSTANT_ENCAPSED_STRING","'UNENCODED_URL'",1825],["T_WHITESPACE"," ",1825],["T_DOUBLE_ARROW","=>",1825],["T_WHITESPACE"," ",1825],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1825],",",["T_WHITESPACE","\n                ",1825],")",",",["T_WHITESPACE","\n                ",1826],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1827],",",["T_WHITESPACE","\n            ",1827],")",",",["T_WHITESPACE","\n            ",1828],["T_ARRAY","array",1829],"(",["T_WHITESPACE","\n                ",1829],["T_ARRAY","array",1830],"(",["T_WHITESPACE","\n                    ",1830],["T_CONSTANT_ENCAPSED_STRING","'X_ORIGINAL_URL'",1831],["T_WHITESPACE"," ",1831],["T_DOUBLE_ARROW","=>",1831],["T_WHITESPACE"," ",1831],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1831],",",["T_WHITESPACE","\n                ",1831],")",",",["T_WHITESPACE","\n                ",1832],["T_ARRAY","array",1833],"(",["T_WHITESPACE","\n                    ",1833],["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_ORIGINAL_URL'",1834],["T_WHITESPACE"," ",1834],["T_DOUBLE_ARROW","=>",1834],["T_WHITESPACE"," ",1834],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1834],",",["T_WHITESPACE","\n                    ",1834],["T_CONSTANT_ENCAPSED_STRING","'IIS_WasUrlRewritten'",1835],["T_WHITESPACE"," ",1835],["T_DOUBLE_ARROW","=>",1835],["T_WHITESPACE"," ",1835],["T_CONSTANT_ENCAPSED_STRING","'1'",1835],",",["T_WHITESPACE","\n                    ",1835],["T_CONSTANT_ENCAPSED_STRING","'UNENCODED_URL'",1836],["T_WHITESPACE"," ",1836],["T_DOUBLE_ARROW","=>",1836],["T_WHITESPACE"," ",1836],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1836],",",["T_WHITESPACE","\n                ",1836],")",",",["T_WHITESPACE","\n                ",1837],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1838],",",["T_WHITESPACE","\n            ",1838],")",",",["T_WHITESPACE","\n            ",1839],["T_ARRAY","array",1840],"(",["T_WHITESPACE","\n                ",1840],["T_ARRAY","array",1841],"(",")",",",["T_WHITESPACE","\n                ",1841],["T_ARRAY","array",1842],"(",["T_WHITESPACE","\n                    ",1842],["T_CONSTANT_ENCAPSED_STRING","'ORIG_PATH_INFO'",1843],["T_WHITESPACE"," ",1843],["T_DOUBLE_ARROW","=>",1843],["T_WHITESPACE"," ",1843],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1843],",",["T_WHITESPACE","\n                ",1843],")",",",["T_WHITESPACE","\n                ",1844],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1845],",",["T_WHITESPACE","\n            ",1845],")",",",["T_WHITESPACE","\n            ",1846],["T_ARRAY","array",1847],"(",["T_WHITESPACE","\n                ",1847],["T_ARRAY","array",1848],"(",")",",",["T_WHITESPACE","\n                ",1848],["T_ARRAY","array",1849],"(",["T_WHITESPACE","\n                    ",1849],["T_CONSTANT_ENCAPSED_STRING","'ORIG_PATH_INFO'",1850],["T_WHITESPACE"," ",1850],["T_DOUBLE_ARROW","=>",1850],["T_WHITESPACE"," ",1850],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar'",1850],",",["T_WHITESPACE","\n                    ",1850],["T_CONSTANT_ENCAPSED_STRING","'QUERY_STRING'",1851],["T_WHITESPACE"," ",1851],["T_DOUBLE_ARROW","=>",1851],["T_WHITESPACE"," ",1851],["T_CONSTANT_ENCAPSED_STRING","'foo=bar'",1851],",",["T_WHITESPACE","\n                ",1851],")",",",["T_WHITESPACE","\n                ",1852],["T_CONSTANT_ENCAPSED_STRING","'\/foo\/bar?foo=bar'",1853],",",["T_WHITESPACE","\n            ",1853],")",",",["T_WHITESPACE","\n        ",1854],")",";",["T_WHITESPACE","\n    ",1855],"}",["T_WHITESPACE","\n\n    ",1856],["T_PUBLIC","public",1858],["T_WHITESPACE"," ",1858],["T_FUNCTION","function",1858],["T_WHITESPACE"," ",1858],["T_STRING","testTrustedHosts",1858],"(",")",["T_WHITESPACE","\n    ",1858],"{",["T_WHITESPACE","\n        ",1859],["T_COMMENT","\/\/ create a request\n",1860],["T_WHITESPACE","        ",1861],["T_VARIABLE","$request",1861],["T_WHITESPACE"," ",1861],"=",["T_WHITESPACE"," ",1861],["T_STRING","Request",1861],["T_DOUBLE_COLON","::",1861],["T_STRING","create",1861],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1861],")",";",["T_WHITESPACE","\n\n        ",1861],["T_COMMENT","\/\/ no trusted host set -> no host check\n",1863],["T_WHITESPACE","        ",1864],["T_VARIABLE","$request",1864],["T_OBJECT_OPERATOR","->",1864],["T_STRING","headers",1864],["T_OBJECT_OPERATOR","->",1864],["T_STRING","set",1864],"(",["T_CONSTANT_ENCAPSED_STRING","'host'",1864],",",["T_WHITESPACE"," ",1864],["T_CONSTANT_ENCAPSED_STRING","'evil.com'",1864],")",";",["T_WHITESPACE","\n        ",1864],["T_VARIABLE","$this",1865],["T_OBJECT_OPERATOR","->",1865],["T_STRING","assertEquals",1865],"(",["T_CONSTANT_ENCAPSED_STRING","'evil.com'",1865],",",["T_WHITESPACE"," ",1865],["T_VARIABLE","$request",1865],["T_OBJECT_OPERATOR","->",1865],["T_STRING","getHost",1865],"(",")",")",";",["T_WHITESPACE","\n\n        ",1865],["T_COMMENT","\/\/ add a trusted domain and all its subdomains\n",1867],["T_WHITESPACE","        ",1868],["T_STRING","Request",1868],["T_DOUBLE_COLON","::",1868],["T_STRING","setTrustedHosts",1868],"(",["T_ARRAY","array",1868],"(",["T_CONSTANT_ENCAPSED_STRING","'^([a-z]{9}\\.)?trusted\\.com$'",1868],")",")",";",["T_WHITESPACE","\n\n        ",1868],["T_COMMENT","\/\/ untrusted host\n",1870],["T_WHITESPACE","        ",1871],["T_VARIABLE","$request",1871],["T_OBJECT_OPERATOR","->",1871],["T_STRING","headers",1871],["T_OBJECT_OPERATOR","->",1871],["T_STRING","set",1871],"(",["T_CONSTANT_ENCAPSED_STRING","'host'",1871],",",["T_WHITESPACE"," ",1871],["T_CONSTANT_ENCAPSED_STRING","'evil.com'",1871],")",";",["T_WHITESPACE","\n        ",1871],["T_TRY","try",1872],["T_WHITESPACE"," ",1872],"{",["T_WHITESPACE","\n            ",1872],["T_VARIABLE","$request",1873],["T_OBJECT_OPERATOR","->",1873],["T_STRING","getHost",1873],"(",")",";",["T_WHITESPACE","\n            ",1873],["T_VARIABLE","$this",1874],["T_OBJECT_OPERATOR","->",1874],["T_STRING","fail",1874],"(",["T_CONSTANT_ENCAPSED_STRING","'Request::getHost() should throw an exception when host is not trusted.'",1874],")",";",["T_WHITESPACE","\n        ",1874],"}",["T_WHITESPACE"," ",1875],["T_CATCH","catch",1875],["T_WHITESPACE"," ",1875],"(",["T_STRING","SuspiciousOperationException",1875],["T_WHITESPACE"," ",1875],["T_VARIABLE","$e",1875],")",["T_WHITESPACE"," ",1875],"{",["T_WHITESPACE","\n            ",1875],["T_VARIABLE","$this",1876],["T_OBJECT_OPERATOR","->",1876],["T_STRING","assertEquals",1876],"(",["T_CONSTANT_ENCAPSED_STRING","'Untrusted Host \"evil.com\".'",1876],",",["T_WHITESPACE"," ",1876],["T_VARIABLE","$e",1876],["T_OBJECT_OPERATOR","->",1876],["T_STRING","getMessage",1876],"(",")",")",";",["T_WHITESPACE","\n        ",1876],"}",["T_WHITESPACE","\n\n        ",1877],["T_COMMENT","\/\/ trusted hosts\n",1879],["T_WHITESPACE","        ",1880],["T_VARIABLE","$request",1880],["T_OBJECT_OPERATOR","->",1880],["T_STRING","headers",1880],["T_OBJECT_OPERATOR","->",1880],["T_STRING","set",1880],"(",["T_CONSTANT_ENCAPSED_STRING","'host'",1880],",",["T_WHITESPACE"," ",1880],["T_CONSTANT_ENCAPSED_STRING","'trusted.com'",1880],")",";",["T_WHITESPACE","\n        ",1880],["T_VARIABLE","$this",1881],["T_OBJECT_OPERATOR","->",1881],["T_STRING","assertEquals",1881],"(",["T_CONSTANT_ENCAPSED_STRING","'trusted.com'",1881],",",["T_WHITESPACE"," ",1881],["T_VARIABLE","$request",1881],["T_OBJECT_OPERATOR","->",1881],["T_STRING","getHost",1881],"(",")",")",";",["T_WHITESPACE","\n        ",1881],["T_VARIABLE","$this",1882],["T_OBJECT_OPERATOR","->",1882],["T_STRING","assertEquals",1882],"(",["T_LNUMBER","80",1882],",",["T_WHITESPACE"," ",1882],["T_VARIABLE","$request",1882],["T_OBJECT_OPERATOR","->",1882],["T_STRING","getPort",1882],"(",")",")",";",["T_WHITESPACE","\n\n        ",1882],["T_VARIABLE","$request",1884],["T_OBJECT_OPERATOR","->",1884],["T_STRING","server",1884],["T_OBJECT_OPERATOR","->",1884],["T_STRING","set",1884],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",1884],",",["T_WHITESPACE"," ",1884],["T_STRING","true",1884],")",";",["T_WHITESPACE","\n        ",1884],["T_VARIABLE","$request",1885],["T_OBJECT_OPERATOR","->",1885],["T_STRING","headers",1885],["T_OBJECT_OPERATOR","->",1885],["T_STRING","set",1885],"(",["T_CONSTANT_ENCAPSED_STRING","'host'",1885],",",["T_WHITESPACE"," ",1885],["T_CONSTANT_ENCAPSED_STRING","'trusted.com'",1885],")",";",["T_WHITESPACE","\n        ",1885],["T_VARIABLE","$this",1886],["T_OBJECT_OPERATOR","->",1886],["T_STRING","assertEquals",1886],"(",["T_CONSTANT_ENCAPSED_STRING","'trusted.com'",1886],",",["T_WHITESPACE"," ",1886],["T_VARIABLE","$request",1886],["T_OBJECT_OPERATOR","->",1886],["T_STRING","getHost",1886],"(",")",")",";",["T_WHITESPACE","\n        ",1886],["T_VARIABLE","$this",1887],["T_OBJECT_OPERATOR","->",1887],["T_STRING","assertEquals",1887],"(",["T_LNUMBER","443",1887],",",["T_WHITESPACE"," ",1887],["T_VARIABLE","$request",1887],["T_OBJECT_OPERATOR","->",1887],["T_STRING","getPort",1887],"(",")",")",";",["T_WHITESPACE","\n        ",1887],["T_VARIABLE","$request",1888],["T_OBJECT_OPERATOR","->",1888],["T_STRING","server",1888],["T_OBJECT_OPERATOR","->",1888],["T_STRING","set",1888],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",1888],",",["T_WHITESPACE"," ",1888],["T_STRING","false",1888],")",";",["T_WHITESPACE","\n\n        ",1888],["T_VARIABLE","$request",1890],["T_OBJECT_OPERATOR","->",1890],["T_STRING","headers",1890],["T_OBJECT_OPERATOR","->",1890],["T_STRING","set",1890],"(",["T_CONSTANT_ENCAPSED_STRING","'host'",1890],",",["T_WHITESPACE"," ",1890],["T_CONSTANT_ENCAPSED_STRING","'trusted.com:8000'",1890],")",";",["T_WHITESPACE","\n        ",1890],["T_VARIABLE","$this",1891],["T_OBJECT_OPERATOR","->",1891],["T_STRING","assertEquals",1891],"(",["T_CONSTANT_ENCAPSED_STRING","'trusted.com'",1891],",",["T_WHITESPACE"," ",1891],["T_VARIABLE","$request",1891],["T_OBJECT_OPERATOR","->",1891],["T_STRING","getHost",1891],"(",")",")",";",["T_WHITESPACE","\n        ",1891],["T_VARIABLE","$this",1892],["T_OBJECT_OPERATOR","->",1892],["T_STRING","assertEquals",1892],"(",["T_LNUMBER","8000",1892],",",["T_WHITESPACE"," ",1892],["T_VARIABLE","$request",1892],["T_OBJECT_OPERATOR","->",1892],["T_STRING","getPort",1892],"(",")",")",";",["T_WHITESPACE","\n\n        ",1892],["T_VARIABLE","$request",1894],["T_OBJECT_OPERATOR","->",1894],["T_STRING","headers",1894],["T_OBJECT_OPERATOR","->",1894],["T_STRING","set",1894],"(",["T_CONSTANT_ENCAPSED_STRING","'host'",1894],",",["T_WHITESPACE"," ",1894],["T_CONSTANT_ENCAPSED_STRING","'subdomain.trusted.com'",1894],")",";",["T_WHITESPACE","\n        ",1894],["T_VARIABLE","$this",1895],["T_OBJECT_OPERATOR","->",1895],["T_STRING","assertEquals",1895],"(",["T_CONSTANT_ENCAPSED_STRING","'subdomain.trusted.com'",1895],",",["T_WHITESPACE"," ",1895],["T_VARIABLE","$request",1895],["T_OBJECT_OPERATOR","->",1895],["T_STRING","getHost",1895],"(",")",")",";",["T_WHITESPACE","\n\n        ",1895],["T_COMMENT","\/\/ reset request for following tests\n",1897],["T_WHITESPACE","        ",1898],["T_STRING","Request",1898],["T_DOUBLE_COLON","::",1898],["T_STRING","setTrustedHosts",1898],"(",["T_ARRAY","array",1898],"(",")",")",";",["T_WHITESPACE","\n    ",1898],"}",["T_WHITESPACE","\n\n    ",1899],["T_PUBLIC","public",1901],["T_WHITESPACE"," ",1901],["T_FUNCTION","function",1901],["T_WHITESPACE"," ",1901],["T_STRING","testFactory",1901],"(",")",["T_WHITESPACE","\n    ",1901],"{",["T_WHITESPACE","\n        ",1902],["T_STRING","Request",1903],["T_DOUBLE_COLON","::",1903],["T_STRING","setFactory",1903],"(",["T_FUNCTION","function",1903],["T_WHITESPACE"," ",1903],"(",["T_ARRAY","array",1903],["T_WHITESPACE"," ",1903],["T_VARIABLE","$query",1903],["T_WHITESPACE"," ",1903],"=",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],"(",")",",",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],["T_WHITESPACE"," ",1903],["T_VARIABLE","$request",1903],["T_WHITESPACE"," ",1903],"=",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],"(",")",",",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],["T_WHITESPACE"," ",1903],["T_VARIABLE","$attributes",1903],["T_WHITESPACE"," ",1903],"=",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],"(",")",",",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],["T_WHITESPACE"," ",1903],["T_VARIABLE","$cookies",1903],["T_WHITESPACE"," ",1903],"=",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],"(",")",",",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],["T_WHITESPACE"," ",1903],["T_VARIABLE","$files",1903],["T_WHITESPACE"," ",1903],"=",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],"(",")",",",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],["T_WHITESPACE"," ",1903],["T_VARIABLE","$server",1903],["T_WHITESPACE"," ",1903],"=",["T_WHITESPACE"," ",1903],["T_ARRAY","array",1903],"(",")",",",["T_WHITESPACE"," ",1903],["T_VARIABLE","$content",1903],["T_WHITESPACE"," ",1903],"=",["T_WHITESPACE"," ",1903],["T_STRING","null",1903],")",["T_WHITESPACE"," ",1903],"{",["T_WHITESPACE","\n            ",1903],["T_RETURN","return",1904],["T_WHITESPACE"," ",1904],["T_NEW","new",1904],["T_WHITESPACE"," ",1904],["T_STRING","NewRequest",1904],"(",")",";",["T_WHITESPACE","\n        ",1904],"}",")",";",["T_WHITESPACE","\n\n        ",1905],["T_VARIABLE","$this",1907],["T_OBJECT_OPERATOR","->",1907],["T_STRING","assertEquals",1907],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1907],",",["T_WHITESPACE"," ",1907],["T_STRING","Request",1907],["T_DOUBLE_COLON","::",1907],["T_STRING","create",1907],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1907],")",["T_OBJECT_OPERATOR","->",1907],["T_STRING","getFoo",1907],"(",")",")",";",["T_WHITESPACE","\n\n        ",1907],["T_STRING","Request",1909],["T_DOUBLE_COLON","::",1909],["T_STRING","setFactory",1909],"(",["T_STRING","null",1909],")",";",["T_WHITESPACE","\n    ",1909],"}",["T_WHITESPACE","\n\n    ",1910],["T_DOC_COMMENT","\/**\n     * @dataProvider getLongHostNames\n     *\/",1912],["T_WHITESPACE","\n    ",1914],["T_PUBLIC","public",1915],["T_WHITESPACE"," ",1915],["T_FUNCTION","function",1915],["T_WHITESPACE"," ",1915],["T_STRING","testVeryLongHosts",1915],"(",["T_VARIABLE","$host",1915],")",["T_WHITESPACE","\n    ",1915],"{",["T_WHITESPACE","\n        ",1916],["T_VARIABLE","$start",1917],["T_WHITESPACE"," ",1917],"=",["T_WHITESPACE"," ",1917],["T_STRING","microtime",1917],"(",["T_STRING","true",1917],")",";",["T_WHITESPACE","\n\n        ",1917],["T_VARIABLE","$request",1919],["T_WHITESPACE"," ",1919],"=",["T_WHITESPACE"," ",1919],["T_STRING","Request",1919],["T_DOUBLE_COLON","::",1919],["T_STRING","create",1919],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1919],")",";",["T_WHITESPACE","\n        ",1919],["T_VARIABLE","$request",1920],["T_OBJECT_OPERATOR","->",1920],["T_STRING","headers",1920],["T_OBJECT_OPERATOR","->",1920],["T_STRING","set",1920],"(",["T_CONSTANT_ENCAPSED_STRING","'host'",1920],",",["T_WHITESPACE"," ",1920],["T_VARIABLE","$host",1920],")",";",["T_WHITESPACE","\n        ",1920],["T_VARIABLE","$this",1921],["T_OBJECT_OPERATOR","->",1921],["T_STRING","assertEquals",1921],"(",["T_VARIABLE","$host",1921],",",["T_WHITESPACE"," ",1921],["T_VARIABLE","$request",1921],["T_OBJECT_OPERATOR","->",1921],["T_STRING","getHost",1921],"(",")",")",";",["T_WHITESPACE","\n        ",1921],["T_VARIABLE","$this",1922],["T_OBJECT_OPERATOR","->",1922],["T_STRING","assertLessThan",1922],"(",["T_LNUMBER","5",1922],",",["T_WHITESPACE"," ",1922],["T_STRING","microtime",1922],"(",["T_STRING","true",1922],")",["T_WHITESPACE"," ",1922],"-",["T_WHITESPACE"," ",1922],["T_VARIABLE","$start",1922],")",";",["T_WHITESPACE","\n    ",1922],"}",["T_WHITESPACE","\n\n    ",1923],["T_DOC_COMMENT","\/**\n     * @dataProvider getHostValidities\n     *\/",1925],["T_WHITESPACE","\n    ",1927],["T_PUBLIC","public",1928],["T_WHITESPACE"," ",1928],["T_FUNCTION","function",1928],["T_WHITESPACE"," ",1928],["T_STRING","testHostValidity",1928],"(",["T_VARIABLE","$host",1928],",",["T_WHITESPACE"," ",1928],["T_VARIABLE","$isValid",1928],",",["T_WHITESPACE"," ",1928],["T_VARIABLE","$expectedHost",1928],["T_WHITESPACE"," ",1928],"=",["T_WHITESPACE"," ",1928],["T_STRING","null",1928],",",["T_WHITESPACE"," ",1928],["T_VARIABLE","$expectedPort",1928],["T_WHITESPACE"," ",1928],"=",["T_WHITESPACE"," ",1928],["T_STRING","null",1928],")",["T_WHITESPACE","\n    ",1928],"{",["T_WHITESPACE","\n        ",1929],["T_VARIABLE","$request",1930],["T_WHITESPACE"," ",1930],"=",["T_WHITESPACE"," ",1930],["T_STRING","Request",1930],["T_DOUBLE_COLON","::",1930],["T_STRING","create",1930],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1930],")",";",["T_WHITESPACE","\n        ",1930],["T_VARIABLE","$request",1931],["T_OBJECT_OPERATOR","->",1931],["T_STRING","headers",1931],["T_OBJECT_OPERATOR","->",1931],["T_STRING","set",1931],"(",["T_CONSTANT_ENCAPSED_STRING","'host'",1931],",",["T_WHITESPACE"," ",1931],["T_VARIABLE","$host",1931],")",";",["T_WHITESPACE","\n\n        ",1931],["T_IF","if",1933],["T_WHITESPACE"," ",1933],"(",["T_VARIABLE","$isValid",1933],")",["T_WHITESPACE"," ",1933],"{",["T_WHITESPACE","\n            ",1933],["T_VARIABLE","$this",1934],["T_OBJECT_OPERATOR","->",1934],["T_STRING","assertSame",1934],"(",["T_VARIABLE","$expectedHost",1934],["T_WHITESPACE"," ",1934],"?",":",["T_WHITESPACE"," ",1934],["T_VARIABLE","$host",1934],",",["T_WHITESPACE"," ",1934],["T_VARIABLE","$request",1934],["T_OBJECT_OPERATOR","->",1934],["T_STRING","getHost",1934],"(",")",")",";",["T_WHITESPACE","\n            ",1934],["T_IF","if",1935],["T_WHITESPACE"," ",1935],"(",["T_VARIABLE","$expectedPort",1935],")",["T_WHITESPACE"," ",1935],"{",["T_WHITESPACE","\n                ",1935],["T_VARIABLE","$this",1936],["T_OBJECT_OPERATOR","->",1936],["T_STRING","assertSame",1936],"(",["T_VARIABLE","$expectedPort",1936],",",["T_WHITESPACE"," ",1936],["T_VARIABLE","$request",1936],["T_OBJECT_OPERATOR","->",1936],["T_STRING","getPort",1936],"(",")",")",";",["T_WHITESPACE","\n            ",1936],"}",["T_WHITESPACE","\n        ",1937],"}",["T_WHITESPACE"," ",1938],["T_ELSE","else",1938],["T_WHITESPACE"," ",1938],"{",["T_WHITESPACE","\n            ",1938],["T_VARIABLE","$this",1939],["T_OBJECT_OPERATOR","->",1939],["T_STRING","setExpectedException",1939],"(",["T_STRING","SuspiciousOperationException",1939],["T_DOUBLE_COLON","::",1939],["T_CLASS","class",1939],",",["T_WHITESPACE"," ",1939],["T_CONSTANT_ENCAPSED_STRING","'Invalid Host'",1939],")",";",["T_WHITESPACE","\n            ",1939],["T_VARIABLE","$request",1940],["T_OBJECT_OPERATOR","->",1940],["T_STRING","getHost",1940],"(",")",";",["T_WHITESPACE","\n        ",1940],"}",["T_WHITESPACE","\n    ",1941],"}",["T_WHITESPACE","\n\n    ",1942],["T_PUBLIC","public",1944],["T_WHITESPACE"," ",1944],["T_FUNCTION","function",1944],["T_WHITESPACE"," ",1944],["T_STRING","getHostValidities",1944],"(",")",["T_WHITESPACE","\n    ",1944],"{",["T_WHITESPACE","\n        ",1945],["T_RETURN","return",1946],["T_WHITESPACE"," ",1946],["T_ARRAY","array",1946],"(",["T_WHITESPACE","\n            ",1946],["T_ARRAY","array",1947],"(",["T_CONSTANT_ENCAPSED_STRING","'.a'",1947],",",["T_WHITESPACE"," ",1947],["T_STRING","false",1947],")",",",["T_WHITESPACE","\n            ",1947],["T_ARRAY","array",1948],"(",["T_CONSTANT_ENCAPSED_STRING","'a..'",1948],",",["T_WHITESPACE"," ",1948],["T_STRING","false",1948],")",",",["T_WHITESPACE","\n            ",1948],["T_ARRAY","array",1949],"(",["T_CONSTANT_ENCAPSED_STRING","'a.'",1949],",",["T_WHITESPACE"," ",1949],["T_STRING","true",1949],")",",",["T_WHITESPACE","\n            ",1949],["T_ARRAY","array",1950],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\xE9\"",1950],",",["T_WHITESPACE"," ",1950],["T_STRING","false",1950],")",",",["T_WHITESPACE","\n            ",1950],["T_ARRAY","array",1951],"(",["T_CONSTANT_ENCAPSED_STRING","'[::1]'",1951],",",["T_WHITESPACE"," ",1951],["T_STRING","true",1951],")",",",["T_WHITESPACE","\n            ",1951],["T_ARRAY","array",1952],"(",["T_CONSTANT_ENCAPSED_STRING","'[::1]:80'",1952],",",["T_WHITESPACE"," ",1952],["T_STRING","true",1952],",",["T_WHITESPACE"," ",1952],["T_CONSTANT_ENCAPSED_STRING","'[::1]'",1952],",",["T_WHITESPACE"," ",1952],["T_LNUMBER","80",1952],")",",",["T_WHITESPACE","\n            ",1952],["T_ARRAY","array",1953],"(",["T_STRING","str_repeat",1953],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",1953],",",["T_WHITESPACE"," ",1953],["T_LNUMBER","101",1953],")",",",["T_WHITESPACE"," ",1953],["T_STRING","false",1953],")",",",["T_WHITESPACE","\n        ",1953],")",";",["T_WHITESPACE","\n    ",1954],"}",["T_WHITESPACE","\n\n    ",1955],["T_PUBLIC","public",1957],["T_WHITESPACE"," ",1957],["T_FUNCTION","function",1957],["T_WHITESPACE"," ",1957],["T_STRING","getLongHostNames",1957],"(",")",["T_WHITESPACE","\n    ",1957],"{",["T_WHITESPACE","\n        ",1958],["T_RETURN","return",1959],["T_WHITESPACE"," ",1959],["T_ARRAY","array",1959],"(",["T_WHITESPACE","\n            ",1959],["T_ARRAY","array",1960],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",1960],".",["T_STRING","str_repeat",1960],"(",["T_CONSTANT_ENCAPSED_STRING","'.a'",1960],",",["T_WHITESPACE"," ",1960],["T_LNUMBER","40000",1960],")",")",",",["T_WHITESPACE","\n            ",1960],["T_ARRAY","array",1961],"(",["T_STRING","str_repeat",1961],"(",["T_CONSTANT_ENCAPSED_STRING","':'",1961],",",["T_WHITESPACE"," ",1961],["T_LNUMBER","101",1961],")",")",",",["T_WHITESPACE","\n        ",1961],")",";",["T_WHITESPACE","\n    ",1962],"}",["T_WHITESPACE","\n\n    ",1963],["T_DOC_COMMENT","\/**\n     * @dataProvider methodIdempotentProvider\n     *\/",1965],["T_WHITESPACE","\n    ",1967],["T_PUBLIC","public",1968],["T_WHITESPACE"," ",1968],["T_FUNCTION","function",1968],["T_WHITESPACE"," ",1968],["T_STRING","testMethodIdempotent",1968],"(",["T_VARIABLE","$method",1968],",",["T_WHITESPACE"," ",1968],["T_VARIABLE","$idempotent",1968],")",["T_WHITESPACE","\n    ",1968],"{",["T_WHITESPACE","\n        ",1969],["T_VARIABLE","$request",1970],["T_WHITESPACE"," ",1970],"=",["T_WHITESPACE"," ",1970],["T_NEW","new",1970],["T_WHITESPACE"," ",1970],["T_STRING","Request",1970],"(",")",";",["T_WHITESPACE","\n        ",1970],["T_VARIABLE","$request",1971],["T_OBJECT_OPERATOR","->",1971],["T_STRING","setMethod",1971],"(",["T_VARIABLE","$method",1971],")",";",["T_WHITESPACE","\n        ",1971],["T_VARIABLE","$this",1972],["T_OBJECT_OPERATOR","->",1972],["T_STRING","assertEquals",1972],"(",["T_VARIABLE","$idempotent",1972],",",["T_WHITESPACE"," ",1972],["T_VARIABLE","$request",1972],["T_OBJECT_OPERATOR","->",1972],["T_STRING","isMethodIdempotent",1972],"(",")",")",";",["T_WHITESPACE","\n    ",1972],"}",["T_WHITESPACE","\n\n    ",1973],["T_PUBLIC","public",1975],["T_WHITESPACE"," ",1975],["T_FUNCTION","function",1975],["T_WHITESPACE"," ",1975],["T_STRING","methodIdempotentProvider",1975],"(",")",["T_WHITESPACE","\n    ",1975],"{",["T_WHITESPACE","\n        ",1976],["T_RETURN","return",1977],["T_WHITESPACE"," ",1977],["T_ARRAY","array",1977],"(",["T_WHITESPACE","\n            ",1977],["T_ARRAY","array",1978],"(",["T_CONSTANT_ENCAPSED_STRING","'HEAD'",1978],",",["T_WHITESPACE"," ",1978],["T_STRING","true",1978],")",",",["T_WHITESPACE","\n            ",1978],["T_ARRAY","array",1979],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",1979],",",["T_WHITESPACE"," ",1979],["T_STRING","true",1979],")",",",["T_WHITESPACE","\n            ",1979],["T_ARRAY","array",1980],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",1980],",",["T_WHITESPACE"," ",1980],["T_STRING","false",1980],")",",",["T_WHITESPACE","\n            ",1980],["T_ARRAY","array",1981],"(",["T_CONSTANT_ENCAPSED_STRING","'PUT'",1981],",",["T_WHITESPACE"," ",1981],["T_STRING","true",1981],")",",",["T_WHITESPACE","\n            ",1981],["T_ARRAY","array",1982],"(",["T_CONSTANT_ENCAPSED_STRING","'PATCH'",1982],",",["T_WHITESPACE"," ",1982],["T_STRING","false",1982],")",",",["T_WHITESPACE","\n            ",1982],["T_ARRAY","array",1983],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE'",1983],",",["T_WHITESPACE"," ",1983],["T_STRING","true",1983],")",",",["T_WHITESPACE","\n            ",1983],["T_ARRAY","array",1984],"(",["T_CONSTANT_ENCAPSED_STRING","'PURGE'",1984],",",["T_WHITESPACE"," ",1984],["T_STRING","true",1984],")",",",["T_WHITESPACE","\n            ",1984],["T_ARRAY","array",1985],"(",["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",1985],",",["T_WHITESPACE"," ",1985],["T_STRING","true",1985],")",",",["T_WHITESPACE","\n            ",1985],["T_ARRAY","array",1986],"(",["T_CONSTANT_ENCAPSED_STRING","'TRACE'",1986],",",["T_WHITESPACE"," ",1986],["T_STRING","true",1986],")",",",["T_WHITESPACE","\n            ",1986],["T_ARRAY","array",1987],"(",["T_CONSTANT_ENCAPSED_STRING","'CONNECT'",1987],",",["T_WHITESPACE"," ",1987],["T_STRING","false",1987],")",",",["T_WHITESPACE","\n        ",1987],")",";",["T_WHITESPACE","\n    ",1988],"}",["T_WHITESPACE","\n\n    ",1989],["T_DOC_COMMENT","\/**\n     * @dataProvider methodSafeProvider\n     *\/",1991],["T_WHITESPACE","\n    ",1993],["T_PUBLIC","public",1994],["T_WHITESPACE"," ",1994],["T_FUNCTION","function",1994],["T_WHITESPACE"," ",1994],["T_STRING","testMethodSafe",1994],"(",["T_VARIABLE","$method",1994],",",["T_WHITESPACE"," ",1994],["T_VARIABLE","$safe",1994],")",["T_WHITESPACE","\n    ",1994],"{",["T_WHITESPACE","\n        ",1995],["T_VARIABLE","$request",1996],["T_WHITESPACE"," ",1996],"=",["T_WHITESPACE"," ",1996],["T_NEW","new",1996],["T_WHITESPACE"," ",1996],["T_STRING","Request",1996],"(",")",";",["T_WHITESPACE","\n        ",1996],["T_VARIABLE","$request",1997],["T_OBJECT_OPERATOR","->",1997],["T_STRING","setMethod",1997],"(",["T_VARIABLE","$method",1997],")",";",["T_WHITESPACE","\n        ",1997],["T_VARIABLE","$this",1998],["T_OBJECT_OPERATOR","->",1998],["T_STRING","assertEquals",1998],"(",["T_VARIABLE","$safe",1998],",",["T_WHITESPACE"," ",1998],["T_VARIABLE","$request",1998],["T_OBJECT_OPERATOR","->",1998],["T_STRING","isMethodSafe",1998],"(",["T_STRING","false",1998],")",")",";",["T_WHITESPACE","\n    ",1998],"}",["T_WHITESPACE","\n\n    ",1999],["T_PUBLIC","public",2001],["T_WHITESPACE"," ",2001],["T_FUNCTION","function",2001],["T_WHITESPACE"," ",2001],["T_STRING","methodSafeProvider",2001],"(",")",["T_WHITESPACE","\n    ",2001],"{",["T_WHITESPACE","\n        ",2002],["T_RETURN","return",2003],["T_WHITESPACE"," ",2003],["T_ARRAY","array",2003],"(",["T_WHITESPACE","\n            ",2003],["T_ARRAY","array",2004],"(",["T_CONSTANT_ENCAPSED_STRING","'HEAD'",2004],",",["T_WHITESPACE"," ",2004],["T_STRING","true",2004],")",",",["T_WHITESPACE","\n            ",2004],["T_ARRAY","array",2005],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",2005],",",["T_WHITESPACE"," ",2005],["T_STRING","true",2005],")",",",["T_WHITESPACE","\n            ",2005],["T_ARRAY","array",2006],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",2006],",",["T_WHITESPACE"," ",2006],["T_STRING","false",2006],")",",",["T_WHITESPACE","\n            ",2006],["T_ARRAY","array",2007],"(",["T_CONSTANT_ENCAPSED_STRING","'PUT'",2007],",",["T_WHITESPACE"," ",2007],["T_STRING","false",2007],")",",",["T_WHITESPACE","\n            ",2007],["T_ARRAY","array",2008],"(",["T_CONSTANT_ENCAPSED_STRING","'PATCH'",2008],",",["T_WHITESPACE"," ",2008],["T_STRING","false",2008],")",",",["T_WHITESPACE","\n            ",2008],["T_ARRAY","array",2009],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE'",2009],",",["T_WHITESPACE"," ",2009],["T_STRING","false",2009],")",",",["T_WHITESPACE","\n            ",2009],["T_ARRAY","array",2010],"(",["T_CONSTANT_ENCAPSED_STRING","'PURGE'",2010],",",["T_WHITESPACE"," ",2010],["T_STRING","false",2010],")",",",["T_WHITESPACE","\n            ",2010],["T_ARRAY","array",2011],"(",["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",2011],",",["T_WHITESPACE"," ",2011],["T_STRING","true",2011],")",",",["T_WHITESPACE","\n            ",2011],["T_ARRAY","array",2012],"(",["T_CONSTANT_ENCAPSED_STRING","'TRACE'",2012],",",["T_WHITESPACE"," ",2012],["T_STRING","true",2012],")",",",["T_WHITESPACE","\n            ",2012],["T_ARRAY","array",2013],"(",["T_CONSTANT_ENCAPSED_STRING","'CONNECT'",2013],",",["T_WHITESPACE"," ",2013],["T_STRING","false",2013],")",",",["T_WHITESPACE","\n        ",2013],")",";",["T_WHITESPACE","\n    ",2014],"}",["T_WHITESPACE","\n\n    ",2015],["T_DOC_COMMENT","\/**\n     * @group legacy\n     * @expectedDeprecation Checking only for cacheable HTTP methods with Symfony\\Component\\HttpFoundation\\Request::isMethodSafe() is deprecated since version 3.2 and will throw an exception in 4.0. Disable checking only for cacheable methods by calling the method with `false` as first argument or use the Request::isMethodCacheable() instead.\n     *\/",2017],["T_WHITESPACE","\n    ",2020],["T_PUBLIC","public",2021],["T_WHITESPACE"," ",2021],["T_FUNCTION","function",2021],["T_WHITESPACE"," ",2021],["T_STRING","testMethodSafeChecksCacheable",2021],"(",")",["T_WHITESPACE","\n    ",2021],"{",["T_WHITESPACE","\n        ",2022],["T_VARIABLE","$request",2023],["T_WHITESPACE"," ",2023],"=",["T_WHITESPACE"," ",2023],["T_NEW","new",2023],["T_WHITESPACE"," ",2023],["T_STRING","Request",2023],"(",")",";",["T_WHITESPACE","\n        ",2023],["T_VARIABLE","$request",2024],["T_OBJECT_OPERATOR","->",2024],["T_STRING","setMethod",2024],"(",["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",2024],")",";",["T_WHITESPACE","\n        ",2024],["T_VARIABLE","$this",2025],["T_OBJECT_OPERATOR","->",2025],["T_STRING","assertFalse",2025],"(",["T_VARIABLE","$request",2025],["T_OBJECT_OPERATOR","->",2025],["T_STRING","isMethodSafe",2025],"(",")",")",";",["T_WHITESPACE","\n    ",2025],"}",["T_WHITESPACE","\n\n    ",2026],["T_DOC_COMMENT","\/**\n     * @dataProvider methodCacheableProvider\n     *\/",2028],["T_WHITESPACE","\n    ",2030],["T_PUBLIC","public",2031],["T_WHITESPACE"," ",2031],["T_FUNCTION","function",2031],["T_WHITESPACE"," ",2031],["T_STRING","testMethodCacheable",2031],"(",["T_VARIABLE","$method",2031],",",["T_WHITESPACE"," ",2031],["T_VARIABLE","$chacheable",2031],")",["T_WHITESPACE","\n    ",2031],"{",["T_WHITESPACE","\n        ",2032],["T_VARIABLE","$request",2033],["T_WHITESPACE"," ",2033],"=",["T_WHITESPACE"," ",2033],["T_NEW","new",2033],["T_WHITESPACE"," ",2033],["T_STRING","Request",2033],"(",")",";",["T_WHITESPACE","\n        ",2033],["T_VARIABLE","$request",2034],["T_OBJECT_OPERATOR","->",2034],["T_STRING","setMethod",2034],"(",["T_VARIABLE","$method",2034],")",";",["T_WHITESPACE","\n        ",2034],["T_VARIABLE","$this",2035],["T_OBJECT_OPERATOR","->",2035],["T_STRING","assertEquals",2035],"(",["T_VARIABLE","$chacheable",2035],",",["T_WHITESPACE"," ",2035],["T_VARIABLE","$request",2035],["T_OBJECT_OPERATOR","->",2035],["T_STRING","isMethodCacheable",2035],"(",")",")",";",["T_WHITESPACE","\n    ",2035],"}",["T_WHITESPACE","\n\n    ",2036],["T_PUBLIC","public",2038],["T_WHITESPACE"," ",2038],["T_FUNCTION","function",2038],["T_WHITESPACE"," ",2038],["T_STRING","methodCacheableProvider",2038],"(",")",["T_WHITESPACE","\n    ",2038],"{",["T_WHITESPACE","\n        ",2039],["T_RETURN","return",2040],["T_WHITESPACE"," ",2040],["T_ARRAY","array",2040],"(",["T_WHITESPACE","\n            ",2040],["T_ARRAY","array",2041],"(",["T_CONSTANT_ENCAPSED_STRING","'HEAD'",2041],",",["T_WHITESPACE"," ",2041],["T_STRING","true",2041],")",",",["T_WHITESPACE","\n            ",2041],["T_ARRAY","array",2042],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",2042],",",["T_WHITESPACE"," ",2042],["T_STRING","true",2042],")",",",["T_WHITESPACE","\n            ",2042],["T_ARRAY","array",2043],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",2043],",",["T_WHITESPACE"," ",2043],["T_STRING","false",2043],")",",",["T_WHITESPACE","\n            ",2043],["T_ARRAY","array",2044],"(",["T_CONSTANT_ENCAPSED_STRING","'PUT'",2044],",",["T_WHITESPACE"," ",2044],["T_STRING","false",2044],")",",",["T_WHITESPACE","\n            ",2044],["T_ARRAY","array",2045],"(",["T_CONSTANT_ENCAPSED_STRING","'PATCH'",2045],",",["T_WHITESPACE"," ",2045],["T_STRING","false",2045],")",",",["T_WHITESPACE","\n            ",2045],["T_ARRAY","array",2046],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE'",2046],",",["T_WHITESPACE"," ",2046],["T_STRING","false",2046],")",",",["T_WHITESPACE","\n            ",2046],["T_ARRAY","array",2047],"(",["T_CONSTANT_ENCAPSED_STRING","'PURGE'",2047],",",["T_WHITESPACE"," ",2047],["T_STRING","false",2047],")",",",["T_WHITESPACE","\n            ",2047],["T_ARRAY","array",2048],"(",["T_CONSTANT_ENCAPSED_STRING","'OPTIONS'",2048],",",["T_WHITESPACE"," ",2048],["T_STRING","false",2048],")",",",["T_WHITESPACE","\n            ",2048],["T_ARRAY","array",2049],"(",["T_CONSTANT_ENCAPSED_STRING","'TRACE'",2049],",",["T_WHITESPACE"," ",2049],["T_STRING","false",2049],")",",",["T_WHITESPACE","\n            ",2049],["T_ARRAY","array",2050],"(",["T_CONSTANT_ENCAPSED_STRING","'CONNECT'",2050],",",["T_WHITESPACE"," ",2050],["T_STRING","false",2050],")",",",["T_WHITESPACE","\n        ",2050],")",";",["T_WHITESPACE","\n    ",2051],"}",["T_WHITESPACE","\n",2052],"}",["T_WHITESPACE","\n\n",2053],["T_CLASS","class",2055],["T_WHITESPACE"," ",2055],["T_STRING","RequestContentProxy",2055],["T_WHITESPACE"," ",2055],["T_EXTENDS","extends",2055],["T_WHITESPACE"," ",2055],["T_STRING","Request",2055],["T_WHITESPACE","\n",2055],"{",["T_WHITESPACE","\n    ",2056],["T_PUBLIC","public",2057],["T_WHITESPACE"," ",2057],["T_FUNCTION","function",2057],["T_WHITESPACE"," ",2057],["T_STRING","getContent",2057],"(",["T_VARIABLE","$asResource",2057],["T_WHITESPACE"," ",2057],"=",["T_WHITESPACE"," ",2057],["T_STRING","false",2057],")",["T_WHITESPACE","\n    ",2057],"{",["T_WHITESPACE","\n        ",2058],["T_RETURN","return",2059],["T_WHITESPACE"," ",2059],["T_STRING","http_build_query",2059],"(",["T_ARRAY","array",2059],"(",["T_CONSTANT_ENCAPSED_STRING","'_method'",2059],["T_WHITESPACE"," ",2059],["T_DOUBLE_ARROW","=>",2059],["T_WHITESPACE"," ",2059],["T_CONSTANT_ENCAPSED_STRING","'PUT'",2059],",",["T_WHITESPACE"," ",2059],["T_CONSTANT_ENCAPSED_STRING","'content'",2059],["T_WHITESPACE"," ",2059],["T_DOUBLE_ARROW","=>",2059],["T_WHITESPACE"," ",2059],["T_CONSTANT_ENCAPSED_STRING","'mycontent'",2059],")",")",";",["T_WHITESPACE","\n    ",2059],"}",["T_WHITESPACE","\n",2060],"}",["T_WHITESPACE","\n\n",2061],["T_CLASS","class",2063],["T_WHITESPACE"," ",2063],["T_STRING","NewRequest",2063],["T_WHITESPACE"," ",2063],["T_EXTENDS","extends",2063],["T_WHITESPACE"," ",2063],["T_STRING","Request",2063],["T_WHITESPACE","\n",2063],"{",["T_WHITESPACE","\n    ",2064],["T_PUBLIC","public",2065],["T_WHITESPACE"," ",2065],["T_FUNCTION","function",2065],["T_WHITESPACE"," ",2065],["T_STRING","getFoo",2065],"(",")",["T_WHITESPACE","\n    ",2065],"{",["T_WHITESPACE","\n        ",2066],["T_RETURN","return",2067],["T_WHITESPACE"," ",2067],["T_CONSTANT_ENCAPSED_STRING","'foo'",2067],";",["T_WHITESPACE","\n    ",2067],"}",["T_WHITESPACE","\n",2068],"}",["T_WHITESPACE","\n",2069]]