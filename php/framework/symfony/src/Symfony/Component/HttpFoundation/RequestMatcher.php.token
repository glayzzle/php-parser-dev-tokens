[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * RequestMatcher compares a pre-defined set of checks against a Request instance.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","RequestMatcher",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","RequestMatcherInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var string|null\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$path",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var string|null\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$host",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var string[]\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$methods",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var string[]\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$ips",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$attributes",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var string[]\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$schemes",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @param string|null          $path\n     * @param string|null          $host\n     * @param string|string[]|null $methods\n     * @param string|string[]|null $ips\n     * @param array                $attributes\n     * @param string|string[]|null $schemes\n     *\/",51],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","__construct",59],"(",["T_VARIABLE","$path",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$host",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$methods",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$ips",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$attributes",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",",",["T_WHITESPACE"," ",59],["T_VARIABLE","$schemes",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","matchPath",61],"(",["T_VARIABLE","$path",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","matchHost",62],"(",["T_VARIABLE","$host",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","matchMethod",63],"(",["T_VARIABLE","$methods",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","matchIps",64],"(",["T_VARIABLE","$ips",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","matchScheme",65],"(",["T_VARIABLE","$schemes",65],")",";",["T_WHITESPACE","\n\n        ",65],["T_FOREACH","foreach",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$attributes",67],["T_WHITESPACE"," ",67],["T_AS","as",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$k",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$v",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","matchAttribute",68],"(",["T_VARIABLE","$k",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$v",68],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Adds a check for the HTTP scheme.\n     *\n     * @param string|string[]|null $scheme An HTTP scheme or an array of HTTP schemes\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","matchScheme",77],"(",["T_VARIABLE","$scheme",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","schemes",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","null",79],["T_WHITESPACE"," ",79],["T_IS_NOT_IDENTICAL","!==",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$scheme",79],["T_WHITESPACE"," ",79],"?",["T_WHITESPACE"," ",79],["T_STRING","array_map",79],"(",["T_CONSTANT_ENCAPSED_STRING","'strtolower'",79],",",["T_WHITESPACE"," ",79],["T_ARRAY_CAST","(array)",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$scheme",79],")",["T_WHITESPACE"," ",79],":",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Adds a check for the URL host name.\n     *\n     * @param string|null $regexp A Regexp\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","matchHost",87],"(",["T_VARIABLE","$regexp",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","host",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$regexp",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Adds a check for the URL path info.\n     *\n     * @param string|null $regexp A Regexp\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","matchPath",97],"(",["T_VARIABLE","$regexp",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","path",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$regexp",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Adds a check for the client IP.\n     *\n     * @param string $ip A specific IP address or a range specified using IP\/netmask like 192.168.1.0\/24\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","matchIp",107],"(",["T_VARIABLE","$ip",107],")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","matchIps",109],"(",["T_VARIABLE","$ip",109],")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Adds a check for the client IP.\n     *\n     * @param string|string[]|null $ips A specific IP address or a range specified using IP\/netmask like 192.168.1.0\/24\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","matchIps",117],"(",["T_VARIABLE","$ips",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","ips",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","null",119],["T_WHITESPACE"," ",119],["T_IS_NOT_IDENTICAL","!==",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$ips",119],["T_WHITESPACE"," ",119],"?",["T_WHITESPACE"," ",119],["T_ARRAY_CAST","(array)",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$ips",119],["T_WHITESPACE"," ",119],":",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Adds a check for the HTTP method.\n     *\n     * @param string|string[]|null $method An HTTP method or an array of HTTP methods\n     *\/",122],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","matchMethod",127],"(",["T_VARIABLE","$method",127],")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","methods",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","null",129],["T_WHITESPACE"," ",129],["T_IS_NOT_IDENTICAL","!==",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$method",129],["T_WHITESPACE"," ",129],"?",["T_WHITESPACE"," ",129],["T_STRING","array_map",129],"(",["T_CONSTANT_ENCAPSED_STRING","'strtoupper'",129],",",["T_WHITESPACE"," ",129],["T_ARRAY_CAST","(array)",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$method",129],")",["T_WHITESPACE"," ",129],":",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Adds a check for request attribute.\n     *\n     * @param string $key    The request attribute name\n     * @param string $regexp A Regexp\n     *\/",132],["T_WHITESPACE","\n    ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","matchAttribute",138],"(",["T_VARIABLE","$key",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$regexp",138],")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","attributes",140],"[",["T_VARIABLE","$key",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$regexp",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",143],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","matches",146],"(",["T_STRING","Request",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$request",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","schemes",148],["T_WHITESPACE"," ",148],["T_BOOLEAN_AND","&&",148],["T_WHITESPACE"," ",148],"!",["T_STRING","in_array",148],"(",["T_VARIABLE","$request",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getScheme",148],"(",")",",",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","schemes",148],",",["T_WHITESPACE"," ",148],["T_STRING","true",148],")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_STRING","false",149],";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n\n        ",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","methods",152],["T_WHITESPACE"," ",152],["T_BOOLEAN_AND","&&",152],["T_WHITESPACE"," ",152],"!",["T_STRING","in_array",152],"(",["T_VARIABLE","$request",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getMethod",152],"(",")",",",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","methods",152],",",["T_WHITESPACE"," ",152],["T_STRING","true",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_STRING","false",153],";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n\n        ",154],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","attributes",156],["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$key",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$pattern",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","!",["T_STRING","preg_match",157],"(",["T_CONSTANT_ENCAPSED_STRING","'{'",157],".",["T_VARIABLE","$pattern",157],".",["T_CONSTANT_ENCAPSED_STRING","'}'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$request",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","attributes",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","get",157],"(",["T_VARIABLE","$key",157],")",")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_STRING","false",158],";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n\n        ",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_STRING","null",162],["T_WHITESPACE"," ",162],["T_IS_NOT_IDENTICAL","!==",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","path",162],["T_WHITESPACE"," ",162],["T_BOOLEAN_AND","&&",162],["T_WHITESPACE"," ",162],"!",["T_STRING","preg_match",162],"(",["T_CONSTANT_ENCAPSED_STRING","'{'",162],".",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","path",162],".",["T_CONSTANT_ENCAPSED_STRING","'}'",162],",",["T_WHITESPACE"," ",162],["T_STRING","rawurldecode",162],"(",["T_VARIABLE","$request",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getPathInfo",162],"(",")",")",")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","false",163],";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_STRING","null",166],["T_WHITESPACE"," ",166],["T_IS_NOT_IDENTICAL","!==",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","host",166],["T_WHITESPACE"," ",166],["T_BOOLEAN_AND","&&",166],["T_WHITESPACE"," ",166],"!",["T_STRING","preg_match",166],"(",["T_CONSTANT_ENCAPSED_STRING","'{'",166],".",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","host",166],".",["T_CONSTANT_ENCAPSED_STRING","'}i'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$request",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getHost",166],"(",")",")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_STRING","false",167],";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n\n        ",168],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_STRING","IpUtils",170],["T_DOUBLE_COLON","::",170],["T_STRING","checkIp",170],"(",["T_VARIABLE","$request",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getClientIp",170],"(",")",",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","ips",170],")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_STRING","true",171],";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_COMMENT","\/\/ Note to future implementors: add additional checks above the\n",174],["T_WHITESPACE","        ",175],["T_COMMENT","\/\/ foreach above or else your check might not be run!\n",175],["T_WHITESPACE","        ",176],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_STRING","count",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","ips",176],")",["T_WHITESPACE"," ",176],["T_IS_IDENTICAL","===",176],["T_WHITESPACE"," ",176],["T_LNUMBER","0",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n",177],"}",["T_WHITESPACE","\n",178]]