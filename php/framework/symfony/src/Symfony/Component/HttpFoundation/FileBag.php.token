[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","File",14],["T_NS_SEPARATOR","\\",14],["T_STRING","UploadedFile",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * FileBag is a container for uploaded files.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n * @author Bulat Shakirzyanov <mallluhuct@gmail.com>\n *\/",16],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","FileBag",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","ParameterBag",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$fileKeys",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'name'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'size'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'type'",24],")",";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param array $parameters An array of HTTP files\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","__construct",31],"(",["T_ARRAY","array",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$parameters",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",")",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","replace",33],"(",["T_VARIABLE","$parameters",33],")",";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","replace",39],"(",["T_ARRAY","array",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$files",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","parameters",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","add",42],"(",["T_VARIABLE","$files",42],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","set",48],"(",["T_VARIABLE","$key",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$value",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(","!",["T_STRING","is_array",50],"(",["T_VARIABLE","$value",50],")",["T_WHITESPACE"," ",50],["T_BOOLEAN_AND","&&",50],["T_WHITESPACE"," ",50],"!",["T_VARIABLE","$value",50],["T_WHITESPACE"," ",50],["T_INSTANCEOF","instanceof",50],["T_WHITESPACE"," ",50],["T_STRING","UploadedFile",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_THROW","throw",51],["T_WHITESPACE"," ",51],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","InvalidArgumentException",51],"(",["T_CONSTANT_ENCAPSED_STRING","'An uploaded file must be an array or an instance of UploadedFile.'",51],")",";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n\n        ",52],["T_STRING","parent",54],["T_DOUBLE_COLON","::",54],["T_STRING","set",54],"(",["T_VARIABLE","$key",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","convertFileInformation",54],"(",["T_VARIABLE","$value",54],")",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","add",60],"(",["T_ARRAY","array",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$files",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",")",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_FOREACH","foreach",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$files",62],["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$key",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$file",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","set",63],"(",["T_VARIABLE","$key",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$file",63],")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Converts uploaded files to UploadedFile instances.\n     *\n     * @param array|UploadedFile $file A (multi-dimensional) array of uploaded file information\n     *\n     * @return array A (multi-dimensional) array of UploadedFile instances\n     *\/",67],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","convertFileInformation",74],"(",["T_VARIABLE","$file",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$file",76],["T_WHITESPACE"," ",76],["T_INSTANCEOF","instanceof",76],["T_WHITESPACE"," ",76],["T_STRING","UploadedFile",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$file",77],";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$file",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","fixPhpFilesArray",80],"(",["T_VARIABLE","$file",80],")",";",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_STRING","is_array",81],"(",["T_VARIABLE","$file",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$keys",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","array_keys",82],"(",["T_VARIABLE","$file",82],")",";",["T_WHITESPACE","\n            ",82],["T_STRING","sort",83],"(",["T_VARIABLE","$keys",83],")",";",["T_WHITESPACE","\n\n            ",83],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$keys",85],["T_WHITESPACE"," ",85],["T_IS_EQUAL","==",85],["T_WHITESPACE"," ",85],["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_VARIABLE","$fileKeys",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","UPLOAD_ERR_NO_FILE",86],["T_WHITESPACE"," ",86],["T_IS_EQUAL","==",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$file",86],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",86],"]",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                    ",86],["T_VARIABLE","$file",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","null",87],";",["T_WHITESPACE","\n                ",87],"}",["T_WHITESPACE"," ",88],["T_ELSE","else",88],["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n                    ",88],["T_VARIABLE","$file",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_STRING","UploadedFile",89],"(",["T_VARIABLE","$file",89],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",89],"]",",",["T_WHITESPACE"," ",89],["T_VARIABLE","$file",89],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",89],"]",",",["T_WHITESPACE"," ",89],["T_VARIABLE","$file",89],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",89],"]",",",["T_WHITESPACE"," ",89],["T_VARIABLE","$file",89],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",89],"]",",",["T_WHITESPACE"," ",89],["T_VARIABLE","$file",89],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",89],"]",")",";",["T_WHITESPACE","\n                ",89],"}",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE"," ",91],["T_ELSE","else",91],["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$file",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","array_map",92],"(",["T_ARRAY","array",92],"(",["T_VARIABLE","$this",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'convertFileInformation'",92],")",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$file",92],")",";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$file",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Fixes a malformed PHP $_FILES array.\n     *\n     * PHP has a bug that the format of the $_FILES array differs, depending on\n     * whether the uploaded file fields had normal field names or array-like\n     * field names (\"normal\" vs. \"parent[child]\").\n     *\n     * This method fixes the array to look like the \"normal\" $_FILES array.\n     *\n     * It's safe to pass an already converted array, in which case this method\n     * just returns the original array unmodified.\n     *\n     * @param array $data\n     *\n     * @return array\n     *\/",99],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","fixPhpFilesArray",115],"(",["T_VARIABLE","$data",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(","!",["T_STRING","is_array",117],"(",["T_VARIABLE","$data",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$data",118],";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$keys",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","array_keys",121],"(",["T_VARIABLE","$data",121],")",";",["T_WHITESPACE","\n        ",121],["T_STRING","sort",122],"(",["T_VARIABLE","$keys",122],")",";",["T_WHITESPACE","\n\n        ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_STRING","self",124],["T_DOUBLE_COLON","::",124],["T_VARIABLE","$fileKeys",124],["T_WHITESPACE"," ",124],["T_IS_NOT_EQUAL","!=",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$keys",124],["T_WHITESPACE"," ",124],["T_BOOLEAN_OR","||",124],["T_WHITESPACE"," ",124],"!",["T_ISSET","isset",124],"(",["T_VARIABLE","$data",124],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",124],"]",")",["T_WHITESPACE"," ",124],["T_BOOLEAN_OR","||",124],["T_WHITESPACE"," ",124],"!",["T_STRING","is_array",124],"(",["T_VARIABLE","$data",124],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",124],"]",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$data",125],";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$files",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$data",128],";",["T_WHITESPACE","\n        ",128],["T_FOREACH","foreach",129],["T_WHITESPACE"," ",129],"(",["T_STRING","self",129],["T_DOUBLE_COLON","::",129],["T_VARIABLE","$fileKeys",129],["T_WHITESPACE"," ",129],["T_AS","as",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$k",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_UNSET","unset",130],"(",["T_VARIABLE","$files",130],"[",["T_VARIABLE","$k",130],"]",")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_FOREACH","foreach",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$data",133],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",133],"]",["T_WHITESPACE"," ",133],["T_AS","as",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$key",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$name",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$files",134],"[",["T_VARIABLE","$key",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","fixPhpFilesArray",134],"(",["T_ARRAY","array",134],"(",["T_WHITESPACE","\n                ",134],["T_CONSTANT_ENCAPSED_STRING","'error'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$data",135],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",135],"]","[",["T_VARIABLE","$key",135],"]",",",["T_WHITESPACE","\n                ",135],["T_CONSTANT_ENCAPSED_STRING","'name'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$name",136],",",["T_WHITESPACE","\n                ",136],["T_CONSTANT_ENCAPSED_STRING","'type'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",137],"]","[",["T_VARIABLE","$key",137],"]",",",["T_WHITESPACE","\n                ",137],["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$data",138],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",138],"]","[",["T_VARIABLE","$key",138],"]",",",["T_WHITESPACE","\n                ",138],["T_CONSTANT_ENCAPSED_STRING","'size'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$data",139],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",139],"]","[",["T_VARIABLE","$key",139],"]",",",["T_WHITESPACE","\n            ",139],")",")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$files",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n",144],"}",["T_WHITESPACE","\n",145]]