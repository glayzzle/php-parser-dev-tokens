[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","BrowserKit",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DomCrawler",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Crawler",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DomCrawler",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Link",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DomCrawler",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Form",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Process",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PhpProcess",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Client simulates a browser.\n *\n * To make the actual request, you need to implement the doRequest() method.\n *\n * If you want to be able to run requests in their own process (insulated flag),\n * you need to also implement the getScript() method.\n *\n * @author Fabien Potencier <fabien@symfony.com>\n *\/",19],["T_WHITESPACE","\n",28],["T_ABSTRACT","abstract",29],["T_WHITESPACE"," ",29],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","Client",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$history",31],";",["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$cookieJar",32],";",["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$server",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",")",";",["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$internalRequest",34],";",["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$request",35],";",["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$internalResponse",36],";",["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$response",37],";",["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$crawler",38],";",["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$insulated",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","false",39],";",["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$redirect",40],";",["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$followRedirects",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","true",41],";",["T_WHITESPACE","\n\n    ",41],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$maxRedirects",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"-",["T_LNUMBER","1",43],";",["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$redirectCount",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","0",44],";",["T_WHITESPACE","\n    ",44],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$isMainRequest",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","true",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param array     $server    The server parameters (equivalent of $_SERVER)\n     * @param History   $history   A History instance to store the browser history\n     * @param CookieJar $cookieJar A CookieJar instance to store the cookies\n     *\/",47],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","__construct",54],"(",["T_ARRAY","array",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$server",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",")",",",["T_WHITESPACE"," ",54],["T_STRING","History",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$history",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","null",54],",",["T_WHITESPACE"," ",54],["T_STRING","CookieJar",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$cookieJar",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","null",54],")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","setServerParameters",56],"(",["T_VARIABLE","$server",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","history",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$history",57],["T_WHITESPACE"," ",57],"?",":",["T_WHITESPACE"," ",57],["T_NEW","new",57],["T_WHITESPACE"," ",57],["T_STRING","History",57],"(",")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","cookieJar",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$cookieJar",58],["T_WHITESPACE"," ",58],"?",":",["T_WHITESPACE"," ",58],["T_NEW","new",58],["T_WHITESPACE"," ",58],["T_STRING","CookieJar",58],"(",")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Sets whether to automatically follow redirects or not.\n     *\n     * @param bool $followRedirect Whether to follow redirects\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","followRedirects",66],"(",["T_VARIABLE","$followRedirect",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","true",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","followRedirects",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_BOOL_CAST","(bool)",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$followRedirect",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Returns whether client automatically follows redirects or not.\n     *\n     * @return bool\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","isFollowingRedirects",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","followRedirects",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Sets the maximum number of requests that crawler can follow.\n     *\n     * @param int $maxRedirects\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","setMaxRedirects",86],"(",["T_VARIABLE","$maxRedirects",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","maxRedirects",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$maxRedirects",88],["T_WHITESPACE"," ",88],"<",["T_WHITESPACE"," ",88],["T_LNUMBER","0",88],["T_WHITESPACE"," ",88],"?",["T_WHITESPACE"," ",88],"-",["T_LNUMBER","1",88],["T_WHITESPACE"," ",88],":",["T_WHITESPACE"," ",88],["T_VARIABLE","$maxRedirects",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","followRedirects",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"-",["T_LNUMBER","1",89],["T_WHITESPACE"," ",89],["T_IS_NOT_EQUAL","!=",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","maxRedirects",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Returns the maximum number of requests that crawler can follow.\n     *\n     * @return int\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getMaxRedirects",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","maxRedirects",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Sets the insulated flag.\n     *\n     * @param bool $insulated Whether to insulate the requests or not\n     *\n     * @throws \\RuntimeException When Symfony Process Component is not installed\n     *\/",102],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","insulate",109],"(",["T_VARIABLE","$insulated",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","true",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$insulated",111],["T_WHITESPACE"," ",111],["T_BOOLEAN_AND","&&",111],["T_WHITESPACE"," ",111],"!",["T_STRING","class_exists",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\\\Component\\\\Process\\\\Process'",111],")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_THROW","throw",112],["T_WHITESPACE"," ",112],["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_NS_SEPARATOR","\\",112],["T_STRING","RuntimeException",112],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to isolate requests as the Symfony Process Component is not installed.'",112],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","insulated",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_BOOL_CAST","(bool)",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$insulated",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Sets server parameters.\n     *\n     * @param array $server An array of server parameters\n     *\/",118],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","setServerParameters",123],"(",["T_ARRAY","array",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$server",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","server",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","array_merge",125],"(",["T_ARRAY","array",125],"(",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'Symfony BrowserKit'",126],",",["T_WHITESPACE","\n        ",126],")",",",["T_WHITESPACE"," ",127],["T_VARIABLE","$server",127],")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Sets single server parameter.\n     *\n     * @param string $key   A key of the parameter\n     * @param string $value A value of the parameter\n     *\/",130],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","setServerParameter",136],"(",["T_VARIABLE","$key",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$value",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","server",138],"[",["T_VARIABLE","$key",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$value",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Gets single server parameter for specified key.\n     *\n     * @param string $key     A key of the parameter to get\n     * @param string $default A default value when key is undefined\n     *\n     * @return string A value of the parameter\n     *\/",141],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","getServerParameter",149],"(",["T_VARIABLE","$key",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$default",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","''",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_ISSET","isset",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","server",151],"[",["T_VARIABLE","$key",151],"]",")",["T_WHITESPACE"," ",151],"?",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","server",151],"[",["T_VARIABLE","$key",151],"]",["T_WHITESPACE"," ",151],":",["T_WHITESPACE"," ",151],["T_VARIABLE","$default",151],";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Returns the History instance.\n     *\n     * @return History A History instance\n     *\/",154],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","getHistory",159],"(",")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","history",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Returns the CookieJar instance.\n     *\n     * @return CookieJar A CookieJar instance\n     *\/",164],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","getCookieJar",169],"(",")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","cookieJar",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Returns the current Crawler instance.\n     *\n     * @return Crawler|null A Crawler instance\n     *\/",174],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","getCrawler",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","crawler",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Returns the current BrowserKit Response instance.\n     *\n     * @return Response|null A BrowserKit Response instance\n     *\/",184],["T_WHITESPACE","\n    ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","getInternalResponse",189],"(",")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","internalResponse",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Returns the current origin response instance.\n     *\n     * The origin response is the response instance that is returned\n     * by the code that handles requests.\n     *\n     * @return object|null A response instance\n     *\n     * @see doRequest()\n     *\/",194],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","getResponse",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","response",206],";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Returns the current BrowserKit Request instance.\n     *\n     * @return Request|null A BrowserKit Request instance\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","getInternalRequest",214],"(",")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","internalRequest",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Returns the current origin Request instance.\n     *\n     * The origin request is the request instance that is sent\n     * to the code that handles requests.\n     *\n     * @return object|null A Request instance\n     *\n     * @see doRequest()\n     *\/",219],["T_WHITESPACE","\n    ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","getRequest",229],"(",")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","request",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Clicks on a given link.\n     *\n     * @param Link $link A Link instance\n     *\n     * @return Crawler\n     *\/",234],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","click",241],"(",["T_STRING","Link",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$link",241],")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$link",243],["T_WHITESPACE"," ",243],["T_INSTANCEOF","instanceof",243],["T_WHITESPACE"," ",243],["T_STRING","Form",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","submit",244],"(",["T_VARIABLE","$link",244],")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n\n        ",245],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","request",247],"(",["T_VARIABLE","$link",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getMethod",247],"(",")",",",["T_WHITESPACE"," ",247],["T_VARIABLE","$link",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getUri",247],"(",")",")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Submits a form.\n     *\n     * @param Form  $form   A Form instance\n     * @param array $values An array of form field values\n     *\n     * @return Crawler\n     *\/",250],["T_WHITESPACE","\n    ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","submit",258],"(",["T_STRING","Form",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$form",258],",",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$values",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",")",")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$form",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","setValues",260],"(",["T_VARIABLE","$values",260],")",";",["T_WHITESPACE","\n\n        ",260],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","request",262],"(",["T_VARIABLE","$form",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getMethod",262],"(",")",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$form",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getUri",262],"(",")",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$form",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getPhpValues",262],"(",")",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$form",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getPhpFiles",262],"(",")",")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Calls a URI.\n     *\n     * @param string $method        The request method\n     * @param string $uri           The URI to fetch\n     * @param array  $parameters    The Request parameters\n     * @param array  $files         The files\n     * @param array  $server        The server parameters (HTTP headers are referenced with a HTTP_ prefix as PHP does)\n     * @param string $content       The raw body data\n     * @param bool   $changeHistory Whether to update the history or not (only used internally for back(), forward(), and reload())\n     *\n     * @return Crawler\n     *\/",265],["T_WHITESPACE","\n    ",277],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","request",278],"(",["T_VARIABLE","$method",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$uri",278],",",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$parameters",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",")",",",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$files",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",")",",",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$server",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",")",",",["T_WHITESPACE"," ",278],["T_VARIABLE","$content",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","null",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$changeHistory",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","true",278],")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","isMainRequest",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","redirectCount",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_LNUMBER","0",281],";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE"," ",282],["T_ELSE","else",282],["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_INC","++",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","redirectCount",283],";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n\n        ",284],["T_VARIABLE","$uri",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getAbsoluteUri",286],"(",["T_VARIABLE","$uri",286],")",";",["T_WHITESPACE","\n\n        ",286],["T_VARIABLE","$server",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","array_merge",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","server",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$server",288],")",";",["T_WHITESPACE","\n\n        ",288],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_ISSET","isset",290],"(",["T_VARIABLE","$server",290],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",290],"]",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$uri",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","preg_replace",291],"(",["T_CONSTANT_ENCAPSED_STRING","'{^'",291],".",["T_STRING","parse_url",291],"(",["T_VARIABLE","$uri",291],",",["T_WHITESPACE"," ",291],["T_STRING","PHP_URL_SCHEME",291],")",".",["T_CONSTANT_ENCAPSED_STRING","'}'",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$server",291],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",291],"]",["T_WHITESPACE"," ",291],"?",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'https'",291],["T_WHITESPACE"," ",291],":",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'http'",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$uri",291],")",";",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n\n        ",292],["T_IF","if",294],["T_WHITESPACE"," ",294],"(","!",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","history",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","isEmpty",294],"(",")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$server",295],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_REFERER'",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","history",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","current",295],"(",")",["T_OBJECT_OPERATOR","->",295],["T_STRING","getUri",295],"(",")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_EMPTY","empty",298],"(",["T_VARIABLE","$server",298],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",298],"]",")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$server",299],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",299],"]",["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","extractHost",299],"(",["T_VARIABLE","$uri",299],")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$server",302],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",302],"]",["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'https'",302],["T_WHITESPACE"," ",302],["T_IS_EQUAL","==",302],["T_WHITESPACE"," ",302],["T_STRING","parse_url",302],"(",["T_VARIABLE","$uri",302],",",["T_WHITESPACE"," ",302],["T_STRING","PHP_URL_SCHEME",302],")",";",["T_WHITESPACE","\n\n        ",302],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","internalRequest",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_NEW","new",304],["T_WHITESPACE"," ",304],["T_STRING","Request",304],"(",["T_VARIABLE","$uri",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$method",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$parameters",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$files",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","cookieJar",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","allValues",304],"(",["T_VARIABLE","$uri",304],")",",",["T_WHITESPACE"," ",304],["T_VARIABLE","$server",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$content",304],")",";",["T_WHITESPACE","\n\n        ",304],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","request",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","filterRequest",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","internalRequest",306],")",";",["T_WHITESPACE","\n\n        ",306],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_STRING","true",308],["T_WHITESPACE"," ",308],["T_IS_IDENTICAL","===",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$changeHistory",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","history",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","add",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","internalRequest",309],")",";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n\n        ",310],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","insulated",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","response",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","doRequestInProcess",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","request",313],")",";",["T_WHITESPACE","\n        ",313],"}",["T_WHITESPACE"," ",314],["T_ELSE","else",314],["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","response",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","doRequest",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","request",315],")",";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n\n        ",316],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","internalResponse",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","filterResponse",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","response",318],")",";",["T_WHITESPACE","\n\n        ",318],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","cookieJar",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","updateFromResponse",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","internalResponse",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$uri",320],")",";",["T_WHITESPACE","\n\n        ",320],["T_VARIABLE","$status",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","internalResponse",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getStatus",322],"(",")",";",["T_WHITESPACE","\n\n        ",322],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$status",324],["T_WHITESPACE"," ",324],["T_IS_GREATER_OR_EQUAL",">=",324],["T_WHITESPACE"," ",324],["T_LNUMBER","300",324],["T_WHITESPACE"," ",324],["T_BOOLEAN_AND","&&",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$status",324],["T_WHITESPACE"," ",324],"<",["T_WHITESPACE"," ",324],["T_LNUMBER","400",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","redirect",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","internalResponse",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getHeader",325],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",325],")",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE"," ",326],["T_ELSE","else",326],["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","redirect",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","null",327],";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n\n        ",328],["T_IF","if",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","followRedirects",330],["T_WHITESPACE"," ",330],["T_BOOLEAN_AND","&&",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","redirect",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","crawler",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","followRedirect",331],"(",")",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n\n        ",332],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","crawler",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","createCrawlerFromContent",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","internalRequest",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getUri",334],"(",")",",",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","internalResponse",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getContent",334],"(",")",",",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","internalResponse",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getHeader",334],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",334],")",")",";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * Makes a request in another process.\n     *\n     * @param object $request An origin request instance\n     *\n     * @return object An origin response instance\n     *\n     * @throws \\RuntimeException When processing returns exit code\n     *\/",337],["T_WHITESPACE","\n    ",345],["T_PROTECTED","protected",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","doRequestInProcess",346],"(",["T_VARIABLE","$request",346],")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$process",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_NEW","new",348],["T_WHITESPACE"," ",348],["T_STRING","PhpProcess",348],"(",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getScript",348],"(",["T_VARIABLE","$request",348],")",",",["T_WHITESPACE"," ",348],["T_STRING","null",348],",",["T_WHITESPACE"," ",348],["T_STRING","null",348],")",";",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$process",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","run",349],"(",")",";",["T_WHITESPACE","\n\n        ",349],["T_IF","if",351],["T_WHITESPACE"," ",351],"(","!",["T_VARIABLE","$process",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","isSuccessful",351],"(",")",["T_WHITESPACE"," ",351],["T_BOOLEAN_OR","||",351],["T_WHITESPACE"," ",351],"!",["T_STRING","preg_match",351],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^O\\:\\d+\\:\/'",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$process",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getOutput",351],"(",")",")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_THROW","throw",352],["T_WHITESPACE"," ",352],["T_NEW","new",352],["T_WHITESPACE"," ",352],["T_NS_SEPARATOR","\\",352],["T_STRING","RuntimeException",352],"(",["T_STRING","sprintf",352],"(",["T_CONSTANT_ENCAPSED_STRING","'OUTPUT: %s ERROR OUTPUT: %s'",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$process",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getOutput",352],"(",")",",",["T_WHITESPACE"," ",352],["T_VARIABLE","$process",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getErrorOutput",352],"(",")",")",")",";",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n\n        ",353],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_STRING","unserialize",355],"(",["T_VARIABLE","$process",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getOutput",355],"(",")",")",";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Makes a request.\n     *\n     * @param object $request An origin request instance\n     *\n     * @return object An origin response instance\n     *\/",358],["T_WHITESPACE","\n    ",364],["T_ABSTRACT","abstract",365],["T_WHITESPACE"," ",365],["T_PROTECTED","protected",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","doRequest",365],"(",["T_VARIABLE","$request",365],")",";",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * Returns the script to execute when the request must be insulated.\n     *\n     * @param object $request An origin request instance\n     *\n     * @throws \\LogicException When this abstract class is not implemented\n     *\/",367],["T_WHITESPACE","\n    ",373],["T_PROTECTED","protected",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","getScript",374],"(",["T_VARIABLE","$request",374],")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_THROW","throw",376],["T_WHITESPACE"," ",376],["T_NEW","new",376],["T_WHITESPACE"," ",376],["T_NS_SEPARATOR","\\",376],["T_STRING","LogicException",376],"(",["T_CONSTANT_ENCAPSED_STRING","'To insulate requests, you need to override the getScript() method.'",376],")",";",["T_WHITESPACE","\n    ",376],"}",["T_WHITESPACE","\n\n    ",377],["T_DOC_COMMENT","\/**\n     * Filters the BrowserKit request to the origin one.\n     *\n     * @param Request $request The BrowserKit Request to filter\n     *\n     * @return object An origin request instance\n     *\/",379],["T_WHITESPACE","\n    ",385],["T_PROTECTED","protected",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","filterRequest",386],"(",["T_STRING","Request",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$request",386],")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$request",388],";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_DOC_COMMENT","\/**\n     * Filters the origin response to the BrowserKit one.\n     *\n     * @param object $response The origin response to filter\n     *\n     * @return Response An BrowserKit Response instance\n     *\/",391],["T_WHITESPACE","\n    ",397],["T_PROTECTED","protected",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","filterResponse",398],"(",["T_VARIABLE","$response",398],")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$response",400],";",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_DOC_COMMENT","\/**\n     * Creates a crawler.\n     *\n     * This method returns null if the DomCrawler component is not available.\n     *\n     * @param string $uri     A URI\n     * @param string $content Content for the crawler to use\n     * @param string $type    Content type\n     *\n     * @return Crawler|null\n     *\/",403],["T_WHITESPACE","\n    ",413],["T_PROTECTED","protected",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","createCrawlerFromContent",414],"(",["T_VARIABLE","$uri",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$content",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$type",414],")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(","!",["T_STRING","class_exists",416],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DomCrawler\\Crawler'",416],")",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_RETURN","return",417],";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n\n        ",418],["T_VARIABLE","$crawler",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_NEW","new",420],["T_WHITESPACE"," ",420],["T_STRING","Crawler",420],"(",["T_STRING","null",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$uri",420],")",";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$crawler",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","addContent",421],"(",["T_VARIABLE","$content",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$type",421],")",";",["T_WHITESPACE","\n\n        ",421],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$crawler",423],";",["T_WHITESPACE","\n    ",423],"}",["T_WHITESPACE","\n\n    ",424],["T_DOC_COMMENT","\/**\n     * Goes back in the browser history.\n     *\n     * @return Crawler\n     *\/",426],["T_WHITESPACE","\n    ",430],["T_PUBLIC","public",431],["T_WHITESPACE"," ",431],["T_FUNCTION","function",431],["T_WHITESPACE"," ",431],["T_STRING","back",431],"(",")",["T_WHITESPACE","\n    ",431],"{",["T_WHITESPACE","\n        ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","requestFromRequest",433],"(",["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","history",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","back",433],"(",")",",",["T_WHITESPACE"," ",433],["T_STRING","false",433],")",";",["T_WHITESPACE","\n    ",433],"}",["T_WHITESPACE","\n\n    ",434],["T_DOC_COMMENT","\/**\n     * Goes forward in the browser history.\n     *\n     * @return Crawler\n     *\/",436],["T_WHITESPACE","\n    ",440],["T_PUBLIC","public",441],["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","forward",441],"(",")",["T_WHITESPACE","\n    ",441],"{",["T_WHITESPACE","\n        ",442],["T_RETURN","return",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","requestFromRequest",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","history",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","forward",443],"(",")",",",["T_WHITESPACE"," ",443],["T_STRING","false",443],")",";",["T_WHITESPACE","\n    ",443],"}",["T_WHITESPACE","\n\n    ",444],["T_DOC_COMMENT","\/**\n     * Reloads the current browser.\n     *\n     * @return Crawler\n     *\/",446],["T_WHITESPACE","\n    ",450],["T_PUBLIC","public",451],["T_WHITESPACE"," ",451],["T_FUNCTION","function",451],["T_WHITESPACE"," ",451],["T_STRING","reload",451],"(",")",["T_WHITESPACE","\n    ",451],"{",["T_WHITESPACE","\n        ",452],["T_RETURN","return",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","requestFromRequest",453],"(",["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","history",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","current",453],"(",")",",",["T_WHITESPACE"," ",453],["T_STRING","false",453],")",";",["T_WHITESPACE","\n    ",453],"}",["T_WHITESPACE","\n\n    ",454],["T_DOC_COMMENT","\/**\n     * Follow redirects?\n     *\n     * @return Crawler\n     *\n     * @throws \\LogicException If request was not a redirect\n     *\/",456],["T_WHITESPACE","\n    ",462],["T_PUBLIC","public",463],["T_WHITESPACE"," ",463],["T_FUNCTION","function",463],["T_WHITESPACE"," ",463],["T_STRING","followRedirect",463],"(",")",["T_WHITESPACE","\n    ",463],"{",["T_WHITESPACE","\n        ",464],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_EMPTY","empty",465],"(",["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","redirect",465],")",")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n            ",465],["T_THROW","throw",466],["T_WHITESPACE"," ",466],["T_NEW","new",466],["T_WHITESPACE"," ",466],["T_NS_SEPARATOR","\\",466],["T_STRING","LogicException",466],"(",["T_CONSTANT_ENCAPSED_STRING","'The request was not redirected.'",466],")",";",["T_WHITESPACE","\n        ",466],"}",["T_WHITESPACE","\n\n        ",467],["T_IF","if",469],["T_WHITESPACE"," ",469],"(","-",["T_LNUMBER","1",469],["T_WHITESPACE"," ",469],["T_IS_NOT_IDENTICAL","!==",469],["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","maxRedirects",469],")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n            ",469],["T_IF","if",470],["T_WHITESPACE"," ",470],"(",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","redirectCount",470],["T_WHITESPACE"," ",470],">",["T_WHITESPACE"," ",470],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","maxRedirects",470],")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n                ",470],["T_THROW","throw",471],["T_WHITESPACE"," ",471],["T_NEW","new",471],["T_WHITESPACE"," ",471],["T_NS_SEPARATOR","\\",471],["T_STRING","LogicException",471],"(",["T_STRING","sprintf",471],"(",["T_CONSTANT_ENCAPSED_STRING","'The maximum number (%d) of redirections was reached.'",471],",",["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","maxRedirects",471],")",")",";",["T_WHITESPACE","\n            ",471],"}",["T_WHITESPACE","\n        ",472],"}",["T_WHITESPACE","\n\n        ",473],["T_VARIABLE","$request",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","internalRequest",475],";",["T_WHITESPACE","\n\n        ",475],["T_IF","if",477],["T_WHITESPACE"," ",477],"(",["T_STRING","in_array",477],"(",["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","internalResponse",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","getStatus",477],"(",")",",",["T_WHITESPACE"," ",477],["T_ARRAY","array",477],"(",["T_LNUMBER","302",477],",",["T_WHITESPACE"," ",477],["T_LNUMBER","303",477],")",")",")",["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n            ",477],["T_VARIABLE","$method",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'GET'",478],";",["T_WHITESPACE","\n            ",478],["T_VARIABLE","$files",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_ARRAY","array",479],"(",")",";",["T_WHITESPACE","\n            ",479],["T_VARIABLE","$content",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_STRING","null",480],";",["T_WHITESPACE","\n        ",480],"}",["T_WHITESPACE"," ",481],["T_ELSE","else",481],["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n            ",481],["T_VARIABLE","$method",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$request",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getMethod",482],"(",")",";",["T_WHITESPACE","\n            ",482],["T_VARIABLE","$files",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$request",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getFiles",483],"(",")",";",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$content",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$request",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getContent",484],"(",")",";",["T_WHITESPACE","\n        ",484],"}",["T_WHITESPACE","\n\n        ",485],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",487],["T_WHITESPACE"," ",487],["T_IS_IDENTICAL","===",487],["T_WHITESPACE"," ",487],["T_STRING","strtoupper",487],"(",["T_VARIABLE","$method",487],")",")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_COMMENT","\/\/ Don't forward parameters for GET request as it should reach the redirection URI\n",488],["T_WHITESPACE","            ",489],["T_VARIABLE","$parameters",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_ARRAY","array",489],"(",")",";",["T_WHITESPACE","\n        ",489],"}",["T_WHITESPACE"," ",490],["T_ELSE","else",490],["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n            ",490],["T_VARIABLE","$parameters",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$request",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getParameters",491],"(",")",";",["T_WHITESPACE","\n        ",491],"}",["T_WHITESPACE","\n\n        ",492],["T_VARIABLE","$server",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$request",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getServer",494],"(",")",";",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$server",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","updateServerFromUri",495],"(",["T_VARIABLE","$server",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","redirect",495],")",";",["T_WHITESPACE","\n\n        ",495],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","isMainRequest",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_STRING","false",497],";",["T_WHITESPACE","\n\n        ",497],["T_VARIABLE","$response",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","request",499],"(",["T_VARIABLE","$method",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","redirect",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$parameters",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$files",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$server",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$content",499],")",";",["T_WHITESPACE","\n\n        ",499],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","isMainRequest",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_STRING","true",501],";",["T_WHITESPACE","\n\n        ",501],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$response",503],";",["T_WHITESPACE","\n    ",503],"}",["T_WHITESPACE","\n\n    ",504],["T_DOC_COMMENT","\/**\n     * Restarts the client.\n     *\n     * It flushes history and all cookies.\n     *\/",506],["T_WHITESPACE","\n    ",510],["T_PUBLIC","public",511],["T_WHITESPACE"," ",511],["T_FUNCTION","function",511],["T_WHITESPACE"," ",511],["T_STRING","restart",511],"(",")",["T_WHITESPACE","\n    ",511],"{",["T_WHITESPACE","\n        ",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","cookieJar",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","clear",513],"(",")",";",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","history",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","clear",514],"(",")",";",["T_WHITESPACE","\n    ",514],"}",["T_WHITESPACE","\n\n    ",515],["T_DOC_COMMENT","\/**\n     * Takes a URI and converts it to absolute if it is not already absolute.\n     *\n     * @param string $uri A URI\n     *\n     * @return string An absolute URI\n     *\/",517],["T_WHITESPACE","\n    ",523],["T_PROTECTED","protected",524],["T_WHITESPACE"," ",524],["T_FUNCTION","function",524],["T_WHITESPACE"," ",524],["T_STRING","getAbsoluteUri",524],"(",["T_VARIABLE","$uri",524],")",["T_WHITESPACE","\n    ",524],"{",["T_WHITESPACE","\n        ",525],["T_COMMENT","\/\/ already absolute?\n",526],["T_WHITESPACE","        ",527],["T_IF","if",527],["T_WHITESPACE"," ",527],"(",["T_LNUMBER","0",527],["T_WHITESPACE"," ",527],["T_IS_IDENTICAL","===",527],["T_WHITESPACE"," ",527],["T_STRING","strpos",527],"(",["T_VARIABLE","$uri",527],",",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",527],")",["T_WHITESPACE"," ",527],["T_BOOLEAN_OR","||",527],["T_WHITESPACE"," ",527],["T_LNUMBER","0",527],["T_WHITESPACE"," ",527],["T_IS_IDENTICAL","===",527],["T_WHITESPACE"," ",527],["T_STRING","strpos",527],"(",["T_VARIABLE","$uri",527],",",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",527],")",")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n            ",527],["T_RETURN","return",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$uri",528],";",["T_WHITESPACE","\n        ",528],"}",["T_WHITESPACE","\n\n        ",529],["T_IF","if",531],["T_WHITESPACE"," ",531],"(","!",["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","history",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","isEmpty",531],"(",")",")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n            ",531],["T_VARIABLE","$currentUri",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","history",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","current",532],"(",")",["T_OBJECT_OPERATOR","->",532],["T_STRING","getUri",532],"(",")",";",["T_WHITESPACE","\n        ",532],"}",["T_WHITESPACE"," ",533],["T_ELSE","else",533],["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n            ",533],["T_VARIABLE","$currentUri",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_STRING","sprintf",534],"(",["T_CONSTANT_ENCAPSED_STRING","'http%s:\/\/%s\/'",534],",",["T_WHITESPACE","\n                ",534],["T_ISSET","isset",535],"(",["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","server",535],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",535],"]",")",["T_WHITESPACE"," ",535],"?",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'s'",535],["T_WHITESPACE"," ",535],":",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","''",535],",",["T_WHITESPACE","\n                ",535],["T_ISSET","isset",536],"(",["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","server",536],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",536],"]",")",["T_WHITESPACE"," ",536],"?",["T_WHITESPACE"," ",536],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","server",536],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",536],"]",["T_WHITESPACE"," ",536],":",["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","'localhost'",536],["T_WHITESPACE","\n            ",536],")",";",["T_WHITESPACE","\n        ",537],"}",["T_WHITESPACE","\n\n        ",538],["T_COMMENT","\/\/ protocol relative URL\n",540],["T_WHITESPACE","        ",541],["T_IF","if",541],["T_WHITESPACE"," ",541],"(",["T_LNUMBER","0",541],["T_WHITESPACE"," ",541],["T_IS_IDENTICAL","===",541],["T_WHITESPACE"," ",541],["T_STRING","strpos",541],"(",["T_VARIABLE","$uri",541],",",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'\/\/'",541],")",")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_STRING","parse_url",542],"(",["T_VARIABLE","$currentUri",542],",",["T_WHITESPACE"," ",542],["T_STRING","PHP_URL_SCHEME",542],")",".",["T_CONSTANT_ENCAPSED_STRING","':'",542],".",["T_VARIABLE","$uri",542],";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n\n        ",543],["T_COMMENT","\/\/ anchor or query string parameters?\n",545],["T_WHITESPACE","        ",546],["T_IF","if",546],["T_WHITESPACE"," ",546],"(","!",["T_VARIABLE","$uri",546],["T_WHITESPACE"," ",546],["T_BOOLEAN_OR","||",546],["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","'#'",546],["T_WHITESPACE"," ",546],["T_IS_EQUAL","==",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$uri",546],"[",["T_LNUMBER","0",546],"]",["T_WHITESPACE"," ",546],["T_BOOLEAN_OR","||",546],["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","'?'",546],["T_WHITESPACE"," ",546],["T_IS_EQUAL","==",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$uri",546],"[",["T_LNUMBER","0",546],"]",")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n            ",546],["T_RETURN","return",547],["T_WHITESPACE"," ",547],["T_STRING","preg_replace",547],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[#?].*?$\/'",547],",",["T_WHITESPACE"," ",547],["T_CONSTANT_ENCAPSED_STRING","''",547],",",["T_WHITESPACE"," ",547],["T_VARIABLE","$currentUri",547],")",".",["T_VARIABLE","$uri",547],";",["T_WHITESPACE","\n        ",547],"}",["T_WHITESPACE","\n\n        ",548],["T_IF","if",550],["T_WHITESPACE"," ",550],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",550],["T_WHITESPACE"," ",550],["T_IS_NOT_IDENTICAL","!==",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$uri",550],"[",["T_LNUMBER","0",550],"]",")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n            ",550],["T_VARIABLE","$path",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_STRING","parse_url",551],"(",["T_VARIABLE","$currentUri",551],",",["T_WHITESPACE"," ",551],["T_STRING","PHP_URL_PATH",551],")",";",["T_WHITESPACE","\n\n            ",551],["T_IF","if",553],["T_WHITESPACE"," ",553],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",553],["T_WHITESPACE"," ",553],["T_IS_NOT_IDENTICAL","!==",553],["T_WHITESPACE"," ",553],["T_STRING","substr",553],"(",["T_VARIABLE","$path",553],",",["T_WHITESPACE"," ",553],"-",["T_LNUMBER","1",553],")",")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n                ",553],["T_VARIABLE","$path",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_STRING","substr",554],"(",["T_VARIABLE","$path",554],",",["T_WHITESPACE"," ",554],["T_LNUMBER","0",554],",",["T_WHITESPACE"," ",554],["T_STRING","strrpos",554],"(",["T_VARIABLE","$path",554],",",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'\/'",554],")",["T_WHITESPACE"," ",554],"+",["T_WHITESPACE"," ",554],["T_LNUMBER","1",554],")",";",["T_WHITESPACE","\n            ",554],"}",["T_WHITESPACE","\n\n            ",555],["T_VARIABLE","$uri",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$path",557],".",["T_VARIABLE","$uri",557],";",["T_WHITESPACE","\n        ",557],"}",["T_WHITESPACE","\n\n        ",558],["T_RETURN","return",560],["T_WHITESPACE"," ",560],["T_STRING","preg_replace",560],"(",["T_CONSTANT_ENCAPSED_STRING","'#^(.*?\/\/[^\/]+)\\\/.*$#'",560],",",["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'$1'",560],",",["T_WHITESPACE"," ",560],["T_VARIABLE","$currentUri",560],")",".",["T_VARIABLE","$uri",560],";",["T_WHITESPACE","\n    ",560],"}",["T_WHITESPACE","\n\n    ",561],["T_DOC_COMMENT","\/**\n     * Makes a request from a Request object directly.\n     *\n     * @param Request $request       A Request instance\n     * @param bool    $changeHistory Whether to update the history or not (only used internally for back(), forward(), and reload())\n     *\n     * @return Crawler\n     *\/",563],["T_WHITESPACE","\n    ",570],["T_PROTECTED","protected",571],["T_WHITESPACE"," ",571],["T_FUNCTION","function",571],["T_WHITESPACE"," ",571],["T_STRING","requestFromRequest",571],"(",["T_STRING","Request",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$request",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$changeHistory",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_STRING","true",571],")",["T_WHITESPACE","\n    ",571],"{",["T_WHITESPACE","\n        ",572],["T_RETURN","return",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","request",573],"(",["T_VARIABLE","$request",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","getMethod",573],"(",")",",",["T_WHITESPACE"," ",573],["T_VARIABLE","$request",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","getUri",573],"(",")",",",["T_WHITESPACE"," ",573],["T_VARIABLE","$request",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","getParameters",573],"(",")",",",["T_WHITESPACE"," ",573],["T_VARIABLE","$request",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","getFiles",573],"(",")",",",["T_WHITESPACE"," ",573],["T_VARIABLE","$request",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","getServer",573],"(",")",",",["T_WHITESPACE"," ",573],["T_VARIABLE","$request",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","getContent",573],"(",")",",",["T_WHITESPACE"," ",573],["T_VARIABLE","$changeHistory",573],")",";",["T_WHITESPACE","\n    ",573],"}",["T_WHITESPACE","\n\n    ",574],["T_PRIVATE","private",576],["T_WHITESPACE"," ",576],["T_FUNCTION","function",576],["T_WHITESPACE"," ",576],["T_STRING","updateServerFromUri",576],"(",["T_VARIABLE","$server",576],",",["T_WHITESPACE"," ",576],["T_VARIABLE","$uri",576],")",["T_WHITESPACE","\n    ",576],"{",["T_WHITESPACE","\n        ",577],["T_VARIABLE","$server",578],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",578],"]",["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","extractHost",578],"(",["T_VARIABLE","$uri",578],")",";",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$scheme",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_STRING","parse_url",579],"(",["T_VARIABLE","$uri",579],",",["T_WHITESPACE"," ",579],["T_STRING","PHP_URL_SCHEME",579],")",";",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$server",580],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",580],"]",["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_STRING","null",580],["T_WHITESPACE"," ",580],["T_IS_IDENTICAL","===",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$scheme",580],["T_WHITESPACE"," ",580],"?",["T_WHITESPACE"," ",580],["T_VARIABLE","$server",580],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",580],"]",["T_WHITESPACE"," ",580],":",["T_WHITESPACE"," ",580],["T_CONSTANT_ENCAPSED_STRING","'https'",580],["T_WHITESPACE"," ",580],["T_IS_EQUAL","==",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$scheme",580],";",["T_WHITESPACE","\n        ",580],["T_UNSET","unset",581],"(",["T_VARIABLE","$server",581],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",581],"]",",",["T_WHITESPACE"," ",581],["T_VARIABLE","$server",581],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",581],"]",")",";",["T_WHITESPACE","\n\n        ",581],["T_RETURN","return",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$server",583],";",["T_WHITESPACE","\n    ",583],"}",["T_WHITESPACE","\n\n    ",584],["T_PRIVATE","private",586],["T_WHITESPACE"," ",586],["T_FUNCTION","function",586],["T_WHITESPACE"," ",586],["T_STRING","extractHost",586],"(",["T_VARIABLE","$uri",586],")",["T_WHITESPACE","\n    ",586],"{",["T_WHITESPACE","\n        ",587],["T_VARIABLE","$host",588],["T_WHITESPACE"," ",588],"=",["T_WHITESPACE"," ",588],["T_STRING","parse_url",588],"(",["T_VARIABLE","$uri",588],",",["T_WHITESPACE"," ",588],["T_STRING","PHP_URL_HOST",588],")",";",["T_WHITESPACE","\n\n        ",588],["T_IF","if",590],["T_WHITESPACE"," ",590],"(",["T_VARIABLE","$port",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_STRING","parse_url",590],"(",["T_VARIABLE","$uri",590],",",["T_WHITESPACE"," ",590],["T_STRING","PHP_URL_PORT",590],")",")",["T_WHITESPACE"," ",590],"{",["T_WHITESPACE","\n            ",590],["T_RETURN","return",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$host",591],".",["T_CONSTANT_ENCAPSED_STRING","':'",591],".",["T_VARIABLE","$port",591],";",["T_WHITESPACE","\n        ",591],"}",["T_WHITESPACE","\n\n        ",592],["T_RETURN","return",594],["T_WHITESPACE"," ",594],["T_VARIABLE","$host",594],";",["T_WHITESPACE","\n    ",594],"}",["T_WHITESPACE","\n",595],"}",["T_WHITESPACE","\n",596]]