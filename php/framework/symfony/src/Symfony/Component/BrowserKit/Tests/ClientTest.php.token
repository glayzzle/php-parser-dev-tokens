[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/*\n * This file is part of the Symfony package.\n *\n * (c) Fabien Potencier <fabien@symfony.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\/",3],["T_WHITESPACE","\n\n",10],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","BrowserKit",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","BrowserKit",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Client",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","BrowserKit",15],["T_NS_SEPARATOR","\\",15],["T_STRING","History",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","BrowserKit",16],["T_NS_SEPARATOR","\\",16],["T_STRING","CookieJar",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","BrowserKit",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Response",17],";",["T_WHITESPACE","\n\n",17],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","SpecialResponse",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","Response",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n",20],"}",["T_WHITESPACE","\n\n",21],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","TestClient",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","Client",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$nextResponse",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","null",25],";",["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$nextScript",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","null",26],";",["T_WHITESPACE","\n\n    ",26],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","setNextResponse",28],"(",["T_STRING","Response",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$response",28],")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","nextResponse",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$response",30],";",["T_WHITESPACE","\n    ",30],"}",["T_WHITESPACE","\n\n    ",31],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","setNextScript",33],"(",["T_VARIABLE","$script",33],")",["T_WHITESPACE","\n    ",33],"{",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","nextScript",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$script",35],";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","doRequest",38],"(",["T_VARIABLE","$request",38],")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_STRING","null",40],["T_WHITESPACE"," ",40],["T_IS_IDENTICAL","===",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","nextResponse",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_RETURN","return",41],["T_WHITESPACE"," ",41],["T_NEW","new",41],["T_WHITESPACE"," ",41],["T_STRING","Response",41],"(",")",";",["T_WHITESPACE","\n        ",41],"}",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$response",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","nextResponse",44],";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","nextResponse",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","null",45],";",["T_WHITESPACE","\n\n        ",45],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$response",47],";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","filterResponse",50],"(",["T_VARIABLE","$response",50],")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$response",52],["T_WHITESPACE"," ",52],["T_INSTANCEOF","instanceof",52],["T_WHITESPACE"," ",52],["T_STRING","SpecialResponse",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STRING","Response",53],"(",["T_VARIABLE","$response",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getContent",53],"(",")",",",["T_WHITESPACE"," ",53],["T_VARIABLE","$response",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getStatus",53],"(",")",",",["T_WHITESPACE"," ",53],["T_VARIABLE","$response",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getHeaders",53],"(",")",")",";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n\n        ",54],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$response",56],";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","getScript",59],"(",["T_VARIABLE","$request",59],")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$r",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","ReflectionClass",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\BrowserKit\\Response'",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$path",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$r",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getFileName",62],"(",")",";",["T_WHITESPACE","\n\n        ",62],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_START_HEREDOC","<<<EOF\n",64],["T_ENCAPSED_AND_WHITESPACE","<?php\n\nrequire_once('",65],["T_VARIABLE","$path",67],["T_ENCAPSED_AND_WHITESPACE","');\n\necho serialize(",67],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","nextScript",69],["T_ENCAPSED_AND_WHITESPACE",");\n",69],["T_END_HEREDOC","EOF",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n",71],"}",["T_WHITESPACE","\n\n",72],["T_CLASS","class",74],["T_WHITESPACE"," ",74],["T_STRING","ClientTest",74],["T_WHITESPACE"," ",74],["T_EXTENDS","extends",74],["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","PHPUnit_Framework_TestCase",74],["T_WHITESPACE","\n",74],"{",["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","testGetHistory",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$client",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","TestClient",78],"(",["T_ARRAY","array",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$history",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","History",78],"(",")",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertSame",79],"(",["T_VARIABLE","$history",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$client",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getHistory",79],"(",")",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'->getHistory() returns the History'",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testGetCookieJar",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$client",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","TestClient",84],"(",["T_ARRAY","array",84],"(",")",",",["T_WHITESPACE"," ",84],["T_STRING","null",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$cookieJar",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","CookieJar",84],"(",")",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertSame",85],"(",["T_VARIABLE","$cookieJar",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$client",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getCookieJar",85],"(",")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'->getCookieJar() returns the CookieJar'",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testGetRequest",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$client",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","TestClient",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$client",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","request",91],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",91],")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEquals",93],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$client",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getRequest",93],"(",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getUri",93],"(",")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'->getCrawler() returns the Request of the last request'",93],")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","testGetRequestWithIpAsHttpHost",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$client",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","TestClient",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$client",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","request",99],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/example.com\/foo'",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",99],")",")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEquals",101],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/example.com\/foo'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$client",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getRequest",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","getUri",101],"(",")",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$headers",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$client",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getRequest",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getServer",102],"(",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertEquals",103],"(",["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$headers",103],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",103],"]",")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","testGetResponse",106],"(",")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$client",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_NEW","new",108],["T_WHITESPACE"," ",108],["T_STRING","TestClient",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$client",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","setNextResponse",109],"(",["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","Response",109],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",109],")",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$client",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","request",110],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",110],")",";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEquals",112],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$client",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getResponse",112],"(",")",["T_OBJECT_OPERATOR","->",112],["T_STRING","getContent",112],"(",")",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'->getCrawler() returns the Response of the last request'",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertInstanceOf",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\BrowserKit\\Response'",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$client",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getResponse",113],"(",")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'->getCrawler() returns the Response of the last request'",113],")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","testGetInternalResponse",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$client",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","TestClient",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$client",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setNextResponse",119],"(",["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","SpecialResponse",119],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",119],")",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$client",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","request",120],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertInstanceOf",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\BrowserKit\\Response'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$client",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getInternalResponse",122],"(",")",")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertNotInstanceOf",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\BrowserKit\\Tests\\SpecialResponse'",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$client",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getInternalResponse",123],"(",")",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertInstanceOf",124],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\BrowserKit\\Tests\\SpecialResponse'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$client",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getResponse",124],"(",")",")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","testGetContent",127],"(",")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$json",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'{\"jsonrpc\":\"2.0\",\"method\":\"echo\",\"id\":7,\"params\":[\"Hello World\"]}'",129],";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$client",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_STRING","TestClient",131],"(",")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$client",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","request",132],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/jsonrpc'",132],",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",",",["T_WHITESPACE"," ",132],["T_VARIABLE","$json",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertEquals",133],"(",["T_VARIABLE","$json",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$client",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getRequest",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getContent",133],"(",")",")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","testGetCrawler",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$client",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_STRING","TestClient",138],"(",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$client",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setNextResponse",139],"(",["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","Response",139],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",139],")",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$crawler",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$client",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","request",140],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",140],")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertSame",142],"(",["T_VARIABLE","$crawler",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$client",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getCrawler",142],"(",")",",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'->getCrawler() returns the Crawler of the last request'",142],")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","testRequestHttpHeaders",145],"(",")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$client",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_NEW","new",147],["T_WHITESPACE"," ",147],["T_STRING","TestClient",147],"(",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$client",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","request",148],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'\/'",148],")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$headers",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$client",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getRequest",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getServer",149],"(",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEquals",150],"(",["T_CONSTANT_ENCAPSED_STRING","'localhost'",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$headers",150],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",150],"]",",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'->request() sets the HTTP_HOST header'",150],")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$client",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","TestClient",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$client",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","request",153],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com'",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$headers",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$client",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getRequest",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","getServer",154],"(",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertEquals",155],"(",["T_CONSTANT_ENCAPSED_STRING","'www.example.com'",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$headers",155],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",155],"]",",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'->request() sets the HTTP_HOST header'",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$client",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","request",157],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.example.com'",157],")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$headers",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$client",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getRequest",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getServer",158],"(",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertTrue",159],"(",["T_VARIABLE","$headers",159],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",159],"]",",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'->request() sets the HTTPS header'",159],")",";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$client",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_NEW","new",161],["T_WHITESPACE"," ",161],["T_STRING","TestClient",161],"(",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$client",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","request",162],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com:8080'",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$headers",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$client",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getRequest",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getServer",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertEquals",164],"(",["T_CONSTANT_ENCAPSED_STRING","'www.example.com:8080'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$headers",164],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",164],"]",",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'->request() sets the HTTP_HOST header with port'",164],")",";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","testRequestURIConversion",167],"(",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$client",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","TestClient",169],"(",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$client",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","request",170],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'\/foo'",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertEquals",171],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/foo'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$client",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getRequest",171],"(",")",["T_OBJECT_OPERATOR","->",171],["T_STRING","getUri",171],"(",")",",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'->request() converts the URI to an absolute one'",171],")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$client",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","TestClient",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$client",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","request",174],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com'",174],")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertEquals",175],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com'",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$client",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getRequest",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getUri",175],"(",")",",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'->request() does not change absolute URIs'",175],")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$client",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_STRING","TestClient",177],"(",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$client",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","request",178],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/'",178],")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$client",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","request",179],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'\/foo'",179],")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertEquals",180],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$client",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getRequest",180],"(",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","getUri",180],"(",")",",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for relative URLs'",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$client",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_NEW","new",182],["T_WHITESPACE"," ",182],["T_STRING","TestClient",182],"(",")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$client",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","request",183],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$client",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","request",184],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'#'",184],")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertEquals",185],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo#'",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$client",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getRequest",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","getUri",185],"(",")",",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for #'",185],")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$client",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","request",186],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'#'",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertEquals",187],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo#'",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$client",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getRequest",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","getUri",187],"(",")",",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for #'",187],")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$client",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","request",188],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'#foo'",188],")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertEquals",189],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo#foo'",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$client",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getRequest",189],"(",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","getUri",189],"(",")",",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for #'",189],")",";",["T_WHITESPACE","\n\n        ",189],["T_VARIABLE","$client",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_NEW","new",191],["T_WHITESPACE"," ",191],["T_STRING","TestClient",191],"(",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$client",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","request",192],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/'",192],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$client",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","request",193],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'bar'",193],")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertEquals",194],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/bar'",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$client",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getRequest",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","getUri",194],"(",")",",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for relative URLs'",194],")",";",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$client",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_NEW","new",196],["T_WHITESPACE"," ",196],["T_STRING","TestClient",196],"(",")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$client",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","request",197],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$client",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","request",198],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'bar'",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertEquals",199],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/bar'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$client",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getRequest",199],"(",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","getUri",199],"(",")",",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for relative URLs'",199],")",";",["T_WHITESPACE","\n\n        ",199],["T_VARIABLE","$client",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_NEW","new",201],["T_WHITESPACE"," ",201],["T_STRING","TestClient",201],"(",")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$client",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","request",202],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/'",202],")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$client",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","request",203],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'http'",203],")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertEquals",204],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/http'",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$client",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getRequest",204],"(",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","getUri",204],"(",")",",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for relative URLs'",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$client",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_NEW","new",206],["T_WHITESPACE"," ",206],["T_STRING","TestClient",206],"(",")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$client",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","request",207],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$client",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","request",208],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'http\/bar'",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertEquals",209],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/http\/bar'",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$client",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getRequest",209],"(",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","getUri",209],"(",")",",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for relative URLs'",209],")",";",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$client",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_STRING","TestClient",211],"(",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$client",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","request",212],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",212],",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/'",212],")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$client",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","request",213],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'http'",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEquals",214],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/http'",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$client",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getRequest",214],"(",")",["T_OBJECT_OPERATOR","->",214],["T_STRING","getUri",214],"(",")",",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for relative URLs'",214],")",";",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$client",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_STRING","TestClient",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$client",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","request",217],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",217],")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$client",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","request",218],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'?'",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertEquals",219],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo?'",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$client",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getRequest",219],"(",")",["T_OBJECT_OPERATOR","->",219],["T_STRING","getUri",219],"(",")",",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for ?'",219],")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$client",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","request",220],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'?'",220],")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertEquals",221],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo?'",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$client",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getRequest",221],"(",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","getUri",221],"(",")",",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for ?'",221],")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$client",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","request",222],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'?foo=bar'",222],")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertEquals",223],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo?foo=bar'",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$client",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getRequest",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","getUri",223],"(",")",",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'->request() uses the previous request for ?'",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","testRequestReferer",226],"(",")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$client",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","TestClient",228],"(",")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$client",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","request",229],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",229],")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$client",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","request",230],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'bar'",230],")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$server",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$client",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getRequest",231],"(",")",["T_OBJECT_OPERATOR","->",231],["T_STRING","getServer",231],"(",")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertEquals",232],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$server",232],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_REFERER'",232],"]",",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'->request() sets the referer'",232],")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","testRequestHistory",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$client",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_NEW","new",237],["T_WHITESPACE"," ",237],["T_STRING","TestClient",237],"(",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$client",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","request",238],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",238],",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",238],")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$client",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","request",239],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'bar'",239],")",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertEquals",241],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/bar'",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$client",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getHistory",241],"(",")",["T_OBJECT_OPERATOR","->",241],["T_STRING","current",241],"(",")",["T_OBJECT_OPERATOR","->",241],["T_STRING","getUri",241],"(",")",",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'->request() updates the History'",241],")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertEquals",242],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$client",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getHistory",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","back",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","getUri",242],"(",")",",",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'->request() updates the History'",242],")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","testRequestCookies",245],"(",")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$client",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_NEW","new",247],["T_WHITESPACE"," ",247],["T_STRING","TestClient",247],"(",")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$client",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","setNextResponse",248],"(",["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","Response",248],"(",["T_CONSTANT_ENCAPSED_STRING","'<html><a href=\"\/foo\">foo<\/a><\/html>'",248],",",["T_WHITESPACE"," ",248],["T_LNUMBER","200",248],",",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'foo=bar'",248],")",")",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$client",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","request",249],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",249],")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","assertEquals",250],"(",["T_ARRAY","array",250],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'bar'",250],")",",",["T_WHITESPACE"," ",250],["T_VARIABLE","$client",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getCookieJar",250],"(",")",["T_OBJECT_OPERATOR","->",250],["T_STRING","allValues",250],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",250],")",",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'->request() updates the CookieJar'",250],")",";",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$client",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","request",252],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'bar'",252],")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertEquals",253],"(",["T_ARRAY","array",253],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'bar'",253],")",",",["T_WHITESPACE"," ",253],["T_VARIABLE","$client",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getCookieJar",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","allValues",253],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",253],")",",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'->request() updates the CookieJar'",253],")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","testRequestSecureCookies",256],"(",")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$client",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_NEW","new",258],["T_WHITESPACE"," ",258],["T_STRING","TestClient",258],"(",")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$client",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","setNextResponse",259],"(",["T_NEW","new",259],["T_WHITESPACE"," ",259],["T_STRING","Response",259],"(",["T_CONSTANT_ENCAPSED_STRING","'<html><a href=\"\/foo\">foo<\/a><\/html>'",259],",",["T_WHITESPACE"," ",259],["T_LNUMBER","200",259],",",["T_WHITESPACE"," ",259],["T_ARRAY","array",259],"(",["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'foo=bar; path=\/; secure'",259],")",")",")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$client",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","request",260],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.example.com\/foo\/foobar'",260],")",";",["T_WHITESPACE","\n\n        ",260],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","assertTrue",262],"(",["T_VARIABLE","$client",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getCookieJar",262],"(",")",["T_OBJECT_OPERATOR","->",262],["T_STRING","get",262],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'\/'",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'www.example.com'",262],")",["T_OBJECT_OPERATOR","->",262],["T_STRING","isSecure",262],"(",")",")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_PUBLIC","public",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","testClick",265],"(",")",["T_WHITESPACE","\n    ",265],"{",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$client",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_NEW","new",267],["T_WHITESPACE"," ",267],["T_STRING","TestClient",267],"(",")",";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$client",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","setNextResponse",268],"(",["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_STRING","Response",268],"(",["T_CONSTANT_ENCAPSED_STRING","'<html><a href=\"\/foo\">foo<\/a><\/html>'",268],")",")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$crawler",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$client",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","request",269],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",269],")",";",["T_WHITESPACE","\n\n        ",269],["T_VARIABLE","$client",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","click",271],"(",["T_VARIABLE","$crawler",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","filter",271],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",271],")",["T_OBJECT_OPERATOR","->",271],["T_STRING","link",271],"(",")",")",";",["T_WHITESPACE","\n\n        ",271],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","assertEquals",273],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$client",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getRequest",273],"(",")",["T_OBJECT_OPERATOR","->",273],["T_STRING","getUri",273],"(",")",",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'->click() clicks on links'",273],")",";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","testClickForm",276],"(",")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$client",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_NEW","new",278],["T_WHITESPACE"," ",278],["T_STRING","TestClient",278],"(",")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$client",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","setNextResponse",279],"(",["T_NEW","new",279],["T_WHITESPACE"," ",279],["T_STRING","Response",279],"(",["T_CONSTANT_ENCAPSED_STRING","'<html><form action=\"\/foo\"><input type=\"submit\" \/><\/form><\/html>'",279],")",")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$crawler",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$client",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","request",280],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",280],")",";",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$client",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","click",282],"(",["T_VARIABLE","$crawler",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","filter",282],"(",["T_CONSTANT_ENCAPSED_STRING","'input'",282],")",["T_OBJECT_OPERATOR","->",282],["T_STRING","form",282],"(",")",")",";",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","assertEquals",284],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$client",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getRequest",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","getUri",284],"(",")",",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'->click() Form submit forms'",284],")",";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n\n    ",285],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","testSubmit",287],"(",")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$client",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_NEW","new",289],["T_WHITESPACE"," ",289],["T_STRING","TestClient",289],"(",")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$client",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","setNextResponse",290],"(",["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","Response",290],"(",["T_CONSTANT_ENCAPSED_STRING","'<html><form action=\"\/foo\"><input type=\"submit\" \/><\/form><\/html>'",290],")",")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$crawler",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$client",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","request",291],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",291],")",";",["T_WHITESPACE","\n\n        ",291],["T_VARIABLE","$client",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","submit",293],"(",["T_VARIABLE","$crawler",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","filter",293],"(",["T_CONSTANT_ENCAPSED_STRING","'input'",293],")",["T_OBJECT_OPERATOR","->",293],["T_STRING","form",293],"(",")",")",";",["T_WHITESPACE","\n\n        ",293],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","assertEquals",295],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$client",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getRequest",295],"(",")",["T_OBJECT_OPERATOR","->",295],["T_STRING","getUri",295],"(",")",",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'->submit() submit forms'",295],")",";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","testSubmitPreserveAuth",298],"(",")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$client",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_NEW","new",300],["T_WHITESPACE"," ",300],["T_STRING","TestClient",300],"(",["T_ARRAY","array",300],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'foo'",300],",",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'bar'",300],")",")",";",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$client",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","setNextResponse",301],"(",["T_NEW","new",301],["T_WHITESPACE"," ",301],["T_STRING","Response",301],"(",["T_CONSTANT_ENCAPSED_STRING","'<html><form action=\"\/foo\"><input type=\"submit\" \/><\/form><\/html>'",301],")",")",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$crawler",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$client",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","request",302],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",302],",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",302],")",";",["T_WHITESPACE","\n\n        ",302],["T_VARIABLE","$server",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$client",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getRequest",304],"(",")",["T_OBJECT_OPERATOR","->",304],["T_STRING","getServer",304],"(",")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertArrayHasKey",305],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$server",305],")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","assertEquals",306],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$server",306],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",306],"]",")",";",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","assertArrayHasKey",307],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$server",307],")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertEquals",308],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$server",308],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",308],"]",")",";",["T_WHITESPACE","\n\n        ",308],["T_VARIABLE","$client",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","submit",310],"(",["T_VARIABLE","$crawler",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","filter",310],"(",["T_CONSTANT_ENCAPSED_STRING","'input'",310],")",["T_OBJECT_OPERATOR","->",310],["T_STRING","form",310],"(",")",")",";",["T_WHITESPACE","\n\n        ",310],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","assertEquals",312],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$client",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getRequest",312],"(",")",["T_OBJECT_OPERATOR","->",312],["T_STRING","getUri",312],"(",")",",",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'->submit() submit forms'",312],")",";",["T_WHITESPACE","\n\n        ",312],["T_VARIABLE","$server",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$client",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getRequest",314],"(",")",["T_OBJECT_OPERATOR","->",314],["T_STRING","getServer",314],"(",")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","assertArrayHasKey",315],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$server",315],")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertEquals",316],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$server",316],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_USER'",316],"]",")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","assertArrayHasKey",317],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$server",317],")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","assertEquals",318],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$server",318],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_AUTH_PW'",318],"]",")",";",["T_WHITESPACE","\n    ",318],"}",["T_WHITESPACE","\n\n    ",319],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","testFollowRedirect",321],"(",")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$client",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_NEW","new",323],["T_WHITESPACE"," ",323],["T_STRING","TestClient",323],"(",")",";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$client",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","followRedirects",324],"(",["T_STRING","false",324],")",";",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$client",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","request",325],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",325],",",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",325],")",";",["T_WHITESPACE","\n\n        ",325],["T_TRY","try",327],["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$client",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","followRedirect",328],"(",")",";",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","fail",329],"(",["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() throws a \\LogicException if the request was not redirected'",329],")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE"," ",330],["T_CATCH","catch",330],["T_WHITESPACE"," ",330],"(",["T_NS_SEPARATOR","\\",330],["T_STRING","Exception",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$e",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","assertInstanceOf",331],"(",["T_CONSTANT_ENCAPSED_STRING","'LogicException'",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$e",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() throws a \\LogicException if the request was not redirected'",331],")",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n\n        ",332],["T_VARIABLE","$client",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","setNextResponse",334],"(",["T_NEW","new",334],["T_WHITESPACE"," ",334],["T_STRING","Response",334],"(",["T_CONSTANT_ENCAPSED_STRING","''",334],",",["T_WHITESPACE"," ",334],["T_LNUMBER","302",334],",",["T_WHITESPACE"," ",334],["T_ARRAY","array",334],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",334],")",")",")",";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$client",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","request",335],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",335],",",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",335],")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$client",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","followRedirect",336],"(",")",";",["T_WHITESPACE","\n\n        ",336],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","assertEquals",338],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$client",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getRequest",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","getUri",338],"(",")",",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() follows a redirect if any'",338],")",";",["T_WHITESPACE","\n\n        ",338],["T_VARIABLE","$client",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_NEW","new",340],["T_WHITESPACE"," ",340],["T_STRING","TestClient",340],"(",")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$client",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","setNextResponse",341],"(",["T_NEW","new",341],["T_WHITESPACE"," ",341],["T_STRING","Response",341],"(",["T_CONSTANT_ENCAPSED_STRING","''",341],",",["T_WHITESPACE"," ",341],["T_LNUMBER","302",341],",",["T_WHITESPACE"," ",341],["T_ARRAY","array",341],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",341],")",")",")",";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$client",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","request",342],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",342],",",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",342],")",";",["T_WHITESPACE","\n\n        ",342],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","assertEquals",344],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$client",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getRequest",344],"(",")",["T_OBJECT_OPERATOR","->",344],["T_STRING","getUri",344],"(",")",",",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() automatically follows redirects if followRedirects is true'",344],")",";",["T_WHITESPACE","\n\n        ",344],["T_VARIABLE","$client",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_NEW","new",346],["T_WHITESPACE"," ",346],["T_STRING","TestClient",346],"(",")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$client",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","setNextResponse",347],"(",["T_NEW","new",347],["T_WHITESPACE"," ",347],["T_STRING","Response",347],"(",["T_CONSTANT_ENCAPSED_STRING","''",347],",",["T_WHITESPACE"," ",347],["T_LNUMBER","201",347],",",["T_WHITESPACE"," ",347],["T_ARRAY","array",347],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",347],")",")",")",";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$client",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","request",348],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",348],",",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",348],")",";",["T_WHITESPACE","\n\n        ",348],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","assertEquals",350],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$client",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getRequest",350],"(",")",["T_OBJECT_OPERATOR","->",350],["T_STRING","getUri",350],"(",")",",",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() does not follow redirect if HTTP Code is not 30x'",350],")",";",["T_WHITESPACE","\n\n        ",350],["T_VARIABLE","$client",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_NEW","new",352],["T_WHITESPACE"," ",352],["T_STRING","TestClient",352],"(",")",";",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$client",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","setNextResponse",353],"(",["T_NEW","new",353],["T_WHITESPACE"," ",353],["T_STRING","Response",353],"(",["T_CONSTANT_ENCAPSED_STRING","''",353],",",["T_WHITESPACE"," ",353],["T_LNUMBER","201",353],",",["T_WHITESPACE"," ",353],["T_ARRAY","array",353],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",353],")",")",")",";",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$client",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","followRedirects",354],"(",["T_STRING","false",354],")",";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$client",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","request",355],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",355],")",";",["T_WHITESPACE","\n\n        ",355],["T_TRY","try",357],["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n            ",357],["T_VARIABLE","$client",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","followRedirect",358],"(",")",";",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","fail",359],"(",["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() throws a \\LogicException if the request did not respond with 30x HTTP Code'",359],")",";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE"," ",360],["T_CATCH","catch",360],["T_WHITESPACE"," ",360],"(",["T_NS_SEPARATOR","\\",360],["T_STRING","Exception",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$e",360],")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n            ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","assertInstanceOf",361],"(",["T_CONSTANT_ENCAPSED_STRING","'LogicException'",361],",",["T_WHITESPACE"," ",361],["T_VARIABLE","$e",361],",",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() throws a \\LogicException if the request did not respond with 30x HTTP Code'",361],")",";",["T_WHITESPACE","\n        ",361],"}",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","testFollowRelativeRedirect",365],"(",")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$client",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_NEW","new",367],["T_WHITESPACE"," ",367],["T_STRING","TestClient",367],"(",")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$client",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","setNextResponse",368],"(",["T_NEW","new",368],["T_WHITESPACE"," ",368],["T_STRING","Response",368],"(",["T_CONSTANT_ENCAPSED_STRING","''",368],",",["T_WHITESPACE"," ",368],["T_LNUMBER","302",368],",",["T_WHITESPACE"," ",368],["T_ARRAY","array",368],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'\/redirected'",368],")",")",")",";",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$client",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","request",369],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",369],",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",369],")",";",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assertEquals",370],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$client",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getRequest",370],"(",")",["T_OBJECT_OPERATOR","->",370],["T_STRING","getUri",370],"(",")",",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() follows a redirect if any'",370],")",";",["T_WHITESPACE","\n\n        ",370],["T_VARIABLE","$client",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_NEW","new",372],["T_WHITESPACE"," ",372],["T_STRING","TestClient",372],"(",")",";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$client",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","setNextResponse",373],"(",["T_NEW","new",373],["T_WHITESPACE"," ",373],["T_STRING","Response",373],"(",["T_CONSTANT_ENCAPSED_STRING","''",373],",",["T_WHITESPACE"," ",373],["T_LNUMBER","302",373],",",["T_WHITESPACE"," ",373],["T_ARRAY","array",373],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'\/redirected:1234'",373],")",")",")",";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$client",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","request",374],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",374],",",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",374],")",";",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","assertEquals",375],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected:1234'",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$client",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getRequest",375],"(",")",["T_OBJECT_OPERATOR","->",375],["T_STRING","getUri",375],"(",")",",",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() follows relative urls'",375],")",";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_PUBLIC","public",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","testFollowRedirectWithMaxRedirects",378],"(",")",["T_WHITESPACE","\n    ",378],"{",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$client",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_NEW","new",380],["T_WHITESPACE"," ",380],["T_STRING","TestClient",380],"(",")",";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$client",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","setMaxRedirects",381],"(",["T_LNUMBER","1",381],")",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$client",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","setNextResponse",382],"(",["T_NEW","new",382],["T_WHITESPACE"," ",382],["T_STRING","Response",382],"(",["T_CONSTANT_ENCAPSED_STRING","''",382],",",["T_WHITESPACE"," ",382],["T_LNUMBER","302",382],",",["T_WHITESPACE"," ",382],["T_ARRAY","array",382],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",382],")",")",")",";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$client",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","request",383],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",383],",",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",383],")",";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","assertEquals",384],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$client",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getRequest",384],"(",")",["T_OBJECT_OPERATOR","->",384],["T_STRING","getUri",384],"(",")",",",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() follows a redirect if any'",384],")",";",["T_WHITESPACE","\n\n        ",384],["T_VARIABLE","$client",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","setNextResponse",386],"(",["T_NEW","new",386],["T_WHITESPACE"," ",386],["T_STRING","Response",386],"(",["T_CONSTANT_ENCAPSED_STRING","''",386],",",["T_WHITESPACE"," ",386],["T_LNUMBER","302",386],",",["T_WHITESPACE"," ",386],["T_ARRAY","array",386],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected2'",386],")",")",")",";",["T_WHITESPACE","\n        ",386],["T_TRY","try",387],["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$client",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","followRedirect",388],"(",")",";",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","fail",389],"(",["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() throws a \\LogicException if the request was redirected and limit of redirections was reached'",389],")",";",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE"," ",390],["T_CATCH","catch",390],["T_WHITESPACE"," ",390],"(",["T_NS_SEPARATOR","\\",390],["T_STRING","Exception",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$e",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n            ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","assertInstanceOf",391],"(",["T_CONSTANT_ENCAPSED_STRING","'LogicException'",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$e",391],",",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() throws a \\LogicException if the request was redirected and limit of redirections was reached'",391],")",";",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n\n        ",392],["T_VARIABLE","$client",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","setNextResponse",394],"(",["T_NEW","new",394],["T_WHITESPACE"," ",394],["T_STRING","Response",394],"(",["T_CONSTANT_ENCAPSED_STRING","''",394],",",["T_WHITESPACE"," ",394],["T_LNUMBER","302",394],",",["T_WHITESPACE"," ",394],["T_ARRAY","array",394],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",394],")",")",")",";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$client",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","request",395],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",395],",",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",395],")",";",["T_WHITESPACE","\n        ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","assertEquals",396],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$client",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","getRequest",396],"(",")",["T_OBJECT_OPERATOR","->",396],["T_STRING","getUri",396],"(",")",",",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() follows a redirect if any'",396],")",";",["T_WHITESPACE","\n\n        ",396],["T_VARIABLE","$client",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","setNextResponse",398],"(",["T_NEW","new",398],["T_WHITESPACE"," ",398],["T_STRING","Response",398],"(",["T_CONSTANT_ENCAPSED_STRING","''",398],",",["T_WHITESPACE"," ",398],["T_LNUMBER","302",398],",",["T_WHITESPACE"," ",398],["T_ARRAY","array",398],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'\/redirected'",398],")",")",")",";",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$client",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","request",399],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",399],")",";",["T_WHITESPACE","\n\n        ",399],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","assertEquals",401],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$client",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getRequest",401],"(",")",["T_OBJECT_OPERATOR","->",401],["T_STRING","getUri",401],"(",")",",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() follows relative URLs'",401],")",";",["T_WHITESPACE","\n\n        ",401],["T_VARIABLE","$client",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_NEW","new",403],["T_WHITESPACE"," ",403],["T_STRING","TestClient",403],"(",")",";",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$client",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","setNextResponse",404],"(",["T_NEW","new",404],["T_WHITESPACE"," ",404],["T_STRING","Response",404],"(",["T_CONSTANT_ENCAPSED_STRING","''",404],",",["T_WHITESPACE"," ",404],["T_LNUMBER","302",404],",",["T_WHITESPACE"," ",404],["T_ARRAY","array",404],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'\/\/www.example.org\/'",404],")",")",")",";",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$client",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","request",405],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",405],",",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.example.com\/'",405],")",";",["T_WHITESPACE","\n\n        ",405],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","assertEquals",407],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.example.org\/'",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$client",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getRequest",407],"(",")",["T_OBJECT_OPERATOR","->",407],["T_STRING","getUri",407],"(",")",",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() follows protocol-relative URLs'",407],")",";",["T_WHITESPACE","\n\n        ",407],["T_VARIABLE","$client",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_NEW","new",409],["T_WHITESPACE"," ",409],["T_STRING","TestClient",409],"(",")",";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$client",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","setNextResponse",410],"(",["T_NEW","new",410],["T_WHITESPACE"," ",410],["T_STRING","Response",410],"(",["T_CONSTANT_ENCAPSED_STRING","''",410],",",["T_WHITESPACE"," ",410],["T_LNUMBER","302",410],",",["T_WHITESPACE"," ",410],["T_ARRAY","array",410],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",410],")",")",")",";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$client",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","request",411],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",411],",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",411],",",["T_WHITESPACE"," ",411],["T_ARRAY","array",411],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'bar'",411],")",")",";",["T_WHITESPACE","\n\n        ",411],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","assertEquals",413],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$client",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getRequest",413],"(",")",["T_OBJECT_OPERATOR","->",413],["T_STRING","getMethod",413],"(",")",",",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() uses a GET for 302'",413],")",";",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","assertEquals",414],"(",["T_ARRAY","array",414],"(",")",",",["T_WHITESPACE"," ",414],["T_VARIABLE","$client",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getRequest",414],"(",")",["T_OBJECT_OPERATOR","->",414],["T_STRING","getParameters",414],"(",")",",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() does not submit parameters when changing the method'",414],")",";",["T_WHITESPACE","\n    ",414],"}",["T_WHITESPACE","\n\n    ",415],["T_PUBLIC","public",417],["T_WHITESPACE"," ",417],["T_FUNCTION","function",417],["T_WHITESPACE"," ",417],["T_STRING","testFollowRedirectWithCookies",417],"(",")",["T_WHITESPACE","\n    ",417],"{",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$client",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_NEW","new",419],["T_WHITESPACE"," ",419],["T_STRING","TestClient",419],"(",")",";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$client",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","followRedirects",420],"(",["T_STRING","false",420],")",";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$client",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","setNextResponse",421],"(",["T_NEW","new",421],["T_WHITESPACE"," ",421],["T_STRING","Response",421],"(",["T_CONSTANT_ENCAPSED_STRING","''",421],",",["T_WHITESPACE"," ",421],["T_LNUMBER","302",421],",",["T_WHITESPACE"," ",421],["T_ARRAY","array",421],"(",["T_WHITESPACE","\n            ",421],["T_CONSTANT_ENCAPSED_STRING","'Location'",422],["T_WHITESPACE"," ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",422],",",["T_WHITESPACE","\n            ",422],["T_CONSTANT_ENCAPSED_STRING","'Set-Cookie'",423],["T_WHITESPACE"," ",423],["T_DOUBLE_ARROW","=>",423],["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'foo=bar'",423],",",["T_WHITESPACE","\n        ",423],")",")",")",";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$client",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","request",425],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",425],",",["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/'",425],")",";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","assertEquals",426],"(",["T_ARRAY","array",426],"(",")",",",["T_WHITESPACE"," ",426],["T_VARIABLE","$client",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getRequest",426],"(",")",["T_OBJECT_OPERATOR","->",426],["T_STRING","getCookies",426],"(",")",")",";",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$client",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","followRedirect",427],"(",")",";",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","assertEquals",428],"(",["T_ARRAY","array",428],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","'bar'",428],")",",",["T_WHITESPACE"," ",428],["T_VARIABLE","$client",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getRequest",428],"(",")",["T_OBJECT_OPERATOR","->",428],["T_STRING","getCookies",428],"(",")",")",";",["T_WHITESPACE","\n    ",428],"}",["T_WHITESPACE","\n\n    ",429],["T_PUBLIC","public",431],["T_WHITESPACE"," ",431],["T_FUNCTION","function",431],["T_WHITESPACE"," ",431],["T_STRING","testFollowRedirectWithHeaders",431],"(",")",["T_WHITESPACE","\n    ",431],"{",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$headers",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_ARRAY","array",433],"(",["T_WHITESPACE","\n            ",433],["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",434],["T_WHITESPACE"," ",434],["T_DOUBLE_ARROW","=>",434],["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'www.example.com'",434],",",["T_WHITESPACE","\n            ",434],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'Symfony BrowserKit'",435],",",["T_WHITESPACE","\n            ",435],["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",436],["T_WHITESPACE"," ",436],["T_DOUBLE_ARROW","=>",436],["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.custom+xml'",436],",",["T_WHITESPACE","\n            ",436],["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",437],["T_WHITESPACE"," ",437],["T_DOUBLE_ARROW","=>",437],["T_WHITESPACE"," ",437],["T_STRING","false",437],",",["T_WHITESPACE","\n        ",437],")",";",["T_WHITESPACE","\n\n        ",438],["T_VARIABLE","$client",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_NEW","new",440],["T_WHITESPACE"," ",440],["T_STRING","TestClient",440],"(",")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$client",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","followRedirects",441],"(",["T_STRING","false",441],")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$client",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","setNextResponse",442],"(",["T_NEW","new",442],["T_WHITESPACE"," ",442],["T_STRING","Response",442],"(",["T_CONSTANT_ENCAPSED_STRING","''",442],",",["T_WHITESPACE"," ",442],["T_LNUMBER","302",442],",",["T_WHITESPACE"," ",442],["T_ARRAY","array",442],"(",["T_WHITESPACE","\n            ",442],["T_CONSTANT_ENCAPSED_STRING","'Location'",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",443],",",["T_WHITESPACE","\n        ",443],")",")",")",";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$client",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","request",445],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",445],",",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/'",445],",",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",")",",",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",")",",",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",["T_WHITESPACE","\n            ",445],["T_CONSTANT_ENCAPSED_STRING","'CONTENT_TYPE'",446],["T_WHITESPACE"," ",446],["T_DOUBLE_ARROW","=>",446],["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","'application\/vnd.custom+xml'",446],",",["T_WHITESPACE","\n        ",446],")",")",";",["T_WHITESPACE","\n\n        ",447],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","assertEquals",449],"(",["T_VARIABLE","$headers",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$client",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getRequest",449],"(",")",["T_OBJECT_OPERATOR","->",449],["T_STRING","getServer",449],"(",")",")",";",["T_WHITESPACE","\n\n        ",449],["T_VARIABLE","$client",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","followRedirect",451],"(",")",";",["T_WHITESPACE","\n\n        ",451],["T_VARIABLE","$headers",453],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_REFERER'",453],"]",["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/'",453],";",["T_WHITESPACE","\n\n        ",453],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","assertEquals",455],"(",["T_VARIABLE","$headers",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$client",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getRequest",455],"(",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","getServer",455],"(",")",")",";",["T_WHITESPACE","\n    ",455],"}",["T_WHITESPACE","\n\n    ",456],["T_PUBLIC","public",458],["T_WHITESPACE"," ",458],["T_FUNCTION","function",458],["T_WHITESPACE"," ",458],["T_STRING","testFollowRedirectWithPort",458],"(",")",["T_WHITESPACE","\n    ",458],"{",["T_WHITESPACE","\n        ",459],["T_VARIABLE","$headers",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_ARRAY","array",460],"(",["T_WHITESPACE","\n            ",460],["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'www.example.com:8080'",461],",",["T_WHITESPACE","\n            ",461],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'Symfony BrowserKit'",462],",",["T_WHITESPACE","\n            ",462],["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_STRING","false",463],",",["T_WHITESPACE","\n            ",463],["T_CONSTANT_ENCAPSED_STRING","'HTTP_REFERER'",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com:8080\/'",464],",",["T_WHITESPACE","\n        ",464],")",";",["T_WHITESPACE","\n\n        ",465],["T_VARIABLE","$client",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_NEW","new",467],["T_WHITESPACE"," ",467],["T_STRING","TestClient",467],"(",")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$client",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","setNextResponse",468],"(",["T_NEW","new",468],["T_WHITESPACE"," ",468],["T_STRING","Response",468],"(",["T_CONSTANT_ENCAPSED_STRING","''",468],",",["T_WHITESPACE"," ",468],["T_LNUMBER","302",468],",",["T_WHITESPACE"," ",468],["T_ARRAY","array",468],"(",["T_WHITESPACE","\n            ",468],["T_CONSTANT_ENCAPSED_STRING","'Location'",469],["T_WHITESPACE"," ",469],["T_DOUBLE_ARROW","=>",469],["T_WHITESPACE"," ",469],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com:8080\/redirected'",469],",",["T_WHITESPACE","\n        ",469],")",")",")",";",["T_WHITESPACE","\n        ",470],["T_VARIABLE","$client",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","request",471],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com:8080\/'",471],")",";",["T_WHITESPACE","\n\n        ",471],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","assertEquals",473],"(",["T_VARIABLE","$headers",473],",",["T_WHITESPACE"," ",473],["T_VARIABLE","$client",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getRequest",473],"(",")",["T_OBJECT_OPERATOR","->",473],["T_STRING","getServer",473],"(",")",")",";",["T_WHITESPACE","\n    ",473],"}",["T_WHITESPACE","\n\n    ",474],["T_PUBLIC","public",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","testIsFollowingRedirects",476],"(",")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$client",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_NEW","new",478],["T_WHITESPACE"," ",478],["T_STRING","TestClient",478],"(",")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","assertTrue",479],"(",["T_VARIABLE","$client",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","isFollowingRedirects",479],"(",")",",",["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'->getFollowRedirects() returns default value'",479],")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$client",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","followRedirects",480],"(",["T_STRING","false",480],")",";",["T_WHITESPACE","\n        ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","assertFalse",481],"(",["T_VARIABLE","$client",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","isFollowingRedirects",481],"(",")",",",["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'->getFollowRedirects() returns assigned value'",481],")",";",["T_WHITESPACE","\n    ",481],"}",["T_WHITESPACE","\n\n    ",482],["T_PUBLIC","public",484],["T_WHITESPACE"," ",484],["T_FUNCTION","function",484],["T_WHITESPACE"," ",484],["T_STRING","testGetMaxRedirects",484],"(",")",["T_WHITESPACE","\n    ",484],"{",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$client",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_NEW","new",486],["T_WHITESPACE"," ",486],["T_STRING","TestClient",486],"(",")",";",["T_WHITESPACE","\n        ",486],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","assertEquals",487],"(","-",["T_LNUMBER","1",487],",",["T_WHITESPACE"," ",487],["T_VARIABLE","$client",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","getMaxRedirects",487],"(",")",",",["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'->getMaxRedirects() returns default value'",487],")",";",["T_WHITESPACE","\n        ",487],["T_VARIABLE","$client",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","setMaxRedirects",488],"(",["T_LNUMBER","3",488],")",";",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","assertEquals",489],"(",["T_LNUMBER","3",489],",",["T_WHITESPACE"," ",489],["T_VARIABLE","$client",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getMaxRedirects",489],"(",")",",",["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","'->getMaxRedirects() returns assigned value'",489],")",";",["T_WHITESPACE","\n    ",489],"}",["T_WHITESPACE","\n\n    ",490],["T_PUBLIC","public",492],["T_WHITESPACE"," ",492],["T_FUNCTION","function",492],["T_WHITESPACE"," ",492],["T_STRING","testFollowRedirectWithPostMethod",492],"(",")",["T_WHITESPACE","\n    ",492],"{",["T_WHITESPACE","\n        ",493],["T_VARIABLE","$parameters",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_ARRAY","array",494],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","'bar'",494],")",";",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$files",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_ARRAY","array",495],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.foo'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'baz'",495],")",";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$server",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_ARRAY","array",496],"(",["T_CONSTANT_ENCAPSED_STRING","'X_TEST_FOO'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'bazbar'",496],")",";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$content",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","'foobarbaz'",497],";",["T_WHITESPACE","\n\n        ",497],["T_VARIABLE","$client",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_NEW","new",499],["T_WHITESPACE"," ",499],["T_STRING","TestClient",499],"(",")",";",["T_WHITESPACE","\n\n        ",499],["T_VARIABLE","$client",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","setNextResponse",501],"(",["T_NEW","new",501],["T_WHITESPACE"," ",501],["T_STRING","Response",501],"(",["T_CONSTANT_ENCAPSED_STRING","''",501],",",["T_WHITESPACE"," ",501],["T_LNUMBER","307",501],",",["T_WHITESPACE"," ",501],["T_ARRAY","array",501],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",501],["T_WHITESPACE"," ",501],["T_DOUBLE_ARROW","=>",501],["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",501],")",")",")",";",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$client",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","request",502],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",502],",",["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",502],",",["T_WHITESPACE"," ",502],["T_VARIABLE","$parameters",502],",",["T_WHITESPACE"," ",502],["T_VARIABLE","$files",502],",",["T_WHITESPACE"," ",502],["T_VARIABLE","$server",502],",",["T_WHITESPACE"," ",502],["T_VARIABLE","$content",502],")",";",["T_WHITESPACE","\n\n        ",502],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","assertEquals",504],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/redirected'",504],",",["T_WHITESPACE"," ",504],["T_VARIABLE","$client",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getRequest",504],"(",")",["T_OBJECT_OPERATOR","->",504],["T_STRING","getUri",504],"(",")",",",["T_WHITESPACE"," ",504],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() follows a redirect with POST method'",504],")",";",["T_WHITESPACE","\n        ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","assertArrayHasKey",505],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$client",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","getRequest",505],"(",")",["T_OBJECT_OPERATOR","->",505],["T_STRING","getParameters",505],"(",")",",",["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() keeps parameters with POST method'",505],")",";",["T_WHITESPACE","\n        ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","assertArrayHasKey",506],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.foo'",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$client",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getRequest",506],"(",")",["T_OBJECT_OPERATOR","->",506],["T_STRING","getFiles",506],"(",")",",",["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() keeps files with POST method'",506],")",";",["T_WHITESPACE","\n        ",506],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","assertArrayHasKey",507],"(",["T_CONSTANT_ENCAPSED_STRING","'X_TEST_FOO'",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$client",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getRequest",507],"(",")",["T_OBJECT_OPERATOR","->",507],["T_STRING","getServer",507],"(",")",",",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() keeps $_SERVER with POST method'",507],")",";",["T_WHITESPACE","\n        ",507],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","assertEquals",508],"(",["T_VARIABLE","$content",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$client",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","getRequest",508],"(",")",["T_OBJECT_OPERATOR","->",508],["T_STRING","getContent",508],"(",")",",",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() keeps content with POST method'",508],")",";",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","assertEquals",509],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",509],",",["T_WHITESPACE"," ",509],["T_VARIABLE","$client",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","getRequest",509],"(",")",["T_OBJECT_OPERATOR","->",509],["T_STRING","getMethod",509],"(",")",",",["T_WHITESPACE"," ",509],["T_CONSTANT_ENCAPSED_STRING","'->followRedirect() keeps request method'",509],")",";",["T_WHITESPACE","\n    ",509],"}",["T_WHITESPACE","\n\n    ",510],["T_PUBLIC","public",512],["T_WHITESPACE"," ",512],["T_FUNCTION","function",512],["T_WHITESPACE"," ",512],["T_STRING","testBack",512],"(",")",["T_WHITESPACE","\n    ",512],"{",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$client",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_NEW","new",514],["T_WHITESPACE"," ",514],["T_STRING","TestClient",514],"(",")",";",["T_WHITESPACE","\n\n        ",514],["T_VARIABLE","$parameters",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_ARRAY","array",516],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",516],["T_WHITESPACE"," ",516],["T_DOUBLE_ARROW","=>",516],["T_WHITESPACE"," ",516],["T_CONSTANT_ENCAPSED_STRING","'bar'",516],")",";",["T_WHITESPACE","\n        ",516],["T_VARIABLE","$files",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_ARRAY","array",517],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.foo'",517],["T_WHITESPACE"," ",517],["T_DOUBLE_ARROW","=>",517],["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","'baz'",517],")",";",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$server",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_ARRAY","array",518],"(",["T_CONSTANT_ENCAPSED_STRING","'X_TEST_FOO'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'bazbar'",518],")",";",["T_WHITESPACE","\n        ",518],["T_VARIABLE","$content",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'foobarbaz'",519],";",["T_WHITESPACE","\n\n        ",519],["T_VARIABLE","$client",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","request",521],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",521],",",["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$parameters",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$files",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$server",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$content",521],")",";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$client",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","request",522],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",522],",",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",522],")",";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$client",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","back",523],"(",")",";",["T_WHITESPACE","\n\n        ",523],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","assertEquals",525],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$client",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","getRequest",525],"(",")",["T_OBJECT_OPERATOR","->",525],["T_STRING","getUri",525],"(",")",",",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","'->back() goes back in the history'",525],")",";",["T_WHITESPACE","\n        ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","assertArrayHasKey",526],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",526],",",["T_WHITESPACE"," ",526],["T_VARIABLE","$client",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","getRequest",526],"(",")",["T_OBJECT_OPERATOR","->",526],["T_STRING","getParameters",526],"(",")",",",["T_WHITESPACE"," ",526],["T_CONSTANT_ENCAPSED_STRING","'->back() keeps parameters'",526],")",";",["T_WHITESPACE","\n        ",526],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","assertArrayHasKey",527],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.foo'",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$client",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","getRequest",527],"(",")",["T_OBJECT_OPERATOR","->",527],["T_STRING","getFiles",527],"(",")",",",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'->back() keeps files'",527],")",";",["T_WHITESPACE","\n        ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","assertArrayHasKey",528],"(",["T_CONSTANT_ENCAPSED_STRING","'X_TEST_FOO'",528],",",["T_WHITESPACE"," ",528],["T_VARIABLE","$client",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getRequest",528],"(",")",["T_OBJECT_OPERATOR","->",528],["T_STRING","getServer",528],"(",")",",",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'->back() keeps $_SERVER'",528],")",";",["T_WHITESPACE","\n        ",528],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","assertEquals",529],"(",["T_VARIABLE","$content",529],",",["T_WHITESPACE"," ",529],["T_VARIABLE","$client",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","getRequest",529],"(",")",["T_OBJECT_OPERATOR","->",529],["T_STRING","getContent",529],"(",")",",",["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'->back() keeps content'",529],")",";",["T_WHITESPACE","\n    ",529],"}",["T_WHITESPACE","\n\n    ",530],["T_PUBLIC","public",532],["T_WHITESPACE"," ",532],["T_FUNCTION","function",532],["T_WHITESPACE"," ",532],["T_STRING","testForward",532],"(",")",["T_WHITESPACE","\n    ",532],"{",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$client",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_NEW","new",534],["T_WHITESPACE"," ",534],["T_STRING","TestClient",534],"(",")",";",["T_WHITESPACE","\n\n        ",534],["T_VARIABLE","$parameters",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_ARRAY","array",536],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",536],["T_WHITESPACE"," ",536],["T_DOUBLE_ARROW","=>",536],["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","'bar'",536],")",";",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$files",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_ARRAY","array",537],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.foo'",537],["T_WHITESPACE"," ",537],["T_DOUBLE_ARROW","=>",537],["T_WHITESPACE"," ",537],["T_CONSTANT_ENCAPSED_STRING","'baz'",537],")",";",["T_WHITESPACE","\n        ",537],["T_VARIABLE","$server",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_ARRAY","array",538],"(",["T_CONSTANT_ENCAPSED_STRING","'X_TEST_FOO'",538],["T_WHITESPACE"," ",538],["T_DOUBLE_ARROW","=>",538],["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'bazbar'",538],")",";",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$content",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_CONSTANT_ENCAPSED_STRING","'foobarbaz'",539],";",["T_WHITESPACE","\n\n        ",539],["T_VARIABLE","$client",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","request",541],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",541],",",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",541],")",";",["T_WHITESPACE","\n        ",541],["T_VARIABLE","$client",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","request",542],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",542],",",["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$parameters",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$files",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$server",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$content",542],")",";",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$client",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","back",543],"(",")",";",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$client",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","forward",544],"(",")",";",["T_WHITESPACE","\n\n        ",544],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","assertEquals",546],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo'",546],",",["T_WHITESPACE"," ",546],["T_VARIABLE","$client",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","getRequest",546],"(",")",["T_OBJECT_OPERATOR","->",546],["T_STRING","getUri",546],"(",")",",",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","'->forward() goes forward in the history'",546],")",";",["T_WHITESPACE","\n        ",546],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","assertArrayHasKey",547],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",547],",",["T_WHITESPACE"," ",547],["T_VARIABLE","$client",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","getRequest",547],"(",")",["T_OBJECT_OPERATOR","->",547],["T_STRING","getParameters",547],"(",")",",",["T_WHITESPACE"," ",547],["T_CONSTANT_ENCAPSED_STRING","'->forward() keeps parameters'",547],")",";",["T_WHITESPACE","\n        ",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","assertArrayHasKey",548],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.foo'",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$client",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getRequest",548],"(",")",["T_OBJECT_OPERATOR","->",548],["T_STRING","getFiles",548],"(",")",",",["T_WHITESPACE"," ",548],["T_CONSTANT_ENCAPSED_STRING","'->forward() keeps files'",548],")",";",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","assertArrayHasKey",549],"(",["T_CONSTANT_ENCAPSED_STRING","'X_TEST_FOO'",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$client",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","getRequest",549],"(",")",["T_OBJECT_OPERATOR","->",549],["T_STRING","getServer",549],"(",")",",",["T_WHITESPACE"," ",549],["T_CONSTANT_ENCAPSED_STRING","'->forward() keeps $_SERVER'",549],")",";",["T_WHITESPACE","\n        ",549],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","assertEquals",550],"(",["T_VARIABLE","$content",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$client",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getRequest",550],"(",")",["T_OBJECT_OPERATOR","->",550],["T_STRING","getContent",550],"(",")",",",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'->forward() keeps content'",550],")",";",["T_WHITESPACE","\n    ",550],"}",["T_WHITESPACE","\n\n    ",551],["T_PUBLIC","public",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","testReload",553],"(",")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_VARIABLE","$client",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_NEW","new",555],["T_WHITESPACE"," ",555],["T_STRING","TestClient",555],"(",")",";",["T_WHITESPACE","\n\n        ",555],["T_VARIABLE","$parameters",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_ARRAY","array",557],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'bar'",557],")",";",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$files",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_ARRAY","array",558],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.foo'",558],["T_WHITESPACE"," ",558],["T_DOUBLE_ARROW","=>",558],["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'baz'",558],")",";",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$server",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_ARRAY","array",559],"(",["T_CONSTANT_ENCAPSED_STRING","'X_TEST_FOO'",559],["T_WHITESPACE"," ",559],["T_DOUBLE_ARROW","=>",559],["T_WHITESPACE"," ",559],["T_CONSTANT_ENCAPSED_STRING","'bazbar'",559],")",";",["T_WHITESPACE","\n        ",559],["T_VARIABLE","$content",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'foobarbaz'",560],";",["T_WHITESPACE","\n\n        ",560],["T_VARIABLE","$client",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","request",562],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",562],",",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$parameters",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$files",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$server",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$content",562],")",";",["T_WHITESPACE","\n        ",562],["T_VARIABLE","$client",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","reload",563],"(",")",";",["T_WHITESPACE","\n\n        ",563],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","assertEquals",565],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$client",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","getRequest",565],"(",")",["T_OBJECT_OPERATOR","->",565],["T_STRING","getUri",565],"(",")",",",["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'->reload() reloads the current page'",565],")",";",["T_WHITESPACE","\n        ",565],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","assertArrayHasKey",566],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",566],",",["T_WHITESPACE"," ",566],["T_VARIABLE","$client",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","getRequest",566],"(",")",["T_OBJECT_OPERATOR","->",566],["T_STRING","getParameters",566],"(",")",",",["T_WHITESPACE"," ",566],["T_CONSTANT_ENCAPSED_STRING","'->reload() keeps parameters'",566],")",";",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","assertArrayHasKey",567],"(",["T_CONSTANT_ENCAPSED_STRING","'myfile.foo'",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$client",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getRequest",567],"(",")",["T_OBJECT_OPERATOR","->",567],["T_STRING","getFiles",567],"(",")",",",["T_WHITESPACE"," ",567],["T_CONSTANT_ENCAPSED_STRING","'->reload() keeps files'",567],")",";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","assertArrayHasKey",568],"(",["T_CONSTANT_ENCAPSED_STRING","'X_TEST_FOO'",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$client",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","getRequest",568],"(",")",["T_OBJECT_OPERATOR","->",568],["T_STRING","getServer",568],"(",")",",",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'->reload() keeps $_SERVER'",568],")",";",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","assertEquals",569],"(",["T_VARIABLE","$content",569],",",["T_WHITESPACE"," ",569],["T_VARIABLE","$client",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","getRequest",569],"(",")",["T_OBJECT_OPERATOR","->",569],["T_STRING","getContent",569],"(",")",",",["T_WHITESPACE"," ",569],["T_CONSTANT_ENCAPSED_STRING","'->reload() keeps content'",569],")",";",["T_WHITESPACE","\n    ",569],"}",["T_WHITESPACE","\n\n    ",570],["T_PUBLIC","public",572],["T_WHITESPACE"," ",572],["T_FUNCTION","function",572],["T_WHITESPACE"," ",572],["T_STRING","testRestart",572],"(",")",["T_WHITESPACE","\n    ",572],"{",["T_WHITESPACE","\n        ",573],["T_VARIABLE","$client",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_NEW","new",574],["T_WHITESPACE"," ",574],["T_STRING","TestClient",574],"(",")",";",["T_WHITESPACE","\n        ",574],["T_VARIABLE","$client",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","request",575],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",575],",",["T_WHITESPACE"," ",575],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",575],")",";",["T_WHITESPACE","\n        ",575],["T_VARIABLE","$client",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","restart",576],"(",")",";",["T_WHITESPACE","\n\n        ",576],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","assertTrue",578],"(",["T_VARIABLE","$client",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","getHistory",578],"(",")",["T_OBJECT_OPERATOR","->",578],["T_STRING","isEmpty",578],"(",")",",",["T_WHITESPACE"," ",578],["T_CONSTANT_ENCAPSED_STRING","'->restart() clears the history'",578],")",";",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","assertEquals",579],"(",["T_ARRAY","array",579],"(",")",",",["T_WHITESPACE"," ",579],["T_VARIABLE","$client",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","getCookieJar",579],"(",")",["T_OBJECT_OPERATOR","->",579],["T_STRING","all",579],"(",")",",",["T_WHITESPACE"," ",579],["T_CONSTANT_ENCAPSED_STRING","'->restart() clears the cookies'",579],")",";",["T_WHITESPACE","\n    ",579],"}",["T_WHITESPACE","\n\n    ",580],["T_PUBLIC","public",582],["T_WHITESPACE"," ",582],["T_FUNCTION","function",582],["T_WHITESPACE"," ",582],["T_STRING","testInsulatedRequests",582],"(",")",["T_WHITESPACE","\n    ",582],"{",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$client",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_NEW","new",584],["T_WHITESPACE"," ",584],["T_STRING","TestClient",584],"(",")",";",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$client",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","insulate",585],"(",")",";",["T_WHITESPACE","\n        ",585],["T_VARIABLE","$client",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","setNextScript",586],"(",["T_CONSTANT_ENCAPSED_STRING","\"new Symfony\\Component\\BrowserKit\\Response('foobar')\"",586],")",";",["T_WHITESPACE","\n        ",586],["T_VARIABLE","$client",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","request",587],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",587],",",["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",587],")",";",["T_WHITESPACE","\n\n        ",587],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","assertEquals",589],"(",["T_CONSTANT_ENCAPSED_STRING","'foobar'",589],",",["T_WHITESPACE"," ",589],["T_VARIABLE","$client",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","getResponse",589],"(",")",["T_OBJECT_OPERATOR","->",589],["T_STRING","getContent",589],"(",")",",",["T_WHITESPACE"," ",589],["T_CONSTANT_ENCAPSED_STRING","'->insulate() process the request in a forked process'",589],")",";",["T_WHITESPACE","\n\n        ",589],["T_VARIABLE","$client",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","setNextScript",591],"(",["T_CONSTANT_ENCAPSED_STRING","\"new Symfony\\Component\\BrowserKit\\Response('foobar)\"",591],")",";",["T_WHITESPACE","\n\n        ",591],["T_TRY","try",593],["T_WHITESPACE"," ",593],"{",["T_WHITESPACE","\n            ",593],["T_VARIABLE","$client",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","request",594],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",594],",",["T_WHITESPACE"," ",594],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/foo\/foobar'",594],")",";",["T_WHITESPACE","\n            ",594],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","fail",595],"(",["T_CONSTANT_ENCAPSED_STRING","'->request() throws a \\RuntimeException if the script has an error'",595],")",";",["T_WHITESPACE","\n        ",595],"}",["T_WHITESPACE"," ",596],["T_CATCH","catch",596],["T_WHITESPACE"," ",596],"(",["T_NS_SEPARATOR","\\",596],["T_STRING","Exception",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$e",596],")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n            ",596],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","assertInstanceOf",597],"(",["T_CONSTANT_ENCAPSED_STRING","'RuntimeException'",597],",",["T_WHITESPACE"," ",597],["T_VARIABLE","$e",597],",",["T_WHITESPACE"," ",597],["T_CONSTANT_ENCAPSED_STRING","'->request() throws a \\RuntimeException if the script has an error'",597],")",";",["T_WHITESPACE","\n        ",597],"}",["T_WHITESPACE","\n    ",598],"}",["T_WHITESPACE","\n\n    ",599],["T_PUBLIC","public",601],["T_WHITESPACE"," ",601],["T_FUNCTION","function",601],["T_WHITESPACE"," ",601],["T_STRING","testGetServerParameter",601],"(",")",["T_WHITESPACE","\n    ",601],"{",["T_WHITESPACE","\n        ",602],["T_VARIABLE","$client",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_NEW","new",603],["T_WHITESPACE"," ",603],["T_STRING","TestClient",603],"(",")",";",["T_WHITESPACE","\n        ",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","assertEquals",604],"(",["T_CONSTANT_ENCAPSED_STRING","''",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$client",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","getServerParameter",604],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",604],")",")",";",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","assertEquals",605],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony BrowserKit'",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$client",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","getServerParameter",605],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",605],")",")",";",["T_WHITESPACE","\n        ",605],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","assertEquals",606],"(",["T_CONSTANT_ENCAPSED_STRING","'testvalue'",606],",",["T_WHITESPACE"," ",606],["T_VARIABLE","$client",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","getServerParameter",606],"(",["T_CONSTANT_ENCAPSED_STRING","'testkey'",606],",",["T_WHITESPACE"," ",606],["T_CONSTANT_ENCAPSED_STRING","'testvalue'",606],")",")",";",["T_WHITESPACE","\n    ",606],"}",["T_WHITESPACE","\n\n    ",607],["T_PUBLIC","public",609],["T_WHITESPACE"," ",609],["T_FUNCTION","function",609],["T_WHITESPACE"," ",609],["T_STRING","testSetServerParameter",609],"(",")",["T_WHITESPACE","\n    ",609],"{",["T_WHITESPACE","\n        ",610],["T_VARIABLE","$client",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_NEW","new",611],["T_WHITESPACE"," ",611],["T_STRING","TestClient",611],"(",")",";",["T_WHITESPACE","\n\n        ",611],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","assertEquals",613],"(",["T_CONSTANT_ENCAPSED_STRING","''",613],",",["T_WHITESPACE"," ",613],["T_VARIABLE","$client",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","getServerParameter",613],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",613],")",")",";",["T_WHITESPACE","\n        ",613],["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","assertEquals",614],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony BrowserKit'",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$client",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","getServerParameter",614],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",614],")",")",";",["T_WHITESPACE","\n\n        ",614],["T_VARIABLE","$client",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","setServerParameter",616],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",616],",",["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'testhost'",616],")",";",["T_WHITESPACE","\n        ",616],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","assertEquals",617],"(",["T_CONSTANT_ENCAPSED_STRING","'testhost'",617],",",["T_WHITESPACE"," ",617],["T_VARIABLE","$client",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","getServerParameter",617],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",617],")",")",";",["T_WHITESPACE","\n\n        ",617],["T_VARIABLE","$client",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","setServerParameter",619],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",619],",",["T_WHITESPACE"," ",619],["T_CONSTANT_ENCAPSED_STRING","'testua'",619],")",";",["T_WHITESPACE","\n        ",619],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","assertEquals",620],"(",["T_CONSTANT_ENCAPSED_STRING","'testua'",620],",",["T_WHITESPACE"," ",620],["T_VARIABLE","$client",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","getServerParameter",620],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",620],")",")",";",["T_WHITESPACE","\n    ",620],"}",["T_WHITESPACE","\n\n    ",621],["T_PUBLIC","public",623],["T_WHITESPACE"," ",623],["T_FUNCTION","function",623],["T_WHITESPACE"," ",623],["T_STRING","testSetServerParameterInRequest",623],"(",")",["T_WHITESPACE","\n    ",623],"{",["T_WHITESPACE","\n        ",624],["T_VARIABLE","$client",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_NEW","new",625],["T_WHITESPACE"," ",625],["T_STRING","TestClient",625],"(",")",";",["T_WHITESPACE","\n\n        ",625],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","assertEquals",627],"(",["T_CONSTANT_ENCAPSED_STRING","''",627],",",["T_WHITESPACE"," ",627],["T_VARIABLE","$client",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","getServerParameter",627],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",627],")",")",";",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","assertEquals",628],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony BrowserKit'",628],",",["T_WHITESPACE"," ",628],["T_VARIABLE","$client",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","getServerParameter",628],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",628],")",")",";",["T_WHITESPACE","\n\n        ",628],["T_VARIABLE","$client",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","request",630],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",630],",",["T_WHITESPACE"," ",630],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.example.com\/https\/www.example.com'",630],",",["T_WHITESPACE"," ",630],["T_ARRAY","array",630],"(",")",",",["T_WHITESPACE"," ",630],["T_ARRAY","array",630],"(",")",",",["T_WHITESPACE"," ",630],["T_ARRAY","array",630],"(",["T_WHITESPACE","\n            ",630],["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",631],["T_WHITESPACE"," ",631],["T_DOUBLE_ARROW","=>",631],["T_WHITESPACE"," ",631],["T_CONSTANT_ENCAPSED_STRING","'testhost'",631],",",["T_WHITESPACE","\n            ",631],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",632],["T_WHITESPACE"," ",632],["T_DOUBLE_ARROW","=>",632],["T_WHITESPACE"," ",632],["T_CONSTANT_ENCAPSED_STRING","'testua'",632],",",["T_WHITESPACE","\n            ",632],["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",633],["T_WHITESPACE"," ",633],["T_DOUBLE_ARROW","=>",633],["T_WHITESPACE"," ",633],["T_STRING","false",633],",",["T_WHITESPACE","\n            ",633],["T_CONSTANT_ENCAPSED_STRING","'NEW_SERVER_KEY'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'new-server-key-value'",634],",",["T_WHITESPACE","\n        ",634],")",")",";",["T_WHITESPACE","\n\n        ",635],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","assertEquals",637],"(",["T_CONSTANT_ENCAPSED_STRING","''",637],",",["T_WHITESPACE"," ",637],["T_VARIABLE","$client",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getServerParameter",637],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",637],")",")",";",["T_WHITESPACE","\n        ",637],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","assertEquals",638],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony BrowserKit'",638],",",["T_WHITESPACE"," ",638],["T_VARIABLE","$client",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","getServerParameter",638],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",638],")",")",";",["T_WHITESPACE","\n\n        ",638],["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","assertEquals",640],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/https\/www.example.com'",640],",",["T_WHITESPACE"," ",640],["T_VARIABLE","$client",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","getRequest",640],"(",")",["T_OBJECT_OPERATOR","->",640],["T_STRING","getUri",640],"(",")",")",";",["T_WHITESPACE","\n\n        ",640],["T_VARIABLE","$server",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_VARIABLE","$client",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","getRequest",642],"(",")",["T_OBJECT_OPERATOR","->",642],["T_STRING","getServer",642],"(",")",";",["T_WHITESPACE","\n\n        ",642],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","assertArrayHasKey",644],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$server",644],")",";",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","assertEquals",645],"(",["T_CONSTANT_ENCAPSED_STRING","'testua'",645],",",["T_WHITESPACE"," ",645],["T_VARIABLE","$server",645],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",645],"]",")",";",["T_WHITESPACE","\n\n        ",645],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","assertArrayHasKey",647],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",647],",",["T_WHITESPACE"," ",647],["T_VARIABLE","$server",647],")",";",["T_WHITESPACE","\n        ",647],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","assertEquals",648],"(",["T_CONSTANT_ENCAPSED_STRING","'testhost'",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$server",648],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",648],"]",")",";",["T_WHITESPACE","\n\n        ",648],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","assertArrayHasKey",650],"(",["T_CONSTANT_ENCAPSED_STRING","'NEW_SERVER_KEY'",650],",",["T_WHITESPACE"," ",650],["T_VARIABLE","$server",650],")",";",["T_WHITESPACE","\n        ",650],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","assertEquals",651],"(",["T_CONSTANT_ENCAPSED_STRING","'new-server-key-value'",651],",",["T_WHITESPACE"," ",651],["T_VARIABLE","$server",651],"[",["T_CONSTANT_ENCAPSED_STRING","'NEW_SERVER_KEY'",651],"]",")",";",["T_WHITESPACE","\n\n        ",651],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","assertArrayHasKey",653],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",653],",",["T_WHITESPACE"," ",653],["T_VARIABLE","$server",653],")",";",["T_WHITESPACE","\n        ",653],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","assertFalse",654],"(",["T_VARIABLE","$server",654],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",654],"]",")",";",["T_WHITESPACE","\n    ",654],"}",["T_WHITESPACE","\n\n    ",655],["T_PUBLIC","public",657],["T_WHITESPACE"," ",657],["T_FUNCTION","function",657],["T_WHITESPACE"," ",657],["T_STRING","testInternalRequest",657],"(",")",["T_WHITESPACE","\n    ",657],"{",["T_WHITESPACE","\n        ",658],["T_VARIABLE","$client",659],["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_NEW","new",659],["T_WHITESPACE"," ",659],["T_STRING","TestClient",659],"(",")",";",["T_WHITESPACE","\n\n        ",659],["T_VARIABLE","$client",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","request",661],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",661],",",["T_WHITESPACE"," ",661],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.example.com\/https\/www.example.com'",661],",",["T_WHITESPACE"," ",661],["T_ARRAY","array",661],"(",")",",",["T_WHITESPACE"," ",661],["T_ARRAY","array",661],"(",")",",",["T_WHITESPACE"," ",661],["T_ARRAY","array",661],"(",["T_WHITESPACE","\n            ",661],["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",662],["T_WHITESPACE"," ",662],["T_DOUBLE_ARROW","=>",662],["T_WHITESPACE"," ",662],["T_CONSTANT_ENCAPSED_STRING","'testhost'",662],",",["T_WHITESPACE","\n            ",662],["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",663],["T_WHITESPACE"," ",663],["T_DOUBLE_ARROW","=>",663],["T_WHITESPACE"," ",663],["T_CONSTANT_ENCAPSED_STRING","'testua'",663],",",["T_WHITESPACE","\n            ",663],["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",664],["T_WHITESPACE"," ",664],["T_DOUBLE_ARROW","=>",664],["T_WHITESPACE"," ",664],["T_STRING","false",664],",",["T_WHITESPACE","\n            ",664],["T_CONSTANT_ENCAPSED_STRING","'NEW_SERVER_KEY'",665],["T_WHITESPACE"," ",665],["T_DOUBLE_ARROW","=>",665],["T_WHITESPACE"," ",665],["T_CONSTANT_ENCAPSED_STRING","'new-server-key-value'",665],",",["T_WHITESPACE","\n        ",665],")",")",";",["T_WHITESPACE","\n\n        ",666],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","assertInstanceOf",668],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\BrowserKit\\Request'",668],",",["T_WHITESPACE"," ",668],["T_VARIABLE","$client",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","getInternalRequest",668],"(",")",")",";",["T_WHITESPACE","\n    ",668],"}",["T_WHITESPACE","\n\n    ",669],["T_PUBLIC","public",671],["T_WHITESPACE"," ",671],["T_FUNCTION","function",671],["T_WHITESPACE"," ",671],["T_STRING","testInternalRequestNull",671],"(",")",["T_WHITESPACE","\n    ",671],"{",["T_WHITESPACE","\n        ",672],["T_VARIABLE","$client",673],["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_NEW","new",673],["T_WHITESPACE"," ",673],["T_STRING","TestClient",673],"(",")",";",["T_WHITESPACE","\n        ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","assertNull",674],"(",["T_VARIABLE","$client",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getInternalRequest",674],"(",")",")",";",["T_WHITESPACE","\n    ",674],"}",["T_WHITESPACE","\n",675],"}",["T_WHITESPACE","\n",676]]