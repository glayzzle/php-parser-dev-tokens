[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Setup",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Mvc",7],["T_NS_SEPARATOR","\\",7],["T_STRING","View",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Http",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Zend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Mvc",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MvcEvent",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Zend",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mvc",10],["T_NS_SEPARATOR","\\",10],["T_STRING","View",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Http",10],["T_NS_SEPARATOR","\\",10],["T_STRING","InjectTemplateListener",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","ZendInjectTemplateListener",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","InjectTemplateListener",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","ZendInjectTemplateListener",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Determine the top-level namespace of the controller\n     *\n     * @param  string $controller\n     * @return string\n     *\/",14],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","deriveModuleNamespace",20],"(",["T_VARIABLE","$controller",20],")",["T_WHITESPACE","\n    ",20],"{",["T_WHITESPACE","\n        ",21],["T_IF","if",22],["T_WHITESPACE"," ",22],"(","!",["T_STRING","strstr",22],"(",["T_VARIABLE","$controller",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",22],")",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n            ",22],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","''",23],";",["T_WHITESPACE","\n        ",23],"}",["T_WHITESPACE","\n\n        ",24],["T_COMMENT","\/\/ Retrieve the first two elemenents representing the vendor and module name.\n",26],["T_WHITESPACE","        ",27],["T_VARIABLE","$nsArray",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","explode",27],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$controller",27],")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$subNsArray",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","array_slice",28],"(",["T_VARIABLE","$nsArray",28],",",["T_WHITESPACE"," ",28],["T_LNUMBER","0",28],",",["T_WHITESPACE"," ",28],["T_LNUMBER","2",28],")",";",["T_WHITESPACE","\n        ",28],["T_RETURN","return",29],["T_WHITESPACE"," ",29],["T_STRING","implode",29],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$subNsArray",29],")",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @param string $namespace\n     * @return string\n     *\/",32],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","deriveControllerSubNamespace",36],"(",["T_VARIABLE","$namespace",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(","!",["T_STRING","strstr",38],"(",["T_VARIABLE","$namespace",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",38],")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n            ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","''",39],";",["T_WHITESPACE","\n        ",39],"}",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$nsArray",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","explode",41],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$namespace",41],")",";",["T_WHITESPACE","\n\n        ",41],["T_COMMENT","\/\/ Remove the first three elements representing the vendor, module name and controller directory.\n",43],["T_WHITESPACE","        ",44],["T_VARIABLE","$subNsArray",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","array_slice",44],"(",["T_VARIABLE","$nsArray",44],",",["T_WHITESPACE"," ",44],["T_LNUMBER","3",44],")",";",["T_WHITESPACE","\n        ",44],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_EMPTY","empty",45],"(",["T_VARIABLE","$subNsArray",45],")",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_RETURN","return",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","''",46],";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE","\n        ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_STRING","implode",48],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$subNsArray",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Inject a template into the view model, if none present\n     *\n     * Template is derived from the controller found in the route match, and,\n     * optionally, the action, if present.\n     *\n     * @param  MvcEvent $e\n     * @return void\n     *\/",51],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","injectTemplate",60],"(",["T_STRING","MvcEvent",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$e",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$e",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getRouteMatch",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","setParam",62],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",62],",",["T_WHITESPACE"," ",62],["T_STRING","null",62],")",";",["T_WHITESPACE","\n        ",62],["T_STRING","parent",63],["T_DOUBLE_COLON","::",63],["T_STRING","injectTemplate",63],"(",["T_VARIABLE","$e",63],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n",64],"}",["T_WHITESPACE","\n",65]]