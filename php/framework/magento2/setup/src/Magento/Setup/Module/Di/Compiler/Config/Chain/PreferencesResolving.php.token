[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Setup",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Module",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Di",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Compiler",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Config",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Chain",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Setup",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Module",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Di",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Compiler",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ModificationInterface",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","PreferencesResolving",11],["T_WHITESPACE"," ",11],["T_IMPLEMENTS","implements",11],["T_WHITESPACE"," ",11],["T_STRING","ModificationInterface",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Modifies input config\n     *\n     * @param array $config\n     * @return array\n     *\/",13],["T_WHITESPACE","\n    ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","modify",19],"(",["T_ARRAY","array",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$config",19],")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_IF","if",21],["T_WHITESPACE"," ",21],"(","!",["T_ISSET","isset",21],"(",["T_VARIABLE","$config",21],"[",["T_CONSTANT_ENCAPSED_STRING","'arguments'",21],"]",",",["T_WHITESPACE"," ",21],["T_VARIABLE","$config",21],"[",["T_CONSTANT_ENCAPSED_STRING","'preferences'",21],"]",")",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n            ",21],["T_RETURN","return",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$config",22],";",["T_WHITESPACE","\n        ",22],"}",["T_WHITESPACE","\n\n        ",23],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","resolvePreferences",25],"(",["T_VARIABLE","$config",25],"[",["T_CONSTANT_ENCAPSED_STRING","'arguments'",25],"]",",",["T_WHITESPACE"," ",25],["T_VARIABLE","$config",25],"[",["T_CONSTANT_ENCAPSED_STRING","'preferences'",25],"]",")",";",["T_WHITESPACE","\n\n        ",25],["T_RETURN","return",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$config",27],";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Replaces interfaces to their concrete implementations in scope of current config\n     *\n     * @param array $argument\n     * @param array $preferences\n     * @return array\n     *\/",30],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","resolvePreferences",37],"(","&",["T_VARIABLE","$argument",37],",",["T_WHITESPACE"," ",37],"&",["T_VARIABLE","$preferences",37],")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_IF","if",39],["T_WHITESPACE"," ",39],"(","!",["T_STRING","is_array",39],"(",["T_VARIABLE","$argument",39],")",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n            ",39],["T_RETURN","return",40],";",["T_WHITESPACE","\n        ",40],"}",["T_WHITESPACE","\n\n        ",41],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$argument",43],["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$key",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],"&",["T_VARIABLE","$value",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_STRING","in_array",44],"(",["T_VARIABLE","$key",44],",",["T_WHITESPACE"," ",44],"[",["T_CONSTANT_ENCAPSED_STRING","'_i_'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'_ins_'",44],"]",")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n                ",44],["T_VARIABLE","$value",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","resolvePreferenceRecursive",45],"(",["T_VARIABLE","$value",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$preferences",45],")",";",["T_WHITESPACE","\n                ",45],["T_CONTINUE","continue",46],";",["T_WHITESPACE","\n            ",46],"}",["T_WHITESPACE","\n\n            ",47],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_STRING","is_array",49],"(",["T_VARIABLE","$value",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n                ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","resolvePreferences",50],"(",["T_VARIABLE","$value",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$preferences",50],")",";",["T_WHITESPACE","\n            ",50],"}",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Resolves preference recursively\n     *\n     * @param string $value\n     * @param array $preferences\n     *\n     * @return string\n     *\/",55],["T_WHITESPACE","\n    ",62],["T_PRIVATE","private",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","resolvePreferenceRecursive",63],"(","&",["T_VARIABLE","$value",63],",",["T_WHITESPACE"," ",63],"&",["T_VARIABLE","$preferences",63],")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_ISSET","isset",65],"(",["T_VARIABLE","$preferences",65],"[",["T_VARIABLE","$value",65],"]",")",["T_WHITESPACE","\n            ",65],"?",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","resolvePreferenceRecursive",66],"(",["T_VARIABLE","$preferences",66],"[",["T_VARIABLE","$value",66],"]",",",["T_WHITESPACE"," ",66],["T_VARIABLE","$preferences",66],")",["T_WHITESPACE","\n            ",66],":",["T_WHITESPACE"," ",67],["T_VARIABLE","$value",67],";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n",68],"}",["T_WHITESPACE","\n",69]]