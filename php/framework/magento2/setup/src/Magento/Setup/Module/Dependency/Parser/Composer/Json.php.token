[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Setup",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Module",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Dependency",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Parser",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Composer",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Composer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Package",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Setup",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Module",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Dependency",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ParserInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Composer Json parser\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Json",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_STRING","ParserInterface",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","parse",19],"(",["T_ARRAY","array",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$options",19],")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","checkOptions",21],"(",["T_VARIABLE","$options",21],")",";",["T_WHITESPACE","\n\n        ",21],["T_VARIABLE","$modules",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[","]",";",["T_WHITESPACE","\n        ",23],["T_FOREACH","foreach",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$options",24],"[",["T_CONSTANT_ENCAPSED_STRING","'files_for_parse'",24],"]",["T_WHITESPACE"," ",24],["T_AS","as",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$file",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n            ",24],["T_VARIABLE","$package",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getModuleComposerPackage",25],"(",["T_VARIABLE","$file",25],")",";",["T_WHITESPACE","\n            ",25],["T_VARIABLE","$modules",26],"[","]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n                ",26],["T_CONSTANT_ENCAPSED_STRING","'name'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","extractModuleName",27],"(",["T_VARIABLE","$package",27],")",",",["T_WHITESPACE","\n                ",27],["T_CONSTANT_ENCAPSED_STRING","'dependencies'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","extractDependencies",28],"(",["T_VARIABLE","$package",28],")",",",["T_WHITESPACE","\n            ",28],"]",";",["T_WHITESPACE","\n        ",29],"}",["T_WHITESPACE","\n        ",30],["T_RETURN","return",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$modules",31],";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Template method. Check passed options step\n     *\n     * @param array $options\n     * @return void\n     * @throws \\InvalidArgumentException\n     *\/",34],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","checkOptions",41],"(",["T_VARIABLE","$options",41],")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_IF","if",43],["T_WHITESPACE"," ",43],"(","!",["T_ISSET","isset",43],"(",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$options",44],"[",["T_CONSTANT_ENCAPSED_STRING","'files_for_parse'",44],"]",["T_WHITESPACE","\n        ",44],")",["T_WHITESPACE"," ",45],["T_BOOLEAN_OR","||",45],["T_WHITESPACE"," ",45],"!",["T_STRING","is_array",45],"(",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$options",46],"[",["T_CONSTANT_ENCAPSED_STRING","'files_for_parse'",46],"]",["T_WHITESPACE","\n        ",46],")",["T_WHITESPACE"," ",47],["T_BOOLEAN_OR","||",47],["T_WHITESPACE"," ",47],"!",["T_VARIABLE","$options",47],"[",["T_CONSTANT_ENCAPSED_STRING","'files_for_parse'",47],"]",["T_WHITESPACE","\n        ",47],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_THROW","throw",49],["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_NS_SEPARATOR","\\",49],["T_STRING","InvalidArgumentException",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Parse error: Option \"files_for_parse\" is wrong.'",49],")",";",["T_WHITESPACE","\n        ",49],"}",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Template method. Extract module step\n     *\n     * @param Package $package\n     * @return string\n     *\/",53],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","extractModuleName",59],"(",["T_VARIABLE","$package",59],")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","prepareModuleName",61],"(",["T_STRING_CAST","(string)",61],["T_VARIABLE","$package",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",61],")",")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Template method. Extract dependencies step\n     *\n     * @param Package $package\n     * @return array\n     *\/",64],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","extractDependencies",70],"(",["T_VARIABLE","$package",70],")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$dependencies",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[","]",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$requires",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$package",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","get",73],"(",["T_CONSTANT_ENCAPSED_STRING","'require'",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'\/.+\\\/module-\/'",73],")",";",["T_WHITESPACE","\n        ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$requires",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$requires",75],["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$key",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$value",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n                ",75],["T_VARIABLE","$dependencies",76],"[","]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[",["T_WHITESPACE","\n                    ",76],["T_CONSTANT_ENCAPSED_STRING","'module'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","prepareModuleName",77],"(",["T_VARIABLE","$key",77],")",",",["T_WHITESPACE","\n                    ",77],["T_CONSTANT_ENCAPSED_STRING","'type'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'hard'",78],",",["T_WHITESPACE","\n                ",78],"]",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$suggests",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$package",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","get",83],"(",["T_CONSTANT_ENCAPSED_STRING","'suggest'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'\/.+\\\/module-\/'",83],")",";",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$suggests",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_FOREACH","foreach",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$suggests",85],["T_WHITESPACE"," ",85],["T_AS","as",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$key",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$value",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$dependencies",86],"[","]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],"[",["T_WHITESPACE","\n                    ",86],["T_CONSTANT_ENCAPSED_STRING","'module'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","prepareModuleName",87],"(",["T_VARIABLE","$key",87],")",",",["T_WHITESPACE","\n                    ",87],["T_CONSTANT_ENCAPSED_STRING","'type'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'soft'",88],",",["T_WHITESPACE","\n                ",88],"]",";",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$dependencies",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Template method. Load module config step\n     *\n     * @param string $file\n     * @return Package\n     *\/",96],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","getModuleComposerPackage",102],"(",["T_VARIABLE","$file",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","Package",104],"(",["T_STRING","json_decode",104],"(",["T_STRING","file_get_contents",104],"(",["T_VARIABLE","$file",104],")",")",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Prepare module name\n     *\n     * @param string $name\n     * @return string\n     *\/",107],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","prepareModuleName",113],"(",["T_VARIABLE","$name",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$name",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n",116],"}",["T_WHITESPACE","\n",117]]