[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Setup",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Module",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Di",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Code",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Scanner",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Code",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Generator",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Proxy",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","ProxyGenerator",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","XmlScanner",10],["T_WHITESPACE"," ",10],["T_IMPLEMENTS","implements",10],["T_WHITESPACE"," ",10],["T_STRING","ScannerInterface",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Setup\\Module\\Di\\Compiler\\Log\\Log $log\n     *\/",12],["T_WHITESPACE","\n    ",14],["T_PROTECTED","protected",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$_log",15],";",["T_WHITESPACE","\n\n    ",15],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Setup\\Module\\Di\\Compiler\\Log\\Log $log\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","__construct",20],"(",["T_NS_SEPARATOR","\\",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Setup",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Module",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Di",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Compiler",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Log",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Log",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$log",20],")",["T_WHITESPACE","\n    ",20],"{",["T_WHITESPACE","\n        ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","_log",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$log",22],";",["T_WHITESPACE","\n    ",22],"}",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Get array of class names\n     *\n     * @param array $files\n     * @return array\n     *\/",25],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","collectEntities",31],"(",["T_ARRAY","array",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$files",31],")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$output",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"[","]",";",["T_WHITESPACE","\n        ",33],["T_FOREACH","foreach",34],["T_WHITESPACE"," ",34],"(",["T_VARIABLE","$files",34],["T_WHITESPACE"," ",34],["T_AS","as",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$file",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n            ",34],["T_VARIABLE","$dom",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_NS_SEPARATOR","\\",35],["T_STRING","DOMDocument",35],"(",")",";",["T_WHITESPACE","\n            ",35],["T_VARIABLE","$dom",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","load",36],"(",["T_VARIABLE","$file",36],")",";",["T_WHITESPACE","\n            ",36],["T_VARIABLE","$xpath",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_NS_SEPARATOR","\\",37],["T_STRING","DOMXPath",37],"(",["T_VARIABLE","$dom",37],")",";",["T_WHITESPACE","\n            ",37],["T_VARIABLE","$xpath",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","registerNamespace",38],"(",["T_CONSTANT_ENCAPSED_STRING","\"php\"",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"http:\/\/php.net\/xpath\"",38],")",";",["T_WHITESPACE","\n            ",38],["T_VARIABLE","$xpath",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","registerPhpFunctions",39],"(",["T_CONSTANT_ENCAPSED_STRING","'preg_match'",39],")",";",["T_WHITESPACE","\n            ",39],["T_VARIABLE","$regex",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'\/^(.*)\\\\\\(.*)Proxy$\/'",40],";",["T_WHITESPACE","\n            ",40],["T_VARIABLE","$query",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"\"",["T_ENCAPSED_AND_WHITESPACE","\/config\/preference[ php:functionString('preg_match', '",41],["T_CURLY_OPEN","{",41],["T_VARIABLE","$regex",41],"}",["T_ENCAPSED_AND_WHITESPACE","', @type) > 0]\/@type | ",41],"\"",["T_WHITESPACE"," ",41],".",["T_WHITESPACE","\n                ",41],"\"",["T_ENCAPSED_AND_WHITESPACE","\/\/argument[@xsi:type='object' and php:functionString('preg_match', '",42],["T_CURLY_OPEN","{",42],["T_VARIABLE","$regex",42],"}",["T_ENCAPSED_AND_WHITESPACE","', text()) > 0] |",42],"\"",["T_WHITESPACE"," ",42],".",["T_WHITESPACE","\n                ",42],"\"",["T_ENCAPSED_AND_WHITESPACE","\/\/item[@xsi:type='object' and php:functionString('preg_match', '",43],["T_CURLY_OPEN","{",43],["T_VARIABLE","$regex",43],"}",["T_ENCAPSED_AND_WHITESPACE","', text()) > 0] |",43],"\"",["T_WHITESPACE"," ",43],".",["T_WHITESPACE","\n                ",43],"\"",["T_ENCAPSED_AND_WHITESPACE","\/config\/virtualType[ php:functionString('preg_match', '",44],["T_CURLY_OPEN","{",44],["T_VARIABLE","$regex",44],"}",["T_ENCAPSED_AND_WHITESPACE","', @type) > 0]\/@type",44],"\"",";",["T_WHITESPACE","\n            ",44],["T_DOC_COMMENT","\/** @var \\DOMNode $node *\/",45],["T_WHITESPACE","\n            ",45],["T_FOREACH","foreach",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$xpath",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","query",46],"(",["T_VARIABLE","$query",46],")",["T_WHITESPACE"," ",46],["T_AS","as",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$node",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n                ",46],["T_VARIABLE","$output",47],"[","]",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$node",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","nodeValue",47],";",["T_WHITESPACE","\n            ",47],"}",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$output",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","array_unique",50],"(",["T_VARIABLE","$output",50],")",";",["T_WHITESPACE","\n        ",50],["T_RETURN","return",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_filterEntities",51],"(",["T_VARIABLE","$output",51],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Filter found entities if needed\n     *\n     * @param array $output\n     * @return array\n     *\/",54],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","_filterEntities",60],"(",["T_ARRAY","array",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$output",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$entitySuffix",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_STRING","ucfirst",62],"(",["T_STRING","ProxyGenerator",62],["T_DOUBLE_COLON","::",62],["T_STRING","ENTITY_TYPE",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$filteredEntities",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"[","]",";",["T_WHITESPACE","\n        ",63],["T_FOREACH","foreach",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$output",64],["T_WHITESPACE"," ",64],["T_AS","as",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$className",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$entityName",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","substr",65],"(",["T_VARIABLE","$className",65],",",["T_WHITESPACE"," ",65],"-",["T_STRING","strlen",65],"(",["T_VARIABLE","$entitySuffix",65],")",")",["T_WHITESPACE"," ",65],["T_IS_IDENTICAL","===",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$entitySuffix",65],["T_WHITESPACE","\n                ",65],"?",["T_WHITESPACE"," ",66],["T_STRING","substr",66],"(",["T_VARIABLE","$className",66],",",["T_WHITESPACE"," ",66],["T_LNUMBER","0",66],",",["T_WHITESPACE"," ",66],"-",["T_STRING","strlen",66],"(",["T_VARIABLE","$entitySuffix",66],")",")",["T_WHITESPACE","\n                ",66],":",["T_WHITESPACE"," ",67],["T_VARIABLE","$className",67],";",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$isClassExists",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","false",68],";",["T_WHITESPACE","\n            ",68],["T_TRY","try",69],["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$isClassExists",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","class_exists",70],"(",["T_VARIABLE","$className",70],")",";",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE"," ",71],["T_CATCH","catch",71],["T_WHITESPACE"," ",71],"(",["T_NS_SEPARATOR","\\",71],["T_STRING","RuntimeException",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$e",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],"}",["T_WHITESPACE","\n            ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_STRING","false",73],["T_WHITESPACE"," ",73],["T_IS_IDENTICAL","===",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$isClassExists",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_STRING","class_exists",74],"(",["T_VARIABLE","$entityName",74],")",["T_WHITESPACE"," ",74],["T_BOOLEAN_OR","||",74],["T_WHITESPACE"," ",74],["T_STRING","interface_exists",74],"(",["T_VARIABLE","$entityName",74],")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                    ",74],["T_STRING","array_push",75],"(",["T_VARIABLE","$filteredEntities",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$className",75],")",";",["T_WHITESPACE","\n                ",75],"}",["T_WHITESPACE"," ",76],["T_ELSE","else",76],["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_log",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","add",77],"(",["T_WHITESPACE","\n                        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Setup",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Module",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Di",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Compiler",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Log",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Log",78],["T_DOUBLE_COLON","::",78],["T_STRING","CONFIGURATION_ERROR",78],",",["T_WHITESPACE","\n                        ",78],["T_VARIABLE","$className",79],",",["T_WHITESPACE","\n                        ",79],["T_CONSTANT_ENCAPSED_STRING","'Invalid proxy class for '",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_STRING","substr",80],"(",["T_VARIABLE","$className",80],",",["T_WHITESPACE"," ",80],["T_LNUMBER","0",80],",",["T_WHITESPACE"," ",80],"-",["T_LNUMBER","5",80],")",["T_WHITESPACE","\n                    ",80],")",";",["T_WHITESPACE","\n                ",81],"}",["T_WHITESPACE","\n            ",82],"}",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n        ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$filteredEntities",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n",86],"}",["T_WHITESPACE","\n",87]]