[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Setup",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Validator",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Setup",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Validator",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DbValidator",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Setup",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Module",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConnectionFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DB",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Adapter",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AdapterInterface",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","DbValidatorTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var DbValidator|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PRIVATE","private",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$dbValidator",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var ConnectionFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$connectionFactory",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var AdapterInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$connection",28],";",["T_WHITESPACE","\n\n    ",28],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","connectionFactory",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getMock",32],"(",["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Setup",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Module",32],["T_NS_SEPARATOR","\\",32],["T_STRING","ConnectionFactory",32],["T_DOUBLE_COLON","::",32],["T_CLASS","class",32],",",["T_WHITESPACE"," ",32],"[","]",",",["T_WHITESPACE"," ",32],"[","]",",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","''",32],",",["T_WHITESPACE"," ",32],["T_STRING","false",32],")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","connection",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getMockForAbstractClass",33],"(",["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Framework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","DB",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Adapter",33],["T_NS_SEPARATOR","\\",33],["T_STRING","AdapterInterface",33],["T_DOUBLE_COLON","::",33],["T_CLASS","class",33],")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","connectionFactory",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","expects",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","any",34],"(",")",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","method",34],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",34],")",["T_OBJECT_OPERATOR","->",34],["T_STRING","willReturn",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","connection",34],")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","dbValidator",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_STRING","DbValidator",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","connectionFactory",35],")",";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","testCheckDatabaseConnection",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","connection",40],["T_WHITESPACE","\n            ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","expects",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","exactly",41],"(",["T_LNUMBER","2",41],")",")",["T_WHITESPACE","\n            ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","method",42],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchOne'",42],")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","with",43],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT version()'",43],")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","willReturn",44],"(",["T_CONSTANT_ENCAPSED_STRING","'5.6.0-0ubuntu0.12.04.1'",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$pdo",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMockForAbstractClass",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Zend_Db_Statement_Interface",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],",",["T_WHITESPACE"," ",45],"[","]",",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","''",45],",",["T_WHITESPACE"," ",45],["T_STRING","false",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","connection",46],["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","expects",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","atLeastOnce",47],"(",")",")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","method",48],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",48],")",["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","willReturn",49],"(",["T_VARIABLE","$pdo",49],")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$listOfPrivileges",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n            ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'SELECT'",52],"]",",",["T_WHITESPACE","\n            ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'INSERT'",53],"]",",",["T_WHITESPACE","\n            ",53],"[",["T_CONSTANT_ENCAPSED_STRING","'UPDATE'",54],"]",",",["T_WHITESPACE","\n            ",54],"[",["T_CONSTANT_ENCAPSED_STRING","'DELETE'",55],"]",",",["T_WHITESPACE","\n            ",55],"[",["T_CONSTANT_ENCAPSED_STRING","'CREATE'",56],"]",",",["T_WHITESPACE","\n            ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'DROP'",57],"]",",",["T_WHITESPACE","\n            ",57],"[",["T_CONSTANT_ENCAPSED_STRING","'REFERENCES'",58],"]",",",["T_WHITESPACE","\n            ",58],"[",["T_CONSTANT_ENCAPSED_STRING","'INDEX'",59],"]",",",["T_WHITESPACE","\n            ",59],"[",["T_CONSTANT_ENCAPSED_STRING","'ALTER'",60],"]",",",["T_WHITESPACE","\n            ",60],"[",["T_CONSTANT_ENCAPSED_STRING","'CREATE TEMPORARY TABLES'",61],"]",",",["T_WHITESPACE","\n            ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'LOCK TABLES'",62],"]",",",["T_WHITESPACE","\n            ",62],"[",["T_CONSTANT_ENCAPSED_STRING","'EXECUTE'",63],"]",",",["T_WHITESPACE","\n            ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'CREATE VIEW'",64],"]",",",["T_WHITESPACE","\n            ",64],"[",["T_CONSTANT_ENCAPSED_STRING","'SHOW VIEW'",65],"]",",",["T_WHITESPACE","\n            ",65],"[",["T_CONSTANT_ENCAPSED_STRING","'CREATE ROUTINE'",66],"]",",",["T_WHITESPACE","\n            ",66],"[",["T_CONSTANT_ENCAPSED_STRING","'ALTER ROUTINE'",67],"]",",",["T_WHITESPACE","\n            ",67],"[",["T_CONSTANT_ENCAPSED_STRING","'EVENT'",68],"]",",",["T_WHITESPACE","\n            ",68],"[",["T_CONSTANT_ENCAPSED_STRING","'TRIGGER'",69],"]",",",["T_WHITESPACE","\n        ",69],"]",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$accessibleDbs",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"[",["T_CONSTANT_ENCAPSED_STRING","'some_db'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'name'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'another_db'",71],"]",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$pdo",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","expects",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","atLeastOnce",73],"(",")",")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchAll'",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","willReturnMap",75],"(",["T_WHITESPACE","\n                ",75],"[",["T_WHITESPACE","\n                    ",76],"[",["T_NS_SEPARATOR","\\",77],["T_STRING","PDO",77],["T_DOUBLE_COLON","::",77],["T_STRING","FETCH_COLUMN",77],",",["T_WHITESPACE"," ",77],["T_LNUMBER","0",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$accessibleDbs",77],"]",",",["T_WHITESPACE","\n                    ",77],"[",["T_NS_SEPARATOR","\\",78],["T_STRING","PDO",78],["T_DOUBLE_COLON","::",78],["T_STRING","FETCH_NUM",78],",",["T_WHITESPACE"," ",78],["T_STRING","null",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$listOfPrivileges",78],"]",["T_WHITESPACE","\n                ",78],"]",["T_WHITESPACE","\n            ",79],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEquals",81],"(",["T_STRING","true",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","dbValidator",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","checkDatabaseConnection",81],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'host'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'user'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'password'",81],")",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(",["T_STRING","true",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","dbValidator",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","checkDatabaseConnection",82],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'host:3339'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'user'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'password'",82],")",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Setup\\Exception\n     * @expectedExceptionMessage Database user does not have enough privileges.\n     *\/",85],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","testCheckDatabaseConnectionNotEnoughPrivileges",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","connection",91],["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","expects",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","once",92],"(",")",")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","method",93],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchOne'",93],")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","with",94],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT version()'",94],")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","willReturn",95],"(",["T_CONSTANT_ENCAPSED_STRING","'5.6.0-0ubuntu0.12.04.1'",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$pdo",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMockForAbstractClass",96],"(",["T_NS_SEPARATOR","\\",96],["T_STRING","Zend_Db_Statement_Interface",96],["T_DOUBLE_COLON","::",96],["T_CLASS","class",96],",",["T_WHITESPACE"," ",96],"[","]",",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","''",96],",",["T_WHITESPACE"," ",96],["T_STRING","false",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","connection",97],["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","expects",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","atLeastOnce",98],"(",")",")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","method",99],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",99],")",["T_WHITESPACE","\n            ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","willReturn",100],"(",["T_VARIABLE","$pdo",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$listOfPrivileges",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"[","[",["T_CONSTANT_ENCAPSED_STRING","'SELECT'",101],"]","]",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$accessibleDbs",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'some_db'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'name'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'another_db'",102],"]",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$pdo",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","expects",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","atLeastOnce",104],"(",")",")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","method",105],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchAll'",105],")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","willReturnMap",106],"(",["T_WHITESPACE","\n                ",106],"[",["T_WHITESPACE","\n                    ",107],"[",["T_NS_SEPARATOR","\\",108],["T_STRING","PDO",108],["T_DOUBLE_COLON","::",108],["T_STRING","FETCH_COLUMN",108],",",["T_WHITESPACE"," ",108],["T_LNUMBER","0",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$accessibleDbs",108],"]",",",["T_WHITESPACE","\n                    ",108],"[",["T_NS_SEPARATOR","\\",109],["T_STRING","PDO",109],["T_DOUBLE_COLON","::",109],["T_STRING","FETCH_NUM",109],",",["T_WHITESPACE"," ",109],["T_STRING","null",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$listOfPrivileges",109],"]",["T_WHITESPACE","\n                ",109],"]",["T_WHITESPACE","\n            ",110],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","dbValidator",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","checkDatabaseConnection",112],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'host'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'user'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'password'",112],")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Setup\\Exception\n     * @expectedExceptionMessage Database 'name' does not exist or specified database server user does not have\n     *\/",115],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testCheckDatabaseConnectionDbNotAccessible",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","connection",121],["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","expects",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","once",122],"(",")",")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","method",123],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchOne'",123],")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","with",124],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT version()'",124],")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","willReturn",125],"(",["T_CONSTANT_ENCAPSED_STRING","'5.6.0-0ubuntu0.12.04.1'",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$pdo",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getMockForAbstractClass",126],"(",["T_NS_SEPARATOR","\\",126],["T_STRING","Zend_Db_Statement_Interface",126],["T_DOUBLE_COLON","::",126],["T_CLASS","class",126],",",["T_WHITESPACE"," ",126],"[","]",",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","''",126],",",["T_WHITESPACE"," ",126],["T_STRING","false",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","connection",127],["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","expects",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","atLeastOnce",128],"(",")",")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","method",129],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",129],")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","willReturn",130],"(",["T_VARIABLE","$pdo",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$accessibleDbs",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],"[",["T_CONSTANT_ENCAPSED_STRING","'some_db'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'another_db'",131],"]",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$pdo",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","expects",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","atLeastOnce",133],"(",")",")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchAll'",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","willReturn",135],"(",["T_VARIABLE","$accessibleDbs",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","dbValidator",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","checkDatabaseConnection",136],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'host'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'user'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'password'",136],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testCheckDatabaseTablePrefix",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEquals",141],"(",["T_STRING","true",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","dbValidator",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","checkDatabaseTablePrefix",141],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",141],")",")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Please correct the table prefix format\n     *\/",144],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","testCheckDatabaseTablePrefixWrongFormat",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEquals",150],"(",["T_STRING","true",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","dbValidator",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","checkDatabaseTablePrefix",150],"(",["T_CONSTANT_ENCAPSED_STRING","'_wrong_format'",150],")",")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Table prefix length can't be more than\n     *\/",153],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","testCheckDatabaseTablePrefixWrongLength",157],"(",")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertEquals",159],"(",["T_WHITESPACE","\n            ",159],["T_STRING","true",160],",",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","dbValidator",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","checkDatabaseTablePrefix",161],"(",["T_CONSTANT_ENCAPSED_STRING","'mvbXzXzItSIr0wrZW3gqgV2UKrWiK1Mj7bkBlW72rZW3gqgV2UKrWiK1M'",161],")",["T_WHITESPACE","\n        ",161],")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Setup\\Exception\n     * @expectedExceptionMessage Database connection failure.\n     *\/",165],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","testCheckDatabaseConnectionFailed",169],"(",")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$connectionFactory",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getMock",171],"(",["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Setup",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Module",171],["T_NS_SEPARATOR","\\",171],["T_STRING","ConnectionFactory",171],["T_DOUBLE_COLON","::",171],["T_CLASS","class",171],",",["T_WHITESPACE"," ",171],"[","]",",",["T_WHITESPACE"," ",171],"[","]",",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","''",171],",",["T_WHITESPACE"," ",171],["T_STRING","false",171],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$connectionFactory",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","expects",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","once",172],"(",")",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","method",172],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","willReturn",172],"(",["T_STRING","false",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","dbValidator",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","DbValidator",173],"(",["T_VARIABLE","$connectionFactory",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","dbValidator",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","checkDatabaseConnection",174],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'host'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'user'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'password'",174],")",";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Setup\\Exception\n     * @expectedExceptionMessage Sorry, but we support MySQL version\n     *\/",177],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","testCheckDatabaseConnectionIncompatible",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","connection",183],["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","expects",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","once",184],"(",")",")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","method",185],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchOne'",185],")",["T_WHITESPACE","\n            ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","with",186],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT version()'",186],")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","willReturn",187],"(",["T_CONSTANT_ENCAPSED_STRING","'5.5.40-0ubuntu0.12.04.1'",187],")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","dbValidator",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","checkDatabaseConnection",188],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'host'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'user'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'password'",188],")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n",189],"}",["T_WHITESPACE","\n",190]]