[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Setup",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Composer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","InfoCommand",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Composer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","MagentoComposerApplication",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Composer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ComposerInformation",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Composer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","MagentoComposerApplicationFactory",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Class SystemPackage returns system package and available for update versions\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","SystemPackage",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var InfoCommand\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$infoCommand",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var MagentoComposerApplication\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$magentoComposerApplication",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var ComposerInformation\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$composerInfo",32],";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/**#@+\n     * Constants for different Magento editions\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","EDITION_COMMUNITY",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'magento\/product-community-edition'",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","EDITION_ENTERPRISE",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'magento\/product-enterprise-edition'",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","EDITION_B2B",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'magento\/product-b2b-edition'",39],";",["T_WHITESPACE","\n    ",39],["T_COMMENT","\/**#@-*\/",40],["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param MagentoComposerApplicationFactory $composerAppFactory\n     * @param ComposerInformation $composerInfo\n     *\/",42],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","__construct",48],"(",["T_WHITESPACE","\n        ",48],["T_STRING","MagentoComposerApplicationFactory",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$composerAppFactory",49],",",["T_WHITESPACE","\n        ",49],["T_STRING","ComposerInformation",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$composerInfo",50],["T_WHITESPACE","\n    ",50],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","infoCommand",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$composerAppFactory",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","createInfoCommand",52],"(",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","magentoComposerApplication",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$composerAppFactory",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","create",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","composerInfo",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$composerInfo",54],";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Returns system package and available versions\n     *\n     * @throws \\RuntimeException\n     * @return array\n     *\/",57],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","getPackageVersions",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$currentCE",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'0'",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$currentEE",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$currentCE",66],";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$result",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"[","]",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$systemPackages",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getInstalledSystemPackages",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$systemPackages",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$systemPackage",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$systemPackageInfo",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","infoCommand",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","run",71],"(",["T_VARIABLE","$systemPackage",71],")",";",["T_WHITESPACE","\n            ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(","!",["T_VARIABLE","$systemPackageInfo",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_THROW","throw",73],["T_WHITESPACE"," ",73],["T_NEW","new",73],["T_WHITESPACE"," ",73],["T_NS_SEPARATOR","\\",73],["T_STRING","RuntimeException",73],"(","\"",["T_ENCAPSED_AND_WHITESPACE","We cannot retrieve information on ",73],["T_VARIABLE","$systemPackage",73],["T_ENCAPSED_AND_WHITESPACE",".",73],"\"",")",";",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE","\n\n            ",74],["T_VARIABLE","$versions",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getSystemPackageVersions",76],"(",["T_VARIABLE","$systemPackageInfo",76],")",";",["T_WHITESPACE","\n\n            ",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$systemPackageInfo",78],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",78],"]",["T_WHITESPACE"," ",78],["T_IS_EQUAL","==",78],["T_WHITESPACE"," ",78],["T_STATIC","static",78],["T_DOUBLE_COLON","::",78],["T_STRING","EDITION_COMMUNITY",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_VARIABLE","$currentCE",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$systemPackageInfo",79],"[",["T_STRING","InfoCommand",79],["T_DOUBLE_COLON","::",79],["T_STRING","CURRENT_VERSION",79],"]",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n\n            ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$systemPackageInfo",82],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",82],"]",["T_WHITESPACE"," ",82],["T_IS_EQUAL","==",82],["T_WHITESPACE"," ",82],["T_STATIC","static",82],["T_DOUBLE_COLON","::",82],["T_STRING","EDITION_ENTERPRISE",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$currentEE",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$systemPackageInfo",83],"[",["T_STRING","InfoCommand",83],["T_DOUBLE_COLON","::",83],["T_STRING","CURRENT_VERSION",83],"]",";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE","\n\n            ",84],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","count",86],"(",["T_VARIABLE","$versions",86],")",["T_WHITESPACE"," ",86],">",["T_WHITESPACE"," ",86],["T_LNUMBER","1",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$versions",87],"[",["T_LNUMBER","0",87],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",87],"]",["T_WHITESPACE"," ",87],["T_CONCAT_EQUAL",".=",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","' (latest)'",87],";",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE","\n\n            ",88],["T_VARIABLE","$result",90],"[","]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[",["T_WHITESPACE","\n                ",90],["T_CONSTANT_ENCAPSED_STRING","'package'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$systemPackageInfo",91],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",91],"]",",",["T_WHITESPACE","\n                ",91],["T_CONSTANT_ENCAPSED_STRING","'versions'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$versions",92],",",["T_WHITESPACE","\n            ",92],"]",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_IF","if",96],["T_WHITESPACE"," ",96],"(","!",["T_STRING","in_array",96],"(",["T_STATIC","static",96],["T_DOUBLE_COLON","::",96],["T_STRING","EDITION_ENTERPRISE",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$systemPackages",96],")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$result",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","array_merge",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getAllowedEnterpriseVersions",97],"(",["T_VARIABLE","$currentCE",97],")",",",["T_WHITESPACE"," ",97],["T_VARIABLE","$result",97],")",";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n\n        ",98],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_WHITESPACE","\n            ",100],["T_STRING","in_array",101],"(",["T_STATIC","static",101],["T_DOUBLE_COLON","::",101],["T_STRING","EDITION_ENTERPRISE",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$systemPackages",101],")",["T_WHITESPACE","\n            ",101],["T_BOOLEAN_AND","&&",102],["T_WHITESPACE"," ",102],"!",["T_STRING","in_array",102],"(",["T_STATIC","static",102],["T_DOUBLE_COLON","::",102],["T_STRING","EDITION_B2B",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$systemPackages",102],")",["T_WHITESPACE","\n        ",102],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$result",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","array_merge",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getAllowedB2BVersions",104],"(",["T_VARIABLE","$currentEE",104],")",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$result",104],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$result",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","formatPackages",107],"(",["T_VARIABLE","$result",107],")",";",["T_WHITESPACE","\n\n        ",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$result",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Retrieve allowed EE versions\n     *\n     * @param string $currentCE\n     * @return array\n     *\/",112],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","getAllowedEnterpriseVersions",118],"(",["T_VARIABLE","$currentCE",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$result",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[","]",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$enterpriseVersions",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","infoCommand",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","run",121],"(",["T_STATIC","static",121],["T_DOUBLE_COLON","::",121],["T_STRING","EDITION_ENTERPRISE",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$eeVersions",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],"[","]",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$maxVersion",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","''",123],";",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_STRING","is_array",124],"(",["T_VARIABLE","$enterpriseVersions",124],")",["T_WHITESPACE"," ",124],["T_BOOLEAN_AND","&&",124],["T_WHITESPACE"," ",124],["T_STRING","array_key_exists",124],"(",["T_STRING","InfoCommand",124],["T_DOUBLE_COLON","::",124],["T_STRING","AVAILABLE_VERSIONS",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$enterpriseVersions",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$enterpriseVersions",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","sortVersions",125],"(",["T_VARIABLE","$enterpriseVersions",125],")",";",["T_WHITESPACE","\n            ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_ISSET","isset",126],"(",["T_VARIABLE","$enterpriseVersions",126],"[",["T_STRING","InfoCommand",126],["T_DOUBLE_COLON","::",126],["T_STRING","AVAILABLE_VERSIONS",126],"]","[",["T_LNUMBER","0",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$maxVersion",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$enterpriseVersions",127],"[",["T_STRING","InfoCommand",127],["T_DOUBLE_COLON","::",127],["T_STRING","AVAILABLE_VERSIONS",127],"]","[",["T_LNUMBER","0",127],"]",";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$eeVersions",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","filterEeVersions",129],"(",["T_VARIABLE","$currentCE",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$enterpriseVersions",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$maxVersion",129],")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n\n        ",130],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","!",["T_EMPTY","empty",132],"(",["T_VARIABLE","$eeVersions",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$result",133],"[","]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],"[",["T_WHITESPACE","\n                ",133],["T_CONSTANT_ENCAPSED_STRING","'package'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STATIC","static",134],["T_DOUBLE_COLON","::",134],["T_STRING","EDITION_ENTERPRISE",134],",",["T_WHITESPACE","\n                ",134],["T_CONSTANT_ENCAPSED_STRING","'versions'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$eeVersions",135],",",["T_WHITESPACE","\n            ",135],"]",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$result",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Retrieve allowed B2B versions\n     *\n     * @param string $currentEE\n     * @return array\n     *\/",141],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","getAllowedB2BVersions",147],"(",["T_VARIABLE","$currentEE",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$result",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"[","]",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$versions",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","fetchInfoVersions",150],"(",["T_STATIC","static",150],["T_DOUBLE_COLON","::",150],["T_STRING","EDITION_B2B",150],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$versionsPrepared",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],"[","]",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$maxVersion",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],";",["T_WHITESPACE","\n\n        ",152],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$versions",154],"[",["T_STRING","InfoCommand",154],["T_DOUBLE_COLON","::",154],["T_STRING","AVAILABLE_VERSIONS",154],"]",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$versions",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","sortVersions",155],"(",["T_VARIABLE","$versions",155],")",";",["T_WHITESPACE","\n            ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_ISSET","isset",156],"(",["T_VARIABLE","$versions",156],"[",["T_STRING","InfoCommand",156],["T_DOUBLE_COLON","::",156],["T_STRING","AVAILABLE_VERSIONS",156],"]","[",["T_LNUMBER","0",156],"]",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$maxVersion",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$versions",157],"[",["T_STRING","InfoCommand",157],["T_DOUBLE_COLON","::",157],["T_STRING","AVAILABLE_VERSIONS",157],"]","[",["T_LNUMBER","0",157],"]",";",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$versionsPrepared",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","filterB2bVersions",159],"(",["T_VARIABLE","$currentEE",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$versions",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$maxVersion",159],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n\n        ",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$versionsPrepared",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$result",163],"[","]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"[",["T_WHITESPACE","\n                ",163],["T_CONSTANT_ENCAPSED_STRING","'package'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_STATIC","static",164],["T_DOUBLE_COLON","::",164],["T_STRING","EDITION_B2B",164],",",["T_WHITESPACE","\n                ",164],["T_CONSTANT_ENCAPSED_STRING","'versions'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$versionsPrepared",165],",",["T_WHITESPACE","\n            ",165],"]",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n\n        ",167],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$result",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Fetching of info command response to display all correct versions\n     *\n     * @param string $command\n     * @return array\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PRIVATE","private",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","fetchInfoVersions",178],"(",["T_VARIABLE","$command",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$versions",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_ARRAY_CAST","(array)",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","infoCommand",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","run",180],"(",["T_VARIABLE","$command",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$versions",182],"[",["T_STRING","InfoCommand",182],["T_DOUBLE_COLON","::",182],["T_STRING","CURRENT_VERSION",182],"]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ISSET","isset",182],"(",["T_VARIABLE","$versions",182],"[",["T_STRING","InfoCommand",182],["T_DOUBLE_COLON","::",182],["T_STRING","CURRENT_VERSION",182],"]",")",["T_WHITESPACE","\n            ",182],"?",["T_WHITESPACE"," ",183],["T_VARIABLE","$versions",183],"[",["T_STRING","InfoCommand",183],["T_DOUBLE_COLON","::",183],["T_STRING","CURRENT_VERSION",183],"]",["T_WHITESPACE","\n            ",183],":",["T_WHITESPACE"," ",184],["T_STRING","null",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$versions",185],"[",["T_STRING","InfoCommand",185],["T_DOUBLE_COLON","::",185],["T_STRING","AVAILABLE_VERSIONS",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ISSET","isset",185],"(",["T_VARIABLE","$versions",185],"[",["T_STRING","InfoCommand",185],["T_DOUBLE_COLON","::",185],["T_STRING","AVAILABLE_VERSIONS",185],"]",")",["T_WHITESPACE","\n            ",185],"?",["T_WHITESPACE"," ",186],["T_VARIABLE","$versions",186],"[",["T_STRING","InfoCommand",186],["T_DOUBLE_COLON","::",186],["T_STRING","AVAILABLE_VERSIONS",186],"]",["T_WHITESPACE","\n            ",186],":",["T_WHITESPACE"," ",187],["T_STRING","null",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$versions",188],"[",["T_STRING","InfoCommand",188],["T_DOUBLE_COLON","::",188],["T_STRING","AVAILABLE_VERSIONS",188],"]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","array_unique",188],"(",["T_WHITESPACE","\n            ",188],["T_STRING","array_merge",189],"(",["T_WHITESPACE","\n                ",189],["T_ARRAY_CAST","(array)",190],["T_VARIABLE","$versions",190],"[",["T_STRING","InfoCommand",190],["T_DOUBLE_COLON","::",190],["T_STRING","CURRENT_VERSION",190],"]",",",["T_WHITESPACE","\n                ",190],["T_ARRAY_CAST","(array)",191],["T_VARIABLE","$versions",191],"[",["T_STRING","InfoCommand",191],["T_DOUBLE_COLON","::",191],["T_STRING","AVAILABLE_VERSIONS",191],"]",["T_WHITESPACE","\n            ",191],")",["T_WHITESPACE","\n        ",192],")",";",["T_WHITESPACE","\n\n        ",193],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$versions",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Retrieve package versions\n     *\n     * @param array $systemPackageInfo\n     * @return array\n     *\/",198],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","getSystemPackageVersions",204],"(",["T_VARIABLE","$systemPackageInfo",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$editionType",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","''",206],";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$versions",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],"[","]",";",["T_WHITESPACE","\n\n        ",207],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$systemPackageInfo",209],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",209],"]",["T_WHITESPACE"," ",209],["T_IS_EQUAL","==",209],["T_WHITESPACE"," ",209],["T_STATIC","static",209],["T_DOUBLE_COLON","::",209],["T_STRING","EDITION_COMMUNITY",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$editionType",210],["T_WHITESPACE"," ",210],["T_CONCAT_EQUAL",".=",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'CE'",210],";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE"," ",211],["T_ELSEIF","elseif",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$systemPackageInfo",211],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",211],"]",["T_WHITESPACE"," ",211],["T_IS_EQUAL","==",211],["T_WHITESPACE"," ",211],["T_STATIC","static",211],["T_DOUBLE_COLON","::",211],["T_STRING","EDITION_ENTERPRISE",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$editionType",212],["T_WHITESPACE"," ",212],["T_CONCAT_EQUAL",".=",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'EE'",212],";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE"," ",213],["T_ELSEIF","elseif",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$systemPackageInfo",213],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",213],"]",["T_WHITESPACE"," ",213],["T_IS_EQUAL","==",213],["T_WHITESPACE"," ",213],["T_STATIC","static",213],["T_DOUBLE_COLON","::",213],["T_STRING","EDITION_B2B",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$editionType",214],["T_WHITESPACE"," ",214],["T_CONCAT_EQUAL",".=",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'B2B'",214],";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n\n        ",215],["T_FOREACH","foreach",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$systemPackageInfo",217],"[",["T_STRING","InfoCommand",217],["T_DOUBLE_COLON","::",217],["T_STRING","NEW_VERSIONS",217],"]",["T_WHITESPACE"," ",217],["T_AS","as",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$version",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$versions",218],"[","]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$version",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'name'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'Version '",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_VARIABLE","$version",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","' '",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_VARIABLE","$editionType",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'current'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_STRING","false",218],"]",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n\n        ",219],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$systemPackageInfo",221],"[",["T_STRING","InfoCommand",221],["T_DOUBLE_COLON","::",221],["T_STRING","CURRENT_VERSION",221],"]",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$versions",222],"[","]",["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],"[",["T_WHITESPACE","\n                ",222],["T_CONSTANT_ENCAPSED_STRING","'id'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$systemPackageInfo",223],"[",["T_STRING","InfoCommand",223],["T_DOUBLE_COLON","::",223],["T_STRING","CURRENT_VERSION",223],"]",",",["T_WHITESPACE","\n                ",223],["T_CONSTANT_ENCAPSED_STRING","'name'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'Version '",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_VARIABLE","$systemPackageInfo",224],"[",["T_STRING","InfoCommand",224],["T_DOUBLE_COLON","::",224],["T_STRING","CURRENT_VERSION",224],"]",["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","' '",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_VARIABLE","$editionType",224],",",["T_WHITESPACE","\n                ",224],["T_CONSTANT_ENCAPSED_STRING","'current'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_STRING","true",225],",",["T_WHITESPACE","\n            ",225],"]",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE","  ",228],["T_VARIABLE","$versions",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * @return array\n     * @throws \\RuntimeException\n     *\/",231],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","getInstalledSystemPackages",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$locker",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","magentoComposerApplication",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","createComposer",237],"(",")",["T_OBJECT_OPERATOR","->",237],["T_STRING","getLocker",237],"(",")",";",["T_WHITESPACE","\n\n        ",237],["T_DOC_COMMENT","\/** @var \\Composer\\Package\\CompletePackage $package *\/",239],["T_WHITESPACE","\n        ",239],["T_FOREACH","foreach",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$locker",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getLockedRepository",240],"(",")",["T_OBJECT_OPERATOR","->",240],["T_STRING","getPackages",240],"(",")",["T_WHITESPACE"," ",240],["T_AS","as",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$package",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$packageName",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$package",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getName",241],"(",")",";",["T_WHITESPACE","\n            ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","composerInfo",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","isSystemPackage",242],"(",["T_VARIABLE","$packageName",242],")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$packageName",243],["T_WHITESPACE"," ",243],["T_IS_EQUAL","==",243],["T_WHITESPACE"," ",243],["T_STATIC","static",243],["T_DOUBLE_COLON","::",243],["T_STRING","EDITION_COMMUNITY",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                    ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","composerInfo",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","isPackageInComposerJson",244],"(",["T_VARIABLE","$packageName",244],")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n                        ",244],["T_VARIABLE","$systemPackages",245],"[","]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$packageName",245],";",["T_WHITESPACE","\n                    ",245],"}",["T_WHITESPACE","\n                ",246],"}",["T_WHITESPACE"," ",247],["T_ELSE","else",247],["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                    ",247],["T_VARIABLE","$systemPackages",248],"[","]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$packageName",248],";",["T_WHITESPACE","\n                ",248],"}",["T_WHITESPACE","\n            ",249],"}",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n        ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_EMPTY","empty",252],"(",["T_VARIABLE","$systemPackages",252],")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_THROW","throw",253],["T_WHITESPACE"," ",253],["T_NEW","new",253],["T_WHITESPACE"," ",253],["T_NS_SEPARATOR","\\",253],["T_STRING","RuntimeException",253],"(",["T_WHITESPACE","\n                ",253],["T_CONSTANT_ENCAPSED_STRING","'We\\'re sorry, no components are available because you cloned the Magento 2 GitHub repository. '",254],["T_WHITESPACE"," ",254],".",["T_WHITESPACE","\n                ",254],["T_CONSTANT_ENCAPSED_STRING","'You must manually update components as discussed in the '",255],["T_WHITESPACE"," ",255],".",["T_WHITESPACE","\n                ",255],["T_CONSTANT_ENCAPSED_STRING","'<a href=\"http:\/\/devdocs.magento.com\/guides\/v2.0\/install-gde\/install\/cli\/dev_options.html\">'",256],["T_WHITESPACE"," ",256],".",["T_WHITESPACE","\n                ",256],["T_CONSTANT_ENCAPSED_STRING","'Installation Guide<\/a>.'",257],["T_WHITESPACE","\n            ",257],")",";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n        ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$systemPackages",260],";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * @param array $enterpriseVersions\n     * @return array\n     *\/",263],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","sortVersions",267],"(",["T_VARIABLE","$enterpriseVersions",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_STRING","usort",269],"(",["T_VARIABLE","$enterpriseVersions",269],"[",["T_STRING","InfoCommand",269],["T_DOUBLE_COLON","::",269],["T_STRING","AVAILABLE_VERSIONS",269],"]",",",["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$versionOne",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$versionTwo",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_STRING","version_compare",270],"(",["T_VARIABLE","$versionOne",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$versionTwo",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'=='",270],")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_LNUMBER","0",271],";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE","\n            ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],"(",["T_STRING","version_compare",273],"(",["T_VARIABLE","$versionOne",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$versionTwo",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'<'",273],")",")",["T_WHITESPACE"," ",273],"?",["T_WHITESPACE"," ",273],["T_LNUMBER","1",273],["T_WHITESPACE"," ",273],":",["T_WHITESPACE"," ",273],"-",["T_LNUMBER","1",273],";",["T_WHITESPACE","\n        ",273],"}",")",";",["T_WHITESPACE","\n\n        ",274],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$enterpriseVersions",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Re-formats packages array to merge packages, sort versions and add technical data\n     *\n     * @param array $packages\n     * @return array\n     *\/",279],["T_WHITESPACE","\n    ",284],["T_PRIVATE","private",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","formatPackages",285],"(",["T_VARIABLE","$packages",285],")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$versions",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],"[","]",";",["T_WHITESPACE","\n\n        ",287],["T_FOREACH","foreach",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$packages",289],["T_WHITESPACE"," ",289],["T_AS","as",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$package",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_FOREACH","foreach",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$package",290],"[",["T_CONSTANT_ENCAPSED_STRING","'versions'",290],"]",["T_WHITESPACE"," ",290],["T_AS","as",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$version",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$version",291],"[",["T_CONSTANT_ENCAPSED_STRING","'package'",291],"]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$package",291],"[",["T_CONSTANT_ENCAPSED_STRING","'package'",291],"]",";",["T_WHITESPACE","\n\n                ",291],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_STRING","preg_match",293],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9].[0-9].[0-9]$\/'",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$version",293],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",293],"]",")",["T_WHITESPACE"," ",293],["T_BOOLEAN_OR","||",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$version",293],"[",["T_CONSTANT_ENCAPSED_STRING","'current'",293],"]",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                    ",293],["T_VARIABLE","$version",294],"[",["T_CONSTANT_ENCAPSED_STRING","'stable'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","true",294],";",["T_WHITESPACE","\n                ",294],"}",["T_WHITESPACE"," ",295],["T_ELSE","else",295],["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n                    ",295],["T_VARIABLE","$version",296],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",296],"]",["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$version",296],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",296],"]",["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","' (unstable version)'",296],";",["T_WHITESPACE","\n                    ",296],["T_VARIABLE","$version",297],"[",["T_CONSTANT_ENCAPSED_STRING","'stable'",297],"]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","false",297],";",["T_WHITESPACE","\n                ",297],"}",["T_WHITESPACE","\n\n                ",298],["T_VARIABLE","$versions",300],"[","]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$version",300],";",["T_WHITESPACE","\n            ",300],"}",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n\n        ",302],["T_STRING","usort",304],"(",["T_VARIABLE","$versions",304],",",["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$versionOne",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$versionTwo",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_IF","if",305],["T_WHITESPACE"," ",305],"(",["T_STRING","version_compare",305],"(",["T_VARIABLE","$versionOne",305],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",305],"]",",",["T_WHITESPACE"," ",305],["T_VARIABLE","$versionTwo",305],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",305],"]",",",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'=='",305],")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n                ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$versionOne",306],"[",["T_CONSTANT_ENCAPSED_STRING","'package'",306],"]",["T_WHITESPACE"," ",306],["T_IS_IDENTICAL","===",306],["T_WHITESPACE"," ",306],["T_STATIC","static",306],["T_DOUBLE_COLON","::",306],["T_STRING","EDITION_COMMUNITY",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                    ",306],["T_RETURN","return",307],["T_WHITESPACE"," ",307],["T_LNUMBER","1",307],";",["T_WHITESPACE","\n                ",307],"}",["T_WHITESPACE","\n                ",308],["T_RETURN","return",309],["T_WHITESPACE"," ",309],["T_LNUMBER","0",309],";",["T_WHITESPACE","\n            ",309],"}",["T_WHITESPACE","\n            ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],"(",["T_STRING","version_compare",311],"(",["T_VARIABLE","$versionOne",311],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",311],"]",",",["T_WHITESPACE"," ",311],["T_VARIABLE","$versionTwo",311],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",311],"]",",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'<'",311],")",")",["T_WHITESPACE"," ",311],"?",["T_WHITESPACE"," ",311],["T_LNUMBER","1",311],["T_WHITESPACE"," ",311],":",["T_WHITESPACE"," ",311],"-",["T_LNUMBER","1",311],";",["T_WHITESPACE","\n        ",311],"}",")",";",["T_WHITESPACE","\n\n        ",312],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$versions",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * @param string $currentCE\n     * @param array $enterpriseVersions\n     * @param string $maxVersion\n     * @return array\n     *\/",317],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","filterEeVersions",323],"(",["T_VARIABLE","$currentCE",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$enterpriseVersions",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$maxVersion",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$eeVersions",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],"[","]",";",["T_WHITESPACE","\n        ",325],["T_FOREACH","foreach",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$enterpriseVersions",326],"[",["T_STRING","InfoCommand",326],["T_DOUBLE_COLON","::",326],["T_STRING","AVAILABLE_VERSIONS",326],"]",["T_WHITESPACE"," ",326],["T_AS","as",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$version",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$requires",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","composerInfo",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getPackageRequirements",327],"(",["T_STATIC","static",327],["T_DOUBLE_COLON","::",327],["T_STRING","EDITION_ENTERPRISE",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$version",327],")",";",["T_WHITESPACE","\n            ",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_STRING","array_key_exists",328],"(",["T_STATIC","static",328],["T_DOUBLE_COLON","::",328],["T_STRING","EDITION_COMMUNITY",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$requires",328],")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n                ",328],["T_DOC_COMMENT","\/** @var \\Composer\\Package\\Link $ceRequire *\/",329],["T_WHITESPACE","\n                ",329],["T_VARIABLE","$ceRequire",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$requires",330],"[",["T_STATIC","static",330],["T_DOUBLE_COLON","::",330],["T_STRING","EDITION_COMMUNITY",330],"]",";",["T_WHITESPACE","\n                ",330],["T_IF","if",331],["T_WHITESPACE"," ",331],"(",["T_STRING","version_compare",331],"(",["T_WHITESPACE","\n                    ",331],["T_VARIABLE","$ceRequire",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getConstraint",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","getPrettyString",332],"(",")",",",["T_WHITESPACE","\n                    ",332],["T_VARIABLE","$currentCE",333],",",["T_WHITESPACE","\n                    ",333],["T_CONSTANT_ENCAPSED_STRING","'>='",334],["T_WHITESPACE","\n                ",334],")",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n                    ",335],["T_VARIABLE","$name",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'Version '",336],["T_WHITESPACE"," ",336],".",["T_WHITESPACE"," ",336],["T_VARIABLE","$version",336],["T_WHITESPACE"," ",336],".",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","' EE'",336],";",["T_WHITESPACE","\n                    ",336],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$maxVersion",337],["T_WHITESPACE"," ",337],["T_IS_EQUAL","==",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$version",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n                        ",337],["T_VARIABLE","$name",338],["T_WHITESPACE"," ",338],["T_CONCAT_EQUAL",".=",338],["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","' (latest)'",338],";",["T_WHITESPACE","\n                    ",338],"}",["T_WHITESPACE","\n                    ",339],["T_VARIABLE","$eeVersions",340],"[","]",["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$version",340],",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'name'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$name",340],",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'current'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_STRING","false",340],"]",";",["T_WHITESPACE","\n                ",340],"}",["T_WHITESPACE","\n            ",341],"}",["T_WHITESPACE","\n        ",342],"}",["T_WHITESPACE","\n        ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$eeVersions",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Filtering B2B versions\n     *\n     * @param string $currentEE\n     * @param array $b2bVersions\n     * @param string $maxVersion\n     * @return array\n     *\/",347],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","filterB2bVersions",355],"(",["T_VARIABLE","$currentEE",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$b2bVersions",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$maxVersion",355],")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$b2bVersionsPrepared",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],"[","]",";",["T_WHITESPACE","\n        ",357],["T_FOREACH","foreach",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$b2bVersions",358],"[",["T_STRING","InfoCommand",358],["T_DOUBLE_COLON","::",358],["T_STRING","AVAILABLE_VERSIONS",358],"]",["T_WHITESPACE"," ",358],["T_AS","as",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$version",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$requires",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","composerInfo",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getPackageRequirements",359],"(",["T_STATIC","static",359],["T_DOUBLE_COLON","::",359],["T_STRING","EDITION_B2B",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$version",359],")",";",["T_WHITESPACE","\n            ",359],["T_IF","if",360],["T_WHITESPACE"," ",360],"(",["T_STRING","array_key_exists",360],"(",["T_STATIC","static",360],["T_DOUBLE_COLON","::",360],["T_STRING","EDITION_ENTERPRISE",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$requires",360],")",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n                ",360],["T_DOC_COMMENT","\/** @var \\Composer\\Package\\Link $eeRequire *\/",361],["T_WHITESPACE","\n                ",361],["T_VARIABLE","$eeRequire",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$requires",362],"[",["T_STATIC","static",362],["T_DOUBLE_COLON","::",362],["T_STRING","EDITION_ENTERPRISE",362],"]",";",["T_WHITESPACE","\n                ",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(",["T_STRING","version_compare",363],"(",["T_WHITESPACE","\n                    ",363],["T_VARIABLE","$eeRequire",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getConstraint",364],"(",")",["T_OBJECT_OPERATOR","->",364],["T_STRING","getPrettyString",364],"(",")",",",["T_WHITESPACE","\n                    ",364],["T_VARIABLE","$currentEE",365],",",["T_WHITESPACE","\n                    ",365],["T_CONSTANT_ENCAPSED_STRING","'>='",366],["T_WHITESPACE","\n                ",366],")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n                    ",367],["T_VARIABLE","$name",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'Version '",368],["T_WHITESPACE"," ",368],".",["T_WHITESPACE"," ",368],["T_VARIABLE","$version",368],["T_WHITESPACE"," ",368],".",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","' B2B'",368],";",["T_WHITESPACE","\n                    ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$maxVersion",369],["T_WHITESPACE"," ",369],["T_IS_EQUAL","==",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$version",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n                        ",369],["T_VARIABLE","$name",370],["T_WHITESPACE"," ",370],["T_CONCAT_EQUAL",".=",370],["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","' (latest)'",370],";",["T_WHITESPACE","\n                    ",370],"}",["T_WHITESPACE","\n                    ",371],["T_VARIABLE","$b2bVersionsPrepared",372],"[","]",["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$version",372],",",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'name'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$name",372],",",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'current'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_STRING","false",372],"]",";",["T_WHITESPACE","\n                ",372],"}",["T_WHITESPACE","\n            ",373],"}",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n        ",375],["T_RETURN","return",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$b2bVersionsPrepared",376],";",["T_WHITESPACE","\n    ",376],"}",["T_WHITESPACE","\n",377],"}",["T_WHITESPACE","\n",378]]