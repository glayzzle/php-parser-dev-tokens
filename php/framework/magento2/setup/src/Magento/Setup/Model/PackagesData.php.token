[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Setup",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Class PackagesData returns system packages and available for update versions\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",8],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","PackagesData",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_COMMENT","\/**#@+\n     * Composer command params and options\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","COMPOSER_SHOW",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'show'",17],";",["T_WHITESPACE","\n    ",17],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","PARAM_COMMAND",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'command'",18],";",["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","PARAM_PACKAGE",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'package'",19],";",["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","PARAM_AVAILABLE",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'--available'",20],";",["T_WHITESPACE","\n    ",20],["T_COMMENT","\/**#@-*\/",21],["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Composer\\ComposerInformation\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$composerInformation",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$urlPrefix",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$packagesJson",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$filesystem",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Setup\\Model\\PackagesAuth\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PRIVATE","private",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$packagesAuth",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Setup\\Model\\DateTime\\TimeZoneProvider\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$timeZoneProvider",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var  \\Magento\\Setup\\Model\\ObjectManagerProvider\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$objectManagerProvider",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PRIVATE","private",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$metapackagesMap",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * PackagesData constructor.\n     *\n     * @param \\Magento\\Framework\\Composer\\ComposerInformation $composerInformation ,\n     * @param \\Magento\\Setup\\Model\\DateTime\\TimeZoneProvider $timeZoneProvider ,\n     * @param \\Magento\\Setup\\Model\\PackagesAuth $packagesAuth ,\n     * @param \\Magento\\Framework\\Filesystem $filesystem ,\n     * @param \\Magento\\Setup\\Model\\ObjectManagerProvider $objectManagerProvider\n     * @param TypeMapper $typeMapper\n     *\/",63],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","__construct",73],"(",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Framework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Composer",74],["T_NS_SEPARATOR","\\",74],["T_STRING","ComposerInformation",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$composerInformation",74],",",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Setup",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Model",75],["T_NS_SEPARATOR","\\",75],["T_STRING","DateTime",75],["T_NS_SEPARATOR","\\",75],["T_STRING","TimeZoneProvider",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$timeZoneProvider",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Setup",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Model",76],["T_NS_SEPARATOR","\\",76],["T_STRING","PackagesAuth",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$packagesAuth",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Framework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Filesystem",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$filesystem",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Setup",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Model",78],["T_NS_SEPARATOR","\\",78],["T_STRING","ObjectManagerProvider",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$objectManagerProvider",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Setup",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Grid",79],["T_NS_SEPARATOR","\\",79],["T_STRING","TypeMapper",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$typeMapper",79],["T_WHITESPACE","\n    ",79],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","objectManagerProvider",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$objectManagerProvider",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","composerInformation",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$composerInformation",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","timeZoneProvider",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$timeZoneProvider",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","packagesAuth",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$packagesAuth",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","filesystem",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$filesystem",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","typeMapper",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$typeMapper",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * @return array|bool|mixed\n     * @throws \\RuntimeException\n     *\/",89],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","syncPackagesData",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_TRY","try",95],["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$lastSyncData",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],"[","]",";",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$lastSyncData",97],"[",["T_CONSTANT_ENCAPSED_STRING","'lastSyncDate'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getLastSyncDate",97],"(",")",";",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$lastSyncData",98],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getPackagesForUpdate",98],"(",")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$packagesForInstall",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","syncPackagesForInstall",99],"(",")",";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$lastSyncData",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","formatLastSyncData",100],"(",["T_VARIABLE","$packagesForInstall",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$lastSyncData",100],")",";",["T_WHITESPACE","\n            ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$lastSyncData",101],";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE"," ",102],["T_CATCH","catch",102],["T_WHITESPACE"," ",102],"(",["T_NS_SEPARATOR","\\",102],["T_STRING","Exception",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$e",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_THROW","throw",103],["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_NS_SEPARATOR","\\",103],["T_STRING","RuntimeException",103],"(",["T_VARIABLE","$e",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMessage",103],"(",")",")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Gets last sync date\n     *\n     * @return string\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PRIVATE","private",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","getLastSyncDate",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$directory",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","filesystem",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getDirectoryRead",114],"(",["T_WHITESPACE","\n            ",114],["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Framework",115],["T_NS_SEPARATOR","\\",115],["T_STRING","App",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Filesystem",115],["T_NS_SEPARATOR","\\",115],["T_STRING","DirectoryList",115],["T_DOUBLE_COLON","::",115],["T_STRING","COMPOSER_HOME",115],["T_WHITESPACE","\n        ",115],")",";",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$directory",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","isExist",117],"(",["T_STRING","PackagesAuth",117],["T_DOUBLE_COLON","::",117],["T_STRING","PATH_TO_PACKAGES_FILE",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$fileData",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$directory",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","stat",118],"(",["T_STRING","PackagesAuth",118],["T_DOUBLE_COLON","::",118],["T_STRING","PATH_TO_PACKAGES_FILE",118],")",";",["T_WHITESPACE","\n            ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$fileData",119],"[",["T_CONSTANT_ENCAPSED_STRING","'mtime'",119],"]",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","''",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Format the lastSyncData for use on frontend\n     *\n     * @param array $packagesForInstall\n     * @param array $lastSyncData\n     * @return mixed\n     *\/",124],["T_WHITESPACE","\n    ",130],["T_PRIVATE","private",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","formatLastSyncData",131],"(",["T_VARIABLE","$packagesForInstall",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$lastSyncData",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$lastSyncData",133],"[",["T_CONSTANT_ENCAPSED_STRING","'countOfInstall'",133],"]",["T_WHITESPACE","\n            ",133],"=",["T_WHITESPACE"," ",134],["T_ISSET","isset",134],"(",["T_VARIABLE","$packagesForInstall",134],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",134],"]",")",["T_WHITESPACE"," ",134],"?",["T_WHITESPACE"," ",134],["T_STRING","count",134],"(",["T_VARIABLE","$packagesForInstall",134],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",134],"]",")",["T_WHITESPACE"," ",134],":",["T_WHITESPACE"," ",134],["T_LNUMBER","0",134],";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$lastSyncData",135],"[",["T_CONSTANT_ENCAPSED_STRING","'countOfUpdate'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ISSET","isset",135],"(",["T_VARIABLE","$lastSyncData",135],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",135],"]",")",["T_WHITESPACE"," ",135],"?",["T_WHITESPACE"," ",135],["T_STRING","count",135],"(",["T_VARIABLE","$lastSyncData",135],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",135],"]",")",["T_WHITESPACE"," ",135],":",["T_WHITESPACE"," ",135],["T_LNUMBER","0",135],";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$lastSyncData",136],"[",["T_CONSTANT_ENCAPSED_STRING","'installPackages'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$packagesForInstall",136],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",136],"]",";",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_ISSET","isset",137],"(",["T_VARIABLE","$lastSyncData",137],"[",["T_CONSTANT_ENCAPSED_STRING","'lastSyncDate'",137],"]",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$lastSyncData",138],"[",["T_CONSTANT_ENCAPSED_STRING","'lastSyncDate'",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","formatSyncDate",138],"(",["T_VARIABLE","$lastSyncData",138],"[",["T_CONSTANT_ENCAPSED_STRING","'lastSyncDate'",138],"]",")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$lastSyncData",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Format a UTC timestamp (seconds since epoch) to structure expected by frontend\n     *\n     * @param string $syncDate seconds since epoch\n     * @return array\n     *\/",143],["T_WHITESPACE","\n    ",148],["T_PRIVATE","private",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","formatSyncDate",149],"(",["T_VARIABLE","$syncDate",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$timezone",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","timeZoneProvider",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","get",151],"(",")",";",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],"[",["T_WHITESPACE","\n            ",152],["T_CONSTANT_ENCAPSED_STRING","'date'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$timezone",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","formatDateTime",153],"(",["T_WHITESPACE","\n                ",153],["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_NS_SEPARATOR","\\",154],["T_STRING","DateTime",154],"(",["T_CONSTANT_ENCAPSED_STRING","'@'",154],".",["T_VARIABLE","$syncDate",154],")",",",["T_WHITESPACE","\n                ",154],["T_NS_SEPARATOR","\\",155],["T_STRING","IntlDateFormatter",155],["T_DOUBLE_COLON","::",155],["T_STRING","MEDIUM",155],",",["T_WHITESPACE","\n                ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","IntlDateFormatter",156],["T_DOUBLE_COLON","::",156],["T_STRING","NONE",156],",",["T_WHITESPACE","\n                ",156],["T_STRING","null",157],",",["T_WHITESPACE","\n                ",157],["T_STRING","null",158],",",["T_WHITESPACE","\n                ",158],["T_CONSTANT_ENCAPSED_STRING","'d MMM Y'",159],["T_WHITESPACE","\n            ",159],")",",",["T_WHITESPACE","\n            ",160],["T_CONSTANT_ENCAPSED_STRING","'time'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$timezone",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","formatDateTime",161],"(",["T_WHITESPACE","\n                ",161],["T_NEW","new",162],["T_WHITESPACE"," ",162],["T_NS_SEPARATOR","\\",162],["T_STRING","DateTime",162],"(",["T_CONSTANT_ENCAPSED_STRING","'@'",162],".",["T_VARIABLE","$syncDate",162],")",",",["T_WHITESPACE","\n                ",162],["T_NS_SEPARATOR","\\",163],["T_STRING","IntlDateFormatter",163],["T_DOUBLE_COLON","::",163],["T_STRING","NONE",163],",",["T_WHITESPACE","\n                ",163],["T_NS_SEPARATOR","\\",164],["T_STRING","IntlDateFormatter",164],["T_DOUBLE_COLON","::",164],["T_STRING","MEDIUM",164],",",["T_WHITESPACE","\n                ",164],["T_STRING","null",165],",",["T_WHITESPACE","\n                ",165],["T_STRING","null",166],",",["T_WHITESPACE","\n                ",166],["T_CONSTANT_ENCAPSED_STRING","'hh:mma'",167],["T_WHITESPACE","\n            ",167],")",",",["T_WHITESPACE","\n        ",168],"]",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Get list of manually installed package\n     *\n     * @return array\n     *\/",172],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","getInstalledPackages",177],"(",")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$installedPackages",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","array_intersect_key",179],"(",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","composerInformation",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getInstalledMagentoPackages",180],"(",")",",",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","composerInformation",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getRootPackage",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","getRequires",181],"(",")",["T_WHITESPACE","\n        ",181],")",";",["T_WHITESPACE","\n\n        ",182],["T_FOREACH","foreach",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$installedPackages",184],["T_WHITESPACE"," ",184],["T_AS","as",184],["T_WHITESPACE"," ",184],"&",["T_VARIABLE","$package",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$package",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","addPackageExtraInfo",185],"(",["T_VARIABLE","$package",185],")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n\n        ",186],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","filterPackagesList",188],"(",["T_VARIABLE","$installedPackages",188],")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * Get packages that need updates\n     *\n     * @return array\n     *\/",191],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","getPackagesForUpdate",196],"(",")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$packagesForUpdate",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[","]",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$packages",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getInstalledPackages",199],"(",")",";",["T_WHITESPACE","\n\n        ",199],["T_FOREACH","foreach",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$packages",201],["T_WHITESPACE"," ",201],["T_AS","as",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$package",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$latestProductVersion",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getLatestNonDevVersion",202],"(",["T_VARIABLE","$package",202],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",202],"]",")",";",["T_WHITESPACE","\n            ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$latestProductVersion",203],["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],["T_STRING","version_compare",203],"(",["T_VARIABLE","$latestProductVersion",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$package",203],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",203],"]",",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'>'",203],")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                ",203],["T_VARIABLE","$availableVersions",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getPackageAvailableVersions",204],"(",["T_VARIABLE","$package",204],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",204],"]",")",";",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$package",205],"[",["T_CONSTANT_ENCAPSED_STRING","'latestVersion'",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$latestProductVersion",205],";",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$package",206],"[",["T_CONSTANT_ENCAPSED_STRING","'versions'",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","array_filter",206],"(",["T_VARIABLE","$availableVersions",206],",",["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$version",206],")",["T_WHITESPACE"," ",206],["T_USE","use",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$package",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                    ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_STRING","version_compare",207],"(",["T_VARIABLE","$version",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$package",207],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",207],"]",",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'>'",207],")",";",["T_WHITESPACE","\n                ",207],"}",")",";",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$packagesForUpdate",209],"[",["T_VARIABLE","$package",209],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",209],"]","]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$package",209],";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n        \n        ",211],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$packagesForUpdate",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Retrieve the latest available stable version for a package\n     *\n     * @param string $package\n     * @return string\n     *\/",216],["T_WHITESPACE","\n    ",221],["T_PRIVATE","private",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","getLatestNonDevVersion",222],"(",["T_VARIABLE","$package",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$versionParser",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_NEW","new",224],["T_WHITESPACE"," ",224],["T_NS_SEPARATOR","\\",224],["T_STRING","Composer",224],["T_NS_SEPARATOR","\\",224],["T_STRING","Package",224],["T_NS_SEPARATOR","\\",224],["T_STRING","Version",224],["T_NS_SEPARATOR","\\",224],["T_STRING","VersionParser",224],"(",")",";",["T_WHITESPACE","\n        ",224],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getPackageAvailableVersions",225],"(",["T_VARIABLE","$package",225],")",["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$version",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$versionParser",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","parseStability",226],"(",["T_VARIABLE","$version",226],")",["T_WHITESPACE"," ",226],["T_IS_NOT_EQUAL","!=",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'dev'",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$version",227],";",["T_WHITESPACE","\n            ",227],"}",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","''",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Gets array of packages from packages.json\n     *\n     * @return array\n     * @throws \\RuntimeException\n     *\/",233],["T_WHITESPACE","\n    ",238],["T_PRIVATE","private",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","getPackagesJson",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","packagesJson",241],["T_WHITESPACE"," ",241],["T_IS_NOT_IDENTICAL","!==",241],["T_WHITESPACE"," ",241],["T_STRING","null",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","packagesJson",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n\n        ",243],["T_TRY","try",245],["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$jsonData",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","''",246],";",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$directory",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","filesystem",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getDirectoryRead",247],"(",["T_WHITESPACE","\n                ",247],["T_NS_SEPARATOR","\\",248],["T_STRING","Magento",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Framework",248],["T_NS_SEPARATOR","\\",248],["T_STRING","App",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Filesystem",248],["T_NS_SEPARATOR","\\",248],["T_STRING","DirectoryList",248],["T_DOUBLE_COLON","::",248],["T_STRING","COMPOSER_HOME",248],["T_WHITESPACE","\n            ",248],")",";",["T_WHITESPACE","\n            ",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$directory",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","isExist",250],"(",["T_STRING","PackagesAuth",250],["T_DOUBLE_COLON","::",250],["T_STRING","PATH_TO_PACKAGES_FILE",250],")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n                ",250],["T_VARIABLE","$jsonData",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$directory",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","readFile",251],"(",["T_STRING","PackagesAuth",251],["T_DOUBLE_COLON","::",251],["T_STRING","PATH_TO_PACKAGES_FILE",251],")",";",["T_WHITESPACE","\n            ",251],"}",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$packagesData",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","json_decode",253],"(",["T_VARIABLE","$jsonData",253],",",["T_WHITESPACE"," ",253],["T_STRING","true",253],")",";",["T_WHITESPACE","\n\n            ",253],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","packagesJson",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_ISSET","isset",255],"(",["T_VARIABLE","$packagesData",255],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",255],"]",")",["T_WHITESPACE"," ",255],"?",["T_WHITESPACE","\n                ",255],["T_VARIABLE","$packagesData",256],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",256],"]",["T_WHITESPACE"," ",256],":",["T_WHITESPACE","\n                ",256],"[","]",";",["T_WHITESPACE","\n\n            ",257],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","packagesJson",259],";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE"," ",260],["T_CATCH","catch",260],["T_WHITESPACE"," ",260],"(",["T_NS_SEPARATOR","\\",260],["T_STRING","Exception",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$e",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n            ",260],["T_THROW","throw",261],["T_WHITESPACE"," ",261],["T_NEW","new",261],["T_WHITESPACE"," ",261],["T_NS_SEPARATOR","\\",261],["T_STRING","RuntimeException",261],"(",["T_CONSTANT_ENCAPSED_STRING","'Error in reading packages.json'",261],")",";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Sync packages for install\n     *\n     * @return array\n     * @throws \\RuntimeException\n     *\/",265],["T_WHITESPACE","\n    ",270],["T_PRIVATE","private",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","syncPackagesForInstall",271],"(",")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_TRY","try",273],["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$packagesJson",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getPackagesJson",274],"(",")",";",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$packages",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","composerInformation",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getInstalledMagentoPackages",275],"(",")",";",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$packageNames",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","array_column",276],"(",["T_VARIABLE","$packages",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'name'",276],")",";",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$installPackages",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],"[","]",";",["T_WHITESPACE","\n            ",277],["T_FOREACH","foreach",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$packagesJson",278],["T_WHITESPACE"," ",278],["T_AS","as",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$packageName",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$package",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n                ",278],["T_IF","if",279],["T_WHITESPACE"," ",279],"(","!",["T_EMPTY","empty",279],"(",["T_VARIABLE","$package",279],")",["T_WHITESPACE"," ",279],["T_BOOLEAN_AND","&&",279],["T_WHITESPACE"," ",279],["T_ISSET","isset",279],"(",["T_VARIABLE","$package",279],")",["T_WHITESPACE"," ",279],["T_BOOLEAN_AND","&&",279],["T_WHITESPACE"," ",279],["T_STRING","is_array",279],"(",["T_VARIABLE","$package",279],")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                    ",279],["T_VARIABLE","$package",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","unsetDevVersions",280],"(",["T_VARIABLE","$package",280],")",";",["T_WHITESPACE","\n                    ",280],["T_STRING","ksort",281],"(",["T_VARIABLE","$package",281],")",";",["T_WHITESPACE","\n                    ",281],["T_VARIABLE","$packageValues",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","array_values",282],"(",["T_VARIABLE","$package",282],")",";",["T_WHITESPACE","\n                    ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","isNewUserPackage",283],"(",["T_VARIABLE","$packageValues",283],"[",["T_LNUMBER","0",283],"]",",",["T_WHITESPACE"," ",283],["T_VARIABLE","$packageNames",283],")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                        ",283],["T_STRING","uksort",284],"(",["T_VARIABLE","$package",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'version_compare'",284],")",";",["T_WHITESPACE","\n                        ",284],["T_VARIABLE","$installPackage",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$packageValues",285],"[",["T_LNUMBER","0",285],"]",";",["T_WHITESPACE","\n                        ",285],["T_VARIABLE","$installPackage",286],"[",["T_CONSTANT_ENCAPSED_STRING","'versions'",286],"]",["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","array_reverse",286],"(",["T_STRING","array_keys",286],"(",["T_VARIABLE","$package",286],")",")",";",["T_WHITESPACE","\n                        ",286],["T_VARIABLE","$installPackage",287],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",287],"]",["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$packageName",287],";",["T_WHITESPACE","\n                        ",287],["T_VARIABLE","$installPackage",288],"[",["T_CONSTANT_ENCAPSED_STRING","'vendor'",288],"]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","explode",288],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$packageName",288],")","[",["T_LNUMBER","0",288],"]",";",["T_WHITESPACE","\n                        ",288],["T_VARIABLE","$installPackages",289],"[",["T_VARIABLE","$packageName",289],"]",["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","addPackageExtraInfo",289],"(",["T_VARIABLE","$installPackage",289],")",";",["T_WHITESPACE","\n                    ",289],"}",["T_WHITESPACE","\n                ",290],"}",["T_WHITESPACE","\n            ",291],"}",["T_WHITESPACE","\n            ",292],["T_VARIABLE","$packagesForInstall",293],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","filterPackagesList",293],"(",["T_VARIABLE","$installPackages",293],")",";",["T_WHITESPACE","\n            ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$packagesForInstall",294],";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE"," ",295],["T_CATCH","catch",295],["T_WHITESPACE"," ",295],"(",["T_NS_SEPARATOR","\\",295],["T_STRING","Exception",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$e",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n            ",295],["T_THROW","throw",296],["T_WHITESPACE"," ",296],["T_NEW","new",296],["T_WHITESPACE"," ",296],["T_NS_SEPARATOR","\\",296],["T_STRING","RuntimeException",296],"(",["T_CONSTANT_ENCAPSED_STRING","'Error in syncing packages for Install'",296],")",";",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * Get package extra info\n     *\n     * @param string $packageName\n     * @param string $packageVersion\n     * @return array\n     *\/",300],["T_WHITESPACE","\n    ",306],["T_PRIVATE","private",307],["T_WHITESPACE"," ",307],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","getPackageExtraInfo",307],"(",["T_VARIABLE","$packageName",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$packageVersion",307],")",["T_WHITESPACE","\n    ",307],"{",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$packagesJson",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getPackagesJson",309],"(",")",";",["T_WHITESPACE","\n\n        ",309],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_ISSET","isset",311],"(",["T_VARIABLE","$packagesJson",311],"[",["T_VARIABLE","$packageName",311],"]","[",["T_VARIABLE","$packageVersion",311],"]","[",["T_CONSTANT_ENCAPSED_STRING","'extra'",311],"]",")",["T_WHITESPACE"," ",311],"?",["T_WHITESPACE","\n            ",311],["T_VARIABLE","$packagesJson",312],"[",["T_VARIABLE","$packageName",312],"]","[",["T_VARIABLE","$packageVersion",312],"]","[",["T_CONSTANT_ENCAPSED_STRING","'extra'",312],"]",["T_WHITESPACE"," ",312],":",["T_WHITESPACE"," ",312],"[","]",["T_WHITESPACE"," ",312],";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_DOC_COMMENT","\/**\n     * Add package extra info\n     *\n     * @param array $package\n     * @return array\n     *\/",315],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","addPackageExtraInfo",321],"(",["T_ARRAY","array",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$package",321],")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$extraInfo",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getPackageExtraInfo",323],"(",["T_VARIABLE","$package",323],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",323],"]",",",["T_WHITESPACE"," ",323],["T_VARIABLE","$package",323],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",323],"]",")",";",["T_WHITESPACE","\n\n        ",323],["T_VARIABLE","$package",325],"[",["T_CONSTANT_ENCAPSED_STRING","'package_title'",325],"]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE","  ",325],["T_ISSET","isset",325],"(",["T_VARIABLE","$extraInfo",325],"[",["T_CONSTANT_ENCAPSED_STRING","'x-magento-ext-title'",325],"]",")",["T_WHITESPACE"," ",325],"?",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$extraInfo",326],"[",["T_CONSTANT_ENCAPSED_STRING","'x-magento-ext-title'",326],"]",["T_WHITESPACE"," ",326],":",["T_WHITESPACE"," ",326],["T_VARIABLE","$package",326],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",326],"]",";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$package",327],"[",["T_CONSTANT_ENCAPSED_STRING","'package_type'",327],"]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_ISSET","isset",327],"(",["T_VARIABLE","$extraInfo",327],"[",["T_CONSTANT_ENCAPSED_STRING","'x-magento-ext-type'",327],"]",")",["T_WHITESPACE"," ",327],"?",["T_WHITESPACE"," ",327],["T_VARIABLE","$extraInfo",327],"[",["T_CONSTANT_ENCAPSED_STRING","'x-magento-ext-type'",327],"]",["T_WHITESPACE"," ",327],":",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","typeMapper",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","map",328],"(",["T_VARIABLE","$package",328],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",328],"]",")",";",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$package",329],"[",["T_CONSTANT_ENCAPSED_STRING","'package_link'",329],"]",["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_ISSET","isset",329],"(",["T_VARIABLE","$extraInfo",329],"[",["T_CONSTANT_ENCAPSED_STRING","'x-magento-ext-package-link'",329],"]",")",["T_WHITESPACE"," ",329],"?",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$extraInfo",330],"[",["T_CONSTANT_ENCAPSED_STRING","'x-magento-ext-package-link'",330],"]",["T_WHITESPACE"," ",330],":",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","''",330],";",["T_WHITESPACE","\n\n        ",330],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$package",332],";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Check if this new user package\n     *\n     * @param array $package\n     * @param array $packageNames\n     * @return bool\n     *\/",335],["T_WHITESPACE","\n    ",341],["T_PROTECTED","protected",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","isNewUserPackage",342],"(",["T_VARIABLE","$package",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$packageNames",342],")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(","!",["T_STRING","in_array",344],"(",["T_VARIABLE","$package",344],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",344],"]",",",["T_WHITESPACE"," ",344],["T_VARIABLE","$packageNames",344],")",["T_WHITESPACE"," ",344],["T_BOOLEAN_AND","&&",344],["T_WHITESPACE","\n            ",344],["T_STRING","in_array",345],"(",["T_VARIABLE","$package",345],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",345],"]",",",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","composerInformation",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getPackagesTypes",345],"(",")",")",["T_WHITESPACE"," ",345],["T_BOOLEAN_AND","&&",345],["T_WHITESPACE","\n            ",345],["T_STRING","strpos",346],"(",["T_VARIABLE","$package",346],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",346],"]",",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'magento\/product-'",346],")",["T_WHITESPACE"," ",346],["T_IS_IDENTICAL","===",346],["T_WHITESPACE"," ",346],["T_STRING","false",346],["T_WHITESPACE"," ",346],["T_BOOLEAN_AND","&&",346],["T_WHITESPACE","\n            ",346],["T_STRING","strpos",347],"(",["T_VARIABLE","$package",347],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",347],"]",",",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'magento\/project-'",347],")",["T_WHITESPACE"," ",347],["T_IS_IDENTICAL","===",347],["T_WHITESPACE"," ",347],["T_STRING","false",347],["T_WHITESPACE","\n        ",347],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_STRING","true",349],";",["T_WHITESPACE","\n        ",349],"}",["T_WHITESPACE","\n        ",350],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_STRING","false",351],";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * Unset dev versions\n     *\n     * @param array $package\n     * @return array\n     *\/",354],["T_WHITESPACE","\n    ",359],["T_PROTECTED","protected",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","unsetDevVersions",360],"(",["T_VARIABLE","$package",360],")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_FOREACH","foreach",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$package",362],["T_WHITESPACE"," ",362],["T_AS","as",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$key",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$version",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(",["T_STRING","strpos",363],"(",["T_VARIABLE","$key",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'dev'",363],")",["T_WHITESPACE"," ",363],["T_IS_NOT_IDENTICAL","!==",363],["T_WHITESPACE"," ",363],["T_STRING","false",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n                ",363],["T_UNSET","unset",364],"(",["T_VARIABLE","$package",364],"[",["T_VARIABLE","$key",364],"]",")",";",["T_WHITESPACE","\n            ",364],"}",["T_WHITESPACE","\n        ",365],"}",["T_WHITESPACE","\n        ",366],["T_UNSET","unset",367],"(",["T_VARIABLE","$version",367],")",";",["T_WHITESPACE","\n\n        ",367],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$package",369],";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * Sync list of available for install versions for packages\n     *\n     * @return array\n     * @throws \\RuntimeException\n     *\/",372],["T_WHITESPACE","\n    ",377],["T_PUBLIC","public",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","getPackagesForInstall",378],"(",")",["T_WHITESPACE","\n    ",378],"{",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$actualInstallPackages",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],"[","]",";",["T_WHITESPACE","\n\n        ",380],["T_TRY","try",382],["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_VARIABLE","$installPackages",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","syncPackagesForInstall",383],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'packages'",383],"]",";",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$metaPackageByPackage",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getMetaPackageForPackage",384],"(",["T_VARIABLE","$installPackages",384],")",";",["T_WHITESPACE","\n            ",384],["T_FOREACH","foreach",385],["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$installPackages",385],["T_WHITESPACE"," ",385],["T_AS","as",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$package",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                ",385],["T_VARIABLE","$package",386],"[",["T_CONSTANT_ENCAPSED_STRING","'metapackage'",386],"]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE","\n                    ",386],["T_ISSET","isset",387],"(",["T_VARIABLE","$metaPackageByPackage",387],"[",["T_VARIABLE","$package",387],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",387],"]","]",")",["T_WHITESPACE"," ",387],"?",["T_WHITESPACE"," ",387],["T_VARIABLE","$metaPackageByPackage",387],"[",["T_VARIABLE","$package",387],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",387],"]","]",["T_WHITESPACE"," ",387],":",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","''",387],";",["T_WHITESPACE","\n                ",387],["T_VARIABLE","$actualInstallPackages",388],"[",["T_VARIABLE","$package",388],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",388],"]","]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$package",388],";",["T_WHITESPACE","\n                ",388],["T_VARIABLE","$actualInstallPackages",389],"[",["T_VARIABLE","$package",389],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",389],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'version'",389],"]",["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$package",389],"[",["T_CONSTANT_ENCAPSED_STRING","'versions'",389],"]","[",["T_LNUMBER","0",389],"]",";",["T_WHITESPACE","\n            ",389],"}",["T_WHITESPACE","\n            ",390],["T_VARIABLE","$installPackagesInfo",391],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",391],"]",["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$actualInstallPackages",391],";",["T_WHITESPACE","\n            ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$installPackagesInfo",392],";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE"," ",393],["T_CATCH","catch",393],["T_WHITESPACE"," ",393],"(",["T_NS_SEPARATOR","\\",393],["T_STRING","Exception",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$e",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n            ",393],["T_THROW","throw",394],["T_WHITESPACE"," ",394],["T_NEW","new",394],["T_WHITESPACE"," ",394],["T_NS_SEPARATOR","\\",394],["T_STRING","RuntimeException",394],"(",["T_CONSTANT_ENCAPSED_STRING","'Error in getting new packages to install'",394],")",";",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n\n    ",396],["T_DOC_COMMENT","\/**\n     * Filter packages by allowed types\n     *\n     * @param array $packages\n     * @return array\n     *\/",398],["T_WHITESPACE","\n    ",403],["T_PRIVATE","private",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","filterPackagesList",404],"(",["T_ARRAY","array",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$packages",404],")",["T_WHITESPACE","\n    ",404],"{",["T_WHITESPACE","\n        ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_STRING","array_filter",406],"(",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$packages",407],",",["T_WHITESPACE","\n            ",407],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],"(",["T_VARIABLE","$item",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n                ",408],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_STRING","in_array",409],"(",["T_WHITESPACE","\n                    ",409],["T_VARIABLE","$item",410],"[",["T_CONSTANT_ENCAPSED_STRING","'package_type'",410],"]",",",["T_WHITESPACE","\n                    ",410],"[",["T_WHITESPACE","\n                        ",411],["T_NS_SEPARATOR","\\",412],["T_STRING","Magento",412],["T_NS_SEPARATOR","\\",412],["T_STRING","Setup",412],["T_NS_SEPARATOR","\\",412],["T_STRING","Model",412],["T_NS_SEPARATOR","\\",412],["T_STRING","Grid",412],["T_NS_SEPARATOR","\\",412],["T_STRING","TypeMapper",412],["T_DOUBLE_COLON","::",412],["T_STRING","LANGUAGE_PACKAGE_TYPE",412],",",["T_WHITESPACE","\n                        ",412],["T_NS_SEPARATOR","\\",413],["T_STRING","Magento",413],["T_NS_SEPARATOR","\\",413],["T_STRING","Setup",413],["T_NS_SEPARATOR","\\",413],["T_STRING","Model",413],["T_NS_SEPARATOR","\\",413],["T_STRING","Grid",413],["T_NS_SEPARATOR","\\",413],["T_STRING","TypeMapper",413],["T_DOUBLE_COLON","::",413],["T_STRING","MODULE_PACKAGE_TYPE",413],",",["T_WHITESPACE","\n                        ",413],["T_NS_SEPARATOR","\\",414],["T_STRING","Magento",414],["T_NS_SEPARATOR","\\",414],["T_STRING","Setup",414],["T_NS_SEPARATOR","\\",414],["T_STRING","Model",414],["T_NS_SEPARATOR","\\",414],["T_STRING","Grid",414],["T_NS_SEPARATOR","\\",414],["T_STRING","TypeMapper",414],["T_DOUBLE_COLON","::",414],["T_STRING","EXTENSION_PACKAGE_TYPE",414],",",["T_WHITESPACE","\n                        ",414],["T_NS_SEPARATOR","\\",415],["T_STRING","Magento",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Setup",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Model",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Grid",415],["T_NS_SEPARATOR","\\",415],["T_STRING","TypeMapper",415],["T_DOUBLE_COLON","::",415],["T_STRING","THEME_PACKAGE_TYPE",415],",",["T_WHITESPACE","\n                        ",415],["T_NS_SEPARATOR","\\",416],["T_STRING","Magento",416],["T_NS_SEPARATOR","\\",416],["T_STRING","Setup",416],["T_NS_SEPARATOR","\\",416],["T_STRING","Model",416],["T_NS_SEPARATOR","\\",416],["T_STRING","Grid",416],["T_NS_SEPARATOR","\\",416],["T_STRING","TypeMapper",416],["T_DOUBLE_COLON","::",416],["T_STRING","METAPACKAGE_PACKAGE_TYPE",416],["T_WHITESPACE","\n                    ",416],"]",["T_WHITESPACE","\n                ",417],")",";",["T_WHITESPACE","\n            ",418],"}",["T_WHITESPACE","\n        ",419],")",";",["T_WHITESPACE","\n    ",420],"}",["T_WHITESPACE","\n\n    ",421],["T_DOC_COMMENT","\/**\n     * Get MetaPackage for package\n     *\n     * @param array $packages\n     * @return array\n     *\/",423],["T_WHITESPACE","\n    ",428],["T_PRIVATE","private",429],["T_WHITESPACE"," ",429],["T_FUNCTION","function",429],["T_WHITESPACE"," ",429],["T_STRING","getMetaPackageForPackage",429],"(",["T_VARIABLE","$packages",429],")",["T_WHITESPACE","\n    ",429],"{",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$result",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],"[","]",";",["T_WHITESPACE","\n        ",431],["T_FOREACH","foreach",432],["T_WHITESPACE"," ",432],"(",["T_VARIABLE","$packages",432],["T_WHITESPACE"," ",432],["T_AS","as",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$package",432],")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_IF","if",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$package",433],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",433],"]",["T_WHITESPACE"," ",433],["T_IS_EQUAL","==",433],["T_WHITESPACE"," ",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Magento",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Framework",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Composer",433],["T_NS_SEPARATOR","\\",433],["T_STRING","ComposerInformation",433],["T_DOUBLE_COLON","::",433],["T_STRING","METAPACKAGE_PACKAGE_TYPE",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n                ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_ISSET","isset",434],"(",["T_VARIABLE","$package",434],"[",["T_CONSTANT_ENCAPSED_STRING","'require'",434],"]",")",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                    ",434],["T_FOREACH","foreach",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$package",435],"[",["T_CONSTANT_ENCAPSED_STRING","'require'",435],"]",["T_WHITESPACE"," ",435],["T_AS","as",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$key",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$requirePackage",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                        ",435],["T_VARIABLE","$result",436],"[",["T_VARIABLE","$key",436],"]",["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$package",436],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",436],"]",";",["T_WHITESPACE","\n                    ",436],"}",["T_WHITESPACE","\n                ",437],"}",["T_WHITESPACE","\n            ",438],"}",["T_WHITESPACE","\n        ",439],"}",["T_WHITESPACE","\n        ",440],["T_UNSET","unset",441],"(",["T_VARIABLE","$requirePackage",441],")",";",["T_WHITESPACE","\n\n        ",441],["T_RETURN","return",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$result",443],";",["T_WHITESPACE","\n    ",443],"}",["T_WHITESPACE","\n\n    ",444],["T_DOC_COMMENT","\/**\n     * Get all metapackages\n     *\n     * @return array\n     *\/",446],["T_WHITESPACE","\n    ",450],["T_PUBLIC","public",451],["T_WHITESPACE"," ",451],["T_FUNCTION","function",451],["T_WHITESPACE"," ",451],["T_STRING","getMetaPackagesMap",451],"(",")",["T_WHITESPACE","\n    ",451],"{",["T_WHITESPACE","\n        ",452],["T_IF","if",453],["T_WHITESPACE"," ",453],"(",["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","metapackagesMap",453],["T_WHITESPACE"," ",453],["T_IS_IDENTICAL","===",453],["T_WHITESPACE"," ",453],["T_STRING","null",453],")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n            ",453],["T_VARIABLE","$packages",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getPackagesJson",454],"(",")",";",["T_WHITESPACE","\n            ",454],["T_STRING","array_walk",455],"(",["T_VARIABLE","$packages",455],",",["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],"(",["T_VARIABLE","$packageVersions",455],")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n                ",455],["T_VARIABLE","$package",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_STRING","array_shift",456],"(",["T_VARIABLE","$packageVersions",456],")",";",["T_WHITESPACE","\n                ",456],["T_IF","if",457],["T_WHITESPACE"," ",457],"(",["T_VARIABLE","$package",457],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",457],"]",["T_WHITESPACE"," ",457],["T_IS_EQUAL","==",457],["T_WHITESPACE"," ",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Magento",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Framework",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Composer",457],["T_NS_SEPARATOR","\\",457],["T_STRING","ComposerInformation",457],["T_DOUBLE_COLON","::",457],["T_STRING","METAPACKAGE_PACKAGE_TYPE",457],["T_WHITESPACE","\n                    ",457],["T_BOOLEAN_AND","&&",458],["T_WHITESPACE"," ",458],["T_ISSET","isset",458],"(",["T_VARIABLE","$package",458],"[",["T_CONSTANT_ENCAPSED_STRING","'require'",458],"]",")",["T_WHITESPACE","\n                ",458],")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n                    ",459],["T_FOREACH","foreach",460],["T_WHITESPACE"," ",460],"(",["T_STRING","array_keys",460],"(",["T_VARIABLE","$package",460],"[",["T_CONSTANT_ENCAPSED_STRING","'require'",460],"]",")",["T_WHITESPACE"," ",460],["T_AS","as",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$key",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n                        ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","metapackagesMap",461],"[",["T_VARIABLE","$key",461],"]",["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$package",461],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",461],"]",";",["T_WHITESPACE","\n                    ",461],"}",["T_WHITESPACE","\n                ",462],"}",["T_WHITESPACE","\n            ",463],"}",")",";",["T_WHITESPACE","\n        ",464],"}",["T_WHITESPACE","\n\n        ",465],["T_RETURN","return",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","metapackagesMap",467],";",["T_WHITESPACE","\n    ",467],"}",["T_WHITESPACE","\n\n    ",468],["T_DOC_COMMENT","\/**\n     * Retrieve all available versions for a package\n     *\n     * @param string $package\n     * @return array\n     * @throws \\RuntimeException\n     *\/",470],["T_WHITESPACE","\n    ",476],["T_PRIVATE","private",477],["T_WHITESPACE"," ",477],["T_FUNCTION","function",477],["T_WHITESPACE"," ",477],["T_STRING","getPackageAvailableVersions",477],"(",["T_VARIABLE","$package",477],")",["T_WHITESPACE","\n    ",477],"{",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$magentoRepositories",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","composerInformation",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getRootRepositories",479],"(",")",";",["T_WHITESPACE","\n\n        ",479],["T_COMMENT","\/\/ Check we have only one repo.magento.com repository\n",481],["T_WHITESPACE","        ",482],["T_IF","if",482],["T_WHITESPACE"," ",482],"(",["T_WHITESPACE","\n            ",482],["T_STRING","count",483],"(",["T_VARIABLE","$magentoRepositories",483],")",["T_WHITESPACE"," ",483],["T_IS_IDENTICAL","===",483],["T_WHITESPACE"," ",483],["T_LNUMBER","1",483],["T_WHITESPACE","\n            ",483],["T_BOOLEAN_AND","&&",484],["T_WHITESPACE"," ",484],["T_STRING","strpos",484],"(",["T_VARIABLE","$magentoRepositories",484],"[",["T_LNUMBER","0",484],"]",",",["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","packagesAuth",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getCredentialBaseUrl",484],"(",")",")",["T_WHITESPACE","\n        ",484],")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n            ",485],["T_VARIABLE","$packagesJson",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getPackagesJson",486],"(",")",";",["T_WHITESPACE","\n\n            ",486],["T_IF","if",488],["T_WHITESPACE"," ",488],"(",["T_ISSET","isset",488],"(",["T_VARIABLE","$packagesJson",488],"[",["T_VARIABLE","$package",488],"]",")",")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n                ",488],["T_VARIABLE","$packageVersions",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$packagesJson",489],"[",["T_VARIABLE","$package",489],"]",";",["T_WHITESPACE","\n                ",489],["T_STRING","uksort",490],"(",["T_VARIABLE","$packageVersions",490],",",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'version_compare'",490],")",";",["T_WHITESPACE","\n                ",490],["T_VARIABLE","$packageVersions",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_STRING","array_reverse",491],"(",["T_VARIABLE","$packageVersions",491],")",";",["T_WHITESPACE","\n\n                ",491],["T_RETURN","return",493],["T_WHITESPACE"," ",493],["T_STRING","array_keys",493],"(",["T_VARIABLE","$packageVersions",493],")",";",["T_WHITESPACE","\n            ",493],"}",["T_WHITESPACE","\n        ",494],"}",["T_WHITESPACE","\n\n        ",495],["T_RETURN","return",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","getAvailableVersionsFromAllRepositories",497],"(",["T_VARIABLE","$package",497],")",";",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_DOC_COMMENT","\/**\n     * Get available versions of package by \"composer show\" command\n     *\n     * @param string $package\n     * @return array\n     * @exception \\RuntimeException\n     *\/",500],["T_WHITESPACE","\n    ",506],["T_PRIVATE","private",507],["T_WHITESPACE"," ",507],["T_FUNCTION","function",507],["T_WHITESPACE"," ",507],["T_STRING","getAvailableVersionsFromAllRepositories",507],"(",["T_VARIABLE","$package",507],")",["T_WHITESPACE","\n    ",507],"{",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$versionsPattern",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_CONSTANT_ENCAPSED_STRING","'\/^versions\\s*\\:\\s(.+)$\/m'",509],";",["T_WHITESPACE","\n\n        ",509],["T_VARIABLE","$commandParams",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],"[",["T_WHITESPACE","\n            ",511],["T_STRING","self",512],["T_DOUBLE_COLON","::",512],["T_STRING","PARAM_COMMAND",512],["T_WHITESPACE"," ",512],["T_DOUBLE_ARROW","=>",512],["T_WHITESPACE"," ",512],["T_STRING","self",512],["T_DOUBLE_COLON","::",512],["T_STRING","COMPOSER_SHOW",512],",",["T_WHITESPACE","\n            ",512],["T_STRING","self",513],["T_DOUBLE_COLON","::",513],["T_STRING","PARAM_PACKAGE",513],["T_WHITESPACE"," ",513],["T_DOUBLE_ARROW","=>",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$package",513],",",["T_WHITESPACE","\n            ",513],["T_STRING","self",514],["T_DOUBLE_COLON","::",514],["T_STRING","PARAM_AVAILABLE",514],["T_WHITESPACE"," ",514],["T_DOUBLE_ARROW","=>",514],["T_WHITESPACE"," ",514],["T_STRING","true",514],["T_WHITESPACE","\n        ",514],"]",";",["T_WHITESPACE","\n\n        ",515],["T_VARIABLE","$applicationFactory",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","objectManagerProvider",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","get",517],"(",")",["T_WHITESPACE","\n            ",517],["T_OBJECT_OPERATOR","->",518],["T_STRING","get",518],"(",["T_NS_SEPARATOR","\\",518],["T_STRING","Magento",518],["T_NS_SEPARATOR","\\",518],["T_STRING","Framework",518],["T_NS_SEPARATOR","\\",518],["T_STRING","Composer",518],["T_NS_SEPARATOR","\\",518],["T_STRING","MagentoComposerApplicationFactory",518],["T_DOUBLE_COLON","::",518],["T_CLASS","class",518],")",";",["T_WHITESPACE","\n        ",518],["T_DOC_COMMENT","\/** @var \\Magento\\Composer\\MagentoComposerApplication $application *\/",519],["T_WHITESPACE","\n        ",519],["T_VARIABLE","$application",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$applicationFactory",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","create",520],"(",")",";",["T_WHITESPACE","\n\n        ",520],["T_VARIABLE","$result",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$application",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","runComposerCommand",522],"(",["T_VARIABLE","$commandParams",522],")",";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$matches",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],"[","]",";",["T_WHITESPACE","\n        ",523],["T_STRING","preg_match",524],"(",["T_VARIABLE","$versionsPattern",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$result",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$matches",524],")",";",["T_WHITESPACE","\n        ",524],["T_IF","if",525],["T_WHITESPACE"," ",525],"(",["T_ISSET","isset",525],"(",["T_VARIABLE","$matches",525],"[",["T_LNUMBER","1",525],"]",")",")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n            ",525],["T_RETURN","return",526],["T_WHITESPACE"," ",526],["T_STRING","explode",526],"(",["T_CONSTANT_ENCAPSED_STRING","', '",526],",",["T_WHITESPACE"," ",526],["T_VARIABLE","$matches",526],"[",["T_LNUMBER","1",526],"]",")",";",["T_WHITESPACE","\n        ",526],"}",["T_WHITESPACE","\n\n        ",527],["T_THROW","throw",529],["T_WHITESPACE"," ",529],["T_NEW","new",529],["T_WHITESPACE"," ",529],["T_NS_SEPARATOR","\\",529],["T_STRING","RuntimeException",529],"(",["T_WHITESPACE","\n            ",529],["T_STRING","sprintf",530],"(",["T_CONSTANT_ENCAPSED_STRING","'Couldn\\'t get available versions for package %s'",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$package",530],")",["T_WHITESPACE","\n        ",530],")",";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n",532],"}",["T_WHITESPACE","\n",533]]