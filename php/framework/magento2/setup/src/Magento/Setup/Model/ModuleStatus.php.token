[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n\n",5],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Setup",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Module",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ModuleList",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Loader",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","ModuleLoader",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DeploymentConfig",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Module",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyChecker",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Config",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ConfigOptionsListConstants",13],";",["T_WHITESPACE","\n\n",13],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ModuleStatus",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * List of Modules\n     *\n     * @var array\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$allModules",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Deployment Config\n     *\n     * @var DeploymentConfig\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$deploymentConfig",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Dependency Checker\n     *\n     * @var DependencyChecker\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$dependencyChecker",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param ModuleLoader $moduleLoader\n     * @param DeploymentConfig $deploymentConfig\n     * @param ObjectManagerProvider $objectManagerProvider\n     *\/",38],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","__construct",45],"(",["T_WHITESPACE","\n        ",45],["T_STRING","ModuleLoader",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$moduleLoader",46],",",["T_WHITESPACE","\n        ",46],["T_STRING","DeploymentConfig",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$deploymentConfig",47],",",["T_WHITESPACE","\n        ",47],["T_STRING","ObjectManagerProvider",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$objectManagerProvider",48],["T_WHITESPACE","\n    ",48],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","allModules",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$moduleLoader",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","load",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_STRING","array_keys",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","allModules",51],")",["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$module",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","allModules",52],"[",["T_VARIABLE","$module",52],"]","[",["T_CONSTANT_ENCAPSED_STRING","'selected'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","true",52],";",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","allModules",53],"[",["T_VARIABLE","$module",53],"]","[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","true",53],";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","deploymentConfig",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$deploymentConfig",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","dependencyChecker",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$objectManagerProvider",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Module",57],["T_NS_SEPARATOR","\\",57],["T_STRING","DependencyChecker",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Returns list of Modules to be displayed\n     *\n     * @param array $selectedModules\n     * @return array\n     *\/",60],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","getAllModules",66],"(",["T_ARRAY","array",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$selectedModules",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","null",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_ISSET","isset",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","allModules",68],")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_ISSET","isset",69],"(",["T_VARIABLE","$selectedModules",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$diff",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","array_diff",70],"(",["T_STRING","array_keys",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","allModules",70],")",",",["T_WHITESPACE"," ",70],["T_VARIABLE","$selectedModules",70],")",";",["T_WHITESPACE","\n                ",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$diff",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$module",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","allModules",72],"[",["T_VARIABLE","$module",72],"]","[",["T_CONSTANT_ENCAPSED_STRING","'selected'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","false",72],";",["T_WHITESPACE","\n                ",72],"}",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE"," ",74],["T_ELSE","else",74],["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","deselectDisabledModules",75],"(",")",";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$disableModules",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getListOfDisableModules",77],"(",")",";",["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_ISSET","isset",78],"(",["T_VARIABLE","$disableModules",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$disableModules",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$module",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","allModules",80],"[",["T_VARIABLE","$module",80],"]","[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","false",80],";",["T_WHITESPACE","\n                ",80],"}",["T_WHITESPACE","\n            ",81],"}",["T_WHITESPACE","\n            ",82],["T_COMMENT","\/\/check if module is not checked and disabled - possible when config is incorrectly modified.\n",83],["T_WHITESPACE","            ",84],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","allModules",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$module",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","!",["T_VARIABLE","$module",85],"[",["T_CONSTANT_ENCAPSED_STRING","'selected'",85],"]",["T_WHITESPACE"," ",85],["T_BOOLEAN_AND","&&",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$module",85],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",85],"]",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","allModules",86],"[",["T_VARIABLE","$module",86],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",86],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","false",86],";",["T_WHITESPACE","\n                ",86],"}",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE","\n            ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","allModules",89],";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],"[","]",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Returns list of modules that can be disabled\n     *\n     * @return array\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PRIVATE","private",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","getListOfDisableModules",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$canBeDisabled",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"[","]",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$enabledModules",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getListOfEnabledModules",102],"(",")",";",["T_WHITESPACE","\n        ",102],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","allModules",103],["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$module",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$errorMessages",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","dependencyChecker",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","checkDependenciesWhenDisableModules",104],"(",["T_WHITESPACE","\n                ",104],"[",["T_VARIABLE","$module",105],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",105],"]","]",",",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$enabledModules",106],["T_WHITESPACE","\n            ",106],")",";",["T_WHITESPACE","\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_STRING","sizeof",108],"(",["T_VARIABLE","$errorMessages",108],"[",["T_VARIABLE","$module",108],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",108],"]","]",")",["T_WHITESPACE"," ",108],["T_IS_IDENTICAL","===",108],["T_WHITESPACE"," ",108],["T_LNUMBER","0",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_VARIABLE","$canBeDisabled",109],"[","]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$module",109],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",109],"]",";",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$canBeDisabled",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Returns list of enabled modules\n     *\n     * @return array\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PRIVATE","private",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getListOfEnabledModules",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$enabledModules",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],"[","]",";",["T_WHITESPACE","\n        ",122],["T_FOREACH","foreach",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","allModules",123],["T_WHITESPACE"," ",123],["T_AS","as",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$module",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$module",124],"[",["T_CONSTANT_ENCAPSED_STRING","'selected'",124],"]",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$enabledModules",125],"[","]",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE","  ",125],["T_VARIABLE","$module",125],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",125],"]",";",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$enabledModules",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * @param bool $status\n     * @param String $moduleName\n     *\n     * @return void\n     *\/",131],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","setIsEnabled",137],"(",["T_VARIABLE","$status",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$moduleName",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","allModules",139],"[",["T_VARIABLE","$moduleName",139],"]","[",["T_CONSTANT_ENCAPSED_STRING","'selected'",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$status",139],";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Marks modules that are disabled in deploymentConfig as unselected.\n     *\n     * @return void\n     *\/",142],["T_WHITESPACE","\n    ",146],["T_PRIVATE","private",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","deselectDisabledModules",147],"(",")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$existingModules",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","deploymentConfig",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","get",149],"(",["T_STRING","ConfigOptionsListConstants",149],["T_DOUBLE_COLON","::",149],["T_STRING","KEY_MODULES",149],")",";",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_ISSET","isset",150],"(",["T_VARIABLE","$existingModules",150],")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_FOREACH","foreach",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$existingModules",151],["T_WHITESPACE"," ",151],["T_AS","as",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$module",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$value",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(","!",["T_VARIABLE","$value",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","allModules",153],"[",["T_VARIABLE","$module",153],"]","[",["T_CONSTANT_ENCAPSED_STRING","'selected'",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","false",153],";",["T_WHITESPACE","\n                ",153],"}",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n",157],"}",["T_WHITESPACE","\n",158]]