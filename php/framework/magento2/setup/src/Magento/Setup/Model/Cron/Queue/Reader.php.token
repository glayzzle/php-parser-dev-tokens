[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Setup",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cron",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Queue",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Filesystem",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DirectoryList",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Filesystem",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Queue content file reader.\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Reader",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\ReadInterface\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$reader",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$queueFileBasename",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Initialize reader.\n     *\n     * @param Filesystem $filesystem\n     * @param string|null $queueFileBasename\n     *\/",27],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_STRING","Filesystem",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$filesystem",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$queueFileBasename",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","null",33],")",["T_WHITESPACE","\n    ",33],"{",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","reader",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$filesystem",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getDirectoryRead",35],"(",["T_STRING","DirectoryList",35],["T_DOUBLE_COLON","::",35],["T_STRING","VAR_DIR",35],")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","queueFileBasename",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$queueFileBasename",36],["T_WHITESPACE"," ",36],"?",["T_WHITESPACE"," ",36],["T_VARIABLE","$queueFileBasename",36],["T_WHITESPACE"," ",36],":",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'.update_queue.json'",36],";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Read Magento updater application jobs queue as a JSON string.\n     *\n     * @return string Queue file content (valid JSON string)\n     * @throws \\RuntimeException\n     *\/",39],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","read",45],"(",")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$queue",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","''",47],";",["T_WHITESPACE","\n        ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(","!",["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","reader",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","isExist",48],"(",["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","queueFileBasename",48],")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$queue",49],";",["T_WHITESPACE","\n        ",49],"}",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$queueFileContent",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","reader",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","readFile",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","queueFileBasename",51],")",";",["T_WHITESPACE","\n        ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$queueFileContent",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_STRING","json_decode",53],"(",["T_VARIABLE","$queueFileContent",53],")",";",["T_WHITESPACE","\n            ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_STRING","json_last_error",54],"(",")",["T_WHITESPACE"," ",54],["T_IS_NOT_IDENTICAL","!==",54],["T_WHITESPACE"," ",54],["T_STRING","JSON_ERROR_NONE",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n                ",54],["T_THROW","throw",55],["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_NS_SEPARATOR","\\",55],["T_STRING","RuntimeException",55],"(",["T_STRING","sprintf",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Content of \"%s\" must be a valid JSON.'",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","queueFileBasename",55],")",")",";",["T_WHITESPACE","\n            ",55],"}",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$queue",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$queueFileContent",57],";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n        ",58],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$queue",59],";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n",60],"}",["T_WHITESPACE","\n",61]]