[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Setup",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DeploymentConfig",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConfigData",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DeploymentConfig",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Writer",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Setup",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Option",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AbstractConfigOption",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Setup",13],["T_NS_SEPARATOR","\\",13],["T_STRING","FilePermissions",13],";",["T_WHITESPACE","\n\n",13],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ConfigModel",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Setup\\Model\\ConfigOptionsListCollector\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$collector",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\DeploymentConfig\\Writer\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$writer",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * File permissions checker\n     *\n     * @var FilePermissions\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$filePermissions",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\DeploymentConfig\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$deploymentConfig",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param ConfigOptionsListCollector $collector\n     * @param Writer $writer\n     * @param DeploymentConfig $deploymentConfig\n     * @param FilePermissions $filePermissions\n     *\/",39],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","__construct",47],"(",["T_WHITESPACE","\n        ",47],["T_STRING","ConfigOptionsListCollector",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$collector",48],",",["T_WHITESPACE","\n        ",48],["T_STRING","Writer",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$writer",49],",",["T_WHITESPACE","\n        ",49],["T_STRING","DeploymentConfig",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$deploymentConfig",50],",",["T_WHITESPACE","\n        ",50],["T_STRING","FilePermissions",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$filePermissions",51],["T_WHITESPACE","\n    ",51],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","collector",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$collector",53],";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","writer",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$writer",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","filePermissions",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$filePermissions",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","deploymentConfig",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$deploymentConfig",56],";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Gets available config options\n     *\n     * @return AbstractConfigOption[]\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","getAvailableOptions",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_DOC_COMMENT","\/** @var AbstractConfigOption[] $optionCollection *\/",66],["T_WHITESPACE","\n        ",66],["T_VARIABLE","$optionCollection",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"[","]",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$optionLists",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","collector",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","collectOptionsLists",68],"(",")",";",["T_WHITESPACE","\n\n        ",68],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$optionLists",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$optionList",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$optionCollection",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","array_merge",71],"(",["T_VARIABLE","$optionCollection",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$optionList",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getOptions",71],"(",")",")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$optionCollection",74],["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$option",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$currentValue",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","deploymentConfig",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_VARIABLE","$option",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getConfigPath",75],"(",")",")",";",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$currentValue",76],["T_WHITESPACE"," ",76],["T_IS_NOT_IDENTICAL","!==",76],["T_WHITESPACE"," ",76],["T_STRING","null",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$option",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setDefault",77],"(",")",";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$optionCollection",81],";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Process input options\n     *\n     * @param array $inputOptions\n     * @return void\n     * @throws \\Exception\n     *\/",84],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","process",91],"(",["T_VARIABLE","$inputOptions",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","checkInstallationFilePermissions",93],"(",")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$options",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","collector",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","collectOptionsLists",95],"(",")",";",["T_WHITESPACE","\n\n        ",95],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$options",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$moduleName",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$option",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$configData",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$option",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","createConfig",98],"(",["T_VARIABLE","$inputOptions",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","deploymentConfig",98],")",";",["T_WHITESPACE","\n\n            ",98],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$configData",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$config",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$fileConfigStorage",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"[","]",";",["T_WHITESPACE","\n                ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(","!",["T_VARIABLE","$config",102],["T_WHITESPACE"," ",102],["T_INSTANCEOF","instanceof",102],["T_WHITESPACE"," ",102],["T_STRING","ConfigData",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                    ",102],["T_THROW","throw",103],["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Exception",103],"(",["T_WHITESPACE","\n                        ",103],["T_CONSTANT_ENCAPSED_STRING","'In module : '",104],["T_WHITESPACE","\n                        ",104],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$moduleName",105],["T_WHITESPACE","\n                        ",105],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'ConfigOption::createConfig should return an array of ConfigData instances'",106],["T_WHITESPACE","\n                    ",106],")",";",["T_WHITESPACE","\n                ",107],"}",["T_WHITESPACE","\n\n                ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_ISSET","isset",110],"(",["T_VARIABLE","$fileConfigStorage",110],"[",["T_VARIABLE","$config",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getFileKey",110],"(",")","]",")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                    ",110],["T_VARIABLE","$fileConfigStorage",111],"[",["T_VARIABLE","$config",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getFileKey",111],"(",")","]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","array_replace_recursive",111],"(",["T_WHITESPACE","\n                        ",111],["T_VARIABLE","$fileConfigStorage",112],"[",["T_VARIABLE","$config",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getFileKey",112],"(",")","]",",",["T_WHITESPACE","\n                        ",112],["T_VARIABLE","$config",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getData",113],"(",")",["T_WHITESPACE","\n                    ",113],")",";",["T_WHITESPACE","\n                ",114],"}",["T_WHITESPACE"," ",115],["T_ELSE","else",115],["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n                    ",115],["T_VARIABLE","$fileConfigStorage",116],"[",["T_VARIABLE","$config",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getFileKey",116],"(",")","]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$config",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getData",116],"(",")",";",["T_WHITESPACE","\n                ",116],"}",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","writer",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","saveConfig",118],"(",["T_VARIABLE","$fileConfigStorage",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$config",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","isOverrideWhenSave",118],"(",")",")",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Validates Input Options\n     *\n     * @param array $inputOptions\n     * @return array\n     *\/",123],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","validate",129],"(",["T_ARRAY","array",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$inputOptions",129],")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$errors",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],"[","]",";",["T_WHITESPACE","\n\n        ",131],["T_COMMENT","\/\/Basic types validation\n",133],["T_WHITESPACE","        ",134],["T_VARIABLE","$options",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getAvailableOptions",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$options",135],["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$option",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_TRY","try",136],["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$inputOptions",137],"[",["T_VARIABLE","$option",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getName",137],"(",")","]",["T_WHITESPACE"," ",137],["T_IS_NOT_IDENTICAL","!==",137],["T_WHITESPACE"," ",137],["T_STRING","null",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                    ",137],["T_VARIABLE","$option",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","validate",138],"(",["T_VARIABLE","$inputOptions",138],"[",["T_VARIABLE","$option",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getName",138],"(",")","]",")",";",["T_WHITESPACE","\n                ",138],"}",["T_WHITESPACE","\n            ",139],"}",["T_WHITESPACE"," ",140],["T_CATCH","catch",140],["T_WHITESPACE"," ",140],"(",["T_NS_SEPARATOR","\\",140],["T_STRING","InvalidArgumentException",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$e",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$errors",141],"[","]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$e",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getMessage",141],"(",")",";",["T_WHITESPACE","\n            ",141],"}",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_COMMENT","\/\/ validate ConfigOptionsList\n",145],["T_WHITESPACE","        ",146],["T_VARIABLE","$options",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","collector",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","collectOptionsLists",146],"(",")",";",["T_WHITESPACE","\n\n        ",146],["T_FOREACH","foreach",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$options",148],["T_WHITESPACE"," ",148],["T_AS","as",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$option",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$errors",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","array_merge",149],"(",["T_VARIABLE","$errors",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$option",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","validate",149],"(",["T_VARIABLE","$inputOptions",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","deploymentConfig",149],")",")",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n\n        ",150],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$errors",152],";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Check permissions of directories that are expected to be writable for installation\n     *\n     * @return void\n     * @throws \\Exception\n     *\/",155],["T_WHITESPACE","\n    ",160],["T_PRIVATE","private",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","checkInstallationFilePermissions",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$results",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","filePermissions",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getMissingWritablePathsForInstallation",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$results",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$errorMsg",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","\"Missing write permissions to the following paths:\"",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_STRING","PHP_EOL",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_STRING","implode",165],"(",["T_STRING","PHP_EOL",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$results",165],")",";",["T_WHITESPACE","\n            ",165],["T_THROW","throw",166],["T_WHITESPACE"," ",166],["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Exception",166],"(",["T_VARIABLE","$errorMsg",166],")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n",168],"}",["T_WHITESPACE","\n",169]]