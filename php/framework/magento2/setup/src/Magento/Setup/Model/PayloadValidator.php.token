[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Setup",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Validates payloads for updater tasks\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","PayloadValidator",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Module\\FullModuleList\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PRIVATE","private",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$moduleList",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Module\\FullModuleList $moduleList\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","__construct",22],"(",["T_NS_SEPARATOR","\\",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Framework",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Module",22],["T_NS_SEPARATOR","\\",22],["T_STRING","FullModuleList",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$moduleList",22],")",["T_WHITESPACE","\n    ",22],"{",["T_WHITESPACE","\n        ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","moduleList",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$moduleList",24],";",["T_WHITESPACE","\n    ",24],"}",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Validate POST request payload\n     *\n     * @param array $postPayload\n     * @return string\n     *\/",27],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","validatePayload",33],"(",["T_ARRAY","array",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$postPayload",33],")",["T_WHITESPACE","\n    ",33],"{",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$jobType",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$postPayload",35],"[",["T_STRING","UpdaterTaskCreator",35],["T_DOUBLE_COLON","::",35],["T_STRING","KEY_POST_JOB_TYPE",35],"]",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$errorMessage",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","''",36],";",["T_WHITESPACE","\n        ",36],["T_SWITCH","switch",37],"(",["T_VARIABLE","$jobType",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n            ",37],["T_CASE","case",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'uninstall'",38],":",["T_WHITESPACE","\n                ",38],["T_VARIABLE","$errorMessage",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","validateUninstallPayload",39],"(",["T_VARIABLE","$postPayload",39],")",";",["T_WHITESPACE","\n                ",39],["T_BREAK","break",40],";",["T_WHITESPACE","\n\n            ",40],["T_CASE","case",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'update'",42],":",["T_WHITESPACE","\n                ",42],["T_VARIABLE","$errorMessage",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","validateUpdatePayload",43],"(",["T_VARIABLE","$postPayload",43],")",";",["T_WHITESPACE","\n                ",43],["T_BREAK","break",44],";",["T_WHITESPACE","\n\n            ",44],["T_CASE","case",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'enable'",46],":",["T_WHITESPACE","\n            ",46],["T_CASE","case",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'disable'",47],":",["T_WHITESPACE","\n                ",47],["T_VARIABLE","$errorMessage",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","validateEnableDisablePayload",48],"(",["T_VARIABLE","$postPayload",48],")",";",["T_WHITESPACE","\n                ",48],["T_BREAK","break",49],";",["T_WHITESPACE","\n        ",49],"}",["T_WHITESPACE","\n        ",50],["T_RETURN","return",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$errorMessage",51],";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Validate 'uninstall' job type payload\n     *\n     * @param array $postPayload\n     * @return string\n     *\/",54],["T_WHITESPACE","\n    ",59],["T_PRIVATE","private",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","validateUninstallPayload",60],"(",["T_ARRAY","array",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$postPayload",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$errorMessage",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","''",62],";",["T_WHITESPACE","\n        ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(","!",["T_ISSET","isset",63],"(",["T_VARIABLE","$postPayload",63],"[",["T_STRING","UpdaterTaskCreator",63],["T_DOUBLE_COLON","::",63],["T_STRING","KEY_POST_DATA_OPTION",63],"]",")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$errorMessage",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'Missing dataOption'",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_STRING","PHP_EOL",64],";",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n        ",65],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$errorMessage",66],";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Validate 'update' job type payload\n     *\n     * @param array $postPayload\n     * @return string\n     *\/",69],["T_WHITESPACE","\n    ",74],["T_PRIVATE","private",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","validateUpdatePayload",75],"(",["T_ARRAY","array",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$postPayload",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$errorMessage",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","''",77],";",["T_WHITESPACE","\n        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_ISSET","isset",78],"(",["T_VARIABLE","$postPayload",78],"[",["T_STRING","UpdaterTaskCreator",78],["T_DOUBLE_COLON","::",78],["T_STRING","KEY_POST_PACKAGES",78],"]",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$errorMessage",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Missing packages'",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_STRING","PHP_EOL",79],";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE"," ",80],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$packages",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$postPayload",81],"[",["T_STRING","UpdaterTaskCreator",81],["T_DOUBLE_COLON","::",81],["T_STRING","KEY_POST_PACKAGES",81],"]",";",["T_WHITESPACE","\n            ",81],["T_FOREACH","foreach",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$packages",82],["T_WHITESPACE"," ",82],["T_AS","as",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$package",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","(","!",["T_ISSET","isset",83],"(",["T_VARIABLE","$package",83],"[",["T_STRING","UpdaterTaskCreator",83],["T_DOUBLE_COLON","::",83],["T_STRING","KEY_POST_PACKAGE_NAME",83],"]",")",")",["T_WHITESPACE","\n                    ",83],["T_BOOLEAN_OR","||",84],["T_WHITESPACE"," ",84],"(","!",["T_ISSET","isset",84],"(",["T_VARIABLE","$package",84],"[",["T_STRING","UpdaterTaskCreator",84],["T_DOUBLE_COLON","::",84],["T_STRING","KEY_POST_PACKAGE_VERSION",84],"]",")",")",["T_WHITESPACE","\n                ",84],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                    ",85],["T_VARIABLE","$errorMessage",86],["T_WHITESPACE"," ",86],["T_CONCAT_EQUAL",".=",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Missing package information'",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_STRING","PHP_EOL",86],";",["T_WHITESPACE","\n                    ",86],["T_BREAK","break",87],";",["T_WHITESPACE","\n                ",87],"}",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$errorMessage",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Validate 'enable\/disable' job type payload\n     *\n     * @param array $postPayload\n     * @return string\n     *\/",94],["T_WHITESPACE","\n    ",99],["T_PRIVATE","private",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","validateEnableDisablePayload",100],"(",["T_ARRAY","array",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$postPayload",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$errorMessage",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],";",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(","!",["T_ISSET","isset",103],"(",["T_VARIABLE","$postPayload",103],"[",["T_STRING","UpdaterTaskCreator",103],["T_DOUBLE_COLON","::",103],["T_STRING","KEY_POST_PACKAGES",103],"]",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$errorMessage",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'Missing packages'",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_STRING","PHP_EOL",104],";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE"," ",105],["T_ELSE","else",105],["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$packages",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$postPayload",106],"[",["T_STRING","UpdaterTaskCreator",106],["T_DOUBLE_COLON","::",106],["T_STRING","KEY_POST_PACKAGES",106],"]",";",["T_WHITESPACE","\n            ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$packages",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$package",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","moduleList",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","has",108],"(",["T_VARIABLE","$package",108],"[",["T_STRING","UpdaterTaskCreator",108],["T_DOUBLE_COLON","::",108],["T_STRING","KEY_POST_PACKAGE_NAME",108],"]",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                    ",108],["T_VARIABLE","$errorMessage",109],["T_WHITESPACE"," ",109],["T_CONCAT_EQUAL",".=",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'Invalid Magento module name: '",109],["T_WHITESPACE","\n                        ",109],".",["T_WHITESPACE"," ",110],["T_VARIABLE","$package",110],"[",["T_STRING","UpdaterTaskCreator",110],["T_DOUBLE_COLON","::",110],["T_STRING","KEY_POST_PACKAGE_NAME",110],"]",["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_STRING","PHP_EOL",110],";",["T_WHITESPACE","\n                    ",110],["T_BREAK","break",111],";",["T_WHITESPACE","\n                ",111],"}",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$errorMessage",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n",116],"}",["T_WHITESPACE","\n",117]]