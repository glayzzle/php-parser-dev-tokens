[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Setup",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Console",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Command",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MaintenanceMode",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Module",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ModuleList",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Setup",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Validator",11],["T_NS_SEPARATOR","\\",11],["T_STRING","IpValidator",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Console",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Input",12],["T_NS_SEPARATOR","\\",12],["T_STRING","InputInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Console",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Input",13],["T_NS_SEPARATOR","\\",13],["T_STRING","InputArgument",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Console",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Input",14],["T_NS_SEPARATOR","\\",14],["T_STRING","InputOption",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Console",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Output",15],["T_NS_SEPARATOR","\\",15],["T_STRING","OutputInterface",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Command for setting allowed IPs in maintenance mode\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","MaintenanceAllowIpsCommand",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","AbstractSetupCommand",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Names of input arguments or options\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","INPUT_KEY_IP",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'ip'",25],";",["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","INPUT_KEY_NONE",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'none'",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var MaintenanceMode\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$maintenanceMode",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var IpValidator\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$ipValidator",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param MaintenanceMode $maintenanceMode\n     * @param IpValidator $ipValidator\n     *\/",38],["T_WHITESPACE","\n    ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","__construct",44],"(",["T_STRING","MaintenanceMode",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$maintenanceMode",44],",",["T_WHITESPACE"," ",44],["T_STRING","IpValidator",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$ipValidator",44],")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","maintenanceMode",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$maintenanceMode",46],";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","ipValidator",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$ipValidator",47],";",["T_WHITESPACE","\n        ",47],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","__construct",48],"(",")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Initialization of the command\n     *\n     * @return void\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","configure",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$arguments",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"[",["T_WHITESPACE","\n            ",58],["T_NEW","new",59],["T_WHITESPACE"," ",59],["T_STRING","InputArgument",59],"(",["T_WHITESPACE","\n                ",59],["T_STRING","self",60],["T_DOUBLE_COLON","::",60],["T_STRING","INPUT_KEY_IP",60],",",["T_WHITESPACE","\n                ",60],["T_STRING","InputArgument",61],["T_DOUBLE_COLON","::",61],["T_STRING","OPTIONAL",61],["T_WHITESPACE"," ",61],"|",["T_WHITESPACE"," ",61],["T_STRING","InputArgument",61],["T_DOUBLE_COLON","::",61],["T_STRING","IS_ARRAY",61],",",["T_WHITESPACE","\n                ",61],["T_CONSTANT_ENCAPSED_STRING","'Allowed IP addresses'",62],["T_WHITESPACE","\n            ",62],")",",",["T_WHITESPACE","\n        ",63],"]",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$options",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[",["T_WHITESPACE","\n            ",65],["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_STRING","InputOption",66],"(",["T_WHITESPACE","\n                ",66],["T_STRING","self",67],["T_DOUBLE_COLON","::",67],["T_STRING","INPUT_KEY_NONE",67],",",["T_WHITESPACE","\n                ",67],["T_STRING","null",68],",",["T_WHITESPACE","\n                ",68],["T_STRING","InputOption",69],["T_DOUBLE_COLON","::",69],["T_STRING","VALUE_NONE",69],",",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'Clear allowed IP addresses'",70],["T_WHITESPACE","\n            ",70],")",",",["T_WHITESPACE","\n        ",71],"]",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setName",73],"(",["T_CONSTANT_ENCAPSED_STRING","'maintenance:allow-ips'",73],")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","setDescription",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Sets maintenance mode exempt IPs'",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","setDefinition",75],"(",["T_STRING","array_merge",75],"(",["T_VARIABLE","$arguments",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$options",75],")",")",";",["T_WHITESPACE","\n        ",75],["T_STRING","parent",76],["T_DOUBLE_COLON","::",76],["T_STRING","configure",76],"(",")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","execute",82],"(",["T_STRING","InputInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$input",82],",",["T_WHITESPACE"," ",82],["T_STRING","OutputInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$output",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_VARIABLE","$input",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getOption",84],"(",["T_STRING","self",84],["T_DOUBLE_COLON","::",84],["T_STRING","INPUT_KEY_NONE",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$addresses",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$input",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getArgument",85],"(",["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_STRING","INPUT_KEY_IP",85],")",";",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$messages",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","validate",86],"(",["T_VARIABLE","$addresses",86],")",";",["T_WHITESPACE","\n            ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_EMPTY","empty",87],"(",["T_VARIABLE","$messages",87],")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$output",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","writeln",88],"(",["T_CONSTANT_ENCAPSED_STRING","'<error>'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_STRING","implode",88],"(",["T_CONSTANT_ENCAPSED_STRING","'<\/error>'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_STRING","PHP_EOL",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'<error>'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$messages",88],")",")",";",["T_WHITESPACE","\n                ",88],["T_COMMENT","\/\/ we must have an exit code higher than zero to indicate something was wrong\n",89],["T_WHITESPACE","                ",90],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Framework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Console",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Cli",90],["T_DOUBLE_COLON","::",90],["T_STRING","RETURN_FAILURE",90],";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n\n            ",91],["T_IF","if",93],["T_WHITESPACE"," ",93],"(","!",["T_EMPTY","empty",93],"(",["T_VARIABLE","$addresses",93],")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","maintenanceMode",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","setAddresses",94],"(",["T_STRING","implode",94],"(",["T_CONSTANT_ENCAPSED_STRING","','",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$addresses",94],")",")",";",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$output",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","writeln",95],"(",["T_WHITESPACE","\n                    ",95],["T_CONSTANT_ENCAPSED_STRING","'<info>Set exempt IP-addresses: '",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_STRING","implode",96],"(",["T_CONSTANT_ENCAPSED_STRING","', '",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","maintenanceMode",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getAddressInfo",96],"(",")",")",["T_WHITESPACE"," ",96],".",["T_WHITESPACE","\n                    ",96],["T_CONSTANT_ENCAPSED_STRING","'<\/info>'",97],["T_WHITESPACE","\n                ",97],")",";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE"," ",100],["T_ELSE","else",100],["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","maintenanceMode",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setAddresses",101],"(",["T_CONSTANT_ENCAPSED_STRING","''",101],")",";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$output",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","writeln",102],"(",["T_CONSTANT_ENCAPSED_STRING","'<info>Set exempt IP-addresses: none<\/info>'",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Validates IP addresses and return error messages\n     *\n     * @param string[] $addresses\n     * @return string[]\n     *\/",106],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","validate",112],"(",["T_ARRAY","array",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$addresses",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","ipValidator",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","validateIps",114],"(",["T_VARIABLE","$addresses",114],",",["T_WHITESPACE"," ",114],["T_STRING","false",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n",115],"}",["T_WHITESPACE","\n",116]]