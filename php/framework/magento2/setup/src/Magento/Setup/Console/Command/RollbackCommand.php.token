[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Setup",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Console",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Command",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DeploymentConfig",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MaintenanceMode",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Backup",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Factory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ObjectManagerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Setup",12],["T_NS_SEPARATOR","\\",12],["T_STRING","BackupRollbackFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Setup",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ObjectManagerProvider",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Console",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Input",14],["T_NS_SEPARATOR","\\",14],["T_STRING","InputInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Console",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Input",15],["T_NS_SEPARATOR","\\",15],["T_STRING","InputOption",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Console",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Output",16],["T_NS_SEPARATOR","\\",16],["T_STRING","OutputInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Console",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Question",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ConfirmationQuestion",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Command to rollback code, media and DB\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",19],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","RollbackCommand",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_STRING","AbstractSetupCommand",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * Name of input arguments or options\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","INPUT_KEY_CODE_BACKUP_FILE",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'code-file'",29],";",["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","INPUT_KEY_MEDIA_BACKUP_FILE",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'media-file'",30],";",["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","INPUT_KEY_DB_BACKUP_FILE",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'db-file'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Object Manager\n     *\n     * @var ObjectManagerInterface\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$objectManager",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var MaintenanceMode\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$maintenanceMode",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var BackupRollbackFactory\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PRIVATE","private",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$backupRollbackFactory",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Existing deployment config\n     *\n     * @var DeploymentConfig\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$deploymentConfig",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param ObjectManagerProvider $objectManagerProvider\n     * @param MaintenanceMode $maintenanceMode\n     * @param DeploymentConfig $deploymentConfig\n     *\/",57],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","__construct",64],"(",["T_WHITESPACE","\n        ",64],["T_STRING","ObjectManagerProvider",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$objectManagerProvider",65],",",["T_WHITESPACE","\n        ",65],["T_STRING","MaintenanceMode",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$maintenanceMode",66],",",["T_WHITESPACE","\n        ",66],["T_STRING","DeploymentConfig",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$deploymentConfig",67],["T_WHITESPACE","\n    ",67],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","objectManager",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$objectManagerProvider",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","maintenanceMode",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$maintenanceMode",70],";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","backupRollbackFactory",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","objectManager",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Setup",71],["T_NS_SEPARATOR","\\",71],["T_STRING","BackupRollbackFactory",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","deploymentConfig",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$deploymentConfig",72],";",["T_WHITESPACE","\n        ",72],["T_STRING","parent",73],["T_DOUBLE_COLON","::",73],["T_STRING","__construct",73],"(",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","configure",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$options",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[",["T_WHITESPACE","\n            ",81],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","InputOption",82],"(",["T_WHITESPACE","\n                ",82],["T_STRING","self",83],["T_DOUBLE_COLON","::",83],["T_STRING","INPUT_KEY_CODE_BACKUP_FILE",83],",",["T_WHITESPACE","\n                ",83],["T_CONSTANT_ENCAPSED_STRING","'c'",84],",",["T_WHITESPACE","\n                ",84],["T_STRING","InputOption",85],["T_DOUBLE_COLON","::",85],["T_STRING","VALUE_REQUIRED",85],",",["T_WHITESPACE","\n                ",85],["T_CONSTANT_ENCAPSED_STRING","'Basename of the code backup file in var\/backups'",86],["T_WHITESPACE","\n            ",86],")",",",["T_WHITESPACE","\n            ",87],["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_STRING","InputOption",88],"(",["T_WHITESPACE","\n                ",88],["T_STRING","self",89],["T_DOUBLE_COLON","::",89],["T_STRING","INPUT_KEY_MEDIA_BACKUP_FILE",89],",",["T_WHITESPACE","\n                ",89],["T_CONSTANT_ENCAPSED_STRING","'m'",90],",",["T_WHITESPACE","\n                ",90],["T_STRING","InputOption",91],["T_DOUBLE_COLON","::",91],["T_STRING","VALUE_REQUIRED",91],",",["T_WHITESPACE","\n                ",91],["T_CONSTANT_ENCAPSED_STRING","'Basename of the media backup file in var\/backups'",92],["T_WHITESPACE","\n            ",92],")",",",["T_WHITESPACE","\n            ",93],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","InputOption",94],"(",["T_WHITESPACE","\n                ",94],["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","INPUT_KEY_DB_BACKUP_FILE",95],",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'d'",96],",",["T_WHITESPACE","\n                ",96],["T_STRING","InputOption",97],["T_DOUBLE_COLON","::",97],["T_STRING","VALUE_REQUIRED",97],",",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'Basename of the db backup file in var\/backups'",98],["T_WHITESPACE","\n            ",98],")",",",["T_WHITESPACE","\n        ",99],"]",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setName",101],"(",["T_CONSTANT_ENCAPSED_STRING","'setup:rollback'",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","setDescription",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Rolls back Magento Application codebase, media and database'",102],")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","setDefinition",103],"(",["T_VARIABLE","$options",103],")",";",["T_WHITESPACE","\n        ",103],["T_STRING","parent",104],["T_DOUBLE_COLON","::",104],["T_STRING","configure",104],"(",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",107],["T_WHITESPACE","\n    ",109],["T_PROTECTED","protected",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","execute",110],"(",["T_STRING","InputInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$input",110],",",["T_WHITESPACE"," ",110],["T_STRING","OutputInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$output",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(","!",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","deploymentConfig",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","isAvailable",112],"(",")",["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$input",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getOption",112],"(",["T_STRING","self",112],["T_DOUBLE_COLON","::",112],["T_STRING","INPUT_KEY_MEDIA_BACKUP_FILE",112],")",["T_WHITESPACE","\n                ",112],["T_BOOLEAN_OR","||",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$input",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getOption",113],"(",["T_STRING","self",113],["T_DOUBLE_COLON","::",113],["T_STRING","INPUT_KEY_DB_BACKUP_FILE",113],")",")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$output",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","writeln",114],"(",["T_CONSTANT_ENCAPSED_STRING","\"<info>No information is available: the Magento application is not installed.<\/info>\"",114],")",";",["T_WHITESPACE","\n            ",114],["T_COMMENT","\/\/ we must have an exit code higher than zero to indicate something was wrong\n",115],["T_WHITESPACE","            ",116],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Framework",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Console",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Cli",116],["T_DOUBLE_COLON","::",116],["T_STRING","RETURN_FAILURE",116],";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$returnValue",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Framework",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Console",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Cli",118],["T_DOUBLE_COLON","::",118],["T_STRING","RETURN_SUCCESS",118],";",["T_WHITESPACE","\n        ",118],["T_TRY","try",119],["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$output",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","writeln",120],"(",["T_CONSTANT_ENCAPSED_STRING","'<info>Enabling maintenance mode<\/info>'",120],")",";",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","maintenanceMode",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","set",121],"(",["T_STRING","true",121],")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$helper",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getHelper",122],"(",["T_CONSTANT_ENCAPSED_STRING","'question'",122],")",";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$question",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","ConfirmationQuestion",123],"(",["T_WHITESPACE","\n                ",123],["T_CONSTANT_ENCAPSED_STRING","'<info>You are about to remove current code and\/or database tables. Are you sure?[y\/N]<info>'",124],",",["T_WHITESPACE","\n                ",124],["T_STRING","false",125],["T_WHITESPACE","\n            ",125],")",";",["T_WHITESPACE","\n            ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(","!",["T_VARIABLE","$helper",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","ask",127],"(",["T_VARIABLE","$input",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$output",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$question",127],")",["T_WHITESPACE"," ",127],["T_BOOLEAN_AND","&&",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$input",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","isInteractive",127],"(",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Framework",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Console",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Cli",128],["T_DOUBLE_COLON","::",128],["T_STRING","RETURN_FAILURE",128],";",["T_WHITESPACE","\n            ",128],"}",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","doRollback",130],"(",["T_VARIABLE","$input",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$output",130],")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$output",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","writeln",131],"(",["T_CONSTANT_ENCAPSED_STRING","'<info>Please set file permission of bin\/magento to executable<\/info>'",131],")",";",["T_WHITESPACE","\n\n        ",131],"}",["T_WHITESPACE"," ",133],["T_CATCH","catch",133],["T_WHITESPACE"," ",133],"(",["T_NS_SEPARATOR","\\",133],["T_STRING","Exception",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$e",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$output",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","writeln",134],"(",["T_CONSTANT_ENCAPSED_STRING","'<error>'",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_VARIABLE","$e",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getMessage",134],"(",")",["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'<\/error>'",134],")",";",["T_WHITESPACE","\n            ",134],["T_COMMENT","\/\/ we must have an exit code higher than zero to indicate something was wrong\n",135],["T_WHITESPACE","            ",136],["T_VARIABLE","$returnValue",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Console",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Cli",136],["T_DOUBLE_COLON","::",136],["T_STRING","RETURN_FAILURE",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE"," ",137],["T_FINALLY","finally",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$output",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","writeln",138],"(",["T_CONSTANT_ENCAPSED_STRING","'<info>Disabling maintenance mode<\/info>'",138],")",";",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","maintenanceMode",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","set",139],"(",["T_STRING","false",139],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$returnValue",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Check rollback options and rolls back appropriately\n     *\n     * @param InputInterface $input\n     * @param OutputInterface $output\n     * @return void\n     * @throws \\InvalidArgumentException\n     *\/",144],["T_WHITESPACE","\n    ",151],["T_PRIVATE","private",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","doRollback",152],"(",["T_STRING","InputInterface",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$input",152],",",["T_WHITESPACE"," ",152],["T_STRING","OutputInterface",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$output",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$inputOptionProvided",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","false",154],";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$rollbackHandler",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","backupRollbackFactory",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","create",155],"(",["T_VARIABLE","$output",155],")",";",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$input",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getOption",156],"(",["T_STRING","self",156],["T_DOUBLE_COLON","::",156],["T_STRING","INPUT_KEY_CODE_BACKUP_FILE",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$rollbackHandler",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","codeRollback",157],"(",["T_VARIABLE","$input",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getOption",157],"(",["T_STRING","self",157],["T_DOUBLE_COLON","::",157],["T_STRING","INPUT_KEY_CODE_BACKUP_FILE",157],")",")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$inputOptionProvided",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","true",158],";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$input",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getOption",160],"(",["T_STRING","self",160],["T_DOUBLE_COLON","::",160],["T_STRING","INPUT_KEY_MEDIA_BACKUP_FILE",160],")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$rollbackHandler",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","codeRollback",161],"(",["T_VARIABLE","$input",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getOption",161],"(",["T_STRING","self",161],["T_DOUBLE_COLON","::",161],["T_STRING","INPUT_KEY_MEDIA_BACKUP_FILE",161],")",",",["T_WHITESPACE"," ",161],["T_STRING","Factory",161],["T_DOUBLE_COLON","::",161],["T_STRING","TYPE_MEDIA",161],")",";",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$inputOptionProvided",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","true",162],";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n        ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$input",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getOption",164],"(",["T_STRING","self",164],["T_DOUBLE_COLON","::",164],["T_STRING","INPUT_KEY_DB_BACKUP_FILE",164],")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","setAreaCode",165],"(",")",";",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$rollbackHandler",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","dbRollback",166],"(",["T_VARIABLE","$input",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getOption",166],"(",["T_STRING","self",166],["T_DOUBLE_COLON","::",166],["T_STRING","INPUT_KEY_DB_BACKUP_FILE",166],")",")",";",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$inputOptionProvided",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","true",167],";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n        ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","!",["T_VARIABLE","$inputOptionProvided",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_THROW","throw",170],["T_WHITESPACE"," ",170],["T_NEW","new",170],["T_WHITESPACE"," ",170],["T_NS_SEPARATOR","\\",170],["T_STRING","InvalidArgumentException",170],"(",["T_WHITESPACE","\n                ",170],["T_CONSTANT_ENCAPSED_STRING","'Not enough information provided to roll back.'",171],["T_WHITESPACE","\n            ",171],")",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Sets area code to start a session for database backup and rollback\n     *\n     * @return void\n     *\/",176],["T_WHITESPACE","\n    ",180],["T_PRIVATE","private",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","setAreaCode",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$areaCode",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",183],";",["T_WHITESPACE","\n        ",183],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\State $appState *\/",184],["T_WHITESPACE","\n        ",184],["T_VARIABLE","$appState",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","objectManager",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","get",185],"(",["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Framework",185],["T_NS_SEPARATOR","\\",185],["T_STRING","App",185],["T_NS_SEPARATOR","\\",185],["T_STRING","State",185],["T_DOUBLE_COLON","::",185],["T_CLASS","class",185],")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$appState",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","setAreaCode",186],"(",["T_VARIABLE","$areaCode",186],")",";",["T_WHITESPACE","\n        ",186],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\ObjectManager\\ConfigLoaderInterface $configLoader *\/",187],["T_WHITESPACE","\n        ",187],["T_VARIABLE","$configLoader",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","objectManager",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","get",188],"(",["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Framework",188],["T_NS_SEPARATOR","\\",188],["T_STRING","ObjectManager",188],["T_NS_SEPARATOR","\\",188],["T_STRING","ConfigLoaderInterface",188],["T_DOUBLE_COLON","::",188],["T_CLASS","class",188],")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","objectManager",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","configure",189],"(",["T_VARIABLE","$configLoader",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","load",189],"(",["T_VARIABLE","$areaCode",189],")",")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n",190],"}",["T_WHITESPACE","\n",191]]