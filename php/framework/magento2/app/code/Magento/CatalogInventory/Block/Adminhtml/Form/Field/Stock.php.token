[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * HTML select element block\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogInventory",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Block",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adminhtml",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Form",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Field",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Stock",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Data",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Element",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Select",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","QUANTITY_FIELD_HTML_ID",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'qty'",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * Quantity field element\n     *\n     * @var \\Magento\\Framework\\Data\\Form\\Element\\Text\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_qty",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Is product composite\n     *\n     * @var bool\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_isProductComposite",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Text element factory\n     *\n     * @var \\Magento\\Framework\\Data\\Form\\Element\\TextFactory\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_factoryText",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$coreRegistry",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Data\\Form\\Element\\Factory $factoryElement\n     * @param \\Magento\\Framework\\Data\\Form\\Element\\CollectionFactory $factoryCollection\n     * @param \\Magento\\Framework\\Escaper $escaper\n     * @param \\Magento\\Framework\\Data\\Form\\Element\\TextFactory $factoryText\n     * @param \\Magento\\Framework\\Registry $coreRegistry\n     * @param array $data\n     *\/",46],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","__construct",54],"(",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Framework",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Data",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Form",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Element",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Factory",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$factoryElement",55],",",["T_WHITESPACE","\n        ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Framework",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Data",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Form",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Element",56],["T_NS_SEPARATOR","\\",56],["T_STRING","CollectionFactory",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$factoryCollection",56],",",["T_WHITESPACE","\n        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Escaper",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$escaper",57],",",["T_WHITESPACE","\n        ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Framework",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Data",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Form",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Element",58],["T_NS_SEPARATOR","\\",58],["T_STRING","TextFactory",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$factoryText",58],",",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Framework",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Registry",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$coreRegistry",59],",",["T_WHITESPACE","\n        ",59],["T_ARRAY","array",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$data",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[","]",["T_WHITESPACE","\n    ",60],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_factoryText",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$factoryText",62],";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_qty",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ISSET","isset",63],"(",["T_VARIABLE","$data",63],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",63],"]",")",["T_WHITESPACE"," ",63],"?",["T_WHITESPACE"," ",63],["T_VARIABLE","$data",63],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",63],"]",["T_WHITESPACE"," ",63],":",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_createQtyElement",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_UNSET","unset",64],"(",["T_VARIABLE","$data",64],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",64],"]",")",";",["T_WHITESPACE","\n        ",64],["T_STRING","parent",65],["T_DOUBLE_COLON","::",65],["T_STRING","__construct",65],"(",["T_VARIABLE","$factoryElement",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$factoryCollection",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$escaper",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$data",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","coreRegistry",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$coreRegistry",66],";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","setName",67],"(",["T_VARIABLE","$data",67],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",67],"]",")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Create quantity field\n     *\n     * @return \\Magento\\Framework\\Data\\Form\\Element\\Text\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","_createQtyElement",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Data\\Form\\Element\\Text $element *\/",77],["T_WHITESPACE","\n        ",77],["T_VARIABLE","$element",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_factoryText",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","create",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$element",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setId",79],"(",["T_STRING","self",79],["T_DOUBLE_COLON","::",79],["T_STRING","QUANTITY_FIELD_HTML_ID",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","setName",79],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","addClass",79],"(",["T_CONSTANT_ENCAPSED_STRING","'validate-number input-text'",79],")",";",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$element",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Join quantity and in stock elements' html\n     *\n     * @return string\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","getElementHtml",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_disableFields",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_qty",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getElementHtml",91],"(",")",["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_STRING","parent",91],["T_DOUBLE_COLON","::",91],["T_STRING","getElementHtml",91],"(",")",["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_getJs",91],"(",["T_WHITESPACE","\n            ",91],["T_STRING","self",92],["T_DOUBLE_COLON","::",92],["T_STRING","QUANTITY_FIELD_HTML_ID",92],",",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getId",93],"(",")",["T_WHITESPACE","\n        ",93],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Set form to quantity element in addition to current element\n     *\n     * @param Form $form\n     * @return Form\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","setForm",103],"(",["T_VARIABLE","$form",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_qty",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","setForm",105],"(",["T_VARIABLE","$form",105],")",";",["T_WHITESPACE","\n        ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_STRING","parent",106],["T_DOUBLE_COLON","::",106],["T_STRING","setForm",106],"(",["T_VARIABLE","$form",106],")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Set value to quantity element in addition to current element\n     *\n     * @param array|string $value\n     * @return $this\n     *\/",109],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","setValue",115],"(",["T_VARIABLE","$value",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_STRING","is_array",117],"(",["T_VARIABLE","$value",117],")",["T_WHITESPACE"," ",117],["T_BOOLEAN_AND","&&",117],["T_WHITESPACE"," ",117],["T_ISSET","isset",117],"(",["T_VARIABLE","$value",117],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",117],"]",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_qty",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","setValue",118],"(",["T_VARIABLE","$value",118],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",118],"]",")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        ",119],["T_STRING","parent",120],["T_DOUBLE_COLON","::",120],["T_STRING","setValue",120],"(",["T_STRING","is_array",120],"(",["T_VARIABLE","$value",120],")",["T_WHITESPACE"," ",120],["T_BOOLEAN_AND","&&",120],["T_WHITESPACE"," ",120],["T_ISSET","isset",120],"(",["T_VARIABLE","$value",120],"[",["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",120],"]",")",["T_WHITESPACE"," ",120],"?",["T_WHITESPACE"," ",120],["T_VARIABLE","$value",120],"[",["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",120],"]",["T_WHITESPACE"," ",120],":",["T_WHITESPACE"," ",120],["T_VARIABLE","$value",120],")",";",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Set name to quantity element in addition to current element\n     *\n     * @param string $name\n     * @return void\n     *\/",124],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","setName",130],"(",["T_VARIABLE","$name",130],")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_qty",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setName",132],"(",["T_VARIABLE","$name",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'[qty]'",132],")",";",["T_WHITESPACE","\n        ",132],["T_STRING","parent",133],["T_DOUBLE_COLON","::",133],["T_STRING","setName",133],"(",["T_VARIABLE","$name",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'[is_in_stock]'",133],")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Get whether product is composite\n     *\n     * @return bool\n     *\/",136],["T_WHITESPACE","\n    ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","_isProductComposite",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_isProductComposite",143],["T_WHITESPACE"," ",143],["T_IS_IDENTICAL","===",143],["T_WHITESPACE"," ",143],["T_STRING","null",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_isProductComposite",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_qty",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getForm",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","getDataObject",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","isComposite",144],"(",")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_isProductComposite",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Disable fields depending on product type\n     *\n     * @return $this\n     *\/",149],["T_WHITESPACE","\n    ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","_disableFields",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getDisabled",156],"(",")",["T_WHITESPACE"," ",156],["T_BOOLEAN_OR","||",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_isProductComposite",156],"(",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_qty",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","setDisabled",157],"(",["T_CONSTANT_ENCAPSED_STRING","'disabled'",157],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(","!",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_isProductComposite",159],"(",")",["T_WHITESPACE"," ",159],["T_BOOLEAN_AND","&&",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_qty",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getValue",159],"(",")",["T_WHITESPACE"," ",159],["T_IS_IDENTICAL","===",159],["T_WHITESPACE"," ",159],["T_STRING","null",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setDisabled",160],"(",["T_CONSTANT_ENCAPSED_STRING","'disabled'",160],")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","isLocked",162],"(",")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_qty",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","lock",163],"(",")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n        ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Get js for quantity and in stock synchronisation\n     *\n     * @param string $quantityFieldId\n     * @param string $inStockFieldId\n     * @return string\n     *\/",168],["T_WHITESPACE","\n    ",174],["T_PROTECTED","protected",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","_getJs",175],"(",["T_VARIABLE","$quantityFieldId",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$inStockFieldId",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$isNewProduct",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_INT_CAST","(int)",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","coreRegistry",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","registry",177],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","isObjectNew",177],"(",")",";",["T_WHITESPACE","\n        ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],"\"",["T_ENCAPSED_AND_WHITESPACE","\n            <script type='text\/javascript'>\n                require(['jquery', 'prototype', 'domReady!'], function($) {\n                        var qty = $('#",178],["T_CURLY_OPEN","{",181],["T_VARIABLE","$quantityFieldId",181],"}",["T_ENCAPSED_AND_WHITESPACE","'),\n                            productType = $('#product_type_id').val(),\n                            stockAvailabilityField = $('#",181],["T_CURLY_OPEN","{",183],["T_VARIABLE","$inStockFieldId",183],"}",["T_ENCAPSED_AND_WHITESPACE","'),\n                            manageStockField = $('#inventory_manage_stock'),\n                            useConfigManageStockField = $('#inventory_use_config_manage_stock'),\n                            fieldsAssociations = {\n                                '",183],["T_CURLY_OPEN","{",187],["T_VARIABLE","$quantityFieldId",187],"}",["T_ENCAPSED_AND_WHITESPACE","': 'inventory_qty',\n                                '",187],["T_CURLY_OPEN","{",188],["T_VARIABLE","$inStockFieldId",188],"}",["T_ENCAPSED_AND_WHITESPACE","': 'inventory_stock_availability'\n                            };\n\n                        var qtyDefaultValue = qty.val();\n                        var disabler = function(event) {\n                            if (typeof(event) === 'undefined') {\n                                return;\n                            }\n                            var stockBeforeDisable = $.Event('stockbeforedisable', {productType: productType});\n                            $('[data-tab-panel=product-details]').trigger(stockBeforeDisable);\n                            if (stockBeforeDisable.result !== false) {\n                                var manageStockValue = ",188],["T_CURLY_OPEN","{",199],["T_VARIABLE","$isNewProduct",199],"}",["T_ENCAPSED_AND_WHITESPACE","\n                                    ? (qty.val() === '' ? 0 : 1)\n                                    : parseInt(manageStockField.val());\n                                if (",199],["T_CURLY_OPEN","{",202],["T_VARIABLE","$isNewProduct",202],"}",["T_ENCAPSED_AND_WHITESPACE"," && qtyDefaultValue !== null && qtyDefaultValue === qty.val()) {\n                                    manageStockValue = parseInt(manageStockField.val());\n                                } else {\n                                    qtyDefaultValue = null;\n                                }\n                                var stockAssociations = $('#' + fieldsAssociations['",202],["T_CURLY_OPEN","{",207],["T_VARIABLE","$inStockFieldId",207],"}",["T_ENCAPSED_AND_WHITESPACE","']);\n                                stockAvailabilityField.prop('disabled', !manageStockValue);\n                                stockAssociations.prop('disabled', !manageStockValue);\n                                if ($(event.currentTarget).attr('id') === qty.attr('id') && event.type != 'change') {\n                                    stockAvailabilityField.val(manageStockValue);\n                                    stockAssociations.val(manageStockValue);\n                                }\n                                if (parseInt(manageStockField.val()) != manageStockValue &&\n                                    !(event && event.type == 'keyup')\n                                ) {\n                                    if (useConfigManageStockField.val() == 1) {\n                                        useConfigManageStockField.removeAttr('checked').val(0);\n                                    }\n                                    manageStockField.toggleClass('disabled', false).prop('disabled', false);\n                                    manageStockField.val(manageStockValue);\n                                }\n                            }\n                        };\n\n                        \/\/Fill corresponding field\n                        var filler = function() {\n                            var id = $(this).attr('id');\n                            if ('undefined' !== typeof fieldsAssociations[id]) {\n                                $('#' + fieldsAssociations[id]).val($(this).val());\n                            } else {\n                                $('#' + getKeyByValue(fieldsAssociations, id)).val($(this).val());\n                            }\n\n                            if (manageStockField.length) {\n                                fireEvent(manageStockField.get(0), 'change');\n                            }\n                        };\n                        \/\/Get key by value from object\n                        var getKeyByValue = function(object, value) {\n                            var returnVal = false;\n                            $.each(object, function(objKey, objValue) {\n                                if (value === objValue) {\n                                    returnVal = objKey;\n                                }\n                            });\n                            return returnVal;\n                        };\n                        $.each(fieldsAssociations, function(generalTabField, advancedTabField) {\n                            $('#' + generalTabField + ', #' + advancedTabField)\n                                .bind('focus blur change keyup click', filler)\n                                .bind('keyup change blur', disabler)\n                                .trigger('change');\n                        });\n\n                })\n            <\/script>\n        ",207],"\"",";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n",259],"}",["T_WHITESPACE","\n",260]]