[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogInventory",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Stock",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductFactory",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogInventory",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","StockItemCollectionInterfaceFactory",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogInventory",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],["T_NS_SEPARATOR","\\",10],["T_STRING","StockItemInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CatalogInventory",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],["T_NS_SEPARATOR","\\",11],["T_STRING","StockItemInterfaceFactory",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CatalogInventory",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","StockConfigurationInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CatalogInventory",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Api",13],["T_NS_SEPARATOR","\\",13],["T_STRING","StockItemRepositoryInterface",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","StockItemRepositoryInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CatalogInventory",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Indexer",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Stock",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Processor",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","CatalogInventory",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResourceModel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Stock",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Item",15],["T_WHITESPACE"," ",15],["T_AS","as",15],["T_WHITESPACE"," ",15],["T_STRING","StockItemResource",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","CatalogInventory",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Spi",16],["T_NS_SEPARATOR","\\",16],["T_STRING","StockStateProviderInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","CatalogInventory",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","StockRegistryStorage",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","App",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ObjectManager",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Framework",19],["T_NS_SEPARATOR","\\",19],["T_STRING","DB",19],["T_NS_SEPARATOR","\\",19],["T_STRING","MapperFactory",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Framework",20],["T_NS_SEPARATOR","\\",20],["T_STRING","DB",20],["T_NS_SEPARATOR","\\",20],["T_STRING","QueryBuilderFactory",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Exception",21],["T_NS_SEPARATOR","\\",21],["T_STRING","CouldNotDeleteException",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Framework",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Exception",22],["T_NS_SEPARATOR","\\",22],["T_STRING","CouldNotSaveException",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Framework",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Exception",23],["T_NS_SEPARATOR","\\",23],["T_STRING","NoSuchEntityException",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Framework",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Stdlib",24],["T_NS_SEPARATOR","\\",24],["T_STRING","DateTime",24],["T_NS_SEPARATOR","\\",24],["T_STRING","DateTime",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Framework",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Stdlib",25],["T_NS_SEPARATOR","\\",25],["T_STRING","DateTime",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TimezoneInterface",25],";",["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Class StockItemRepository\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",27],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","StockItemRepository",31],["T_WHITESPACE"," ",31],["T_IMPLEMENTS","implements",31],["T_WHITESPACE"," ",31],["T_STRING","StockItemRepositoryInterface",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_DOC_COMMENT","\/**\n     * @var StockConfigurationInterface\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$stockConfiguration",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var StockStateProviderInterface\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$stockStateProvider",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var StockItemResource\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$resource",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var StockItemInterfaceFactory\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$stockItemFactory",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var StockItemCollectionInterfaceFactory\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$stockItemCollectionFactory",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var ProductFactory\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$productFactory",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @var QueryBuilderFactory\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$queryBuilderFactory",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @var MapperFactory\n     *\/",68],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$mapperFactory",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @var TimezoneInterface\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$localeDate",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @var Processor\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$indexProcessor",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @var DateTime\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$dateTime",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @var StockRegistryStorage\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$stockRegistryStorage",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/** @var  \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory *\/",93],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$productCollectionFactory",94],";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * @param StockConfigurationInterface $stockConfiguration\n     * @param StockStateProviderInterface $stockStateProvider\n     * @param StockItemResource $resource\n     * @param StockItemInterfaceFactory $stockItemFactory\n     * @param StockItemCollectionInterfaceFactory $stockItemCollectionFactory\n     * @param ProductFactory $productFactory\n     * @param QueryBuilderFactory $queryBuilderFactory\n     * @param MapperFactory $mapperFactory\n     * @param TimezoneInterface $localeDate\n     * @param Processor $indexProcessor\n     * @param DateTime $dateTime\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",96],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","__construct",110],"(",["T_WHITESPACE","\n        ",110],["T_STRING","StockConfigurationInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$stockConfiguration",111],",",["T_WHITESPACE","\n        ",111],["T_STRING","StockStateProviderInterface",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$stockStateProvider",112],",",["T_WHITESPACE","\n        ",112],["T_STRING","StockItemResource",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$resource",113],",",["T_WHITESPACE","\n        ",113],["T_STRING","StockItemInterfaceFactory",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$stockItemFactory",114],",",["T_WHITESPACE","\n        ",114],["T_STRING","StockItemCollectionInterfaceFactory",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$stockItemCollectionFactory",115],",",["T_WHITESPACE","\n        ",115],["T_STRING","ProductFactory",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$productFactory",116],",",["T_WHITESPACE","\n        ",116],["T_STRING","QueryBuilderFactory",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$queryBuilderFactory",117],",",["T_WHITESPACE","\n        ",117],["T_STRING","MapperFactory",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$mapperFactory",118],",",["T_WHITESPACE","\n        ",118],["T_STRING","TimezoneInterface",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$localeDate",119],",",["T_WHITESPACE","\n        ",119],["T_STRING","Processor",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$indexProcessor",120],",",["T_WHITESPACE","\n        ",120],["T_STRING","DateTime",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$dateTime",121],["T_WHITESPACE","\n    ",121],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","stockConfiguration",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$stockConfiguration",123],";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","stockStateProvider",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$stockStateProvider",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","resource",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$resource",125],";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","stockItemFactory",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$stockItemFactory",126],";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","stockItemCollectionFactory",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$stockItemCollectionFactory",127],";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","productFactory",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$productFactory",128],";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","queryBuilderFactory",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$queryBuilderFactory",129],";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","mapperFactory",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$mapperFactory",130],";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","localeDate",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$localeDate",131],";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","indexProcessor",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$indexProcessor",132],";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","dateTime",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$dateTime",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return  \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory\n     *\/",136],["T_WHITESPACE","\n    ",139],["T_PRIVATE","private",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","getProductCollectionFactory",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","productCollectionFactory",142],["T_WHITESPACE"," ",142],["T_IS_IDENTICAL","===",142],["T_WHITESPACE"," ",142],["T_STRING","null",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","productCollectionFactory",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","ObjectManager",143],["T_DOUBLE_COLON","::",143],["T_STRING","getInstance",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","get",143],"(",["T_WHITESPACE","\n                ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Catalog",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Model",144],["T_NS_SEPARATOR","\\",144],["T_STRING","ResourceModel",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Product",144],["T_NS_SEPARATOR","\\",144],["T_STRING","CollectionFactory",144],["T_DOUBLE_COLON","::",144],["T_CLASS","class",144],["T_WHITESPACE","\n            ",144],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","productCollectionFactory",148],";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",151],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","save",154],"(",["T_NS_SEPARATOR","\\",154],["T_STRING","Magento",154],["T_NS_SEPARATOR","\\",154],["T_STRING","CatalogInventory",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Api",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Data",154],["T_NS_SEPARATOR","\\",154],["T_STRING","StockItemInterface",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$stockItem",154],")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_TRY","try",156],["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",157],["T_WHITESPACE","\n            ",157],["T_VARIABLE","$product",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getProductCollectionFactory",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","create",158],"(",")",["T_WHITESPACE","\n                ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","setFlag",159],"(",["T_CONSTANT_ENCAPSED_STRING","'has_stock_status_filter'",159],")",["T_WHITESPACE","\n                ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","addIdFilter",160],"(",["T_VARIABLE","$stockItem",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getProductId",160],"(",")",")",["T_WHITESPACE","\n                ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","addFieldToSelect",161],"(",["T_CONSTANT_ENCAPSED_STRING","'type_id'",161],")",["T_WHITESPACE","\n                ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","getFirstItem",162],"(",")",";",["T_WHITESPACE","\n\n            ",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(","!",["T_VARIABLE","$product",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getId",164],"(",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$stockItem",165],";",["T_WHITESPACE","\n            ",165],"}",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$typeId",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$product",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getTypeId",167],"(",")",["T_WHITESPACE"," ",167],"?",":",["T_WHITESPACE"," ",167],["T_VARIABLE","$product",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getTypeInstance",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","getTypeId",167],"(",")",";",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$isQty",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","stockConfiguration",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","isQty",168],"(",["T_VARIABLE","$typeId",168],")",";",["T_WHITESPACE","\n            ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$isQty",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$isInStock",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","stockStateProvider",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","verifyStock",170],"(",["T_VARIABLE","$stockItem",170],")",";",["T_WHITESPACE","\n                ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$stockItem",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getManageStock",171],"(",")",["T_WHITESPACE"," ",171],["T_BOOLEAN_AND","&&",171],["T_WHITESPACE"," ",171],"!",["T_VARIABLE","$isInStock",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                    ",171],["T_VARIABLE","$stockItem",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","setIsInStock",172],"(",["T_STRING","false",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","setStockStatusChangedAutomaticallyFlag",172],"(",["T_STRING","true",172],")",";",["T_WHITESPACE","\n                ",172],"}",["T_WHITESPACE","\n                ",173],["T_COMMENT","\/\/ if qty is below notify qty, update the low stock date to today date otherwise set null\n",174],["T_WHITESPACE","                ",175],["T_VARIABLE","$stockItem",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setLowStockDate",175],"(",["T_STRING","null",175],")",";",["T_WHITESPACE","\n                ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","stockStateProvider",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","verifyNotification",176],"(",["T_VARIABLE","$stockItem",176],")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                    ",176],["T_VARIABLE","$stockItem",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","setLowStockDate",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","dateTime",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","gmtDate",177],"(",")",")",";",["T_WHITESPACE","\n                ",177],"}",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$stockItem",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","setStockStatusChangedAuto",179],"(",["T_LNUMBER","0",179],")",";",["T_WHITESPACE","\n                ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$stockItem",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","hasStockStatusChangedAutomaticallyFlag",180],"(",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                    ",180],["T_VARIABLE","$stockItem",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setStockStatusChangedAuto",181],"(",["T_INT_CAST","(int)",181],["T_VARIABLE","$stockItem",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getStockStatusChangedAutomaticallyFlag",181],"(",")",")",";",["T_WHITESPACE","\n                ",181],"}",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE"," ",183],["T_ELSE","else",183],["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$stockItem",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setQty",184],"(",["T_LNUMBER","0",184],")",";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE","\n\n            ",185],["T_VARIABLE","$stockItem",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","setWebsiteId",187],"(",["T_VARIABLE","$stockItem",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getWebsiteId",187],"(",")",")",";",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$stockItem",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","setStockId",188],"(",["T_VARIABLE","$stockItem",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getStockId",188],"(",")",")",";",["T_WHITESPACE","\n\n            ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","resource",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","save",190],"(",["T_VARIABLE","$stockItem",190],")",";",["T_WHITESPACE","\n\n            ",190],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","indexProcessor",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","reindexRow",192],"(",["T_VARIABLE","$stockItem",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getProductId",192],"(",")",")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE"," ",193],["T_CATCH","catch",193],["T_WHITESPACE"," ",193],"(",["T_NS_SEPARATOR","\\",193],["T_STRING","Exception",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$exception",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_THROW","throw",194],["T_WHITESPACE"," ",194],["T_NEW","new",194],["T_WHITESPACE"," ",194],["T_STRING","CouldNotSaveException",194],"(",["T_STRING","__",194],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to save Stock Item'",194],")",",",["T_WHITESPACE"," ",194],["T_VARIABLE","$exception",194],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$stockItem",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",199],["T_WHITESPACE","\n    ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","get",202],"(",["T_VARIABLE","$stockItemId",202],")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$stockItem",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","stockItemFactory",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","create",204],"(",")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","resource",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","load",205],"(",["T_VARIABLE","$stockItem",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$stockItemId",205],")",";",["T_WHITESPACE","\n        ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(","!",["T_VARIABLE","$stockItem",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getItemId",206],"(",")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_THROW","throw",207],["T_WHITESPACE"," ",207],["T_NEW","new",207],["T_WHITESPACE"," ",207],["T_STRING","NoSuchEntityException",207],"(",["T_STRING","__",207],"(",["T_CONSTANT_ENCAPSED_STRING","'Stock Item with id \"%1\" does not exist.'",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$stockItemId",207],")",")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n        ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$stockItem",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",212],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","getList",215],"(",["T_NS_SEPARATOR","\\",215],["T_STRING","Magento",215],["T_NS_SEPARATOR","\\",215],["T_STRING","CatalogInventory",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Api",215],["T_NS_SEPARATOR","\\",215],["T_STRING","StockItemCriteriaInterface",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$criteria",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$queryBuilder",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","queryBuilderFactory",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","create",217],"(",")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$queryBuilder",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","setCriteria",218],"(",["T_VARIABLE","$criteria",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$queryBuilder",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","setResource",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","resource",219],")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$query",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$queryBuilder",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","create",220],"(",")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$collection",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","stockItemCollectionFactory",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","create",221],"(","[",["T_CONSTANT_ENCAPSED_STRING","'query'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$query",221],"]",")",";",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$collection",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",225],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","delete",228],"(",["T_STRING","StockItemInterface",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$stockItem",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_TRY","try",230],["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","resource",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","delete",231],"(",["T_VARIABLE","$stockItem",231],")",";",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getStockRegistryStorage",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","removeStockItem",232],"(",["T_VARIABLE","$stockItem",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getProductId",232],"(",")",")",";",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getStockRegistryStorage",233],"(",")",["T_OBJECT_OPERATOR","->",233],["T_STRING","removeStockStatus",233],"(",["T_VARIABLE","$stockItem",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getProductId",233],"(",")",")",";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE"," ",234],["T_CATCH","catch",234],["T_WHITESPACE"," ",234],"(",["T_NS_SEPARATOR","\\",234],["T_STRING","Exception",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$exception",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_THROW","throw",235],["T_WHITESPACE"," ",235],["T_NEW","new",235],["T_WHITESPACE"," ",235],["T_STRING","CouldNotDeleteException",235],"(",["T_WHITESPACE","\n                ",235],["T_STRING","__",236],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to remove Stock Item with id \"%1\"'",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$stockItem",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getItemId",236],"(",")",")",",",["T_WHITESPACE","\n                ",236],["T_VARIABLE","$exception",237],["T_WHITESPACE","\n            ",237],")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_STRING","true",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",243],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","deleteById",246],"(",["T_VARIABLE","$id",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_TRY","try",248],["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$stockItem",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","get",249],"(",["T_VARIABLE","$id",249],")",";",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","delete",250],"(",["T_VARIABLE","$stockItem",250],")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE"," ",251],["T_CATCH","catch",251],["T_WHITESPACE"," ",251],"(",["T_NS_SEPARATOR","\\",251],["T_STRING","Exception",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$exception",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_THROW","throw",252],["T_WHITESPACE"," ",252],["T_NEW","new",252],["T_WHITESPACE"," ",252],["T_STRING","CouldNotDeleteException",252],"(",["T_WHITESPACE","\n                ",252],["T_STRING","__",253],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to remove Stock Item with id \"%1\"'",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$id",253],")",",",["T_WHITESPACE","\n                ",253],["T_VARIABLE","$exception",254],["T_WHITESPACE","\n            ",254],")",";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n        ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","true",257],";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * @return StockRegistryStorage\n     *\/",260],["T_WHITESPACE","\n    ",262],["T_PRIVATE","private",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","getStockRegistryStorage",263],"(",")",["T_WHITESPACE","\n    ",263],"{",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_STRING","null",265],["T_WHITESPACE"," ",265],["T_IS_IDENTICAL","===",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","stockRegistryStorage",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","stockRegistryStorage",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Magento",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Framework",266],["T_NS_SEPARATOR","\\",266],["T_STRING","App",266],["T_NS_SEPARATOR","\\",266],["T_STRING","ObjectManager",266],["T_DOUBLE_COLON","::",266],["T_STRING","getInstance",266],"(",")",["T_WHITESPACE","\n                ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","get",267],"(",["T_NS_SEPARATOR","\\",267],["T_STRING","Magento",267],["T_NS_SEPARATOR","\\",267],["T_STRING","CatalogInventory",267],["T_NS_SEPARATOR","\\",267],["T_STRING","Model",267],["T_NS_SEPARATOR","\\",267],["T_STRING","StockRegistryStorage",267],["T_DOUBLE_COLON","::",267],["T_CLASS","class",267],")",";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","stockRegistryStorage",269],";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n",270],"}",["T_WHITESPACE","\n",271]]