[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Email",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Template",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Filesystem",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Filesystem",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Directory",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ReadInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","View",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Asset",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ContentProcessorException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","View",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Asset",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ContentProcessorInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Core Email Template Filter Model\n *\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","Filter",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Filter",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Template",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * The name used in the {{trans}} directive\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","TRANS_DIRECTIVE_NAME",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'trans'",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * The regex to match interior portion of a {{trans \"foo\"}} translation directive\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","TRANS_DIRECTIVE_REGEX",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'\/^\\s*([\\'\"])([^\\1]*?)(?<!\\\\\\)\\1(\\s.*)?$\/si'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Use absolute links flag\n     *\n     * @var bool\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_useAbsoluteLinks",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","false",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Whether to allow SID in store directive: NO\n     *\n     * @var bool\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_useSessionInUrl",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","false",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Modifier Callbacks\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_modifiers",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'nl2br'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","''",52],"]",";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Whether template being filtered is child of another template\n     *\n     * @var bool\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PRIVATE","private",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$isChildTemplate",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","false",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * List of CSS files to inline\n     *\n     * @var []\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PRIVATE","private",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$inlineCssFiles",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[","]",";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Store id\n     *\n     * @var int\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$_storeId",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PRIVATE","private",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$designParams",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[","]",";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PRIVATE","private",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$plainTemplateMode",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","false",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Asset\\Repository\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_assetRepo",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_logger",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Escaper\n     *\/",95],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$_escaper",98],";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Core store config\n     * Variable factory\n     *\n     * @var \\Magento\\Variable\\Model\\VariableFactory\n     *\/",100],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$_variableFactory",106],";",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",108],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$_storeManager",111],";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\LayoutInterface\n     *\/",113],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$_layout",116],";",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\LayoutFactory\n     *\/",118],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_layoutFactory",121],";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Setup callbacks for filters\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$_scopeConfig",128],";",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Layout directive params\n     *\n     * @var array\n     *\/",130],["T_WHITESPACE","\n    ",134],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$_directiveParams",135],";",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * App state\n     *\n     * @var \\Magento\\Framework\\App\\State\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$_appState",142],";",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\UrlInterface\n     *\/",144],["T_WHITESPACE","\n    ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$urlModel",147],";",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * @var \\Pelago\\Emogrifier\n     *\/",149],["T_WHITESPACE","\n    ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$emogrifier",152],";",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Email\\Model\\Source\\Variables\n     *\/",154],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$configVariables",157],";",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Email\\Model\\Template\\Css\\Processor\n     *\/",159],["T_WHITESPACE","\n    ",161],["T_PRIVATE","private",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$cssProcessor",162],";",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * @var ReadInterface\n     *\/",164],["T_WHITESPACE","\n    ",166],["T_PRIVATE","private",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$pubDirectory",167],";",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Stdlib\\StringUtils $string\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Escaper $escaper\n     * @param \\Magento\\Framework\\View\\Asset\\Repository $assetRepo\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Variable\\Model\\VariableFactory $coreVariableFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\View\\LayoutInterface $layout\n     * @param \\Magento\\Framework\\View\\LayoutFactory $layoutFactory\n     * @param \\Magento\\Framework\\App\\State $appState\n     * @param \\Magento\\Framework\\UrlInterface $urlModel\n     * @param \\Pelago\\Emogrifier $emogrifier\n     * @param \\Magento\\Email\\Model\\Source\\Variables $configVariables\n     * @param array $variables\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",169],["T_WHITESPACE","\n    ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","__construct",187],"(",["T_WHITESPACE","\n        ",187],["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Framework",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Stdlib",188],["T_NS_SEPARATOR","\\",188],["T_STRING","StringUtils",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$string",188],",",["T_WHITESPACE","\n        ",188],["T_NS_SEPARATOR","\\",189],["T_STRING","Psr",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Log",189],["T_NS_SEPARATOR","\\",189],["T_STRING","LoggerInterface",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$logger",189],",",["T_WHITESPACE","\n        ",189],["T_NS_SEPARATOR","\\",190],["T_STRING","Magento",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Framework",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Escaper",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$escaper",190],",",["T_WHITESPACE","\n        ",190],["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Framework",191],["T_NS_SEPARATOR","\\",191],["T_STRING","View",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Asset",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Repository",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$assetRepo",191],",",["T_WHITESPACE","\n        ",191],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Framework",192],["T_NS_SEPARATOR","\\",192],["T_STRING","App",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Config",192],["T_NS_SEPARATOR","\\",192],["T_STRING","ScopeConfigInterface",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$scopeConfig",192],",",["T_WHITESPACE","\n        ",192],["T_NS_SEPARATOR","\\",193],["T_STRING","Magento",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Variable",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Model",193],["T_NS_SEPARATOR","\\",193],["T_STRING","VariableFactory",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$coreVariableFactory",193],",",["T_WHITESPACE","\n        ",193],["T_NS_SEPARATOR","\\",194],["T_STRING","Magento",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Store",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Model",194],["T_NS_SEPARATOR","\\",194],["T_STRING","StoreManagerInterface",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$storeManager",194],",",["T_WHITESPACE","\n        ",194],["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Framework",195],["T_NS_SEPARATOR","\\",195],["T_STRING","View",195],["T_NS_SEPARATOR","\\",195],["T_STRING","LayoutInterface",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$layout",195],",",["T_WHITESPACE","\n        ",195],["T_NS_SEPARATOR","\\",196],["T_STRING","Magento",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Framework",196],["T_NS_SEPARATOR","\\",196],["T_STRING","View",196],["T_NS_SEPARATOR","\\",196],["T_STRING","LayoutFactory",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$layoutFactory",196],",",["T_WHITESPACE","\n        ",196],["T_NS_SEPARATOR","\\",197],["T_STRING","Magento",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Framework",197],["T_NS_SEPARATOR","\\",197],["T_STRING","App",197],["T_NS_SEPARATOR","\\",197],["T_STRING","State",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$appState",197],",",["T_WHITESPACE","\n        ",197],["T_NS_SEPARATOR","\\",198],["T_STRING","Magento",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Framework",198],["T_NS_SEPARATOR","\\",198],["T_STRING","UrlInterface",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$urlModel",198],",",["T_WHITESPACE","\n        ",198],["T_NS_SEPARATOR","\\",199],["T_STRING","Pelago",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Emogrifier",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$emogrifier",199],",",["T_WHITESPACE","\n        ",199],["T_NS_SEPARATOR","\\",200],["T_STRING","Magento",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Email",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Model",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Source",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Variables",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$configVariables",200],",",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$variables",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],"[","]",["T_WHITESPACE","\n    ",201],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_escaper",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$escaper",203],";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_assetRepo",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$assetRepo",204],";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_logger",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$logger",205],";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_scopeConfig",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$scopeConfig",206],";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_modifiers",207],"[",["T_CONSTANT_ENCAPSED_STRING","'escape'",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],"[",["T_VARIABLE","$this",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'modifierEscape'",207],"]",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_variableFactory",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$coreVariableFactory",208],";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_storeManager",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$storeManager",209],";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_layout",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$layout",210],";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_layoutFactory",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$layoutFactory",211],";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_appState",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$appState",212],";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","urlModel",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$urlModel",213],";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","emogrifier",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$emogrifier",214],";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","configVariables",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$configVariables",215],";",["T_WHITESPACE","\n        ",215],["T_STRING","parent",216],["T_DOUBLE_COLON","::",216],["T_STRING","__construct",216],"(",["T_VARIABLE","$string",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$variables",216],")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Set use absolute links flag\n     *\n     * @param bool $flag\n     * @return $this\n     *\/",219],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","setUseAbsoluteLinks",225],"(",["T_VARIABLE","$flag",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_useAbsoluteLinks",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$flag",227],";",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Setter whether SID is allowed in store directive\n     *\n     * @param bool $flag\n     * @return $this\n     *\/",231],["T_WHITESPACE","\n    ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","setUseSessionInUrl",237],"(",["T_VARIABLE","$flag",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_useSessionInUrl",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$flag",239],";",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Setter\n     *\n     * @param bool $plainTemplateMode\n     * @return $this\n     *\/",243],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","setPlainTemplateMode",249],"(",["T_VARIABLE","$plainTemplateMode",249],")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","plainTemplateMode",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_BOOL_CAST","(bool)",251],["T_VARIABLE","$plainTemplateMode",251],";",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Check whether template is plain\n     *\n     * @return bool\n     *\/",255],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","isPlainTemplateMode",260],"(",")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","plainTemplateMode",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Set whether template being filtered is child of another template\n     *\n     * @param bool $isChildTemplate\n     * @return $this\n     *\/",265],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","setIsChildTemplate",271],"(",["T_VARIABLE","$isChildTemplate",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","isChildTemplate",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_BOOL_CAST","(bool)",273],["T_VARIABLE","$isChildTemplate",273],";",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_DOC_COMMENT","\/**\n     * Get whether template being filtered is child of another template\n     *\n     * @return bool\n     *\/",277],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","isChildTemplate",282],"(",")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","isChildTemplate",284],";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n\n    ",285],["T_DOC_COMMENT","\/**\n     * Setter\n     *\n     * @param int $storeId\n     * @return $this\n     *\/",287],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","setStoreId",293],"(",["T_VARIABLE","$storeId",293],")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_storeId",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$storeId",295],";",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Set design parameters\n     *\n     * @param array $designParams\n     * @return $this\n     *\/",299],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","setDesignParams",305],"(",["T_ARRAY","array",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$designParams",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","designParams",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$designParams",307],";",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return Css\\Processor\n     *\/",311],["T_WHITESPACE","\n    ",314],["T_PRIVATE","private",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","getCssProcessor",315],"(",")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(","!",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","cssProcessor",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n            ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","cssProcessor",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","ObjectManager",318],["T_DOUBLE_COLON","::",318],["T_STRING","getInstance",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","get",318],"(",["T_STRING","Css",318],["T_NS_SEPARATOR","\\",318],["T_STRING","Processor",318],["T_DOUBLE_COLON","::",318],["T_CLASS","class",318],")",";",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n        ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","cssProcessor",320],";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @param string $dirType\n     * @return ReadInterface\n     *\/",323],["T_WHITESPACE","\n    ",327],["T_PRIVATE","private",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","getPubDirectory",328],"(",["T_VARIABLE","$dirType",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_IF","if",330],["T_WHITESPACE"," ",330],"(","!",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","pubDirectory",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","pubDirectory",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","ObjectManager",331],["T_DOUBLE_COLON","::",331],["T_STRING","getInstance",331],"(",")",["T_OBJECT_OPERATOR","->",331],["T_STRING","get",331],"(",["T_STRING","Filesystem",331],["T_DOUBLE_COLON","::",331],["T_CLASS","class",331],")",["T_OBJECT_OPERATOR","->",331],["T_STRING","getDirectoryRead",331],"(",["T_VARIABLE","$dirType",331],")",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n        ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","pubDirectory",333],";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_DOC_COMMENT","\/**\n     * Get design parameters\n     *\n     * @return array\n     *\/",336],["T_WHITESPACE","\n    ",340],["T_PUBLIC","public",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","getDesignParams",341],"(",")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","designParams",343],";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Getter. If $_storeId is null, return design store id.\n     *\n     * @return integer\n     *\/",346],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","getStoreId",351],"(",")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_STRING","null",353],["T_WHITESPACE"," ",353],["T_IS_IDENTICAL","===",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_storeId",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_storeId",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_storeManager",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getStore",354],"(",")",["T_OBJECT_OPERATOR","->",354],["T_STRING","getId",354],"(",")",";",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE","\n        ",355],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_storeId",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Retrieve Block html directive\n     *\n     * @param array $construction\n     * @return string\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",359],["T_WHITESPACE","\n    ",366],["T_PUBLIC","public",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","blockDirective",367],"(",["T_VARIABLE","$construction",367],")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$skipParams",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",369],",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'id'",369],",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'output'",369],"]",";",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$blockParameters",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getParameters",370],"(",["T_VARIABLE","$construction",370],"[",["T_LNUMBER","2",370],"]",")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$block",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","null",371],";",["T_WHITESPACE","\n\n        ",371],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_ISSET","isset",373],"(",["T_VARIABLE","$blockParameters",373],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",373],"]",")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_VARIABLE","$block",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_layout",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","createBlock",374],"(",["T_VARIABLE","$blockParameters",374],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",374],"]",",",["T_WHITESPACE"," ",374],["T_STRING","null",374],",",["T_WHITESPACE"," ",374],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",374],["T_WHITESPACE"," ",374],["T_DOUBLE_ARROW","=>",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$blockParameters",374],"]",")",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE"," ",375],["T_ELSEIF","elseif",375],["T_WHITESPACE"," ",375],"(",["T_ISSET","isset",375],"(",["T_VARIABLE","$blockParameters",375],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",375],"]",")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$block",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_layout",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","createBlock",376],"(",["T_NS_SEPARATOR","\\",376],["T_STRING","Magento",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Cms",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Block",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Block",376],["T_DOUBLE_COLON","::",376],["T_CLASS","class",376],")",";",["T_WHITESPACE","\n            ",376],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_VARIABLE","$block",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n                ",377],["T_VARIABLE","$block",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","setBlockId",378],"(",["T_VARIABLE","$blockParameters",378],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",378],"]",")",";",["T_WHITESPACE","\n            ",378],"}",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n\n        ",380],["T_IF","if",382],["T_WHITESPACE"," ",382],"(","!",["T_VARIABLE","$block",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","''",383],";",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE","\n\n        ",384],["T_VARIABLE","$block",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","setBlockParams",386],"(",["T_VARIABLE","$blockParameters",386],")",";",["T_WHITESPACE","\n        ",386],["T_FOREACH","foreach",387],["T_WHITESPACE"," ",387],"(",["T_VARIABLE","$blockParameters",387],["T_WHITESPACE"," ",387],["T_AS","as",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$k",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$v",387],")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_STRING","in_array",388],"(",["T_VARIABLE","$k",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$skipParams",388],")",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                ",388],["T_CONTINUE","continue",389],";",["T_WHITESPACE","\n            ",389],"}",["T_WHITESPACE","\n            ",390],["T_VARIABLE","$block",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","setDataUsingMethod",391],"(",["T_VARIABLE","$k",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$v",391],")",";",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n\n        ",392],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_ISSET","isset",394],"(",["T_VARIABLE","$blockParameters",394],"[",["T_CONSTANT_ENCAPSED_STRING","'output'",394],"]",")",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n            ",394],["T_VARIABLE","$method",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$blockParameters",395],"[",["T_CONSTANT_ENCAPSED_STRING","'output'",395],"]",";",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE","\n        ",396],["T_IF","if",397],["T_WHITESPACE"," ",397],"(","!",["T_ISSET","isset",397],"(",["T_VARIABLE","$method",397],")",["T_WHITESPACE","\n            ",397],["T_BOOLEAN_OR","||",398],["T_WHITESPACE"," ",398],"!",["T_STRING","is_string",398],"(",["T_VARIABLE","$method",398],")",["T_WHITESPACE","\n            ",398],["T_BOOLEAN_OR","||",399],["T_WHITESPACE"," ",399],"!",["T_STRING","method_exists",399],"(",["T_VARIABLE","$block",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$method",399],")",["T_WHITESPACE","\n            ",399],["T_BOOLEAN_OR","||",400],["T_WHITESPACE"," ",400],"!",["T_STRING","is_callable",400],"(","[",["T_VARIABLE","$block",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$method",400],"]",")",["T_WHITESPACE","\n        ",400],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$method",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'toHtml'",402],";",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n        ",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$block",404],["T_OBJECT_OPERATOR","->",404],"{",["T_VARIABLE","$method",404],"}","(",")",";",["T_WHITESPACE","\n    ",404],"}",["T_WHITESPACE","\n\n    ",405],["T_DOC_COMMENT","\/**\n     * Retrieve layout html directive\n     *\n     * @param string[] $construction\n     * @return string\n     *\/",407],["T_WHITESPACE","\n    ",412],["T_PUBLIC","public",413],["T_WHITESPACE"," ",413],["T_FUNCTION","function",413],["T_WHITESPACE"," ",413],["T_STRING","layoutDirective",413],"(",["T_VARIABLE","$construction",413],")",["T_WHITESPACE","\n    ",413],"{",["T_WHITESPACE","\n        ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_directiveParams",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getParameters",415],"(",["T_VARIABLE","$construction",415],"[",["T_LNUMBER","2",415],"]",")",";",["T_WHITESPACE","\n        ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(","!",["T_ISSET","isset",416],"(",["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","_directiveParams",416],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",416],"]",")",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","_directiveParams",417],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",417],"]",["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_NS_SEPARATOR","\\",417],["T_STRING","Magento",417],["T_NS_SEPARATOR","\\",417],["T_STRING","Framework",417],["T_NS_SEPARATOR","\\",417],["T_STRING","App",417],["T_NS_SEPARATOR","\\",417],["T_STRING","Area",417],["T_DOUBLE_COLON","::",417],["T_STRING","AREA_FRONTEND",417],";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n        ",418],["T_IF","if",419],["T_WHITESPACE"," ",419],"(",["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_directiveParams",419],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",419],"]",["T_WHITESPACE"," ",419],["T_IS_NOT_EQUAL","!=",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_appState",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getAreaCode",419],"(",")",")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n            ",419],["T_RETURN","return",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_appState",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","emulateAreaCode",420],"(",["T_WHITESPACE","\n                ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_directiveParams",421],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",421],"]",",",["T_WHITESPACE","\n                ",421],"[",["T_VARIABLE","$this",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'emulateAreaCallback'",422],"]",["T_WHITESPACE","\n            ",422],")",";",["T_WHITESPACE","\n        ",423],"}",["T_WHITESPACE"," ",424],["T_ELSE","else",424],["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n            ",424],["T_RETURN","return",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","emulateAreaCallback",425],"(",")",";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n\n    ",427],["T_DOC_COMMENT","\/**\n     * Retrieve layout html directive callback\n     *\n     * @return string\n     *\/",429],["T_WHITESPACE","\n    ",433],["T_PUBLIC","public",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","emulateAreaCallback",434],"(",")",["T_WHITESPACE","\n    ",434],"{",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$skipParams",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",436],",",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'area'",436],"]",";",["T_WHITESPACE","\n\n        ",436],["T_DOC_COMMENT","\/** @var $layout \\Magento\\Framework\\View\\LayoutInterface *\/",438],["T_WHITESPACE","\n        ",438],["T_VARIABLE","$layout",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_layoutFactory",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","create",439],"(","[",["T_CONSTANT_ENCAPSED_STRING","'cacheable'",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],["T_STRING","false",439],"]",")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$layout",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getUpdate",440],"(",")",["T_OBJECT_OPERATOR","->",440],["T_STRING","addHandle",440],"(",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_directiveParams",440],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",440],"]",")",["T_OBJECT_OPERATOR","->",440],["T_STRING","load",440],"(",")",";",["T_WHITESPACE","\n\n        ",440],["T_VARIABLE","$layout",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","generateXml",442],"(",")",";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$layout",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","generateElements",443],"(",")",";",["T_WHITESPACE","\n\n        ",443],["T_VARIABLE","$rootBlock",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_STRING","false",445],";",["T_WHITESPACE","\n        ",445],["T_FOREACH","foreach",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$layout",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getAllBlocks",446],"(",")",["T_WHITESPACE"," ",446],["T_AS","as",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$block",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n            ",446],["T_COMMENT","\/* @var $block \\Magento\\Framework\\View\\Element\\AbstractBlock *\/",447],["T_WHITESPACE","\n            ",447],["T_IF","if",448],["T_WHITESPACE"," ",448],"(","!",["T_VARIABLE","$block",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getParentBlock",448],"(",")",["T_WHITESPACE"," ",448],["T_BOOLEAN_AND","&&",448],["T_WHITESPACE"," ",448],"!",["T_VARIABLE","$rootBlock",448],")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n                ",448],["T_VARIABLE","$rootBlock",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_VARIABLE","$block",449],";",["T_WHITESPACE","\n            ",449],"}",["T_WHITESPACE","\n            ",450],["T_FOREACH","foreach",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_directiveParams",451],["T_WHITESPACE"," ",451],["T_AS","as",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$k",451],["T_WHITESPACE"," ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$v",451],")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n                ",451],["T_IF","if",452],["T_WHITESPACE"," ",452],"(",["T_STRING","in_array",452],"(",["T_VARIABLE","$k",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$skipParams",452],")",")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n                    ",452],["T_CONTINUE","continue",453],";",["T_WHITESPACE","\n                ",453],"}",["T_WHITESPACE","\n                ",454],["T_VARIABLE","$block",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","setDataUsingMethod",455],"(",["T_VARIABLE","$k",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$v",455],")",";",["T_WHITESPACE","\n            ",455],"}",["T_WHITESPACE","\n        ",456],"}",["T_WHITESPACE","\n\n        ",457],["T_DOC_COMMENT","\/**\n         * Add root block to output\n         *\/",459],["T_WHITESPACE","\n        ",461],["T_IF","if",462],["T_WHITESPACE"," ",462],"(",["T_VARIABLE","$rootBlock",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$layout",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","addOutputElement",463],"(",["T_VARIABLE","$rootBlock",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getNameInLayout",463],"(",")",")",";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_VARIABLE","$result",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$layout",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getOutput",466],"(",")",";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$layout",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","__destruct",467],"(",")",";",["T_WHITESPACE","\n        ",467],["T_COMMENT","\/\/ To overcome bug with SimpleXML memory leak (https:\/\/bugs.php.net\/bug.php?id=62468)\n",468],["T_WHITESPACE","        ",469],["T_RETURN","return",469],["T_WHITESPACE"," ",469],["T_VARIABLE","$result",469],";",["T_WHITESPACE","\n    ",469],"}",["T_WHITESPACE","\n\n    ",470],["T_DOC_COMMENT","\/**\n     * Retrieve block parameters\n     *\n     * @param mixed $value\n     * @return array\n     *\/",472],["T_WHITESPACE","\n    ",477],["T_PROTECTED","protected",478],["T_WHITESPACE"," ",478],["T_FUNCTION","function",478],["T_WHITESPACE"," ",478],["T_STRING","_getBlockParameters",478],"(",["T_VARIABLE","$value",478],")",["T_WHITESPACE","\n    ",478],"{",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$tokenizer",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_NEW","new",480],["T_WHITESPACE"," ",480],["T_NS_SEPARATOR","\\",480],["T_STRING","Magento",480],["T_NS_SEPARATOR","\\",480],["T_STRING","Framework",480],["T_NS_SEPARATOR","\\",480],["T_STRING","Filter",480],["T_NS_SEPARATOR","\\",480],["T_STRING","Template",480],["T_NS_SEPARATOR","\\",480],["T_STRING","Tokenizer",480],["T_NS_SEPARATOR","\\",480],["T_STRING","Parameter",480],"(",")",";",["T_WHITESPACE","\n        ",480],["T_VARIABLE","$tokenizer",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","setString",481],"(",["T_VARIABLE","$value",481],")",";",["T_WHITESPACE","\n\n        ",481],["T_RETURN","return",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$tokenizer",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","tokenize",483],"(",")",";",["T_WHITESPACE","\n    ",483],"}",["T_WHITESPACE","\n\n    ",484],["T_DOC_COMMENT","\/**\n     * Retrieve View URL directive\n     *\n     * @param string[] $construction\n     * @return string\n     *\/",486],["T_WHITESPACE","\n    ",491],["T_PUBLIC","public",492],["T_WHITESPACE"," ",492],["T_FUNCTION","function",492],["T_WHITESPACE"," ",492],["T_STRING","viewDirective",492],"(",["T_VARIABLE","$construction",492],")",["T_WHITESPACE","\n    ",492],"{",["T_WHITESPACE","\n        ",493],["T_VARIABLE","$params",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getParameters",494],"(",["T_VARIABLE","$construction",494],"[",["T_LNUMBER","2",494],"]",")",";",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$url",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_assetRepo",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getUrlWithParams",495],"(",["T_VARIABLE","$params",495],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",495],"]",",",["T_WHITESPACE"," ",495],["T_VARIABLE","$params",495],")",";",["T_WHITESPACE","\n        ",495],["T_RETURN","return",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$url",496],";",["T_WHITESPACE","\n    ",496],"}",["T_WHITESPACE","\n\n    ",497],["T_DOC_COMMENT","\/**\n     * Retrieve media file URL directive\n     *\n     * @param string[] $construction\n     * @return string\n     *\/",499],["T_WHITESPACE","\n    ",504],["T_PUBLIC","public",505],["T_WHITESPACE"," ",505],["T_FUNCTION","function",505],["T_WHITESPACE"," ",505],["T_STRING","mediaDirective",505],"(",["T_VARIABLE","$construction",505],")",["T_WHITESPACE","\n    ",505],"{",["T_WHITESPACE","\n        ",506],["T_VARIABLE","$params",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getParameters",507],"(",["T_VARIABLE","$construction",507],"[",["T_LNUMBER","2",507],"]",")",";",["T_WHITESPACE","\n        ",507],["T_RETURN","return",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","_storeManager",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","getStore",508],"(",")",["T_WHITESPACE","\n            ",508],["T_OBJECT_OPERATOR","->",509],["T_STRING","getBaseUrl",509],"(",["T_NS_SEPARATOR","\\",509],["T_STRING","Magento",509],["T_NS_SEPARATOR","\\",509],["T_STRING","Framework",509],["T_NS_SEPARATOR","\\",509],["T_STRING","UrlInterface",509],["T_DOUBLE_COLON","::",509],["T_STRING","URL_TYPE_MEDIA",509],")",["T_WHITESPACE"," ",509],".",["T_WHITESPACE"," ",509],["T_VARIABLE","$params",509],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",509],"]",";",["T_WHITESPACE","\n    ",509],"}",["T_WHITESPACE","\n\n    ",510],["T_DOC_COMMENT","\/**\n     * Retrieve store URL directive\n     * Support url and direct_url properties\n     *\n     * @param string[] $construction\n     * @return string\n     *\/",512],["T_WHITESPACE","\n    ",518],["T_PUBLIC","public",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","storeDirective",519],"(",["T_VARIABLE","$construction",519],")",["T_WHITESPACE","\n    ",519],"{",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$params",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","getParameters",521],"(",["T_VARIABLE","$construction",521],"[",["T_LNUMBER","2",521],"]",")",";",["T_WHITESPACE","\n        ",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(","!",["T_ISSET","isset",522],"(",["T_VARIABLE","$params",522],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",522],"]",")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_VARIABLE","$params",523],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",523],"]",["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],"[","]",";",["T_WHITESPACE","\n        ",523],"}",["T_WHITESPACE","\n        ",524],["T_FOREACH","foreach",525],["T_WHITESPACE"," ",525],"(",["T_VARIABLE","$params",525],["T_WHITESPACE"," ",525],["T_AS","as",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$k",525],["T_WHITESPACE"," ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$v",525],")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n            ",525],["T_IF","if",526],["T_WHITESPACE"," ",526],"(",["T_STRING","strpos",526],"(",["T_VARIABLE","$k",526],",",["T_WHITESPACE"," ",526],["T_CONSTANT_ENCAPSED_STRING","'_query_'",526],")",["T_WHITESPACE"," ",526],["T_IS_IDENTICAL","===",526],["T_WHITESPACE"," ",526],["T_LNUMBER","0",526],")",["T_WHITESPACE"," ",526],"{",["T_WHITESPACE","\n                ",526],["T_VARIABLE","$params",527],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",527],"]","[",["T_STRING","substr",527],"(",["T_VARIABLE","$k",527],",",["T_WHITESPACE"," ",527],["T_LNUMBER","7",527],")","]",["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_VARIABLE","$v",527],";",["T_WHITESPACE","\n                ",527],["T_UNSET","unset",528],"(",["T_VARIABLE","$params",528],"[",["T_VARIABLE","$k",528],"]",")",";",["T_WHITESPACE","\n            ",528],"}",["T_WHITESPACE","\n        ",529],"}",["T_WHITESPACE","\n        ",530],["T_VARIABLE","$params",531],"[",["T_CONSTANT_ENCAPSED_STRING","'_absolute'",531],"]",["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","_useAbsoluteLinks",531],";",["T_WHITESPACE","\n\n        ",531],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","_useSessionInUrl",533],["T_WHITESPACE"," ",533],["T_IS_IDENTICAL","===",533],["T_WHITESPACE"," ",533],["T_STRING","false",533],")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n            ",533],["T_VARIABLE","$params",534],"[",["T_CONSTANT_ENCAPSED_STRING","'_nosid'",534],"]",["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_STRING","true",534],";",["T_WHITESPACE","\n        ",534],"}",["T_WHITESPACE","\n\n        ",535],["T_IF","if",537],["T_WHITESPACE"," ",537],"(",["T_ISSET","isset",537],"(",["T_VARIABLE","$params",537],"[",["T_CONSTANT_ENCAPSED_STRING","'direct_url'",537],"]",")",")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$path",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","''",538],";",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$params",539],"[",["T_CONSTANT_ENCAPSED_STRING","'_direct'",539],"]",["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$params",539],"[",["T_CONSTANT_ENCAPSED_STRING","'direct_url'",539],"]",";",["T_WHITESPACE","\n            ",539],["T_UNSET","unset",540],"(",["T_VARIABLE","$params",540],"[",["T_CONSTANT_ENCAPSED_STRING","'direct_url'",540],"]",")",";",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE"," ",541],["T_ELSE","else",541],["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_VARIABLE","$path",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_ISSET","isset",542],"(",["T_VARIABLE","$params",542],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",542],"]",")",["T_WHITESPACE"," ",542],"?",["T_WHITESPACE"," ",542],["T_VARIABLE","$params",542],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",542],"]",["T_WHITESPACE"," ",542],":",["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","''",542],";",["T_WHITESPACE","\n            ",542],["T_UNSET","unset",543],"(",["T_VARIABLE","$params",543],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",543],"]",")",";",["T_WHITESPACE","\n        ",543],"}",["T_WHITESPACE","\n\n        ",544],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","urlModel",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","getUrl",546],"(",["T_VARIABLE","$path",546],",",["T_WHITESPACE"," ",546],["T_VARIABLE","$params",546],")",";",["T_WHITESPACE","\n    ",546],"}",["T_WHITESPACE","\n\n    ",547],["T_DOC_COMMENT","\/**\n     * Set current URL model, which will be used for URLs generation.\n     *\n     * @param \\Magento\\Framework\\UrlInterface $urlModel\n     * @return $this\n     *\/",549],["T_WHITESPACE","\n    ",554],["T_PUBLIC","public",555],["T_WHITESPACE"," ",555],["T_FUNCTION","function",555],["T_WHITESPACE"," ",555],["T_STRING","setUrlModel",555],"(",["T_NS_SEPARATOR","\\",555],["T_STRING","Magento",555],["T_NS_SEPARATOR","\\",555],["T_STRING","Framework",555],["T_NS_SEPARATOR","\\",555],["T_STRING","UrlInterface",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$urlModel",555],")",["T_WHITESPACE","\n    ",555],"{",["T_WHITESPACE","\n        ",556],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","urlModel",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$urlModel",557],";",["T_WHITESPACE","\n        ",557],["T_RETURN","return",558],["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],";",["T_WHITESPACE","\n    ",558],"}",["T_WHITESPACE","\n\n    ",559],["T_DOC_COMMENT","\/**\n     * Trans directive for localized strings support\n     *\n     * Usage:\n     *\n     *   {{trans \"string to translate\"}}\n     *   {{trans \"string to %var\" var=\"$variable\"}}\n     *\n     * The |escape modifier is applied by default, use |raw to override\n     *\n     * @param string[] $construction\n     * @return string\n     *\/",561],["T_WHITESPACE","\n    ",573],["T_PUBLIC","public",574],["T_WHITESPACE"," ",574],["T_FUNCTION","function",574],["T_WHITESPACE"," ",574],["T_STRING","transDirective",574],"(",["T_VARIABLE","$construction",574],")",["T_WHITESPACE","\n    ",574],"{",["T_WHITESPACE","\n        ",575],["T_LIST","list",576],"(",["T_VARIABLE","$directive",576],",",["T_WHITESPACE"," ",576],["T_VARIABLE","$modifiers",576],")",["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","explodeModifiers",576],"(",["T_VARIABLE","$construction",576],"[",["T_LNUMBER","2",576],"]",",",["T_WHITESPACE"," ",576],["T_CONSTANT_ENCAPSED_STRING","'escape'",576],")",";",["T_WHITESPACE","\n\n        ",576],["T_LIST","list",578],"(",["T_VARIABLE","$text",578],",",["T_WHITESPACE"," ",578],["T_VARIABLE","$params",578],")",["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","getTransParameters",578],"(",["T_VARIABLE","$directive",578],")",";",["T_WHITESPACE","\n        ",578],["T_IF","if",579],["T_WHITESPACE"," ",579],"(",["T_EMPTY","empty",579],"(",["T_VARIABLE","$text",579],")",")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n            ",579],["T_RETURN","return",580],["T_WHITESPACE"," ",580],["T_CONSTANT_ENCAPSED_STRING","''",580],";",["T_WHITESPACE","\n        ",580],"}",["T_WHITESPACE","\n\n        ",581],["T_VARIABLE","$text",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_STRING","__",583],"(",["T_VARIABLE","$text",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$params",583],")",["T_OBJECT_OPERATOR","->",583],["T_STRING","render",583],"(",")",";",["T_WHITESPACE","\n        ",583],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","applyModifiers",584],"(",["T_VARIABLE","$text",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$modifiers",584],")",";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Parses directive construction into a multipart array containing the text value and key\/value pairs of parameters\n     *\n     * @param string $value raw parameters\n     * @return array always a two-part array in the format [value, [param, ...]]\n     *\/",587],["T_WHITESPACE","\n    ",592],["T_PROTECTED","protected",593],["T_WHITESPACE"," ",593],["T_FUNCTION","function",593],["T_WHITESPACE"," ",593],["T_STRING","getTransParameters",593],"(",["T_VARIABLE","$value",593],")",["T_WHITESPACE","\n    ",593],"{",["T_WHITESPACE","\n        ",594],["T_IF","if",595],["T_WHITESPACE"," ",595],"(",["T_STRING","preg_match",595],"(",["T_STRING","self",595],["T_DOUBLE_COLON","::",595],["T_STRING","TRANS_DIRECTIVE_REGEX",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$value",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$matches",595],")",["T_WHITESPACE"," ",595],["T_IS_NOT_IDENTICAL","!==",595],["T_WHITESPACE"," ",595],["T_LNUMBER","1",595],")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n            ",595],["T_RETURN","return",596],["T_WHITESPACE"," ",596],"[",["T_CONSTANT_ENCAPSED_STRING","''",596],",",["T_WHITESPACE"," ",596],"[","]","]",";",["T_WHITESPACE","  ",596],["T_COMMENT","\/\/ malformed directive body; return without breaking list\n",596],["T_WHITESPACE","        ",597],"}",["T_WHITESPACE","\n\n        ",597],["T_VARIABLE","$text",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_STRING","stripslashes",599],"(",["T_VARIABLE","$matches",599],"[",["T_LNUMBER","2",599],"]",")",";",["T_WHITESPACE","\n\n        ",599],["T_VARIABLE","$params",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],"[","]",";",["T_WHITESPACE","\n        ",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(","!",["T_EMPTY","empty",602],"(",["T_VARIABLE","$matches",602],"[",["T_LNUMBER","3",602],"]",")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n            ",602],["T_VARIABLE","$params",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","getParameters",603],"(",["T_VARIABLE","$matches",603],"[",["T_LNUMBER","3",603],"]",")",";",["T_WHITESPACE","\n        ",603],"}",["T_WHITESPACE","\n\n        ",604],["T_RETURN","return",606],["T_WHITESPACE"," ",606],"[",["T_VARIABLE","$text",606],",",["T_WHITESPACE"," ",606],["T_VARIABLE","$params",606],"]",";",["T_WHITESPACE","\n    ",606],"}",["T_WHITESPACE","\n\n    ",607],["T_DOC_COMMENT","\/**\n     * Var directive with modifiers support\n     *\n     * The |escape modifier is applied by default, use |raw to override\n     *\n     * @param string[] $construction\n     * @return string\n     *\/",609],["T_WHITESPACE","\n    ",616],["T_PUBLIC","public",617],["T_WHITESPACE"," ",617],["T_FUNCTION","function",617],["T_WHITESPACE"," ",617],["T_STRING","varDirective",617],"(",["T_VARIABLE","$construction",617],")",["T_WHITESPACE","\n    ",617],"{",["T_WHITESPACE","\n        ",618],["T_COMMENT","\/\/ just return the escaped value if no template vars exist to process\n",619],["T_WHITESPACE","        ",620],["T_IF","if",620],["T_WHITESPACE"," ",620],"(",["T_STRING","count",620],"(",["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","templateVars",620],")",["T_WHITESPACE"," ",620],["T_IS_EQUAL","==",620],["T_WHITESPACE"," ",620],["T_LNUMBER","0",620],")",["T_WHITESPACE"," ",620],"{",["T_WHITESPACE","\n            ",620],["T_RETURN","return",621],["T_WHITESPACE"," ",621],["T_VARIABLE","$construction",621],"[",["T_LNUMBER","0",621],"]",";",["T_WHITESPACE","\n        ",621],"}",["T_WHITESPACE","\n\n        ",622],["T_LIST","list",624],"(",["T_VARIABLE","$directive",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$modifiers",624],")",["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","explodeModifiers",624],"(",["T_VARIABLE","$construction",624],"[",["T_LNUMBER","2",624],"]",",",["T_WHITESPACE"," ",624],["T_CONSTANT_ENCAPSED_STRING","'escape'",624],")",";",["T_WHITESPACE","\n        ",624],["T_RETURN","return",625],["T_WHITESPACE"," ",625],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","applyModifiers",625],"(",["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","getVariable",625],"(",["T_VARIABLE","$directive",625],",",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","''",625],")",",",["T_WHITESPACE"," ",625],["T_VARIABLE","$modifiers",625],")",";",["T_WHITESPACE","\n    ",625],"}",["T_WHITESPACE","\n\n    ",626],["T_DOC_COMMENT","\/**\n     * Explode modifiers out of a given string\n     *\n     * This will return the value and modifiers in a two-element array. Where no modifiers are present in the passed\n     * value an array with a null modifier string will be returned\n     *\n     * Syntax: some text value, etc|modifier string\n     *\n     * Result: ['some text value, etc', 'modifier string']\n     *\n     * @param string $value\n     * @param string $default assumed modifier if none present\n     * @return array\n     *\/",628],["T_WHITESPACE","\n    ",641],["T_PROTECTED","protected",642],["T_WHITESPACE"," ",642],["T_FUNCTION","function",642],["T_WHITESPACE"," ",642],["T_STRING","explodeModifiers",642],"(",["T_VARIABLE","$value",642],",",["T_WHITESPACE"," ",642],["T_VARIABLE","$default",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_STRING","null",642],")",["T_WHITESPACE","\n    ",642],"{",["T_WHITESPACE","\n        ",643],["T_VARIABLE","$parts",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_STRING","explode",644],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$value",644],",",["T_WHITESPACE"," ",644],["T_LNUMBER","2",644],")",";",["T_WHITESPACE","\n        ",644],["T_IF","if",645],["T_WHITESPACE"," ",645],"(",["T_LNUMBER","2",645],["T_WHITESPACE"," ",645],["T_IS_IDENTICAL","===",645],["T_WHITESPACE"," ",645],["T_STRING","count",645],"(",["T_VARIABLE","$parts",645],")",")",["T_WHITESPACE"," ",645],"{",["T_WHITESPACE","\n            ",645],["T_RETURN","return",646],["T_WHITESPACE"," ",646],["T_VARIABLE","$parts",646],";",["T_WHITESPACE","\n        ",646],"}",["T_WHITESPACE","\n        ",647],["T_RETURN","return",648],["T_WHITESPACE"," ",648],"[",["T_VARIABLE","$value",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$default",648],"]",";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n\n    ",649],["T_DOC_COMMENT","\/**\n     * Apply modifiers one by one, with specified params\n     *\n     * Modifier syntax: modifier1[:param1:param2:...][|modifier2:...]\n     *\n     * @param string $value\n     * @param string $modifiers\n     * @return string\n     *\/",651],["T_WHITESPACE","\n    ",659],["T_PROTECTED","protected",660],["T_WHITESPACE"," ",660],["T_FUNCTION","function",660],["T_WHITESPACE"," ",660],["T_STRING","applyModifiers",660],"(",["T_VARIABLE","$value",660],",",["T_WHITESPACE"," ",660],["T_VARIABLE","$modifiers",660],")",["T_WHITESPACE","\n    ",660],"{",["T_WHITESPACE","\n        ",661],["T_FOREACH","foreach",662],["T_WHITESPACE"," ",662],"(",["T_STRING","explode",662],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",662],",",["T_WHITESPACE"," ",662],["T_VARIABLE","$modifiers",662],")",["T_WHITESPACE"," ",662],["T_AS","as",662],["T_WHITESPACE"," ",662],["T_VARIABLE","$part",662],")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n            ",662],["T_IF","if",663],["T_WHITESPACE"," ",663],"(",["T_EMPTY","empty",663],"(",["T_VARIABLE","$part",663],")",")",["T_WHITESPACE"," ",663],"{",["T_WHITESPACE","\n                ",663],["T_CONTINUE","continue",664],";",["T_WHITESPACE","\n            ",664],"}",["T_WHITESPACE","\n            ",665],["T_VARIABLE","$params",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_STRING","explode",666],"(",["T_CONSTANT_ENCAPSED_STRING","':'",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$part",666],")",";",["T_WHITESPACE","\n            ",666],["T_VARIABLE","$modifier",667],["T_WHITESPACE"," ",667],"=",["T_WHITESPACE"," ",667],["T_STRING","array_shift",667],"(",["T_VARIABLE","$params",667],")",";",["T_WHITESPACE","\n            ",667],["T_IF","if",668],["T_WHITESPACE"," ",668],"(",["T_ISSET","isset",668],"(",["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","_modifiers",668],"[",["T_VARIABLE","$modifier",668],"]",")",")",["T_WHITESPACE"," ",668],"{",["T_WHITESPACE","\n                ",668],["T_VARIABLE","$callback",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","_modifiers",669],"[",["T_VARIABLE","$modifier",669],"]",";",["T_WHITESPACE","\n                ",669],["T_IF","if",670],["T_WHITESPACE"," ",670],"(","!",["T_VARIABLE","$callback",670],")",["T_WHITESPACE"," ",670],"{",["T_WHITESPACE","\n                    ",670],["T_VARIABLE","$callback",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_VARIABLE","$modifier",671],";",["T_WHITESPACE","\n                ",671],"}",["T_WHITESPACE","\n                ",672],["T_STRING","array_unshift",673],"(",["T_VARIABLE","$params",673],",",["T_WHITESPACE"," ",673],["T_VARIABLE","$value",673],")",";",["T_WHITESPACE","\n                ",673],["T_VARIABLE","$value",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_STRING","call_user_func_array",674],"(",["T_VARIABLE","$callback",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$params",674],")",";",["T_WHITESPACE","\n            ",674],"}",["T_WHITESPACE","\n        ",675],"}",["T_WHITESPACE","\n        ",676],["T_RETURN","return",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$value",677],";",["T_WHITESPACE","\n    ",677],"}",["T_WHITESPACE","\n\n    ",678],["T_DOC_COMMENT","\/**\n     * Escape specified string\n     *\n     * @param string $value\n     * @param string $type\n     * @return string\n     *\/",680],["T_WHITESPACE","\n    ",686],["T_PUBLIC","public",687],["T_WHITESPACE"," ",687],["T_FUNCTION","function",687],["T_WHITESPACE"," ",687],["T_STRING","modifierEscape",687],"(",["T_VARIABLE","$value",687],",",["T_WHITESPACE"," ",687],["T_VARIABLE","$type",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_CONSTANT_ENCAPSED_STRING","'html'",687],")",["T_WHITESPACE","\n    ",687],"{",["T_WHITESPACE","\n        ",688],["T_SWITCH","switch",689],["T_WHITESPACE"," ",689],"(",["T_VARIABLE","$type",689],")",["T_WHITESPACE"," ",689],"{",["T_WHITESPACE","\n            ",689],["T_CASE","case",690],["T_WHITESPACE"," ",690],["T_CONSTANT_ENCAPSED_STRING","'html'",690],":",["T_WHITESPACE","\n                ",690],["T_RETURN","return",691],["T_WHITESPACE"," ",691],["T_STRING","htmlspecialchars",691],"(",["T_VARIABLE","$value",691],",",["T_WHITESPACE"," ",691],["T_STRING","ENT_QUOTES",691],")",";",["T_WHITESPACE","\n\n            ",691],["T_CASE","case",693],["T_WHITESPACE"," ",693],["T_CONSTANT_ENCAPSED_STRING","'htmlentities'",693],":",["T_WHITESPACE","\n                ",693],["T_RETURN","return",694],["T_WHITESPACE"," ",694],["T_STRING","htmlentities",694],"(",["T_VARIABLE","$value",694],",",["T_WHITESPACE"," ",694],["T_STRING","ENT_QUOTES",694],")",";",["T_WHITESPACE","\n\n            ",694],["T_CASE","case",696],["T_WHITESPACE"," ",696],["T_CONSTANT_ENCAPSED_STRING","'url'",696],":",["T_WHITESPACE","\n                ",696],["T_RETURN","return",697],["T_WHITESPACE"," ",697],["T_STRING","rawurlencode",697],"(",["T_VARIABLE","$value",697],")",";",["T_WHITESPACE","\n        ",697],"}",["T_WHITESPACE","\n        ",698],["T_RETURN","return",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$value",699],";",["T_WHITESPACE","\n    ",699],"}",["T_WHITESPACE","\n\n    ",700],["T_DOC_COMMENT","\/**\n     * HTTP Protocol directive\n     *\n     * Usage:\n     *\n     *     {{protocol}} - current protocol http or https\n     *     {{protocol url=\"www.domain.com\/\"}} - domain URL with current protocol\n     *     {{protocol http=\"http:\/\/url\" https=\"https:\/\/url\"}}\n     *     {{protocol store=\"1\"}} - Optional parameter which gets protocol from provide store based on store ID or code\n     *\n     * @param string[] $construction\n     * @throws \\Magento\\Framework\\Exception\\MailException\n     * @return string\n     *\/",702],["T_WHITESPACE","\n    ",715],["T_PUBLIC","public",716],["T_WHITESPACE"," ",716],["T_FUNCTION","function",716],["T_WHITESPACE"," ",716],["T_STRING","protocolDirective",716],"(",["T_VARIABLE","$construction",716],")",["T_WHITESPACE","\n    ",716],"{",["T_WHITESPACE","\n        ",717],["T_VARIABLE","$params",718],["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","getParameters",718],"(",["T_VARIABLE","$construction",718],"[",["T_LNUMBER","2",718],"]",")",";",["T_WHITESPACE","\n        ",718],["T_VARIABLE","$store",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],["T_STRING","null",719],";",["T_WHITESPACE","\n        ",719],["T_IF","if",720],["T_WHITESPACE"," ",720],"(",["T_ISSET","isset",720],"(",["T_VARIABLE","$params",720],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",720],"]",")",")",["T_WHITESPACE"," ",720],"{",["T_WHITESPACE","\n            ",720],["T_TRY","try",721],["T_WHITESPACE"," ",721],"{",["T_WHITESPACE","\n                ",721],["T_VARIABLE","$store",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","_storeManager",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","getStore",722],"(",["T_VARIABLE","$params",722],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",722],"]",")",";",["T_WHITESPACE","\n            ",722],"}",["T_WHITESPACE"," ",723],["T_CATCH","catch",723],["T_WHITESPACE"," ",723],"(",["T_NS_SEPARATOR","\\",723],["T_STRING","Exception",723],["T_WHITESPACE"," ",723],["T_VARIABLE","$e",723],")",["T_WHITESPACE"," ",723],"{",["T_WHITESPACE","\n                ",723],["T_THROW","throw",724],["T_WHITESPACE"," ",724],["T_NEW","new",724],["T_WHITESPACE"," ",724],["T_NS_SEPARATOR","\\",724],["T_STRING","Magento",724],["T_NS_SEPARATOR","\\",724],["T_STRING","Framework",724],["T_NS_SEPARATOR","\\",724],["T_STRING","Exception",724],["T_NS_SEPARATOR","\\",724],["T_STRING","MailException",724],"(",["T_WHITESPACE","\n                    ",724],["T_STRING","__",725],"(",["T_CONSTANT_ENCAPSED_STRING","'Requested invalid store \"%1\"'",725],",",["T_WHITESPACE"," ",725],["T_VARIABLE","$params",725],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",725],"]",")",["T_WHITESPACE","\n                ",725],")",";",["T_WHITESPACE","\n            ",726],"}",["T_WHITESPACE","\n        ",727],"}",["T_WHITESPACE","\n        ",728],["T_VARIABLE","$isSecure",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_VARIABLE","$this",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","_storeManager",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","getStore",729],"(",["T_VARIABLE","$store",729],")",["T_OBJECT_OPERATOR","->",729],["T_STRING","isCurrentlySecure",729],"(",")",";",["T_WHITESPACE","\n        ",729],["T_VARIABLE","$protocol",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_VARIABLE","$isSecure",730],["T_WHITESPACE"," ",730],"?",["T_WHITESPACE"," ",730],["T_CONSTANT_ENCAPSED_STRING","'https'",730],["T_WHITESPACE"," ",730],":",["T_WHITESPACE"," ",730],["T_CONSTANT_ENCAPSED_STRING","'http'",730],";",["T_WHITESPACE","\n        ",730],["T_IF","if",731],["T_WHITESPACE"," ",731],"(",["T_ISSET","isset",731],"(",["T_VARIABLE","$params",731],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",731],"]",")",")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n            ",731],["T_RETURN","return",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$protocol",732],["T_WHITESPACE"," ",732],".",["T_WHITESPACE"," ",732],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",732],["T_WHITESPACE"," ",732],".",["T_WHITESPACE"," ",732],["T_VARIABLE","$params",732],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",732],"]",";",["T_WHITESPACE","\n        ",732],"}",["T_WHITESPACE"," ",733],["T_ELSEIF","elseif",733],["T_WHITESPACE"," ",733],"(",["T_ISSET","isset",733],"(",["T_VARIABLE","$params",733],"[",["T_CONSTANT_ENCAPSED_STRING","'http'",733],"]",")",["T_WHITESPACE"," ",733],["T_BOOLEAN_AND","&&",733],["T_WHITESPACE"," ",733],["T_ISSET","isset",733],"(",["T_VARIABLE","$params",733],"[",["T_CONSTANT_ENCAPSED_STRING","'https'",733],"]",")",")",["T_WHITESPACE"," ",733],"{",["T_WHITESPACE","\n            ",733],["T_IF","if",734],["T_WHITESPACE"," ",734],"(",["T_VARIABLE","$isSecure",734],")",["T_WHITESPACE"," ",734],"{",["T_WHITESPACE","\n                ",734],["T_RETURN","return",735],["T_WHITESPACE"," ",735],["T_VARIABLE","$params",735],"[",["T_CONSTANT_ENCAPSED_STRING","'https'",735],"]",";",["T_WHITESPACE","\n            ",735],"}",["T_WHITESPACE","\n            ",736],["T_RETURN","return",737],["T_WHITESPACE"," ",737],["T_VARIABLE","$params",737],"[",["T_CONSTANT_ENCAPSED_STRING","'http'",737],"]",";",["T_WHITESPACE","\n        ",737],"}",["T_WHITESPACE","\n\n        ",738],["T_RETURN","return",740],["T_WHITESPACE"," ",740],["T_VARIABLE","$protocol",740],";",["T_WHITESPACE","\n    ",740],"}",["T_WHITESPACE","\n\n    ",741],["T_DOC_COMMENT","\/**\n     * Store config directive\n     *\n     * @param string[] $construction\n     * @return string\n     *\/",743],["T_WHITESPACE","\n    ",748],["T_PUBLIC","public",749],["T_WHITESPACE"," ",749],["T_FUNCTION","function",749],["T_WHITESPACE"," ",749],["T_STRING","configDirective",749],"(",["T_VARIABLE","$construction",749],")",["T_WHITESPACE","\n    ",749],"{",["T_WHITESPACE","\n        ",750],["T_VARIABLE","$configValue",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","''",751],";",["T_WHITESPACE","\n        ",751],["T_VARIABLE","$params",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","getParameters",752],"(",["T_VARIABLE","$construction",752],"[",["T_LNUMBER","2",752],"]",")",";",["T_WHITESPACE","\n        ",752],["T_VARIABLE","$storeId",753],["T_WHITESPACE"," ",753],"=",["T_WHITESPACE"," ",753],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","getStoreId",753],"(",")",";",["T_WHITESPACE","\n        ",753],["T_IF","if",754],["T_WHITESPACE"," ",754],"(",["T_ISSET","isset",754],"(",["T_VARIABLE","$params",754],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",754],"]",")",["T_WHITESPACE"," ",754],["T_BOOLEAN_AND","&&",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","isAvailableConfigVariable",754],"(",["T_VARIABLE","$params",754],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",754],"]",")",")",["T_WHITESPACE"," ",754],"{",["T_WHITESPACE","\n            ",754],["T_VARIABLE","$configValue",755],["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","_scopeConfig",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","getValue",755],"(",["T_WHITESPACE","\n                ",755],["T_VARIABLE","$params",756],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",756],"]",",",["T_WHITESPACE","\n                ",756],["T_NS_SEPARATOR","\\",757],["T_STRING","Magento",757],["T_NS_SEPARATOR","\\",757],["T_STRING","Store",757],["T_NS_SEPARATOR","\\",757],["T_STRING","Model",757],["T_NS_SEPARATOR","\\",757],["T_STRING","ScopeInterface",757],["T_DOUBLE_COLON","::",757],["T_STRING","SCOPE_STORE",757],",",["T_WHITESPACE","\n                ",757],["T_VARIABLE","$storeId",758],["T_WHITESPACE","\n            ",758],")",";",["T_WHITESPACE","\n        ",759],"}",["T_WHITESPACE","\n        ",760],["T_RETURN","return",761],["T_WHITESPACE"," ",761],["T_VARIABLE","$configValue",761],";",["T_WHITESPACE","\n    ",761],"}",["T_WHITESPACE","\n\n    ",762],["T_DOC_COMMENT","\/**\n     * Check if given variable is available for directive \"Config\"\n     *\n     * @param string $variable\n     * @return bool\n     *\/",764],["T_WHITESPACE","\n    ",769],["T_PRIVATE","private",770],["T_WHITESPACE"," ",770],["T_FUNCTION","function",770],["T_WHITESPACE"," ",770],["T_STRING","isAvailableConfigVariable",770],"(",["T_VARIABLE","$variable",770],")",["T_WHITESPACE","\n    ",770],"{",["T_WHITESPACE","\n        ",771],["T_RETURN","return",772],["T_WHITESPACE"," ",772],["T_STRING","in_array",772],"(",["T_WHITESPACE","\n            ",772],["T_VARIABLE","$variable",773],",",["T_WHITESPACE","\n            ",773],["T_STRING","array_column",774],"(",["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","configVariables",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","getData",774],"(",")",",",["T_WHITESPACE"," ",774],["T_CONSTANT_ENCAPSED_STRING","'value'",774],")",["T_WHITESPACE","\n        ",774],")",";",["T_WHITESPACE","\n    ",775],"}",["T_WHITESPACE","\n\n    ",776],["T_DOC_COMMENT","\/**\n     * Custom Variable directive\n     *\n     * @param string[] $construction\n     * @return string\n     *\/",778],["T_WHITESPACE","\n    ",783],["T_PUBLIC","public",784],["T_WHITESPACE"," ",784],["T_FUNCTION","function",784],["T_WHITESPACE"," ",784],["T_STRING","customvarDirective",784],"(",["T_VARIABLE","$construction",784],")",["T_WHITESPACE","\n    ",784],"{",["T_WHITESPACE","\n        ",785],["T_VARIABLE","$customVarValue",786],["T_WHITESPACE"," ",786],"=",["T_WHITESPACE"," ",786],["T_CONSTANT_ENCAPSED_STRING","''",786],";",["T_WHITESPACE","\n        ",786],["T_VARIABLE","$params",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","getParameters",787],"(",["T_VARIABLE","$construction",787],"[",["T_LNUMBER","2",787],"]",")",";",["T_WHITESPACE","\n        ",787],["T_IF","if",788],["T_WHITESPACE"," ",788],"(",["T_ISSET","isset",788],"(",["T_VARIABLE","$params",788],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",788],"]",")",")",["T_WHITESPACE"," ",788],"{",["T_WHITESPACE","\n            ",788],["T_VARIABLE","$variable",789],["T_WHITESPACE"," ",789],"=",["T_WHITESPACE"," ",789],["T_VARIABLE","$this",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","_variableFactory",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","create",789],"(",")",["T_OBJECT_OPERATOR","->",789],["T_STRING","setStoreId",789],"(",["T_WHITESPACE","\n                ",789],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","getStoreId",790],"(",")",["T_WHITESPACE","\n            ",790],")",["T_OBJECT_OPERATOR","->",791],["T_STRING","loadByCode",791],"(",["T_WHITESPACE","\n                ",791],["T_VARIABLE","$params",792],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",792],"]",["T_WHITESPACE","\n            ",792],")",";",["T_WHITESPACE","\n            ",793],["T_VARIABLE","$mode",794],["T_WHITESPACE"," ",794],"=",["T_WHITESPACE"," ",794],["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","isPlainTemplateMode",794],"(",")",["T_WHITESPACE","\n                ",794],"?",["T_WHITESPACE"," ",795],["T_NS_SEPARATOR","\\",795],["T_STRING","Magento",795],["T_NS_SEPARATOR","\\",795],["T_STRING","Variable",795],["T_NS_SEPARATOR","\\",795],["T_STRING","Model",795],["T_NS_SEPARATOR","\\",795],["T_STRING","Variable",795],["T_DOUBLE_COLON","::",795],["T_STRING","TYPE_TEXT",795],["T_WHITESPACE","\n                ",795],":",["T_WHITESPACE"," ",796],["T_NS_SEPARATOR","\\",796],["T_STRING","Magento",796],["T_NS_SEPARATOR","\\",796],["T_STRING","Variable",796],["T_NS_SEPARATOR","\\",796],["T_STRING","Model",796],["T_NS_SEPARATOR","\\",796],["T_STRING","Variable",796],["T_DOUBLE_COLON","::",796],["T_STRING","TYPE_HTML",796],";",["T_WHITESPACE","\n            ",796],["T_VARIABLE","$value",797],["T_WHITESPACE"," ",797],"=",["T_WHITESPACE"," ",797],["T_VARIABLE","$variable",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","getValue",797],"(",["T_VARIABLE","$mode",797],")",";",["T_WHITESPACE","\n            ",797],["T_IF","if",798],["T_WHITESPACE"," ",798],"(",["T_VARIABLE","$value",798],")",["T_WHITESPACE"," ",798],"{",["T_WHITESPACE","\n                ",798],["T_VARIABLE","$customVarValue",799],["T_WHITESPACE"," ",799],"=",["T_WHITESPACE"," ",799],["T_VARIABLE","$value",799],";",["T_WHITESPACE","\n            ",799],"}",["T_WHITESPACE","\n        ",800],"}",["T_WHITESPACE","\n        ",801],["T_RETURN","return",802],["T_WHITESPACE"," ",802],["T_VARIABLE","$customVarValue",802],";",["T_WHITESPACE","\n    ",802],"}",["T_WHITESPACE","\n\n    ",803],["T_DOC_COMMENT","\/**\n     * Load and return the contents of a CSS file\n     *\n     * Usage:\n     *\n     *     {{css file=\"css\/filename.css\"}} - Load file from theme directory\n     *     {{css file=\"Magento_Sales::css\/filename.css\"}} - Load file from module directory or module directory in theme\n     *\n     * @param string[] $construction\n     * @return string\n     *\/",805],["T_WHITESPACE","\n    ",815],["T_PUBLIC","public",816],["T_WHITESPACE"," ",816],["T_FUNCTION","function",816],["T_WHITESPACE"," ",816],["T_STRING","cssDirective",816],"(",["T_VARIABLE","$construction",816],")",["T_WHITESPACE","\n    ",816],"{",["T_WHITESPACE","\n        ",817],["T_IF","if",818],["T_WHITESPACE"," ",818],"(",["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","isPlainTemplateMode",818],"(",")",")",["T_WHITESPACE"," ",818],"{",["T_WHITESPACE","\n            ",818],["T_RETURN","return",819],["T_WHITESPACE"," ",819],["T_CONSTANT_ENCAPSED_STRING","''",819],";",["T_WHITESPACE","\n        ",819],"}",["T_WHITESPACE","\n\n        ",820],["T_VARIABLE","$params",822],["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","getParameters",822],"(",["T_VARIABLE","$construction",822],"[",["T_LNUMBER","2",822],"]",")",";",["T_WHITESPACE","\n        ",822],["T_VARIABLE","$file",823],["T_WHITESPACE"," ",823],"=",["T_WHITESPACE"," ",823],["T_ISSET","isset",823],"(",["T_VARIABLE","$params",823],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",823],"]",")",["T_WHITESPACE"," ",823],"?",["T_WHITESPACE"," ",823],["T_VARIABLE","$params",823],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",823],"]",["T_WHITESPACE"," ",823],":",["T_WHITESPACE"," ",823],["T_STRING","null",823],";",["T_WHITESPACE","\n        ",823],["T_IF","if",824],["T_WHITESPACE"," ",824],"(","!",["T_VARIABLE","$file",824],")",["T_WHITESPACE"," ",824],"{",["T_WHITESPACE","\n            ",824],["T_COMMENT","\/\/ Return CSS comment for debugging purposes\n",825],["T_WHITESPACE","            ",826],["T_RETURN","return",826],["T_WHITESPACE"," ",826],["T_CONSTANT_ENCAPSED_STRING","'\/* '",826],["T_WHITESPACE"," ",826],".",["T_WHITESPACE"," ",826],["T_STRING","__",826],"(",["T_CONSTANT_ENCAPSED_STRING","'\"file\" parameter must be specified'",826],")",["T_WHITESPACE"," ",826],".",["T_WHITESPACE"," ",826],["T_CONSTANT_ENCAPSED_STRING","' *\/'",826],";",["T_WHITESPACE","\n        ",826],"}",["T_WHITESPACE","\n\n        ",827],["T_VARIABLE","$css",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","getCssProcessor",829],"(",")",["T_OBJECT_OPERATOR","->",829],["T_STRING","process",829],"(",["T_WHITESPACE","\n            ",829],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","getCssFilesContent",830],"(","[",["T_VARIABLE","$params",830],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",830],"]","]",")",["T_WHITESPACE","\n        ",830],")",";",["T_WHITESPACE","\n\n        ",831],["T_IF","if",833],["T_WHITESPACE"," ",833],"(",["T_STRING","strpos",833],"(",["T_VARIABLE","$css",833],",",["T_WHITESPACE"," ",833],["T_STRING","ContentProcessorInterface",833],["T_DOUBLE_COLON","::",833],["T_STRING","ERROR_MESSAGE_PREFIX",833],")",["T_WHITESPACE"," ",833],["T_IS_NOT_IDENTICAL","!==",833],["T_WHITESPACE"," ",833],["T_STRING","false",833],")",["T_WHITESPACE"," ",833],"{",["T_WHITESPACE","\n            ",833],["T_COMMENT","\/\/ Return compilation error wrapped in CSS comment\n",834],["T_WHITESPACE","            ",835],["T_RETURN","return",835],["T_WHITESPACE"," ",835],["T_CONSTANT_ENCAPSED_STRING","'\/*'",835],["T_WHITESPACE"," ",835],".",["T_WHITESPACE"," ",835],["T_STRING","PHP_EOL",835],["T_WHITESPACE"," ",835],".",["T_WHITESPACE"," ",835],["T_VARIABLE","$css",835],["T_WHITESPACE"," ",835],".",["T_WHITESPACE"," ",835],["T_STRING","PHP_EOL",835],["T_WHITESPACE"," ",835],".",["T_WHITESPACE"," ",835],["T_CONSTANT_ENCAPSED_STRING","'*\/'",835],";",["T_WHITESPACE","\n        ",835],"}",["T_WHITESPACE"," ",836],["T_ELSEIF","elseif",836],["T_WHITESPACE"," ",836],"(","!",["T_EMPTY","empty",836],"(",["T_VARIABLE","$css",836],")",")",["T_WHITESPACE"," ",836],"{",["T_WHITESPACE","\n            ",836],["T_RETURN","return",837],["T_WHITESPACE"," ",837],["T_VARIABLE","$css",837],";",["T_WHITESPACE","\n        ",837],"}",["T_WHITESPACE"," ",838],["T_ELSE","else",838],["T_WHITESPACE"," ",838],"{",["T_WHITESPACE","\n            ",838],["T_COMMENT","\/\/ Return CSS comment for debugging purposes\n",839],["T_WHITESPACE","            ",840],["T_RETURN","return",840],["T_WHITESPACE"," ",840],["T_CONSTANT_ENCAPSED_STRING","'\/* '",840],["T_WHITESPACE"," ",840],".",["T_WHITESPACE"," ",840],["T_STRING","sprintf",840],"(",["T_STRING","__",840],"(",["T_CONSTANT_ENCAPSED_STRING","'Contents of %s could not be loaded or is empty'",840],")",",",["T_WHITESPACE"," ",840],["T_VARIABLE","$file",840],")",["T_WHITESPACE"," ",840],".",["T_WHITESPACE"," ",840],["T_CONSTANT_ENCAPSED_STRING","' *\/'",840],";",["T_WHITESPACE","\n        ",840],"}",["T_WHITESPACE","\n    ",841],"}",["T_WHITESPACE","\n\n    ",842],["T_DOC_COMMENT","\/**\n     * Set file to apply as inline CSS\n     *\n     * This directive will cause CSS files to be applied inline to the HTML in the email template.\n     * This directive does not inline the CSS itself, but adds the files to the parent template model so that the model\n     * can handle the inlining at a later point, once all HTML has been assembled.\n     *\n     * Usage:\n     *\n     *     {{inlinecss file=\"css\/filename.css\"}} - Load file from theme directory\n     *     {{inlinecss file=\"Magento_Sales::css\/filename.css\"}} - Load file from module directory or module\n     *                                                            directory in theme\n     *\n     * @param string[] $construction\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\MailException\n     *\/",844],["T_WHITESPACE","\n    ",860],["T_PUBLIC","public",861],["T_WHITESPACE"," ",861],["T_FUNCTION","function",861],["T_WHITESPACE"," ",861],["T_STRING","inlinecssDirective",861],"(",["T_VARIABLE","$construction",861],")",["T_WHITESPACE","\n    ",861],"{",["T_WHITESPACE","\n        ",862],["T_COMMENT","\/\/ Plain text templates shouldn't have CSS applied inline\n",863],["T_WHITESPACE","        ",864],["T_IF","if",864],["T_WHITESPACE"," ",864],"(",["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","isPlainTemplateMode",864],"(",")",")",["T_WHITESPACE"," ",864],"{",["T_WHITESPACE","\n            ",864],["T_RETURN","return",865],["T_WHITESPACE"," ",865],["T_CONSTANT_ENCAPSED_STRING","''",865],";",["T_WHITESPACE","\n        ",865],"}",["T_WHITESPACE","\n\n        ",866],["T_COMMENT","\/\/ If this template is a child of another template, skip processing so that the parent template will process\n",868],["T_WHITESPACE","        ",869],["T_COMMENT","\/\/ this directive. This is important as CSS inlining must operate on the entire HTML document.\n",869],["T_WHITESPACE","        ",870],["T_IF","if",870],["T_WHITESPACE"," ",870],"(",["T_VARIABLE","$this",870],["T_OBJECT_OPERATOR","->",870],["T_STRING","isChildTemplate",870],"(",")",")",["T_WHITESPACE"," ",870],"{",["T_WHITESPACE","\n            ",870],["T_RETURN","return",871],["T_WHITESPACE"," ",871],["T_VARIABLE","$construction",871],"[",["T_LNUMBER","0",871],"]",";",["T_WHITESPACE","\n        ",871],"}",["T_WHITESPACE","\n\n        ",872],["T_VARIABLE","$params",874],["T_WHITESPACE"," ",874],"=",["T_WHITESPACE"," ",874],["T_VARIABLE","$this",874],["T_OBJECT_OPERATOR","->",874],["T_STRING","getParameters",874],"(",["T_VARIABLE","$construction",874],"[",["T_LNUMBER","2",874],"]",")",";",["T_WHITESPACE","\n        ",874],["T_IF","if",875],["T_WHITESPACE"," ",875],"(","!",["T_ISSET","isset",875],"(",["T_VARIABLE","$params",875],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",875],"]",")",["T_WHITESPACE"," ",875],["T_BOOLEAN_OR","||",875],["T_WHITESPACE"," ",875],"!",["T_VARIABLE","$params",875],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",875],"]",")",["T_WHITESPACE"," ",875],"{",["T_WHITESPACE","\n            ",875],["T_THROW","throw",876],["T_WHITESPACE"," ",876],["T_NEW","new",876],["T_WHITESPACE"," ",876],["T_NS_SEPARATOR","\\",876],["T_STRING","Magento",876],["T_NS_SEPARATOR","\\",876],["T_STRING","Framework",876],["T_NS_SEPARATOR","\\",876],["T_STRING","Exception",876],["T_NS_SEPARATOR","\\",876],["T_STRING","MailException",876],"(",["T_WHITESPACE","\n                ",876],["T_STRING","__",877],"(",["T_CONSTANT_ENCAPSED_STRING","'\"file\" parameter must be specified and must not be empty'",877],")",["T_WHITESPACE","\n            ",877],")",";",["T_WHITESPACE","\n        ",878],"}",["T_WHITESPACE","\n\n        ",879],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","addInlineCssFile",881],"(",["T_VARIABLE","$params",881],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",881],"]",")",";",["T_WHITESPACE","\n\n        ",881],["T_COMMENT","\/\/ CSS should be applied after entire template has been filtered, so add as after filter callback\n",883],["T_WHITESPACE","        ",884],["T_VARIABLE","$this",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","addAfterFilterCallback",884],"(","[",["T_VARIABLE","$this",884],",",["T_WHITESPACE"," ",884],["T_CONSTANT_ENCAPSED_STRING","'applyInlineCss'",884],"]",")",";",["T_WHITESPACE","\n        ",884],["T_RETURN","return",885],["T_WHITESPACE"," ",885],["T_CONSTANT_ENCAPSED_STRING","''",885],";",["T_WHITESPACE","\n    ",885],"}",["T_WHITESPACE","\n\n    ",886],["T_DOC_COMMENT","\/**\n     * Add filename of CSS file to inline\n     *\n     * @param string $file\n     * @return $this\n     *\/",888],["T_WHITESPACE","\n    ",893],["T_PROTECTED","protected",894],["T_WHITESPACE"," ",894],["T_FUNCTION","function",894],["T_WHITESPACE"," ",894],["T_STRING","addInlineCssFile",894],"(",["T_VARIABLE","$file",894],")",["T_WHITESPACE","\n    ",894],"{",["T_WHITESPACE","\n        ",895],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","inlineCssFiles",896],"[","]",["T_WHITESPACE"," ",896],"=",["T_WHITESPACE"," ",896],["T_VARIABLE","$file",896],";",["T_WHITESPACE","\n        ",896],["T_RETURN","return",897],["T_WHITESPACE"," ",897],["T_VARIABLE","$this",897],";",["T_WHITESPACE","\n    ",897],"}",["T_WHITESPACE","\n\n    ",898],["T_DOC_COMMENT","\/**\n     * Get filename of CSS file to inline\n     *\n     * @return array\n     *\/",900],["T_WHITESPACE","\n    ",904],["T_PROTECTED","protected",905],["T_WHITESPACE"," ",905],["T_FUNCTION","function",905],["T_WHITESPACE"," ",905],["T_STRING","getInlineCssFiles",905],"(",")",["T_WHITESPACE","\n    ",905],"{",["T_WHITESPACE","\n        ",906],["T_RETURN","return",907],["T_WHITESPACE"," ",907],["T_VARIABLE","$this",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","inlineCssFiles",907],";",["T_WHITESPACE","\n    ",907],"}",["T_WHITESPACE","\n\n    ",908],["T_DOC_COMMENT","\/**\n     * Load CSS file from materialized static view directory\n     *\n     * @param [] $files\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\MailException\n     *\/",910],["T_WHITESPACE","\n    ",916],["T_PUBLIC","public",917],["T_WHITESPACE"," ",917],["T_FUNCTION","function",917],["T_WHITESPACE"," ",917],["T_STRING","getCssFilesContent",917],"(",["T_ARRAY","array",917],["T_WHITESPACE"," ",917],["T_VARIABLE","$files",917],")",["T_WHITESPACE","\n    ",917],"{",["T_WHITESPACE","\n        ",918],["T_COMMENT","\/\/ Remove duplicate files\n",919],["T_WHITESPACE","        ",920],["T_VARIABLE","$files",920],["T_WHITESPACE"," ",920],"=",["T_WHITESPACE"," ",920],["T_STRING","array_unique",920],"(",["T_VARIABLE","$files",920],")",";",["T_WHITESPACE","\n\n        ",920],["T_VARIABLE","$designParams",922],["T_WHITESPACE"," ",922],"=",["T_WHITESPACE"," ",922],["T_VARIABLE","$this",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","getDesignParams",922],"(",")",";",["T_WHITESPACE","\n        ",922],["T_IF","if",923],["T_WHITESPACE"," ",923],"(","!",["T_STRING","count",923],"(",["T_VARIABLE","$designParams",923],")",")",["T_WHITESPACE"," ",923],"{",["T_WHITESPACE","\n            ",923],["T_THROW","throw",924],["T_WHITESPACE"," ",924],["T_NEW","new",924],["T_WHITESPACE"," ",924],["T_NS_SEPARATOR","\\",924],["T_STRING","Magento",924],["T_NS_SEPARATOR","\\",924],["T_STRING","Framework",924],["T_NS_SEPARATOR","\\",924],["T_STRING","Exception",924],["T_NS_SEPARATOR","\\",924],["T_STRING","MailException",924],"(",["T_WHITESPACE","\n                ",924],["T_STRING","__",925],"(",["T_CONSTANT_ENCAPSED_STRING","'Design params must be set before calling this method'",925],")",["T_WHITESPACE","\n            ",925],")",";",["T_WHITESPACE","\n        ",926],"}",["T_WHITESPACE","\n        ",927],["T_VARIABLE","$css",928],["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],["T_CONSTANT_ENCAPSED_STRING","''",928],";",["T_WHITESPACE","\n        ",928],["T_TRY","try",929],["T_WHITESPACE"," ",929],"{",["T_WHITESPACE","\n            ",929],["T_FOREACH","foreach",930],["T_WHITESPACE"," ",930],"(",["T_VARIABLE","$files",930],["T_WHITESPACE"," ",930],["T_AS","as",930],["T_WHITESPACE"," ",930],["T_VARIABLE","$file",930],")",["T_WHITESPACE"," ",930],"{",["T_WHITESPACE","\n                ",930],["T_VARIABLE","$asset",931],["T_WHITESPACE"," ",931],"=",["T_WHITESPACE"," ",931],["T_VARIABLE","$this",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","_assetRepo",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","createAsset",931],"(",["T_VARIABLE","$file",931],",",["T_WHITESPACE"," ",931],["T_VARIABLE","$designParams",931],")",";",["T_WHITESPACE","\n                ",931],["T_VARIABLE","$pubDirectory",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","getPubDirectory",932],"(",["T_VARIABLE","$asset",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","getContext",932],"(",")",["T_OBJECT_OPERATOR","->",932],["T_STRING","getBaseDirType",932],"(",")",")",";",["T_WHITESPACE","\n                ",932],["T_IF","if",933],["T_WHITESPACE"," ",933],"(",["T_VARIABLE","$pubDirectory",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","isExist",933],"(",["T_VARIABLE","$asset",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","getPath",933],"(",")",")",")",["T_WHITESPACE"," ",933],"{",["T_WHITESPACE","\n                    ",933],["T_VARIABLE","$css",934],["T_WHITESPACE"," ",934],["T_CONCAT_EQUAL",".=",934],["T_WHITESPACE"," ",934],["T_VARIABLE","$pubDirectory",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","readFile",934],"(",["T_VARIABLE","$asset",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","getPath",934],"(",")",")",";",["T_WHITESPACE","\n                ",934],"}",["T_WHITESPACE"," ",935],["T_ELSE","else",935],["T_WHITESPACE"," ",935],"{",["T_WHITESPACE","\n                    ",935],["T_VARIABLE","$css",936],["T_WHITESPACE"," ",936],["T_CONCAT_EQUAL",".=",936],["T_WHITESPACE"," ",936],["T_VARIABLE","$asset",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","getContent",936],"(",")",";",["T_WHITESPACE","\n                ",936],"}",["T_WHITESPACE","\n            ",937],"}",["T_WHITESPACE","\n        ",938],"}",["T_WHITESPACE"," ",939],["T_CATCH","catch",939],["T_WHITESPACE"," ",939],"(",["T_STRING","ContentProcessorException",939],["T_WHITESPACE"," ",939],["T_VARIABLE","$exception",939],")",["T_WHITESPACE"," ",939],"{",["T_WHITESPACE","\n            ",939],["T_VARIABLE","$css",940],["T_WHITESPACE"," ",940],"=",["T_WHITESPACE"," ",940],["T_VARIABLE","$exception",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","getMessage",940],"(",")",";",["T_WHITESPACE","\n        ",940],"}",["T_WHITESPACE"," ",941],["T_CATCH","catch",941],["T_WHITESPACE"," ",941],"(",["T_NS_SEPARATOR","\\",941],["T_STRING","Magento",941],["T_NS_SEPARATOR","\\",941],["T_STRING","Framework",941],["T_NS_SEPARATOR","\\",941],["T_STRING","View",941],["T_NS_SEPARATOR","\\",941],["T_STRING","Asset",941],["T_NS_SEPARATOR","\\",941],["T_STRING","File",941],["T_NS_SEPARATOR","\\",941],["T_STRING","NotFoundException",941],["T_WHITESPACE"," ",941],["T_VARIABLE","$exception",941],")",["T_WHITESPACE"," ",941],"{",["T_WHITESPACE","\n            ",941],["T_VARIABLE","$css",942],["T_WHITESPACE"," ",942],"=",["T_WHITESPACE"," ",942],["T_CONSTANT_ENCAPSED_STRING","''",942],";",["T_WHITESPACE","\n        ",942],"}",["T_WHITESPACE","\n\n        ",943],["T_RETURN","return",945],["T_WHITESPACE"," ",945],["T_VARIABLE","$css",945],";",["T_WHITESPACE","\n    ",945],"}",["T_WHITESPACE","\n\n    ",946],["T_DOC_COMMENT","\/**\n     * Merge HTML and CSS and return HTML that has CSS styles applied \"inline\" to the HTML tags. This is necessary\n     * in order to support all email clients.\n     *\n     * @param string $html\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\MailException\n     *\/",948],["T_WHITESPACE","\n    ",955],["T_PUBLIC","public",956],["T_WHITESPACE"," ",956],["T_FUNCTION","function",956],["T_WHITESPACE"," ",956],["T_STRING","applyInlineCss",956],"(",["T_VARIABLE","$html",956],")",["T_WHITESPACE","\n    ",956],"{",["T_WHITESPACE","\n        ",957],["T_COMMENT","\/\/ Check to see if the {{inlinecss file=\"\"}} directive set CSS file(s) to inline and then load those files\n",958],["T_WHITESPACE","        ",959],["T_VARIABLE","$cssToInline",959],["T_WHITESPACE"," ",959],"=",["T_WHITESPACE"," ",959],["T_VARIABLE","$this",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","getCssFilesContent",959],"(",["T_WHITESPACE","\n            ",959],["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","getInlineCssFiles",960],"(",")",["T_WHITESPACE","\n        ",960],")",";",["T_WHITESPACE","\n        ",961],["T_VARIABLE","$cssToInline",962],["T_WHITESPACE"," ",962],"=",["T_WHITESPACE"," ",962],["T_VARIABLE","$this",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","getCssProcessor",962],"(",")",["T_OBJECT_OPERATOR","->",962],["T_STRING","process",962],"(",["T_VARIABLE","$cssToInline",962],")",";",["T_WHITESPACE","\n\n        ",962],["T_COMMENT","\/\/ Only run Emogrify if HTML and CSS contain content\n",964],["T_WHITESPACE","        ",965],["T_IF","if",965],["T_WHITESPACE"," ",965],"(",["T_VARIABLE","$html",965],["T_WHITESPACE"," ",965],["T_BOOLEAN_AND","&&",965],["T_WHITESPACE"," ",965],["T_VARIABLE","$cssToInline",965],")",["T_WHITESPACE"," ",965],"{",["T_WHITESPACE","\n            ",965],["T_TRY","try",966],["T_WHITESPACE"," ",966],"{",["T_WHITESPACE","\n                ",966],["T_COMMENT","\/\/ Don't try to compile CSS that has compilation errors\n",967],["T_WHITESPACE","                ",968],["T_IF","if",968],["T_WHITESPACE"," ",968],"(",["T_STRING","strpos",968],"(",["T_VARIABLE","$cssToInline",968],",",["T_WHITESPACE"," ",968],["T_STRING","ContentProcessorInterface",968],["T_DOUBLE_COLON","::",968],["T_STRING","ERROR_MESSAGE_PREFIX",968],")",["T_WHITESPACE","\n                    ",968],["T_IS_NOT_IDENTICAL","!==",969],["T_WHITESPACE"," ",969],["T_STRING","false",969],["T_WHITESPACE","\n                ",969],")",["T_WHITESPACE"," ",970],"{",["T_WHITESPACE","\n                    ",970],["T_THROW","throw",971],["T_WHITESPACE"," ",971],["T_NEW","new",971],["T_WHITESPACE"," ",971],["T_NS_SEPARATOR","\\",971],["T_STRING","Magento",971],["T_NS_SEPARATOR","\\",971],["T_STRING","Framework",971],["T_NS_SEPARATOR","\\",971],["T_STRING","Exception",971],["T_NS_SEPARATOR","\\",971],["T_STRING","MailException",971],"(",["T_WHITESPACE","\n                        ",971],["T_STRING","__",972],"(",["T_CONSTANT_ENCAPSED_STRING","'<pre> %1 <\/pre>'",972],",",["T_WHITESPACE"," ",972],["T_STRING","PHP_EOL",972],["T_WHITESPACE"," ",972],".",["T_WHITESPACE"," ",972],["T_VARIABLE","$cssToInline",972],["T_WHITESPACE"," ",972],".",["T_WHITESPACE"," ",972],["T_STRING","PHP_EOL",972],")",["T_WHITESPACE","\n                    ",972],")",";",["T_WHITESPACE","\n                ",973],"}",["T_WHITESPACE","\n\n                ",974],["T_VARIABLE","$emogrifier",976],["T_WHITESPACE"," ",976],"=",["T_WHITESPACE"," ",976],["T_VARIABLE","$this",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","emogrifier",976],";",["T_WHITESPACE","\n                ",976],["T_VARIABLE","$emogrifier",977],["T_OBJECT_OPERATOR","->",977],["T_STRING","setHtml",977],"(",["T_VARIABLE","$html",977],")",";",["T_WHITESPACE","\n                ",977],["T_VARIABLE","$emogrifier",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","setCss",978],"(",["T_VARIABLE","$cssToInline",978],")",";",["T_WHITESPACE","\n\n                ",978],["T_COMMENT","\/\/ Don't parse inline <style> tags, since existing tag is intentionally for non-inline styles\n",980],["T_WHITESPACE","                ",981],["T_VARIABLE","$emogrifier",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","disableStyleBlocksParsing",981],"(",")",";",["T_WHITESPACE","\n\n                ",981],["T_VARIABLE","$processedHtml",983],["T_WHITESPACE"," ",983],"=",["T_WHITESPACE"," ",983],["T_VARIABLE","$emogrifier",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","emogrify",983],"(",")",";",["T_WHITESPACE","\n            ",983],"}",["T_WHITESPACE"," ",984],["T_CATCH","catch",984],["T_WHITESPACE"," ",984],"(",["T_NS_SEPARATOR","\\",984],["T_STRING","Exception",984],["T_WHITESPACE"," ",984],["T_VARIABLE","$e",984],")",["T_WHITESPACE"," ",984],"{",["T_WHITESPACE","\n                ",984],["T_IF","if",985],["T_WHITESPACE"," ",985],"(",["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","_appState",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","getMode",985],"(",")",["T_WHITESPACE"," ",985],["T_IS_EQUAL","==",985],["T_WHITESPACE"," ",985],["T_NS_SEPARATOR","\\",985],["T_STRING","Magento",985],["T_NS_SEPARATOR","\\",985],["T_STRING","Framework",985],["T_NS_SEPARATOR","\\",985],["T_STRING","App",985],["T_NS_SEPARATOR","\\",985],["T_STRING","State",985],["T_DOUBLE_COLON","::",985],["T_STRING","MODE_DEVELOPER",985],")",["T_WHITESPACE"," ",985],"{",["T_WHITESPACE","\n                    ",985],["T_VARIABLE","$processedHtml",986],["T_WHITESPACE"," ",986],"=",["T_WHITESPACE"," ",986],["T_STRING","__",986],"(",["T_CONSTANT_ENCAPSED_STRING","'CSS inlining error:'",986],")",["T_WHITESPACE"," ",986],".",["T_WHITESPACE"," ",986],["T_STRING","PHP_EOL",986],["T_WHITESPACE"," ",986],".",["T_WHITESPACE"," ",986],["T_VARIABLE","$e",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","getMessage",986],"(",")",["T_WHITESPACE","\n                        ",986],".",["T_WHITESPACE"," ",987],["T_STRING","PHP_EOL",987],["T_WHITESPACE","\n                        ",987],".",["T_WHITESPACE"," ",988],["T_VARIABLE","$html",988],";",["T_WHITESPACE","\n                ",988],"}",["T_WHITESPACE"," ",989],["T_ELSE","else",989],["T_WHITESPACE"," ",989],"{",["T_WHITESPACE","\n                    ",989],["T_VARIABLE","$processedHtml",990],["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],["T_VARIABLE","$html",990],";",["T_WHITESPACE","\n                ",990],"}",["T_WHITESPACE","\n                ",991],["T_VARIABLE","$this",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","_logger",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","error",992],"(",["T_VARIABLE","$e",992],")",";",["T_WHITESPACE","\n            ",992],"}",["T_WHITESPACE","\n        ",993],"}",["T_WHITESPACE"," ",994],["T_ELSE","else",994],["T_WHITESPACE"," ",994],"{",["T_WHITESPACE","\n            ",994],["T_VARIABLE","$processedHtml",995],["T_WHITESPACE"," ",995],"=",["T_WHITESPACE"," ",995],["T_VARIABLE","$html",995],";",["T_WHITESPACE","\n        ",995],"}",["T_WHITESPACE","\n        ",996],["T_RETURN","return",997],["T_WHITESPACE"," ",997],["T_VARIABLE","$processedHtml",997],";",["T_WHITESPACE","\n    ",997],"}",["T_WHITESPACE","\n\n    ",998],["T_DOC_COMMENT","\/**\n     * Filter the string as template\n     *\n     * Overrides parent method in order to handle exceptions\n     *\n     * @param string $value\n     * @return string\n     * @SuppressWarnings(PHPMD.ConstructorWithNameAsEnclosingClass)\n     *\/",1000],["T_WHITESPACE","\n    ",1008],["T_PUBLIC","public",1009],["T_WHITESPACE"," ",1009],["T_FUNCTION","function",1009],["T_WHITESPACE"," ",1009],["T_STRING","filter",1009],"(",["T_VARIABLE","$value",1009],")",["T_WHITESPACE","\n    ",1009],"{",["T_WHITESPACE","\n        ",1010],["T_TRY","try",1011],["T_WHITESPACE"," ",1011],"{",["T_WHITESPACE","\n            ",1011],["T_VARIABLE","$value",1012],["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE"," ",1012],["T_STRING","parent",1012],["T_DOUBLE_COLON","::",1012],["T_STRING","filter",1012],"(",["T_VARIABLE","$value",1012],")",";",["T_WHITESPACE","\n        ",1012],"}",["T_WHITESPACE"," ",1013],["T_CATCH","catch",1013],["T_WHITESPACE"," ",1013],"(",["T_NS_SEPARATOR","\\",1013],["T_STRING","Exception",1013],["T_WHITESPACE"," ",1013],["T_VARIABLE","$e",1013],")",["T_WHITESPACE"," ",1013],"{",["T_WHITESPACE","\n            ",1013],["T_COMMENT","\/\/ Since a single instance of this class can be used to filter content multiple times, reset callbacks to\n",1014],["T_WHITESPACE","            ",1015],["T_COMMENT","\/\/ prevent callbacks running for unrelated content (e.g., email subject and email body)\n",1015],["T_WHITESPACE","            ",1016],["T_VARIABLE","$this",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","resetAfterFilterCallbacks",1016],"(",")",";",["T_WHITESPACE","\n\n            ",1016],["T_IF","if",1018],["T_WHITESPACE"," ",1018],"(",["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","_appState",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","getMode",1018],"(",")",["T_WHITESPACE"," ",1018],["T_IS_EQUAL","==",1018],["T_WHITESPACE"," ",1018],["T_NS_SEPARATOR","\\",1018],["T_STRING","Magento",1018],["T_NS_SEPARATOR","\\",1018],["T_STRING","Framework",1018],["T_NS_SEPARATOR","\\",1018],["T_STRING","App",1018],["T_NS_SEPARATOR","\\",1018],["T_STRING","State",1018],["T_DOUBLE_COLON","::",1018],["T_STRING","MODE_DEVELOPER",1018],")",["T_WHITESPACE"," ",1018],"{",["T_WHITESPACE","\n                ",1018],["T_VARIABLE","$value",1019],["T_WHITESPACE"," ",1019],"=",["T_WHITESPACE"," ",1019],["T_STRING","sprintf",1019],"(",["T_STRING","__",1019],"(",["T_CONSTANT_ENCAPSED_STRING","'Error filtering template: %s'",1019],")",",",["T_WHITESPACE"," ",1019],["T_VARIABLE","$e",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","getMessage",1019],"(",")",")",";",["T_WHITESPACE","\n            ",1019],"}",["T_WHITESPACE"," ",1020],["T_ELSE","else",1020],["T_WHITESPACE"," ",1020],"{",["T_WHITESPACE","\n                ",1020],["T_VARIABLE","$value",1021],["T_WHITESPACE"," ",1021],"=",["T_WHITESPACE"," ",1021],["T_STRING","__",1021],"(",["T_CONSTANT_ENCAPSED_STRING","\"We're sorry, an error has occurred while generating this email.\"",1021],")",";",["T_WHITESPACE","\n            ",1021],"}",["T_WHITESPACE","\n            ",1022],["T_VARIABLE","$this",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","_logger",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","critical",1023],"(",["T_VARIABLE","$e",1023],")",";",["T_WHITESPACE","\n        ",1023],"}",["T_WHITESPACE","\n        ",1024],["T_RETURN","return",1025],["T_WHITESPACE"," ",1025],["T_VARIABLE","$value",1025],";",["T_WHITESPACE","\n    ",1025],"}",["T_WHITESPACE","\n",1026],"}",["T_WHITESPACE","\n",1027]]