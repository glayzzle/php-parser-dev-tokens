[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * High-level interface for email templates data that hides format from the client code\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Email",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Template",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Filesystem",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Directory",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ReadFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","View",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Design",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Theme",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ThemePackageList",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Config",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mail",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Template",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ConfigInterface",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Email\\Model\\Template\\Config\\Data\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_dataStorage",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Module\\Dir\\Reader\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_moduleReader",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$fileSystem",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\FileSystem\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$viewFileSystem",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var ReadFactory\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$readDirFactory",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var ThemePackageList\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$themePackages",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Email\\Model\\Template\\Config\\Data $dataStorage\n     * @param \\Magento\\Framework\\Module\\Dir\\Reader $moduleReader\n     * @param \\Magento\\Framework\\View\\FileSystem $viewFileSystem\n     * @param ThemePackageList $themePackages\n     * @param ReadFactory $readDirFactory\n     *\/",45],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","__construct",52],"(",["T_WHITESPACE","\n        ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Email",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Template",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Config",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Data",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$dataStorage",53],",",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Module",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Dir",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Reader",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$moduleReader",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Framework",55],["T_NS_SEPARATOR","\\",55],["T_STRING","View",55],["T_NS_SEPARATOR","\\",55],["T_STRING","FileSystem",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$viewFileSystem",55],",",["T_WHITESPACE","\n        ",55],["T_STRING","ThemePackageList",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$themePackages",56],",",["T_WHITESPACE","\n        ",56],["T_STRING","ReadFactory",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$readDirFactory",57],["T_WHITESPACE","\n    ",57],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_dataStorage",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$dataStorage",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_moduleReader",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$moduleReader",60],";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","viewFileSystem",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$viewFileSystem",61],";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","themePackages",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$themePackages",62],";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","readDirFactory",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$readDirFactory",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Return list of all email templates, both default module and theme-specific templates\n     *\n     * @return array[]\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","getAvailableTemplates",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$templates",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],"[","]",";",["T_WHITESPACE","\n        ",73],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_STRING","array_keys",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_dataStorage",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",")",")",["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$templateId",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$templates",75],"[","]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[",["T_WHITESPACE","\n                ",75],["T_CONSTANT_ENCAPSED_STRING","'value'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$templateId",76],",",["T_WHITESPACE","\n                ",76],["T_CONSTANT_ENCAPSED_STRING","'label'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getTemplateLabel",77],"(",["T_VARIABLE","$templateId",77],")",",",["T_WHITESPACE","\n                ",77],["T_CONSTANT_ENCAPSED_STRING","'group'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getTemplateModule",78],"(",["T_VARIABLE","$templateId",78],")",",",["T_WHITESPACE","\n            ",78],"]",";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$themeTemplates",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getThemeTemplates",80],"(",["T_VARIABLE","$templateId",80],")",";",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$templates",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","array_merge",81],"(",["T_VARIABLE","$templates",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$themeTemplates",81],")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$templates",83],";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Find all theme-based email templates for a given template ID\n     *\n     * @param string $templateId\n     * @return array[]\n     *\/",86],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","getThemeTemplates",92],"(",["T_VARIABLE","$templateId",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$templates",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[","]",";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$area",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getTemplateArea",96],"(",["T_VARIABLE","$templateId",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$module",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getTemplateModule",97],"(",["T_VARIABLE","$templateId",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$filename",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_getInfo",98],"(",["T_VARIABLE","$templateId",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'file'",98],")",";",["T_WHITESPACE","\n\n        ",98],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","themePackages",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getThemes",100],"(",")",["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$theme",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$theme",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getArea",101],"(",")",["T_WHITESPACE"," ",101],["T_IS_EQUAL","==",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$area",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$themeDir",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","readDirFactory",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","create",102],"(",["T_VARIABLE","$theme",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getPath",102],"(",")",")",";",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$file",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"\"",["T_VARIABLE","$module",103],["T_ENCAPSED_AND_WHITESPACE","\/email\/",103],["T_VARIABLE","$filename",103],"\"",";",["T_WHITESPACE","\n                ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$themeDir",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","isExist",104],"(",["T_VARIABLE","$file",104],")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                    ",104],["T_VARIABLE","$templates",105],"[","]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],"[",["T_WHITESPACE","\n                        ",105],["T_CONSTANT_ENCAPSED_STRING","'value'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_STRING","sprintf",106],"(",["T_WHITESPACE","\n                            ",106],["T_CONSTANT_ENCAPSED_STRING","'%s\/%s\/%s'",107],",",["T_WHITESPACE","\n                            ",107],["T_VARIABLE","$templateId",108],",",["T_WHITESPACE","\n                            ",108],["T_VARIABLE","$theme",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getVendor",109],"(",")",",",["T_WHITESPACE","\n                            ",109],["T_VARIABLE","$theme",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getName",110],"(",")",["T_WHITESPACE","\n                        ",110],")",",",["T_WHITESPACE","\n                        ",111],["T_CONSTANT_ENCAPSED_STRING","'label'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","sprintf",112],"(",["T_WHITESPACE","\n                            ",112],["T_CONSTANT_ENCAPSED_STRING","'%s (%s\/%s)'",113],",",["T_WHITESPACE","\n                            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getTemplateLabel",114],"(",["T_VARIABLE","$templateId",114],")",",",["T_WHITESPACE","\n                            ",114],["T_VARIABLE","$theme",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getVendor",115],"(",")",",",["T_WHITESPACE","\n                            ",115],["T_VARIABLE","$theme",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getName",116],"(",")",["T_WHITESPACE","\n                        ",116],")",",",["T_WHITESPACE","\n                        ",117],["T_CONSTANT_ENCAPSED_STRING","'group'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getTemplateModule",118],"(",["T_VARIABLE","$templateId",118],")",",",["T_WHITESPACE","\n                    ",118],"]",";",["T_WHITESPACE","\n                ",119],"}",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n        ",122],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$templates",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Parses a template ID and returns an array of templateId and theme\n     *\n     * @param string $templateId\n     * @return array an array of array('templateId' => '...', 'theme' => '...')\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","parseTemplateIdParts",133],"(",["T_VARIABLE","$templateId",133],")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$parts",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],"[",["T_WHITESPACE","\n            ",135],["T_CONSTANT_ENCAPSED_STRING","'templateId'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$templateId",136],",",["T_WHITESPACE","\n            ",136],["T_CONSTANT_ENCAPSED_STRING","'theme'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_STRING","null",137],["T_WHITESPACE","\n        ",137],"]",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$pattern",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","\"#^(?<templateId>[^\/]+)\/(?<themeVendor>[^\/]+)\/(?<themeName>[^\/]+)#i\"",139],";",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_STRING","preg_match",140],"(",["T_VARIABLE","$pattern",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$templateId",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$matches",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$parts",141],"[",["T_CONSTANT_ENCAPSED_STRING","'templateId'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$matches",141],"[",["T_CONSTANT_ENCAPSED_STRING","'templateId'",141],"]",";",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$parts",142],"[",["T_CONSTANT_ENCAPSED_STRING","'theme'",142],"]",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$matches",142],"[",["T_CONSTANT_ENCAPSED_STRING","'themeVendor'",142],"]",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'\/'",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$matches",142],"[",["T_CONSTANT_ENCAPSED_STRING","'themeName'",142],"]",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$parts",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Retrieve translated label of an email template\n     *\n     * @param string $templateId\n     * @return \\Magento\\Framework\\Phrase\n     *\/",147],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","getTemplateLabel",153],"(",["T_VARIABLE","$templateId",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_STRING","__",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_getInfo",155],"(",["T_VARIABLE","$templateId",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'label'",155],")",")",";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Retrieve type of an email template\n     *\n     * @param string $templateId\n     * @return string\n     *\/",158],["T_WHITESPACE","\n    ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","getTemplateType",164],"(",["T_VARIABLE","$templateId",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_getInfo",166],"(",["T_VARIABLE","$templateId",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'type'",166],")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Retrieve fully-qualified name of a module an email template belongs to\n     *\n     * @param string $templateId\n     * @return string\n     *\/",169],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","getTemplateModule",175],"(",["T_VARIABLE","$templateId",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_getInfo",177],"(",["T_VARIABLE","$templateId",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'module'",177],")",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Retrieve the area an email template belongs to\n     *\n     * @param string $templateId\n     * @return string\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getTemplateArea",186],"(",["T_VARIABLE","$templateId",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_getInfo",188],"(",["T_VARIABLE","$templateId",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'area'",188],")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * Retrieve full path to an email template file\n     *\n     * @param string $templateId\n     * @param array|null $designParams\n     * @return string\n     *\/",191],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getTemplateFilename",198],"(",["T_VARIABLE","$templateId",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$designParams",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[","]",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_COMMENT","\/\/ If design params aren't passed, then use area\/module defined in email_templates.xml\n",200],["T_WHITESPACE","        ",201],["T_IF","if",201],["T_WHITESPACE"," ",201],"(","!",["T_ISSET","isset",201],"(",["T_VARIABLE","$designParams",201],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",201],"]",")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$designParams",202],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",202],"]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getTemplateArea",202],"(",["T_VARIABLE","$templateId",202],")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$module",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getTemplateModule",204],"(",["T_VARIABLE","$templateId",204],")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$designParams",205],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$module",205],";",["T_WHITESPACE","\n\n        ",205],["T_VARIABLE","$file",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_getInfo",207],"(",["T_VARIABLE","$templateId",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'file'",207],")",";",["T_WHITESPACE","\n\n        ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","viewFileSystem",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getEmailTemplateFileName",209],"(",["T_VARIABLE","$file",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$designParams",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$module",209],")",";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * Retrieve value of a field of an email template\n     *\n     * @param string $templateId Name of an email template\n     * @param string $fieldName Name of a field value of which to return\n     * @return string\n     * @throws \\UnexpectedValueException\n     *\/",212],["T_WHITESPACE","\n    ",219],["T_PROTECTED","protected",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","_getInfo",220],"(",["T_VARIABLE","$templateId",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$fieldName",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$data",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_dataStorage",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","get",222],"(",")",";",["T_WHITESPACE","\n        ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(","!",["T_ISSET","isset",223],"(",["T_VARIABLE","$data",223],"[",["T_VARIABLE","$templateId",223],"]",")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_THROW","throw",224],["T_WHITESPACE"," ",224],["T_NEW","new",224],["T_WHITESPACE"," ",224],["T_NS_SEPARATOR","\\",224],["T_STRING","UnexpectedValueException",224],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Email template '",224],["T_CURLY_OPEN","{",224],["T_VARIABLE","$templateId",224],"}",["T_ENCAPSED_AND_WHITESPACE","' is not defined.",224],"\"",")",";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n        ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(","!",["T_ISSET","isset",226],"(",["T_VARIABLE","$data",226],"[",["T_VARIABLE","$templateId",226],"]","[",["T_VARIABLE","$fieldName",226],"]",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_THROW","throw",227],["T_WHITESPACE"," ",227],["T_NEW","new",227],["T_WHITESPACE"," ",227],["T_NS_SEPARATOR","\\",227],["T_STRING","UnexpectedValueException",227],"(",["T_WHITESPACE","\n                ",227],"\"",["T_ENCAPSED_AND_WHITESPACE","Field '",228],["T_CURLY_OPEN","{",228],["T_VARIABLE","$fieldName",228],"}",["T_ENCAPSED_AND_WHITESPACE","' is not defined for email template '",228],["T_CURLY_OPEN","{",228],["T_VARIABLE","$templateId",228],"}",["T_ENCAPSED_AND_WHITESPACE","'.",228],"\"",["T_WHITESPACE","\n            ",228],")",";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$data",231],"[",["T_VARIABLE","$templateId",231],"]","[",["T_VARIABLE","$fieldName",231],"]",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n",232],"}",["T_WHITESPACE","\n",233]]