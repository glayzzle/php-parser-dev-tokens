[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Backend",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Menu",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Menu builder object. Retrieves commands (\\Magento\\Backend\\Model\\Menu\\Builder\\AbstractCommand)\n * to build menu (\\Magento\\Backend\\Model\\Menu)\n *\/",8],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","Builder",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Menu\\Builder\\AbstractCommand[]\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$_commands",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"[","]",";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Menu\\Item\\Factory\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_itemFactory",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Model\\Menu\\Item\\Factory $menuItemFactory\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","__construct",27],"(",["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Backend",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Model",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Menu",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Item",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Factory",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$menuItemFactory",27],")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","_itemFactory",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$menuItemFactory",29],";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Process provided command object\n     *\n     * @param \\Magento\\Backend\\Model\\Menu\\Builder\\AbstractCommand $command\n     * @return $this\n     *\/",32],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","processCommand",38],"(",["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Backend",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Model",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Menu",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Builder",38],["T_NS_SEPARATOR","\\",38],["T_STRING","AbstractCommand",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$command",38],")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(","!",["T_ISSET","isset",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","_commands",40],"[",["T_VARIABLE","$command",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getId",40],"(",")","]",")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_commands",41],"[",["T_VARIABLE","$command",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getId",41],"(",")","]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$command",41],";",["T_WHITESPACE","\n        ",41],"}",["T_WHITESPACE"," ",42],["T_ELSE","else",42],["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_commands",43],"[",["T_VARIABLE","$command",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getId",43],"(",")","]",["T_OBJECT_OPERATOR","->",43],["T_STRING","chain",43],"(",["T_VARIABLE","$command",43],")",";",["T_WHITESPACE","\n        ",43],"}",["T_WHITESPACE","\n        ",44],["T_RETURN","return",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Populate menu object\n     *\n     * @param \\Magento\\Backend\\Model\\Menu $menu\n     * @return \\Magento\\Backend\\Model\\Menu\n     * @throws \\OutOfRangeException in case given parent id does not exists\n     *\/",48],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","getResult",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Backend",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Menu",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$menu",55],")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_DOC_COMMENT","\/** @var $items \\Magento\\Backend\\Model\\Menu\\Item[] *\/",57],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$params",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"[","]",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$items",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],"[","]",";",["T_WHITESPACE","\n\n        ",59],["T_COMMENT","\/\/ Create menu items\n",61],["T_WHITESPACE","        ",62],["T_FOREACH","foreach",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_commands",62],["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$id",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$command",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$params",63],"[",["T_VARIABLE","$id",63],"]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$command",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","execute",63],"(",")",";",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$item",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_itemFactory",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","create",64],"(",["T_VARIABLE","$params",64],"[",["T_VARIABLE","$id",64],"]",")",";",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$items",65],"[",["T_VARIABLE","$id",65],"]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$item",65],";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n\n        ",66],["T_COMMENT","\/\/ Build menu tree based on \"parent\" param\n",68],["T_WHITESPACE","        ",69],["T_FOREACH","foreach",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$items",69],["T_WHITESPACE"," ",69],["T_AS","as",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$id",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$item",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$sortOrder",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_getParam",70],"(",["T_VARIABLE","$params",70],"[",["T_VARIABLE","$id",70],"]",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",70],")",";",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$parentId",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_getParam",71],"(",["T_VARIABLE","$params",71],"[",["T_VARIABLE","$id",71],"]",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'parent'",71],")",";",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$isRemoved",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ISSET","isset",72],"(",["T_VARIABLE","$params",72],"[",["T_VARIABLE","$id",72],"]","[",["T_CONSTANT_ENCAPSED_STRING","'removed'",72],"]",")",";",["T_WHITESPACE","\n\n            ",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$isRemoved",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_CONTINUE","continue",75],";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE","\n            ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_VARIABLE","$parentId",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n                ",77],["T_VARIABLE","$menu",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","add",78],"(",["T_VARIABLE","$item",78],",",["T_WHITESPACE"," ",78],["T_STRING","null",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$sortOrder",78],")",";",["T_WHITESPACE","\n            ",78],"}",["T_WHITESPACE"," ",79],["T_ELSE","else",79],["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_ISSET","isset",80],"(",["T_VARIABLE","$items",80],"[",["T_VARIABLE","$parentId",80],"]",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                    ",80],["T_THROW","throw",81],["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","OutOfRangeException",81],"(",["T_STRING","sprintf",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Specified invalid parent id (%s)'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$parentId",81],")",")",";",["T_WHITESPACE","\n                ",81],"}",["T_WHITESPACE","\n                ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_ISSET","isset",83],"(",["T_VARIABLE","$params",83],"[",["T_VARIABLE","$parentId",83],"]","[",["T_CONSTANT_ENCAPSED_STRING","'removed'",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                    ",83],["T_CONTINUE","continue",84],";",["T_WHITESPACE","\n                ",84],"}",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$items",86],"[",["T_VARIABLE","$parentId",86],"]",["T_OBJECT_OPERATOR","->",86],["T_STRING","getChildren",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","add",86],"(",["T_VARIABLE","$item",86],",",["T_WHITESPACE"," ",86],["T_STRING","null",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$sortOrder",86],")",";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n\n        ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$menu",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Retrieve param by name or default value\n     *\n     * @param array $params\n     * @param string $paramName\n     * @param mixed $defaultValue\n     * @return mixed\n     *\/",93],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","_getParam",101],"(",["T_VARIABLE","$params",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$paramName",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$defaultValue",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","null",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_ISSET","isset",103],"(",["T_VARIABLE","$params",103],"[",["T_VARIABLE","$paramName",103],"]",")",["T_WHITESPACE"," ",103],"?",["T_WHITESPACE"," ",103],["T_VARIABLE","$params",103],"[",["T_VARIABLE","$paramName",103],"]",["T_WHITESPACE"," ",103],":",["T_WHITESPACE"," ",103],["T_VARIABLE","$defaultValue",103],";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n",104],"}",["T_WHITESPACE","\n",105]]