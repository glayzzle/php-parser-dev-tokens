[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Backend",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Backend",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Menu",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Item",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Menu",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Item",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Factory",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ObjectManager",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Serialize",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SerializerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Psr",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Log",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LoggerInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Backend menu model\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Menu",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ArrayObject",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Path in tree structure\n     *\n     * @var string\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_path",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","''",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var LoggerInterface\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_logger",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var Factory\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$menuItemFactory",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var SerializerInterface\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$serializer",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Menu constructor\n     *\n     * @param LoggerInterface $logger\n     * @param string $pathInMenuStructure\n     * @param Factory|null $menuItemFactory\n     * @param SerializerInterface|null $serializer\n     *\/",41],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_WHITESPACE","\n        ",49],["T_STRING","LoggerInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$logger",50],",",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$pathInMenuStructure",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","''",51],",",["T_WHITESPACE","\n        ",51],["T_STRING","Factory",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$menuItemFactory",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","null",52],",",["T_WHITESPACE","\n        ",52],["T_STRING","SerializerInterface",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$serializer",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","null",53],["T_WHITESPACE","\n    ",53],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$pathInMenuStructure",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_path",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$pathInMenuStructure",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'\/'",56],";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_logger",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$logger",58],";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setIteratorClass",59],"(",["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Backend",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Model",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Menu",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Iterator",59],["T_DOUBLE_COLON","::",59],["T_CLASS","class",59],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","menuItemFactory",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$menuItemFactory",60],["T_WHITESPACE"," ",60],"?",":",["T_WHITESPACE"," ",60],["T_STRING","ObjectManager",60],["T_DOUBLE_COLON","::",60],["T_STRING","getInstance",60],"(",")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","create",61],"(",["T_STRING","Factory",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","serializer",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$serializer",62],["T_WHITESPACE"," ",62],"?",":",["T_WHITESPACE"," ",62],["T_STRING","ObjectManager",62],["T_DOUBLE_COLON","::",62],["T_STRING","getInstance",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","create",62],"(",["T_STRING","SerializerInterface",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Add child to menu item\n     *\n     * @param Item $item\n     * @param string $parentId\n     * @param int $index\n     * @return void\n     * @throws \\InvalidArgumentException\n     *\/",65],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","add",74],"(",["T_STRING","Item",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$item",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$parentId",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","null",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$index",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","null",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$parentId",76],["T_WHITESPACE"," ",76],["T_IS_NOT_IDENTICAL","!==",76],["T_WHITESPACE"," ",76],["T_STRING","null",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$parentItem",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_VARIABLE","$parentId",77],")",";",["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$parentItem",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","null",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_THROW","throw",79],["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_NS_SEPARATOR","\\",79],["T_STRING","InvalidArgumentException",79],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Item with identifier ",79],["T_CURLY_OPEN","{",79],["T_VARIABLE","$parentId",79],"}",["T_ENCAPSED_AND_WHITESPACE"," does not exist",79],"\"",")",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$parentItem",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getChildren",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","add",81],"(",["T_VARIABLE","$item",81],",",["T_WHITESPACE"," ",81],["T_STRING","null",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$index",81],")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE"," ",82],["T_ELSE","else",82],["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$index",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","intval",83],"(",["T_VARIABLE","$index",83],")",";",["T_WHITESPACE","\n            ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_ISSET","isset",84],"(",["T_VARIABLE","$this",84],"[",["T_VARIABLE","$index",84],"]",")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","offsetSet",85],"(",["T_VARIABLE","$index",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$item",85],")",";",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_logger",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","info",86],"(",["T_WHITESPACE","\n                    ",86],["T_STRING","sprintf",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Add of item with id %s was processed'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$item",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getId",87],"(",")",")",["T_WHITESPACE","\n                ",87],")",";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE"," ",89],["T_ELSE","else",89],["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","add",90],"(",["T_VARIABLE","$item",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$parentId",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$index",90],["T_WHITESPACE"," ",90],"+",["T_WHITESPACE"," ",90],["T_LNUMBER","1",90],")",";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Retrieve menu item by id\n     *\n     * @param string $itemId\n     * @return Item|null\n     *\/",95],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","get",101],"(",["T_VARIABLE","$itemId",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$result",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","null",103],";",["T_WHITESPACE","\n        ",103],["T_DOC_COMMENT","\/** @var Item $item *\/",104],["T_WHITESPACE","\n        ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$this",105],["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$item",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$item",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getId",106],"(",")",["T_WHITESPACE"," ",106],["T_IS_EQUAL","==",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$itemId",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$result",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$item",107],";",["T_WHITESPACE","\n                ",107],["T_BREAK","break",108],";",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n\n            ",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$item",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","hasChildren",111],"(",")",["T_WHITESPACE"," ",111],["T_BOOLEAN_AND","&&",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$result",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$item",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getChildren",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","get",111],"(",["T_VARIABLE","$itemId",111],")",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                ",111],["T_BREAK","break",112],";",["T_WHITESPACE","\n            ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$result",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Move menu item\n     *\n     * @param string $itemId\n     * @param string $toItemId\n     * @param int $sortIndex\n     * @return void\n     * @throws \\InvalidArgumentException\n     *\/",118],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","move",127],"(",["T_VARIABLE","$itemId",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$toItemId",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$sortIndex",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","null",127],")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$item",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","get",129],"(",["T_VARIABLE","$itemId",129],")",";",["T_WHITESPACE","\n        ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$item",130],["T_WHITESPACE"," ",130],["T_IS_IDENTICAL","===",130],["T_WHITESPACE"," ",130],["T_STRING","null",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_THROW","throw",131],["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_NS_SEPARATOR","\\",131],["T_STRING","InvalidArgumentException",131],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Item with identifier ",131],["T_CURLY_OPEN","{",131],["T_VARIABLE","$itemId",131],"}",["T_ENCAPSED_AND_WHITESPACE"," does not exist",131],"\"",")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","remove",133],"(",["T_VARIABLE","$itemId",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","add",134],"(",["T_VARIABLE","$item",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$toItemId",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$sortIndex",134],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Remove menu item by id\n     *\n     * @param string $itemId\n     * @return bool\n     *\/",137],["T_WHITESPACE","\n    ",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","remove",143],"(",["T_VARIABLE","$itemId",143],")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$result",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","false",145],";",["T_WHITESPACE","\n        ",145],["T_DOC_COMMENT","\/** @var Item $item *\/",146],["T_WHITESPACE","\n        ",146],["T_FOREACH","foreach",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$this",147],["T_WHITESPACE"," ",147],["T_AS","as",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$key",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$item",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$item",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")",["T_WHITESPACE"," ",148],["T_IS_EQUAL","==",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$itemId",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                ",148],["T_UNSET","unset",149],"(",["T_VARIABLE","$this",149],"[",["T_VARIABLE","$key",149],"]",")",";",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$result",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","true",150],";",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_logger",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","info",151],"(",["T_WHITESPACE","\n                    ",151],["T_STRING","sprintf",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove on item with id %s was processed'",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$item",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getId",152],"(",")",")",["T_WHITESPACE","\n                ",152],")",";",["T_WHITESPACE","\n                ",153],["T_BREAK","break",154],";",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE","\n\n            ",155],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$item",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","hasChildren",157],"(",")",["T_WHITESPACE"," ",157],["T_BOOLEAN_AND","&&",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$result",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$item",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getChildren",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","remove",157],"(",["T_VARIABLE","$itemId",157],")",")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_BREAK","break",158],";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$result",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Change order of an item in its parent menu\n     *\n     * @param string $itemId\n     * @param int $position\n     * @return bool\n     *\/",164],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","reorder",171],"(",["T_VARIABLE","$itemId",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$position",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$result",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","false",173],";",["T_WHITESPACE","\n        ",173],["T_DOC_COMMENT","\/** @var Item $item *\/",174],["T_WHITESPACE","\n        ",174],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$this",175],["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$key",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$item",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$item",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getId",176],"(",")",["T_WHITESPACE"," ",176],["T_IS_EQUAL","==",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$itemId",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_UNSET","unset",177],"(",["T_VARIABLE","$this",177],"[",["T_VARIABLE","$key",177],"]",")",";",["T_WHITESPACE","\n                ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","add",178],"(",["T_VARIABLE","$item",178],",",["T_WHITESPACE"," ",178],["T_STRING","null",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$position",178],")",";",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$result",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","true",179],";",["T_WHITESPACE","\n                ",179],["T_BREAK","break",180],";",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE"," ",181],["T_ELSEIF","elseif",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$item",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","hasChildren",181],"(",")",["T_WHITESPACE"," ",181],["T_BOOLEAN_AND","&&",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$result",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$item",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getChildren",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","reorder",181],"(",["T_VARIABLE","$itemId",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$position",181],")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                ",181],["T_BREAK","break",182],";",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$result",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Check whether provided item is last in list\n     *\n     * @param Item $item\n     * @return bool\n     *\/",188],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","isLast",194],"(",["T_STRING","Item",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$item",194],")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","offsetGet",196],"(",["T_STRING","max",196],"(",["T_STRING","array_keys",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getArrayCopy",196],"(",")",")",")",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getId",196],"(",")",["T_WHITESPACE"," ",196],["T_IS_EQUAL","==",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$item",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getId",196],"(",")",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Find first menu item that user is able to access\n     *\n     * @return Item|null\n     *\/",199],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","getFirstAvailable",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$result",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","null",206],";",["T_WHITESPACE","\n        ",206],["T_DOC_COMMENT","\/** @var Item $item *\/",207],["T_WHITESPACE","\n        ",207],["T_FOREACH","foreach",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$this",208],["T_WHITESPACE"," ",208],["T_AS","as",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$item",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$item",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","isAllowed",209],"(",")",["T_WHITESPACE"," ",209],["T_BOOLEAN_AND","&&",209],["T_WHITESPACE"," ",209],"!",["T_VARIABLE","$item",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","isDisabled",209],"(",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$item",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","hasChildren",210],"(",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                    ",210],["T_VARIABLE","$result",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$item",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getChildren",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getFirstAvailable",211],"(",")",";",["T_WHITESPACE","\n                    ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_STRING","false",212],["T_WHITESPACE"," ",212],["T_IS_EQUAL","==",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$result",212],["T_WHITESPACE"," ",212],["T_IS_IDENTICAL","===",212],["T_WHITESPACE"," ",212],["T_STRING","null",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                        ",212],["T_BREAK","break",213],";",["T_WHITESPACE","\n                    ",213],"}",["T_WHITESPACE","\n                ",214],"}",["T_WHITESPACE"," ",215],["T_ELSE","else",215],["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                    ",215],["T_VARIABLE","$result",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$item",216],";",["T_WHITESPACE","\n                    ",216],["T_BREAK","break",217],";",["T_WHITESPACE","\n                ",217],"}",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n        ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$result",221],";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Get parent items by item id\n     *\n     * @param string $itemId\n     * @return Item[]\n     *\/",224],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","getParentItems",230],"(",["T_VARIABLE","$itemId",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$parents",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],"[","]",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_findParentItems",233],"(",["T_VARIABLE","$this",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$itemId",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$parents",233],")",";",["T_WHITESPACE","\n        ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_STRING","array_reverse",234],"(",["T_VARIABLE","$parents",234],")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Find parent items\n     *\n     * @param \\Magento\\Backend\\Model\\Menu $menu\n     * @param string $itemId\n     * @param array &$parents\n     * @return bool\n     *\/",237],["T_WHITESPACE","\n    ",244],["T_PROTECTED","protected",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","_findParentItems",245],"(",["T_VARIABLE","$menu",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$itemId",245],",",["T_WHITESPACE"," ",245],"&",["T_VARIABLE","$parents",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_DOC_COMMENT","\/** @var Item $item *\/",247],["T_WHITESPACE","\n        ",247],["T_FOREACH","foreach",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$menu",248],["T_WHITESPACE"," ",248],["T_AS","as",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$item",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$item",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getId",249],"(",")",["T_WHITESPACE"," ",249],["T_IS_EQUAL","==",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$itemId",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_STRING","true",250],";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n            ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$item",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","hasChildren",252],"(",")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_findParentItems",253],"(",["T_VARIABLE","$item",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getChildren",253],"(",")",",",["T_WHITESPACE"," ",253],["T_VARIABLE","$itemId",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$parents",253],")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n                    ",253],["T_VARIABLE","$parents",254],"[","]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$item",254],";",["T_WHITESPACE","\n                    ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_STRING","true",255],";",["T_WHITESPACE","\n                ",255],"}",["T_WHITESPACE","\n            ",256],"}",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_STRING","false",259],";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Serialize menu\n     *\n     * @return string\n     *\/",262],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","serialize",267],"(",")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","serializer",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","serialize",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","toArray",269],"(",")",")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Get menu data represented as an array\n     *\n     * @return array\n     *\/",272],["T_WHITESPACE","\n    ",276],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","toArray",277],"(",")",["T_WHITESPACE","\n    ",277],"{",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$data",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],"[","]",";",["T_WHITESPACE","\n        ",279],["T_FOREACH","foreach",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$this",280],["T_WHITESPACE"," ",280],["T_AS","as",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$item",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$data",281],"[","]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$item",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","toArray",281],"(",")",";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n        ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$data",283],";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n\n    ",284],["T_DOC_COMMENT","\/**\n     * Unserialize menu\n     *\n     * @param string $serialized\n     * @return void\n     *\/",286],["T_WHITESPACE","\n    ",291],["T_PUBLIC","public",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","unserialize",292],"(",["T_VARIABLE","$serialized",292],")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$data",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","serializer",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","unserialize",294],"(",["T_VARIABLE","$serialized",294],")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","populateFromArray",295],"(",["T_VARIABLE","$data",295],")",";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_DOC_COMMENT","\/**\n     * Populate the menu with data from array\n     *\n     * @param array $data\n     * @return void\n     *\/",298],["T_WHITESPACE","\n    ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","populateFromArray",304],"(",["T_ARRAY","array",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$data",304],")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$items",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],"[","]",";",["T_WHITESPACE","\n        ",306],["T_FOREACH","foreach",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$data",307],["T_WHITESPACE"," ",307],["T_AS","as",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$itemData",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$item",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","menuItemFactory",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","create",308],"(",["T_VARIABLE","$itemData",308],")",";",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$items",309],"[","]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$item",309],";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","exchangeArray",311],"(",["T_VARIABLE","$items",311],")",";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n",312],"}",["T_WHITESPACE","\n",313]]