[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Widget",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Grid",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Filesystem",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DirectoryList",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Export",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Backend",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Block",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Widget",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Backend",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Block",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Widget",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Grid",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ExportInterface",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Grid export types\n     *\n     * @var  \\Magento\\Framework\\DataObject[]\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_exportTypes",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[","]",";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Rows per page for import\n     *\n     * @var int\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_exportPageSize",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_LNUMBER","1000",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Template file name\n     *\n     * @var string\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_template",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","\"Magento_Backend::widget\/grid\/export.phtml\"",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Data\\CollectionFactory\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_collectionFactory",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\WriteInterface\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_directory",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Additional path to folder\n     *\n     * @var string\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_path",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'export'",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param \\Magento\\Framework\\Data\\CollectionFactory $collectionFactory\n     * @param array $data\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","__construct",61],"(",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Backend",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Block",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Template",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Context",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$context",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Framework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Data",63],["T_NS_SEPARATOR","\\",63],["T_STRING","CollectionFactory",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$collectionFactory",63],",",["T_WHITESPACE","\n        ",63],["T_ARRAY","array",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$data",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"[","]",["T_WHITESPACE","\n    ",64],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_collectionFactory",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$collectionFactory",66],";",["T_WHITESPACE","\n        ",66],["T_STRING","parent",67],["T_DOUBLE_COLON","::",67],["T_STRING","__construct",67],"(",["T_VARIABLE","$context",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$data",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",70],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","_construct",74],"(",")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_STRING","parent",76],["T_DOUBLE_COLON","::",76],["T_STRING","_construct",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","hasData",77],"(",["T_CONSTANT_ENCAPSED_STRING","'exportTypes'",77],")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_FOREACH","foreach",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getData",78],"(",["T_CONSTANT_ENCAPSED_STRING","'exportTypes'",78],")",["T_WHITESPACE"," ",78],["T_AS","as",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$type",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(","!",["T_ISSET","isset",79],"(",["T_VARIABLE","$type",79],"[",["T_CONSTANT_ENCAPSED_STRING","'urlPath'",79],"]",")",["T_WHITESPACE"," ",79],["T_BOOLEAN_OR","||",79],["T_WHITESPACE"," ",79],"!",["T_ISSET","isset",79],"(",["T_VARIABLE","$type",79],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",79],"]",")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                    ",79],["T_THROW","throw",80],["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Framework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Exception",80],["T_NS_SEPARATOR","\\",80],["T_STRING","LocalizedException",80],"(",["T_WHITESPACE","\n                        ",80],["T_STRING","__",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid export type supplied for grid export block'",81],")",["T_WHITESPACE","\n                    ",81],")",";",["T_WHITESPACE","\n                ",82],"}",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","addExportType",84],"(",["T_VARIABLE","$type",84],"[",["T_CONSTANT_ENCAPSED_STRING","'urlPath'",84],"]",",",["T_WHITESPACE"," ",84],["T_VARIABLE","$type",84],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",84],"]",")",";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_directory",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_filesystem",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getDirectoryWrite",87],"(",["T_STRING","DirectoryList",87],["T_DOUBLE_COLON","::",87],["T_STRING","VAR_DIR",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Retrieve grid columns\n     *\n     * @return \\Magento\\Backend\\Block\\Widget\\Grid\\Column[]\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","_getColumns",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getParentBlock",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getColumns",97],"(",")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Retrieve totals\n     *\n     * @return \\Magento\\Framework\\DataObject\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","_getTotals",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getParentBlock",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getColumnSet",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getTotals",107],"(",")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Return count totals\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",110],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","getCountTotals",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getParentBlock",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","getColumnSet",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","shouldRenderTotal",118],"(",")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Get collection object\n     *\n     * @return \\Magento\\Framework\\Data\\Collection\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","_getCollection",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getParentBlock",128],"(",")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getCollection",128],"(",")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Retrieve grid export types\n     *\n     * @return  \\Magento\\Framework\\DataObject[]|false\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","getExportTypes",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_EMPTY","empty",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_exportTypes",138],")",["T_WHITESPACE"," ",138],"?",["T_WHITESPACE"," ",138],["T_STRING","false",138],["T_WHITESPACE"," ",138],":",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_exportTypes",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Retrieve grid id\n     *\n     * @return string\n     *\/",141],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","getId",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getParentBlock",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Prepare export button\n     *\n     * @return $this\n     *\/",151],["T_WHITESPACE","\n    ",155],["T_PROTECTED","protected",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","_prepareLayout",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","setChild",158],"(",["T_WHITESPACE","\n            ",158],["T_CONSTANT_ENCAPSED_STRING","'export_button'",159],",",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getLayout",160],"(",")",["T_OBJECT_OPERATOR","->",160],["T_STRING","createBlock",160],"(",["T_WHITESPACE","\n                ",160],["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Backend",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Block",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Widget",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Button",161],["T_DOUBLE_COLON","::",161],["T_CLASS","class",161],["T_WHITESPACE","\n            ",161],")",["T_OBJECT_OPERATOR","->",162],["T_STRING","setData",162],"(",["T_WHITESPACE","\n                ",162],"[",["T_WHITESPACE","\n                    ",163],["T_CONSTANT_ENCAPSED_STRING","'label'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_STRING","__",164],"(",["T_CONSTANT_ENCAPSED_STRING","'Export'",164],")",",",["T_WHITESPACE","\n                    ",164],["T_CONSTANT_ENCAPSED_STRING","'onclick'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getParentBlock",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","getJsObjectName",165],"(",")",["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'.doExport()'",165],",",["T_WHITESPACE","\n                    ",165],["T_CONSTANT_ENCAPSED_STRING","'class'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'task'",166],",",["T_WHITESPACE","\n                ",166],"]",["T_WHITESPACE","\n            ",167],")",["T_WHITESPACE","\n        ",168],")",";",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","parent",170],["T_DOUBLE_COLON","::",170],["T_STRING","_prepareLayout",170],"(",")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Render export button\n     *\n     * @return string\n     *\/",173],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","getExportButtonHtml",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getChildHtml",180],"(",["T_CONSTANT_ENCAPSED_STRING","'export_button'",180],")",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Add new export type to grid\n     *\n     * @param   string $url\n     * @param   string $label\n     * @return  $this\n     *\/",183],["T_WHITESPACE","\n    ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","addExportType",190],"(",["T_VARIABLE","$url",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$label",190],")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_exportTypes",192],"[","]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Framework",192],["T_NS_SEPARATOR","\\",192],["T_STRING","DataObject",192],"(",["T_WHITESPACE","\n            ",192],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getUrl",193],"(",["T_VARIABLE","$url",193],",",["T_WHITESPACE"," ",193],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_STRING","true",193],"]",")",",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'label'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$label",193],"]",["T_WHITESPACE","\n        ",193],")",";",["T_WHITESPACE","\n        ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Retrieve file content from file container array\n     *\n     * @param array $fileData\n     * @return string\n     *\/",198],["T_WHITESPACE","\n    ",203],["T_PROTECTED","protected",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","_getFileContainerContent",204],"(",["T_ARRAY","array",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$fileData",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_directory",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","readFile",206],"(",["T_CONSTANT_ENCAPSED_STRING","'export\/'",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$fileData",206],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",206],"]",")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Retrieve Headers row array for Export\n     *\n     * @return string[]\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","_getExportHeaders",214],"(",")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$row",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],"[","]",";",["T_WHITESPACE","\n        ",216],["T_FOREACH","foreach",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_getColumns",217],"(",")",["T_WHITESPACE"," ",217],["T_AS","as",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$column",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_VARIABLE","$column",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getIsSystem",218],"(",")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                ",218],["T_VARIABLE","$row",219],"[","]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$column",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getExportHeader",219],"(",")",";",["T_WHITESPACE","\n            ",219],"}",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$row",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Retrieve Totals row array for Export\n     *\n     * @return string[]\n     *\/",225],["T_WHITESPACE","\n    ",229],["T_PROTECTED","protected",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","_getExportTotals",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$totals",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_getTotals",232],"(",")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$row",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],"[","]",";",["T_WHITESPACE","\n        ",233],["T_FOREACH","foreach",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_getColumns",234],"(",")",["T_WHITESPACE"," ",234],["T_AS","as",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$column",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(","!",["T_VARIABLE","$column",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getIsSystem",235],"(",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                ",235],["T_VARIABLE","$row",236],"[","]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$column",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","hasTotalsLabel",236],"(",")",["T_WHITESPACE"," ",236],"?",["T_WHITESPACE"," ",236],["T_VARIABLE","$column",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getTotalsLabel",236],"(",")",["T_WHITESPACE"," ",236],":",["T_WHITESPACE"," ",236],["T_VARIABLE","$column",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getRowFieldExport",236],"(",["T_VARIABLE","$totals",236],")",";",["T_WHITESPACE","\n            ",236],"}",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n        ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$row",239],";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_DOC_COMMENT","\/**\n     * Iterate collection and call callback method per item\n     * For callback method first argument always is item object\n     *\n     * @param string $callback\n     * @param array $args additional arguments for callback method\n     * @return void\n     *\/",242],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","_exportIterateCollection",250],"(",["T_VARIABLE","$callback",250],",",["T_WHITESPACE"," ",250],["T_ARRAY","array",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$args",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_DOC_COMMENT","\/** @var $originalCollection \\Magento\\Framework\\Data\\Collection *\/",252],["T_WHITESPACE","\n        ",252],["T_VARIABLE","$originalCollection",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getParentBlock",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","getPreparedCollection",253],"(",")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$count",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","null",254],";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$page",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_LNUMBER","1",255],";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$lPage",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","null",256],";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$break",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","false",257],";",["T_WHITESPACE","\n\n        ",257],["T_WHILE","while",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$break",259],["T_WHITESPACE"," ",259],["T_IS_NOT_IDENTICAL","!==",259],["T_WHITESPACE"," ",259],["T_STRING","true",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$originalCollection",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","clear",260],"(",")",";",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$originalCollection",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","setPageSize",261],"(",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getExportPageSize",261],"(",")",")",";",["T_WHITESPACE","\n            ",261],["T_VARIABLE","$originalCollection",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","setCurPage",262],"(",["T_VARIABLE","$page",262],")",";",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$originalCollection",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","load",263],"(",")",";",["T_WHITESPACE","\n            ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_STRING","is_null",264],"(",["T_VARIABLE","$count",264],")",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n                ",264],["T_VARIABLE","$count",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$originalCollection",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getSize",265],"(",")",";",["T_WHITESPACE","\n                ",265],["T_VARIABLE","$lPage",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$originalCollection",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getLastPageNumber",266],"(",")",";",["T_WHITESPACE","\n            ",266],"}",["T_WHITESPACE","\n            ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$lPage",268],["T_WHITESPACE"," ",268],["T_IS_EQUAL","==",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$page",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                ",268],["T_VARIABLE","$break",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","true",269],";",["T_WHITESPACE","\n            ",269],"}",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$page",271],["T_INC","++",271],";",["T_WHITESPACE","\n\n            ",271],["T_VARIABLE","$collection",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_getRowCollection",273],"(",["T_VARIABLE","$originalCollection",273],")",";",["T_WHITESPACE","\n            ",273],["T_FOREACH","foreach",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$collection",274],["T_WHITESPACE"," ",274],["T_AS","as",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$item",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_STRING","call_user_func_array",275],"(","[",["T_VARIABLE","$this",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$callback",275],"]",",",["T_WHITESPACE"," ",275],["T_STRING","array_merge",275],"(","[",["T_VARIABLE","$item",275],"]",",",["T_WHITESPACE"," ",275],["T_VARIABLE","$args",275],")",")",";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Write item data to csv export file\n     *\n     * @param \\Magento\\Framework\\DataObject $item\n     * @param \\Magento\\Framework\\Filesystem\\File\\WriteInterface $stream\n     * @return void\n     *\/",280],["T_WHITESPACE","\n    ",286],["T_PROTECTED","protected",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","_exportCsvItem",287],"(",["T_NS_SEPARATOR","\\",287],["T_STRING","Magento",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Framework",287],["T_NS_SEPARATOR","\\",287],["T_STRING","DataObject",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$item",287],",",["T_WHITESPACE"," ",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Magento",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Framework",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Filesystem",287],["T_NS_SEPARATOR","\\",287],["T_STRING","File",287],["T_NS_SEPARATOR","\\",287],["T_STRING","WriteInterface",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$stream",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$row",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],"[","]",";",["T_WHITESPACE","\n        ",289],["T_FOREACH","foreach",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_getColumns",290],"(",")",["T_WHITESPACE"," ",290],["T_AS","as",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$column",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(","!",["T_VARIABLE","$column",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getIsSystem",291],"(",")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                ",291],["T_VARIABLE","$row",292],"[","]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$column",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getRowFieldExport",292],"(",["T_VARIABLE","$item",292],")",";",["T_WHITESPACE","\n            ",292],"}",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$stream",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","writeCsv",295],"(",["T_VARIABLE","$row",295],")",";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_DOC_COMMENT","\/**\n     * Retrieve a file container array by grid data as CSV\n     *\n     * Return array with keys type and value\n     *\n     * @return array\n     *\/",298],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","getCsvFile",305],"(",")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$name",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","md5",307],"(",["T_STRING","microtime",307],"(",")",")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$file",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_path",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'\/'",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_VARIABLE","$name",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'.csv'",308],";",["T_WHITESPACE","\n\n        ",308],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_directory",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","create",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_path",310],")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$stream",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_directory",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","openFile",311],"(",["T_VARIABLE","$file",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'w+'",311],")",";",["T_WHITESPACE","\n\n        ",311],["T_VARIABLE","$stream",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","writeCsv",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_getExportHeaders",313],"(",")",")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$stream",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","lock",314],"(",")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_exportIterateCollection",315],"(",["T_CONSTANT_ENCAPSED_STRING","'_exportCsvItem'",315],",",["T_WHITESPACE"," ",315],"[",["T_VARIABLE","$stream",315],"]",")",";",["T_WHITESPACE","\n        ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getCountTotals",316],"(",")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_VARIABLE","$stream",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","writeCsv",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_getExportTotals",317],"(",")",")",";",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$stream",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","unlock",319],"(",")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$stream",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","close",320],"(",")",";",["T_WHITESPACE","\n\n        ",320],["T_RETURN","return",322],["T_WHITESPACE"," ",322],"[",["T_WHITESPACE","\n            ",322],["T_CONSTANT_ENCAPSED_STRING","'type'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'filename'",323],",",["T_WHITESPACE","\n            ",323],["T_CONSTANT_ENCAPSED_STRING","'value'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$file",324],",",["T_WHITESPACE","\n            ",324],["T_CONSTANT_ENCAPSED_STRING","'rm'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_STRING","true",325],["T_WHITESPACE","  ",325],["T_COMMENT","\/\/ can delete file after use\n",325],["T_WHITESPACE","        ",326],"]",";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * Retrieve Grid data as CSV\n     *\n     * @return string\n     *\/",329],["T_WHITESPACE","\n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","getCsv",334],"(",")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$csv",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","''",336],";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$collection",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_getPreparedCollection",337],"(",")",";",["T_WHITESPACE","\n\n        ",337],["T_VARIABLE","$data",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],"[","]",";",["T_WHITESPACE","\n        ",339],["T_FOREACH","foreach",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_getColumns",340],"(",")",["T_WHITESPACE"," ",340],["T_AS","as",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$column",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(","!",["T_VARIABLE","$column",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getIsSystem",341],"(",")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$data",342],"[","]",["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'\"'",342],["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_VARIABLE","$column",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getExportHeader",342],"(",")",["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'\"'",342],";",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$csv",345],["T_WHITESPACE"," ",345],["T_CONCAT_EQUAL",".=",345],["T_WHITESPACE"," ",345],["T_STRING","implode",345],"(",["T_CONSTANT_ENCAPSED_STRING","','",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$data",345],")",["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",345],";",["T_WHITESPACE","\n\n        ",345],["T_FOREACH","foreach",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$collection",347],["T_WHITESPACE"," ",347],["T_AS","as",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$item",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_VARIABLE","$data",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],"[","]",";",["T_WHITESPACE","\n            ",348],["T_FOREACH","foreach",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_getColumns",349],"(",")",["T_WHITESPACE"," ",349],["T_AS","as",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$column",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(","!",["T_VARIABLE","$column",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getIsSystem",350],"(",")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                    ",350],["T_VARIABLE","$data",351],"[","]",["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'\"'",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_STRING","str_replace",351],"(",["T_WHITESPACE","\n                        ",351],"[",["T_CONSTANT_ENCAPSED_STRING","'\"'",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",352],"]",",",["T_WHITESPACE","\n                        ",352],"[",["T_CONSTANT_ENCAPSED_STRING","'\"\"'",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'\\\\\\\\'",353],"]",",",["T_WHITESPACE","\n                        ",353],["T_VARIABLE","$column",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getRowFieldExport",354],"(",["T_VARIABLE","$item",354],")",["T_WHITESPACE","\n                    ",354],")",["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'\"'",355],";",["T_WHITESPACE","\n                ",355],"}",["T_WHITESPACE","\n            ",356],"}",["T_WHITESPACE","\n            ",357],["T_VARIABLE","$csv",358],["T_WHITESPACE"," ",358],["T_CONCAT_EQUAL",".=",358],["T_WHITESPACE"," ",358],["T_STRING","implode",358],"(",["T_CONSTANT_ENCAPSED_STRING","','",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$data",358],")",["T_WHITESPACE"," ",358],".",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",358],";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n\n        ",359],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getCountTotals",361],"(",")",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n            ",361],["T_VARIABLE","$data",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],"[","]",";",["T_WHITESPACE","\n            ",362],["T_FOREACH","foreach",363],["T_WHITESPACE"," ",363],"(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_getColumns",363],"(",")",["T_WHITESPACE"," ",363],["T_AS","as",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$column",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n                ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(","!",["T_VARIABLE","$column",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getIsSystem",364],"(",")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n                    ",364],["T_VARIABLE","$data",365],"[","]",["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'\"'",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_STRING","str_replace",365],"(",["T_WHITESPACE","\n                        ",365],"[",["T_CONSTANT_ENCAPSED_STRING","'\"'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",366],"]",",",["T_WHITESPACE","\n                        ",366],"[",["T_CONSTANT_ENCAPSED_STRING","'\"\"'",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'\\\\\\\\'",367],"]",",",["T_WHITESPACE","\n                        ",367],["T_VARIABLE","$column",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getRowFieldExport",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_getTotals",368],"(",")",")",["T_WHITESPACE","\n                    ",368],")",["T_WHITESPACE"," ",369],".",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'\"'",369],";",["T_WHITESPACE","\n                ",369],"}",["T_WHITESPACE","\n            ",370],"}",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$csv",372],["T_WHITESPACE"," ",372],["T_CONCAT_EQUAL",".=",372],["T_WHITESPACE"," ",372],["T_STRING","implode",372],"(",["T_CONSTANT_ENCAPSED_STRING","','",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$data",372],")",["T_WHITESPACE"," ",372],".",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",372],";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n\n        ",373],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$csv",375],";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Retrieve data in xml\n     *\n     * @return string\n     *\/",378],["T_WHITESPACE","\n    ",382],["T_PUBLIC","public",383],["T_WHITESPACE"," ",383],["T_FUNCTION","function",383],["T_WHITESPACE"," ",383],["T_STRING","getXml",383],"(",")",["T_WHITESPACE","\n    ",383],"{",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$collection",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_getPreparedCollection",385],"(",")",";",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$indexes",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],"[","]",";",["T_WHITESPACE","\n        ",387],["T_FOREACH","foreach",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_getColumns",388],"(",")",["T_WHITESPACE"," ",388],["T_AS","as",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$column",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_IF","if",389],["T_WHITESPACE"," ",389],"(","!",["T_VARIABLE","$column",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getIsSystem",389],"(",")",")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n                ",389],["T_VARIABLE","$indexes",390],"[","]",["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$column",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getIndex",390],"(",")",";",["T_WHITESPACE","\n            ",390],"}",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$xml",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\" encoding=\"UTF-8\"?>'",393],";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$xml",394],["T_WHITESPACE"," ",394],["T_CONCAT_EQUAL",".=",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'<items>'",394],";",["T_WHITESPACE","\n        ",394],["T_FOREACH","foreach",395],["T_WHITESPACE"," ",395],"(",["T_VARIABLE","$collection",395],["T_WHITESPACE"," ",395],["T_AS","as",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$item",395],")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n            ",395],["T_VARIABLE","$xml",396],["T_WHITESPACE"," ",396],["T_CONCAT_EQUAL",".=",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$item",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","toXml",396],"(",["T_VARIABLE","$indexes",396],")",";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n        ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getCountTotals",398],"(",")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n            ",398],["T_VARIABLE","$xml",399],["T_WHITESPACE"," ",399],["T_CONCAT_EQUAL",".=",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_getTotals",399],"(",")",["T_OBJECT_OPERATOR","->",399],["T_STRING","toXml",399],"(",["T_VARIABLE","$indexes",399],")",";",["T_WHITESPACE","\n        ",399],"}",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$xml",401],["T_WHITESPACE"," ",401],["T_CONCAT_EQUAL",".=",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'<\/items>'",401],";",["T_WHITESPACE","\n        ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$xml",402],";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     *  Get a row data of the particular columns\n     *\n     * @param \\Magento\\Framework\\DataObject $data\n     * @return string[]\n     *\/",405],["T_WHITESPACE","\n    ",410],["T_PUBLIC","public",411],["T_WHITESPACE"," ",411],["T_FUNCTION","function",411],["T_WHITESPACE"," ",411],["T_STRING","getRowRecord",411],"(",["T_NS_SEPARATOR","\\",411],["T_STRING","Magento",411],["T_NS_SEPARATOR","\\",411],["T_STRING","Framework",411],["T_NS_SEPARATOR","\\",411],["T_STRING","DataObject",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$data",411],")",["T_WHITESPACE","\n    ",411],"{",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$row",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],"[","]",";",["T_WHITESPACE","\n        ",413],["T_FOREACH","foreach",414],["T_WHITESPACE"," ",414],"(",["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","_getColumns",414],"(",")",["T_WHITESPACE"," ",414],["T_AS","as",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$column",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n            ",414],["T_IF","if",415],["T_WHITESPACE"," ",415],"(","!",["T_VARIABLE","$column",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getIsSystem",415],"(",")",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n                ",415],["T_VARIABLE","$row",416],"[","]",["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$column",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getRowFieldExport",416],"(",["T_VARIABLE","$data",416],")",";",["T_WHITESPACE","\n            ",416],"}",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n        ",418],["T_RETURN","return",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$row",419],";",["T_WHITESPACE","\n    ",419],"}",["T_WHITESPACE","\n\n    ",420],["T_DOC_COMMENT","\/**\n     * Retrieve a file container array by grid data as MS Excel 2003 XML Document\n     *\n     * Return array with keys type and value\n     *\n     * @param string $sheetName\n     * @return array\n     *\/",422],["T_WHITESPACE","\n    ",429],["T_PUBLIC","public",430],["T_WHITESPACE"," ",430],["T_FUNCTION","function",430],["T_WHITESPACE"," ",430],["T_STRING","getExcelFile",430],"(",["T_VARIABLE","$sheetName",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","''",430],")",["T_WHITESPACE","\n    ",430],"{",["T_WHITESPACE","\n        ",431],["T_VARIABLE","$collection",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_getRowCollection",432],"(",")",";",["T_WHITESPACE","\n\n        ",432],["T_VARIABLE","$convert",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_NEW","new",434],["T_WHITESPACE"," ",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Magento",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Framework",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Convert",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Excel",434],"(",["T_VARIABLE","$collection",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getIterator",434],"(",")",",",["T_WHITESPACE"," ",434],"[",["T_VARIABLE","$this",434],",",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'getRowRecord'",434],"]",")",";",["T_WHITESPACE","\n\n        ",434],["T_VARIABLE","$name",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_STRING","md5",436],"(",["T_STRING","microtime",436],"(",")",")",";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$file",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","_path",437],["T_WHITESPACE"," ",437],".",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'\/'",437],["T_WHITESPACE"," ",437],".",["T_WHITESPACE"," ",437],["T_VARIABLE","$name",437],["T_WHITESPACE"," ",437],".",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'.xml'",437],";",["T_WHITESPACE","\n\n        ",437],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_directory",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","create",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_path",439],")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$stream",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_directory",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","openFile",440],"(",["T_VARIABLE","$file",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'w+'",440],")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$stream",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","lock",441],"(",")",";",["T_WHITESPACE","\n\n        ",441],["T_VARIABLE","$convert",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","setDataHeader",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_getExportHeaders",443],"(",")",")",";",["T_WHITESPACE","\n        ",443],["T_IF","if",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getCountTotals",444],"(",")",")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$convert",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","setDataFooter",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_getExportTotals",445],"(",")",")",";",["T_WHITESPACE","\n        ",445],"}",["T_WHITESPACE","\n\n        ",446],["T_VARIABLE","$convert",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","write",448],"(",["T_VARIABLE","$stream",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$sheetName",448],")",";",["T_WHITESPACE","\n        ",448],["T_VARIABLE","$stream",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","unlock",449],"(",")",";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$stream",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","close",450],"(",")",";",["T_WHITESPACE","\n\n        ",450],["T_RETURN","return",452],["T_WHITESPACE"," ",452],"[",["T_WHITESPACE","\n            ",452],["T_CONSTANT_ENCAPSED_STRING","'type'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","'filename'",453],",",["T_WHITESPACE","\n            ",453],["T_CONSTANT_ENCAPSED_STRING","'value'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$file",454],",",["T_WHITESPACE","\n            ",454],["T_CONSTANT_ENCAPSED_STRING","'rm'",455],["T_WHITESPACE"," ",455],["T_DOUBLE_ARROW","=>",455],["T_WHITESPACE"," ",455],["T_STRING","true",455],["T_WHITESPACE","  ",455],["T_COMMENT","\/\/ can delete file after use\n",455],["T_WHITESPACE","        ",456],"]",";",["T_WHITESPACE","\n    ",456],"}",["T_WHITESPACE","\n\n    ",457],["T_DOC_COMMENT","\/**\n     * Retrieve grid data as MS Excel 2003 XML Document\n     *\n     * @return string\n     *\/",459],["T_WHITESPACE","\n    ",463],["T_PUBLIC","public",464],["T_WHITESPACE"," ",464],["T_FUNCTION","function",464],["T_WHITESPACE"," ",464],["T_STRING","getExcel",464],"(",")",["T_WHITESPACE","\n    ",464],"{",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$collection",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","_getPreparedCollection",466],"(",")",";",["T_WHITESPACE","\n\n        ",466],["T_VARIABLE","$headers",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],"[","]",";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$data",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],"[","]",";",["T_WHITESPACE","\n        ",469],["T_FOREACH","foreach",470],["T_WHITESPACE"," ",470],"(",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_getColumns",470],"(",")",["T_WHITESPACE"," ",470],["T_AS","as",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$column",470],")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n            ",470],["T_IF","if",471],["T_WHITESPACE"," ",471],"(","!",["T_VARIABLE","$column",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getIsSystem",471],"(",")",")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n                ",471],["T_VARIABLE","$headers",472],"[","]",["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$column",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getHeader",472],"(",")",";",["T_WHITESPACE","\n            ",472],"}",["T_WHITESPACE","\n        ",473],"}",["T_WHITESPACE","\n        ",474],["T_VARIABLE","$data",475],"[","]",["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$headers",475],";",["T_WHITESPACE","\n\n        ",475],["T_FOREACH","foreach",477],["T_WHITESPACE"," ",477],"(",["T_VARIABLE","$collection",477],["T_WHITESPACE"," ",477],["T_AS","as",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$item",477],")",["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n            ",477],["T_VARIABLE","$row",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],"[","]",";",["T_WHITESPACE","\n            ",478],["T_FOREACH","foreach",479],["T_WHITESPACE"," ",479],"(",["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_getColumns",479],"(",")",["T_WHITESPACE"," ",479],["T_AS","as",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$column",479],")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n                ",479],["T_IF","if",480],["T_WHITESPACE"," ",480],"(","!",["T_VARIABLE","$column",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getIsSystem",480],"(",")",")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n                    ",480],["T_VARIABLE","$row",481],"[","]",["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$column",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","getRowField",481],"(",["T_VARIABLE","$item",481],")",";",["T_WHITESPACE","\n                ",481],"}",["T_WHITESPACE","\n            ",482],"}",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$data",484],"[","]",["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$row",484],";",["T_WHITESPACE","\n        ",484],"}",["T_WHITESPACE","\n\n        ",485],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","getCountTotals",487],"(",")",")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_VARIABLE","$row",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],"[","]",";",["T_WHITESPACE","\n            ",488],["T_FOREACH","foreach",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_getColumns",489],"(",")",["T_WHITESPACE"," ",489],["T_AS","as",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$column",489],")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n                ",489],["T_IF","if",490],["T_WHITESPACE"," ",490],"(","!",["T_VARIABLE","$column",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getIsSystem",490],"(",")",")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                    ",490],["T_VARIABLE","$row",491],"[","]",["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$column",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getRowField",491],"(",["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_getTotals",491],"(",")",")",";",["T_WHITESPACE","\n                ",491],"}",["T_WHITESPACE","\n            ",492],"}",["T_WHITESPACE","\n            ",493],["T_VARIABLE","$data",494],"[","]",["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$row",494],";",["T_WHITESPACE","\n        ",494],"}",["T_WHITESPACE","\n\n        ",495],["T_VARIABLE","$convert",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_NEW","new",497],["T_WHITESPACE"," ",497],["T_NS_SEPARATOR","\\",497],["T_STRING","Magento",497],["T_NS_SEPARATOR","\\",497],["T_STRING","Framework",497],["T_NS_SEPARATOR","\\",497],["T_STRING","Convert",497],["T_NS_SEPARATOR","\\",497],["T_STRING","Excel",497],"(",["T_NEW","new",497],["T_WHITESPACE"," ",497],["T_NS_SEPARATOR","\\",497],["T_STRING","ArrayIterator",497],"(",["T_VARIABLE","$data",497],")",")",";",["T_WHITESPACE","\n        ",497],["T_RETURN","return",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$convert",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","convert",498],"(",["T_CONSTANT_ENCAPSED_STRING","'single_sheet'",498],")",";",["T_WHITESPACE","\n    ",498],"}",["T_WHITESPACE","\n\n    ",499],["T_DOC_COMMENT","\/**\n     * Reformat base collection into collection without sub-collection in items\n     *\n     * @param \\Magento\\Framework\\Data\\Collection $baseCollection\n     * @return \\Magento\\Framework\\Data\\Collection\n     *\/",501],["T_WHITESPACE","\n    ",506],["T_PROTECTED","protected",507],["T_WHITESPACE"," ",507],["T_FUNCTION","function",507],["T_WHITESPACE"," ",507],["T_STRING","_getRowCollection",507],"(",["T_NS_SEPARATOR","\\",507],["T_STRING","Magento",507],["T_NS_SEPARATOR","\\",507],["T_STRING","Framework",507],["T_NS_SEPARATOR","\\",507],["T_STRING","Data",507],["T_NS_SEPARATOR","\\",507],["T_STRING","Collection",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$baseCollection",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_STRING","null",507],")",["T_WHITESPACE","\n    ",507],"{",["T_WHITESPACE","\n        ",508],["T_IF","if",509],["T_WHITESPACE"," ",509],"(",["T_STRING","null",509],["T_WHITESPACE"," ",509],["T_IS_IDENTICAL","===",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$baseCollection",509],")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n            ",509],["T_VARIABLE","$baseCollection",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getParentBlock",510],"(",")",["T_OBJECT_OPERATOR","->",510],["T_STRING","getPreparedCollection",510],"(",")",";",["T_WHITESPACE","\n        ",510],"}",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$collection",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","_collectionFactory",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","create",512],"(",")",";",["T_WHITESPACE","\n\n        ",512],["T_DOC_COMMENT","\/** @var $item \\Magento\\Framework\\DataObject *\/",514],["T_WHITESPACE","\n        ",514],["T_FOREACH","foreach",515],["T_WHITESPACE"," ",515],"(",["T_VARIABLE","$baseCollection",515],["T_WHITESPACE"," ",515],["T_AS","as",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$item",515],")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n            ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$item",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getIsEmpty",516],"(",")",")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n                ",516],["T_CONTINUE","continue",517],";",["T_WHITESPACE","\n            ",517],"}",["T_WHITESPACE","\n            ",518],["T_IF","if",519],["T_WHITESPACE"," ",519],"(",["T_VARIABLE","$item",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","hasChildren",519],"(",")",["T_WHITESPACE"," ",519],["T_BOOLEAN_AND","&&",519],["T_WHITESPACE"," ",519],["T_STRING","count",519],"(",["T_VARIABLE","$item",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getChildren",519],"(",")",")",["T_WHITESPACE"," ",519],">",["T_WHITESPACE"," ",519],["T_LNUMBER","0",519],")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n                ",519],["T_DOC_COMMENT","\/** @var $subItem \\Magento\\Framework\\DataObject *\/",520],["T_WHITESPACE","\n                ",520],["T_FOREACH","foreach",521],["T_WHITESPACE"," ",521],"(",["T_VARIABLE","$item",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","getChildren",521],"(",")",["T_WHITESPACE"," ",521],["T_AS","as",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$subItem",521],")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n                    ",521],["T_VARIABLE","$tmpItem",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_CLONE","clone",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$item",522],";",["T_WHITESPACE","\n                    ",522],["T_VARIABLE","$tmpItem",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","unsChildren",523],"(",")",";",["T_WHITESPACE","\n                    ",523],["T_VARIABLE","$tmpItem",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","addData",524],"(",["T_VARIABLE","$subItem",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getData",524],"(",")",")",";",["T_WHITESPACE","\n                    ",524],["T_VARIABLE","$collection",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","addItem",525],"(",["T_VARIABLE","$tmpItem",525],")",";",["T_WHITESPACE","\n                ",525],"}",["T_WHITESPACE","\n            ",526],"}",["T_WHITESPACE"," ",527],["T_ELSE","else",527],["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n                ",527],["T_VARIABLE","$collection",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","addItem",528],"(",["T_VARIABLE","$item",528],")",";",["T_WHITESPACE","\n            ",528],"}",["T_WHITESPACE","\n        ",529],"}",["T_WHITESPACE","\n\n        ",530],["T_RETURN","return",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$collection",532],";",["T_WHITESPACE","\n    ",532],"}",["T_WHITESPACE","\n\n    ",533],["T_DOC_COMMENT","\/**\n     * Return prepared collection as row collection with additional conditions\n     *\n     * @return \\Magento\\Framework\\Data\\Collection\n     *\/",535],["T_WHITESPACE","\n    ",539],["T_PUBLIC","public",540],["T_WHITESPACE"," ",540],["T_FUNCTION","function",540],["T_WHITESPACE"," ",540],["T_STRING","_getPreparedCollection",540],"(",")",["T_WHITESPACE","\n    ",540],"{",["T_WHITESPACE","\n        ",541],["T_DOC_COMMENT","\/** @var $collection \\Magento\\Framework\\Data\\Collection *\/",542],["T_WHITESPACE","\n        ",542],["T_VARIABLE","$collection",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","getParentBlock",543],"(",")",["T_OBJECT_OPERATOR","->",543],["T_STRING","getPreparedCollection",543],"(",")",";",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$collection",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","setPageSize",544],"(",["T_LNUMBER","0",544],")",";",["T_WHITESPACE","\n        ",544],["T_VARIABLE","$collection",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","load",545],"(",")",";",["T_WHITESPACE","\n\n        ",545],["T_RETURN","return",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","_getRowCollection",547],"(",["T_VARIABLE","$collection",547],")",";",["T_WHITESPACE","\n    ",547],"}",["T_WHITESPACE","\n\n    ",548],["T_DOC_COMMENT","\/**\n     * @return int\n     *\/",550],["T_WHITESPACE","\n    ",552],["T_PUBLIC","public",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","getExportPageSize",553],"(",")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","_exportPageSize",555],";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n",556],"}",["T_WHITESPACE","\n",557]]