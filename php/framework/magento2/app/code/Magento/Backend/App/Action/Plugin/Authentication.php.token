[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Backend",6],["T_NS_SEPARATOR","\\",6],["T_STRING","App",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Action",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AuthenticationException",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Authentication",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Auth\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_auth",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var string[]\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_openActions",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[",["T_WHITESPACE","\n        ",23],["T_CONSTANT_ENCAPSED_STRING","'forgotpassword'",24],",",["T_WHITESPACE","\n        ",24],["T_CONSTANT_ENCAPSED_STRING","'resetpassword'",25],",",["T_WHITESPACE","\n        ",25],["T_CONSTANT_ENCAPSED_STRING","'resetpasswordpost'",26],",",["T_WHITESPACE","\n        ",26],["T_CONSTANT_ENCAPSED_STRING","'logout'",27],",",["T_WHITESPACE","\n        ",27],["T_CONSTANT_ENCAPSED_STRING","'refresh'",28],",",["T_WHITESPACE"," ",28],["T_COMMENT","\/\/ captcha refresh\n",28],["T_WHITESPACE","    ",29],"]",";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\UrlInterface\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_url",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResponseInterface\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_response",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ActionFlag\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_actionFlag",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Message\\ManagerInterface\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$messageManager",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\UrlInterface\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$backendUrl",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\App\\BackendAppList\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$backendAppList",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Controller\\Result\\RedirectFactory\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$resultRedirectFactory",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Data\\Form\\FormKey\\Validator\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$formKeyValidator",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Model\\Auth $auth\n     * @param \\Magento\\Backend\\Model\\UrlInterface $url\n     * @param \\Magento\\Framework\\App\\ResponseInterface $response\n     * @param \\Magento\\Framework\\App\\ActionFlag $actionFlag\n     * @param \\Magento\\Framework\\Message\\ManagerInterface $messageManager\n     * @param \\Magento\\Backend\\Model\\UrlInterface $backendUrl\n     * @param \\Magento\\Framework\\Controller\\Result\\RedirectFactory $resultRedirectFactory\n     * @param \\Magento\\Backend\\App\\BackendAppList $backendAppList\n     * @param \\Magento\\Framework\\Data\\Form\\FormKey\\Validator $formKeyValidator\n     *\/",71],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","__construct",82],"(",["T_WHITESPACE","\n        ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Backend",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Model",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Auth",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$auth",83],",",["T_WHITESPACE","\n        ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Backend",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Model",84],["T_NS_SEPARATOR","\\",84],["T_STRING","UrlInterface",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$url",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Framework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","App",85],["T_NS_SEPARATOR","\\",85],["T_STRING","ResponseInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$response",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","App",86],["T_NS_SEPARATOR","\\",86],["T_STRING","ActionFlag",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$actionFlag",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Message",87],["T_NS_SEPARATOR","\\",87],["T_STRING","ManagerInterface",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$messageManager",87],",",["T_WHITESPACE","\n        ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Backend",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","UrlInterface",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$backendUrl",88],",",["T_WHITESPACE","\n        ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Framework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Controller",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Result",89],["T_NS_SEPARATOR","\\",89],["T_STRING","RedirectFactory",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$resultRedirectFactory",89],",",["T_WHITESPACE","\n        ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Backend",90],["T_NS_SEPARATOR","\\",90],["T_STRING","App",90],["T_NS_SEPARATOR","\\",90],["T_STRING","BackendAppList",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$backendAppList",90],",",["T_WHITESPACE","\n        ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Data",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Form",91],["T_NS_SEPARATOR","\\",91],["T_STRING","FormKey",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Validator",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$formKeyValidator",91],["T_WHITESPACE","\n    ",91],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_auth",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$auth",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_url",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$url",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_response",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$response",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_actionFlag",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$actionFlag",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","messageManager",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$messageManager",97],";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","backendUrl",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$backendUrl",98],";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","resultRedirectFactory",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$resultRedirectFactory",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","backendAppList",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$backendAppList",100],";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","formKeyValidator",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$formKeyValidator",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\App\\AbstractAction $subject\n     * @param \\Closure $proceed\n     * @param \\Magento\\Framework\\App\\RequestInterface $request\n     *\n     * @return mixed\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",104],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","aroundDispatch",112],"(",["T_WHITESPACE","\n        ",112],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Backend",113],["T_NS_SEPARATOR","\\",113],["T_STRING","App",113],["T_NS_SEPARATOR","\\",113],["T_STRING","AbstractAction",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$subject",113],",",["T_WHITESPACE","\n        ",113],["T_NS_SEPARATOR","\\",114],["T_STRING","Closure",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$proceed",114],",",["T_WHITESPACE","\n        ",114],["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Framework",115],["T_NS_SEPARATOR","\\",115],["T_STRING","App",115],["T_NS_SEPARATOR","\\",115],["T_STRING","RequestInterface",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$request",115],["T_WHITESPACE","\n    ",115],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$requestedActionName",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$request",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getActionName",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_STRING","in_array",118],"(",["T_VARIABLE","$requestedActionName",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_openActions",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$request",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setDispatched",119],"(",["T_STRING","true",119],")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE"," ",120],["T_ELSE","else",120],["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_auth",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getUser",121],"(",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_auth",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getUser",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","reload",122],"(",")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE","\n            ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_auth",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","isLoggedIn",124],"(",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_processNotLoggedInUser",125],"(",["T_VARIABLE","$request",125],")",";",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE"," ",126],["T_ELSE","else",126],["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_auth",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getAuthStorage",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","prolong",127],"(",")",";",["T_WHITESPACE","\n\n                ",127],["T_VARIABLE","$backendApp",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","null",129],";",["T_WHITESPACE","\n                ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$request",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getParam",130],"(",["T_CONSTANT_ENCAPSED_STRING","'app'",130],")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                    ",130],["T_VARIABLE","$backendApp",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","backendAppList",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getCurrentApp",131],"(",")",";",["T_WHITESPACE","\n                ",131],"}",["T_WHITESPACE","\n\n                ",132],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$backendApp",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                    ",134],["T_VARIABLE","$resultRedirect",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","resultRedirectFactory",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","create",135],"(",")",";",["T_WHITESPACE","\n                    ",135],["T_VARIABLE","$baseUrl",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","App",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Request",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Http",136],["T_DOUBLE_COLON","::",136],["T_STRING","getUrlNoScript",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","backendUrl",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getBaseUrl",136],"(",")",")",";",["T_WHITESPACE","\n                    ",136],["T_VARIABLE","$baseUrl",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$baseUrl",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$backendApp",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getStartupPage",137],"(",")",";",["T_WHITESPACE","\n                    ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$resultRedirect",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setUrl",138],"(",["T_VARIABLE","$baseUrl",138],")",";",["T_WHITESPACE","\n                ",138],"}",["T_WHITESPACE","\n            ",139],"}",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_auth",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getAuthStorage",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","refreshAcl",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$proceed",143],"(",["T_VARIABLE","$request",143],")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Process not logged in user data\n     *\n     * @param \\Magento\\Framework\\App\\RequestInterface $request\n     * @return void\n     *\/",146],["T_WHITESPACE","\n    ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","_processNotLoggedInUser",152],"(",["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Framework",152],["T_NS_SEPARATOR","\\",152],["T_STRING","App",152],["T_NS_SEPARATOR","\\",152],["T_STRING","RequestInterface",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$request",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$isRedirectNeeded",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","false",154],";",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$request",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getPost",155],"(",["T_CONSTANT_ENCAPSED_STRING","'login'",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","formKeyValidator",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","validate",156],"(",["T_VARIABLE","$request",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_performLogin",157],"(",["T_VARIABLE","$request",157],")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                    ",157],["T_VARIABLE","$isRedirectNeeded",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_redirectIfNeededAfterLogin",158],"(",["T_VARIABLE","$request",158],")",";",["T_WHITESPACE","\n                ",158],"}",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE"," ",160],["T_ELSE","else",160],["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_actionFlag",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","set",161],"(",["T_CONSTANT_ENCAPSED_STRING","''",161],",",["T_WHITESPACE"," ",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Framework",161],["T_NS_SEPARATOR","\\",161],["T_STRING","App",161],["T_NS_SEPARATOR","\\",161],["T_STRING","ActionInterface",161],["T_DOUBLE_COLON","::",161],["T_STRING","FLAG_NO_DISPATCH",161],",",["T_WHITESPACE"," ",161],["T_STRING","true",161],")",";",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_response",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","setRedirect",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_url",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getCurrentUrl",162],"(",")",")",";",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","messageManager",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","addError",163],"(",["T_STRING","__",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Form Key. Please refresh the page.'",163],")",")",";",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$isRedirectNeeded",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","true",164],";",["T_WHITESPACE","\n            ",164],"}",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_VARIABLE","$isRedirectNeeded",167],["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],"!",["T_VARIABLE","$request",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","isForwarded",167],"(",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$request",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getParam",168],"(",["T_CONSTANT_ENCAPSED_STRING","'isIframe'",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$request",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setForwarded",169],"(",["T_STRING","true",169],")",["T_WHITESPACE","\n                    ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","setRouteName",170],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",170],")",["T_WHITESPACE","\n                    ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","setControllerName",171],"(",["T_CONSTANT_ENCAPSED_STRING","'auth'",171],")",["T_WHITESPACE","\n                    ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","setActionName",172],"(",["T_CONSTANT_ENCAPSED_STRING","'deniedIframe'",172],")",["T_WHITESPACE","\n                    ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","setDispatched",173],"(",["T_STRING","false",173],")",";",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE"," ",174],["T_ELSEIF","elseif",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$request",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getParam",174],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_VARIABLE","$request",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setForwarded",175],"(",["T_STRING","true",175],")",["T_WHITESPACE","\n                    ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","setRouteName",176],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",176],")",["T_WHITESPACE","\n                    ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","setControllerName",177],"(",["T_CONSTANT_ENCAPSED_STRING","'auth'",177],")",["T_WHITESPACE","\n                    ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","setActionName",178],"(",["T_CONSTANT_ENCAPSED_STRING","'deniedJson'",178],")",["T_WHITESPACE","\n                    ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","setDispatched",179],"(",["T_STRING","false",179],")",";",["T_WHITESPACE","\n            ",179],"}",["T_WHITESPACE"," ",180],["T_ELSE","else",180],["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$request",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setForwarded",181],"(",["T_STRING","true",181],")",["T_WHITESPACE","\n                    ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","setRouteName",182],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",182],")",["T_WHITESPACE","\n                    ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","setControllerName",183],"(",["T_CONSTANT_ENCAPSED_STRING","'auth'",183],")",["T_WHITESPACE","\n                    ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","setActionName",184],"(",["T_CONSTANT_ENCAPSED_STRING","'login'",184],")",["T_WHITESPACE","\n                    ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","setDispatched",185],"(",["T_STRING","false",185],")",";",["T_WHITESPACE","\n            ",185],"}",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Performs login, if user submitted login form\n     *\n     * @param \\Magento\\Framework\\App\\RequestInterface $request\n     * @return bool\n     *\/",190],["T_WHITESPACE","\n    ",195],["T_PROTECTED","protected",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","_performLogin",196],"(",["T_NS_SEPARATOR","\\",196],["T_STRING","Magento",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Framework",196],["T_NS_SEPARATOR","\\",196],["T_STRING","App",196],["T_NS_SEPARATOR","\\",196],["T_STRING","RequestInterface",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$request",196],")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$outputValue",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","true",198],";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$postLogin",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$request",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getPost",199],"(",["T_CONSTANT_ENCAPSED_STRING","'login'",199],")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$username",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_ISSET","isset",200],"(",["T_VARIABLE","$postLogin",200],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",200],"]",")",["T_WHITESPACE"," ",200],"?",["T_WHITESPACE"," ",200],["T_VARIABLE","$postLogin",200],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",200],"]",["T_WHITESPACE"," ",200],":",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","''",200],";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$password",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_ISSET","isset",201],"(",["T_VARIABLE","$postLogin",201],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",201],"]",")",["T_WHITESPACE"," ",201],"?",["T_WHITESPACE"," ",201],["T_VARIABLE","$postLogin",201],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",201],"]",["T_WHITESPACE"," ",201],":",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","''",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$request",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","setPostValue",202],"(",["T_CONSTANT_ENCAPSED_STRING","'login'",202],",",["T_WHITESPACE"," ",202],["T_STRING","null",202],")",";",["T_WHITESPACE","\n\n        ",202],["T_TRY","try",204],["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_auth",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","login",205],"(",["T_VARIABLE","$username",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$password",205],")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE"," ",206],["T_CATCH","catch",206],["T_WHITESPACE"," ",206],"(",["T_STRING","AuthenticationException",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$e",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_VARIABLE","$request",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getParam",207],"(",["T_CONSTANT_ENCAPSED_STRING","'messageSent'",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","messageManager",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","addError",208],"(",["T_VARIABLE","$e",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getMessage",208],"(",")",")",";",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$request",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","setParam",209],"(",["T_CONSTANT_ENCAPSED_STRING","'messageSent'",209],",",["T_WHITESPACE"," ",209],["T_STRING","true",209],")",";",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$outputValue",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","false",210],";",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n        ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$outputValue",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Checks, whether Magento requires redirection after successful admin login, and redirects user, if needed\n     *\n     * @param \\Magento\\Framework\\App\\RequestInterface $request\n     * @return bool\n     *\/",216],["T_WHITESPACE","\n    ",221],["T_PROTECTED","protected",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","_redirectIfNeededAfterLogin",222],"(",["T_NS_SEPARATOR","\\",222],["T_STRING","Magento",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Framework",222],["T_NS_SEPARATOR","\\",222],["T_STRING","App",222],["T_NS_SEPARATOR","\\",222],["T_STRING","RequestInterface",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$request",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$requestUri",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","null",224],";",["T_WHITESPACE","\n\n        ",224],["T_COMMENT","\/\/ Checks, whether secret key is required for admin access or request uri is explicitly set\n",226],["T_WHITESPACE","        ",227],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_url",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","useSecretKey",227],"(",")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$requestUri",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_url",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getUrl",228],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/*'",228],",",["T_WHITESPACE"," ",228],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_STRING","true",228],"]",")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE"," ",229],["T_ELSEIF","elseif",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$request",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$requestUri",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$request",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getRequestUri",230],"(",")",";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE","\n\n        ",231],["T_IF","if",233],["T_WHITESPACE"," ",233],"(","!",["T_VARIABLE","$requestUri",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_STRING","false",234],";",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n\n        ",235],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_response",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","setRedirect",237],"(",["T_VARIABLE","$requestUri",237],")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_actionFlag",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","set",238],"(",["T_CONSTANT_ENCAPSED_STRING","''",238],",",["T_WHITESPACE"," ",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Magento",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Framework",238],["T_NS_SEPARATOR","\\",238],["T_STRING","App",238],["T_NS_SEPARATOR","\\",238],["T_STRING","ActionInterface",238],["T_DOUBLE_COLON","::",238],["T_STRING","FLAG_NO_DISPATCH",238],",",["T_WHITESPACE"," ",238],["T_STRING","true",238],")",";",["T_WHITESPACE","\n        ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_STRING","true",239],";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n",240],"}",["T_WHITESPACE","\n",241]]