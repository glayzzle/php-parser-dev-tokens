[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","CatalogRuleRepositoryTest",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PHPUnit_Framework_TestCase",9],["T_WHITESPACE","\n",9],"{",["T_WHITESPACE","\n    ",10],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogRule\\Model\\CatalogRuleRepository\n     *\/",11],["T_WHITESPACE","\n    ",13],["T_PROTECTED","protected",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$repository",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$ruleResourceMock",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$ruleFactoryMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$ruleMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","ruleResourceMock",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getMock",33],"(",["T_WHITESPACE","\n            ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","CatalogRule",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","ResourceModel",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Rule",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],",",["T_WHITESPACE","\n            ",34],"[","]",",",["T_WHITESPACE","\n            ",35],"[","]",",",["T_WHITESPACE","\n            ",36],["T_CONSTANT_ENCAPSED_STRING","''",37],",",["T_WHITESPACE","\n            ",37],["T_STRING","false",38],["T_WHITESPACE","\n        ",38],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","ruleFactoryMock",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getMock",40],"(",["T_WHITESPACE","\n            ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","CatalogRule",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Model",41],["T_NS_SEPARATOR","\\",41],["T_STRING","RuleFactory",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],",",["T_WHITESPACE","\n            ",41],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",42],"]",",",["T_WHITESPACE","\n            ",42],"[","]",",",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","''",44],",",["T_WHITESPACE","\n            ",44],["T_STRING","false",45],["T_WHITESPACE","\n        ",45],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","ruleMock",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMock",47],"(",["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","CatalogRule",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Model",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Rule",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],",",["T_WHITESPACE"," ",47],"[","]",",",["T_WHITESPACE"," ",47],"[","]",",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","''",47],",",["T_WHITESPACE"," ",47],["T_STRING","false",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","repository",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","CatalogRule",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","CatalogRuleRepository",48],"(",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","ruleResourceMock",49],",",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","ruleFactoryMock",50],["T_WHITESPACE","\n        ",50],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","testSave",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","ruleMock",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","expects",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","once",56],"(",")",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","method",56],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","willReturn",56],"(",["T_STRING","null",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","ruleMock",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","expects",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","once",57],"(",")",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","method",57],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","willReturn",57],"(",["T_LNUMBER","1",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","ruleResourceMock",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","expects",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","once",58],"(",")",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","method",58],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","with",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","ruleMock",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEquals",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","ruleMock",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","repository",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","save",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","ruleMock",59],")",")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","testEditRule",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$ruleId",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_LNUMBER","1",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$ruleData",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$ruleId",65],"]",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","ruleMock",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","expects",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","once",66],"(",")",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","method",66],"(",["T_CONSTANT_ENCAPSED_STRING","'getData'",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","willReturn",66],"(",["T_VARIABLE","$ruleData",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$ruleMock",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMock",67],"(",["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","CatalogRule",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Model",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Rule",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],",",["T_WHITESPACE"," ",67],"[","]",",",["T_WHITESPACE"," ",67],"[","]",",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","''",67],",",["T_WHITESPACE"," ",67],["T_STRING","false",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","ruleMock",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","expects",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","exactly",68],"(",["T_LNUMBER","2",68],")",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","method",68],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","willReturn",68],"(",["T_VARIABLE","$ruleId",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$ruleMock",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","expects",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","once",69],"(",")",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","method",69],"(",["T_CONSTANT_ENCAPSED_STRING","'addData'",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","with",69],"(",["T_VARIABLE","$ruleData",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","willReturn",69],"(",["T_VARIABLE","$ruleMock",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","ruleFactoryMock",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","once",70],"(",")",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","method",70],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","willReturn",70],"(",["T_VARIABLE","$ruleMock",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$ruleMock",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","expects",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","once",71],"(",")",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","method",71],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","with",71],"(",["T_VARIABLE","$ruleId",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","willReturn",71],"(",["T_VARIABLE","$ruleMock",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$ruleMock",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","expects",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","once",72],"(",")",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","method",72],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",72],")",["T_OBJECT_OPERATOR","->",72],["T_STRING","willReturn",72],"(",["T_VARIABLE","$ruleId",72],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","ruleResourceMock",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","expects",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","once",73],"(",")",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","method",73],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","with",73],"(",["T_VARIABLE","$ruleMock",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","willReturn",73],"(",["T_VARIABLE","$ruleMock",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$ruleMock",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","expects",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","once",74],"(",")",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","willReturn",74],"(",["T_VARIABLE","$ruleId",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEquals",75],"(",["T_VARIABLE","$ruleMock",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","repository",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","save",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","ruleMock",75],")",")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\CouldNotSaveException\n     * @expectedExceptionMessage Unable to save rule 1\n     *\/",78],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testEnableSaveRule",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","ruleMock",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","expects",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","at",84],"(",["T_LNUMBER","0",84],")",")",["T_OBJECT_OPERATOR","->",84],["T_STRING","method",84],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",84],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","willReturn",84],"(",["T_STRING","null",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","ruleMock",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","expects",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","at",85],"(",["T_LNUMBER","1",85],")",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","method",85],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","willReturn",85],"(",["T_LNUMBER","1",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","ruleMock",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","expects",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","never",86],"(",")",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","method",86],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","ruleResourceMock",87],["T_WHITESPACE","\n            ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","expects",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","once",88],"(",")",")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","method",89],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",89],")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","with",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","ruleMock",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","willThrowException",90],"(",["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Exception",90],"(",")",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","repository",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","save",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","ruleMock",91],")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","testDeleteRule",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","ruleMock",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","expects",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","once",96],"(",")",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","method",96],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",96],")",["T_OBJECT_OPERATOR","->",96],["T_STRING","willReturn",96],"(",["T_LNUMBER","1",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","ruleResourceMock",97],["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","expects",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","once",98],"(",")",")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","method",99],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",99],")",["T_WHITESPACE","\n            ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","with",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","ruleMock",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEquals",101],"(",["T_STRING","true",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","repository",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","delete",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","ruleMock",101],")",")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","testDeleteRuleById",104],"(",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$ruleId",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_LNUMBER","1",106],";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$ruleMock",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMock",107],"(",["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","CatalogRule",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Model",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Rule",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],",",["T_WHITESPACE"," ",107],"[","]",",",["T_WHITESPACE"," ",107],"[","]",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","''",107],",",["T_WHITESPACE"," ",107],["T_STRING","false",107],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","ruleFactoryMock",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","expects",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","once",108],"(",")",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","method",108],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",108],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","willReturn",108],"(",["T_VARIABLE","$ruleMock",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$ruleMock",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","expects",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","once",109],"(",")",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","method",109],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",109],")",["T_OBJECT_OPERATOR","->",109],["T_STRING","willReturn",109],"(",["T_VARIABLE","$ruleId",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$ruleMock",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","expects",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","once",110],"(",")",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","method",110],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",110],")",["T_OBJECT_OPERATOR","->",110],["T_STRING","with",110],"(",["T_VARIABLE","$ruleId",110],")",["T_OBJECT_OPERATOR","->",110],["T_STRING","willReturn",110],"(",["T_VARIABLE","$ruleMock",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$ruleMock",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","expects",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","once",111],"(",")",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","method",111],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",111],")",["T_OBJECT_OPERATOR","->",111],["T_STRING","willReturn",111],"(",["T_VARIABLE","$ruleId",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","ruleResourceMock",112],["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","expects",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","once",113],"(",")",")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","method",114],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",114],")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","with",115],"(",["T_VARIABLE","$ruleMock",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertEquals",116],"(",["T_STRING","true",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","repository",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","deleteById",116],"(",["T_VARIABLE","$ruleId",116],")",")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\CouldNotDeleteException\n     * @expectedExceptionMessage Unable to remove rule 1\n     *\/",119],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","testUnableDeleteRule",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","ruleMock",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","expects",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","once",125],"(",")",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","method",125],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","willReturn",125],"(",["T_LNUMBER","1",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","ruleResourceMock",126],["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","expects",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","once",127],"(",")",")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","method",128],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",128],")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","with",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","ruleMock",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","willThrowException",129],"(",["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Exception",129],"(",")",")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","repository",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","delete",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","ruleMock",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","testGetRule",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$ruleId",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_LNUMBER","1",135],";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$ruleMock",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getMock",136],"(",["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","CatalogRule",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Model",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Rule",136],["T_DOUBLE_COLON","::",136],["T_CLASS","class",136],",",["T_WHITESPACE"," ",136],"[","]",",",["T_WHITESPACE"," ",136],"[","]",",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","''",136],",",["T_WHITESPACE"," ",136],["T_STRING","false",136],")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","ruleFactoryMock",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","expects",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","once",137],"(",")",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","method",137],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",137],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","willReturn",137],"(",["T_VARIABLE","$ruleMock",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$ruleMock",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","expects",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","once",138],"(",")",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","method",138],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","with",138],"(",["T_VARIABLE","$ruleId",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","willReturn",138],"(",["T_VARIABLE","$ruleMock",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$ruleMock",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","expects",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","once",139],"(",")",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","method",139],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",139],")",["T_OBJECT_OPERATOR","->",139],["T_STRING","willReturn",139],"(",["T_VARIABLE","$ruleId",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEquals",140],"(",["T_VARIABLE","$ruleMock",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","repository",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","get",140],"(",["T_VARIABLE","$ruleId",140],")",")",";",["T_WHITESPACE","\n        ",140],["T_DOC_COMMENT","\/** verify that rule was cached *\/",141],["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertEquals",142],"(",["T_VARIABLE","$ruleMock",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","repository",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","get",142],"(",["T_VARIABLE","$ruleId",142],")",")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @expectedExceptionMessage Rule with specified ID \"1\" not found.\n     *\/",145],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","testGetNonExistentRule",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$ruleId",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_LNUMBER","1",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$ruleMock",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getMock",152],"(",["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","CatalogRule",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Model",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Rule",152],["T_DOUBLE_COLON","::",152],["T_CLASS","class",152],",",["T_WHITESPACE"," ",152],"[","]",",",["T_WHITESPACE"," ",152],"[","]",",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],",",["T_WHITESPACE"," ",152],["T_STRING","false",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","ruleFactoryMock",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","expects",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","once",153],"(",")",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","method",153],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","willReturn",153],"(",["T_VARIABLE","$ruleMock",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$ruleMock",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","expects",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","once",154],"(",")",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","method",154],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","with",154],"(",["T_VARIABLE","$ruleId",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","willReturn",154],"(",["T_VARIABLE","$ruleMock",154],")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$ruleMock",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","expects",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","once",155],"(",")",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","method",155],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",155],")",["T_OBJECT_OPERATOR","->",155],["T_STRING","willReturn",155],"(",["T_STRING","null",155],")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertEquals",156],"(",["T_VARIABLE","$ruleMock",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","repository",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","get",156],"(",["T_VARIABLE","$ruleId",156],")",")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n",157],"}",["T_WHITESPACE","\n",158]]