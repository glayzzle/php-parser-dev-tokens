[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogRule",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Action",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","ActionTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PHPUnit_Framework_TestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogRule\\Plugin\\Model\\Product\\Action *\/",13],["T_WHITESPACE","\n    ",13],["T_PROTECTED","protected",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$action",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogRule\\Model\\Indexer\\Product\\ProductRuleProcessor|\\PHPUnit_Framework_MockObject_MockObject *\/",16],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$productRuleProcessor",17],";",["T_WHITESPACE","\n\n    ",17],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","setUp",19],"(",")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","productRuleProcessor",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","getMockBuilder",21],"(",["T_WHITESPACE","\n            ",21],["T_NS_SEPARATOR","\\",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","CatalogRule",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Indexer",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Product",22],["T_NS_SEPARATOR","\\",22],["T_STRING","ProductRuleProcessor",22],["T_DOUBLE_COLON","::",22],["T_CLASS","class",22],["T_WHITESPACE","\n        ",22],")",["T_OBJECT_OPERATOR","->",23],["T_STRING","disableOriginalConstructor",23],"(",")",["T_WHITESPACE","\n        ",23],["T_OBJECT_OPERATOR","->",24],["T_STRING","setMethods",24],"(","[",["T_CONSTANT_ENCAPSED_STRING","'reindexList'",24],"]",")",["T_WHITESPACE","\n        ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","getMock",25],"(",")",";",["T_WHITESPACE","\n\n        ",25],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","action",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_NEW","new",27],["T_WHITESPACE"," ",27],["T_STRING","Action",27],"(",["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","productRuleProcessor",27],")",";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n\n    ",28],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","testAfterUpdateAttributes",30],"(",")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$subject",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getMockBuilder",32],"(",["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Catalog",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Product",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Action",32],["T_DOUBLE_COLON","::",32],["T_CLASS","class",32],")",["T_WHITESPACE","\n            ",32],["T_OBJECT_OPERATOR","->",33],["T_STRING","disableOriginalConstructor",33],"(",")",["T_WHITESPACE","\n            ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","setMethods",34],"(","[","]",")",["T_WHITESPACE","\n            ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","getMock",35],"(",")",";",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$result",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getMockBuilder",37],"(",["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Catalog",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Model",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Product",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Action",37],["T_DOUBLE_COLON","::",37],["T_CLASS","class",37],")",["T_WHITESPACE","\n            ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","disableOriginalConstructor",38],"(",")",["T_WHITESPACE","\n            ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","setMethods",39],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getAttributesData'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'getProductIds'",39],"]",")",["T_WHITESPACE","\n            ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","getMock",40],"(",")",";",["T_WHITESPACE","\n\n        ",40],["T_VARIABLE","$result",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","expects",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","once",42],"(",")",")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","method",43],"(",["T_CONSTANT_ENCAPSED_STRING","'getAttributesData'",43],")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","willReturn",44],"(","[","]",")",";",["T_WHITESPACE","\n\n        ",44],["T_VARIABLE","$result",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","expects",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","never",46],"(",")",")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","method",47],"(",["T_CONSTANT_ENCAPSED_STRING","'getProductIds'",47],")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","productRuleProcessor",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","expects",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","never",49],"(",")",")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","method",50],"(",["T_CONSTANT_ENCAPSED_STRING","'reindexList'",50],")",";",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","action",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","afterUpdateAttributes",52],"(",["T_VARIABLE","$subject",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$result",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","testAfterUpdateAttributesWithPrice",55],"(",")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$productIds",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],"[",["T_LNUMBER","1",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","2",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","3",57],"]",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$subject",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMockBuilder",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Catalog",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Model",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Product",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Action",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],")",["T_WHITESPACE","\n            ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","disableOriginalConstructor",59],"(",")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","setMethods",60],"(","[","]",")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","getMock",61],"(",")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$result",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMockBuilder",63],"(",["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Catalog",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Model",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Product",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Action",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","disableOriginalConstructor",64],"(",")",["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","setMethods",65],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getAttributesData'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'getProductIds'",65],"]",")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","getMock",66],"(",")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$result",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","expects",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","once",68],"(",")",")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","method",69],"(",["T_CONSTANT_ENCAPSED_STRING","'getAttributesData'",69],")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","willReturn",70],"(","[",["T_CONSTANT_ENCAPSED_STRING","'price'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_LNUMBER","100",70],"]",")",";",["T_WHITESPACE","\n\n        ",70],["T_VARIABLE","$result",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","expects",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","once",72],"(",")",")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","method",73],"(",["T_CONSTANT_ENCAPSED_STRING","'getProductIds'",73],")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","willReturn",74],"(",["T_VARIABLE","$productIds",74],")",";",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","productRuleProcessor",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","expects",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","once",76],"(",")",")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","method",77],"(",["T_CONSTANT_ENCAPSED_STRING","'reindexList'",77],")",["T_WHITESPACE","\n            ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","with",78],"(",["T_VARIABLE","$productIds",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","action",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","afterUpdateAttributes",80],"(",["T_VARIABLE","$subject",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$result",80],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n",81],"}",["T_WHITESPACE","\n",82]]