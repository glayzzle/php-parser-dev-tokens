[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogRule",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","RuleTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PHPUnit_Framework_TestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogRule\\Model\\Rule *\/",13],["T_WHITESPACE","\n    ",13],["T_PROTECTED","protected",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$rule",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager *\/",16],["T_WHITESPACE","\n    ",16],["T_PRIVATE","private",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$objectManager",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\StoreManagerInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",19],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$storeManager",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/** @var \\PHPUnit_Framework_MockObject_MockObject *\/",22],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$combineFactory",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\Store|\\PHPUnit_Framework_MockObject_MockObject *\/",25],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$storeModel",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\Website|\\PHPUnit_Framework_MockObject_MockObject *\/",28],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$websiteModel",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/** @var \\Magento\\Rule\\Model\\Condition\\Combine|\\PHPUnit_Framework_MockObject_MockObject *\/",31],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$condition",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogRule\\Model\\Indexer\\Rule\\RuleProductProcessor|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_ruleProductProcessor",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_productCollectionFactory",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Model\\ResourceModel\\Iterator|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_resourceIterator",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$productModel",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Set up before test\n     *\n     * @return void\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","setUp",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","objectManager",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","TestFramework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Unit",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Helper",61],["T_NS_SEPARATOR","\\",61],["T_STRING","ObjectManager",61],"(",["T_VARIABLE","$this",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","storeManager",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMock",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Store",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Model",62],["T_NS_SEPARATOR","\\",62],["T_STRING","StoreManagerInterface",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","storeModel",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMock",63],"(",["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Store",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Model",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Store",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],",",["T_WHITESPACE"," ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'getId'",63],"]",",",["T_WHITESPACE"," ",63],"[","]",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","''",63],",",["T_WHITESPACE"," ",63],["T_STRING","false",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","combineFactory",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMock",64],"(",["T_WHITESPACE","\n            ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","CatalogRule",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Rule",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Condition",65],["T_NS_SEPARATOR","\\",65],["T_STRING","CombineFactory",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],",",["T_WHITESPACE","\n            ",65],"[",["T_WHITESPACE","\n                ",66],["T_CONSTANT_ENCAPSED_STRING","'create'",67],["T_WHITESPACE","\n            ",67],"]",",",["T_WHITESPACE","\n            ",68],"[","]",",",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","''",70],",",["T_WHITESPACE","\n            ",70],["T_STRING","false",71],["T_WHITESPACE","\n        ",71],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","productModel",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getMock",73],"(",["T_WHITESPACE","\n            ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Catalog",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Product",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],",",["T_WHITESPACE","\n            ",74],"[",["T_WHITESPACE","\n                ",75],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'getId'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'setData'",76],["T_WHITESPACE","\n            ",76],"]",",",["T_WHITESPACE","\n            ",77],"[","]",",",["T_WHITESPACE","\n            ",78],["T_CONSTANT_ENCAPSED_STRING","''",79],",",["T_WHITESPACE","\n            ",79],["T_STRING","false",80],["T_WHITESPACE","\n        ",80],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","condition",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getMock",82],"(",["T_WHITESPACE","\n            ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Rule",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Model",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Condition",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Combine",83],["T_DOUBLE_COLON","::",83],["T_CLASS","class",83],",",["T_WHITESPACE","\n            ",83],"[",["T_WHITESPACE","\n                ",84],["T_CONSTANT_ENCAPSED_STRING","'setRule'",85],",",["T_WHITESPACE","\n                ",85],["T_CONSTANT_ENCAPSED_STRING","'validate'",86],["T_WHITESPACE","\n            ",86],"]",",",["T_WHITESPACE","\n            ",87],"[","]",",",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","''",89],",",["T_WHITESPACE","\n            ",89],["T_STRING","false",90],["T_WHITESPACE","\n        ",90],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","websiteModel",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getMock",92],"(",["T_WHITESPACE","\n            ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Store",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Model",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Website",93],["T_DOUBLE_COLON","::",93],["T_CLASS","class",93],",",["T_WHITESPACE","\n            ",93],"[",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",95],",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'getId'",96],",",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'getDefaultStore'",97],["T_WHITESPACE","\n            ",97],"]",",",["T_WHITESPACE","\n            ",98],"[","]",",",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","''",100],",",["T_WHITESPACE","\n            ",100],["T_STRING","false",101],["T_WHITESPACE","\n        ",101],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_ruleProductProcessor",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMock",103],"(",["T_WHITESPACE","\n            ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","CatalogRule",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Model",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Indexer",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Rule",104],["T_NS_SEPARATOR","\\",104],["T_STRING","RuleProductProcessor",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],",",["T_WHITESPACE","\n            ",104],"[","]",",",["T_WHITESPACE","\n            ",105],"[","]",",",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","''",107],",",["T_WHITESPACE","\n            ",107],["T_STRING","false",108],["T_WHITESPACE","\n        ",108],")",";",["T_WHITESPACE","\n\n        ",109],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_productCollectionFactory",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMock",111],"(",["T_WHITESPACE","\n            ",111],["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Catalog",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Model",112],["T_NS_SEPARATOR","\\",112],["T_STRING","ResourceModel",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Product",112],["T_NS_SEPARATOR","\\",112],["T_STRING","CollectionFactory",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],",",["T_WHITESPACE","\n            ",112],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",113],"]",",",["T_WHITESPACE","\n            ",113],"[","]",",",["T_WHITESPACE","\n            ",114],["T_CONSTANT_ENCAPSED_STRING","''",115],",",["T_WHITESPACE","\n            ",115],["T_STRING","false",116],["T_WHITESPACE","\n        ",116],")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_resourceIterator",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMock",119],"(",["T_WHITESPACE","\n            ",119],["T_NS_SEPARATOR","\\",120],["T_STRING","Magento",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Framework",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Model",120],["T_NS_SEPARATOR","\\",120],["T_STRING","ResourceModel",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Iterator",120],["T_DOUBLE_COLON","::",120],["T_CLASS","class",120],",",["T_WHITESPACE","\n            ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'walk'",121],"]",",",["T_WHITESPACE","\n            ",121],"[","]",",",["T_WHITESPACE","\n            ",122],["T_CONSTANT_ENCAPSED_STRING","''",123],",",["T_WHITESPACE","\n            ",123],["T_STRING","false",124],["T_WHITESPACE","\n        ",124],")",";",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$extensionFactoryMock",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getMock",127],"(",["T_WHITESPACE","\n            ",127],["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Framework",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Api",128],["T_NS_SEPARATOR","\\",128],["T_STRING","ExtensionAttributesFactory",128],["T_DOUBLE_COLON","::",128],["T_CLASS","class",128],",",["T_WHITESPACE","\n            ",128],"[","]",",",["T_WHITESPACE","\n            ",129],"[","]",",",["T_WHITESPACE","\n            ",130],["T_CONSTANT_ENCAPSED_STRING","''",131],",",["T_WHITESPACE","\n            ",131],["T_STRING","false",132],["T_WHITESPACE","\n        ",132],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$attributeValueFactoryMock",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getMock",134],"(",["T_WHITESPACE","\n            ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Framework",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Api",135],["T_NS_SEPARATOR","\\",135],["T_STRING","AttributeValueFactory",135],["T_DOUBLE_COLON","::",135],["T_CLASS","class",135],",",["T_WHITESPACE","\n            ",135],"[","]",",",["T_WHITESPACE","\n            ",136],"[","]",",",["T_WHITESPACE","\n            ",137],["T_CONSTANT_ENCAPSED_STRING","''",138],",",["T_WHITESPACE","\n            ",138],["T_STRING","false",139],["T_WHITESPACE","\n        ",139],")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","rule",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","objectManager",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getObject",142],"(",["T_WHITESPACE","\n            ",142],["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","CatalogRule",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Model",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Rule",143],["T_DOUBLE_COLON","::",143],["T_CLASS","class",143],",",["T_WHITESPACE","\n            ",143],"[",["T_WHITESPACE","\n                ",144],["T_CONSTANT_ENCAPSED_STRING","'storeManager'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","storeManager",145],",",["T_WHITESPACE","\n                ",145],["T_CONSTANT_ENCAPSED_STRING","'combineFactory'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","combineFactory",146],",",["T_WHITESPACE","\n                ",146],["T_CONSTANT_ENCAPSED_STRING","'ruleProductProcessor'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_ruleProductProcessor",147],",",["T_WHITESPACE","\n                ",147],["T_CONSTANT_ENCAPSED_STRING","'productCollectionFactory'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_productCollectionFactory",148],",",["T_WHITESPACE","\n                ",148],["T_CONSTANT_ENCAPSED_STRING","'resourceIterator'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_resourceIterator",149],",",["T_WHITESPACE","\n                ",149],["T_CONSTANT_ENCAPSED_STRING","'extensionFactory'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$extensionFactoryMock",150],",",["T_WHITESPACE","\n                ",150],["T_CONSTANT_ENCAPSED_STRING","'customAttributeFactory'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$attributeValueFactoryMock",151],",",["T_WHITESPACE","\n            ",151],"]",["T_WHITESPACE","\n        ",152],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * @dataProvider dataProviderCallbackValidateProduct\n     * @param bool $validate\n     *\n     * @return void\n     *\/",156],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","testCallbackValidateProduct",162],"(",["T_VARIABLE","$validate",162],")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$args",164],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","productModel",164],";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$args",165],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],"[","]",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$args",166],"[",["T_CONSTANT_ENCAPSED_STRING","'idx'",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_LNUMBER","0",166],";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$args",167],"[",["T_CONSTANT_ENCAPSED_STRING","'row'",167],"]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],"[",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'1'",168],",",["T_WHITESPACE","\n            ",168],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'4'",169],",",["T_WHITESPACE","\n            ",169],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'4'",170],",",["T_WHITESPACE","\n            ",170],["T_CONSTANT_ENCAPSED_STRING","'type_id'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'simple'",171],",",["T_WHITESPACE","\n            ",171],["T_CONSTANT_ENCAPSED_STRING","'sku'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'Product'",172],",",["T_WHITESPACE","\n            ",172],["T_CONSTANT_ENCAPSED_STRING","'has_options'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'0'",173],",",["T_WHITESPACE","\n            ",173],["T_CONSTANT_ENCAPSED_STRING","'required_options'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'0'",174],",",["T_WHITESPACE","\n            ",174],["T_CONSTANT_ENCAPSED_STRING","'created_at'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'2014-06-25 13:14:30'",175],",",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'2014-06-25 14:37:15'",176],["T_WHITESPACE","\n        ",176],"]",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","storeManager",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","expects",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","any",178],"(",")",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","method",178],"(",["T_CONSTANT_ENCAPSED_STRING","'getWebsites'",178],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","with",178],"(",["T_STRING","false",178],")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","will",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","returnValue",179],"(","[",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","websiteModel",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","websiteModel",179],"]",")",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","websiteModel",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","expects",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","at",180],"(",["T_LNUMBER","0",180],")",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","method",180],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",180],")",["T_WHITESPACE","\n            ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","will",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","returnValue",181],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",181],")",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","websiteModel",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","expects",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","at",182],"(",["T_LNUMBER","2",182],")",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","method",182],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",182],")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","will",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","returnValue",183],"(",["T_CONSTANT_ENCAPSED_STRING","'2'",183],")",")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","websiteModel",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","expects",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","any",184],"(",")",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","method",184],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultStore'",184],")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","will",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","returnValue",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","storeModel",185],")",")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","storeModel",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","expects",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","at",186],"(",["T_LNUMBER","0",186],")",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","method",186],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",186],")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","will",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","returnValue",187],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",187],")",")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","storeModel",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","expects",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","at",188],"(",["T_LNUMBER","1",188],")",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","method",188],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",188],")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","will",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","returnValue",189],"(",["T_CONSTANT_ENCAPSED_STRING","'2'",189],")",")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","combineFactory",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","any",190],"(",")",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","method",190],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",190],")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","will",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","returnValue",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","condition",191],")",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","condition",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","expects",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","any",192],"(",")",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","method",192],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",192],")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","will",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","returnValue",193],"(",["T_VARIABLE","$validate",193],")",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","condition",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","expects",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","any",194],"(",")",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","method",194],"(",["T_CONSTANT_ENCAPSED_STRING","'setRule'",194],")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","will",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","returnSelf",195],"(",")",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","productModel",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","expects",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","any",196],"(",")",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","method",196],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",196],")",["T_WHITESPACE","\n            ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","will",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","returnValue",197],"(",["T_LNUMBER","1",197],")",")",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","rule",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","callbackValidateProduct",199],"(",["T_VARIABLE","$args",199],")",";",["T_WHITESPACE","\n\n        ",199],["T_VARIABLE","$matchingProducts",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","rule",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getMatchingProductIds",201],"(",")",";",["T_WHITESPACE","\n        ",201],["T_FOREACH","foreach",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$matchingProducts",202],"[",["T_CONSTANT_ENCAPSED_STRING","'1'",202],"]",["T_WHITESPACE"," ",202],["T_AS","as",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$matchingRules",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertEquals",203],"(",["T_VARIABLE","$validate",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$matchingRules",203],")",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_DOC_COMMENT","\/**\n     * Data provider for callbackValidateProduct test\n     *\n     * @return array\n     *\/",207],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","dataProviderCallbackValidateProduct",212],"(",")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],"[",["T_WHITESPACE","\n            ",214],"[",["T_STRING","false",215],"]",",",["T_WHITESPACE","\n            ",215],"[",["T_STRING","true",216],"]",",",["T_WHITESPACE","\n        ",216],"]",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Test validateData action\n     *\n     * @dataProvider validateDataDataProvider\n     * @param array $data Data for the rule actions\n     * @param bool|array $expected True or an array of errors\n     *\n     * @return void\n     *\/",220],["T_WHITESPACE","\n    ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","testValidateData",229],"(",["T_VARIABLE","$data",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$expected",229],")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$result",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","rule",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","validateData",231],"(",["T_NEW","new",231],["T_WHITESPACE"," ",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Magento",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Framework",231],["T_NS_SEPARATOR","\\",231],["T_STRING","DataObject",231],"(",["T_VARIABLE","$data",231],")",")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertEquals",232],"(",["T_VARIABLE","$result",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$expected",232],")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Data provider for testValidateData test\n     *\n     * @return array\n     *\/",235],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","validateDataDataProvider",240],"(",")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],"[",["T_WHITESPACE","\n            ",242],"[",["T_WHITESPACE","\n                ",243],"[",["T_WHITESPACE","\n                    ",244],["T_CONSTANT_ENCAPSED_STRING","'simple_action'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'by_fixed'",245],",",["T_WHITESPACE","\n                    ",245],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'123'",246],",",["T_WHITESPACE","\n                ",246],"]",",",["T_WHITESPACE","\n                ",247],["T_STRING","true",248],["T_WHITESPACE","\n            ",248],"]",",",["T_WHITESPACE","\n            ",249],"[",["T_WHITESPACE","\n                ",250],"[",["T_WHITESPACE","\n                    ",251],["T_CONSTANT_ENCAPSED_STRING","'simple_action'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'by_percent'",252],",",["T_WHITESPACE","\n                    ",252],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'9,99'",253],",",["T_WHITESPACE","\n                ",253],"]",",",["T_WHITESPACE","\n                ",254],["T_STRING","true",255],["T_WHITESPACE","\n            ",255],"]",",",["T_WHITESPACE","\n            ",256],"[",["T_WHITESPACE","\n                ",257],"[",["T_WHITESPACE","\n                    ",258],["T_CONSTANT_ENCAPSED_STRING","'simple_action'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'by_percent'",259],",",["T_WHITESPACE","\n                    ",259],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'123.12'",260],",",["T_WHITESPACE","\n                ",260],"]",",",["T_WHITESPACE","\n                ",261],"[",["T_WHITESPACE","\n                    ",262],["T_CONSTANT_ENCAPSED_STRING","'Percentage discount should be between 0 and 100.'",263],",",["T_WHITESPACE","\n                ",263],"]",["T_WHITESPACE","\n            ",264],"]",",",["T_WHITESPACE","\n            ",265],"[",["T_WHITESPACE","\n                ",266],"[",["T_WHITESPACE","\n                    ",267],["T_CONSTANT_ENCAPSED_STRING","'simple_action'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'to_percent'",268],",",["T_WHITESPACE","\n                    ",268],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'-12'",269],",",["T_WHITESPACE","\n                ",269],"]",",",["T_WHITESPACE","\n                ",270],"[",["T_WHITESPACE","\n                    ",271],["T_CONSTANT_ENCAPSED_STRING","'Percentage discount should be between 0 and 100.'",272],",",["T_WHITESPACE","\n                ",272],"]",["T_WHITESPACE","\n            ",273],"]",",",["T_WHITESPACE","\n            ",274],"[",["T_WHITESPACE","\n                ",275],"[",["T_WHITESPACE","\n                    ",276],["T_CONSTANT_ENCAPSED_STRING","'simple_action'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'to_fixed'",277],",",["T_WHITESPACE","\n                    ",277],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'-1234567890'",278],",",["T_WHITESPACE","\n                ",278],"]",",",["T_WHITESPACE","\n                ",279],"[",["T_WHITESPACE","\n                    ",280],["T_CONSTANT_ENCAPSED_STRING","'Discount value should be 0 or greater.'",281],",",["T_WHITESPACE","\n                ",281],"]",["T_WHITESPACE","\n            ",282],"]",",",["T_WHITESPACE","\n            ",283],"[",["T_WHITESPACE","\n                ",284],"[",["T_WHITESPACE","\n                    ",285],["T_CONSTANT_ENCAPSED_STRING","'simple_action'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'invalid action'",286],",",["T_WHITESPACE","\n                    ",286],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'12'",287],",",["T_WHITESPACE","\n                ",287],"]",",",["T_WHITESPACE","\n                ",288],"[",["T_WHITESPACE","\n                    ",289],["T_CONSTANT_ENCAPSED_STRING","'Unknown action.'",290],",",["T_WHITESPACE","\n                ",290],"]",["T_WHITESPACE","\n            ",291],"]",",",["T_WHITESPACE","\n        ",292],"]",";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Test after delete action\n     *\n     * @return void\n     *\/",296],["T_WHITESPACE","\n    ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","testAfterDelete",301],"(",")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$indexer",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getMock",303],"(",["T_NS_SEPARATOR","\\",303],["T_STRING","Magento",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Framework",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Indexer",303],["T_NS_SEPARATOR","\\",303],["T_STRING","IndexerInterface",303],["T_DOUBLE_COLON","::",303],["T_CLASS","class",303],")",";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$indexer",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","expects",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","once",304],"(",")",")",["T_OBJECT_OPERATOR","->",304],["T_STRING","method",304],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidate'",304],")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_ruleProductProcessor",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","expects",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","once",305],"(",")",")",["T_OBJECT_OPERATOR","->",305],["T_STRING","method",305],"(",["T_CONSTANT_ENCAPSED_STRING","'getIndexer'",305],")",["T_OBJECT_OPERATOR","->",305],["T_STRING","will",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","returnValue",305],"(",["T_VARIABLE","$indexer",305],")",")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","rule",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","afterDelete",306],"(",")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Test after update action\n     *\n     * @return void\n     *\/",309],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","testAfterUpdate",314],"(",")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","rule",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","isObjectNew",316],"(",["T_STRING","false",316],")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$indexer",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getMock",317],"(",["T_NS_SEPARATOR","\\",317],["T_STRING","Magento",317],["T_NS_SEPARATOR","\\",317],["T_STRING","Framework",317],["T_NS_SEPARATOR","\\",317],["T_STRING","Indexer",317],["T_NS_SEPARATOR","\\",317],["T_STRING","IndexerInterface",317],["T_DOUBLE_COLON","::",317],["T_CLASS","class",317],")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$indexer",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","expects",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","once",318],"(",")",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","method",318],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidate'",318],")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_ruleProductProcessor",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","expects",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","once",319],"(",")",")",["T_OBJECT_OPERATOR","->",319],["T_STRING","method",319],"(",["T_CONSTANT_ENCAPSED_STRING","'getIndexer'",319],")",["T_OBJECT_OPERATOR","->",319],["T_STRING","will",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","returnValue",319],"(",["T_VARIABLE","$indexer",319],")",")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","rule",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","afterSave",320],"(",")",";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Test isRuleBehaviorChanged action\n     *\n     * @dataProvider isRuleBehaviorChangedDataProvider\n     *\n     * @param array $dataArray\n     * @param array $originDataArray\n     * @param bool $isObjectNew\n     * @param bool $result\n     *\n     * @return void\n     *\/",323],["T_WHITESPACE","\n    ",334],["T_PUBLIC","public",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","testIsRuleBehaviorChanged",335],"(",["T_VARIABLE","$dataArray",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$originDataArray",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$isObjectNew",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$result",335],")",["T_WHITESPACE","\n    ",335],"{",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","rule",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","setData",337],"(",["T_CONSTANT_ENCAPSED_STRING","'website_ids'",337],",",["T_WHITESPACE"," ",337],"[","]",")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","rule",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","isObjectNew",338],"(",["T_VARIABLE","$isObjectNew",338],")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$indexer",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getMock",339],"(",["T_NS_SEPARATOR","\\",339],["T_STRING","Magento",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Framework",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Indexer",339],["T_NS_SEPARATOR","\\",339],["T_STRING","IndexerInterface",339],["T_DOUBLE_COLON","::",339],["T_CLASS","class",339],")",";",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$indexer",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","expects",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","any",340],"(",")",")",["T_OBJECT_OPERATOR","->",340],["T_STRING","method",340],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidate'",340],")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_ruleProductProcessor",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","expects",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","any",341],"(",")",")",["T_OBJECT_OPERATOR","->",341],["T_STRING","method",341],"(",["T_CONSTANT_ENCAPSED_STRING","'getIndexer'",341],")",["T_OBJECT_OPERATOR","->",341],["T_STRING","will",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","returnValue",341],"(",["T_VARIABLE","$indexer",341],")",")",";",["T_WHITESPACE","\n\n        ",341],["T_FOREACH","foreach",343],["T_WHITESPACE"," ",343],"(",["T_VARIABLE","$dataArray",343],["T_WHITESPACE"," ",343],["T_AS","as",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$data",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","rule",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","setData",344],"(",["T_VARIABLE","$data",344],")",";",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","rule",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","afterSave",346],"(",")",";",["T_WHITESPACE","\n\n        ",346],["T_FOREACH","foreach",348],["T_WHITESPACE"," ",348],"(",["T_VARIABLE","$originDataArray",348],["T_WHITESPACE"," ",348],["T_AS","as",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$data",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","rule",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","setOrigData",349],"(",["T_VARIABLE","$data",349],")",";",["T_WHITESPACE","\n        ",349],"}",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","assertEquals",351],"(",["T_VARIABLE","$result",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","rule",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","isRuleBehaviorChanged",351],"(",")",")",";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * Data provider for testIsRuleBehaviorChanged test\n     *\n     * @return array\n     *\/",354],["T_WHITESPACE","\n    ",358],["T_PUBLIC","public",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","isRuleBehaviorChangedDataProvider",359],"(",")",["T_WHITESPACE","\n    ",359],"{",["T_WHITESPACE","\n        ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],"[",["T_WHITESPACE","\n            ",361],"[","[",["T_CONSTANT_ENCAPSED_STRING","'new name'",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'new description'",362],"]",",",["T_WHITESPACE"," ",362],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'description'",362],"]",",",["T_WHITESPACE"," ",362],["T_STRING","false",362],",",["T_WHITESPACE"," ",362],["T_STRING","false",362],"]",",",["T_WHITESPACE","\n            ",362],"[","[",["T_CONSTANT_ENCAPSED_STRING","'name'",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'description'",363],"]",",",["T_WHITESPACE"," ",363],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'description'",363],"]",",",["T_WHITESPACE"," ",363],["T_STRING","false",363],",",["T_WHITESPACE"," ",363],["T_STRING","false",363],"]",",",["T_WHITESPACE","\n            ",363],"[","[",["T_CONSTANT_ENCAPSED_STRING","'name'",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'important_data'",364],"]",",",["T_WHITESPACE"," ",364],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'important_data'",364],"]",",",["T_WHITESPACE"," ",364],["T_STRING","false",364],",",["T_WHITESPACE"," ",364],["T_STRING","false",364],"]",",",["T_WHITESPACE","\n            ",364],"[","[",["T_CONSTANT_ENCAPSED_STRING","'name'",365],",",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'new important_data'",365],"]",",",["T_WHITESPACE"," ",365],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",365],",",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'important_data'",365],"]",",",["T_WHITESPACE"," ",365],["T_STRING","false",365],",",["T_WHITESPACE"," ",365],["T_STRING","true",365],"]",",",["T_WHITESPACE","\n            ",365],"[","[",["T_CONSTANT_ENCAPSED_STRING","'name'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'description'",366],"]",",",["T_WHITESPACE"," ",366],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'description'",366],"]",",",["T_WHITESPACE"," ",366],["T_STRING","true",366],",",["T_WHITESPACE"," ",366],["T_STRING","true",366],"]",",",["T_WHITESPACE","\n            ",366],"[","[",["T_CONSTANT_ENCAPSED_STRING","'name'",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'description'",367],"]",",",["T_WHITESPACE"," ",367],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'important_data'",367],"]",",",["T_WHITESPACE"," ",367],["T_STRING","true",367],",",["T_WHITESPACE"," ",367],["T_STRING","true",367],"]",",",["T_WHITESPACE","\n        ",367],"]",";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n\n    ",369],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","testGetConditionsFieldSetId",371],"(",")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$formName",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'form_name'",373],";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","rule",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","setId",374],"(",["T_LNUMBER","100",374],")",";",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$expectedResult",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'form_namerule_conditions_fieldset_100'",375],";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","assertEquals",376],"(",["T_VARIABLE","$expectedResult",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","rule",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getConditionsFieldSetId",376],"(",["T_VARIABLE","$formName",376],")",")",";",["T_WHITESPACE","\n    ",376],"}",["T_WHITESPACE","\n",377],"}",["T_WHITESPACE","\n",378]]