[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Pricing",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Price",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogRule",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResourceModel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","RuleFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CatalogRule",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceModel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Rule",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Session",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ObjectManager",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Pricing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Adjustment",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Calculator",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Pricing",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Price",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractPrice",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Pricing",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Price",16],["T_NS_SEPARATOR","\\",16],["T_STRING","BasePriceProviderInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Stdlib",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DateTime",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TimezoneInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Store",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","StoreManager",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Class CatalogRulePrice\n *\/",20],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","CatalogRulePrice",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","AbstractPrice",23],["T_WHITESPACE"," ",23],["T_IMPLEMENTS","implements",23],["T_WHITESPACE"," ",23],["T_STRING","BasePriceProviderInterface",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_DOC_COMMENT","\/**\n     * Price type identifier string\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","PRICE_CODE",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'catalog_rule_price'",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$dateTime",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManager\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$storeManager",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$customerSession",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogRule\\Model\\ResourceModel\\RuleFactory\n     * @deprecated\n     *\/",45],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$resourceRuleFactory",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogRule\\Model\\ResourceModel\\Rule\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$ruleResource",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @param Product $saleableItem\n     * @param float $quantity\n     * @param Calculator $calculator\n     * @param RuleFactory $catalogRuleResourceFactory\n     * @param TimezoneInterface $dateTime\n     * @param StoreManager $storeManager\n     * @param Session $customerSession\n     * @param \\Magento\\Framework\\Pricing\\PriceCurrencyInterface $priceCurrency\n     *\/",56],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","__construct",66],"(",["T_WHITESPACE","\n        ",66],["T_STRING","Product",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$saleableItem",67],",",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$quantity",68],",",["T_WHITESPACE","\n        ",68],["T_STRING","Calculator",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$calculator",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Pricing",70],["T_NS_SEPARATOR","\\",70],["T_STRING","PriceCurrencyInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$priceCurrency",70],",",["T_WHITESPACE","\n        ",70],["T_STRING","TimezoneInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$dateTime",71],",",["T_WHITESPACE","\n        ",71],["T_STRING","StoreManager",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$storeManager",72],",",["T_WHITESPACE","\n        ",72],["T_STRING","Session",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$customerSession",73],",",["T_WHITESPACE","\n        ",73],["T_STRING","RuleFactory",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$catalogRuleResourceFactory",74],["T_WHITESPACE","\n    ",74],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n        ",75],["T_STRING","parent",76],["T_DOUBLE_COLON","::",76],["T_STRING","__construct",76],"(",["T_VARIABLE","$saleableItem",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$quantity",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$calculator",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$priceCurrency",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","dateTime",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$dateTime",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","storeManager",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$storeManager",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","customerSession",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$customerSession",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","resourceRuleFactory",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$catalogRuleResourceFactory",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Returns catalog rule value\n     *\n     * @return float|boolean\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","getValue",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_STRING","null",90],["T_WHITESPACE"," ",90],["T_IS_IDENTICAL","===",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","value",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","product",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","hasData",91],"(",["T_STRING","self",91],["T_DOUBLE_COLON","::",91],["T_STRING","PRICE_CODE",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","value",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","floatval",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","product",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getData",92],"(",["T_STRING","self",92],["T_DOUBLE_COLON","::",92],["T_STRING","PRICE_CODE",92],")",")",["T_WHITESPACE"," ",92],"?",":",["T_WHITESPACE"," ",92],["T_STRING","false",92],";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE"," ",93],["T_ELSE","else",93],["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","value",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getRuleResource",94],"(",")",["T_WHITESPACE","\n                    ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","getRulePrice",95],"(",["T_WHITESPACE","\n                        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","dateTime",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","scopeDate",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","storeManager",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getStore",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getId",96],"(",")",")",",",["T_WHITESPACE","\n                        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","storeManager",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getStore",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getWebsiteId",97],"(",")",",",["T_WHITESPACE","\n                        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","customerSession",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getCustomerGroupId",98],"(",")",",",["T_WHITESPACE","\n                        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","product",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getId",99],"(",")",["T_WHITESPACE","\n                    ",99],")",";",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","value",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","value",101],["T_WHITESPACE"," ",101],"?",["T_WHITESPACE"," ",101],["T_STRING","floatval",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","value",101],")",["T_WHITESPACE"," ",101],":",["T_WHITESPACE"," ",101],["T_STRING","false",101],";",["T_WHITESPACE","\n                ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","value",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","value",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","priceCurrency",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","convertAndRound",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","value",103],")",";",["T_WHITESPACE","\n                ",103],"}",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n\n        ",106],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","value",108],";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * @return Rule\n     * @deprecated\n     *\/",111],["T_WHITESPACE","\n    ",114],["T_PRIVATE","private",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getRuleResource",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_STRING","null",117],["T_WHITESPACE"," ",117],["T_IS_IDENTICAL","===",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","ruleResource",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","ruleResource",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","ObjectManager",118],["T_DOUBLE_COLON","::",118],["T_STRING","getInstance",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","get",118],"(",["T_STRING","Rule",118],["T_DOUBLE_COLON","::",118],["T_CLASS","class",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","ruleResource",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n",122],"}",["T_WHITESPACE","\n",123]]