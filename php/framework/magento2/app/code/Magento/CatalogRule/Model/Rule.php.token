[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogRule",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogRule",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RuleInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AttributeValueFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ExtensionAttributesFactory",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DataObject",12],["T_NS_SEPARATOR","\\",12],["T_STRING","IdentityInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Catalog Rule data model\n *\n * @method \\Magento\\CatalogRule\\Model\\ResourceModel\\Rule _getResource()\n * @method \\Magento\\CatalogRule\\Model\\ResourceModel\\Rule getResource()\n * @method \\Magento\\CatalogRule\\Model\\Rule setFromDate(string $value)\n * @method \\Magento\\CatalogRule\\Model\\Rule setToDate(string $value)\n * @method \\Magento\\CatalogRule\\Model\\Rule setCustomerGroupIds(string $value)\n * @method string getWebsiteIds()\n * @method \\Magento\\CatalogRule\\Model\\Rule setWebsiteIds(string $value)\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n * @SuppressWarnings(PHPMD.ExcessivePublicCount)\n *\/",14],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Rule",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Rule",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Model",28],["T_NS_SEPARATOR","\\",28],["T_STRING","AbstractModel",28],["T_WHITESPACE"," ",28],["T_IMPLEMENTS","implements",28],["T_WHITESPACE"," ",28],["T_STRING","RuleInterface",28],",",["T_WHITESPACE"," ",28],["T_STRING","IdentityInterface",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_DOC_COMMENT","\/**\n     * Prefix of model events names\n     *\n     * @var string\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_eventPrefix",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'catalogrule_rule'",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Parameter name in event\n     *\n     * In observe method you can use $observer->getEvent()->getRule() in this case\n     *\n     * @var string\n     *\/",37],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_eventObject",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'rule'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Store matched product Ids\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_productIds",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Limitation for products collection\n     *\n     * @var int|array|null\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_productsFilter",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Store current date at \"Y-m-d H:i:s\" format\n     *\n     * @var string\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_now",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Cached data of prices calculated by price rules\n     *\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_STATIC","static",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_priceRulesData",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[","]",";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Catalog rule data\n     *\n     * @var \\Magento\\CatalogRule\\Helper\\Data\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_catalogRuleData",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Cache\\TypeListInterface\n     *\/",81],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$_cacheTypesList",84],";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",86],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$_relatedCacheTypes",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$dateTime",94],";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Model\\ResourceModel\\Iterator\n     *\/",96],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_resourceIterator",99],";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",101],["T_WHITESPACE","\n    ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$_customerSession",104],";",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogRule\\Model\\Rule\\Condition\\CombineFactory\n     *\/",106],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$_combineFactory",109],";",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogRule\\Model\\Rule\\Action\\CollectionFactory\n     *\/",111],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_actionCollectionFactory",114],";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductFactory\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$_productFactory",119],";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",121],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$_storeManager",124],";",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory\n     *\/",126],["T_WHITESPACE","\n    ",128],["T_PROTECTED","protected",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$_productCollectionFactory",129],";",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogRule\\Model\\Indexer\\Rule\\RuleProductProcessor;\n     *\/",131],["T_WHITESPACE","\n    ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$_ruleProductProcessor",134],";",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * @var Data\\Condition\\Converter\n     *\/",136],["T_WHITESPACE","\n    ",138],["T_PROTECTED","protected",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$ruleConditionConverter",139],";",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Rule constructor\n     *\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Data\\FormFactory $formFactory\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory $productCollectionFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param Rule\\Condition\\CombineFactory $combineFactory\n     * @param Rule\\Action\\CollectionFactory $actionCollectionFactory\n     * @param \\Magento\\Catalog\\Model\\ProductFactory $productFactory\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Iterator $resourceIterator\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\CatalogRule\\Helper\\Data $catalogRuleData\n     * @param \\Magento\\Framework\\App\\Cache\\TypeListInterface $cacheTypesList\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param Indexer\\Rule\\RuleProductProcessor $ruleProductProcessor\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource|null $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb|null $resourceCollection\n     * @param array $relatedCacheTypes\n     * @param array $data\n     * @param ExtensionAttributesFactory|null $extensionFactory\n     * @param AttributeValueFactory|null $customAttributeFactory\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",141],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","__construct",168],"(",["T_WHITESPACE","\n        ",168],["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Framework",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Model",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Context",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$context",169],",",["T_WHITESPACE","\n        ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Framework",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Registry",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$registry",170],",",["T_WHITESPACE","\n        ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Framework",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Data",171],["T_NS_SEPARATOR","\\",171],["T_STRING","FormFactory",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$formFactory",171],",",["T_WHITESPACE","\n        ",171],["T_NS_SEPARATOR","\\",172],["T_STRING","Magento",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Framework",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Stdlib",172],["T_NS_SEPARATOR","\\",172],["T_STRING","DateTime",172],["T_NS_SEPARATOR","\\",172],["T_STRING","TimezoneInterface",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$localeDate",172],",",["T_WHITESPACE","\n        ",172],["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Catalog",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Model",173],["T_NS_SEPARATOR","\\",173],["T_STRING","ResourceModel",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Product",173],["T_NS_SEPARATOR","\\",173],["T_STRING","CollectionFactory",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$productCollectionFactory",173],",",["T_WHITESPACE","\n        ",173],["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Store",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Model",174],["T_NS_SEPARATOR","\\",174],["T_STRING","StoreManagerInterface",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$storeManager",174],",",["T_WHITESPACE","\n        ",174],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","CatalogRule",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Model",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Rule",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Condition",175],["T_NS_SEPARATOR","\\",175],["T_STRING","CombineFactory",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$combineFactory",175],",",["T_WHITESPACE","\n        ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","CatalogRule",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Model",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Rule",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Action",176],["T_NS_SEPARATOR","\\",176],["T_STRING","CollectionFactory",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$actionCollectionFactory",176],",",["T_WHITESPACE","\n        ",176],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Catalog",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Model",177],["T_NS_SEPARATOR","\\",177],["T_STRING","ProductFactory",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$productFactory",177],",",["T_WHITESPACE","\n        ",177],["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Framework",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Model",178],["T_NS_SEPARATOR","\\",178],["T_STRING","ResourceModel",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Iterator",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$resourceIterator",178],",",["T_WHITESPACE","\n        ",178],["T_NS_SEPARATOR","\\",179],["T_STRING","Magento",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Customer",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Model",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Session",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$customerSession",179],",",["T_WHITESPACE","\n        ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","CatalogRule",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Helper",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Data",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$catalogRuleData",180],",",["T_WHITESPACE","\n        ",180],["T_NS_SEPARATOR","\\",181],["T_STRING","Magento",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Framework",181],["T_NS_SEPARATOR","\\",181],["T_STRING","App",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Cache",181],["T_NS_SEPARATOR","\\",181],["T_STRING","TypeListInterface",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$cacheTypesList",181],",",["T_WHITESPACE","\n        ",181],["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Framework",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Stdlib",182],["T_NS_SEPARATOR","\\",182],["T_STRING","DateTime",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$dateTime",182],",",["T_WHITESPACE","\n        ",182],["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","CatalogRule",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Model",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Indexer",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Rule",183],["T_NS_SEPARATOR","\\",183],["T_STRING","RuleProductProcessor",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$ruleProductProcessor",183],",",["T_WHITESPACE","\n        ",183],["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Framework",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Model",184],["T_NS_SEPARATOR","\\",184],["T_STRING","ResourceModel",184],["T_NS_SEPARATOR","\\",184],["T_STRING","AbstractResource",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$resource",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","null",184],",",["T_WHITESPACE","\n        ",184],["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Framework",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Data",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Collection",185],["T_NS_SEPARATOR","\\",185],["T_STRING","AbstractDb",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$resourceCollection",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","null",185],",",["T_WHITESPACE","\n        ",185],["T_ARRAY","array",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$relatedCacheTypes",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],"[","]",",",["T_WHITESPACE","\n        ",186],["T_ARRAY","array",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$data",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],"[","]",",",["T_WHITESPACE","\n        ",187],["T_STRING","ExtensionAttributesFactory",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$extensionFactory",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","null",188],",",["T_WHITESPACE","\n        ",188],["T_STRING","AttributeValueFactory",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$customAttributeFactory",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","null",189],["T_WHITESPACE","\n    ",189],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_productCollectionFactory",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$productCollectionFactory",191],";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_storeManager",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$storeManager",192],";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_combineFactory",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$combineFactory",193],";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_actionCollectionFactory",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$actionCollectionFactory",194],";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_productFactory",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$productFactory",195],";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_resourceIterator",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$resourceIterator",196],";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_customerSession",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$customerSession",197],";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_catalogRuleData",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$catalogRuleData",198],";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_cacheTypesList",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$cacheTypesList",199],";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_relatedCacheTypes",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$relatedCacheTypes",200],";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","dateTime",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$dateTime",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_ruleProductProcessor",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$ruleProductProcessor",202],";",["T_WHITESPACE","\n\n        ",202],["T_STRING","parent",204],["T_DOUBLE_COLON","::",204],["T_STRING","__construct",204],"(",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$context",205],",",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$registry",206],",",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$formFactory",207],",",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$localeDate",208],",",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$resource",209],",",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$resourceCollection",210],",",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$data",211],",",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$extensionFactory",212],",",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$customAttributeFactory",213],["T_WHITESPACE","\n        ",213],")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * Init resource model and id field\n     *\n     * @return void\n     *\/",217],["T_WHITESPACE","\n    ",221],["T_PROTECTED","protected",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","_construct",222],"(",")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_STRING","parent",224],["T_DOUBLE_COLON","::",224],["T_STRING","_construct",224],"(",")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_init",225],"(",["T_NS_SEPARATOR","\\",225],["T_STRING","Magento",225],["T_NS_SEPARATOR","\\",225],["T_STRING","CatalogRule",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Model",225],["T_NS_SEPARATOR","\\",225],["T_STRING","ResourceModel",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Rule",225],["T_DOUBLE_COLON","::",225],["T_CLASS","class",225],")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","setIdFieldName",226],"(",["T_CONSTANT_ENCAPSED_STRING","'rule_id'",226],")",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Getter for rule conditions collection\n     *\n     * @return \\Magento\\Rule\\Model\\Condition\\Combine\n     *\/",229],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","getConditionsInstance",234],"(",")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_combineFactory",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","create",236],"(",")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Getter for rule actions collection\n     *\n     * @return \\Magento\\CatalogRule\\Model\\Rule\\Action\\Collection\n     *\/",239],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","getActionsInstance",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_actionCollectionFactory",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","create",246],"(",")",";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Get catalog rule customer group Ids\n     *\n     * @return array|null\n     *\/",249],["T_WHITESPACE","\n    ",253],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","getCustomerGroupIds",254],"(",")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(","!",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","hasCustomerGroupIds",256],"(",")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$customerGroupIds",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_getResource",257],"(",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","getCustomerGroupIds",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getId",257],"(",")",")",";",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setData",258],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_ids'",258],",",["T_WHITESPACE"," ",258],["T_ARRAY_CAST","(array)",258],["T_VARIABLE","$customerGroupIds",258],")",";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n        ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_getData",260],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_ids'",260],")",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Retrieve current date for current rule\n     *\n     * @return string\n     *\/",263],["T_WHITESPACE","\n    ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","getNow",268],"(",")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_now",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],"(",["T_NEW","new",271],["T_WHITESPACE"," ",271],["T_NS_SEPARATOR","\\",271],["T_STRING","DateTime",271],"(",")",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","format",271],"(",["T_NS_SEPARATOR","\\",271],["T_STRING","Magento",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Framework",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Stdlib",271],["T_NS_SEPARATOR","\\",271],["T_STRING","DateTime",271],["T_DOUBLE_COLON","::",271],["T_STRING","DATETIME_PHP_FORMAT",271],")",";",["T_WHITESPACE","\n        ",271],"}",["T_WHITESPACE","\n        ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_now",273],";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Set current date for current rule\n     *\n     * @param string $now\n     * @return void\n     * @codeCoverageIgnore\n     *\/",276],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","setNow",283],"(",["T_VARIABLE","$now",283],")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_now",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$now",285],";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Get array of product ids which are matched by rule\n     *\n     * @return array\n     *\/",288],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","getMatchingProductIds",293],"(",")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_productIds",295],["T_WHITESPACE"," ",295],["T_IS_IDENTICAL","===",295],["T_WHITESPACE"," ",295],["T_STRING","null",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_productIds",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],"[","]",";",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","setCollectedAttributes",297],"(","[","]",")",";",["T_WHITESPACE","\n\n            ",297],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getWebsiteIds",299],"(",")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                ",299],["T_DOC_COMMENT","\/** @var $productCollection \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection *\/",300],["T_WHITESPACE","\n                ",300],["T_VARIABLE","$productCollection",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_productCollectionFactory",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","create",301],"(",")",";",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$productCollection",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","addWebsiteFilter",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getWebsiteIds",302],"(",")",")",";",["T_WHITESPACE","\n                ",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_productsFilter",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n                    ",303],["T_VARIABLE","$productCollection",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","addIdFilter",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_productsFilter",304],")",";",["T_WHITESPACE","\n                ",304],"}",["T_WHITESPACE","\n                ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getConditions",306],"(",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","collectValidatedAttributes",306],"(",["T_VARIABLE","$productCollection",306],")",";",["T_WHITESPACE","\n\n                ",306],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_resourceIterator",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","walk",308],"(",["T_WHITESPACE","\n                    ",308],["T_VARIABLE","$productCollection",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getSelect",309],"(",")",",",["T_WHITESPACE","\n                    ",309],"[","[",["T_VARIABLE","$this",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'callbackValidateProduct'",310],"]","]",",",["T_WHITESPACE","\n                    ",310],"[",["T_WHITESPACE","\n                        ",311],["T_CONSTANT_ENCAPSED_STRING","'attributes'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getCollectedAttributes",312],"(",")",",",["T_WHITESPACE","\n                        ",312],["T_CONSTANT_ENCAPSED_STRING","'product'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_productFactory",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","create",313],"(",")",["T_WHITESPACE","\n                    ",313],"]",["T_WHITESPACE","\n                ",314],")",";",["T_WHITESPACE","\n            ",315],"}",["T_WHITESPACE","\n        ",316],"}",["T_WHITESPACE","\n\n        ",317],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_productIds",319],";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Callback function for product matching\n     *\n     * @param array $args\n     * @return void\n     *\/",322],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","callbackValidateProduct",328],"(",["T_VARIABLE","$args",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$product",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_CLONE","clone",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$args",330],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",330],"]",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$product",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","setData",331],"(",["T_VARIABLE","$args",331],"[",["T_CONSTANT_ENCAPSED_STRING","'row'",331],"]",")",";",["T_WHITESPACE","\n\n        ",331],["T_VARIABLE","$websites",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_getWebsitesMap",333],"(",")",";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$results",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],"[","]",";",["T_WHITESPACE","\n\n        ",334],["T_FOREACH","foreach",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$websites",336],["T_WHITESPACE"," ",336],["T_AS","as",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$websiteId",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$defaultStoreId",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$product",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","setStoreId",337],"(",["T_VARIABLE","$defaultStoreId",337],")",";",["T_WHITESPACE","\n            ",337],["T_VARIABLE","$results",338],"[",["T_VARIABLE","$websiteId",338],"]",["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getConditions",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","validate",338],"(",["T_VARIABLE","$product",338],")",";",["T_WHITESPACE","\n        ",338],"}",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_productIds",340],"[",["T_VARIABLE","$product",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getId",340],"(",")","]",["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$results",340],";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * Prepare website map\n     *\n     * @return array\n     *\/",343],["T_WHITESPACE","\n    ",347],["T_PROTECTED","protected",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","_getWebsitesMap",348],"(",")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$map",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],"[","]",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$websites",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_storeManager",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getWebsites",351],"(",")",";",["T_WHITESPACE","\n        ",351],["T_FOREACH","foreach",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$websites",352],["T_WHITESPACE"," ",352],["T_AS","as",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$website",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_COMMENT","\/\/ Continue if website has no store to be able to create catalog rule for website without store\n",353],["T_WHITESPACE","            ",354],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$website",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getDefaultStore",354],"(",")",["T_WHITESPACE"," ",354],["T_IS_IDENTICAL","===",354],["T_WHITESPACE"," ",354],["T_STRING","null",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n                ",354],["T_CONTINUE","continue",355],";",["T_WHITESPACE","\n            ",355],"}",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$map",357],"[",["T_VARIABLE","$website",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getId",357],"(",")","]",["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$website",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getDefaultStore",357],"(",")",["T_OBJECT_OPERATOR","->",357],["T_STRING","getId",357],"(",")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n        ",358],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$map",359],";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",362],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","validateData",365],"(",["T_NS_SEPARATOR","\\",365],["T_STRING","Magento",365],["T_NS_SEPARATOR","\\",365],["T_STRING","Framework",365],["T_NS_SEPARATOR","\\",365],["T_STRING","DataObject",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$dataObject",365],")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$result",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","parent",367],["T_DOUBLE_COLON","::",367],["T_STRING","validateData",367],"(",["T_VARIABLE","$dataObject",367],")",";",["T_WHITESPACE","\n        ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$result",368],["T_WHITESPACE"," ",368],["T_IS_IDENTICAL","===",368],["T_WHITESPACE"," ",368],["T_STRING","true",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n            ",368],["T_VARIABLE","$result",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],"[","]",";",["T_WHITESPACE","\n        ",369],"}",["T_WHITESPACE","\n\n        ",370],["T_VARIABLE","$action",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$dataObject",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getData",372],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_action'",372],")",";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$discount",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$dataObject",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","getData",373],"(",["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",373],")",";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$result",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_STRING","array_merge",374],"(",["T_VARIABLE","$result",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","validateDiscount",374],"(",["T_VARIABLE","$action",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$discount",374],")",")",";",["T_WHITESPACE","\n\n        ",374],["T_RETURN","return",376],["T_WHITESPACE"," ",376],"!",["T_EMPTY","empty",376],"(",["T_VARIABLE","$result",376],")",["T_WHITESPACE"," ",376],"?",["T_WHITESPACE"," ",376],["T_VARIABLE","$result",376],["T_WHITESPACE"," ",376],":",["T_WHITESPACE"," ",376],["T_STRING","true",376],";",["T_WHITESPACE","\n    ",376],"}",["T_WHITESPACE","\n\n    ",377],["T_DOC_COMMENT","\/**\n     * Validate discount based on action\n     *\n     * @param string $action\n     * @param string|int|float $discount\n     *\n     * @return array Validation errors\n     *\/",379],["T_WHITESPACE","\n    ",386],["T_PROTECTED","protected",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","validateDiscount",387],"(",["T_VARIABLE","$action",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$discount",387],")",["T_WHITESPACE","\n    ",387],"{",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$result",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],"[","]",";",["T_WHITESPACE","\n        ",389],["T_SWITCH","switch",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$action",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n            ",390],["T_CASE","case",391],["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'by_percent'",391],":",["T_WHITESPACE","\n            ",391],["T_CASE","case",392],["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'to_percent'",392],":",["T_WHITESPACE","\n                ",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$discount",393],["T_WHITESPACE"," ",393],"<",["T_WHITESPACE"," ",393],["T_LNUMBER","0",393],["T_WHITESPACE"," ",393],["T_BOOLEAN_OR","||",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$discount",393],["T_WHITESPACE"," ",393],">",["T_WHITESPACE"," ",393],["T_LNUMBER","100",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n                    ",393],["T_VARIABLE","$result",394],"[","]",["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_STRING","__",394],"(",["T_CONSTANT_ENCAPSED_STRING","'Percentage discount should be between 0 and 100.'",394],")",";",["T_WHITESPACE","\n                ",394],"}",";",["T_WHITESPACE","\n                ",395],["T_BREAK","break",396],";",["T_WHITESPACE","\n            ",396],["T_CASE","case",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'by_fixed'",397],":",["T_WHITESPACE","\n            ",397],["T_CASE","case",398],["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'to_fixed'",398],":",["T_WHITESPACE","\n                ",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_VARIABLE","$discount",399],["T_WHITESPACE"," ",399],"<",["T_WHITESPACE"," ",399],["T_LNUMBER","0",399],")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n                    ",399],["T_VARIABLE","$result",400],"[","]",["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_STRING","__",400],"(",["T_CONSTANT_ENCAPSED_STRING","'Discount value should be 0 or greater.'",400],")",";",["T_WHITESPACE","\n                ",400],"}",";",["T_WHITESPACE","\n                ",401],["T_BREAK","break",402],";",["T_WHITESPACE","\n            ",402],["T_DEFAULT","default",403],":",["T_WHITESPACE","\n                ",403],["T_VARIABLE","$result",404],"[","]",["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_STRING","__",404],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown action.'",404],")",";",["T_WHITESPACE","\n        ",404],"}",["T_WHITESPACE","\n        ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$result",406],";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * Calculate price using catalog price rule of product\n     *\n     * @param Product $product\n     * @param float $price\n     * @return float|null\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",409],["T_WHITESPACE","\n    ",416],["T_PUBLIC","public",417],["T_WHITESPACE"," ",417],["T_FUNCTION","function",417],["T_WHITESPACE"," ",417],["T_STRING","calcProductPriceRule",417],"(",["T_STRING","Product",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$product",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$price",417],")",["T_WHITESPACE","\n    ",417],"{",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$priceRules",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_STRING","null",419],";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$productId",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$product",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getId",420],"(",")",";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$storeId",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$product",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getStoreId",421],"(",")",";",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$websiteId",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_storeManager",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getStore",422],"(",["T_VARIABLE","$storeId",422],")",["T_OBJECT_OPERATOR","->",422],["T_STRING","getWebsiteId",422],"(",")",";",["T_WHITESPACE","\n        ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$product",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","hasCustomerGroupId",423],"(",")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$customerGroupId",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$product",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getCustomerGroupId",424],"(",")",";",["T_WHITESPACE","\n        ",424],"}",["T_WHITESPACE"," ",425],["T_ELSE","else",425],["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$customerGroupId",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_customerSession",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getCustomerGroupId",426],"(",")",";",["T_WHITESPACE","\n        ",426],"}",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$dateTs",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_localeDate",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","scopeTimeStamp",428],"(",["T_VARIABLE","$storeId",428],")",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$cacheKey",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_STRING","date",429],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$dateTs",429],")",["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],"\"",["T_ENCAPSED_AND_WHITESPACE","|",429],["T_CURLY_OPEN","{",429],["T_VARIABLE","$websiteId",429],"}",["T_ENCAPSED_AND_WHITESPACE","|",429],["T_CURLY_OPEN","{",429],["T_VARIABLE","$customerGroupId",429],"}",["T_ENCAPSED_AND_WHITESPACE","|",429],["T_CURLY_OPEN","{",429],["T_VARIABLE","$productId",429],"}",["T_ENCAPSED_AND_WHITESPACE","|",429],["T_CURLY_OPEN","{",429],["T_VARIABLE","$price",429],"}","\"",";",["T_WHITESPACE","\n\n        ",429],["T_IF","if",431],["T_WHITESPACE"," ",431],"(","!",["T_STRING","array_key_exists",431],"(",["T_VARIABLE","$cacheKey",431],",",["T_WHITESPACE"," ",431],["T_STRING","self",431],["T_DOUBLE_COLON","::",431],["T_VARIABLE","$_priceRulesData",431],")",")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n            ",431],["T_VARIABLE","$rulesData",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_getRulesFromProduct",432],"(",["T_VARIABLE","$dateTs",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$websiteId",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$customerGroupId",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$productId",432],")",";",["T_WHITESPACE","\n            ",432],["T_IF","if",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$rulesData",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n                ",433],["T_FOREACH","foreach",434],["T_WHITESPACE"," ",434],"(",["T_VARIABLE","$rulesData",434],["T_WHITESPACE"," ",434],["T_AS","as",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$ruleData",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                    ",434],["T_IF","if",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$product",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","getParentId",435],"(",")",")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                        ",435],["T_VARIABLE","$priceRules",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$priceRules",436],["T_WHITESPACE"," ",436],"?",["T_WHITESPACE"," ",436],["T_VARIABLE","$priceRules",436],["T_WHITESPACE"," ",436],":",["T_WHITESPACE"," ",436],["T_VARIABLE","$price",436],";",["T_WHITESPACE","\n                        ",436],["T_IF","if",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$ruleData",437],"[",["T_CONSTANT_ENCAPSED_STRING","'action_stop'",437],"]",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n                            ",437],["T_BREAK","break",438],";",["T_WHITESPACE","\n                        ",438],"}",["T_WHITESPACE","\n                    ",439],"}",["T_WHITESPACE"," ",440],["T_ELSE","else",440],["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n                        ",440],["T_VARIABLE","$priceRules",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_catalogRuleData",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","calcPriceRule",441],"(",["T_WHITESPACE","\n                            ",441],["T_VARIABLE","$ruleData",442],"[",["T_CONSTANT_ENCAPSED_STRING","'action_operator'",442],"]",",",["T_WHITESPACE","\n                            ",442],["T_VARIABLE","$ruleData",443],"[",["T_CONSTANT_ENCAPSED_STRING","'action_amount'",443],"]",",",["T_WHITESPACE","\n                            ",443],["T_VARIABLE","$priceRules",444],["T_WHITESPACE"," ",444],"?",["T_WHITESPACE"," ",444],["T_VARIABLE","$priceRules",444],["T_WHITESPACE"," ",444],":",["T_WHITESPACE"," ",444],["T_VARIABLE","$price",444],["T_WHITESPACE","\n                        ",444],")",";",["T_WHITESPACE","\n                        ",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$ruleData",446],"[",["T_CONSTANT_ENCAPSED_STRING","'action_stop'",446],"]",")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n                            ",446],["T_BREAK","break",447],";",["T_WHITESPACE","\n                        ",447],"}",["T_WHITESPACE","\n                    ",448],"}",["T_WHITESPACE","\n                ",449],"}",["T_WHITESPACE","\n                ",450],["T_RETURN","return",451],["T_WHITESPACE"," ",451],["T_STRING","self",451],["T_DOUBLE_COLON","::",451],["T_VARIABLE","$_priceRulesData",451],"[",["T_VARIABLE","$cacheKey",451],"]",["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$priceRules",451],";",["T_WHITESPACE","\n            ",451],"}",["T_WHITESPACE"," ",452],["T_ELSE","else",452],["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n                ",452],["T_STRING","self",453],["T_DOUBLE_COLON","::",453],["T_VARIABLE","$_priceRulesData",453],"[",["T_VARIABLE","$cacheKey",453],"]",["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","null",453],";",["T_WHITESPACE","\n            ",453],"}",["T_WHITESPACE","\n        ",454],"}",["T_WHITESPACE"," ",455],["T_ELSE","else",455],["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n            ",455],["T_RETURN","return",456],["T_WHITESPACE"," ",456],["T_STRING","self",456],["T_DOUBLE_COLON","::",456],["T_VARIABLE","$_priceRulesData",456],"[",["T_VARIABLE","$cacheKey",456],"]",";",["T_WHITESPACE","\n        ",456],"}",["T_WHITESPACE","\n        ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_STRING","null",458],";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n\n    ",459],["T_DOC_COMMENT","\/**\n     * Get rules from product\n     *\n     * @param string $dateTs\n     * @param int $websiteId\n     * @param array $customerGroupId\n     * @param int $productId\n     * @return array\n     *\/",461],["T_WHITESPACE","\n    ",469],["T_PROTECTED","protected",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","_getRulesFromProduct",470],"(",["T_VARIABLE","$dateTs",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$websiteId",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$customerGroupId",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$productId",470],")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_getResource",472],"(",")",["T_OBJECT_OPERATOR","->",472],["T_STRING","getRulesFromProduct",472],"(",["T_VARIABLE","$dateTs",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$websiteId",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$customerGroupId",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$productId",472],")",";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n\n    ",473],["T_DOC_COMMENT","\/**\n     * Filtering products that must be checked for matching with rule\n     *\n     * @param  int|array $productIds\n     * @return void\n     * @codeCoverageIgnore\n     *\/",475],["T_WHITESPACE","\n    ",481],["T_PUBLIC","public",482],["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","setProductsFilter",482],"(",["T_VARIABLE","$productIds",482],")",["T_WHITESPACE","\n    ",482],"{",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_productsFilter",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$productIds",484],";",["T_WHITESPACE","\n    ",484],"}",["T_WHITESPACE","\n\n    ",485],["T_DOC_COMMENT","\/**\n     * Returns products filter\n     *\n     * @return array|int|null\n     * @codeCoverageIgnore\n     *\/",487],["T_WHITESPACE","\n    ",492],["T_PUBLIC","public",493],["T_WHITESPACE"," ",493],["T_FUNCTION","function",493],["T_WHITESPACE"," ",493],["T_STRING","getProductsFilter",493],"(",")",["T_WHITESPACE","\n    ",493],"{",["T_WHITESPACE","\n        ",494],["T_RETURN","return",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_productsFilter",495],";",["T_WHITESPACE","\n    ",495],"}",["T_WHITESPACE","\n\n    ",496],["T_DOC_COMMENT","\/**\n     * Invalidate related cache types\n     *\n     * @return $this\n     *\/",498],["T_WHITESPACE","\n    ",502],["T_PROTECTED","protected",503],["T_WHITESPACE"," ",503],["T_FUNCTION","function",503],["T_WHITESPACE"," ",503],["T_STRING","_invalidateCache",503],"(",")",["T_WHITESPACE","\n    ",503],"{",["T_WHITESPACE","\n        ",504],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_STRING","count",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","_relatedCacheTypes",505],")",")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","_cacheTypesList",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","invalidate",506],"(",["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","_relatedCacheTypes",506],")",";",["T_WHITESPACE","\n        ",506],"}",["T_WHITESPACE","\n        ",507],["T_RETURN","return",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],";",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @return $this\n     *\/",511],["T_WHITESPACE","\n    ",515],["T_PUBLIC","public",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","afterSave",516],"(",")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_IF","if",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","isObjectNew",518],"(",")",")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n            ",518],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getMatchingProductIds",519],"(",")",";",["T_WHITESPACE","\n            ",519],["T_IF","if",520],["T_WHITESPACE"," ",520],"(","!",["T_EMPTY","empty",520],"(",["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_productIds",520],")",["T_WHITESPACE"," ",520],["T_BOOLEAN_AND","&&",520],["T_WHITESPACE"," ",520],["T_STRING","is_array",520],"(",["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_productIds",520],")",")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n                ",520],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_ruleProductProcessor",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","reindexList",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_productIds",521],")",";",["T_WHITESPACE","\n            ",521],"}",["T_WHITESPACE","\n        ",522],"}",["T_WHITESPACE"," ",523],["T_ELSE","else",523],["T_WHITESPACE"," ",523],"{",["T_WHITESPACE","\n            ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_ruleProductProcessor",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getIndexer",524],"(",")",["T_OBJECT_OPERATOR","->",524],["T_STRING","invalidate",524],"(",")",";",["T_WHITESPACE","\n        ",524],"}",["T_WHITESPACE","\n        ",525],["T_RETURN","return",526],["T_WHITESPACE"," ",526],["T_STRING","parent",526],["T_DOUBLE_COLON","::",526],["T_STRING","afterSave",526],"(",")",";",["T_WHITESPACE","\n    ",526],"}",["T_WHITESPACE","\n\n    ",527],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @return $this\n     *\/",529],["T_WHITESPACE","\n    ",533],["T_PUBLIC","public",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","afterDelete",534],"(",")",["T_WHITESPACE","\n    ",534],"{",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","_ruleProductProcessor",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","getIndexer",536],"(",")",["T_OBJECT_OPERATOR","->",536],["T_STRING","invalidate",536],"(",")",";",["T_WHITESPACE","\n        ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_STRING","parent",537],["T_DOUBLE_COLON","::",537],["T_STRING","afterDelete",537],"(",")",";",["T_WHITESPACE","\n    ",537],"}",["T_WHITESPACE","\n\n    ",538],["T_DOC_COMMENT","\/**\n     * Check if rule behavior changed\n     *\n     * @return bool\n     *\/",540],["T_WHITESPACE","\n    ",544],["T_PUBLIC","public",545],["T_WHITESPACE"," ",545],["T_FUNCTION","function",545],["T_WHITESPACE"," ",545],["T_STRING","isRuleBehaviorChanged",545],"(",")",["T_WHITESPACE","\n    ",545],"{",["T_WHITESPACE","\n        ",546],["T_IF","if",547],["T_WHITESPACE"," ",547],"(","!",["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","isObjectNew",547],"(",")",")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n            ",547],["T_VARIABLE","$arrayDiff",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","dataDiff",548],"(",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getOrigData",548],"(",")",",",["T_WHITESPACE"," ",548],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getStoredData",548],"(",")",")",";",["T_WHITESPACE","\n            ",548],["T_UNSET","unset",549],"(",["T_VARIABLE","$arrayDiff",549],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",549],"]",")",";",["T_WHITESPACE","\n            ",549],["T_UNSET","unset",550],"(",["T_VARIABLE","$arrayDiff",550],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",550],"]",")",";",["T_WHITESPACE","\n            ",550],["T_IF","if",551],["T_WHITESPACE"," ",551],"(",["T_EMPTY","empty",551],"(",["T_VARIABLE","$arrayDiff",551],")",")",["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n                ",551],["T_RETURN","return",552],["T_WHITESPACE"," ",552],["T_STRING","false",552],";",["T_WHITESPACE","\n            ",552],"}",["T_WHITESPACE","\n        ",553],"}",["T_WHITESPACE","\n        ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_STRING","true",555],";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n\n    ",556],["T_DOC_COMMENT","\/**\n     * Get array with data differences\n     * @param array $array1\n     * @param array $array2\n     *\n     * @return array\n     *\/",558],["T_WHITESPACE","\n    ",564],["T_PROTECTED","protected",565],["T_WHITESPACE"," ",565],["T_FUNCTION","function",565],["T_WHITESPACE"," ",565],["T_STRING","dataDiff",565],"(",["T_VARIABLE","$array1",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$array2",565],")",["T_WHITESPACE","\n    ",565],"{",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$result",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],"[","]",";",["T_WHITESPACE","\n        ",567],["T_FOREACH","foreach",568],["T_WHITESPACE"," ",568],"(",["T_VARIABLE","$array1",568],["T_WHITESPACE"," ",568],["T_AS","as",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$key",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$value",568],")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n            ",568],["T_IF","if",569],["T_WHITESPACE"," ",569],"(",["T_STRING","array_key_exists",569],"(",["T_VARIABLE","$key",569],",",["T_WHITESPACE"," ",569],["T_VARIABLE","$array2",569],")",")",["T_WHITESPACE"," ",569],"{",["T_WHITESPACE","\n                ",569],["T_IF","if",570],["T_WHITESPACE"," ",570],"(",["T_VARIABLE","$value",570],["T_WHITESPACE"," ",570],["T_IS_NOT_EQUAL","!=",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$array2",570],"[",["T_VARIABLE","$key",570],"]",")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n                    ",570],["T_VARIABLE","$result",571],"[",["T_VARIABLE","$key",571],"]",["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_STRING","true",571],";",["T_WHITESPACE","\n                ",571],"}",["T_WHITESPACE","\n            ",572],"}",["T_WHITESPACE"," ",573],["T_ELSE","else",573],["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n                ",573],["T_VARIABLE","$result",574],"[",["T_VARIABLE","$key",574],"]",["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_STRING","true",574],";",["T_WHITESPACE","\n            ",574],"}",["T_WHITESPACE","\n        ",575],"}",["T_WHITESPACE","\n        ",576],["T_RETURN","return",577],["T_WHITESPACE"," ",577],["T_VARIABLE","$result",577],";",["T_WHITESPACE","\n    ",577],"}",["T_WHITESPACE","\n\n    ",578],["T_DOC_COMMENT","\/**\n     * @param string $formName\n     * @return string\n     *\/",580],["T_WHITESPACE","\n    ",583],["T_PUBLIC","public",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","getConditionsFieldSetId",584],"(",["T_VARIABLE","$formName",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","''",584],")",["T_WHITESPACE","\n    ",584],"{",["T_WHITESPACE","\n        ",585],["T_RETURN","return",586],["T_WHITESPACE"," ",586],["T_VARIABLE","$formName",586],["T_WHITESPACE"," ",586],".",["T_WHITESPACE"," ",586],["T_CONSTANT_ENCAPSED_STRING","'rule_conditions_fieldset_'",586],["T_WHITESPACE"," ",586],".",["T_WHITESPACE"," ",586],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","getId",586],"(",")",";",["T_WHITESPACE","\n    ",586],"}",["T_WHITESPACE","\n\n    ",587],["T_COMMENT","\/\/@codeCoverageIgnoreStart\n",589],["T_WHITESPACE","\n    ",590],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",591],["T_WHITESPACE","\n    ",593],["T_PUBLIC","public",594],["T_WHITESPACE"," ",594],["T_FUNCTION","function",594],["T_WHITESPACE"," ",594],["T_STRING","getRuleId",594],"(",")",["T_WHITESPACE","\n    ",594],"{",["T_WHITESPACE","\n        ",595],["T_RETURN","return",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","getData",596],"(",["T_STRING","self",596],["T_DOUBLE_COLON","::",596],["T_STRING","RULE_ID",596],")",";",["T_WHITESPACE","\n    ",596],"}",["T_WHITESPACE","\n\n    ",597],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",599],["T_WHITESPACE","\n    ",601],["T_PUBLIC","public",602],["T_WHITESPACE"," ",602],["T_FUNCTION","function",602],["T_WHITESPACE"," ",602],["T_STRING","setRuleId",602],"(",["T_VARIABLE","$ruleId",602],")",["T_WHITESPACE","\n    ",602],"{",["T_WHITESPACE","\n        ",603],["T_RETURN","return",604],["T_WHITESPACE"," ",604],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","setData",604],"(",["T_STRING","self",604],["T_DOUBLE_COLON","::",604],["T_STRING","RULE_ID",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$ruleId",604],")",";",["T_WHITESPACE","\n    ",604],"}",["T_WHITESPACE","\n\n    ",605],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",607],["T_WHITESPACE","\n    ",609],["T_PUBLIC","public",610],["T_WHITESPACE"," ",610],["T_FUNCTION","function",610],["T_WHITESPACE"," ",610],["T_STRING","getName",610],"(",")",["T_WHITESPACE","\n    ",610],"{",["T_WHITESPACE","\n        ",611],["T_RETURN","return",612],["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","getData",612],"(",["T_STRING","self",612],["T_DOUBLE_COLON","::",612],["T_STRING","NAME",612],")",";",["T_WHITESPACE","\n    ",612],"}",["T_WHITESPACE","\n\n    ",613],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",615],["T_WHITESPACE","\n    ",617],["T_PUBLIC","public",618],["T_WHITESPACE"," ",618],["T_FUNCTION","function",618],["T_WHITESPACE"," ",618],["T_STRING","setName",618],"(",["T_VARIABLE","$name",618],")",["T_WHITESPACE","\n    ",618],"{",["T_WHITESPACE","\n        ",619],["T_RETURN","return",620],["T_WHITESPACE"," ",620],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","setData",620],"(",["T_STRING","self",620],["T_DOUBLE_COLON","::",620],["T_STRING","NAME",620],",",["T_WHITESPACE"," ",620],["T_VARIABLE","$name",620],")",";",["T_WHITESPACE","\n    ",620],"}",["T_WHITESPACE","\n\n    ",621],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",623],["T_WHITESPACE","\n    ",625],["T_PUBLIC","public",626],["T_WHITESPACE"," ",626],["T_FUNCTION","function",626],["T_WHITESPACE"," ",626],["T_STRING","getDescription",626],"(",")",["T_WHITESPACE","\n    ",626],"{",["T_WHITESPACE","\n        ",627],["T_RETURN","return",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","getData",628],"(",["T_STRING","self",628],["T_DOUBLE_COLON","::",628],["T_STRING","DESCRIPTION",628],")",";",["T_WHITESPACE","\n    ",628],"}",["T_WHITESPACE","\n\n    ",629],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",631],["T_WHITESPACE","\n    ",633],["T_PUBLIC","public",634],["T_WHITESPACE"," ",634],["T_FUNCTION","function",634],["T_WHITESPACE"," ",634],["T_STRING","setDescription",634],"(",["T_VARIABLE","$description",634],")",["T_WHITESPACE","\n    ",634],"{",["T_WHITESPACE","\n        ",635],["T_RETURN","return",636],["T_WHITESPACE"," ",636],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","setData",636],"(",["T_STRING","self",636],["T_DOUBLE_COLON","::",636],["T_STRING","DESCRIPTION",636],",",["T_WHITESPACE"," ",636],["T_VARIABLE","$description",636],")",";",["T_WHITESPACE","\n    ",636],"}",["T_WHITESPACE","\n\n    ",637],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",639],["T_WHITESPACE","\n    ",641],["T_PUBLIC","public",642],["T_WHITESPACE"," ",642],["T_FUNCTION","function",642],["T_WHITESPACE"," ",642],["T_STRING","getIsActive",642],"(",")",["T_WHITESPACE","\n    ",642],"{",["T_WHITESPACE","\n        ",643],["T_RETURN","return",644],["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","getData",644],"(",["T_STRING","self",644],["T_DOUBLE_COLON","::",644],["T_STRING","IS_ACTIVE",644],")",";",["T_WHITESPACE","\n    ",644],"}",["T_WHITESPACE","\n\n    ",645],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",647],["T_WHITESPACE","\n    ",649],["T_PUBLIC","public",650],["T_WHITESPACE"," ",650],["T_FUNCTION","function",650],["T_WHITESPACE"," ",650],["T_STRING","setIsActive",650],"(",["T_VARIABLE","$isActive",650],")",["T_WHITESPACE","\n    ",650],"{",["T_WHITESPACE","\n        ",651],["T_RETURN","return",652],["T_WHITESPACE"," ",652],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","setData",652],"(",["T_STRING","self",652],["T_DOUBLE_COLON","::",652],["T_STRING","IS_ACTIVE",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$isActive",652],")",";",["T_WHITESPACE","\n    ",652],"}",["T_WHITESPACE","\n\n    ",653],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",655],["T_WHITESPACE","\n    ",657],["T_PUBLIC","public",658],["T_WHITESPACE"," ",658],["T_FUNCTION","function",658],["T_WHITESPACE"," ",658],["T_STRING","getRuleCondition",658],"(",")",["T_WHITESPACE","\n    ",658],"{",["T_WHITESPACE","\n        ",659],["T_RETURN","return",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getRuleConditionConverter",660],"(",")",["T_OBJECT_OPERATOR","->",660],["T_STRING","arrayToDataModel",660],"(",["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getConditions",660],"(",")",["T_OBJECT_OPERATOR","->",660],["T_STRING","asArray",660],"(",")",")",";",["T_WHITESPACE","\n    ",660],"}",["T_WHITESPACE","\n\n    ",661],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",663],["T_WHITESPACE","\n    ",665],["T_PUBLIC","public",666],["T_WHITESPACE"," ",666],["T_FUNCTION","function",666],["T_WHITESPACE"," ",666],["T_STRING","setRuleCondition",666],"(",["T_VARIABLE","$condition",666],")",["T_WHITESPACE","\n    ",666],"{",["T_WHITESPACE","\n        ",667],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","getConditions",668],"(",")",["T_WHITESPACE","\n            ",668],["T_OBJECT_OPERATOR","->",669],["T_STRING","setConditions",669],"(","[","]",")",["T_WHITESPACE","\n            ",669],["T_OBJECT_OPERATOR","->",670],["T_STRING","loadArray",670],"(",["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","getRuleConditionConverter",670],"(",")",["T_OBJECT_OPERATOR","->",670],["T_STRING","dataModelToArray",670],"(",["T_VARIABLE","$condition",670],")",")",";",["T_WHITESPACE","\n        ",670],["T_RETURN","return",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],";",["T_WHITESPACE","\n    ",671],"}",["T_WHITESPACE","\n\n    ",672],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",674],["T_WHITESPACE","\n    ",676],["T_PUBLIC","public",677],["T_WHITESPACE"," ",677],["T_FUNCTION","function",677],["T_WHITESPACE"," ",677],["T_STRING","getStopRulesProcessing",677],"(",")",["T_WHITESPACE","\n    ",677],"{",["T_WHITESPACE","\n        ",678],["T_RETURN","return",679],["T_WHITESPACE"," ",679],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","getData",679],"(",["T_STRING","self",679],["T_DOUBLE_COLON","::",679],["T_STRING","STOP_RULES_PROCESSING",679],")",";",["T_WHITESPACE","\n    ",679],"}",["T_WHITESPACE","\n\n    ",680],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",682],["T_WHITESPACE","\n    ",684],["T_PUBLIC","public",685],["T_WHITESPACE"," ",685],["T_FUNCTION","function",685],["T_WHITESPACE"," ",685],["T_STRING","setStopRulesProcessing",685],"(",["T_VARIABLE","$isStopProcessing",685],")",["T_WHITESPACE","\n    ",685],"{",["T_WHITESPACE","\n        ",686],["T_RETURN","return",687],["T_WHITESPACE"," ",687],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","setData",687],"(",["T_STRING","self",687],["T_DOUBLE_COLON","::",687],["T_STRING","STOP_RULES_PROCESSING",687],",",["T_WHITESPACE"," ",687],["T_VARIABLE","$isStopProcessing",687],")",";",["T_WHITESPACE","\n    ",687],"}",["T_WHITESPACE","\n\n    ",688],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",690],["T_WHITESPACE","\n    ",692],["T_PUBLIC","public",693],["T_WHITESPACE"," ",693],["T_FUNCTION","function",693],["T_WHITESPACE"," ",693],["T_STRING","getSortOrder",693],"(",")",["T_WHITESPACE","\n    ",693],"{",["T_WHITESPACE","\n        ",694],["T_RETURN","return",695],["T_WHITESPACE"," ",695],["T_VARIABLE","$this",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","getData",695],"(",["T_STRING","self",695],["T_DOUBLE_COLON","::",695],["T_STRING","SORT_ORDER",695],")",";",["T_WHITESPACE","\n    ",695],"}",["T_WHITESPACE","\n\n    ",696],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",698],["T_WHITESPACE","\n    ",700],["T_PUBLIC","public",701],["T_WHITESPACE"," ",701],["T_FUNCTION","function",701],["T_WHITESPACE"," ",701],["T_STRING","setSortOrder",701],"(",["T_VARIABLE","$sortOrder",701],")",["T_WHITESPACE","\n    ",701],"{",["T_WHITESPACE","\n        ",702],["T_RETURN","return",703],["T_WHITESPACE"," ",703],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","setData",703],"(",["T_STRING","self",703],["T_DOUBLE_COLON","::",703],["T_STRING","SORT_ORDER",703],",",["T_WHITESPACE"," ",703],["T_VARIABLE","$sortOrder",703],")",";",["T_WHITESPACE","\n    ",703],"}",["T_WHITESPACE","\n\n    ",704],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",706],["T_WHITESPACE","\n    ",708],["T_PUBLIC","public",709],["T_WHITESPACE"," ",709],["T_FUNCTION","function",709],["T_WHITESPACE"," ",709],["T_STRING","getSimpleAction",709],"(",")",["T_WHITESPACE","\n    ",709],"{",["T_WHITESPACE","\n        ",710],["T_RETURN","return",711],["T_WHITESPACE"," ",711],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","getData",711],"(",["T_STRING","self",711],["T_DOUBLE_COLON","::",711],["T_STRING","SIMPLE_ACTION",711],")",";",["T_WHITESPACE","\n    ",711],"}",["T_WHITESPACE","\n\n    ",712],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",714],["T_WHITESPACE","\n    ",716],["T_PUBLIC","public",717],["T_WHITESPACE"," ",717],["T_FUNCTION","function",717],["T_WHITESPACE"," ",717],["T_STRING","setSimpleAction",717],"(",["T_VARIABLE","$action",717],")",["T_WHITESPACE","\n    ",717],"{",["T_WHITESPACE","\n        ",718],["T_RETURN","return",719],["T_WHITESPACE"," ",719],["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","setData",719],"(",["T_STRING","self",719],["T_DOUBLE_COLON","::",719],["T_STRING","SIMPLE_ACTION",719],",",["T_WHITESPACE"," ",719],["T_VARIABLE","$action",719],")",";",["T_WHITESPACE","\n    ",719],"}",["T_WHITESPACE","\n\n    ",720],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",722],["T_WHITESPACE","\n    ",724],["T_PUBLIC","public",725],["T_WHITESPACE"," ",725],["T_FUNCTION","function",725],["T_WHITESPACE"," ",725],["T_STRING","getDiscountAmount",725],"(",")",["T_WHITESPACE","\n    ",725],"{",["T_WHITESPACE","\n        ",726],["T_RETURN","return",727],["T_WHITESPACE"," ",727],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","getData",727],"(",["T_STRING","self",727],["T_DOUBLE_COLON","::",727],["T_STRING","DISCOUNT_AMOUNT",727],")",";",["T_WHITESPACE","\n    ",727],"}",["T_WHITESPACE","\n\n    ",728],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",730],["T_WHITESPACE","\n    ",732],["T_PUBLIC","public",733],["T_WHITESPACE"," ",733],["T_FUNCTION","function",733],["T_WHITESPACE"," ",733],["T_STRING","setDiscountAmount",733],"(",["T_VARIABLE","$amount",733],")",["T_WHITESPACE","\n    ",733],"{",["T_WHITESPACE","\n        ",734],["T_RETURN","return",735],["T_WHITESPACE"," ",735],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","setData",735],"(",["T_STRING","self",735],["T_DOUBLE_COLON","::",735],["T_STRING","DISCOUNT_AMOUNT",735],",",["T_WHITESPACE"," ",735],["T_VARIABLE","$amount",735],")",";",["T_WHITESPACE","\n    ",735],"}",["T_WHITESPACE","\n\n    ",736],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",738],["T_WHITESPACE","\n    ",740],["T_PUBLIC","public",741],["T_WHITESPACE"," ",741],["T_FUNCTION","function",741],["T_WHITESPACE"," ",741],["T_STRING","getFromDate",741],"(",")",["T_WHITESPACE","\n    ",741],"{",["T_WHITESPACE","\n        ",742],["T_RETURN","return",743],["T_WHITESPACE"," ",743],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","getData",743],"(",["T_CONSTANT_ENCAPSED_STRING","'from_date'",743],")",";",["T_WHITESPACE","\n    ",743],"}",["T_WHITESPACE","\n\n    ",744],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",746],["T_WHITESPACE","\n    ",748],["T_PUBLIC","public",749],["T_WHITESPACE"," ",749],["T_FUNCTION","function",749],["T_WHITESPACE"," ",749],["T_STRING","getToDate",749],"(",")",["T_WHITESPACE","\n    ",749],"{",["T_WHITESPACE","\n        ",750],["T_RETURN","return",751],["T_WHITESPACE"," ",751],["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","getData",751],"(",["T_CONSTANT_ENCAPSED_STRING","'to_date'",751],")",";",["T_WHITESPACE","\n    ",751],"}",["T_WHITESPACE","\n\n    ",752],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @return \\Magento\\CatalogRule\\Api\\Data\\RuleExtensionInterface|null\n     *\/",754],["T_WHITESPACE","\n    ",758],["T_PUBLIC","public",759],["T_WHITESPACE"," ",759],["T_FUNCTION","function",759],["T_WHITESPACE"," ",759],["T_STRING","getExtensionAttributes",759],"(",")",["T_WHITESPACE","\n    ",759],"{",["T_WHITESPACE","\n        ",760],["T_RETURN","return",761],["T_WHITESPACE"," ",761],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","_getExtensionAttributes",761],"(",")",";",["T_WHITESPACE","\n    ",761],"}",["T_WHITESPACE","\n\n    ",762],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @param \\Magento\\CatalogRule\\Api\\Data\\RuleExtensionInterface $extensionAttributes\n     * @return $this\n     *\/",764],["T_WHITESPACE","\n    ",769],["T_PUBLIC","public",770],["T_WHITESPACE"," ",770],["T_FUNCTION","function",770],["T_WHITESPACE"," ",770],["T_STRING","setExtensionAttributes",770],"(",["T_NS_SEPARATOR","\\",770],["T_STRING","Magento",770],["T_NS_SEPARATOR","\\",770],["T_STRING","CatalogRule",770],["T_NS_SEPARATOR","\\",770],["T_STRING","Api",770],["T_NS_SEPARATOR","\\",770],["T_STRING","Data",770],["T_NS_SEPARATOR","\\",770],["T_STRING","RuleExtensionInterface",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$extensionAttributes",770],")",["T_WHITESPACE","\n    ",770],"{",["T_WHITESPACE","\n        ",771],["T_RETURN","return",772],["T_WHITESPACE"," ",772],["T_VARIABLE","$this",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","_setExtensionAttributes",772],"(",["T_VARIABLE","$extensionAttributes",772],")",";",["T_WHITESPACE","\n    ",772],"}",["T_WHITESPACE","\n\n    ",773],["T_DOC_COMMENT","\/**\n     * @return Data\\Condition\\Converter\n     * @deprecated\n     *\/",775],["T_WHITESPACE","\n    ",778],["T_PRIVATE","private",779],["T_WHITESPACE"," ",779],["T_FUNCTION","function",779],["T_WHITESPACE"," ",779],["T_STRING","getRuleConditionConverter",779],"(",")",["T_WHITESPACE","\n    ",779],"{",["T_WHITESPACE","\n        ",780],["T_IF","if",781],["T_WHITESPACE"," ",781],"(",["T_STRING","null",781],["T_WHITESPACE"," ",781],["T_IS_IDENTICAL","===",781],["T_WHITESPACE"," ",781],["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","ruleConditionConverter",781],")",["T_WHITESPACE"," ",781],"{",["T_WHITESPACE","\n            ",781],["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","ruleConditionConverter",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],["T_NS_SEPARATOR","\\",782],["T_STRING","Magento",782],["T_NS_SEPARATOR","\\",782],["T_STRING","Framework",782],["T_NS_SEPARATOR","\\",782],["T_STRING","App",782],["T_NS_SEPARATOR","\\",782],["T_STRING","ObjectManager",782],["T_DOUBLE_COLON","::",782],["T_STRING","getInstance",782],"(",")",["T_WHITESPACE","\n                ",782],["T_OBJECT_OPERATOR","->",783],["T_STRING","get",783],"(",["T_NS_SEPARATOR","\\",783],["T_STRING","Magento",783],["T_NS_SEPARATOR","\\",783],["T_STRING","CatalogRule",783],["T_NS_SEPARATOR","\\",783],["T_STRING","Model",783],["T_NS_SEPARATOR","\\",783],["T_STRING","Data",783],["T_NS_SEPARATOR","\\",783],["T_STRING","Condition",783],["T_NS_SEPARATOR","\\",783],["T_STRING","Converter",783],["T_DOUBLE_COLON","::",783],["T_CLASS","class",783],")",";",["T_WHITESPACE","\n        ",783],"}",["T_WHITESPACE","\n        ",784],["T_RETURN","return",785],["T_WHITESPACE"," ",785],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","ruleConditionConverter",785],";",["T_WHITESPACE","\n    ",785],"}",["T_WHITESPACE","\n    ",786],["T_COMMENT","\/\/@codeCoverageIgnoreEnd\n",787],["T_WHITESPACE","\n    ",788],["T_DOC_COMMENT","\/**\n     * @inheritDoc\n     *\/",789],["T_WHITESPACE","\n    ",791],["T_PUBLIC","public",792],["T_WHITESPACE"," ",792],["T_FUNCTION","function",792],["T_WHITESPACE"," ",792],["T_STRING","getIdentities",792],"(",")",["T_WHITESPACE","\n    ",792],"{",["T_WHITESPACE","\n        ",793],["T_RETURN","return",794],["T_WHITESPACE"," ",794],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",794],"]",";",["T_WHITESPACE","\n    ",794],"}",["T_WHITESPACE","\n",795],"}",["T_WHITESPACE","\n",796]]