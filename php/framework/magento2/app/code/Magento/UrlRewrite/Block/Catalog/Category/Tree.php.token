[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","UrlRewrite",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Category",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CategoryRepositoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Category",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],["T_NS_SEPARATOR","\\",10],["T_STRING","NoSuchEntityException",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Categories tree block for URL rewrites editing process\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Tree",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Catalog",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Block",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Adminhtml",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Category",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractCategory",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * List of allowed category ids\n     *\n     * @var []\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_allowedCategoryIds",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],"[","]",";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_template",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'categories.phtml'",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Adminhtml data\n     *\n     * @var \\Magento\\Backend\\Helper\\Data\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_adminhtmlData",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","null",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\CategoryFactory\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_categoryFactory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductFactory\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_productFactory",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Json\\EncoderInterface\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_jsonEncoder",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var CategoryRepositoryInterface\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$categoryRepository",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Widget\\Context $context\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Category\\Tree $categoryTree\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Json\\EncoderInterface $jsonEncoder\n     * @param \\Magento\\Catalog\\Model\\ProductFactory $productFactory\n     * @param \\Magento\\Catalog\\Model\\CategoryFactory $categoryFactory\n     * @param \\Magento\\Backend\\Helper\\Data $adminhtmlData\n     * @param CategoryRepositoryInterface $categoryRepository\n     * @param array $data\n     *\/",58],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","__construct",69],"(",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Backend",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Block",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Widget",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Context",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$context",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Catalog",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Model",71],["T_NS_SEPARATOR","\\",71],["T_STRING","ResourceModel",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Category",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Tree",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$categoryTree",71],",",["T_WHITESPACE","\n        ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Framework",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Registry",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$registry",72],",",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Catalog",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Model",73],["T_NS_SEPARATOR","\\",73],["T_STRING","CategoryFactory",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$categoryFactory",73],",",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Framework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Json",74],["T_NS_SEPARATOR","\\",74],["T_STRING","EncoderInterface",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$jsonEncoder",74],",",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Catalog",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Model",75],["T_NS_SEPARATOR","\\",75],["T_STRING","ProductFactory",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$productFactory",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Backend",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Helper",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Data",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$adminhtmlData",76],",",["T_WHITESPACE","\n        ",76],["T_STRING","CategoryRepositoryInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$categoryRepository",77],",",["T_WHITESPACE","\n        ",77],["T_ARRAY","array",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$data",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[","]",["T_WHITESPACE","\n    ",78],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_jsonEncoder",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$jsonEncoder",80],";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_categoryFactory",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$categoryFactory",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_productFactory",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$productFactory",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_adminhtmlData",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$adminhtmlData",83],";",["T_WHITESPACE","\n        ",83],["T_STRING","parent",84],["T_DOUBLE_COLON","::",84],["T_STRING","__construct",84],"(",["T_VARIABLE","$context",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$categoryTree",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$registry",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$categoryFactory",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$data",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","categoryRepository",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$categoryRepository",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Get categories tree as recursive array\n     *\n     * @param int $parentId\n     * @param bool $asJson\n     * @param int $recursionLevel\n     * @return array\n     *\/",88],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","getTreeArray",96],"(",["T_VARIABLE","$parentId",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","null",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$asJson",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","false",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$recursionLevel",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_LNUMBER","3",96],")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$productId",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_request",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getParam",98],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",98],")",";",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$productId",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$product",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_productFactory",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","create",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","setId",100],"(",["T_VARIABLE","$productId",100],")",";",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_allowedCategoryIds",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$product",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getCategoryIds",101],"(",")",";",["T_WHITESPACE","\n            ",101],["T_UNSET","unset",102],"(",["T_VARIABLE","$product",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$result",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],"[","]",";",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$parentId",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_TRY","try",107],["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$category",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","categoryRepository",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","get",108],"(",["T_VARIABLE","$parentId",108],")",";",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE"," ",109],["T_CATCH","catch",109],["T_WHITESPACE"," ",109],"(",["T_STRING","NoSuchEntityException",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$e",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_VARIABLE","$category",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","null",110],";",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE","\n            ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$category",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$tree",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_getNodesArray",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getNode",113],"(",["T_VARIABLE","$category",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$recursionLevel",113],")",")",";",["T_WHITESPACE","\n                ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(","!",["T_EMPTY","empty",114],"(",["T_VARIABLE","$tree",114],")",["T_WHITESPACE"," ",114],["T_BOOLEAN_AND","&&",114],["T_WHITESPACE"," ",114],"!",["T_EMPTY","empty",114],"(",["T_VARIABLE","$tree",114],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",114],"]",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n                    ",114],["T_VARIABLE","$result",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$tree",115],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",115],"]",";",["T_WHITESPACE","\n                ",115],"}",["T_WHITESPACE","\n            ",116],"}",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE"," ",118],["T_ELSE","else",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$result",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_getNodesArray",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getRoot",119],"(",["T_STRING","null",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$recursionLevel",119],")",")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$asJson",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_jsonEncoder",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","encode",123],"(",["T_VARIABLE","$result",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_allowedCategoryIds",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"[","]",";",["T_WHITESPACE","\n\n        ",126],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$result",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Get categories collection\n     *\n     * @return \\Magento\\Catalog\\Model\\ResourceModel\\Category\\Collection\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","getCategoryCollection",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$collection",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_getData",138],"(",["T_CONSTANT_ENCAPSED_STRING","'category_collection'",138],")",";",["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$collection",139],["T_WHITESPACE"," ",139],["T_IS_IDENTICAL","===",139],["T_WHITESPACE"," ",139],["T_STRING","null",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$collection",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_categoryFactory",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","create",140],"(",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","getCollection",140],"(",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","addAttributeToSelect",140],"(",["T_WHITESPACE","\n                ",140],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'is_active'",141],"]",["T_WHITESPACE","\n            ",141],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","setLoadProductCount",142],"(",["T_WHITESPACE","\n                ",142],["T_STRING","true",143],["T_WHITESPACE","\n            ",143],")",";",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setData",145],"(",["T_CONSTANT_ENCAPSED_STRING","'category_collection'",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$collection",145],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$collection",148],";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Convert categories tree to array recursively\n     *\n     * @param  \\Magento\\Framework\\Data\\Tree\\Node $node\n     * @return array\n     *\/",151],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","_getNodesArray",157],"(",["T_VARIABLE","$node",157],")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$result",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],"[",["T_WHITESPACE","\n            ",159],["T_CONSTANT_ENCAPSED_STRING","'id'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_INT_CAST","(int)",160],["T_VARIABLE","$node",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getId",160],"(",")",",",["T_WHITESPACE","\n            ",160],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_INT_CAST","(int)",161],["T_VARIABLE","$node",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getParentId",161],"(",")",",",["T_WHITESPACE","\n            ",161],["T_CONSTANT_ENCAPSED_STRING","'children_count'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_INT_CAST","(int)",162],["T_VARIABLE","$node",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getChildrenCount",162],"(",")",",",["T_WHITESPACE","\n            ",162],["T_CONSTANT_ENCAPSED_STRING","'is_active'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_BOOL_CAST","(bool)",163],["T_VARIABLE","$node",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getIsActive",163],"(",")",",",["T_WHITESPACE","\n            ",163],["T_CONSTANT_ENCAPSED_STRING","'name'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$node",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getName",164],"(",")",",",["T_WHITESPACE","\n            ",164],["T_CONSTANT_ENCAPSED_STRING","'level'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_INT_CAST","(int)",165],["T_VARIABLE","$node",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getLevel",165],"(",")",",",["T_WHITESPACE","\n            ",165],["T_CONSTANT_ENCAPSED_STRING","'product_count'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_INT_CAST","(int)",166],["T_VARIABLE","$node",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getProductCount",166],"(",")",",",["T_WHITESPACE","\n        ",166],"]",";",["T_WHITESPACE","\n\n        ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$node",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getParentId",169],"(",")",["T_WHITESPACE"," ",169],["T_IS_EQUAL","==",169],["T_WHITESPACE"," ",169],["T_STRING","Category",169],["T_DOUBLE_COLON","::",169],["T_STRING","TREE_ROOT_ID",169],["T_WHITESPACE"," ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE"," ",169],"!",["T_STRING","in_array",169],"(",["T_VARIABLE","$result",169],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",169],"]",",",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_allowedCategoryIds",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$result",170],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","true",170],";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n\n        ",171],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$node",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","hasChildren",173],"(",")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$result",174],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],"[","]",";",["T_WHITESPACE","\n            ",174],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$node",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getChildren",175],"(",")",["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$childNode",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$result",176],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",176],"]","[","]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_getNodesArray",176],"(",["T_VARIABLE","$childNode",176],")",";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$result",179],"[",["T_CONSTANT_ENCAPSED_STRING","'cls'",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$result",179],"[",["T_CONSTANT_ENCAPSED_STRING","'is_active'",179],"]",["T_WHITESPACE"," ",179],"?",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","''",179],["T_WHITESPACE"," ",179],":",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'no-'",179],")",["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'active-category'",179],";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$result",180],"[",["T_CONSTANT_ENCAPSED_STRING","'expanded'",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],"!",["T_EMPTY","empty",180],"(",["T_VARIABLE","$result",180],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",180],"]",")",";",["T_WHITESPACE","\n\n        ",180],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$result",182],";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Get URL for categories tree ajax loader\n     *\n     * @return string\n     *\/",185],["T_WHITESPACE","\n    ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","getLoadTreeUrl",190],"(",")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_adminhtmlData",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getUrl",192],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/*\/categoriesJson'",192],")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n",193],"}",["T_WHITESPACE","\n",194]]