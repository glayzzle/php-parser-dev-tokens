[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Deploy",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Console",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Output",8],["T_NS_SEPARATOR","\\",8],["T_STRING","OutputInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","State",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DeploymentConfig",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Writer",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Filesystem",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DirectoryList",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LocalizedException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","User",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResourceModel",13],["T_NS_SEPARATOR","\\",13],["T_STRING","User",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Collection",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","UserCollection",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Generate static files, compile\n * \u00d0\u00a1lear generated\/code, generated\/metadata\/, var\/view_preprocessed and pub\/static directories\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",15],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","Filesystem",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * File access permissions\n     *\n     * @deprecated\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","PERMISSIONS_FILE",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_LNUMBER","0640",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Directory access permissions\n     *\n     * @deprecated\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","PERMISSIONS_DIR",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_LNUMBER","0750",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Default theme when no theme is stored in configuration\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","DEFAULT_THEME",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'Magento\/blank'",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\DeploymentConfig\\Writer\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$writer",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\DeploymentConfig\\Reader\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$reader",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$objectManager",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PRIVATE","private",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$filesystem",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Filesystem\\DirectoryList\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PRIVATE","private",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$directoryList",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Driver\\File\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_PRIVATE","private",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$driverFile",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\Config\\StoreView\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PRIVATE","private",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$storeView",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ShellInterface\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PRIVATE","private",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$shell",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_PRIVATE","private",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$functionCallPath",85],";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * @var UserCollection\n     *\/",87],["T_WHITESPACE","\n    ",89],["T_PRIVATE","private",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$userCollection",90],";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\DeploymentConfig\\Writer $writer\n     * @param \\Magento\\Framework\\App\\DeploymentConfig\\Reader $reader\n     * @param \\Magento\\Framework\\ObjectManagerInterface $objectManager\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\Framework\\App\\Filesystem\\DirectoryList $directoryList\n     * @param \\Magento\\Framework\\Filesystem\\Driver\\File $driverFile\n     * @param \\Magento\\Store\\Model\\Config\\StoreView $storeView\n     * @param \\Magento\\Framework\\Shell $shell\n     *\/",92],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","__construct",102],"(",["T_WHITESPACE","\n        ",102],["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Framework",103],["T_NS_SEPARATOR","\\",103],["T_STRING","App",103],["T_NS_SEPARATOR","\\",103],["T_STRING","DeploymentConfig",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Writer",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$writer",103],",",["T_WHITESPACE","\n        ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Framework",104],["T_NS_SEPARATOR","\\",104],["T_STRING","App",104],["T_NS_SEPARATOR","\\",104],["T_STRING","DeploymentConfig",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Reader",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$reader",104],",",["T_WHITESPACE","\n        ",104],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Framework",105],["T_NS_SEPARATOR","\\",105],["T_STRING","ObjectManagerInterface",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$objectManager",105],",",["T_WHITESPACE","\n        ",105],["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Framework",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Filesystem",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$filesystem",106],",",["T_WHITESPACE","\n        ",106],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","App",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Filesystem",107],["T_NS_SEPARATOR","\\",107],["T_STRING","DirectoryList",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$directoryList",107],",",["T_WHITESPACE","\n        ",107],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Framework",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Filesystem",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Driver",108],["T_NS_SEPARATOR","\\",108],["T_STRING","File",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$driverFile",108],",",["T_WHITESPACE","\n        ",108],["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Store",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Model",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Config",109],["T_NS_SEPARATOR","\\",109],["T_STRING","StoreView",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$storeView",109],",",["T_WHITESPACE","\n        ",109],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Framework",110],["T_NS_SEPARATOR","\\",110],["T_STRING","ShellInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$shell",110],["T_WHITESPACE","\n    ",110],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","writer",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$writer",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","reader",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$reader",113],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","objectManager",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$objectManager",114],";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","filesystem",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$filesystem",115],";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","directoryList",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$directoryList",116],";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","driverFile",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$driverFile",117],";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","storeView",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$storeView",118],";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","shell",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$shell",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","functionCallPath",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE","\n            ",120],["T_STRING","PHP_BINARY",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","' -f '",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_STRING","BP",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_STRING","DIRECTORY_SEPARATOR",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'bin'",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_STRING","DIRECTORY_SEPARATOR",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'magento '",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Regenerate static\n     *\n     * @param OutputInterface $output\n     * @return void\n     *\/",124],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","regenerateStatic",130],"(",["T_WHITESPACE","\n        ",130],["T_STRING","OutputInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$output",131],["T_WHITESPACE","\n    ",131],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n        ",132],["T_COMMENT","\/\/ \u00d0\u00a1lear generated\/code, generated\/metadata\/, var\/view_preprocessed and pub\/static directories\n",133],["T_WHITESPACE","        ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","cleanupFilesystem",134],"(",["T_WHITESPACE","\n            ",134],"[",["T_WHITESPACE","\n                ",135],["T_STRING","DirectoryList",136],["T_DOUBLE_COLON","::",136],["T_STRING","CACHE",136],",",["T_WHITESPACE","\n                ",136],["T_STRING","DirectoryList",137],["T_DOUBLE_COLON","::",137],["T_STRING","GENERATION",137],",",["T_WHITESPACE","\n                ",137],["T_STRING","DirectoryList",138],["T_DOUBLE_COLON","::",138],["T_STRING","DI",138],",",["T_WHITESPACE","\n                ",138],["T_STRING","DirectoryList",139],["T_DOUBLE_COLON","::",139],["T_STRING","TMP_MATERIALIZATION_DIR",139],["T_WHITESPACE","\n            ",139],"]",["T_WHITESPACE","\n        ",140],")",";",["T_WHITESPACE","\n        \n        ",141],["T_COMMENT","\/\/ Trigger code generation\n",143],["T_WHITESPACE","        ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","compile",144],"(",["T_VARIABLE","$output",144],")",";",["T_WHITESPACE","\n        ",144],["T_COMMENT","\/\/ Trigger static assets compilation and deployment\n",145],["T_WHITESPACE","        ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","deployStaticContent",146],"(",["T_VARIABLE","$output",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Deploy static content\n     *\n     * @param OutputInterface $output\n     * @return void\n     * @throws \\Exception\n     *\/",149],["T_WHITESPACE","\n    ",155],["T_PROTECTED","protected",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","deployStaticContent",156],"(",["T_WHITESPACE","\n        ",156],["T_STRING","OutputInterface",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$output",157],["T_WHITESPACE","\n    ",157],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$output",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","writeln",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Starting deployment of static content'",159],")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$cmd",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","functionCallPath",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'setup:static-content:deploy -f '",160],["T_WHITESPACE","\n            ",160],".",["T_WHITESPACE"," ",161],["T_STRING","implode",161],"(",["T_CONSTANT_ENCAPSED_STRING","' '",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getUsedLocales",161],"(",")",")",";",["T_WHITESPACE","\n\n        ",161],["T_DOC_COMMENT","\/**\n         * @todo eliminate exec\n         *\/",163],["T_WHITESPACE","\n        ",165],["T_TRY","try",166],["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$execOutput",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","shell",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","execute",167],"(",["T_VARIABLE","$cmd",167],")",";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE"," ",168],["T_CATCH","catch",168],["T_WHITESPACE"," ",168],"(",["T_STRING","LocalizedException",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$e",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$output",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","writeln",169],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while deploying static content. See the error log for details.'",169],")",";",["T_WHITESPACE","\n            ",169],["T_THROW","throw",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$e",170],";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$output",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","writeln",172],"(",["T_VARIABLE","$execOutput",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$output",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","writeln",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Deployment of static content complete'",173],")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Get admin user locales\n     *\n     * @return []string\n     *\/",176],["T_WHITESPACE","\n    ",180],["T_PRIVATE","private",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getAdminUserInterfaceLocales",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$locales",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],"[","]",";",["T_WHITESPACE","\n        ",183],["T_FOREACH","foreach",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getUserCollection",184],"(",")",["T_WHITESPACE"," ",184],["T_AS","as",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$user",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$locales",185],"[","]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$user",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getInterfaceLocale",185],"(",")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n        ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$locales",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Get used store and admin user locales\n     *\n     * @return []string\n     *\/",190],["T_WHITESPACE","\n    ",194],["T_PRIVATE","private",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","getUsedLocales",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$usedLocales",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","array_merge",197],"(",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","storeView",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","retrieveLocales",198],"(",")",",",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getAdminUserInterfaceLocales",199],"(",")",["T_WHITESPACE","\n        ",199],")",";",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_STRING","array_unique",201],"(",["T_VARIABLE","$usedLocales",201],")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Get user collection\n     *\n     * @return UserCollection\n     * @deprecated\n     *\/",204],["T_WHITESPACE","\n    ",209],["T_PRIVATE","private",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","getUserCollection",210],"(",")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(","!","(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","userCollection",212],["T_WHITESPACE"," ",212],["T_INSTANCEOF","instanceof",212],["T_WHITESPACE"," ",212],["T_STRING","UserCollection",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Magento",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Framework",213],["T_NS_SEPARATOR","\\",213],["T_STRING","App",213],["T_NS_SEPARATOR","\\",213],["T_STRING","ObjectManager",213],["T_DOUBLE_COLON","::",213],["T_STRING","getInstance",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","get",213],"(",["T_WHITESPACE","\n                ",213],["T_STRING","UserCollection",214],["T_DOUBLE_COLON","::",214],["T_CLASS","class",214],["T_WHITESPACE","\n            ",214],")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","userCollection",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Runs compiler\n     *\n     * @param OutputInterface $output\n     * @return void\n     * @throws LocalizedException\n     *\/",220],["T_WHITESPACE","\n    ",226],["T_PROTECTED","protected",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","compile",227],"(",["T_STRING","OutputInterface",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$output",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$output",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","writeln",229],"(",["T_CONSTANT_ENCAPSED_STRING","'Starting compilation'",229],")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","cleanupFilesystem",230],"(",["T_WHITESPACE","\n            ",230],"[",["T_WHITESPACE","\n                ",231],["T_STRING","DirectoryList",232],["T_DOUBLE_COLON","::",232],["T_STRING","CACHE",232],",",["T_WHITESPACE","\n                ",232],["T_STRING","DirectoryList",233],["T_DOUBLE_COLON","::",233],["T_STRING","GENERATION",233],",",["T_WHITESPACE","\n                ",233],["T_STRING","DirectoryList",234],["T_DOUBLE_COLON","::",234],["T_STRING","DI",234],",",["T_WHITESPACE","\n            ",234],"]",["T_WHITESPACE","\n        ",235],")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$cmd",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","functionCallPath",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'setup:di:compile'",237],";",["T_WHITESPACE","\n\n        ",237],["T_DOC_COMMENT","\/**\n         * exec command is necessary for now to isolate the autoloaders in the compiler from the memory state\n         * of this process, which would prevent some classes from being generated\n         *\n         * @todo eliminate exec\n         *\/",239],["T_WHITESPACE","\n        ",244],["T_TRY","try",245],["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$execOutput",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","shell",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","execute",246],"(",["T_VARIABLE","$cmd",246],")",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE"," ",247],["T_CATCH","catch",247],["T_WHITESPACE"," ",247],"(",["T_STRING","LocalizedException",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$e",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$output",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","writeln",248],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while compiling generated code. See the error log for details.'",248],")",";",["T_WHITESPACE","\n            ",248],["T_THROW","throw",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$e",249],";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$output",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","writeln",251],"(",["T_VARIABLE","$execOutput",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$output",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","writeln",252],"(",["T_CONSTANT_ENCAPSED_STRING","'Compilation complete'",252],")",";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Deletes specified directories by code\n     *\n     * @param array $directoryCodeList\n     * @return void\n     *\/",255],["T_WHITESPACE","\n    ",260],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","cleanupFilesystem",261],"(",["T_VARIABLE","$directoryCodeList",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$excludePatterns",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],"[",["T_CONSTANT_ENCAPSED_STRING","'#.htaccess#'",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'#deployed_version.txt#'",263],"]",";",["T_WHITESPACE","\n        ",263],["T_FOREACH","foreach",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$directoryCodeList",264],["T_WHITESPACE"," ",264],["T_AS","as",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$code",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$code",265],["T_WHITESPACE"," ",265],["T_IS_EQUAL","==",265],["T_WHITESPACE"," ",265],["T_STRING","DirectoryList",265],["T_DOUBLE_COLON","::",265],["T_STRING","STATIC_VIEW",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n                ",265],["T_VARIABLE","$directoryPath",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","directoryList",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getPath",266],"(",["T_STRING","DirectoryList",266],["T_DOUBLE_COLON","::",266],["T_STRING","STATIC_VIEW",266],")",";",["T_WHITESPACE","\n                ",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","driverFile",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","isExists",267],"(",["T_VARIABLE","$directoryPath",267],")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n                    ",267],["T_VARIABLE","$files",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","driverFile",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","readDirectory",268],"(",["T_VARIABLE","$directoryPath",268],")",";",["T_WHITESPACE","\n                    ",268],["T_FOREACH","foreach",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$files",269],["T_WHITESPACE"," ",269],["T_AS","as",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$file",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n                        ",269],["T_FOREACH","foreach",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$excludePatterns",270],["T_WHITESPACE"," ",270],["T_AS","as",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$pattern",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                            ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_STRING","preg_match",271],"(",["T_VARIABLE","$pattern",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$file",271],")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n                                ",271],["T_CONTINUE","continue",272],["T_WHITESPACE"," ",272],["T_LNUMBER","2",272],";",["T_WHITESPACE","\n                            ",272],"}",["T_WHITESPACE","\n                        ",273],"}",["T_WHITESPACE","\n                        ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","driverFile",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","isFile",275],"(",["T_VARIABLE","$file",275],")",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                            ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","driverFile",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","deleteFile",276],"(",["T_VARIABLE","$file",276],")",";",["T_WHITESPACE","\n                        ",276],"}",["T_WHITESPACE"," ",277],["T_ELSE","else",277],["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                            ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","driverFile",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","deleteDirectory",278],"(",["T_VARIABLE","$file",278],")",";",["T_WHITESPACE","\n                        ",278],"}",["T_WHITESPACE","\n                    ",279],"}",["T_WHITESPACE","\n                ",280],"}",["T_WHITESPACE","\n            ",281],"}",["T_WHITESPACE"," ",282],["T_ELSE","else",282],["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","filesystem",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getDirectoryWrite",283],"(",["T_VARIABLE","$code",283],")",["T_WHITESPACE","\n                    ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","delete",284],"(",")",";",["T_WHITESPACE","\n            ",284],"}",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Change permissions for directories by their code\n     *\n     * @param array $directoryCodeList\n     * @param int $dirPermissions\n     * @param int $filePermissions\n     * @return void\n     * @deprecated\n     *\/",289],["T_WHITESPACE","\n    ",297],["T_PROTECTED","protected",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","changePermissions",298],"(",["T_VARIABLE","$directoryCodeList",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$dirPermissions",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$filePermissions",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_FOREACH","foreach",300],["T_WHITESPACE"," ",300],"(",["T_VARIABLE","$directoryCodeList",300],["T_WHITESPACE"," ",300],["T_AS","as",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$code",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$directoryPath",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","directoryList",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getPath",301],"(",["T_VARIABLE","$code",301],")",";",["T_WHITESPACE","\n            ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","driverFile",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","isExists",302],"(",["T_VARIABLE","$directoryPath",302],")",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n                ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","filesystem",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getDirectoryWrite",303],"(",["T_VARIABLE","$code",303],")",["T_WHITESPACE","\n                    ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","changePermissionsRecursively",304],"(",["T_CONSTANT_ENCAPSED_STRING","''",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$dirPermissions",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$filePermissions",304],")",";",["T_WHITESPACE","\n            ",304],"}",["T_WHITESPACE"," ",305],["T_ELSE","else",305],["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n                ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","driverFile",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","createDirectory",306],"(",["T_VARIABLE","$directoryPath",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$dirPermissions",306],")",";",["T_WHITESPACE","\n            ",306],"}",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Chenge permissions on static resources\n     *\n     * @return void\n     * @deprecated\n     *\/",311],["T_WHITESPACE","\n    ",316],["T_PUBLIC","public",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","lockStaticResources",317],"(",")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_COMMENT","\/\/ Lock \/generated\/code, \/generated\/metadata\/ and \/var\/view_preprocessed directories\n",319],["T_WHITESPACE","        ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","changePermissions",320],"(",["T_WHITESPACE","\n            ",320],"[",["T_WHITESPACE","\n                ",321],["T_STRING","DirectoryList",322],["T_DOUBLE_COLON","::",322],["T_STRING","GENERATION",322],",",["T_WHITESPACE","\n                ",322],["T_STRING","DirectoryList",323],["T_DOUBLE_COLON","::",323],["T_STRING","DI",323],",",["T_WHITESPACE","\n                ",323],["T_STRING","DirectoryList",324],["T_DOUBLE_COLON","::",324],["T_STRING","TMP_MATERIALIZATION_DIR",324],",",["T_WHITESPACE","\n            ",324],"]",",",["T_WHITESPACE","\n            ",325],["T_STRING","self",326],["T_DOUBLE_COLON","::",326],["T_STRING","PERMISSIONS_DIR",326],",",["T_WHITESPACE","\n            ",326],["T_STRING","self",327],["T_DOUBLE_COLON","::",327],["T_STRING","PERMISSIONS_FILE",327],["T_WHITESPACE","\n        ",327],")",";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n",329],"}",["T_WHITESPACE","\n",330]]