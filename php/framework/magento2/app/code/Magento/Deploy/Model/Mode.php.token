[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Deploy",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Console",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Input",9],["T_NS_SEPARATOR","\\",9],["T_STRING","InputInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Console",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Output",10],["T_NS_SEPARATOR","\\",10],["T_STRING","OutputInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","File",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigFilePool",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","State",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DeploymentConfig",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Reader",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","App",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DeploymentConfig",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Writer",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","App",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Filesystem",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DirectoryList",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","App",16],["T_NS_SEPARATOR","\\",16],["T_STRING","MaintenanceMode",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * A class to manage Magento modes\n *\n * @SuppressWarnings(\"PMD.CouplingBetweenObjects\")\n * @SuppressWarnings(\"PMD.ExcessiveParameterList\")\n *\/",18],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","Mode",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * @var InputInterface\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$input",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var OutputInterface\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$output",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var Writer\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$writer",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var Reader\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$reader",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var Filesystem\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$filesystem",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @param InputInterface $input\n     * @param OutputInterface $output\n     * @param Writer $writer\n     * @param Reader $reader\n     * @param MaintenanceMode $maintenanceMode\n     * @param Filesystem $filesystem\n     *\/",51],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","__construct",59],"(",["T_WHITESPACE","\n        ",59],["T_STRING","InputInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$input",60],",",["T_WHITESPACE","\n        ",60],["T_STRING","OutputInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$output",61],",",["T_WHITESPACE","\n        ",61],["T_STRING","Writer",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$writer",62],",",["T_WHITESPACE","\n        ",62],["T_STRING","Reader",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$reader",63],",",["T_WHITESPACE","\n        ",63],["T_STRING","MaintenanceMode",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$maintenanceMode",64],",",["T_WHITESPACE","\n        ",64],["T_STRING","Filesystem",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$filesystem",65],["T_WHITESPACE","\n    ",65],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","input",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$input",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","output",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$output",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","writer",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$writer",69],";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","reader",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$reader",70],";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","maintenanceMode",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$maintenanceMode",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","filesystem",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$filesystem",72],";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Enable production mode\n     *\n     * @return void\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","enableProductionMode",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","enableMaintenanceMode",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","output",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","filesystem",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","regenerateStatic",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","output",83],")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setStoreMode",84],"(",["T_STRING","State",84],["T_DOUBLE_COLON","::",84],["T_STRING","MODE_PRODUCTION",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","disableMaintenanceMode",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","output",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Only lock static resource locations and set store mode, without handling static content\n     *\n     * @return void\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","enableProductionModeMinimal",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","setStoreMode",95],"(",["T_STRING","State",95],["T_DOUBLE_COLON","::",95],["T_STRING","MODE_PRODUCTION",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Enable Developer mode\n     *\n     * @return void\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","enableDeveloperMode",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","filesystem",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","cleanupFilesystem",105],"(",["T_WHITESPACE","\n            ",105],"[",["T_WHITESPACE","\n                ",106],["T_STRING","DirectoryList",107],["T_DOUBLE_COLON","::",107],["T_STRING","CACHE",107],",",["T_WHITESPACE","\n                ",107],["T_STRING","DirectoryList",108],["T_DOUBLE_COLON","::",108],["T_STRING","GENERATION",108],",",["T_WHITESPACE","\n                ",108],["T_STRING","DirectoryList",109],["T_DOUBLE_COLON","::",109],["T_STRING","DI",109],",",["T_WHITESPACE","\n                ",109],["T_STRING","DirectoryList",110],["T_DOUBLE_COLON","::",110],["T_STRING","TMP_MATERIALIZATION_DIR",110],",",["T_WHITESPACE","\n                ",110],["T_STRING","DirectoryList",111],["T_DOUBLE_COLON","::",111],["T_STRING","STATIC_VIEW",111],",",["T_WHITESPACE","\n            ",111],"]",["T_WHITESPACE","\n        ",112],")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","setStoreMode",114],"(",["T_STRING","State",114],["T_DOUBLE_COLON","::",114],["T_STRING","MODE_DEVELOPER",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Get current mode information\n     *\n     * @return string\n     * @throws \\Exception\n     *\/",117],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getMode",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$env",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","reader",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","load",125],"(",["T_STRING","ConfigFilePool",125],["T_DOUBLE_COLON","::",125],["T_STRING","APP_ENV",125],")",";",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_ISSET","isset",126],"(",["T_VARIABLE","$env",126],"[",["T_STRING","State",126],["T_DOUBLE_COLON","::",126],["T_STRING","PARAM_MODE",126],"]",")",["T_WHITESPACE"," ",126],"?",["T_WHITESPACE"," ",126],["T_VARIABLE","$env",126],"[",["T_STRING","State",126],["T_DOUBLE_COLON","::",126],["T_STRING","PARAM_MODE",126],"]",["T_WHITESPACE"," ",126],":",["T_WHITESPACE"," ",126],["T_STRING","null",126],";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Store mode in env.php\n     *\n     * @param string $mode\n     * @return void\n     *\/",129],["T_WHITESPACE","\n    ",134],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","setStoreMode",135],"(",["T_VARIABLE","$mode",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$data",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"[",["T_WHITESPACE","\n            ",137],["T_STRING","ConfigFilePool",138],["T_DOUBLE_COLON","::",138],["T_STRING","APP_ENV",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],"[",["T_WHITESPACE","\n                ",138],["T_STRING","State",139],["T_DOUBLE_COLON","::",139],["T_STRING","PARAM_MODE",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$mode",139],["T_WHITESPACE","\n            ",139],"]",["T_WHITESPACE","\n        ",140],"]",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","writer",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","saveConfig",142],"(",["T_VARIABLE","$data",142],")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Enable maintenance mode\n     *\n     * @param OutputInterface $output\n     * @return void\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","enableMaintenanceMode",151],"(",["T_STRING","OutputInterface",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$output",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","maintenanceMode",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","set",153],"(",["T_STRING","true",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$output",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","writeln",154],"(",["T_CONSTANT_ENCAPSED_STRING","'Enabled maintenance mode'",154],")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Disable maintenance mode\n     *\n     * @param OutputInterface $output\n     * @return void\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","disableMaintenanceMode",163],"(",["T_STRING","OutputInterface",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$output",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","maintenanceMode",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","set",165],"(",["T_STRING","false",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$output",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","writeln",166],"(",["T_CONSTANT_ENCAPSED_STRING","'Disabled maintenance mode'",166],")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n",167],"}",["T_WHITESPACE","\n",168]]