[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Theme storage helper\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Theme",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Filesystem",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DirectoryList",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Storage",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","App",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Helper",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractHelper",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Parameter name of node\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","PARAM_NODE",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'node'",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Parameter name of content type\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","PARAM_CONTENT_TYPE",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'content_type'",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Parameter name of theme identification number\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","PARAM_THEME_ID",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'theme_id'",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Parameter name of filename\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","PARAM_FILENAME",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'filename'",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Root node value identification number\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","NODE_ROOT",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'root'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Display name for images storage type\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","IMAGES",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'Images'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Display name for fonts storage type\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","FONTS",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Fonts'",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Current directory path\n     *\n     * @var string\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_currentPath",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Current storage root path\n     *\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_storageRoot",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Magento filesystem\n     *\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$filesystem",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Session\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_session",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\Theme\\FlyweightFactory\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$_themeFactory",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\Write\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$mediaDirectoryWrite",85],";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Helper\\Context $context\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\Backend\\Model\\Session $session\n     * @param \\Magento\\Framework\\View\\Design\\Theme\\FlyweightFactory $themeFactory\n     *\/",87],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","__construct",93],"(",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","App",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Helper",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Context",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$context",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Framework",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Filesystem",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$filesystem",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Backend",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Model",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Session",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$session",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","View",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Design",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Theme",97],["T_NS_SEPARATOR","\\",97],["T_STRING","FlyweightFactory",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$themeFactory",97],["T_WHITESPACE","\n    ",97],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n        ",98],["T_STRING","parent",99],["T_DOUBLE_COLON","::",99],["T_STRING","__construct",99],"(",["T_VARIABLE","$context",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","filesystem",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$filesystem",100],";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_session",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$session",101],";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_themeFactory",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$themeFactory",102],";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","mediaDirectoryWrite",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","filesystem",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getDirectoryWrite",103],"(",["T_STRING","DirectoryList",103],["T_DOUBLE_COLON","::",103],["T_STRING","MEDIA",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","mediaDirectoryWrite",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","create",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","mediaDirectoryWrite",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getRelativePath",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getStorageRoot",104],"(",")",")",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Convert path to id\n     *\n     * @param string $path\n     * @return string\n     *\/",107],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","convertPathToId",113],"(",["T_VARIABLE","$path",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$path",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","str_replace",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getStorageRoot",115],"(",")",",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","''",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$path",115],")",";",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","urlEncoder",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","encode",116],"(",["T_VARIABLE","$path",116],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Convert id to path\n     *\n     * @param string $value\n     * @return string\n     *\/",119],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","convertIdToPath",125],"(",["T_VARIABLE","$value",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$path",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","urlDecoder",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","decode",127],"(",["T_VARIABLE","$value",127],")",";",["T_WHITESPACE","\n        ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_STRING","strstr",128],"(",["T_VARIABLE","$path",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getStorageRoot",128],"(",")",")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$path",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getStorageRoot",129],"(",")",["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_VARIABLE","$path",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$path",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Get short file name\n     *\n     * @param string $filename\n     * @param int $maxLength\n     * @return string\n     *\/",134],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","getShortFilename",141],"(",["T_VARIABLE","$filename",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$maxLength",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_LNUMBER","20",141],")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_STRING","strlen",143],"(",["T_VARIABLE","$filename",143],")",["T_WHITESPACE"," ",143],["T_IS_SMALLER_OR_EQUAL","<=",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$maxLength",143],["T_WHITESPACE"," ",143],"?",["T_WHITESPACE"," ",143],["T_VARIABLE","$filename",143],["T_WHITESPACE"," ",143],":",["T_WHITESPACE"," ",143],["T_STRING","substr",143],"(",["T_VARIABLE","$filename",143],",",["T_WHITESPACE"," ",143],["T_LNUMBER","0",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$maxLength",143],")",["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'...'",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Get storage root directory\n     *\n     * @return string\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getStorageRoot",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_STRING","null",153],["T_WHITESPACE"," ",153],["T_IS_IDENTICAL","===",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_storageRoot",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_storageRoot",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","implode",154],"(",["T_WHITESPACE","\n                ",154],["T_CONSTANT_ENCAPSED_STRING","'\/'",155],",",["T_WHITESPACE","\n                ",155],"[",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_getTheme",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getCustomization",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getCustomizationPath",156],"(",")",",",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getStorageType",156],"(",")","]",["T_WHITESPACE","\n            ",156],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n        ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_storageRoot",159],";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Get theme module for custom static files\n     *\n     * @return \\Magento\\Theme\\Model\\Theme\n     * @throws \\InvalidArgumentException\n     *\/",162],["T_WHITESPACE","\n    ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","_getTheme",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$themeId",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_getRequest",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","getParam",170],"(",["T_STRING","self",170],["T_DOUBLE_COLON","::",170],["T_STRING","PARAM_THEME_ID",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$theme",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_themeFactory",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","create",171],"(",["T_VARIABLE","$themeId",171],")",";",["T_WHITESPACE","\n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_VARIABLE","$themeId",172],["T_WHITESPACE"," ",172],["T_BOOLEAN_OR","||",172],["T_WHITESPACE"," ",172],"!",["T_VARIABLE","$theme",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_THROW","throw",173],["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_NS_SEPARATOR","\\",173],["T_STRING","InvalidArgumentException",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Theme was not found.'",173],")",";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$theme",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Get storage type\n     *\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getStorageType",184],"(",")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$allowedTypes",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],"[",["T_WHITESPACE","\n            ",186],["T_NS_SEPARATOR","\\",187],["T_STRING","Magento",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Theme",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Model",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Wysiwyg",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Storage",187],["T_DOUBLE_COLON","::",187],["T_STRING","TYPE_FONT",187],",",["T_WHITESPACE","\n            ",187],["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Theme",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Model",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Wysiwyg",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Storage",188],["T_DOUBLE_COLON","::",188],["T_STRING","TYPE_IMAGE",188],",",["T_WHITESPACE","\n        ",188],"]",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$type",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING_CAST","(string)",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_getRequest",190],"(",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","getParam",190],"(",["T_STRING","self",190],["T_DOUBLE_COLON","::",190],["T_STRING","PARAM_CONTENT_TYPE",190],")",";",["T_WHITESPACE","\n        ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","!",["T_STRING","in_array",191],"(",["T_VARIABLE","$type",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$allowedTypes",191],")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_THROW","throw",192],["T_WHITESPACE"," ",192],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Framework",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Exception",192],["T_NS_SEPARATOR","\\",192],["T_STRING","LocalizedException",192],"(",["T_STRING","__",192],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid type'",192],")",")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n        ",193],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$type",194],";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Relative url to static content\n     *\n     * @return string\n     *\/",197],["T_WHITESPACE","\n    ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","getRelativeUrl",202],"(",")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$pathPieces",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],"[",["T_CONSTANT_ENCAPSED_STRING","'..'",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getStorageType",204],"(",")","]",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$node",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_getRequest",205],"(",")",["T_OBJECT_OPERATOR","->",205],["T_STRING","getParam",205],"(",["T_STRING","self",205],["T_DOUBLE_COLON","::",205],["T_STRING","PARAM_NODE",205],")",";",["T_WHITESPACE","\n        ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$node",206],["T_WHITESPACE"," ",206],["T_IS_NOT_IDENTICAL","!==",206],["T_WHITESPACE"," ",206],["T_STRING","self",206],["T_DOUBLE_COLON","::",206],["T_STRING","NODE_ROOT",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$node",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","urlDecoder",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","decode",207],"(",["T_VARIABLE","$node",207],")",";",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$nodes",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","explode",208],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",208],",",["T_WHITESPACE"," ",208],["T_STRING","trim",208],"(",["T_VARIABLE","$node",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'\/'",208],")",")",";",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$pathPieces",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","array_merge",209],"(",["T_VARIABLE","$pathPieces",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$nodes",209],")",";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$pathPieces",211],"[","]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","urlDecoder",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","decode",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_getRequest",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getParam",211],"(",["T_STRING","self",211],["T_DOUBLE_COLON","::",211],["T_STRING","PARAM_FILENAME",211],")",")",";",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_STRING","implode",212],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$pathPieces",212],")",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Get current path\n     *\n     * @return string\n     *\/",215],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","getCurrentPath",220],"(",")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(","!",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_currentPath",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$currentPath",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getStorageRoot",223],"(",")",";",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$path",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_getRequest",224],"(",")",["T_OBJECT_OPERATOR","->",224],["T_STRING","getParam",224],"(",["T_STRING","self",224],["T_DOUBLE_COLON","::",224],["T_STRING","PARAM_NODE",224],")",";",["T_WHITESPACE","\n            ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$path",225],["T_WHITESPACE"," ",225],["T_BOOLEAN_AND","&&",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$path",225],["T_WHITESPACE"," ",225],["T_IS_NOT_IDENTICAL","!==",225],["T_WHITESPACE"," ",225],["T_STRING","self",225],["T_DOUBLE_COLON","::",225],["T_STRING","NODE_ROOT",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$path",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","convertIdToPath",226],"(",["T_VARIABLE","$path",226],")",";",["T_WHITESPACE","\n\n                ",226],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","mediaDirectoryWrite",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","isDirectory",228],"(",["T_VARIABLE","$path",228],")",["T_WHITESPACE"," ",228],["T_BOOLEAN_AND","&&",228],["T_WHITESPACE"," ",228],["T_LNUMBER","0",228],["T_WHITESPACE"," ",228],["T_IS_IDENTICAL","===",228],["T_WHITESPACE"," ",228],["T_STRING","strpos",228],"(",["T_VARIABLE","$path",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$currentPath",228],")",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                    ",228],["T_VARIABLE","$currentPath",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","mediaDirectoryWrite",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getRelativePath",229],"(",["T_VARIABLE","$path",229],")",";",["T_WHITESPACE","\n                ",229],"}",["T_WHITESPACE","\n            ",230],"}",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_currentPath",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$currentPath",232],";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n        ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_currentPath",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Get thumbnail directory for path\n     *\n     * @param string $path\n     * @return string\n     *\/",237],["T_WHITESPACE","\n    ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","getThumbnailDirectory",243],"(",["T_VARIABLE","$path",243],")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_STRING","pathinfo",245],"(",["T_VARIABLE","$path",245],",",["T_WHITESPACE"," ",245],["T_STRING","PATHINFO_DIRNAME",245],")",["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'\/'",245],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Magento",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Theme",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Model",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Wysiwyg",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Storage",245],["T_DOUBLE_COLON","::",245],["T_STRING","THUMBNAIL_DIRECTORY",245],";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Get thumbnail path in current directory by image name\n     *\n     * @param string $imageName\n     * @return string\n     * @throws \\InvalidArgumentException\n     *\/",248],["T_WHITESPACE","\n    ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","getThumbnailPath",255],"(",["T_VARIABLE","$imageName",255],")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$imagePath",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getCurrentPath",257],"(",")",["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'\/'",257],["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],["T_VARIABLE","$imageName",257],";",["T_WHITESPACE","\n        ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(","!",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","mediaDirectoryWrite",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","isExist",258],"(",["T_VARIABLE","$imagePath",258],")",["T_WHITESPACE"," ",258],["T_BOOLEAN_OR","||",258],["T_WHITESPACE"," ",258],["T_LNUMBER","0",258],["T_WHITESPACE"," ",258],["T_IS_NOT_IDENTICAL","!==",258],["T_WHITESPACE"," ",258],["T_STRING","strpos",258],"(",["T_VARIABLE","$imagePath",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getStorageRoot",258],"(",")",")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_THROW","throw",259],["T_WHITESPACE"," ",259],["T_NEW","new",259],["T_WHITESPACE"," ",259],["T_NS_SEPARATOR","\\",259],["T_STRING","InvalidArgumentException",259],"(",["T_CONSTANT_ENCAPSED_STRING","'The image not found.'",259],")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getThumbnailDirectory",261],"(",["T_VARIABLE","$imagePath",261],")",["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'\/'",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE"," ",261],["T_STRING","pathinfo",261],"(",["T_VARIABLE","$imageName",261],",",["T_WHITESPACE"," ",261],["T_STRING","PATHINFO_BASENAME",261],")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Request params for selected theme\n     *\n     * @return array\n     *\/",264],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","getRequestParams",269],"(",")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$themeId",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_getRequest",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getParam",271],"(",["T_STRING","self",271],["T_DOUBLE_COLON","::",271],["T_STRING","PARAM_THEME_ID",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$contentType",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_getRequest",272],"(",")",["T_OBJECT_OPERATOR","->",272],["T_STRING","getParam",272],"(",["T_STRING","self",272],["T_DOUBLE_COLON","::",272],["T_STRING","PARAM_CONTENT_TYPE",272],")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$node",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_getRequest",273],"(",")",["T_OBJECT_OPERATOR","->",273],["T_STRING","getParam",273],"(",["T_STRING","self",273],["T_DOUBLE_COLON","::",273],["T_STRING","PARAM_NODE",273],")",";",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],"[",["T_WHITESPACE","\n            ",274],["T_STRING","self",275],["T_DOUBLE_COLON","::",275],["T_STRING","PARAM_THEME_ID",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$themeId",275],",",["T_WHITESPACE","\n            ",275],["T_STRING","self",276],["T_DOUBLE_COLON","::",276],["T_STRING","PARAM_CONTENT_TYPE",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$contentType",276],",",["T_WHITESPACE","\n            ",276],["T_STRING","self",277],["T_DOUBLE_COLON","::",277],["T_STRING","PARAM_NODE",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$node",277],["T_WHITESPACE","\n        ",277],"]",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Get allowed extensions by type\n     *\n     * @return string[]\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",281],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","getAllowedExtensionsByType",287],"(",")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getStorageType",289],"(",")",["T_WHITESPACE"," ",289],["T_IS_EQUAL","==",289],["T_WHITESPACE"," ",289],["T_NS_SEPARATOR","\\",289],["T_STRING","Magento",289],["T_NS_SEPARATOR","\\",289],["T_STRING","Theme",289],["T_NS_SEPARATOR","\\",289],["T_STRING","Model",289],["T_NS_SEPARATOR","\\",289],["T_STRING","Wysiwyg",289],["T_NS_SEPARATOR","\\",289],["T_STRING","Storage",289],["T_DOUBLE_COLON","::",289],["T_STRING","TYPE_FONT",289],["T_WHITESPACE","\n                ",289],"?",["T_WHITESPACE"," ",290],"[",["T_CONSTANT_ENCAPSED_STRING","'ttf'",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'otf'",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'eot'",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'svg'",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'woff'",290],"]",["T_WHITESPACE","\n                ",290],":",["T_WHITESPACE"," ",291],"[",["T_CONSTANT_ENCAPSED_STRING","'jpg'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'jpeg'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'gif'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'png'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'xbm'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'wbmp'",291],"]",";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Get storage type name for display.\n     *\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",294],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","getStorageTypeName",300],"(",")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getStorageType",302],"(",")",["T_WHITESPACE"," ",302],["T_IS_EQUAL","==",302],["T_WHITESPACE"," ",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Magento",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Theme",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Model",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Wysiwyg",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Storage",302],["T_DOUBLE_COLON","::",302],["T_STRING","TYPE_FONT",302],["T_WHITESPACE","\n            ",302],"?",["T_WHITESPACE"," ",303],["T_STRING","self",303],["T_DOUBLE_COLON","::",303],["T_STRING","FONTS",303],["T_WHITESPACE","\n            ",303],":",["T_WHITESPACE"," ",304],["T_STRING","self",304],["T_DOUBLE_COLON","::",304],["T_STRING","IMAGES",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Get session model\n     *\n     * @return \\Magento\\Backend\\Model\\Session\n     *\/",307],["T_WHITESPACE","\n    ",311],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","getSession",312],"(",")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_session",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n",315],"}",["T_WHITESPACE","\n",316]]