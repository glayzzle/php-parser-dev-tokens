[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Theme",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Theme customization config model\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Customization",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$_storeManager",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\DesignInterface\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_design",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\Theme\\ThemeProviderInterface\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$themeProvider",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Theme customizations which are assigned to store views or as default\n     *\n     * @var array\n     * @see self::_prepareThemeCustomizations()\n     *\/",28],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_assignedTheme",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Theme customizations which are not assigned to store views or as default\n     *\n     * @var array\n     * @see self::_prepareThemeCustomizations()\n     *\/",36],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_unassignedTheme",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\View\\DesignInterface $design\n     * @param \\Magento\\Framework\\View\\Design\\Theme\\ThemeProviderInterface $themeProvider\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Store",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","StoreManagerInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$storeManager",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Framework",51],["T_NS_SEPARATOR","\\",51],["T_STRING","View",51],["T_NS_SEPARATOR","\\",51],["T_STRING","DesignInterface",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$design",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Framework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","View",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Design",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Theme",52],["T_NS_SEPARATOR","\\",52],["T_STRING","ThemeProviderInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$themeProvider",52],["T_WHITESPACE","\n    ",52],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_storeManager",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$storeManager",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_design",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$design",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","themeProvider",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$themeProvider",56],";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Return theme customizations which are assigned to store views\n     *\n     * @see self::_prepareThemeCustomizations()\n     * @return array\n     *\/",59],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","getAssignedThemeCustomizations",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_assignedTheme",67],["T_WHITESPACE"," ",67],["T_IS_IDENTICAL","===",67],["T_WHITESPACE"," ",67],["T_STRING","null",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_prepareThemeCustomizations",68],"(",")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_assignedTheme",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Return theme customizations which are not assigned to store views.\n     *\n     * @see self::_prepareThemeCustomizations()\n     * @return array\n     *\/",73],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","getUnassignedThemeCustomizations",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_unassignedTheme",81],["T_WHITESPACE"," ",81],["T_IS_IDENTICAL","===",81],["T_WHITESPACE"," ",81],["T_STRING","null",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_prepareThemeCustomizations",82],"(",")",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_unassignedTheme",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Return stores grouped by assigned themes\n     *\n     * @return array\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","getStoresByThemes",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$storesByThemes",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[","]",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$stores",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_storeManager",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getStores",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_DOC_COMMENT","\/** @var $store \\Magento\\Store\\Model\\Store *\/",96],["T_WHITESPACE","\n        ",96],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$stores",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$store",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$themeId",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_getConfigurationThemeId",98],"(",["T_VARIABLE","$store",98],")",";",["T_WHITESPACE","\n            ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(","!",["T_ISSET","isset",99],"(",["T_VARIABLE","$storesByThemes",99],"[",["T_VARIABLE","$themeId",99],"]",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$storesByThemes",100],"[",["T_VARIABLE","$themeId",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],"[","]",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$storesByThemes",102],"[",["T_VARIABLE","$themeId",102],"]","[","]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$store",102],";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$storesByThemes",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Check if current theme has assigned to any store\n     *\n     * @param \\Magento\\Framework\\View\\Design\\ThemeInterface $theme\n     * @param null|\\Magento\\Store\\Model\\Store $store\n     * @return bool\n     *\/",107],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","isThemeAssignedToStore",114],"(",["T_VARIABLE","$theme",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$store",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","null",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_STRING","null",116],["T_WHITESPACE"," ",116],["T_IS_IDENTICAL","===",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$store",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$assignedThemes",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getAssignedThemeCustomizations",117],"(",")",";",["T_WHITESPACE","\n            ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_ISSET","isset",118],"(",["T_VARIABLE","$assignedThemes",118],"[",["T_VARIABLE","$theme",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getId",118],"(",")","]",")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_isThemeAssignedToSpecificStore",120],"(",["T_VARIABLE","$theme",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$store",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Check if there are any themes assigned\n     *\n     * @return bool\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","hasThemeAssigned",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_STRING","count",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getAssignedThemeCustomizations",130],"(",")",")",["T_WHITESPACE"," ",130],">",["T_WHITESPACE"," ",130],["T_LNUMBER","0",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Is theme assigned to specific store\n     *\n     * @param \\Magento\\Framework\\View\\Design\\ThemeInterface $theme\n     * @param \\Magento\\Store\\Model\\Store $store\n     * @return bool\n     *\/",133],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","_isThemeAssignedToSpecificStore",140],"(",["T_VARIABLE","$theme",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$store",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$theme",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getId",142],"(",")",["T_WHITESPACE"," ",142],["T_IS_EQUAL","==",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_getConfigurationThemeId",142],"(",["T_VARIABLE","$store",142],")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Get configuration theme id\n     *\n     * @param \\Magento\\Store\\Model\\Store $store\n     * @return int\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","_getConfigurationThemeId",151],"(",["T_VARIABLE","$store",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_design",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getConfigurationDesignTheme",153],"(",["T_WHITESPACE","\n            ",153],["T_NS_SEPARATOR","\\",154],["T_STRING","Magento",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Framework",154],["T_NS_SEPARATOR","\\",154],["T_STRING","App",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Area",154],["T_DOUBLE_COLON","::",154],["T_STRING","AREA_FRONTEND",154],",",["T_WHITESPACE","\n            ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$store",155],"]",["T_WHITESPACE","\n        ",155],")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Fetch theme customization and sort them out to arrays:\n     * self::_assignedTheme and self::_unassignedTheme.\n     *\n     * NOTE: To get into \"assigned\" list theme customization not necessary should be assigned to store-view directly.\n     * It can be set to website or as default theme and be used by store-view via config fallback mechanism.\n     *\n     * @return $this\n     *\/",159],["T_WHITESPACE","\n    ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","_prepareThemeCustomizations",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_DOC_COMMENT","\/** @var \\Magento\\Theme\\Model\\ResourceModel\\Theme\\Collection $themeCollection *\/",170],["T_WHITESPACE","\n        ",170],["T_VARIABLE","$themeCollection",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","themeProvider",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getThemeCustomizations",171],"(",["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Framework",171],["T_NS_SEPARATOR","\\",171],["T_STRING","App",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Area",171],["T_DOUBLE_COLON","::",171],["T_STRING","AREA_FRONTEND",171],")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$assignedThemes",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getStoresByThemes",173],"(",")",";",["T_WHITESPACE","\n\n        ",173],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_assignedTheme",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],"[","]",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_unassignedTheme",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],"[","]",";",["T_WHITESPACE","\n\n        ",176],["T_DOC_COMMENT","\/** @var $theme \\Magento\\Framework\\View\\Design\\ThemeInterface *\/",178],["T_WHITESPACE","\n        ",178],["T_FOREACH","foreach",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$themeCollection",179],["T_WHITESPACE"," ",179],["T_AS","as",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$theme",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_ISSET","isset",180],"(",["T_VARIABLE","$assignedThemes",180],"[",["T_VARIABLE","$theme",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getId",180],"(",")","]",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$theme",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setAssignedStores",181],"(",["T_VARIABLE","$assignedThemes",181],"[",["T_VARIABLE","$theme",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getId",181],"(",")","]",")",";",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_assignedTheme",182],"[",["T_VARIABLE","$theme",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getId",182],"(",")","]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$theme",182],";",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE"," ",183],["T_ELSE","else",183],["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_unassignedTheme",184],"[",["T_VARIABLE","$theme",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getId",184],"(",")","]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$theme",184],";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n\n        ",186],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n",189],"}",["T_WHITESPACE","\n",190]]