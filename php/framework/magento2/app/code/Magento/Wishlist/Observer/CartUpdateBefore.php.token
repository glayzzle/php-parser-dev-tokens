[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Wishlist",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Observer",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Event",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Observer",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Event",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ObserverInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Wishlist",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Wishlist",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Wishlist",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Wishlist",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","WishlistFactory",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Class CartUpdateBefore\n * @package Magento\\Wishlist\\Observer\n *\/",15],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","CartUpdateBefore",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","ObserverInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Wishlist data\n     *\n     * @var Data\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$wishlistData",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var WishlistFactory\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$wishlistFactory",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @param Data $wishlistData\n     * @param WishlistFactory $wishlistFactory\n     *\/",33],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","__construct",37],"(",["T_WHITESPACE","\n        ",37],["T_STRING","Data",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$wishlistData",38],",",["T_WHITESPACE","\n        ",38],["T_STRING","WishlistFactory",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$wishlistFactory",39],["T_WHITESPACE","\n    ",39],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","wishlistData",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$wishlistData",41],";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","wishlistFactory",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$wishlistFactory",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Get customer wishlist model instance\n     *\n     * @param   int $customerId\n     * @return  Wishlist|false\n     *\/",45],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","getWishlist",51],"(",["T_VARIABLE","$customerId",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_IF","if",53],["T_WHITESPACE"," ",53],"(","!",["T_VARIABLE","$customerId",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_STRING","false",54],";",["T_WHITESPACE","\n        ",54],"}",["T_WHITESPACE","\n        ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","wishlistFactory",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","create",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","loadByCustomerId",56],"(",["T_VARIABLE","$customerId",56],",",["T_WHITESPACE"," ",56],["T_STRING","true",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Check move quote item to wishlist request\n     *\n     * @param   Observer $observer\n     * @return  $this\n     *\/",59],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","execute",65],"(",["T_STRING","Observer",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$observer",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$cart",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$observer",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getEvent",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","getCart",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$data",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$observer",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getEvent",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getInfo",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","toArray",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$productIds",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[","]",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$wishlist",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getWishlist",71],"(",["T_VARIABLE","$cart",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getQuote",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getCustomerId",71],"(",")",")",";",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(","!",["T_VARIABLE","$wishlist",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n\n        ",74],["T_DOC_COMMENT","\/**\n         * Collect product ids marked for move to wishlist\n         *\/",76],["T_WHITESPACE","\n        ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$data",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$itemId",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$itemInfo",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_EMPTY","empty",80],"(",["T_VARIABLE","$itemInfo",80],"[",["T_CONSTANT_ENCAPSED_STRING","'wishlist'",80],"]",")",["T_WHITESPACE"," ",80],["T_BOOLEAN_AND","&&",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$item",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$cart",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getQuote",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getItemById",80],"(",["T_VARIABLE","$itemId",80],")",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$productId",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$item",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getProductId",81],"(",")",";",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$buyRequest",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$item",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getBuyRequest",82],"(",")",";",["T_WHITESPACE","\n\n                ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","array_key_exists",84],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$itemInfo",84],")",["T_WHITESPACE"," ",84],["T_BOOLEAN_AND","&&",84],["T_WHITESPACE"," ",84],["T_STRING","is_numeric",84],"(",["T_VARIABLE","$itemInfo",84],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",84],"]",")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                    ",84],["T_VARIABLE","$buyRequest",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","setQty",85],"(",["T_VARIABLE","$itemInfo",85],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",85],"]",")",";",["T_WHITESPACE","\n                ",85],"}",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$wishlist",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","addNewItem",87],"(",["T_VARIABLE","$productId",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$buyRequest",87],")",";",["T_WHITESPACE","\n\n                ",87],["T_VARIABLE","$productIds",89],"[","]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$productId",89],";",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$cart",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getQuote",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","removeItem",90],"(",["T_VARIABLE","$itemId",90],")",";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n\n        ",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_STRING","count",94],"(",["T_VARIABLE","$productIds",94],")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$wishlist",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","save",95],"(",")",";",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","wishlistData",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","calculate",96],"(",")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n",99],"}",["T_WHITESPACE","\n",100]]