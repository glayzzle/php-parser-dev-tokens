[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Wishlist",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Observer",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Checkout",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Session",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","CheckoutSession",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Session",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","CustomerSession",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Event",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Observer",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Event",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ObserverInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Message",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ManagerInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Wishlist",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","WishlistFactory",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Class AddToCart\n * @deprecated \n * @package Magento\\Wishlist\\Observer\n *\/",16],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","AddToCart",21],["T_WHITESPACE"," ",21],["T_IMPLEMENTS","implements",21],["T_WHITESPACE"," ",21],["T_STRING","ObserverInterface",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/** @var CheckoutSession *\/",23],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$checkoutSession",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/** @var CustomerSession *\/",26],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$customerSession",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/** @var WishlistFactory *\/",29],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$wishlistFactory",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/** @var ManagerInterface *\/",32],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$messageManager",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param CheckoutSession $checkoutSession\n     * @param CustomerSession $customerSession\n     * @param WishlistFactory $wishlistFactory\n     * @param ManagerInterface $messageManager\n     *\/",35],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","__construct",41],"(",["T_WHITESPACE","\n        ",41],["T_STRING","CheckoutSession",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$checkoutSession",42],",",["T_WHITESPACE","\n        ",42],["T_STRING","CustomerSession",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$customerSession",43],",",["T_WHITESPACE","\n        ",43],["T_STRING","WishlistFactory",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$wishlistFactory",44],",",["T_WHITESPACE","\n        ",44],["T_STRING","ManagerInterface",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$messageManager",45],["T_WHITESPACE","\n    ",45],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","checkoutSession",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$checkoutSession",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","customerSession",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$customerSession",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","wishlistFactory",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$wishlistFactory",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","messageManager",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$messageManager",50],";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @param Observer $observer\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","execute",58],"(",["T_STRING","Observer",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$observer",58],")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$request",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$observer",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getEvent",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getRequest",60],"(",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$sharedWishlist",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","checkoutSession",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getSharedWishlist",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$messages",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","checkoutSession",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getWishlistPendingMessages",62],"(",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$urls",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","checkoutSession",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getWishlistPendingUrls",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$wishlistIds",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","checkoutSession",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getWishlistIds",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$singleWishlistId",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","checkoutSession",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getSingleWishlistId",65],"(",")",";",["T_WHITESPACE","\n\n        ",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$singleWishlistId",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$wishlistIds",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"[",["T_VARIABLE","$singleWishlistId",68],"]",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n\n        ",69],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_STRING","count",71],"(",["T_VARIABLE","$wishlistIds",71],")",["T_WHITESPACE"," ",71],["T_BOOLEAN_AND","&&",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$request",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getParam",71],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist_next'",71],")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$wishlistId",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","array_shift",72],"(",["T_VARIABLE","$wishlistIds",72],")",";",["T_WHITESPACE","\n\n            ",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","customerSession",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","isLoggedIn",74],"(",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$wishlist",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","wishlistFactory",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","create",75],"(",")",["T_WHITESPACE","\n                    ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","loadByCustomerId",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","customerSession",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getCustomerId",76],"(",")",",",["T_WHITESPACE"," ",76],["T_STRING","true",76],")",";",["T_WHITESPACE","\n            ",76],"}",["T_WHITESPACE"," ",77],["T_ELSEIF","elseif",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$sharedWishlist",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n                ",77],["T_VARIABLE","$wishlist",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","wishlistFactory",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","create",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","loadByCode",78],"(",["T_VARIABLE","$sharedWishlist",78],")",";",["T_WHITESPACE","\n            ",78],"}",["T_WHITESPACE"," ",79],["T_ELSE","else",79],["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_RETURN","return",80],";",["T_WHITESPACE","\n            ",80],"}",["T_WHITESPACE","\n\n            ",81],["T_VARIABLE","$wishlists",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$wishlist",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getItemCollection",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","load",83],"(",")",";",["T_WHITESPACE","\n            ",83],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$wishlists",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$wishlistItem",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$wishlistItem",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getId",85],"(",")",["T_WHITESPACE"," ",85],["T_IS_EQUAL","==",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$wishlistId",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                    ",85],["T_VARIABLE","$wishlistItem",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","delete",86],"(",")",";",["T_WHITESPACE","\n                ",86],"}",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","checkoutSession",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setWishlistIds",89],"(",["T_VARIABLE","$wishlistIds",89],")",";",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","checkoutSession",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setSingleWishlistId",90],"(",["T_STRING","null",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$request",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getParam",93],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist_next'",93],")",["T_WHITESPACE"," ",93],["T_BOOLEAN_AND","&&",93],["T_WHITESPACE"," ",93],["T_STRING","count",93],"(",["T_VARIABLE","$urls",93],")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$url",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","array_shift",94],"(",["T_VARIABLE","$urls",94],")",";",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$message",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","array_shift",95],"(",["T_VARIABLE","$messages",95],")",";",["T_WHITESPACE","\n\n            ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","checkoutSession",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setWishlistPendingUrls",97],"(",["T_VARIABLE","$urls",97],")",";",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","checkoutSession",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setWishlistPendingMessages",98],"(",["T_VARIABLE","$messages",98],")",";",["T_WHITESPACE","\n\n            ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","messageManager",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","addError",100],"(",["T_VARIABLE","$message",100],")",";",["T_WHITESPACE","\n\n            ",100],["T_VARIABLE","$observer",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getEvent",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getResponse",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","setRedirect",102],"(",["T_VARIABLE","$url",102],")",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","checkoutSession",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","setNoCartRedirect",103],"(",["T_STRING","true",103],")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n",105],"}",["T_WHITESPACE","\n",106]]