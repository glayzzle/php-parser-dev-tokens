[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Wishlist",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ProductRepositoryInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Configuration",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Item",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ItemInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","NoSuchEntityException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractModel",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Wishlist",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Item",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Option",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Wishlist",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Item",16],["T_NS_SEPARATOR","\\",16],["T_STRING","OptionFactory",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Wishlist",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ResourceModel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Item",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Option",17],["T_NS_SEPARATOR","\\",17],["T_STRING","CollectionFactory",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Catalog",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Product",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_WHITESPACE"," ",18],["T_AS","as",18],["T_WHITESPACE"," ",18],["T_STRING","ProductException",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Wishlist item model\n *\n * @method \\Magento\\Wishlist\\Model\\ResourceModel\\Item getResource()\n * @method int getWishlistId()\n * @method \\Magento\\Wishlist\\Model\\Item setWishlistId(int $value)\n * @method int getProductId()\n * @method \\Magento\\Wishlist\\Model\\Item setProductId(int $value)\n * @method int getStoreId()\n * @method \\Magento\\Wishlist\\Model\\Item setStoreId(int $value)\n * @method string getAddedAt()\n * @method \\Magento\\Wishlist\\Model\\Item setAddedAt(string $value)\n * @method string getDescription()\n * @method \\Magento\\Wishlist\\Model\\Item setDescription(string $value)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",20],["T_WHITESPACE","\n",35],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","Item",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","AbstractModel",36],["T_WHITESPACE"," ",36],["T_IMPLEMENTS","implements",36],["T_WHITESPACE"," ",36],["T_STRING","ItemInterface",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Custom path to download attached file\n     * @var string\n     *\/",38],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_customOptionDownloadUrl",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'wishlist\/index\/downloadCustomOption'",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Prefix of model events names\n     *\n     * @var string\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_eventPrefix",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'wishlist_item'",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Parameter name in event\n     *\n     * In observe method you can use $observer->getEvent()->getItem() in this case\n     *\n     * @var string\n     *\/",51],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_eventObject",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'item'",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Item options array\n     *\n     * @var Option[]\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_options",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[","]",";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Item options by code cache\n     *\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_optionsByCode",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[","]",";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Not Represent options\n     *\n     * @var string[]\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_notRepresentOptions",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",79],"]",";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Flag stating that options were successfully saved\n     *\n     * @var bool|null\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_flagOptionsSaved",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","null",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$_storeManager",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$_date",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Url\n     *\/",98],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$_catalogUrl",101],";",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * @var OptionFactory\n     *\/",103],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$_wishlistOptFactory",106],";",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * @var CollectionFactory\n     *\/",108],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$_wishlOptionCollectionFactory",111],";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductTypes\\ConfigInterface\n     *\/",113],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$productTypeConfig",116],";",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * @var ProductRepositoryInterface\n     *\/",118],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$productRepository",121],";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Serializer interface instance.\n     *\n     * @var \\Magento\\Framework\\Serialize\\Serializer\\Json\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PRIVATE","private",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$serializer",128],";",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $date\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Url $catalogUrl\n     * @param OptionFactory $wishlistOptFactory\n     * @param CollectionFactory $wishlOptionCollectionFactory\n     * @param \\Magento\\Catalog\\Model\\ProductTypes\\ConfigInterface $productTypeConfig\n     * @param ProductRepositoryInterface $productRepository\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @param \\Magento\\Framework\\Serialize\\Serializer\\Json|null $serializer\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",130],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","__construct",146],"(",["T_WHITESPACE","\n        ",146],["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Framework",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Model",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Context",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$context",147],",",["T_WHITESPACE","\n        ",147],["T_NS_SEPARATOR","\\",148],["T_STRING","Magento",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Framework",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Registry",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$registry",148],",",["T_WHITESPACE","\n        ",148],["T_NS_SEPARATOR","\\",149],["T_STRING","Magento",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Store",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Model",149],["T_NS_SEPARATOR","\\",149],["T_STRING","StoreManagerInterface",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$storeManager",149],",",["T_WHITESPACE","\n        ",149],["T_NS_SEPARATOR","\\",150],["T_STRING","Magento",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Framework",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Stdlib",150],["T_NS_SEPARATOR","\\",150],["T_STRING","DateTime",150],["T_NS_SEPARATOR","\\",150],["T_STRING","DateTime",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$date",150],",",["T_WHITESPACE","\n        ",150],["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Catalog",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Model",151],["T_NS_SEPARATOR","\\",151],["T_STRING","ResourceModel",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Url",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$catalogUrl",151],",",["T_WHITESPACE","\n        ",151],["T_STRING","OptionFactory",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$wishlistOptFactory",152],",",["T_WHITESPACE","\n        ",152],["T_STRING","CollectionFactory",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$wishlOptionCollectionFactory",153],",",["T_WHITESPACE","\n        ",153],["T_NS_SEPARATOR","\\",154],["T_STRING","Magento",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Catalog",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Model",154],["T_NS_SEPARATOR","\\",154],["T_STRING","ProductTypes",154],["T_NS_SEPARATOR","\\",154],["T_STRING","ConfigInterface",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$productTypeConfig",154],",",["T_WHITESPACE","\n        ",154],["T_STRING","ProductRepositoryInterface",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$productRepository",155],",",["T_WHITESPACE","\n        ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Framework",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Model",156],["T_NS_SEPARATOR","\\",156],["T_STRING","ResourceModel",156],["T_NS_SEPARATOR","\\",156],["T_STRING","AbstractResource",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$resource",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","null",156],",",["T_WHITESPACE","\n        ",156],["T_NS_SEPARATOR","\\",157],["T_STRING","Magento",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Framework",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Data",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Collection",157],["T_NS_SEPARATOR","\\",157],["T_STRING","AbstractDb",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$resourceCollection",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","null",157],",",["T_WHITESPACE","\n        ",157],["T_ARRAY","array",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$data",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],"[","]",",",["T_WHITESPACE","\n        ",158],["T_NS_SEPARATOR","\\",159],["T_STRING","Magento",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Framework",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Serialize",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Serializer",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Json",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$serializer",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","null",159],["T_WHITESPACE","\n    ",159],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","productTypeConfig",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$productTypeConfig",161],";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_storeManager",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$storeManager",162],";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_date",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$date",163],";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_catalogUrl",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$catalogUrl",164],";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_wishlistOptFactory",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$wishlistOptFactory",165],";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_wishlOptionCollectionFactory",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$wishlOptionCollectionFactory",166],";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","serializer",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$serializer",167],["T_WHITESPACE"," ",167],"?",":",["T_WHITESPACE"," ",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Magento",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Framework",167],["T_NS_SEPARATOR","\\",167],["T_STRING","App",167],["T_NS_SEPARATOR","\\",167],["T_STRING","ObjectManager",167],["T_DOUBLE_COLON","::",167],["T_STRING","getInstance",167],"(",")",["T_WHITESPACE","\n            ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","get",168],"(",["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Framework",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Serialize",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Serializer",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Json",168],["T_DOUBLE_COLON","::",168],["T_CLASS","class",168],")",";",["T_WHITESPACE","\n        ",168],["T_STRING","parent",169],["T_DOUBLE_COLON","::",169],["T_STRING","__construct",169],"(",["T_VARIABLE","$context",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$registry",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$resource",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$resourceCollection",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$data",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","productRepository",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$productRepository",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\n     * @return void\n     *\/",173],["T_WHITESPACE","\n    ",177],["T_PROTECTED","protected",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","_construct",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_init",180],"(",["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Wishlist",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Model",180],["T_NS_SEPARATOR","\\",180],["T_STRING","ResourceModel",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Item",180],["T_DOUBLE_COLON","::",180],["T_CLASS","class",180],")",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Set quantity. If quantity is less than 0 - set it to 1\n     *\n     * @param int $qty\n     * @return $this\n     *\/",183],["T_WHITESPACE","\n    ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","setQty",189],"(",["T_VARIABLE","$qty",189],")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","setData",191],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$qty",191],["T_WHITESPACE"," ",191],["T_IS_GREATER_OR_EQUAL",">=",191],["T_WHITESPACE"," ",191],["T_LNUMBER","0",191],["T_WHITESPACE"," ",191],"?",["T_WHITESPACE"," ",191],["T_VARIABLE","$qty",191],["T_WHITESPACE"," ",191],":",["T_WHITESPACE"," ",191],["T_LNUMBER","1",191],")",";",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Retrieve resource instance wrapper\n     *\n     * @return \\Magento\\Wishlist\\Model\\ResourceModel\\Item\n     *\/",195],["T_WHITESPACE","\n    ",199],["T_PROTECTED","protected",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","_getResource",200],"(",")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_STRING","parent",202],["T_DOUBLE_COLON","::",202],["T_STRING","_getResource",202],"(",")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Check if two options array are identical\n     *\n     * @param array $options1\n     * @param array $options2\n     * @return bool\n     *\/",205],["T_WHITESPACE","\n    ",211],["T_PROTECTED","protected",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","_compareOptions",212],"(",["T_VARIABLE","$options1",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$options2",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$skipOptions",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'qty'",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'return_url'",214],"]",";",["T_WHITESPACE","\n        ",214],["T_FOREACH","foreach",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$options1",215],["T_WHITESPACE"," ",215],["T_AS","as",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$code",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$value",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_STRING","in_array",216],"(",["T_VARIABLE","$code",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$skipOptions",216],")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                ",216],["T_CONTINUE","continue",217],";",["T_WHITESPACE","\n            ",217],"}",["T_WHITESPACE","\n            ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_ISSET","isset",219],"(",["T_VARIABLE","$options2",219],"[",["T_VARIABLE","$code",219],"]",")",["T_WHITESPACE"," ",219],["T_BOOLEAN_OR","||",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$options2",219],"[",["T_VARIABLE","$code",219],"]",["T_WHITESPACE"," ",219],["T_IS_NOT_EQUAL","!=",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$value",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_STRING","false",220],";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_STRING","true",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Register option code\n     *\n     * @param   Option $option\n     * @return  $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",226],["T_WHITESPACE","\n    ",232],["T_PROTECTED","protected",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","_addOptionCode",233],"(",["T_VARIABLE","$option",233],")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(","!",["T_ISSET","isset",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_optionsByCode",235],"[",["T_VARIABLE","$option",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getCode",235],"(",")","]",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_optionsByCode",236],"[",["T_VARIABLE","$option",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getCode",236],"(",")","]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$option",236],";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE"," ",237],["T_ELSE","else",237],["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_THROW","throw",238],["T_WHITESPACE"," ",238],["T_NEW","new",238],["T_WHITESPACE"," ",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Magento",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Framework",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Exception",238],["T_NS_SEPARATOR","\\",238],["T_STRING","LocalizedException",238],"(",["T_WHITESPACE","\n                ",238],["T_STRING","__",239],"(",["T_CONSTANT_ENCAPSED_STRING","'An item option with code %1 already exists.'",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$option",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getCode",239],"(",")",")",["T_WHITESPACE","\n            ",239],")",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Checks that item model has data changes.\n     * Call save item options if model isn't need to save in DB\n     *\n     * @return boolean\n     *\/",245],["T_WHITESPACE","\n    ",250],["T_PROTECTED","protected",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","_hasModelChanged",251],"(",")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(","!",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","hasDataChanges",253],"(",")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_STRING","false",254],";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n\n        ",255],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_getResource",257],"(",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","hasDataChanged",257],"(",["T_VARIABLE","$this",257],")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Save item options\n     *\n     * @return $this\n     *\/",260],["T_WHITESPACE","\n    ",264],["T_PUBLIC","public",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","saveItemOptions",265],"(",")",["T_WHITESPACE","\n    ",265],"{",["T_WHITESPACE","\n        ",266],["T_FOREACH","foreach",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_options",267],["T_WHITESPACE"," ",267],["T_AS","as",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$index",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$option",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$option",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","isDeleted",268],"(",")",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                ",268],["T_VARIABLE","$option",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","delete",269],"(",")",";",["T_WHITESPACE","\n                ",269],["T_UNSET","unset",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_options",270],"[",["T_VARIABLE","$index",270],"]",")",";",["T_WHITESPACE","\n                ",270],["T_UNSET","unset",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_optionsByCode",271],"[",["T_VARIABLE","$option",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getCode",271],"(",")","]",")",";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE"," ",272],["T_ELSE","else",272],["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$option",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","save",273],"(",")",";",["T_WHITESPACE","\n            ",273],"}",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n\n        ",275],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_flagOptionsSaved",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","true",277],";",["T_WHITESPACE","\n        ",277],["T_COMMENT","\/\/ Report to watchers that options were saved\n",278],["T_WHITESPACE","\n        ",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Mark option save requirement\n     *\n     * @param bool $flag\n     * @return void\n     *\/",283],["T_WHITESPACE","\n    ",288],["T_PUBLIC","public",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","setIsOptionsSaved",289],"(",["T_VARIABLE","$flag",289],")",["T_WHITESPACE","\n    ",289],"{",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_flagOptionsSaved",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$flag",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Were options saved?\n     *\n     * @return bool\n     *\/",294],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","isOptionsSaved",299],"(",")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_flagOptionsSaved",301],";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Save item options after item saved\n     *\n     * @return $this\n     *\/",304],["T_WHITESPACE","\n    ",308],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","afterSave",309],"(",")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","saveItemOptions",311],"(",")",";",["T_WHITESPACE","\n        ",311],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_STRING","parent",312],["T_DOUBLE_COLON","::",312],["T_STRING","afterSave",312],"(",")",";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_DOC_COMMENT","\/**\n     * Validate wish list item data\n     *\n     * @return bool\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",315],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","validate",321],"(",")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(","!",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getWishlistId",323],"(",")",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_THROW","throw",324],["T_WHITESPACE"," ",324],["T_NEW","new",324],["T_WHITESPACE"," ",324],["T_NS_SEPARATOR","\\",324],["T_STRING","Magento",324],["T_NS_SEPARATOR","\\",324],["T_STRING","Framework",324],["T_NS_SEPARATOR","\\",324],["T_STRING","Exception",324],["T_NS_SEPARATOR","\\",324],["T_STRING","LocalizedException",324],"(",["T_STRING","__",324],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t specify a wish list.'",324],")",")",";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n        ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(","!",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getProductId",326],"(",")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_THROW","throw",327],["T_WHITESPACE"," ",327],["T_NEW","new",327],["T_WHITESPACE"," ",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Magento",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Framework",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Exception",327],["T_NS_SEPARATOR","\\",327],["T_STRING","LocalizedException",327],"(",["T_STRING","__",327],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot specify product.'",327],")",")",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n\n        ",328],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_STRING","true",330],";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Check required data\n     *\n     * @return $this\n     *\/",333],["T_WHITESPACE","\n    ",337],["T_PUBLIC","public",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","beforeSave",338],"(",")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_STRING","parent",340],["T_DOUBLE_COLON","::",340],["T_STRING","beforeSave",340],"(",")",";",["T_WHITESPACE","\n\n        ",340],["T_COMMENT","\/\/ validate required item data\n",342],["T_WHITESPACE","        ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","validate",343],"(",")",";",["T_WHITESPACE","\n\n        ",343],["T_COMMENT","\/\/ set current store id if it is not defined\n",345],["T_WHITESPACE","        ",346],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_STRING","is_null",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getStoreId",346],"(",")",")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n            ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","setStoreId",347],"(",["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_storeManager",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getStore",347],"(",")",["T_OBJECT_OPERATOR","->",347],["T_STRING","getId",347],"(",")",")",";",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n\n        ",348],["T_COMMENT","\/\/ set current date if added at data is not defined\n",350],["T_WHITESPACE","        ",351],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_STRING","is_null",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getAddedAt",351],"(",")",")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","setAddedAt",352],"(",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_date",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","gmtDate",352],"(",")",")",";",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n\n        ",353],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Load item by product, wishlist and shared stores\n     *\n     * @param int $wishlistId\n     * @param int $productId\n     * @param array $sharedStores\n     * @return $this\n     *\/",358],["T_WHITESPACE","\n    ",365],["T_PUBLIC","public",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","loadByProductWishlist",366],"(",["T_VARIABLE","$wishlistId",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$productId",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$sharedStores",366],")",["T_WHITESPACE","\n    ",366],"{",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_getResource",368],"(",")",["T_OBJECT_OPERATOR","->",368],["T_STRING","loadByProductWishlist",368],"(",["T_VARIABLE","$this",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$wishlistId",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$productId",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$sharedStores",368],")",";",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_afterLoad",369],"(",")",";",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","setOrigData",370],"(",")",";",["T_WHITESPACE","\n\n        ",370],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * Retrieve item product instance\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return \\Magento\\Catalog\\Model\\Product\n     *\/",375],["T_WHITESPACE","\n    ",380],["T_PUBLIC","public",381],["T_WHITESPACE"," ",381],["T_FUNCTION","function",381],["T_WHITESPACE"," ",381],["T_STRING","getProduct",381],"(",")",["T_WHITESPACE","\n    ",381],"{",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$product",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_getData",383],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",383],")",";",["T_WHITESPACE","\n        ",383],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_STRING","is_null",384],"(",["T_VARIABLE","$product",384],")",")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n            ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(","!",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getProductId",385],"(",")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                ",385],["T_THROW","throw",386],["T_WHITESPACE"," ",386],["T_NEW","new",386],["T_WHITESPACE"," ",386],["T_NS_SEPARATOR","\\",386],["T_STRING","Magento",386],["T_NS_SEPARATOR","\\",386],["T_STRING","Framework",386],["T_NS_SEPARATOR","\\",386],["T_STRING","Exception",386],["T_NS_SEPARATOR","\\",386],["T_STRING","LocalizedException",386],"(",["T_STRING","__",386],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot specify product.'",386],")",")",";",["T_WHITESPACE","\n            ",386],"}",["T_WHITESPACE","\n            ",387],["T_TRY","try",388],["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                ",388],["T_VARIABLE","$product",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","productRepository",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getById",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getProductId",389],"(",")",",",["T_WHITESPACE"," ",389],["T_STRING","false",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getStoreId",389],"(",")",",",["T_WHITESPACE"," ",389],["T_STRING","true",389],")",";",["T_WHITESPACE","\n            ",389],"}",["T_WHITESPACE"," ",390],["T_CATCH","catch",390],["T_WHITESPACE"," ",390],"(",["T_STRING","NoSuchEntityException",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$e",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n                ",390],["T_THROW","throw",391],["T_WHITESPACE"," ",391],["T_NEW","new",391],["T_WHITESPACE"," ",391],["T_NS_SEPARATOR","\\",391],["T_STRING","Magento",391],["T_NS_SEPARATOR","\\",391],["T_STRING","Framework",391],["T_NS_SEPARATOR","\\",391],["T_STRING","Exception",391],["T_NS_SEPARATOR","\\",391],["T_STRING","LocalizedException",391],"(",["T_STRING","__",391],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot specify product.'",391],")",",",["T_WHITESPACE"," ",391],["T_VARIABLE","$e",391],")",";",["T_WHITESPACE","\n            ",391],"}",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","setData",393],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$product",393],")",";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n\n        ",394],["T_DOC_COMMENT","\/**\n         * Reset product final price because it related to custom options\n         *\/",396],["T_WHITESPACE","\n        ",398],["T_VARIABLE","$product",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","setFinalPrice",399],"(",["T_STRING","null",399],")",";",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$product",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","setCustomOptions",400],"(",["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_optionsByCode",400],")",";",["T_WHITESPACE","\n        ",400],["T_RETURN","return",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$product",401],";",["T_WHITESPACE","\n    ",401],"}",["T_WHITESPACE","\n\n    ",402],["T_DOC_COMMENT","\/**\n     * Add or Move item product to shopping cart\n     *\n     * Return true if product was successful added or exception with code\n     * Return false for disabled or unvisible products\n     *\n     * @param \\Magento\\Checkout\\Model\\Cart $cart\n     * @param bool $delete  delete the item after successful add to cart\n     * @return bool\n     * @throws \\Magento\\Catalog\\Model\\Product\\Exception\n     *\/",404],["T_WHITESPACE","\n    ",414],["T_PUBLIC","public",415],["T_WHITESPACE"," ",415],["T_FUNCTION","function",415],["T_WHITESPACE"," ",415],["T_STRING","addToCart",415],"(",["T_NS_SEPARATOR","\\",415],["T_STRING","Magento",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Checkout",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Model",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Cart",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$cart",415],",",["T_WHITESPACE"," ",415],["T_VARIABLE","$delete",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","false",415],")",["T_WHITESPACE","\n    ",415],"{",["T_WHITESPACE","\n        ",416],["T_VARIABLE","$product",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getProduct",417],"(",")",";",["T_WHITESPACE","\n\n        ",417],["T_VARIABLE","$storeId",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getStoreId",419],"(",")",";",["T_WHITESPACE","\n\n        ",419],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_VARIABLE","$product",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getStatus",421],"(",")",["T_WHITESPACE"," ",421],["T_IS_NOT_EQUAL","!=",421],["T_WHITESPACE"," ",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Magento",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Catalog",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Model",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Product",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Attribute",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Source",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Status",421],["T_DOUBLE_COLON","::",421],["T_STRING","STATUS_ENABLED",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n            ",421],["T_RETURN","return",422],["T_WHITESPACE"," ",422],["T_STRING","false",422],";",["T_WHITESPACE","\n        ",422],"}",["T_WHITESPACE","\n\n        ",423],["T_IF","if",425],["T_WHITESPACE"," ",425],"(","!",["T_VARIABLE","$product",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","isVisibleInSiteVisibility",425],"(",")",")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$product",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getStoreId",426],"(",")",["T_WHITESPACE"," ",426],["T_IS_EQUAL","==",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$storeId",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_STRING","false",427],";",["T_WHITESPACE","\n            ",427],"}",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$urlData",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_catalogUrl",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getRewriteByProductStore",429],"(","[",["T_VARIABLE","$product",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getId",429],"(",")",["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$storeId",429],"]",")",";",["T_WHITESPACE","\n            ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(","!",["T_ISSET","isset",430],"(",["T_VARIABLE","$urlData",430],"[",["T_VARIABLE","$product",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getId",430],"(",")","]",")",")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n                ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_STRING","false",431],";",["T_WHITESPACE","\n            ",431],"}",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$product",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","setUrlDataObject",433],"(",["T_NEW","new",433],["T_WHITESPACE"," ",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Magento",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Framework",433],["T_NS_SEPARATOR","\\",433],["T_STRING","DataObject",433],"(",["T_VARIABLE","$urlData",433],")",")",";",["T_WHITESPACE","\n            ",433],["T_VARIABLE","$visibility",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$product",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getUrlDataObject",434],"(",")",["T_OBJECT_OPERATOR","->",434],["T_STRING","getVisibility",434],"(",")",";",["T_WHITESPACE","\n            ",434],["T_IF","if",435],["T_WHITESPACE"," ",435],"(","!",["T_STRING","in_array",435],"(",["T_VARIABLE","$visibility",435],",",["T_WHITESPACE"," ",435],["T_VARIABLE","$product",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","getVisibleInSiteVisibilities",435],"(",")",")",")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                ",435],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_STRING","false",436],";",["T_WHITESPACE","\n            ",436],"}",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n\n        ",438],["T_IF","if",440],["T_WHITESPACE"," ",440],"(","!",["T_VARIABLE","$product",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","isSalable",440],"(",")",")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n            ",440],["T_THROW","throw",441],["T_WHITESPACE"," ",441],["T_NEW","new",441],["T_WHITESPACE"," ",441],["T_STRING","ProductException",441],"(",["T_STRING","__",441],"(",["T_CONSTANT_ENCAPSED_STRING","'Product is not salable.'",441],")",")",";",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE","\n\n        ",442],["T_VARIABLE","$buyRequest",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getBuyRequest",444],"(",")",";",["T_WHITESPACE","\n\n        ",444],["T_VARIABLE","$cart",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","addProduct",446],"(",["T_VARIABLE","$product",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$buyRequest",446],")",";",["T_WHITESPACE","\n        ",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(","!",["T_VARIABLE","$product",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","isVisibleInSiteVisibility",447],"(",")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$cart",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getQuote",448],"(",")",["T_OBJECT_OPERATOR","->",448],["T_STRING","getItemByProduct",448],"(",["T_VARIABLE","$product",448],")",["T_OBJECT_OPERATOR","->",448],["T_STRING","setStoreId",448],"(",["T_VARIABLE","$storeId",448],")",";",["T_WHITESPACE","\n        ",448],"}",["T_WHITESPACE","\n\n        ",449],["T_IF","if",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$delete",451],")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n            ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","delete",452],"(",")",";",["T_WHITESPACE","\n        ",452],"}",["T_WHITESPACE","\n\n        ",453],["T_RETURN","return",455],["T_WHITESPACE"," ",455],["T_STRING","true",455],";",["T_WHITESPACE","\n    ",455],"}",["T_WHITESPACE","\n\n    ",456],["T_DOC_COMMENT","\/**\n     * Retrieve Product View Page URL\n     *\n     * If product has required options add special key to URL\n     *\n     * @return string\n     *\/",458],["T_WHITESPACE","\n    ",464],["T_PUBLIC","public",465],["T_WHITESPACE"," ",465],["T_FUNCTION","function",465],["T_WHITESPACE"," ",465],["T_STRING","getProductUrl",465],"(",")",["T_WHITESPACE","\n    ",465],"{",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$product",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getProduct",467],"(",")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$query",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],"[","]",";",["T_WHITESPACE","\n\n        ",468],["T_IF","if",470],["T_WHITESPACE"," ",470],"(",["T_VARIABLE","$product",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getTypeInstance",470],"(",")",["T_OBJECT_OPERATOR","->",470],["T_STRING","hasRequiredOptions",470],"(",["T_VARIABLE","$product",470],")",")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n            ",470],["T_VARIABLE","$query",471],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",471],"]",["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'cart'",471],";",["T_WHITESPACE","\n        ",471],"}",["T_WHITESPACE","\n\n        ",472],["T_RETURN","return",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$product",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getUrlModel",474],"(",")",["T_OBJECT_OPERATOR","->",474],["T_STRING","getUrl",474],"(",["T_VARIABLE","$product",474],",",["T_WHITESPACE"," ",474],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$query",474],"]",")",";",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n\n    ",475],["T_DOC_COMMENT","\/**\n     * Returns formatted buy request - object, holding request received from\n     * product view page with keys and options for configured product\n     *\n     * @return \\Magento\\Framework\\DataObject\n     *\/",477],["T_WHITESPACE","\n    ",482],["T_PUBLIC","public",483],["T_WHITESPACE"," ",483],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","getBuyRequest",483],"(",")",["T_WHITESPACE","\n    ",483],"{",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$option",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getOptionByCode",485],"(",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",485],")",";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$initialData",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_VARIABLE","$option",486],["T_WHITESPACE"," ",486],"?",["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","serializer",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","unserialize",486],"(",["T_VARIABLE","$option",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getValue",486],"(",")",")",["T_WHITESPACE"," ",486],":",["T_WHITESPACE"," ",486],["T_STRING","null",486],";",["T_WHITESPACE","\n\n        ",486],["T_IF","if",488],["T_WHITESPACE"," ",488],"(",["T_VARIABLE","$initialData",488],["T_WHITESPACE"," ",488],["T_INSTANCEOF","instanceof",488],["T_WHITESPACE"," ",488],["T_NS_SEPARATOR","\\",488],["T_STRING","Magento",488],["T_NS_SEPARATOR","\\",488],["T_STRING","Framework",488],["T_NS_SEPARATOR","\\",488],["T_STRING","DataObject",488],")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n            ",488],["T_VARIABLE","$initialData",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$initialData",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getData",489],"(",")",";",["T_WHITESPACE","\n        ",489],"}",["T_WHITESPACE","\n\n        ",490],["T_VARIABLE","$buyRequest",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_NEW","new",492],["T_WHITESPACE"," ",492],["T_NS_SEPARATOR","\\",492],["T_STRING","Magento",492],["T_NS_SEPARATOR","\\",492],["T_STRING","Framework",492],["T_NS_SEPARATOR","\\",492],["T_STRING","DataObject",492],"(",["T_VARIABLE","$initialData",492],")",";",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$buyRequest",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","setOriginalQty",493],"(",["T_VARIABLE","$buyRequest",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","getQty",493],"(",")",")",["T_OBJECT_OPERATOR","->",493],["T_STRING","setQty",493],"(",["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","getQty",493],"(",")",["T_WHITESPACE"," ",493],"*",["T_WHITESPACE"," ",493],["T_LNUMBER","1",493],")",";",["T_WHITESPACE","\n        ",493],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$buyRequest",494],";",["T_WHITESPACE","\n    ",494],"}",["T_WHITESPACE","\n\n    ",495],["T_DOC_COMMENT","\/**\n     * Merge data to item info_buyRequest option\n     *\n     * @param array|\\Magento\\Framework\\DataObject $buyRequest\n     * @return $this\n     *\/",497],["T_WHITESPACE","\n    ",502],["T_PUBLIC","public",503],["T_WHITESPACE"," ",503],["T_FUNCTION","function",503],["T_WHITESPACE"," ",503],["T_STRING","mergeBuyRequest",503],"(",["T_VARIABLE","$buyRequest",503],")",["T_WHITESPACE","\n    ",503],"{",["T_WHITESPACE","\n        ",504],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$buyRequest",505],["T_WHITESPACE"," ",505],["T_INSTANCEOF","instanceof",505],["T_WHITESPACE"," ",505],["T_NS_SEPARATOR","\\",505],["T_STRING","Magento",505],["T_NS_SEPARATOR","\\",505],["T_STRING","Framework",505],["T_NS_SEPARATOR","\\",505],["T_STRING","DataObject",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$buyRequest",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$buyRequest",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getData",506],"(",")",";",["T_WHITESPACE","\n        ",506],"}",["T_WHITESPACE","\n\n        ",507],["T_IF","if",509],["T_WHITESPACE"," ",509],"(",["T_EMPTY","empty",509],"(",["T_VARIABLE","$buyRequest",509],")",["T_WHITESPACE"," ",509],["T_BOOLEAN_OR","||",509],["T_WHITESPACE"," ",509],"!",["T_STRING","is_array",509],"(",["T_VARIABLE","$buyRequest",509],")",")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n            ",509],["T_RETURN","return",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],";",["T_WHITESPACE","\n        ",510],"}",["T_WHITESPACE","\n\n        ",511],["T_VARIABLE","$oldBuyRequest",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","getBuyRequest",513],"(",")",["T_OBJECT_OPERATOR","->",513],["T_STRING","getData",513],"(",")",";",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$sBuyRequest",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","serializer",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","serialize",514],"(",["T_VARIABLE","$buyRequest",514],["T_WHITESPACE"," ",514],"+",["T_WHITESPACE"," ",514],["T_VARIABLE","$oldBuyRequest",514],")",";",["T_WHITESPACE","\n\n        ",514],["T_VARIABLE","$option",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getOptionByCode",516],"(",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",516],")",";",["T_WHITESPACE","\n        ",516],["T_IF","if",517],["T_WHITESPACE"," ",517],"(",["T_VARIABLE","$option",517],")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n            ",517],["T_VARIABLE","$option",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","setValue",518],"(",["T_VARIABLE","$sBuyRequest",518],")",";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE"," ",519],["T_ELSE","else",519],["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n            ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","addOption",520],"(","[",["T_CONSTANT_ENCAPSED_STRING","'code'",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'value'",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$sBuyRequest",520],"]",")",";",["T_WHITESPACE","\n        ",520],"}",["T_WHITESPACE","\n\n        ",521],["T_RETURN","return",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],";",["T_WHITESPACE","\n    ",523],"}",["T_WHITESPACE","\n\n    ",524],["T_DOC_COMMENT","\/**\n     * Set buy request - object, holding request received from\n     * product view page with keys and options for configured product\n     *\n     * @param \\Magento\\Framework\\DataObject $buyRequest\n     * @return $this\n     *\/",526],["T_WHITESPACE","\n    ",532],["T_PUBLIC","public",533],["T_WHITESPACE"," ",533],["T_FUNCTION","function",533],["T_WHITESPACE"," ",533],["T_STRING","setBuyRequest",533],"(",["T_VARIABLE","$buyRequest",533],")",["T_WHITESPACE","\n    ",533],"{",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$buyRequest",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","setId",535],"(",["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getId",535],"(",")",")",";",["T_WHITESPACE","\n\n        ",535],["T_VARIABLE","$_buyRequest",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","serializer",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","serialize",537],"(",["T_VARIABLE","$buyRequest",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getData",537],"(",")",")",";",["T_WHITESPACE","\n        ",537],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","setData",538],"(",["T_CONSTANT_ENCAPSED_STRING","'buy_request'",538],",",["T_WHITESPACE"," ",538],["T_VARIABLE","$_buyRequest",538],")",";",["T_WHITESPACE","\n        ",538],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$this",539],";",["T_WHITESPACE","\n    ",539],"}",["T_WHITESPACE","\n\n    ",540],["T_DOC_COMMENT","\/**\n     * Check product representation in item\n     *\n     * @param   \\Magento\\Catalog\\Model\\Product $product\n     * @param   \\Magento\\Framework\\DataObject $buyRequest\n     * @return  bool\n     *\/",542],["T_WHITESPACE","\n    ",548],["T_PUBLIC","public",549],["T_WHITESPACE"," ",549],["T_FUNCTION","function",549],["T_WHITESPACE"," ",549],["T_STRING","isRepresent",549],"(",["T_VARIABLE","$product",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$buyRequest",549],")",["T_WHITESPACE","\n    ",549],"{",["T_WHITESPACE","\n        ",550],["T_IF","if",551],["T_WHITESPACE"," ",551],"(",["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getProductId",551],"(",")",["T_WHITESPACE"," ",551],["T_IS_NOT_EQUAL","!=",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$product",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getId",551],"(",")",")",["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n            ",551],["T_RETURN","return",552],["T_WHITESPACE"," ",552],["T_STRING","false",552],";",["T_WHITESPACE","\n        ",552],"}",["T_WHITESPACE","\n\n        ",553],["T_VARIABLE","$selfOptions",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","getBuyRequest",555],"(",")",["T_OBJECT_OPERATOR","->",555],["T_STRING","getData",555],"(",")",";",["T_WHITESPACE","\n\n        ",555],["T_IF","if",557],["T_WHITESPACE"," ",557],"(",["T_EMPTY","empty",557],"(",["T_VARIABLE","$buyRequest",557],")",["T_WHITESPACE"," ",557],["T_BOOLEAN_AND","&&",557],["T_WHITESPACE"," ",557],"!",["T_EMPTY","empty",557],"(",["T_VARIABLE","$selfOptions",557],")",")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n            ",557],["T_RETURN","return",558],["T_WHITESPACE"," ",558],["T_STRING","false",558],";",["T_WHITESPACE","\n        ",558],"}",["T_WHITESPACE","\n        ",559],["T_IF","if",560],["T_WHITESPACE"," ",560],"(",["T_EMPTY","empty",560],"(",["T_VARIABLE","$selfOptions",560],")",["T_WHITESPACE"," ",560],["T_BOOLEAN_AND","&&",560],["T_WHITESPACE"," ",560],"!",["T_EMPTY","empty",560],"(",["T_VARIABLE","$buyRequest",560],")",")",["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n            ",560],["T_IF","if",561],["T_WHITESPACE"," ",561],"(","!",["T_VARIABLE","$product",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","isComposite",561],"(",")",")",["T_WHITESPACE"," ",561],"{",["T_WHITESPACE","\n                ",561],["T_RETURN","return",562],["T_WHITESPACE"," ",562],["T_STRING","true",562],";",["T_WHITESPACE","\n            ",562],"}",["T_WHITESPACE"," ",563],["T_ELSE","else",563],["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n                ",563],["T_RETURN","return",564],["T_WHITESPACE"," ",564],["T_STRING","false",564],";",["T_WHITESPACE","\n            ",564],"}",["T_WHITESPACE","\n        ",565],"}",["T_WHITESPACE","\n\n        ",566],["T_VARIABLE","$requestArray",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_VARIABLE","$buyRequest",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","getData",568],"(",")",";",["T_WHITESPACE","\n\n        ",568],["T_IF","if",570],["T_WHITESPACE"," ",570],"(","!",["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","_compareOptions",570],"(",["T_VARIABLE","$requestArray",570],",",["T_WHITESPACE"," ",570],["T_VARIABLE","$selfOptions",570],")",")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n            ",570],["T_RETURN","return",571],["T_WHITESPACE"," ",571],["T_STRING","false",571],";",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n        ",572],["T_IF","if",573],["T_WHITESPACE"," ",573],"(","!",["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","_compareOptions",573],"(",["T_VARIABLE","$selfOptions",573],",",["T_WHITESPACE"," ",573],["T_VARIABLE","$requestArray",573],")",")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n            ",573],["T_RETURN","return",574],["T_WHITESPACE"," ",574],["T_STRING","false",574],";",["T_WHITESPACE","\n        ",574],"}",["T_WHITESPACE","\n        ",575],["T_RETURN","return",576],["T_WHITESPACE"," ",576],["T_STRING","true",576],";",["T_WHITESPACE","\n    ",576],"}",["T_WHITESPACE","\n\n    ",577],["T_DOC_COMMENT","\/**\n     * Check product representation in item\n     *\n     * @param   \\Magento\\Catalog\\Model\\Product $product\n     * @return  bool\n     *\/",579],["T_WHITESPACE","\n    ",584],["T_PUBLIC","public",585],["T_WHITESPACE"," ",585],["T_FUNCTION","function",585],["T_WHITESPACE"," ",585],["T_STRING","representProduct",585],"(",["T_VARIABLE","$product",585],")",["T_WHITESPACE","\n    ",585],"{",["T_WHITESPACE","\n        ",586],["T_VARIABLE","$itemProduct",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","getProduct",587],"(",")",";",["T_WHITESPACE","\n        ",587],["T_IF","if",588],["T_WHITESPACE"," ",588],"(",["T_VARIABLE","$itemProduct",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","getId",588],"(",")",["T_WHITESPACE"," ",588],["T_IS_NOT_EQUAL","!=",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$product",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","getId",588],"(",")",")",["T_WHITESPACE"," ",588],"{",["T_WHITESPACE","\n            ",588],["T_RETURN","return",589],["T_WHITESPACE"," ",589],["T_STRING","false",589],";",["T_WHITESPACE","\n        ",589],"}",["T_WHITESPACE","\n\n        ",590],["T_VARIABLE","$itemOptions",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","getOptionsByCode",592],"(",")",";",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$productOptions",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_VARIABLE","$product",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","getCustomOptions",593],"(",")",";",["T_WHITESPACE","\n\n        ",593],["T_IF","if",595],["T_WHITESPACE"," ",595],"(","!",["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","compareOptions",595],"(",["T_VARIABLE","$itemOptions",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$productOptions",595],")",")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n            ",595],["T_RETURN","return",596],["T_WHITESPACE"," ",596],["T_STRING","false",596],";",["T_WHITESPACE","\n        ",596],"}",["T_WHITESPACE","\n        ",597],["T_IF","if",598],["T_WHITESPACE"," ",598],"(","!",["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","compareOptions",598],"(",["T_VARIABLE","$productOptions",598],",",["T_WHITESPACE"," ",598],["T_VARIABLE","$itemOptions",598],")",")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n            ",598],["T_RETURN","return",599],["T_WHITESPACE"," ",599],["T_STRING","false",599],";",["T_WHITESPACE","\n        ",599],"}",["T_WHITESPACE","\n        ",600],["T_RETURN","return",601],["T_WHITESPACE"," ",601],["T_STRING","true",601],";",["T_WHITESPACE","\n    ",601],"}",["T_WHITESPACE","\n\n    ",602],["T_DOC_COMMENT","\/**\n     * Check if two options array are identical\n     * First options array is prerogative\n     * Second options array checked against first one\n     *\n     * @param array $options1\n     * @param array $options2\n     * @return bool\n     *\/",604],["T_WHITESPACE","\n    ",612],["T_PUBLIC","public",613],["T_WHITESPACE"," ",613],["T_FUNCTION","function",613],["T_WHITESPACE"," ",613],["T_STRING","compareOptions",613],"(",["T_VARIABLE","$options1",613],",",["T_WHITESPACE"," ",613],["T_VARIABLE","$options2",613],")",["T_WHITESPACE","\n    ",613],"{",["T_WHITESPACE","\n        ",614],["T_FOREACH","foreach",615],["T_WHITESPACE"," ",615],"(",["T_VARIABLE","$options1",615],["T_WHITESPACE"," ",615],["T_AS","as",615],["T_WHITESPACE"," ",615],["T_VARIABLE","$option",615],")",["T_WHITESPACE"," ",615],"{",["T_WHITESPACE","\n            ",615],["T_VARIABLE","$code",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_VARIABLE","$option",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","getCode",616],"(",")",";",["T_WHITESPACE","\n            ",616],["T_IF","if",617],["T_WHITESPACE"," ",617],"(",["T_STRING","in_array",617],"(",["T_VARIABLE","$code",617],",",["T_WHITESPACE"," ",617],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","_notRepresentOptions",617],")",")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n                ",617],["T_CONTINUE","continue",618],";",["T_WHITESPACE","\n            ",618],"}",["T_WHITESPACE","\n            ",619],["T_IF","if",620],["T_WHITESPACE"," ",620],"(","!",["T_ISSET","isset",620],"(",["T_VARIABLE","$options2",620],"[",["T_VARIABLE","$code",620],"]",")",["T_WHITESPACE"," ",620],["T_BOOLEAN_OR","||",620],["T_WHITESPACE"," ",620],["T_VARIABLE","$options2",620],"[",["T_VARIABLE","$code",620],"]",["T_OBJECT_OPERATOR","->",620],["T_STRING","getValue",620],"(",")",["T_WHITESPACE"," ",620],["T_IS_NOT_EQUAL","!=",620],["T_WHITESPACE"," ",620],["T_VARIABLE","$option",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","getValue",620],"(",")",")",["T_WHITESPACE"," ",620],"{",["T_WHITESPACE","\n                ",620],["T_RETURN","return",621],["T_WHITESPACE"," ",621],["T_STRING","false",621],";",["T_WHITESPACE","\n            ",621],"}",["T_WHITESPACE","\n        ",622],"}",["T_WHITESPACE","\n        ",623],["T_RETURN","return",624],["T_WHITESPACE"," ",624],["T_STRING","true",624],";",["T_WHITESPACE","\n    ",624],"}",["T_WHITESPACE","\n\n    ",625],["T_DOC_COMMENT","\/**\n     * Initialize item options\n     *\n     * @param   array $options\n     * @return  $this\n     *\/",627],["T_WHITESPACE","\n    ",632],["T_PUBLIC","public",633],["T_WHITESPACE"," ",633],["T_FUNCTION","function",633],["T_WHITESPACE"," ",633],["T_STRING","setOptions",633],"(",["T_VARIABLE","$options",633],")",["T_WHITESPACE","\n    ",633],"{",["T_WHITESPACE","\n        ",634],["T_FOREACH","foreach",635],["T_WHITESPACE"," ",635],"(",["T_VARIABLE","$options",635],["T_WHITESPACE"," ",635],["T_AS","as",635],["T_WHITESPACE"," ",635],["T_VARIABLE","$option",635],")",["T_WHITESPACE"," ",635],"{",["T_WHITESPACE","\n            ",635],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","addOption",636],"(",["T_VARIABLE","$option",636],")",";",["T_WHITESPACE","\n        ",636],"}",["T_WHITESPACE","\n        ",637],["T_RETURN","return",638],["T_WHITESPACE"," ",638],["T_VARIABLE","$this",638],";",["T_WHITESPACE","\n    ",638],"}",["T_WHITESPACE","\n\n    ",639],["T_DOC_COMMENT","\/**\n     * Get all item options\n     *\n     * @return Option[]\n     *\/",641],["T_WHITESPACE","\n    ",645],["T_PUBLIC","public",646],["T_WHITESPACE"," ",646],["T_FUNCTION","function",646],["T_WHITESPACE"," ",646],["T_STRING","getOptions",646],"(",")",["T_WHITESPACE","\n    ",646],"{",["T_WHITESPACE","\n        ",647],["T_RETURN","return",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","_options",648],";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n\n    ",649],["T_DOC_COMMENT","\/**\n     * Get all item options as array with codes in array key\n     *\n     * @return array\n     *\/",651],["T_WHITESPACE","\n    ",655],["T_PUBLIC","public",656],["T_WHITESPACE"," ",656],["T_FUNCTION","function",656],["T_WHITESPACE"," ",656],["T_STRING","getOptionsByCode",656],"(",")",["T_WHITESPACE","\n    ",656],"{",["T_WHITESPACE","\n        ",657],["T_RETURN","return",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","_optionsByCode",658],";",["T_WHITESPACE","\n    ",658],"}",["T_WHITESPACE","\n\n    ",659],["T_DOC_COMMENT","\/**\n     * Add option to item\n     *\n     * @param   Option|\\Magento\\Framework\\DataObject|array $option\n     * @return  $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",661],["T_WHITESPACE","\n    ",667],["T_PUBLIC","public",668],["T_WHITESPACE"," ",668],["T_FUNCTION","function",668],["T_WHITESPACE"," ",668],["T_STRING","addOption",668],"(",["T_VARIABLE","$option",668],")",["T_WHITESPACE","\n    ",668],"{",["T_WHITESPACE","\n        ",669],["T_IF","if",670],["T_WHITESPACE"," ",670],"(",["T_STRING","is_array",670],"(",["T_VARIABLE","$option",670],")",")",["T_WHITESPACE"," ",670],"{",["T_WHITESPACE","\n            ",670],["T_VARIABLE","$option",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","_wishlistOptFactory",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","create",671],"(",")",["T_OBJECT_OPERATOR","->",671],["T_STRING","setData",671],"(",["T_VARIABLE","$option",671],")",["T_OBJECT_OPERATOR","->",671],["T_STRING","setItem",671],"(",["T_VARIABLE","$this",671],")",";",["T_WHITESPACE","\n        ",671],"}",["T_WHITESPACE"," ",672],["T_ELSEIF","elseif",672],["T_WHITESPACE"," ",672],"(",["T_VARIABLE","$option",672],["T_WHITESPACE"," ",672],["T_INSTANCEOF","instanceof",672],["T_WHITESPACE"," ",672],["T_STRING","Option",672],")",["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n            ",672],["T_VARIABLE","$option",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","setItem",673],"(",["T_VARIABLE","$this",673],")",";",["T_WHITESPACE","\n        ",673],"}",["T_WHITESPACE"," ",674],["T_ELSEIF","elseif",674],["T_WHITESPACE"," ",674],"(",["T_VARIABLE","$option",674],["T_WHITESPACE"," ",674],["T_INSTANCEOF","instanceof",674],["T_WHITESPACE"," ",674],["T_NS_SEPARATOR","\\",674],["T_STRING","Magento",674],["T_NS_SEPARATOR","\\",674],["T_STRING","Framework",674],["T_NS_SEPARATOR","\\",674],["T_STRING","DataObject",674],")",["T_WHITESPACE"," ",674],"{",["T_WHITESPACE","\n            ",674],["T_VARIABLE","$option",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","_wishlistOptFactory",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","create",675],"(",")",["T_OBJECT_OPERATOR","->",675],["T_STRING","setData",675],"(",["T_VARIABLE","$option",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","getData",675],"(",")",")",["T_WHITESPACE","\n               ",675],["T_OBJECT_OPERATOR","->",676],["T_STRING","setProduct",676],"(",["T_VARIABLE","$option",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","getProduct",676],"(",")",")",["T_WHITESPACE","\n               ",676],["T_OBJECT_OPERATOR","->",677],["T_STRING","setItem",677],"(",["T_VARIABLE","$this",677],")",";",["T_WHITESPACE","\n        ",677],"}",["T_WHITESPACE"," ",678],["T_ELSE","else",678],["T_WHITESPACE"," ",678],"{",["T_WHITESPACE","\n            ",678],["T_THROW","throw",679],["T_WHITESPACE"," ",679],["T_NEW","new",679],["T_WHITESPACE"," ",679],["T_NS_SEPARATOR","\\",679],["T_STRING","Magento",679],["T_NS_SEPARATOR","\\",679],["T_STRING","Framework",679],["T_NS_SEPARATOR","\\",679],["T_STRING","Exception",679],["T_NS_SEPARATOR","\\",679],["T_STRING","LocalizedException",679],"(",["T_STRING","__",679],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid item option format.'",679],")",")",";",["T_WHITESPACE","\n        ",679],"}",["T_WHITESPACE","\n\n        ",680],["T_VARIABLE","$exOption",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","getOptionByCode",682],"(",["T_VARIABLE","$option",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","getCode",682],"(",")",")",";",["T_WHITESPACE","\n        ",682],["T_IF","if",683],["T_WHITESPACE"," ",683],"(",["T_VARIABLE","$exOption",683],")",["T_WHITESPACE"," ",683],"{",["T_WHITESPACE","\n            ",683],["T_VARIABLE","$exOption",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","addData",684],"(",["T_VARIABLE","$option",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","getData",684],"(",")",")",";",["T_WHITESPACE","\n        ",684],"}",["T_WHITESPACE"," ",685],["T_ELSE","else",685],["T_WHITESPACE"," ",685],"{",["T_WHITESPACE","\n            ",685],["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","_addOptionCode",686],"(",["T_VARIABLE","$option",686],")",";",["T_WHITESPACE","\n            ",686],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","_options",687],"[","]",["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_VARIABLE","$option",687],";",["T_WHITESPACE","\n        ",687],"}",["T_WHITESPACE","\n        ",688],["T_RETURN","return",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$this",689],";",["T_WHITESPACE","\n    ",689],"}",["T_WHITESPACE","\n\n    ",690],["T_DOC_COMMENT","\/**\n     * Remove option from item options\n     *\n     * @param string $code\n     * @return $this\n     *\/",692],["T_WHITESPACE","\n    ",697],["T_PUBLIC","public",698],["T_WHITESPACE"," ",698],["T_FUNCTION","function",698],["T_WHITESPACE"," ",698],["T_STRING","removeOption",698],"(",["T_VARIABLE","$code",698],")",["T_WHITESPACE","\n    ",698],"{",["T_WHITESPACE","\n        ",699],["T_VARIABLE","$option",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","getOptionByCode",700],"(",["T_VARIABLE","$code",700],")",";",["T_WHITESPACE","\n        ",700],["T_IF","if",701],["T_WHITESPACE"," ",701],"(",["T_VARIABLE","$option",701],")",["T_WHITESPACE"," ",701],"{",["T_WHITESPACE","\n            ",701],["T_VARIABLE","$option",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","isDeleted",702],"(",["T_STRING","true",702],")",";",["T_WHITESPACE","\n        ",702],"}",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Get item option by code\n     *\n     * @param   string $code\n     * @return  Option|null\n     *\/",707],["T_WHITESPACE","\n    ",712],["T_PUBLIC","public",713],["T_WHITESPACE"," ",713],["T_FUNCTION","function",713],["T_WHITESPACE"," ",713],["T_STRING","getOptionByCode",713],"(",["T_VARIABLE","$code",713],")",["T_WHITESPACE","\n    ",713],"{",["T_WHITESPACE","\n        ",714],["T_IF","if",715],["T_WHITESPACE"," ",715],"(",["T_ISSET","isset",715],"(",["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","_optionsByCode",715],"[",["T_VARIABLE","$code",715],"]",")",["T_WHITESPACE"," ",715],["T_BOOLEAN_AND","&&",715],["T_WHITESPACE"," ",715],"!",["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","_optionsByCode",715],"[",["T_VARIABLE","$code",715],"]",["T_OBJECT_OPERATOR","->",715],["T_STRING","isDeleted",715],"(",")",")",["T_WHITESPACE"," ",715],"{",["T_WHITESPACE","\n            ",715],["T_RETURN","return",716],["T_WHITESPACE"," ",716],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","_optionsByCode",716],"[",["T_VARIABLE","$code",716],"]",";",["T_WHITESPACE","\n        ",716],"}",["T_WHITESPACE","\n        ",717],["T_RETURN","return",718],["T_WHITESPACE"," ",718],["T_STRING","null",718],";",["T_WHITESPACE","\n    ",718],"}",["T_WHITESPACE","\n\n    ",719],["T_DOC_COMMENT","\/**\n     * Returns whether Qty field is valid for this item\n     *\n     * @return bool\n     *\/",721],["T_WHITESPACE","\n    ",725],["T_PUBLIC","public",726],["T_WHITESPACE"," ",726],["T_FUNCTION","function",726],["T_WHITESPACE"," ",726],["T_STRING","canHaveQty",726],"(",")",["T_WHITESPACE","\n    ",726],"{",["T_WHITESPACE","\n        ",727],["T_VARIABLE","$product",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","getProduct",728],"(",")",";",["T_WHITESPACE","\n        ",728],["T_RETURN","return",729],["T_WHITESPACE"," ",729],"!",["T_VARIABLE","$this",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","productTypeConfig",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","isProductSet",729],"(",["T_VARIABLE","$product",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","getTypeId",729],"(",")",")",";",["T_WHITESPACE","\n    ",729],"}",["T_WHITESPACE","\n\n    ",730],["T_DOC_COMMENT","\/**\n     * Get current custom option download url\n     *\n     * @return string\n     *\/",732],["T_WHITESPACE","\n    ",736],["T_PUBLIC","public",737],["T_WHITESPACE"," ",737],["T_FUNCTION","function",737],["T_WHITESPACE"," ",737],["T_STRING","getCustomDownloadUrl",737],"(",")",["T_WHITESPACE","\n    ",737],"{",["T_WHITESPACE","\n        ",738],["T_RETURN","return",739],["T_WHITESPACE"," ",739],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","_customOptionDownloadUrl",739],";",["T_WHITESPACE","\n    ",739],"}",["T_WHITESPACE","\n\n    ",740],["T_DOC_COMMENT","\/**\n     * Sets custom option download url\n     *\n     * @param string $url\n     * @return void\n     *\/",742],["T_WHITESPACE","\n    ",747],["T_PUBLIC","public",748],["T_WHITESPACE"," ",748],["T_FUNCTION","function",748],["T_WHITESPACE"," ",748],["T_STRING","setCustomDownloadUrl",748],"(",["T_VARIABLE","$url",748],")",["T_WHITESPACE","\n    ",748],"{",["T_WHITESPACE","\n        ",749],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","_customOptionDownloadUrl",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_VARIABLE","$url",750],";",["T_WHITESPACE","\n    ",750],"}",["T_WHITESPACE","\n\n    ",751],["T_DOC_COMMENT","\/**\n     * Returns special download params (if needed) for custom option with type = 'file'.\n     * Needed to implement \\Magento\\Catalog\\Model\\Product\\Configuration\\Item\\Interface.\n     *\n     * We have to customize only controller url, so return it.\n     *\n     * @return null|\\Magento\\Framework\\DataObject\n     *\/",753],["T_WHITESPACE","\n    ",760],["T_PUBLIC","public",761],["T_WHITESPACE"," ",761],["T_FUNCTION","function",761],["T_WHITESPACE"," ",761],["T_STRING","getFileDownloadParams",761],"(",")",["T_WHITESPACE","\n    ",761],"{",["T_WHITESPACE","\n        ",762],["T_VARIABLE","$params",763],["T_WHITESPACE"," ",763],"=",["T_WHITESPACE"," ",763],["T_NEW","new",763],["T_WHITESPACE"," ",763],["T_NS_SEPARATOR","\\",763],["T_STRING","Magento",763],["T_NS_SEPARATOR","\\",763],["T_STRING","Framework",763],["T_NS_SEPARATOR","\\",763],["T_STRING","DataObject",763],"(",")",";",["T_WHITESPACE","\n        ",763],["T_VARIABLE","$params",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","setUrl",764],"(",["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_customOptionDownloadUrl",764],")",";",["T_WHITESPACE","\n        ",764],["T_RETURN","return",765],["T_WHITESPACE"," ",765],["T_VARIABLE","$params",765],";",["T_WHITESPACE","\n    ",765],"}",["T_WHITESPACE","\n\n    ",766],["T_DOC_COMMENT","\/**\n     * Loads item together with its options (default load() method doesn't load options).\n     * If we need to load only some of options, then option code or array of option codes\n     * can be provided in $optionsFilter.\n     *\n     * @param int $id\n     * @param null|string|array $optionsFilter\n     *\n     * @return $this\n     *\/",768],["T_WHITESPACE","\n    ",777],["T_PUBLIC","public",778],["T_WHITESPACE"," ",778],["T_FUNCTION","function",778],["T_WHITESPACE"," ",778],["T_STRING","loadWithOptions",778],"(",["T_VARIABLE","$id",778],",",["T_WHITESPACE"," ",778],["T_VARIABLE","$optionsFilter",778],["T_WHITESPACE"," ",778],"=",["T_WHITESPACE"," ",778],["T_STRING","null",778],")",["T_WHITESPACE","\n    ",778],"{",["T_WHITESPACE","\n        ",779],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","load",780],"(",["T_VARIABLE","$id",780],")",";",["T_WHITESPACE","\n        ",780],["T_IF","if",781],["T_WHITESPACE"," ",781],"(","!",["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","getId",781],"(",")",")",["T_WHITESPACE"," ",781],"{",["T_WHITESPACE","\n            ",781],["T_RETURN","return",782],["T_WHITESPACE"," ",782],["T_VARIABLE","$this",782],";",["T_WHITESPACE","\n        ",782],"}",["T_WHITESPACE","\n\n        ",783],["T_VARIABLE","$options",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","_wishlOptionCollectionFactory",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","create",785],"(",")",["T_OBJECT_OPERATOR","->",785],["T_STRING","addItemFilter",785],"(",["T_VARIABLE","$this",785],")",";",["T_WHITESPACE","\n        ",785],["T_IF","if",786],["T_WHITESPACE"," ",786],"(",["T_VARIABLE","$optionsFilter",786],")",["T_WHITESPACE"," ",786],"{",["T_WHITESPACE","\n            ",786],["T_VARIABLE","$options",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","addFieldToFilter",787],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",787],",",["T_WHITESPACE"," ",787],["T_VARIABLE","$optionsFilter",787],")",";",["T_WHITESPACE","\n        ",787],"}",["T_WHITESPACE","\n\n        ",788],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","setOptions",790],"(",["T_VARIABLE","$options",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","getOptionsByItem",790],"(",["T_VARIABLE","$this",790],")",")",";",["T_WHITESPACE","\n        ",790],["T_RETURN","return",791],["T_WHITESPACE"," ",791],["T_VARIABLE","$this",791],";",["T_WHITESPACE","\n    ",791],"}",["T_WHITESPACE","\n",792],"}",["T_WHITESPACE","\n",793]]