[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Wishlist",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductRepositoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","NoSuchEntityException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Wishlist",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResourceModel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Item",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CollectionFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Wishlist",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceModel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Wishlist",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","ResourceWishlist",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Wishlist",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResourceModel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Wishlist",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Collection",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Wishlist model\n *\n * @method \\Magento\\Wishlist\\Model\\ResourceModel\\Wishlist _getResource()\n * @method \\Magento\\Wishlist\\Model\\ResourceModel\\Wishlist getResource()\n * @method int getShared()\n * @method \\Magento\\Wishlist\\Model\\Wishlist setShared(int $value)\n * @method string getSharingCode()\n * @method \\Magento\\Wishlist\\Model\\Wishlist setSharingCode(string $value)\n * @method string getUpdatedAt()\n * @method \\Magento\\Wishlist\\Model\\Wishlist setUpdatedAt(string $value)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","Wishlist",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Framework",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Model",27],["T_NS_SEPARATOR","\\",27],["T_STRING","AbstractModel",27],["T_WHITESPACE"," ",27],["T_IMPLEMENTS","implements",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Framework",27],["T_NS_SEPARATOR","\\",27],["T_STRING","DataObject",27],["T_NS_SEPARATOR","\\",27],["T_STRING","IdentityInterface",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * Cache tag\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","CACHE_TAG",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'wishlist'",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Prefix of model events names\n     *\n     * @var string\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_eventPrefix",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'wishlist'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Wishlist item collection\n     *\n     * @var \\Magento\\Wishlist\\Model\\ResourceModel\\Item\\Collection\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_itemCollection",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Store filter for wishlist\n     *\n     * @var \\Magento\\Store\\Model\\Store\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_store",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Shared store ids (website stores)\n     *\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_storeIds",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Wishlist data\n     *\n     * @var \\Magento\\Wishlist\\Helper\\Data\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_wishlistData",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Catalog product\n     *\n     * @var \\Magento\\Catalog\\Helper\\Product\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_catalogProduct",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_storeManager",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",81],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$_date",84],";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * @var ItemFactory\n     *\/",86],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$_wishlistItemFactory",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @var CollectionFactory\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$_wishlistCollectionFactory",94],";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductFactory\n     *\/",96],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_productFactory",99],";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Math\\Random\n     *\/",101],["T_WHITESPACE","\n    ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$mathRandom",104],";",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",106],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$dateTime",109],";",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",111],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_useCurrentWebsite",114],";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * @var ProductRepositoryInterface\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$productRepository",119],";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Catalog\\Helper\\Product $catalogProduct\n     * @param \\Magento\\Wishlist\\Helper\\Data $wishlistData\n     * @param ResourceWishlist $resource\n     * @param Collection $resourceCollection\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $date\n     * @param ItemFactory $wishlistItemFactory\n     * @param CollectionFactory $wishlistCollectionFactory\n     * @param \\Magento\\Catalog\\Model\\ProductFactory $productFactory\n     * @param \\Magento\\Framework\\Math\\Random $mathRandom\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param ProductRepositoryInterface $productRepository\n     * @param bool $useCurrentWebsite\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",121],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","__construct",140],"(",["T_WHITESPACE","\n        ",140],["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Framework",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Model",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Context",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$context",141],",",["T_WHITESPACE","\n        ",141],["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Framework",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Registry",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$registry",142],",",["T_WHITESPACE","\n        ",142],["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Catalog",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Helper",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Product",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$catalogProduct",143],",",["T_WHITESPACE","\n        ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Wishlist",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Helper",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Data",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$wishlistData",144],",",["T_WHITESPACE","\n        ",144],["T_STRING","ResourceWishlist",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$resource",145],",",["T_WHITESPACE","\n        ",145],["T_STRING","Collection",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$resourceCollection",146],",",["T_WHITESPACE","\n        ",146],["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Store",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Model",147],["T_NS_SEPARATOR","\\",147],["T_STRING","StoreManagerInterface",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$storeManager",147],",",["T_WHITESPACE","\n        ",147],["T_NS_SEPARATOR","\\",148],["T_STRING","Magento",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Framework",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Stdlib",148],["T_NS_SEPARATOR","\\",148],["T_STRING","DateTime",148],["T_NS_SEPARATOR","\\",148],["T_STRING","DateTime",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$date",148],",",["T_WHITESPACE","\n        ",148],["T_STRING","ItemFactory",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$wishlistItemFactory",149],",",["T_WHITESPACE","\n        ",149],["T_STRING","CollectionFactory",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$wishlistCollectionFactory",150],",",["T_WHITESPACE","\n        ",150],["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Catalog",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Model",151],["T_NS_SEPARATOR","\\",151],["T_STRING","ProductFactory",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$productFactory",151],",",["T_WHITESPACE","\n        ",151],["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Framework",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Math",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Random",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$mathRandom",152],",",["T_WHITESPACE","\n        ",152],["T_NS_SEPARATOR","\\",153],["T_STRING","Magento",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Framework",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Stdlib",153],["T_NS_SEPARATOR","\\",153],["T_STRING","DateTime",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$dateTime",153],",",["T_WHITESPACE","\n        ",153],["T_STRING","ProductRepositoryInterface",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$productRepository",154],",",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$useCurrentWebsite",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","true",155],",",["T_WHITESPACE","\n        ",155],["T_ARRAY","array",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$data",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],"[","]",["T_WHITESPACE","\n    ",156],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_useCurrentWebsite",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$useCurrentWebsite",158],";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_catalogProduct",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$catalogProduct",159],";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_wishlistData",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$wishlistData",160],";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_storeManager",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$storeManager",161],";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_date",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$date",162],";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_wishlistItemFactory",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$wishlistItemFactory",163],";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_wishlistCollectionFactory",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$wishlistCollectionFactory",164],";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_productFactory",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$productFactory",165],";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","mathRandom",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$mathRandom",166],";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","dateTime",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$dateTime",167],";",["T_WHITESPACE","\n        ",167],["T_STRING","parent",168],["T_DOUBLE_COLON","::",168],["T_STRING","__construct",168],"(",["T_VARIABLE","$context",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$registry",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$resource",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$resourceCollection",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$data",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","productRepository",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$productRepository",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Load wishlist by customer id\n     *\n     * @param int $customerId\n     * @param bool $create Create wishlist if don't exists\n     * @return $this\n     *\/",172],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","loadByCustomerId",179],"(",["T_VARIABLE","$customerId",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$create",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","false",179],")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$customerId",181],["T_WHITESPACE"," ",181],["T_IS_IDENTICAL","===",181],["T_WHITESPACE"," ",181],["T_STRING","null",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],";",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$customerId",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_INT_CAST","(int)",184],["T_VARIABLE","$customerId",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$customerIdFieldName",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_getResource",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","getCustomerIdFieldName",185],"(",")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_getResource",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","load",186],"(",["T_VARIABLE","$this",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$customerId",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$customerIdFieldName",186],")",";",["T_WHITESPACE","\n        ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(","!",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getId",187],"(",")",["T_WHITESPACE"," ",187],["T_BOOLEAN_AND","&&",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$create",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","setCustomerId",188],"(",["T_VARIABLE","$customerId",188],")",";",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setSharingCode",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_getSharingRandomCode",189],"(",")",")",";",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","save",190],"(",")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Retrieve wishlist name\n     *\n     * @return string\n     *\/",196],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","getName",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$name",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_getData",203],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",203],")",";",["T_WHITESPACE","\n        ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(","!",["T_STRING","strlen",204],"(",["T_VARIABLE","$name",204],")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_wishlistData",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getDefaultWishlistName",205],"(",")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$name",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Set random sharing code\n     *\n     * @return $this\n     *\/",210],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","generateSharingCode",215],"(",")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setSharingCode",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_getSharingRandomCode",217],"(",")",")",";",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Load by sharing code\n     *\n     * @param string $code\n     * @return $this\n     *\/",221],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","loadByCode",227],"(",["T_VARIABLE","$code",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_getResource",229],"(",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","load",229],"(",["T_VARIABLE","$this",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$code",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'sharing_code'",229],")",";",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(","!",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getShared",230],"(",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","setId",231],"(",["T_STRING","null",231],")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Retrieve sharing code (random string)\n     *\n     * @return string\n     *\/",237],["T_WHITESPACE","\n    ",241],["T_PROTECTED","protected",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","_getSharingRandomCode",242],"(",")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","mathRandom",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getUniqueHash",244],"(",")",";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Set date of last update for wishlist\n     *\n     * @return $this\n     *\/",247],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","beforeSave",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_STRING","parent",254],["T_DOUBLE_COLON","::",254],["T_STRING","beforeSave",254],"(",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","setUpdatedAt",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_date",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","gmtDate",255],"(",")",")",";",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Save related items\n     *\n     * @return $this\n     *\/",259],["T_WHITESPACE","\n    ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","afterSave",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_STRING","parent",266],["T_DOUBLE_COLON","::",266],["T_STRING","afterSave",266],"(",")",";",["T_WHITESPACE","\n\n        ",266],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_STRING","null",268],["T_WHITESPACE"," ",268],["T_IS_NOT_IDENTICAL","!==",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_itemCollection",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getItemCollection",269],"(",")",["T_OBJECT_OPERATOR","->",269],["T_STRING","save",269],"(",")",";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n        ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * Add catalog product object data to wishlist\n     *\n     * @param   \\Magento\\Catalog\\Model\\Product $product\n     * @param   int $qty\n     * @param   bool $forciblySetQty\n     *\n     * @return  Item\n     *\/",274],["T_WHITESPACE","\n    ",282],["T_PROTECTED","protected",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","_addCatalogProduct",283],"(",["T_NS_SEPARATOR","\\",283],["T_STRING","Magento",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Catalog",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Model",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Product",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$product",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$qty",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_LNUMBER","1",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$forciblySetQty",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","false",283],")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$item",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","null",285],";",["T_WHITESPACE","\n        ",285],["T_FOREACH","foreach",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getItemCollection",286],"(",")",["T_WHITESPACE"," ",286],["T_AS","as",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$_item",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$_item",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","representProduct",287],"(",["T_VARIABLE","$product",287],")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                ",287],["T_VARIABLE","$item",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$_item",288],";",["T_WHITESPACE","\n                ",288],["T_BREAK","break",289],";",["T_WHITESPACE","\n            ",289],"}",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n\n        ",291],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$item",293],["T_WHITESPACE"," ",293],["T_IS_IDENTICAL","===",293],["T_WHITESPACE"," ",293],["T_STRING","null",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_VARIABLE","$storeId",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$product",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","hasWishlistStoreId",294],"(",")",["T_WHITESPACE"," ",294],"?",["T_WHITESPACE"," ",294],["T_VARIABLE","$product",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getWishlistStoreId",294],"(",")",["T_WHITESPACE"," ",294],":",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getStore",294],"(",")",["T_OBJECT_OPERATOR","->",294],["T_STRING","getId",294],"(",")",";",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$item",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_wishlistItemFactory",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","create",295],"(",")",";",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$item",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","setProductId",296],"(",["T_VARIABLE","$product",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getId",296],"(",")",")",";",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$item",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","setWishlistId",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getId",297],"(",")",")",";",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$item",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","setAddedAt",298],"(","(",["T_NEW","new",298],["T_WHITESPACE"," ",298],["T_NS_SEPARATOR","\\",298],["T_STRING","DateTime",298],"(",")",")",["T_OBJECT_OPERATOR","->",298],["T_STRING","format",298],"(",["T_NS_SEPARATOR","\\",298],["T_STRING","Magento",298],["T_NS_SEPARATOR","\\",298],["T_STRING","Framework",298],["T_NS_SEPARATOR","\\",298],["T_STRING","Stdlib",298],["T_NS_SEPARATOR","\\",298],["T_STRING","DateTime",298],["T_DOUBLE_COLON","::",298],["T_STRING","DATETIME_PHP_FORMAT",298],")",")",";",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$item",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","setStoreId",299],"(",["T_VARIABLE","$storeId",299],")",";",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$item",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","setOptions",300],"(",["T_VARIABLE","$product",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getCustomOptions",300],"(",")",")",";",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$item",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","setProduct",301],"(",["T_VARIABLE","$product",301],")",";",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$item",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","setQty",302],"(",["T_VARIABLE","$qty",302],")",";",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$item",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","save",303],"(",")",";",["T_WHITESPACE","\n            ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$item",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getId",304],"(",")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getItemCollection",305],"(",")",["T_OBJECT_OPERATOR","->",305],["T_STRING","addItem",305],"(",["T_VARIABLE","$item",305],")",";",["T_WHITESPACE","\n            ",305],"}",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE"," ",307],["T_ELSE","else",307],["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$qty",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$forciblySetQty",308],["T_WHITESPACE"," ",308],"?",["T_WHITESPACE"," ",308],["T_VARIABLE","$qty",308],["T_WHITESPACE"," ",308],":",["T_WHITESPACE"," ",308],["T_VARIABLE","$item",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getQty",308],"(",")",["T_WHITESPACE"," ",308],"+",["T_WHITESPACE"," ",308],["T_VARIABLE","$qty",308],";",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$item",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","setQty",309],"(",["T_VARIABLE","$qty",309],")",["T_OBJECT_OPERATOR","->",309],["T_STRING","save",309],"(",")",";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n\n        ",310],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","addItem",312],"(",["T_VARIABLE","$item",312],")",";",["T_WHITESPACE","\n\n        ",312],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$item",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Retrieve wishlist item collection\n     *\n     * @return \\Magento\\Wishlist\\Model\\ResourceModel\\Item\\Collection\n     *\/",317],["T_WHITESPACE","\n    ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","getItemCollection",322],"(",")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_itemCollection",324],["T_WHITESPACE"," ",324],["T_IS_IDENTICAL","===",324],["T_WHITESPACE"," ",324],["T_STRING","null",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_itemCollection",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_wishlistCollectionFactory",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","create",325],"(",")",["T_OBJECT_OPERATOR","->",325],["T_STRING","addWishlistFilter",325],"(",["T_WHITESPACE","\n                ",325],["T_VARIABLE","$this",326],["T_WHITESPACE","\n            ",326],")",["T_OBJECT_OPERATOR","->",327],["T_STRING","addStoreFilter",327],"(",["T_WHITESPACE","\n                ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getSharedStoreIds",328],"(",")",["T_WHITESPACE","\n            ",328],")",["T_OBJECT_OPERATOR","->",329],["T_STRING","setVisibilityFilter",329],"(",")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_itemCollection",332],";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Retrieve wishlist item collection\n     *\n     * @param int $itemId\n     * @return false|Item\n     *\/",335],["T_WHITESPACE","\n    ",340],["T_PUBLIC","public",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","getItem",341],"(",["T_VARIABLE","$itemId",341],")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_IF","if",343],["T_WHITESPACE"," ",343],"(","!",["T_VARIABLE","$itemId",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n            ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_STRING","false",344],";",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE","\n        ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getItemCollection",346],"(",")",["T_OBJECT_OPERATOR","->",346],["T_STRING","getItemById",346],"(",["T_VARIABLE","$itemId",346],")",";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Adding item to wishlist\n     *\n     * @param   Item $item\n     * @return  $this\n     *\/",349],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","addItem",355],"(",["T_STRING","Item",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$item",355],")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$item",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","setWishlist",357],"(",["T_VARIABLE","$this",357],")",";",["T_WHITESPACE","\n        ",357],["T_IF","if",358],["T_WHITESPACE"," ",358],"(","!",["T_VARIABLE","$item",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getId",358],"(",")",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getItemCollection",359],"(",")",["T_OBJECT_OPERATOR","->",359],["T_STRING","addItem",359],"(",["T_VARIABLE","$item",359],")",";",["T_WHITESPACE","\n            ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_eventManager",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","dispatch",360],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist_add_item'",360],",",["T_WHITESPACE"," ",360],"[",["T_CONSTANT_ENCAPSED_STRING","'item'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$item",360],"]",")",";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n        ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * Adds new product to wishlist.\n     * Returns new item or string on error.\n     *\n     * @param int|\\Magento\\Catalog\\Model\\Product $product\n     * @param \\Magento\\Framework\\DataObject|array|string|null $buyRequest\n     * @param bool $forciblySetQty\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return Item|string\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",365],["T_WHITESPACE","\n    ",376],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","addNewItem",377],"(",["T_VARIABLE","$product",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$buyRequest",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","null",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$forciblySetQty",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","false",377],")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_COMMENT","\/*\n         * Always load product, to ensure:\n         * a) we have new instance and do not interfere with other products in wishlist\n         * b) product has full set of attributes\n         *\/",379],["T_WHITESPACE","\n        ",383],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_VARIABLE","$product",384],["T_WHITESPACE"," ",384],["T_INSTANCEOF","instanceof",384],["T_WHITESPACE"," ",384],["T_NS_SEPARATOR","\\",384],["T_STRING","Magento",384],["T_NS_SEPARATOR","\\",384],["T_STRING","Catalog",384],["T_NS_SEPARATOR","\\",384],["T_STRING","Model",384],["T_NS_SEPARATOR","\\",384],["T_STRING","Product",384],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n            ",384],["T_VARIABLE","$productId",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$product",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getId",385],"(",")",";",["T_WHITESPACE","\n            ",385],["T_COMMENT","\/\/ Maybe force some store by wishlist internal properties\n",386],["T_WHITESPACE","            ",387],["T_VARIABLE","$storeId",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$product",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","hasWishlistStoreId",387],"(",")",["T_WHITESPACE"," ",387],"?",["T_WHITESPACE"," ",387],["T_VARIABLE","$product",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getWishlistStoreId",387],"(",")",["T_WHITESPACE"," ",387],":",["T_WHITESPACE"," ",387],["T_VARIABLE","$product",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getStoreId",387],"(",")",";",["T_WHITESPACE","\n        ",387],"}",["T_WHITESPACE"," ",388],["T_ELSE","else",388],["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$productId",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_INT_CAST","(int)",389],["T_VARIABLE","$product",389],";",["T_WHITESPACE","\n            ",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_ISSET","isset",390],"(",["T_VARIABLE","$buyRequest",390],")",["T_WHITESPACE"," ",390],["T_BOOLEAN_AND","&&",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$buyRequest",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getStoreId",390],"(",")",")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n                ",390],["T_VARIABLE","$storeId",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$buyRequest",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getStoreId",391],"(",")",";",["T_WHITESPACE","\n            ",391],"}",["T_WHITESPACE"," ",392],["T_ELSE","else",392],["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n                ",392],["T_VARIABLE","$storeId",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_storeManager",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getStore",393],"(",")",["T_OBJECT_OPERATOR","->",393],["T_STRING","getId",393],"(",")",";",["T_WHITESPACE","\n            ",393],"}",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE","\n\n        ",395],["T_TRY","try",397],["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_VARIABLE","$product",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","productRepository",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getById",398],"(",["T_VARIABLE","$productId",398],",",["T_WHITESPACE"," ",398],["T_STRING","false",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$storeId",398],")",";",["T_WHITESPACE","\n        ",398],"}",["T_WHITESPACE"," ",399],["T_CATCH","catch",399],["T_WHITESPACE"," ",399],"(",["T_STRING","NoSuchEntityException",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$e",399],")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n            ",399],["T_THROW","throw",400],["T_WHITESPACE"," ",400],["T_NEW","new",400],["T_WHITESPACE"," ",400],["T_NS_SEPARATOR","\\",400],["T_STRING","Magento",400],["T_NS_SEPARATOR","\\",400],["T_STRING","Framework",400],["T_NS_SEPARATOR","\\",400],["T_STRING","Exception",400],["T_NS_SEPARATOR","\\",400],["T_STRING","LocalizedException",400],"(",["T_STRING","__",400],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot specify product.'",400],")",")",";",["T_WHITESPACE","\n        ",400],"}",["T_WHITESPACE","\n\n        ",401],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$buyRequest",403],["T_WHITESPACE"," ",403],["T_INSTANCEOF","instanceof",403],["T_WHITESPACE"," ",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Magento",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Framework",403],["T_NS_SEPARATOR","\\",403],["T_STRING","DataObject",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_VARIABLE","$_buyRequest",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$buyRequest",404],";",["T_WHITESPACE","\n        ",404],"}",["T_WHITESPACE"," ",405],["T_ELSEIF","elseif",405],["T_WHITESPACE"," ",405],"(",["T_STRING","is_string",405],"(",["T_VARIABLE","$buyRequest",405],")",")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$_buyRequest",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_NEW","new",406],["T_WHITESPACE"," ",406],["T_NS_SEPARATOR","\\",406],["T_STRING","Magento",406],["T_NS_SEPARATOR","\\",406],["T_STRING","Framework",406],["T_NS_SEPARATOR","\\",406],["T_STRING","DataObject",406],"(",["T_STRING","unserialize",406],"(",["T_VARIABLE","$buyRequest",406],")",")",";",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE"," ",407],["T_ELSEIF","elseif",407],["T_WHITESPACE"," ",407],"(",["T_STRING","is_array",407],"(",["T_VARIABLE","$buyRequest",407],")",")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n            ",407],["T_VARIABLE","$_buyRequest",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_NEW","new",408],["T_WHITESPACE"," ",408],["T_NS_SEPARATOR","\\",408],["T_STRING","Magento",408],["T_NS_SEPARATOR","\\",408],["T_STRING","Framework",408],["T_NS_SEPARATOR","\\",408],["T_STRING","DataObject",408],"(",["T_VARIABLE","$buyRequest",408],")",";",["T_WHITESPACE","\n        ",408],"}",["T_WHITESPACE"," ",409],["T_ELSE","else",409],["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$_buyRequest",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_NEW","new",410],["T_WHITESPACE"," ",410],["T_NS_SEPARATOR","\\",410],["T_STRING","Magento",410],["T_NS_SEPARATOR","\\",410],["T_STRING","Framework",410],["T_NS_SEPARATOR","\\",410],["T_STRING","DataObject",410],"(",")",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n\n        ",411],["T_COMMENT","\/* @var $product \\Magento\\Catalog\\Model\\Product *\/",413],["T_WHITESPACE","\n        ",413],["T_VARIABLE","$cartCandidates",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$product",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getTypeInstance",414],"(",")",["T_OBJECT_OPERATOR","->",414],["T_STRING","processConfiguration",414],"(",["T_VARIABLE","$_buyRequest",414],",",["T_WHITESPACE"," ",414],["T_CLONE","clone",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$product",414],")",";",["T_WHITESPACE","\n\n        ",414],["T_DOC_COMMENT","\/**\n         * Error message\n         *\/",416],["T_WHITESPACE","\n        ",418],["T_IF","if",419],["T_WHITESPACE"," ",419],"(",["T_STRING","is_string",419],"(",["T_VARIABLE","$cartCandidates",419],")",")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n            ",419],["T_RETURN","return",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$cartCandidates",420],";",["T_WHITESPACE","\n        ",420],"}",["T_WHITESPACE","\n\n        ",421],["T_DOC_COMMENT","\/**\n         * If prepare process return one object\n         *\/",423],["T_WHITESPACE","\n        ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(","!",["T_STRING","is_array",426],"(",["T_VARIABLE","$cartCandidates",426],")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n            ",426],["T_VARIABLE","$cartCandidates",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],"[",["T_VARIABLE","$cartCandidates",427],"]",";",["T_WHITESPACE","\n        ",427],"}",["T_WHITESPACE","\n\n        ",428],["T_VARIABLE","$errors",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],"[","]",";",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$items",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],"[","]",";",["T_WHITESPACE","\n\n        ",431],["T_FOREACH","foreach",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$cartCandidates",433],["T_WHITESPACE"," ",433],["T_AS","as",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$candidate",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n            ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_VARIABLE","$candidate",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getParentProductId",434],"(",")",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                ",434],["T_CONTINUE","continue",435],";",["T_WHITESPACE","\n            ",435],"}",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$candidate",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","setWishlistStoreId",437],"(",["T_VARIABLE","$storeId",437],")",";",["T_WHITESPACE","\n\n            ",437],["T_VARIABLE","$qty",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$candidate",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","getQty",439],"(",")",["T_WHITESPACE"," ",439],"?",["T_WHITESPACE"," ",439],["T_VARIABLE","$candidate",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","getQty",439],"(",")",["T_WHITESPACE"," ",439],":",["T_WHITESPACE"," ",439],["T_LNUMBER","1",439],";",["T_WHITESPACE","\n            ",439],["T_COMMENT","\/\/ No null values as qty. Convert zero to 1.\n",440],["T_WHITESPACE","            ",441],["T_VARIABLE","$item",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_addCatalogProduct",441],"(",["T_VARIABLE","$candidate",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$qty",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$forciblySetQty",441],")",";",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$items",442],"[","]",["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$item",442],";",["T_WHITESPACE","\n\n            ",442],["T_COMMENT","\/\/ Collect errors instead of throwing first one\n",444],["T_WHITESPACE","            ",445],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$item",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getHasError",445],"(",")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                ",445],["T_VARIABLE","$errors",446],"[","]",["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$item",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getMessage",446],"(",")",";",["T_WHITESPACE","\n            ",446],"}",["T_WHITESPACE","\n        ",447],"}",["T_WHITESPACE","\n\n        ",448],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_eventManager",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","dispatch",450],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist_product_add_after'",450],",",["T_WHITESPACE"," ",450],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",450],["T_WHITESPACE"," ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$items",450],"]",")",";",["T_WHITESPACE","\n\n        ",450],["T_RETURN","return",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$item",452],";",["T_WHITESPACE","\n    ",452],"}",["T_WHITESPACE","\n\n    ",453],["T_DOC_COMMENT","\/**\n     * Set customer id\n     *\n     * @param int $customerId\n     * @return $this\n     *\/",455],["T_WHITESPACE","\n    ",460],["T_PUBLIC","public",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","setCustomerId",461],"(",["T_VARIABLE","$customerId",461],")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","setData",463],"(",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_getResource",463],"(",")",["T_OBJECT_OPERATOR","->",463],["T_STRING","getCustomerIdFieldName",463],"(",")",",",["T_WHITESPACE"," ",463],["T_VARIABLE","$customerId",463],")",";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Retrieve customer id\n     *\n     * @return int\n     *\/",466],["T_WHITESPACE","\n    ",470],["T_PUBLIC","public",471],["T_WHITESPACE"," ",471],["T_FUNCTION","function",471],["T_WHITESPACE"," ",471],["T_STRING","getCustomerId",471],"(",")",["T_WHITESPACE","\n    ",471],"{",["T_WHITESPACE","\n        ",472],["T_RETURN","return",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getData",473],"(",["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","_getResource",473],"(",")",["T_OBJECT_OPERATOR","->",473],["T_STRING","getCustomerIdFieldName",473],"(",")",")",";",["T_WHITESPACE","\n    ",473],"}",["T_WHITESPACE","\n\n    ",474],["T_DOC_COMMENT","\/**\n     * Retrieve data for save\n     *\n     * @return array\n     *\/",476],["T_WHITESPACE","\n    ",480],["T_PUBLIC","public",481],["T_WHITESPACE"," ",481],["T_FUNCTION","function",481],["T_WHITESPACE"," ",481],["T_STRING","getDataForSave",481],"(",")",["T_WHITESPACE","\n    ",481],"{",["T_WHITESPACE","\n        ",482],["T_VARIABLE","$data",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],"[","]",";",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$data",484],"[",["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_getResource",484],"(",")",["T_OBJECT_OPERATOR","->",484],["T_STRING","getCustomerIdFieldName",484],"(",")","]",["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getCustomerId",484],"(",")",";",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$data",485],"[",["T_CONSTANT_ENCAPSED_STRING","'shared'",485],"]",["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_INT_CAST","(int)",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getShared",485],"(",")",";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$data",486],"[",["T_CONSTANT_ENCAPSED_STRING","'sharing_code'",486],"]",["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getSharingCode",486],"(",")",";",["T_WHITESPACE","\n        ",486],["T_RETURN","return",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$data",487],";",["T_WHITESPACE","\n    ",487],"}",["T_WHITESPACE","\n\n    ",488],["T_DOC_COMMENT","\/**\n     * Retrieve shared store ids for current website or all stores if $current is false\n     *\n     * @return array\n     *\/",490],["T_WHITESPACE","\n    ",494],["T_PUBLIC","public",495],["T_WHITESPACE"," ",495],["T_FUNCTION","function",495],["T_WHITESPACE"," ",495],["T_STRING","getSharedStoreIds",495],"(",")",["T_WHITESPACE","\n    ",495],"{",["T_WHITESPACE","\n        ",496],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","_storeIds",497],["T_WHITESPACE"," ",497],["T_IS_IDENTICAL","===",497],["T_WHITESPACE"," ",497],["T_STRING","null",497],["T_WHITESPACE"," ",497],["T_BOOLEAN_OR","||",497],["T_WHITESPACE"," ",497],"!",["T_STRING","is_array",497],"(",["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","_storeIds",497],")",")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n            ",497],["T_IF","if",498],["T_WHITESPACE"," ",498],"(",["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_useCurrentWebsite",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n                ",498],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","_storeIds",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getStore",499],"(",")",["T_OBJECT_OPERATOR","->",499],["T_STRING","getWebsite",499],"(",")",["T_OBJECT_OPERATOR","->",499],["T_STRING","getStoreIds",499],"(",")",";",["T_WHITESPACE","\n            ",499],"}",["T_WHITESPACE"," ",500],["T_ELSE","else",500],["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n                ",500],["T_VARIABLE","$_storeIds",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],"[","]",";",["T_WHITESPACE","\n                ",501],["T_VARIABLE","$stores",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_storeManager",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","getStores",502],"(",")",";",["T_WHITESPACE","\n                ",502],["T_FOREACH","foreach",503],["T_WHITESPACE"," ",503],"(",["T_VARIABLE","$stores",503],["T_WHITESPACE"," ",503],["T_AS","as",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$store",503],")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n                    ",503],["T_VARIABLE","$_storeIds",504],"[","]",["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$store",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getId",504],"(",")",";",["T_WHITESPACE","\n                ",504],"}",["T_WHITESPACE","\n                ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","_storeIds",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$_storeIds",506],";",["T_WHITESPACE","\n            ",506],"}",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n        ",508],["T_RETURN","return",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_storeIds",509],";",["T_WHITESPACE","\n    ",509],"}",["T_WHITESPACE","\n\n    ",510],["T_DOC_COMMENT","\/**\n     * Set shared store ids\n     *\n     * @param array $storeIds\n     * @return $this\n     *\/",512],["T_WHITESPACE","\n    ",517],["T_PUBLIC","public",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","setSharedStoreIds",518],"(",["T_VARIABLE","$storeIds",518],")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_storeIds",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_ARRAY_CAST","(array)",520],["T_VARIABLE","$storeIds",520],";",["T_WHITESPACE","\n        ",520],["T_RETURN","return",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],";",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n\n    ",522],["T_DOC_COMMENT","\/**\n     * Retrieve wishlist store object\n     *\n     * @return \\Magento\\Store\\Model\\Store\n     *\/",524],["T_WHITESPACE","\n    ",528],["T_PUBLIC","public",529],["T_WHITESPACE"," ",529],["T_FUNCTION","function",529],["T_WHITESPACE"," ",529],["T_STRING","getStore",529],"(",")",["T_WHITESPACE","\n    ",529],"{",["T_WHITESPACE","\n        ",530],["T_IF","if",531],["T_WHITESPACE"," ",531],"(",["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","_store",531],["T_WHITESPACE"," ",531],["T_IS_IDENTICAL","===",531],["T_WHITESPACE"," ",531],["T_STRING","null",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n            ",531],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","setStore",532],"(",["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","_storeManager",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","getStore",532],"(",")",")",";",["T_WHITESPACE","\n        ",532],"}",["T_WHITESPACE","\n        ",533],["T_RETURN","return",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","_store",534],";",["T_WHITESPACE","\n    ",534],"}",["T_WHITESPACE","\n\n    ",535],["T_DOC_COMMENT","\/**\n     * Set wishlist store\n     *\n     * @param \\Magento\\Store\\Model\\Store $store\n     * @return $this\n     *\/",537],["T_WHITESPACE","\n    ",542],["T_PUBLIC","public",543],["T_WHITESPACE"," ",543],["T_FUNCTION","function",543],["T_WHITESPACE"," ",543],["T_STRING","setStore",543],"(",["T_VARIABLE","$store",543],")",["T_WHITESPACE","\n    ",543],"{",["T_WHITESPACE","\n        ",544],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","_store",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$store",545],";",["T_WHITESPACE","\n        ",545],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$this",546],";",["T_WHITESPACE","\n    ",546],"}",["T_WHITESPACE","\n\n    ",547],["T_DOC_COMMENT","\/**\n     * Retrieve wishlist items count\n     *\n     * @return int\n     *\/",549],["T_WHITESPACE","\n    ",553],["T_PUBLIC","public",554],["T_WHITESPACE"," ",554],["T_FUNCTION","function",554],["T_WHITESPACE"," ",554],["T_STRING","getItemsCount",554],"(",")",["T_WHITESPACE","\n    ",554],"{",["T_WHITESPACE","\n        ",555],["T_RETURN","return",556],["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getItemCollection",556],"(",")",["T_OBJECT_OPERATOR","->",556],["T_STRING","getSize",556],"(",")",";",["T_WHITESPACE","\n    ",556],"}",["T_WHITESPACE","\n\n    ",557],["T_DOC_COMMENT","\/**\n     * Retrieve wishlist has salable item(s)\n     *\n     * @return bool\n     *\/",559],["T_WHITESPACE","\n    ",563],["T_PUBLIC","public",564],["T_WHITESPACE"," ",564],["T_FUNCTION","function",564],["T_WHITESPACE"," ",564],["T_STRING","isSalable",564],"(",")",["T_WHITESPACE","\n    ",564],"{",["T_WHITESPACE","\n        ",565],["T_FOREACH","foreach",566],["T_WHITESPACE"," ",566],"(",["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","getItemCollection",566],"(",")",["T_WHITESPACE"," ",566],["T_AS","as",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$item",566],")",["T_WHITESPACE"," ",566],"{",["T_WHITESPACE","\n            ",566],["T_IF","if",567],["T_WHITESPACE"," ",567],"(",["T_VARIABLE","$item",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getProduct",567],"(",")",["T_OBJECT_OPERATOR","->",567],["T_STRING","getIsSalable",567],"(",")",")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n                ",567],["T_RETURN","return",568],["T_WHITESPACE"," ",568],["T_STRING","true",568],";",["T_WHITESPACE","\n            ",568],"}",["T_WHITESPACE","\n        ",569],"}",["T_WHITESPACE","\n        ",570],["T_RETURN","return",571],["T_WHITESPACE"," ",571],["T_STRING","false",571],";",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * Check customer is owner this wishlist\n     *\n     * @param int $customerId\n     * @return bool\n     *\/",574],["T_WHITESPACE","\n    ",579],["T_PUBLIC","public",580],["T_WHITESPACE"," ",580],["T_FUNCTION","function",580],["T_WHITESPACE"," ",580],["T_STRING","isOwner",580],"(",["T_VARIABLE","$customerId",580],")",["T_WHITESPACE","\n    ",580],"{",["T_WHITESPACE","\n        ",581],["T_RETURN","return",582],["T_WHITESPACE"," ",582],["T_VARIABLE","$customerId",582],["T_WHITESPACE"," ",582],["T_IS_EQUAL","==",582],["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","getCustomerId",582],"(",")",";",["T_WHITESPACE","\n    ",582],"}",["T_WHITESPACE","\n\n    ",583],["T_DOC_COMMENT","\/**\n     * Update wishlist Item and set data from request\n     *\n     * The $params sets how current item configuration must be taken into account and additional options.\n     * It's passed to \\Magento\\Catalog\\Helper\\Product->addParamsToBuyRequest() to compose resulting buyRequest.\n     *\n     * Basically it can hold\n     * - 'current_config', \\Magento\\Framework\\DataObject or array - current buyRequest\n     *   that configures product in this item, used to restore currently attached files\n     * - 'files_prefix': string[a-z0-9_] - prefix that was added at frontend to names of file options (file inputs),\n     * so they won't intersect with other submitted options\n     *\n     * For more options see \\Magento\\Catalog\\Helper\\Product->addParamsToBuyRequest()\n     *\n     * @param int|Item $itemId\n     * @param \\Magento\\Framework\\DataObject $buyRequest\n     * @param null|array|\\Magento\\Framework\\DataObject $params\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\n     * @see \\Magento\\Catalog\\Helper\\Product::addParamsToBuyRequest()\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",585],["T_WHITESPACE","\n    ",608],["T_PUBLIC","public",609],["T_WHITESPACE"," ",609],["T_FUNCTION","function",609],["T_WHITESPACE"," ",609],["T_STRING","updateItem",609],"(",["T_VARIABLE","$itemId",609],",",["T_WHITESPACE"," ",609],["T_VARIABLE","$buyRequest",609],",",["T_WHITESPACE"," ",609],["T_VARIABLE","$params",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_STRING","null",609],")",["T_WHITESPACE","\n    ",609],"{",["T_WHITESPACE","\n        ",610],["T_VARIABLE","$item",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_STRING","null",611],";",["T_WHITESPACE","\n        ",611],["T_IF","if",612],["T_WHITESPACE"," ",612],"(",["T_VARIABLE","$itemId",612],["T_WHITESPACE"," ",612],["T_INSTANCEOF","instanceof",612],["T_WHITESPACE"," ",612],["T_STRING","Item",612],")",["T_WHITESPACE"," ",612],"{",["T_WHITESPACE","\n            ",612],["T_VARIABLE","$item",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_VARIABLE","$itemId",613],";",["T_WHITESPACE","\n        ",613],"}",["T_WHITESPACE"," ",614],["T_ELSE","else",614],["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n            ",614],["T_VARIABLE","$item",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","getItem",615],"(",["T_INT_CAST","(int)",615],["T_VARIABLE","$itemId",615],")",";",["T_WHITESPACE","\n        ",615],"}",["T_WHITESPACE","\n        ",616],["T_IF","if",617],["T_WHITESPACE"," ",617],"(","!",["T_VARIABLE","$item",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n            ",617],["T_THROW","throw",618],["T_WHITESPACE"," ",618],["T_NEW","new",618],["T_WHITESPACE"," ",618],["T_NS_SEPARATOR","\\",618],["T_STRING","Magento",618],["T_NS_SEPARATOR","\\",618],["T_STRING","Framework",618],["T_NS_SEPARATOR","\\",618],["T_STRING","Exception",618],["T_NS_SEPARATOR","\\",618],["T_STRING","LocalizedException",618],"(",["T_STRING","__",618],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t specify a wish list item.'",618],")",")",";",["T_WHITESPACE","\n        ",618],"}",["T_WHITESPACE","\n\n        ",619],["T_VARIABLE","$product",621],["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_VARIABLE","$item",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","getProduct",621],"(",")",";",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$productId",622],["T_WHITESPACE"," ",622],"=",["T_WHITESPACE"," ",622],["T_VARIABLE","$product",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","getId",622],"(",")",";",["T_WHITESPACE","\n        ",622],["T_IF","if",623],["T_WHITESPACE"," ",623],"(",["T_VARIABLE","$productId",623],")",["T_WHITESPACE"," ",623],"{",["T_WHITESPACE","\n            ",623],["T_IF","if",624],["T_WHITESPACE"," ",624],"(","!",["T_VARIABLE","$params",624],")",["T_WHITESPACE"," ",624],"{",["T_WHITESPACE","\n                ",624],["T_VARIABLE","$params",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_NEW","new",625],["T_WHITESPACE"," ",625],["T_NS_SEPARATOR","\\",625],["T_STRING","Magento",625],["T_NS_SEPARATOR","\\",625],["T_STRING","Framework",625],["T_NS_SEPARATOR","\\",625],["T_STRING","DataObject",625],"(",")",";",["T_WHITESPACE","\n            ",625],"}",["T_WHITESPACE"," ",626],["T_ELSEIF","elseif",626],["T_WHITESPACE"," ",626],"(",["T_STRING","is_array",626],"(",["T_VARIABLE","$params",626],")",")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n                ",626],["T_VARIABLE","$params",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_NEW","new",627],["T_WHITESPACE"," ",627],["T_NS_SEPARATOR","\\",627],["T_STRING","Magento",627],["T_NS_SEPARATOR","\\",627],["T_STRING","Framework",627],["T_NS_SEPARATOR","\\",627],["T_STRING","DataObject",627],"(",["T_VARIABLE","$params",627],")",";",["T_WHITESPACE","\n            ",627],"}",["T_WHITESPACE","\n            ",628],["T_VARIABLE","$params",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","setCurrentConfig",629],"(",["T_VARIABLE","$item",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","getBuyRequest",629],"(",")",")",";",["T_WHITESPACE","\n            ",629],["T_VARIABLE","$buyRequest",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","_catalogProduct",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","addParamsToBuyRequest",630],"(",["T_VARIABLE","$buyRequest",630],",",["T_WHITESPACE"," ",630],["T_VARIABLE","$params",630],")",";",["T_WHITESPACE","\n\n            ",630],["T_VARIABLE","$product",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","setWishlistStoreId",632],"(",["T_VARIABLE","$item",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","getStoreId",632],"(",")",")",";",["T_WHITESPACE","\n            ",632],["T_VARIABLE","$items",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","getItemCollection",633],"(",")",";",["T_WHITESPACE","\n            ",633],["T_VARIABLE","$isForceSetQuantity",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_STRING","true",634],";",["T_WHITESPACE","\n            ",634],["T_FOREACH","foreach",635],["T_WHITESPACE"," ",635],"(",["T_VARIABLE","$items",635],["T_WHITESPACE"," ",635],["T_AS","as",635],["T_WHITESPACE"," ",635],["T_VARIABLE","$_item",635],")",["T_WHITESPACE"," ",635],"{",["T_WHITESPACE","\n                ",635],["T_COMMENT","\/* @var $_item Item *\/",636],["T_WHITESPACE","\n                ",636],["T_IF","if",637],["T_WHITESPACE"," ",637],"(",["T_VARIABLE","$_item",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getProductId",637],"(",")",["T_WHITESPACE"," ",637],["T_IS_EQUAL","==",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$product",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getId",637],"(",")",["T_WHITESPACE"," ",637],["T_BOOLEAN_AND","&&",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$_item",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","representProduct",637],"(",["T_WHITESPACE","\n                    ",637],["T_VARIABLE","$product",638],["T_WHITESPACE","\n                ",638],")",["T_WHITESPACE"," ",639],["T_BOOLEAN_AND","&&",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$_item",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","getId",639],"(",")",["T_WHITESPACE"," ",639],["T_IS_NOT_EQUAL","!=",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$item",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","getId",639],"(",")",["T_WHITESPACE","\n                ",639],")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n                    ",640],["T_COMMENT","\/\/ We do not add new wishlist item, but updating the existing one\n",641],["T_WHITESPACE","                    ",642],["T_VARIABLE","$isForceSetQuantity",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_STRING","false",642],";",["T_WHITESPACE","\n                ",642],"}",["T_WHITESPACE","\n            ",643],"}",["T_WHITESPACE","\n            ",644],["T_VARIABLE","$resultItem",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","addNewItem",645],"(",["T_VARIABLE","$product",645],",",["T_WHITESPACE"," ",645],["T_VARIABLE","$buyRequest",645],",",["T_WHITESPACE"," ",645],["T_VARIABLE","$isForceSetQuantity",645],")",";",["T_WHITESPACE","\n            ",645],["T_DOC_COMMENT","\/**\n             * Error message\n             *\/",646],["T_WHITESPACE","\n            ",648],["T_IF","if",649],["T_WHITESPACE"," ",649],"(",["T_STRING","is_string",649],"(",["T_VARIABLE","$resultItem",649],")",")",["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n                ",649],["T_THROW","throw",650],["T_WHITESPACE"," ",650],["T_NEW","new",650],["T_WHITESPACE"," ",650],["T_NS_SEPARATOR","\\",650],["T_STRING","Magento",650],["T_NS_SEPARATOR","\\",650],["T_STRING","Framework",650],["T_NS_SEPARATOR","\\",650],["T_STRING","Exception",650],["T_NS_SEPARATOR","\\",650],["T_STRING","LocalizedException",650],"(",["T_STRING","__",650],"(",["T_VARIABLE","$resultItem",650],")",")",";",["T_WHITESPACE","\n            ",650],"}",["T_WHITESPACE","\n\n            ",651],["T_IF","if",653],["T_WHITESPACE"," ",653],"(",["T_VARIABLE","$resultItem",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","getId",653],"(",")",["T_WHITESPACE"," ",653],["T_IS_NOT_EQUAL","!=",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$itemId",653],")",["T_WHITESPACE"," ",653],"{",["T_WHITESPACE","\n                ",653],["T_IF","if",654],["T_WHITESPACE"," ",654],"(",["T_VARIABLE","$resultItem",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","getDescription",654],"(",")",["T_WHITESPACE"," ",654],["T_IS_NOT_EQUAL","!=",654],["T_WHITESPACE"," ",654],["T_VARIABLE","$item",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","getDescription",654],"(",")",")",["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n                    ",654],["T_VARIABLE","$resultItem",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","setDescription",655],"(",["T_VARIABLE","$item",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","getDescription",655],"(",")",")",["T_OBJECT_OPERATOR","->",655],["T_STRING","save",655],"(",")",";",["T_WHITESPACE","\n                ",655],"}",["T_WHITESPACE","\n                ",656],["T_VARIABLE","$item",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","isDeleted",657],"(",["T_STRING","true",657],")",";",["T_WHITESPACE","\n                ",657],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","setDataChanges",658],"(",["T_STRING","true",658],")",";",["T_WHITESPACE","\n            ",658],"}",["T_WHITESPACE"," ",659],["T_ELSE","else",659],["T_WHITESPACE"," ",659],"{",["T_WHITESPACE","\n                ",659],["T_VARIABLE","$resultItem",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","setQty",660],"(",["T_VARIABLE","$buyRequest",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getQty",660],"(",")",["T_WHITESPACE"," ",660],"*",["T_WHITESPACE"," ",660],["T_LNUMBER","1",660],")",";",["T_WHITESPACE","\n                ",660],["T_VARIABLE","$resultItem",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","setOrigData",661],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",661],",",["T_WHITESPACE"," ",661],["T_LNUMBER","0",661],")",";",["T_WHITESPACE","\n            ",661],"}",["T_WHITESPACE","\n        ",662],"}",["T_WHITESPACE"," ",663],["T_ELSE","else",663],["T_WHITESPACE"," ",663],"{",["T_WHITESPACE","\n            ",663],["T_THROW","throw",664],["T_WHITESPACE"," ",664],["T_NEW","new",664],["T_WHITESPACE"," ",664],["T_NS_SEPARATOR","\\",664],["T_STRING","Magento",664],["T_NS_SEPARATOR","\\",664],["T_STRING","Framework",664],["T_NS_SEPARATOR","\\",664],["T_STRING","Exception",664],["T_NS_SEPARATOR","\\",664],["T_STRING","LocalizedException",664],"(",["T_STRING","__",664],"(",["T_CONSTANT_ENCAPSED_STRING","'The product does not exist.'",664],")",")",";",["T_WHITESPACE","\n        ",664],"}",["T_WHITESPACE","\n        ",665],["T_RETURN","return",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$this",666],";",["T_WHITESPACE","\n    ",666],"}",["T_WHITESPACE","\n\n    ",667],["T_DOC_COMMENT","\/**\n     * Return unique ID(s) for each object in system\n     *\n     * @return array\n     *\/",669],["T_WHITESPACE","\n    ",673],["T_PUBLIC","public",674],["T_WHITESPACE"," ",674],["T_FUNCTION","function",674],["T_WHITESPACE"," ",674],["T_STRING","getIdentities",674],"(",")",["T_WHITESPACE","\n    ",674],"{",["T_WHITESPACE","\n        ",675],["T_VARIABLE","$identities",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],"[","]",";",["T_WHITESPACE","\n        ",676],["T_IF","if",677],["T_WHITESPACE"," ",677],"(",["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getId",677],"(",")",")",["T_WHITESPACE"," ",677],"{",["T_WHITESPACE","\n            ",677],["T_VARIABLE","$identities",678],["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],"[",["T_STRING","self",678],["T_DOUBLE_COLON","::",678],["T_STRING","CACHE_TAG",678],["T_WHITESPACE"," ",678],".",["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","'_'",678],["T_WHITESPACE"," ",678],".",["T_WHITESPACE"," ",678],["T_VARIABLE","$this",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","getId",678],"(",")","]",";",["T_WHITESPACE","\n        ",678],"}",["T_WHITESPACE","\n        ",679],["T_RETURN","return",680],["T_WHITESPACE"," ",680],["T_VARIABLE","$identities",680],";",["T_WHITESPACE","\n    ",680],"}",["T_WHITESPACE","\n",681],"}",["T_WHITESPACE","\n",682]]