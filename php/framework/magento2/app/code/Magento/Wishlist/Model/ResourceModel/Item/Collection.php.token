[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Wishlist",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Item",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityManager",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MetadataPool",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Wishlist item collection\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Collection",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ResourceModel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Db",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Collection",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractCollection",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Product Visibility Filter to product collection flag\n     *\n     * @var bool\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_productVisible",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_STRING","false",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Product Salable Filter to product collection flag\n     *\n     * @var bool\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_productSalable",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","false",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * If product out of stock, its item will be removed after load\n     *\n     * @var bool\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_productInStock",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","false",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Product Ids array\n     *\n     * @var array\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_productIds",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],"[","]",";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Store Ids array\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_storeIds",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Add days in wishlist filter of product collection\n     *\n     * @var boolean\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_addDaysInWishlist",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","false",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Sum of items collection qty\n     *\n     * @var int\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_itemsQty",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Whether product name attribute value table is joined in select\n     *\n     * @var boolean\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_isProductNameJoined",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","false",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Adminhtml sales\n     *\n     * @var \\Magento\\Sales\\Helper\\Admin\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_adminhtmlSales",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","null",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Catalog inventory data\n     *\n     * @var \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$stockConfiguration",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","null",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$_storeManager",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$_date",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Wishlist\\Model\\Config\n     *\/",98],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$_wishlistConfig",101],";",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Visibility\n     *\/",103],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$_productVisibility",106],";",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResourceConnection\n     *\/",108],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$_coreResource",111],";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Wishlist\\Model\\ResourceModel\\Item\\Option\\CollectionFactory\n     *\/",113],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$_optionCollectionFactory",116],";",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory\n     *\/",118],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_productCollectionFactory",121],";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\ConfigFactory\n     *\/",123],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$_catalogConfFactory",126],";",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Entity\\AttributeFactory\n     *\/",128],["T_WHITESPACE","\n    ",130],["T_PROTECTED","protected",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$_catalogAttrFactory",131],";",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\State\n     *\/",133],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$_appState",136],";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * @var MetadataPool\n     *\/",138],["T_WHITESPACE","\n    ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$metadataPool",141],";",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Data\\Collection\\EntityFactory $entityFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Data\\Collection\\Db\\FetchStrategyInterface $fetchStrategy\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface $stockConfiguration\n     * @param \\Magento\\Sales\\Helper\\Admin $adminhtmlSales\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $date\n     * @param \\Magento\\Wishlist\\Model\\Config $wishlistConfig\n     * @param \\Magento\\Catalog\\Model\\Product\\Visibility $productVisibility\n     * @param \\Magento\\Framework\\App\\ResourceConnection $coreResource\n     * @param \\Magento\\Wishlist\\Model\\ResourceModel\\Item\\Option\\CollectionFactory $optionCollectionFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory $productCollectionFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\ConfigFactory $catalogConfFactory\n     * @param \\Magento\\Catalog\\Model\\Entity\\AttributeFactory $catalogAttrFactory\n     * @param \\Magento\\Wishlist\\Model\\ResourceModel\\Item $resource\n     * @param \\Magento\\Framework\\App\\State $appState\n     * @param \\Magento\\Framework\\DB\\Adapter\\AdapterInterface $connection\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",143],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","__construct",165],"(",["T_WHITESPACE","\n        ",165],["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Framework",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Data",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Collection",166],["T_NS_SEPARATOR","\\",166],["T_STRING","EntityFactory",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$entityFactory",166],",",["T_WHITESPACE","\n        ",166],["T_NS_SEPARATOR","\\",167],["T_STRING","Psr",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Log",167],["T_NS_SEPARATOR","\\",167],["T_STRING","LoggerInterface",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$logger",167],",",["T_WHITESPACE","\n        ",167],["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Framework",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Data",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Collection",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Db",168],["T_NS_SEPARATOR","\\",168],["T_STRING","FetchStrategyInterface",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$fetchStrategy",168],",",["T_WHITESPACE","\n        ",168],["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Framework",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Event",169],["T_NS_SEPARATOR","\\",169],["T_STRING","ManagerInterface",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$eventManager",169],",",["T_WHITESPACE","\n        ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","CatalogInventory",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Api",170],["T_NS_SEPARATOR","\\",170],["T_STRING","StockConfigurationInterface",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$stockConfiguration",170],",",["T_WHITESPACE","\n        ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Sales",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Helper",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Admin",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$adminhtmlSales",171],",",["T_WHITESPACE","\n        ",171],["T_NS_SEPARATOR","\\",172],["T_STRING","Magento",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Store",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Model",172],["T_NS_SEPARATOR","\\",172],["T_STRING","StoreManagerInterface",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$storeManager",172],",",["T_WHITESPACE","\n        ",172],["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Framework",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Stdlib",173],["T_NS_SEPARATOR","\\",173],["T_STRING","DateTime",173],["T_NS_SEPARATOR","\\",173],["T_STRING","DateTime",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$date",173],",",["T_WHITESPACE","\n        ",173],["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Wishlist",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Model",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Config",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$wishlistConfig",174],",",["T_WHITESPACE","\n        ",174],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Catalog",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Model",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Product",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Visibility",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$productVisibility",175],",",["T_WHITESPACE","\n        ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Framework",176],["T_NS_SEPARATOR","\\",176],["T_STRING","App",176],["T_NS_SEPARATOR","\\",176],["T_STRING","ResourceConnection",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$coreResource",176],",",["T_WHITESPACE","\n        ",176],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Wishlist",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Model",177],["T_NS_SEPARATOR","\\",177],["T_STRING","ResourceModel",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Item",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Option",177],["T_NS_SEPARATOR","\\",177],["T_STRING","CollectionFactory",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$optionCollectionFactory",177],",",["T_WHITESPACE","\n        ",177],["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Catalog",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Model",178],["T_NS_SEPARATOR","\\",178],["T_STRING","ResourceModel",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Product",178],["T_NS_SEPARATOR","\\",178],["T_STRING","CollectionFactory",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$productCollectionFactory",178],",",["T_WHITESPACE","\n        ",178],["T_NS_SEPARATOR","\\",179],["T_STRING","Magento",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Catalog",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Model",179],["T_NS_SEPARATOR","\\",179],["T_STRING","ResourceModel",179],["T_NS_SEPARATOR","\\",179],["T_STRING","ConfigFactory",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$catalogConfFactory",179],",",["T_WHITESPACE","\n        ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Catalog",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Model",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Entity",180],["T_NS_SEPARATOR","\\",180],["T_STRING","AttributeFactory",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$catalogAttrFactory",180],",",["T_WHITESPACE","\n        ",180],["T_NS_SEPARATOR","\\",181],["T_STRING","Magento",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Wishlist",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Model",181],["T_NS_SEPARATOR","\\",181],["T_STRING","ResourceModel",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Item",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$resource",181],",",["T_WHITESPACE","\n        ",181],["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Framework",182],["T_NS_SEPARATOR","\\",182],["T_STRING","App",182],["T_NS_SEPARATOR","\\",182],["T_STRING","State",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$appState",182],",",["T_WHITESPACE","\n        ",182],["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Framework",183],["T_NS_SEPARATOR","\\",183],["T_STRING","DB",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Adapter",183],["T_NS_SEPARATOR","\\",183],["T_STRING","AdapterInterface",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$connection",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","null",183],["T_WHITESPACE","\n    ",183],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","stockConfiguration",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$stockConfiguration",185],";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_adminhtmlSales",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$adminhtmlSales",186],";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_storeManager",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$storeManager",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_date",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$date",188],";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_wishlistConfig",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$wishlistConfig",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_productVisibility",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$productVisibility",190],";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_coreResource",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$coreResource",191],";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_optionCollectionFactory",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$optionCollectionFactory",192],";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_productCollectionFactory",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$productCollectionFactory",193],";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_catalogConfFactory",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$catalogConfFactory",194],";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_catalogAttrFactory",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$catalogAttrFactory",195],";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_appState",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$appState",196],";",["T_WHITESPACE","\n        ",196],["T_STRING","parent",197],["T_DOUBLE_COLON","::",197],["T_STRING","__construct",197],"(",["T_VARIABLE","$entityFactory",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$logger",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$fetchStrategy",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$eventManager",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$connection",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$resource",197],")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Initialize resource model for collection\n     *\n     * @return void\n     *\/",200],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","_construct",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_init",207],"(",["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Wishlist",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Model",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Item",207],["T_DOUBLE_COLON","::",207],["T_CLASS","class",207],",",["T_WHITESPACE"," ",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Wishlist",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Model",207],["T_NS_SEPARATOR","\\",207],["T_STRING","ResourceModel",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Item",207],["T_DOUBLE_COLON","::",207],["T_CLASS","class",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","addFilterToMap",208],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'main_table.store_id'",208],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Get metadata pool object\n     *\n     * @return MetadataPool\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","getMetadataPool",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","metadataPool",218],["T_WHITESPACE"," ",218],["T_IS_EQUAL","==",218],["T_WHITESPACE"," ",218],["T_STRING","null",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","metadataPool",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Magento",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Framework",219],["T_NS_SEPARATOR","\\",219],["T_STRING","App",219],["T_NS_SEPARATOR","\\",219],["T_STRING","ObjectManager",219],["T_DOUBLE_COLON","::",219],["T_STRING","getInstance",219],"(",")",["T_WHITESPACE","\n                ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","get",220],"(",["T_NS_SEPARATOR","\\",220],["T_STRING","Magento",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Framework",220],["T_NS_SEPARATOR","\\",220],["T_STRING","EntityManager",220],["T_NS_SEPARATOR","\\",220],["T_STRING","MetadataPool",220],["T_DOUBLE_COLON","::",220],["T_CLASS","class",220],")",";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","metadataPool",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * After load processing\n     *\n     * @return $this\n     *\/",225],["T_WHITESPACE","\n    ",229],["T_PROTECTED","protected",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","_afterLoad",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_STRING","parent",232],["T_DOUBLE_COLON","::",232],["T_STRING","_afterLoad",232],"(",")",";",["T_WHITESPACE","\n\n        ",232],["T_DOC_COMMENT","\/**\n         * Assign products\n         *\/",234],["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_assignOptions",237],"(",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_assignProducts",238],"(",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","resetItemsDataChanged",239],"(",")",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getPageSize",241],"(",")",";",["T_WHITESPACE","\n\n        ",241],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Add options to items\n     *\n     * @return $this\n     *\/",246],["T_WHITESPACE","\n    ",250],["T_PROTECTED","protected",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","_assignOptions",251],"(",")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$itemIds",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","array_keys",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_items",253],")",";",["T_WHITESPACE","\n        ",253],["T_COMMENT","\/* @var $optionCollection \\Magento\\Wishlist\\Model\\ResourceModel\\Item\\Option\\Collection *\/",254],["T_WHITESPACE","\n        ",254],["T_VARIABLE","$optionCollection",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_optionCollectionFactory",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","create",255],"(",")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$optionCollection",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","addItemFilter",256],"(",["T_VARIABLE","$itemIds",256],")",";",["T_WHITESPACE","\n\n        ",256],["T_COMMENT","\/* @var $item \\Magento\\Wishlist\\Model\\Item *\/",258],["T_WHITESPACE","\n        ",258],["T_FOREACH","foreach",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$this",259],["T_WHITESPACE"," ",259],["T_AS","as",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$item",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$item",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","setOptions",260],"(",["T_VARIABLE","$optionCollection",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getOptionsByItem",260],"(",["T_VARIABLE","$item",260],")",")",";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$productIds",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$optionCollection",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getProductIds",262],"(",")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_productIds",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","array_merge",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_productIds",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$productIds",263],")",";",["T_WHITESPACE","\n\n        ",263],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Add products to items and item options\n     *\n     * @return $this\n     *\/",268],["T_WHITESPACE","\n    ",272],["T_PROTECTED","protected",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","_assignProducts",273],"(",")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_NS_SEPARATOR","\\",275],["T_STRING","Magento",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Framework",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Profiler",275],["T_DOUBLE_COLON","::",275],["T_STRING","start",275],"(",["T_WHITESPACE","\n            ",275],["T_CONSTANT_ENCAPSED_STRING","'WISHLIST:'",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_METHOD_C","__METHOD__",276],",",["T_WHITESPACE","\n            ",276],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'WISHLIST'",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'method'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_METHOD_C","__METHOD__",277],"]",["T_WHITESPACE","\n        ",277],")",";",["T_WHITESPACE","\n\n        ",278],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection $productCollection *\/",280],["T_WHITESPACE","\n        ",280],["T_VARIABLE","$productCollection",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_productCollectionFactory",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","create",281],"(",")",";",["T_WHITESPACE","\n\n        ",281],["T_IF","if",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_productVisible",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$productCollection",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","setVisibility",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_productVisibility",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getVisibleInSiteIds",284],"(",")",")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_VARIABLE","$attributesToSelect",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],"[",["T_WHITESPACE","\n            ",287],["T_CONSTANT_ENCAPSED_STRING","'name'",288],",",["T_WHITESPACE","\n            ",288],["T_CONSTANT_ENCAPSED_STRING","'visibility'",289],",",["T_WHITESPACE","\n            ",289],["T_CONSTANT_ENCAPSED_STRING","'small_image'",290],",",["T_WHITESPACE","\n            ",290],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",291],",",["T_WHITESPACE","\n            ",291],["T_CONSTANT_ENCAPSED_STRING","'links_purchased_separately'",292],",",["T_WHITESPACE","\n            ",292],["T_CONSTANT_ENCAPSED_STRING","'links_title'",293],",",["T_WHITESPACE","\n            ",293],["T_CONSTANT_ENCAPSED_STRING","'price_type'",294],["T_WHITESPACE","\n        ",294],"]",";",["T_WHITESPACE","\n\n        ",295],["T_VARIABLE","$productCollection",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","addPriceData",297],"(",")",["T_WHITESPACE","\n            ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","addTaxPercents",298],"(",")",["T_WHITESPACE","\n            ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","addIdFilter",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_productIds",299],")",["T_WHITESPACE","\n            ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","addAttributeToSelect",300],"(",["T_VARIABLE","$attributesToSelect",300],")",["T_WHITESPACE","\n            ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","addOptionsToResult",301],"(",")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","addUrlRewrite",302],"(",")",";",["T_WHITESPACE","\n\n        ",302],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_productSalable",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$productCollection",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_adminhtmlSales",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","applySalableProductTypesFilter",305],"(",["T_VARIABLE","$productCollection",305],")",";",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_eventManager",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","dispatch",308],"(",["T_WHITESPACE","\n            ",308],["T_CONSTANT_ENCAPSED_STRING","'wishlist_item_collection_products_after_load'",309],",",["T_WHITESPACE","\n            ",309],"[",["T_CONSTANT_ENCAPSED_STRING","'product_collection'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$productCollection",310],"]",["T_WHITESPACE","\n        ",310],")",";",["T_WHITESPACE","\n\n        ",311],["T_VARIABLE","$checkInStock",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_productInStock",313],["T_WHITESPACE"," ",313],["T_BOOLEAN_AND","&&",313],["T_WHITESPACE"," ",313],"!",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","stockConfiguration",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","isShowOutOfStock",313],"(",")",";",["T_WHITESPACE","\n\n        ",313],["T_FOREACH","foreach",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$this",315],["T_WHITESPACE"," ",315],["T_AS","as",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$item",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$product",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$productCollection",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getItemById",316],"(",["T_VARIABLE","$item",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getProductId",316],"(",")",")",";",["T_WHITESPACE","\n            ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$product",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$checkInStock",318],["T_WHITESPACE"," ",318],["T_BOOLEAN_AND","&&",318],["T_WHITESPACE"," ",318],"!",["T_VARIABLE","$product",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","isInStock",318],"(",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                    ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","removeItemByKey",319],"(",["T_VARIABLE","$item",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getId",319],"(",")",")",";",["T_WHITESPACE","\n                ",319],"}",["T_WHITESPACE"," ",320],["T_ELSE","else",320],["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                    ",320],["T_VARIABLE","$product",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","setCustomOptions",321],"(","[","]",")",";",["T_WHITESPACE","\n                    ",321],["T_VARIABLE","$item",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","setProduct",322],"(",["T_VARIABLE","$product",322],")",";",["T_WHITESPACE","\n                    ",322],["T_VARIABLE","$item",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","setProductName",323],"(",["T_VARIABLE","$product",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getName",323],"(",")",")",";",["T_WHITESPACE","\n                    ",323],["T_VARIABLE","$item",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","setName",324],"(",["T_VARIABLE","$product",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getName",324],"(",")",")",";",["T_WHITESPACE","\n                    ",324],["T_VARIABLE","$item",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","setPrice",325],"(",["T_VARIABLE","$product",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getPrice",325],"(",")",")",";",["T_WHITESPACE","\n                ",325],"}",["T_WHITESPACE","\n            ",326],"}",["T_WHITESPACE"," ",327],["T_ELSE","else",327],["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                ",327],["T_VARIABLE","$item",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","isDeleted",328],"(",["T_STRING","true",328],")",";",["T_WHITESPACE","\n            ",328],"}",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_NS_SEPARATOR","\\",332],["T_STRING","Magento",332],["T_NS_SEPARATOR","\\",332],["T_STRING","Framework",332],["T_NS_SEPARATOR","\\",332],["T_STRING","Profiler",332],["T_DOUBLE_COLON","::",332],["T_STRING","stop",332],"(",["T_CONSTANT_ENCAPSED_STRING","'WISHLIST:'",332],["T_WHITESPACE"," ",332],".",["T_WHITESPACE"," ",332],["T_METHOD_C","__METHOD__",332],")",";",["T_WHITESPACE","\n\n        ",332],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * Add filter by wishlist object\n     *\n     * @param \\Magento\\Wishlist\\Model\\Wishlist $wishlist\n     * @return $this\n     *\/",337],["T_WHITESPACE","\n    ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","addWishlistFilter",343],"(",["T_NS_SEPARATOR","\\",343],["T_STRING","Magento",343],["T_NS_SEPARATOR","\\",343],["T_STRING","Wishlist",343],["T_NS_SEPARATOR","\\",343],["T_STRING","Model",343],["T_NS_SEPARATOR","\\",343],["T_STRING","Wishlist",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$wishlist",343],")",["T_WHITESPACE","\n    ",343],"{",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","addFieldToFilter",345],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist_id'",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$wishlist",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getId",345],"(",")",")",";",["T_WHITESPACE","\n        ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Add filtration by customer id\n     *\n     * @param int $customerId\n     * @return $this\n     *\/",349],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","addCustomerIdFilter",355],"(",["T_VARIABLE","$customerId",355],")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getSelect",357],"(",")",["T_OBJECT_OPERATOR","->",357],["T_STRING","join",357],"(",["T_WHITESPACE","\n            ",357],"[",["T_CONSTANT_ENCAPSED_STRING","'wishlist'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getTable",358],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist'",358],")","]",",",["T_WHITESPACE","\n            ",358],["T_CONSTANT_ENCAPSED_STRING","'main_table.wishlist_id = wishlist.wishlist_id'",359],",",["T_WHITESPACE","\n            ",359],"[","]",["T_WHITESPACE","\n        ",360],")",["T_OBJECT_OPERATOR","->",361],["T_STRING","where",361],"(",["T_WHITESPACE","\n            ",361],["T_CONSTANT_ENCAPSED_STRING","'wishlist.customer_id = ?'",362],",",["T_WHITESPACE","\n            ",362],["T_VARIABLE","$customerId",363],["T_WHITESPACE","\n        ",363],")",";",["T_WHITESPACE","\n        ",364],["T_RETURN","return",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$this",365],";",["T_WHITESPACE","\n    ",365],"}",["T_WHITESPACE","\n\n    ",366],["T_DOC_COMMENT","\/**\n     * Add filter by shared stores\n     *\n     * @param array $storeIds\n     * @return $this\n     *\/",368],["T_WHITESPACE","\n    ",373],["T_PUBLIC","public",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","addStoreFilter",374],"(",["T_VARIABLE","$storeIds",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],"[","]",")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(","!",["T_STRING","is_array",376],"(",["T_VARIABLE","$storeIds",376],")",")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_VARIABLE","$storeIds",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],"[",["T_VARIABLE","$storeIds",377],"]",";",["T_WHITESPACE","\n        ",377],"}",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_storeIds",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$storeIds",379],";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","addFieldToFilter",380],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",380],",",["T_WHITESPACE"," ",380],"[",["T_CONSTANT_ENCAPSED_STRING","'in'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_storeIds",380],"]",")",";",["T_WHITESPACE","\n\n        ",380],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * Add items store data to collection\n     *\n     * @return $this\n     *\/",385],["T_WHITESPACE","\n    ",389],["T_PUBLIC","public",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","addStoreData",390],"(",")",["T_WHITESPACE","\n    ",390],"{",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$storeTable",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_coreResource",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getTableName",392],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",392],")",";",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getSelect",393],"(",")",["T_OBJECT_OPERATOR","->",393],["T_STRING","join",393],"(",["T_WHITESPACE","\n            ",393],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$storeTable",394],"]",",",["T_WHITESPACE","\n            ",394],["T_CONSTANT_ENCAPSED_STRING","'main_table.store_id=store.store_id'",395],",",["T_WHITESPACE","\n            ",395],"[",["T_CONSTANT_ENCAPSED_STRING","'store_name'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'name'",396],",",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'item_store_id'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'store_id'",396],"]",["T_WHITESPACE","\n        ",396],")",";",["T_WHITESPACE","\n        ",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Reset sort order\n     *\n     * @return $this\n     *\/",401],["T_WHITESPACE","\n    ",405],["T_PUBLIC","public",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","resetSortOrder",406],"(",")",["T_WHITESPACE","\n    ",406],"{",["T_WHITESPACE","\n        ",407],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getSelect",408],"(",")",["T_OBJECT_OPERATOR","->",408],["T_STRING","reset",408],"(",["T_NS_SEPARATOR","\\",408],["T_STRING","Magento",408],["T_NS_SEPARATOR","\\",408],["T_STRING","Framework",408],["T_NS_SEPARATOR","\\",408],["T_STRING","DB",408],["T_NS_SEPARATOR","\\",408],["T_STRING","Select",408],["T_DOUBLE_COLON","::",408],["T_STRING","ORDER",408],")",";",["T_WHITESPACE","\n        ",408],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_DOC_COMMENT","\/**\n     * Set product Visibility Filter to product collection flag\n     *\n     * @param bool $flag\n     * @return $this\n     *\/",412],["T_WHITESPACE","\n    ",417],["T_PUBLIC","public",418],["T_WHITESPACE"," ",418],["T_FUNCTION","function",418],["T_WHITESPACE"," ",418],["T_STRING","setVisibilityFilter",418],"(",["T_VARIABLE","$flag",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","true",418],")",["T_WHITESPACE","\n    ",418],"{",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_productVisible",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_BOOL_CAST","(bool)",420],["T_VARIABLE","$flag",420],";",["T_WHITESPACE","\n        ",420],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],";",["T_WHITESPACE","\n    ",421],"}",["T_WHITESPACE","\n\n    ",422],["T_DOC_COMMENT","\/**\n     * Set Salable Filter.\n     * This filter apply Salable Product Types Filter to product collection.\n     *\n     * @param bool $flag\n     * @return $this\n     *\/",424],["T_WHITESPACE","\n    ",430],["T_PUBLIC","public",431],["T_WHITESPACE"," ",431],["T_FUNCTION","function",431],["T_WHITESPACE"," ",431],["T_STRING","setSalableFilter",431],"(",["T_VARIABLE","$flag",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","true",431],")",["T_WHITESPACE","\n    ",431],"{",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_productSalable",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_BOOL_CAST","(bool)",433],["T_VARIABLE","$flag",433],";",["T_WHITESPACE","\n        ",433],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_DOC_COMMENT","\/**\n     * Set In Stock Filter.\n     * This filter remove items with no salable product.\n     *\n     * @param bool $flag\n     * @return $this\n     *\/",437],["T_WHITESPACE","\n    ",443],["T_PUBLIC","public",444],["T_WHITESPACE"," ",444],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],["T_STRING","setInStockFilter",444],"(",["T_VARIABLE","$flag",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_STRING","true",444],")",["T_WHITESPACE","\n    ",444],"{",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","_productInStock",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_BOOL_CAST","(bool)",446],["T_VARIABLE","$flag",446],";",["T_WHITESPACE","\n        ",446],["T_RETURN","return",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$this",447],";",["T_WHITESPACE","\n    ",447],"}",["T_WHITESPACE","\n\n    ",448],["T_DOC_COMMENT","\/**\n     * Set flag of adding days in wishlist\n     *\n     * @return $this\n     *\/",450],["T_WHITESPACE","\n    ",454],["T_PUBLIC","public",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","addDaysInWishlist",455],"(",")",["T_WHITESPACE","\n    ",455],"{",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","_addDaysInWishlist",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","true",457],";",["T_WHITESPACE","\n        ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n\n    ",459],["T_DOC_COMMENT","\/**\n     * Adds filter on days in wishlist\n     *\n     * The $constraints may contain 'from' and 'to' indexes with number of days to look for items\n     *\n     * @param array $constraints\n     * @return $this\n     *\/",461],["T_WHITESPACE","\n    ",468],["T_PUBLIC","public",469],["T_WHITESPACE"," ",469],["T_FUNCTION","function",469],["T_WHITESPACE"," ",469],["T_STRING","addDaysFilter",469],"(",["T_VARIABLE","$constraints",469],")",["T_WHITESPACE","\n    ",469],"{",["T_WHITESPACE","\n        ",470],["T_IF","if",471],["T_WHITESPACE"," ",471],"(","!",["T_STRING","is_array",471],"(",["T_VARIABLE","$constraints",471],")",")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n            ",471],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],";",["T_WHITESPACE","\n        ",472],"}",["T_WHITESPACE","\n\n        ",473],["T_VARIABLE","$filter",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],"[","]",";",["T_WHITESPACE","\n\n        ",475],["T_VARIABLE","$gmtOffset",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],"(",["T_NEW","new",477],["T_WHITESPACE"," ",477],["T_NS_SEPARATOR","\\",477],["T_STRING","DateTimeZone",477],"(",["T_STRING","date_default_timezone_get",477],"(",")",")",")",["T_OBJECT_OPERATOR","->",477],["T_STRING","getOffset",477],"(",["T_NEW","new",477],["T_WHITESPACE"," ",477],["T_NS_SEPARATOR","\\",477],["T_STRING","DateTime",477],"(",")",")",";",["T_WHITESPACE","\n        ",477],["T_IF","if",478],["T_WHITESPACE"," ",478],"(",["T_ISSET","isset",478],"(",["T_VARIABLE","$constraints",478],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",478],"]",")",")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n            ",478],["T_VARIABLE","$lastDay",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_NEW","new",479],["T_WHITESPACE"," ",479],["T_NS_SEPARATOR","\\",479],["T_STRING","DateTime",479],"(",")",";",["T_WHITESPACE","\n            ",479],["T_VARIABLE","$lastDay",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","modify",480],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",480],["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_VARIABLE","$gmtOffset",480],["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","' second'",480],")",["T_OBJECT_OPERATOR","->",480],["T_STRING","modify",480],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",480],["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_VARIABLE","$constraints",480],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",480],"]",["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","' day'",480],")",";",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$filter",481],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",481],"]",["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$lastDay",481],";",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n\n        ",482],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_ISSET","isset",484],"(",["T_VARIABLE","$constraints",484],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",484],"]",")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_VARIABLE","$firstDay",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_NEW","new",485],["T_WHITESPACE"," ",485],["T_NS_SEPARATOR","\\",485],["T_STRING","DateTime",485],"(",")",";",["T_WHITESPACE","\n            ",485],["T_VARIABLE","$firstDay",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","modify",486],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",486],["T_WHITESPACE"," ",486],".",["T_WHITESPACE"," ",486],["T_VARIABLE","$gmtOffset",486],["T_WHITESPACE"," ",486],".",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","' second'",486],")",["T_OBJECT_OPERATOR","->",486],["T_STRING","modify",486],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",486],["T_WHITESPACE"," ",486],".",["T_WHITESPACE"," ",486],"(",["T_STRING","intval",486],"(",["T_VARIABLE","$constraints",486],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",486],"]",")",["T_WHITESPACE"," ",486],"+",["T_WHITESPACE"," ",486],["T_LNUMBER","1",486],")",["T_WHITESPACE"," ",486],".",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","' day'",486],")",";",["T_WHITESPACE","\n            ",486],["T_VARIABLE","$filter",487],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",487],"]",["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_VARIABLE","$firstDay",487],";",["T_WHITESPACE","\n        ",487],"}",["T_WHITESPACE","\n\n        ",488],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_VARIABLE","$filter",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n            ",490],["T_VARIABLE","$filter",491],"[",["T_CONSTANT_ENCAPSED_STRING","'datetime'",491],"]",["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_STRING","true",491],";",["T_WHITESPACE","\n            ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","addFieldToFilter",492],"(",["T_CONSTANT_ENCAPSED_STRING","'added_at'",492],",",["T_WHITESPACE"," ",492],["T_VARIABLE","$filter",492],")",";",["T_WHITESPACE","\n        ",492],"}",["T_WHITESPACE","\n\n        ",493],["T_RETURN","return",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],";",["T_WHITESPACE","\n    ",495],"}",["T_WHITESPACE","\n\n    ",496],["T_DOC_COMMENT","\/**\n     * Joins product name attribute value to use it in WHERE and ORDER clauses\n     *\n     * @return $this\n     *\/",498],["T_WHITESPACE","\n    ",502],["T_PROTECTED","protected",503],["T_WHITESPACE"," ",503],["T_FUNCTION","function",503],["T_WHITESPACE"," ",503],["T_STRING","_joinProductNameTable",503],"(",")",["T_WHITESPACE","\n    ",503],"{",["T_WHITESPACE","\n        ",504],["T_IF","if",505],["T_WHITESPACE"," ",505],"(","!",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","_isProductNameJoined",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$entityTypeId",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","_catalogConfFactory",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","create",506],"(",")",["T_OBJECT_OPERATOR","->",506],["T_STRING","getEntityTypeId",506],"(",")",";",["T_WHITESPACE","\n            ",506],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Entity\\Attribute $attribute *\/",507],["T_WHITESPACE","\n            ",507],["T_VARIABLE","$attribute",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","_catalogAttrFactory",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","create",508],"(",")",["T_OBJECT_OPERATOR","->",508],["T_STRING","loadByCode",508],"(",["T_VARIABLE","$entityTypeId",508],",",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'name'",508],")",";",["T_WHITESPACE","\n\n            ",508],["T_VARIABLE","$storeId",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","_storeManager",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getStore",510],"(",["T_NS_SEPARATOR","\\",510],["T_STRING","Magento",510],["T_NS_SEPARATOR","\\",510],["T_STRING","Store",510],["T_NS_SEPARATOR","\\",510],["T_STRING","Model",510],["T_NS_SEPARATOR","\\",510],["T_STRING","Store",510],["T_DOUBLE_COLON","::",510],["T_STRING","ADMIN_CODE",510],")",["T_OBJECT_OPERATOR","->",510],["T_STRING","getId",510],"(",")",";",["T_WHITESPACE","\n\n            ",510],["T_VARIABLE","$entityMetadata",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getMetadataPool",512],"(",")",["T_OBJECT_OPERATOR","->",512],["T_STRING","getMetadata",512],"(",["T_STRING","ProductInterface",512],["T_DOUBLE_COLON","::",512],["T_CLASS","class",512],")",";",["T_WHITESPACE","\n\n            ",512],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getSelect",514],"(",")",["T_OBJECT_OPERATOR","->",514],["T_STRING","join",514],"(",["T_WHITESPACE","\n                ",514],"[",["T_CONSTANT_ENCAPSED_STRING","'product_name_table'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$attribute",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getBackendTable",515],"(",")","]",",",["T_WHITESPACE","\n                ",515],["T_CONSTANT_ENCAPSED_STRING","'product_name_table.'",516],["T_WHITESPACE"," ",516],".",["T_WHITESPACE"," ",516],["T_VARIABLE","$entityMetadata",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getLinkField",516],"(",")",["T_WHITESPACE"," ",516],".",["T_WHITESPACE"," ",516],["T_CONSTANT_ENCAPSED_STRING","' = main_table.product_id'",516],["T_WHITESPACE"," ",516],".",["T_WHITESPACE","\n                ",516],["T_CONSTANT_ENCAPSED_STRING","' AND product_name_table.store_id = '",517],["T_WHITESPACE"," ",517],".",["T_WHITESPACE","\n                ",517],["T_VARIABLE","$storeId",518],["T_WHITESPACE"," ",518],".",["T_WHITESPACE","\n                ",518],["T_CONSTANT_ENCAPSED_STRING","' AND product_name_table.attribute_id = '",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE","\n                ",519],["T_VARIABLE","$attribute",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","getId",520],"(",")",",",["T_WHITESPACE","\n                ",520],"[","]",["T_WHITESPACE","\n            ",521],")",";",["T_WHITESPACE","\n\n            ",522],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_isProductNameJoined",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_STRING","true",524],";",["T_WHITESPACE","\n        ",524],"}",["T_WHITESPACE","\n        ",525],["T_RETURN","return",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$this",526],";",["T_WHITESPACE","\n    ",526],"}",["T_WHITESPACE","\n\n    ",527],["T_DOC_COMMENT","\/**\n     * Adds filter on product name\n     *\n     * @param string $productName\n     * @return $this\n     *\/",529],["T_WHITESPACE","\n    ",534],["T_PUBLIC","public",535],["T_WHITESPACE"," ",535],["T_FUNCTION","function",535],["T_WHITESPACE"," ",535],["T_STRING","addProductNameFilter",535],"(",["T_VARIABLE","$productName",535],")",["T_WHITESPACE","\n    ",535],"{",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_joinProductNameTable",537],"(",")",";",["T_WHITESPACE","\n        ",537],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","getSelect",538],"(",")",["T_OBJECT_OPERATOR","->",538],["T_STRING","where",538],"(",["T_CONSTANT_ENCAPSED_STRING","'INSTR(product_name_table.value, ?)'",538],",",["T_WHITESPACE"," ",538],["T_VARIABLE","$productName",538],")",";",["T_WHITESPACE","\n\n        ",538],["T_RETURN","return",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$this",540],";",["T_WHITESPACE","\n    ",540],"}",["T_WHITESPACE","\n\n    ",541],["T_DOC_COMMENT","\/**\n     * Sets ordering by product name\n     *\n     * @param string $dir\n     * @return $this\n     *\/",543],["T_WHITESPACE","\n    ",548],["T_PUBLIC","public",549],["T_WHITESPACE"," ",549],["T_FUNCTION","function",549],["T_WHITESPACE"," ",549],["T_STRING","setOrderByProductName",549],"(",["T_VARIABLE","$dir",549],")",["T_WHITESPACE","\n    ",549],"{",["T_WHITESPACE","\n        ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","_joinProductNameTable",551],"(",")",";",["T_WHITESPACE","\n        ",551],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","getSelect",552],"(",")",["T_OBJECT_OPERATOR","->",552],["T_STRING","order",552],"(",["T_CONSTANT_ENCAPSED_STRING","'product_name_table.value '",552],["T_WHITESPACE"," ",552],".",["T_WHITESPACE"," ",552],["T_VARIABLE","$dir",552],")",";",["T_WHITESPACE","\n        ",552],["T_RETURN","return",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],";",["T_WHITESPACE","\n    ",553],"}",["T_WHITESPACE","\n\n    ",554],["T_DOC_COMMENT","\/**\n     * Get sum of items collection qty\n     *\n     * @return int\n     *\/",556],["T_WHITESPACE","\n    ",560],["T_PUBLIC","public",561],["T_WHITESPACE"," ",561],["T_FUNCTION","function",561],["T_WHITESPACE"," ",561],["T_STRING","getItemsQty",561],"(",")",["T_WHITESPACE","\n    ",561],"{",["T_WHITESPACE","\n        ",562],["T_IF","if",563],["T_WHITESPACE"," ",563],"(",["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","_itemsQty",563],["T_WHITESPACE"," ",563],["T_IS_IDENTICAL","===",563],["T_WHITESPACE"," ",563],["T_STRING","null",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n            ",563],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","_itemsQty",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_LNUMBER","0",564],";",["T_WHITESPACE","\n            ",564],["T_FOREACH","foreach",565],["T_WHITESPACE"," ",565],"(",["T_VARIABLE","$this",565],["T_WHITESPACE"," ",565],["T_AS","as",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$wishlistItem",565],")",["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n                ",565],["T_VARIABLE","$qty",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_VARIABLE","$wishlistItem",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","getQty",566],"(",")",";",["T_WHITESPACE","\n                ",566],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","_itemsQty",567],["T_WHITESPACE"," ",567],["T_PLUS_EQUAL","+=",567],["T_WHITESPACE"," ",567],["T_VARIABLE","$qty",567],["T_WHITESPACE"," ",567],["T_IS_IDENTICAL","===",567],["T_WHITESPACE"," ",567],["T_LNUMBER","0",567],["T_WHITESPACE"," ",567],"?",["T_WHITESPACE"," ",567],["T_LNUMBER","1",567],["T_WHITESPACE"," ",567],":",["T_WHITESPACE"," ",567],["T_VARIABLE","$qty",567],";",["T_WHITESPACE","\n            ",567],"}",["T_WHITESPACE","\n        ",568],"}",["T_WHITESPACE","\n\n        ",569],["T_RETURN","return",571],["T_WHITESPACE"," ",571],["T_INT_CAST","(int)",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","_itemsQty",571],";",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * @return $this\n     *\/",574],["T_WHITESPACE","\n    ",576],["T_PROTECTED","protected",577],["T_WHITESPACE"," ",577],["T_FUNCTION","function",577],["T_WHITESPACE"," ",577],["T_STRING","_afterLoadData",577],"(",")",["T_WHITESPACE","\n    ",577],"{",["T_WHITESPACE","\n        ",578],["T_STRING","parent",579],["T_DOUBLE_COLON","::",579],["T_STRING","_afterLoadData",579],"(",")",";",["T_WHITESPACE","\n\n        ",579],["T_IF","if",581],["T_WHITESPACE"," ",581],"(",["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","_addDaysInWishlist",581],")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n            ",581],["T_VARIABLE","$gmtOffset",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_INT_CAST","(int)",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","_date",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","getGmtOffset",582],"(",")",";",["T_WHITESPACE","\n            ",582],["T_VARIABLE","$nowTimestamp",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","_date",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","timestamp",583],"(",")",";",["T_WHITESPACE","\n\n            ",583],["T_FOREACH","foreach",585],["T_WHITESPACE"," ",585],"(",["T_VARIABLE","$this",585],["T_WHITESPACE"," ",585],["T_AS","as",585],["T_WHITESPACE"," ",585],["T_VARIABLE","$wishlistItem",585],")",["T_WHITESPACE"," ",585],"{",["T_WHITESPACE","\n                ",585],["T_VARIABLE","$wishlistItemTimestamp",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","_date",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","timestamp",586],"(",["T_VARIABLE","$wishlistItem",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","getAddedAt",586],"(",")",")",";",["T_WHITESPACE","\n\n                ",586],["T_VARIABLE","$wishlistItem",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","setDaysInWishlist",588],"(",["T_WHITESPACE","\n                    ",588],["T_INT_CAST","(int)",589],"(","(",["T_VARIABLE","$nowTimestamp",589],["T_WHITESPACE"," ",589],"-",["T_WHITESPACE"," ",589],["T_VARIABLE","$gmtOffset",589],["T_WHITESPACE"," ",589],"-",["T_WHITESPACE"," ",589],["T_VARIABLE","$wishlistItemTimestamp",589],")",["T_WHITESPACE"," ",589],"\/",["T_WHITESPACE"," ",589],["T_LNUMBER","24",589],["T_WHITESPACE"," ",589],"\/",["T_WHITESPACE"," ",589],["T_LNUMBER","60",589],["T_WHITESPACE"," ",589],"\/",["T_WHITESPACE"," ",589],["T_LNUMBER","60",589],")",["T_WHITESPACE","\n                ",589],")",";",["T_WHITESPACE","\n            ",590],"}",["T_WHITESPACE","\n        ",591],"}",["T_WHITESPACE","\n\n        ",592],["T_RETURN","return",594],["T_WHITESPACE"," ",594],["T_VARIABLE","$this",594],";",["T_WHITESPACE","\n    ",594],"}",["T_WHITESPACE","\n",595],"}",["T_WHITESPACE","\n",596]]