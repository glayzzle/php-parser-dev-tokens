[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Wishlist",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Setup",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Setup",8],["T_NS_SEPARATOR","\\",8],["T_STRING","UpgradeDataInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Setup",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ModuleContextInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Setup",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ModuleDataSetupInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DB",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FieldDataConverterFactory",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DB",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DataConverter",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SerializedToJson",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DB",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Select",13],["T_NS_SEPARATOR","\\",13],["T_STRING","QueryModifierFactory",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DB",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Select",14],["T_NS_SEPARATOR","\\",14],["T_STRING","InQueryModifier",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DB",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Query",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Generator",15],";",["T_WHITESPACE","\n\n",15],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","UpgradeData",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","UpgradeDataInterface",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var FieldDataConverterFactory\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$fieldDataConverterFactory",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var QueryModifierFactory\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$queryModifierFactory",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var Generator\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$queryGenerator",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param FieldDataConverterFactory $fieldDataConverterFactory\n     * @param QueryModifierFactory $queryModifierFactory\n     * @param Generator $queryGenerator\n     *\/",34],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","__construct",41],"(",["T_WHITESPACE","\n        ",41],["T_STRING","FieldDataConverterFactory",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$fieldDataConverterFactory",42],",",["T_WHITESPACE","\n        ",42],["T_STRING","QueryModifierFactory",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$queryModifierFactory",43],",",["T_WHITESPACE","\n        ",43],["T_STRING","Generator",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$queryGenerator",44],["T_WHITESPACE","\n    ",44],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","fieldDataConverterFactory",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$fieldDataConverterFactory",46],";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","queryModifierFactory",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$queryModifierFactory",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","queryGenerator",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$queryGenerator",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","upgrade",54],"(",["T_STRING","ModuleDataSetupInterface",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$setup",54],",",["T_WHITESPACE"," ",54],["T_STRING","ModuleContextInterface",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$context",54],")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_STRING","version_compare",56],"(",["T_VARIABLE","$context",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getVersion",56],"(",")",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'2.0.1'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'<'",56],")",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","upgradeToVersionTwoZeroOne",57],"(",["T_VARIABLE","$setup",57],")",";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Upgrade to version 2.0.1, convert data for `value` field in `wishlist_item_option table`\n     * from php-serialized to JSON format\n     *\n     * @param ModuleDataSetupInterface $setup\n     * @return void\n     *\/",61],["T_WHITESPACE","\n    ",67],["T_PRIVATE","private",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","upgradeToVersionTwoZeroOne",68],"(",["T_STRING","ModuleDataSetupInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$setup",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$fieldDataConverter",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","fieldDataConverterFactory",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","create",70],"(",["T_STRING","SerializedToJson",70],["T_DOUBLE_COLON","::",70],["T_CLASS","class",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$queryModifier",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","queryModifierFactory",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","create",71],"(",["T_WHITESPACE","\n            ",71],["T_CONSTANT_ENCAPSED_STRING","'in'",72],",",["T_WHITESPACE","\n            ",72],"[",["T_WHITESPACE","\n                ",73],["T_CONSTANT_ENCAPSED_STRING","'values'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],"[",["T_WHITESPACE","\n                    ",74],["T_CONSTANT_ENCAPSED_STRING","'code'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],"[",["T_WHITESPACE","\n                        ",75],["T_CONSTANT_ENCAPSED_STRING","'parameters'",76],",",["T_WHITESPACE","\n                        ",76],["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",77],",",["T_WHITESPACE","\n                        ",77],["T_CONSTANT_ENCAPSED_STRING","'bundle_option_ids'",78],",",["T_WHITESPACE","\n                        ",78],["T_CONSTANT_ENCAPSED_STRING","'bundle_selection_ids'",79],",",["T_WHITESPACE","\n                        ",79],["T_CONSTANT_ENCAPSED_STRING","'attributes'",80],",",["T_WHITESPACE","\n                        ",80],["T_CONSTANT_ENCAPSED_STRING","'bundle_selection_attributes'",81],",",["T_WHITESPACE","\n                    ",81],"]",["T_WHITESPACE","\n                ",82],"]",["T_WHITESPACE","\n            ",83],"]",["T_WHITESPACE","\n        ",84],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$fieldDataConverter",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","convert",86],"(",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$setup",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getConnection",87],"(",")",",",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$setup",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getTable",88],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist_item_option'",88],")",",",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'option_id'",89],",",["T_WHITESPACE","\n            ",89],["T_CONSTANT_ENCAPSED_STRING","'value'",90],",",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$queryModifier",91],["T_WHITESPACE","\n        ",91],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$select",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$setup",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getConnection",93],"(",")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","select",94],"(",")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","from",95],"(",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$setup",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getTable",96],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option'",96],")",",",["T_WHITESPACE","\n                ",96],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",97],"]",["T_WHITESPACE","\n            ",97],")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","where",99],"(",["T_CONSTANT_ENCAPSED_STRING","'type = ?'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'file'",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$iterator",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","queryGenerator",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","generate",100],"(",["T_CONSTANT_ENCAPSED_STRING","'option_id'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$select",100],")",";",["T_WHITESPACE","\n        ",100],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$iterator",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$selectByRange",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$codes",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$setup",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getConnection",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","fetchCol",102],"(",["T_VARIABLE","$selectByRange",102],")",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$codes",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","array_map",103],"(",["T_WHITESPACE","\n                ",103],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$id",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                    ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'option_'",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$id",105],";",["T_WHITESPACE","\n                ",105],"}",",",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$codes",107],["T_WHITESPACE","\n            ",107],")",";",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$queryModifier",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","queryModifierFactory",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","create",109],"(",["T_WHITESPACE","\n                ",109],["T_CONSTANT_ENCAPSED_STRING","'in'",110],",",["T_WHITESPACE","\n                ",110],"[",["T_WHITESPACE","\n                    ",111],["T_CONSTANT_ENCAPSED_STRING","'values'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],"[",["T_WHITESPACE","\n                        ",112],["T_CONSTANT_ENCAPSED_STRING","'code'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$codes",113],["T_WHITESPACE","\n                    ",113],"]",["T_WHITESPACE","\n                ",114],"]",["T_WHITESPACE","\n            ",115],")",";",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$fieldDataConverter",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","convert",117],"(",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$setup",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getConnection",118],"(",")",",",["T_WHITESPACE","\n                ",118],["T_VARIABLE","$setup",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getTable",119],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist_item_option'",119],")",",",["T_WHITESPACE","\n                ",119],["T_CONSTANT_ENCAPSED_STRING","'option_id'",120],",",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","'value'",121],",",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$queryModifier",122],["T_WHITESPACE","\n            ",122],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n",125],"}",["T_WHITESPACE","\n",126]]