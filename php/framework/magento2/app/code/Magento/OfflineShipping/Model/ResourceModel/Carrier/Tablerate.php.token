[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Shipping table rates\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","OfflineShipping",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResourceModel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Carrier",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Filesystem",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Filesystem",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DirectoryList",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","OfflineShipping",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ResourceModel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Carrier",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Tablerate",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Import",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","OfflineShipping",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ResourceModel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Carrier",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Tablerate",17],["T_NS_SEPARATOR","\\",17],["T_STRING","RateQuery",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","OfflineShipping",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ResourceModel",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Carrier",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Tablerate",18],["T_NS_SEPARATOR","\\",18],["T_STRING","RateQueryFactory",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",20],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","Tablerate",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Framework",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","ResourceModel",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Db",24],["T_NS_SEPARATOR","\\",24],["T_STRING","AbstractDb",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * Import table rates website ID\n     *\n     * @var int\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_importWebsiteId",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_LNUMBER","0",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Errors in import process\n     *\n     * @var array\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_importErrors",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],"[","]",";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Count of imported table rates\n     *\n     * @var int\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_importedRows",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_LNUMBER","0",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Array of unique table rate keys to protect from duplicates\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_importUniqueHash",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],"[","]",";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Array of countries keyed by iso2 code\n     *\n     * @var array\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_importIso2Countries",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Array of countries keyed by iso3 code\n     *\n     * @var array\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_importIso3Countries",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Associative array of countries and regions\n     * [country_id][region_code] = region_id\n     *\n     * @var array\n     *\/",68],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_importRegions",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Import Table Rate condition name\n     *\n     * @var string\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_importConditionName",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Array of condition full names\n     *\n     * @var array\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_conditionFullNames",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[","]",";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$coreConfig",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",95],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$logger",98],";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",100],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$storeManager",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\OfflineShipping\\Model\\ResourceModel\\Carrier\\Tablerate\n     *\/",105],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$carrierTablerate",108],";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Filesystem instance\n     *\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",110],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$filesystem",115],";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * @var Import\n     *\/",117],["T_WHITESPACE","\n    ",119],["T_PRIVATE","private",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$import",120],";",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * @var RateQueryFactory\n     *\/",122],["T_WHITESPACE","\n    ",124],["T_PRIVATE","private",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$rateQueryFactory",125],";",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Tablerate constructor.\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $coreConfig\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\OfflineShipping\\Model\\Carrier\\Tablerate $carrierTablerate\n     * @param Filesystem $filesystem\n     * @param RateQueryFactory $rateQueryFactory\n     * @param Import $import\n     * @param null $connectionName\n     *\/",127],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","__construct",139],"(",["T_WHITESPACE","\n        ",139],["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Framework",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Model",140],["T_NS_SEPARATOR","\\",140],["T_STRING","ResourceModel",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Db",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Context",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$context",140],",",["T_WHITESPACE","\n        ",140],["T_NS_SEPARATOR","\\",141],["T_STRING","Psr",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Log",141],["T_NS_SEPARATOR","\\",141],["T_STRING","LoggerInterface",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$logger",141],",",["T_WHITESPACE","\n        ",141],["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Framework",142],["T_NS_SEPARATOR","\\",142],["T_STRING","App",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Config",142],["T_NS_SEPARATOR","\\",142],["T_STRING","ScopeConfigInterface",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$coreConfig",142],",",["T_WHITESPACE","\n        ",142],["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Store",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Model",143],["T_NS_SEPARATOR","\\",143],["T_STRING","StoreManagerInterface",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$storeManager",143],",",["T_WHITESPACE","\n        ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","OfflineShipping",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Model",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Carrier",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Tablerate",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$carrierTablerate",144],",",["T_WHITESPACE","\n        ",144],["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Framework",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Filesystem",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$filesystem",145],",",["T_WHITESPACE","\n        ",145],["T_STRING","Import",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$import",146],",",["T_WHITESPACE","\n        ",146],["T_STRING","RateQueryFactory",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$rateQueryFactory",147],",",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$connectionName",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","null",148],["T_WHITESPACE","\n    ",148],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n        ",149],["T_STRING","parent",150],["T_DOUBLE_COLON","::",150],["T_STRING","__construct",150],"(",["T_VARIABLE","$context",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$connectionName",150],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","coreConfig",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$coreConfig",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","logger",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$logger",152],";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","storeManager",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$storeManager",153],";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","carrierTablerate",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$carrierTablerate",154],";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","filesystem",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$filesystem",155],";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","import",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$import",156],";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","rateQueryFactory",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$rateQueryFactory",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Define main table and id field name\n     *\n     * @return void\n     *\/",160],["T_WHITESPACE","\n    ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","_construct",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_init",167],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_tablerate'",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'pk'",167],")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Return table rate array or false by rate request\n     *\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\RateRequest $request\n     * @return array|bool\n     *\/",170],["T_WHITESPACE","\n    ",175],["T_PUBLIC","public",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","getRate",176],"(",["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Quote",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Model",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Quote",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Address",176],["T_NS_SEPARATOR","\\",176],["T_STRING","RateRequest",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$request",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$connection",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getConnection",178],"(",")",";",["T_WHITESPACE","\n\n        ",178],["T_VARIABLE","$select",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$connection",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","select",180],"(",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","from",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getMainTable",180],"(",")",")",";",["T_WHITESPACE","\n        ",180],["T_DOC_COMMENT","\/** @var RateQuery $rateQuery *\/",181],["T_WHITESPACE","\n        ",181],["T_VARIABLE","$rateQuery",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","rateQueryFactory",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","create",182],"(","[",["T_CONSTANT_ENCAPSED_STRING","'request'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$request",182],"]",")",";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$rateQuery",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","prepareSelect",184],"(",["T_VARIABLE","$select",184],")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$bindings",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$rateQuery",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getBindings",185],"(",")",";",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$result",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$connection",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","fetchRow",187],"(",["T_VARIABLE","$select",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$bindings",187],")",";",["T_WHITESPACE","\n        ",187],["T_COMMENT","\/\/ Normalize destination zip code\n",188],["T_WHITESPACE","        ",189],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$result",189],["T_WHITESPACE"," ",189],["T_BOOLEAN_AND","&&",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$result",189],"[",["T_CONSTANT_ENCAPSED_STRING","'dest_zip'",189],"]",["T_WHITESPACE"," ",189],["T_IS_EQUAL","==",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'*'",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$result",190],"[",["T_CONSTANT_ENCAPSED_STRING","'dest_zip'",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","''",190],";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$result",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * @param array $condition\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",196],["T_WHITESPACE","\n    ",200],["T_PRIVATE","private",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","deleteByCondition",201],"(",["T_ARRAY","array",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$condition",201],")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$connection",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getConnection",203],"(",")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$connection",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","beginTransaction",204],"(",")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$connection",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","delete",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getMainTable",205],"(",")",",",["T_WHITESPACE"," ",205],["T_VARIABLE","$condition",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$connection",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","commit",206],"(",")",";",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * @param array $fields\n     * @param array $values\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return void\n     *\/",210],["T_WHITESPACE","\n    ",215],["T_PRIVATE","private",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","importData",216],"(",["T_ARRAY","array",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$fields",216],",",["T_WHITESPACE"," ",216],["T_ARRAY","array",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$values",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$connection",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getConnection",218],"(",")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$connection",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","beginTransaction",219],"(",")",";",["T_WHITESPACE","\n\n        ",219],["T_TRY","try",221],["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_STRING","count",222],"(",["T_VARIABLE","$fields",222],")",["T_WHITESPACE"," ",222],["T_BOOLEAN_AND","&&",222],["T_WHITESPACE"," ",222],["T_STRING","count",222],"(",["T_VARIABLE","$values",222],")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getConnection",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","insertArray",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getMainTable",223],"(",")",",",["T_WHITESPACE"," ",223],["T_VARIABLE","$fields",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$values",223],")",";",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_importedRows",224],["T_WHITESPACE"," ",224],["T_PLUS_EQUAL","+=",224],["T_WHITESPACE"," ",224],["T_STRING","count",224],"(",["T_VARIABLE","$values",224],")",";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE"," ",226],["T_CATCH","catch",226],["T_WHITESPACE"," ",226],"(",["T_NS_SEPARATOR","\\",226],["T_STRING","Magento",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Framework",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Exception",226],["T_NS_SEPARATOR","\\",226],["T_STRING","LocalizedException",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$e",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$connection",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","rollback",227],"(",")",";",["T_WHITESPACE","\n            ",227],["T_THROW","throw",228],["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Magento",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Framework",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Exception",228],["T_NS_SEPARATOR","\\",228],["T_STRING","LocalizedException",228],"(",["T_STRING","__",228],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to import data'",228],")",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$e",228],")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE"," ",229],["T_CATCH","catch",229],["T_WHITESPACE"," ",229],"(",["T_NS_SEPARATOR","\\",229],["T_STRING","Exception",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$e",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$connection",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","rollback",230],"(",")",";",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","logger",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","critical",231],"(",["T_VARIABLE","$e",231],")",";",["T_WHITESPACE","\n            ",231],["T_THROW","throw",232],["T_WHITESPACE"," ",232],["T_NEW","new",232],["T_WHITESPACE"," ",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Magento",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Framework",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Exception",232],["T_NS_SEPARATOR","\\",232],["T_STRING","LocalizedException",232],"(",["T_WHITESPACE","\n                ",232],["T_STRING","__",233],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while importing table rates.'",233],")",["T_WHITESPACE","\n            ",233],")",";",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$connection",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","commit",236],"(",")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Upload table rate file and import data from it\n     *\n     * @param \\Magento\\Framework\\DataObject $object\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return \\Magento\\OfflineShipping\\Model\\ResourceModel\\Carrier\\Tablerate\n     * @todo: this method should be refactored as soon as updated design will be provided\n     * @see https:\/\/wiki.corp.x.com\/display\/MCOMS\/Magento+Filesystem+Decisions\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",239],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","uploadAndImport",250],"(",["T_NS_SEPARATOR","\\",250],["T_STRING","Magento",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Framework",250],["T_NS_SEPARATOR","\\",250],["T_STRING","DataObject",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$object",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_DOC_COMMENT","\/**\n         * @var \\Magento\\Framework\\App\\Config\\Value $object\n         *\/",252],["T_WHITESPACE","\n        ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_EMPTY","empty",255],"(",["T_VARIABLE","$_FILES",255],"[",["T_CONSTANT_ENCAPSED_STRING","'groups'",255],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",255],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tablerate'",255],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",255],"]","[",["T_CONSTANT_ENCAPSED_STRING","'import'",255],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",255],"]",")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$filePath",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$_FILES",258],"[",["T_CONSTANT_ENCAPSED_STRING","'groups'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tablerate'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'import'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",258],"]",";",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$websiteId",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","storeManager",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getWebsite",260],"(",["T_VARIABLE","$object",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getScopeId",260],"(",")",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","getId",260],"(",")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$conditionName",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getConditionName",261],"(",["T_VARIABLE","$object",261],")",";",["T_WHITESPACE","\n\n        ",261],["T_VARIABLE","$file",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getCsvFile",263],"(",["T_VARIABLE","$filePath",263],")",";",["T_WHITESPACE","\n        ",263],["T_TRY","try",264],["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_COMMENT","\/\/ delete old data by website and condition name\n",265],["T_WHITESPACE","            ",266],["T_VARIABLE","$condition",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],"[",["T_WHITESPACE","\n                ",266],["T_CONSTANT_ENCAPSED_STRING","'website_id = ?'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$websiteId",267],",",["T_WHITESPACE","\n                ",267],["T_CONSTANT_ENCAPSED_STRING","'condition_name = ?'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$conditionName",268],",",["T_WHITESPACE","\n            ",268],"]",";",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","deleteByCondition",270],"(",["T_VARIABLE","$condition",270],")",";",["T_WHITESPACE","\n\n            ",270],["T_VARIABLE","$columns",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","import",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getColumns",272],"(",")",";",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$conditionFullName",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_getConditionFullName",273],"(",["T_VARIABLE","$conditionName",273],")",";",["T_WHITESPACE","\n            ",273],["T_FOREACH","foreach",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","import",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getData",274],"(",["T_VARIABLE","$file",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$websiteId",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$conditionName",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$conditionFullName",274],")",["T_WHITESPACE"," ",274],["T_AS","as",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$bunch",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","importData",275],"(",["T_VARIABLE","$columns",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$bunch",275],")",";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE"," ",277],["T_CATCH","catch",277],["T_WHITESPACE"," ",277],"(",["T_NS_SEPARATOR","\\",277],["T_STRING","Exception",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$e",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","logger",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","critical",278],"(",["T_VARIABLE","$e",278],")",";",["T_WHITESPACE","\n            ",278],["T_THROW","throw",279],["T_WHITESPACE"," ",279],["T_NEW","new",279],["T_WHITESPACE"," ",279],["T_NS_SEPARATOR","\\",279],["T_STRING","Magento",279],["T_NS_SEPARATOR","\\",279],["T_STRING","Framework",279],["T_NS_SEPARATOR","\\",279],["T_STRING","Exception",279],["T_NS_SEPARATOR","\\",279],["T_STRING","LocalizedException",279],"(",["T_WHITESPACE","\n                ",279],["T_STRING","__",280],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while importing table rates.'",280],")",["T_WHITESPACE","\n            ",280],")",";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE"," ",282],["T_FINALLY","finally",282],["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$file",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","close",283],"(",")",";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n\n        ",284],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","import",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","hasErrors",286],"(",")",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$error",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","__",287],"(",["T_WHITESPACE","\n                ",287],["T_CONSTANT_ENCAPSED_STRING","'We couldn\\'t import this file because of these errors: %1'",288],",",["T_WHITESPACE","\n                ",288],["T_STRING","implode",289],"(",["T_CONSTANT_ENCAPSED_STRING","\" \\n\"",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","import",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getErrors",289],"(",")",")",["T_WHITESPACE","\n            ",289],")",";",["T_WHITESPACE","\n            ",290],["T_THROW","throw",291],["T_WHITESPACE"," ",291],["T_NEW","new",291],["T_WHITESPACE"," ",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Magento",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Framework",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Exception",291],["T_NS_SEPARATOR","\\",291],["T_STRING","LocalizedException",291],"(",["T_VARIABLE","$error",291],")",";",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\DataObject $object\n     * @return mixed|string\n     *\/",295],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","getConditionName",299],"(",["T_NS_SEPARATOR","\\",299],["T_STRING","Magento",299],["T_NS_SEPARATOR","\\",299],["T_STRING","Framework",299],["T_NS_SEPARATOR","\\",299],["T_STRING","DataObject",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$object",299],")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$object",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getData",301],"(",["T_CONSTANT_ENCAPSED_STRING","'groups\/tablerate\/fields\/condition_name\/inherit'",301],")",["T_WHITESPACE"," ",301],["T_IS_EQUAL","==",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'1'",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$conditionName",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING_CAST","(string)",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","coreConfig",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getValue",302],"(",["T_CONSTANT_ENCAPSED_STRING","'carriers\/tablerate\/condition_name'",302],",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'default'",302],")",";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE"," ",303],["T_ELSE","else",303],["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$conditionName",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$object",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getData",304],"(",["T_CONSTANT_ENCAPSED_STRING","'groups\/tablerate\/fields\/condition_name\/value'",304],")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$conditionName",306],";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * @param string $filePath\n     * @return \\Magento\\Framework\\Filesystem\\File\\ReadInterface\n     *\/",309],["T_WHITESPACE","\n    ",312],["T_PRIVATE","private",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","getCsvFile",313],"(",["T_VARIABLE","$filePath",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$tmpDirectory",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","filesystem",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getDirectoryRead",315],"(",["T_STRING","DirectoryList",315],["T_DOUBLE_COLON","::",315],["T_STRING","SYS_TMP",315],")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$path",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$tmpDirectory",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getRelativePath",316],"(",["T_VARIABLE","$filePath",316],")",";",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$tmpDirectory",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","openFile",317],"(",["T_VARIABLE","$path",317],")",";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Return import condition full name by condition name code\n     *\n     * @param string $conditionName\n     * @return string\n     *\/",320],["T_WHITESPACE","\n    ",325],["T_PROTECTED","protected",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","_getConditionFullName",326],"(",["T_VARIABLE","$conditionName",326],")",["T_WHITESPACE","\n    ",326],"{",["T_WHITESPACE","\n        ",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(","!",["T_ISSET","isset",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_conditionFullNames",328],"[",["T_VARIABLE","$conditionName",328],"]",")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$name",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","carrierTablerate",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getCode",329],"(",["T_CONSTANT_ENCAPSED_STRING","'condition_name_short'",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$conditionName",329],")",";",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_conditionFullNames",330],"[",["T_VARIABLE","$conditionName",330],"]",["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$name",330],";",["T_WHITESPACE","\n        ",330],"}",["T_WHITESPACE","\n\n        ",331],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_conditionFullNames",333],"[",["T_VARIABLE","$conditionName",333],"]",";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_DOC_COMMENT","\/**\n     * Save import data batch\n     *\n     * @param array $data\n     * @return \\Magento\\OfflineShipping\\Model\\ResourceModel\\Carrier\\Tablerate\n     *\/",336],["T_WHITESPACE","\n    ",341],["T_PROTECTED","protected",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","_saveImportData",342],"(",["T_ARRAY","array",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$data",342],")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(","!",["T_EMPTY","empty",344],"(",["T_VARIABLE","$data",344],")",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$columns",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],"[",["T_WHITESPACE","\n                ",345],["T_CONSTANT_ENCAPSED_STRING","'website_id'",346],",",["T_WHITESPACE","\n                ",346],["T_CONSTANT_ENCAPSED_STRING","'dest_country_id'",347],",",["T_WHITESPACE","\n                ",347],["T_CONSTANT_ENCAPSED_STRING","'dest_region_id'",348],",",["T_WHITESPACE","\n                ",348],["T_CONSTANT_ENCAPSED_STRING","'dest_zip'",349],",",["T_WHITESPACE","\n                ",349],["T_CONSTANT_ENCAPSED_STRING","'condition_name'",350],",",["T_WHITESPACE","\n                ",350],["T_CONSTANT_ENCAPSED_STRING","'condition_value'",351],",",["T_WHITESPACE","\n                ",351],["T_CONSTANT_ENCAPSED_STRING","'price'",352],",",["T_WHITESPACE","\n            ",352],"]",";",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getConnection",354],"(",")",["T_OBJECT_OPERATOR","->",354],["T_STRING","insertArray",354],"(",["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getMainTable",354],"(",")",",",["T_WHITESPACE"," ",354],["T_VARIABLE","$columns",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$data",354],")",";",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_importedRows",355],["T_WHITESPACE"," ",355],["T_PLUS_EQUAL","+=",355],["T_WHITESPACE"," ",355],["T_STRING","count",355],"(",["T_VARIABLE","$data",355],")",";",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE","\n\n        ",356],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n",359],"}",["T_WHITESPACE","\n",360]]