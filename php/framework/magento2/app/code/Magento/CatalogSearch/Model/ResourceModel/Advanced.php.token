[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogSearch",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Advanced Catalog Search resource model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Advanced",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResourceModel",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Db",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractDb",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Core event manager proxy\n     *\n     * @var \\Magento\\Framework\\Event\\ManagerInterface\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_eventManager",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_STRING","null",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_storeManager",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Construct\n     *\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param string $connectionName\n     *\/",29],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","__construct",37],"(",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Model",38],["T_NS_SEPARATOR","\\",38],["T_STRING","ResourceModel",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Db",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Context",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$context",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Store",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","StoreManagerInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$storeManager",39],",",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Event",40],["T_NS_SEPARATOR","\\",40],["T_STRING","ManagerInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$eventManager",40],",",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$connectionName",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","null",41],["T_WHITESPACE","\n    ",41],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_storeManager",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$storeManager",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_eventManager",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$eventManager",44],";",["T_WHITESPACE","\n        ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","__construct",45],"(",["T_VARIABLE","$context",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$connectionName",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Initialize connection and define catalog product table as main table\n     *\n     * @return void\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","_construct",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_init",55],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",55],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Prepare search condition for attribute\n     *\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute $attribute\n     * @param string|array $value\n     * @return string|array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",58],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","prepareCondition",66],"(",["T_VARIABLE","$attribute",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$value",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$condition",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","false",68],";",["T_WHITESPACE","\n\n        ",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_STRING","is_array",70],"(",["T_VARIABLE","$value",70],")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$attribute",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getBackendType",71],"(",")",["T_WHITESPACE"," ",71],["T_IS_EQUAL","==",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'varchar'",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE"," ",71],["T_COMMENT","\/\/ multiselect\n",71],["T_WHITESPACE","                ",72],["T_COMMENT","\/\/ multiselect\n",72],["T_WHITESPACE","                ",73],["T_VARIABLE","$condition",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],"[",["T_CONSTANT_ENCAPSED_STRING","'in_set'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$value",73],"]",";",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE"," ",74],["T_ELSEIF","elseif",74],["T_WHITESPACE"," ",74],"(","!",["T_ISSET","isset",74],"(",["T_VARIABLE","$value",74],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",74],"]",")",["T_WHITESPACE"," ",74],["T_BOOLEAN_AND","&&",74],["T_WHITESPACE"," ",74],"!",["T_ISSET","isset",74],"(",["T_VARIABLE","$value",74],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",74],"]",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE"," ",74],["T_COMMENT","\/\/ select\n",74],["T_WHITESPACE","                ",75],["T_COMMENT","\/\/ select\n",75],["T_WHITESPACE","                ",76],["T_VARIABLE","$condition",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'in'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$value",76],"]",";",["T_WHITESPACE","\n            ",76],"}",["T_WHITESPACE"," ",77],["T_ELSEIF","elseif",77],["T_WHITESPACE"," ",77],"(",["T_ISSET","isset",77],"(",["T_VARIABLE","$value",77],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",77],"]",")",["T_WHITESPACE"," ",77],["T_BOOLEAN_AND","&&",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","''",77],["T_WHITESPACE"," ",77],["T_IS_NOT_IDENTICAL","!==",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$value",77],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",77],"]",["T_WHITESPACE"," ",77],["T_BOOLEAN_OR","||",77],["T_WHITESPACE"," ",77],["T_ISSET","isset",77],"(",["T_VARIABLE","$value",77],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",77],"]",")",["T_WHITESPACE"," ",77],["T_BOOLEAN_AND","&&",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","''",77],["T_WHITESPACE"," ",77],["T_IS_NOT_IDENTICAL","!==",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$value",77],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",77],"]",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n                ",77],["T_COMMENT","\/\/ range\n",78],["T_WHITESPACE","                ",79],["T_VARIABLE","$condition",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$value",79],";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE"," ",81],["T_ELSE","else",81],["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_STRING","strlen",82],"(",["T_VARIABLE","$value",82],")",["T_WHITESPACE"," ",82],">",["T_WHITESPACE"," ",82],["T_LNUMBER","0",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_STRING","in_array",83],"(",["T_VARIABLE","$attribute",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getBackendType",83],"(",")",",",["T_WHITESPACE"," ",83],"[",["T_CONSTANT_ENCAPSED_STRING","'varchar'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'text'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'static'",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                    ",83],["T_VARIABLE","$condition",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"[",["T_CONSTANT_ENCAPSED_STRING","'like'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$value",84],"]",";",["T_WHITESPACE"," ",84],["T_COMMENT","\/\/ text search\n",84],["T_WHITESPACE","                ",85],"}",["T_WHITESPACE"," ",85],["T_ELSE","else",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                    ",85],["T_VARIABLE","$condition",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$value",86],";",["T_WHITESPACE","\n                ",86],"}",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$condition",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n",92],"}",["T_WHITESPACE","\n",93]]