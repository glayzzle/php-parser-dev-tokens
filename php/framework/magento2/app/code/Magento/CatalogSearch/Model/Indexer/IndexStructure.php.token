[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogSearch",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Indexer",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResourceConnection",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DB",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adapter",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AdapterInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DB",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Ddl",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Table",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Search",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Request",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Dimension",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Indexer",13],["T_NS_SEPARATOR","\\",13],["T_STRING","IndexStructureInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Indexer",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ScopeResolver",14],["T_NS_SEPARATOR","\\",14],["T_STRING","IndexScopeResolver",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Search",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Request",15],["T_NS_SEPARATOR","\\",15],["T_STRING","IndexScopeResolverInterface",15],";",["T_WHITESPACE","\n\n",15],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","IndexStructure",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","IndexStructureInterface",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var Resource\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$resource",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var IndexScopeResolver\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$indexScopeResolver",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @param ResourceConnection $resource\n     * @param IndexScopeResolverInterface $indexScopeResolver\n     *\/",29],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_WHITESPACE","\n        ",33],["T_STRING","ResourceConnection",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$resource",34],",",["T_WHITESPACE","\n        ",34],["T_STRING","IndexScopeResolverInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$indexScopeResolver",35],["T_WHITESPACE","\n    ",35],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","resource",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$resource",37],";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","indexScopeResolver",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$indexScopeResolver",38],";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @param string $index\n     * @param Dimension[] $dimensions\n     * @return void\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","delete",46],"(",["T_VARIABLE","$index",46],",",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$dimensions",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[","]",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$tableName",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","indexScopeResolver",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","resolve",48],"(",["T_VARIABLE","$index",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$dimensions",48],")",";",["T_WHITESPACE","\n        ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","resource",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getConnection",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","isTableExists",49],"(",["T_VARIABLE","$tableName",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","resource",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getConnection",50],"(",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","dropTable",50],"(",["T_VARIABLE","$tableName",50],")",";",["T_WHITESPACE","\n        ",50],"}",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @param string $index\n     * @param array $fields\n     * @param array $dimensions\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @return void\n     *\/",54],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","create",61],"(",["T_VARIABLE","$index",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$fields",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$dimensions",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[","]",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","createFulltextIndex",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","indexScopeResolver",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","resolve",63],"(",["T_VARIABLE","$index",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$dimensions",63],")",")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @param string $tableName\n     * @throws \\Zend_Db_Exception\n     * @return void\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","createFulltextIndex",71],"(",["T_VARIABLE","$tableName",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$table",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","resource",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getConnection",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","newTable",73],"(",["T_VARIABLE","$tableName",73],")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","addColumn",74],"(",["T_WHITESPACE","\n                ",74],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",75],",",["T_WHITESPACE","\n                ",75],["T_STRING","Table",76],["T_DOUBLE_COLON","::",76],["T_STRING","TYPE_INTEGER",76],",",["T_WHITESPACE","\n                ",76],["T_LNUMBER","10",77],",",["T_WHITESPACE","\n                ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","true",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'nullable'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","false",78],"]",",",["T_WHITESPACE","\n                ",78],["T_CONSTANT_ENCAPSED_STRING","'Entity ID'",79],["T_WHITESPACE","\n            ",79],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","addColumn",80],"(",["T_WHITESPACE","\n                ",80],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",81],",",["T_WHITESPACE","\n                ",81],["T_STRING","Table",82],["T_DOUBLE_COLON","::",82],["T_STRING","TYPE_INTEGER",82],",",["T_WHITESPACE","\n                ",82],["T_LNUMBER","10",83],",",["T_WHITESPACE","\n                ",83],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","true",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'nullable'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","false",84],"]",["T_WHITESPACE","\n            ",84],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","addColumn",85],"(",["T_WHITESPACE","\n                ",85],["T_CONSTANT_ENCAPSED_STRING","'data_index'",86],",",["T_WHITESPACE","\n                ",86],["T_STRING","Table",87],["T_DOUBLE_COLON","::",87],["T_STRING","TYPE_TEXT",87],",",["T_WHITESPACE","\n                ",87],["T_CONSTANT_ENCAPSED_STRING","'4g'",88],",",["T_WHITESPACE","\n                ",88],"[",["T_CONSTANT_ENCAPSED_STRING","'nullable'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_STRING","true",89],"]",",",["T_WHITESPACE","\n                ",89],["T_CONSTANT_ENCAPSED_STRING","'Data index'",90],["T_WHITESPACE","\n            ",90],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","addIndex",91],"(",["T_WHITESPACE","\n                ",91],["T_CONSTANT_ENCAPSED_STRING","'idx_primary'",92],",",["T_WHITESPACE","\n                ",92],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",93],"]",",",["T_WHITESPACE","\n                ",93],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","AdapterInterface",94],["T_DOUBLE_COLON","::",94],["T_STRING","INDEX_TYPE_PRIMARY",94],"]",["T_WHITESPACE","\n            ",94],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","addIndex",95],"(",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'FTI_FULLTEXT_DATA_INDEX'",96],",",["T_WHITESPACE","\n                ",96],"[",["T_CONSTANT_ENCAPSED_STRING","'data_index'",97],"]",",",["T_WHITESPACE","\n                ",97],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","AdapterInterface",98],["T_DOUBLE_COLON","::",98],["T_STRING","INDEX_TYPE_FULLTEXT",98],"]",["T_WHITESPACE","\n            ",98],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","resource",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getConnection",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","createTable",100],"(",["T_VARIABLE","$table",100],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n",101],"}",["T_WHITESPACE","\n",102]]