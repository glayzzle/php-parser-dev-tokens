[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogSearch",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Search",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ScopeConfigInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResourceConnection",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DB",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Select",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Search",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adapter",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mysql",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ConditionManager",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Search",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Adapter",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mysql",13],["T_NS_SEPARATOR","\\",13],["T_STRING","IndexBuilderInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Search",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Request",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Dimension",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Search",15],["T_NS_SEPARATOR","\\",15],["T_STRING","RequestInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Indexer",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ScopeResolver",16],["T_NS_SEPARATOR","\\",16],["T_STRING","IndexScopeResolver",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Store",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ScopeInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Store",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","StoreManagerInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","CatalogInventory",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Api",19],["T_NS_SEPARATOR","\\",19],["T_STRING","StockConfigurationInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","CatalogInventory",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Stock",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","App",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ScopeResolverInterface",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Build base Query for Index\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",23],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","IndexBuilder",27],["T_WHITESPACE"," ",27],["T_IMPLEMENTS","implements",27],["T_WHITESPACE"," ",27],["T_STRING","IndexBuilderInterface",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * @var Resource\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$resource",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var ScopeConfigInterface\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$config",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var StoreManagerInterface\n     * @deprecated\n     *\/",39],["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$storeManager",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var IndexScopeResolver\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PRIVATE","private",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$scopeResolver",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var ConditionManager\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PRIVATE","private",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$conditionManager",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var TableMapper\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PRIVATE","private",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$tableMapper",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @var ScopeResolverInterface\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PRIVATE","private",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$dimensionScopeResolver",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @var StockConfigurationInterface\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PRIVATE","private",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$stockConfiguration",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param ScopeConfigInterface $config\n     * @param StoreManagerInterface $storeManager\n     * @param ConditionManager $conditionManager\n     * @param IndexScopeResolver $scopeResolver\n     * @param TableMapper $tableMapper\n     * @param ScopeResolverInterface $dimensionScopeResolver\n     *\/",70],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","__construct",79],"(",["T_WHITESPACE","\n        ",79],["T_STRING","ResourceConnection",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$resource",80],",",["T_WHITESPACE","\n        ",80],["T_STRING","ScopeConfigInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$config",81],",",["T_WHITESPACE","\n        ",81],["T_STRING","StoreManagerInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$storeManager",82],",",["T_WHITESPACE","\n        ",82],["T_STRING","ConditionManager",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$conditionManager",83],",",["T_WHITESPACE","\n        ",83],["T_STRING","IndexScopeResolver",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$scopeResolver",84],",",["T_WHITESPACE","\n        ",84],["T_STRING","TableMapper",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$tableMapper",85],",",["T_WHITESPACE","\n        ",85],["T_STRING","ScopeResolverInterface",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$dimensionScopeResolver",86],["T_WHITESPACE","\n    ",86],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","resource",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$resource",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","config",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$config",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","storeManager",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$storeManager",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","conditionManager",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$conditionManager",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","scopeResolver",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$scopeResolver",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","tableMapper",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$tableMapper",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","dimensionScopeResolver",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$dimensionScopeResolver",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Build index query\n     *\n     * @param RequestInterface $request\n     * @return Select\n     * @throws \\LogicException\n     *\/",97],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","build",104],"(",["T_STRING","RequestInterface",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$request",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$searchIndexTable",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","scopeResolver",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","resolve",106],"(",["T_VARIABLE","$request",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getIndex",106],"(",")",",",["T_WHITESPACE"," ",106],["T_VARIABLE","$request",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getDimensions",106],"(",")",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$select",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","resource",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getConnection",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","select",107],"(",")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","from",108],"(",["T_WHITESPACE","\n                ",108],"[",["T_CONSTANT_ENCAPSED_STRING","'search_index'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$searchIndexTable",109],"]",",",["T_WHITESPACE","\n                ",109],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",110],"]",["T_WHITESPACE","\n            ",110],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","joinLeft",112],"(",["T_WHITESPACE","\n                ",112],"[",["T_CONSTANT_ENCAPSED_STRING","'cea'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","resource",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getTableName",113],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_eav_attribute'",113],")","]",",",["T_WHITESPACE","\n                ",113],["T_CONSTANT_ENCAPSED_STRING","'search_index.attribute_id = cea.attribute_id'",114],",",["T_WHITESPACE","\n                ",114],"[","]",["T_WHITESPACE","\n            ",115],")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$select",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","tableMapper",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","addTables",118],"(",["T_VARIABLE","$select",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$request",118],")",";",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$select",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","processDimensions",120],"(",["T_VARIABLE","$request",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$select",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$isShowOutOfStock",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","config",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","isSetFlag",122],"(",["T_WHITESPACE","\n            ",122],["T_CONSTANT_ENCAPSED_STRING","'cataloginventory\/options\/show_out_of_stock'",123],",",["T_WHITESPACE","\n            ",123],["T_STRING","ScopeInterface",124],["T_DOUBLE_COLON","::",124],["T_STRING","SCOPE_STORE",124],["T_WHITESPACE","\n        ",124],")",";",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$isShowOutOfStock",126],["T_WHITESPACE"," ",126],["T_IS_IDENTICAL","===",126],["T_WHITESPACE"," ",126],["T_STRING","false",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$select",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","joinInner",127],"(",["T_WHITESPACE","\n                ",127],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_index'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","resource",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getTableName",128],"(",["T_CONSTANT_ENCAPSED_STRING","'cataloginventory_stock_status'",128],")","]",",",["T_WHITESPACE","\n                ",128],["T_CONSTANT_ENCAPSED_STRING","'search_index.entity_id = stock_index.product_id'",129],["T_WHITESPACE","\n                ",129],".",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","resource",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getConnection",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","quoteInto",130],"(",["T_WHITESPACE","\n                    ",130],["T_CONSTANT_ENCAPSED_STRING","' AND stock_index.website_id = ?'",131],",",["T_WHITESPACE","\n                    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getStockConfiguration",132],"(",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","getDefaultScopeId",132],"(",")",["T_WHITESPACE","\n                ",132],")",",",["T_WHITESPACE","\n                ",133],"[","]",["T_WHITESPACE","\n            ",134],")",";",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$select",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","where",136],"(",["T_CONSTANT_ENCAPSED_STRING","'stock_index.stock_status = ?'",136],",",["T_WHITESPACE"," ",136],["T_STRING","Stock",136],["T_DOUBLE_COLON","::",136],["T_STRING","STOCK_IN_STOCK",136],")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$select",139],";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * @return StockConfigurationInterface\n     *\n     * @deprecated\n     *\/",142],["T_WHITESPACE","\n    ",146],["T_PRIVATE","private",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","getStockConfiguration",147],"(",")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","stockConfiguration",149],["T_WHITESPACE"," ",149],["T_IS_IDENTICAL","===",149],["T_WHITESPACE"," ",149],["T_STRING","null",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","stockConfiguration",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Magento",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Framework",150],["T_NS_SEPARATOR","\\",150],["T_STRING","App",150],["T_NS_SEPARATOR","\\",150],["T_STRING","ObjectManager",150],["T_DOUBLE_COLON","::",150],["T_STRING","getInstance",150],"(",")",["T_WHITESPACE","\n                ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","get",151],"(",["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","CatalogInventory",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Api",151],["T_NS_SEPARATOR","\\",151],["T_STRING","StockConfigurationInterface",151],["T_DOUBLE_COLON","::",151],["T_CLASS","class",151],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","stockConfiguration",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Add filtering by dimensions\n     *\n     * @param RequestInterface $request\n     * @param Select $select\n     * @return \\Magento\\Framework\\DB\\Select\n     *\/",156],["T_WHITESPACE","\n    ",162],["T_PRIVATE","private",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","processDimensions",163],"(",["T_STRING","RequestInterface",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$request",163],",",["T_WHITESPACE"," ",163],["T_STRING","Select",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$select",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$dimensions",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","prepareDimensions",165],"(",["T_VARIABLE","$request",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getDimensions",165],"(",")",")",";",["T_WHITESPACE","\n\n        ",165],["T_VARIABLE","$query",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","conditionManager",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","combineQueries",167],"(",["T_VARIABLE","$dimensions",167],",",["T_WHITESPACE"," ",167],["T_STRING","Select",167],["T_DOUBLE_COLON","::",167],["T_STRING","SQL_OR",167],")",";",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(","!",["T_EMPTY","empty",168],"(",["T_VARIABLE","$query",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$select",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","where",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","conditionManager",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","wrapBrackets",169],"(",["T_VARIABLE","$query",169],")",")",";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n\n        ",170],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$select",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * @param Dimension[] $dimensions\n     * @return string[]\n     *\/",175],["T_WHITESPACE","\n    ",178],["T_PRIVATE","private",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","prepareDimensions",179],"(",["T_ARRAY","array",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$dimensions",179],")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$preparedDimensions",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],"[","]",";",["T_WHITESPACE","\n        ",181],["T_FOREACH","foreach",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$dimensions",182],["T_WHITESPACE"," ",182],["T_AS","as",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$dimension",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_CONSTANT_ENCAPSED_STRING","'scope'",183],["T_WHITESPACE"," ",183],["T_IS_IDENTICAL","===",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$dimension",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getName",183],"(",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                ",183],["T_CONTINUE","continue",184],";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$preparedDimensions",186],"[","]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","conditionManager",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","generateCondition",186],"(",["T_WHITESPACE","\n                ",186],["T_VARIABLE","$dimension",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getName",187],"(",")",",",["T_WHITESPACE","\n                ",187],["T_CONSTANT_ENCAPSED_STRING","'='",188],",",["T_WHITESPACE","\n                ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","dimensionScopeResolver",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getScope",189],"(",["T_VARIABLE","$dimension",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getValue",189],"(",")",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","getId",189],"(",")",["T_WHITESPACE","\n            ",189],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$preparedDimensions",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n",194],"}",["T_WHITESPACE","\n",195]]