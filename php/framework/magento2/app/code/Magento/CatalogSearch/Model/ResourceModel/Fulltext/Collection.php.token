[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogSearch",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Fulltext",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CatalogSearch",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Search",8],["T_NS_SEPARATOR","\\",8],["T_STRING","RequestGenerator",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DB",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Select",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityManager",10],["T_NS_SEPARATOR","\\",10],["T_STRING","MetadataPool",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","StateException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Search",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adapter",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mysql",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TemporaryStorage",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Search",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Response",13],["T_NS_SEPARATOR","\\",13],["T_STRING","QueryResponse",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Search",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Request",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EmptyRequestDataException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Search",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Request",15],["T_NS_SEPARATOR","\\",15],["T_STRING","NonExistingRequestNameException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Api",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Search",16],["T_NS_SEPARATOR","\\",16],["T_STRING","SearchResultFactory",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","LocalizedException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","App",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ObjectManager",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Catalog",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ResourceModel",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Product",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Collection",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ProductLimitationFactory",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * Fulltext Collection\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",21],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","Collection",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Catalog",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Model",25],["T_NS_SEPARATOR","\\",25],["T_STRING","ResourceModel",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Product",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Collection",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_DOC_COMMENT","\/**\n     * @var  QueryResponse\n     * @deprecated\n     *\/",27],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$queryResponse",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Catalog search data\n     *\n     * @var \\Magento\\Search\\Model\\QueryFactory\n     * @deprecated\n     *\/",33],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$queryFactory",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Search\\Request\\Builder\n     * @deprecated\n     *\/",41],["T_WHITESPACE","\n    ",44],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$requestBuilder",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Search\\Model\\SearchEngine\n     * @deprecated\n     *\/",47],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$searchEngine",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$queryText",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var string|null\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PRIVATE","private",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$order",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","null",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PRIVATE","private",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$searchRequestName",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Search\\Adapter\\Mysql\\TemporaryStorageFactory\n     *\/",68],["T_WHITESPACE","\n    ",70],["T_PRIVATE","private",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$temporaryStorageFactory",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Search\\Api\\SearchInterface\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PRIVATE","private",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$search",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\Search\\SearchCriteriaBuilder\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PRIVATE","private",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$searchCriteriaBuilder",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\Search\\SearchResultInterface\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PRIVATE","private",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$searchResult",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @var SearchResultFactory\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PRIVATE","private",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$searchResultFactory",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\FilterBuilder\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PRIVATE","private",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$filterBuilder",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Collection constructor\n     *\n     * @param \\Magento\\Framework\\Data\\Collection\\EntityFactory $entityFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Data\\Collection\\Db\\FetchStrategyInterface $fetchStrategy\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param \\Magento\\Eav\\Model\\EntityFactory $eavEntityFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Helper $resourceHelper\n     * @param \\Magento\\Framework\\Validator\\UniversalFactory $universalFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Module\\Manager $moduleManager\n     * @param \\Magento\\Catalog\\Model\\Indexer\\Product\\Flat\\State $catalogProductFlatState\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Catalog\\Model\\Product\\OptionFactory $productOptionFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Url $catalogUrl\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param \\Magento\\Customer\\Api\\GroupManagementInterface $groupManagement\n     * @param \\Magento\\Search\\Model\\QueryFactory $catalogSearchData\n     * @param \\Magento\\Framework\\Search\\Request\\Builder $requestBuilder\n     * @param \\Magento\\Search\\Model\\SearchEngine $searchEngine\n     * @param \\Magento\\Framework\\Search\\Adapter\\Mysql\\TemporaryStorageFactory $temporaryStorageFactory\n     * @param \\Magento\\Framework\\DB\\Adapter\\AdapterInterface|null $connection\n     * @param string $searchRequestName\n     * @param SearchResultFactory|null $searchResultFactory\n     * @param ProductLimitationFactory|null $productLimitationFactory\n     * @param MetadataPool|null $metadataPool\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",98],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","__construct",132],"(",["T_WHITESPACE","\n        ",132],["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Framework",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Data",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Collection",133],["T_NS_SEPARATOR","\\",133],["T_STRING","EntityFactory",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$entityFactory",133],",",["T_WHITESPACE","\n        ",133],["T_NS_SEPARATOR","\\",134],["T_STRING","Psr",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Log",134],["T_NS_SEPARATOR","\\",134],["T_STRING","LoggerInterface",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$logger",134],",",["T_WHITESPACE","\n        ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Framework",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Data",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Collection",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Db",135],["T_NS_SEPARATOR","\\",135],["T_STRING","FetchStrategyInterface",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$fetchStrategy",135],",",["T_WHITESPACE","\n        ",135],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Event",136],["T_NS_SEPARATOR","\\",136],["T_STRING","ManagerInterface",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$eventManager",136],",",["T_WHITESPACE","\n        ",136],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Eav",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Config",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$eavConfig",137],",",["T_WHITESPACE","\n        ",137],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Framework",138],["T_NS_SEPARATOR","\\",138],["T_STRING","App",138],["T_NS_SEPARATOR","\\",138],["T_STRING","ResourceConnection",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$resource",138],",",["T_WHITESPACE","\n        ",138],["T_NS_SEPARATOR","\\",139],["T_STRING","Magento",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Eav",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Model",139],["T_NS_SEPARATOR","\\",139],["T_STRING","EntityFactory",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$eavEntityFactory",139],",",["T_WHITESPACE","\n        ",139],["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Catalog",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Model",140],["T_NS_SEPARATOR","\\",140],["T_STRING","ResourceModel",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Helper",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$resourceHelper",140],",",["T_WHITESPACE","\n        ",140],["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Framework",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Validator",141],["T_NS_SEPARATOR","\\",141],["T_STRING","UniversalFactory",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$universalFactory",141],",",["T_WHITESPACE","\n        ",141],["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Store",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Model",142],["T_NS_SEPARATOR","\\",142],["T_STRING","StoreManagerInterface",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$storeManager",142],",",["T_WHITESPACE","\n        ",142],["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Framework",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Module",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Manager",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$moduleManager",143],",",["T_WHITESPACE","\n        ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Catalog",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Model",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Indexer",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Product",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Flat",144],["T_NS_SEPARATOR","\\",144],["T_STRING","State",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$catalogProductFlatState",144],",",["T_WHITESPACE","\n        ",144],["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Framework",145],["T_NS_SEPARATOR","\\",145],["T_STRING","App",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Config",145],["T_NS_SEPARATOR","\\",145],["T_STRING","ScopeConfigInterface",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$scopeConfig",145],",",["T_WHITESPACE","\n        ",145],["T_NS_SEPARATOR","\\",146],["T_STRING","Magento",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Catalog",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Model",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Product",146],["T_NS_SEPARATOR","\\",146],["T_STRING","OptionFactory",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$productOptionFactory",146],",",["T_WHITESPACE","\n        ",146],["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Catalog",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Model",147],["T_NS_SEPARATOR","\\",147],["T_STRING","ResourceModel",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Url",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$catalogUrl",147],",",["T_WHITESPACE","\n        ",147],["T_NS_SEPARATOR","\\",148],["T_STRING","Magento",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Framework",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Stdlib",148],["T_NS_SEPARATOR","\\",148],["T_STRING","DateTime",148],["T_NS_SEPARATOR","\\",148],["T_STRING","TimezoneInterface",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$localeDate",148],",",["T_WHITESPACE","\n        ",148],["T_NS_SEPARATOR","\\",149],["T_STRING","Magento",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Customer",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Model",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Session",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$customerSession",149],",",["T_WHITESPACE","\n        ",149],["T_NS_SEPARATOR","\\",150],["T_STRING","Magento",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Framework",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Stdlib",150],["T_NS_SEPARATOR","\\",150],["T_STRING","DateTime",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$dateTime",150],",",["T_WHITESPACE","\n        ",150],["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Customer",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Api",151],["T_NS_SEPARATOR","\\",151],["T_STRING","GroupManagementInterface",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$groupManagement",151],",",["T_WHITESPACE","\n        ",151],["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Search",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Model",152],["T_NS_SEPARATOR","\\",152],["T_STRING","QueryFactory",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$catalogSearchData",152],",",["T_WHITESPACE","\n        ",152],["T_NS_SEPARATOR","\\",153],["T_STRING","Magento",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Framework",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Search",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Request",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Builder",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$requestBuilder",153],",",["T_WHITESPACE","\n        ",153],["T_NS_SEPARATOR","\\",154],["T_STRING","Magento",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Search",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Model",154],["T_NS_SEPARATOR","\\",154],["T_STRING","SearchEngine",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$searchEngine",154],",",["T_WHITESPACE","\n        ",154],["T_NS_SEPARATOR","\\",155],["T_STRING","Magento",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Framework",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Search",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Adapter",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Mysql",155],["T_NS_SEPARATOR","\\",155],["T_STRING","TemporaryStorageFactory",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$temporaryStorageFactory",155],",",["T_WHITESPACE","\n        ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Framework",156],["T_NS_SEPARATOR","\\",156],["T_STRING","DB",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Adapter",156],["T_NS_SEPARATOR","\\",156],["T_STRING","AdapterInterface",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$connection",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","null",156],",",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$searchRequestName",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'catalog_view_container'",157],",",["T_WHITESPACE","\n        ",157],["T_STRING","SearchResultFactory",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$searchResultFactory",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","null",158],",",["T_WHITESPACE","\n        ",158],["T_STRING","ProductLimitationFactory",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$productLimitationFactory",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","null",159],",",["T_WHITESPACE","\n        ",159],["T_STRING","MetadataPool",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$metadataPool",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","null",160],["T_WHITESPACE","\n    ",160],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","queryFactory",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$catalogSearchData",162],";",["T_WHITESPACE","\n        ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$searchResultFactory",163],["T_WHITESPACE"," ",163],["T_IS_IDENTICAL","===",163],["T_WHITESPACE"," ",163],["T_STRING","null",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","searchResultFactory",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Magento",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Framework",164],["T_NS_SEPARATOR","\\",164],["T_STRING","App",164],["T_NS_SEPARATOR","\\",164],["T_STRING","ObjectManager",164],["T_DOUBLE_COLON","::",164],["T_STRING","getInstance",164],"(",")",["T_WHITESPACE","\n                ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","get",165],"(",["T_NS_SEPARATOR","\\",165],["T_STRING","Magento",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Framework",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Api",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Search",165],["T_NS_SEPARATOR","\\",165],["T_STRING","SearchResultFactory",165],["T_DOUBLE_COLON","::",165],["T_CLASS","class",165],")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n        ",166],["T_STRING","parent",167],["T_DOUBLE_COLON","::",167],["T_STRING","__construct",167],"(",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$entityFactory",168],",",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$logger",169],",",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$fetchStrategy",170],",",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$eventManager",171],",",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$eavConfig",172],",",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$resource",173],",",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$eavEntityFactory",174],",",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$resourceHelper",175],",",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$universalFactory",176],",",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$storeManager",177],",",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$moduleManager",178],",",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$catalogProductFlatState",179],",",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$scopeConfig",180],",",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$productOptionFactory",181],",",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$catalogUrl",182],",",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$localeDate",183],",",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$customerSession",184],",",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$dateTime",185],",",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$groupManagement",186],",",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$connection",187],",",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$productLimitationFactory",188],",",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$metadataPool",189],["T_WHITESPACE","\n        ",189],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","requestBuilder",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$requestBuilder",191],";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","searchEngine",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$searchEngine",192],";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","temporaryStorageFactory",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$temporaryStorageFactory",193],";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","searchRequestName",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$searchRequestName",194],";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return \\Magento\\Search\\Api\\SearchInterface\n     *\/",197],["T_WHITESPACE","\n    ",200],["T_PRIVATE","private",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","getSearch",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","search",203],["T_WHITESPACE"," ",203],["T_IS_IDENTICAL","===",203],["T_WHITESPACE"," ",203],["T_STRING","null",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","search",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","ObjectManager",204],["T_DOUBLE_COLON","::",204],["T_STRING","getInstance",204],"(",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","get",204],"(",["T_NS_SEPARATOR","\\",204],["T_STRING","Magento",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Search",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Api",204],["T_NS_SEPARATOR","\\",204],["T_STRING","SearchInterface",204],["T_DOUBLE_COLON","::",204],["T_CLASS","class",204],")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n        ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","search",206],";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @param \\Magento\\Search\\Api\\SearchInterface $object\n     * @return void\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","setSearch",214],"(",["T_NS_SEPARATOR","\\",214],["T_STRING","Magento",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Search",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Api",214],["T_NS_SEPARATOR","\\",214],["T_STRING","SearchInterface",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$object",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","search",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$object",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return \\Magento\\Framework\\Api\\Search\\SearchCriteriaBuilder\n     *\/",219],["T_WHITESPACE","\n    ",222],["T_PRIVATE","private",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","getSearchCriteriaBuilder",223],"(",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","searchCriteriaBuilder",225],["T_WHITESPACE"," ",225],["T_IS_IDENTICAL","===",225],["T_WHITESPACE"," ",225],["T_STRING","null",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","searchCriteriaBuilder",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","ObjectManager",226],["T_DOUBLE_COLON","::",226],["T_STRING","getInstance",226],"(",")",["T_WHITESPACE","\n                ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","get",227],"(",["T_NS_SEPARATOR","\\",227],["T_STRING","Magento",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Framework",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Api",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Search",227],["T_NS_SEPARATOR","\\",227],["T_STRING","SearchCriteriaBuilder",227],["T_DOUBLE_COLON","::",227],["T_CLASS","class",227],")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","searchCriteriaBuilder",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @param \\Magento\\Framework\\Api\\Search\\SearchCriteriaBuilder $object\n     * @return void\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","setSearchCriteriaBuilder",237],"(",["T_NS_SEPARATOR","\\",237],["T_STRING","Magento",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Framework",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Api",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Search",237],["T_NS_SEPARATOR","\\",237],["T_STRING","SearchCriteriaBuilder",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$object",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","searchCriteriaBuilder",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$object",239],";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return \\Magento\\Framework\\Api\\FilterBuilder\n     *\/",242],["T_WHITESPACE","\n    ",245],["T_PRIVATE","private",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","getFilterBuilder",246],"(",")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","filterBuilder",248],["T_WHITESPACE"," ",248],["T_IS_IDENTICAL","===",248],["T_WHITESPACE"," ",248],["T_STRING","null",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","filterBuilder",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","ObjectManager",249],["T_DOUBLE_COLON","::",249],["T_STRING","getInstance",249],"(",")",["T_OBJECT_OPERATOR","->",249],["T_STRING","get",249],"(",["T_NS_SEPARATOR","\\",249],["T_STRING","Magento",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Framework",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Api",249],["T_NS_SEPARATOR","\\",249],["T_STRING","FilterBuilder",249],["T_DOUBLE_COLON","::",249],["T_CLASS","class",249],")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","filterBuilder",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @param \\Magento\\Framework\\Api\\FilterBuilder $object\n     * @return void\n     *\/",254],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","setFilterBuilder",259],"(",["T_NS_SEPARATOR","\\",259],["T_STRING","Magento",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Framework",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Api",259],["T_NS_SEPARATOR","\\",259],["T_STRING","FilterBuilder",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$object",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","filterBuilder",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$object",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Apply attribute filter to facet collection\n     *\n     * @param string $field\n     * @param null $condition\n     * @return $this\n     *\/",264],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","addFieldToFilter",271],"(",["T_VARIABLE","$field",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$condition",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","null",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","searchResult",273],["T_WHITESPACE"," ",273],["T_IS_NOT_IDENTICAL","!==",273],["T_WHITESPACE"," ",273],["T_STRING","null",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_THROW","throw",274],["T_WHITESPACE"," ",274],["T_NEW","new",274],["T_WHITESPACE"," ",274],["T_NS_SEPARATOR","\\",274],["T_STRING","RuntimeException",274],"(",["T_CONSTANT_ENCAPSED_STRING","'Illegal state'",274],")",";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n\n        ",275],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getSearchCriteriaBuilder",277],"(",")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getFilterBuilder",278],"(",")",";",["T_WHITESPACE","\n        ",278],["T_IF","if",279],["T_WHITESPACE"," ",279],"(","!",["T_STRING","is_array",279],"(",["T_VARIABLE","$condition",279],")",["T_WHITESPACE"," ",279],["T_BOOLEAN_OR","||",279],["T_WHITESPACE"," ",279],"!",["T_STRING","in_array",279],"(",["T_STRING","key",279],"(",["T_VARIABLE","$condition",279],")",",",["T_WHITESPACE"," ",279],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'to'",279],"]",",",["T_WHITESPACE"," ",279],["T_STRING","true",279],")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","filterBuilder",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","setField",280],"(",["T_VARIABLE","$field",280],")",";",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","filterBuilder",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","setValue",281],"(",["T_VARIABLE","$condition",281],")",";",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","searchCriteriaBuilder",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","addFilter",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","filterBuilder",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","create",282],"(",")",")",";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE"," ",283],["T_ELSE","else",283],["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(","!",["T_EMPTY","empty",284],"(",["T_VARIABLE","$condition",284],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",284],"]",")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n                ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","filterBuilder",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","setField",285],"(","\"",["T_CURLY_OPEN","{",285],["T_VARIABLE","$field",285],"}",["T_ENCAPSED_AND_WHITESPACE",".from",285],"\"",")",";",["T_WHITESPACE","\n                ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","filterBuilder",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","setValue",286],"(",["T_VARIABLE","$condition",286],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",286],"]",")",";",["T_WHITESPACE","\n                ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","searchCriteriaBuilder",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","addFilter",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","filterBuilder",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","create",287],"(",")",")",";",["T_WHITESPACE","\n            ",287],"}",["T_WHITESPACE","\n            ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(","!",["T_EMPTY","empty",289],"(",["T_VARIABLE","$condition",289],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",289],"]",")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n                ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","filterBuilder",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","setField",290],"(","\"",["T_CURLY_OPEN","{",290],["T_VARIABLE","$field",290],"}",["T_ENCAPSED_AND_WHITESPACE",".to",290],"\"",")",";",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","filterBuilder",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","setValue",291],"(",["T_VARIABLE","$condition",291],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",291],"]",")",";",["T_WHITESPACE","\n                ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","searchCriteriaBuilder",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","addFilter",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","filterBuilder",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","create",292],"(",")",")",";",["T_WHITESPACE","\n            ",292],"}",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE","\n        ",294],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_DOC_COMMENT","\/**\n     * Add search query filter\n     *\n     * @param string $query\n     * @return $this\n     *\/",298],["T_WHITESPACE","\n    ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","addSearchFilter",304],"(",["T_VARIABLE","$query",304],")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","queryText",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_STRING","trim",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","queryText",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","' '",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_VARIABLE","$query",306],")",";",["T_WHITESPACE","\n        ",306],["T_RETURN","return",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n\n    ",308],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",310],["T_WHITESPACE","\n    ",312],["T_PROTECTED","protected",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","_renderFiltersBefore",313],"(",")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getSearchCriteriaBuilder",315],"(",")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getFilterBuilder",316],"(",")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getSearch",317],"(",")",";",["T_WHITESPACE","\n\n        ",317],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","queryText",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","filterBuilder",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","setField",320],"(",["T_CONSTANT_ENCAPSED_STRING","'search_term'",320],")",";",["T_WHITESPACE","\n            ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","filterBuilder",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","setValue",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","queryText",321],")",";",["T_WHITESPACE","\n            ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","searchCriteriaBuilder",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","addFilter",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","filterBuilder",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","create",322],"(",")",")",";",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE","\n\n        ",323],["T_VARIABLE","$priceRangeCalculation",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_scopeConfig",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getValue",325],"(",["T_WHITESPACE","\n            ",325],["T_NS_SEPARATOR","\\",326],["T_STRING","Magento",326],["T_NS_SEPARATOR","\\",326],["T_STRING","Catalog",326],["T_NS_SEPARATOR","\\",326],["T_STRING","Model",326],["T_NS_SEPARATOR","\\",326],["T_STRING","Layer",326],["T_NS_SEPARATOR","\\",326],["T_STRING","Filter",326],["T_NS_SEPARATOR","\\",326],["T_STRING","Dynamic",326],["T_NS_SEPARATOR","\\",326],["T_STRING","AlgorithmFactory",326],["T_DOUBLE_COLON","::",326],["T_STRING","XML_PATH_RANGE_CALCULATION",326],",",["T_WHITESPACE","\n            ",326],["T_NS_SEPARATOR","\\",327],["T_STRING","Magento",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Store",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Model",327],["T_NS_SEPARATOR","\\",327],["T_STRING","ScopeInterface",327],["T_DOUBLE_COLON","::",327],["T_STRING","SCOPE_STORE",327],["T_WHITESPACE","\n        ",327],")",";",["T_WHITESPACE","\n        ",328],["T_IF","if",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$priceRangeCalculation",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","filterBuilder",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","setField",330],"(",["T_CONSTANT_ENCAPSED_STRING","'price_dynamic_algorithm'",330],")",";",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","filterBuilder",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","setValue",331],"(",["T_VARIABLE","$priceRangeCalculation",331],")",";",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","searchCriteriaBuilder",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","addFilter",332],"(",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","filterBuilder",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","create",332],"(",")",")",";",["T_WHITESPACE","\n        ",332],"}",["T_WHITESPACE","\n\n        ",333],["T_VARIABLE","$searchCriteria",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","searchCriteriaBuilder",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","create",335],"(",")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$searchCriteria",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","setRequestName",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","searchRequestName",336],")",";",["T_WHITESPACE","\n        ",336],["T_TRY","try",337],["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n            ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","searchResult",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getSearch",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","search",338],"(",["T_VARIABLE","$searchCriteria",338],")",";",["T_WHITESPACE","\n        ",338],"}",["T_WHITESPACE"," ",339],["T_CATCH","catch",339],["T_WHITESPACE"," ",339],"(",["T_STRING","EmptyRequestDataException",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$e",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Api\\Search\\SearchResultInterface $searchResult *\/",340],["T_WHITESPACE","\n            ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","searchResult",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","searchResultFactory",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","create",341],"(",")",["T_OBJECT_OPERATOR","->",341],["T_STRING","setItems",341],"(","[","]",")",";",["T_WHITESPACE","\n        ",341],"}",["T_WHITESPACE"," ",342],["T_CATCH","catch",342],["T_WHITESPACE"," ",342],"(",["T_STRING","NonExistingRequestNameException",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$e",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_logger",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","error",343],"(",["T_VARIABLE","$e",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getMessage",343],"(",")",")",";",["T_WHITESPACE","\n            ",343],["T_THROW","throw",344],["T_WHITESPACE"," ",344],["T_NEW","new",344],["T_WHITESPACE"," ",344],["T_STRING","LocalizedException",344],"(",["T_STRING","__",344],"(",["T_CONSTANT_ENCAPSED_STRING","'Sorry, something went wrong. You can find out more in the error log.'",344],")",")",";",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE","\n\n        ",345],["T_VARIABLE","$temporaryStorage",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","temporaryStorageFactory",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","create",347],"(",")",";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$table",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$temporaryStorage",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","storeApiDocuments",348],"(",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","searchResult",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getItems",348],"(",")",")",";",["T_WHITESPACE","\n\n        ",348],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getSelect",350],"(",")",["T_OBJECT_OPERATOR","->",350],["T_STRING","joinInner",350],"(",["T_WHITESPACE","\n            ",350],"[",["T_WHITESPACE","\n                ",351],["T_CONSTANT_ENCAPSED_STRING","'search_result'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$table",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getName",352],"(",")",",",["T_WHITESPACE","\n            ",352],"]",",",["T_WHITESPACE","\n            ",353],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id = search_result.'",354],["T_WHITESPACE"," ",354],".",["T_WHITESPACE"," ",354],["T_STRING","TemporaryStorage",354],["T_DOUBLE_COLON","::",354],["T_STRING","FIELD_ENTITY_ID",354],",",["T_WHITESPACE","\n            ",354],"[","]",["T_WHITESPACE","\n        ",355],")",";",["T_WHITESPACE","\n\n        ",356],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_totalRecords",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","searchResult",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getTotalCount",358],"(",")",";",["T_WHITESPACE","\n\n        ",358],["T_IF","if",360],["T_WHITESPACE"," ",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","order",360],["T_WHITESPACE"," ",360],["T_BOOLEAN_AND","&&",360],["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'relevance'",360],["T_WHITESPACE"," ",360],["T_IS_IDENTICAL","===",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","order",360],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",360],"]",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n            ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getSelect",361],"(",")",["T_OBJECT_OPERATOR","->",361],["T_STRING","order",361],"(",["T_CONSTANT_ENCAPSED_STRING","'search_result.'",361],".",["T_WHITESPACE"," ",361],["T_STRING","TemporaryStorage",361],["T_DOUBLE_COLON","::",361],["T_STRING","FIELD_SCORE",361],["T_WHITESPACE"," ",361],".",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","' '",361],["T_WHITESPACE"," ",361],".",["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","order",361],"[",["T_CONSTANT_ENCAPSED_STRING","'dir'",361],"]",")",";",["T_WHITESPACE","\n        ",361],"}",["T_WHITESPACE","\n        ",362],["T_RETURN","return",363],["T_WHITESPACE"," ",363],["T_STRING","parent",363],["T_DOUBLE_COLON","::",363],["T_STRING","_renderFiltersBefore",363],"(",")",";",["T_WHITESPACE","\n    ",363],"}",["T_WHITESPACE","\n\n    ",364],["T_DOC_COMMENT","\/**\n     * @return $this\n     *\/",366],["T_WHITESPACE","\n    ",368],["T_PROTECTED","protected",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","_renderFilters",369],"(",")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_filters",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],"[","]",";",["T_WHITESPACE","\n        ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_STRING","parent",372],["T_DOUBLE_COLON","::",372],["T_STRING","_renderFilters",372],"(",")",";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * Set Order field\n     *\n     * @param string $attribute\n     * @param string $dir\n     * @return $this\n     *\/",375],["T_WHITESPACE","\n    ",381],["T_PUBLIC","public",382],["T_WHITESPACE"," ",382],["T_FUNCTION","function",382],["T_WHITESPACE"," ",382],["T_STRING","setOrder",382],"(",["T_VARIABLE","$attribute",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$dir",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","Select",382],["T_DOUBLE_COLON","::",382],["T_STRING","SQL_DESC",382],")",["T_WHITESPACE","\n    ",382],"{",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","order",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",384],["T_WHITESPACE"," ",384],["T_DOUBLE_ARROW","=>",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$attribute",384],",",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'dir'",384],["T_WHITESPACE"," ",384],["T_DOUBLE_ARROW","=>",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$dir",384],"]",";",["T_WHITESPACE","\n        ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$attribute",385],["T_WHITESPACE"," ",385],["T_IS_NOT_IDENTICAL","!==",385],["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'relevance'",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n            ",385],["T_STRING","parent",386],["T_DOUBLE_COLON","::",386],["T_STRING","setOrder",386],"(",["T_VARIABLE","$attribute",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$dir",386],")",";",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_DOC_COMMENT","\/**\n     * Stub method for compatibility with other search engines\n     *\n     * @return $this\n     *\/",391],["T_WHITESPACE","\n    ",395],["T_PUBLIC","public",396],["T_WHITESPACE"," ",396],["T_FUNCTION","function",396],["T_WHITESPACE"," ",396],["T_STRING","setGeneralDefaultQuery",396],"(",")",["T_WHITESPACE","\n    ",396],"{",["T_WHITESPACE","\n        ",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Return field faceted data from faceted search result\n     *\n     * @param string $field\n     * @return array\n     * @throws StateException\n     *\/",401],["T_WHITESPACE","\n    ",407],["T_PUBLIC","public",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","getFacetedData",408],"(",["T_VARIABLE","$field",408],")",["T_WHITESPACE","\n    ",408],"{",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_renderFilters",410],"(",")",";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$result",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],"[","]",";",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$aggregations",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","searchResult",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","getAggregations",412],"(",")",";",["T_WHITESPACE","\n        ",412],["T_COMMENT","\/\/ This behavior is for case with empty object when we got EmptyRequestDataException\n",413],["T_WHITESPACE","        ",414],["T_IF","if",414],["T_WHITESPACE"," ",414],"(",["T_STRING","null",414],["T_WHITESPACE"," ",414],["T_IS_NOT_IDENTICAL","!==",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$aggregations",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n            ",414],["T_VARIABLE","$bucket",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$aggregations",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getBucket",415],"(",["T_VARIABLE","$field",415],["T_WHITESPACE"," ",415],".",["T_WHITESPACE"," ",415],["T_STRING","RequestGenerator",415],["T_DOUBLE_COLON","::",415],["T_STRING","BUCKET_SUFFIX",415],")",";",["T_WHITESPACE","\n            ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$bucket",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n                ",416],["T_FOREACH","foreach",417],["T_WHITESPACE"," ",417],"(",["T_VARIABLE","$bucket",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getValues",417],"(",")",["T_WHITESPACE"," ",417],["T_AS","as",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$value",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n                    ",417],["T_VARIABLE","$metrics",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_VARIABLE","$value",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getMetrics",418],"(",")",";",["T_WHITESPACE","\n                    ",418],["T_VARIABLE","$result",419],"[",["T_VARIABLE","$metrics",419],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",419],"]","]",["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$metrics",419],";",["T_WHITESPACE","\n                ",419],"}",["T_WHITESPACE","\n            ",420],"}",["T_WHITESPACE"," ",421],["T_ELSE","else",421],["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n                ",421],["T_THROW","throw",422],["T_WHITESPACE"," ",422],["T_NEW","new",422],["T_WHITESPACE"," ",422],["T_STRING","StateException",422],"(",["T_STRING","__",422],"(",["T_CONSTANT_ENCAPSED_STRING","'Bucket does not exist'",422],")",")",";",["T_WHITESPACE","\n            ",422],"}",["T_WHITESPACE","\n        ",423],"}",["T_WHITESPACE","\n        ",424],["T_RETURN","return",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$result",425],";",["T_WHITESPACE","\n    ",425],"}",["T_WHITESPACE","\n\n    ",426],["T_DOC_COMMENT","\/**\n     * Specify category filter for product collection\n     *\n     * @param \\Magento\\Catalog\\Model\\Category $category\n     * @return $this\n     *\/",428],["T_WHITESPACE","\n    ",433],["T_PUBLIC","public",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","addCategoryFilter",434],"(",["T_NS_SEPARATOR","\\",434],["T_STRING","Magento",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Catalog",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Model",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Category",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$category",434],")",["T_WHITESPACE","\n    ",434],"{",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","addFieldToFilter",436],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",436],",",["T_WHITESPACE"," ",436],["T_VARIABLE","$category",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getId",436],"(",")",")",";",["T_WHITESPACE","\n        ",436],["T_RETURN","return",437],["T_WHITESPACE"," ",437],["T_STRING","parent",437],["T_DOUBLE_COLON","::",437],["T_STRING","addCategoryFilter",437],"(",["T_VARIABLE","$category",437],")",";",["T_WHITESPACE","\n    ",437],"}",["T_WHITESPACE","\n\n    ",438],["T_DOC_COMMENT","\/**\n     * Set product visibility filter for enabled products\n     *\n     * @param array $visibility\n     * @return $this\n     *\/",440],["T_WHITESPACE","\n    ",445],["T_PUBLIC","public",446],["T_WHITESPACE"," ",446],["T_FUNCTION","function",446],["T_WHITESPACE"," ",446],["T_STRING","setVisibility",446],"(",["T_VARIABLE","$visibility",446],")",["T_WHITESPACE","\n    ",446],"{",["T_WHITESPACE","\n        ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","addFieldToFilter",448],"(",["T_CONSTANT_ENCAPSED_STRING","'visibility'",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$visibility",448],")",";",["T_WHITESPACE","\n        ",448],["T_RETURN","return",449],["T_WHITESPACE"," ",449],["T_STRING","parent",449],["T_DOUBLE_COLON","::",449],["T_STRING","setVisibility",449],"(",["T_VARIABLE","$visibility",449],")",";",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n",450],"}",["T_WHITESPACE","\n",451]]