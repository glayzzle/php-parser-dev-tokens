[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogSearch",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adapter",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Mysql",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Filter",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResourceModel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Eav",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Attribute",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CatalogInventory",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Stock",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CatalogSearch",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Search",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TableMapper",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Eav",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Config",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","App",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Config",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ScopeConfigInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","App",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ObjectManager",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","App",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ResourceConnection",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","App",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ScopeResolverInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DB",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Adapter",18],["T_NS_SEPARATOR","\\",18],["T_STRING","AdapterInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Framework",19],["T_NS_SEPARATOR","\\",19],["T_STRING","EntityManager",19],["T_NS_SEPARATOR","\\",19],["T_STRING","MetadataPool",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Framework",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Search",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Adapter",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Mysql",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ConditionManager",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Search",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Adapter",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Mysql",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Filter",21],["T_NS_SEPARATOR","\\",21],["T_STRING","PreprocessorInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Framework",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Search",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Request",22],["T_NS_SEPARATOR","\\",22],["T_STRING","FilterInterface",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Store",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ScopeInterface",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Store",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Store",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",26],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","Preprocessor",29],["T_WHITESPACE"," ",29],["T_IMPLEMENTS","implements",29],["T_WHITESPACE"," ",29],["T_STRING","PreprocessorInterface",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_DOC_COMMENT","\/**\n     * @var ConditionManager\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$conditionManager",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var ScopeResolverInterface\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$scopeResolver",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var Config\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$config",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var Resource\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$resource",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$attributePrefix",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var AdapterInterface\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PRIVATE","private",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$connection",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var MetadataPool\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PRIVATE","private",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$metadataPool",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @var ScopeConfigInterface\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PRIVATE","private",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$scopeConfig",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @var AliasResolver\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_PRIVATE","private",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$aliasResolver",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @param ConditionManager $conditionManager\n     * @param ScopeResolverInterface $scopeResolver\n     * @param Config $config\n     * @param ResourceConnection $resource\n     * @param TableMapper $tableMapper\n     * @param string $attributePrefix\n     * @param ScopeConfigInterface $scopeConfig\n     * @param AliasResolver $aliasResolver\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",76],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","__construct",87],"(",["T_WHITESPACE","\n        ",87],["T_STRING","ConditionManager",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$conditionManager",88],",",["T_WHITESPACE","\n        ",88],["T_STRING","ScopeResolverInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$scopeResolver",89],",",["T_WHITESPACE","\n        ",89],["T_STRING","Config",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$config",90],",",["T_WHITESPACE","\n        ",90],["T_STRING","ResourceConnection",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$resource",91],",",["T_WHITESPACE","\n        ",91],["T_STRING","TableMapper",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$tableMapper",92],",",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$attributePrefix",93],",",["T_WHITESPACE","\n        ",93],["T_STRING","ScopeConfigInterface",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$scopeConfig",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","null",94],",",["T_WHITESPACE","\n        ",94],["T_STRING","AliasResolver",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$aliasResolver",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","null",95],["T_WHITESPACE","\n    ",95],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","conditionManager",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$conditionManager",97],";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","scopeResolver",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$scopeResolver",98],";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","config",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$config",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","resource",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$resource",100],";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","connection",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$resource",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getConnection",101],"(",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","attributePrefix",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$attributePrefix",102],";",["T_WHITESPACE","\n\n        ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_STRING","null",104],["T_WHITESPACE"," ",104],["T_IS_IDENTICAL","===",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$scopeConfig",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$scopeConfig",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","ObjectManager",105],["T_DOUBLE_COLON","::",105],["T_STRING","getInstance",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",["T_STRING","ScopeConfigInterface",105],["T_DOUBLE_COLON","::",105],["T_CLASS","class",105],")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_STRING","null",107],["T_WHITESPACE"," ",107],["T_IS_IDENTICAL","===",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$aliasResolver",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$aliasResolver",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","ObjectManager",108],["T_DOUBLE_COLON","::",108],["T_STRING","getInstance",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","get",108],"(",["T_STRING","AliasResolver",108],["T_DOUBLE_COLON","::",108],["T_CLASS","class",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","scopeConfig",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$scopeConfig",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","aliasResolver",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$aliasResolver",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",115],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","process",118],"(",["T_STRING","FilterInterface",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$filter",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$isNegation",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$query",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","processQueryWithField",120],"(",["T_VARIABLE","$filter",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$isNegation",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$query",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * @param FilterInterface $filter\n     * @param bool $isNegation\n     * @param string $query\n     * @return string\n     *\/",123],["T_WHITESPACE","\n    ",128],["T_PRIVATE","private",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","processQueryWithField",129],"(",["T_STRING","FilterInterface",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$filter",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$isNegation",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$query",129],")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_DOC_COMMENT","\/** @var Attribute $attribute *\/",131],["T_WHITESPACE","\n        ",131],["T_VARIABLE","$attribute",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","config",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getAttribute",132],"(",["T_STRING","Product",132],["T_DOUBLE_COLON","::",132],["T_STRING","ENTITY",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$filter",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getField",132],"(",")",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$linkIdField",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMetadataPool",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getMetadata",133],"(",["T_STRING","ProductInterface",133],["T_DOUBLE_COLON","::",133],["T_CLASS","class",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getLinkField",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$filter",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getField",134],"(",")",["T_WHITESPACE"," ",134],["T_IS_IDENTICAL","===",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'price'",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$resultQuery",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","str_replace",135],"(",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","connection",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","quoteIdentifier",136],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",136],")",",",["T_WHITESPACE","\n                ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","connection",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","quoteIdentifier",137],"(",["T_CONSTANT_ENCAPSED_STRING","'price_index.min_price'",137],")",",",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$query",138],["T_WHITESPACE","\n            ",138],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE"," ",140],["T_ELSEIF","elseif",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$filter",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getField",140],"(",")",["T_WHITESPACE"," ",140],["T_IS_IDENTICAL","===",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'category_ids'",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'category_ids_index.category_id = '",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_INT_CAST","(int)",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$filter",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getValue",141],"(",")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE"," ",142],["T_ELSEIF","elseif",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$attribute",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","isStatic",142],"(",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$alias",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","aliasResolver",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getAlias",143],"(",["T_VARIABLE","$filter",143],")",";",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$resultQuery",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","str_replace",144],"(",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","connection",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","quoteIdentifier",145],"(",["T_VARIABLE","$attribute",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getAttributeCode",145],"(",")",")",",",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","connection",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","quoteIdentifier",146],"(",["T_VARIABLE","$alias",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'.'",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$attribute",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getAttributeCode",146],"(",")",")",",",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$query",147],["T_WHITESPACE","\n            ",147],")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE"," ",149],["T_ELSEIF","elseif",149],["T_WHITESPACE"," ",149],"(",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$filter",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getType",150],"(",")",["T_WHITESPACE"," ",150],["T_IS_IDENTICAL","===",150],["T_WHITESPACE"," ",150],["T_STRING","FilterInterface",150],["T_DOUBLE_COLON","::",150],["T_STRING","TYPE_TERM",150],["T_WHITESPACE"," ",150],["T_BOOLEAN_AND","&&",150],["T_WHITESPACE","\n            ",150],["T_STRING","in_array",151],"(",["T_VARIABLE","$attribute",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getFrontendInput",151],"(",")",",",["T_WHITESPACE"," ",151],"[",["T_CONSTANT_ENCAPSED_STRING","'select'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",151],"]",",",["T_WHITESPACE"," ",151],["T_STRING","true",151],")",["T_WHITESPACE","\n        ",151],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$resultQuery",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","processTermSelect",153],"(",["T_VARIABLE","$filter",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$isNegation",153],")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE"," ",154],["T_ELSEIF","elseif",154],["T_WHITESPACE"," ",154],"(",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$filter",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getType",155],"(",")",["T_WHITESPACE"," ",155],["T_IS_IDENTICAL","===",155],["T_WHITESPACE"," ",155],["T_STRING","FilterInterface",155],["T_DOUBLE_COLON","::",155],["T_STRING","TYPE_RANGE",155],["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE","\n            ",155],["T_STRING","in_array",156],"(",["T_VARIABLE","$attribute",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getBackendType",156],"(",")",",",["T_WHITESPACE"," ",156],"[",["T_CONSTANT_ENCAPSED_STRING","'decimal'",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'int'",156],"]",",",["T_WHITESPACE"," ",156],["T_STRING","true",156],")",["T_WHITESPACE","\n        ",156],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$resultQuery",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","processRangeNumeric",158],"(",["T_VARIABLE","$filter",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$query",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$attribute",158],")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE"," ",159],["T_ELSE","else",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$table",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$attribute",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getBackendTable",160],"(",")",";",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$select",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","connection",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","select",161],"(",")",";",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$ifNullCondition",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","connection",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getIfNullSql",162],"(",["T_CONSTANT_ENCAPSED_STRING","'current_store.value'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'main_table.value'",162],")",";",["T_WHITESPACE","\n\n            ",162],["T_VARIABLE","$currentStoreId",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","scopeResolver",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getScope",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","getId",164],"(",")",";",["T_WHITESPACE","\n\n            ",164],["T_VARIABLE","$select",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","from",166],"(","[",["T_CONSTANT_ENCAPSED_STRING","'e'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","resource",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getTableName",166],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",166],")","]",",",["T_WHITESPACE"," ",166],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",166],"]",")",["T_WHITESPACE","\n                ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","join",167],"(",["T_WHITESPACE","\n                    ",167],"[",["T_CONSTANT_ENCAPSED_STRING","'main_table'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$table",168],"]",",",["T_WHITESPACE","\n                    ",168],"\"",["T_ENCAPSED_AND_WHITESPACE","main_table.",169],["T_CURLY_OPEN","{",169],["T_VARIABLE","$linkIdField",169],"}",["T_ENCAPSED_AND_WHITESPACE"," = e.",169],["T_CURLY_OPEN","{",169],["T_VARIABLE","$linkIdField",169],"}","\"",",",["T_WHITESPACE","\n                    ",169],"[","]",["T_WHITESPACE","\n                ",170],")",["T_WHITESPACE","\n                ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","joinLeft",172],"(",["T_WHITESPACE","\n                    ",172],"[",["T_CONSTANT_ENCAPSED_STRING","'current_store'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$table",173],"]",",",["T_WHITESPACE","\n                    ",173],["T_CONSTANT_ENCAPSED_STRING","'current_store.attribute_id = main_table.attribute_id AND current_store.store_id = '",174],["T_WHITESPACE","\n                    ",174],".",["T_WHITESPACE"," ",175],["T_VARIABLE","$currentStoreId",175],",",["T_WHITESPACE","\n                    ",175],["T_STRING","null",176],["T_WHITESPACE","\n                ",176],")",["T_WHITESPACE","\n                ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","columns",178],"(","[",["T_VARIABLE","$filter",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getField",178],"(",")",["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$ifNullCondition",178],"]",")",["T_WHITESPACE","\n                ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","where",179],"(",["T_WHITESPACE","\n                    ",179],["T_CONSTANT_ENCAPSED_STRING","'main_table.attribute_id = ?'",180],",",["T_WHITESPACE","\n                    ",180],["T_VARIABLE","$attribute",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getAttributeId",181],"(",")",["T_WHITESPACE","\n                ",181],")",["T_WHITESPACE","\n                ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","where",183],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.store_id = ?'",183],",",["T_WHITESPACE"," ",183],["T_STRING","Store",183],["T_DOUBLE_COLON","::",183],["T_STRING","DEFAULT_STORE_ID",183],")",["T_WHITESPACE","\n                ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","having",184],"(",["T_VARIABLE","$query",184],")",";",["T_WHITESPACE","\n\n            ",184],["T_VARIABLE","$resultQuery",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'search_index.entity_id IN (\n                select entity_id from  '",186],["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","conditionManager",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","wrapBrackets",187],"(",["T_VARIABLE","$select",187],")",["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","' as filter\n            )'",187],";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n\n        ",189],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$resultQuery",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * @param FilterInterface $filter\n     * @param string $query\n     * @param Attribute $attribute\n     * @return string\n     *\/",194],["T_WHITESPACE","\n    ",199],["T_PRIVATE","private",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","processRangeNumeric",200],"(",["T_STRING","FilterInterface",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$filter",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$query",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$attribute",200],")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$tableSuffix",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$attribute",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getBackendType",202],"(",")",["T_WHITESPACE"," ",202],["T_IS_IDENTICAL","===",202],["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'decimal'",202],["T_WHITESPACE"," ",202],"?",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'_decimal'",202],["T_WHITESPACE"," ",202],":",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","''",202],";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$table",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","resource",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getTableName",203],"(","\"",["T_ENCAPSED_AND_WHITESPACE","catalog_product_index_eav",203],["T_CURLY_OPEN","{",203],["T_VARIABLE","$tableSuffix",203],"}","\"",")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$select",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","connection",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","select",204],"(",")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$entityField",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getMetadataPool",205],"(",")",["T_OBJECT_OPERATOR","->",205],["T_STRING","getMetadata",205],"(",["T_STRING","ProductInterface",205],["T_DOUBLE_COLON","::",205],["T_CLASS","class",205],")",["T_OBJECT_OPERATOR","->",205],["T_STRING","getIdentifierField",205],"(",")",";",["T_WHITESPACE","\n\n        ",205],["T_VARIABLE","$currentStoreId",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","scopeResolver",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getScope",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getId",207],"(",")",";",["T_WHITESPACE","\n\n        ",207],["T_VARIABLE","$select",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","from",209],"(","[",["T_CONSTANT_ENCAPSED_STRING","'e'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","resource",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getTableName",209],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",209],")","]",",",["T_WHITESPACE"," ",209],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",209],"]",")",["T_WHITESPACE","\n            ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","join",210],"(",["T_WHITESPACE","\n                ",210],"[",["T_CONSTANT_ENCAPSED_STRING","'main_table'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$table",211],"]",",",["T_WHITESPACE","\n                ",211],"\"",["T_ENCAPSED_AND_WHITESPACE","main_table.",212],["T_CURLY_OPEN","{",212],["T_VARIABLE","$entityField",212],"}",["T_ENCAPSED_AND_WHITESPACE"," = e.",212],["T_CURLY_OPEN","{",212],["T_VARIABLE","$entityField",212],"}","\"",",",["T_WHITESPACE","\n                ",212],"[","]",["T_WHITESPACE","\n            ",213],")",["T_WHITESPACE","\n            ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","columns",215],"(","[",["T_VARIABLE","$filter",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getField",215],"(",")",["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'main_table.value'",215],"]",")",["T_WHITESPACE","\n            ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","where",216],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.attribute_id = ?'",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$attribute",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getAttributeId",216],"(",")",")",["T_WHITESPACE","\n            ",216],["T_OBJECT_OPERATOR","->",217],["T_STRING","where",217],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.store_id = ?'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$currentStoreId",217],")",["T_WHITESPACE","\n            ",217],["T_OBJECT_OPERATOR","->",218],["T_STRING","having",218],"(",["T_VARIABLE","$query",218],")",";",["T_WHITESPACE","\n\n        ",218],["T_VARIABLE","$resultQuery",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'search_index.entity_id IN (\n                select entity_id from  '",220],["T_WHITESPACE"," ",221],".",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","conditionManager",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","wrapBrackets",221],"(",["T_VARIABLE","$select",221],")",["T_WHITESPACE"," ",221],".",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","' as filter\n            )'",221],";",["T_WHITESPACE","\n\n        ",222],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$resultQuery",224],";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * @param FilterInterface $filter\n     * @param bool $isNegation\n     * @return string\n     *\/",227],["T_WHITESPACE","\n    ",231],["T_PRIVATE","private",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","processTermSelect",232],"(",["T_STRING","FilterInterface",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$filter",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$isNegation",232],")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$alias",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","aliasResolver",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getAlias",234],"(",["T_VARIABLE","$filter",234],")",";",["T_WHITESPACE","\n        ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_STRING","is_array",235],"(",["T_VARIABLE","$filter",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getValue",235],"(",")",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$value",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","sprintf",236],"(",["T_WHITESPACE","\n                ",236],["T_CONSTANT_ENCAPSED_STRING","'%s IN (%s)'",237],",",["T_WHITESPACE","\n                ",237],"(",["T_VARIABLE","$isNegation",238],["T_WHITESPACE"," ",238],"?",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'NOT'",238],["T_WHITESPACE"," ",238],":",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","''",238],")",",",["T_WHITESPACE","\n                ",238],["T_STRING","implode",239],"(",["T_CONSTANT_ENCAPSED_STRING","','",239],",",["T_WHITESPACE"," ",239],["T_STRING","array_map",239],"(","[",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","connection",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'quote'",239],"]",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$filter",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getValue",239],"(",")",")",")",["T_WHITESPACE","\n            ",239],")",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE"," ",241],["T_ELSE","else",241],["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$value",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$isNegation",242],["T_WHITESPACE"," ",242],"?",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'!'",242],["T_WHITESPACE"," ",242],":",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","''",242],")",["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'= '",242],["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","connection",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","quote",242],"(",["T_VARIABLE","$filter",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getValue",242],"(",")",")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$resultQuery",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","sprintf",244],"(",["T_WHITESPACE","\n            ",244],["T_CONSTANT_ENCAPSED_STRING","'%1$s.value %2$s'",245],",",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$alias",246],",",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$value",247],["T_WHITESPACE","\n        ",247],")",";",["T_WHITESPACE","\n\n        ",248],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","isAddStockFilter",250],"(",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_VARIABLE","$resultQuery",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","sprintf",251],"(",["T_WHITESPACE","\n                ",251],["T_CONSTANT_ENCAPSED_STRING","'%1$s AND %2$s%3$s.stock_status = %4$s'",252],",",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$resultQuery",253],",",["T_WHITESPACE","\n                ",253],["T_VARIABLE","$alias",254],",",["T_WHITESPACE","\n                ",254],["T_STRING","AliasResolver",255],["T_DOUBLE_COLON","::",255],["T_STRING","STOCK_FILTER_SUFFIX",255],",",["T_WHITESPACE","\n                ",255],["T_STRING","Stock",256],["T_DOUBLE_COLON","::",256],["T_STRING","STOCK_IN_STOCK",256],["T_WHITESPACE","\n            ",256],")",";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n\n        ",258],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$resultQuery",260],";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * @return bool\n     *\/",263],["T_WHITESPACE","\n    ",265],["T_PRIVATE","private",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","isAddStockFilter",266],"(",")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$isShowOutOfStock",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","scopeConfig",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","isSetFlag",268],"(",["T_WHITESPACE","\n            ",268],["T_CONSTANT_ENCAPSED_STRING","'cataloginventory\/options\/show_out_of_stock'",269],",",["T_WHITESPACE","\n            ",269],["T_STRING","ScopeInterface",270],["T_DOUBLE_COLON","::",270],["T_STRING","SCOPE_STORE",270],["T_WHITESPACE","\n        ",270],")",";",["T_WHITESPACE","\n        ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_STRING","false",272],["T_WHITESPACE"," ",272],["T_IS_IDENTICAL","===",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$isShowOutOfStock",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Get product metadata pool\n     *\n     * @return \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",275],["T_WHITESPACE","\n    ",279],["T_PROTECTED","protected",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","getMetadataPool",280],"(",")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(","!",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","metadataPool",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","metadataPool",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Magento",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Framework",283],["T_NS_SEPARATOR","\\",283],["T_STRING","App",283],["T_NS_SEPARATOR","\\",283],["T_STRING","ObjectManager",283],["T_DOUBLE_COLON","::",283],["T_STRING","getInstance",283],"(",")",["T_WHITESPACE","\n                ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","get",284],"(",["T_NS_SEPARATOR","\\",284],["T_STRING","Magento",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Framework",284],["T_NS_SEPARATOR","\\",284],["T_STRING","EntityManager",284],["T_NS_SEPARATOR","\\",284],["T_STRING","MetadataPool",284],["T_DOUBLE_COLON","::",284],["T_CLASS","class",284],")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","metadataPool",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n",287],"}",["T_WHITESPACE","\n",288]]