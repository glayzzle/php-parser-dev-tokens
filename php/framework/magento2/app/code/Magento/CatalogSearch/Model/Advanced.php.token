[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogSearch",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Visibility",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ProductFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceModel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Eav",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Attribute",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResourceModel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Attribute",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CollectionFactory",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","AttributeCollectionFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Catalog",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResourceModel",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Product",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CollectionFactory",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","ProductCollectionFactory",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CatalogSearch",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ResourceModel",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Advanced",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Collection",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","ProductCollection",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","CatalogSearch",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResourceModel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AdvancedFactory",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Directory",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","CurrencyFactory",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Eav",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Entity",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Attribute",17],["T_WHITESPACE"," ",17],["T_AS","as",17],["T_WHITESPACE"," ",17],["T_STRING","EntityAttribute",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Context",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Framework",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Exception",19],["T_NS_SEPARATOR","\\",19],["T_STRING","LocalizedException",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Framework",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Registry",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Store",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","StoreManagerInterface",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Catalog advanced search model\n * @method \\Magento\\CatalogSearch\\Model\\ResourceModel\\Advanced getResource()\n * @method int getEntityTypeId()\n * @method \\Magento\\CatalogSearch\\Model\\Advanced setEntityTypeId(int $value)\n * @method int getAttributeSetId()\n * @method \\Magento\\CatalogSearch\\Model\\Advanced setAttributeSetId(int $value)\n * @method string getTypeId()\n * @method \\Magento\\CatalogSearch\\Model\\Advanced setTypeId(string $value)\n * @method string getSku()\n * @method \\Magento\\CatalogSearch\\Model\\Advanced setSku(string $value)\n * @method int getHasOptions()\n * @method \\Magento\\CatalogSearch\\Model\\Advanced setHasOptions(int $value)\n * @method int getRequiredOptions()\n * @method \\Magento\\CatalogSearch\\Model\\Advanced setRequiredOptions(int $value)\n * @method string getCreatedAt()\n * @method \\Magento\\CatalogSearch\\Model\\Advanced setCreatedAt(string $value)\n * @method string getUpdatedAt()\n * @method \\Magento\\CatalogSearch\\Model\\Advanced setUpdatedAt(string $value)\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",23],["T_WHITESPACE","\n",45],["T_CLASS","class",46],["T_WHITESPACE"," ",46],["T_STRING","Advanced",46],["T_WHITESPACE"," ",46],["T_EXTENDS","extends",46],["T_WHITESPACE"," ",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Framework",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","AbstractModel",46],["T_WHITESPACE","\n",46],"{",["T_WHITESPACE","\n    ",47],["T_DOC_COMMENT","\/**\n     * User friendly search criteria list\n     *\n     * @var array\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_searchCriterias",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"[","]",";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Product collection\n     *\n     * @var ProductCollection\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_productCollection",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Initialize dependencies\n     *\n     * @var Config\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_catalogConfig",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Catalog product visibility\n     *\n     * @var Visibility\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_catalogProductVisibility",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Attribute collection factory\n     *\n     * @var AttributeCollectionFactory\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_attributeCollectionFactory",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_storeManager",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Product factory\n     *\n     * @var ProductFactory\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$_productFactory",95],";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Currency factory\n     *\n     * @var CurrencyFactory\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$_currencyFactory",102],";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Advanced Collection Factory\n     *\n     * @var ProductCollectionFactory\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$productCollectionFactory",109],";",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Construct\n     *\n     * @param Context $context\n     * @param Registry $registry\n     * @param AttributeCollectionFactory $attributeCollectionFactory\n     * @param Visibility $catalogProductVisibility\n     * @param Config $catalogConfig\n     * @param CurrencyFactory $currencyFactory\n     * @param ProductFactory $productFactory\n     * @param StoreManagerInterface $storeManager\n     * @param ProductCollectionFactory $productCollectionFactory\n     * @param AdvancedFactory $advancedFactory\n     * @param array $data\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",111],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","__construct",128],"(",["T_WHITESPACE","\n        ",128],["T_STRING","Context",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$context",129],",",["T_WHITESPACE","\n        ",129],["T_STRING","Registry",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$registry",130],",",["T_WHITESPACE","\n        ",130],["T_STRING","AttributeCollectionFactory",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$attributeCollectionFactory",131],",",["T_WHITESPACE","\n        ",131],["T_STRING","Visibility",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$catalogProductVisibility",132],",",["T_WHITESPACE","\n        ",132],["T_STRING","Config",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$catalogConfig",133],",",["T_WHITESPACE","\n        ",133],["T_STRING","CurrencyFactory",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$currencyFactory",134],",",["T_WHITESPACE","\n        ",134],["T_STRING","ProductFactory",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$productFactory",135],",",["T_WHITESPACE","\n        ",135],["T_STRING","StoreManagerInterface",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$storeManager",136],",",["T_WHITESPACE","\n        ",136],["T_STRING","ProductCollectionFactory",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$productCollectionFactory",137],",",["T_WHITESPACE","\n        ",137],["T_STRING","AdvancedFactory",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$advancedFactory",138],",",["T_WHITESPACE","\n        ",138],["T_ARRAY","array",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$data",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],"[","]",["T_WHITESPACE","\n    ",139],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_attributeCollectionFactory",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$attributeCollectionFactory",141],";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_catalogProductVisibility",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$catalogProductVisibility",142],";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_catalogConfig",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$catalogConfig",143],";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_currencyFactory",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$currencyFactory",144],";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_productFactory",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$productFactory",145],";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_storeManager",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$storeManager",146],";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","productCollectionFactory",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$productCollectionFactory",147],";",["T_WHITESPACE","\n        ",147],["T_STRING","parent",148],["T_DOUBLE_COLON","::",148],["T_STRING","__construct",148],"(",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$context",149],",",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$registry",150],",",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$advancedFactory",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","create",151],"(",")",",",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","productCollectionFactory",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","create",152],"(",")",",",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$data",153],["T_WHITESPACE","\n        ",153],")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Add advanced search filters to product collection\n     *\n     * @param   array $values\n     * @return  $this\n     * @throws LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",157],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","addFilters",166],"(",["T_VARIABLE","$values",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$attributes",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getAttributes",168],"(",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$allConditions",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],"[","]",";",["T_WHITESPACE","\n\n        ",169],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$attributes",171],["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$attribute",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_COMMENT","\/* @var $attribute Attribute *\/",172],["T_WHITESPACE","\n            ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!",["T_ISSET","isset",173],"(",["T_VARIABLE","$values",173],"[",["T_VARIABLE","$attribute",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getAttributeCode",173],"(",")","]",")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                ",173],["T_CONTINUE","continue",174],";",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$value",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$values",176],"[",["T_VARIABLE","$attribute",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getAttributeCode",176],"(",")","]",";",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$preparedSearchValue",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getPreparedSearchCriteria",177],"(",["T_VARIABLE","$attribute",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$value",177],")",";",["T_WHITESPACE","\n            ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_STRING","false",178],["T_WHITESPACE"," ",178],["T_IS_IDENTICAL","===",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$preparedSearchValue",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                ",178],["T_CONTINUE","continue",179],";",["T_WHITESPACE","\n            ",179],"}",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","addSearchCriteria",181],"(",["T_VARIABLE","$attribute",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$preparedSearchValue",181],")",";",["T_WHITESPACE","\n\n            ",181],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$attribute",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getAttributeCode",183],"(",")",["T_WHITESPACE"," ",183],["T_IS_EQUAL","==",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'price'",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$rate",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_LNUMBER","1",184],";",["T_WHITESPACE","\n                ",184],["T_VARIABLE","$store",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_storeManager",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getStore",185],"(",")",";",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$currency",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$store",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getCurrentCurrencyCode",186],"(",")",";",["T_WHITESPACE","\n                ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$currency",187],["T_WHITESPACE"," ",187],["T_IS_NOT_EQUAL","!=",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$store",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getBaseCurrencyCode",187],"(",")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                    ",187],["T_VARIABLE","$rate",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$store",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getBaseCurrency",188],"(",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","getRate",188],"(",["T_VARIABLE","$currency",188],")",";",["T_WHITESPACE","\n                ",188],"}",["T_WHITESPACE","\n\n                ",189],["T_VARIABLE","$value",191],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",191],"]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],"(",["T_ISSET","isset",191],"(",["T_VARIABLE","$value",191],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",191],"]",")",["T_WHITESPACE"," ",191],["T_BOOLEAN_AND","&&",191],["T_WHITESPACE"," ",191],["T_STRING","is_numeric",191],"(",["T_VARIABLE","$value",191],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",191],"]",")",")",["T_WHITESPACE","\n                    ",191],"?",["T_WHITESPACE"," ",192],["T_DOUBLE_CAST","(float)",192],["T_VARIABLE","$value",192],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",192],"]",["T_WHITESPACE"," ",192],"\/",["T_WHITESPACE"," ",192],["T_VARIABLE","$rate",192],["T_WHITESPACE","\n                    ",192],":",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","''",193],";",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$value",194],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",194],"]",["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],"(",["T_ISSET","isset",194],"(",["T_VARIABLE","$value",194],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",194],"]",")",["T_WHITESPACE"," ",194],["T_BOOLEAN_AND","&&",194],["T_WHITESPACE"," ",194],["T_STRING","is_numeric",194],"(",["T_VARIABLE","$value",194],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",194],"]",")",")",["T_WHITESPACE","\n                    ",194],"?",["T_WHITESPACE"," ",195],["T_DOUBLE_CAST","(float)",195],["T_VARIABLE","$value",195],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",195],"]",["T_WHITESPACE"," ",195],"\/",["T_WHITESPACE"," ",195],["T_VARIABLE","$rate",195],["T_WHITESPACE","\n                    ",195],":",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","''",196],";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n\n            ",197],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$attribute",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getBackendType",199],"(",")",["T_WHITESPACE"," ",199],["T_IS_EQUAL","==",199],["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'datetime'",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                ",199],["T_VARIABLE","$value",200],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"(",["T_ISSET","isset",200],"(",["T_VARIABLE","$value",200],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",200],"]",")",["T_WHITESPACE"," ",200],["T_BOOLEAN_AND","&&",200],["T_WHITESPACE"," ",200],"!",["T_EMPTY","empty",200],"(",["T_VARIABLE","$value",200],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",200],"]",")",")",["T_WHITESPACE","\n                    ",200],"?",["T_WHITESPACE"," ",201],["T_STRING","date",201],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d\\TH:i:s\\Z'",201],",",["T_WHITESPACE"," ",201],["T_STRING","strtotime",201],"(",["T_VARIABLE","$value",201],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",201],"]",")",")",["T_WHITESPACE","\n                    ",201],":",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","''",202],";",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$value",203],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],"(",["T_ISSET","isset",203],"(",["T_VARIABLE","$value",203],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",203],"]",")",["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],"!",["T_EMPTY","empty",203],"(",["T_VARIABLE","$value",203],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",203],"]",")",")",["T_WHITESPACE","\n                    ",203],"?",["T_WHITESPACE"," ",204],["T_STRING","date",204],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d\\TH:i:s\\Z'",204],",",["T_WHITESPACE"," ",204],["T_STRING","strtotime",204],"(",["T_VARIABLE","$value",204],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",204],"]",")",")",["T_WHITESPACE","\n                    ",204],":",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","''",205],";",["T_WHITESPACE","\n            ",205],"}",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$condition",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_getResource",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","prepareCondition",207],"(",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$attribute",208],",",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$value",209],",",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getProductCollection",210],"(",")",["T_WHITESPACE","\n            ",210],")",";",["T_WHITESPACE","\n            ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$condition",212],["T_WHITESPACE"," ",212],["T_IS_IDENTICAL","===",212],["T_WHITESPACE"," ",212],["T_STRING","false",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_CONTINUE","continue",213],";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n\n            ",214],["T_VARIABLE","$table",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$attribute",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getBackend",216],"(",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","getTable",216],"(",")",";",["T_WHITESPACE","\n            ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$attribute",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getBackendType",217],"(",")",["T_WHITESPACE"," ",217],["T_IS_EQUAL","==",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'static'",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$attributeId",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$attribute",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getAttributeCode",218],"(",")",";",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE"," ",219],["T_ELSE","else",219],["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$attributeId",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$attribute",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getId",220],"(",")",";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$allConditions",222],"[",["T_VARIABLE","$table",222],"]","[",["T_VARIABLE","$attributeId",222],"]",["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$condition",222],";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$allConditions",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_registry",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","register",225],"(",["T_CONSTANT_ENCAPSED_STRING","'advanced_search_conditions'",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$allConditions",225],")",";",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getProductCollection",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","addFieldsToFilter",226],"(",["T_VARIABLE","$allConditions",226],")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE"," ",227],["T_ELSE","else",227],["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_THROW","throw",228],["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","LocalizedException",228],"(",["T_STRING","__",228],"(",["T_CONSTANT_ENCAPSED_STRING","'Please specify at least one search term.'",228],")",")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Retrieve array of attributes used in advanced search\n     *\n     * @return array|\\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\Collection\n     *\/",234],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","getAttributes",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$attributes",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getData",241],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",241],")",";",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$attributes",242],["T_WHITESPACE"," ",242],["T_IS_IDENTICAL","===",242],["T_WHITESPACE"," ",242],["T_STRING","null",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$product",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_productFactory",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","create",243],"(",")",";",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$attributes",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_attributeCollectionFactory",244],["T_WHITESPACE","\n                ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","create",245],"(",")",["T_WHITESPACE","\n                ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","addHasOptionsFilter",246],"(",")",["T_WHITESPACE","\n                ",246],["T_OBJECT_OPERATOR","->",247],["T_STRING","addDisplayInAdvancedSearchFilter",247],"(",")",["T_WHITESPACE","\n                ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","addStoreLabel",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_storeManager",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getStore",248],"(",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","getId",248],"(",")",")",["T_WHITESPACE","\n                ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","setOrder",249],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.attribute_id'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'asc'",249],")",["T_WHITESPACE","\n                ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","load",250],"(",")",";",["T_WHITESPACE","\n            ",250],["T_FOREACH","foreach",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$attributes",251],["T_WHITESPACE"," ",251],["T_AS","as",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$attribute",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                ",251],["T_VARIABLE","$attribute",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","setEntity",252],"(",["T_VARIABLE","$product",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getResource",252],"(",")",")",";",["T_WHITESPACE","\n            ",252],"}",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","setData",254],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$attributes",254],")",";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$attributes",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Retrieve advanced search product collection\n     *\n     * @return Collection\n     *\/",259],["T_WHITESPACE","\n    ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","getProductCollection",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_productCollection",266],["T_WHITESPACE"," ",266],["T_IS_IDENTICAL","===",266],["T_WHITESPACE"," ",266],["T_STRING","null",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$collection",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","productCollectionFactory",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","create",267],"(",")",";",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","prepareProductCollection",268],"(",["T_VARIABLE","$collection",268],")",";",["T_WHITESPACE","\n            ",268],["T_IF","if",269],["T_WHITESPACE"," ",269],"(","!",["T_VARIABLE","$collection",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n                ",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$collection",270],";",["T_WHITESPACE","\n            ",270],"}",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_productCollection",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$collection",272],";",["T_WHITESPACE","\n        ",272],"}",["T_WHITESPACE","\n\n        ",273],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_productCollection",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * Prepare product collection\n     *\n     * @param Collection $collection\n     * @return $this\n     *\/",278],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","prepareProductCollection",284],"(",["T_VARIABLE","$collection",284],")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$collection",286],["T_WHITESPACE","\n            ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","addAttributeToSelect",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_catalogConfig",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getProductAttributes",287],"(",")",")",["T_WHITESPACE","\n            ",287],["T_OBJECT_OPERATOR","->",288],["T_STRING","setStore",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_storeManager",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getStore",288],"(",")",")",["T_WHITESPACE","\n            ",288],["T_OBJECT_OPERATOR","->",289],["T_STRING","addMinimalPrice",289],"(",")",["T_WHITESPACE","\n            ",289],["T_OBJECT_OPERATOR","->",290],["T_STRING","addTaxPercents",290],"(",")",["T_WHITESPACE","\n            ",290],["T_OBJECT_OPERATOR","->",291],["T_STRING","addStoreFilter",291],"(",")",["T_WHITESPACE","\n            ",291],["T_OBJECT_OPERATOR","->",292],["T_STRING","setVisibility",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","_catalogProductVisibility",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getVisibleInSearchIds",292],"(",")",")",";",["T_WHITESPACE","\n\n        ",292],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * @param EntityAttribute $attribute\n     * @param mixed $value\n     * @return void\n     *\/",297],["T_WHITESPACE","\n    ",301],["T_PROTECTED","protected",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","addSearchCriteria",302],"(",["T_VARIABLE","$attribute",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$value",302],")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(","!",["T_EMPTY","empty",304],"(",["T_VARIABLE","$value",304],")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_searchCriterias",305],"[","]",["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$attribute",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getStoreLabel",305],"(",")",",",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'value'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$value",305],"]",";",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Add data about search criteria to object state\n     *\n     * @todo: Move this code to block\n     *\n     * @param   EntityAttribute $attribute\n     * @param   mixed $value\n     * @return  string|bool\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",309],["T_WHITESPACE","\n    ",319],["T_PROTECTED","protected",320],["T_WHITESPACE"," ",320],["T_FUNCTION","function",320],["T_WHITESPACE"," ",320],["T_STRING","getPreparedSearchCriteria",320],"(",["T_VARIABLE","$attribute",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$value",320],")",["T_WHITESPACE","\n    ",320],"{",["T_WHITESPACE","\n        ",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_STRING","is_array",322],"(",["T_VARIABLE","$value",322],")",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n            ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_ISSET","isset",323],"(",["T_VARIABLE","$value",323],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",323],"]",")",["T_WHITESPACE"," ",323],["T_BOOLEAN_AND","&&",323],["T_WHITESPACE"," ",323],["T_ISSET","isset",323],"(",["T_VARIABLE","$value",323],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",323],"]",")",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n                ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_EMPTY","empty",324],"(",["T_VARIABLE","$value",324],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",324],"]",")",["T_WHITESPACE"," ",324],["T_BOOLEAN_OR","||",324],["T_WHITESPACE"," ",324],"!",["T_EMPTY","empty",324],"(",["T_VARIABLE","$value",324],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",324],"]",")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n                    ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_ISSET","isset",325],"(",["T_VARIABLE","$value",325],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",325],"]",")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n                        ",325],["T_DOC_COMMENT","\/** @var $currencyModel Currency *\/",326],["T_WHITESPACE","\n                        ",326],["T_VARIABLE","$currencyModel",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_currencyFactory",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","create",327],"(",")",["T_OBJECT_OPERATOR","->",327],["T_STRING","load",327],"(",["T_VARIABLE","$value",327],"[",["T_CONSTANT_ENCAPSED_STRING","'currency'",327],"]",")",";",["T_WHITESPACE","\n                        ",327],["T_VARIABLE","$from",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$currencyModel",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","format",328],"(",["T_VARIABLE","$value",328],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",328],"]",",",["T_WHITESPACE"," ",328],"[","]",",",["T_WHITESPACE"," ",328],["T_STRING","false",328],")",";",["T_WHITESPACE","\n                        ",328],["T_VARIABLE","$to",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$currencyModel",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","format",329],"(",["T_VARIABLE","$value",329],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",329],"]",",",["T_WHITESPACE"," ",329],"[","]",",",["T_WHITESPACE"," ",329],["T_STRING","false",329],")",";",["T_WHITESPACE","\n                    ",329],"}",["T_WHITESPACE"," ",330],["T_ELSE","else",330],["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                        ",330],["T_VARIABLE","$currencyModel",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","null",331],";",["T_WHITESPACE","\n                    ",331],"}",["T_WHITESPACE","\n\n                    ",332],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_STRING","strlen",334],"(",["T_VARIABLE","$value",334],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",334],"]",")",["T_WHITESPACE"," ",334],">",["T_WHITESPACE"," ",334],["T_LNUMBER","0",334],["T_WHITESPACE"," ",334],["T_BOOLEAN_AND","&&",334],["T_WHITESPACE"," ",334],["T_STRING","strlen",334],"(",["T_VARIABLE","$value",334],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",334],"]",")",["T_WHITESPACE"," ",334],">",["T_WHITESPACE"," ",334],["T_LNUMBER","0",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                        ",334],["T_COMMENT","\/\/ -\n",335],["T_WHITESPACE","                        ",336],["T_VARIABLE","$value",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_STRING","sprintf",336],"(",["T_WHITESPACE","\n                            ",336],["T_CONSTANT_ENCAPSED_STRING","'%s - %s'",337],",",["T_WHITESPACE","\n                            ",337],["T_VARIABLE","$currencyModel",338],["T_WHITESPACE"," ",338],"?",["T_WHITESPACE"," ",338],["T_VARIABLE","$from",338],["T_WHITESPACE"," ",338],":",["T_WHITESPACE"," ",338],["T_VARIABLE","$value",338],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",338],"]",",",["T_WHITESPACE","\n                            ",338],["T_VARIABLE","$currencyModel",339],["T_WHITESPACE"," ",339],"?",["T_WHITESPACE"," ",339],["T_VARIABLE","$to",339],["T_WHITESPACE"," ",339],":",["T_WHITESPACE"," ",339],["T_VARIABLE","$value",339],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",339],"]",["T_WHITESPACE","\n                        ",339],")",";",["T_WHITESPACE","\n                    ",340],"}",["T_WHITESPACE"," ",341],["T_ELSEIF","elseif",341],["T_WHITESPACE"," ",341],"(",["T_STRING","strlen",341],"(",["T_VARIABLE","$value",341],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",341],"]",")",["T_WHITESPACE"," ",341],">",["T_WHITESPACE"," ",341],["T_LNUMBER","0",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                        ",341],["T_COMMENT","\/\/ and more\n",342],["T_WHITESPACE","                        ",343],["T_VARIABLE","$value",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","__",343],"(",["T_CONSTANT_ENCAPSED_STRING","'%1 and greater'",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$currencyModel",343],["T_WHITESPACE"," ",343],"?",["T_WHITESPACE"," ",343],["T_VARIABLE","$from",343],["T_WHITESPACE"," ",343],":",["T_WHITESPACE"," ",343],["T_VARIABLE","$value",343],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",343],"]",")",";",["T_WHITESPACE","\n                    ",343],"}",["T_WHITESPACE"," ",344],["T_ELSEIF","elseif",344],["T_WHITESPACE"," ",344],"(",["T_STRING","strlen",344],"(",["T_VARIABLE","$value",344],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",344],"]",")",["T_WHITESPACE"," ",344],">",["T_WHITESPACE"," ",344],["T_LNUMBER","0",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n                        ",344],["T_COMMENT","\/\/ to\n",345],["T_WHITESPACE","                        ",346],["T_VARIABLE","$value",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","__",346],"(",["T_CONSTANT_ENCAPSED_STRING","'up to %1'",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$currencyModel",346],["T_WHITESPACE"," ",346],"?",["T_WHITESPACE"," ",346],["T_VARIABLE","$to",346],["T_WHITESPACE"," ",346],":",["T_WHITESPACE"," ",346],["T_VARIABLE","$value",346],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",346],"]",")",";",["T_WHITESPACE","\n                    ",346],"}",["T_WHITESPACE","\n                ",347],"}",["T_WHITESPACE"," ",348],["T_ELSE","else",348],["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                    ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","''",349],";",["T_WHITESPACE","\n                ",349],"}",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n\n        ",352],["T_IF","if",354],["T_WHITESPACE"," ",354],"(","(",["T_VARIABLE","$attribute",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getFrontendInput",354],"(",")",["T_WHITESPACE"," ",354],["T_IS_EQUAL","==",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'select'",354],["T_WHITESPACE"," ",354],["T_BOOLEAN_OR","||",354],["T_WHITESPACE","\n                ",354],["T_VARIABLE","$attribute",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getFrontendInput",355],"(",")",["T_WHITESPACE"," ",355],["T_IS_EQUAL","==",355],["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",355],")",["T_WHITESPACE"," ",355],["T_BOOLEAN_AND","&&",355],["T_WHITESPACE"," ",355],["T_STRING","is_array",355],"(",["T_VARIABLE","$value",355],")",["T_WHITESPACE","\n        ",355],")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_FOREACH","foreach",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$value",357],["T_WHITESPACE"," ",357],["T_AS","as",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$key",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$val",357],")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n                ",357],["T_VARIABLE","$value",358],"[",["T_VARIABLE","$key",358],"]",["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$attribute",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getSource",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","getOptionText",358],"(",["T_VARIABLE","$val",358],")",";",["T_WHITESPACE","\n\n                ",358],["T_IF","if",360],["T_WHITESPACE"," ",360],"(",["T_STRING","is_array",360],"(",["T_VARIABLE","$value",360],"[",["T_VARIABLE","$key",360],"]",")",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n                    ",360],["T_VARIABLE","$value",361],"[",["T_VARIABLE","$key",361],"]",["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$value",361],"[",["T_VARIABLE","$key",361],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",361],"]",";",["T_WHITESPACE","\n                ",361],"}",["T_WHITESPACE","\n            ",362],"}",["T_WHITESPACE","\n            ",363],["T_VARIABLE","$value",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_STRING","implode",364],"(",["T_CONSTANT_ENCAPSED_STRING","', '",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$value",364],")",";",["T_WHITESPACE","\n        ",364],"}",["T_WHITESPACE"," ",365],["T_ELSEIF","elseif",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$attribute",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getFrontendInput",365],"(",")",["T_WHITESPACE"," ",365],["T_IS_EQUAL","==",365],["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'select'",365],["T_WHITESPACE"," ",365],["T_BOOLEAN_OR","||",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$attribute",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getFrontendInput",365],"(",")",["T_WHITESPACE"," ",365],["T_IS_EQUAL","==",365],["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$value",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$attribute",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getSource",366],"(",")",["T_OBJECT_OPERATOR","->",366],["T_STRING","getOptionText",366],"(",["T_VARIABLE","$value",366],")",";",["T_WHITESPACE","\n            ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_STRING","is_array",367],"(",["T_VARIABLE","$value",367],")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n                ",367],["T_VARIABLE","$value",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$value",368],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",368],"]",";",["T_WHITESPACE","\n            ",368],"}",["T_WHITESPACE","\n        ",369],"}",["T_WHITESPACE"," ",370],["T_ELSEIF","elseif",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$attribute",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getFrontendInput",370],"(",")",["T_WHITESPACE"," ",370],["T_IS_EQUAL","==",370],["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'boolean'",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_STRING","is_numeric",371],"(",["T_VARIABLE","$value",371],")",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n                ",371],["T_VARIABLE","$value",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$value",372],["T_WHITESPACE"," ",372],["T_IS_EQUAL","==",372],["T_WHITESPACE"," ",372],["T_LNUMBER","1",372],["T_WHITESPACE"," ",372],"?",["T_WHITESPACE"," ",372],["T_STRING","__",372],"(",["T_CONSTANT_ENCAPSED_STRING","'Yes'",372],")",["T_WHITESPACE"," ",372],":",["T_WHITESPACE"," ",372],["T_STRING","__",372],"(",["T_CONSTANT_ENCAPSED_STRING","'No'",372],")",";",["T_WHITESPACE","\n            ",372],"}",["T_WHITESPACE"," ",373],["T_ELSE","else",373],["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n                ",373],["T_VARIABLE","$value",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_STRING","false",374],";",["T_WHITESPACE","\n            ",374],"}",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE","\n\n        ",376],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$value",378],";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Returns prepared search criterias in text\n     *\n     * @return array\n     *\/",381],["T_WHITESPACE","\n    ",385],["T_PUBLIC","public",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","getSearchCriterias",386],"(",")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_searchCriterias",388],";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n",389],"}",["T_WHITESPACE","\n",390]]