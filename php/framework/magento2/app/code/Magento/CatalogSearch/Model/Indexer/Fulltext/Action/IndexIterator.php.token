[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogSearch",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Indexer",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Fulltext",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Action",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n * @SuppressWarnings(PHPMD.NPathComplexity)\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","IndexIterator",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Iterator",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogSearch\\Model\\Indexer\\Fulltext\\Action\\DataProvider\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$dataProvider",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$storeId",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$staticFields",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$productIds",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$dynamicFields",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\Entity\\Attribute\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$visibility",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$allowedVisibility",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\Entity\\Attribute\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$status",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PRIVATE","private",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$statusIds",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PRIVATE","private",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$lastProductId",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_LNUMBER","0",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PRIVATE","private",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$products",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[","]",";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @var null\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_PRIVATE","private",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$current",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","null",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_PRIVATE","private",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$isValid",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","true",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @var null\n     *\/",81],["T_WHITESPACE","\n    ",83],["T_PRIVATE","private",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$key",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","null",84],";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",86],["T_WHITESPACE","\n    ",88],["T_PRIVATE","private",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$productAttributes",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"[","]",";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_PRIVATE","private",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$productRelations",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[","]",";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Initialize dependencies.\n     *\n     * @param DataProvider $dataProvider\n     * @param int $storeId\n     * @param array $staticFields\n     * @param array|null $productIds\n     * @param array $dynamicFields\n     * @param \\Magento\\Eav\\Model\\Entity\\Attribute $visibility\n     * @param array $allowedVisibility\n     * @param \\Magento\\Eav\\Model\\Entity\\Attribute $status\n     * @param array $statusIds\n     *\n     * @SuppressWarnings(Magento.TypeDuplication)\n     *\/",96],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","__construct",111],"(",["T_WHITESPACE","\n        ",111],["T_STRING","DataProvider",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$dataProvider",112],",",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$storeId",113],",",["T_WHITESPACE","\n        ",113],["T_ARRAY","array",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$staticFields",114],",",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$productIds",115],",",["T_WHITESPACE","\n        ",115],["T_ARRAY","array",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$dynamicFields",116],",",["T_WHITESPACE","\n        ",116],["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Eav",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Model",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Entity",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Attribute",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$visibility",117],",",["T_WHITESPACE","\n        ",117],["T_ARRAY","array",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$allowedVisibility",118],",",["T_WHITESPACE","\n        ",118],["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Eav",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Model",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Entity",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Attribute",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$status",119],",",["T_WHITESPACE","\n        ",119],["T_ARRAY","array",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$statusIds",120],["T_WHITESPACE","\n    ",120],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","dataProvider",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$dataProvider",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","storeId",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$storeId",123],";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","staticFields",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$staticFields",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","productIds",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$productIds",125],";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","dynamicFields",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$dynamicFields",126],";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","visibility",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$visibility",127],";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","allowedVisibility",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$allowedVisibility",128],";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","status",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$status",129],";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","statusIds",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$statusIds",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n\n    ",131],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",134],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","current",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","current",139],";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",142],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","next",145],"(",")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_NS_SEPARATOR","\\",147],["T_STRING","next",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","products",147],")",";",["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_NS_SEPARATOR","\\",148],["T_STRING","key",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","products",148],")",["T_WHITESPACE"," ",148],["T_IS_IDENTICAL","===",148],["T_WHITESPACE"," ",148],["T_STRING","null",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_COMMENT","\/\/ check if storage has more items to process\n",149],["T_WHITESPACE","            ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","products",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","dataProvider",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getSearchableProducts",150],"(",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","storeId",151],",",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","staticFields",152],",",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","productIds",153],",",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","lastProductId",154],["T_WHITESPACE","\n            ",154],")",";",["T_WHITESPACE","\n\n            ",155],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","!",["T_STRING","count",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","products",157],")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","isValid",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","false",158],";",["T_WHITESPACE","\n                ",158],["T_RETURN","return",159],";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n\n            ",160],["T_VARIABLE","$productAttributes",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[","]",";",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","productRelations",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"[","]",";",["T_WHITESPACE","\n            ",163],["T_FOREACH","foreach",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","products",164],["T_WHITESPACE"," ",164],["T_AS","as",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$productData",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","lastProductId",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$productData",165],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",165],"]",";",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$productAttributes",166],"[",["T_VARIABLE","$productData",166],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",166],"]","]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$productData",166],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",166],"]",";",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$productChildren",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","dataProvider",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getProductChildIds",167],"(",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$productData",168],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",168],"]",",",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$productData",169],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",169],"]",["T_WHITESPACE","\n                ",169],")",";",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","productRelations",171],"[",["T_VARIABLE","$productData",171],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",171],"]","]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$productChildren",171],";",["T_WHITESPACE","\n                ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$productChildren",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                    ",172],["T_FOREACH","foreach",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$productChildren",173],["T_WHITESPACE"," ",173],["T_AS","as",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$productChildId",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                        ",173],["T_VARIABLE","$productAttributes",174],"[",["T_VARIABLE","$productChildId",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$productChildId",174],";",["T_WHITESPACE","\n                    ",174],"}",["T_WHITESPACE","\n                ",175],"}",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n            ",177],["T_NS_SEPARATOR","\\",178],["T_STRING","reset",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","products",178],")",";",["T_WHITESPACE","\n\n            ",178],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","productAttributes",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","dataProvider",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getProductAttributes",180],"(",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","storeId",181],",",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$productAttributes",182],",",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","dynamicFields",183],["T_WHITESPACE","\n            ",183],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$productData",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_NS_SEPARATOR","\\",187],["T_STRING","current",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","products",187],")",";",["T_WHITESPACE","\n\n        ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(","!",["T_ISSET","isset",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","productAttributes",189],"[",["T_VARIABLE","$productData",189],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",189],"]","]",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","next",190],"(",")",";",["T_WHITESPACE","\n            ",190],["T_RETURN","return",191],";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n\n        ",192],["T_VARIABLE","$productAttr",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","productAttributes",194],"[",["T_VARIABLE","$productData",194],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",194],"]","]",";",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(","!",["T_ISSET","isset",195],"(",["T_VARIABLE","$productAttr",195],"[",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","visibility",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getId",195],"(",")","]",")",["T_WHITESPACE","\n            ",195],["T_BOOLEAN_OR","||",196],["T_WHITESPACE"," ",196],"!",["T_STRING","in_array",196],"(",["T_VARIABLE","$productAttr",196],"[",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","visibility",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getId",196],"(",")","]",",",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","allowedVisibility",196],")",["T_WHITESPACE","\n        ",196],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","next",198],"(",")",";",["T_WHITESPACE","\n            ",198],["T_RETURN","return",199],";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n        ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(","!",["T_ISSET","isset",201],"(",["T_VARIABLE","$productAttr",201],"[",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","status",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getId",201],"(",")","]",")",["T_WHITESPACE","\n            ",201],["T_BOOLEAN_OR","||",202],["T_WHITESPACE"," ",202],"!",["T_STRING","in_array",202],"(",["T_VARIABLE","$productAttr",202],"[",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","status",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getId",202],"(",")","]",",",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","statusIds",202],")",["T_WHITESPACE","\n        ",202],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","next",204],"(",")",";",["T_WHITESPACE","\n            ",204],["T_RETURN","return",205],";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n\n        ",206],["T_VARIABLE","$productIndex",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],"[",["T_VARIABLE","$productData",208],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",208],"]",["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$productAttr",208],"]",";",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$hasChildren",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","false",210],";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$productChildren",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","productRelations",211],"[",["T_VARIABLE","$productData",211],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",211],"]","]",";",["T_WHITESPACE","\n        ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$productChildren",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_FOREACH","foreach",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$productChildren",213],["T_WHITESPACE"," ",213],["T_AS","as",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$productChildId",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_ISSET","isset",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","productAttributes",214],"[",["T_VARIABLE","$productChildId",214],"]",")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                    ",214],["T_VARIABLE","$productChildAttr",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","productAttributes",215],"[",["T_VARIABLE","$productChildId",215],"]",";",["T_WHITESPACE","\n                    ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(","!",["T_ISSET","isset",216],"(",["T_VARIABLE","$productChildAttr",216],"[",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","status",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getId",216],"(",")","]",")",["T_WHITESPACE","\n                        ",216],["T_BOOLEAN_OR","||",217],["T_WHITESPACE"," ",217],"!",["T_STRING","in_array",217],"(",["T_VARIABLE","$productChildAttr",217],"[",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","status",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getId",217],"(",")","]",",",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","statusIds",217],")",["T_WHITESPACE","\n                    ",217],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                        ",218],["T_CONTINUE","continue",219],";",["T_WHITESPACE","\n                    ",219],"}",["T_WHITESPACE","\n\n                    ",220],["T_VARIABLE","$hasChildren",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","true",222],";",["T_WHITESPACE","\n                    ",222],["T_VARIABLE","$productIndex",223],"[",["T_VARIABLE","$productChildId",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$productChildAttr",223],";",["T_WHITESPACE","\n                ",223],"}",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$productChildren",227],["T_WHITESPACE"," ",227],["T_IS_NOT_IDENTICAL","!==",227],["T_WHITESPACE"," ",227],["T_STRING","null",227],["T_WHITESPACE"," ",227],["T_BOOLEAN_AND","&&",227],["T_WHITESPACE"," ",227],"!",["T_VARIABLE","$hasChildren",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","next",228],"(",")",";",["T_WHITESPACE","\n            ",228],["T_RETURN","return",229],";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$index",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","dataProvider",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","prepareProductIndex",232],"(",["T_VARIABLE","$productIndex",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$productData",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","storeId",232],")",";",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","current",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$index",234],";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","key",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$productData",235],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",235],"]",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",238],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","key",241],"(",")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","key",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",246],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","valid",249],"(",")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","isValid",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",254],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","rewind",257],"(",")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","lastProductId",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_LNUMBER","0",259],";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","key",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","null",260],";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","current",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","null",261],";",["T_WHITESPACE","\n        ",261],["T_UNSET","unset",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","products",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","products",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],"[","]",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","next",264],"(",")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n",265],"}",["T_WHITESPACE","\n",266]]