[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogSearch",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Indexer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Fulltext",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Action",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CatalogSearch",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Indexer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Fulltext",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResourceConnection",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Full",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Scope identifier\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","SCOPE_FIELD_NAME",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'scope'",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Searchable attributes cache\n     *\n     * @var \\Magento\\Eav\\Model\\Entity\\Attribute[]\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$searchableAttributes",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Index values separator\n     *\n     * @var string\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$separator",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","' | '",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Array of \\DateTime objects per store\n     *\n     * @var \\DateTime[]\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$dates",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[","]",";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Product Type Instances cache\n     *\n     * @var array\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$productTypes",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],"[","]",";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Product Emulators cache\n     *\n     * @var array\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$productEmulators",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[","]",";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\CollectionFactory\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$productAttributeCollectionFactory",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Catalog product status\n     *\n     * @var \\Magento\\Catalog\\Model\\Product\\Attribute\\Source\\Status\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$catalogProductStatus",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Eav config\n     *\n     * @var \\Magento\\Eav\\Model\\Config\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$eavConfig",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Catalog product type\n     *\n     * @var \\Magento\\Catalog\\Model\\Product\\Type\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$catalogProductType",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Core event manager proxy\n     *\n     * @var \\Magento\\Framework\\Event\\ManagerInterface\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$eventManager",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Core store config\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$scopeConfig",95],";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$storeManager",102],";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogSearch\\Model\\ResourceModel\\Engine\n     *\/",104],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$engine",107],";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Indexer\\SaveHandler\\IndexerInterface\n     *\/",109],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$indexHandler",112],";",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",114],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$dateTime",117],";",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Locale\\ResolverInterface\n     *\/",119],["T_WHITESPACE","\n    ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$localeResolver",122],";",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface\n     *\/",124],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$localeDate",127],";",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * @var Resource\n     *\/",129],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$resource",132],";",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogSearch\\Model\\ResourceModel\\Fulltext\n     *\/",134],["T_WHITESPACE","\n    ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$fulltextResource",137],";",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Search\\Request\\Config\n     *\/",139],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$searchRequestConfig",142],";",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Search\\Request\\DimensionFactory\n     *\/",144],["T_WHITESPACE","\n    ",146],["T_PRIVATE","private",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$dimensionFactory",147],";",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",149],["T_WHITESPACE","\n    ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$connection",152],";",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogSearch\\Model\\Indexer\\Fulltext\\Action\\IndexIteratorFactory\n     *\/",154],["T_WHITESPACE","\n    ",156],["T_PRIVATE","private",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$iteratorFactory",157],";",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * @param ResourceConnection $resource\n     * @param \\Magento\\Catalog\\Model\\Product\\Type $catalogProductType\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param \\Magento\\Framework\\Search\\Request\\Config $searchRequestConfig\n     * @param \\Magento\\Catalog\\Model\\Product\\Attribute\\Source\\Status $catalogProductStatus\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\CollectionFactory $prodAttributeCollectionFactory\n     * @param \\Magento\\CatalogSearch\\Model\\ResourceModel\\EngineProvider $engineProvider\n     * @param \\Magento\\CatalogSearch\\Model\\Indexer\\IndexerHandlerFactory $indexHandlerFactory\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param \\Magento\\Framework\\Locale\\ResolverInterface $localeResolver\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\CatalogSearch\\Model\\ResourceModel\\Fulltext $fulltextResource\n     * @param \\Magento\\Framework\\Search\\Request\\DimensionFactory $dimensionFactory\n     * @param \\Magento\\Framework\\Indexer\\ConfigInterface $indexerConfig\n     * @param \\Magento\\CatalogSearch\\Model\\Indexer\\Fulltext\\Action\\IndexIteratorFactory $indexIteratorFactory\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",159],["T_WHITESPACE","\n    ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","__construct",180],"(",["T_WHITESPACE","\n        ",180],["T_STRING","ResourceConnection",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$resource",181],",",["T_WHITESPACE","\n        ",181],["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Catalog",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Model",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Product",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Type",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$catalogProductType",182],",",["T_WHITESPACE","\n        ",182],["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Eav",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Model",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Config",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$eavConfig",183],",",["T_WHITESPACE","\n        ",183],["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Framework",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Search",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Request",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Config",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$searchRequestConfig",184],",",["T_WHITESPACE","\n        ",184],["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Catalog",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Model",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Product",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Attribute",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Source",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Status",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$catalogProductStatus",185],",",["T_WHITESPACE","\n        ",185],["T_NS_SEPARATOR","\\",186],["T_STRING","Magento",186],["T_NS_SEPARATOR","\\",186],["T_STRING","Catalog",186],["T_NS_SEPARATOR","\\",186],["T_STRING","Model",186],["T_NS_SEPARATOR","\\",186],["T_STRING","ResourceModel",186],["T_NS_SEPARATOR","\\",186],["T_STRING","Product",186],["T_NS_SEPARATOR","\\",186],["T_STRING","Attribute",186],["T_NS_SEPARATOR","\\",186],["T_STRING","CollectionFactory",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$prodAttributeCollectionFactory",186],",",["T_WHITESPACE","\n        ",186],["T_NS_SEPARATOR","\\",187],["T_STRING","Magento",187],["T_NS_SEPARATOR","\\",187],["T_STRING","CatalogSearch",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Model",187],["T_NS_SEPARATOR","\\",187],["T_STRING","ResourceModel",187],["T_NS_SEPARATOR","\\",187],["T_STRING","EngineProvider",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$engineProvider",187],",",["T_WHITESPACE","\n        ",187],["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","CatalogSearch",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Model",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Indexer",188],["T_NS_SEPARATOR","\\",188],["T_STRING","IndexerHandlerFactory",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$indexHandlerFactory",188],",",["T_WHITESPACE","\n        ",188],["T_NS_SEPARATOR","\\",189],["T_STRING","Magento",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Framework",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Event",189],["T_NS_SEPARATOR","\\",189],["T_STRING","ManagerInterface",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$eventManager",189],",",["T_WHITESPACE","\n        ",189],["T_NS_SEPARATOR","\\",190],["T_STRING","Magento",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Framework",190],["T_NS_SEPARATOR","\\",190],["T_STRING","App",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Config",190],["T_NS_SEPARATOR","\\",190],["T_STRING","ScopeConfigInterface",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$scopeConfig",190],",",["T_WHITESPACE","\n        ",190],["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Store",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Model",191],["T_NS_SEPARATOR","\\",191],["T_STRING","StoreManagerInterface",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$storeManager",191],",",["T_WHITESPACE","\n        ",191],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Framework",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Stdlib",192],["T_NS_SEPARATOR","\\",192],["T_STRING","DateTime",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$dateTime",192],",",["T_WHITESPACE","\n        ",192],["T_NS_SEPARATOR","\\",193],["T_STRING","Magento",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Framework",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Locale",193],["T_NS_SEPARATOR","\\",193],["T_STRING","ResolverInterface",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$localeResolver",193],",",["T_WHITESPACE","\n        ",193],["T_NS_SEPARATOR","\\",194],["T_STRING","Magento",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Framework",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Stdlib",194],["T_NS_SEPARATOR","\\",194],["T_STRING","DateTime",194],["T_NS_SEPARATOR","\\",194],["T_STRING","TimezoneInterface",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$localeDate",194],",",["T_WHITESPACE","\n        ",194],["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","CatalogSearch",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Model",195],["T_NS_SEPARATOR","\\",195],["T_STRING","ResourceModel",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Fulltext",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$fulltextResource",195],",",["T_WHITESPACE","\n        ",195],["T_NS_SEPARATOR","\\",196],["T_STRING","Magento",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Framework",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Search",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Request",196],["T_NS_SEPARATOR","\\",196],["T_STRING","DimensionFactory",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$dimensionFactory",196],",",["T_WHITESPACE","\n        ",196],["T_NS_SEPARATOR","\\",197],["T_STRING","Magento",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Framework",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Indexer",197],["T_NS_SEPARATOR","\\",197],["T_STRING","ConfigInterface",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$indexerConfig",197],",",["T_WHITESPACE","\n        ",197],["T_NS_SEPARATOR","\\",198],["T_STRING","Magento",198],["T_NS_SEPARATOR","\\",198],["T_STRING","CatalogSearch",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Model",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Indexer",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Fulltext",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Action",198],["T_NS_SEPARATOR","\\",198],["T_STRING","IndexIteratorFactory",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$indexIteratorFactory",198],["T_WHITESPACE","\n    ",198],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","resource",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$resource",200],";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","connection",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$resource",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getConnection",201],"(",")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","catalogProductType",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$catalogProductType",202],";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","eavConfig",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$eavConfig",203],";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","searchRequestConfig",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$searchRequestConfig",204],";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","catalogProductStatus",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$catalogProductStatus",205],";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","productAttributeCollectionFactory",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$prodAttributeCollectionFactory",206],";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","eventManager",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$eventManager",207],";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","scopeConfig",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$scopeConfig",208],";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","storeManager",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$storeManager",209],";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","engine",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$engineProvider",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","get",210],"(",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$configData",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$indexerConfig",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getIndexer",211],"(",["T_STRING","Fulltext",211],["T_DOUBLE_COLON","::",211],["T_STRING","INDEXER_ID",211],")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","indexHandler",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$indexHandlerFactory",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","create",212],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$configData",212],"]",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","dateTime",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$dateTime",213],";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","localeResolver",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$localeResolver",214],";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","localeDate",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$localeDate",215],";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","fulltextResource",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$fulltextResource",216],";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","dimensionFactory",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$dimensionFactory",217],";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","iteratorFactory",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$indexIteratorFactory",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Rebuild whole fulltext index for all stores\n     *\n     * @return void\n     *\/",221],["T_WHITESPACE","\n    ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","reindexAll",226],"(",")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$storeIds",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","array_keys",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","storeManager",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getStores",228],"(",")",")",";",["T_WHITESPACE","\n        ",228],["T_FOREACH","foreach",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$storeIds",229],["T_WHITESPACE"," ",229],["T_AS","as",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$storeId",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","cleanIndex",230],"(",["T_VARIABLE","$storeId",230],")",";",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","rebuildStoreIndex",231],"(",["T_VARIABLE","$storeId",231],")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","searchRequestConfig",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","reset",233],"(",")",";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Return validated table name\n     *\n     * @param string|string[] $table\n     * @return string\n     *\/",236],["T_WHITESPACE","\n    ",241],["T_PROTECTED","protected",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","getTable",242],"(",["T_VARIABLE","$table",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","resource",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getTableName",244],"(",["T_VARIABLE","$table",244],")",";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Get parents IDs of product IDs to be re-indexed\n     *\n     * @param int[] $entityIds\n     * @return int[]\n     *\/",247],["T_WHITESPACE","\n    ",252],["T_PROTECTED","protected",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","getProductIdsFromParents",253],"(",["T_ARRAY","array",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$entityIds",253],")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","connection",255],["T_WHITESPACE","\n            ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","select",256],"(",")",["T_WHITESPACE","\n            ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","from",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getTable",257],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_relation'",257],")",",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",257],")",["T_WHITESPACE","\n            ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","distinct",258],"(",["T_STRING","true",258],")",["T_WHITESPACE","\n            ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","where",259],"(",["T_CONSTANT_ENCAPSED_STRING","'child_id IN (?)'",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$entityIds",259],")",["T_WHITESPACE","\n            ",259],["T_OBJECT_OPERATOR","->",260],["T_STRING","where",260],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id NOT IN (?)'",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$entityIds",260],")",["T_WHITESPACE","\n            ",260],["T_OBJECT_OPERATOR","->",261],["T_STRING","query",261],"(",")",["T_WHITESPACE","\n            ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","fetchAll",262],"(",["T_NS_SEPARATOR","\\",262],["T_STRING","Zend_Db",262],["T_DOUBLE_COLON","::",262],["T_STRING","FETCH_COLUMN",262],")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Regenerate search index for specific store\n     *\n     * @param int $storeId Store View Id\n     * @param int|array $productIds Product Entity Id\n     * @return \\Generator\n     *\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",265],["T_WHITESPACE","\n    ",274],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","rebuildStoreIndex",275],"(",["T_VARIABLE","$storeId",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$productIds",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_STRING","null",275],")",["T_WHITESPACE","\n    ",275],"{",["T_WHITESPACE","\n        ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$productIds",277],["T_WHITESPACE"," ",277],["T_IS_NOT_IDENTICAL","!==",277],["T_WHITESPACE"," ",277],["T_STRING","null",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$productIds",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","array_unique",278],"(",["T_STRING","array_merge",278],"(",["T_VARIABLE","$productIds",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getProductIdsFromParents",278],"(",["T_VARIABLE","$productIds",278],")",")",")",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n        ",279],["T_COMMENT","\/\/ prepare searchable attributes\n",280],["T_WHITESPACE","        ",281],["T_VARIABLE","$staticFields",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],"[","]",";",["T_WHITESPACE","\n        ",281],["T_FOREACH","foreach",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getSearchableAttributes",282],"(",["T_CONSTANT_ENCAPSED_STRING","'static'",282],")",["T_WHITESPACE"," ",282],["T_AS","as",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$attribute",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$staticFields",283],"[","]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$attribute",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getAttributeCode",283],"(",")",";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$dynamicFields",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],"[",["T_WHITESPACE","\n            ",285],["T_CONSTANT_ENCAPSED_STRING","'int'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_STRING","array_keys",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getSearchableAttributes",286],"(",["T_CONSTANT_ENCAPSED_STRING","'int'",286],")",")",",",["T_WHITESPACE","\n            ",286],["T_CONSTANT_ENCAPSED_STRING","'varchar'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_STRING","array_keys",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getSearchableAttributes",287],"(",["T_CONSTANT_ENCAPSED_STRING","'varchar'",287],")",")",",",["T_WHITESPACE","\n            ",287],["T_CONSTANT_ENCAPSED_STRING","'text'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_STRING","array_keys",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getSearchableAttributes",288],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",288],")",")",",",["T_WHITESPACE","\n            ",288],["T_CONSTANT_ENCAPSED_STRING","'decimal'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_STRING","array_keys",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getSearchableAttributes",289],"(",["T_CONSTANT_ENCAPSED_STRING","'decimal'",289],")",")",",",["T_WHITESPACE","\n            ",289],["T_CONSTANT_ENCAPSED_STRING","'datetime'",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_STRING","array_keys",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getSearchableAttributes",290],"(",["T_CONSTANT_ENCAPSED_STRING","'datetime'",290],")",")",",",["T_WHITESPACE","\n        ",290],"]",";",["T_WHITESPACE","\n\n        ",291],["T_COMMENT","\/\/ status and visibility filter\n",293],["T_WHITESPACE","        ",294],["T_VARIABLE","$visibility",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getSearchableAttribute",294],"(",["T_CONSTANT_ENCAPSED_STRING","'visibility'",294],")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$status",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getSearchableAttribute",295],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",295],")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$statusIds",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","catalogProductStatus",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getVisibleStatusIds",296],"(",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$allowedVisibility",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","engine",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getAllowedVisibility",297],"(",")",";",["T_WHITESPACE","\n\n        ",297],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","iteratorFactory",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","create",299],"(","[",["T_WHITESPACE","\n            ",299],["T_CONSTANT_ENCAPSED_STRING","'storeId'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$storeId",300],",",["T_WHITESPACE","\n            ",300],["T_CONSTANT_ENCAPSED_STRING","'productIds'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$productIds",301],",",["T_WHITESPACE","\n            ",301],["T_CONSTANT_ENCAPSED_STRING","'staticFields'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$staticFields",302],",",["T_WHITESPACE","\n            ",302],["T_CONSTANT_ENCAPSED_STRING","'dynamicFields'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$dynamicFields",303],",",["T_WHITESPACE","\n            ",303],["T_CONSTANT_ENCAPSED_STRING","'visibility'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$visibility",304],",",["T_WHITESPACE","\n            ",304],["T_CONSTANT_ENCAPSED_STRING","'allowedVisibility'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$allowedVisibility",305],",",["T_WHITESPACE","\n            ",305],["T_CONSTANT_ENCAPSED_STRING","'status'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$status",306],",",["T_WHITESPACE","\n            ",306],["T_CONSTANT_ENCAPSED_STRING","'statusIds'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$statusIds",307],["T_WHITESPACE","\n        ",307],"]",")",";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Clean search index data for store\n     *\n     * @param int $storeId\n     * @return void\n     *\/",311],["T_WHITESPACE","\n    ",316],["T_PROTECTED","protected",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","cleanIndex",317],"(",["T_VARIABLE","$storeId",317],")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$dimension",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","dimensionFactory",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","create",319],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_STRING","self",319],["T_DOUBLE_COLON","::",319],["T_STRING","SCOPE_FIELD_NAME",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'value'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$storeId",319],"]",")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","indexHandler",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","cleanIndex",320],"(","[",["T_VARIABLE","$dimension",320],"]",")",";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Retrieve EAV Config Singleton\n     *\n     * @return \\Magento\\Eav\\Model\\Config\n     *\/",323],["T_WHITESPACE","\n    ",327],["T_PROTECTED","protected",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","getEavConfig",328],"(",")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","eavConfig",330],";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Retrieve searchable attributes\n     *\n     * @param string $backendType\n     * @return \\Magento\\Eav\\Model\\Entity\\Attribute[]\n     *\/",333],["T_WHITESPACE","\n    ",338],["T_PROTECTED","protected",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","getSearchableAttributes",339],"(",["T_VARIABLE","$backendType",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_STRING","null",339],")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_STRING","null",341],["T_WHITESPACE"," ",341],["T_IS_IDENTICAL","===",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","searchableAttributes",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n            ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","searchableAttributes",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],"[","]",";",["T_WHITESPACE","\n\n            ",342],["T_VARIABLE","$productAttributes",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","productAttributeCollectionFactory",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","create",344],"(",")",";",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$productAttributes",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","addToIndexFilter",345],"(",["T_STRING","true",345],")",";",["T_WHITESPACE","\n\n            ",345],["T_DOC_COMMENT","\/** @var \\Magento\\Eav\\Model\\Entity\\Attribute[] $attributes *\/",347],["T_WHITESPACE","\n            ",347],["T_VARIABLE","$attributes",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$productAttributes",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getItems",348],"(",")",";",["T_WHITESPACE","\n\n            ",348],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","eventManager",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","dispatch",350],"(",["T_WHITESPACE","\n                ",350],["T_CONSTANT_ENCAPSED_STRING","'catelogsearch_searchable_attributes_load_after'",351],",",["T_WHITESPACE","\n                ",351],"[",["T_CONSTANT_ENCAPSED_STRING","'engine'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","engine",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'attributes'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$attributes",352],"]",["T_WHITESPACE","\n            ",352],")",";",["T_WHITESPACE","\n\n            ",353],["T_VARIABLE","$entity",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getEavConfig",355],"(",")",["T_OBJECT_OPERATOR","->",355],["T_STRING","getEntityType",355],"(",["T_NS_SEPARATOR","\\",355],["T_STRING","Magento",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Catalog",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Model",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Product",355],["T_DOUBLE_COLON","::",355],["T_STRING","ENTITY",355],")",["T_OBJECT_OPERATOR","->",355],["T_STRING","getEntity",355],"(",")",";",["T_WHITESPACE","\n\n            ",355],["T_FOREACH","foreach",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$attributes",357],["T_WHITESPACE"," ",357],["T_AS","as",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$attribute",357],")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n                ",357],["T_VARIABLE","$attribute",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","setEntity",358],"(",["T_VARIABLE","$entity",358],")",";",["T_WHITESPACE","\n            ",358],"}",["T_WHITESPACE","\n\n            ",359],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","searchableAttributes",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$attributes",361],";",["T_WHITESPACE","\n        ",361],"}",["T_WHITESPACE","\n\n        ",362],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$backendType",364],["T_WHITESPACE"," ",364],["T_IS_NOT_IDENTICAL","!==",364],["T_WHITESPACE"," ",364],["T_STRING","null",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_VARIABLE","$attributes",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],"[","]",";",["T_WHITESPACE","\n            ",365],["T_FOREACH","foreach",366],["T_WHITESPACE"," ",366],"(",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","searchableAttributes",366],["T_WHITESPACE"," ",366],["T_AS","as",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$attributeId",366],["T_WHITESPACE"," ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$attribute",366],")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n                ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_VARIABLE","$attribute",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getBackendType",367],"(",")",["T_WHITESPACE"," ",367],["T_IS_EQUAL","==",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$backendType",367],")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n                    ",367],["T_VARIABLE","$attributes",368],"[",["T_VARIABLE","$attributeId",368],"]",["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$attribute",368],";",["T_WHITESPACE","\n                ",368],"}",["T_WHITESPACE","\n            ",369],"}",["T_WHITESPACE","\n\n            ",370],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$attributes",372],";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n\n        ",373],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","searchableAttributes",375],";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Retrieve searchable attribute by Id or code\n     *\n     * @param int|string $attribute\n     * @return \\Magento\\Eav\\Model\\Entity\\Attribute\n     *\/",378],["T_WHITESPACE","\n    ",383],["T_PROTECTED","protected",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","getSearchableAttribute",384],"(",["T_VARIABLE","$attribute",384],")",["T_WHITESPACE","\n    ",384],"{",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$attributes",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getSearchableAttributes",386],"(",")",";",["T_WHITESPACE","\n        ",386],["T_IF","if",387],["T_WHITESPACE"," ",387],"(",["T_STRING","is_numeric",387],"(",["T_VARIABLE","$attribute",387],")",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_ISSET","isset",388],"(",["T_VARIABLE","$attributes",388],"[",["T_VARIABLE","$attribute",388],"]",")",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                ",388],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$attributes",389],"[",["T_VARIABLE","$attribute",389],"]",";",["T_WHITESPACE","\n            ",389],"}",["T_WHITESPACE","\n        ",390],"}",["T_WHITESPACE"," ",391],["T_ELSEIF","elseif",391],["T_WHITESPACE"," ",391],"(",["T_STRING","is_string",391],"(",["T_VARIABLE","$attribute",391],")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_FOREACH","foreach",392],["T_WHITESPACE"," ",392],"(",["T_VARIABLE","$attributes",392],["T_WHITESPACE"," ",392],["T_AS","as",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$attributeModel",392],")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n                ",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$attributeModel",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getAttributeCode",393],"(",")",["T_WHITESPACE"," ",393],["T_IS_EQUAL","==",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$attribute",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n                    ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$attributeModel",394],";",["T_WHITESPACE","\n                ",394],"}",["T_WHITESPACE","\n            ",395],"}",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n\n        ",397],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getEavConfig",399],"(",")",["T_OBJECT_OPERATOR","->",399],["T_STRING","getAttribute",399],"(",["T_NS_SEPARATOR","\\",399],["T_STRING","Magento",399],["T_NS_SEPARATOR","\\",399],["T_STRING","Catalog",399],["T_NS_SEPARATOR","\\",399],["T_STRING","Model",399],["T_NS_SEPARATOR","\\",399],["T_STRING","Product",399],["T_DOUBLE_COLON","::",399],["T_STRING","ENTITY",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$attribute",399],")",";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n    ",400],["T_DOC_COMMENT","\/**\n     * Returns expression for field unification\n     *\n     * @param string $field\n     * @param string $backendType\n     * @return \\Zend_Db_Expr\n     *\/",402],["T_WHITESPACE","\n    ",408],["T_PROTECTED","protected",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","unifyField",409],"(",["T_VARIABLE","$field",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$backendType",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'varchar'",409],")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_IF","if",411],["T_WHITESPACE"," ",411],"(",["T_VARIABLE","$backendType",411],["T_WHITESPACE"," ",411],["T_IS_EQUAL","==",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'datetime'",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_VARIABLE","$expr",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","connection",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","getDateFormatSql",412],"(",["T_VARIABLE","$field",412],",",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'%Y-%m-%d %H:%i:%s'",412],")",";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE"," ",413],["T_ELSE","else",413],["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n            ",413],["T_VARIABLE","$expr",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$field",414],";",["T_WHITESPACE","\n        ",414],"}",["T_WHITESPACE","\n        ",415],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$expr",416],";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Retrieve Product Type Instance\n     *\n     * @param string $typeId\n     * @return \\Magento\\Catalog\\Model\\Product\\Type\\AbstractType\n     *\/",419],["T_WHITESPACE","\n    ",424],["T_PROTECTED","protected",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","getProductTypeInstance",425],"(",["T_VARIABLE","$typeId",425],")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(","!",["T_ISSET","isset",427],"(",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","productTypes",427],"[",["T_VARIABLE","$typeId",427],"]",")",")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$productEmulator",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getProductEmulator",428],"(",["T_VARIABLE","$typeId",428],")",";",["T_WHITESPACE","\n\n            ",428],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","productTypes",430],"[",["T_VARIABLE","$typeId",430],"]",["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","catalogProductType",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","factory",430],"(",["T_VARIABLE","$productEmulator",430],")",";",["T_WHITESPACE","\n        ",430],"}",["T_WHITESPACE","\n        ",431],["T_RETURN","return",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","productTypes",432],"[",["T_VARIABLE","$typeId",432],"]",";",["T_WHITESPACE","\n    ",432],"}",["T_WHITESPACE","\n\n    ",433],["T_DOC_COMMENT","\/**\n     * Retrieve Product Emulator (Magento Object)\n     *\n     * @param string $typeId\n     * @return \\Magento\\Framework\\DataObject\n     *\/",435],["T_WHITESPACE","\n    ",440],["T_PROTECTED","protected",441],["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","getProductEmulator",441],"(",["T_VARIABLE","$typeId",441],")",["T_WHITESPACE","\n    ",441],"{",["T_WHITESPACE","\n        ",442],["T_IF","if",443],["T_WHITESPACE"," ",443],"(","!",["T_ISSET","isset",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","productEmulators",443],"[",["T_VARIABLE","$typeId",443],"]",")",")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$productEmulator",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_NEW","new",444],["T_WHITESPACE"," ",444],["T_NS_SEPARATOR","\\",444],["T_STRING","Magento",444],["T_NS_SEPARATOR","\\",444],["T_STRING","Framework",444],["T_NS_SEPARATOR","\\",444],["T_STRING","DataObject",444],"(",")",";",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$productEmulator",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","setTypeId",445],"(",["T_VARIABLE","$typeId",445],")",";",["T_WHITESPACE","\n            ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","productEmulators",446],"[",["T_VARIABLE","$typeId",446],"]",["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$productEmulator",446],";",["T_WHITESPACE","\n        ",446],"}",["T_WHITESPACE","\n        ",447],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","productEmulators",448],"[",["T_VARIABLE","$typeId",448],"]",";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n",449],"}",["T_WHITESPACE","\n",450]]