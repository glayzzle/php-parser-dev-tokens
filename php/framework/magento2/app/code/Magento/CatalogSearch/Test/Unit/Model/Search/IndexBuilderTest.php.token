[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogSearch",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Search",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Test for \\Magento\\CatalogSearch\\Model\\Search\\IndexBuilder\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","IndexBuilderTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/** @var  \\Magento\\CatalogSearch\\Model\\Search\\TableMapper|\\PHPUnit_Framework_MockObject_MockObject *\/",16],["T_WHITESPACE","\n    ",16],["T_PRIVATE","private",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$tableMapper",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/** @var  \\Magento\\Framework\\Search\\Adapter\\Mysql\\ConditionManager|\\PHPUnit_Framework_MockObject_MockObject *\/",19],["T_WHITESPACE","\n    ",19],["T_PRIVATE","private",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$conditionManager",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/** @var  \\Magento\\Search\\Model\\IndexScopeResolver|\\PHPUnit_Framework_MockObject_MockObject *\/",22],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$scopeResolver",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",25],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$connection",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\DB\\Select|\\PHPUnit_Framework_MockObject_MockObject *\/",28],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$select",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",31],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$config",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\StoreManagerInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",34],["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$storeManager",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Search\\RequestInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",37],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$request",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/** @var \\Magento\\Search\\Model\\IndexScopeResolver|\\PHPUnit_Framework_MockObject_MockObject *\/",40],["T_WHITESPACE","\n    ",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$resource",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface|MockObject *\/",43],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$stockConfiguration",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogSearch\\Model\\Search\\IndexBuilder\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$target",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ScopeResolverInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$dimensionScopeResolver",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ScopeInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PRIVATE","private",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$scopeInterface",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @return void\n     *\/",61],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","setUp",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","select",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockBuilder",67],"(",["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","DB",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Select",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],")",["T_WHITESPACE","\n            ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","disableOriginalConstructor",68],"(",")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","setMethods",69],"(","[",["T_CONSTANT_ENCAPSED_STRING","'from'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'joinLeft'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'where'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'joinInner'",69],"]",")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMock",70],"(",")",";",["T_WHITESPACE","\n\n        ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","connection",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMockBuilder",72],"(",["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Framework",72],["T_NS_SEPARATOR","\\",72],["T_STRING","DB",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Adapter",72],["T_NS_SEPARATOR","\\",72],["T_STRING","AdapterInterface",72],["T_DOUBLE_COLON","::",72],["T_CLASS","class",72],")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","disableOriginalConstructor",73],"(",")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","setMethods",74],"(","[",["T_CONSTANT_ENCAPSED_STRING","'select'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'quoteInto'",74],"]",")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMockForAbstractClass",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","connection",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","expects",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","once",76],"(",")",")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","method",77],"(",["T_CONSTANT_ENCAPSED_STRING","'select'",77],")",["T_WHITESPACE","\n            ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","will",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","returnValue",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","select",78],")",")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","resource",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMockBuilder",80],"(",["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Framework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","App",80],["T_NS_SEPARATOR","\\",80],["T_STRING","ResourceConnection",80],["T_DOUBLE_COLON","::",80],["T_CLASS","class",80],")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","disableOriginalConstructor",81],"(",")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","setMethods",82],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getConnection'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'getTableName'",82],"]",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","getMock",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","resource",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","expects",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","any",84],"(",")",")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","method",85],"(",["T_CONSTANT_ENCAPSED_STRING","'getConnection'",85],")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","will",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","returnValue",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","connection",86],")",")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","request",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMockBuilder",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Search",88],["T_NS_SEPARATOR","\\",88],["T_STRING","RequestInterface",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","disableOriginalConstructor",89],"(",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","setMethods",90],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getIndex'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'getDimensions'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'getQuery'",90],"]",")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMockForAbstractClass",91],"(",")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","config",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getMockBuilder",93],"(",["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Framework",93],["T_NS_SEPARATOR","\\",93],["T_STRING","App",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Config",93],["T_NS_SEPARATOR","\\",93],["T_STRING","ScopeConfigInterface",93],["T_DOUBLE_COLON","::",93],["T_CLASS","class",93],")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","disableOriginalConstructor",94],"(",")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","setMethods",95],"(","[",["T_CONSTANT_ENCAPSED_STRING","'isSetFlag'",95],"]",")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMockForAbstractClass",96],"(",")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","storeManager",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMockBuilder",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Store",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","StoreManagerInterface",98],["T_DOUBLE_COLON","::",98],["T_CLASS","class",98],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getMock",98],"(",")",";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","scopeResolver",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMockBuilder",100],"(",["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Framework",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Indexer",100],["T_NS_SEPARATOR","\\",100],["T_STRING","ScopeResolver",100],["T_NS_SEPARATOR","\\",100],["T_STRING","IndexScopeResolver",100],["T_DOUBLE_COLON","::",100],["T_CLASS","class",100],")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","disableOriginalConstructor",101],"(",")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","getMock",102],"(",")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","conditionManager",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMockBuilder",104],"(",["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Framework",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Search",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Adapter",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Mysql",104],["T_NS_SEPARATOR","\\",104],["T_STRING","ConditionManager",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","setMethods",105],"(","[",["T_CONSTANT_ENCAPSED_STRING","'combineQueries'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'wrapBrackets'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'generateCondition'",105],"]",")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","disableOriginalConstructor",106],"(",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMock",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","conditionManager",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","expects",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","any",108],"(",")",")",["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","method",109],"(",["T_CONSTANT_ENCAPSED_STRING","'combineQueries'",109],")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","willReturnCallback",110],"(",["T_WHITESPACE","\n                ",110],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],"(",["T_ARRAY","array",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$queries",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$expression",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                    ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_STRING","implode",112],"(",["T_CONSTANT_ENCAPSED_STRING","' '",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$expression",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","' '",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$queries",112],")",";",["T_WHITESPACE","\n                ",112],"}",["T_WHITESPACE","\n            ",113],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","conditionManager",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","expects",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","any",115],"(",")",")",["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","method",116],"(",["T_CONSTANT_ENCAPSED_STRING","'wrapBrackets'",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","willReturnCallback",117],"(",["T_WHITESPACE","\n                ",117],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$expression",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                    ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'('",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$expression",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","')'",119],";",["T_WHITESPACE","\n                ",119],"}",["T_WHITESPACE","\n            ",120],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","conditionManager",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","expects",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","any",122],"(",")",")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","method",123],"(",["T_CONSTANT_ENCAPSED_STRING","'generateCondition'",123],")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","willReturnCallback",124],"(",["T_WHITESPACE","\n                ",124],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$left",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$operator",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$right",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                    ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$left",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_VARIABLE","$operator",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_VARIABLE","$right",126],";",["T_WHITESPACE","\n                ",126],"}",["T_WHITESPACE","\n            ",127],")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","tableMapper",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getMockBuilder",130],"(",["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","CatalogSearch",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Model",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Search",130],["T_NS_SEPARATOR","\\",130],["T_STRING","TableMapper",130],["T_DOUBLE_COLON","::",130],["T_CLASS","class",130],")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","disableOriginalConstructor",131],"(",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","getMock",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","tableMapper",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","expects",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","once",133],"(",")",")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'addTables'",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","with",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","select",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","request",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","willReturnArgument",136],"(",["T_LNUMBER","0",136],")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","dimensionScopeResolver",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMockForAbstractClass",137],"(",["T_WHITESPACE","\n            ",137],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Framework",138],["T_NS_SEPARATOR","\\",138],["T_STRING","App",138],["T_NS_SEPARATOR","\\",138],["T_STRING","ScopeResolverInterface",138],["T_DOUBLE_COLON","::",138],["T_CLASS","class",138],",",["T_WHITESPACE","\n            ",138],"[","]",",",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","''",140],",",["T_WHITESPACE","\n            ",140],["T_STRING","false",141],["T_WHITESPACE","\n        ",141],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","scopeInterface",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getMockForAbstractClass",143],"(",["T_WHITESPACE","\n            ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Framework",144],["T_NS_SEPARATOR","\\",144],["T_STRING","App",144],["T_NS_SEPARATOR","\\",144],["T_STRING","ScopeInterface",144],["T_DOUBLE_COLON","::",144],["T_CLASS","class",144],",",["T_WHITESPACE","\n            ",144],"[","]",",",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","''",146],",",["T_WHITESPACE","\n            ",146],["T_STRING","false",147],["T_WHITESPACE","\n        ",147],")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","stockConfiguration",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_WHITESPACE","\n            ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","getMockBuilder",150],"(",["T_NS_SEPARATOR","\\",150],["T_STRING","Magento",150],["T_NS_SEPARATOR","\\",150],["T_STRING","CatalogInventory",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Api",150],["T_NS_SEPARATOR","\\",150],["T_STRING","StockConfigurationInterface",150],["T_DOUBLE_COLON","::",150],["T_CLASS","class",150],")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","getMock",151],"(",")",";",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$objectManagerHelper",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_NEW","new",153],["T_WHITESPACE"," ",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Magento",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Framework",153],["T_NS_SEPARATOR","\\",153],["T_STRING","TestFramework",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Unit",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Helper",153],["T_NS_SEPARATOR","\\",153],["T_STRING","ObjectManager",153],"(",["T_VARIABLE","$this",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","target",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$objectManagerHelper",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getObject",154],"(",["T_WHITESPACE","\n            ",154],["T_NS_SEPARATOR","\\",155],["T_STRING","Magento",155],["T_NS_SEPARATOR","\\",155],["T_STRING","CatalogSearch",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Model",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Search",155],["T_NS_SEPARATOR","\\",155],["T_STRING","IndexBuilder",155],["T_DOUBLE_COLON","::",155],["T_CLASS","class",155],",",["T_WHITESPACE","\n            ",155],"[",["T_WHITESPACE","\n                ",156],["T_CONSTANT_ENCAPSED_STRING","'resource'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","resource",157],",",["T_WHITESPACE","\n                ",157],["T_CONSTANT_ENCAPSED_STRING","'config'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","config",158],",",["T_WHITESPACE","\n                ",158],["T_CONSTANT_ENCAPSED_STRING","'storeManager'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","storeManager",159],",",["T_WHITESPACE","\n                ",159],["T_CONSTANT_ENCAPSED_STRING","'conditionManager'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","conditionManager",160],",",["T_WHITESPACE","\n                ",160],["T_CONSTANT_ENCAPSED_STRING","'scopeResolver'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","scopeResolver",161],",",["T_WHITESPACE","\n                ",161],["T_CONSTANT_ENCAPSED_STRING","'tableMapper'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","tableMapper",162],",",["T_WHITESPACE","\n                ",162],["T_CONSTANT_ENCAPSED_STRING","'dimensionScopeResolver'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","dimensionScopeResolver",163],["T_WHITESPACE","\n            ",163],"]",["T_WHITESPACE","\n        ",164],")",";",["T_WHITESPACE","\n\n        ",165],["T_COMMENT","\/\/ Todo: \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager to do this automatically (MAGETWO-49793)\n",167],["T_WHITESPACE","        ",168],["T_VARIABLE","$reflection",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_NS_SEPARATOR","\\",168],["T_STRING","ReflectionClass",168],"(",["T_STRING","get_class",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","target",168],")",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$reflectionProperty",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$reflection",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getProperty",169],"(",["T_CONSTANT_ENCAPSED_STRING","'stockConfiguration'",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$reflectionProperty",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setAccessible",170],"(",["T_STRING","true",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$reflectionProperty",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","setValue",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","target",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","stockConfiguration",171],")",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","testBuildWithOutOfStock",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$tableSuffix",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","''",176],";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$index",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'test_name_of_index'",177],";",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","mockBuild",179],"(",["T_VARIABLE","$index",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$tableSuffix",179],")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","config",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","expects",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","once",181],"(",")",")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","method",182],"(",["T_CONSTANT_ENCAPSED_STRING","'isSetFlag'",182],")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","with",183],"(",["T_CONSTANT_ENCAPSED_STRING","'cataloginventory\/options\/show_out_of_stock'",183],")",["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","will",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","returnValue",184],"(",["T_STRING","true",184],")",")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","request",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","expects",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","exactly",186],"(",["T_LNUMBER","2",186],")",")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","method",187],"(",["T_CONSTANT_ENCAPSED_STRING","'getDimensions'",187],")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","willReturn",188],"(","[","]",")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$result",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","target",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","build",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","request",190],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertSame",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","select",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$result",191],")",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","testBuildWithoutOutOfStock",194],"(",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$scopeId",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'113'",196],";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$tableSuffix",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'scope113_someNamesomeValue'",197],";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$index",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'test_index_name'",198],";",["T_WHITESPACE","\n\n        ",198],["T_VARIABLE","$dimensions",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"[",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","createDimension",201],"(",["T_CONSTANT_ENCAPSED_STRING","'scope'",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$scopeId",201],")",",",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","createDimension",202],"(",["T_CONSTANT_ENCAPSED_STRING","'someName'",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'someValue'",202],")",",",["T_WHITESPACE","\n        ",202],"]",";",["T_WHITESPACE","\n\n        ",203],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","request",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","expects",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","exactly",205],"(",["T_LNUMBER","2",205],")",")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","method",206],"(",["T_CONSTANT_ENCAPSED_STRING","'getDimensions'",206],")",["T_WHITESPACE","\n            ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","willReturn",207],"(",["T_VARIABLE","$dimensions",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","dimensionScopeResolver",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","expects",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","once",208],"(",")",")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","method",209],"(",["T_CONSTANT_ENCAPSED_STRING","'getScope'",209],")",["T_WHITESPACE","\n            ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","willReturn",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","scopeInterface",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","scopeInterface",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","expects",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","once",211],"(",")",")",["T_WHITESPACE","\n            ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","method",212],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",212],")",["T_WHITESPACE","\n            ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","willReturn",213],"(",["T_CONSTANT_ENCAPSED_STRING","'someValue'",213],")",";",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","mockBuild",215],"(",["T_VARIABLE","$index",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$tableSuffix",215],",",["T_WHITESPACE"," ",215],["T_STRING","false",215],")",";",["T_WHITESPACE","\n\n        ",215],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","stockConfiguration",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","expects",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","once",217],"(",")",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","method",217],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultScopeId'",217],")",["T_OBJECT_OPERATOR","->",217],["T_STRING","willReturn",217],"(",["T_LNUMBER","1",217],")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","config",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","expects",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","once",218],"(",")",")",["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","method",219],"(",["T_CONSTANT_ENCAPSED_STRING","'isSetFlag'",219],")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","with",220],"(",["T_CONSTANT_ENCAPSED_STRING","'cataloginventory\/options\/show_out_of_stock'",220],")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","will",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","returnValue",221],"(",["T_STRING","false",221],")",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","connection",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","expects",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","once",222],"(",")",")",["T_OBJECT_OPERATOR","->",222],["T_STRING","method",222],"(",["T_CONSTANT_ENCAPSED_STRING","'quoteInto'",222],")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","with",223],"(",["T_CONSTANT_ENCAPSED_STRING","' AND stock_index.website_id = ?'",223],",",["T_WHITESPACE"," ",223],["T_LNUMBER","1",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","willReturn",223],"(",["T_CONSTANT_ENCAPSED_STRING","' AND stock_index.website_id = 1'",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","select",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","expects",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","at",224],"(",["T_LNUMBER","2",224],")",")",["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","method",225],"(",["T_CONSTANT_ENCAPSED_STRING","'where'",225],")",["T_WHITESPACE","\n            ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","with",226],"(",["T_CONSTANT_ENCAPSED_STRING","'(someName=someValue)'",226],")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","willReturnSelf",227],"(",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","select",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","expects",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","at",228],"(",["T_LNUMBER","3",228],")",")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","method",229],"(",["T_CONSTANT_ENCAPSED_STRING","'joinInner'",229],")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","with",230],"(",["T_WHITESPACE","\n                ",230],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_index'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'cataloginventory_stock_status'",231],"]",",",["T_WHITESPACE","\n                ",231],["T_CONSTANT_ENCAPSED_STRING","'search_index.entity_id = stock_index.product_id'",232],["T_WHITESPACE","\n                ",232],".",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","' AND stock_index.website_id = 1'",233],",",["T_WHITESPACE","\n                ",233],"[","]",["T_WHITESPACE","\n            ",234],")",["T_WHITESPACE","\n            ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","willReturnSelf",236],"(",")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","select",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","expects",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","at",237],"(",["T_LNUMBER","4",237],")",")",["T_WHITESPACE","\n            ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","method",238],"(",["T_CONSTANT_ENCAPSED_STRING","'where'",238],")",["T_WHITESPACE","\n            ",238],["T_OBJECT_OPERATOR","->",239],["T_STRING","with",239],"(",["T_CONSTANT_ENCAPSED_STRING","'stock_index.stock_status = ?'",239],",",["T_WHITESPACE"," ",239],["T_LNUMBER","1",239],")",["T_WHITESPACE","\n            ",239],["T_OBJECT_OPERATOR","->",240],["T_STRING","will",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","returnSelf",240],"(",")",")",";",["T_WHITESPACE","\n\n        ",240],["T_VARIABLE","$result",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","target",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","build",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","request",242],")",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","assertSame",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","select",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$result",243],")",";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_PROTECTED","protected",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","mockBuild",246],"(",["T_VARIABLE","$index",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$tableSuffix",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$hasFilters",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","false",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","request",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","expects",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","atLeastOnce",248],"(",")",")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","method",249],"(",["T_CONSTANT_ENCAPSED_STRING","'getIndex'",249],")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","will",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","returnValue",250],"(",["T_VARIABLE","$index",250],")",")",";",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","resource",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","expects",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","any",252],"(",")",")",["T_WHITESPACE","\n            ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","method",253],"(",["T_CONSTANT_ENCAPSED_STRING","'getTableName'",253],")",["T_WHITESPACE","\n            ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","will",254],"(",["T_WHITESPACE","\n                ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","returnCallback",255],"(",["T_WHITESPACE","\n                    ",255],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$index",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                        ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","is_array",257],"(",["T_VARIABLE","$index",257],")",["T_WHITESPACE"," ",257],"?",["T_WHITESPACE"," ",257],["T_VARIABLE","$index",257],"[",["T_LNUMBER","0",257],"]",["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],["T_VARIABLE","$index",257],"[",["T_LNUMBER","1",257],"]",["T_WHITESPACE"," ",257],":",["T_WHITESPACE"," ",257],["T_VARIABLE","$index",257],";",["T_WHITESPACE","\n                    ",257],"}",["T_WHITESPACE","\n                ",258],")",["T_WHITESPACE","\n            ",259],")",";",["T_WHITESPACE","\n\n        ",260],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","scopeResolver",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","expects",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","any",262],"(",")",")",["T_WHITESPACE","\n            ",262],["T_OBJECT_OPERATOR","->",263],["T_STRING","method",263],"(",["T_CONSTANT_ENCAPSED_STRING","'resolve'",263],")",["T_WHITESPACE","\n            ",263],["T_OBJECT_OPERATOR","->",264],["T_STRING","will",264],"(",["T_WHITESPACE","\n                ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","returnCallback",265],"(",["T_WHITESPACE","\n                    ",265],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$index",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$dimensions",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                        ",266],["T_VARIABLE","$tableNameParts",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],"[","]",";",["T_WHITESPACE","\n                        ",267],["T_FOREACH","foreach",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$dimensions",268],["T_WHITESPACE"," ",268],["T_AS","as",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$dimension",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                            ",268],["T_VARIABLE","$tableNameParts",269],"[","]",["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$dimension",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getName",269],"(",")",["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_VARIABLE","$dimension",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getValue",269],"(",")",";",["T_WHITESPACE","\n                        ",269],"}",["T_WHITESPACE","\n                        ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$index",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'_'",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_STRING","implode",271],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$tableNameParts",271],")",";",["T_WHITESPACE","\n                    ",271],"}",["T_WHITESPACE","\n                ",272],")",["T_WHITESPACE","\n            ",273],")",";",["T_WHITESPACE","\n\n        ",274],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","select",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","expects",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","at",276],"(",["T_LNUMBER","0",276],")",")",["T_WHITESPACE","\n            ",276],["T_OBJECT_OPERATOR","->",277],["T_STRING","method",277],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",277],")",["T_WHITESPACE","\n            ",277],["T_OBJECT_OPERATOR","->",278],["T_STRING","with",278],"(",["T_WHITESPACE","\n                ",278],"[",["T_CONSTANT_ENCAPSED_STRING","'search_index'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$index",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'_'",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_VARIABLE","$tableSuffix",279],"]",",",["T_WHITESPACE","\n                ",279],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",280],"]",["T_WHITESPACE","\n            ",280],")",["T_WHITESPACE","\n            ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","will",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","returnSelf",282],"(",")",")",";",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","select",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","expects",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","at",284],"(",["T_LNUMBER","1",284],")",")",["T_WHITESPACE","\n            ",284],["T_OBJECT_OPERATOR","->",285],["T_STRING","method",285],"(",["T_CONSTANT_ENCAPSED_STRING","'joinLeft'",285],")",["T_WHITESPACE","\n            ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","with",286],"(",["T_WHITESPACE","\n                ",286],"[",["T_CONSTANT_ENCAPSED_STRING","'cea'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'catalog_eav_attribute'",287],"]",",",["T_WHITESPACE","\n                ",287],["T_CONSTANT_ENCAPSED_STRING","'search_index.attribute_id = cea.attribute_id'",288],",",["T_WHITESPACE","\n                ",288],"[","]",["T_WHITESPACE","\n            ",289],")",["T_WHITESPACE","\n            ",290],["T_OBJECT_OPERATOR","->",291],["T_STRING","will",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","returnSelf",291],"(",")",")",";",["T_WHITESPACE","\n        ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$hasFilters",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","select",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","expects",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","at",293],"(",["T_LNUMBER","2",293],")",")",["T_WHITESPACE","\n                ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","method",294],"(",["T_CONSTANT_ENCAPSED_STRING","'joinLeft'",294],")",["T_WHITESPACE","\n                ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","with",295],"(",["T_WHITESPACE","\n                    ",295],"[",["T_CONSTANT_ENCAPSED_STRING","'category_index'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'catalog_category_product_index'",296],"]",",",["T_WHITESPACE","\n                    ",296],["T_CONSTANT_ENCAPSED_STRING","'search_index.entity_id = category_index.product_id'",297],",",["T_WHITESPACE","\n                    ",297],"[","]",["T_WHITESPACE","\n                ",298],")",["T_WHITESPACE","\n                ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","will",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","returnSelf",300],"(",")",")",";",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","select",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","expects",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","at",301],"(",["T_LNUMBER","3",301],")",")",["T_WHITESPACE","\n                ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","method",302],"(",["T_CONSTANT_ENCAPSED_STRING","'joinLeft'",302],")",["T_WHITESPACE","\n                ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","with",303],"(",["T_WHITESPACE","\n                    ",303],"[",["T_CONSTANT_ENCAPSED_STRING","'cpie'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","resource",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getTableName",304],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_index_eav'",304],")","]",",",["T_WHITESPACE","\n                    ",304],["T_CONSTANT_ENCAPSED_STRING","'search_index.entity_id = cpie.entity_id AND search_index.attribute_id = cpie.attribute_id'",305],",",["T_WHITESPACE","\n                    ",305],"[","]",["T_WHITESPACE","\n                ",306],")",["T_WHITESPACE","\n                ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","willReturnSelf",308],"(",")",";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * @param $name\n     * @param $value\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",312],["T_WHITESPACE","\n    ",316],["T_PRIVATE","private",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","createDimension",317],"(",["T_VARIABLE","$name",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$value",317],")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$dimension",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getMockBuilder",319],"(",["T_NS_SEPARATOR","\\",319],["T_STRING","Magento",319],["T_NS_SEPARATOR","\\",319],["T_STRING","Framework",319],["T_NS_SEPARATOR","\\",319],["T_STRING","Search",319],["T_NS_SEPARATOR","\\",319],["T_STRING","Request",319],["T_NS_SEPARATOR","\\",319],["T_STRING","Dimension",319],["T_DOUBLE_COLON","::",319],["T_CLASS","class",319],")",["T_WHITESPACE","\n            ",319],["T_OBJECT_OPERATOR","->",320],["T_STRING","setMethods",320],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getName'",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'getValue'",320],"]",")",["T_WHITESPACE","\n            ",320],["T_OBJECT_OPERATOR","->",321],["T_STRING","disableOriginalConstructor",321],"(",")",["T_WHITESPACE","\n            ",321],["T_OBJECT_OPERATOR","->",322],["T_STRING","getMock",322],"(",")",";",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$dimension",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","expects",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","any",323],"(",")",")",["T_WHITESPACE","\n            ",323],["T_OBJECT_OPERATOR","->",324],["T_STRING","method",324],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",324],")",["T_WHITESPACE","\n            ",324],["T_OBJECT_OPERATOR","->",325],["T_STRING","willReturn",325],"(",["T_VARIABLE","$name",325],")",";",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$dimension",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","expects",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","any",326],"(",")",")",["T_WHITESPACE","\n            ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","method",327],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",327],")",["T_WHITESPACE","\n            ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","willReturn",328],"(",["T_VARIABLE","$value",328],")",";",["T_WHITESPACE","\n        ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$dimension",329],";",["T_WHITESPACE","\n    ",329],"}",["T_WHITESPACE","\n",330],"}",["T_WHITESPACE","\n",331]]