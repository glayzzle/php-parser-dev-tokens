[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Dhl",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Product",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Type",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Module",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Dir",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sales",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Order",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Shipment",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Quote",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Quote",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Address",14],["T_NS_SEPARATOR","\\",14],["T_STRING","RateRequest",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Quote",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Quote",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Address",15],["T_NS_SEPARATOR","\\",15],["T_STRING","RateResult",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Error",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Shipping",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Carrier",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractCarrier",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Shipping",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Rate",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Result",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Xml",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Security",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * DHL International (API v1.4)\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",20],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","Carrier",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Dhl",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Model",26],["T_NS_SEPARATOR","\\",26],["T_STRING","AbstractDhl",26],["T_WHITESPACE"," ",26],["T_IMPLEMENTS","implements",26],["T_WHITESPACE"," ",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Shipping",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Model",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Carrier",26],["T_NS_SEPARATOR","\\",26],["T_STRING","CarrierInterface",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_COMMENT","\/**#@+\n     * Carrier Product indicator\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","DHL_CONTENT_TYPE_DOC",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'D'",31],";",["T_WHITESPACE","\n    ",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","DHL_CONTENT_TYPE_NON_DOC",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'N'",32],";",["T_WHITESPACE","\n    ",32],["T_COMMENT","\/**#@-*\/",33],["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/**#@+\n     * Minimum allowed values for shipping package dimensions\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","DIMENSION_MIN_CM",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_LNUMBER","3",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","DIMENSION_MIN_IN",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","1",39],";",["T_WHITESPACE","\n    ",39],["T_COMMENT","\/**#@-*\/",40],["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Config path to UE country list\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","XML_PATH_EU_COUNTRIES_LIST",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'general\/country\/eu_countries'",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Container types that could be customized\n     *\n     * @var string[]\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_customizableContainerTypes",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],"[",["T_STRING","self",52],["T_DOUBLE_COLON","::",52],["T_STRING","DHL_CONTENT_TYPE_NON_DOC",52],"]",";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Code of the carrier\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","CODE",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'dhl'",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Rate request data\n     *\n     * @var RateRequest|null\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_request",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Rate result data\n     *\n     * @var Result|null\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_result",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Countries parameters data\n     *\n     * @var \\Magento\\Shipping\\Model\\Simplexml\\Element|null\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_countryParams",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Errors placeholder\n     *\n     * @var string[]\n     *\/",80],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$_errors",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],"[","]",";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Dhl rates result\n     *\n     * @var array\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$_rates",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[","]",";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Carrier's code\n     *\n     * @var string\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_code",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","self",99],["T_DOUBLE_COLON","::",99],["T_STRING","CODE",99],";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Free Method config path\n     *\n     * @var string\n     *\/",101],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$_freeMethod",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'free_method_nondoc'",106],";",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Max weight without fee\n     *\n     * @var int\n     *\/",108],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$_maxWeight",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_LNUMBER","70",113],";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Flag if response is for shipping label creating\n     *\n     * @var bool\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$_isShippingLabelFlag",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","false",120],";",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Request variables array\n     *\n     * @var array\n     *\/",122],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$_requestVariables",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],"[",["T_WHITESPACE","\n        ",127],["T_CONSTANT_ENCAPSED_STRING","'id'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'dhl_id'",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'setCode'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'id'",128],"]",",",["T_WHITESPACE","\n        ",128],["T_CONSTANT_ENCAPSED_STRING","'password'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'dhl_password'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'setCode'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'password'",129],"]",",",["T_WHITESPACE","\n        ",129],["T_CONSTANT_ENCAPSED_STRING","'account'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'dhl_account'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'setCode'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'account_nbr'",130],"]",",",["T_WHITESPACE","\n        ",130],["T_CONSTANT_ENCAPSED_STRING","'shipping_key'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'dhl_shipping_key'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'setCode'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'shipping_key'",131],"]",",",["T_WHITESPACE","\n        ",131],["T_CONSTANT_ENCAPSED_STRING","'shipping_intlkey'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'dhl_shipping_intl_key'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'setCode'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'shipping_intl_key'",132],"]",",",["T_WHITESPACE","\n        ",132],["T_CONSTANT_ENCAPSED_STRING","'shipment_type'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'dhl_shipment_type'",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'setCode'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'shipment_type'",133],"]",",",["T_WHITESPACE","\n        ",133],["T_CONSTANT_ENCAPSED_STRING","'dutiable'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'dhl_dutiable'",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'setCode'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'dutiable'",134],"]",",",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'dutypaymenttype'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'dhl_duty_payment_type'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'setCode'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'duty_payment_type'",135],"]",",",["T_WHITESPACE","\n        ",135],["T_CONSTANT_ENCAPSED_STRING","'contentdesc'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'dhl_content_desc'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'setCode'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'content_desc'",136],"]",",",["T_WHITESPACE","\n    ",136],"]",";",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Flag that shows if shipping is domestic\n     *\n     * @var bool\n     *\/",139],["T_WHITESPACE","\n    ",143],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$_isDomestic",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","false",144],";",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Core string\n     *\n     * @var \\Magento\\Framework\\Stdlib\\StringUtils\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$string",151],";",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Carrier helper\n     *\n     * @var \\Magento\\Shipping\\Helper\\Carrier\n     *\/",153],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$_carrierHelper",158],";",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",160],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$_coreDate",163],";",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",165],["T_WHITESPACE","\n    ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$_storeManager",168],";",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Module\\Dir\\Reader\n     *\/",170],["T_WHITESPACE","\n    ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$_configReader",173],";",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Math\\Division\n     *\/",175],["T_WHITESPACE","\n    ",177],["T_PROTECTED","protected",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$mathDivision",178],";",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\ReadFactory\n     *\/",180],["T_WHITESPACE","\n    ",182],["T_PROTECTED","protected",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$readFactory",183],";",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",185],["T_WHITESPACE","\n    ",187],["T_PROTECTED","protected",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$_dateTime",188],";",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\HTTP\\ZendClientFactory\n     *\/",190],["T_WHITESPACE","\n    ",192],["T_PROTECTED","protected",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$_httpClientFactory",193],";",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",195],["T_WHITESPACE","\n    ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$_debugReplacePrivateDataKeys",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[",["T_WHITESPACE","\n        ",198],["T_CONSTANT_ENCAPSED_STRING","'SiteID'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'Password'",199],["T_WHITESPACE","\n    ",199],"]",";",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\ErrorFactory $rateErrorFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param Security $xmlSecurity\n     * @param \\Magento\\Shipping\\Model\\Simplexml\\ElementFactory $xmlElFactory\n     * @param \\Magento\\Shipping\\Model\\Rate\\ResultFactory $rateFactory\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\MethodFactory $rateMethodFactory\n     * @param \\Magento\\Shipping\\Model\\Tracking\\ResultFactory $trackFactory\n     * @param \\Magento\\Shipping\\Model\\Tracking\\Result\\ErrorFactory $trackErrorFactory\n     * @param \\Magento\\Shipping\\Model\\Tracking\\Result\\StatusFactory $trackStatusFactory\n     * @param \\Magento\\Directory\\Model\\RegionFactory $regionFactory\n     * @param \\Magento\\Directory\\Model\\CountryFactory $countryFactory\n     * @param \\Magento\\Directory\\Model\\CurrencyFactory $currencyFactory\n     * @param \\Magento\\Directory\\Helper\\Data $directoryData\n     * @param \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry\n     * @param \\Magento\\Shipping\\Helper\\Carrier $carrierHelper\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $coreDate\n     * @param \\Magento\\Framework\\Module\\Dir\\Reader $configReader\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Stdlib\\StringUtils $string\n     * @param \\Magento\\Framework\\Math\\Division $mathDivision\n     * @param \\Magento\\Framework\\Filesystem\\Directory\\ReadFactory $readFactory\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param \\Magento\\Framework\\HTTP\\ZendClientFactory $httpClientFactory\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",202],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","__construct",230],"(",["T_WHITESPACE","\n        ",230],["T_NS_SEPARATOR","\\",231],["T_STRING","Magento",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Framework",231],["T_NS_SEPARATOR","\\",231],["T_STRING","App",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Config",231],["T_NS_SEPARATOR","\\",231],["T_STRING","ScopeConfigInterface",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$scopeConfig",231],",",["T_WHITESPACE","\n        ",231],["T_NS_SEPARATOR","\\",232],["T_STRING","Magento",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Quote",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Model",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Quote",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Address",232],["T_NS_SEPARATOR","\\",232],["T_STRING","RateResult",232],["T_NS_SEPARATOR","\\",232],["T_STRING","ErrorFactory",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$rateErrorFactory",232],",",["T_WHITESPACE","\n        ",232],["T_NS_SEPARATOR","\\",233],["T_STRING","Psr",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Log",233],["T_NS_SEPARATOR","\\",233],["T_STRING","LoggerInterface",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$logger",233],",",["T_WHITESPACE","\n        ",233],["T_STRING","Security",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$xmlSecurity",234],",",["T_WHITESPACE","\n        ",234],["T_NS_SEPARATOR","\\",235],["T_STRING","Magento",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Shipping",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Model",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Simplexml",235],["T_NS_SEPARATOR","\\",235],["T_STRING","ElementFactory",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$xmlElFactory",235],",",["T_WHITESPACE","\n        ",235],["T_NS_SEPARATOR","\\",236],["T_STRING","Magento",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Shipping",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Model",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Rate",236],["T_NS_SEPARATOR","\\",236],["T_STRING","ResultFactory",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$rateFactory",236],",",["T_WHITESPACE","\n        ",236],["T_NS_SEPARATOR","\\",237],["T_STRING","Magento",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Quote",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Model",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Quote",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Address",237],["T_NS_SEPARATOR","\\",237],["T_STRING","RateResult",237],["T_NS_SEPARATOR","\\",237],["T_STRING","MethodFactory",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$rateMethodFactory",237],",",["T_WHITESPACE","\n        ",237],["T_NS_SEPARATOR","\\",238],["T_STRING","Magento",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Shipping",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Model",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Tracking",238],["T_NS_SEPARATOR","\\",238],["T_STRING","ResultFactory",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$trackFactory",238],",",["T_WHITESPACE","\n        ",238],["T_NS_SEPARATOR","\\",239],["T_STRING","Magento",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Shipping",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Model",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Tracking",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Result",239],["T_NS_SEPARATOR","\\",239],["T_STRING","ErrorFactory",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$trackErrorFactory",239],",",["T_WHITESPACE","\n        ",239],["T_NS_SEPARATOR","\\",240],["T_STRING","Magento",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Shipping",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Model",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Tracking",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Result",240],["T_NS_SEPARATOR","\\",240],["T_STRING","StatusFactory",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$trackStatusFactory",240],",",["T_WHITESPACE","\n        ",240],["T_NS_SEPARATOR","\\",241],["T_STRING","Magento",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Directory",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Model",241],["T_NS_SEPARATOR","\\",241],["T_STRING","RegionFactory",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$regionFactory",241],",",["T_WHITESPACE","\n        ",241],["T_NS_SEPARATOR","\\",242],["T_STRING","Magento",242],["T_NS_SEPARATOR","\\",242],["T_STRING","Directory",242],["T_NS_SEPARATOR","\\",242],["T_STRING","Model",242],["T_NS_SEPARATOR","\\",242],["T_STRING","CountryFactory",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$countryFactory",242],",",["T_WHITESPACE","\n        ",242],["T_NS_SEPARATOR","\\",243],["T_STRING","Magento",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Directory",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Model",243],["T_NS_SEPARATOR","\\",243],["T_STRING","CurrencyFactory",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$currencyFactory",243],",",["T_WHITESPACE","\n        ",243],["T_NS_SEPARATOR","\\",244],["T_STRING","Magento",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Directory",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Helper",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Data",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$directoryData",244],",",["T_WHITESPACE","\n        ",244],["T_NS_SEPARATOR","\\",245],["T_STRING","Magento",245],["T_NS_SEPARATOR","\\",245],["T_STRING","CatalogInventory",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Api",245],["T_NS_SEPARATOR","\\",245],["T_STRING","StockRegistryInterface",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$stockRegistry",245],",",["T_WHITESPACE","\n        ",245],["T_NS_SEPARATOR","\\",246],["T_STRING","Magento",246],["T_NS_SEPARATOR","\\",246],["T_STRING","Shipping",246],["T_NS_SEPARATOR","\\",246],["T_STRING","Helper",246],["T_NS_SEPARATOR","\\",246],["T_STRING","Carrier",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$carrierHelper",246],",",["T_WHITESPACE","\n        ",246],["T_NS_SEPARATOR","\\",247],["T_STRING","Magento",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Framework",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Stdlib",247],["T_NS_SEPARATOR","\\",247],["T_STRING","DateTime",247],["T_NS_SEPARATOR","\\",247],["T_STRING","DateTime",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$coreDate",247],",",["T_WHITESPACE","\n        ",247],["T_NS_SEPARATOR","\\",248],["T_STRING","Magento",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Framework",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Module",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Dir",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Reader",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$configReader",248],",",["T_WHITESPACE","\n        ",248],["T_NS_SEPARATOR","\\",249],["T_STRING","Magento",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Store",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Model",249],["T_NS_SEPARATOR","\\",249],["T_STRING","StoreManagerInterface",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$storeManager",249],",",["T_WHITESPACE","\n        ",249],["T_NS_SEPARATOR","\\",250],["T_STRING","Magento",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Framework",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Stdlib",250],["T_NS_SEPARATOR","\\",250],["T_STRING","StringUtils",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$string",250],",",["T_WHITESPACE","\n        ",250],["T_NS_SEPARATOR","\\",251],["T_STRING","Magento",251],["T_NS_SEPARATOR","\\",251],["T_STRING","Framework",251],["T_NS_SEPARATOR","\\",251],["T_STRING","Math",251],["T_NS_SEPARATOR","\\",251],["T_STRING","Division",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$mathDivision",251],",",["T_WHITESPACE","\n        ",251],["T_NS_SEPARATOR","\\",252],["T_STRING","Magento",252],["T_NS_SEPARATOR","\\",252],["T_STRING","Framework",252],["T_NS_SEPARATOR","\\",252],["T_STRING","Filesystem",252],["T_NS_SEPARATOR","\\",252],["T_STRING","Directory",252],["T_NS_SEPARATOR","\\",252],["T_STRING","ReadFactory",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$readFactory",252],",",["T_WHITESPACE","\n        ",252],["T_NS_SEPARATOR","\\",253],["T_STRING","Magento",253],["T_NS_SEPARATOR","\\",253],["T_STRING","Framework",253],["T_NS_SEPARATOR","\\",253],["T_STRING","Stdlib",253],["T_NS_SEPARATOR","\\",253],["T_STRING","DateTime",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$dateTime",253],",",["T_WHITESPACE","\n        ",253],["T_NS_SEPARATOR","\\",254],["T_STRING","Magento",254],["T_NS_SEPARATOR","\\",254],["T_STRING","Framework",254],["T_NS_SEPARATOR","\\",254],["T_STRING","HTTP",254],["T_NS_SEPARATOR","\\",254],["T_STRING","ZendClientFactory",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$httpClientFactory",254],",",["T_WHITESPACE","\n        ",254],["T_ARRAY","array",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$data",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],"[","]",["T_WHITESPACE","\n    ",255],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","readFactory",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$readFactory",257],";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_carrierHelper",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$carrierHelper",258],";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_coreDate",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$coreDate",259],";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_storeManager",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$storeManager",260],";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_configReader",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$configReader",261],";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","string",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$string",262],";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","mathDivision",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$mathDivision",263],";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_dateTime",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$dateTime",264],";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_httpClientFactory",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$httpClientFactory",265],";",["T_WHITESPACE","\n        ",265],["T_STRING","parent",266],["T_DOUBLE_COLON","::",266],["T_STRING","__construct",266],"(",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$scopeConfig",267],",",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$rateErrorFactory",268],",",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$logger",269],",",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$xmlSecurity",270],",",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$xmlElFactory",271],",",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$rateFactory",272],",",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$rateMethodFactory",273],",",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$trackFactory",274],",",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$trackErrorFactory",275],",",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$trackStatusFactory",276],",",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$regionFactory",277],",",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$countryFactory",278],",",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$currencyFactory",279],",",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$directoryData",280],",",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$stockRegistry",281],",",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$data",282],["T_WHITESPACE","\n        ",282],")",";",["T_WHITESPACE","\n        ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getConfigData",284],"(",["T_CONSTANT_ENCAPSED_STRING","'content_type'",284],")",["T_WHITESPACE"," ",284],["T_IS_EQUAL","==",284],["T_WHITESPACE"," ",284],["T_STRING","self",284],["T_DOUBLE_COLON","::",284],["T_STRING","DHL_CONTENT_TYPE_DOC",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n            ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_freeMethod",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'free_method_doc'",285],";",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Returns value of given variable\n     *\n     * @param string|int $origValue\n     * @param string $pathToValue\n     * @return string|int|null\n     *\/",289],["T_WHITESPACE","\n    ",295],["T_PROTECTED","protected",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","_getDefaultValue",296],"(",["T_VARIABLE","$origValue",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$pathToValue",296],")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(","!",["T_VARIABLE","$origValue",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$origValue",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_scopeConfig",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getValue",299],"(",["T_WHITESPACE","\n                ",299],["T_VARIABLE","$pathToValue",300],",",["T_WHITESPACE","\n                ",300],["T_NS_SEPARATOR","\\",301],["T_STRING","Magento",301],["T_NS_SEPARATOR","\\",301],["T_STRING","Store",301],["T_NS_SEPARATOR","\\",301],["T_STRING","Model",301],["T_NS_SEPARATOR","\\",301],["T_STRING","ScopeInterface",301],["T_DOUBLE_COLON","::",301],["T_STRING","SCOPE_STORE",301],",",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getStore",302],"(",")",["T_WHITESPACE","\n            ",302],")",";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n\n        ",304],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$origValue",306],";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Collect and get rates\n     *\n     * @param RateRequest $request\n     * @return bool|Result|Error\n     *\/",309],["T_WHITESPACE","\n    ",314],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","collectRates",315],"(",["T_STRING","RateRequest",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$request",315],")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(","!",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","canCollectRates",317],"(",")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n            ",317],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getErrorMessage",318],"(",")",";",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n\n        ",319],["T_VARIABLE","$requestDhl",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_CLONE","clone",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$request",321],";",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","setStore",322],"(",["T_VARIABLE","$requestDhl",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getStoreId",322],"(",")",")",";",["T_WHITESPACE","\n\n        ",322],["T_VARIABLE","$origCompanyName",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_getDefaultValue",324],"(",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$requestDhl",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getOrigCompanyName",325],"(",")",",",["T_WHITESPACE","\n            ",325],["T_NS_SEPARATOR","\\",326],["T_STRING","Magento",326],["T_NS_SEPARATOR","\\",326],["T_STRING","Store",326],["T_NS_SEPARATOR","\\",326],["T_STRING","Model",326],["T_NS_SEPARATOR","\\",326],["T_STRING","Information",326],["T_DOUBLE_COLON","::",326],["T_STRING","XML_PATH_STORE_INFO_NAME",326],["T_WHITESPACE","\n        ",326],")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$origCountryId",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_getDefaultValue",328],"(",["T_VARIABLE","$requestDhl",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getOrigCountryId",328],"(",")",",",["T_WHITESPACE"," ",328],["T_STRING","Shipment",328],["T_DOUBLE_COLON","::",328],["T_STRING","XML_PATH_STORE_COUNTRY_ID",328],")",";",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$origState",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_getDefaultValue",329],"(",["T_VARIABLE","$requestDhl",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getOrigState",329],"(",")",",",["T_WHITESPACE"," ",329],["T_STRING","Shipment",329],["T_DOUBLE_COLON","::",329],["T_STRING","XML_PATH_STORE_REGION_ID",329],")",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$origCity",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_getDefaultValue",330],"(",["T_VARIABLE","$requestDhl",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getOrigCity",330],"(",")",",",["T_WHITESPACE"," ",330],["T_STRING","Shipment",330],["T_DOUBLE_COLON","::",330],["T_STRING","XML_PATH_STORE_CITY",330],")",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$origPostcode",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_getDefaultValue",331],"(",["T_VARIABLE","$requestDhl",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getOrigPostcode",331],"(",")",",",["T_WHITESPACE"," ",331],["T_STRING","Shipment",331],["T_DOUBLE_COLON","::",331],["T_STRING","XML_PATH_STORE_ZIP",331],")",";",["T_WHITESPACE","\n\n        ",331],["T_VARIABLE","$requestDhl",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","setOrigCompanyName",333],"(",["T_VARIABLE","$origCompanyName",333],")",["T_WHITESPACE","\n            ",333],["T_OBJECT_OPERATOR","->",334],["T_STRING","setCountryId",334],"(",["T_VARIABLE","$origCountryId",334],")",["T_WHITESPACE","\n            ",334],["T_OBJECT_OPERATOR","->",335],["T_STRING","setOrigState",335],"(",["T_VARIABLE","$origState",335],")",["T_WHITESPACE","\n            ",335],["T_OBJECT_OPERATOR","->",336],["T_STRING","setOrigCity",336],"(",["T_VARIABLE","$origCity",336],")",["T_WHITESPACE","\n            ",336],["T_OBJECT_OPERATOR","->",337],["T_STRING","setOrigPostal",337],"(",["T_VARIABLE","$origPostcode",337],")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","setRequest",338],"(",["T_VARIABLE","$requestDhl",338],")",";",["T_WHITESPACE","\n\n        ",338],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_result",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_getQuotes",340],"(",")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_updateFreeMethodQuote",341],"(",["T_VARIABLE","$request",341],")",";",["T_WHITESPACE","\n\n        ",341],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_result",343],";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Set Free Method Request\n     *\n     * @param string $freeMethod\n     * @return void\n     *\/",346],["T_WHITESPACE","\n    ",351],["T_PROTECTED","protected",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","_setFreeMethodRequest",352],"(",["T_VARIABLE","$freeMethod",352],")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_rawRequest",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","setFreeMethodRequest",354],"(",["T_STRING","true",354],")",";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$freeWeight",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getTotalNumOfBoxes",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_rawRequest",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getFreeMethodWeight",355],"(",")",")",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_rawRequest",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","setWeight",356],"(",["T_VARIABLE","$freeWeight",356],")",";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_rawRequest",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","setService",357],"(",["T_VARIABLE","$freeMethod",357],")",";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Returns request result\n     *\n     * @return Result|null\n     *\/",360],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","getResult",365],"(",")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_result",367],";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Fills request object with Dhl config parameters\n     *\n     * @param \\Magento\\Framework\\DataObject $requestObject\n     * @return \\Magento\\Framework\\DataObject\n     *\/",370],["T_WHITESPACE","\n    ",375],["T_PROTECTED","protected",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","_addParams",376],"(",["T_NS_SEPARATOR","\\",376],["T_STRING","Magento",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Framework",376],["T_NS_SEPARATOR","\\",376],["T_STRING","DataObject",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$requestObject",376],")",["T_WHITESPACE","\n    ",376],"{",["T_WHITESPACE","\n        ",377],["T_FOREACH","foreach",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_requestVariables",378],["T_WHITESPACE"," ",378],["T_AS","as",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$code",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$objectCode",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_request",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getDhlId",379],"(",")",")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n                ",379],["T_VARIABLE","$value",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_request",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","getData",380],"(",["T_VARIABLE","$objectCode",380],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",380],"]",")",";",["T_WHITESPACE","\n            ",380],"}",["T_WHITESPACE"," ",381],["T_ELSE","else",381],["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                ",381],["T_VARIABLE","$value",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getConfigData",382],"(",["T_VARIABLE","$code",382],")",";",["T_WHITESPACE","\n            ",382],"}",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$requestObject",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","setData",384],"(",["T_VARIABLE","$objectCode",384],"[",["T_CONSTANT_ENCAPSED_STRING","'setCode'",384],"]",",",["T_WHITESPACE"," ",384],["T_VARIABLE","$value",384],")",";",["T_WHITESPACE","\n        ",384],"}",["T_WHITESPACE","\n\n        ",385],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$requestObject",387],";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Prepare and set request in property of current instance\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",390],["T_WHITESPACE","\n    ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","setRequest",398],"(",["T_NS_SEPARATOR","\\",398],["T_STRING","Magento",398],["T_NS_SEPARATOR","\\",398],["T_STRING","Framework",398],["T_NS_SEPARATOR","\\",398],["T_STRING","DataObject",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$request",398],")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_request",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$request",400],";",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","setStore",401],"(",["T_VARIABLE","$request",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getStoreId",401],"(",")",")",";",["T_WHITESPACE","\n\n        ",401],["T_VARIABLE","$requestObject",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_NEW","new",403],["T_WHITESPACE"," ",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Magento",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Framework",403],["T_NS_SEPARATOR","\\",403],["T_STRING","DataObject",403],"(",")",";",["T_WHITESPACE","\n\n        ",403],["T_VARIABLE","$requestObject",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","setIsGenerateLabelReturn",405],"(",["T_VARIABLE","$request",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getIsGenerateLabelReturn",405],"(",")",")",";",["T_WHITESPACE","\n\n        ",405],["T_VARIABLE","$requestObject",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","setStoreId",407],"(",["T_VARIABLE","$request",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getStoreId",407],"(",")",")",";",["T_WHITESPACE","\n\n        ",407],["T_IF","if",409],["T_WHITESPACE"," ",409],"(",["T_VARIABLE","$request",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getLimitMethod",409],"(",")",")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$requestObject",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","setService",410],"(",["T_VARIABLE","$request",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","getLimitMethod",410],"(",")",")",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n\n        ",411],["T_VARIABLE","$requestObject",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_addParams",413],"(",["T_VARIABLE","$requestObject",413],")",";",["T_WHITESPACE","\n\n        ",413],["T_IF","if",415],["T_WHITESPACE"," ",415],"(",["T_VARIABLE","$request",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getDestPostcode",415],"(",")",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n            ",415],["T_VARIABLE","$requestObject",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","setDestPostal",416],"(",["T_VARIABLE","$request",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getDestPostcode",416],"(",")",")",";",["T_WHITESPACE","\n        ",416],"}",["T_WHITESPACE","\n\n        ",417],["T_VARIABLE","$requestObject",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","setOrigCountry",419],"(",["T_WHITESPACE","\n            ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_getDefaultValue",420],"(",["T_VARIABLE","$request",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getOrigCountry",420],"(",")",",",["T_WHITESPACE"," ",420],["T_STRING","Shipment",420],["T_DOUBLE_COLON","::",420],["T_STRING","XML_PATH_STORE_COUNTRY_ID",420],")",["T_WHITESPACE","\n        ",420],")",["T_OBJECT_OPERATOR","->",421],["T_STRING","setOrigCountryId",421],"(",["T_WHITESPACE","\n            ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_getDefaultValue",422],"(",["T_VARIABLE","$request",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getOrigCountryId",422],"(",")",",",["T_WHITESPACE"," ",422],["T_STRING","Shipment",422],["T_DOUBLE_COLON","::",422],["T_STRING","XML_PATH_STORE_COUNTRY_ID",422],")",["T_WHITESPACE","\n        ",422],")",";",["T_WHITESPACE","\n\n        ",423],["T_VARIABLE","$shippingWeight",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$request",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getPackageWeight",425],"(",")",";",["T_WHITESPACE","\n\n        ",425],["T_VARIABLE","$requestObject",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","setValue",427],"(",["T_STRING","round",427],"(",["T_VARIABLE","$request",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getPackageValue",427],"(",")",",",["T_WHITESPACE"," ",427],["T_LNUMBER","2",427],")",")",["T_WHITESPACE","\n            ",427],["T_OBJECT_OPERATOR","->",428],["T_STRING","setValueWithDiscount",428],"(",["T_VARIABLE","$request",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getPackageValueWithDiscount",428],"(",")",")",["T_WHITESPACE","\n            ",428],["T_OBJECT_OPERATOR","->",429],["T_STRING","setCustomsValue",429],"(",["T_VARIABLE","$request",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getPackageCustomsValue",429],"(",")",")",["T_WHITESPACE","\n            ",429],["T_OBJECT_OPERATOR","->",430],["T_STRING","setDestStreet",430],"(",["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","string",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","substr",430],"(",["T_STRING","str_replace",430],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",430],",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","''",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$request",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getDestStreet",430],"(",")",")",",",["T_WHITESPACE"," ",430],["T_LNUMBER","0",430],",",["T_WHITESPACE"," ",430],["T_LNUMBER","35",430],")",")",["T_WHITESPACE","\n            ",430],["T_OBJECT_OPERATOR","->",431],["T_STRING","setDestStreetLine2",431],"(",["T_VARIABLE","$request",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getDestStreetLine2",431],"(",")",")",["T_WHITESPACE","\n            ",431],["T_OBJECT_OPERATOR","->",432],["T_STRING","setDestCity",432],"(",["T_VARIABLE","$request",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","getDestCity",432],"(",")",")",["T_WHITESPACE","\n            ",432],["T_OBJECT_OPERATOR","->",433],["T_STRING","setOrigCompanyName",433],"(",["T_VARIABLE","$request",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getOrigCompanyName",433],"(",")",")",["T_WHITESPACE","\n            ",433],["T_OBJECT_OPERATOR","->",434],["T_STRING","setOrigCity",434],"(",["T_VARIABLE","$request",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getOrigCity",434],"(",")",")",["T_WHITESPACE","\n            ",434],["T_OBJECT_OPERATOR","->",435],["T_STRING","setOrigPhoneNumber",435],"(",["T_VARIABLE","$request",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","getOrigPhoneNumber",435],"(",")",")",["T_WHITESPACE","\n            ",435],["T_OBJECT_OPERATOR","->",436],["T_STRING","setOrigPersonName",436],"(",["T_VARIABLE","$request",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getOrigPersonName",436],"(",")",")",["T_WHITESPACE","\n            ",436],["T_OBJECT_OPERATOR","->",437],["T_STRING","setOrigEmail",437],"(",["T_WHITESPACE","\n                ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_scopeConfig",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getValue",438],"(",["T_WHITESPACE","\n                    ",438],["T_CONSTANT_ENCAPSED_STRING","'trans_email\/ident_general\/email'",439],",",["T_WHITESPACE","\n                    ",439],["T_NS_SEPARATOR","\\",440],["T_STRING","Magento",440],["T_NS_SEPARATOR","\\",440],["T_STRING","Store",440],["T_NS_SEPARATOR","\\",440],["T_STRING","Model",440],["T_NS_SEPARATOR","\\",440],["T_STRING","ScopeInterface",440],["T_DOUBLE_COLON","::",440],["T_STRING","SCOPE_STORE",440],",",["T_WHITESPACE","\n                    ",440],["T_VARIABLE","$requestObject",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getStoreId",441],"(",")",["T_WHITESPACE","\n                ",441],")",["T_WHITESPACE","\n            ",442],")",["T_WHITESPACE","\n            ",443],["T_OBJECT_OPERATOR","->",444],["T_STRING","setOrigCity",444],"(",["T_VARIABLE","$request",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getOrigCity",444],"(",")",")",["T_WHITESPACE","\n            ",444],["T_OBJECT_OPERATOR","->",445],["T_STRING","setOrigPostal",445],"(",["T_VARIABLE","$request",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getOrigPostal",445],"(",")",")",["T_WHITESPACE","\n            ",445],["T_OBJECT_OPERATOR","->",446],["T_STRING","setOrigStreetLine2",446],"(",["T_VARIABLE","$request",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getOrigStreetLine2",446],"(",")",")",["T_WHITESPACE","\n            ",446],["T_OBJECT_OPERATOR","->",447],["T_STRING","setDestPhoneNumber",447],"(",["T_VARIABLE","$request",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","getDestPhoneNumber",447],"(",")",")",["T_WHITESPACE","\n            ",447],["T_OBJECT_OPERATOR","->",448],["T_STRING","setDestPersonName",448],"(",["T_VARIABLE","$request",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getDestPersonName",448],"(",")",")",["T_WHITESPACE","\n            ",448],["T_OBJECT_OPERATOR","->",449],["T_STRING","setDestCompanyName",449],"(",["T_VARIABLE","$request",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getDestCompanyName",449],"(",")",")",";",["T_WHITESPACE","\n\n        ",449],["T_VARIABLE","$originStreet2",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_scopeConfig",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getValue",451],"(",["T_WHITESPACE","\n            ",451],["T_STRING","Shipment",452],["T_DOUBLE_COLON","::",452],["T_STRING","XML_PATH_STORE_ADDRESS2",452],",",["T_WHITESPACE","\n            ",452],["T_NS_SEPARATOR","\\",453],["T_STRING","Magento",453],["T_NS_SEPARATOR","\\",453],["T_STRING","Store",453],["T_NS_SEPARATOR","\\",453],["T_STRING","Model",453],["T_NS_SEPARATOR","\\",453],["T_STRING","ScopeInterface",453],["T_DOUBLE_COLON","::",453],["T_STRING","SCOPE_STORE",453],",",["T_WHITESPACE","\n            ",453],["T_VARIABLE","$requestObject",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getStoreId",454],"(",")",["T_WHITESPACE","\n        ",454],")",";",["T_WHITESPACE","\n\n        ",455],["T_VARIABLE","$requestObject",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","setOrigStreet",457],"(",["T_VARIABLE","$request",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getOrigStreet",457],"(",")",["T_WHITESPACE"," ",457],"?",["T_WHITESPACE"," ",457],["T_VARIABLE","$request",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getOrigStreet",457],"(",")",["T_WHITESPACE"," ",457],":",["T_WHITESPACE"," ",457],["T_VARIABLE","$originStreet2",457],")",";",["T_WHITESPACE","\n\n        ",457],["T_IF","if",459],["T_WHITESPACE"," ",459],"(",["T_STRING","is_numeric",459],"(",["T_VARIABLE","$request",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getOrigState",459],"(",")",")",")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$requestObject",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","setOrigState",460],"(",["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_regionFactory",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","create",460],"(",")",["T_OBJECT_OPERATOR","->",460],["T_STRING","load",460],"(",["T_VARIABLE","$request",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","getOrigState",460],"(",")",")",["T_OBJECT_OPERATOR","->",460],["T_STRING","getCode",460],"(",")",")",";",["T_WHITESPACE","\n        ",460],"}",["T_WHITESPACE"," ",461],["T_ELSE","else",461],["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n            ",461],["T_VARIABLE","$requestObject",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","setOrigState",462],"(",["T_VARIABLE","$request",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getOrigState",462],"(",")",")",";",["T_WHITESPACE","\n        ",462],"}",["T_WHITESPACE","\n\n        ",463],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$request",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","getDestCountryId",465],"(",")",")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n            ",465],["T_VARIABLE","$destCountry",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$request",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getDestCountryId",466],"(",")",";",["T_WHITESPACE","\n        ",466],"}",["T_WHITESPACE"," ",467],["T_ELSE","else",467],["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n            ",467],["T_VARIABLE","$destCountry",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_STRING","self",468],["T_DOUBLE_COLON","::",468],["T_STRING","USA_COUNTRY_ID",468],";",["T_WHITESPACE","\n        ",468],"}",["T_WHITESPACE","\n\n        ",469],["T_COMMENT","\/\/ for DHL, Puerto Rico state for US will assume as Puerto Rico country\n",471],["T_WHITESPACE","        ",472],["T_COMMENT","\/\/ for Puerto Rico, dhl will ship as international\n",472],["T_WHITESPACE","        ",473],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$destCountry",473],["T_WHITESPACE"," ",473],["T_IS_EQUAL","==",473],["T_WHITESPACE"," ",473],["T_STRING","self",473],["T_DOUBLE_COLON","::",473],["T_STRING","USA_COUNTRY_ID",473],["T_WHITESPACE","\n            ",473],["T_BOOLEAN_AND","&&",474],["T_WHITESPACE"," ",474],"(",["T_VARIABLE","$request",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getDestPostcode",474],"(",")",["T_WHITESPACE"," ",474],["T_IS_EQUAL","==",474],["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'00912'",474],["T_WHITESPACE"," ",474],["T_BOOLEAN_OR","||",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$request",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getDestRegionCode",474],"(",")",["T_WHITESPACE"," ",474],["T_IS_EQUAL","==",474],["T_WHITESPACE"," ",474],["T_STRING","self",474],["T_DOUBLE_COLON","::",474],["T_STRING","PUERTORICO_COUNTRY_ID",474],")",["T_WHITESPACE","\n        ",474],")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n            ",475],["T_VARIABLE","$destCountry",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","self",476],["T_DOUBLE_COLON","::",476],["T_STRING","PUERTORICO_COUNTRY_ID",476],";",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE","\n\n        ",477],["T_VARIABLE","$requestObject",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","setDestCountryId",479],"(",["T_VARIABLE","$destCountry",479],")",["T_WHITESPACE","\n            ",479],["T_OBJECT_OPERATOR","->",480],["T_STRING","setDestState",480],"(",["T_VARIABLE","$request",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getDestRegionCode",480],"(",")",")",["T_WHITESPACE","\n            ",480],["T_OBJECT_OPERATOR","->",481],["T_STRING","setWeight",481],"(",["T_VARIABLE","$shippingWeight",481],")",["T_WHITESPACE","\n            ",481],["T_OBJECT_OPERATOR","->",482],["T_STRING","setFreeMethodWeight",482],"(",["T_VARIABLE","$request",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getFreeMethodWeight",482],"(",")",")",["T_WHITESPACE","\n            ",482],["T_OBJECT_OPERATOR","->",483],["T_STRING","setOrderShipment",483],"(",["T_VARIABLE","$request",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getOrderShipment",483],"(",")",")",";",["T_WHITESPACE","\n\n        ",483],["T_IF","if",485],["T_WHITESPACE"," ",485],"(",["T_VARIABLE","$request",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getPackageId",485],"(",")",")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n            ",485],["T_VARIABLE","$requestObject",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","setPackageId",486],"(",["T_VARIABLE","$request",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getPackageId",486],"(",")",")",";",["T_WHITESPACE","\n        ",486],"}",["T_WHITESPACE","\n\n        ",487],["T_VARIABLE","$requestObject",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","setBaseSubtotalInclTax",489],"(",["T_VARIABLE","$request",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getBaseSubtotalInclTax",489],"(",")",")",";",["T_WHITESPACE","\n\n        ",489],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","setRawRequest",491],"(",["T_VARIABLE","$requestObject",491],")",";",["T_WHITESPACE","\n\n        ",491],["T_RETURN","return",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$this",493],";",["T_WHITESPACE","\n    ",493],"}",["T_WHITESPACE","\n\n    ",494],["T_DOC_COMMENT","\/**\n     * Get allowed shipping methods\n     *\n     * @return string[]\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",496],["T_WHITESPACE","\n    ",501],["T_PUBLIC","public",502],["T_WHITESPACE"," ",502],["T_FUNCTION","function",502],["T_WHITESPACE"," ",502],["T_STRING","getAllowedMethods",502],"(",")",["T_WHITESPACE","\n    ",502],"{",["T_WHITESPACE","\n        ",503],["T_VARIABLE","$contentType",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getConfigData",504],"(",["T_CONSTANT_ENCAPSED_STRING","'content_type'",504],")",";",["T_WHITESPACE","\n\n        ",504],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","_isDomestic",506],")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_VARIABLE","$allowedMethods",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_STRING","array_merge",507],"(",["T_WHITESPACE","\n                ",507],["T_STRING","explode",508],"(",["T_CONSTANT_ENCAPSED_STRING","','",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","getConfigData",508],"(",["T_CONSTANT_ENCAPSED_STRING","'doc_methods'",508],")",")",",",["T_WHITESPACE","\n                ",508],["T_STRING","explode",509],"(",["T_CONSTANT_ENCAPSED_STRING","','",509],",",["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","getConfigData",509],"(",["T_CONSTANT_ENCAPSED_STRING","'nondoc_methods'",509],")",")",["T_WHITESPACE","\n            ",509],")",";",["T_WHITESPACE","\n        ",510],"}",["T_WHITESPACE"," ",511],["T_ELSE","else",511],["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n            ",511],["T_SWITCH","switch",512],["T_WHITESPACE"," ",512],"(",["T_VARIABLE","$contentType",512],")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n                ",512],["T_CASE","case",513],["T_WHITESPACE"," ",513],["T_STRING","self",513],["T_DOUBLE_COLON","::",513],["T_STRING","DHL_CONTENT_TYPE_DOC",513],":",["T_WHITESPACE","\n                    ",513],["T_VARIABLE","$allowedMethods",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_STRING","explode",514],"(",["T_CONSTANT_ENCAPSED_STRING","','",514],",",["T_WHITESPACE"," ",514],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getConfigData",514],"(",["T_CONSTANT_ENCAPSED_STRING","'doc_methods'",514],")",")",";",["T_WHITESPACE","\n                    ",514],["T_BREAK","break",515],";",["T_WHITESPACE","\n                ",515],["T_CASE","case",516],["T_WHITESPACE"," ",516],["T_STRING","self",516],["T_DOUBLE_COLON","::",516],["T_STRING","DHL_CONTENT_TYPE_NON_DOC",516],":",["T_WHITESPACE","\n                    ",516],["T_VARIABLE","$allowedMethods",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_STRING","explode",517],"(",["T_CONSTANT_ENCAPSED_STRING","','",517],",",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getConfigData",517],"(",["T_CONSTANT_ENCAPSED_STRING","'nondoc_methods'",517],")",")",";",["T_WHITESPACE","\n                    ",517],["T_BREAK","break",518],";",["T_WHITESPACE","\n                ",518],["T_DEFAULT","default",519],":",["T_WHITESPACE","\n                    ",519],["T_THROW","throw",520],["T_WHITESPACE"," ",520],["T_NEW","new",520],["T_WHITESPACE"," ",520],["T_NS_SEPARATOR","\\",520],["T_STRING","Magento",520],["T_NS_SEPARATOR","\\",520],["T_STRING","Framework",520],["T_NS_SEPARATOR","\\",520],["T_STRING","Exception",520],["T_NS_SEPARATOR","\\",520],["T_STRING","LocalizedException",520],"(",["T_STRING","__",520],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong Content Type'",520],")",")",";",["T_WHITESPACE","\n            ",520],"}",["T_WHITESPACE","\n        ",521],"}",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$methods",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],"[","]",";",["T_WHITESPACE","\n        ",523],["T_FOREACH","foreach",524],["T_WHITESPACE"," ",524],"(",["T_VARIABLE","$allowedMethods",524],["T_WHITESPACE"," ",524],["T_AS","as",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$method",524],")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n            ",524],["T_VARIABLE","$methods",525],"[",["T_VARIABLE","$method",525],"]",["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","getDhlProductTitle",525],"(",["T_VARIABLE","$method",525],")",";",["T_WHITESPACE","\n        ",525],"}",["T_WHITESPACE","\n\n        ",526],["T_RETURN","return",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$methods",528],";",["T_WHITESPACE","\n    ",528],"}",["T_WHITESPACE","\n\n    ",529],["T_DOC_COMMENT","\/**\n     * Get configuration data of carrier\n     *\n     * @param string $type\n     * @param string $code\n     * @return array|bool\n     *\/",531],["T_WHITESPACE","\n    ",537],["T_PUBLIC","public",538],["T_WHITESPACE"," ",538],["T_FUNCTION","function",538],["T_WHITESPACE"," ",538],["T_STRING","getCode",538],"(",["T_VARIABLE","$type",538],",",["T_WHITESPACE"," ",538],["T_VARIABLE","$code",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","''",538],")",["T_WHITESPACE","\n    ",538],"{",["T_WHITESPACE","\n        ",539],["T_VARIABLE","$codes",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],"[",["T_WHITESPACE","\n            ",540],["T_CONSTANT_ENCAPSED_STRING","'unit_of_measure'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],"[",["T_CONSTANT_ENCAPSED_STRING","'L'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_STRING","__",541],"(",["T_CONSTANT_ENCAPSED_STRING","'Pounds'",541],")",",",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'K'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_STRING","__",541],"(",["T_CONSTANT_ENCAPSED_STRING","'Kilograms'",541],")","]",",",["T_WHITESPACE","\n            ",541],["T_CONSTANT_ENCAPSED_STRING","'unit_of_dimension'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],"[",["T_CONSTANT_ENCAPSED_STRING","'I'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_STRING","__",542],"(",["T_CONSTANT_ENCAPSED_STRING","'Inches'",542],")",",",["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","'C'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_STRING","__",542],"(",["T_CONSTANT_ENCAPSED_STRING","'Centimeters'",542],")","]",",",["T_WHITESPACE","\n            ",542],["T_CONSTANT_ENCAPSED_STRING","'unit_of_dimension_cut'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],"[",["T_CONSTANT_ENCAPSED_STRING","'I'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_STRING","__",543],"(",["T_CONSTANT_ENCAPSED_STRING","'inch'",543],")",",",["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","'C'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_STRING","__",543],"(",["T_CONSTANT_ENCAPSED_STRING","'cm'",543],")","]",",",["T_WHITESPACE","\n            ",543],["T_CONSTANT_ENCAPSED_STRING","'dimensions'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],"[",["T_CONSTANT_ENCAPSED_STRING","'HEIGHT'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_STRING","__",544],"(",["T_CONSTANT_ENCAPSED_STRING","'Height'",544],")",",",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'DEPTH'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_STRING","__",544],"(",["T_CONSTANT_ENCAPSED_STRING","'Depth'",544],")",",",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'WIDTH'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_STRING","__",544],"(",["T_CONSTANT_ENCAPSED_STRING","'Width'",544],")","]",",",["T_WHITESPACE","\n            ",544],["T_CONSTANT_ENCAPSED_STRING","'size'",545],["T_WHITESPACE"," ",545],["T_DOUBLE_ARROW","=>",545],["T_WHITESPACE"," ",545],"[",["T_CONSTANT_ENCAPSED_STRING","'0'",545],["T_WHITESPACE"," ",545],["T_DOUBLE_ARROW","=>",545],["T_WHITESPACE"," ",545],["T_STRING","__",545],"(",["T_CONSTANT_ENCAPSED_STRING","'Regular'",545],")",",",["T_WHITESPACE"," ",545],["T_CONSTANT_ENCAPSED_STRING","'1'",545],["T_WHITESPACE"," ",545],["T_DOUBLE_ARROW","=>",545],["T_WHITESPACE"," ",545],["T_STRING","__",545],"(",["T_CONSTANT_ENCAPSED_STRING","'Specific'",545],")","]",",",["T_WHITESPACE","\n            ",545],["T_CONSTANT_ENCAPSED_STRING","'dimensions_variables'",546],["T_WHITESPACE"," ",546],["T_DOUBLE_ARROW","=>",546],["T_WHITESPACE"," ",546],"[",["T_WHITESPACE","\n                ",546],["T_CONSTANT_ENCAPSED_STRING","'L'",547],["T_WHITESPACE"," ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_NS_SEPARATOR","\\",547],["T_STRING","Zend_Measure_Weight",547],["T_DOUBLE_COLON","::",547],["T_STRING","POUND",547],",",["T_WHITESPACE","\n                ",547],["T_CONSTANT_ENCAPSED_STRING","'LB'",548],["T_WHITESPACE"," ",548],["T_DOUBLE_ARROW","=>",548],["T_WHITESPACE"," ",548],["T_NS_SEPARATOR","\\",548],["T_STRING","Zend_Measure_Weight",548],["T_DOUBLE_COLON","::",548],["T_STRING","POUND",548],",",["T_WHITESPACE","\n                ",548],["T_CONSTANT_ENCAPSED_STRING","'POUND'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_NS_SEPARATOR","\\",549],["T_STRING","Zend_Measure_Weight",549],["T_DOUBLE_COLON","::",549],["T_STRING","POUND",549],",",["T_WHITESPACE","\n                ",549],["T_CONSTANT_ENCAPSED_STRING","'K'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_NS_SEPARATOR","\\",550],["T_STRING","Zend_Measure_Weight",550],["T_DOUBLE_COLON","::",550],["T_STRING","KILOGRAM",550],",",["T_WHITESPACE","\n                ",550],["T_CONSTANT_ENCAPSED_STRING","'KG'",551],["T_WHITESPACE"," ",551],["T_DOUBLE_ARROW","=>",551],["T_WHITESPACE"," ",551],["T_NS_SEPARATOR","\\",551],["T_STRING","Zend_Measure_Weight",551],["T_DOUBLE_COLON","::",551],["T_STRING","KILOGRAM",551],",",["T_WHITESPACE","\n                ",551],["T_CONSTANT_ENCAPSED_STRING","'KILOGRAM'",552],["T_WHITESPACE"," ",552],["T_DOUBLE_ARROW","=>",552],["T_WHITESPACE"," ",552],["T_NS_SEPARATOR","\\",552],["T_STRING","Zend_Measure_Weight",552],["T_DOUBLE_COLON","::",552],["T_STRING","KILOGRAM",552],",",["T_WHITESPACE","\n                ",552],["T_CONSTANT_ENCAPSED_STRING","'I'",553],["T_WHITESPACE"," ",553],["T_DOUBLE_ARROW","=>",553],["T_WHITESPACE"," ",553],["T_NS_SEPARATOR","\\",553],["T_STRING","Zend_Measure_Length",553],["T_DOUBLE_COLON","::",553],["T_STRING","INCH",553],",",["T_WHITESPACE","\n                ",553],["T_CONSTANT_ENCAPSED_STRING","'IN'",554],["T_WHITESPACE"," ",554],["T_DOUBLE_ARROW","=>",554],["T_WHITESPACE"," ",554],["T_NS_SEPARATOR","\\",554],["T_STRING","Zend_Measure_Length",554],["T_DOUBLE_COLON","::",554],["T_STRING","INCH",554],",",["T_WHITESPACE","\n                ",554],["T_CONSTANT_ENCAPSED_STRING","'INCH'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],["T_NS_SEPARATOR","\\",555],["T_STRING","Zend_Measure_Length",555],["T_DOUBLE_COLON","::",555],["T_STRING","INCH",555],",",["T_WHITESPACE","\n                ",555],["T_CONSTANT_ENCAPSED_STRING","'C'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],["T_NS_SEPARATOR","\\",556],["T_STRING","Zend_Measure_Length",556],["T_DOUBLE_COLON","::",556],["T_STRING","CENTIMETER",556],",",["T_WHITESPACE","\n                ",556],["T_CONSTANT_ENCAPSED_STRING","'CM'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_NS_SEPARATOR","\\",557],["T_STRING","Zend_Measure_Length",557],["T_DOUBLE_COLON","::",557],["T_STRING","CENTIMETER",557],",",["T_WHITESPACE","\n                ",557],["T_CONSTANT_ENCAPSED_STRING","'CENTIMETER'",558],["T_WHITESPACE"," ",558],["T_DOUBLE_ARROW","=>",558],["T_WHITESPACE"," ",558],["T_NS_SEPARATOR","\\",558],["T_STRING","Zend_Measure_Length",558],["T_DOUBLE_COLON","::",558],["T_STRING","CENTIMETER",558],",",["T_WHITESPACE","\n            ",558],"]",",",["T_WHITESPACE","\n        ",559],"]",";",["T_WHITESPACE","\n\n        ",560],["T_IF","if",562],["T_WHITESPACE"," ",562],"(","!",["T_ISSET","isset",562],"(",["T_VARIABLE","$codes",562],"[",["T_VARIABLE","$type",562],"]",")",")",["T_WHITESPACE"," ",562],"{",["T_WHITESPACE","\n            ",562],["T_RETURN","return",563],["T_WHITESPACE"," ",563],["T_STRING","false",563],";",["T_WHITESPACE","\n        ",563],"}",["T_WHITESPACE"," ",564],["T_ELSEIF","elseif",564],["T_WHITESPACE"," ",564],"(",["T_CONSTANT_ENCAPSED_STRING","''",564],["T_WHITESPACE"," ",564],["T_IS_IDENTICAL","===",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$code",564],")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n            ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$codes",565],"[",["T_VARIABLE","$type",565],"]",";",["T_WHITESPACE","\n        ",565],"}",["T_WHITESPACE","\n\n        ",566],["T_VARIABLE","$code",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_STRING","strtoupper",568],"(",["T_VARIABLE","$code",568],")",";",["T_WHITESPACE","\n        ",568],["T_IF","if",569],["T_WHITESPACE"," ",569],"(","!",["T_ISSET","isset",569],"(",["T_VARIABLE","$codes",569],"[",["T_VARIABLE","$type",569],"]","[",["T_VARIABLE","$code",569],"]",")",")",["T_WHITESPACE"," ",569],"{",["T_WHITESPACE","\n            ",569],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_STRING","false",570],";",["T_WHITESPACE","\n        ",570],"}",["T_WHITESPACE"," ",571],["T_ELSE","else",571],["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n            ",571],["T_RETURN","return",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$codes",572],"[",["T_VARIABLE","$type",572],"]","[",["T_VARIABLE","$code",572],"]",";",["T_WHITESPACE","\n        ",572],"}",["T_WHITESPACE","\n    ",573],"}",["T_WHITESPACE","\n\n    ",574],["T_DOC_COMMENT","\/**\n     * Returns DHL shipment methods (depending on package content type, if necessary)\n     *\n     * @param string $doc Package content type (doc\/non-doc) see DHL_CONTENT_TYPE_* constants\n     * @return array\n     *\/",576],["T_WHITESPACE","\n    ",581],["T_PUBLIC","public",582],["T_WHITESPACE"," ",582],["T_FUNCTION","function",582],["T_WHITESPACE"," ",582],["T_STRING","getDhlProducts",582],"(",["T_VARIABLE","$doc",582],")",["T_WHITESPACE","\n    ",582],"{",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$docType",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],"[",["T_WHITESPACE","\n            ",584],["T_CONSTANT_ENCAPSED_STRING","'2'",585],["T_WHITESPACE"," ",585],["T_DOUBLE_ARROW","=>",585],["T_WHITESPACE"," ",585],["T_STRING","__",585],"(",["T_CONSTANT_ENCAPSED_STRING","'Easy shop'",585],")",",",["T_WHITESPACE","\n            ",585],["T_CONSTANT_ENCAPSED_STRING","'5'",586],["T_WHITESPACE"," ",586],["T_DOUBLE_ARROW","=>",586],["T_WHITESPACE"," ",586],["T_STRING","__",586],"(",["T_CONSTANT_ENCAPSED_STRING","'Sprintline'",586],")",",",["T_WHITESPACE","\n            ",586],["T_CONSTANT_ENCAPSED_STRING","'6'",587],["T_WHITESPACE"," ",587],["T_DOUBLE_ARROW","=>",587],["T_WHITESPACE"," ",587],["T_STRING","__",587],"(",["T_CONSTANT_ENCAPSED_STRING","'Secureline'",587],")",",",["T_WHITESPACE","\n            ",587],["T_CONSTANT_ENCAPSED_STRING","'7'",588],["T_WHITESPACE"," ",588],["T_DOUBLE_ARROW","=>",588],["T_WHITESPACE"," ",588],["T_STRING","__",588],"(",["T_CONSTANT_ENCAPSED_STRING","'Express easy'",588],")",",",["T_WHITESPACE","\n            ",588],["T_CONSTANT_ENCAPSED_STRING","'9'",589],["T_WHITESPACE"," ",589],["T_DOUBLE_ARROW","=>",589],["T_WHITESPACE"," ",589],["T_STRING","__",589],"(",["T_CONSTANT_ENCAPSED_STRING","'Europack'",589],")",",",["T_WHITESPACE","\n            ",589],["T_CONSTANT_ENCAPSED_STRING","'B'",590],["T_WHITESPACE"," ",590],["T_DOUBLE_ARROW","=>",590],["T_WHITESPACE"," ",590],["T_STRING","__",590],"(",["T_CONSTANT_ENCAPSED_STRING","'Break bulk express'",590],")",",",["T_WHITESPACE","\n            ",590],["T_CONSTANT_ENCAPSED_STRING","'C'",591],["T_WHITESPACE"," ",591],["T_DOUBLE_ARROW","=>",591],["T_WHITESPACE"," ",591],["T_STRING","__",591],"(",["T_CONSTANT_ENCAPSED_STRING","'Medical express'",591],")",",",["T_WHITESPACE","\n            ",591],["T_CONSTANT_ENCAPSED_STRING","'D'",592],["T_WHITESPACE"," ",592],["T_DOUBLE_ARROW","=>",592],["T_WHITESPACE"," ",592],["T_STRING","__",592],"(",["T_CONSTANT_ENCAPSED_STRING","'Express worldwide'",592],")",",",["T_WHITESPACE","\n            ",592],["T_CONSTANT_ENCAPSED_STRING","'U'",593],["T_WHITESPACE"," ",593],["T_DOUBLE_ARROW","=>",593],["T_WHITESPACE"," ",593],["T_STRING","__",593],"(",["T_CONSTANT_ENCAPSED_STRING","'Express worldwide'",593],")",",",["T_WHITESPACE","\n            ",593],["T_CONSTANT_ENCAPSED_STRING","'K'",594],["T_WHITESPACE"," ",594],["T_DOUBLE_ARROW","=>",594],["T_WHITESPACE"," ",594],["T_STRING","__",594],"(",["T_CONSTANT_ENCAPSED_STRING","'Express 9:00'",594],")",",",["T_WHITESPACE","\n            ",594],["T_CONSTANT_ENCAPSED_STRING","'L'",595],["T_WHITESPACE"," ",595],["T_DOUBLE_ARROW","=>",595],["T_WHITESPACE"," ",595],["T_STRING","__",595],"(",["T_CONSTANT_ENCAPSED_STRING","'Express 10:30'",595],")",",",["T_WHITESPACE","\n            ",595],["T_CONSTANT_ENCAPSED_STRING","'G'",596],["T_WHITESPACE"," ",596],["T_DOUBLE_ARROW","=>",596],["T_WHITESPACE"," ",596],["T_STRING","__",596],"(",["T_CONSTANT_ENCAPSED_STRING","'Domestic economy select'",596],")",",",["T_WHITESPACE","\n            ",596],["T_CONSTANT_ENCAPSED_STRING","'W'",597],["T_WHITESPACE"," ",597],["T_DOUBLE_ARROW","=>",597],["T_WHITESPACE"," ",597],["T_STRING","__",597],"(",["T_CONSTANT_ENCAPSED_STRING","'Economy select'",597],")",",",["T_WHITESPACE","\n            ",597],["T_CONSTANT_ENCAPSED_STRING","'I'",598],["T_WHITESPACE"," ",598],["T_DOUBLE_ARROW","=>",598],["T_WHITESPACE"," ",598],["T_STRING","__",598],"(",["T_CONSTANT_ENCAPSED_STRING","'Break bulk economy'",598],")",",",["T_WHITESPACE","\n            ",598],["T_CONSTANT_ENCAPSED_STRING","'N'",599],["T_WHITESPACE"," ",599],["T_DOUBLE_ARROW","=>",599],["T_WHITESPACE"," ",599],["T_STRING","__",599],"(",["T_CONSTANT_ENCAPSED_STRING","'Domestic express'",599],")",",",["T_WHITESPACE","\n            ",599],["T_CONSTANT_ENCAPSED_STRING","'O'",600],["T_WHITESPACE"," ",600],["T_DOUBLE_ARROW","=>",600],["T_WHITESPACE"," ",600],["T_STRING","__",600],"(",["T_CONSTANT_ENCAPSED_STRING","'Others'",600],")",",",["T_WHITESPACE","\n            ",600],["T_CONSTANT_ENCAPSED_STRING","'R'",601],["T_WHITESPACE"," ",601],["T_DOUBLE_ARROW","=>",601],["T_WHITESPACE"," ",601],["T_STRING","__",601],"(",["T_CONSTANT_ENCAPSED_STRING","'Globalmail business'",601],")",",",["T_WHITESPACE","\n            ",601],["T_CONSTANT_ENCAPSED_STRING","'S'",602],["T_WHITESPACE"," ",602],["T_DOUBLE_ARROW","=>",602],["T_WHITESPACE"," ",602],["T_STRING","__",602],"(",["T_CONSTANT_ENCAPSED_STRING","'Same day'",602],")",",",["T_WHITESPACE","\n            ",602],["T_CONSTANT_ENCAPSED_STRING","'T'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_STRING","__",603],"(",["T_CONSTANT_ENCAPSED_STRING","'Express 12:00'",603],")",",",["T_WHITESPACE","\n            ",603],["T_CONSTANT_ENCAPSED_STRING","'X'",604],["T_WHITESPACE"," ",604],["T_DOUBLE_ARROW","=>",604],["T_WHITESPACE"," ",604],["T_STRING","__",604],"(",["T_CONSTANT_ENCAPSED_STRING","'Express envelope'",604],")",",",["T_WHITESPACE","\n        ",604],"]",";",["T_WHITESPACE","\n\n        ",605],["T_VARIABLE","$nonDocType",607],["T_WHITESPACE"," ",607],"=",["T_WHITESPACE"," ",607],"[",["T_WHITESPACE","\n            ",607],["T_CONSTANT_ENCAPSED_STRING","'1'",608],["T_WHITESPACE"," ",608],["T_DOUBLE_ARROW","=>",608],["T_WHITESPACE"," ",608],["T_STRING","__",608],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer services'",608],")",",",["T_WHITESPACE","\n            ",608],["T_CONSTANT_ENCAPSED_STRING","'3'",609],["T_WHITESPACE"," ",609],["T_DOUBLE_ARROW","=>",609],["T_WHITESPACE"," ",609],["T_STRING","__",609],"(",["T_CONSTANT_ENCAPSED_STRING","'Easy shop'",609],")",",",["T_WHITESPACE","\n            ",609],["T_CONSTANT_ENCAPSED_STRING","'4'",610],["T_WHITESPACE"," ",610],["T_DOUBLE_ARROW","=>",610],["T_WHITESPACE"," ",610],["T_STRING","__",610],"(",["T_CONSTANT_ENCAPSED_STRING","'Jetline'",610],")",",",["T_WHITESPACE","\n            ",610],["T_CONSTANT_ENCAPSED_STRING","'8'",611],["T_WHITESPACE"," ",611],["T_DOUBLE_ARROW","=>",611],["T_WHITESPACE"," ",611],["T_STRING","__",611],"(",["T_CONSTANT_ENCAPSED_STRING","'Express easy'",611],")",",",["T_WHITESPACE","\n            ",611],["T_CONSTANT_ENCAPSED_STRING","'P'",612],["T_WHITESPACE"," ",612],["T_DOUBLE_ARROW","=>",612],["T_WHITESPACE"," ",612],["T_STRING","__",612],"(",["T_CONSTANT_ENCAPSED_STRING","'Express worldwide'",612],")",",",["T_WHITESPACE","\n            ",612],["T_CONSTANT_ENCAPSED_STRING","'Q'",613],["T_WHITESPACE"," ",613],["T_DOUBLE_ARROW","=>",613],["T_WHITESPACE"," ",613],["T_STRING","__",613],"(",["T_CONSTANT_ENCAPSED_STRING","'Medical express'",613],")",",",["T_WHITESPACE","\n            ",613],["T_CONSTANT_ENCAPSED_STRING","'E'",614],["T_WHITESPACE"," ",614],["T_DOUBLE_ARROW","=>",614],["T_WHITESPACE"," ",614],["T_STRING","__",614],"(",["T_CONSTANT_ENCAPSED_STRING","'Express 9:00'",614],")",",",["T_WHITESPACE","\n            ",614],["T_CONSTANT_ENCAPSED_STRING","'F'",615],["T_WHITESPACE"," ",615],["T_DOUBLE_ARROW","=>",615],["T_WHITESPACE"," ",615],["T_STRING","__",615],"(",["T_CONSTANT_ENCAPSED_STRING","'Freight worldwide'",615],")",",",["T_WHITESPACE","\n            ",615],["T_CONSTANT_ENCAPSED_STRING","'H'",616],["T_WHITESPACE"," ",616],["T_DOUBLE_ARROW","=>",616],["T_WHITESPACE"," ",616],["T_STRING","__",616],"(",["T_CONSTANT_ENCAPSED_STRING","'Economy select'",616],")",",",["T_WHITESPACE","\n            ",616],["T_CONSTANT_ENCAPSED_STRING","'J'",617],["T_WHITESPACE"," ",617],["T_DOUBLE_ARROW","=>",617],["T_WHITESPACE"," ",617],["T_STRING","__",617],"(",["T_CONSTANT_ENCAPSED_STRING","'Jumbo box'",617],")",",",["T_WHITESPACE","\n            ",617],["T_CONSTANT_ENCAPSED_STRING","'M'",618],["T_WHITESPACE"," ",618],["T_DOUBLE_ARROW","=>",618],["T_WHITESPACE"," ",618],["T_STRING","__",618],"(",["T_CONSTANT_ENCAPSED_STRING","'Express 10:30'",618],")",",",["T_WHITESPACE","\n            ",618],["T_CONSTANT_ENCAPSED_STRING","'V'",619],["T_WHITESPACE"," ",619],["T_DOUBLE_ARROW","=>",619],["T_WHITESPACE"," ",619],["T_STRING","__",619],"(",["T_CONSTANT_ENCAPSED_STRING","'Europack'",619],")",",",["T_WHITESPACE","\n            ",619],["T_CONSTANT_ENCAPSED_STRING","'Y'",620],["T_WHITESPACE"," ",620],["T_DOUBLE_ARROW","=>",620],["T_WHITESPACE"," ",620],["T_STRING","__",620],"(",["T_CONSTANT_ENCAPSED_STRING","'Express 12:00'",620],")",",",["T_WHITESPACE","\n        ",620],"]",";",["T_WHITESPACE","\n\n        ",621],["T_IF","if",623],["T_WHITESPACE"," ",623],"(",["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","_isDomestic",623],")",["T_WHITESPACE"," ",623],"{",["T_WHITESPACE","\n            ",623],["T_RETURN","return",624],["T_WHITESPACE"," ",624],["T_VARIABLE","$docType",624],["T_WHITESPACE"," ",624],"+",["T_WHITESPACE"," ",624],["T_VARIABLE","$nonDocType",624],";",["T_WHITESPACE","\n        ",624],"}",["T_WHITESPACE","\n        ",625],["T_IF","if",626],["T_WHITESPACE"," ",626],"(",["T_VARIABLE","$doc",626],["T_WHITESPACE"," ",626],["T_IS_EQUAL","==",626],["T_WHITESPACE"," ",626],["T_STRING","self",626],["T_DOUBLE_COLON","::",626],["T_STRING","DHL_CONTENT_TYPE_DOC",626],")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n            ",626],["T_COMMENT","\/\/ Documents shipping\n",627],["T_WHITESPACE","            ",628],["T_RETURN","return",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$docType",628],";",["T_WHITESPACE","\n        ",628],"}",["T_WHITESPACE"," ",629],["T_ELSE","else",629],["T_WHITESPACE"," ",629],"{",["T_WHITESPACE","\n            ",629],["T_COMMENT","\/\/ Services for shipping non-documents cargo\n",630],["T_WHITESPACE","            ",631],["T_RETURN","return",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$nonDocType",631],";",["T_WHITESPACE","\n        ",631],"}",["T_WHITESPACE","\n    ",632],"}",["T_WHITESPACE","\n\n    ",633],["T_DOC_COMMENT","\/**\n     * Returns title of DHL shipping method by its code\n     *\n     * @param string $code One-symbol code (see getDhlProducts())\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",635],["T_WHITESPACE","\n    ",641],["T_PUBLIC","public",642],["T_WHITESPACE"," ",642],["T_FUNCTION","function",642],["T_WHITESPACE"," ",642],["T_STRING","getDhlProductTitle",642],"(",["T_VARIABLE","$code",642],")",["T_WHITESPACE","\n    ",642],"{",["T_WHITESPACE","\n        ",643],["T_VARIABLE","$contentType",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","getConfigData",644],"(",["T_CONSTANT_ENCAPSED_STRING","'content_type'",644],")",";",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$dhlProducts",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getDhlProducts",645],"(",["T_VARIABLE","$contentType",645],")",";",["T_WHITESPACE","\n\n        ",645],["T_RETURN","return",647],["T_WHITESPACE"," ",647],["T_ISSET","isset",647],"(",["T_VARIABLE","$dhlProducts",647],"[",["T_VARIABLE","$code",647],"]",")",["T_WHITESPACE"," ",647],"?",["T_WHITESPACE"," ",647],["T_VARIABLE","$dhlProducts",647],"[",["T_VARIABLE","$code",647],"]",["T_WHITESPACE"," ",647],":",["T_WHITESPACE"," ",647],["T_STRING","false",647],";",["T_WHITESPACE","\n    ",647],"}",["T_WHITESPACE","\n\n    ",648],["T_DOC_COMMENT","\/**\n     * Convert item weight to needed weight based on config weight unit dimensions\n     *\n     * @param float $weight\n     * @param bool $maxWeight\n     * @param string|bool $configWeightUnit\n     * @return float\n     *\/",650],["T_WHITESPACE","\n    ",657],["T_PROTECTED","protected",658],["T_WHITESPACE"," ",658],["T_FUNCTION","function",658],["T_WHITESPACE"," ",658],["T_STRING","_getWeight",658],"(",["T_VARIABLE","$weight",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$maxWeight",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_STRING","false",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$configWeightUnit",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_STRING","false",658],")",["T_WHITESPACE","\n    ",658],"{",["T_WHITESPACE","\n        ",659],["T_IF","if",660],["T_WHITESPACE"," ",660],"(",["T_VARIABLE","$maxWeight",660],")",["T_WHITESPACE"," ",660],"{",["T_WHITESPACE","\n            ",660],["T_VARIABLE","$configWeightUnit",661],["T_WHITESPACE"," ",661],"=",["T_WHITESPACE"," ",661],["T_NS_SEPARATOR","\\",661],["T_STRING","Zend_Measure_Weight",661],["T_DOUBLE_COLON","::",661],["T_STRING","KILOGRAM",661],";",["T_WHITESPACE","\n        ",661],"}",["T_WHITESPACE"," ",662],["T_ELSEIF","elseif",662],["T_WHITESPACE"," ",662],"(",["T_VARIABLE","$configWeightUnit",662],")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n            ",662],["T_VARIABLE","$configWeightUnit",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","getCode",663],"(",["T_CONSTANT_ENCAPSED_STRING","'dimensions_variables'",663],",",["T_WHITESPACE"," ",663],["T_VARIABLE","$configWeightUnit",663],")",";",["T_WHITESPACE","\n        ",663],"}",["T_WHITESPACE"," ",664],["T_ELSE","else",664],["T_WHITESPACE"," ",664],"{",["T_WHITESPACE","\n            ",664],["T_VARIABLE","$configWeightUnit",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","getCode",665],"(",["T_WHITESPACE","\n                ",665],["T_CONSTANT_ENCAPSED_STRING","'dimensions_variables'",666],",",["T_WHITESPACE","\n                ",666],["T_STRING_CAST","(string)",667],["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","getConfigData",667],"(",["T_CONSTANT_ENCAPSED_STRING","'unit_of_measure'",667],")",["T_WHITESPACE","\n            ",667],")",";",["T_WHITESPACE","\n        ",668],"}",["T_WHITESPACE","\n\n        ",669],["T_VARIABLE","$countryWeightUnit",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","getCode",671],"(",["T_CONSTANT_ENCAPSED_STRING","'dimensions_variables'",671],",",["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","_getWeightUnit",671],"(",")",")",";",["T_WHITESPACE","\n\n        ",671],["T_IF","if",673],["T_WHITESPACE"," ",673],"(",["T_VARIABLE","$configWeightUnit",673],["T_WHITESPACE"," ",673],["T_IS_NOT_EQUAL","!=",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$countryWeightUnit",673],")",["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n            ",673],["T_VARIABLE","$weight",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","_carrierHelper",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","convertMeasureWeight",674],"(",["T_WHITESPACE","\n                ",674],["T_STRING","round",675],"(",["T_VARIABLE","$weight",675],",",["T_WHITESPACE"," ",675],["T_LNUMBER","3",675],")",",",["T_WHITESPACE","\n                ",675],["T_VARIABLE","$configWeightUnit",676],",",["T_WHITESPACE","\n                ",676],["T_VARIABLE","$countryWeightUnit",677],["T_WHITESPACE","\n            ",677],")",";",["T_WHITESPACE","\n        ",678],"}",["T_WHITESPACE","\n\n        ",679],["T_RETURN","return",681],["T_WHITESPACE"," ",681],["T_STRING","round",681],"(",["T_VARIABLE","$weight",681],",",["T_WHITESPACE"," ",681],["T_LNUMBER","3",681],")",";",["T_WHITESPACE","\n    ",681],"}",["T_WHITESPACE","\n\n    ",682],["T_DOC_COMMENT","\/**\n     * Prepare items to pieces\n     *\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",684],["T_WHITESPACE","\n    ",690],["T_PROTECTED","protected",691],["T_WHITESPACE"," ",691],["T_FUNCTION","function",691],["T_WHITESPACE"," ",691],["T_STRING","_getAllItems",691],"(",")",["T_WHITESPACE","\n    ",691],"{",["T_WHITESPACE","\n        ",692],["T_VARIABLE","$allItems",693],["T_WHITESPACE"," ",693],"=",["T_WHITESPACE"," ",693],["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","_request",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","getAllItems",693],"(",")",";",["T_WHITESPACE","\n        ",693],["T_VARIABLE","$fullItems",694],["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],"[","]",";",["T_WHITESPACE","\n\n        ",694],["T_FOREACH","foreach",696],["T_WHITESPACE"," ",696],"(",["T_VARIABLE","$allItems",696],["T_WHITESPACE"," ",696],["T_AS","as",696],["T_WHITESPACE"," ",696],["T_VARIABLE","$item",696],")",["T_WHITESPACE"," ",696],"{",["T_WHITESPACE","\n            ",696],["T_IF","if",697],["T_WHITESPACE"," ",697],"(",["T_VARIABLE","$item",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","getProductType",697],"(",")",["T_WHITESPACE"," ",697],["T_IS_EQUAL","==",697],["T_WHITESPACE"," ",697],["T_STRING","Type",697],["T_DOUBLE_COLON","::",697],["T_STRING","TYPE_BUNDLE",697],["T_WHITESPACE"," ",697],["T_BOOLEAN_AND","&&",697],["T_WHITESPACE"," ",697],["T_VARIABLE","$item",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","getProduct",697],"(",")",["T_OBJECT_OPERATOR","->",697],["T_STRING","getShipmentType",697],"(",")",")",["T_WHITESPACE"," ",697],"{",["T_WHITESPACE","\n                ",697],["T_CONTINUE","continue",698],";",["T_WHITESPACE","\n            ",698],"}",["T_WHITESPACE","\n\n            ",699],["T_VARIABLE","$qty",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_VARIABLE","$item",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","getQty",701],"(",")",";",["T_WHITESPACE","\n            ",701],["T_VARIABLE","$changeQty",702],["T_WHITESPACE"," ",702],"=",["T_WHITESPACE"," ",702],["T_STRING","true",702],";",["T_WHITESPACE","\n            ",702],["T_VARIABLE","$checkWeight",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_STRING","true",703],";",["T_WHITESPACE","\n            ",703],["T_VARIABLE","$decimalItems",704],["T_WHITESPACE"," ",704],"=",["T_WHITESPACE"," ",704],"[","]",";",["T_WHITESPACE","\n\n            ",704],["T_IF","if",706],["T_WHITESPACE"," ",706],"(",["T_VARIABLE","$item",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","getParentItem",706],"(",")",")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n                ",706],["T_IF","if",707],["T_WHITESPACE"," ",707],"(","!",["T_VARIABLE","$item",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","getParentItem",707],"(",")",["T_OBJECT_OPERATOR","->",707],["T_STRING","getProduct",707],"(",")",["T_OBJECT_OPERATOR","->",707],["T_STRING","getShipmentType",707],"(",")",")",["T_WHITESPACE"," ",707],"{",["T_WHITESPACE","\n                    ",707],["T_CONTINUE","continue",708],";",["T_WHITESPACE","\n                ",708],"}",["T_WHITESPACE","\n                ",709],["T_IF","if",710],["T_WHITESPACE"," ",710],"(",["T_VARIABLE","$item",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","getIsQtyDecimal",710],"(",")",")",["T_WHITESPACE"," ",710],"{",["T_WHITESPACE","\n                    ",710],["T_VARIABLE","$qty",711],["T_WHITESPACE"," ",711],"=",["T_WHITESPACE"," ",711],["T_VARIABLE","$item",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","getParentItem",711],"(",")",["T_OBJECT_OPERATOR","->",711],["T_STRING","getQty",711],"(",")",";",["T_WHITESPACE","\n                ",711],"}",["T_WHITESPACE"," ",712],["T_ELSE","else",712],["T_WHITESPACE"," ",712],"{",["T_WHITESPACE","\n                    ",712],["T_VARIABLE","$qty",713],["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],["T_VARIABLE","$item",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","getParentItem",713],"(",")",["T_OBJECT_OPERATOR","->",713],["T_STRING","getQty",713],"(",")",["T_WHITESPACE"," ",713],"*",["T_WHITESPACE"," ",713],["T_VARIABLE","$item",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","getQty",713],"(",")",";",["T_WHITESPACE","\n                ",713],"}",["T_WHITESPACE","\n            ",714],"}",["T_WHITESPACE","\n\n            ",715],["T_VARIABLE","$itemWeight",717],["T_WHITESPACE"," ",717],"=",["T_WHITESPACE"," ",717],["T_VARIABLE","$item",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","getWeight",717],"(",")",";",["T_WHITESPACE","\n            ",717],["T_IF","if",718],["T_WHITESPACE"," ",718],"(",["T_VARIABLE","$item",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","getIsQtyDecimal",718],"(",")",["T_WHITESPACE"," ",718],["T_BOOLEAN_AND","&&",718],["T_WHITESPACE"," ",718],["T_VARIABLE","$item",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","getProductType",718],"(",")",["T_WHITESPACE"," ",718],["T_IS_NOT_EQUAL","!=",718],["T_WHITESPACE"," ",718],["T_STRING","Type",718],["T_DOUBLE_COLON","::",718],["T_STRING","TYPE_BUNDLE",718],")",["T_WHITESPACE"," ",718],"{",["T_WHITESPACE","\n                ",718],["T_VARIABLE","$productId",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],["T_VARIABLE","$item",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","getProduct",719],"(",")",["T_OBJECT_OPERATOR","->",719],["T_STRING","getId",719],"(",")",";",["T_WHITESPACE","\n                ",719],["T_VARIABLE","$stockItemDo",720],["T_WHITESPACE"," ",720],"=",["T_WHITESPACE"," ",720],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","stockRegistry",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","getStockItem",720],"(",["T_VARIABLE","$productId",720],",",["T_WHITESPACE"," ",720],["T_VARIABLE","$item",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","getStore",720],"(",")",["T_OBJECT_OPERATOR","->",720],["T_STRING","getWebsiteId",720],"(",")",")",";",["T_WHITESPACE","\n                ",720],["T_VARIABLE","$isDecimalDivided",721],["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_VARIABLE","$stockItemDo",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","getIsDecimalDivided",721],"(",")",";",["T_WHITESPACE","\n                ",721],["T_IF","if",722],["T_WHITESPACE"," ",722],"(",["T_VARIABLE","$isDecimalDivided",722],")",["T_WHITESPACE"," ",722],"{",["T_WHITESPACE","\n                    ",722],["T_IF","if",723],["T_WHITESPACE"," ",723],"(",["T_VARIABLE","$stockItemDo",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","getEnableQtyIncrements",723],"(",")",["T_WHITESPACE","\n                        ",723],["T_BOOLEAN_AND","&&",724],["T_WHITESPACE"," ",724],["T_VARIABLE","$stockItemDo",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","getQtyIncrements",724],"(",")",["T_WHITESPACE","\n                    ",724],")",["T_WHITESPACE"," ",725],"{",["T_WHITESPACE","\n                        ",725],["T_VARIABLE","$itemWeight",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$itemWeight",726],["T_WHITESPACE"," ",726],"*",["T_WHITESPACE"," ",726],["T_VARIABLE","$stockItemDo",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","getQtyIncrements",726],"(",")",";",["T_WHITESPACE","\n                        ",726],["T_VARIABLE","$qty",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_STRING","round",727],"(",["T_VARIABLE","$item",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","getWeight",727],"(",")",["T_WHITESPACE"," ",727],"\/",["T_WHITESPACE"," ",727],["T_VARIABLE","$itemWeight",727],["T_WHITESPACE"," ",727],"*",["T_WHITESPACE"," ",727],["T_VARIABLE","$qty",727],")",";",["T_WHITESPACE","\n                        ",727],["T_VARIABLE","$changeQty",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_STRING","false",728],";",["T_WHITESPACE","\n                    ",728],"}",["T_WHITESPACE"," ",729],["T_ELSE","else",729],["T_WHITESPACE"," ",729],"{",["T_WHITESPACE","\n                        ",729],["T_VARIABLE","$itemWeight",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","_getWeight",730],"(",["T_VARIABLE","$itemWeight",730],["T_WHITESPACE"," ",730],"*",["T_WHITESPACE"," ",730],["T_VARIABLE","$item",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","getQty",730],"(",")",")",";",["T_WHITESPACE","\n                        ",730],["T_VARIABLE","$maxWeight",731],["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","_getWeight",731],"(",["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","_maxWeight",731],",",["T_WHITESPACE"," ",731],["T_STRING","true",731],")",";",["T_WHITESPACE","\n                        ",731],["T_IF","if",732],["T_WHITESPACE"," ",732],"(",["T_VARIABLE","$itemWeight",732],["T_WHITESPACE"," ",732],">",["T_WHITESPACE"," ",732],["T_VARIABLE","$maxWeight",732],")",["T_WHITESPACE"," ",732],"{",["T_WHITESPACE","\n                            ",732],["T_VARIABLE","$qtyItem",733],["T_WHITESPACE"," ",733],"=",["T_WHITESPACE"," ",733],["T_STRING","floor",733],"(",["T_VARIABLE","$itemWeight",733],["T_WHITESPACE"," ",733],"\/",["T_WHITESPACE"," ",733],["T_VARIABLE","$maxWeight",733],")",";",["T_WHITESPACE","\n                            ",733],["T_VARIABLE","$decimalItems",734],"[","]",["T_WHITESPACE"," ",734],"=",["T_WHITESPACE"," ",734],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",734],["T_WHITESPACE"," ",734],["T_DOUBLE_ARROW","=>",734],["T_WHITESPACE"," ",734],["T_VARIABLE","$maxWeight",734],",",["T_WHITESPACE"," ",734],["T_CONSTANT_ENCAPSED_STRING","'qty'",734],["T_WHITESPACE"," ",734],["T_DOUBLE_ARROW","=>",734],["T_WHITESPACE"," ",734],["T_VARIABLE","$qtyItem",734],"]",";",["T_WHITESPACE","\n                            ",734],["T_VARIABLE","$weightItem",735],["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","mathDivision",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","getExactDivision",735],"(",["T_VARIABLE","$itemWeight",735],",",["T_WHITESPACE"," ",735],["T_VARIABLE","$maxWeight",735],")",";",["T_WHITESPACE","\n                            ",735],["T_IF","if",736],["T_WHITESPACE"," ",736],"(",["T_VARIABLE","$weightItem",736],")",["T_WHITESPACE"," ",736],"{",["T_WHITESPACE","\n                                ",736],["T_VARIABLE","$decimalItems",737],"[","]",["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",737],["T_WHITESPACE"," ",737],["T_DOUBLE_ARROW","=>",737],["T_WHITESPACE"," ",737],["T_VARIABLE","$weightItem",737],",",["T_WHITESPACE"," ",737],["T_CONSTANT_ENCAPSED_STRING","'qty'",737],["T_WHITESPACE"," ",737],["T_DOUBLE_ARROW","=>",737],["T_WHITESPACE"," ",737],["T_LNUMBER","1",737],"]",";",["T_WHITESPACE","\n                            ",737],"}",["T_WHITESPACE","\n                            ",738],["T_VARIABLE","$checkWeight",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_STRING","false",739],";",["T_WHITESPACE","\n                        ",739],"}",["T_WHITESPACE","\n                    ",740],"}",["T_WHITESPACE","\n                ",741],"}",["T_WHITESPACE"," ",742],["T_ELSE","else",742],["T_WHITESPACE"," ",742],"{",["T_WHITESPACE","\n                    ",742],["T_VARIABLE","$itemWeight",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_VARIABLE","$itemWeight",743],["T_WHITESPACE"," ",743],"*",["T_WHITESPACE"," ",743],["T_VARIABLE","$item",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","getQty",743],"(",")",";",["T_WHITESPACE","\n                ",743],"}",["T_WHITESPACE","\n            ",744],"}",["T_WHITESPACE","\n\n            ",745],["T_IF","if",747],["T_WHITESPACE"," ",747],"(",["T_VARIABLE","$checkWeight",747],["T_WHITESPACE"," ",747],["T_BOOLEAN_AND","&&",747],["T_WHITESPACE"," ",747],["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","_getWeight",747],"(",["T_VARIABLE","$itemWeight",747],")",["T_WHITESPACE"," ",747],">",["T_WHITESPACE"," ",747],["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","_getWeight",747],"(",["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","_maxWeight",747],",",["T_WHITESPACE"," ",747],["T_STRING","true",747],")",")",["T_WHITESPACE"," ",747],"{",["T_WHITESPACE","\n                ",747],["T_RETURN","return",748],["T_WHITESPACE"," ",748],"[","]",";",["T_WHITESPACE","\n            ",748],"}",["T_WHITESPACE","\n\n            ",749],["T_IF","if",751],["T_WHITESPACE"," ",751],"(",["T_VARIABLE","$changeQty",751],["T_WHITESPACE","\n                ",751],["T_BOOLEAN_AND","&&",752],["T_WHITESPACE"," ",752],"!",["T_VARIABLE","$item",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","getParentItem",752],"(",")",["T_WHITESPACE","\n                ",752],["T_BOOLEAN_AND","&&",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$item",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","getIsQtyDecimal",753],"(",")",["T_WHITESPACE","\n                ",753],["T_BOOLEAN_AND","&&",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$item",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","getProductType",754],"(",")",["T_WHITESPACE"," ",754],["T_IS_NOT_EQUAL","!=",754],["T_WHITESPACE"," ",754],["T_STRING","Type",754],["T_DOUBLE_COLON","::",754],["T_STRING","TYPE_BUNDLE",754],["T_WHITESPACE","\n            ",754],")",["T_WHITESPACE"," ",755],"{",["T_WHITESPACE","\n                ",755],["T_VARIABLE","$qty",756],["T_WHITESPACE"," ",756],"=",["T_WHITESPACE"," ",756],["T_LNUMBER","1",756],";",["T_WHITESPACE","\n            ",756],"}",["T_WHITESPACE","\n\n            ",757],["T_IF","if",759],["T_WHITESPACE"," ",759],"(","!",["T_EMPTY","empty",759],"(",["T_VARIABLE","$decimalItems",759],")",")",["T_WHITESPACE"," ",759],"{",["T_WHITESPACE","\n                ",759],["T_FOREACH","foreach",760],["T_WHITESPACE"," ",760],"(",["T_VARIABLE","$decimalItems",760],["T_WHITESPACE"," ",760],["T_AS","as",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$decimalItem",760],")",["T_WHITESPACE"," ",760],"{",["T_WHITESPACE","\n                    ",760],["T_VARIABLE","$fullItems",761],["T_WHITESPACE"," ",761],"=",["T_WHITESPACE"," ",761],["T_STRING","array_merge",761],"(",["T_WHITESPACE","\n                        ",761],["T_VARIABLE","$fullItems",762],",",["T_WHITESPACE","\n                        ",762],["T_STRING","array_fill",763],"(",["T_LNUMBER","0",763],",",["T_WHITESPACE"," ",763],["T_VARIABLE","$decimalItem",763],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",763],"]",["T_WHITESPACE"," ",763],"*",["T_WHITESPACE"," ",763],["T_VARIABLE","$qty",763],",",["T_WHITESPACE"," ",763],["T_VARIABLE","$decimalItem",763],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",763],"]",")",["T_WHITESPACE","\n                    ",763],")",";",["T_WHITESPACE","\n                ",764],"}",["T_WHITESPACE","\n            ",765],"}",["T_WHITESPACE"," ",766],["T_ELSE","else",766],["T_WHITESPACE"," ",766],"{",["T_WHITESPACE","\n                ",766],["T_VARIABLE","$fullItems",767],["T_WHITESPACE"," ",767],"=",["T_WHITESPACE"," ",767],["T_STRING","array_merge",767],"(",["T_VARIABLE","$fullItems",767],",",["T_WHITESPACE"," ",767],["T_STRING","array_fill",767],"(",["T_LNUMBER","0",767],",",["T_WHITESPACE"," ",767],["T_VARIABLE","$qty",767],",",["T_WHITESPACE"," ",767],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","_getWeight",767],"(",["T_VARIABLE","$itemWeight",767],")",")",")",";",["T_WHITESPACE","\n            ",767],"}",["T_WHITESPACE","\n        ",768],"}",["T_WHITESPACE","\n        ",769],["T_STRING","sort",770],"(",["T_VARIABLE","$fullItems",770],")",";",["T_WHITESPACE","\n\n        ",770],["T_RETURN","return",772],["T_WHITESPACE"," ",772],["T_VARIABLE","$fullItems",772],";",["T_WHITESPACE","\n    ",772],"}",["T_WHITESPACE","\n\n    ",773],["T_DOC_COMMENT","\/**\n     * Make pieces\n     *\n     * @param \\Magento\\Shipping\\Model\\Simplexml\\Element $nodeBkgDetails\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",775],["T_WHITESPACE","\n    ",781],["T_PROTECTED","protected",782],["T_WHITESPACE"," ",782],["T_FUNCTION","function",782],["T_WHITESPACE"," ",782],["T_STRING","_makePieces",782],"(",["T_NS_SEPARATOR","\\",782],["T_STRING","Magento",782],["T_NS_SEPARATOR","\\",782],["T_STRING","Shipping",782],["T_NS_SEPARATOR","\\",782],["T_STRING","Model",782],["T_NS_SEPARATOR","\\",782],["T_STRING","Simplexml",782],["T_NS_SEPARATOR","\\",782],["T_STRING","Element",782],["T_WHITESPACE"," ",782],["T_VARIABLE","$nodeBkgDetails",782],")",["T_WHITESPACE","\n    ",782],"{",["T_WHITESPACE","\n        ",783],["T_VARIABLE","$divideOrderWeight",784],["T_WHITESPACE"," ",784],"=",["T_WHITESPACE"," ",784],["T_STRING_CAST","(string)",784],["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","getConfigData",784],"(",["T_CONSTANT_ENCAPSED_STRING","'divide_order_weight'",784],")",";",["T_WHITESPACE","\n        ",784],["T_VARIABLE","$nodePieces",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_VARIABLE","$nodeBkgDetails",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","addChild",785],"(",["T_CONSTANT_ENCAPSED_STRING","'Pieces'",785],",",["T_WHITESPACE"," ",785],["T_CONSTANT_ENCAPSED_STRING","''",785],",",["T_WHITESPACE"," ",785],["T_CONSTANT_ENCAPSED_STRING","''",785],")",";",["T_WHITESPACE","\n        ",785],["T_VARIABLE","$items",786],["T_WHITESPACE"," ",786],"=",["T_WHITESPACE"," ",786],["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","_getAllItems",786],"(",")",";",["T_WHITESPACE","\n        ",786],["T_VARIABLE","$numberOfPieces",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_LNUMBER","0",787],";",["T_WHITESPACE","\n\n        ",787],["T_IF","if",789],["T_WHITESPACE"," ",789],"(",["T_VARIABLE","$divideOrderWeight",789],["T_WHITESPACE"," ",789],["T_BOOLEAN_AND","&&",789],["T_WHITESPACE"," ",789],"!",["T_EMPTY","empty",789],"(",["T_VARIABLE","$items",789],")",")",["T_WHITESPACE"," ",789],"{",["T_WHITESPACE","\n            ",789],["T_VARIABLE","$maxWeight",790],["T_WHITESPACE"," ",790],"=",["T_WHITESPACE"," ",790],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","_getWeight",790],"(",["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","_maxWeight",790],",",["T_WHITESPACE"," ",790],["T_STRING","true",790],")",";",["T_WHITESPACE","\n            ",790],["T_VARIABLE","$sumWeight",791],["T_WHITESPACE"," ",791],"=",["T_WHITESPACE"," ",791],["T_LNUMBER","0",791],";",["T_WHITESPACE","\n\n            ",791],["T_VARIABLE","$reverseOrderItems",793],["T_WHITESPACE"," ",793],"=",["T_WHITESPACE"," ",793],["T_VARIABLE","$items",793],";",["T_WHITESPACE","\n            ",793],["T_STRING","arsort",794],"(",["T_VARIABLE","$reverseOrderItems",794],")",";",["T_WHITESPACE","\n\n            ",794],["T_FOREACH","foreach",796],["T_WHITESPACE"," ",796],"(",["T_VARIABLE","$reverseOrderItems",796],["T_WHITESPACE"," ",796],["T_AS","as",796],["T_WHITESPACE"," ",796],["T_VARIABLE","$key",796],["T_WHITESPACE"," ",796],["T_DOUBLE_ARROW","=>",796],["T_WHITESPACE"," ",796],["T_VARIABLE","$weight",796],")",["T_WHITESPACE"," ",796],"{",["T_WHITESPACE","\n                ",796],["T_IF","if",797],["T_WHITESPACE"," ",797],"(","!",["T_ISSET","isset",797],"(",["T_VARIABLE","$items",797],"[",["T_VARIABLE","$key",797],"]",")",")",["T_WHITESPACE"," ",797],"{",["T_WHITESPACE","\n                    ",797],["T_CONTINUE","continue",798],";",["T_WHITESPACE","\n                ",798],"}",["T_WHITESPACE","\n                ",799],["T_UNSET","unset",800],"(",["T_VARIABLE","$items",800],"[",["T_VARIABLE","$key",800],"]",")",";",["T_WHITESPACE","\n                ",800],["T_VARIABLE","$sumWeight",801],["T_WHITESPACE"," ",801],"=",["T_WHITESPACE"," ",801],["T_VARIABLE","$weight",801],";",["T_WHITESPACE","\n                ",801],["T_FOREACH","foreach",802],["T_WHITESPACE"," ",802],"(",["T_VARIABLE","$items",802],["T_WHITESPACE"," ",802],["T_AS","as",802],["T_WHITESPACE"," ",802],["T_VARIABLE","$key",802],["T_WHITESPACE"," ",802],["T_DOUBLE_ARROW","=>",802],["T_WHITESPACE"," ",802],["T_VARIABLE","$weight",802],")",["T_WHITESPACE"," ",802],"{",["T_WHITESPACE","\n                    ",802],["T_IF","if",803],["T_WHITESPACE"," ",803],"(",["T_VARIABLE","$sumWeight",803],["T_WHITESPACE"," ",803],"+",["T_WHITESPACE"," ",803],["T_VARIABLE","$weight",803],["T_WHITESPACE"," ",803],"<",["T_WHITESPACE"," ",803],["T_VARIABLE","$maxWeight",803],")",["T_WHITESPACE"," ",803],"{",["T_WHITESPACE","\n                        ",803],["T_UNSET","unset",804],"(",["T_VARIABLE","$items",804],"[",["T_VARIABLE","$key",804],"]",")",";",["T_WHITESPACE","\n                        ",804],["T_VARIABLE","$sumWeight",805],["T_WHITESPACE"," ",805],["T_PLUS_EQUAL","+=",805],["T_WHITESPACE"," ",805],["T_VARIABLE","$weight",805],";",["T_WHITESPACE","\n                    ",805],"}",["T_WHITESPACE"," ",806],["T_ELSEIF","elseif",806],["T_WHITESPACE"," ",806],"(",["T_VARIABLE","$sumWeight",806],["T_WHITESPACE"," ",806],"+",["T_WHITESPACE"," ",806],["T_VARIABLE","$weight",806],["T_WHITESPACE"," ",806],">",["T_WHITESPACE"," ",806],["T_VARIABLE","$maxWeight",806],")",["T_WHITESPACE"," ",806],"{",["T_WHITESPACE","\n                        ",806],["T_VARIABLE","$numberOfPieces",807],["T_INC","++",807],";",["T_WHITESPACE","\n                        ",807],["T_VARIABLE","$nodePiece",808],["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_VARIABLE","$nodePieces",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","addChild",808],"(",["T_CONSTANT_ENCAPSED_STRING","'Piece'",808],",",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","''",808],",",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","''",808],")",";",["T_WHITESPACE","\n                        ",808],["T_VARIABLE","$nodePiece",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","addChild",809],"(",["T_CONSTANT_ENCAPSED_STRING","'PieceID'",809],",",["T_WHITESPACE"," ",809],["T_VARIABLE","$numberOfPieces",809],")",";",["T_WHITESPACE","\n                        ",809],["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","_addDimension",810],"(",["T_VARIABLE","$nodePiece",810],")",";",["T_WHITESPACE","\n                        ",810],["T_VARIABLE","$nodePiece",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","addChild",811],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",811],",",["T_WHITESPACE"," ",811],["T_VARIABLE","$sumWeight",811],")",";",["T_WHITESPACE","\n                        ",811],["T_BREAK","break",812],";",["T_WHITESPACE","\n                    ",812],"}",["T_WHITESPACE"," ",813],["T_ELSE","else",813],["T_WHITESPACE"," ",813],"{",["T_WHITESPACE","\n                        ",813],["T_UNSET","unset",814],"(",["T_VARIABLE","$items",814],"[",["T_VARIABLE","$key",814],"]",")",";",["T_WHITESPACE","\n                        ",814],["T_VARIABLE","$numberOfPieces",815],["T_INC","++",815],";",["T_WHITESPACE","\n                        ",815],["T_VARIABLE","$sumWeight",816],["T_WHITESPACE"," ",816],["T_PLUS_EQUAL","+=",816],["T_WHITESPACE"," ",816],["T_VARIABLE","$weight",816],";",["T_WHITESPACE","\n                        ",816],["T_VARIABLE","$nodePiece",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_VARIABLE","$nodePieces",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","addChild",817],"(",["T_CONSTANT_ENCAPSED_STRING","'Piece'",817],",",["T_WHITESPACE"," ",817],["T_CONSTANT_ENCAPSED_STRING","''",817],",",["T_WHITESPACE"," ",817],["T_CONSTANT_ENCAPSED_STRING","''",817],")",";",["T_WHITESPACE","\n                        ",817],["T_VARIABLE","$nodePiece",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","addChild",818],"(",["T_CONSTANT_ENCAPSED_STRING","'PieceID'",818],",",["T_WHITESPACE"," ",818],["T_VARIABLE","$numberOfPieces",818],")",";",["T_WHITESPACE","\n                        ",818],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","_addDimension",819],"(",["T_VARIABLE","$nodePiece",819],")",";",["T_WHITESPACE","\n                        ",819],["T_VARIABLE","$nodePiece",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","addChild",820],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",820],",",["T_WHITESPACE"," ",820],["T_VARIABLE","$sumWeight",820],")",";",["T_WHITESPACE","\n                        ",820],["T_VARIABLE","$sumWeight",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_LNUMBER","0",821],";",["T_WHITESPACE","\n                        ",821],["T_BREAK","break",822],";",["T_WHITESPACE","\n                    ",822],"}",["T_WHITESPACE","\n                ",823],"}",["T_WHITESPACE","\n            ",824],"}",["T_WHITESPACE","\n            ",825],["T_IF","if",826],["T_WHITESPACE"," ",826],"(",["T_VARIABLE","$sumWeight",826],["T_WHITESPACE"," ",826],">",["T_WHITESPACE"," ",826],["T_LNUMBER","0",826],")",["T_WHITESPACE"," ",826],"{",["T_WHITESPACE","\n                ",826],["T_VARIABLE","$numberOfPieces",827],["T_INC","++",827],";",["T_WHITESPACE","\n                ",827],["T_VARIABLE","$nodePiece",828],["T_WHITESPACE"," ",828],"=",["T_WHITESPACE"," ",828],["T_VARIABLE","$nodePieces",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","addChild",828],"(",["T_CONSTANT_ENCAPSED_STRING","'Piece'",828],",",["T_WHITESPACE"," ",828],["T_CONSTANT_ENCAPSED_STRING","''",828],",",["T_WHITESPACE"," ",828],["T_CONSTANT_ENCAPSED_STRING","''",828],")",";",["T_WHITESPACE","\n                ",828],["T_VARIABLE","$nodePiece",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","addChild",829],"(",["T_CONSTANT_ENCAPSED_STRING","'PieceID'",829],",",["T_WHITESPACE"," ",829],["T_VARIABLE","$numberOfPieces",829],")",";",["T_WHITESPACE","\n                ",829],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","_addDimension",830],"(",["T_VARIABLE","$nodePiece",830],")",";",["T_WHITESPACE","\n                ",830],["T_VARIABLE","$nodePiece",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","addChild",831],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",831],",",["T_WHITESPACE"," ",831],["T_VARIABLE","$sumWeight",831],")",";",["T_WHITESPACE","\n            ",831],"}",["T_WHITESPACE","\n        ",832],"}",["T_WHITESPACE"," ",833],["T_ELSE","else",833],["T_WHITESPACE"," ",833],"{",["T_WHITESPACE","\n            ",833],["T_VARIABLE","$nodePiece",834],["T_WHITESPACE"," ",834],"=",["T_WHITESPACE"," ",834],["T_VARIABLE","$nodePieces",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","addChild",834],"(",["T_CONSTANT_ENCAPSED_STRING","'Piece'",834],",",["T_WHITESPACE"," ",834],["T_CONSTANT_ENCAPSED_STRING","''",834],",",["T_WHITESPACE"," ",834],["T_CONSTANT_ENCAPSED_STRING","''",834],")",";",["T_WHITESPACE","\n            ",834],["T_VARIABLE","$nodePiece",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","addChild",835],"(",["T_CONSTANT_ENCAPSED_STRING","'PieceID'",835],",",["T_WHITESPACE"," ",835],["T_LNUMBER","1",835],")",";",["T_WHITESPACE","\n            ",835],["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","_addDimension",836],"(",["T_VARIABLE","$nodePiece",836],")",";",["T_WHITESPACE","\n            ",836],["T_VARIABLE","$nodePiece",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","addChild",837],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",837],",",["T_WHITESPACE"," ",837],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","_getWeight",837],"(",["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","_rawRequest",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","getWeight",837],"(",")",")",")",";",["T_WHITESPACE","\n        ",837],"}",["T_WHITESPACE","\n\n        ",838],["T_VARIABLE","$handlingAction",840],["T_WHITESPACE"," ",840],"=",["T_WHITESPACE"," ",840],["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","getConfigData",840],"(",["T_CONSTANT_ENCAPSED_STRING","'handling_action'",840],")",";",["T_WHITESPACE","\n        ",840],["T_IF","if",841],["T_WHITESPACE"," ",841],"(",["T_VARIABLE","$handlingAction",841],["T_WHITESPACE"," ",841],["T_IS_EQUAL","==",841],["T_WHITESPACE"," ",841],["T_STRING","AbstractCarrier",841],["T_DOUBLE_COLON","::",841],["T_STRING","HANDLING_ACTION_PERORDER",841],["T_WHITESPACE"," ",841],["T_BOOLEAN_OR","||",841],["T_WHITESPACE"," ",841],"!",["T_VARIABLE","$numberOfPieces",841],")",["T_WHITESPACE"," ",841],"{",["T_WHITESPACE","\n            ",841],["T_VARIABLE","$numberOfPieces",842],["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],["T_LNUMBER","1",842],";",["T_WHITESPACE","\n        ",842],"}",["T_WHITESPACE","\n        ",843],["T_VARIABLE","$this",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","_numBoxes",844],["T_WHITESPACE"," ",844],"=",["T_WHITESPACE"," ",844],["T_VARIABLE","$numberOfPieces",844],";",["T_WHITESPACE","\n    ",844],"}",["T_WHITESPACE","\n\n    ",845],["T_DOC_COMMENT","\/**\n     * Convert item dimension to needed dimension based on config dimension unit of measure\n     *\n     * @param float $dimension\n     * @param string|bool $configWeightUnit\n     * @return float\n     *\/",847],["T_WHITESPACE","\n    ",853],["T_PROTECTED","protected",854],["T_WHITESPACE"," ",854],["T_FUNCTION","function",854],["T_WHITESPACE"," ",854],["T_STRING","_getDimension",854],"(",["T_VARIABLE","$dimension",854],",",["T_WHITESPACE"," ",854],["T_VARIABLE","$configWeightUnit",854],["T_WHITESPACE"," ",854],"=",["T_WHITESPACE"," ",854],["T_STRING","false",854],")",["T_WHITESPACE","\n    ",854],"{",["T_WHITESPACE","\n        ",855],["T_IF","if",856],["T_WHITESPACE"," ",856],"(","!",["T_VARIABLE","$configWeightUnit",856],")",["T_WHITESPACE"," ",856],"{",["T_WHITESPACE","\n            ",856],["T_VARIABLE","$configWeightUnit",857],["T_WHITESPACE"," ",857],"=",["T_WHITESPACE"," ",857],["T_VARIABLE","$this",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","getCode",857],"(",["T_WHITESPACE","\n                ",857],["T_CONSTANT_ENCAPSED_STRING","'dimensions_variables'",858],",",["T_WHITESPACE","\n                ",858],["T_STRING_CAST","(string)",859],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","getConfigData",859],"(",["T_CONSTANT_ENCAPSED_STRING","'unit_of_measure'",859],")",["T_WHITESPACE","\n            ",859],")",";",["T_WHITESPACE","\n        ",860],"}",["T_WHITESPACE"," ",861],["T_ELSE","else",861],["T_WHITESPACE"," ",861],"{",["T_WHITESPACE","\n            ",861],["T_VARIABLE","$configWeightUnit",862],["T_WHITESPACE"," ",862],"=",["T_WHITESPACE"," ",862],["T_VARIABLE","$this",862],["T_OBJECT_OPERATOR","->",862],["T_STRING","getCode",862],"(",["T_CONSTANT_ENCAPSED_STRING","'dimensions_variables'",862],",",["T_WHITESPACE"," ",862],["T_VARIABLE","$configWeightUnit",862],")",";",["T_WHITESPACE","\n        ",862],"}",["T_WHITESPACE","\n\n        ",863],["T_IF","if",865],["T_WHITESPACE"," ",865],"(",["T_VARIABLE","$configWeightUnit",865],["T_WHITESPACE"," ",865],["T_IS_EQUAL","==",865],["T_WHITESPACE"," ",865],["T_NS_SEPARATOR","\\",865],["T_STRING","Zend_Measure_Weight",865],["T_DOUBLE_COLON","::",865],["T_STRING","POUND",865],")",["T_WHITESPACE"," ",865],"{",["T_WHITESPACE","\n            ",865],["T_VARIABLE","$configDimensionUnit",866],["T_WHITESPACE"," ",866],"=",["T_WHITESPACE"," ",866],["T_NS_SEPARATOR","\\",866],["T_STRING","Zend_Measure_Length",866],["T_DOUBLE_COLON","::",866],["T_STRING","INCH",866],";",["T_WHITESPACE","\n        ",866],"}",["T_WHITESPACE"," ",867],["T_ELSE","else",867],["T_WHITESPACE"," ",867],"{",["T_WHITESPACE","\n            ",867],["T_VARIABLE","$configDimensionUnit",868],["T_WHITESPACE"," ",868],"=",["T_WHITESPACE"," ",868],["T_NS_SEPARATOR","\\",868],["T_STRING","Zend_Measure_Length",868],["T_DOUBLE_COLON","::",868],["T_STRING","CENTIMETER",868],";",["T_WHITESPACE","\n        ",868],"}",["T_WHITESPACE","\n\n        ",869],["T_VARIABLE","$countryDimensionUnit",871],["T_WHITESPACE"," ",871],"=",["T_WHITESPACE"," ",871],["T_VARIABLE","$this",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","getCode",871],"(",["T_CONSTANT_ENCAPSED_STRING","'dimensions_variables'",871],",",["T_WHITESPACE"," ",871],["T_VARIABLE","$this",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","_getDimensionUnit",871],"(",")",")",";",["T_WHITESPACE","\n\n        ",871],["T_IF","if",873],["T_WHITESPACE"," ",873],"(",["T_VARIABLE","$configDimensionUnit",873],["T_WHITESPACE"," ",873],["T_IS_NOT_EQUAL","!=",873],["T_WHITESPACE"," ",873],["T_VARIABLE","$countryDimensionUnit",873],")",["T_WHITESPACE"," ",873],"{",["T_WHITESPACE","\n            ",873],["T_VARIABLE","$dimension",874],["T_WHITESPACE"," ",874],"=",["T_WHITESPACE"," ",874],["T_VARIABLE","$this",874],["T_OBJECT_OPERATOR","->",874],["T_STRING","_carrierHelper",874],["T_OBJECT_OPERATOR","->",874],["T_STRING","convertMeasureDimension",874],"(",["T_WHITESPACE","\n                ",874],["T_STRING","round",875],"(",["T_VARIABLE","$dimension",875],",",["T_WHITESPACE"," ",875],["T_LNUMBER","3",875],")",",",["T_WHITESPACE","\n                ",875],["T_VARIABLE","$configDimensionUnit",876],",",["T_WHITESPACE","\n                ",876],["T_VARIABLE","$countryDimensionUnit",877],["T_WHITESPACE","\n            ",877],")",";",["T_WHITESPACE","\n        ",878],"}",["T_WHITESPACE","\n\n        ",879],["T_RETURN","return",881],["T_WHITESPACE"," ",881],["T_STRING","round",881],"(",["T_VARIABLE","$dimension",881],",",["T_WHITESPACE"," ",881],["T_LNUMBER","3",881],")",";",["T_WHITESPACE","\n    ",881],"}",["T_WHITESPACE","\n\n    ",882],["T_DOC_COMMENT","\/**\n     * Add dimension to piece\n     *\n     * @param \\Magento\\Shipping\\Model\\Simplexml\\Element $nodePiece\n     * @return void\n     *\/",884],["T_WHITESPACE","\n    ",889],["T_PROTECTED","protected",890],["T_WHITESPACE"," ",890],["T_FUNCTION","function",890],["T_WHITESPACE"," ",890],["T_STRING","_addDimension",890],"(",["T_VARIABLE","$nodePiece",890],")",["T_WHITESPACE","\n    ",890],"{",["T_WHITESPACE","\n        ",891],["T_VARIABLE","$sizeChecker",892],["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_STRING_CAST","(string)",892],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","getConfigData",892],"(",["T_CONSTANT_ENCAPSED_STRING","'size'",892],")",";",["T_WHITESPACE","\n\n        ",892],["T_VARIABLE","$height",894],["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","_getDimension",894],"(",["T_STRING_CAST","(string)",894],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","getConfigData",894],"(",["T_CONSTANT_ENCAPSED_STRING","'height'",894],")",")",";",["T_WHITESPACE","\n        ",894],["T_VARIABLE","$depth",895],["T_WHITESPACE"," ",895],"=",["T_WHITESPACE"," ",895],["T_VARIABLE","$this",895],["T_OBJECT_OPERATOR","->",895],["T_STRING","_getDimension",895],"(",["T_STRING_CAST","(string)",895],["T_VARIABLE","$this",895],["T_OBJECT_OPERATOR","->",895],["T_STRING","getConfigData",895],"(",["T_CONSTANT_ENCAPSED_STRING","'depth'",895],")",")",";",["T_WHITESPACE","\n        ",895],["T_VARIABLE","$width",896],["T_WHITESPACE"," ",896],"=",["T_WHITESPACE"," ",896],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","_getDimension",896],"(",["T_STRING_CAST","(string)",896],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","getConfigData",896],"(",["T_CONSTANT_ENCAPSED_STRING","'width'",896],")",")",";",["T_WHITESPACE","\n\n        ",896],["T_IF","if",898],["T_WHITESPACE"," ",898],"(",["T_VARIABLE","$sizeChecker",898],["T_WHITESPACE"," ",898],["T_BOOLEAN_AND","&&",898],["T_WHITESPACE"," ",898],["T_VARIABLE","$height",898],["T_WHITESPACE"," ",898],["T_BOOLEAN_AND","&&",898],["T_WHITESPACE"," ",898],["T_VARIABLE","$depth",898],["T_WHITESPACE"," ",898],["T_BOOLEAN_AND","&&",898],["T_WHITESPACE"," ",898],["T_VARIABLE","$width",898],")",["T_WHITESPACE"," ",898],"{",["T_WHITESPACE","\n            ",898],["T_VARIABLE","$nodePiece",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","addChild",899],"(",["T_CONSTANT_ENCAPSED_STRING","'Height'",899],",",["T_WHITESPACE"," ",899],["T_VARIABLE","$height",899],")",";",["T_WHITESPACE","\n            ",899],["T_VARIABLE","$nodePiece",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","addChild",900],"(",["T_CONSTANT_ENCAPSED_STRING","'Depth'",900],",",["T_WHITESPACE"," ",900],["T_VARIABLE","$depth",900],")",";",["T_WHITESPACE","\n            ",900],["T_VARIABLE","$nodePiece",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","addChild",901],"(",["T_CONSTANT_ENCAPSED_STRING","'Width'",901],",",["T_WHITESPACE"," ",901],["T_VARIABLE","$width",901],")",";",["T_WHITESPACE","\n        ",901],"}",["T_WHITESPACE","\n    ",902],"}",["T_WHITESPACE","\n\n    ",903],["T_DOC_COMMENT","\/**\n     * Get shipping quotes\n     *\n     * @return \\Magento\\Framework\\Model\\AbstractModel|Result\n     *\/",905],["T_WHITESPACE","\n    ",909],["T_PROTECTED","protected",910],["T_WHITESPACE"," ",910],["T_FUNCTION","function",910],["T_WHITESPACE"," ",910],["T_STRING","_getQuotes",910],"(",")",["T_WHITESPACE","\n    ",910],"{",["T_WHITESPACE","\n        ",911],["T_VARIABLE","$responseBody",912],["T_WHITESPACE"," ",912],"=",["T_WHITESPACE"," ",912],["T_CONSTANT_ENCAPSED_STRING","''",912],";",["T_WHITESPACE","\n        ",912],["T_TRY","try",913],["T_WHITESPACE"," ",913],"{",["T_WHITESPACE","\n            ",913],["T_FOR","for",914],["T_WHITESPACE"," ",914],"(",["T_VARIABLE","$offset",914],["T_WHITESPACE"," ",914],"=",["T_WHITESPACE"," ",914],["T_LNUMBER","0",914],";",["T_WHITESPACE"," ",914],["T_VARIABLE","$offset",914],["T_WHITESPACE"," ",914],["T_IS_SMALLER_OR_EQUAL","<=",914],["T_WHITESPACE"," ",914],["T_STRING","self",914],["T_DOUBLE_COLON","::",914],["T_STRING","UNAVAILABLE_DATE_LOOK_FORWARD",914],";",["T_WHITESPACE"," ",914],["T_VARIABLE","$offset",914],["T_INC","++",914],")",["T_WHITESPACE"," ",914],"{",["T_WHITESPACE","\n                ",914],["T_VARIABLE","$debugPoint",915],["T_WHITESPACE"," ",915],"=",["T_WHITESPACE"," ",915],"[","]",";",["T_WHITESPACE","\n\n                ",915],["T_VARIABLE","$requestXml",917],["T_WHITESPACE"," ",917],"=",["T_WHITESPACE"," ",917],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","_buildQuotesRequestXml",917],"(",")",";",["T_WHITESPACE","\n                ",917],["T_VARIABLE","$date",918],["T_WHITESPACE"," ",918],"=",["T_WHITESPACE"," ",918],["T_STRING","date",918],"(",["T_STRING","self",918],["T_DOUBLE_COLON","::",918],["T_STRING","REQUEST_DATE_FORMAT",918],",",["T_WHITESPACE"," ",918],["T_STRING","strtotime",918],"(",["T_VARIABLE","$this",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","_getShipDate",918],"(",")",["T_WHITESPACE"," ",918],".",["T_WHITESPACE"," ",918],"\"",["T_ENCAPSED_AND_WHITESPACE"," +",918],["T_CURLY_OPEN","{",918],["T_VARIABLE","$offset",918],"}",["T_ENCAPSED_AND_WHITESPACE"," days",918],"\"",")",")",";",["T_WHITESPACE","\n                ",918],["T_VARIABLE","$this",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","_setQuotesRequestXmlDate",919],"(",["T_VARIABLE","$requestXml",919],",",["T_WHITESPACE"," ",919],["T_VARIABLE","$date",919],")",";",["T_WHITESPACE","\n\n                ",919],["T_VARIABLE","$request",921],["T_WHITESPACE"," ",921],"=",["T_WHITESPACE"," ",921],["T_VARIABLE","$requestXml",921],["T_OBJECT_OPERATOR","->",921],["T_STRING","asXML",921],"(",")",";",["T_WHITESPACE","\n                ",921],["T_VARIABLE","$debugPoint",922],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",922],"]",["T_WHITESPACE"," ",922],"=",["T_WHITESPACE"," ",922],["T_VARIABLE","$this",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","filterDebugData",922],"(",["T_VARIABLE","$request",922],")",";",["T_WHITESPACE","\n                ",922],["T_VARIABLE","$responseBody",923],["T_WHITESPACE"," ",923],"=",["T_WHITESPACE"," ",923],["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","_getCachedQuotes",923],"(",["T_VARIABLE","$request",923],")",";",["T_WHITESPACE","\n                ",923],["T_VARIABLE","$debugPoint",924],"[",["T_CONSTANT_ENCAPSED_STRING","'from_cache'",924],"]",["T_WHITESPACE"," ",924],"=",["T_WHITESPACE"," ",924],["T_VARIABLE","$responseBody",924],["T_WHITESPACE"," ",924],["T_IS_IDENTICAL","===",924],["T_WHITESPACE"," ",924],["T_STRING","null",924],";",["T_WHITESPACE","\n\n                ",924],["T_IF","if",926],["T_WHITESPACE"," ",926],"(",["T_VARIABLE","$debugPoint",926],"[",["T_CONSTANT_ENCAPSED_STRING","'from_cache'",926],"]",")",["T_WHITESPACE"," ",926],"{",["T_WHITESPACE","\n                    ",926],["T_VARIABLE","$responseBody",927],["T_WHITESPACE"," ",927],"=",["T_WHITESPACE"," ",927],["T_VARIABLE","$this",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","_getQuotesFromServer",927],"(",["T_VARIABLE","$request",927],")",";",["T_WHITESPACE","\n                ",927],"}",["T_WHITESPACE","\n\n                ",928],["T_VARIABLE","$debugPoint",930],"[",["T_CONSTANT_ENCAPSED_STRING","'response'",930],"]",["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_VARIABLE","$this",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","filterDebugData",930],"(",["T_VARIABLE","$responseBody",930],")",";",["T_WHITESPACE","\n\n                ",930],["T_VARIABLE","$bodyXml",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","_xmlElFactory",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","create",932],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",932],["T_WHITESPACE"," ",932],["T_DOUBLE_ARROW","=>",932],["T_WHITESPACE"," ",932],["T_VARIABLE","$responseBody",932],"]",")",";",["T_WHITESPACE","\n                ",932],["T_VARIABLE","$code",933],["T_WHITESPACE"," ",933],"=",["T_WHITESPACE"," ",933],["T_VARIABLE","$bodyXml",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","xpath",933],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/GetQuoteResponse\/Note\/Condition\/ConditionCode'",933],")",";",["T_WHITESPACE","\n                ",933],["T_IF","if",934],["T_WHITESPACE"," ",934],"(",["T_ISSET","isset",934],"(",["T_VARIABLE","$code",934],"[",["T_LNUMBER","0",934],"]",")",["T_WHITESPACE"," ",934],["T_BOOLEAN_AND","&&",934],["T_WHITESPACE"," ",934],["T_INT_CAST","(int)",934],["T_VARIABLE","$code",934],"[",["T_LNUMBER","0",934],"]",["T_WHITESPACE"," ",934],["T_IS_EQUAL","==",934],["T_WHITESPACE"," ",934],["T_STRING","self",934],["T_DOUBLE_COLON","::",934],["T_STRING","CONDITION_CODE_SERVICE_DATE_UNAVAILABLE",934],")",["T_WHITESPACE"," ",934],"{",["T_WHITESPACE","\n                    ",934],["T_VARIABLE","$debugPoint",935],"[",["T_CONSTANT_ENCAPSED_STRING","'info'",935],"]",["T_WHITESPACE"," ",935],"=",["T_WHITESPACE"," ",935],["T_STRING","sprintf",935],"(",["T_STRING","__",935],"(",["T_CONSTANT_ENCAPSED_STRING","\"DHL service is not available at %s date\"",935],")",",",["T_WHITESPACE"," ",935],["T_VARIABLE","$date",935],")",";",["T_WHITESPACE","\n                ",935],"}",["T_WHITESPACE"," ",936],["T_ELSE","else",936],["T_WHITESPACE"," ",936],"{",["T_WHITESPACE","\n                    ",936],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","_debug",937],"(",["T_VARIABLE","$debugPoint",937],")",";",["T_WHITESPACE","\n                    ",937],["T_BREAK","break",938],";",["T_WHITESPACE","\n                ",938],"}",["T_WHITESPACE","\n\n                ",939],["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","_setCachedQuotes",941],"(",["T_VARIABLE","$request",941],",",["T_WHITESPACE"," ",941],["T_VARIABLE","$responseBody",941],")",";",["T_WHITESPACE","\n                ",941],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","_debug",942],"(",["T_VARIABLE","$debugPoint",942],")",";",["T_WHITESPACE","\n            ",942],"}",["T_WHITESPACE","\n        ",943],"}",["T_WHITESPACE"," ",944],["T_CATCH","catch",944],["T_WHITESPACE"," ",944],"(",["T_NS_SEPARATOR","\\",944],["T_STRING","Exception",944],["T_WHITESPACE"," ",944],["T_VARIABLE","$e",944],")",["T_WHITESPACE"," ",944],"{",["T_WHITESPACE","\n            ",944],["T_VARIABLE","$this",945],["T_OBJECT_OPERATOR","->",945],["T_STRING","_errors",945],"[",["T_VARIABLE","$e",945],["T_OBJECT_OPERATOR","->",945],["T_STRING","getCode",945],"(",")","]",["T_WHITESPACE"," ",945],"=",["T_WHITESPACE"," ",945],["T_VARIABLE","$e",945],["T_OBJECT_OPERATOR","->",945],["T_STRING","getMessage",945],"(",")",";",["T_WHITESPACE","\n        ",945],"}",["T_WHITESPACE","\n\n        ",946],["T_RETURN","return",948],["T_WHITESPACE"," ",948],["T_VARIABLE","$this",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","_parseResponse",948],"(",["T_VARIABLE","$responseBody",948],")",";",["T_WHITESPACE","\n    ",948],"}",["T_WHITESPACE","\n\n    ",949],["T_DOC_COMMENT","\/**\n     * Get shipping quotes from DHL service\n     *\n     * @param string $request\n     * @return string\n     *\/",951],["T_WHITESPACE","\n    ",956],["T_PROTECTED","protected",957],["T_WHITESPACE"," ",957],["T_FUNCTION","function",957],["T_WHITESPACE"," ",957],["T_STRING","_getQuotesFromServer",957],"(",["T_VARIABLE","$request",957],")",["T_WHITESPACE","\n    ",957],"{",["T_WHITESPACE","\n        ",958],["T_VARIABLE","$client",959],["T_WHITESPACE"," ",959],"=",["T_WHITESPACE"," ",959],["T_VARIABLE","$this",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","_httpClientFactory",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","create",959],"(",")",";",["T_WHITESPACE","\n        ",959],["T_VARIABLE","$client",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","setUri",960],"(",["T_STRING_CAST","(string)",960],["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","getConfigData",960],"(",["T_CONSTANT_ENCAPSED_STRING","'gateway_url'",960],")",")",";",["T_WHITESPACE","\n        ",960],["T_VARIABLE","$client",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","setConfig",961],"(","[",["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",961],["T_WHITESPACE"," ",961],["T_DOUBLE_ARROW","=>",961],["T_WHITESPACE"," ",961],["T_LNUMBER","0",961],",",["T_WHITESPACE"," ",961],["T_CONSTANT_ENCAPSED_STRING","'timeout'",961],["T_WHITESPACE"," ",961],["T_DOUBLE_ARROW","=>",961],["T_WHITESPACE"," ",961],["T_LNUMBER","30",961],"]",")",";",["T_WHITESPACE","\n        ",961],["T_VARIABLE","$client",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","setRawData",962],"(",["T_STRING","utf8_encode",962],"(",["T_VARIABLE","$request",962],")",")",";",["T_WHITESPACE","\n\n        ",962],["T_RETURN","return",964],["T_WHITESPACE"," ",964],["T_VARIABLE","$client",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","request",964],"(",["T_NS_SEPARATOR","\\",964],["T_STRING","Zend_Http_Client",964],["T_DOUBLE_COLON","::",964],["T_STRING","POST",964],")",["T_OBJECT_OPERATOR","->",964],["T_STRING","getBody",964],"(",")",";",["T_WHITESPACE","\n    ",964],"}",["T_WHITESPACE","\n\n    ",965],["T_DOC_COMMENT","\/**\n     * Build quotes request XML object\n     *\n     * @return \\SimpleXMLElement\n     *\/",967],["T_WHITESPACE","\n    ",971],["T_PROTECTED","protected",972],["T_WHITESPACE"," ",972],["T_FUNCTION","function",972],["T_WHITESPACE"," ",972],["T_STRING","_buildQuotesRequestXml",972],"(",")",["T_WHITESPACE","\n    ",972],"{",["T_WHITESPACE","\n        ",973],["T_VARIABLE","$rawRequest",974],["T_WHITESPACE"," ",974],"=",["T_WHITESPACE"," ",974],["T_VARIABLE","$this",974],["T_OBJECT_OPERATOR","->",974],["T_STRING","_rawRequest",974],";",["T_WHITESPACE","\n        ",974],["T_VARIABLE","$xmlStr",975],["T_WHITESPACE"," ",975],"=",["T_WHITESPACE"," ",975],["T_CONSTANT_ENCAPSED_STRING","'<?xml version = \"1.0\" encoding = \"UTF-8\"?>'",975],["T_WHITESPACE"," ",975],".",["T_WHITESPACE","\n            ",975],["T_CONSTANT_ENCAPSED_STRING","'<p:DCTRequest xmlns:p=\"http:\/\/www.dhl.com\" xmlns:p1=\"http:\/\/www.dhl.com\/datatypes\" '",976],["T_WHITESPACE"," ",976],".",["T_WHITESPACE","\n            ",976],["T_CONSTANT_ENCAPSED_STRING","'xmlns:p2=\"http:\/\/www.dhl.com\/DCTRequestdatatypes\" '",977],["T_WHITESPACE"," ",977],".",["T_WHITESPACE","\n            ",977],["T_CONSTANT_ENCAPSED_STRING","'xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" '",978],["T_WHITESPACE"," ",978],".",["T_WHITESPACE","\n            ",978],["T_CONSTANT_ENCAPSED_STRING","'xsi:schemaLocation=\"http:\/\/www.dhl.com DCT-req.xsd \"\/>'",979],";",["T_WHITESPACE","\n        ",979],["T_VARIABLE","$xml",980],["T_WHITESPACE"," ",980],"=",["T_WHITESPACE"," ",980],["T_VARIABLE","$this",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","_xmlElFactory",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","create",980],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",980],["T_WHITESPACE"," ",980],["T_DOUBLE_ARROW","=>",980],["T_WHITESPACE"," ",980],["T_VARIABLE","$xmlStr",980],"]",")",";",["T_WHITESPACE","\n        ",980],["T_VARIABLE","$nodeGetQuote",981],["T_WHITESPACE"," ",981],"=",["T_WHITESPACE"," ",981],["T_VARIABLE","$xml",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","addChild",981],"(",["T_CONSTANT_ENCAPSED_STRING","'GetQuote'",981],",",["T_WHITESPACE"," ",981],["T_CONSTANT_ENCAPSED_STRING","''",981],",",["T_WHITESPACE"," ",981],["T_CONSTANT_ENCAPSED_STRING","''",981],")",";",["T_WHITESPACE","\n        ",981],["T_VARIABLE","$nodeRequest",982],["T_WHITESPACE"," ",982],"=",["T_WHITESPACE"," ",982],["T_VARIABLE","$nodeGetQuote",982],["T_OBJECT_OPERATOR","->",982],["T_STRING","addChild",982],"(",["T_CONSTANT_ENCAPSED_STRING","'Request'",982],")",";",["T_WHITESPACE","\n\n        ",982],["T_VARIABLE","$nodeServiceHeader",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_VARIABLE","$nodeRequest",984],["T_OBJECT_OPERATOR","->",984],["T_STRING","addChild",984],"(",["T_CONSTANT_ENCAPSED_STRING","'ServiceHeader'",984],")",";",["T_WHITESPACE","\n        ",984],["T_VARIABLE","$nodeServiceHeader",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","addChild",985],"(",["T_CONSTANT_ENCAPSED_STRING","'SiteID'",985],",",["T_WHITESPACE"," ",985],["T_STRING_CAST","(string)",985],["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","getConfigData",985],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",985],")",")",";",["T_WHITESPACE","\n        ",985],["T_VARIABLE","$nodeServiceHeader",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","addChild",986],"(",["T_CONSTANT_ENCAPSED_STRING","'Password'",986],",",["T_WHITESPACE"," ",986],["T_STRING_CAST","(string)",986],["T_VARIABLE","$this",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","getConfigData",986],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",986],")",")",";",["T_WHITESPACE","\n\n        ",986],["T_VARIABLE","$nodeFrom",988],["T_WHITESPACE"," ",988],"=",["T_WHITESPACE"," ",988],["T_VARIABLE","$nodeGetQuote",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","addChild",988],"(",["T_CONSTANT_ENCAPSED_STRING","'From'",988],")",";",["T_WHITESPACE","\n        ",988],["T_VARIABLE","$nodeFrom",989],["T_OBJECT_OPERATOR","->",989],["T_STRING","addChild",989],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",989],",",["T_WHITESPACE"," ",989],["T_VARIABLE","$rawRequest",989],["T_OBJECT_OPERATOR","->",989],["T_STRING","getOrigCountryId",989],"(",")",")",";",["T_WHITESPACE","\n        ",989],["T_VARIABLE","$nodeFrom",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","addChild",990],"(",["T_CONSTANT_ENCAPSED_STRING","'Postalcode'",990],",",["T_WHITESPACE"," ",990],["T_VARIABLE","$rawRequest",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","getOrigPostal",990],"(",")",")",";",["T_WHITESPACE","\n        ",990],["T_VARIABLE","$nodeFrom",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","addChild",991],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",991],",",["T_WHITESPACE"," ",991],["T_VARIABLE","$rawRequest",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","getOrigCity",991],"(",")",")",";",["T_WHITESPACE","\n\n        ",991],["T_VARIABLE","$nodeBkgDetails",993],["T_WHITESPACE"," ",993],"=",["T_WHITESPACE"," ",993],["T_VARIABLE","$nodeGetQuote",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","addChild",993],"(",["T_CONSTANT_ENCAPSED_STRING","'BkgDetails'",993],")",";",["T_WHITESPACE","\n        ",993],["T_VARIABLE","$nodeBkgDetails",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","addChild",994],"(",["T_CONSTANT_ENCAPSED_STRING","'PaymentCountryCode'",994],",",["T_WHITESPACE"," ",994],["T_VARIABLE","$rawRequest",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","getOrigCountryId",994],"(",")",")",";",["T_WHITESPACE","\n        ",994],["T_VARIABLE","$nodeBkgDetails",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","addChild",995],"(",["T_WHITESPACE","\n            ",995],["T_CONSTANT_ENCAPSED_STRING","'Date'",996],",",["T_WHITESPACE","\n            ",996],"(",["T_NEW","new",997],["T_WHITESPACE"," ",997],["T_NS_SEPARATOR","\\",997],["T_STRING","DateTime",997],"(",")",")",["T_OBJECT_OPERATOR","->",997],["T_STRING","format",997],"(",["T_NS_SEPARATOR","\\",997],["T_STRING","Magento",997],["T_NS_SEPARATOR","\\",997],["T_STRING","Framework",997],["T_NS_SEPARATOR","\\",997],["T_STRING","Stdlib",997],["T_NS_SEPARATOR","\\",997],["T_STRING","DateTime",997],["T_DOUBLE_COLON","::",997],["T_STRING","DATETIME_PHP_FORMAT",997],")",["T_WHITESPACE","\n        ",997],")",";",["T_WHITESPACE","\n        ",998],["T_VARIABLE","$nodeBkgDetails",999],["T_OBJECT_OPERATOR","->",999],["T_STRING","addChild",999],"(",["T_CONSTANT_ENCAPSED_STRING","'ReadyTime'",999],",",["T_WHITESPACE"," ",999],["T_CONSTANT_ENCAPSED_STRING","'PT'",999],["T_WHITESPACE"," ",999],".",["T_WHITESPACE"," ",999],["T_INT_CAST","(int)",999],["T_STRING_CAST","(string)",999],["T_VARIABLE","$this",999],["T_OBJECT_OPERATOR","->",999],["T_STRING","getConfigData",999],"(",["T_CONSTANT_ENCAPSED_STRING","'ready_time'",999],")",["T_WHITESPACE"," ",999],".",["T_WHITESPACE"," ",999],["T_CONSTANT_ENCAPSED_STRING","'H00M'",999],")",";",["T_WHITESPACE","\n\n        ",999],["T_VARIABLE","$nodeBkgDetails",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","addChild",1001],"(",["T_CONSTANT_ENCAPSED_STRING","'DimensionUnit'",1001],",",["T_WHITESPACE"," ",1001],["T_VARIABLE","$this",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","_getDimensionUnit",1001],"(",")",")",";",["T_WHITESPACE","\n        ",1001],["T_VARIABLE","$nodeBkgDetails",1002],["T_OBJECT_OPERATOR","->",1002],["T_STRING","addChild",1002],"(",["T_CONSTANT_ENCAPSED_STRING","'WeightUnit'",1002],",",["T_WHITESPACE"," ",1002],["T_VARIABLE","$this",1002],["T_OBJECT_OPERATOR","->",1002],["T_STRING","_getWeightUnit",1002],"(",")",")",";",["T_WHITESPACE","\n\n        ",1002],["T_VARIABLE","$this",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","_makePieces",1004],"(",["T_VARIABLE","$nodeBkgDetails",1004],")",";",["T_WHITESPACE","\n\n        ",1004],["T_VARIABLE","$nodeBkgDetails",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","addChild",1006],"(",["T_CONSTANT_ENCAPSED_STRING","'PaymentAccountNumber'",1006],",",["T_WHITESPACE"," ",1006],["T_STRING_CAST","(string)",1006],["T_VARIABLE","$this",1006],["T_OBJECT_OPERATOR","->",1006],["T_STRING","getConfigData",1006],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1006],")",")",";",["T_WHITESPACE","\n\n        ",1006],["T_VARIABLE","$nodeTo",1008],["T_WHITESPACE"," ",1008],"=",["T_WHITESPACE"," ",1008],["T_VARIABLE","$nodeGetQuote",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","addChild",1008],"(",["T_CONSTANT_ENCAPSED_STRING","'To'",1008],")",";",["T_WHITESPACE","\n        ",1008],["T_VARIABLE","$nodeTo",1009],["T_OBJECT_OPERATOR","->",1009],["T_STRING","addChild",1009],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1009],",",["T_WHITESPACE"," ",1009],["T_VARIABLE","$rawRequest",1009],["T_OBJECT_OPERATOR","->",1009],["T_STRING","getDestCountryId",1009],"(",")",")",";",["T_WHITESPACE","\n        ",1009],["T_VARIABLE","$nodeTo",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","addChild",1010],"(",["T_CONSTANT_ENCAPSED_STRING","'Postalcode'",1010],",",["T_WHITESPACE"," ",1010],["T_VARIABLE","$rawRequest",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","getDestPostal",1010],"(",")",")",";",["T_WHITESPACE","\n        ",1010],["T_VARIABLE","$nodeTo",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","addChild",1011],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1011],",",["T_WHITESPACE"," ",1011],["T_VARIABLE","$rawRequest",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","getDestCity",1011],"(",")",")",";",["T_WHITESPACE","\n\n        ",1011],["T_IF","if",1013],["T_WHITESPACE"," ",1013],"(",["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","isDutiable",1013],"(",["T_VARIABLE","$rawRequest",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","getOrigCountryId",1013],"(",")",",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$rawRequest",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","getDestCountryId",1013],"(",")",")",")",["T_WHITESPACE"," ",1013],"{",["T_WHITESPACE","\n            ",1013],["T_COMMENT","\/\/ IsDutiable flag and Dutiable node indicates that cargo is not a documentation\n",1014],["T_WHITESPACE","            ",1015],["T_VARIABLE","$nodeBkgDetails",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","addChild",1015],"(",["T_CONSTANT_ENCAPSED_STRING","'IsDutiable'",1015],",",["T_WHITESPACE"," ",1015],["T_CONSTANT_ENCAPSED_STRING","'Y'",1015],")",";",["T_WHITESPACE","\n            ",1015],["T_VARIABLE","$nodeDutiable",1016],["T_WHITESPACE"," ",1016],"=",["T_WHITESPACE"," ",1016],["T_VARIABLE","$nodeGetQuote",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","addChild",1016],"(",["T_CONSTANT_ENCAPSED_STRING","'Dutiable'",1016],")",";",["T_WHITESPACE","\n            ",1016],["T_VARIABLE","$baseCurrencyCode",1017],["T_WHITESPACE"," ",1017],"=",["T_WHITESPACE"," ",1017],["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","_storeManager",1017],["T_WHITESPACE","\n                ",1017],["T_OBJECT_OPERATOR","->",1018],["T_STRING","getWebsite",1018],"(",["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","_request",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","getWebsiteId",1018],"(",")",")",["T_WHITESPACE","\n                ",1018],["T_OBJECT_OPERATOR","->",1019],["T_STRING","getBaseCurrencyCode",1019],"(",")",";",["T_WHITESPACE","\n            ",1019],["T_VARIABLE","$nodeDutiable",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","addChild",1020],"(",["T_CONSTANT_ENCAPSED_STRING","'DeclaredCurrency'",1020],",",["T_WHITESPACE"," ",1020],["T_VARIABLE","$baseCurrencyCode",1020],")",";",["T_WHITESPACE","\n            ",1020],["T_VARIABLE","$nodeDutiable",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","addChild",1021],"(",["T_CONSTANT_ENCAPSED_STRING","'DeclaredValue'",1021],",",["T_WHITESPACE"," ",1021],["T_STRING","sprintf",1021],"(",["T_CONSTANT_ENCAPSED_STRING","\"%.2F\"",1021],",",["T_WHITESPACE"," ",1021],["T_VARIABLE","$rawRequest",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","getValue",1021],"(",")",")",")",";",["T_WHITESPACE","\n        ",1021],"}",["T_WHITESPACE","\n\n        ",1022],["T_RETURN","return",1024],["T_WHITESPACE"," ",1024],["T_VARIABLE","$xml",1024],";",["T_WHITESPACE","\n    ",1024],"}",["T_WHITESPACE","\n\n    ",1025],["T_DOC_COMMENT","\/**\n     * Set pick-up date in request XML object\n     *\n     * @param \\SimpleXMLElement $requestXml\n     * @param string $date\n     * @return \\SimpleXMLElement\n     *\/",1027],["T_WHITESPACE","\n    ",1033],["T_PROTECTED","protected",1034],["T_WHITESPACE"," ",1034],["T_FUNCTION","function",1034],["T_WHITESPACE"," ",1034],["T_STRING","_setQuotesRequestXmlDate",1034],"(",["T_NS_SEPARATOR","\\",1034],["T_STRING","SimpleXMLElement",1034],["T_WHITESPACE"," ",1034],["T_VARIABLE","$requestXml",1034],",",["T_WHITESPACE"," ",1034],["T_VARIABLE","$date",1034],")",["T_WHITESPACE","\n    ",1034],"{",["T_WHITESPACE","\n        ",1035],["T_VARIABLE","$requestXml",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","GetQuote",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","BkgDetails",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","Date",1036],["T_WHITESPACE"," ",1036],"=",["T_WHITESPACE"," ",1036],["T_VARIABLE","$date",1036],";",["T_WHITESPACE","\n\n        ",1036],["T_RETURN","return",1038],["T_WHITESPACE"," ",1038],["T_VARIABLE","$requestXml",1038],";",["T_WHITESPACE","\n    ",1038],"}",["T_WHITESPACE","\n\n    ",1039],["T_DOC_COMMENT","\/**\n     * Parse response from DHL web service\n     *\n     * @param string $response\n     * @return bool|\\Magento\\Framework\\DataObject|Result|Error\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",1041],["T_WHITESPACE","\n    ",1049],["T_PROTECTED","protected",1050],["T_WHITESPACE"," ",1050],["T_FUNCTION","function",1050],["T_WHITESPACE"," ",1050],["T_STRING","_parseResponse",1050],"(",["T_VARIABLE","$response",1050],")",["T_WHITESPACE","\n    ",1050],"{",["T_WHITESPACE","\n        ",1051],["T_VARIABLE","$responseError",1052],["T_WHITESPACE"," ",1052],"=",["T_WHITESPACE"," ",1052],["T_STRING","__",1052],"(",["T_CONSTANT_ENCAPSED_STRING","'The response is in wrong format.'",1052],")",";",["T_WHITESPACE","\n\n        ",1052],["T_IF","if",1054],["T_WHITESPACE"," ",1054],"(",["T_STRING","strlen",1054],"(",["T_STRING","trim",1054],"(",["T_VARIABLE","$response",1054],")",")",["T_WHITESPACE"," ",1054],">",["T_WHITESPACE"," ",1054],["T_LNUMBER","0",1054],")",["T_WHITESPACE"," ",1054],"{",["T_WHITESPACE","\n            ",1054],["T_IF","if",1055],["T_WHITESPACE"," ",1055],"(",["T_STRING","strpos",1055],"(",["T_STRING","trim",1055],"(",["T_VARIABLE","$response",1055],")",",",["T_WHITESPACE"," ",1055],["T_CONSTANT_ENCAPSED_STRING","'<?xml'",1055],")",["T_WHITESPACE"," ",1055],["T_IS_IDENTICAL","===",1055],["T_WHITESPACE"," ",1055],["T_LNUMBER","0",1055],")",["T_WHITESPACE"," ",1055],"{",["T_WHITESPACE","\n                ",1055],["T_VARIABLE","$xml",1056],["T_WHITESPACE"," ",1056],"=",["T_WHITESPACE"," ",1056],["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","parseXml",1056],"(",["T_VARIABLE","$response",1056],",",["T_WHITESPACE"," ",1056],["T_NS_SEPARATOR","\\",1056],["T_STRING","Magento",1056],["T_NS_SEPARATOR","\\",1056],["T_STRING","Shipping",1056],["T_NS_SEPARATOR","\\",1056],["T_STRING","Model",1056],["T_NS_SEPARATOR","\\",1056],["T_STRING","Simplexml",1056],["T_NS_SEPARATOR","\\",1056],["T_STRING","Element",1056],["T_DOUBLE_COLON","::",1056],["T_CLASS","class",1056],")",";",["T_WHITESPACE","\n                ",1056],["T_IF","if",1057],["T_WHITESPACE"," ",1057],"(",["T_STRING","is_object",1057],"(",["T_VARIABLE","$xml",1057],")",")",["T_WHITESPACE"," ",1057],"{",["T_WHITESPACE","\n                    ",1057],["T_IF","if",1058],["T_WHITESPACE"," ",1058],"(",["T_STRING","in_array",1058],"(",["T_VARIABLE","$xml",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","getName",1058],"(",")",",",["T_WHITESPACE"," ",1058],"[",["T_CONSTANT_ENCAPSED_STRING","'ErrorResponse'",1058],",",["T_WHITESPACE"," ",1058],["T_CONSTANT_ENCAPSED_STRING","'ShipmentValidateErrorResponse'",1058],"]",")",["T_WHITESPACE","\n                        ",1058],["T_BOOLEAN_OR","||",1059],["T_WHITESPACE"," ",1059],["T_ISSET","isset",1059],"(",["T_VARIABLE","$xml",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","GetQuoteResponse",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","Note",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","Condition",1059],")",["T_WHITESPACE","\n                    ",1059],")",["T_WHITESPACE"," ",1060],"{",["T_WHITESPACE","\n                        ",1060],["T_VARIABLE","$code",1061],["T_WHITESPACE"," ",1061],"=",["T_WHITESPACE"," ",1061],["T_STRING","null",1061],";",["T_WHITESPACE","\n                        ",1061],["T_VARIABLE","$data",1062],["T_WHITESPACE"," ",1062],"=",["T_WHITESPACE"," ",1062],["T_STRING","null",1062],";",["T_WHITESPACE","\n                        ",1062],["T_IF","if",1063],["T_WHITESPACE"," ",1063],"(",["T_ISSET","isset",1063],"(",["T_VARIABLE","$xml",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","Response",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","Status",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","Condition",1063],")",")",["T_WHITESPACE"," ",1063],"{",["T_WHITESPACE","\n                            ",1063],["T_VARIABLE","$nodeCondition",1064],["T_WHITESPACE"," ",1064],"=",["T_WHITESPACE"," ",1064],["T_VARIABLE","$xml",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","Response",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","Status",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","Condition",1064],";",["T_WHITESPACE","\n                        ",1064],"}",["T_WHITESPACE"," ",1065],["T_ELSE","else",1065],["T_WHITESPACE"," ",1065],"{",["T_WHITESPACE","\n                            ",1065],["T_VARIABLE","$nodeCondition",1066],["T_WHITESPACE"," ",1066],"=",["T_WHITESPACE"," ",1066],["T_VARIABLE","$xml",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","GetQuoteResponse",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","Note",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","Condition",1066],";",["T_WHITESPACE","\n                        ",1066],"}",["T_WHITESPACE","\n\n                        ",1067],["T_IF","if",1069],["T_WHITESPACE"," ",1069],"(",["T_VARIABLE","$this",1069],["T_OBJECT_OPERATOR","->",1069],["T_STRING","_isShippingLabelFlag",1069],")",["T_WHITESPACE"," ",1069],"{",["T_WHITESPACE","\n                            ",1069],["T_FOREACH","foreach",1070],["T_WHITESPACE"," ",1070],"(",["T_VARIABLE","$nodeCondition",1070],["T_WHITESPACE"," ",1070],["T_AS","as",1070],["T_WHITESPACE"," ",1070],["T_VARIABLE","$condition",1070],")",["T_WHITESPACE"," ",1070],"{",["T_WHITESPACE","\n                                ",1070],["T_VARIABLE","$code",1071],["T_WHITESPACE"," ",1071],"=",["T_WHITESPACE"," ",1071],["T_ISSET","isset",1071],"(",["T_VARIABLE","$condition",1071],["T_OBJECT_OPERATOR","->",1071],["T_STRING","ConditionCode",1071],")",["T_WHITESPACE"," ",1071],"?",["T_WHITESPACE"," ",1071],["T_STRING_CAST","(string)",1071],["T_VARIABLE","$condition",1071],["T_OBJECT_OPERATOR","->",1071],["T_STRING","ConditionCode",1071],["T_WHITESPACE"," ",1071],":",["T_WHITESPACE"," ",1071],["T_LNUMBER","0",1071],";",["T_WHITESPACE","\n                                ",1071],["T_VARIABLE","$data",1072],["T_WHITESPACE"," ",1072],"=",["T_WHITESPACE"," ",1072],["T_ISSET","isset",1072],"(",["T_VARIABLE","$condition",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","ConditionData",1072],")",["T_WHITESPACE"," ",1072],"?",["T_WHITESPACE"," ",1072],["T_STRING_CAST","(string)",1072],["T_VARIABLE","$condition",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","ConditionData",1072],["T_WHITESPACE"," ",1072],":",["T_WHITESPACE"," ",1072],["T_CONSTANT_ENCAPSED_STRING","''",1072],";",["T_WHITESPACE","\n                                ",1072],["T_IF","if",1073],["T_WHITESPACE"," ",1073],"(","!",["T_EMPTY","empty",1073],"(",["T_VARIABLE","$code",1073],")",["T_WHITESPACE"," ",1073],["T_BOOLEAN_AND","&&",1073],["T_WHITESPACE"," ",1073],"!",["T_EMPTY","empty",1073],"(",["T_VARIABLE","$data",1073],")",")",["T_WHITESPACE"," ",1073],"{",["T_WHITESPACE","\n                                    ",1073],["T_BREAK","break",1074],";",["T_WHITESPACE","\n                                ",1074],"}",["T_WHITESPACE","\n                            ",1075],"}",["T_WHITESPACE","\n                            ",1076],["T_THROW","throw",1077],["T_WHITESPACE"," ",1077],["T_NEW","new",1077],["T_WHITESPACE"," ",1077],["T_NS_SEPARATOR","\\",1077],["T_STRING","Magento",1077],["T_NS_SEPARATOR","\\",1077],["T_STRING","Framework",1077],["T_NS_SEPARATOR","\\",1077],["T_STRING","Exception",1077],["T_NS_SEPARATOR","\\",1077],["T_STRING","LocalizedException",1077],"(",["T_WHITESPACE","\n                                ",1077],["T_STRING","__",1078],"(",["T_CONSTANT_ENCAPSED_STRING","'Error #%1 : %2'",1078],",",["T_WHITESPACE"," ",1078],["T_STRING","trim",1078],"(",["T_VARIABLE","$code",1078],")",",",["T_WHITESPACE"," ",1078],["T_STRING","trim",1078],"(",["T_VARIABLE","$data",1078],")",")",["T_WHITESPACE","\n                            ",1078],")",";",["T_WHITESPACE","\n                        ",1079],"}",["T_WHITESPACE","\n\n                        ",1080],["T_VARIABLE","$code",1082],["T_WHITESPACE"," ",1082],"=",["T_WHITESPACE"," ",1082],["T_ISSET","isset",1082],"(",["T_VARIABLE","$nodeCondition",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","ConditionCode",1082],")",["T_WHITESPACE"," ",1082],"?",["T_WHITESPACE"," ",1082],["T_STRING_CAST","(string)",1082],["T_VARIABLE","$nodeCondition",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","ConditionCode",1082],["T_WHITESPACE"," ",1082],":",["T_WHITESPACE"," ",1082],["T_LNUMBER","0",1082],";",["T_WHITESPACE","\n                        ",1082],["T_VARIABLE","$data",1083],["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_ISSET","isset",1083],"(",["T_VARIABLE","$nodeCondition",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","ConditionData",1083],")",["T_WHITESPACE"," ",1083],"?",["T_WHITESPACE"," ",1083],["T_STRING_CAST","(string)",1083],["T_VARIABLE","$nodeCondition",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","ConditionData",1083],["T_WHITESPACE"," ",1083],":",["T_WHITESPACE"," ",1083],["T_CONSTANT_ENCAPSED_STRING","''",1083],";",["T_WHITESPACE","\n                        ",1083],["T_VARIABLE","$this",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","_errors",1084],"[",["T_VARIABLE","$code",1084],"]",["T_WHITESPACE"," ",1084],"=",["T_WHITESPACE"," ",1084],["T_STRING","__",1084],"(",["T_CONSTANT_ENCAPSED_STRING","'Error #%1 : %2'",1084],",",["T_WHITESPACE"," ",1084],["T_STRING","trim",1084],"(",["T_VARIABLE","$code",1084],")",",",["T_WHITESPACE"," ",1084],["T_STRING","trim",1084],"(",["T_VARIABLE","$data",1084],")",")",";",["T_WHITESPACE","\n                    ",1084],"}",["T_WHITESPACE"," ",1085],["T_ELSE","else",1085],["T_WHITESPACE"," ",1085],"{",["T_WHITESPACE","\n                        ",1085],["T_IF","if",1086],["T_WHITESPACE"," ",1086],"(",["T_ISSET","isset",1086],"(",["T_VARIABLE","$xml",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","GetQuoteResponse",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","BkgDetails",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","QtdShp",1086],")",")",["T_WHITESPACE"," ",1086],"{",["T_WHITESPACE","\n                            ",1086],["T_FOREACH","foreach",1087],["T_WHITESPACE"," ",1087],"(",["T_VARIABLE","$xml",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","GetQuoteResponse",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","BkgDetails",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","QtdShp",1087],["T_WHITESPACE"," ",1087],["T_AS","as",1087],["T_WHITESPACE"," ",1087],["T_VARIABLE","$quotedShipment",1087],")",["T_WHITESPACE"," ",1087],"{",["T_WHITESPACE","\n                                ",1087],["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","_addRate",1088],"(",["T_VARIABLE","$quotedShipment",1088],")",";",["T_WHITESPACE","\n                            ",1088],"}",["T_WHITESPACE","\n                        ",1089],"}",["T_WHITESPACE"," ",1090],["T_ELSEIF","elseif",1090],["T_WHITESPACE"," ",1090],"(",["T_ISSET","isset",1090],"(",["T_VARIABLE","$xml",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","AirwayBillNumber",1090],")",")",["T_WHITESPACE"," ",1090],"{",["T_WHITESPACE","\n                            ",1090],["T_RETURN","return",1091],["T_WHITESPACE"," ",1091],["T_VARIABLE","$this",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","_prepareShippingLabelContent",1091],"(",["T_VARIABLE","$xml",1091],")",";",["T_WHITESPACE","\n                        ",1091],"}",["T_WHITESPACE"," ",1092],["T_ELSE","else",1092],["T_WHITESPACE"," ",1092],"{",["T_WHITESPACE","\n                            ",1092],["T_VARIABLE","$this",1093],["T_OBJECT_OPERATOR","->",1093],["T_STRING","_errors",1093],"[","]",["T_WHITESPACE"," ",1093],"=",["T_WHITESPACE"," ",1093],["T_VARIABLE","$responseError",1093],";",["T_WHITESPACE","\n                        ",1093],"}",["T_WHITESPACE","\n                    ",1094],"}",["T_WHITESPACE","\n                ",1095],"}",["T_WHITESPACE","\n            ",1096],"}",["T_WHITESPACE"," ",1097],["T_ELSE","else",1097],["T_WHITESPACE"," ",1097],"{",["T_WHITESPACE","\n                ",1097],["T_VARIABLE","$this",1098],["T_OBJECT_OPERATOR","->",1098],["T_STRING","_errors",1098],"[","]",["T_WHITESPACE"," ",1098],"=",["T_WHITESPACE"," ",1098],["T_VARIABLE","$responseError",1098],";",["T_WHITESPACE","\n            ",1098],"}",["T_WHITESPACE","\n        ",1099],"}",["T_WHITESPACE"," ",1100],["T_ELSE","else",1100],["T_WHITESPACE"," ",1100],"{",["T_WHITESPACE","\n            ",1100],["T_VARIABLE","$this",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","_errors",1101],"[","]",["T_WHITESPACE"," ",1101],"=",["T_WHITESPACE"," ",1101],["T_VARIABLE","$responseError",1101],";",["T_WHITESPACE","\n        ",1101],"}",["T_WHITESPACE","\n\n        ",1102],["T_COMMENT","\/* @var $result Result *\/",1104],["T_WHITESPACE","\n        ",1104],["T_VARIABLE","$result",1105],["T_WHITESPACE"," ",1105],"=",["T_WHITESPACE"," ",1105],["T_VARIABLE","$this",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","_rateFactory",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","create",1105],"(",")",";",["T_WHITESPACE","\n        ",1105],["T_IF","if",1106],["T_WHITESPACE"," ",1106],"(",["T_VARIABLE","$this",1106],["T_OBJECT_OPERATOR","->",1106],["T_STRING","_rates",1106],")",["T_WHITESPACE"," ",1106],"{",["T_WHITESPACE","\n            ",1106],["T_FOREACH","foreach",1107],["T_WHITESPACE"," ",1107],"(",["T_VARIABLE","$this",1107],["T_OBJECT_OPERATOR","->",1107],["T_STRING","_rates",1107],["T_WHITESPACE"," ",1107],["T_AS","as",1107],["T_WHITESPACE"," ",1107],["T_VARIABLE","$rate",1107],")",["T_WHITESPACE"," ",1107],"{",["T_WHITESPACE","\n                ",1107],["T_VARIABLE","$method",1108],["T_WHITESPACE"," ",1108],"=",["T_WHITESPACE"," ",1108],["T_VARIABLE","$rate",1108],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",1108],"]",";",["T_WHITESPACE","\n                ",1108],["T_VARIABLE","$data",1109],["T_WHITESPACE"," ",1109],"=",["T_WHITESPACE"," ",1109],["T_VARIABLE","$rate",1109],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",1109],"]",";",["T_WHITESPACE","\n                ",1109],["T_COMMENT","\/* @var $rate \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\Method *\/",1110],["T_WHITESPACE","\n                ",1110],["T_VARIABLE","$rate",1111],["T_WHITESPACE"," ",1111],"=",["T_WHITESPACE"," ",1111],["T_VARIABLE","$this",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","_rateMethodFactory",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","create",1111],"(",")",";",["T_WHITESPACE","\n                ",1111],["T_VARIABLE","$rate",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","setCarrier",1112],"(",["T_STRING","self",1112],["T_DOUBLE_COLON","::",1112],["T_STRING","CODE",1112],")",";",["T_WHITESPACE","\n                ",1112],["T_VARIABLE","$rate",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","setCarrierTitle",1113],"(",["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","getConfigData",1113],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1113],")",")",";",["T_WHITESPACE","\n                ",1113],["T_VARIABLE","$rate",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","setMethod",1114],"(",["T_VARIABLE","$method",1114],")",";",["T_WHITESPACE","\n                ",1114],["T_VARIABLE","$rate",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","setMethodTitle",1115],"(",["T_VARIABLE","$data",1115],"[",["T_CONSTANT_ENCAPSED_STRING","'term'",1115],"]",")",";",["T_WHITESPACE","\n                ",1115],["T_VARIABLE","$rate",1116],["T_OBJECT_OPERATOR","->",1116],["T_STRING","setCost",1116],"(",["T_VARIABLE","$data",1116],"[",["T_CONSTANT_ENCAPSED_STRING","'price_total'",1116],"]",")",";",["T_WHITESPACE","\n                ",1116],["T_VARIABLE","$rate",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","setPrice",1117],"(",["T_VARIABLE","$data",1117],"[",["T_CONSTANT_ENCAPSED_STRING","'price_total'",1117],"]",")",";",["T_WHITESPACE","\n                ",1117],["T_VARIABLE","$result",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","append",1118],"(",["T_VARIABLE","$rate",1118],")",";",["T_WHITESPACE","\n            ",1118],"}",["T_WHITESPACE","\n        ",1119],"}",["T_WHITESPACE"," ",1120],["T_ELSE","else",1120],["T_WHITESPACE"," ",1120],"{",["T_WHITESPACE","\n            ",1120],["T_IF","if",1121],["T_WHITESPACE"," ",1121],"(","!",["T_EMPTY","empty",1121],"(",["T_VARIABLE","$this",1121],["T_OBJECT_OPERATOR","->",1121],["T_STRING","_errors",1121],")",")",["T_WHITESPACE"," ",1121],"{",["T_WHITESPACE","\n                ",1121],["T_IF","if",1122],["T_WHITESPACE"," ",1122],"(",["T_VARIABLE","$this",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","_isShippingLabelFlag",1122],")",["T_WHITESPACE"," ",1122],"{",["T_WHITESPACE","\n                    ",1122],["T_THROW","throw",1123],["T_WHITESPACE"," ",1123],["T_NEW","new",1123],["T_WHITESPACE"," ",1123],["T_NS_SEPARATOR","\\",1123],["T_STRING","Magento",1123],["T_NS_SEPARATOR","\\",1123],["T_STRING","Framework",1123],["T_NS_SEPARATOR","\\",1123],["T_STRING","Exception",1123],["T_NS_SEPARATOR","\\",1123],["T_STRING","LocalizedException",1123],"(",["T_VARIABLE","$responseError",1123],")",";",["T_WHITESPACE","\n                ",1123],"}",["T_WHITESPACE","\n                ",1124],["T_VARIABLE","$this",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","debugErrors",1125],"(",["T_VARIABLE","$this",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","_errors",1125],")",";",["T_WHITESPACE","\n            ",1125],"}",["T_WHITESPACE","\n            ",1126],["T_VARIABLE","$result",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","append",1127],"(",["T_VARIABLE","$this",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","getErrorMessage",1127],"(",")",")",";",["T_WHITESPACE","\n        ",1127],"}",["T_WHITESPACE","\n\n        ",1128],["T_RETURN","return",1130],["T_WHITESPACE"," ",1130],["T_VARIABLE","$result",1130],";",["T_WHITESPACE","\n    ",1130],"}",["T_WHITESPACE","\n\n    ",1131],["T_DOC_COMMENT","\/**\n     * Add rate to DHL rates array\n     *\n     * @param \\SimpleXMLElement $shipmentDetails\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",1133],["T_WHITESPACE","\n    ",1139],["T_PROTECTED","protected",1140],["T_WHITESPACE"," ",1140],["T_FUNCTION","function",1140],["T_WHITESPACE"," ",1140],["T_STRING","_addRate",1140],"(",["T_NS_SEPARATOR","\\",1140],["T_STRING","SimpleXMLElement",1140],["T_WHITESPACE"," ",1140],["T_VARIABLE","$shipmentDetails",1140],")",["T_WHITESPACE","\n    ",1140],"{",["T_WHITESPACE","\n        ",1141],["T_IF","if",1142],["T_WHITESPACE"," ",1142],"(",["T_ISSET","isset",1142],"(",["T_VARIABLE","$shipmentDetails",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","ProductShortName",1142],")",["T_WHITESPACE","\n            ",1142],["T_BOOLEAN_AND","&&",1143],["T_WHITESPACE"," ",1143],["T_ISSET","isset",1143],"(",["T_VARIABLE","$shipmentDetails",1143],["T_OBJECT_OPERATOR","->",1143],["T_STRING","ShippingCharge",1143],")",["T_WHITESPACE","\n            ",1143],["T_BOOLEAN_AND","&&",1144],["T_WHITESPACE"," ",1144],["T_ISSET","isset",1144],"(",["T_VARIABLE","$shipmentDetails",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","GlobalProductCode",1144],")",["T_WHITESPACE","\n            ",1144],["T_BOOLEAN_AND","&&",1145],["T_WHITESPACE"," ",1145],["T_ISSET","isset",1145],"(",["T_VARIABLE","$shipmentDetails",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","CurrencyCode",1145],")",["T_WHITESPACE","\n            ",1145],["T_BOOLEAN_AND","&&",1146],["T_WHITESPACE"," ",1146],["T_STRING","array_key_exists",1146],"(",["T_STRING_CAST","(string)",1146],["T_VARIABLE","$shipmentDetails",1146],["T_OBJECT_OPERATOR","->",1146],["T_STRING","GlobalProductCode",1146],",",["T_WHITESPACE"," ",1146],["T_VARIABLE","$this",1146],["T_OBJECT_OPERATOR","->",1146],["T_STRING","getAllowedMethods",1146],"(",")",")",["T_WHITESPACE","\n        ",1146],")",["T_WHITESPACE"," ",1147],"{",["T_WHITESPACE","\n            ",1147],["T_COMMENT","\/\/ DHL product code, e.g. '3', 'A', 'Q', etc.\n",1148],["T_WHITESPACE","            ",1149],["T_VARIABLE","$dhlProduct",1149],["T_WHITESPACE"," ",1149],"=",["T_WHITESPACE"," ",1149],["T_STRING_CAST","(string)",1149],["T_VARIABLE","$shipmentDetails",1149],["T_OBJECT_OPERATOR","->",1149],["T_STRING","GlobalProductCode",1149],";",["T_WHITESPACE","\n            ",1149],["T_VARIABLE","$totalEstimate",1150],["T_WHITESPACE"," ",1150],"=",["T_WHITESPACE"," ",1150],["T_DOUBLE_CAST","(float)",1150],["T_STRING_CAST","(string)",1150],["T_VARIABLE","$shipmentDetails",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","ShippingCharge",1150],";",["T_WHITESPACE","\n            ",1150],["T_VARIABLE","$currencyCode",1151],["T_WHITESPACE"," ",1151],"=",["T_WHITESPACE"," ",1151],["T_STRING_CAST","(string)",1151],["T_VARIABLE","$shipmentDetails",1151],["T_OBJECT_OPERATOR","->",1151],["T_STRING","CurrencyCode",1151],";",["T_WHITESPACE","\n            ",1151],["T_VARIABLE","$baseCurrencyCode",1152],["T_WHITESPACE"," ",1152],"=",["T_WHITESPACE"," ",1152],["T_VARIABLE","$this",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","_storeManager",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","getWebsite",1152],"(",["T_VARIABLE","$this",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","_request",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","getWebsiteId",1152],"(",")",")",["T_WHITESPACE","\n                ",1152],["T_OBJECT_OPERATOR","->",1153],["T_STRING","getBaseCurrencyCode",1153],"(",")",";",["T_WHITESPACE","\n            ",1153],["T_VARIABLE","$dhlProductDescription",1154],["T_WHITESPACE"," ",1154],"=",["T_WHITESPACE"," ",1154],["T_VARIABLE","$this",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","getDhlProductTitle",1154],"(",["T_VARIABLE","$dhlProduct",1154],")",";",["T_WHITESPACE","\n\n            ",1154],["T_IF","if",1156],["T_WHITESPACE"," ",1156],"(",["T_VARIABLE","$currencyCode",1156],["T_WHITESPACE"," ",1156],["T_IS_NOT_EQUAL","!=",1156],["T_WHITESPACE"," ",1156],["T_VARIABLE","$baseCurrencyCode",1156],")",["T_WHITESPACE"," ",1156],"{",["T_WHITESPACE","\n                ",1156],["T_COMMENT","\/* @var $currency \\Magento\\Directory\\Model\\Currency *\/",1157],["T_WHITESPACE","\n                ",1157],["T_VARIABLE","$currency",1158],["T_WHITESPACE"," ",1158],"=",["T_WHITESPACE"," ",1158],["T_VARIABLE","$this",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","_currencyFactory",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","create",1158],"(",")",";",["T_WHITESPACE","\n                ",1158],["T_VARIABLE","$rates",1159],["T_WHITESPACE"," ",1159],"=",["T_WHITESPACE"," ",1159],["T_VARIABLE","$currency",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","getCurrencyRates",1159],"(",["T_VARIABLE","$currencyCode",1159],",",["T_WHITESPACE"," ",1159],"[",["T_VARIABLE","$baseCurrencyCode",1159],"]",")",";",["T_WHITESPACE","\n                ",1159],["T_IF","if",1160],["T_WHITESPACE"," ",1160],"(","!",["T_EMPTY","empty",1160],"(",["T_VARIABLE","$rates",1160],")",["T_WHITESPACE"," ",1160],["T_BOOLEAN_AND","&&",1160],["T_WHITESPACE"," ",1160],["T_ISSET","isset",1160],"(",["T_VARIABLE","$rates",1160],"[",["T_VARIABLE","$baseCurrencyCode",1160],"]",")",")",["T_WHITESPACE"," ",1160],"{",["T_WHITESPACE","\n                    ",1160],["T_COMMENT","\/\/ Convert to store display currency using store exchange rate\n",1161],["T_WHITESPACE","                    ",1162],["T_VARIABLE","$totalEstimate",1162],["T_WHITESPACE"," ",1162],"=",["T_WHITESPACE"," ",1162],["T_VARIABLE","$totalEstimate",1162],["T_WHITESPACE"," ",1162],"*",["T_WHITESPACE"," ",1162],["T_VARIABLE","$rates",1162],"[",["T_VARIABLE","$baseCurrencyCode",1162],"]",";",["T_WHITESPACE","\n                ",1162],"}",["T_WHITESPACE"," ",1163],["T_ELSE","else",1163],["T_WHITESPACE"," ",1163],"{",["T_WHITESPACE","\n                    ",1163],["T_VARIABLE","$rates",1164],["T_WHITESPACE"," ",1164],"=",["T_WHITESPACE"," ",1164],["T_VARIABLE","$currency",1164],["T_OBJECT_OPERATOR","->",1164],["T_STRING","getCurrencyRates",1164],"(",["T_VARIABLE","$baseCurrencyCode",1164],",",["T_WHITESPACE"," ",1164],"[",["T_VARIABLE","$currencyCode",1164],"]",")",";",["T_WHITESPACE","\n                    ",1164],["T_IF","if",1165],["T_WHITESPACE"," ",1165],"(","!",["T_EMPTY","empty",1165],"(",["T_VARIABLE","$rates",1165],")",["T_WHITESPACE"," ",1165],["T_BOOLEAN_AND","&&",1165],["T_WHITESPACE"," ",1165],["T_ISSET","isset",1165],"(",["T_VARIABLE","$rates",1165],"[",["T_VARIABLE","$currencyCode",1165],"]",")",")",["T_WHITESPACE"," ",1165],"{",["T_WHITESPACE","\n                        ",1165],["T_VARIABLE","$totalEstimate",1166],["T_WHITESPACE"," ",1166],"=",["T_WHITESPACE"," ",1166],["T_VARIABLE","$totalEstimate",1166],["T_WHITESPACE"," ",1166],"\/",["T_WHITESPACE"," ",1166],["T_VARIABLE","$rates",1166],"[",["T_VARIABLE","$currencyCode",1166],"]",";",["T_WHITESPACE","\n                    ",1166],"}",["T_WHITESPACE","\n                    ",1167],["T_IF","if",1168],["T_WHITESPACE"," ",1168],"(","!",["T_ISSET","isset",1168],"(",["T_VARIABLE","$rates",1168],"[",["T_VARIABLE","$currencyCode",1168],"]",")",["T_WHITESPACE"," ",1168],["T_BOOLEAN_OR","||",1168],["T_WHITESPACE"," ",1168],"!",["T_VARIABLE","$totalEstimate",1168],")",["T_WHITESPACE"," ",1168],"{",["T_WHITESPACE","\n                        ",1168],["T_VARIABLE","$totalEstimate",1169],["T_WHITESPACE"," ",1169],"=",["T_WHITESPACE"," ",1169],["T_STRING","false",1169],";",["T_WHITESPACE","\n                        ",1169],["T_VARIABLE","$this",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","_errors",1170],"[","]",["T_WHITESPACE"," ",1170],"=",["T_WHITESPACE"," ",1170],["T_STRING","__",1170],"(",["T_WHITESPACE","\n                            ",1170],["T_CONSTANT_ENCAPSED_STRING","'We had to skip DHL method %1 because we couldn\\'t find exchange rate %2 (Base Currency).'",1171],",",["T_WHITESPACE","\n                            ",1171],["T_VARIABLE","$currencyCode",1172],",",["T_WHITESPACE","\n                            ",1172],["T_VARIABLE","$baseCurrencyCode",1173],["T_WHITESPACE","\n                        ",1173],")",";",["T_WHITESPACE","\n                    ",1174],"}",["T_WHITESPACE","\n                ",1175],"}",["T_WHITESPACE","\n            ",1176],"}",["T_WHITESPACE","\n            ",1177],["T_IF","if",1178],["T_WHITESPACE"," ",1178],"(",["T_VARIABLE","$totalEstimate",1178],")",["T_WHITESPACE"," ",1178],"{",["T_WHITESPACE","\n                ",1178],["T_VARIABLE","$data",1179],["T_WHITESPACE"," ",1179],"=",["T_WHITESPACE"," ",1179],"[",["T_WHITESPACE","\n                    ",1179],["T_CONSTANT_ENCAPSED_STRING","'term'",1180],["T_WHITESPACE"," ",1180],["T_DOUBLE_ARROW","=>",1180],["T_WHITESPACE"," ",1180],["T_VARIABLE","$dhlProductDescription",1180],",",["T_WHITESPACE","\n                    ",1180],["T_CONSTANT_ENCAPSED_STRING","'price_total'",1181],["T_WHITESPACE"," ",1181],["T_DOUBLE_ARROW","=>",1181],["T_WHITESPACE"," ",1181],["T_VARIABLE","$this",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","getMethodPrice",1181],"(",["T_VARIABLE","$totalEstimate",1181],",",["T_WHITESPACE"," ",1181],["T_VARIABLE","$dhlProduct",1181],")",",",["T_WHITESPACE","\n                ",1181],"]",";",["T_WHITESPACE","\n                ",1182],["T_IF","if",1183],["T_WHITESPACE"," ",1183],"(","!",["T_EMPTY","empty",1183],"(",["T_VARIABLE","$this",1183],["T_OBJECT_OPERATOR","->",1183],["T_STRING","_rates",1183],")",")",["T_WHITESPACE"," ",1183],"{",["T_WHITESPACE","\n                    ",1183],["T_FOREACH","foreach",1184],["T_WHITESPACE"," ",1184],"(",["T_VARIABLE","$this",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","_rates",1184],["T_WHITESPACE"," ",1184],["T_AS","as",1184],["T_WHITESPACE"," ",1184],["T_VARIABLE","$product",1184],")",["T_WHITESPACE"," ",1184],"{",["T_WHITESPACE","\n                        ",1184],["T_IF","if",1185],["T_WHITESPACE"," ",1185],"(",["T_VARIABLE","$product",1185],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",1185],"]","[",["T_CONSTANT_ENCAPSED_STRING","'term'",1185],"]",["T_WHITESPACE"," ",1185],["T_IS_EQUAL","==",1185],["T_WHITESPACE"," ",1185],["T_VARIABLE","$data",1185],"[",["T_CONSTANT_ENCAPSED_STRING","'term'",1185],"]",["T_WHITESPACE","\n                            ",1185],["T_BOOLEAN_AND","&&",1186],["T_WHITESPACE"," ",1186],["T_VARIABLE","$product",1186],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",1186],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price_total'",1186],"]",["T_WHITESPACE"," ",1186],["T_IS_EQUAL","==",1186],["T_WHITESPACE"," ",1186],["T_VARIABLE","$data",1186],"[",["T_CONSTANT_ENCAPSED_STRING","'price_total'",1186],"]",["T_WHITESPACE","\n                        ",1186],")",["T_WHITESPACE"," ",1187],"{",["T_WHITESPACE","\n                            ",1187],["T_RETURN","return",1188],["T_WHITESPACE"," ",1188],["T_VARIABLE","$this",1188],";",["T_WHITESPACE","\n                        ",1188],"}",["T_WHITESPACE","\n                    ",1189],"}",["T_WHITESPACE","\n                ",1190],"}",["T_WHITESPACE","\n                ",1191],["T_VARIABLE","$this",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","_rates",1192],"[","]",["T_WHITESPACE"," ",1192],"=",["T_WHITESPACE"," ",1192],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",1192],["T_WHITESPACE"," ",1192],["T_DOUBLE_ARROW","=>",1192],["T_WHITESPACE"," ",1192],["T_VARIABLE","$dhlProduct",1192],",",["T_WHITESPACE"," ",1192],["T_CONSTANT_ENCAPSED_STRING","'data'",1192],["T_WHITESPACE"," ",1192],["T_DOUBLE_ARROW","=>",1192],["T_WHITESPACE"," ",1192],["T_VARIABLE","$data",1192],"]",";",["T_WHITESPACE","\n            ",1192],"}",["T_WHITESPACE"," ",1193],["T_ELSE","else",1193],["T_WHITESPACE"," ",1193],"{",["T_WHITESPACE","\n                ",1193],["T_VARIABLE","$this",1194],["T_OBJECT_OPERATOR","->",1194],["T_STRING","_errors",1194],"[","]",["T_WHITESPACE"," ",1194],"=",["T_WHITESPACE"," ",1194],["T_STRING","__",1194],"(",["T_CONSTANT_ENCAPSED_STRING","\"Zero shipping charge for '%1'\"",1194],",",["T_WHITESPACE"," ",1194],["T_VARIABLE","$dhlProductDescription",1194],")",";",["T_WHITESPACE","\n            ",1194],"}",["T_WHITESPACE","\n        ",1195],"}",["T_WHITESPACE"," ",1196],["T_ELSE","else",1196],["T_WHITESPACE"," ",1196],"{",["T_WHITESPACE","\n            ",1196],["T_VARIABLE","$dhlProductDescription",1197],["T_WHITESPACE"," ",1197],"=",["T_WHITESPACE"," ",1197],["T_STRING","false",1197],";",["T_WHITESPACE","\n            ",1197],["T_IF","if",1198],["T_WHITESPACE"," ",1198],"(",["T_ISSET","isset",1198],"(",["T_VARIABLE","$shipmentDetails",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","GlobalProductCode",1198],")",")",["T_WHITESPACE"," ",1198],"{",["T_WHITESPACE","\n                ",1198],["T_VARIABLE","$dhlProductDescription",1199],["T_WHITESPACE"," ",1199],"=",["T_WHITESPACE"," ",1199],["T_VARIABLE","$this",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","getDhlProductTitle",1199],"(",["T_STRING_CAST","(string)",1199],["T_VARIABLE","$shipmentDetails",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","GlobalProductCode",1199],")",";",["T_WHITESPACE","\n            ",1199],"}",["T_WHITESPACE","\n            ",1200],["T_VARIABLE","$dhlProductDescription",1201],["T_WHITESPACE"," ",1201],"=",["T_WHITESPACE"," ",1201],["T_VARIABLE","$dhlProductDescription",1201],["T_WHITESPACE"," ",1201],"?",["T_WHITESPACE"," ",1201],["T_VARIABLE","$dhlProductDescription",1201],["T_WHITESPACE"," ",1201],":",["T_WHITESPACE"," ",1201],["T_STRING","__",1201],"(",["T_CONSTANT_ENCAPSED_STRING","\"DHL\"",1201],")",";",["T_WHITESPACE","\n            ",1201],["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","_errors",1202],"[","]",["T_WHITESPACE"," ",1202],"=",["T_WHITESPACE"," ",1202],["T_STRING","__",1202],"(",["T_CONSTANT_ENCAPSED_STRING","\"Zero shipping charge for '%1'\"",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$dhlProductDescription",1202],")",";",["T_WHITESPACE","\n        ",1202],"}",["T_WHITESPACE","\n\n        ",1203],["T_RETURN","return",1205],["T_WHITESPACE"," ",1205],["T_VARIABLE","$this",1205],";",["T_WHITESPACE","\n    ",1205],"}",["T_WHITESPACE","\n\n    ",1206],["T_DOC_COMMENT","\/**\n     * Returns dimension unit (cm or inch)\n     *\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",1208],["T_WHITESPACE","\n    ",1213],["T_PROTECTED","protected",1214],["T_WHITESPACE"," ",1214],["T_FUNCTION","function",1214],["T_WHITESPACE"," ",1214],["T_STRING","_getDimensionUnit",1214],"(",")",["T_WHITESPACE","\n    ",1214],"{",["T_WHITESPACE","\n        ",1215],["T_VARIABLE","$countryId",1216],["T_WHITESPACE"," ",1216],"=",["T_WHITESPACE"," ",1216],["T_VARIABLE","$this",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","_rawRequest",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","getOrigCountryId",1216],"(",")",";",["T_WHITESPACE","\n        ",1216],["T_VARIABLE","$measureUnit",1217],["T_WHITESPACE"," ",1217],"=",["T_WHITESPACE"," ",1217],["T_VARIABLE","$this",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","getCountryParams",1217],"(",["T_VARIABLE","$countryId",1217],")",["T_OBJECT_OPERATOR","->",1217],["T_STRING","getMeasureUnit",1217],"(",")",";",["T_WHITESPACE","\n        ",1217],["T_IF","if",1218],["T_WHITESPACE"," ",1218],"(",["T_EMPTY","empty",1218],"(",["T_VARIABLE","$measureUnit",1218],")",")",["T_WHITESPACE"," ",1218],"{",["T_WHITESPACE","\n            ",1218],["T_THROW","throw",1219],["T_WHITESPACE"," ",1219],["T_NEW","new",1219],["T_WHITESPACE"," ",1219],["T_NS_SEPARATOR","\\",1219],["T_STRING","Magento",1219],["T_NS_SEPARATOR","\\",1219],["T_STRING","Framework",1219],["T_NS_SEPARATOR","\\",1219],["T_STRING","Exception",1219],["T_NS_SEPARATOR","\\",1219],["T_STRING","LocalizedException",1219],"(",["T_WHITESPACE","\n                ",1219],["T_STRING","__",1220],"(",["T_CONSTANT_ENCAPSED_STRING","\"Cannot identify measure unit for %1\"",1220],",",["T_WHITESPACE"," ",1220],["T_VARIABLE","$countryId",1220],")",["T_WHITESPACE","\n            ",1220],")",";",["T_WHITESPACE","\n        ",1221],"}",["T_WHITESPACE","\n\n        ",1222],["T_RETURN","return",1224],["T_WHITESPACE"," ",1224],["T_VARIABLE","$measureUnit",1224],";",["T_WHITESPACE","\n    ",1224],"}",["T_WHITESPACE","\n\n    ",1225],["T_DOC_COMMENT","\/**\n     * Returns weight unit (kg or pound)\n     *\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",1227],["T_WHITESPACE","\n    ",1232],["T_PROTECTED","protected",1233],["T_WHITESPACE"," ",1233],["T_FUNCTION","function",1233],["T_WHITESPACE"," ",1233],["T_STRING","_getWeightUnit",1233],"(",")",["T_WHITESPACE","\n    ",1233],"{",["T_WHITESPACE","\n        ",1234],["T_VARIABLE","$countryId",1235],["T_WHITESPACE"," ",1235],"=",["T_WHITESPACE"," ",1235],["T_VARIABLE","$this",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","_rawRequest",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","getOrigCountryId",1235],"(",")",";",["T_WHITESPACE","\n        ",1235],["T_VARIABLE","$weightUnit",1236],["T_WHITESPACE"," ",1236],"=",["T_WHITESPACE"," ",1236],["T_VARIABLE","$this",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","getCountryParams",1236],"(",["T_VARIABLE","$countryId",1236],")",["T_OBJECT_OPERATOR","->",1236],["T_STRING","getWeightUnit",1236],"(",")",";",["T_WHITESPACE","\n        ",1236],["T_IF","if",1237],["T_WHITESPACE"," ",1237],"(",["T_EMPTY","empty",1237],"(",["T_VARIABLE","$weightUnit",1237],")",")",["T_WHITESPACE"," ",1237],"{",["T_WHITESPACE","\n            ",1237],["T_THROW","throw",1238],["T_WHITESPACE"," ",1238],["T_NEW","new",1238],["T_WHITESPACE"," ",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","Magento",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","Framework",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","Exception",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","LocalizedException",1238],"(",["T_WHITESPACE","\n                ",1238],["T_STRING","__",1239],"(",["T_CONSTANT_ENCAPSED_STRING","\"Cannot identify weight unit for %1\"",1239],",",["T_WHITESPACE"," ",1239],["T_VARIABLE","$countryId",1239],")",["T_WHITESPACE","\n            ",1239],")",";",["T_WHITESPACE","\n        ",1240],"}",["T_WHITESPACE","\n\n        ",1241],["T_RETURN","return",1243],["T_WHITESPACE"," ",1243],["T_VARIABLE","$weightUnit",1243],";",["T_WHITESPACE","\n    ",1243],"}",["T_WHITESPACE","\n\n    ",1244],["T_DOC_COMMENT","\/**\n     * Get Country Params by Country Code\n     *\n     * @param string $countryCode\n     * @return \\Magento\\Framework\\DataObject\n     *\n     * @see $countryCode ISO 3166 Codes (Countries) A2\n     *\/",1246],["T_WHITESPACE","\n    ",1253],["T_PROTECTED","protected",1254],["T_WHITESPACE"," ",1254],["T_FUNCTION","function",1254],["T_WHITESPACE"," ",1254],["T_STRING","getCountryParams",1254],"(",["T_VARIABLE","$countryCode",1254],")",["T_WHITESPACE","\n    ",1254],"{",["T_WHITESPACE","\n        ",1255],["T_IF","if",1256],["T_WHITESPACE"," ",1256],"(",["T_EMPTY","empty",1256],"(",["T_VARIABLE","$this",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","_countryParams",1256],")",")",["T_WHITESPACE"," ",1256],"{",["T_WHITESPACE","\n            ",1256],["T_VARIABLE","$etcPath",1257],["T_WHITESPACE"," ",1257],"=",["T_WHITESPACE"," ",1257],["T_VARIABLE","$this",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","_configReader",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","getModuleDir",1257],"(",["T_STRING","Dir",1257],["T_DOUBLE_COLON","::",1257],["T_STRING","MODULE_ETC_DIR",1257],",",["T_WHITESPACE"," ",1257],["T_CONSTANT_ENCAPSED_STRING","'Magento_Dhl'",1257],")",";",["T_WHITESPACE","\n            ",1257],["T_VARIABLE","$directoryRead",1258],["T_WHITESPACE"," ",1258],"=",["T_WHITESPACE"," ",1258],["T_VARIABLE","$this",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","readFactory",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","create",1258],"(",["T_VARIABLE","$etcPath",1258],")",";",["T_WHITESPACE","\n            ",1258],["T_VARIABLE","$countriesXml",1259],["T_WHITESPACE"," ",1259],"=",["T_WHITESPACE"," ",1259],["T_VARIABLE","$directoryRead",1259],["T_OBJECT_OPERATOR","->",1259],["T_STRING","readFile",1259],"(",["T_CONSTANT_ENCAPSED_STRING","'countries.xml'",1259],")",";",["T_WHITESPACE","\n            ",1259],["T_VARIABLE","$this",1260],["T_OBJECT_OPERATOR","->",1260],["T_STRING","_countryParams",1260],["T_WHITESPACE"," ",1260],"=",["T_WHITESPACE"," ",1260],["T_VARIABLE","$this",1260],["T_OBJECT_OPERATOR","->",1260],["T_STRING","_xmlElFactory",1260],["T_OBJECT_OPERATOR","->",1260],["T_STRING","create",1260],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",1260],["T_WHITESPACE"," ",1260],["T_DOUBLE_ARROW","=>",1260],["T_WHITESPACE"," ",1260],["T_VARIABLE","$countriesXml",1260],"]",")",";",["T_WHITESPACE","\n        ",1260],"}",["T_WHITESPACE","\n        ",1261],["T_IF","if",1262],["T_WHITESPACE"," ",1262],"(",["T_ISSET","isset",1262],"(",["T_VARIABLE","$this",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","_countryParams",1262],["T_OBJECT_OPERATOR","->",1262],"{",["T_VARIABLE","$countryCode",1262],"}",")",")",["T_WHITESPACE"," ",1262],"{",["T_WHITESPACE","\n            ",1262],["T_VARIABLE","$countryParams",1263],["T_WHITESPACE"," ",1263],"=",["T_WHITESPACE"," ",1263],["T_NEW","new",1263],["T_WHITESPACE"," ",1263],["T_NS_SEPARATOR","\\",1263],["T_STRING","Magento",1263],["T_NS_SEPARATOR","\\",1263],["T_STRING","Framework",1263],["T_NS_SEPARATOR","\\",1263],["T_STRING","DataObject",1263],"(",["T_VARIABLE","$this",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","_countryParams",1263],["T_OBJECT_OPERATOR","->",1263],"{",["T_VARIABLE","$countryCode",1263],"}",["T_OBJECT_OPERATOR","->",1263],["T_STRING","asArray",1263],"(",")",")",";",["T_WHITESPACE","\n        ",1263],"}",["T_WHITESPACE","\n        ",1264],["T_RETURN","return",1265],["T_WHITESPACE"," ",1265],["T_ISSET","isset",1265],"(",["T_VARIABLE","$countryParams",1265],")",["T_WHITESPACE"," ",1265],"?",["T_WHITESPACE"," ",1265],["T_VARIABLE","$countryParams",1265],["T_WHITESPACE"," ",1265],":",["T_WHITESPACE"," ",1265],["T_NEW","new",1265],["T_WHITESPACE"," ",1265],["T_NS_SEPARATOR","\\",1265],["T_STRING","Magento",1265],["T_NS_SEPARATOR","\\",1265],["T_STRING","Framework",1265],["T_NS_SEPARATOR","\\",1265],["T_STRING","DataObject",1265],"(",")",";",["T_WHITESPACE","\n    ",1265],"}",["T_WHITESPACE","\n\n    ",1266],["T_DOC_COMMENT","\/**\n     * Do shipment request to carrier web service, obtain Print Shipping Labels and process errors in response\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return \\Magento\\Framework\\DataObject\n     *\/",1268],["T_WHITESPACE","\n    ",1273],["T_PROTECTED","protected",1274],["T_WHITESPACE"," ",1274],["T_FUNCTION","function",1274],["T_WHITESPACE"," ",1274],["T_STRING","_doShipmentRequest",1274],"(",["T_NS_SEPARATOR","\\",1274],["T_STRING","Magento",1274],["T_NS_SEPARATOR","\\",1274],["T_STRING","Framework",1274],["T_NS_SEPARATOR","\\",1274],["T_STRING","DataObject",1274],["T_WHITESPACE"," ",1274],["T_VARIABLE","$request",1274],")",["T_WHITESPACE","\n    ",1274],"{",["T_WHITESPACE","\n        ",1275],["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","_prepareShipmentRequest",1276],"(",["T_VARIABLE","$request",1276],")",";",["T_WHITESPACE","\n        ",1276],["T_VARIABLE","$this",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","_mapRequestToShipment",1277],"(",["T_VARIABLE","$request",1277],")",";",["T_WHITESPACE","\n        ",1277],["T_VARIABLE","$this",1278],["T_OBJECT_OPERATOR","->",1278],["T_STRING","setRequest",1278],"(",["T_VARIABLE","$request",1278],")",";",["T_WHITESPACE","\n\n        ",1278],["T_RETURN","return",1280],["T_WHITESPACE"," ",1280],["T_VARIABLE","$this",1280],["T_OBJECT_OPERATOR","->",1280],["T_STRING","_doRequest",1280],"(",")",";",["T_WHITESPACE","\n    ",1280],"}",["T_WHITESPACE","\n\n    ",1281],["T_DOC_COMMENT","\/**\n     * Processing additional validation to check is carrier applicable.\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return $this|\\Magento\\Framework\\DataObject|boolean\n     *\/",1283],["T_WHITESPACE","\n    ",1288],["T_PUBLIC","public",1289],["T_WHITESPACE"," ",1289],["T_FUNCTION","function",1289],["T_WHITESPACE"," ",1289],["T_STRING","proccessAdditionalValidation",1289],"(",["T_NS_SEPARATOR","\\",1289],["T_STRING","Magento",1289],["T_NS_SEPARATOR","\\",1289],["T_STRING","Framework",1289],["T_NS_SEPARATOR","\\",1289],["T_STRING","DataObject",1289],["T_WHITESPACE"," ",1289],["T_VARIABLE","$request",1289],")",["T_WHITESPACE","\n    ",1289],"{",["T_WHITESPACE","\n        ",1290],["T_COMMENT","\/\/Skip by item validation if there is no items in request\n",1291],["T_WHITESPACE","        ",1292],["T_IF","if",1292],["T_WHITESPACE"," ",1292],"(","!",["T_STRING","count",1292],"(",["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","getAllItems",1292],"(",["T_VARIABLE","$request",1292],")",")",")",["T_WHITESPACE"," ",1292],"{",["T_WHITESPACE","\n            ",1292],["T_VARIABLE","$this",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","_errors",1293],"[","]",["T_WHITESPACE"," ",1293],"=",["T_WHITESPACE"," ",1293],["T_STRING","__",1293],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no items in this order'",1293],")",";",["T_WHITESPACE","\n        ",1293],"}",["T_WHITESPACE","\n\n        ",1294],["T_VARIABLE","$countryParams",1296],["T_WHITESPACE"," ",1296],"=",["T_WHITESPACE"," ",1296],["T_VARIABLE","$this",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","getCountryParams",1296],"(",["T_WHITESPACE","\n            ",1296],["T_VARIABLE","$this",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","_scopeConfig",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","getValue",1297],"(",["T_WHITESPACE","\n                ",1297],["T_STRING","Shipment",1298],["T_DOUBLE_COLON","::",1298],["T_STRING","XML_PATH_STORE_COUNTRY_ID",1298],",",["T_WHITESPACE","\n                ",1298],["T_NS_SEPARATOR","\\",1299],["T_STRING","Magento",1299],["T_NS_SEPARATOR","\\",1299],["T_STRING","Store",1299],["T_NS_SEPARATOR","\\",1299],["T_STRING","Model",1299],["T_NS_SEPARATOR","\\",1299],["T_STRING","ScopeInterface",1299],["T_DOUBLE_COLON","::",1299],["T_STRING","SCOPE_STORE",1299],",",["T_WHITESPACE","\n                ",1299],["T_VARIABLE","$request",1300],["T_OBJECT_OPERATOR","->",1300],["T_STRING","getStoreId",1300],"(",")",["T_WHITESPACE","\n            ",1300],")",["T_WHITESPACE","\n        ",1301],")",";",["T_WHITESPACE","\n        ",1302],["T_IF","if",1303],["T_WHITESPACE"," ",1303],"(","!",["T_VARIABLE","$countryParams",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","getData",1303],"(",")",")",["T_WHITESPACE"," ",1303],"{",["T_WHITESPACE","\n            ",1303],["T_VARIABLE","$this",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","_errors",1304],"[","]",["T_WHITESPACE"," ",1304],"=",["T_WHITESPACE"," ",1304],["T_STRING","__",1304],"(",["T_CONSTANT_ENCAPSED_STRING","'Please specify origin country.'",1304],")",";",["T_WHITESPACE","\n        ",1304],"}",["T_WHITESPACE","\n\n        ",1305],["T_IF","if",1307],["T_WHITESPACE"," ",1307],"(","!",["T_EMPTY","empty",1307],"(",["T_VARIABLE","$this",1307],["T_OBJECT_OPERATOR","->",1307],["T_STRING","_errors",1307],")",")",["T_WHITESPACE"," ",1307],"{",["T_WHITESPACE","\n            ",1307],["T_VARIABLE","$this",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","debugErrors",1308],"(",["T_VARIABLE","$this",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","_errors",1308],")",";",["T_WHITESPACE","\n\n            ",1308],["T_RETURN","return",1310],["T_WHITESPACE"," ",1310],["T_STRING","false",1310],";",["T_WHITESPACE","\n        ",1310],"}",["T_WHITESPACE","\n\n        ",1311],["T_RETURN","return",1313],["T_WHITESPACE"," ",1313],["T_VARIABLE","$this",1313],";",["T_WHITESPACE","\n    ",1313],"}",["T_WHITESPACE","\n\n    ",1314],["T_DOC_COMMENT","\/**\n     * Return container types of carrier\n     *\n     * @param \\Magento\\Framework\\DataObject|null $params\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",1316],["T_WHITESPACE","\n    ",1322],["T_PUBLIC","public",1323],["T_WHITESPACE"," ",1323],["T_FUNCTION","function",1323],["T_WHITESPACE"," ",1323],["T_STRING","getContainerTypes",1323],"(",["T_NS_SEPARATOR","\\",1323],["T_STRING","Magento",1323],["T_NS_SEPARATOR","\\",1323],["T_STRING","Framework",1323],["T_NS_SEPARATOR","\\",1323],["T_STRING","DataObject",1323],["T_WHITESPACE"," ",1323],["T_VARIABLE","$params",1323],["T_WHITESPACE"," ",1323],"=",["T_WHITESPACE"," ",1323],["T_STRING","null",1323],")",["T_WHITESPACE","\n    ",1323],"{",["T_WHITESPACE","\n        ",1324],["T_RETURN","return",1325],["T_WHITESPACE"," ",1325],"[",["T_WHITESPACE","\n            ",1325],["T_STRING","self",1326],["T_DOUBLE_COLON","::",1326],["T_STRING","DHL_CONTENT_TYPE_DOC",1326],["T_WHITESPACE"," ",1326],["T_DOUBLE_ARROW","=>",1326],["T_WHITESPACE"," ",1326],["T_STRING","__",1326],"(",["T_CONSTANT_ENCAPSED_STRING","'Documents'",1326],")",",",["T_WHITESPACE","\n            ",1326],["T_STRING","self",1327],["T_DOUBLE_COLON","::",1327],["T_STRING","DHL_CONTENT_TYPE_NON_DOC",1327],["T_WHITESPACE"," ",1327],["T_DOUBLE_ARROW","=>",1327],["T_WHITESPACE"," ",1327],["T_STRING","__",1327],"(",["T_CONSTANT_ENCAPSED_STRING","'Non Documents'",1327],")",["T_WHITESPACE","\n        ",1327],"]",";",["T_WHITESPACE","\n    ",1328],"}",["T_WHITESPACE","\n\n    ",1329],["T_DOC_COMMENT","\/**\n     * Map request to shipment\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",1331],["T_WHITESPACE","\n    ",1337],["T_PROTECTED","protected",1338],["T_WHITESPACE"," ",1338],["T_FUNCTION","function",1338],["T_WHITESPACE"," ",1338],["T_STRING","_mapRequestToShipment",1338],"(",["T_NS_SEPARATOR","\\",1338],["T_STRING","Magento",1338],["T_NS_SEPARATOR","\\",1338],["T_STRING","Framework",1338],["T_NS_SEPARATOR","\\",1338],["T_STRING","DataObject",1338],["T_WHITESPACE"," ",1338],["T_VARIABLE","$request",1338],")",["T_WHITESPACE","\n    ",1338],"{",["T_WHITESPACE","\n        ",1339],["T_VARIABLE","$request",1340],["T_OBJECT_OPERATOR","->",1340],["T_STRING","setOrigCountryId",1340],"(",["T_VARIABLE","$request",1340],["T_OBJECT_OPERATOR","->",1340],["T_STRING","getShipperAddressCountryCode",1340],"(",")",")",";",["T_WHITESPACE","\n        ",1340],["T_VARIABLE","$this",1341],["T_OBJECT_OPERATOR","->",1341],["T_STRING","setRawRequest",1341],"(",["T_VARIABLE","$request",1341],")",";",["T_WHITESPACE","\n        ",1341],["T_VARIABLE","$customsValue",1342],["T_WHITESPACE"," ",1342],"=",["T_WHITESPACE"," ",1342],["T_LNUMBER","0",1342],";",["T_WHITESPACE","\n        ",1342],["T_VARIABLE","$packageWeight",1343],["T_WHITESPACE"," ",1343],"=",["T_WHITESPACE"," ",1343],["T_LNUMBER","0",1343],";",["T_WHITESPACE","\n        ",1343],["T_VARIABLE","$packages",1344],["T_WHITESPACE"," ",1344],"=",["T_WHITESPACE"," ",1344],["T_VARIABLE","$request",1344],["T_OBJECT_OPERATOR","->",1344],["T_STRING","getPackages",1344],"(",")",";",["T_WHITESPACE","\n        ",1344],["T_FOREACH","foreach",1345],["T_WHITESPACE"," ",1345],"(",["T_VARIABLE","$packages",1345],["T_WHITESPACE"," ",1345],["T_AS","as",1345],["T_WHITESPACE"," ",1345],"&",["T_VARIABLE","$piece",1345],")",["T_WHITESPACE"," ",1345],"{",["T_WHITESPACE","\n            ",1345],["T_VARIABLE","$params",1346],["T_WHITESPACE"," ",1346],"=",["T_WHITESPACE"," ",1346],["T_VARIABLE","$piece",1346],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1346],"]",";",["T_WHITESPACE","\n            ",1346],["T_IF","if",1347],["T_WHITESPACE"," ",1347],"(",["T_VARIABLE","$params",1347],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",1347],"]",["T_WHITESPACE"," ",1347],["T_BOOLEAN_OR","||",1347],["T_WHITESPACE"," ",1347],["T_VARIABLE","$params",1347],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",1347],"]",["T_WHITESPACE"," ",1347],["T_BOOLEAN_OR","||",1347],["T_WHITESPACE"," ",1347],["T_VARIABLE","$params",1347],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",1347],"]",")",["T_WHITESPACE"," ",1347],"{",["T_WHITESPACE","\n                ",1347],["T_VARIABLE","$minValue",1348],["T_WHITESPACE"," ",1348],"=",["T_WHITESPACE"," ",1348],["T_VARIABLE","$this",1348],["T_OBJECT_OPERATOR","->",1348],["T_STRING","_getMinDimension",1348],"(",["T_VARIABLE","$params",1348],"[",["T_CONSTANT_ENCAPSED_STRING","'dimension_units'",1348],"]",")",";",["T_WHITESPACE","\n                ",1348],["T_IF","if",1349],["T_WHITESPACE"," ",1349],"(",["T_VARIABLE","$params",1349],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",1349],"]",["T_WHITESPACE"," ",1349],"<",["T_WHITESPACE"," ",1349],["T_VARIABLE","$minValue",1349],["T_WHITESPACE"," ",1349],["T_BOOLEAN_OR","||",1349],["T_WHITESPACE"," ",1349],["T_VARIABLE","$params",1349],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",1349],"]",["T_WHITESPACE"," ",1349],"<",["T_WHITESPACE"," ",1349],["T_VARIABLE","$minValue",1349],["T_WHITESPACE"," ",1349],["T_BOOLEAN_OR","||",1349],["T_WHITESPACE"," ",1349],["T_VARIABLE","$params",1349],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",1349],"]",["T_WHITESPACE"," ",1349],"<",["T_WHITESPACE"," ",1349],["T_VARIABLE","$minValue",1349],")",["T_WHITESPACE"," ",1349],"{",["T_WHITESPACE","\n                    ",1349],["T_VARIABLE","$message",1350],["T_WHITESPACE"," ",1350],"=",["T_WHITESPACE"," ",1350],["T_STRING","__",1350],"(",["T_CONSTANT_ENCAPSED_STRING","'Height, width and length should be equal or greater than %1'",1350],",",["T_WHITESPACE"," ",1350],["T_VARIABLE","$minValue",1350],")",";",["T_WHITESPACE","\n                    ",1350],["T_THROW","throw",1351],["T_WHITESPACE"," ",1351],["T_NEW","new",1351],["T_WHITESPACE"," ",1351],["T_NS_SEPARATOR","\\",1351],["T_STRING","Magento",1351],["T_NS_SEPARATOR","\\",1351],["T_STRING","Framework",1351],["T_NS_SEPARATOR","\\",1351],["T_STRING","Exception",1351],["T_NS_SEPARATOR","\\",1351],["T_STRING","LocalizedException",1351],"(",["T_VARIABLE","$message",1351],")",";",["T_WHITESPACE","\n                ",1351],"}",["T_WHITESPACE","\n            ",1352],"}",["T_WHITESPACE","\n\n            ",1353],["T_VARIABLE","$weightUnits",1355],["T_WHITESPACE"," ",1355],"=",["T_WHITESPACE"," ",1355],["T_VARIABLE","$piece",1355],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1355],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight_units'",1355],"]",";",["T_WHITESPACE","\n            ",1355],["T_VARIABLE","$piece",1356],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1356],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",1356],"]",["T_WHITESPACE"," ",1356],"=",["T_WHITESPACE"," ",1356],["T_VARIABLE","$this",1356],["T_OBJECT_OPERATOR","->",1356],["T_STRING","_getDimension",1356],"(",["T_VARIABLE","$piece",1356],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1356],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",1356],"]",",",["T_WHITESPACE"," ",1356],["T_VARIABLE","$weightUnits",1356],")",";",["T_WHITESPACE","\n            ",1356],["T_VARIABLE","$piece",1357],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1357],"]","[",["T_CONSTANT_ENCAPSED_STRING","'length'",1357],"]",["T_WHITESPACE"," ",1357],"=",["T_WHITESPACE"," ",1357],["T_VARIABLE","$this",1357],["T_OBJECT_OPERATOR","->",1357],["T_STRING","_getDimension",1357],"(",["T_VARIABLE","$piece",1357],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1357],"]","[",["T_CONSTANT_ENCAPSED_STRING","'length'",1357],"]",",",["T_WHITESPACE"," ",1357],["T_VARIABLE","$weightUnits",1357],")",";",["T_WHITESPACE","\n            ",1357],["T_VARIABLE","$piece",1358],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1358],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",1358],"]",["T_WHITESPACE"," ",1358],"=",["T_WHITESPACE"," ",1358],["T_VARIABLE","$this",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","_getDimension",1358],"(",["T_VARIABLE","$piece",1358],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1358],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",1358],"]",",",["T_WHITESPACE"," ",1358],["T_VARIABLE","$weightUnits",1358],")",";",["T_WHITESPACE","\n            ",1358],["T_VARIABLE","$piece",1359],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1359],"]","[",["T_CONSTANT_ENCAPSED_STRING","'dimension_units'",1359],"]",["T_WHITESPACE"," ",1359],"=",["T_WHITESPACE"," ",1359],["T_VARIABLE","$this",1359],["T_OBJECT_OPERATOR","->",1359],["T_STRING","_getDimensionUnit",1359],"(",")",";",["T_WHITESPACE","\n            ",1359],["T_VARIABLE","$piece",1360],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1360],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",1360],"]",["T_WHITESPACE"," ",1360],"=",["T_WHITESPACE"," ",1360],["T_VARIABLE","$this",1360],["T_OBJECT_OPERATOR","->",1360],["T_STRING","_getWeight",1360],"(",["T_VARIABLE","$piece",1360],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1360],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",1360],"]",",",["T_WHITESPACE"," ",1360],["T_STRING","false",1360],",",["T_WHITESPACE"," ",1360],["T_VARIABLE","$weightUnits",1360],")",";",["T_WHITESPACE","\n            ",1360],["T_VARIABLE","$piece",1361],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1361],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight_units'",1361],"]",["T_WHITESPACE"," ",1361],"=",["T_WHITESPACE"," ",1361],["T_VARIABLE","$this",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","_getWeightUnit",1361],"(",")",";",["T_WHITESPACE","\n\n            ",1361],["T_VARIABLE","$customsValue",1363],["T_WHITESPACE"," ",1363],["T_PLUS_EQUAL","+=",1363],["T_WHITESPACE"," ",1363],["T_VARIABLE","$piece",1363],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1363],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customs_value'",1363],"]",";",["T_WHITESPACE","\n            ",1363],["T_VARIABLE","$packageWeight",1364],["T_WHITESPACE"," ",1364],["T_PLUS_EQUAL","+=",1364],["T_WHITESPACE"," ",1364],["T_VARIABLE","$piece",1364],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1364],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",1364],"]",";",["T_WHITESPACE","\n        ",1364],"}",["T_WHITESPACE","\n\n        ",1365],["T_VARIABLE","$request",1367],["T_OBJECT_OPERATOR","->",1367],["T_STRING","setPackages",1367],"(",["T_VARIABLE","$packages",1367],")",["T_WHITESPACE","\n            ",1367],["T_OBJECT_OPERATOR","->",1368],["T_STRING","setPackageWeight",1368],"(",["T_VARIABLE","$packageWeight",1368],")",["T_WHITESPACE","\n            ",1368],["T_OBJECT_OPERATOR","->",1369],["T_STRING","setPackageValue",1369],"(",["T_VARIABLE","$customsValue",1369],")",["T_WHITESPACE","\n            ",1369],["T_OBJECT_OPERATOR","->",1370],["T_STRING","setValueWithDiscount",1370],"(",["T_VARIABLE","$customsValue",1370],")",["T_WHITESPACE","\n            ",1370],["T_OBJECT_OPERATOR","->",1371],["T_STRING","setPackageCustomsValue",1371],"(",["T_VARIABLE","$customsValue",1371],")",["T_WHITESPACE","\n            ",1371],["T_OBJECT_OPERATOR","->",1372],["T_STRING","setFreeMethodWeight",1372],"(",["T_LNUMBER","0",1372],")",";",["T_WHITESPACE","\n    ",1372],"}",["T_WHITESPACE","\n\n    ",1373],["T_DOC_COMMENT","\/**\n     * Retrieve minimum allowed value for dimensions in given dimension unit\n     *\n     * @param string $dimensionUnit\n     * @return int\n     *\/",1375],["T_WHITESPACE","\n    ",1380],["T_PROTECTED","protected",1381],["T_WHITESPACE"," ",1381],["T_FUNCTION","function",1381],["T_WHITESPACE"," ",1381],["T_STRING","_getMinDimension",1381],"(",["T_VARIABLE","$dimensionUnit",1381],")",["T_WHITESPACE","\n    ",1381],"{",["T_WHITESPACE","\n        ",1382],["T_RETURN","return",1383],["T_WHITESPACE"," ",1383],["T_VARIABLE","$dimensionUnit",1383],["T_WHITESPACE"," ",1383],["T_IS_EQUAL","==",1383],["T_WHITESPACE"," ",1383],["T_CONSTANT_ENCAPSED_STRING","\"CENTIMETER\"",1383],["T_WHITESPACE"," ",1383],"?",["T_WHITESPACE"," ",1383],["T_STRING","self",1383],["T_DOUBLE_COLON","::",1383],["T_STRING","DIMENSION_MIN_CM",1383],["T_WHITESPACE"," ",1383],":",["T_WHITESPACE"," ",1383],["T_STRING","self",1383],["T_DOUBLE_COLON","::",1383],["T_STRING","DIMENSION_MIN_IN",1383],";",["T_WHITESPACE","\n    ",1383],"}",["T_WHITESPACE","\n\n    ",1384],["T_DOC_COMMENT","\/**\n     * Do rate request and handle errors\n     *\n     * @return Result|\\Magento\\Framework\\DataObject\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",1386],["T_WHITESPACE","\n    ",1394],["T_PROTECTED","protected",1395],["T_WHITESPACE"," ",1395],["T_FUNCTION","function",1395],["T_WHITESPACE"," ",1395],["T_STRING","_doRequest",1395],"(",")",["T_WHITESPACE","\n    ",1395],"{",["T_WHITESPACE","\n        ",1396],["T_VARIABLE","$rawRequest",1397],["T_WHITESPACE"," ",1397],"=",["T_WHITESPACE"," ",1397],["T_VARIABLE","$this",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","_request",1397],";",["T_WHITESPACE","\n\n        ",1397],["T_VARIABLE","$originRegion",1399],["T_WHITESPACE"," ",1399],"=",["T_WHITESPACE"," ",1399],["T_VARIABLE","$this",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","getCountryParams",1399],"(",["T_WHITESPACE","\n            ",1399],["T_VARIABLE","$this",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","_scopeConfig",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","getValue",1400],"(",["T_WHITESPACE","\n                ",1400],["T_STRING","Shipment",1401],["T_DOUBLE_COLON","::",1401],["T_STRING","XML_PATH_STORE_COUNTRY_ID",1401],",",["T_WHITESPACE","\n                ",1401],["T_NS_SEPARATOR","\\",1402],["T_STRING","Magento",1402],["T_NS_SEPARATOR","\\",1402],["T_STRING","Store",1402],["T_NS_SEPARATOR","\\",1402],["T_STRING","Model",1402],["T_NS_SEPARATOR","\\",1402],["T_STRING","ScopeInterface",1402],["T_DOUBLE_COLON","::",1402],["T_STRING","SCOPE_STORE",1402],",",["T_WHITESPACE","\n                ",1402],["T_VARIABLE","$this",1403],["T_OBJECT_OPERATOR","->",1403],["T_STRING","getStore",1403],"(",")",["T_WHITESPACE","\n            ",1403],")",["T_WHITESPACE","\n        ",1404],")",["T_OBJECT_OPERATOR","->",1405],["T_STRING","getRegion",1405],"(",")",";",["T_WHITESPACE","\n\n        ",1405],["T_IF","if",1407],["T_WHITESPACE"," ",1407],"(","!",["T_VARIABLE","$originRegion",1407],")",["T_WHITESPACE"," ",1407],"{",["T_WHITESPACE","\n            ",1407],["T_THROW","throw",1408],["T_WHITESPACE"," ",1408],["T_NEW","new",1408],["T_WHITESPACE"," ",1408],["T_NS_SEPARATOR","\\",1408],["T_STRING","Magento",1408],["T_NS_SEPARATOR","\\",1408],["T_STRING","Framework",1408],["T_NS_SEPARATOR","\\",1408],["T_STRING","Exception",1408],["T_NS_SEPARATOR","\\",1408],["T_STRING","LocalizedException",1408],"(",["T_STRING","__",1408],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong Region'",1408],")",")",";",["T_WHITESPACE","\n        ",1408],"}",["T_WHITESPACE","\n\n        ",1409],["T_IF","if",1411],["T_WHITESPACE"," ",1411],"(",["T_VARIABLE","$originRegion",1411],["T_WHITESPACE"," ",1411],["T_IS_EQUAL","==",1411],["T_WHITESPACE"," ",1411],["T_CONSTANT_ENCAPSED_STRING","'AM'",1411],")",["T_WHITESPACE"," ",1411],"{",["T_WHITESPACE","\n            ",1411],["T_VARIABLE","$originRegion",1412],["T_WHITESPACE"," ",1412],"=",["T_WHITESPACE"," ",1412],["T_CONSTANT_ENCAPSED_STRING","''",1412],";",["T_WHITESPACE","\n        ",1412],"}",["T_WHITESPACE","\n\n        ",1413],["T_VARIABLE","$xmlStr",1415],["T_WHITESPACE"," ",1415],"=",["T_WHITESPACE"," ",1415],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\" encoding=\"UTF-8\"?>'",1415],["T_WHITESPACE"," ",1415],".",["T_WHITESPACE","\n            ",1415],["T_CONSTANT_ENCAPSED_STRING","'<req:ShipmentValidateRequest'",1416],["T_WHITESPACE"," ",1416],".",["T_WHITESPACE","\n            ",1416],["T_VARIABLE","$originRegion",1417],["T_WHITESPACE"," ",1417],".",["T_WHITESPACE","\n            ",1417],["T_CONSTANT_ENCAPSED_STRING","' xmlns:req=\"http:\/\/www.dhl.com\"'",1418],["T_WHITESPACE"," ",1418],".",["T_WHITESPACE","\n            ",1418],["T_CONSTANT_ENCAPSED_STRING","' xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"'",1419],["T_WHITESPACE"," ",1419],".",["T_WHITESPACE","\n            ",1419],["T_CONSTANT_ENCAPSED_STRING","' xsi:schemaLocation=\"http:\/\/www.dhl.com ship-val-req'",1420],["T_WHITESPACE"," ",1420],".",["T_WHITESPACE","\n            ",1420],"(",["T_VARIABLE","$originRegion",1421],["T_WHITESPACE"," ",1421],"?",["T_WHITESPACE"," ",1421],["T_CONSTANT_ENCAPSED_STRING","'_'",1421],["T_WHITESPACE"," ",1421],".",["T_WHITESPACE","\n                ",1421],["T_VARIABLE","$originRegion",1422],["T_WHITESPACE"," ",1422],":",["T_WHITESPACE"," ",1422],["T_CONSTANT_ENCAPSED_STRING","''",1422],")",["T_WHITESPACE"," ",1422],".",["T_WHITESPACE","\n            ",1422],["T_CONSTANT_ENCAPSED_STRING","'.xsd\" \/>'",1423],";",["T_WHITESPACE","\n        ",1423],["T_VARIABLE","$xml",1424],["T_WHITESPACE"," ",1424],"=",["T_WHITESPACE"," ",1424],["T_VARIABLE","$this",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","_xmlElFactory",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","create",1424],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",1424],["T_WHITESPACE"," ",1424],["T_DOUBLE_ARROW","=>",1424],["T_WHITESPACE"," ",1424],["T_VARIABLE","$xmlStr",1424],"]",")",";",["T_WHITESPACE","\n\n        ",1424],["T_VARIABLE","$nodeRequest",1426],["T_WHITESPACE"," ",1426],"=",["T_WHITESPACE"," ",1426],["T_VARIABLE","$xml",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","addChild",1426],"(",["T_CONSTANT_ENCAPSED_STRING","'Request'",1426],",",["T_WHITESPACE"," ",1426],["T_CONSTANT_ENCAPSED_STRING","''",1426],",",["T_WHITESPACE"," ",1426],["T_CONSTANT_ENCAPSED_STRING","''",1426],")",";",["T_WHITESPACE","\n        ",1426],["T_VARIABLE","$nodeServiceHeader",1427],["T_WHITESPACE"," ",1427],"=",["T_WHITESPACE"," ",1427],["T_VARIABLE","$nodeRequest",1427],["T_OBJECT_OPERATOR","->",1427],["T_STRING","addChild",1427],"(",["T_CONSTANT_ENCAPSED_STRING","'ServiceHeader'",1427],")",";",["T_WHITESPACE","\n        ",1427],["T_VARIABLE","$nodeServiceHeader",1428],["T_OBJECT_OPERATOR","->",1428],["T_STRING","addChild",1428],"(",["T_CONSTANT_ENCAPSED_STRING","'SiteID'",1428],",",["T_WHITESPACE"," ",1428],["T_STRING_CAST","(string)",1428],["T_VARIABLE","$this",1428],["T_OBJECT_OPERATOR","->",1428],["T_STRING","getConfigData",1428],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1428],")",")",";",["T_WHITESPACE","\n        ",1428],["T_VARIABLE","$nodeServiceHeader",1429],["T_OBJECT_OPERATOR","->",1429],["T_STRING","addChild",1429],"(",["T_CONSTANT_ENCAPSED_STRING","'Password'",1429],",",["T_WHITESPACE"," ",1429],["T_STRING_CAST","(string)",1429],["T_VARIABLE","$this",1429],["T_OBJECT_OPERATOR","->",1429],["T_STRING","getConfigData",1429],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",1429],")",")",";",["T_WHITESPACE","\n\n        ",1429],["T_IF","if",1431],["T_WHITESPACE"," ",1431],"(","!",["T_VARIABLE","$originRegion",1431],")",["T_WHITESPACE"," ",1431],"{",["T_WHITESPACE","\n            ",1431],["T_VARIABLE","$xml",1432],["T_OBJECT_OPERATOR","->",1432],["T_STRING","addChild",1432],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestedPickupTime'",1432],",",["T_WHITESPACE"," ",1432],["T_CONSTANT_ENCAPSED_STRING","'N'",1432],",",["T_WHITESPACE"," ",1432],["T_CONSTANT_ENCAPSED_STRING","''",1432],")",";",["T_WHITESPACE","\n        ",1432],"}",["T_WHITESPACE","\n        ",1433],["T_VARIABLE","$xml",1434],["T_OBJECT_OPERATOR","->",1434],["T_STRING","addChild",1434],"(",["T_CONSTANT_ENCAPSED_STRING","'NewShipper'",1434],",",["T_WHITESPACE"," ",1434],["T_CONSTANT_ENCAPSED_STRING","'N'",1434],",",["T_WHITESPACE"," ",1434],["T_CONSTANT_ENCAPSED_STRING","''",1434],")",";",["T_WHITESPACE","\n        ",1434],["T_VARIABLE","$xml",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","addChild",1435],"(",["T_CONSTANT_ENCAPSED_STRING","'LanguageCode'",1435],",",["T_WHITESPACE"," ",1435],["T_CONSTANT_ENCAPSED_STRING","'EN'",1435],",",["T_WHITESPACE"," ",1435],["T_CONSTANT_ENCAPSED_STRING","''",1435],")",";",["T_WHITESPACE","\n        ",1435],["T_VARIABLE","$xml",1436],["T_OBJECT_OPERATOR","->",1436],["T_STRING","addChild",1436],"(",["T_CONSTANT_ENCAPSED_STRING","'PiecesEnabled'",1436],",",["T_WHITESPACE"," ",1436],["T_CONSTANT_ENCAPSED_STRING","'Y'",1436],",",["T_WHITESPACE"," ",1436],["T_CONSTANT_ENCAPSED_STRING","''",1436],")",";",["T_WHITESPACE","\n\n        ",1436],["T_DOC_COMMENT","\/** Billing *\/",1438],["T_WHITESPACE","\n        ",1438],["T_VARIABLE","$nodeBilling",1439],["T_WHITESPACE"," ",1439],"=",["T_WHITESPACE"," ",1439],["T_VARIABLE","$xml",1439],["T_OBJECT_OPERATOR","->",1439],["T_STRING","addChild",1439],"(",["T_CONSTANT_ENCAPSED_STRING","'Billing'",1439],",",["T_WHITESPACE"," ",1439],["T_CONSTANT_ENCAPSED_STRING","''",1439],",",["T_WHITESPACE"," ",1439],["T_CONSTANT_ENCAPSED_STRING","''",1439],")",";",["T_WHITESPACE","\n        ",1439],["T_VARIABLE","$nodeBilling",1440],["T_OBJECT_OPERATOR","->",1440],["T_STRING","addChild",1440],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipperAccountNumber'",1440],",",["T_WHITESPACE"," ",1440],["T_STRING_CAST","(string)",1440],["T_VARIABLE","$this",1440],["T_OBJECT_OPERATOR","->",1440],["T_STRING","getConfigData",1440],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1440],")",")",";",["T_WHITESPACE","\n        ",1440],["T_DOC_COMMENT","\/**\n         * Method of Payment:\n         * S (Shipper)\n         * R (Receiver)\n         * T (Third Party)\n         *\/",1441],["T_WHITESPACE","\n        ",1446],["T_VARIABLE","$nodeBilling",1447],["T_OBJECT_OPERATOR","->",1447],["T_STRING","addChild",1447],"(",["T_CONSTANT_ENCAPSED_STRING","'ShippingPaymentType'",1447],",",["T_WHITESPACE"," ",1447],["T_CONSTANT_ENCAPSED_STRING","'S'",1447],")",";",["T_WHITESPACE","\n\n        ",1447],["T_DOC_COMMENT","\/**\n         * Shipment bill to account \u00e2\u0080\u0093 required if Shipping PaymentType is other than 'S'\n         *\/",1449],["T_WHITESPACE","\n        ",1451],["T_VARIABLE","$nodeBilling",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","addChild",1452],"(",["T_CONSTANT_ENCAPSED_STRING","'BillingAccountNumber'",1452],",",["T_WHITESPACE"," ",1452],["T_STRING_CAST","(string)",1452],["T_VARIABLE","$this",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","getConfigData",1452],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1452],")",")",";",["T_WHITESPACE","\n        ",1452],["T_VARIABLE","$nodeBilling",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","addChild",1453],"(",["T_CONSTANT_ENCAPSED_STRING","'DutyPaymentType'",1453],",",["T_WHITESPACE"," ",1453],["T_CONSTANT_ENCAPSED_STRING","'S'",1453],")",";",["T_WHITESPACE","\n        ",1453],["T_VARIABLE","$nodeBilling",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","addChild",1454],"(",["T_CONSTANT_ENCAPSED_STRING","'DutyAccountNumber'",1454],",",["T_WHITESPACE"," ",1454],["T_STRING_CAST","(string)",1454],["T_VARIABLE","$this",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","getConfigData",1454],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1454],")",")",";",["T_WHITESPACE","\n\n        ",1454],["T_DOC_COMMENT","\/** Receiver *\/",1456],["T_WHITESPACE","\n        ",1456],["T_VARIABLE","$nodeConsignee",1457],["T_WHITESPACE"," ",1457],"=",["T_WHITESPACE"," ",1457],["T_VARIABLE","$xml",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","addChild",1457],"(",["T_CONSTANT_ENCAPSED_STRING","'Consignee'",1457],",",["T_WHITESPACE"," ",1457],["T_CONSTANT_ENCAPSED_STRING","''",1457],",",["T_WHITESPACE"," ",1457],["T_CONSTANT_ENCAPSED_STRING","''",1457],")",";",["T_WHITESPACE","\n\n        ",1457],["T_VARIABLE","$companyName",1459],["T_WHITESPACE"," ",1459],"=",["T_WHITESPACE"," ",1459],["T_VARIABLE","$rawRequest",1459],["T_OBJECT_OPERATOR","->",1459],["T_STRING","getRecipientContactCompanyName",1459],"(",")",["T_WHITESPACE"," ",1459],"?",["T_WHITESPACE"," ",1459],["T_VARIABLE","$rawRequest",1459],["T_WHITESPACE","\n            ",1459],["T_OBJECT_OPERATOR","->",1460],["T_STRING","getRecipientContactCompanyName",1460],"(",")",["T_WHITESPACE"," ",1460],":",["T_WHITESPACE"," ",1460],["T_VARIABLE","$rawRequest",1460],["T_WHITESPACE","\n            ",1460],["T_OBJECT_OPERATOR","->",1461],["T_STRING","getRecipientContactPersonName",1461],"(",")",";",["T_WHITESPACE","\n\n        ",1461],["T_VARIABLE","$nodeConsignee",1463],["T_OBJECT_OPERATOR","->",1463],["T_STRING","addChild",1463],"(",["T_CONSTANT_ENCAPSED_STRING","'CompanyName'",1463],",",["T_WHITESPACE"," ",1463],["T_STRING","substr",1463],"(",["T_VARIABLE","$companyName",1463],",",["T_WHITESPACE"," ",1463],["T_LNUMBER","0",1463],",",["T_WHITESPACE"," ",1463],["T_LNUMBER","35",1463],")",")",";",["T_WHITESPACE","\n\n        ",1463],["T_VARIABLE","$address",1465],["T_WHITESPACE"," ",1465],"=",["T_WHITESPACE"," ",1465],["T_VARIABLE","$rawRequest",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","getRecipientAddressStreet1",1465],"(",")",["T_WHITESPACE"," ",1465],".",["T_WHITESPACE"," ",1465],["T_CONSTANT_ENCAPSED_STRING","' '",1465],["T_WHITESPACE"," ",1465],".",["T_WHITESPACE"," ",1465],["T_VARIABLE","$rawRequest",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","getRecipientAddressStreet2",1465],"(",")",";",["T_WHITESPACE","\n        ",1465],["T_VARIABLE","$address",1466],["T_WHITESPACE"," ",1466],"=",["T_WHITESPACE"," ",1466],["T_VARIABLE","$this",1466],["T_OBJECT_OPERATOR","->",1466],["T_STRING","string",1466],["T_OBJECT_OPERATOR","->",1466],["T_STRING","split",1466],"(",["T_VARIABLE","$address",1466],",",["T_WHITESPACE"," ",1466],["T_LNUMBER","35",1466],",",["T_WHITESPACE"," ",1466],["T_STRING","false",1466],",",["T_WHITESPACE"," ",1466],["T_STRING","true",1466],")",";",["T_WHITESPACE","\n        ",1466],["T_IF","if",1467],["T_WHITESPACE"," ",1467],"(",["T_STRING","is_array",1467],"(",["T_VARIABLE","$address",1467],")",")",["T_WHITESPACE"," ",1467],"{",["T_WHITESPACE","\n            ",1467],["T_FOREACH","foreach",1468],["T_WHITESPACE"," ",1468],"(",["T_VARIABLE","$address",1468],["T_WHITESPACE"," ",1468],["T_AS","as",1468],["T_WHITESPACE"," ",1468],["T_VARIABLE","$addressLine",1468],")",["T_WHITESPACE"," ",1468],"{",["T_WHITESPACE","\n                ",1468],["T_VARIABLE","$nodeConsignee",1469],["T_OBJECT_OPERATOR","->",1469],["T_STRING","addChild",1469],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine'",1469],",",["T_WHITESPACE"," ",1469],["T_VARIABLE","$addressLine",1469],")",";",["T_WHITESPACE","\n            ",1469],"}",["T_WHITESPACE","\n        ",1470],"}",["T_WHITESPACE"," ",1471],["T_ELSE","else",1471],["T_WHITESPACE"," ",1471],"{",["T_WHITESPACE","\n            ",1471],["T_VARIABLE","$nodeConsignee",1472],["T_OBJECT_OPERATOR","->",1472],["T_STRING","addChild",1472],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine'",1472],",",["T_WHITESPACE"," ",1472],["T_VARIABLE","$address",1472],")",";",["T_WHITESPACE","\n        ",1472],"}",["T_WHITESPACE","\n\n        ",1473],["T_VARIABLE","$nodeConsignee",1475],["T_OBJECT_OPERATOR","->",1475],["T_STRING","addChild",1475],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1475],",",["T_WHITESPACE"," ",1475],["T_VARIABLE","$rawRequest",1475],["T_OBJECT_OPERATOR","->",1475],["T_STRING","getRecipientAddressCity",1475],"(",")",")",";",["T_WHITESPACE","\n        ",1475],["T_VARIABLE","$nodeConsignee",1476],["T_OBJECT_OPERATOR","->",1476],["T_STRING","addChild",1476],"(",["T_CONSTANT_ENCAPSED_STRING","'Division'",1476],",",["T_WHITESPACE"," ",1476],["T_VARIABLE","$rawRequest",1476],["T_OBJECT_OPERATOR","->",1476],["T_STRING","getRecipientAddressStateOrProvinceCode",1476],"(",")",")",";",["T_WHITESPACE","\n        ",1476],["T_VARIABLE","$nodeConsignee",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","addChild",1477],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1477],",",["T_WHITESPACE"," ",1477],["T_VARIABLE","$rawRequest",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","getRecipientAddressPostalCode",1477],"(",")",")",";",["T_WHITESPACE","\n        ",1477],["T_VARIABLE","$nodeConsignee",1478],["T_OBJECT_OPERATOR","->",1478],["T_STRING","addChild",1478],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1478],",",["T_WHITESPACE"," ",1478],["T_VARIABLE","$rawRequest",1478],["T_OBJECT_OPERATOR","->",1478],["T_STRING","getRecipientAddressCountryCode",1478],"(",")",")",";",["T_WHITESPACE","\n        ",1478],["T_VARIABLE","$nodeConsignee",1479],["T_OBJECT_OPERATOR","->",1479],["T_STRING","addChild",1479],"(",["T_WHITESPACE","\n            ",1479],["T_CONSTANT_ENCAPSED_STRING","'CountryName'",1480],",",["T_WHITESPACE","\n            ",1480],["T_VARIABLE","$this",1481],["T_OBJECT_OPERATOR","->",1481],["T_STRING","getCountryParams",1481],"(",["T_VARIABLE","$rawRequest",1481],["T_OBJECT_OPERATOR","->",1481],["T_STRING","getRecipientAddressCountryCode",1481],"(",")",")",["T_OBJECT_OPERATOR","->",1481],["T_STRING","getName",1481],"(",")",["T_WHITESPACE","\n        ",1481],")",";",["T_WHITESPACE","\n        ",1482],["T_VARIABLE","$nodeContact",1483],["T_WHITESPACE"," ",1483],"=",["T_WHITESPACE"," ",1483],["T_VARIABLE","$nodeConsignee",1483],["T_OBJECT_OPERATOR","->",1483],["T_STRING","addChild",1483],"(",["T_CONSTANT_ENCAPSED_STRING","'Contact'",1483],")",";",["T_WHITESPACE","\n        ",1483],["T_VARIABLE","$nodeContact",1484],["T_OBJECT_OPERATOR","->",1484],["T_STRING","addChild",1484],"(",["T_CONSTANT_ENCAPSED_STRING","'PersonName'",1484],",",["T_WHITESPACE"," ",1484],["T_STRING","substr",1484],"(",["T_VARIABLE","$rawRequest",1484],["T_OBJECT_OPERATOR","->",1484],["T_STRING","getRecipientContactPersonName",1484],"(",")",",",["T_WHITESPACE"," ",1484],["T_LNUMBER","0",1484],",",["T_WHITESPACE"," ",1484],["T_LNUMBER","34",1484],")",")",";",["T_WHITESPACE","\n        ",1484],["T_VARIABLE","$nodeContact",1485],["T_OBJECT_OPERATOR","->",1485],["T_STRING","addChild",1485],"(",["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1485],",",["T_WHITESPACE"," ",1485],["T_STRING","substr",1485],"(",["T_VARIABLE","$rawRequest",1485],["T_OBJECT_OPERATOR","->",1485],["T_STRING","getRecipientContactPhoneNumber",1485],"(",")",",",["T_WHITESPACE"," ",1485],["T_LNUMBER","0",1485],",",["T_WHITESPACE"," ",1485],["T_LNUMBER","24",1485],")",")",";",["T_WHITESPACE","\n\n        ",1485],["T_DOC_COMMENT","\/**\n         * Commodity\n         * The CommodityCode element contains commodity code for shipment contents. Its\n         * value should lie in between 1 to 9999.This field is mandatory.\n         *\/",1487],["T_WHITESPACE","\n        ",1491],["T_VARIABLE","$nodeCommodity",1492],["T_WHITESPACE"," ",1492],"=",["T_WHITESPACE"," ",1492],["T_VARIABLE","$xml",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","addChild",1492],"(",["T_CONSTANT_ENCAPSED_STRING","'Commodity'",1492],",",["T_WHITESPACE"," ",1492],["T_CONSTANT_ENCAPSED_STRING","''",1492],",",["T_WHITESPACE"," ",1492],["T_CONSTANT_ENCAPSED_STRING","''",1492],")",";",["T_WHITESPACE","\n        ",1492],["T_VARIABLE","$nodeCommodity",1493],["T_OBJECT_OPERATOR","->",1493],["T_STRING","addChild",1493],"(",["T_CONSTANT_ENCAPSED_STRING","'CommodityCode'",1493],",",["T_WHITESPACE"," ",1493],["T_CONSTANT_ENCAPSED_STRING","'1'",1493],")",";",["T_WHITESPACE","\n\n        ",1493],["T_DOC_COMMENT","\/** Dutiable *\/",1495],["T_WHITESPACE","\n        ",1495],["T_IF","if",1496],["T_WHITESPACE"," ",1496],"(",["T_VARIABLE","$this",1496],["T_OBJECT_OPERATOR","->",1496],["T_STRING","isDutiable",1496],"(",["T_WHITESPACE","\n            ",1496],["T_VARIABLE","$rawRequest",1497],["T_OBJECT_OPERATOR","->",1497],["T_STRING","getShipperAddressCountryCode",1497],"(",")",",",["T_WHITESPACE","\n            ",1497],["T_VARIABLE","$rawRequest",1498],["T_OBJECT_OPERATOR","->",1498],["T_STRING","getRecipientAddressCountryCode",1498],"(",")",["T_WHITESPACE","\n        ",1498],")",")",["T_WHITESPACE"," ",1499],"{",["T_WHITESPACE","\n            ",1499],["T_VARIABLE","$nodeDutiable",1500],["T_WHITESPACE"," ",1500],"=",["T_WHITESPACE"," ",1500],["T_VARIABLE","$xml",1500],["T_OBJECT_OPERATOR","->",1500],["T_STRING","addChild",1500],"(",["T_CONSTANT_ENCAPSED_STRING","'Dutiable'",1500],",",["T_WHITESPACE"," ",1500],["T_CONSTANT_ENCAPSED_STRING","''",1500],",",["T_WHITESPACE"," ",1500],["T_CONSTANT_ENCAPSED_STRING","''",1500],")",";",["T_WHITESPACE","\n            ",1500],["T_VARIABLE","$nodeDutiable",1501],["T_OBJECT_OPERATOR","->",1501],["T_STRING","addChild",1501],"(",["T_WHITESPACE","\n                ",1501],["T_CONSTANT_ENCAPSED_STRING","'DeclaredValue'",1502],",",["T_WHITESPACE","\n                ",1502],["T_STRING","sprintf",1503],"(",["T_CONSTANT_ENCAPSED_STRING","\"%.2F\"",1503],",",["T_WHITESPACE"," ",1503],["T_VARIABLE","$rawRequest",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","getOrderShipment",1503],"(",")",["T_OBJECT_OPERATOR","->",1503],["T_STRING","getOrder",1503],"(",")",["T_OBJECT_OPERATOR","->",1503],["T_STRING","getSubtotal",1503],"(",")",")",["T_WHITESPACE","\n            ",1503],")",";",["T_WHITESPACE","\n            ",1504],["T_VARIABLE","$baseCurrencyCode",1505],["T_WHITESPACE"," ",1505],"=",["T_WHITESPACE"," ",1505],["T_VARIABLE","$this",1505],["T_OBJECT_OPERATOR","->",1505],["T_STRING","_storeManager",1505],["T_OBJECT_OPERATOR","->",1505],["T_STRING","getWebsite",1505],"(",["T_VARIABLE","$rawRequest",1505],["T_OBJECT_OPERATOR","->",1505],["T_STRING","getWebsiteId",1505],"(",")",")",["T_OBJECT_OPERATOR","->",1505],["T_STRING","getBaseCurrencyCode",1505],"(",")",";",["T_WHITESPACE","\n            ",1505],["T_VARIABLE","$nodeDutiable",1506],["T_OBJECT_OPERATOR","->",1506],["T_STRING","addChild",1506],"(",["T_CONSTANT_ENCAPSED_STRING","'DeclaredCurrency'",1506],",",["T_WHITESPACE"," ",1506],["T_VARIABLE","$baseCurrencyCode",1506],")",";",["T_WHITESPACE","\n        ",1506],"}",["T_WHITESPACE","\n\n        ",1507],["T_DOC_COMMENT","\/**\n         * Reference\n         * This element identifies the reference information. It is an optional field in the\n         * shipment validation request. Only the first reference will be taken currently.\n         *\/",1509],["T_WHITESPACE","\n        ",1513],["T_VARIABLE","$nodeReference",1514],["T_WHITESPACE"," ",1514],"=",["T_WHITESPACE"," ",1514],["T_VARIABLE","$xml",1514],["T_OBJECT_OPERATOR","->",1514],["T_STRING","addChild",1514],"(",["T_CONSTANT_ENCAPSED_STRING","'Reference'",1514],",",["T_WHITESPACE"," ",1514],["T_CONSTANT_ENCAPSED_STRING","''",1514],",",["T_WHITESPACE"," ",1514],["T_CONSTANT_ENCAPSED_STRING","''",1514],")",";",["T_WHITESPACE","\n        ",1514],["T_VARIABLE","$nodeReference",1515],["T_OBJECT_OPERATOR","->",1515],["T_STRING","addChild",1515],"(",["T_CONSTANT_ENCAPSED_STRING","'ReferenceID'",1515],",",["T_WHITESPACE"," ",1515],["T_CONSTANT_ENCAPSED_STRING","'shipment reference'",1515],")",";",["T_WHITESPACE","\n        ",1515],["T_VARIABLE","$nodeReference",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","addChild",1516],"(",["T_CONSTANT_ENCAPSED_STRING","'ReferenceType'",1516],",",["T_WHITESPACE"," ",1516],["T_CONSTANT_ENCAPSED_STRING","'St'",1516],")",";",["T_WHITESPACE","\n\n        ",1516],["T_DOC_COMMENT","\/** Shipment Details *\/",1518],["T_WHITESPACE","\n        ",1518],["T_VARIABLE","$this",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","_shipmentDetails",1519],"(",["T_VARIABLE","$xml",1519],",",["T_WHITESPACE"," ",1519],["T_VARIABLE","$rawRequest",1519],",",["T_WHITESPACE"," ",1519],["T_VARIABLE","$originRegion",1519],")",";",["T_WHITESPACE","\n\n        ",1519],["T_DOC_COMMENT","\/** Shipper *\/",1521],["T_WHITESPACE","\n        ",1521],["T_VARIABLE","$nodeShipper",1522],["T_WHITESPACE"," ",1522],"=",["T_WHITESPACE"," ",1522],["T_VARIABLE","$xml",1522],["T_OBJECT_OPERATOR","->",1522],["T_STRING","addChild",1522],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipper'",1522],",",["T_WHITESPACE"," ",1522],["T_CONSTANT_ENCAPSED_STRING","''",1522],",",["T_WHITESPACE"," ",1522],["T_CONSTANT_ENCAPSED_STRING","''",1522],")",";",["T_WHITESPACE","\n        ",1522],["T_VARIABLE","$nodeShipper",1523],["T_OBJECT_OPERATOR","->",1523],["T_STRING","addChild",1523],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipperID'",1523],",",["T_WHITESPACE"," ",1523],["T_STRING_CAST","(string)",1523],["T_VARIABLE","$this",1523],["T_OBJECT_OPERATOR","->",1523],["T_STRING","getConfigData",1523],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1523],")",")",";",["T_WHITESPACE","\n        ",1523],["T_VARIABLE","$nodeShipper",1524],["T_OBJECT_OPERATOR","->",1524],["T_STRING","addChild",1524],"(",["T_CONSTANT_ENCAPSED_STRING","'CompanyName'",1524],",",["T_WHITESPACE"," ",1524],["T_VARIABLE","$rawRequest",1524],["T_OBJECT_OPERATOR","->",1524],["T_STRING","getShipperContactCompanyName",1524],"(",")",")",";",["T_WHITESPACE","\n        ",1524],["T_VARIABLE","$nodeShipper",1525],["T_OBJECT_OPERATOR","->",1525],["T_STRING","addChild",1525],"(",["T_CONSTANT_ENCAPSED_STRING","'RegisteredAccount'",1525],",",["T_WHITESPACE"," ",1525],["T_STRING_CAST","(string)",1525],["T_VARIABLE","$this",1525],["T_OBJECT_OPERATOR","->",1525],["T_STRING","getConfigData",1525],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1525],")",")",";",["T_WHITESPACE","\n\n        ",1525],["T_VARIABLE","$address",1527],["T_WHITESPACE"," ",1527],"=",["T_WHITESPACE"," ",1527],["T_VARIABLE","$rawRequest",1527],["T_OBJECT_OPERATOR","->",1527],["T_STRING","getShipperAddressStreet1",1527],"(",")",["T_WHITESPACE"," ",1527],".",["T_WHITESPACE"," ",1527],["T_CONSTANT_ENCAPSED_STRING","' '",1527],["T_WHITESPACE"," ",1527],".",["T_WHITESPACE"," ",1527],["T_VARIABLE","$rawRequest",1527],["T_OBJECT_OPERATOR","->",1527],["T_STRING","getShipperAddressStreet2",1527],"(",")",";",["T_WHITESPACE","\n        ",1527],["T_VARIABLE","$address",1528],["T_WHITESPACE"," ",1528],"=",["T_WHITESPACE"," ",1528],["T_VARIABLE","$this",1528],["T_OBJECT_OPERATOR","->",1528],["T_STRING","string",1528],["T_OBJECT_OPERATOR","->",1528],["T_STRING","split",1528],"(",["T_VARIABLE","$address",1528],",",["T_WHITESPACE"," ",1528],["T_LNUMBER","35",1528],",",["T_WHITESPACE"," ",1528],["T_STRING","false",1528],",",["T_WHITESPACE"," ",1528],["T_STRING","true",1528],")",";",["T_WHITESPACE","\n        ",1528],["T_IF","if",1529],["T_WHITESPACE"," ",1529],"(",["T_STRING","is_array",1529],"(",["T_VARIABLE","$address",1529],")",")",["T_WHITESPACE"," ",1529],"{",["T_WHITESPACE","\n            ",1529],["T_FOREACH","foreach",1530],["T_WHITESPACE"," ",1530],"(",["T_VARIABLE","$address",1530],["T_WHITESPACE"," ",1530],["T_AS","as",1530],["T_WHITESPACE"," ",1530],["T_VARIABLE","$addressLine",1530],")",["T_WHITESPACE"," ",1530],"{",["T_WHITESPACE","\n                ",1530],["T_VARIABLE","$nodeShipper",1531],["T_OBJECT_OPERATOR","->",1531],["T_STRING","addChild",1531],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine'",1531],",",["T_WHITESPACE"," ",1531],["T_VARIABLE","$addressLine",1531],")",";",["T_WHITESPACE","\n            ",1531],"}",["T_WHITESPACE","\n        ",1532],"}",["T_WHITESPACE"," ",1533],["T_ELSE","else",1533],["T_WHITESPACE"," ",1533],"{",["T_WHITESPACE","\n            ",1533],["T_VARIABLE","$nodeShipper",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","addChild",1534],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine'",1534],",",["T_WHITESPACE"," ",1534],["T_VARIABLE","$address",1534],")",";",["T_WHITESPACE","\n        ",1534],"}",["T_WHITESPACE","\n\n        ",1535],["T_VARIABLE","$nodeShipper",1537],["T_OBJECT_OPERATOR","->",1537],["T_STRING","addChild",1537],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1537],",",["T_WHITESPACE"," ",1537],["T_VARIABLE","$rawRequest",1537],["T_OBJECT_OPERATOR","->",1537],["T_STRING","getShipperAddressCity",1537],"(",")",")",";",["T_WHITESPACE","\n        ",1537],["T_VARIABLE","$nodeShipper",1538],["T_OBJECT_OPERATOR","->",1538],["T_STRING","addChild",1538],"(",["T_CONSTANT_ENCAPSED_STRING","'Division'",1538],",",["T_WHITESPACE"," ",1538],["T_VARIABLE","$rawRequest",1538],["T_OBJECT_OPERATOR","->",1538],["T_STRING","getShipperAddressStateOrProvinceCode",1538],"(",")",")",";",["T_WHITESPACE","\n        ",1538],["T_VARIABLE","$nodeShipper",1539],["T_OBJECT_OPERATOR","->",1539],["T_STRING","addChild",1539],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1539],",",["T_WHITESPACE"," ",1539],["T_VARIABLE","$rawRequest",1539],["T_OBJECT_OPERATOR","->",1539],["T_STRING","getShipperAddressPostalCode",1539],"(",")",")",";",["T_WHITESPACE","\n        ",1539],["T_VARIABLE","$nodeShipper",1540],["T_OBJECT_OPERATOR","->",1540],["T_STRING","addChild",1540],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1540],",",["T_WHITESPACE"," ",1540],["T_VARIABLE","$rawRequest",1540],["T_OBJECT_OPERATOR","->",1540],["T_STRING","getShipperAddressCountryCode",1540],"(",")",")",";",["T_WHITESPACE","\n        ",1540],["T_VARIABLE","$nodeShipper",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","addChild",1541],"(",["T_WHITESPACE","\n            ",1541],["T_CONSTANT_ENCAPSED_STRING","'CountryName'",1542],",",["T_WHITESPACE","\n            ",1542],["T_VARIABLE","$this",1543],["T_OBJECT_OPERATOR","->",1543],["T_STRING","getCountryParams",1543],"(",["T_VARIABLE","$rawRequest",1543],["T_OBJECT_OPERATOR","->",1543],["T_STRING","getShipperAddressCountryCode",1543],"(",")",")",["T_OBJECT_OPERATOR","->",1543],["T_STRING","getName",1543],"(",")",["T_WHITESPACE","\n        ",1543],")",";",["T_WHITESPACE","\n        ",1544],["T_VARIABLE","$nodeContact",1545],["T_WHITESPACE"," ",1545],"=",["T_WHITESPACE"," ",1545],["T_VARIABLE","$nodeShipper",1545],["T_OBJECT_OPERATOR","->",1545],["T_STRING","addChild",1545],"(",["T_CONSTANT_ENCAPSED_STRING","'Contact'",1545],",",["T_WHITESPACE"," ",1545],["T_CONSTANT_ENCAPSED_STRING","''",1545],",",["T_WHITESPACE"," ",1545],["T_CONSTANT_ENCAPSED_STRING","''",1545],")",";",["T_WHITESPACE","\n        ",1545],["T_VARIABLE","$nodeContact",1546],["T_OBJECT_OPERATOR","->",1546],["T_STRING","addChild",1546],"(",["T_CONSTANT_ENCAPSED_STRING","'PersonName'",1546],",",["T_WHITESPACE"," ",1546],["T_STRING","substr",1546],"(",["T_VARIABLE","$rawRequest",1546],["T_OBJECT_OPERATOR","->",1546],["T_STRING","getShipperContactPersonName",1546],"(",")",",",["T_WHITESPACE"," ",1546],["T_LNUMBER","0",1546],",",["T_WHITESPACE"," ",1546],["T_LNUMBER","34",1546],")",")",";",["T_WHITESPACE","\n        ",1546],["T_VARIABLE","$nodeContact",1547],["T_OBJECT_OPERATOR","->",1547],["T_STRING","addChild",1547],"(",["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1547],",",["T_WHITESPACE"," ",1547],["T_STRING","substr",1547],"(",["T_VARIABLE","$rawRequest",1547],["T_OBJECT_OPERATOR","->",1547],["T_STRING","getShipperContactPhoneNumber",1547],"(",")",",",["T_WHITESPACE"," ",1547],["T_LNUMBER","0",1547],",",["T_WHITESPACE"," ",1547],["T_LNUMBER","24",1547],")",")",";",["T_WHITESPACE","\n\n        ",1547],["T_VARIABLE","$xml",1549],["T_OBJECT_OPERATOR","->",1549],["T_STRING","addChild",1549],"(",["T_CONSTANT_ENCAPSED_STRING","'LabelImageFormat'",1549],",",["T_WHITESPACE"," ",1549],["T_CONSTANT_ENCAPSED_STRING","'PDF'",1549],",",["T_WHITESPACE"," ",1549],["T_CONSTANT_ENCAPSED_STRING","''",1549],")",";",["T_WHITESPACE","\n\n        ",1549],["T_VARIABLE","$request",1551],["T_WHITESPACE"," ",1551],"=",["T_WHITESPACE"," ",1551],["T_VARIABLE","$xml",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","asXML",1551],"(",")",";",["T_WHITESPACE","\n        ",1551],["T_IF","if",1552],["T_WHITESPACE"," ",1552],"(","!",["T_VARIABLE","$request",1552],["T_WHITESPACE"," ",1552],["T_BOOLEAN_AND","&&",1552],["T_WHITESPACE"," ",1552],"!",["T_STRING","mb_detect_encoding",1552],"(",["T_VARIABLE","$request",1552],")",["T_WHITESPACE"," ",1552],["T_IS_EQUAL","==",1552],["T_WHITESPACE"," ",1552],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1552],")",["T_WHITESPACE"," ",1552],"{",["T_WHITESPACE","\n            ",1552],["T_VARIABLE","$request",1553],["T_WHITESPACE"," ",1553],"=",["T_WHITESPACE"," ",1553],["T_STRING","utf8_encode",1553],"(",["T_VARIABLE","$request",1553],")",";",["T_WHITESPACE","\n        ",1553],"}",["T_WHITESPACE","\n\n        ",1554],["T_VARIABLE","$responseBody",1556],["T_WHITESPACE"," ",1556],"=",["T_WHITESPACE"," ",1556],["T_VARIABLE","$this",1556],["T_OBJECT_OPERATOR","->",1556],["T_STRING","_getCachedQuotes",1556],"(",["T_VARIABLE","$request",1556],")",";",["T_WHITESPACE","\n        ",1556],["T_IF","if",1557],["T_WHITESPACE"," ",1557],"(",["T_VARIABLE","$responseBody",1557],["T_WHITESPACE"," ",1557],["T_IS_IDENTICAL","===",1557],["T_WHITESPACE"," ",1557],["T_STRING","null",1557],")",["T_WHITESPACE"," ",1557],"{",["T_WHITESPACE","\n            ",1557],["T_VARIABLE","$debugData",1558],["T_WHITESPACE"," ",1558],"=",["T_WHITESPACE"," ",1558],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",1558],["T_WHITESPACE"," ",1558],["T_DOUBLE_ARROW","=>",1558],["T_WHITESPACE"," ",1558],["T_VARIABLE","$request",1558],"]",";",["T_WHITESPACE","\n            ",1558],["T_TRY","try",1559],["T_WHITESPACE"," ",1559],"{",["T_WHITESPACE","\n                ",1559],["T_VARIABLE","$client",1560],["T_WHITESPACE"," ",1560],"=",["T_WHITESPACE"," ",1560],["T_VARIABLE","$this",1560],["T_OBJECT_OPERATOR","->",1560],["T_STRING","_httpClientFactory",1560],["T_OBJECT_OPERATOR","->",1560],["T_STRING","create",1560],"(",")",";",["T_WHITESPACE","\n                ",1560],["T_VARIABLE","$client",1561],["T_OBJECT_OPERATOR","->",1561],["T_STRING","setUri",1561],"(",["T_STRING_CAST","(string)",1561],["T_VARIABLE","$this",1561],["T_OBJECT_OPERATOR","->",1561],["T_STRING","getConfigData",1561],"(",["T_CONSTANT_ENCAPSED_STRING","'gateway_url'",1561],")",")",";",["T_WHITESPACE","\n                ",1561],["T_VARIABLE","$client",1562],["T_OBJECT_OPERATOR","->",1562],["T_STRING","setConfig",1562],"(","[",["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",1562],["T_WHITESPACE"," ",1562],["T_DOUBLE_ARROW","=>",1562],["T_WHITESPACE"," ",1562],["T_LNUMBER","0",1562],",",["T_WHITESPACE"," ",1562],["T_CONSTANT_ENCAPSED_STRING","'timeout'",1562],["T_WHITESPACE"," ",1562],["T_DOUBLE_ARROW","=>",1562],["T_WHITESPACE"," ",1562],["T_LNUMBER","30",1562],"]",")",";",["T_WHITESPACE","\n                ",1562],["T_VARIABLE","$client",1563],["T_OBJECT_OPERATOR","->",1563],["T_STRING","setRawData",1563],"(",["T_VARIABLE","$request",1563],")",";",["T_WHITESPACE","\n                ",1563],["T_VARIABLE","$responseBody",1564],["T_WHITESPACE"," ",1564],"=",["T_WHITESPACE"," ",1564],["T_VARIABLE","$client",1564],["T_OBJECT_OPERATOR","->",1564],["T_STRING","request",1564],"(",["T_NS_SEPARATOR","\\",1564],["T_STRING","Magento",1564],["T_NS_SEPARATOR","\\",1564],["T_STRING","Framework",1564],["T_NS_SEPARATOR","\\",1564],["T_STRING","HTTP",1564],["T_NS_SEPARATOR","\\",1564],["T_STRING","ZendClient",1564],["T_DOUBLE_COLON","::",1564],["T_STRING","POST",1564],")",["T_OBJECT_OPERATOR","->",1564],["T_STRING","getBody",1564],"(",")",";",["T_WHITESPACE","\n                ",1564],["T_VARIABLE","$responseBody",1565],["T_WHITESPACE"," ",1565],"=",["T_WHITESPACE"," ",1565],["T_STRING","utf8_decode",1565],"(",["T_VARIABLE","$responseBody",1565],")",";",["T_WHITESPACE","\n                ",1565],["T_VARIABLE","$debugData",1566],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1566],"]",["T_WHITESPACE"," ",1566],"=",["T_WHITESPACE"," ",1566],["T_VARIABLE","$responseBody",1566],";",["T_WHITESPACE","\n                ",1566],["T_VARIABLE","$this",1567],["T_OBJECT_OPERATOR","->",1567],["T_STRING","_setCachedQuotes",1567],"(",["T_VARIABLE","$request",1567],",",["T_WHITESPACE"," ",1567],["T_VARIABLE","$responseBody",1567],")",";",["T_WHITESPACE","\n            ",1567],"}",["T_WHITESPACE"," ",1568],["T_CATCH","catch",1568],["T_WHITESPACE"," ",1568],"(",["T_NS_SEPARATOR","\\",1568],["T_STRING","Exception",1568],["T_WHITESPACE"," ",1568],["T_VARIABLE","$e",1568],")",["T_WHITESPACE"," ",1568],"{",["T_WHITESPACE","\n                ",1568],["T_VARIABLE","$this",1569],["T_OBJECT_OPERATOR","->",1569],["T_STRING","_errors",1569],"[",["T_VARIABLE","$e",1569],["T_OBJECT_OPERATOR","->",1569],["T_STRING","getCode",1569],"(",")","]",["T_WHITESPACE"," ",1569],"=",["T_WHITESPACE"," ",1569],["T_VARIABLE","$e",1569],["T_OBJECT_OPERATOR","->",1569],["T_STRING","getMessage",1569],"(",")",";",["T_WHITESPACE","\n                ",1569],["T_VARIABLE","$responseBody",1570],["T_WHITESPACE"," ",1570],"=",["T_WHITESPACE"," ",1570],["T_CONSTANT_ENCAPSED_STRING","''",1570],";",["T_WHITESPACE","\n            ",1570],"}",["T_WHITESPACE","\n            ",1571],["T_VARIABLE","$this",1572],["T_OBJECT_OPERATOR","->",1572],["T_STRING","_debug",1572],"(",["T_VARIABLE","$debugData",1572],")",";",["T_WHITESPACE","\n        ",1572],"}",["T_WHITESPACE","\n        ",1573],["T_VARIABLE","$this",1574],["T_OBJECT_OPERATOR","->",1574],["T_STRING","_isShippingLabelFlag",1574],["T_WHITESPACE"," ",1574],"=",["T_WHITESPACE"," ",1574],["T_STRING","true",1574],";",["T_WHITESPACE","\n\n        ",1574],["T_RETURN","return",1576],["T_WHITESPACE"," ",1576],["T_VARIABLE","$this",1576],["T_OBJECT_OPERATOR","->",1576],["T_STRING","_parseResponse",1576],"(",["T_VARIABLE","$responseBody",1576],")",";",["T_WHITESPACE","\n    ",1576],"}",["T_WHITESPACE","\n\n    ",1577],["T_DOC_COMMENT","\/**\n     * Generation Shipment Details Node according to origin region\n     *\n     * @param \\Magento\\Shipping\\Model\\Simplexml\\Element $xml\n     * @param RateRequest $rawRequest\n     * @param string $originRegion\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",1579],["T_WHITESPACE","\n    ",1588],["T_PROTECTED","protected",1589],["T_WHITESPACE"," ",1589],["T_FUNCTION","function",1589],["T_WHITESPACE"," ",1589],["T_STRING","_shipmentDetails",1589],"(",["T_VARIABLE","$xml",1589],",",["T_WHITESPACE"," ",1589],["T_VARIABLE","$rawRequest",1589],",",["T_WHITESPACE"," ",1589],["T_VARIABLE","$originRegion",1589],["T_WHITESPACE"," ",1589],"=",["T_WHITESPACE"," ",1589],["T_CONSTANT_ENCAPSED_STRING","''",1589],")",["T_WHITESPACE","\n    ",1589],"{",["T_WHITESPACE","\n        ",1590],["T_VARIABLE","$nodeShipmentDetails",1591],["T_WHITESPACE"," ",1591],"=",["T_WHITESPACE"," ",1591],["T_VARIABLE","$xml",1591],["T_OBJECT_OPERATOR","->",1591],["T_STRING","addChild",1591],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipmentDetails'",1591],",",["T_WHITESPACE"," ",1591],["T_CONSTANT_ENCAPSED_STRING","''",1591],",",["T_WHITESPACE"," ",1591],["T_CONSTANT_ENCAPSED_STRING","''",1591],")",";",["T_WHITESPACE","\n        ",1591],["T_VARIABLE","$nodeShipmentDetails",1592],["T_OBJECT_OPERATOR","->",1592],["T_STRING","addChild",1592],"(",["T_CONSTANT_ENCAPSED_STRING","'NumberOfPieces'",1592],",",["T_WHITESPACE"," ",1592],["T_STRING","count",1592],"(",["T_VARIABLE","$rawRequest",1592],["T_OBJECT_OPERATOR","->",1592],["T_STRING","getPackages",1592],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",1592],["T_IF","if",1594],["T_WHITESPACE"," ",1594],"(",["T_VARIABLE","$originRegion",1594],")",["T_WHITESPACE"," ",1594],"{",["T_WHITESPACE","\n            ",1594],["T_VARIABLE","$nodeShipmentDetails",1595],["T_OBJECT_OPERATOR","->",1595],["T_STRING","addChild",1595],"(",["T_WHITESPACE","\n                ",1595],["T_CONSTANT_ENCAPSED_STRING","'CurrencyCode'",1596],",",["T_WHITESPACE","\n                ",1596],["T_VARIABLE","$this",1597],["T_OBJECT_OPERATOR","->",1597],["T_STRING","_storeManager",1597],["T_OBJECT_OPERATOR","->",1597],["T_STRING","getWebsite",1597],"(",["T_VARIABLE","$this",1597],["T_OBJECT_OPERATOR","->",1597],["T_STRING","_request",1597],["T_OBJECT_OPERATOR","->",1597],["T_STRING","getWebsiteId",1597],"(",")",")",["T_OBJECT_OPERATOR","->",1597],["T_STRING","getBaseCurrencyCode",1597],"(",")",["T_WHITESPACE","\n            ",1597],")",";",["T_WHITESPACE","\n        ",1598],"}",["T_WHITESPACE","\n\n        ",1599],["T_VARIABLE","$nodePieces",1601],["T_WHITESPACE"," ",1601],"=",["T_WHITESPACE"," ",1601],["T_VARIABLE","$nodeShipmentDetails",1601],["T_OBJECT_OPERATOR","->",1601],["T_STRING","addChild",1601],"(",["T_CONSTANT_ENCAPSED_STRING","'Pieces'",1601],",",["T_WHITESPACE"," ",1601],["T_CONSTANT_ENCAPSED_STRING","''",1601],",",["T_WHITESPACE"," ",1601],["T_CONSTANT_ENCAPSED_STRING","''",1601],")",";",["T_WHITESPACE","\n\n        ",1601],["T_COMMENT","\/*\n         * Package type\n         * EE (DHL Express Envelope), OD (Other DHL Packaging), CP (Custom Packaging)\n         * DC (Document), DM (Domestic), ED (Express Document), FR (Freight)\n         * BD (Jumbo Document), BP (Jumbo Parcel), JD (Jumbo Junior Document)\n         * JP (Jumbo Junior Parcel), PA (Parcel), DF (DHL Flyer)\n         *\/",1603],["T_WHITESPACE","\n        ",1609],["T_VARIABLE","$i",1610],["T_WHITESPACE"," ",1610],"=",["T_WHITESPACE"," ",1610],["T_LNUMBER","0",1610],";",["T_WHITESPACE","\n        ",1610],["T_FOREACH","foreach",1611],["T_WHITESPACE"," ",1611],"(",["T_VARIABLE","$rawRequest",1611],["T_OBJECT_OPERATOR","->",1611],["T_STRING","getPackages",1611],"(",")",["T_WHITESPACE"," ",1611],["T_AS","as",1611],["T_WHITESPACE"," ",1611],["T_VARIABLE","$package",1611],")",["T_WHITESPACE"," ",1611],"{",["T_WHITESPACE","\n            ",1611],["T_VARIABLE","$nodePiece",1612],["T_WHITESPACE"," ",1612],"=",["T_WHITESPACE"," ",1612],["T_VARIABLE","$nodePieces",1612],["T_OBJECT_OPERATOR","->",1612],["T_STRING","addChild",1612],"(",["T_CONSTANT_ENCAPSED_STRING","'Piece'",1612],",",["T_WHITESPACE"," ",1612],["T_CONSTANT_ENCAPSED_STRING","''",1612],",",["T_WHITESPACE"," ",1612],["T_CONSTANT_ENCAPSED_STRING","''",1612],")",";",["T_WHITESPACE","\n            ",1612],["T_VARIABLE","$packageType",1613],["T_WHITESPACE"," ",1613],"=",["T_WHITESPACE"," ",1613],["T_CONSTANT_ENCAPSED_STRING","'EE'",1613],";",["T_WHITESPACE","\n            ",1613],["T_IF","if",1614],["T_WHITESPACE"," ",1614],"(",["T_VARIABLE","$package",1614],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1614],"]","[",["T_CONSTANT_ENCAPSED_STRING","'container'",1614],"]",["T_WHITESPACE"," ",1614],["T_IS_EQUAL","==",1614],["T_WHITESPACE"," ",1614],["T_STRING","self",1614],["T_DOUBLE_COLON","::",1614],["T_STRING","DHL_CONTENT_TYPE_NON_DOC",1614],")",["T_WHITESPACE"," ",1614],"{",["T_WHITESPACE","\n                ",1614],["T_VARIABLE","$packageType",1615],["T_WHITESPACE"," ",1615],"=",["T_WHITESPACE"," ",1615],["T_CONSTANT_ENCAPSED_STRING","'CP'",1615],";",["T_WHITESPACE","\n            ",1615],"}",["T_WHITESPACE","\n            ",1616],["T_VARIABLE","$nodePiece",1617],["T_OBJECT_OPERATOR","->",1617],["T_STRING","addChild",1617],"(",["T_CONSTANT_ENCAPSED_STRING","'PieceID'",1617],",",["T_WHITESPACE"," ",1617],["T_INC","++",1617],["T_VARIABLE","$i",1617],")",";",["T_WHITESPACE","\n            ",1617],["T_VARIABLE","$nodePiece",1618],["T_OBJECT_OPERATOR","->",1618],["T_STRING","addChild",1618],"(",["T_CONSTANT_ENCAPSED_STRING","'PackageType'",1618],",",["T_WHITESPACE"," ",1618],["T_VARIABLE","$packageType",1618],")",";",["T_WHITESPACE","\n            ",1618],["T_VARIABLE","$nodePiece",1619],["T_OBJECT_OPERATOR","->",1619],["T_STRING","addChild",1619],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",1619],",",["T_WHITESPACE"," ",1619],["T_STRING","round",1619],"(",["T_VARIABLE","$package",1619],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1619],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",1619],"]",",",["T_WHITESPACE"," ",1619],["T_LNUMBER","1",1619],")",")",";",["T_WHITESPACE","\n            ",1619],["T_VARIABLE","$params",1620],["T_WHITESPACE"," ",1620],"=",["T_WHITESPACE"," ",1620],["T_VARIABLE","$package",1620],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1620],"]",";",["T_WHITESPACE","\n            ",1620],["T_IF","if",1621],["T_WHITESPACE"," ",1621],"(",["T_VARIABLE","$params",1621],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",1621],"]",["T_WHITESPACE"," ",1621],["T_BOOLEAN_AND","&&",1621],["T_WHITESPACE"," ",1621],["T_VARIABLE","$params",1621],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",1621],"]",["T_WHITESPACE"," ",1621],["T_BOOLEAN_AND","&&",1621],["T_WHITESPACE"," ",1621],["T_VARIABLE","$params",1621],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",1621],"]",")",["T_WHITESPACE"," ",1621],"{",["T_WHITESPACE","\n                ",1621],["T_IF","if",1622],["T_WHITESPACE"," ",1622],"(","!",["T_VARIABLE","$originRegion",1622],")",["T_WHITESPACE"," ",1622],"{",["T_WHITESPACE","\n                    ",1622],["T_VARIABLE","$nodePiece",1623],["T_OBJECT_OPERATOR","->",1623],["T_STRING","addChild",1623],"(",["T_CONSTANT_ENCAPSED_STRING","'Width'",1623],",",["T_WHITESPACE"," ",1623],["T_STRING","round",1623],"(",["T_VARIABLE","$params",1623],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",1623],"]",")",")",";",["T_WHITESPACE","\n                    ",1623],["T_VARIABLE","$nodePiece",1624],["T_OBJECT_OPERATOR","->",1624],["T_STRING","addChild",1624],"(",["T_CONSTANT_ENCAPSED_STRING","'Height'",1624],",",["T_WHITESPACE"," ",1624],["T_STRING","round",1624],"(",["T_VARIABLE","$params",1624],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",1624],"]",")",")",";",["T_WHITESPACE","\n                    ",1624],["T_VARIABLE","$nodePiece",1625],["T_OBJECT_OPERATOR","->",1625],["T_STRING","addChild",1625],"(",["T_CONSTANT_ENCAPSED_STRING","'Depth'",1625],",",["T_WHITESPACE"," ",1625],["T_STRING","round",1625],"(",["T_VARIABLE","$params",1625],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",1625],"]",")",")",";",["T_WHITESPACE","\n                ",1625],"}",["T_WHITESPACE"," ",1626],["T_ELSE","else",1626],["T_WHITESPACE"," ",1626],"{",["T_WHITESPACE","\n                    ",1626],["T_VARIABLE","$nodePiece",1627],["T_OBJECT_OPERATOR","->",1627],["T_STRING","addChild",1627],"(",["T_CONSTANT_ENCAPSED_STRING","'Depth'",1627],",",["T_WHITESPACE"," ",1627],["T_STRING","round",1627],"(",["T_VARIABLE","$params",1627],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",1627],"]",")",")",";",["T_WHITESPACE","\n                    ",1627],["T_VARIABLE","$nodePiece",1628],["T_OBJECT_OPERATOR","->",1628],["T_STRING","addChild",1628],"(",["T_CONSTANT_ENCAPSED_STRING","'Width'",1628],",",["T_WHITESPACE"," ",1628],["T_STRING","round",1628],"(",["T_VARIABLE","$params",1628],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",1628],"]",")",")",";",["T_WHITESPACE","\n                    ",1628],["T_VARIABLE","$nodePiece",1629],["T_OBJECT_OPERATOR","->",1629],["T_STRING","addChild",1629],"(",["T_CONSTANT_ENCAPSED_STRING","'Height'",1629],",",["T_WHITESPACE"," ",1629],["T_STRING","round",1629],"(",["T_VARIABLE","$params",1629],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",1629],"]",")",")",";",["T_WHITESPACE","\n                ",1629],"}",["T_WHITESPACE","\n            ",1630],"}",["T_WHITESPACE","\n            ",1631],["T_VARIABLE","$content",1632],["T_WHITESPACE"," ",1632],"=",["T_WHITESPACE"," ",1632],"[","]",";",["T_WHITESPACE","\n            ",1632],["T_FOREACH","foreach",1633],["T_WHITESPACE"," ",1633],"(",["T_VARIABLE","$package",1633],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",1633],"]",["T_WHITESPACE"," ",1633],["T_AS","as",1633],["T_WHITESPACE"," ",1633],["T_VARIABLE","$item",1633],")",["T_WHITESPACE"," ",1633],"{",["T_WHITESPACE","\n                ",1633],["T_VARIABLE","$content",1634],"[","]",["T_WHITESPACE"," ",1634],"=",["T_WHITESPACE"," ",1634],["T_VARIABLE","$item",1634],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",1634],"]",";",["T_WHITESPACE","\n            ",1634],"}",["T_WHITESPACE","\n            ",1635],["T_VARIABLE","$nodePiece",1636],["T_OBJECT_OPERATOR","->",1636],["T_STRING","addChild",1636],"(",["T_CONSTANT_ENCAPSED_STRING","'PieceContents'",1636],",",["T_WHITESPACE"," ",1636],["T_STRING","substr",1636],"(",["T_STRING","implode",1636],"(",["T_CONSTANT_ENCAPSED_STRING","','",1636],",",["T_WHITESPACE"," ",1636],["T_VARIABLE","$content",1636],")",",",["T_WHITESPACE"," ",1636],["T_LNUMBER","0",1636],",",["T_WHITESPACE"," ",1636],["T_LNUMBER","34",1636],")",")",";",["T_WHITESPACE","\n        ",1636],"}",["T_WHITESPACE","\n\n        ",1637],["T_IF","if",1639],["T_WHITESPACE"," ",1639],"(","!",["T_VARIABLE","$originRegion",1639],")",["T_WHITESPACE"," ",1639],"{",["T_WHITESPACE","\n            ",1639],["T_VARIABLE","$nodeShipmentDetails",1640],["T_OBJECT_OPERATOR","->",1640],["T_STRING","addChild",1640],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",1640],",",["T_WHITESPACE"," ",1640],["T_STRING","round",1640],"(",["T_VARIABLE","$rawRequest",1640],["T_OBJECT_OPERATOR","->",1640],["T_STRING","getPackageWeight",1640],"(",")",",",["T_WHITESPACE"," ",1640],["T_LNUMBER","1",1640],")",")",";",["T_WHITESPACE","\n            ",1640],["T_VARIABLE","$nodeShipmentDetails",1641],["T_OBJECT_OPERATOR","->",1641],["T_STRING","addChild",1641],"(",["T_CONSTANT_ENCAPSED_STRING","'WeightUnit'",1641],",",["T_WHITESPACE"," ",1641],["T_STRING","substr",1641],"(",["T_VARIABLE","$this",1641],["T_OBJECT_OPERATOR","->",1641],["T_STRING","_getWeightUnit",1641],"(",")",",",["T_WHITESPACE"," ",1641],["T_LNUMBER","0",1641],",",["T_WHITESPACE"," ",1641],["T_LNUMBER","1",1641],")",")",";",["T_WHITESPACE","\n            ",1641],["T_VARIABLE","$nodeShipmentDetails",1642],["T_OBJECT_OPERATOR","->",1642],["T_STRING","addChild",1642],"(",["T_CONSTANT_ENCAPSED_STRING","'GlobalProductCode'",1642],",",["T_WHITESPACE"," ",1642],["T_VARIABLE","$rawRequest",1642],["T_OBJECT_OPERATOR","->",1642],["T_STRING","getShippingMethod",1642],"(",")",")",";",["T_WHITESPACE","\n            ",1642],["T_VARIABLE","$nodeShipmentDetails",1643],["T_OBJECT_OPERATOR","->",1643],["T_STRING","addChild",1643],"(",["T_CONSTANT_ENCAPSED_STRING","'LocalProductCode'",1643],",",["T_WHITESPACE"," ",1643],["T_VARIABLE","$rawRequest",1643],["T_OBJECT_OPERATOR","->",1643],["T_STRING","getShippingMethod",1643],"(",")",")",";",["T_WHITESPACE","\n            ",1643],["T_VARIABLE","$nodeShipmentDetails",1644],["T_OBJECT_OPERATOR","->",1644],["T_STRING","addChild",1644],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",1644],",",["T_WHITESPACE"," ",1644],["T_VARIABLE","$this",1644],["T_OBJECT_OPERATOR","->",1644],["T_STRING","_coreDate",1644],["T_OBJECT_OPERATOR","->",1644],["T_STRING","date",1644],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",1644],")",")",";",["T_WHITESPACE","\n            ",1644],["T_VARIABLE","$nodeShipmentDetails",1645],["T_OBJECT_OPERATOR","->",1645],["T_STRING","addChild",1645],"(",["T_CONSTANT_ENCAPSED_STRING","'Contents'",1645],",",["T_WHITESPACE"," ",1645],["T_CONSTANT_ENCAPSED_STRING","'DHL Parcel'",1645],")",";",["T_WHITESPACE","\n            ",1645],["T_DOC_COMMENT","\/**\n             * The DoorTo Element defines the type of delivery service that applies to the shipment.\n             * The valid values are DD (Door to Door), DA (Door to Airport) , AA and DC (Door to\n             * Door non-compliant)\n             *\/",1646],["T_WHITESPACE","\n            ",1650],["T_VARIABLE","$nodeShipmentDetails",1651],["T_OBJECT_OPERATOR","->",1651],["T_STRING","addChild",1651],"(",["T_CONSTANT_ENCAPSED_STRING","'DoorTo'",1651],",",["T_WHITESPACE"," ",1651],["T_CONSTANT_ENCAPSED_STRING","'DD'",1651],")",";",["T_WHITESPACE","\n            ",1651],["T_VARIABLE","$nodeShipmentDetails",1652],["T_OBJECT_OPERATOR","->",1652],["T_STRING","addChild",1652],"(",["T_CONSTANT_ENCAPSED_STRING","'DimensionUnit'",1652],",",["T_WHITESPACE"," ",1652],["T_STRING","substr",1652],"(",["T_VARIABLE","$this",1652],["T_OBJECT_OPERATOR","->",1652],["T_STRING","_getDimensionUnit",1652],"(",")",",",["T_WHITESPACE"," ",1652],["T_LNUMBER","0",1652],",",["T_WHITESPACE"," ",1652],["T_LNUMBER","1",1652],")",")",";",["T_WHITESPACE","\n            ",1652],["T_IF","if",1653],["T_WHITESPACE"," ",1653],"(",["T_VARIABLE","$package",1653],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1653],"]","[",["T_CONSTANT_ENCAPSED_STRING","'container'",1653],"]",["T_WHITESPACE"," ",1653],["T_IS_EQUAL","==",1653],["T_WHITESPACE"," ",1653],["T_STRING","self",1653],["T_DOUBLE_COLON","::",1653],["T_STRING","DHL_CONTENT_TYPE_NON_DOC",1653],")",["T_WHITESPACE"," ",1653],"{",["T_WHITESPACE","\n                ",1653],["T_VARIABLE","$packageType",1654],["T_WHITESPACE"," ",1654],"=",["T_WHITESPACE"," ",1654],["T_CONSTANT_ENCAPSED_STRING","'CP'",1654],";",["T_WHITESPACE","\n            ",1654],"}",["T_WHITESPACE","\n            ",1655],["T_VARIABLE","$nodeShipmentDetails",1656],["T_OBJECT_OPERATOR","->",1656],["T_STRING","addChild",1656],"(",["T_CONSTANT_ENCAPSED_STRING","'PackageType'",1656],",",["T_WHITESPACE"," ",1656],["T_VARIABLE","$packageType",1656],")",";",["T_WHITESPACE","\n            ",1656],["T_IF","if",1657],["T_WHITESPACE"," ",1657],"(",["T_VARIABLE","$this",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","isDutiable",1657],"(",["T_VARIABLE","$rawRequest",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","getOrigCountryId",1657],"(",")",",",["T_WHITESPACE"," ",1657],["T_VARIABLE","$rawRequest",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","getDestCountryId",1657],"(",")",")",")",["T_WHITESPACE"," ",1657],"{",["T_WHITESPACE","\n                ",1657],["T_VARIABLE","$nodeShipmentDetails",1658],["T_OBJECT_OPERATOR","->",1658],["T_STRING","addChild",1658],"(",["T_CONSTANT_ENCAPSED_STRING","'IsDutiable'",1658],",",["T_WHITESPACE"," ",1658],["T_CONSTANT_ENCAPSED_STRING","'Y'",1658],")",";",["T_WHITESPACE","\n            ",1658],"}",["T_WHITESPACE","\n            ",1659],["T_VARIABLE","$nodeShipmentDetails",1660],["T_OBJECT_OPERATOR","->",1660],["T_STRING","addChild",1660],"(",["T_WHITESPACE","\n                ",1660],["T_CONSTANT_ENCAPSED_STRING","'CurrencyCode'",1661],",",["T_WHITESPACE","\n                ",1661],["T_VARIABLE","$this",1662],["T_OBJECT_OPERATOR","->",1662],["T_STRING","_storeManager",1662],["T_OBJECT_OPERATOR","->",1662],["T_STRING","getWebsite",1662],"(",["T_VARIABLE","$this",1662],["T_OBJECT_OPERATOR","->",1662],["T_STRING","_request",1662],["T_OBJECT_OPERATOR","->",1662],["T_STRING","getWebsiteId",1662],"(",")",")",["T_OBJECT_OPERATOR","->",1662],["T_STRING","getBaseCurrencyCode",1662],"(",")",["T_WHITESPACE","\n            ",1662],")",";",["T_WHITESPACE","\n        ",1663],"}",["T_WHITESPACE"," ",1664],["T_ELSE","else",1664],["T_WHITESPACE"," ",1664],"{",["T_WHITESPACE","\n            ",1664],["T_IF","if",1665],["T_WHITESPACE"," ",1665],"(",["T_VARIABLE","$package",1665],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1665],"]","[",["T_CONSTANT_ENCAPSED_STRING","'container'",1665],"]",["T_WHITESPACE"," ",1665],["T_IS_EQUAL","==",1665],["T_WHITESPACE"," ",1665],["T_STRING","self",1665],["T_DOUBLE_COLON","::",1665],["T_STRING","DHL_CONTENT_TYPE_NON_DOC",1665],")",["T_WHITESPACE"," ",1665],"{",["T_WHITESPACE","\n                ",1665],["T_VARIABLE","$packageType",1666],["T_WHITESPACE"," ",1666],"=",["T_WHITESPACE"," ",1666],["T_CONSTANT_ENCAPSED_STRING","'CP'",1666],";",["T_WHITESPACE","\n            ",1666],"}",["T_WHITESPACE","\n            ",1667],["T_VARIABLE","$nodeShipmentDetails",1668],["T_OBJECT_OPERATOR","->",1668],["T_STRING","addChild",1668],"(",["T_CONSTANT_ENCAPSED_STRING","'PackageType'",1668],",",["T_WHITESPACE"," ",1668],["T_VARIABLE","$packageType",1668],")",";",["T_WHITESPACE","\n            ",1668],["T_VARIABLE","$nodeShipmentDetails",1669],["T_OBJECT_OPERATOR","->",1669],["T_STRING","addChild",1669],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",1669],",",["T_WHITESPACE"," ",1669],["T_VARIABLE","$rawRequest",1669],["T_OBJECT_OPERATOR","->",1669],["T_STRING","getPackageWeight",1669],"(",")",")",";",["T_WHITESPACE","\n            ",1669],["T_VARIABLE","$nodeShipmentDetails",1670],["T_OBJECT_OPERATOR","->",1670],["T_STRING","addChild",1670],"(",["T_CONSTANT_ENCAPSED_STRING","'DimensionUnit'",1670],",",["T_WHITESPACE"," ",1670],["T_STRING","substr",1670],"(",["T_VARIABLE","$this",1670],["T_OBJECT_OPERATOR","->",1670],["T_STRING","_getDimensionUnit",1670],"(",")",",",["T_WHITESPACE"," ",1670],["T_LNUMBER","0",1670],",",["T_WHITESPACE"," ",1670],["T_LNUMBER","1",1670],")",")",";",["T_WHITESPACE","\n            ",1670],["T_VARIABLE","$nodeShipmentDetails",1671],["T_OBJECT_OPERATOR","->",1671],["T_STRING","addChild",1671],"(",["T_CONSTANT_ENCAPSED_STRING","'WeightUnit'",1671],",",["T_WHITESPACE"," ",1671],["T_STRING","substr",1671],"(",["T_VARIABLE","$this",1671],["T_OBJECT_OPERATOR","->",1671],["T_STRING","_getWeightUnit",1671],"(",")",",",["T_WHITESPACE"," ",1671],["T_LNUMBER","0",1671],",",["T_WHITESPACE"," ",1671],["T_LNUMBER","1",1671],")",")",";",["T_WHITESPACE","\n            ",1671],["T_VARIABLE","$nodeShipmentDetails",1672],["T_OBJECT_OPERATOR","->",1672],["T_STRING","addChild",1672],"(",["T_CONSTANT_ENCAPSED_STRING","'GlobalProductCode'",1672],",",["T_WHITESPACE"," ",1672],["T_VARIABLE","$rawRequest",1672],["T_OBJECT_OPERATOR","->",1672],["T_STRING","getShippingMethod",1672],"(",")",")",";",["T_WHITESPACE","\n            ",1672],["T_VARIABLE","$nodeShipmentDetails",1673],["T_OBJECT_OPERATOR","->",1673],["T_STRING","addChild",1673],"(",["T_CONSTANT_ENCAPSED_STRING","'LocalProductCode'",1673],",",["T_WHITESPACE"," ",1673],["T_VARIABLE","$rawRequest",1673],["T_OBJECT_OPERATOR","->",1673],["T_STRING","getShippingMethod",1673],"(",")",")",";",["T_WHITESPACE","\n\n            ",1673],["T_DOC_COMMENT","\/**\n             * The DoorTo Element defines the type of delivery service that applies to the shipment.\n             * The valid values are DD (Door to Door), DA (Door to Airport) , AA and DC (Door to\n             * Door non-compliant)\n             *\/",1675],["T_WHITESPACE","\n            ",1679],["T_VARIABLE","$nodeShipmentDetails",1680],["T_OBJECT_OPERATOR","->",1680],["T_STRING","addChild",1680],"(",["T_CONSTANT_ENCAPSED_STRING","'DoorTo'",1680],",",["T_WHITESPACE"," ",1680],["T_CONSTANT_ENCAPSED_STRING","'DD'",1680],")",";",["T_WHITESPACE","\n            ",1680],["T_VARIABLE","$nodeShipmentDetails",1681],["T_OBJECT_OPERATOR","->",1681],["T_STRING","addChild",1681],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",1681],",",["T_WHITESPACE"," ",1681],["T_VARIABLE","$this",1681],["T_OBJECT_OPERATOR","->",1681],["T_STRING","_coreDate",1681],["T_OBJECT_OPERATOR","->",1681],["T_STRING","date",1681],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",1681],")",")",";",["T_WHITESPACE","\n            ",1681],["T_VARIABLE","$nodeShipmentDetails",1682],["T_OBJECT_OPERATOR","->",1682],["T_STRING","addChild",1682],"(",["T_CONSTANT_ENCAPSED_STRING","'Contents'",1682],",",["T_WHITESPACE"," ",1682],["T_CONSTANT_ENCAPSED_STRING","'DHL Parcel TEST'",1682],")",";",["T_WHITESPACE","\n        ",1682],"}",["T_WHITESPACE","\n    ",1683],"}",["T_WHITESPACE","\n\n    ",1684],["T_DOC_COMMENT","\/**\n     * Get tracking\n     *\n     * @param string|string[] $trackings\n     * @return Result|null\n     *\/",1686],["T_WHITESPACE","\n    ",1691],["T_PUBLIC","public",1692],["T_WHITESPACE"," ",1692],["T_FUNCTION","function",1692],["T_WHITESPACE"," ",1692],["T_STRING","getTracking",1692],"(",["T_VARIABLE","$trackings",1692],")",["T_WHITESPACE","\n    ",1692],"{",["T_WHITESPACE","\n        ",1693],["T_IF","if",1694],["T_WHITESPACE"," ",1694],"(","!",["T_STRING","is_array",1694],"(",["T_VARIABLE","$trackings",1694],")",")",["T_WHITESPACE"," ",1694],"{",["T_WHITESPACE","\n            ",1694],["T_VARIABLE","$trackings",1695],["T_WHITESPACE"," ",1695],"=",["T_WHITESPACE"," ",1695],"[",["T_VARIABLE","$trackings",1695],"]",";",["T_WHITESPACE","\n        ",1695],"}",["T_WHITESPACE","\n        ",1696],["T_VARIABLE","$this",1697],["T_OBJECT_OPERATOR","->",1697],["T_STRING","_getXMLTracking",1697],"(",["T_VARIABLE","$trackings",1697],")",";",["T_WHITESPACE","\n\n        ",1697],["T_RETURN","return",1699],["T_WHITESPACE"," ",1699],["T_VARIABLE","$this",1699],["T_OBJECT_OPERATOR","->",1699],["T_STRING","_result",1699],";",["T_WHITESPACE","\n    ",1699],"}",["T_WHITESPACE","\n\n    ",1700],["T_DOC_COMMENT","\/**\n     * Send request for tracking\n     *\n     * @param string[] $trackings\n     * @return void\n     *\/",1702],["T_WHITESPACE","\n    ",1707],["T_PROTECTED","protected",1708],["T_WHITESPACE"," ",1708],["T_FUNCTION","function",1708],["T_WHITESPACE"," ",1708],["T_STRING","_getXMLTracking",1708],"(",["T_VARIABLE","$trackings",1708],")",["T_WHITESPACE","\n    ",1708],"{",["T_WHITESPACE","\n        ",1709],["T_VARIABLE","$xmlStr",1710],["T_WHITESPACE"," ",1710],"=",["T_WHITESPACE"," ",1710],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\" encoding=\"UTF-8\"?>'",1710],["T_WHITESPACE"," ",1710],".",["T_WHITESPACE","\n            ",1710],["T_CONSTANT_ENCAPSED_STRING","'<req:KnownTrackingRequest'",1711],["T_WHITESPACE"," ",1711],".",["T_WHITESPACE","\n            ",1711],["T_CONSTANT_ENCAPSED_STRING","' xmlns:req=\"http:\/\/www.dhl.com\"'",1712],["T_WHITESPACE"," ",1712],".",["T_WHITESPACE","\n            ",1712],["T_CONSTANT_ENCAPSED_STRING","' xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"'",1713],["T_WHITESPACE"," ",1713],".",["T_WHITESPACE","\n            ",1713],["T_CONSTANT_ENCAPSED_STRING","' xsi:schemaLocation=\"http:\/\/www.dhl.com TrackingRequestKnown.xsd\" \/>'",1714],";",["T_WHITESPACE","\n\n        ",1714],["T_VARIABLE","$xml",1716],["T_WHITESPACE"," ",1716],"=",["T_WHITESPACE"," ",1716],["T_VARIABLE","$this",1716],["T_OBJECT_OPERATOR","->",1716],["T_STRING","_xmlElFactory",1716],["T_OBJECT_OPERATOR","->",1716],["T_STRING","create",1716],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",1716],["T_WHITESPACE"," ",1716],["T_DOUBLE_ARROW","=>",1716],["T_WHITESPACE"," ",1716],["T_VARIABLE","$xmlStr",1716],"]",")",";",["T_WHITESPACE","\n\n        ",1716],["T_VARIABLE","$requestNode",1718],["T_WHITESPACE"," ",1718],"=",["T_WHITESPACE"," ",1718],["T_VARIABLE","$xml",1718],["T_OBJECT_OPERATOR","->",1718],["T_STRING","addChild",1718],"(",["T_CONSTANT_ENCAPSED_STRING","'Request'",1718],",",["T_WHITESPACE"," ",1718],["T_CONSTANT_ENCAPSED_STRING","''",1718],",",["T_WHITESPACE"," ",1718],["T_CONSTANT_ENCAPSED_STRING","''",1718],")",";",["T_WHITESPACE","\n        ",1718],["T_VARIABLE","$serviceHeaderNode",1719],["T_WHITESPACE"," ",1719],"=",["T_WHITESPACE"," ",1719],["T_VARIABLE","$requestNode",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","addChild",1719],"(",["T_CONSTANT_ENCAPSED_STRING","'ServiceHeader'",1719],",",["T_WHITESPACE"," ",1719],["T_CONSTANT_ENCAPSED_STRING","''",1719],",",["T_WHITESPACE"," ",1719],["T_CONSTANT_ENCAPSED_STRING","''",1719],")",";",["T_WHITESPACE","\n        ",1719],["T_VARIABLE","$serviceHeaderNode",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","addChild",1720],"(",["T_CONSTANT_ENCAPSED_STRING","'SiteID'",1720],",",["T_WHITESPACE"," ",1720],["T_STRING_CAST","(string)",1720],["T_VARIABLE","$this",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","getConfigData",1720],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1720],")",")",";",["T_WHITESPACE","\n        ",1720],["T_VARIABLE","$serviceHeaderNode",1721],["T_OBJECT_OPERATOR","->",1721],["T_STRING","addChild",1721],"(",["T_CONSTANT_ENCAPSED_STRING","'Password'",1721],",",["T_WHITESPACE"," ",1721],["T_STRING_CAST","(string)",1721],["T_VARIABLE","$this",1721],["T_OBJECT_OPERATOR","->",1721],["T_STRING","getConfigData",1721],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",1721],")",")",";",["T_WHITESPACE","\n\n        ",1721],["T_VARIABLE","$xml",1723],["T_OBJECT_OPERATOR","->",1723],["T_STRING","addChild",1723],"(",["T_CONSTANT_ENCAPSED_STRING","'LanguageCode'",1723],",",["T_WHITESPACE"," ",1723],["T_CONSTANT_ENCAPSED_STRING","'EN'",1723],",",["T_WHITESPACE"," ",1723],["T_CONSTANT_ENCAPSED_STRING","''",1723],")",";",["T_WHITESPACE","\n        ",1723],["T_FOREACH","foreach",1724],["T_WHITESPACE"," ",1724],"(",["T_VARIABLE","$trackings",1724],["T_WHITESPACE"," ",1724],["T_AS","as",1724],["T_WHITESPACE"," ",1724],["T_VARIABLE","$tracking",1724],")",["T_WHITESPACE"," ",1724],"{",["T_WHITESPACE","\n            ",1724],["T_VARIABLE","$xml",1725],["T_OBJECT_OPERATOR","->",1725],["T_STRING","addChild",1725],"(",["T_CONSTANT_ENCAPSED_STRING","'AWBNumber'",1725],",",["T_WHITESPACE"," ",1725],["T_VARIABLE","$tracking",1725],",",["T_WHITESPACE"," ",1725],["T_CONSTANT_ENCAPSED_STRING","''",1725],")",";",["T_WHITESPACE","\n        ",1725],"}",["T_WHITESPACE","\n        ",1726],["T_DOC_COMMENT","\/**\n         * Checkpoint details selection flag\n         * LAST_CHECK_POINT_ONLY\n         * ALL_CHECK_POINTS\n         *\/",1727],["T_WHITESPACE","\n        ",1731],["T_VARIABLE","$xml",1732],["T_OBJECT_OPERATOR","->",1732],["T_STRING","addChild",1732],"(",["T_CONSTANT_ENCAPSED_STRING","'LevelOfDetails'",1732],",",["T_WHITESPACE"," ",1732],["T_CONSTANT_ENCAPSED_STRING","'ALL_CHECK_POINTS'",1732],",",["T_WHITESPACE"," ",1732],["T_CONSTANT_ENCAPSED_STRING","''",1732],")",";",["T_WHITESPACE","\n\n        ",1732],["T_DOC_COMMENT","\/**\n         * Value that indicates for getting the tracking details with the additional\n         * piece details and its respective Piece Details, Piece checkpoints along with\n         * Shipment Details if queried.\n         *\n         * S-Only Shipment Details\n         * B-Both Shipment & Piece Details\n         * P-Only Piece Details\n         * Default is \u00e2\u0080\u0098S\u00e2\u0080\u0099\n         *\/",1734],["T_WHITESPACE","\n        ",1743],["T_COMMENT","\/\/$xml->addChild('PiecesEnabled', 'ALL_CHECK_POINTS');\n",1744],["T_WHITESPACE","\n        ",1745],["T_VARIABLE","$request",1746],["T_WHITESPACE"," ",1746],"=",["T_WHITESPACE"," ",1746],["T_VARIABLE","$xml",1746],["T_OBJECT_OPERATOR","->",1746],["T_STRING","asXML",1746],"(",")",";",["T_WHITESPACE","\n        ",1746],["T_VARIABLE","$request",1747],["T_WHITESPACE"," ",1747],"=",["T_WHITESPACE"," ",1747],["T_STRING","utf8_encode",1747],"(",["T_VARIABLE","$request",1747],")",";",["T_WHITESPACE","\n\n        ",1747],["T_VARIABLE","$responseBody",1749],["T_WHITESPACE"," ",1749],"=",["T_WHITESPACE"," ",1749],["T_VARIABLE","$this",1749],["T_OBJECT_OPERATOR","->",1749],["T_STRING","_getCachedQuotes",1749],"(",["T_VARIABLE","$request",1749],")",";",["T_WHITESPACE","\n        ",1749],["T_IF","if",1750],["T_WHITESPACE"," ",1750],"(",["T_VARIABLE","$responseBody",1750],["T_WHITESPACE"," ",1750],["T_IS_IDENTICAL","===",1750],["T_WHITESPACE"," ",1750],["T_STRING","null",1750],")",["T_WHITESPACE"," ",1750],"{",["T_WHITESPACE","\n            ",1750],["T_VARIABLE","$debugData",1751],["T_WHITESPACE"," ",1751],"=",["T_WHITESPACE"," ",1751],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",1751],["T_WHITESPACE"," ",1751],["T_DOUBLE_ARROW","=>",1751],["T_WHITESPACE"," ",1751],["T_VARIABLE","$request",1751],"]",";",["T_WHITESPACE","\n            ",1751],["T_TRY","try",1752],["T_WHITESPACE"," ",1752],"{",["T_WHITESPACE","\n                ",1752],["T_VARIABLE","$client",1753],["T_WHITESPACE"," ",1753],"=",["T_WHITESPACE"," ",1753],["T_NEW","new",1753],["T_WHITESPACE"," ",1753],["T_NS_SEPARATOR","\\",1753],["T_STRING","Magento",1753],["T_NS_SEPARATOR","\\",1753],["T_STRING","Framework",1753],["T_NS_SEPARATOR","\\",1753],["T_STRING","HTTP",1753],["T_NS_SEPARATOR","\\",1753],["T_STRING","ZendClient",1753],"(",")",";",["T_WHITESPACE","\n                ",1753],["T_VARIABLE","$client",1754],["T_OBJECT_OPERATOR","->",1754],["T_STRING","setUri",1754],"(",["T_STRING_CAST","(string)",1754],["T_VARIABLE","$this",1754],["T_OBJECT_OPERATOR","->",1754],["T_STRING","getConfigData",1754],"(",["T_CONSTANT_ENCAPSED_STRING","'gateway_url'",1754],")",")",";",["T_WHITESPACE","\n                ",1754],["T_VARIABLE","$client",1755],["T_OBJECT_OPERATOR","->",1755],["T_STRING","setConfig",1755],"(","[",["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",1755],["T_WHITESPACE"," ",1755],["T_DOUBLE_ARROW","=>",1755],["T_WHITESPACE"," ",1755],["T_LNUMBER","0",1755],",",["T_WHITESPACE"," ",1755],["T_CONSTANT_ENCAPSED_STRING","'timeout'",1755],["T_WHITESPACE"," ",1755],["T_DOUBLE_ARROW","=>",1755],["T_WHITESPACE"," ",1755],["T_LNUMBER","30",1755],"]",")",";",["T_WHITESPACE","\n                ",1755],["T_VARIABLE","$client",1756],["T_OBJECT_OPERATOR","->",1756],["T_STRING","setRawData",1756],"(",["T_VARIABLE","$request",1756],")",";",["T_WHITESPACE","\n                ",1756],["T_VARIABLE","$responseBody",1757],["T_WHITESPACE"," ",1757],"=",["T_WHITESPACE"," ",1757],["T_VARIABLE","$client",1757],["T_OBJECT_OPERATOR","->",1757],["T_STRING","request",1757],"(",["T_NS_SEPARATOR","\\",1757],["T_STRING","Magento",1757],["T_NS_SEPARATOR","\\",1757],["T_STRING","Framework",1757],["T_NS_SEPARATOR","\\",1757],["T_STRING","HTTP",1757],["T_NS_SEPARATOR","\\",1757],["T_STRING","ZendClient",1757],["T_DOUBLE_COLON","::",1757],["T_STRING","POST",1757],")",["T_OBJECT_OPERATOR","->",1757],["T_STRING","getBody",1757],"(",")",";",["T_WHITESPACE","\n                ",1757],["T_VARIABLE","$debugData",1758],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1758],"]",["T_WHITESPACE"," ",1758],"=",["T_WHITESPACE"," ",1758],["T_VARIABLE","$responseBody",1758],";",["T_WHITESPACE","\n                ",1758],["T_VARIABLE","$this",1759],["T_OBJECT_OPERATOR","->",1759],["T_STRING","_setCachedQuotes",1759],"(",["T_VARIABLE","$request",1759],",",["T_WHITESPACE"," ",1759],["T_VARIABLE","$responseBody",1759],")",";",["T_WHITESPACE","\n            ",1759],"}",["T_WHITESPACE"," ",1760],["T_CATCH","catch",1760],["T_WHITESPACE"," ",1760],"(",["T_NS_SEPARATOR","\\",1760],["T_STRING","Exception",1760],["T_WHITESPACE"," ",1760],["T_VARIABLE","$e",1760],")",["T_WHITESPACE"," ",1760],"{",["T_WHITESPACE","\n                ",1760],["T_VARIABLE","$this",1761],["T_OBJECT_OPERATOR","->",1761],["T_STRING","_errors",1761],"[",["T_VARIABLE","$e",1761],["T_OBJECT_OPERATOR","->",1761],["T_STRING","getCode",1761],"(",")","]",["T_WHITESPACE"," ",1761],"=",["T_WHITESPACE"," ",1761],["T_VARIABLE","$e",1761],["T_OBJECT_OPERATOR","->",1761],["T_STRING","getMessage",1761],"(",")",";",["T_WHITESPACE","\n                ",1761],["T_VARIABLE","$responseBody",1762],["T_WHITESPACE"," ",1762],"=",["T_WHITESPACE"," ",1762],["T_CONSTANT_ENCAPSED_STRING","''",1762],";",["T_WHITESPACE","\n            ",1762],"}",["T_WHITESPACE","\n            ",1763],["T_VARIABLE","$this",1764],["T_OBJECT_OPERATOR","->",1764],["T_STRING","_debug",1764],"(",["T_VARIABLE","$debugData",1764],")",";",["T_WHITESPACE","\n        ",1764],"}",["T_WHITESPACE","\n\n        ",1765],["T_VARIABLE","$this",1767],["T_OBJECT_OPERATOR","->",1767],["T_STRING","_parseXmlTrackingResponse",1767],"(",["T_VARIABLE","$trackings",1767],",",["T_WHITESPACE"," ",1767],["T_VARIABLE","$responseBody",1767],")",";",["T_WHITESPACE","\n    ",1767],"}",["T_WHITESPACE","\n\n    ",1768],["T_DOC_COMMENT","\/**\n     * Parse xml tracking response\n     *\n     * @param string[] $trackings\n     * @param string $response\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",1770],["T_WHITESPACE","\n    ",1778],["T_PROTECTED","protected",1779],["T_WHITESPACE"," ",1779],["T_FUNCTION","function",1779],["T_WHITESPACE"," ",1779],["T_STRING","_parseXmlTrackingResponse",1779],"(",["T_VARIABLE","$trackings",1779],",",["T_WHITESPACE"," ",1779],["T_VARIABLE","$response",1779],")",["T_WHITESPACE","\n    ",1779],"{",["T_WHITESPACE","\n        ",1780],["T_VARIABLE","$errorTitle",1781],["T_WHITESPACE"," ",1781],"=",["T_WHITESPACE"," ",1781],["T_STRING","__",1781],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to retrieve tracking'",1781],")",";",["T_WHITESPACE","\n        ",1781],["T_VARIABLE","$resultArr",1782],["T_WHITESPACE"," ",1782],"=",["T_WHITESPACE"," ",1782],"[","]",";",["T_WHITESPACE","\n\n        ",1782],["T_IF","if",1784],["T_WHITESPACE"," ",1784],"(",["T_STRING","strlen",1784],"(",["T_STRING","trim",1784],"(",["T_VARIABLE","$response",1784],")",")",["T_WHITESPACE"," ",1784],">",["T_WHITESPACE"," ",1784],["T_LNUMBER","0",1784],")",["T_WHITESPACE"," ",1784],"{",["T_WHITESPACE","\n            ",1784],["T_VARIABLE","$xml",1785],["T_WHITESPACE"," ",1785],"=",["T_WHITESPACE"," ",1785],["T_VARIABLE","$this",1785],["T_OBJECT_OPERATOR","->",1785],["T_STRING","parseXml",1785],"(",["T_VARIABLE","$response",1785],",",["T_WHITESPACE"," ",1785],["T_NS_SEPARATOR","\\",1785],["T_STRING","Magento",1785],["T_NS_SEPARATOR","\\",1785],["T_STRING","Shipping",1785],["T_NS_SEPARATOR","\\",1785],["T_STRING","Model",1785],["T_NS_SEPARATOR","\\",1785],["T_STRING","Simplexml",1785],["T_NS_SEPARATOR","\\",1785],["T_STRING","Element",1785],["T_DOUBLE_COLON","::",1785],["T_CLASS","class",1785],")",";",["T_WHITESPACE","\n            ",1785],["T_IF","if",1786],["T_WHITESPACE"," ",1786],"(","!",["T_STRING","is_object",1786],"(",["T_VARIABLE","$xml",1786],")",")",["T_WHITESPACE"," ",1786],"{",["T_WHITESPACE","\n                ",1786],["T_VARIABLE","$errorTitle",1787],["T_WHITESPACE"," ",1787],"=",["T_WHITESPACE"," ",1787],["T_STRING","__",1787],"(",["T_CONSTANT_ENCAPSED_STRING","'Response is in the wrong format'",1787],")",";",["T_WHITESPACE","\n            ",1787],"}",["T_WHITESPACE","\n            ",1788],["T_IF","if",1789],["T_WHITESPACE"," ",1789],"(",["T_STRING","is_object",1789],"(",["T_VARIABLE","$xml",1789],")",["T_WHITESPACE","\n                ",1789],["T_BOOLEAN_AND","&&",1790],["T_WHITESPACE"," ",1790],"(",["T_ISSET","isset",1790],"(",["T_VARIABLE","$xml",1790],["T_OBJECT_OPERATOR","->",1790],["T_STRING","Response",1790],["T_OBJECT_OPERATOR","->",1790],["T_STRING","Status",1790],["T_OBJECT_OPERATOR","->",1790],["T_STRING","ActionStatus",1790],")",["T_WHITESPACE","\n                    ",1790],["T_BOOLEAN_AND","&&",1791],["T_WHITESPACE"," ",1791],["T_VARIABLE","$xml",1791],["T_OBJECT_OPERATOR","->",1791],["T_STRING","Response",1791],["T_OBJECT_OPERATOR","->",1791],["T_STRING","Status",1791],["T_OBJECT_OPERATOR","->",1791],["T_STRING","ActionStatus",1791],["T_WHITESPACE"," ",1791],["T_IS_EQUAL","==",1791],["T_WHITESPACE"," ",1791],["T_CONSTANT_ENCAPSED_STRING","'Failure'",1791],["T_WHITESPACE","\n                    ",1791],["T_BOOLEAN_OR","||",1792],["T_WHITESPACE"," ",1792],["T_ISSET","isset",1792],"(",["T_VARIABLE","$xml",1792],["T_OBJECT_OPERATOR","->",1792],["T_STRING","GetQuoteResponse",1792],["T_OBJECT_OPERATOR","->",1792],["T_STRING","Note",1792],["T_OBJECT_OPERATOR","->",1792],["T_STRING","Condition",1792],")",")",["T_WHITESPACE","\n            ",1792],")",["T_WHITESPACE"," ",1793],"{",["T_WHITESPACE","\n                ",1793],["T_IF","if",1794],["T_WHITESPACE"," ",1794],"(",["T_ISSET","isset",1794],"(",["T_VARIABLE","$xml",1794],["T_OBJECT_OPERATOR","->",1794],["T_STRING","Response",1794],["T_OBJECT_OPERATOR","->",1794],["T_STRING","Status",1794],["T_OBJECT_OPERATOR","->",1794],["T_STRING","Condition",1794],")",")",["T_WHITESPACE"," ",1794],"{",["T_WHITESPACE","\n                    ",1794],["T_VARIABLE","$nodeCondition",1795],["T_WHITESPACE"," ",1795],"=",["T_WHITESPACE"," ",1795],["T_VARIABLE","$xml",1795],["T_OBJECT_OPERATOR","->",1795],["T_STRING","Response",1795],["T_OBJECT_OPERATOR","->",1795],["T_STRING","Status",1795],["T_OBJECT_OPERATOR","->",1795],["T_STRING","Condition",1795],";",["T_WHITESPACE","\n                ",1795],"}",["T_WHITESPACE","\n                ",1796],["T_VARIABLE","$code",1797],["T_WHITESPACE"," ",1797],"=",["T_WHITESPACE"," ",1797],["T_ISSET","isset",1797],"(",["T_VARIABLE","$nodeCondition",1797],["T_OBJECT_OPERATOR","->",1797],["T_STRING","ConditionCode",1797],")",["T_WHITESPACE"," ",1797],"?",["T_WHITESPACE"," ",1797],["T_STRING_CAST","(string)",1797],["T_VARIABLE","$nodeCondition",1797],["T_OBJECT_OPERATOR","->",1797],["T_STRING","ConditionCode",1797],["T_WHITESPACE"," ",1797],":",["T_WHITESPACE"," ",1797],["T_LNUMBER","0",1797],";",["T_WHITESPACE","\n                ",1797],["T_VARIABLE","$data",1798],["T_WHITESPACE"," ",1798],"=",["T_WHITESPACE"," ",1798],["T_ISSET","isset",1798],"(",["T_VARIABLE","$nodeCondition",1798],["T_OBJECT_OPERATOR","->",1798],["T_STRING","ConditionData",1798],")",["T_WHITESPACE"," ",1798],"?",["T_WHITESPACE"," ",1798],["T_STRING_CAST","(string)",1798],["T_VARIABLE","$nodeCondition",1798],["T_OBJECT_OPERATOR","->",1798],["T_STRING","ConditionData",1798],["T_WHITESPACE"," ",1798],":",["T_WHITESPACE"," ",1798],["T_CONSTANT_ENCAPSED_STRING","''",1798],";",["T_WHITESPACE","\n                ",1798],["T_VARIABLE","$this",1799],["T_OBJECT_OPERATOR","->",1799],["T_STRING","_errors",1799],"[",["T_VARIABLE","$code",1799],"]",["T_WHITESPACE"," ",1799],"=",["T_WHITESPACE"," ",1799],["T_STRING","__",1799],"(",["T_CONSTANT_ENCAPSED_STRING","'Error #%1 : %2'",1799],",",["T_WHITESPACE"," ",1799],["T_VARIABLE","$code",1799],",",["T_WHITESPACE"," ",1799],["T_VARIABLE","$data",1799],")",";",["T_WHITESPACE","\n            ",1799],"}",["T_WHITESPACE"," ",1800],["T_ELSEIF","elseif",1800],["T_WHITESPACE"," ",1800],"(",["T_STRING","is_object",1800],"(",["T_VARIABLE","$xml",1800],")",["T_WHITESPACE"," ",1800],["T_BOOLEAN_AND","&&",1800],["T_WHITESPACE"," ",1800],["T_STRING","is_object",1800],"(",["T_VARIABLE","$xml",1800],["T_OBJECT_OPERATOR","->",1800],["T_STRING","AWBInfo",1800],")",")",["T_WHITESPACE"," ",1800],"{",["T_WHITESPACE","\n                ",1800],["T_FOREACH","foreach",1801],["T_WHITESPACE"," ",1801],"(",["T_VARIABLE","$xml",1801],["T_OBJECT_OPERATOR","->",1801],["T_STRING","AWBInfo",1801],["T_WHITESPACE"," ",1801],["T_AS","as",1801],["T_WHITESPACE"," ",1801],["T_VARIABLE","$awbinfo",1801],")",["T_WHITESPACE"," ",1801],"{",["T_WHITESPACE","\n                    ",1801],["T_VARIABLE","$awbinfoData",1802],["T_WHITESPACE"," ",1802],"=",["T_WHITESPACE"," ",1802],"[","]",";",["T_WHITESPACE","\n                    ",1802],["T_VARIABLE","$trackNum",1803],["T_WHITESPACE"," ",1803],"=",["T_WHITESPACE"," ",1803],["T_ISSET","isset",1803],"(",["T_VARIABLE","$awbinfo",1803],["T_OBJECT_OPERATOR","->",1803],["T_STRING","AWBNumber",1803],")",["T_WHITESPACE"," ",1803],"?",["T_WHITESPACE"," ",1803],["T_STRING_CAST","(string)",1803],["T_VARIABLE","$awbinfo",1803],["T_OBJECT_OPERATOR","->",1803],["T_STRING","AWBNumber",1803],["T_WHITESPACE"," ",1803],":",["T_WHITESPACE"," ",1803],["T_CONSTANT_ENCAPSED_STRING","''",1803],";",["T_WHITESPACE","\n                    ",1803],["T_IF","if",1804],["T_WHITESPACE"," ",1804],"(","!",["T_STRING","is_object",1804],"(",["T_VARIABLE","$awbinfo",1804],")",["T_WHITESPACE"," ",1804],["T_BOOLEAN_OR","||",1804],["T_WHITESPACE"," ",1804],"!",["T_VARIABLE","$awbinfo",1804],["T_OBJECT_OPERATOR","->",1804],["T_STRING","ShipmentInfo",1804],")",["T_WHITESPACE"," ",1804],"{",["T_WHITESPACE","\n                        ",1804],["T_VARIABLE","$this",1805],["T_OBJECT_OPERATOR","->",1805],["T_STRING","_errors",1805],"[",["T_VARIABLE","$trackNum",1805],"]",["T_WHITESPACE"," ",1805],"=",["T_WHITESPACE"," ",1805],["T_STRING","__",1805],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to retrieve tracking'",1805],")",";",["T_WHITESPACE","\n                        ",1805],["T_CONTINUE","continue",1806],";",["T_WHITESPACE","\n                    ",1806],"}",["T_WHITESPACE","\n                    ",1807],["T_VARIABLE","$shipmentInfo",1808],["T_WHITESPACE"," ",1808],"=",["T_WHITESPACE"," ",1808],["T_VARIABLE","$awbinfo",1808],["T_OBJECT_OPERATOR","->",1808],["T_STRING","ShipmentInfo",1808],";",["T_WHITESPACE","\n\n                    ",1808],["T_IF","if",1810],["T_WHITESPACE"," ",1810],"(",["T_VARIABLE","$shipmentInfo",1810],["T_OBJECT_OPERATOR","->",1810],["T_STRING","ShipmentDesc",1810],")",["T_WHITESPACE"," ",1810],"{",["T_WHITESPACE","\n                        ",1810],["T_VARIABLE","$awbinfoData",1811],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",1811],"]",["T_WHITESPACE"," ",1811],"=",["T_WHITESPACE"," ",1811],["T_STRING_CAST","(string)",1811],["T_VARIABLE","$shipmentInfo",1811],["T_OBJECT_OPERATOR","->",1811],["T_STRING","ShipmentDesc",1811],";",["T_WHITESPACE","\n                    ",1811],"}",["T_WHITESPACE","\n\n                    ",1812],["T_VARIABLE","$awbinfoData",1814],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",1814],"]",["T_WHITESPACE"," ",1814],"=",["T_WHITESPACE"," ",1814],["T_STRING_CAST","(string)",1814],["T_VARIABLE","$shipmentInfo",1814],["T_OBJECT_OPERATOR","->",1814],["T_STRING","Weight",1814],["T_WHITESPACE"," ",1814],".",["T_WHITESPACE"," ",1814],["T_CONSTANT_ENCAPSED_STRING","' '",1814],["T_WHITESPACE"," ",1814],".",["T_WHITESPACE"," ",1814],["T_STRING_CAST","(string)",1814],["T_VARIABLE","$shipmentInfo",1814],["T_OBJECT_OPERATOR","->",1814],["T_STRING","WeightUnit",1814],";",["T_WHITESPACE","\n\n                    ",1814],["T_VARIABLE","$packageProgress",1816],["T_WHITESPACE"," ",1816],"=",["T_WHITESPACE"," ",1816],"[","]",";",["T_WHITESPACE","\n                    ",1816],["T_IF","if",1817],["T_WHITESPACE"," ",1817],"(",["T_ISSET","isset",1817],"(",["T_VARIABLE","$shipmentInfo",1817],["T_OBJECT_OPERATOR","->",1817],["T_STRING","ShipmentEvent",1817],")",")",["T_WHITESPACE"," ",1817],"{",["T_WHITESPACE","\n                        ",1817],["T_FOREACH","foreach",1818],["T_WHITESPACE"," ",1818],"(",["T_VARIABLE","$shipmentInfo",1818],["T_OBJECT_OPERATOR","->",1818],["T_STRING","ShipmentEvent",1818],["T_WHITESPACE"," ",1818],["T_AS","as",1818],["T_WHITESPACE"," ",1818],["T_VARIABLE","$shipmentEvent",1818],")",["T_WHITESPACE"," ",1818],"{",["T_WHITESPACE","\n                            ",1818],["T_VARIABLE","$shipmentEventArray",1819],["T_WHITESPACE"," ",1819],"=",["T_WHITESPACE"," ",1819],"[","]",";",["T_WHITESPACE","\n                            ",1819],["T_VARIABLE","$shipmentEventArray",1820],"[",["T_CONSTANT_ENCAPSED_STRING","'activity'",1820],"]",["T_WHITESPACE"," ",1820],"=",["T_WHITESPACE"," ",1820],["T_STRING_CAST","(string)",1820],["T_VARIABLE","$shipmentEvent",1820],["T_OBJECT_OPERATOR","->",1820],["T_STRING","ServiceEvent",1820],["T_OBJECT_OPERATOR","->",1820],["T_STRING","EventCode",1820],["T_WHITESPACE","\n                                ",1820],".",["T_WHITESPACE"," ",1821],["T_CONSTANT_ENCAPSED_STRING","' '",1821],["T_WHITESPACE"," ",1821],".",["T_WHITESPACE"," ",1821],["T_STRING_CAST","(string)",1821],["T_VARIABLE","$shipmentEvent",1821],["T_OBJECT_OPERATOR","->",1821],["T_STRING","ServiceEvent",1821],["T_OBJECT_OPERATOR","->",1821],["T_STRING","Description",1821],";",["T_WHITESPACE","\n                            ",1821],["T_VARIABLE","$shipmentEventArray",1822],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverydate'",1822],"]",["T_WHITESPACE"," ",1822],"=",["T_WHITESPACE"," ",1822],["T_STRING_CAST","(string)",1822],["T_VARIABLE","$shipmentEvent",1822],["T_OBJECT_OPERATOR","->",1822],["T_STRING","Date",1822],";",["T_WHITESPACE","\n                            ",1822],["T_VARIABLE","$shipmentEventArray",1823],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverytime'",1823],"]",["T_WHITESPACE"," ",1823],"=",["T_WHITESPACE"," ",1823],["T_STRING_CAST","(string)",1823],["T_VARIABLE","$shipmentEvent",1823],["T_OBJECT_OPERATOR","->",1823],["T_STRING","Time",1823],";",["T_WHITESPACE","\n                            ",1823],["T_VARIABLE","$shipmentEventArray",1824],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverylocation'",1824],"]",["T_WHITESPACE"," ",1824],"=",["T_WHITESPACE"," ",1824],["T_STRING_CAST","(string)",1824],["T_VARIABLE","$shipmentEvent",1824],["T_OBJECT_OPERATOR","->",1824],["T_STRING","ServiceArea",1824],["T_WHITESPACE","\n                                ",1824],["T_OBJECT_OPERATOR","->",1825],["T_STRING","Description",1825],["T_WHITESPACE"," ",1825],".",["T_WHITESPACE"," ",1825],["T_CONSTANT_ENCAPSED_STRING","' ['",1825],["T_WHITESPACE"," ",1825],".",["T_WHITESPACE"," ",1825],["T_STRING_CAST","(string)",1825],["T_VARIABLE","$shipmentEvent",1825],["T_OBJECT_OPERATOR","->",1825],["T_STRING","ServiceArea",1825],["T_OBJECT_OPERATOR","->",1825],["T_STRING","ServiceAreaCode",1825],["T_WHITESPACE"," ",1825],".",["T_WHITESPACE"," ",1825],["T_CONSTANT_ENCAPSED_STRING","']'",1825],";",["T_WHITESPACE","\n                            ",1825],["T_VARIABLE","$packageProgress",1826],"[","]",["T_WHITESPACE"," ",1826],"=",["T_WHITESPACE"," ",1826],["T_VARIABLE","$shipmentEventArray",1826],";",["T_WHITESPACE","\n                        ",1826],"}",["T_WHITESPACE","\n                        ",1827],["T_VARIABLE","$awbinfoData",1828],"[",["T_CONSTANT_ENCAPSED_STRING","'progressdetail'",1828],"]",["T_WHITESPACE"," ",1828],"=",["T_WHITESPACE"," ",1828],["T_VARIABLE","$packageProgress",1828],";",["T_WHITESPACE","\n                    ",1828],"}",["T_WHITESPACE","\n                    ",1829],["T_VARIABLE","$resultArr",1830],"[",["T_VARIABLE","$trackNum",1830],"]",["T_WHITESPACE"," ",1830],"=",["T_WHITESPACE"," ",1830],["T_VARIABLE","$awbinfoData",1830],";",["T_WHITESPACE","\n                ",1830],"}",["T_WHITESPACE","\n            ",1831],"}",["T_WHITESPACE","\n        ",1832],"}",["T_WHITESPACE","\n\n        ",1833],["T_VARIABLE","$result",1835],["T_WHITESPACE"," ",1835],"=",["T_WHITESPACE"," ",1835],["T_VARIABLE","$this",1835],["T_OBJECT_OPERATOR","->",1835],["T_STRING","_trackFactory",1835],["T_OBJECT_OPERATOR","->",1835],["T_STRING","create",1835],"(",")",";",["T_WHITESPACE","\n\n        ",1835],["T_IF","if",1837],["T_WHITESPACE"," ",1837],"(","!",["T_EMPTY","empty",1837],"(",["T_VARIABLE","$resultArr",1837],")",")",["T_WHITESPACE"," ",1837],"{",["T_WHITESPACE","\n            ",1837],["T_FOREACH","foreach",1838],["T_WHITESPACE"," ",1838],"(",["T_VARIABLE","$resultArr",1838],["T_WHITESPACE"," ",1838],["T_AS","as",1838],["T_WHITESPACE"," ",1838],["T_VARIABLE","$trackNum",1838],["T_WHITESPACE"," ",1838],["T_DOUBLE_ARROW","=>",1838],["T_WHITESPACE"," ",1838],["T_VARIABLE","$data",1838],")",["T_WHITESPACE"," ",1838],"{",["T_WHITESPACE","\n                ",1838],["T_VARIABLE","$tracking",1839],["T_WHITESPACE"," ",1839],"=",["T_WHITESPACE"," ",1839],["T_VARIABLE","$this",1839],["T_OBJECT_OPERATOR","->",1839],["T_STRING","_trackStatusFactory",1839],["T_OBJECT_OPERATOR","->",1839],["T_STRING","create",1839],"(",")",";",["T_WHITESPACE","\n                ",1839],["T_VARIABLE","$tracking",1840],["T_OBJECT_OPERATOR","->",1840],["T_STRING","setCarrier",1840],"(",["T_VARIABLE","$this",1840],["T_OBJECT_OPERATOR","->",1840],["T_STRING","_code",1840],")",";",["T_WHITESPACE","\n                ",1840],["T_VARIABLE","$tracking",1841],["T_OBJECT_OPERATOR","->",1841],["T_STRING","setCarrierTitle",1841],"(",["T_VARIABLE","$this",1841],["T_OBJECT_OPERATOR","->",1841],["T_STRING","getConfigData",1841],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1841],")",")",";",["T_WHITESPACE","\n                ",1841],["T_VARIABLE","$tracking",1842],["T_OBJECT_OPERATOR","->",1842],["T_STRING","setTracking",1842],"(",["T_VARIABLE","$trackNum",1842],")",";",["T_WHITESPACE","\n                ",1842],["T_VARIABLE","$tracking",1843],["T_OBJECT_OPERATOR","->",1843],["T_STRING","addData",1843],"(",["T_VARIABLE","$data",1843],")",";",["T_WHITESPACE","\n                ",1843],["T_VARIABLE","$result",1844],["T_OBJECT_OPERATOR","->",1844],["T_STRING","append",1844],"(",["T_VARIABLE","$tracking",1844],")",";",["T_WHITESPACE","\n            ",1844],"}",["T_WHITESPACE","\n        ",1845],"}",["T_WHITESPACE","\n\n        ",1846],["T_IF","if",1848],["T_WHITESPACE"," ",1848],"(","!",["T_EMPTY","empty",1848],"(",["T_VARIABLE","$this",1848],["T_OBJECT_OPERATOR","->",1848],["T_STRING","_errors",1848],")",["T_WHITESPACE"," ",1848],["T_BOOLEAN_OR","||",1848],["T_WHITESPACE"," ",1848],["T_EMPTY","empty",1848],"(",["T_VARIABLE","$resultArr",1848],")",")",["T_WHITESPACE"," ",1848],"{",["T_WHITESPACE","\n            ",1848],["T_VARIABLE","$resultArr",1849],["T_WHITESPACE"," ",1849],"=",["T_WHITESPACE"," ",1849],"!",["T_EMPTY","empty",1849],"(",["T_VARIABLE","$this",1849],["T_OBJECT_OPERATOR","->",1849],["T_STRING","_errors",1849],")",["T_WHITESPACE"," ",1849],"?",["T_WHITESPACE"," ",1849],["T_VARIABLE","$this",1849],["T_OBJECT_OPERATOR","->",1849],["T_STRING","_errors",1849],["T_WHITESPACE"," ",1849],":",["T_WHITESPACE"," ",1849],["T_VARIABLE","$trackings",1849],";",["T_WHITESPACE","\n            ",1849],["T_FOREACH","foreach",1850],["T_WHITESPACE"," ",1850],"(",["T_VARIABLE","$resultArr",1850],["T_WHITESPACE"," ",1850],["T_AS","as",1850],["T_WHITESPACE"," ",1850],["T_VARIABLE","$trackNum",1850],["T_WHITESPACE"," ",1850],["T_DOUBLE_ARROW","=>",1850],["T_WHITESPACE"," ",1850],["T_VARIABLE","$err",1850],")",["T_WHITESPACE"," ",1850],"{",["T_WHITESPACE","\n                ",1850],["T_VARIABLE","$error",1851],["T_WHITESPACE"," ",1851],"=",["T_WHITESPACE"," ",1851],["T_VARIABLE","$this",1851],["T_OBJECT_OPERATOR","->",1851],["T_STRING","_trackErrorFactory",1851],["T_OBJECT_OPERATOR","->",1851],["T_STRING","create",1851],"(",")",";",["T_WHITESPACE","\n                ",1851],["T_VARIABLE","$error",1852],["T_OBJECT_OPERATOR","->",1852],["T_STRING","setCarrier",1852],"(",["T_VARIABLE","$this",1852],["T_OBJECT_OPERATOR","->",1852],["T_STRING","_code",1852],")",";",["T_WHITESPACE","\n                ",1852],["T_VARIABLE","$error",1853],["T_OBJECT_OPERATOR","->",1853],["T_STRING","setCarrierTitle",1853],"(",["T_VARIABLE","$this",1853],["T_OBJECT_OPERATOR","->",1853],["T_STRING","getConfigData",1853],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1853],")",")",";",["T_WHITESPACE","\n                ",1853],["T_VARIABLE","$error",1854],["T_OBJECT_OPERATOR","->",1854],["T_STRING","setTracking",1854],"(","!",["T_EMPTY","empty",1854],"(",["T_VARIABLE","$this",1854],["T_OBJECT_OPERATOR","->",1854],["T_STRING","_errors",1854],")",["T_WHITESPACE"," ",1854],"?",["T_WHITESPACE"," ",1854],["T_VARIABLE","$trackNum",1854],["T_WHITESPACE"," ",1854],":",["T_WHITESPACE"," ",1854],["T_VARIABLE","$err",1854],")",";",["T_WHITESPACE","\n                ",1854],["T_VARIABLE","$error",1855],["T_OBJECT_OPERATOR","->",1855],["T_STRING","setErrorMessage",1855],"(","!",["T_EMPTY","empty",1855],"(",["T_VARIABLE","$this",1855],["T_OBJECT_OPERATOR","->",1855],["T_STRING","_errors",1855],")",["T_WHITESPACE"," ",1855],"?",["T_WHITESPACE"," ",1855],["T_VARIABLE","$err",1855],["T_WHITESPACE"," ",1855],":",["T_WHITESPACE"," ",1855],["T_VARIABLE","$errorTitle",1855],")",";",["T_WHITESPACE","\n                ",1855],["T_VARIABLE","$result",1856],["T_OBJECT_OPERATOR","->",1856],["T_STRING","append",1856],"(",["T_VARIABLE","$error",1856],")",";",["T_WHITESPACE","\n            ",1856],"}",["T_WHITESPACE","\n        ",1857],"}",["T_WHITESPACE","\n\n        ",1858],["T_VARIABLE","$this",1860],["T_OBJECT_OPERATOR","->",1860],["T_STRING","_result",1860],["T_WHITESPACE"," ",1860],"=",["T_WHITESPACE"," ",1860],["T_VARIABLE","$result",1860],";",["T_WHITESPACE","\n    ",1860],"}",["T_WHITESPACE","\n\n    ",1861],["T_DOC_COMMENT","\/**\n     * Get final price for shipping method with handling fee per package\n     *\n     * @param float $cost\n     * @param string $handlingType\n     * @param float $handlingFee\n     * @return float\n     *\/",1863],["T_WHITESPACE","\n    ",1870],["T_PROTECTED","protected",1871],["T_WHITESPACE"," ",1871],["T_FUNCTION","function",1871],["T_WHITESPACE"," ",1871],["T_STRING","_getPerpackagePrice",1871],"(",["T_VARIABLE","$cost",1871],",",["T_WHITESPACE"," ",1871],["T_VARIABLE","$handlingType",1871],",",["T_WHITESPACE"," ",1871],["T_VARIABLE","$handlingFee",1871],")",["T_WHITESPACE","\n    ",1871],"{",["T_WHITESPACE","\n        ",1872],["T_IF","if",1873],["T_WHITESPACE"," ",1873],"(",["T_VARIABLE","$handlingType",1873],["T_WHITESPACE"," ",1873],["T_IS_EQUAL","==",1873],["T_WHITESPACE"," ",1873],["T_STRING","AbstractCarrier",1873],["T_DOUBLE_COLON","::",1873],["T_STRING","HANDLING_TYPE_PERCENT",1873],")",["T_WHITESPACE"," ",1873],"{",["T_WHITESPACE","\n            ",1873],["T_RETURN","return",1874],["T_WHITESPACE"," ",1874],["T_VARIABLE","$cost",1874],["T_WHITESPACE"," ",1874],"+",["T_WHITESPACE"," ",1874],["T_VARIABLE","$cost",1874],["T_WHITESPACE"," ",1874],"*",["T_WHITESPACE"," ",1874],["T_VARIABLE","$this",1874],["T_OBJECT_OPERATOR","->",1874],["T_STRING","_numBoxes",1874],["T_WHITESPACE"," ",1874],"*",["T_WHITESPACE"," ",1874],["T_VARIABLE","$handlingFee",1874],["T_WHITESPACE"," ",1874],"\/",["T_WHITESPACE"," ",1874],["T_LNUMBER","100",1874],";",["T_WHITESPACE","\n        ",1874],"}",["T_WHITESPACE","\n\n        ",1875],["T_RETURN","return",1877],["T_WHITESPACE"," ",1877],["T_VARIABLE","$cost",1877],["T_WHITESPACE"," ",1877],"+",["T_WHITESPACE"," ",1877],["T_VARIABLE","$this",1877],["T_OBJECT_OPERATOR","->",1877],["T_STRING","_numBoxes",1877],["T_WHITESPACE"," ",1877],"*",["T_WHITESPACE"," ",1877],["T_VARIABLE","$handlingFee",1877],";",["T_WHITESPACE","\n    ",1877],"}",["T_WHITESPACE","\n\n    ",1878],["T_DOC_COMMENT","\/**\n     * Do request to shipment\n     *\n     * @param \\Magento\\Shipping\\Model\\Shipment\\Request $request\n     * @return array|\\Magento\\Framework\\DataObject\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",1880],["T_WHITESPACE","\n    ",1886],["T_PUBLIC","public",1887],["T_WHITESPACE"," ",1887],["T_FUNCTION","function",1887],["T_WHITESPACE"," ",1887],["T_STRING","requestToShipment",1887],"(",["T_VARIABLE","$request",1887],")",["T_WHITESPACE","\n    ",1887],"{",["T_WHITESPACE","\n        ",1888],["T_VARIABLE","$packages",1889],["T_WHITESPACE"," ",1889],"=",["T_WHITESPACE"," ",1889],["T_VARIABLE","$request",1889],["T_OBJECT_OPERATOR","->",1889],["T_STRING","getPackages",1889],"(",")",";",["T_WHITESPACE","\n        ",1889],["T_IF","if",1890],["T_WHITESPACE"," ",1890],"(","!",["T_STRING","is_array",1890],"(",["T_VARIABLE","$packages",1890],")",["T_WHITESPACE"," ",1890],["T_BOOLEAN_OR","||",1890],["T_WHITESPACE"," ",1890],"!",["T_VARIABLE","$packages",1890],")",["T_WHITESPACE"," ",1890],"{",["T_WHITESPACE","\n            ",1890],["T_THROW","throw",1891],["T_WHITESPACE"," ",1891],["T_NEW","new",1891],["T_WHITESPACE"," ",1891],["T_NS_SEPARATOR","\\",1891],["T_STRING","Magento",1891],["T_NS_SEPARATOR","\\",1891],["T_STRING","Framework",1891],["T_NS_SEPARATOR","\\",1891],["T_STRING","Exception",1891],["T_NS_SEPARATOR","\\",1891],["T_STRING","LocalizedException",1891],"(",["T_STRING","__",1891],"(",["T_CONSTANT_ENCAPSED_STRING","'No packages for request'",1891],")",")",";",["T_WHITESPACE","\n        ",1891],"}",["T_WHITESPACE","\n        ",1892],["T_VARIABLE","$result",1893],["T_WHITESPACE"," ",1893],"=",["T_WHITESPACE"," ",1893],["T_VARIABLE","$this",1893],["T_OBJECT_OPERATOR","->",1893],["T_STRING","_doShipmentRequest",1893],"(",["T_VARIABLE","$request",1893],")",";",["T_WHITESPACE","\n\n        ",1893],["T_VARIABLE","$response",1895],["T_WHITESPACE"," ",1895],"=",["T_WHITESPACE"," ",1895],["T_NEW","new",1895],["T_WHITESPACE"," ",1895],["T_NS_SEPARATOR","\\",1895],["T_STRING","Magento",1895],["T_NS_SEPARATOR","\\",1895],["T_STRING","Framework",1895],["T_NS_SEPARATOR","\\",1895],["T_STRING","DataObject",1895],"(",["T_WHITESPACE","\n            ",1895],"[",["T_WHITESPACE","\n                ",1896],["T_CONSTANT_ENCAPSED_STRING","'info'",1897],["T_WHITESPACE"," ",1897],["T_DOUBLE_ARROW","=>",1897],["T_WHITESPACE"," ",1897],"[",["T_WHITESPACE","\n                    ",1897],"[",["T_WHITESPACE","\n                        ",1898],["T_CONSTANT_ENCAPSED_STRING","'tracking_number'",1899],["T_WHITESPACE"," ",1899],["T_DOUBLE_ARROW","=>",1899],["T_WHITESPACE"," ",1899],["T_VARIABLE","$result",1899],["T_OBJECT_OPERATOR","->",1899],["T_STRING","getTrackingNumber",1899],"(",")",",",["T_WHITESPACE","\n                        ",1899],["T_CONSTANT_ENCAPSED_STRING","'label_content'",1900],["T_WHITESPACE"," ",1900],["T_DOUBLE_ARROW","=>",1900],["T_WHITESPACE"," ",1900],["T_VARIABLE","$result",1900],["T_OBJECT_OPERATOR","->",1900],["T_STRING","getShippingLabelContent",1900],"(",")",",",["T_WHITESPACE","\n                    ",1900],"]",",",["T_WHITESPACE","\n                ",1901],"]",",",["T_WHITESPACE","\n            ",1902],"]",["T_WHITESPACE","\n        ",1903],")",";",["T_WHITESPACE","\n\n        ",1904],["T_VARIABLE","$request",1906],["T_OBJECT_OPERATOR","->",1906],["T_STRING","setMasterTrackingId",1906],"(",["T_VARIABLE","$result",1906],["T_OBJECT_OPERATOR","->",1906],["T_STRING","getTrackingNumber",1906],"(",")",")",";",["T_WHITESPACE","\n\n        ",1906],["T_RETURN","return",1908],["T_WHITESPACE"," ",1908],["T_VARIABLE","$response",1908],";",["T_WHITESPACE","\n    ",1908],"}",["T_WHITESPACE","\n\n    ",1909],["T_DOC_COMMENT","\/**\n     * Check if shipping is domestic\n     *\n     * @param string $origCountryCode\n     * @param string $destCountryCode\n     * @return bool\n     *\/",1911],["T_WHITESPACE","\n    ",1917],["T_PROTECTED","protected",1918],["T_WHITESPACE"," ",1918],["T_FUNCTION","function",1918],["T_WHITESPACE"," ",1918],["T_STRING","_checkDomesticStatus",1918],"(",["T_VARIABLE","$origCountryCode",1918],",",["T_WHITESPACE"," ",1918],["T_VARIABLE","$destCountryCode",1918],")",["T_WHITESPACE","\n    ",1918],"{",["T_WHITESPACE","\n        ",1919],["T_VARIABLE","$this",1920],["T_OBJECT_OPERATOR","->",1920],["T_STRING","_isDomestic",1920],["T_WHITESPACE"," ",1920],"=",["T_WHITESPACE"," ",1920],["T_STRING","false",1920],";",["T_WHITESPACE","\n\n        ",1920],["T_VARIABLE","$origCountry",1922],["T_WHITESPACE"," ",1922],"=",["T_WHITESPACE"," ",1922],["T_STRING_CAST","(string)",1922],["T_VARIABLE","$this",1922],["T_OBJECT_OPERATOR","->",1922],["T_STRING","getCountryParams",1922],"(",["T_VARIABLE","$origCountryCode",1922],")",["T_OBJECT_OPERATOR","->",1922],["T_STRING","getData",1922],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",1922],")",";",["T_WHITESPACE","\n        ",1922],["T_VARIABLE","$destCountry",1923],["T_WHITESPACE"," ",1923],"=",["T_WHITESPACE"," ",1923],["T_STRING_CAST","(string)",1923],["T_VARIABLE","$this",1923],["T_OBJECT_OPERATOR","->",1923],["T_STRING","getCountryParams",1923],"(",["T_VARIABLE","$destCountryCode",1923],")",["T_OBJECT_OPERATOR","->",1923],["T_STRING","getData",1923],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",1923],")",";",["T_WHITESPACE","\n        ",1923],["T_VARIABLE","$isDomestic",1924],["T_WHITESPACE"," ",1924],"=",["T_WHITESPACE"," ",1924],["T_STRING_CAST","(string)",1924],["T_VARIABLE","$this",1924],["T_OBJECT_OPERATOR","->",1924],["T_STRING","getCountryParams",1924],"(",["T_VARIABLE","$destCountryCode",1924],")",["T_OBJECT_OPERATOR","->",1924],["T_STRING","getData",1924],"(",["T_CONSTANT_ENCAPSED_STRING","'domestic'",1924],")",";",["T_WHITESPACE","\n\n        ",1924],["T_IF","if",1926],["T_WHITESPACE"," ",1926],"(","(",["T_VARIABLE","$origCountry",1926],["T_WHITESPACE"," ",1926],["T_IS_EQUAL","==",1926],["T_WHITESPACE"," ",1926],["T_VARIABLE","$destCountry",1926],["T_WHITESPACE"," ",1926],["T_BOOLEAN_AND","&&",1926],["T_WHITESPACE"," ",1926],["T_VARIABLE","$isDomestic",1926],")",["T_WHITESPACE","\n            ",1926],["T_BOOLEAN_OR","||",1927],["T_WHITESPACE"," ",1927],"(",["T_VARIABLE","$this",1927],["T_OBJECT_OPERATOR","->",1927],["T_STRING","_carrierHelper",1927],["T_OBJECT_OPERATOR","->",1927],["T_STRING","isCountryInEU",1927],"(",["T_VARIABLE","$origCountryCode",1927],")",["T_WHITESPACE","\n                ",1927],["T_BOOLEAN_AND","&&",1928],["T_WHITESPACE"," ",1928],["T_VARIABLE","$this",1928],["T_OBJECT_OPERATOR","->",1928],["T_STRING","_carrierHelper",1928],["T_OBJECT_OPERATOR","->",1928],["T_STRING","isCountryInEU",1928],"(",["T_VARIABLE","$destCountryCode",1928],")",["T_WHITESPACE","\n            ",1928],")",["T_WHITESPACE","\n        ",1929],")",["T_WHITESPACE"," ",1930],"{",["T_WHITESPACE","\n            ",1930],["T_VARIABLE","$this",1931],["T_OBJECT_OPERATOR","->",1931],["T_STRING","_isDomestic",1931],["T_WHITESPACE"," ",1931],"=",["T_WHITESPACE"," ",1931],["T_STRING","true",1931],";",["T_WHITESPACE","\n        ",1931],"}",["T_WHITESPACE","\n\n        ",1932],["T_RETURN","return",1934],["T_WHITESPACE"," ",1934],["T_VARIABLE","$this",1934],["T_OBJECT_OPERATOR","->",1934],["T_STRING","_isDomestic",1934],";",["T_WHITESPACE","\n    ",1934],"}",["T_WHITESPACE","\n\n    ",1935],["T_DOC_COMMENT","\/**\n     * Prepare shipping label data\n     *\n     * @param \\SimpleXMLElement $xml\n     * @return \\Magento\\Framework\\DataObject\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",1937],["T_WHITESPACE","\n    ",1943],["T_PROTECTED","protected",1944],["T_WHITESPACE"," ",1944],["T_FUNCTION","function",1944],["T_WHITESPACE"," ",1944],["T_STRING","_prepareShippingLabelContent",1944],"(",["T_NS_SEPARATOR","\\",1944],["T_STRING","SimpleXMLElement",1944],["T_WHITESPACE"," ",1944],["T_VARIABLE","$xml",1944],")",["T_WHITESPACE","\n    ",1944],"{",["T_WHITESPACE","\n        ",1945],["T_VARIABLE","$result",1946],["T_WHITESPACE"," ",1946],"=",["T_WHITESPACE"," ",1946],["T_NEW","new",1946],["T_WHITESPACE"," ",1946],["T_NS_SEPARATOR","\\",1946],["T_STRING","Magento",1946],["T_NS_SEPARATOR","\\",1946],["T_STRING","Framework",1946],["T_NS_SEPARATOR","\\",1946],["T_STRING","DataObject",1946],"(",")",";",["T_WHITESPACE","\n        ",1946],["T_TRY","try",1947],["T_WHITESPACE"," ",1947],"{",["T_WHITESPACE","\n            ",1947],["T_IF","if",1948],["T_WHITESPACE"," ",1948],"(","!",["T_ISSET","isset",1948],"(",["T_VARIABLE","$xml",1948],["T_OBJECT_OPERATOR","->",1948],["T_STRING","AirwayBillNumber",1948],")",["T_WHITESPACE"," ",1948],["T_BOOLEAN_OR","||",1948],["T_WHITESPACE"," ",1948],"!",["T_ISSET","isset",1948],"(",["T_VARIABLE","$xml",1948],["T_OBJECT_OPERATOR","->",1948],["T_STRING","LabelImage",1948],["T_OBJECT_OPERATOR","->",1948],["T_STRING","OutputImage",1948],")",")",["T_WHITESPACE"," ",1948],"{",["T_WHITESPACE","\n                ",1948],["T_THROW","throw",1949],["T_WHITESPACE"," ",1949],["T_NEW","new",1949],["T_WHITESPACE"," ",1949],["T_NS_SEPARATOR","\\",1949],["T_STRING","Magento",1949],["T_NS_SEPARATOR","\\",1949],["T_STRING","Framework",1949],["T_NS_SEPARATOR","\\",1949],["T_STRING","Exception",1949],["T_NS_SEPARATOR","\\",1949],["T_STRING","LocalizedException",1949],"(",["T_STRING","__",1949],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to retrieve shipping label'",1949],")",")",";",["T_WHITESPACE","\n            ",1949],"}",["T_WHITESPACE","\n            ",1950],["T_VARIABLE","$result",1951],["T_OBJECT_OPERATOR","->",1951],["T_STRING","setTrackingNumber",1951],"(",["T_STRING_CAST","(string)",1951],["T_VARIABLE","$xml",1951],["T_OBJECT_OPERATOR","->",1951],["T_STRING","AirwayBillNumber",1951],")",";",["T_WHITESPACE","\n            ",1951],["T_VARIABLE","$labelContent",1952],["T_WHITESPACE"," ",1952],"=",["T_WHITESPACE"," ",1952],["T_STRING_CAST","(string)",1952],["T_VARIABLE","$xml",1952],["T_OBJECT_OPERATOR","->",1952],["T_STRING","LabelImage",1952],["T_OBJECT_OPERATOR","->",1952],["T_STRING","OutputImage",1952],";",["T_WHITESPACE","\n            ",1952],["T_VARIABLE","$result",1953],["T_OBJECT_OPERATOR","->",1953],["T_STRING","setShippingLabelContent",1953],"(",["T_STRING","base64_decode",1953],"(",["T_VARIABLE","$labelContent",1953],")",")",";",["T_WHITESPACE","\n        ",1953],"}",["T_WHITESPACE"," ",1954],["T_CATCH","catch",1954],["T_WHITESPACE"," ",1954],"(",["T_NS_SEPARATOR","\\",1954],["T_STRING","Exception",1954],["T_WHITESPACE"," ",1954],["T_VARIABLE","$e",1954],")",["T_WHITESPACE"," ",1954],"{",["T_WHITESPACE","\n            ",1954],["T_THROW","throw",1955],["T_WHITESPACE"," ",1955],["T_NEW","new",1955],["T_WHITESPACE"," ",1955],["T_NS_SEPARATOR","\\",1955],["T_STRING","Magento",1955],["T_NS_SEPARATOR","\\",1955],["T_STRING","Framework",1955],["T_NS_SEPARATOR","\\",1955],["T_STRING","Exception",1955],["T_NS_SEPARATOR","\\",1955],["T_STRING","LocalizedException",1955],"(",["T_STRING","__",1955],"(",["T_VARIABLE","$e",1955],["T_OBJECT_OPERATOR","->",1955],["T_STRING","getMessage",1955],"(",")",")",")",";",["T_WHITESPACE","\n        ",1955],"}",["T_WHITESPACE","\n\n        ",1956],["T_RETURN","return",1958],["T_WHITESPACE"," ",1958],["T_VARIABLE","$result",1958],";",["T_WHITESPACE","\n    ",1958],"}",["T_WHITESPACE","\n\n    ",1959],["T_DOC_COMMENT","\/**\n     * @param string $origCountryId\n     * @param string $destCountryId\n     *\n     * @return bool\n     *\/",1961],["T_WHITESPACE","\n    ",1966],["T_PROTECTED","protected",1967],["T_WHITESPACE"," ",1967],["T_FUNCTION","function",1967],["T_WHITESPACE"," ",1967],["T_STRING","isDutiable",1967],"(",["T_VARIABLE","$origCountryId",1967],",",["T_WHITESPACE"," ",1967],["T_VARIABLE","$destCountryId",1967],")",["T_WHITESPACE","\n    ",1967],"{",["T_WHITESPACE","\n        ",1968],["T_VARIABLE","$this",1969],["T_OBJECT_OPERATOR","->",1969],["T_STRING","_checkDomesticStatus",1969],"(",["T_VARIABLE","$origCountryId",1969],",",["T_WHITESPACE"," ",1969],["T_VARIABLE","$destCountryId",1969],")",";",["T_WHITESPACE","\n\n        ",1969],["T_RETURN","return",1971],["T_WHITESPACE","\n            ",1971],["T_STRING","self",1972],["T_DOUBLE_COLON","::",1972],["T_STRING","DHL_CONTENT_TYPE_NON_DOC",1972],["T_WHITESPACE"," ",1972],["T_IS_EQUAL","==",1972],["T_WHITESPACE"," ",1972],["T_VARIABLE","$this",1972],["T_OBJECT_OPERATOR","->",1972],["T_STRING","getConfigData",1972],"(",["T_CONSTANT_ENCAPSED_STRING","'content_type'",1972],")",["T_WHITESPACE","\n            ",1972],["T_BOOLEAN_AND","&&",1973],["T_WHITESPACE"," ",1973],"!",["T_VARIABLE","$this",1973],["T_OBJECT_OPERATOR","->",1973],["T_STRING","_isDomestic",1973],";",["T_WHITESPACE","\n    ",1973],"}",["T_WHITESPACE","\n",1974],"}",["T_WHITESPACE","\n",1975]]