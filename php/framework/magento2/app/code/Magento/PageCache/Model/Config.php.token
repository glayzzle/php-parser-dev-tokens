[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PageCache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Filesystem",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Module",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Dir",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Serialize",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Serializer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Json",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Model is responsible for replacing default vcl template\n * file configuration with user-defined from configuration\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",13],["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Class Config\n *\n *\/",20],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","Config",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * Cache types\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","BUILT_IN",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_LNUMBER","1",29],";",["T_WHITESPACE","\n\n    ",29],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","VARNISH",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_LNUMBER","2",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * XML path to Varnish settings\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","XML_PAGECACHE_TTL",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'system\/full_page_cache\/ttl'",36],";",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","XML_PAGECACHE_TYPE",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'system\/full_page_cache\/caching_application'",38],";",["T_WHITESPACE","\n\n    ",38],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","XML_VARNISH_PAGECACHE_ACCESS_LIST",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'system\/full_page_cache\/varnish\/access_list'",40],";",["T_WHITESPACE","\n\n    ",40],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","XML_VARNISH_PAGECACHE_BACKEND_PORT",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'system\/full_page_cache\/varnish\/backend_port'",42],";",["T_WHITESPACE","\n\n    ",42],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","XML_VARNISH_PAGECACHE_BACKEND_HOST",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'system\/full_page_cache\/varnish\/backend_host'",44],";",["T_WHITESPACE","\n\n    ",44],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","XML_VARNISH_PAGECACHE_GRACE_PERIOD",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'system\/full_page_cache\/varnish\/grace_period'",46],";",["T_WHITESPACE","\n\n    ",46],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","XML_VARNISH_PAGECACHE_DESIGN_THEME_REGEX",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'design\/theme\/ua_regexp'",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_scopeConfig",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * XML path to Varnish 5 config template path\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","VARNISH_5_CONFIGURATION_PATH",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'system\/full_page_cache\/varnish5\/path'",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * XML path to Varnish 4 config template path\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","VARNISH_4_CONFIGURATION_PATH",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'system\/full_page_cache\/varnish4\/path'",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Cache\\StateInterface $_cacheState\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_cacheState",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @var Filesystem\\Directory\\ReadFactory\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$readFactory",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Module\\Dir\\Reader\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$reader",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @var Json\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PRIVATE","private",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$serializer",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @param Filesystem\\Directory\\ReadFactory $readFactory\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Framework\\App\\Cache\\StateInterface $cacheState\n     * @param Dir\\Reader $reader\n     * @param Json|null $serializer\n     *\/",85],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","__construct",92],"(",["T_WHITESPACE","\n        ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Framework",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Filesystem",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Directory",93],["T_NS_SEPARATOR","\\",93],["T_STRING","ReadFactory",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$readFactory",93],",",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","App",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Config",94],["T_NS_SEPARATOR","\\",94],["T_STRING","ScopeConfigInterface",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$scopeConfig",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Framework",95],["T_NS_SEPARATOR","\\",95],["T_STRING","App",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Cache",95],["T_NS_SEPARATOR","\\",95],["T_STRING","StateInterface",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$cacheState",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Framework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Module",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Dir",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Reader",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$reader",96],",",["T_WHITESPACE","\n        ",96],["T_STRING","Json",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$serializer",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","null",97],["T_WHITESPACE","\n    ",97],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","readFactory",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$readFactory",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_scopeConfig",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$scopeConfig",100],";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_cacheState",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$cacheState",101],";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","reader",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$reader",102],";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","serializer",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$serializer",103],["T_WHITESPACE"," ",103],"?",":",["T_WHITESPACE"," ",103],["T_STRING","ObjectManager",103],["T_DOUBLE_COLON","::",103],["T_STRING","getInstance",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","get",103],"(",["T_STRING","Json",103],["T_DOUBLE_COLON","::",103],["T_CLASS","class",103],")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Return currently selected cache type: built in or varnish\n     *\n     * @return int\n     * @api\n     *\/",106],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","getType",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_scopeConfig",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getValue",114],"(",["T_STRING","self",114],["T_DOUBLE_COLON","::",114],["T_STRING","XML_PAGECACHE_TYPE",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Return page lifetime\n     *\n     * @return int\n     * @api\n     *\/",117],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getTtl",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_scopeConfig",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getValue",125],"(",["T_STRING","self",125],["T_DOUBLE_COLON","::",125],["T_STRING","XML_PAGECACHE_TTL",125],")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Return generated varnish.vcl configuration file\n     *\n     * @param string $vclTemplatePath\n     * @return string\n     * @api\n     *\/",128],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getVclFile",135],"(",["T_VARIABLE","$vclTemplatePath",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$moduleEtcPath",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","reader",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getModuleDir",137],"(",["T_STRING","Dir",137],["T_DOUBLE_COLON","::",137],["T_STRING","MODULE_ETC_DIR",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'Magento_PageCache'",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$configFilePath",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$moduleEtcPath",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'\/'",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_scopeConfig",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getValue",138],"(",["T_VARIABLE","$vclTemplatePath",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$directoryRead",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","readFactory",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","create",139],"(",["T_VARIABLE","$moduleEtcPath",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$configFilePath",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$directoryRead",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getRelativePath",140],"(",["T_VARIABLE","$configFilePath",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$data",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$directoryRead",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","readFile",141],"(",["T_VARIABLE","$configFilePath",141],")",";",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","strtr",142],"(",["T_VARIABLE","$data",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_getReplacements",142],"(",")",")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Prepare data for VCL config\n     *\n     * @return array\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","_getReplacements",150],"(",")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],"[",["T_WHITESPACE","\n            ",152],["T_CONSTANT_ENCAPSED_STRING","'\/* {{ host }} *\/'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_scopeConfig",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getValue",153],"(",["T_STRING","self",153],["T_DOUBLE_COLON","::",153],["T_STRING","XML_VARNISH_PAGECACHE_BACKEND_HOST",153],")",",",["T_WHITESPACE","\n            ",153],["T_CONSTANT_ENCAPSED_STRING","'\/* {{ port }} *\/'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_scopeConfig",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getValue",154],"(",["T_STRING","self",154],["T_DOUBLE_COLON","::",154],["T_STRING","XML_VARNISH_PAGECACHE_BACKEND_PORT",154],")",",",["T_WHITESPACE","\n            ",154],["T_CONSTANT_ENCAPSED_STRING","'\/* {{ ips }} *\/'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_getAccessList",155],"(",")",",",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'\/* {{ design_exceptions_code }} *\/'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_getDesignExceptions",156],"(",")",",",["T_WHITESPACE","\n            ",156],["T_COMMENT","\/\/ http headers get transformed by php `X-Forwarded-Proto: https`\n",157],["T_WHITESPACE","            ",158],["T_COMMENT","\/\/ becomes $SERVER['HTTP_X_FORWARDED_PROTO'] = 'https'\n",158],["T_WHITESPACE","            ",159],["T_COMMENT","\/\/ Apache and Nginx drop all headers with underlines by default.\n",159],["T_WHITESPACE","            ",160],["T_CONSTANT_ENCAPSED_STRING","'\/* {{ ssl_offloaded_header }} *\/'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_STRING","str_replace",160],"(",["T_WHITESPACE","\n                ",160],["T_CONSTANT_ENCAPSED_STRING","'_'",161],",",["T_WHITESPACE","\n                ",161],["T_CONSTANT_ENCAPSED_STRING","'-'",162],",",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_scopeConfig",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getValue",163],"(",["T_NS_SEPARATOR","\\",163],["T_STRING","Magento",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Framework",163],["T_NS_SEPARATOR","\\",163],["T_STRING","HTTP",163],["T_NS_SEPARATOR","\\",163],["T_STRING","PhpEnvironment",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Request",163],["T_DOUBLE_COLON","::",163],["T_STRING","XML_PATH_OFFLOADER_HEADER",163],")",["T_WHITESPACE","\n            ",163],")",",",["T_WHITESPACE","\n            ",164],["T_CONSTANT_ENCAPSED_STRING","'\/* {{ grace_period }} *\/'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_scopeConfig",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getValue",165],"(",["T_STRING","self",165],["T_DOUBLE_COLON","::",165],["T_STRING","XML_VARNISH_PAGECACHE_GRACE_PERIOD",165],")",["T_WHITESPACE","\n        ",165],"]",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Get IPs access list that can purge Varnish configuration for config file generation\n     * and transform it to appropriate view\n     *\n     * acl purge{\n     *  \"127.0.0.1\";\n     *  \"127.0.0.2\";\n     *\n     * @return mixed|null|string\n     *\/",169],["T_WHITESPACE","\n    ",178],["T_PROTECTED","protected",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","_getAccessList",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$result",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","''",181],";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$tpl",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","\"    \\\"%s\\\";\"",182],";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$accessList",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_scopeConfig",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getValue",183],"(",["T_STRING","self",183],["T_DOUBLE_COLON","::",183],["T_STRING","XML_VARNISH_PAGECACHE_ACCESS_LIST",183],")",";",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","!",["T_EMPTY","empty",184],"(",["T_VARIABLE","$accessList",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$result",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],"[","]",";",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$ips",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","explode",186],"(",["T_CONSTANT_ENCAPSED_STRING","','",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$accessList",186],")",";",["T_WHITESPACE","\n            ",186],["T_FOREACH","foreach",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$ips",187],["T_WHITESPACE"," ",187],["T_AS","as",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$ip",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$result",188],"[","]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","sprintf",188],"(",["T_VARIABLE","$tpl",188],",",["T_WHITESPACE"," ",188],["T_STRING","trim",188],"(",["T_VARIABLE","$ip",188],")",")",";",["T_WHITESPACE","\n            ",188],"}",["T_WHITESPACE","\n            ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_STRING","implode",190],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$result",190],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$result",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Get regexs for design exceptions\n     * Different browser user-agents may use different themes\n     * Varnish supports regex with internal modifiers only so\n     * we have to convert \"\/pattern\/iU\" into \"(?Ui)pattern\"\n     *\n     * @return string\n     *\/",195],["T_WHITESPACE","\n    ",202],["T_PROTECTED","protected",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","_getDesignExceptions",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$result",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","''",205],";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$tpl",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"%s (req.http.user-agent ~ \\\"%s\\\") {\\n\"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"        hash_data(\\\"%s\\\");\\n\"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"    }\"",206],";",["T_WHITESPACE","\n\n        ",206],["T_VARIABLE","$expressions",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_scopeConfig",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getValue",208],"(",["T_WHITESPACE","\n            ",208],["T_STRING","self",209],["T_DOUBLE_COLON","::",209],["T_STRING","XML_VARNISH_PAGECACHE_DESIGN_THEME_REGEX",209],",",["T_WHITESPACE","\n            ",209],["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Store",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Model",210],["T_NS_SEPARATOR","\\",210],["T_STRING","ScopeInterface",210],["T_DOUBLE_COLON","::",210],["T_STRING","SCOPE_STORE",210],["T_WHITESPACE","\n        ",210],")",";",["T_WHITESPACE","\n        ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$expressions",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$rules",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","array_values",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","serializer",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","unserialize",213],"(",["T_VARIABLE","$expressions",213],")",")",";",["T_WHITESPACE","\n            ",213],["T_FOREACH","foreach",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$rules",214],["T_WHITESPACE"," ",214],["T_AS","as",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$i",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$rule",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_STRING","preg_match",215],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[\\W]{1}(.*)[\\W]{1}(\\w+)?$\/'",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$rule",215],"[",["T_CONSTANT_ENCAPSED_STRING","'regexp'",215],"]",",",["T_WHITESPACE"," ",215],["T_VARIABLE","$matches",215],")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                    ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(","!",["T_EMPTY","empty",216],"(",["T_VARIABLE","$matches",216],"[",["T_LNUMBER","2",216],"]",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                        ",216],["T_VARIABLE","$pattern",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","sprintf",217],"(",["T_CONSTANT_ENCAPSED_STRING","\"(?%s)%s\"",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$matches",217],"[",["T_LNUMBER","2",217],"]",",",["T_WHITESPACE"," ",217],["T_VARIABLE","$matches",217],"[",["T_LNUMBER","1",217],"]",")",";",["T_WHITESPACE","\n                    ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                        ",218],["T_VARIABLE","$pattern",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$matches",219],"[",["T_LNUMBER","1",219],"]",";",["T_WHITESPACE","\n                    ",219],"}",["T_WHITESPACE","\n                    ",220],["T_VARIABLE","$if",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$i",221],["T_WHITESPACE"," ",221],["T_IS_EQUAL","==",221],["T_WHITESPACE"," ",221],["T_LNUMBER","0",221],["T_WHITESPACE"," ",221],"?",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'if'",221],["T_WHITESPACE"," ",221],":",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","' elsif'",221],";",["T_WHITESPACE","\n                    ",221],["T_VARIABLE","$result",222],["T_WHITESPACE"," ",222],["T_CONCAT_EQUAL",".=",222],["T_WHITESPACE"," ",222],["T_STRING","sprintf",222],"(",["T_VARIABLE","$tpl",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$if",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$pattern",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$rule",222],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",222],"]",")",";",["T_WHITESPACE","\n                ",222],"}",["T_WHITESPACE","\n            ",223],"}",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n        ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$result",226],";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Whether a cache type is enabled in Cache Management Grid\n     *\n     * @return bool\n     * @api\n     *\/",229],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","isEnabled",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_cacheState",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","isEnabled",237],"(",["T_NS_SEPARATOR","\\",237],["T_STRING","Magento",237],["T_NS_SEPARATOR","\\",237],["T_STRING","PageCache",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Model",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Cache",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Type",237],["T_DOUBLE_COLON","::",237],["T_STRING","TYPE_IDENTIFIER",237],")",";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n",238],"}",["T_WHITESPACE","\n",239]]