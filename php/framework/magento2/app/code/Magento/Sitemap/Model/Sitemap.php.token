[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sitemap",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Filesystem",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DirectoryList",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Sitemap model\n *\n * @method \\Magento\\Sitemap\\Model\\ResourceModel\\Sitemap _getResource()\n * @method \\Magento\\Sitemap\\Model\\ResourceModel\\Sitemap getResource()\n * @method string getSitemapType()\n * @method \\Magento\\Sitemap\\Model\\Sitemap setSitemapType(string $value)\n * @method string getSitemapFilename()\n * @method \\Magento\\Sitemap\\Model\\Sitemap setSitemapFilename(string $value)\n * @method string getSitemapPath()\n * @method \\Magento\\Sitemap\\Model\\Sitemap setSitemapPath(string $value)\n * @method string getSitemapTime()\n * @method \\Magento\\Sitemap\\Model\\Sitemap setSitemapTime(string $value)\n * @method int getStoreId()\n * @method \\Magento\\Sitemap\\Model\\Sitemap setStoreId(int $value)\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","Sitemap",31],["T_WHITESPACE"," ",31],["T_EXTENDS","extends",31],["T_WHITESPACE"," ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Framework",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Model",31],["T_NS_SEPARATOR","\\",31],["T_STRING","AbstractModel",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","OPEN_TAG_KEY",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'start'",33],";",["T_WHITESPACE","\n\n    ",33],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","CLOSE_TAG_KEY",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'end'",35],";",["T_WHITESPACE","\n\n    ",35],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","INDEX_FILE_PREFIX",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'sitemap'",37],";",["T_WHITESPACE","\n\n    ",37],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","TYPE_INDEX",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'sitemap'",39],";",["T_WHITESPACE","\n\n    ",39],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","TYPE_URL",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'url'",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Real file path\n     *\n     * @var string\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_filePath",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Sitemap items\n     *\n     * @var array\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_sitemapItems",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[","]",";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Current sitemap increment\n     *\n     * @var int\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_sitemapIncrement",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Sitemap start and end tags\n     *\n     * @var array\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_tags",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[","]",";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Number of lines in sitemap\n     *\n     * @var int\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_lineCount",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_LNUMBER","0",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Current sitemap file size\n     *\n     * @var int\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_fileSize",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_LNUMBER","0",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * New line possible symbols\n     *\n     * @var array\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PRIVATE","private",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$_crlf",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[",["T_CONSTANT_ENCAPSED_STRING","\"win\"",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"unix\"",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"mac\"",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",90],"]",";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\Write\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$_directory",95],";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\File\\Write\n     *\/",97],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$_stream",100],";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Sitemap data\n     *\n     * @var \\Magento\\Sitemap\\Helper\\Data\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$_sitemapData",107],";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Escaper\n     *\/",109],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$_escaper",112],";",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sitemap\\Model\\ResourceModel\\Catalog\\CategoryFactory\n     *\/",114],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$_categoryFactory",117],";",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sitemap\\Model\\ResourceModel\\Catalog\\ProductFactory\n     *\/",119],["T_WHITESPACE","\n    ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$_productFactory",122],";",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sitemap\\Model\\ResourceModel\\Cms\\PageFactory\n     *\/",124],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$_cmsFactory",127],";",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",129],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$_dateModel",132],";",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",134],["T_WHITESPACE","\n    ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$_storeManager",137],";",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\RequestInterface\n     *\/",139],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$_request",142],";",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",144],["T_WHITESPACE","\n    ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$dateTime",147],";",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Escaper $escaper\n     * @param \\Magento\\Sitemap\\Helper\\Data $sitemapData\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\Sitemap\\Model\\ResourceModel\\Catalog\\CategoryFactory $categoryFactory\n     * @param \\Magento\\Sitemap\\Model\\ResourceModel\\Catalog\\ProductFactory $productFactory\n     * @param \\Magento\\Sitemap\\Model\\ResourceModel\\Cms\\PageFactory $cmsFactory\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $modelDate\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\App\\RequestInterface $request\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",149],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","__construct",167],"(",["T_WHITESPACE","\n        ",167],["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Framework",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Model",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Context",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$context",168],",",["T_WHITESPACE","\n        ",168],["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Framework",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Registry",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$registry",169],",",["T_WHITESPACE","\n        ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Framework",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Escaper",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$escaper",170],",",["T_WHITESPACE","\n        ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Sitemap",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Helper",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Data",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$sitemapData",171],",",["T_WHITESPACE","\n        ",171],["T_NS_SEPARATOR","\\",172],["T_STRING","Magento",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Framework",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Filesystem",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$filesystem",172],",",["T_WHITESPACE","\n        ",172],["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Sitemap",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Model",173],["T_NS_SEPARATOR","\\",173],["T_STRING","ResourceModel",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Catalog",173],["T_NS_SEPARATOR","\\",173],["T_STRING","CategoryFactory",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$categoryFactory",173],",",["T_WHITESPACE","\n        ",173],["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Sitemap",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Model",174],["T_NS_SEPARATOR","\\",174],["T_STRING","ResourceModel",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Catalog",174],["T_NS_SEPARATOR","\\",174],["T_STRING","ProductFactory",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$productFactory",174],",",["T_WHITESPACE","\n        ",174],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Sitemap",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Model",175],["T_NS_SEPARATOR","\\",175],["T_STRING","ResourceModel",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Cms",175],["T_NS_SEPARATOR","\\",175],["T_STRING","PageFactory",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$cmsFactory",175],",",["T_WHITESPACE","\n        ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Framework",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Stdlib",176],["T_NS_SEPARATOR","\\",176],["T_STRING","DateTime",176],["T_NS_SEPARATOR","\\",176],["T_STRING","DateTime",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$modelDate",176],",",["T_WHITESPACE","\n        ",176],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Store",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Model",177],["T_NS_SEPARATOR","\\",177],["T_STRING","StoreManagerInterface",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$storeManager",177],",",["T_WHITESPACE","\n        ",177],["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Framework",178],["T_NS_SEPARATOR","\\",178],["T_STRING","App",178],["T_NS_SEPARATOR","\\",178],["T_STRING","RequestInterface",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$request",178],",",["T_WHITESPACE","\n        ",178],["T_NS_SEPARATOR","\\",179],["T_STRING","Magento",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Framework",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Stdlib",179],["T_NS_SEPARATOR","\\",179],["T_STRING","DateTime",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$dateTime",179],",",["T_WHITESPACE","\n        ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Framework",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Model",180],["T_NS_SEPARATOR","\\",180],["T_STRING","ResourceModel",180],["T_NS_SEPARATOR","\\",180],["T_STRING","AbstractResource",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$resource",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","null",180],",",["T_WHITESPACE","\n        ",180],["T_NS_SEPARATOR","\\",181],["T_STRING","Magento",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Framework",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Data",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Collection",181],["T_NS_SEPARATOR","\\",181],["T_STRING","AbstractDb",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$resourceCollection",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","null",181],",",["T_WHITESPACE","\n        ",181],["T_ARRAY","array",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$data",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],"[","]",["T_WHITESPACE","\n    ",182],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_escaper",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$escaper",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_sitemapData",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$sitemapData",185],";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_directory",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$filesystem",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getDirectoryWrite",186],"(",["T_STRING","DirectoryList",186],["T_DOUBLE_COLON","::",186],["T_STRING","ROOT",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_categoryFactory",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$categoryFactory",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_productFactory",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$productFactory",188],";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_cmsFactory",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$cmsFactory",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_dateModel",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$modelDate",190],";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_storeManager",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$storeManager",191],";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_request",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$request",192],";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","dateTime",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$dateTime",193],";",["T_WHITESPACE","\n        ",193],["T_STRING","parent",194],["T_DOUBLE_COLON","::",194],["T_STRING","__construct",194],"(",["T_VARIABLE","$context",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$registry",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$resource",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$resourceCollection",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$data",194],")",";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Init model\n     *\n     * @return void\n     *\/",197],["T_WHITESPACE","\n    ",201],["T_PROTECTED","protected",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","_construct",202],"(",")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_init",204],"(",["T_NS_SEPARATOR","\\",204],["T_STRING","Magento",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Sitemap",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Model",204],["T_NS_SEPARATOR","\\",204],["T_STRING","ResourceModel",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Sitemap",204],["T_DOUBLE_COLON","::",204],["T_CLASS","class",204],")",";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_DOC_COMMENT","\/**\n     * Get file handler\n     *\n     * @return \\Magento\\Framework\\Filesystem\\File\\WriteInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",207],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","_getStream",213],"(",")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_stream",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_stream",216],";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE"," ",217],["T_ELSE","else",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_THROW","throw",218],["T_WHITESPACE"," ",218],["T_NEW","new",218],["T_WHITESPACE"," ",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Magento",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Framework",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Exception",218],["T_NS_SEPARATOR","\\",218],["T_STRING","LocalizedException",218],"(",["T_STRING","__",218],"(",["T_CONSTANT_ENCAPSED_STRING","'File handler unreachable'",218],")",")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Initialize sitemap items\n     *\n     * @return void\n     *\/",222],["T_WHITESPACE","\n    ",226],["T_PROTECTED","protected",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","_initSitemapItems",227],"(",")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_DOC_COMMENT","\/** @var $helper \\Magento\\Sitemap\\Helper\\Data *\/",229],["T_WHITESPACE","\n        ",229],["T_VARIABLE","$helper",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_sitemapData",230],";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$storeId",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getStoreId",231],"(",")",";",["T_WHITESPACE","\n\n        ",231],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_sitemapItems",233],"[","]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_NEW","new",233],["T_WHITESPACE"," ",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Magento",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Framework",233],["T_NS_SEPARATOR","\\",233],["T_STRING","DataObject",233],"(",["T_WHITESPACE","\n            ",233],"[",["T_WHITESPACE","\n                ",234],["T_CONSTANT_ENCAPSED_STRING","'changefreq'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$helper",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getCategoryChangefreq",235],"(",["T_VARIABLE","$storeId",235],")",",",["T_WHITESPACE","\n                ",235],["T_CONSTANT_ENCAPSED_STRING","'priority'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$helper",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getCategoryPriority",236],"(",["T_VARIABLE","$storeId",236],")",",",["T_WHITESPACE","\n                ",236],["T_CONSTANT_ENCAPSED_STRING","'collection'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_categoryFactory",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","create",237],"(",")",["T_OBJECT_OPERATOR","->",237],["T_STRING","getCollection",237],"(",["T_VARIABLE","$storeId",237],")",",",["T_WHITESPACE","\n            ",237],"]",["T_WHITESPACE","\n        ",238],")",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_sitemapItems",241],"[","]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Magento",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Framework",241],["T_NS_SEPARATOR","\\",241],["T_STRING","DataObject",241],"(",["T_WHITESPACE","\n            ",241],"[",["T_WHITESPACE","\n                ",242],["T_CONSTANT_ENCAPSED_STRING","'changefreq'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$helper",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getProductChangefreq",243],"(",["T_VARIABLE","$storeId",243],")",",",["T_WHITESPACE","\n                ",243],["T_CONSTANT_ENCAPSED_STRING","'priority'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$helper",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getProductPriority",244],"(",["T_VARIABLE","$storeId",244],")",",",["T_WHITESPACE","\n                ",244],["T_CONSTANT_ENCAPSED_STRING","'collection'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_productFactory",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","create",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","getCollection",245],"(",["T_VARIABLE","$storeId",245],")",",",["T_WHITESPACE","\n            ",245],"]",["T_WHITESPACE","\n        ",246],")",";",["T_WHITESPACE","\n\n        ",247],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_sitemapItems",249],"[","]",["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_NEW","new",249],["T_WHITESPACE"," ",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Magento",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Framework",249],["T_NS_SEPARATOR","\\",249],["T_STRING","DataObject",249],"(",["T_WHITESPACE","\n            ",249],"[",["T_WHITESPACE","\n                ",250],["T_CONSTANT_ENCAPSED_STRING","'changefreq'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$helper",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getPageChangefreq",251],"(",["T_VARIABLE","$storeId",251],")",",",["T_WHITESPACE","\n                ",251],["T_CONSTANT_ENCAPSED_STRING","'priority'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$helper",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getPagePriority",252],"(",["T_VARIABLE","$storeId",252],")",",",["T_WHITESPACE","\n                ",252],["T_CONSTANT_ENCAPSED_STRING","'collection'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_cmsFactory",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","create",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","getCollection",253],"(",["T_VARIABLE","$storeId",253],")",",",["T_WHITESPACE","\n            ",253],"]",["T_WHITESPACE","\n        ",254],")",";",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_tags",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],"[",["T_WHITESPACE","\n            ",257],["T_STRING","self",258],["T_DOUBLE_COLON","::",258],["T_STRING","TYPE_INDEX",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],"[",["T_WHITESPACE","\n                ",258],["T_STRING","self",259],["T_DOUBLE_COLON","::",259],["T_STRING","OPEN_TAG_KEY",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\" encoding=\"UTF-8\"?>'",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE","\n                ",259],["T_STRING","PHP_EOL",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE","\n                ",260],["T_CONSTANT_ENCAPSED_STRING","'<sitemapindex xmlns=\"http:\/\/www.sitemaps.org\/schemas\/sitemap\/0.9\">'",261],["T_WHITESPACE"," ",261],".",["T_WHITESPACE","\n                ",261],["T_STRING","PHP_EOL",262],",",["T_WHITESPACE","\n                ",262],["T_STRING","self",263],["T_DOUBLE_COLON","::",263],["T_STRING","CLOSE_TAG_KEY",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'<\/sitemapindex>'",263],",",["T_WHITESPACE","\n            ",263],"]",",",["T_WHITESPACE","\n            ",264],["T_STRING","self",265],["T_DOUBLE_COLON","::",265],["T_STRING","TYPE_URL",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],"[",["T_WHITESPACE","\n                ",265],["T_STRING","self",266],["T_DOUBLE_COLON","::",266],["T_STRING","OPEN_TAG_KEY",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\" encoding=\"UTF-8\"?>'",266],["T_WHITESPACE"," ",266],".",["T_WHITESPACE","\n                ",266],["T_STRING","PHP_EOL",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE","\n                ",267],["T_CONSTANT_ENCAPSED_STRING","'<urlset xmlns=\"http:\/\/www.sitemaps.org\/schemas\/sitemap\/0.9\"'",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE","\n                ",268],["T_CONSTANT_ENCAPSED_STRING","' xmlns:content=\"http:\/\/www.google.com\/schemas\/sitemap-content\/1.0\"'",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE","\n                ",269],["T_CONSTANT_ENCAPSED_STRING","' xmlns:image=\"http:\/\/www.google.com\/schemas\/sitemap-image\/1.1\">'",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE","\n                ",270],["T_STRING","PHP_EOL",271],",",["T_WHITESPACE","\n                ",271],["T_STRING","self",272],["T_DOUBLE_COLON","::",272],["T_STRING","CLOSE_TAG_KEY",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'<\/urlset>'",272],",",["T_WHITESPACE","\n            ",272],"]",",",["T_WHITESPACE","\n        ",273],"]",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_DOC_COMMENT","\/**\n     * Check sitemap file location and permissions\n     *\n     * @return \\Magento\\Framework\\Model\\AbstractModel\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",277],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","beforeSave",283],"(",")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$path",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getSitemapPath",285],"(",")",";",["T_WHITESPACE","\n\n        ",285],["T_DOC_COMMENT","\/**\n         * Check path is allow\n         *\/",287],["T_WHITESPACE","\n        ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$path",290],["T_WHITESPACE"," ",290],["T_BOOLEAN_AND","&&",290],["T_WHITESPACE"," ",290],["T_STRING","preg_match",290],"(",["T_CONSTANT_ENCAPSED_STRING","'#\\.\\.[\\\\\\\/]#'",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$path",290],")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_THROW","throw",291],["T_WHITESPACE"," ",291],["T_NEW","new",291],["T_WHITESPACE"," ",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Magento",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Framework",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Exception",291],["T_NS_SEPARATOR","\\",291],["T_STRING","LocalizedException",291],"(",["T_STRING","__",291],"(",["T_CONSTANT_ENCAPSED_STRING","'Please define a correct path.'",291],")",")",";",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n        ",292],["T_DOC_COMMENT","\/**\n         * Check exists and writable path\n         *\/",293],["T_WHITESPACE","\n        ",295],["T_IF","if",296],["T_WHITESPACE"," ",296],"(","!",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_directory",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","isExist",296],"(",["T_VARIABLE","$path",296],")",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_THROW","throw",297],["T_WHITESPACE"," ",297],["T_NEW","new",297],["T_WHITESPACE"," ",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Magento",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Framework",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Exception",297],["T_NS_SEPARATOR","\\",297],["T_STRING","LocalizedException",297],"(",["T_WHITESPACE","\n                ",297],["T_STRING","__",298],"(",["T_WHITESPACE","\n                    ",298],["T_CONSTANT_ENCAPSED_STRING","'Please create the specified folder \"%1\" before saving the sitemap.'",299],",",["T_WHITESPACE","\n                    ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_escaper",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","escapeHtml",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getSitemapPath",300],"(",")",")",["T_WHITESPACE","\n                ",300],")",["T_WHITESPACE","\n            ",301],")",";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE","\n\n        ",303],["T_IF","if",305],["T_WHITESPACE"," ",305],"(","!",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_directory",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","isWritable",305],"(",["T_VARIABLE","$path",305],")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_THROW","throw",306],["T_WHITESPACE"," ",306],["T_NEW","new",306],["T_WHITESPACE"," ",306],["T_NS_SEPARATOR","\\",306],["T_STRING","Magento",306],["T_NS_SEPARATOR","\\",306],["T_STRING","Framework",306],["T_NS_SEPARATOR","\\",306],["T_STRING","Exception",306],["T_NS_SEPARATOR","\\",306],["T_STRING","LocalizedException",306],"(",["T_WHITESPACE","\n                ",306],["T_STRING","__",307],"(",["T_CONSTANT_ENCAPSED_STRING","'Please make sure that \"%1\" is writable by the web-server.'",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getSitemapPath",307],"(",")",")",["T_WHITESPACE","\n            ",307],")",";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n        ",309],["T_DOC_COMMENT","\/**\n         * Check allow filename\n         *\/",310],["T_WHITESPACE","\n        ",312],["T_IF","if",313],["T_WHITESPACE"," ",313],"(","!",["T_STRING","preg_match",313],"(",["T_CONSTANT_ENCAPSED_STRING","'#^[a-zA-Z0-9_\\.]+$#'",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getSitemapFilename",313],"(",")",")",")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_THROW","throw",314],["T_WHITESPACE"," ",314],["T_NEW","new",314],["T_WHITESPACE"," ",314],["T_NS_SEPARATOR","\\",314],["T_STRING","Magento",314],["T_NS_SEPARATOR","\\",314],["T_STRING","Framework",314],["T_NS_SEPARATOR","\\",314],["T_STRING","Exception",314],["T_NS_SEPARATOR","\\",314],["T_STRING","LocalizedException",314],"(",["T_WHITESPACE","\n                ",314],["T_STRING","__",315],"(",["T_WHITESPACE","\n                    ",315],["T_CONSTANT_ENCAPSED_STRING","'Please use only letters (a-z or A-Z), numbers (0-9) or underscores (_) in the filename. No spaces or other characters are allowed.'",316],["T_WHITESPACE","\n                ",316],")",["T_WHITESPACE","\n            ",317],")",";",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n        ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(","!",["T_STRING","preg_match",320],"(",["T_CONSTANT_ENCAPSED_STRING","'#\\.xml$#'",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getSitemapFilename",320],"(",")",")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","setSitemapFilename",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getSitemapFilename",321],"(",")",["T_WHITESPACE"," ",321],".",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'.xml'",321],")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n\n        ",322],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","setSitemapPath",324],"(",["T_STRING","rtrim",324],"(",["T_STRING","str_replace",324],"(",["T_STRING","str_replace",324],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",324],",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'\/'",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_getBaseDir",324],"(",")",")",",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","''",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$path",324],")",",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'\/'",324],")",["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'\/'",324],")",";",["T_WHITESPACE","\n\n        ",324],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_STRING","parent",326],["T_DOUBLE_COLON","::",326],["T_STRING","beforeSave",326],"(",")",";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * Generate XML file\n     *\n     * @see http:\/\/www.sitemaps.org\/protocol.html\n     *\n     * @return $this\n     *\/",329],["T_WHITESPACE","\n    ",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","generateXml",336],"(",")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_initSitemapItems",338],"(",")",";",["T_WHITESPACE","\n        ",338],["T_DOC_COMMENT","\/** @var $sitemapItem \\Magento\\Framework\\DataObject *\/",339],["T_WHITESPACE","\n        ",339],["T_FOREACH","foreach",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_sitemapItems",340],["T_WHITESPACE"," ",340],["T_AS","as",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$sitemapItem",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_VARIABLE","$changefreq",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$sitemapItem",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getChangefreq",341],"(",")",";",["T_WHITESPACE","\n            ",341],["T_VARIABLE","$priority",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$sitemapItem",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getPriority",342],"(",")",";",["T_WHITESPACE","\n            ",342],["T_FOREACH","foreach",343],["T_WHITESPACE"," ",343],"(",["T_VARIABLE","$sitemapItem",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getCollection",343],"(",")",["T_WHITESPACE"," ",343],["T_AS","as",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$item",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$xml",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_getSitemapRow",344],"(",["T_WHITESPACE","\n                    ",344],["T_VARIABLE","$item",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getUrl",345],"(",")",",",["T_WHITESPACE","\n                    ",345],["T_VARIABLE","$item",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getUpdatedAt",346],"(",")",",",["T_WHITESPACE","\n                    ",346],["T_VARIABLE","$changefreq",347],",",["T_WHITESPACE","\n                    ",347],["T_VARIABLE","$priority",348],",",["T_WHITESPACE","\n                    ",348],["T_VARIABLE","$item",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getImages",349],"(",")",["T_WHITESPACE","\n                ",349],")",";",["T_WHITESPACE","\n                ",350],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_isSplitRequired",351],"(",["T_VARIABLE","$xml",351],")",["T_WHITESPACE"," ",351],["T_BOOLEAN_AND","&&",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_sitemapIncrement",351],["T_WHITESPACE"," ",351],">",["T_WHITESPACE"," ",351],["T_LNUMBER","0",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n                    ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_finalizeSitemap",352],"(",")",";",["T_WHITESPACE","\n                ",352],"}",["T_WHITESPACE","\n                ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(","!",["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_fileSize",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n                    ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_createSitemap",355],"(",")",";",["T_WHITESPACE","\n                ",355],"}",["T_WHITESPACE","\n                ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_writeSitemapRow",357],"(",["T_VARIABLE","$xml",357],")",";",["T_WHITESPACE","\n                ",357],["T_COMMENT","\/\/ Increase counters\n",358],["T_WHITESPACE","                ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_lineCount",359],["T_INC","++",359],";",["T_WHITESPACE","\n                ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_fileSize",360],["T_WHITESPACE"," ",360],["T_PLUS_EQUAL","+=",360],["T_WHITESPACE"," ",360],["T_STRING","strlen",360],"(",["T_VARIABLE","$xml",360],")",";",["T_WHITESPACE","\n            ",360],"}",["T_WHITESPACE","\n        ",361],"}",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_finalizeSitemap",363],"(",")",";",["T_WHITESPACE","\n\n        ",363],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","_sitemapIncrement",365],["T_WHITESPACE"," ",365],["T_IS_EQUAL","==",365],["T_WHITESPACE"," ",365],["T_LNUMBER","1",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_COMMENT","\/\/ In case when only one increment file was created use it as default sitemap\n",366],["T_WHITESPACE","            ",367],["T_VARIABLE","$path",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","rtrim",367],"(",["T_WHITESPACE","\n                ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getSitemapPath",368],"(",")",",",["T_WHITESPACE","\n                ",368],["T_CONSTANT_ENCAPSED_STRING","'\/'",369],["T_WHITESPACE","\n            ",369],")",["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'\/'",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_getCurrentSitemapFilename",370],"(",["T_WHITESPACE","\n                ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_sitemapIncrement",371],["T_WHITESPACE","\n            ",371],")",";",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$destination",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","rtrim",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","getSitemapPath",373],"(",")",",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'\/'",373],")",["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'\/'",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","getSitemapFilename",373],"(",")",";",["T_WHITESPACE","\n\n            ",373],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_directory",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","renameFile",375],"(",["T_VARIABLE","$path",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$destination",375],")",";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE"," ",376],["T_ELSE","else",376],["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_COMMENT","\/\/ Otherwise create index file with list of generated sitemaps\n",377],["T_WHITESPACE","            ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_createSitemapIndex",378],"(",")",";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n\n        ",379],["T_COMMENT","\/\/ Push sitemap to robots.txt\n",381],["T_WHITESPACE","        ",382],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_isEnabledSubmissionRobots",382],"(",")",")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_addSitemapToRobotsTxt",383],"(",["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getSitemapFilename",383],"(",")",")",";",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE","\n\n        ",384],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","setSitemapTime",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_dateModel",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","gmtDate",386],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",386],")",")",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","save",387],"(",")",";",["T_WHITESPACE","\n\n        ",387],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n\n    ",390],["T_DOC_COMMENT","\/**\n     * Generate sitemap index XML file\n     *\n     * @return void\n     *\/",392],["T_WHITESPACE","\n    ",396],["T_PROTECTED","protected",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","_createSitemapIndex",397],"(",")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_createSitemap",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getSitemapFilename",399],"(",")",",",["T_WHITESPACE"," ",399],["T_STRING","self",399],["T_DOUBLE_COLON","::",399],["T_STRING","TYPE_INDEX",399],")",";",["T_WHITESPACE","\n        ",399],["T_FOR","for",400],["T_WHITESPACE"," ",400],"(",["T_VARIABLE","$i",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_LNUMBER","1",400],";",["T_WHITESPACE"," ",400],["T_VARIABLE","$i",400],["T_WHITESPACE"," ",400],["T_IS_SMALLER_OR_EQUAL","<=",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_sitemapIncrement",400],";",["T_WHITESPACE"," ",400],["T_VARIABLE","$i",400],["T_INC","++",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_VARIABLE","$xml",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_getSitemapIndexRow",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_getCurrentSitemapFilename",401],"(",["T_VARIABLE","$i",401],")",",",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_getCurrentDateTime",401],"(",")",")",";",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_writeSitemapRow",402],"(",["T_VARIABLE","$xml",402],")",";",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","_finalizeSitemap",404],"(",["T_STRING","self",404],["T_DOUBLE_COLON","::",404],["T_STRING","TYPE_INDEX",404],")",";",["T_WHITESPACE","\n    ",404],"}",["T_WHITESPACE","\n\n    ",405],["T_DOC_COMMENT","\/**\n     * Get current date time\n     *\n     * @return string\n     *\/",407],["T_WHITESPACE","\n    ",411],["T_PROTECTED","protected",412],["T_WHITESPACE"," ",412],["T_FUNCTION","function",412],["T_WHITESPACE"," ",412],["T_STRING","_getCurrentDateTime",412],"(",")",["T_WHITESPACE","\n    ",412],"{",["T_WHITESPACE","\n        ",413],["T_RETURN","return",414],["T_WHITESPACE"," ",414],"(",["T_NEW","new",414],["T_WHITESPACE"," ",414],["T_NS_SEPARATOR","\\",414],["T_STRING","DateTime",414],"(",")",")",["T_OBJECT_OPERATOR","->",414],["T_STRING","format",414],"(",["T_NS_SEPARATOR","\\",414],["T_STRING","Magento",414],["T_NS_SEPARATOR","\\",414],["T_STRING","Framework",414],["T_NS_SEPARATOR","\\",414],["T_STRING","Stdlib",414],["T_NS_SEPARATOR","\\",414],["T_STRING","DateTime",414],["T_DOUBLE_COLON","::",414],["T_STRING","DATETIME_PHP_FORMAT",414],")",";",["T_WHITESPACE","\n    ",414],"}",["T_WHITESPACE","\n\n    ",415],["T_DOC_COMMENT","\/**\n     * Check is split required\n     *\n     * @param string $row\n     * @return bool\n     *\/",417],["T_WHITESPACE","\n    ",422],["T_PROTECTED","protected",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","_isSplitRequired",423],"(",["T_VARIABLE","$row",423],")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_DOC_COMMENT","\/** @var $helper \\Magento\\Sitemap\\Helper\\Data *\/",425],["T_WHITESPACE","\n        ",425],["T_VARIABLE","$helper",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_sitemapData",426],";",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$storeId",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getStoreId",427],"(",")",";",["T_WHITESPACE","\n        ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_lineCount",428],["T_WHITESPACE"," ",428],"+",["T_WHITESPACE"," ",428],["T_LNUMBER","1",428],["T_WHITESPACE"," ",428],">",["T_WHITESPACE"," ",428],["T_VARIABLE","$helper",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getMaximumLinesNumber",428],"(",["T_VARIABLE","$storeId",428],")",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_RETURN","return",429],["T_WHITESPACE"," ",429],["T_STRING","true",429],";",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE","\n\n        ",430],["T_IF","if",432],["T_WHITESPACE"," ",432],"(",["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_fileSize",432],["T_WHITESPACE"," ",432],"+",["T_WHITESPACE"," ",432],["T_STRING","strlen",432],"(",["T_VARIABLE","$row",432],")",["T_WHITESPACE"," ",432],">",["T_WHITESPACE"," ",432],["T_VARIABLE","$helper",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","getMaximumFileSize",432],"(",["T_VARIABLE","$storeId",432],")",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_STRING","true",433],";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE","\n\n        ",434],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_STRING","false",436],";",["T_WHITESPACE","\n    ",436],"}",["T_WHITESPACE","\n\n    ",437],["T_DOC_COMMENT","\/**\n     * Get sitemap row\n     *\n     * @param string $url\n     * @param null|string $lastmod\n     * @param null|string $changefreq\n     * @param null|string $priority\n     * @param null|array $images\n     * @return string\n     * Sitemap images\n     * @see http:\/\/support.google.com\/webmasters\/bin\/answer.py?hl=en&answer=178636\n     *\n     * Sitemap PageMap\n     * @see http:\/\/support.google.com\/customsearch\/bin\/answer.py?hl=en&answer=1628213\n     *\/",439],["T_WHITESPACE","\n    ",453],["T_PROTECTED","protected",454],["T_WHITESPACE"," ",454],["T_FUNCTION","function",454],["T_WHITESPACE"," ",454],["T_STRING","_getSitemapRow",454],"(",["T_VARIABLE","$url",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$lastmod",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","null",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$changefreq",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","null",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$priority",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","null",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$images",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","null",454],")",["T_WHITESPACE","\n    ",454],"{",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$url",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","_getUrl",456],"(",["T_VARIABLE","$url",456],")",";",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$row",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'<loc>'",457],["T_WHITESPACE"," ",457],".",["T_WHITESPACE"," ",457],["T_STRING","htmlspecialchars",457],"(",["T_VARIABLE","$url",457],")",["T_WHITESPACE"," ",457],".",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'<\/loc>'",457],";",["T_WHITESPACE","\n        ",457],["T_IF","if",458],["T_WHITESPACE"," ",458],"(",["T_VARIABLE","$lastmod",458],")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$row",459],["T_WHITESPACE"," ",459],["T_CONCAT_EQUAL",".=",459],["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'<lastmod>'",459],["T_WHITESPACE"," ",459],".",["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_getFormattedLastmodDate",459],"(",["T_VARIABLE","$lastmod",459],")",["T_WHITESPACE"," ",459],".",["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'<\/lastmod>'",459],";",["T_WHITESPACE","\n        ",459],"}",["T_WHITESPACE","\n        ",460],["T_IF","if",461],["T_WHITESPACE"," ",461],"(",["T_VARIABLE","$changefreq",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n            ",461],["T_VARIABLE","$row",462],["T_WHITESPACE"," ",462],["T_CONCAT_EQUAL",".=",462],["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'<changefreq>'",462],["T_WHITESPACE"," ",462],".",["T_WHITESPACE"," ",462],["T_VARIABLE","$changefreq",462],["T_WHITESPACE"," ",462],".",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'<\/changefreq>'",462],";",["T_WHITESPACE","\n        ",462],"}",["T_WHITESPACE","\n        ",463],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$priority",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$row",465],["T_WHITESPACE"," ",465],["T_CONCAT_EQUAL",".=",465],["T_WHITESPACE"," ",465],["T_STRING","sprintf",465],"(",["T_CONSTANT_ENCAPSED_STRING","'<priority>%.1f<\/priority>'",465],",",["T_WHITESPACE"," ",465],["T_VARIABLE","$priority",465],")",";",["T_WHITESPACE","\n        ",465],"}",["T_WHITESPACE","\n        ",466],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_VARIABLE","$images",467],")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n            ",467],["T_COMMENT","\/\/ Add Images to sitemap\n",468],["T_WHITESPACE","            ",469],["T_FOREACH","foreach",469],["T_WHITESPACE"," ",469],"(",["T_VARIABLE","$images",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getCollection",469],"(",")",["T_WHITESPACE"," ",469],["T_AS","as",469],["T_WHITESPACE"," ",469],["T_VARIABLE","$image",469],")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n                ",469],["T_VARIABLE","$row",470],["T_WHITESPACE"," ",470],["T_CONCAT_EQUAL",".=",470],["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","'<image:image>'",470],";",["T_WHITESPACE","\n                ",470],["T_VARIABLE","$row",471],["T_WHITESPACE"," ",471],["T_CONCAT_EQUAL",".=",471],["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'<image:loc>'",471],["T_WHITESPACE"," ",471],".",["T_WHITESPACE"," ",471],["T_STRING","htmlspecialchars",471],"(",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_getMediaUrl",471],"(",["T_VARIABLE","$image",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getUrl",471],"(",")",")",")",["T_WHITESPACE"," ",471],".",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'<\/image:loc>'",471],";",["T_WHITESPACE","\n                ",471],["T_VARIABLE","$row",472],["T_WHITESPACE"," ",472],["T_CONCAT_EQUAL",".=",472],["T_WHITESPACE"," ",472],["T_CONSTANT_ENCAPSED_STRING","'<image:title>'",472],["T_WHITESPACE"," ",472],".",["T_WHITESPACE"," ",472],["T_STRING","htmlspecialchars",472],"(",["T_VARIABLE","$images",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getTitle",472],"(",")",")",["T_WHITESPACE"," ",472],".",["T_WHITESPACE"," ",472],["T_CONSTANT_ENCAPSED_STRING","'<\/image:title>'",472],";",["T_WHITESPACE","\n                ",472],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$image",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getCaption",473],"(",")",")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n                    ",473],["T_VARIABLE","$row",474],["T_WHITESPACE"," ",474],["T_CONCAT_EQUAL",".=",474],["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'<image:caption>'",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_STRING","htmlspecialchars",474],"(",["T_VARIABLE","$image",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getCaption",474],"(",")",")",["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'<\/image:caption>'",474],";",["T_WHITESPACE","\n                ",474],"}",["T_WHITESPACE","\n                ",475],["T_VARIABLE","$row",476],["T_WHITESPACE"," ",476],["T_CONCAT_EQUAL",".=",476],["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'<\/image:image>'",476],";",["T_WHITESPACE","\n            ",476],"}",["T_WHITESPACE","\n            ",477],["T_COMMENT","\/\/ Add PageMap image for Google web search\n",478],["T_WHITESPACE","            ",479],["T_VARIABLE","$row",479],["T_WHITESPACE"," ",479],["T_CONCAT_EQUAL",".=",479],["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'<PageMap xmlns=\"http:\/\/www.google.com\/schemas\/sitemap-pagemap\/1.0\"><DataObject type=\"thumbnail\">'",479],";",["T_WHITESPACE","\n            ",479],["T_VARIABLE","$row",480],["T_WHITESPACE"," ",480],["T_CONCAT_EQUAL",".=",480],["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'<Attribute name=\"name\" value=\"'",480],["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_STRING","htmlspecialchars",480],"(",["T_VARIABLE","$images",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getTitle",480],"(",")",")",["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'\"\/>'",480],";",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$row",481],["T_WHITESPACE"," ",481],["T_CONCAT_EQUAL",".=",481],["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'<Attribute name=\"src\" value=\"'",481],["T_WHITESPACE"," ",481],".",["T_WHITESPACE"," ",481],["T_STRING","htmlspecialchars",481],"(",["T_WHITESPACE","\n                ",481],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_getMediaUrl",482],"(",["T_VARIABLE","$images",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getThumbnail",482],"(",")",")",["T_WHITESPACE","\n            ",482],")",["T_WHITESPACE"," ",483],".",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","'\"\/>'",483],";",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$row",484],["T_WHITESPACE"," ",484],["T_CONCAT_EQUAL",".=",484],["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'<\/DataObject><\/PageMap>'",484],";",["T_WHITESPACE","\n        ",484],"}",["T_WHITESPACE","\n\n        ",485],["T_RETURN","return",487],["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'<url>'",487],["T_WHITESPACE"," ",487],".",["T_WHITESPACE"," ",487],["T_VARIABLE","$row",487],["T_WHITESPACE"," ",487],".",["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'<\/url>'",487],";",["T_WHITESPACE","\n    ",487],"}",["T_WHITESPACE","\n\n    ",488],["T_DOC_COMMENT","\/**\n     * Get sitemap index row\n     *\n     * @param string $sitemapFilename\n     * @param null|string $lastmod\n     * @return string\n     *\/",490],["T_WHITESPACE","\n    ",496],["T_PROTECTED","protected",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","_getSitemapIndexRow",497],"(",["T_VARIABLE","$sitemapFilename",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$lastmod",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_STRING","null",497],")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$url",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getSitemapUrl",499],"(",["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getSitemapPath",499],"(",")",",",["T_WHITESPACE"," ",499],["T_VARIABLE","$sitemapFilename",499],")",";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$row",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'<loc>'",500],["T_WHITESPACE"," ",500],".",["T_WHITESPACE"," ",500],["T_STRING","htmlspecialchars",500],"(",["T_VARIABLE","$url",500],")",["T_WHITESPACE"," ",500],".",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'<\/loc>'",500],";",["T_WHITESPACE","\n        ",500],["T_IF","if",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$lastmod",501],")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n            ",501],["T_VARIABLE","$row",502],["T_WHITESPACE"," ",502],["T_CONCAT_EQUAL",".=",502],["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'<lastmod>'",502],["T_WHITESPACE"," ",502],".",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_getFormattedLastmodDate",502],"(",["T_VARIABLE","$lastmod",502],")",["T_WHITESPACE"," ",502],".",["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'<\/lastmod>'",502],";",["T_WHITESPACE","\n        ",502],"}",["T_WHITESPACE","\n\n        ",503],["T_RETURN","return",505],["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'<sitemap>'",505],["T_WHITESPACE"," ",505],".",["T_WHITESPACE"," ",505],["T_VARIABLE","$row",505],["T_WHITESPACE"," ",505],".",["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'<\/sitemap>'",505],";",["T_WHITESPACE","\n    ",505],"}",["T_WHITESPACE","\n\n    ",506],["T_DOC_COMMENT","\/**\n     * Create new sitemap file\n     *\n     * @param null|string $fileName\n     * @param string $type\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",508],["T_WHITESPACE","\n    ",515],["T_PROTECTED","protected",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","_createSitemap",516],"(",["T_VARIABLE","$fileName",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_STRING","null",516],",",["T_WHITESPACE"," ",516],["T_VARIABLE","$type",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_STRING","self",516],["T_DOUBLE_COLON","::",516],["T_STRING","TYPE_URL",516],")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_IF","if",518],["T_WHITESPACE"," ",518],"(","!",["T_VARIABLE","$fileName",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n            ",518],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","_sitemapIncrement",519],["T_INC","++",519],";",["T_WHITESPACE","\n            ",519],["T_VARIABLE","$fileName",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_getCurrentSitemapFilename",520],"(",["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_sitemapIncrement",520],")",";",["T_WHITESPACE","\n        ",520],"}",["T_WHITESPACE","\n\n        ",521],["T_VARIABLE","$path",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_STRING","rtrim",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getSitemapPath",523],"(",")",",",["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'\/'",523],")",["T_WHITESPACE"," ",523],".",["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'\/'",523],["T_WHITESPACE"," ",523],".",["T_WHITESPACE"," ",523],["T_VARIABLE","$fileName",523],";",["T_WHITESPACE","\n        ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_stream",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_directory",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","openFile",524],"(",["T_VARIABLE","$path",524],")",";",["T_WHITESPACE","\n\n        ",524],["T_VARIABLE","$fileHeader",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_STRING","sprintf",526],"(",["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","_tags",526],"[",["T_VARIABLE","$type",526],"]","[",["T_STRING","self",526],["T_DOUBLE_COLON","::",526],["T_STRING","OPEN_TAG_KEY",526],"]",",",["T_WHITESPACE"," ",526],["T_VARIABLE","$type",526],")",";",["T_WHITESPACE","\n        ",526],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","_stream",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","write",527],"(",["T_VARIABLE","$fileHeader",527],")",";",["T_WHITESPACE","\n        ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","_fileSize",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_STRING","strlen",528],"(",["T_VARIABLE","$fileHeader",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],["T_STRING","sprintf",528],"(",["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","_tags",528],"[",["T_VARIABLE","$type",528],"]","[",["T_STRING","self",528],["T_DOUBLE_COLON","::",528],["T_STRING","CLOSE_TAG_KEY",528],"]",",",["T_WHITESPACE"," ",528],["T_VARIABLE","$type",528],")",")",";",["T_WHITESPACE","\n    ",528],"}",["T_WHITESPACE","\n\n    ",529],["T_DOC_COMMENT","\/**\n     * Write sitemap row\n     *\n     * @param string $row\n     * @return void\n     *\/",531],["T_WHITESPACE","\n    ",536],["T_PROTECTED","protected",537],["T_WHITESPACE"," ",537],["T_FUNCTION","function",537],["T_WHITESPACE"," ",537],["T_STRING","_writeSitemapRow",537],"(",["T_VARIABLE","$row",537],")",["T_WHITESPACE","\n    ",537],"{",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","_getStream",539],"(",")",["T_OBJECT_OPERATOR","->",539],["T_STRING","write",539],"(",["T_VARIABLE","$row",539],["T_WHITESPACE"," ",539],".",["T_WHITESPACE"," ",539],["T_STRING","PHP_EOL",539],")",";",["T_WHITESPACE","\n    ",539],"}",["T_WHITESPACE","\n\n    ",540],["T_DOC_COMMENT","\/**\n     * Write closing tag and close stream\n     *\n     * @param string $type\n     * @return void\n     *\/",542],["T_WHITESPACE","\n    ",547],["T_PROTECTED","protected",548],["T_WHITESPACE"," ",548],["T_FUNCTION","function",548],["T_WHITESPACE"," ",548],["T_STRING","_finalizeSitemap",548],"(",["T_VARIABLE","$type",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_STRING","self",548],["T_DOUBLE_COLON","::",548],["T_STRING","TYPE_URL",548],")",["T_WHITESPACE","\n    ",548],"{",["T_WHITESPACE","\n        ",549],["T_IF","if",550],["T_WHITESPACE"," ",550],"(",["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","_stream",550],")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n            ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","_stream",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","write",551],"(",["T_STRING","sprintf",551],"(",["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","_tags",551],"[",["T_VARIABLE","$type",551],"]","[",["T_STRING","self",551],["T_DOUBLE_COLON","::",551],["T_STRING","CLOSE_TAG_KEY",551],"]",",",["T_WHITESPACE"," ",551],["T_VARIABLE","$type",551],")",")",";",["T_WHITESPACE","\n            ",551],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","_stream",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","close",552],"(",")",";",["T_WHITESPACE","\n        ",552],"}",["T_WHITESPACE","\n\n        ",553],["T_COMMENT","\/\/ Reset all counters\n",555],["T_WHITESPACE","        ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","_lineCount",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_LNUMBER","0",556],";",["T_WHITESPACE","\n        ",556],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","_fileSize",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_LNUMBER","0",557],";",["T_WHITESPACE","\n    ",557],"}",["T_WHITESPACE","\n\n    ",558],["T_DOC_COMMENT","\/**\n     * Get current sitemap filename\n     *\n     * @param int $index\n     * @return string\n     *\/",560],["T_WHITESPACE","\n    ",565],["T_PROTECTED","protected",566],["T_WHITESPACE"," ",566],["T_FUNCTION","function",566],["T_WHITESPACE"," ",566],["T_STRING","_getCurrentSitemapFilename",566],"(",["T_VARIABLE","$index",566],")",["T_WHITESPACE","\n    ",566],"{",["T_WHITESPACE","\n        ",567],["T_RETURN","return",568],["T_WHITESPACE"," ",568],["T_STRING","self",568],["T_DOUBLE_COLON","::",568],["T_STRING","INDEX_FILE_PREFIX",568],["T_WHITESPACE"," ",568],".",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'-'",568],["T_WHITESPACE"," ",568],".",["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","getStoreId",568],"(",")",["T_WHITESPACE"," ",568],".",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'-'",568],["T_WHITESPACE"," ",568],".",["T_WHITESPACE"," ",568],["T_VARIABLE","$index",568],["T_WHITESPACE"," ",568],".",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'.xml'",568],";",["T_WHITESPACE","\n    ",568],"}",["T_WHITESPACE","\n\n    ",569],["T_DOC_COMMENT","\/**\n     * Get base dir\n     *\n     * @return string\n     *\/",571],["T_WHITESPACE","\n    ",575],["T_PROTECTED","protected",576],["T_WHITESPACE"," ",576],["T_FUNCTION","function",576],["T_WHITESPACE"," ",576],["T_STRING","_getBaseDir",576],"(",")",["T_WHITESPACE","\n    ",576],"{",["T_WHITESPACE","\n        ",577],["T_RETURN","return",578],["T_WHITESPACE"," ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","_directory",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","getAbsolutePath",578],"(",")",";",["T_WHITESPACE","\n    ",578],"}",["T_WHITESPACE","\n\n    ",579],["T_DOC_COMMENT","\/**\n     * Get store base url\n     *\n     * @param string $type\n     * @return string\n     *\/",581],["T_WHITESPACE","\n    ",586],["T_PROTECTED","protected",587],["T_WHITESPACE"," ",587],["T_FUNCTION","function",587],["T_WHITESPACE"," ",587],["T_STRING","_getStoreBaseUrl",587],"(",["T_VARIABLE","$type",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_NS_SEPARATOR","\\",587],["T_STRING","Magento",587],["T_NS_SEPARATOR","\\",587],["T_STRING","Framework",587],["T_NS_SEPARATOR","\\",587],["T_STRING","UrlInterface",587],["T_DOUBLE_COLON","::",587],["T_STRING","URL_TYPE_LINK",587],")",["T_WHITESPACE","\n    ",587],"{",["T_WHITESPACE","\n        ",588],["T_VARIABLE","$store",589],["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_storeManager",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","getStore",589],"(",["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","getStoreId",589],"(",")",")",";",["T_WHITESPACE","\n        ",589],["T_VARIABLE","$isSecure",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_VARIABLE","$store",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","isUrlSecure",590],"(",")",";",["T_WHITESPACE","\n        ",590],["T_RETURN","return",591],["T_WHITESPACE"," ",591],["T_STRING","rtrim",591],"(",["T_VARIABLE","$store",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","getBaseUrl",591],"(",["T_VARIABLE","$type",591],",",["T_WHITESPACE"," ",591],["T_VARIABLE","$isSecure",591],")",",",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'\/'",591],")",["T_WHITESPACE"," ",591],".",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'\/'",591],";",["T_WHITESPACE","\n    ",591],"}",["T_WHITESPACE","\n\n    ",592],["T_DOC_COMMENT","\/**\n     * Get url\n     *\n     * @param string $url\n     * @param string $type\n     * @return string\n     *\/",594],["T_WHITESPACE","\n    ",600],["T_PROTECTED","protected",601],["T_WHITESPACE"," ",601],["T_FUNCTION","function",601],["T_WHITESPACE"," ",601],["T_STRING","_getUrl",601],"(",["T_VARIABLE","$url",601],",",["T_WHITESPACE"," ",601],["T_VARIABLE","$type",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_NS_SEPARATOR","\\",601],["T_STRING","Magento",601],["T_NS_SEPARATOR","\\",601],["T_STRING","Framework",601],["T_NS_SEPARATOR","\\",601],["T_STRING","UrlInterface",601],["T_DOUBLE_COLON","::",601],["T_STRING","URL_TYPE_LINK",601],")",["T_WHITESPACE","\n    ",601],"{",["T_WHITESPACE","\n        ",602],["T_RETURN","return",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","_getStoreBaseUrl",603],"(",["T_VARIABLE","$type",603],")",["T_WHITESPACE"," ",603],".",["T_WHITESPACE"," ",603],["T_STRING","ltrim",603],"(",["T_VARIABLE","$url",603],",",["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","'\/'",603],")",";",["T_WHITESPACE","\n    ",603],"}",["T_WHITESPACE","\n\n    ",604],["T_DOC_COMMENT","\/**\n     * Get media url\n     *\n     * @param string $url\n     * @return string\n     *\/",606],["T_WHITESPACE","\n    ",611],["T_PROTECTED","protected",612],["T_WHITESPACE"," ",612],["T_FUNCTION","function",612],["T_WHITESPACE"," ",612],["T_STRING","_getMediaUrl",612],"(",["T_VARIABLE","$url",612],")",["T_WHITESPACE","\n    ",612],"{",["T_WHITESPACE","\n        ",613],["T_RETURN","return",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","_getUrl",614],"(",["T_VARIABLE","$url",614],",",["T_WHITESPACE"," ",614],["T_NS_SEPARATOR","\\",614],["T_STRING","Magento",614],["T_NS_SEPARATOR","\\",614],["T_STRING","Framework",614],["T_NS_SEPARATOR","\\",614],["T_STRING","UrlInterface",614],["T_DOUBLE_COLON","::",614],["T_STRING","URL_TYPE_MEDIA",614],")",";",["T_WHITESPACE","\n    ",614],"}",["T_WHITESPACE","\n\n    ",615],["T_DOC_COMMENT","\/**\n     * Get date in correct format applicable for lastmod attribute\n     *\n     * @param string $date\n     * @return string\n     *\/",617],["T_WHITESPACE","\n    ",622],["T_PROTECTED","protected",623],["T_WHITESPACE"," ",623],["T_FUNCTION","function",623],["T_WHITESPACE"," ",623],["T_STRING","_getFormattedLastmodDate",623],"(",["T_VARIABLE","$date",623],")",["T_WHITESPACE","\n    ",623],"{",["T_WHITESPACE","\n        ",624],["T_RETURN","return",625],["T_WHITESPACE"," ",625],["T_STRING","date",625],"(",["T_CONSTANT_ENCAPSED_STRING","'c'",625],",",["T_WHITESPACE"," ",625],["T_STRING","strtotime",625],"(",["T_VARIABLE","$date",625],")",")",";",["T_WHITESPACE","\n    ",625],"}",["T_WHITESPACE","\n\n    ",626],["T_DOC_COMMENT","\/**\n     * Get Document root of Magento instance\n     *\n     * @return string\n     *\/",628],["T_WHITESPACE","\n    ",632],["T_PROTECTED","protected",633],["T_WHITESPACE"," ",633],["T_FUNCTION","function",633],["T_WHITESPACE"," ",633],["T_STRING","_getDocumentRoot",633],"(",")",["T_WHITESPACE","\n    ",633],"{",["T_WHITESPACE","\n        ",634],["T_RETURN","return",635],["T_WHITESPACE"," ",635],["T_STRING","realpath",635],"(",["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","_request",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","getServer",635],"(",["T_CONSTANT_ENCAPSED_STRING","'DOCUMENT_ROOT'",635],")",")",";",["T_WHITESPACE","\n    ",635],"}",["T_WHITESPACE","\n\n    ",636],["T_DOC_COMMENT","\/**\n     * Get domain from store base url\n     *\n     * @return string\n     *\/",638],["T_WHITESPACE","\n    ",642],["T_PROTECTED","protected",643],["T_WHITESPACE"," ",643],["T_FUNCTION","function",643],["T_WHITESPACE"," ",643],["T_STRING","_getStoreBaseDomain",643],"(",")",["T_WHITESPACE","\n    ",643],"{",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$storeParsedUrl",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_STRING","parse_url",645],"(",["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","_getStoreBaseUrl",645],"(",")",")",";",["T_WHITESPACE","\n        ",645],["T_VARIABLE","$url",646],["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],["T_VARIABLE","$storeParsedUrl",646],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",646],"]",["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",646],["T_WHITESPACE"," ",646],".",["T_WHITESPACE"," ",646],["T_VARIABLE","$storeParsedUrl",646],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",646],"]",";",["T_WHITESPACE","\n\n        ",646],["T_VARIABLE","$documentRoot",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_STRING","trim",648],"(",["T_STRING","str_replace",648],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",648],",",["T_WHITESPACE"," ",648],["T_CONSTANT_ENCAPSED_STRING","'\/'",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","_getDocumentRoot",648],"(",")",")",",",["T_WHITESPACE"," ",648],["T_CONSTANT_ENCAPSED_STRING","'\/'",648],")",";",["T_WHITESPACE","\n        ",648],["T_VARIABLE","$baseDir",649],["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_STRING","trim",649],"(",["T_STRING","str_replace",649],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",649],",",["T_WHITESPACE"," ",649],["T_CONSTANT_ENCAPSED_STRING","'\/'",649],",",["T_WHITESPACE"," ",649],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","_getBaseDir",649],"(",")",")",",",["T_WHITESPACE"," ",649],["T_CONSTANT_ENCAPSED_STRING","'\/'",649],")",";",["T_WHITESPACE","\n\n        ",649],["T_IF","if",651],["T_WHITESPACE"," ",651],"(",["T_STRING","strpos",651],"(",["T_VARIABLE","$baseDir",651],",",["T_WHITESPACE"," ",651],["T_VARIABLE","$documentRoot",651],")",["T_WHITESPACE"," ",651],["T_IS_IDENTICAL","===",651],["T_WHITESPACE"," ",651],["T_LNUMBER","0",651],")",["T_WHITESPACE"," ",651],"{",["T_WHITESPACE","\n            ",651],["T_COMMENT","\/\/case when basedir is in document root\n",652],["T_WHITESPACE","            ",653],["T_VARIABLE","$installationFolder",653],["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],["T_STRING","trim",653],"(",["T_STRING","str_replace",653],"(",["T_VARIABLE","$documentRoot",653],",",["T_WHITESPACE"," ",653],["T_CONSTANT_ENCAPSED_STRING","''",653],",",["T_WHITESPACE"," ",653],["T_VARIABLE","$baseDir",653],")",",",["T_WHITESPACE"," ",653],["T_CONSTANT_ENCAPSED_STRING","'\/'",653],")",";",["T_WHITESPACE","\n            ",653],["T_VARIABLE","$storeDomain",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_STRING","rtrim",654],"(",["T_VARIABLE","$url",654],["T_WHITESPACE"," ",654],".",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'\/'",654],["T_WHITESPACE"," ",654],".",["T_WHITESPACE"," ",654],["T_VARIABLE","$installationFolder",654],",",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'\/'",654],")",";",["T_WHITESPACE","\n        ",654],"}",["T_WHITESPACE"," ",655],["T_ELSE","else",655],["T_WHITESPACE"," ",655],"{",["T_WHITESPACE","\n            ",655],["T_COMMENT","\/\/case when documentRoot contains symlink to basedir\n",656],["T_WHITESPACE","            ",657],["T_VARIABLE","$url",657],["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","_getStoreBaseUrl",657],"(",["T_NS_SEPARATOR","\\",657],["T_STRING","Magento",657],["T_NS_SEPARATOR","\\",657],["T_STRING","Framework",657],["T_NS_SEPARATOR","\\",657],["T_STRING","UrlInterface",657],["T_DOUBLE_COLON","::",657],["T_STRING","URL_TYPE_WEB",657],")",";",["T_WHITESPACE","\n            ",657],["T_VARIABLE","$storeDomain",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_STRING","rtrim",658],"(",["T_VARIABLE","$url",658],",",["T_WHITESPACE"," ",658],["T_CONSTANT_ENCAPSED_STRING","'\/'",658],")",";",["T_WHITESPACE","\n        ",658],"}",["T_WHITESPACE","\n\n        ",659],["T_RETURN","return",661],["T_WHITESPACE"," ",661],["T_VARIABLE","$storeDomain",661],";",["T_WHITESPACE","\n    ",661],"}",["T_WHITESPACE","\n\n    ",662],["T_DOC_COMMENT","\/**\n     * Get sitemap.xml URL according to all config options\n     *\n     * @param string $sitemapPath\n     * @param string $sitemapFileName\n     * @return string\n     *\/",664],["T_WHITESPACE","\n    ",670],["T_PUBLIC","public",671],["T_WHITESPACE"," ",671],["T_FUNCTION","function",671],["T_WHITESPACE"," ",671],["T_STRING","getSitemapUrl",671],"(",["T_VARIABLE","$sitemapPath",671],",",["T_WHITESPACE"," ",671],["T_VARIABLE","$sitemapFileName",671],")",["T_WHITESPACE","\n    ",671],"{",["T_WHITESPACE","\n        ",672],["T_RETURN","return",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","_getStoreBaseDomain",673],"(",")",["T_WHITESPACE"," ",673],".",["T_WHITESPACE"," ",673],["T_STRING","str_replace",673],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/'",673],",",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","'\/'",673],",",["T_WHITESPACE"," ",673],["T_VARIABLE","$sitemapPath",673],["T_WHITESPACE"," ",673],".",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","'\/'",673],["T_WHITESPACE"," ",673],".",["T_WHITESPACE"," ",673],["T_VARIABLE","$sitemapFileName",673],")",";",["T_WHITESPACE","\n    ",673],"}",["T_WHITESPACE","\n\n    ",674],["T_DOC_COMMENT","\/**\n     * Check is enabled submission to robots.txt\n     *\n     * @return bool\n     *\/",676],["T_WHITESPACE","\n    ",680],["T_PROTECTED","protected",681],["T_WHITESPACE"," ",681],["T_FUNCTION","function",681],["T_WHITESPACE"," ",681],["T_STRING","_isEnabledSubmissionRobots",681],"(",")",["T_WHITESPACE","\n    ",681],"{",["T_WHITESPACE","\n        ",682],["T_DOC_COMMENT","\/** @var $helper \\Magento\\Sitemap\\Helper\\Data *\/",683],["T_WHITESPACE","\n        ",683],["T_VARIABLE","$helper",684],["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","_sitemapData",684],";",["T_WHITESPACE","\n        ",684],["T_VARIABLE","$storeId",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","getStoreId",685],"(",")",";",["T_WHITESPACE","\n        ",685],["T_RETURN","return",686],["T_WHITESPACE"," ",686],["T_BOOL_CAST","(bool)",686],["T_VARIABLE","$helper",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","getEnableSubmissionRobots",686],"(",["T_VARIABLE","$storeId",686],")",";",["T_WHITESPACE","\n    ",686],"}",["T_WHITESPACE","\n\n    ",687],["T_DOC_COMMENT","\/**\n     * Add sitemap file to robots.txt\n     *\n     * @param string $sitemapFileName\n     * @return void\n     *\/",689],["T_WHITESPACE","\n    ",694],["T_PROTECTED","protected",695],["T_WHITESPACE"," ",695],["T_FUNCTION","function",695],["T_WHITESPACE"," ",695],["T_STRING","_addSitemapToRobotsTxt",695],"(",["T_VARIABLE","$sitemapFileName",695],")",["T_WHITESPACE","\n    ",695],"{",["T_WHITESPACE","\n        ",696],["T_VARIABLE","$robotsSitemapLine",697],["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_CONSTANT_ENCAPSED_STRING","'Sitemap: '",697],["T_WHITESPACE"," ",697],".",["T_WHITESPACE"," ",697],["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","getSitemapUrl",697],"(",["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","getSitemapPath",697],"(",")",",",["T_WHITESPACE"," ",697],["T_VARIABLE","$sitemapFileName",697],")",";",["T_WHITESPACE","\n\n        ",697],["T_VARIABLE","$filename",699],["T_WHITESPACE"," ",699],"=",["T_WHITESPACE"," ",699],["T_CONSTANT_ENCAPSED_STRING","'robots.txt'",699],";",["T_WHITESPACE","\n        ",699],["T_VARIABLE","$content",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_CONSTANT_ENCAPSED_STRING","''",700],";",["T_WHITESPACE","\n        ",700],["T_IF","if",701],["T_WHITESPACE"," ",701],"(",["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","_directory",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","isExist",701],"(",["T_VARIABLE","$filename",701],")",")",["T_WHITESPACE"," ",701],"{",["T_WHITESPACE","\n            ",701],["T_VARIABLE","$content",702],["T_WHITESPACE"," ",702],"=",["T_WHITESPACE"," ",702],["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","_directory",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","readFile",702],"(",["T_VARIABLE","$filename",702],")",";",["T_WHITESPACE","\n        ",702],"}",["T_WHITESPACE","\n\n        ",703],["T_IF","if",705],["T_WHITESPACE"," ",705],"(",["T_STRING","strpos",705],"(",["T_VARIABLE","$content",705],",",["T_WHITESPACE"," ",705],["T_VARIABLE","$robotsSitemapLine",705],")",["T_WHITESPACE"," ",705],["T_IS_IDENTICAL","===",705],["T_WHITESPACE"," ",705],["T_STRING","false",705],")",["T_WHITESPACE"," ",705],"{",["T_WHITESPACE","\n            ",705],["T_IF","if",706],["T_WHITESPACE"," ",706],"(","!",["T_EMPTY","empty",706],"(",["T_VARIABLE","$content",706],")",")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n                ",706],["T_VARIABLE","$content",707],["T_WHITESPACE"," ",707],["T_CONCAT_EQUAL",".=",707],["T_WHITESPACE"," ",707],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","_findNewLinesDelimiter",707],"(",["T_VARIABLE","$content",707],")",";",["T_WHITESPACE","\n            ",707],"}",["T_WHITESPACE","\n            ",708],["T_VARIABLE","$content",709],["T_WHITESPACE"," ",709],["T_CONCAT_EQUAL",".=",709],["T_WHITESPACE"," ",709],["T_VARIABLE","$robotsSitemapLine",709],";",["T_WHITESPACE","\n        ",709],"}",["T_WHITESPACE","\n\n        ",710],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","_directory",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","writeFile",712],"(",["T_VARIABLE","$filename",712],",",["T_WHITESPACE"," ",712],["T_VARIABLE","$content",712],")",";",["T_WHITESPACE","\n    ",712],"}",["T_WHITESPACE","\n\n    ",713],["T_DOC_COMMENT","\/**\n     * Find new lines delimiter\n     *\n     * @param string $text\n     * @return string\n     *\/",715],["T_WHITESPACE","\n    ",720],["T_PRIVATE","private",721],["T_WHITESPACE"," ",721],["T_FUNCTION","function",721],["T_WHITESPACE"," ",721],["T_STRING","_findNewLinesDelimiter",721],"(",["T_VARIABLE","$text",721],")",["T_WHITESPACE","\n    ",721],"{",["T_WHITESPACE","\n        ",722],["T_FOREACH","foreach",723],["T_WHITESPACE"," ",723],"(",["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","_crlf",723],["T_WHITESPACE"," ",723],["T_AS","as",723],["T_WHITESPACE"," ",723],["T_VARIABLE","$delimiter",723],")",["T_WHITESPACE"," ",723],"{",["T_WHITESPACE","\n            ",723],["T_IF","if",724],["T_WHITESPACE"," ",724],"(",["T_STRING","strpos",724],"(",["T_VARIABLE","$text",724],",",["T_WHITESPACE"," ",724],["T_VARIABLE","$delimiter",724],")",["T_WHITESPACE"," ",724],["T_IS_NOT_IDENTICAL","!==",724],["T_WHITESPACE"," ",724],["T_STRING","false",724],")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n                ",724],["T_RETURN","return",725],["T_WHITESPACE"," ",725],["T_VARIABLE","$delimiter",725],";",["T_WHITESPACE","\n            ",725],"}",["T_WHITESPACE","\n        ",726],"}",["T_WHITESPACE","\n\n        ",727],["T_RETURN","return",729],["T_WHITESPACE"," ",729],["T_STRING","PHP_EOL",729],";",["T_WHITESPACE","\n    ",729],"}",["T_WHITESPACE","\n",730],"}",["T_WHITESPACE","\n",731]]