[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sitemap",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CatalogUrlRewrite",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CategoryUrlRewriteGenerator",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Sitemap resource catalog collection model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Category",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResourceModel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Db",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractDb",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Collection Zend Db select\n     *\n     * @var \\Magento\\Framework\\DB\\Select\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_select",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Attribute cache\n     *\n     * @var array\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_attributesCache",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],"[","]",";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_storeManager",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Category\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_categoryResource",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$metadataPool",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Category $categoryResource\n     * @param \\Magento\\Framework\\EntityManager\\MetadataPool $metadataPool\n     * @param string $connectionName\n     *\/",46],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","__construct",53],"(",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ResourceModel",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Db",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Context",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$context",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Store",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","StoreManagerInterface",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$storeManager",55],",",["T_WHITESPACE","\n        ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Catalog",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Model",56],["T_NS_SEPARATOR","\\",56],["T_STRING","ResourceModel",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Category",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$categoryResource",56],",",["T_WHITESPACE","\n        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","EntityManager",57],["T_NS_SEPARATOR","\\",57],["T_STRING","MetadataPool",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$metadataPool",57],",",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$connectionName",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],["T_WHITESPACE","\n    ",58],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_storeManager",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$storeManager",60],";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_categoryResource",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$categoryResource",61],";",["T_WHITESPACE","\n        ",61],["T_STRING","parent",62],["T_DOUBLE_COLON","::",62],["T_STRING","__construct",62],"(",["T_VARIABLE","$context",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$connectionName",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","metadataPool",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$metadataPool",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","_construct",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_init",71],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_entity'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",71],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Get category collection array\n     *\n     * @param null|string|bool|int|\\Magento\\Store\\Model\\Store $storeId\n     * @return array|bool\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","getCollection",80],"(",["T_VARIABLE","$storeId",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$categories",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],"[","]",";",["T_WHITESPACE","\n\n        ",82],["T_COMMENT","\/* @var $store \\Magento\\Store\\Model\\Store *\/",84],["T_WHITESPACE","\n        ",84],["T_VARIABLE","$store",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_storeManager",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getStore",85],"(",["T_VARIABLE","$storeId",85],")",";",["T_WHITESPACE","\n\n        ",85],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_VARIABLE","$store",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_STRING","false",88],";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$connection",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getConnection",91],"(",")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_select",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$connection",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","select",93],"(",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","from",93],"(",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getMainTable",94],"(",")",["T_WHITESPACE","\n        ",94],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","where",95],"(",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getIdFieldName",96],"(",")",["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'=?'",96],",",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$store",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getRootCategoryId",97],"(",")",["T_WHITESPACE","\n        ",97],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$categoryRow",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$connection",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","fetchRow",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_select",99],")",";",["T_WHITESPACE","\n\n        ",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_VARIABLE","$categoryRow",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_STRING","false",102],";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_select",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$connection",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","select",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","from",105],"(",["T_WHITESPACE","\n            ",105],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getMainTable",106],"(",")","]",",",["T_WHITESPACE","\n            ",106],"[",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getIdFieldName",107],"(",")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",107],"]",["T_WHITESPACE","\n        ",107],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","joinLeft",108],"(",["T_WHITESPACE","\n            ",108],"[",["T_CONSTANT_ENCAPSED_STRING","'url_rewrite'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getTable",109],"(",["T_CONSTANT_ENCAPSED_STRING","'url_rewrite'",109],")","]",",",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id = url_rewrite.entity_id AND url_rewrite.is_autogenerated = 1'",110],["T_WHITESPACE","\n            ",110],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$connection",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","quoteInto",111],"(",["T_CONSTANT_ENCAPSED_STRING","' AND url_rewrite.store_id = ?'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$store",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getId",111],"(",")",")",["T_WHITESPACE","\n            ",111],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$connection",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","quoteInto",112],"(",["T_CONSTANT_ENCAPSED_STRING","' AND url_rewrite.entity_type = ?'",112],",",["T_WHITESPACE"," ",112],["T_STRING","CategoryUrlRewriteGenerator",112],["T_DOUBLE_COLON","::",112],["T_STRING","ENTITY_TYPE",112],")",",",["T_WHITESPACE","\n            ",112],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'request_path'",113],"]",["T_WHITESPACE","\n        ",113],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","where",114],"(",["T_WHITESPACE","\n            ",114],["T_CONSTANT_ENCAPSED_STRING","'e.path LIKE ?'",115],",",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$categoryRow",116],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",116],"]",["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'\/%'",116],["T_WHITESPACE","\n        ",116],")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_addFilter",119],"(",["T_VARIABLE","$storeId",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'is_active'",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","1",119],")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$query",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$connection",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","query",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_select",121],")",";",["T_WHITESPACE","\n        ",121],["T_WHILE","while",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$row",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$query",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","fetch",122],"(",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$category",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_prepareCategory",123],"(",["T_VARIABLE","$row",123],")",";",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$categories",124],"[",["T_VARIABLE","$category",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getId",124],"(",")","]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$category",124],";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n\n        ",125],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$categories",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Prepare category\n     *\n     * @param array $categoryRow\n     * @return \\Magento\\Framework\\DataObject\n     *\/",130],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","_prepareCategory",136],"(",["T_ARRAY","array",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$categoryRow",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$category",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Framework",138],["T_NS_SEPARATOR","\\",138],["T_STRING","DataObject",138],"(",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$category",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setId",139],"(",["T_VARIABLE","$categoryRow",139],"[",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getIdFieldName",139],"(",")","]",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$categoryUrl",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],"!",["T_EMPTY","empty",140],"(",["T_VARIABLE","$categoryRow",140],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",140],"]",")",["T_WHITESPACE"," ",140],"?",["T_WHITESPACE"," ",140],["T_VARIABLE","$categoryRow",140],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",140],"]",["T_WHITESPACE"," ",140],":",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'catalog\/category\/view\/id\/'",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$category",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getId",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$category",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","setUrl",142],"(",["T_VARIABLE","$categoryUrl",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$category",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setUpdatedAt",143],"(",["T_VARIABLE","$categoryRow",143],"[",["T_CONSTANT_ENCAPSED_STRING","'updated_at'",143],"]",")",";",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$category",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Add attribute to filter\n     *\n     * @param int $storeId\n     * @param string $attributeCode\n     * @param mixed $value\n     * @param string $type\n     * @return \\Magento\\Framework\\DB\\Select|bool\n     *\/",147],["T_WHITESPACE","\n    ",155],["T_PROTECTED","protected",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","_addFilter",156],"(",["T_VARIABLE","$storeId",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$attributeCode",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$value",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$type",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'='",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$meta",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","metadataPool",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getMetadata",158],"(",["T_NS_SEPARATOR","\\",158],["T_STRING","Magento",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Catalog",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Api",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Data",158],["T_NS_SEPARATOR","\\",158],["T_STRING","CategoryInterface",158],["T_DOUBLE_COLON","::",158],["T_CLASS","class",158],")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$linkField",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$meta",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getLinkField",159],"(",")",";",["T_WHITESPACE","\n\n        ",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","!",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_select",161],["T_WHITESPACE"," ",161],["T_INSTANCEOF","instanceof",161],["T_WHITESPACE"," ",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Framework",161],["T_NS_SEPARATOR","\\",161],["T_STRING","DB",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Select",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_STRING","false",162],";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_IF","if",165],["T_WHITESPACE"," ",165],"(","!",["T_ISSET","isset",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_attributesCache",165],"[",["T_VARIABLE","$attributeCode",165],"]",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$attribute",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_categoryResource",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getAttribute",166],"(",["T_VARIABLE","$attributeCode",166],")",";",["T_WHITESPACE","\n\n            ",166],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_attributesCache",168],"[",["T_VARIABLE","$attributeCode",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],"[",["T_WHITESPACE","\n                ",168],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$attribute",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getEntityTypeId",169],"(",")",",",["T_WHITESPACE","\n                ",169],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$attribute",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getId",170],"(",")",",",["T_WHITESPACE","\n                ",170],["T_CONSTANT_ENCAPSED_STRING","'table'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$attribute",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getBackend",171],"(",")",["T_OBJECT_OPERATOR","->",171],["T_STRING","getTable",171],"(",")",",",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'is_global'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$attribute",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getIsGlobal",172],"(",")",",",["T_WHITESPACE","\n                ",172],["T_CONSTANT_ENCAPSED_STRING","'backend_type'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$attribute",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getBackendType",173],"(",")",",",["T_WHITESPACE","\n            ",173],"]",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$attribute",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_attributesCache",176],"[",["T_VARIABLE","$attributeCode",176],"]",";",["T_WHITESPACE","\n\n        ",176],["T_SWITCH","switch",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$type",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_CASE","case",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'='",179],":",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$conditionRule",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'=?'",180],";",["T_WHITESPACE","\n                ",180],["T_BREAK","break",181],";",["T_WHITESPACE","\n            ",181],["T_CASE","case",182],["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'in'",182],":",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$conditionRule",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","' IN(?)'",183],";",["T_WHITESPACE","\n                ",183],["T_BREAK","break",184],";",["T_WHITESPACE","\n            ",184],["T_DEFAULT","default",185],":",["T_WHITESPACE","\n                ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_STRING","false",186],";",["T_WHITESPACE","\n                ",186],["T_BREAK","break",187],";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$attribute",190],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",190],"]",["T_WHITESPACE"," ",190],["T_IS_EQUAL","==",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'static'",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_select",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","where",191],"(",["T_CONSTANT_ENCAPSED_STRING","'e.'",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$attributeCode",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$conditionRule",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$value",191],")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE"," ",192],["T_ELSE","else",192],["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_select",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","join",193],"(",["T_WHITESPACE","\n                ",193],"[",["T_CONSTANT_ENCAPSED_STRING","'t1_'",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_VARIABLE","$attributeCode",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$attribute",194],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",194],"]","]",",",["T_WHITESPACE","\n                ",194],["T_CONSTANT_ENCAPSED_STRING","'e.'",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_VARIABLE","$linkField",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","' = t1_'",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_VARIABLE","$attributeCode",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'.'",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_VARIABLE","$linkField",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE","\n                ",195],["T_CONSTANT_ENCAPSED_STRING","' AND t1_'",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_VARIABLE","$attributeCode",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'.store_id = 0'",196],",",["T_WHITESPACE","\n                ",196],"[","]",["T_WHITESPACE","\n            ",197],")",["T_OBJECT_OPERATOR","->",198],["T_STRING","where",198],"(",["T_WHITESPACE","\n                ",198],["T_CONSTANT_ENCAPSED_STRING","'t1_'",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_VARIABLE","$attributeCode",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'.attribute_id=?'",199],",",["T_WHITESPACE","\n                ",199],["T_VARIABLE","$attribute",200],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",200],"]",["T_WHITESPACE","\n            ",200],")",";",["T_WHITESPACE","\n\n            ",201],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$attribute",203],"[",["T_CONSTANT_ENCAPSED_STRING","'is_global'",203],"]",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_select",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","where",204],"(",["T_CONSTANT_ENCAPSED_STRING","'t1_'",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_VARIABLE","$attributeCode",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'.value'",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_VARIABLE","$conditionRule",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$value",204],")",";",["T_WHITESPACE","\n            ",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$ifCase",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getConnection",206],"(",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","getCheckSql",206],"(",["T_WHITESPACE","\n                    ",206],["T_CONSTANT_ENCAPSED_STRING","'t2_'",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_VARIABLE","$attributeCode",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'.value_id > 0'",207],",",["T_WHITESPACE","\n                    ",207],["T_CONSTANT_ENCAPSED_STRING","'t2_'",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_VARIABLE","$attributeCode",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'.value'",208],",",["T_WHITESPACE","\n                    ",208],["T_CONSTANT_ENCAPSED_STRING","'t1_'",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_VARIABLE","$attributeCode",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'.value'",209],["T_WHITESPACE","\n                ",209],")",";",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_select",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","joinLeft",211],"(",["T_WHITESPACE","\n                    ",211],"[",["T_CONSTANT_ENCAPSED_STRING","'t2_'",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_VARIABLE","$attributeCode",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$attribute",212],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",212],"]","]",",",["T_WHITESPACE","\n                    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getConnection",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","quoteInto",213],"(",["T_WHITESPACE","\n                        ",213],["T_CONSTANT_ENCAPSED_STRING","'t1_'",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE","\n                        ",214],["T_VARIABLE","$attributeCode",215],["T_WHITESPACE"," ",215],".",["T_WHITESPACE","\n                        ",215],["T_CONSTANT_ENCAPSED_STRING","'.'",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_VARIABLE","$linkField",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","' = t2_'",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE","\n                        ",216],["T_VARIABLE","$attributeCode",217],["T_WHITESPACE"," ",217],".",["T_WHITESPACE","\n                        ",217],["T_CONSTANT_ENCAPSED_STRING","'.'",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_VARIABLE","$linkField",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","' AND t1_'",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE","\n                        ",218],["T_VARIABLE","$attributeCode",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE","\n                        ",219],["T_CONSTANT_ENCAPSED_STRING","'.attribute_id = t2_'",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE","\n                        ",220],["T_VARIABLE","$attributeCode",221],["T_WHITESPACE"," ",221],".",["T_WHITESPACE","\n                        ",221],["T_CONSTANT_ENCAPSED_STRING","'.attribute_id AND t2_'",222],["T_WHITESPACE"," ",222],".",["T_WHITESPACE","\n                        ",222],["T_VARIABLE","$attributeCode",223],["T_WHITESPACE"," ",223],".",["T_WHITESPACE","\n                        ",223],["T_CONSTANT_ENCAPSED_STRING","'.store_id=?'",224],",",["T_WHITESPACE","\n                        ",224],["T_VARIABLE","$storeId",225],["T_WHITESPACE","\n                    ",225],")",",",["T_WHITESPACE","\n                    ",226],"[","]",["T_WHITESPACE","\n                ",227],")",["T_OBJECT_OPERATOR","->",228],["T_STRING","where",228],"(",["T_WHITESPACE","\n                    ",228],["T_CONSTANT_ENCAPSED_STRING","'('",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_VARIABLE","$ifCase",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","')'",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_VARIABLE","$conditionRule",229],",",["T_WHITESPACE","\n                    ",229],["T_VARIABLE","$value",230],["T_WHITESPACE","\n                ",230],")",";",["T_WHITESPACE","\n            ",231],"}",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n\n        ",233],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_select",235],";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n",236],"}",["T_WHITESPACE","\n",237]]