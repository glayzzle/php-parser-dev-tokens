[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sitemap",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CatalogUrlRewrite",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductUrlRewriteGenerator",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Store",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Store",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Sitemap resource product collection model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Product",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ResourceModel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Db",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractDb",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","NOT_SELECTED_IMAGE",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'no_selection'",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Collection Zend Db select\n     *\n     * @var \\Magento\\Framework\\DB\\Select\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_select",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Attribute cache\n     *\n     * @var array\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_attributesCache",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"[","]",";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Gallery\\ReadHandler\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$mediaGalleryReadHandler",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Sitemap data\n     *\n     * @var \\Magento\\Sitemap\\Helper\\Data\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_sitemapData",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","null",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_productResource",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_storeManager",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Visibility\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_productVisibility",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Attribute\\Source\\Status\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_productStatus",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Gallery\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$mediaGalleryResourceModel",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Media\\Config\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_mediaConfig",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param \\Magento\\Sitemap\\Helper\\Data $sitemapData\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product $productResource\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Catalog\\Model\\Product\\Visibility $productVisibility\n     * @param \\Magento\\Catalog\\Model\\Product\\Attribute\\Source\\Status $productStatus\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Gallery $mediaGalleryResourceModel\n     * @param \\Magento\\Catalog\\Model\\Product\\Gallery\\ReadHandler $mediaGalleryReadHandler\n     * @param \\Magento\\Catalog\\Model\\Product\\Media\\Config $mediaConfig\n     * @param string $connectionName\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",77],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","__construct",90],"(",["T_WHITESPACE","\n        ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Model",91],["T_NS_SEPARATOR","\\",91],["T_STRING","ResourceModel",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Db",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Context",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$context",91],",",["T_WHITESPACE","\n        ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Sitemap",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Helper",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Data",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$sitemapData",92],",",["T_WHITESPACE","\n        ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Catalog",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Model",93],["T_NS_SEPARATOR","\\",93],["T_STRING","ResourceModel",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Product",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$productResource",93],",",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Store",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","StoreManagerInterface",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$storeManager",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Catalog",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Model",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Product",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Visibility",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$productVisibility",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Catalog",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Model",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Product",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Attribute",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Source",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Status",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$productStatus",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Catalog",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","ResourceModel",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Product",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Gallery",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$mediaGalleryResourceModel",97],",",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Catalog",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Product",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Gallery",98],["T_NS_SEPARATOR","\\",98],["T_STRING","ReadHandler",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$mediaGalleryReadHandler",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Catalog",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Model",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Product",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Media",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Config",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$mediaConfig",99],",",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$connectionName",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","null",100],["T_WHITESPACE","\n    ",100],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_productResource",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$productResource",102],";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_storeManager",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$storeManager",103],";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_productVisibility",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$productVisibility",104],";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_productStatus",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$productStatus",105],";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","mediaGalleryResourceModel",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$mediaGalleryResourceModel",106],";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","mediaGalleryReadHandler",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$mediaGalleryReadHandler",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_mediaConfig",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$mediaConfig",108],";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_sitemapData",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$sitemapData",109],";",["T_WHITESPACE","\n        ",109],["T_STRING","parent",110],["T_DOUBLE_COLON","::",110],["T_STRING","__construct",110],"(",["T_VARIABLE","$context",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$connectionName",110],")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",113],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","_construct",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_init",118],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Add attribute to filter\n     *\n     * @param int $storeId\n     * @param string $attributeCode\n     * @param mixed $value\n     * @param string $type\n     * @return \\Magento\\Framework\\DB\\Select|bool\n     *\/",121],["T_WHITESPACE","\n    ",129],["T_PROTECTED","protected",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","_addFilter",130],"(",["T_VARIABLE","$storeId",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$attributeCode",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$value",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$type",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'='",130],")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","!",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_select",132],["T_WHITESPACE"," ",132],["T_INSTANCEOF","instanceof",132],["T_WHITESPACE"," ",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Framework",132],["T_NS_SEPARATOR","\\",132],["T_STRING","DB",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Select",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_STRING","false",133],";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_SWITCH","switch",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$type",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_CASE","case",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'='",137],":",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$conditionRule",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'=?'",138],";",["T_WHITESPACE","\n                ",138],["T_BREAK","break",139],";",["T_WHITESPACE","\n            ",139],["T_CASE","case",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'in'",140],":",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$conditionRule",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","' IN(?)'",141],";",["T_WHITESPACE","\n                ",141],["T_BREAK","break",142],";",["T_WHITESPACE","\n            ",142],["T_DEFAULT","default",143],":",["T_WHITESPACE","\n                ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_STRING","false",144],";",["T_WHITESPACE","\n                ",144],["T_BREAK","break",145],";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$attribute",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_getAttribute",148],"(",["T_VARIABLE","$attributeCode",148],")",";",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$attribute",149],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",149],"]",["T_WHITESPACE"," ",149],["T_IS_EQUAL","==",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'static'",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_select",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","where",150],"(",["T_CONSTANT_ENCAPSED_STRING","'e.'",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$attributeCode",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$conditionRule",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$value",150],")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE"," ",151],["T_ELSE","else",151],["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_joinAttribute",152],"(",["T_VARIABLE","$storeId",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$attributeCode",152],")",";",["T_WHITESPACE","\n            ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$attribute",153],"[",["T_CONSTANT_ENCAPSED_STRING","'is_global'",153],"]",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_select",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","where",154],"(",["T_CONSTANT_ENCAPSED_STRING","'t1_'",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$attributeCode",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'.value'",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$conditionRule",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$value",154],")",";",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE"," ",155],["T_ELSE","else",155],["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$ifCase",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getConnection",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getCheckSql",156],"(",["T_WHITESPACE","\n                    ",156],["T_CONSTANT_ENCAPSED_STRING","'t2_'",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$attributeCode",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'.value_id > 0'",157],",",["T_WHITESPACE","\n                    ",157],["T_CONSTANT_ENCAPSED_STRING","'t2_'",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_VARIABLE","$attributeCode",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'.value'",158],",",["T_WHITESPACE","\n                    ",158],["T_CONSTANT_ENCAPSED_STRING","'t1_'",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$attributeCode",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'.value'",159],["T_WHITESPACE","\n                ",159],")",";",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_select",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","where",161],"(",["T_CONSTANT_ENCAPSED_STRING","'('",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_VARIABLE","$ifCase",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","')'",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_VARIABLE","$conditionRule",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$value",161],")",";",["T_WHITESPACE","\n            ",161],"}",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_select",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Join attribute by code\n     *\n     * @param int $storeId\n     * @param string $attributeCode\n     * @return void\n     *\/",168],["T_WHITESPACE","\n    ",174],["T_PROTECTED","protected",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","_joinAttribute",175],"(",["T_VARIABLE","$storeId",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$attributeCode",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$connection",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getConnection",177],"(",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$attribute",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_getAttribute",178],"(",["T_VARIABLE","$attributeCode",178],")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$linkField",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_productResource",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getLinkField",179],"(",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$attrTableAlias",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'t1_'",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_VARIABLE","$attributeCode",180],";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_select",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","joinLeft",181],"(",["T_WHITESPACE","\n            ",181],"[",["T_VARIABLE","$attrTableAlias",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$attribute",182],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",182],"]","]",",",["T_WHITESPACE","\n            ",182],"\"",["T_ENCAPSED_AND_WHITESPACE","e.",183],["T_CURLY_OPEN","{",183],["T_VARIABLE","$linkField",183],"}",["T_ENCAPSED_AND_WHITESPACE"," = ",183],["T_CURLY_OPEN","{",183],["T_VARIABLE","$attrTableAlias",183],"}",["T_ENCAPSED_AND_WHITESPACE",".",183],["T_CURLY_OPEN","{",183],["T_VARIABLE","$linkField",183],"}","\"",["T_WHITESPACE","\n            ",183],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","' AND '",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_VARIABLE","$connection",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","quoteInto",184],"(",["T_VARIABLE","$attrTableAlias",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'.store_id = ?'",184],",",["T_WHITESPACE"," ",184],["T_STRING","Store",184],["T_DOUBLE_COLON","::",184],["T_STRING","DEFAULT_STORE_ID",184],")",["T_WHITESPACE","\n            ",184],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","' AND '",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_VARIABLE","$connection",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","quoteInto",185],"(",["T_VARIABLE","$attrTableAlias",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'.attribute_id = ?'",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$attribute",185],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",185],"]",")",",",["T_WHITESPACE","\n            ",185],"[","]",["T_WHITESPACE","\n        ",186],")",";",["T_WHITESPACE","\n\n        ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(","!",["T_VARIABLE","$attribute",189],"[",["T_CONSTANT_ENCAPSED_STRING","'is_global'",189],"]",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$attrTableAlias2",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'t2_'",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_VARIABLE","$attributeCode",190],";",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_select",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","joinLeft",191],"(",["T_WHITESPACE","\n                ",191],"[",["T_CONSTANT_ENCAPSED_STRING","'t2_'",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_VARIABLE","$attributeCode",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$attribute",192],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",192],"]","]",",",["T_WHITESPACE","\n                ",192],"\"",["T_CURLY_OPEN","{",193],["T_VARIABLE","$attrTableAlias",193],"}",["T_ENCAPSED_AND_WHITESPACE",".",193],["T_CURLY_OPEN","{",193],["T_VARIABLE","$linkField",193],"}",["T_ENCAPSED_AND_WHITESPACE"," = ",193],["T_CURLY_OPEN","{",193],["T_VARIABLE","$attrTableAlias2",193],"}",["T_ENCAPSED_AND_WHITESPACE",".",193],["T_CURLY_OPEN","{",193],["T_VARIABLE","$linkField",193],"}","\"",["T_WHITESPACE","\n                ",193],".",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","' AND '",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_VARIABLE","$attrTableAlias",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'.attribute_id = '",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_VARIABLE","$attrTableAlias2",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'.attribute_id'",194],["T_WHITESPACE","\n                ",194],".",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","' AND '",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_VARIABLE","$connection",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","quoteInto",195],"(",["T_VARIABLE","$attrTableAlias2",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'.store_id = ?'",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$storeId",195],")",",",["T_WHITESPACE","\n                ",195],"[","]",["T_WHITESPACE","\n            ",196],")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Get attribute data by attribute code\n     *\n     * @param string $attributeCode\n     * @return array\n     *\/",201],["T_WHITESPACE","\n    ",206],["T_PROTECTED","protected",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","_getAttribute",207],"(",["T_VARIABLE","$attributeCode",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_ISSET","isset",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_attributesCache",209],"[",["T_VARIABLE","$attributeCode",209],"]",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$attribute",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_productResource",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getAttribute",210],"(",["T_VARIABLE","$attributeCode",210],")",";",["T_WHITESPACE","\n\n            ",210],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_attributesCache",212],"[",["T_VARIABLE","$attributeCode",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],"[",["T_WHITESPACE","\n                ",212],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$attribute",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getEntityTypeId",213],"(",")",",",["T_WHITESPACE","\n                ",213],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$attribute",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getId",214],"(",")",",",["T_WHITESPACE","\n                ",214],["T_CONSTANT_ENCAPSED_STRING","'table'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$attribute",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getBackend",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","getTable",215],"(",")",",",["T_WHITESPACE","\n                ",215],["T_CONSTANT_ENCAPSED_STRING","'is_global'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$attribute",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getIsGlobal",216],"(",")",["T_WHITESPACE"," ",216],["T_IS_EQUAL","==",216],["T_WHITESPACE","\n                ",216],["T_NS_SEPARATOR","\\",217],["T_STRING","Magento",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Eav",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Model",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Entity",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Attribute",217],["T_NS_SEPARATOR","\\",217],["T_STRING","ScopedAttributeInterface",217],["T_DOUBLE_COLON","::",217],["T_STRING","SCOPE_GLOBAL",217],",",["T_WHITESPACE","\n                ",217],["T_CONSTANT_ENCAPSED_STRING","'backend_type'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$attribute",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getBackendType",218],"(",")",",",["T_WHITESPACE","\n            ",218],"]",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n        ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_attributesCache",221],"[",["T_VARIABLE","$attributeCode",221],"]",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Get category collection array\n     *\n     * @param null|string|bool|int|Store $storeId\n     * @return array|bool\n     *\/",224],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","getCollection",230],"(",["T_VARIABLE","$storeId",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$products",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],"[","]",";",["T_WHITESPACE","\n\n        ",232],["T_COMMENT","\/* @var $store Store *\/",234],["T_WHITESPACE","\n        ",234],["T_VARIABLE","$store",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_storeManager",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getStore",235],"(",["T_VARIABLE","$storeId",235],")",";",["T_WHITESPACE","\n        ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(","!",["T_VARIABLE","$store",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_STRING","false",237],";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n\n        ",238],["T_VARIABLE","$connection",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getConnection",240],"(",")",";",["T_WHITESPACE","\n\n        ",240],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_select",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$connection",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","select",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","from",242],"(",["T_WHITESPACE","\n            ",242],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getMainTable",243],"(",")","]",",",["T_WHITESPACE","\n            ",243],"[",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getIdFieldName",244],"(",")",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_productResource",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getLinkField",244],"(",")",",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",244],"]",["T_WHITESPACE","\n        ",244],")",["T_OBJECT_OPERATOR","->",245],["T_STRING","joinInner",245],"(",["T_WHITESPACE","\n            ",245],"[",["T_CONSTANT_ENCAPSED_STRING","'w'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getTable",246],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_website'",246],")","]",",",["T_WHITESPACE","\n            ",246],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id = w.product_id'",247],",",["T_WHITESPACE","\n            ",247],"[","]",["T_WHITESPACE","\n        ",248],")",["T_OBJECT_OPERATOR","->",249],["T_STRING","joinLeft",249],"(",["T_WHITESPACE","\n            ",249],"[",["T_CONSTANT_ENCAPSED_STRING","'url_rewrite'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getTable",250],"(",["T_CONSTANT_ENCAPSED_STRING","'url_rewrite'",250],")","]",",",["T_WHITESPACE","\n            ",250],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id = url_rewrite.entity_id AND url_rewrite.is_autogenerated = 1 AND url_rewrite.metadata IS NULL'",251],["T_WHITESPACE","\n            ",251],".",["T_WHITESPACE"," ",252],["T_VARIABLE","$connection",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","quoteInto",252],"(",["T_CONSTANT_ENCAPSED_STRING","' AND url_rewrite.store_id = ?'",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$store",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getId",252],"(",")",")",["T_WHITESPACE","\n            ",252],".",["T_WHITESPACE"," ",253],["T_VARIABLE","$connection",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","quoteInto",253],"(",["T_CONSTANT_ENCAPSED_STRING","' AND url_rewrite.entity_type = ?'",253],",",["T_WHITESPACE"," ",253],["T_STRING","ProductUrlRewriteGenerator",253],["T_DOUBLE_COLON","::",253],["T_STRING","ENTITY_TYPE",253],")",",",["T_WHITESPACE","\n            ",253],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'request_path'",254],"]",["T_WHITESPACE","\n        ",254],")",["T_OBJECT_OPERATOR","->",255],["T_STRING","where",255],"(",["T_WHITESPACE","\n            ",255],["T_CONSTANT_ENCAPSED_STRING","'w.website_id = ?'",256],",",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$store",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getWebsiteId",257],"(",")",["T_WHITESPACE","\n        ",257],")",";",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_addFilter",260],"(",["T_VARIABLE","$store",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getId",260],"(",")",",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'visibility'",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_productVisibility",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getVisibleInSiteIds",260],"(",")",",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'in'",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_addFilter",261],"(",["T_VARIABLE","$store",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getId",261],"(",")",",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'status'",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_productStatus",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getVisibleStatusIds",261],"(",")",",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'in'",261],")",";",["T_WHITESPACE","\n\n        ",261],["T_COMMENT","\/\/ Join product images required attributes\n",263],["T_WHITESPACE","        ",264],["T_VARIABLE","$imageIncludePolicy",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_sitemapData",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getProductImageIncludePolicy",264],"(",["T_VARIABLE","$store",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getId",264],"(",")",")",";",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_NS_SEPARATOR","\\",265],["T_STRING","Magento",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Sitemap",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Model",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Source",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Product",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Image",265],["T_NS_SEPARATOR","\\",265],["T_STRING","IncludeImage",265],["T_DOUBLE_COLON","::",265],["T_STRING","INCLUDE_NONE",265],["T_WHITESPACE"," ",265],["T_IS_NOT_EQUAL","!=",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$imageIncludePolicy",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_joinAttribute",266],"(",["T_VARIABLE","$store",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getId",266],"(",")",",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'name'",266],")",";",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_select",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","columns",267],"(",["T_WHITESPACE","\n                ",267],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getConnection",268],"(",")",["T_OBJECT_OPERATOR","->",268],["T_STRING","getIfNullSql",268],"(",["T_CONSTANT_ENCAPSED_STRING","'t2_name.value'",268],",",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'t1_name.value'",268],")","]",["T_WHITESPACE","\n            ",268],")",";",["T_WHITESPACE","\n\n            ",269],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_NS_SEPARATOR","\\",271],["T_STRING","Magento",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Sitemap",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Model",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Source",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Product",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Image",271],["T_NS_SEPARATOR","\\",271],["T_STRING","IncludeImage",271],["T_DOUBLE_COLON","::",271],["T_STRING","INCLUDE_ALL",271],["T_WHITESPACE"," ",271],["T_IS_EQUAL","==",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$imageIncludePolicy",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n                ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_joinAttribute",272],"(",["T_VARIABLE","$store",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getId",272],"(",")",",",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",272],")",";",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_select",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","columns",273],"(",["T_WHITESPACE","\n                    ",273],"[",["T_WHITESPACE","\n                        ",274],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getConnection",275],"(",")",["T_OBJECT_OPERATOR","->",275],["T_STRING","getIfNullSql",275],"(",["T_WHITESPACE","\n                            ",275],["T_CONSTANT_ENCAPSED_STRING","'t2_thumbnail.value'",276],",",["T_WHITESPACE","\n                            ",276],["T_CONSTANT_ENCAPSED_STRING","'t1_thumbnail.value'",277],["T_WHITESPACE","\n                        ",277],")",",",["T_WHITESPACE","\n                    ",278],"]",["T_WHITESPACE","\n                ",279],")",";",["T_WHITESPACE","\n            ",280],"}",["T_WHITESPACE"," ",281],["T_ELSEIF","elseif",281],["T_WHITESPACE"," ",281],"(",["T_NS_SEPARATOR","\\",281],["T_STRING","Magento",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Sitemap",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Model",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Source",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Product",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Image",281],["T_NS_SEPARATOR","\\",281],["T_STRING","IncludeImage",281],["T_DOUBLE_COLON","::",281],["T_STRING","INCLUDE_BASE",281],["T_WHITESPACE"," ",281],["T_IS_EQUAL","==",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$imageIncludePolicy",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_joinAttribute",282],"(",["T_VARIABLE","$store",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getId",282],"(",")",",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'image'",282],")",";",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_select",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","columns",283],"(",["T_WHITESPACE","\n                    ",283],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getConnection",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","getIfNullSql",284],"(",["T_CONSTANT_ENCAPSED_STRING","'t2_image.value'",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'t1_image.value'",284],")","]",["T_WHITESPACE","\n                ",284],")",";",["T_WHITESPACE","\n            ",285],"}",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE","\n\n        ",287],["T_VARIABLE","$query",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$connection",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","query",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_select",289],")",";",["T_WHITESPACE","\n        ",289],["T_WHILE","while",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$row",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$query",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","fetch",290],"(",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$product",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_prepareProduct",291],"(",["T_VARIABLE","$row",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$store",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getId",291],"(",")",")",";",["T_WHITESPACE","\n            ",291],["T_VARIABLE","$products",292],"[",["T_VARIABLE","$product",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getId",292],"(",")","]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$product",292],";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n\n        ",293],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$products",295],";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_DOC_COMMENT","\/**\n     * Prepare product\n     *\n     * @param array $productRow\n     * @param int $storeId\n     * @return \\Magento\\Framework\\DataObject\n     *\/",298],["T_WHITESPACE","\n    ",304],["T_PROTECTED","protected",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","_prepareProduct",305],"(",["T_ARRAY","array",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$productRow",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$storeId",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$product",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_NEW","new",307],["T_WHITESPACE"," ",307],["T_NS_SEPARATOR","\\",307],["T_STRING","Magento",307],["T_NS_SEPARATOR","\\",307],["T_STRING","Framework",307],["T_NS_SEPARATOR","\\",307],["T_STRING","DataObject",307],"(",")",";",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$product",309],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",309],"]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$productRow",309],"[",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getIdFieldName",309],"(",")","]",";",["T_WHITESPACE","\n        ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_EMPTY","empty",310],"(",["T_VARIABLE","$productRow",310],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",310],"]",")",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_VARIABLE","$productRow",311],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",311],"]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'catalog\/product\/view\/id\/'",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_VARIABLE","$product",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getId",311],"(",")",";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$product",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","addData",313],"(",["T_VARIABLE","$productRow",313],")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_loadProductImages",314],"(",["T_VARIABLE","$product",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$storeId",314],")",";",["T_WHITESPACE","\n\n        ",314],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$product",316],";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * Load product images\n     *\n     * @param \\Magento\\Framework\\DataObject $product\n     * @param int $storeId\n     * @return void\n     *\/",319],["T_WHITESPACE","\n    ",325],["T_PROTECTED","protected",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","_loadProductImages",326],"(",["T_VARIABLE","$product",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$storeId",326],")",["T_WHITESPACE","\n    ",326],"{",["T_WHITESPACE","\n        ",327],["T_DOC_COMMENT","\/** @var $helper \\Magento\\Sitemap\\Helper\\Data *\/",328],["T_WHITESPACE","\n        ",328],["T_VARIABLE","$helper",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_sitemapData",329],";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$imageIncludePolicy",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$helper",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getProductImageIncludePolicy",330],"(",["T_VARIABLE","$storeId",330],")",";",["T_WHITESPACE","\n\n        ",330],["T_COMMENT","\/\/ Get product images\n",332],["T_WHITESPACE","        ",333],["T_VARIABLE","$imagesCollection",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],"[","]",";",["T_WHITESPACE","\n        ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_NS_SEPARATOR","\\",334],["T_STRING","Magento",334],["T_NS_SEPARATOR","\\",334],["T_STRING","Sitemap",334],["T_NS_SEPARATOR","\\",334],["T_STRING","Model",334],["T_NS_SEPARATOR","\\",334],["T_STRING","Source",334],["T_NS_SEPARATOR","\\",334],["T_STRING","Product",334],["T_NS_SEPARATOR","\\",334],["T_STRING","Image",334],["T_NS_SEPARATOR","\\",334],["T_STRING","IncludeImage",334],["T_DOUBLE_COLON","::",334],["T_STRING","INCLUDE_ALL",334],["T_WHITESPACE"," ",334],["T_IS_EQUAL","==",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$imageIncludePolicy",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$imagesCollection",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_getAllProductImages",335],"(",["T_VARIABLE","$product",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$storeId",335],")",";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE"," ",336],["T_ELSEIF","elseif",336],["T_WHITESPACE"," ",336],"(",["T_NS_SEPARATOR","\\",336],["T_STRING","Magento",336],["T_NS_SEPARATOR","\\",336],["T_STRING","Sitemap",336],["T_NS_SEPARATOR","\\",336],["T_STRING","Model",336],["T_NS_SEPARATOR","\\",336],["T_STRING","Source",336],["T_NS_SEPARATOR","\\",336],["T_STRING","Product",336],["T_NS_SEPARATOR","\\",336],["T_STRING","Image",336],["T_NS_SEPARATOR","\\",336],["T_STRING","IncludeImage",336],["T_DOUBLE_COLON","::",336],["T_STRING","INCLUDE_BASE",336],["T_WHITESPACE"," ",336],["T_IS_EQUAL","==",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$imageIncludePolicy",336],["T_WHITESPACE"," ",336],["T_BOOLEAN_AND","&&",336],["T_WHITESPACE","\n            ",336],["T_VARIABLE","$product",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getImage",337],"(",")",["T_WHITESPACE"," ",337],["T_BOOLEAN_AND","&&",337],["T_WHITESPACE","\n            ",337],["T_VARIABLE","$product",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getImage",338],"(",")",["T_WHITESPACE"," ",338],["T_IS_NOT_EQUAL","!=",338],["T_WHITESPACE"," ",338],["T_STRING","self",338],["T_DOUBLE_COLON","::",338],["T_STRING","NOT_SELECTED_IMAGE",338],["T_WHITESPACE","\n        ",338],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$imagesCollection",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],"[",["T_WHITESPACE","\n                ",340],["T_NEW","new",341],["T_WHITESPACE"," ",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Magento",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Framework",341],["T_NS_SEPARATOR","\\",341],["T_STRING","DataObject",341],"(",["T_WHITESPACE","\n                    ",341],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_getMediaConfig",342],"(",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","getBaseMediaUrlAddition",342],"(",")",["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_VARIABLE","$product",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getImage",342],"(",")","]",["T_WHITESPACE","\n                ",342],")",",",["T_WHITESPACE","\n            ",343],"]",";",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE","\n\n        ",345],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$imagesCollection",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_COMMENT","\/\/ Determine thumbnail path\n",348],["T_WHITESPACE","            ",349],["T_VARIABLE","$thumbnail",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$product",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getThumbnail",349],"(",")",";",["T_WHITESPACE","\n            ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_VARIABLE","$thumbnail",350],["T_WHITESPACE"," ",350],["T_BOOLEAN_AND","&&",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$product",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getThumbnail",350],"(",")",["T_WHITESPACE"," ",350],["T_IS_NOT_EQUAL","!=",350],["T_WHITESPACE"," ",350],["T_STRING","self",350],["T_DOUBLE_COLON","::",350],["T_STRING","NOT_SELECTED_IMAGE",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$thumbnail",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_getMediaConfig",351],"(",")",["T_OBJECT_OPERATOR","->",351],["T_STRING","getBaseMediaUrlAddition",351],"(",")",["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_VARIABLE","$thumbnail",351],";",["T_WHITESPACE","\n            ",351],"}",["T_WHITESPACE"," ",352],["T_ELSE","else",352],["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n                ",352],["T_VARIABLE","$thumbnail",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$imagesCollection",353],"[",["T_LNUMBER","0",353],"]",["T_OBJECT_OPERATOR","->",353],["T_STRING","getUrl",353],"(",")",";",["T_WHITESPACE","\n            ",353],"}",["T_WHITESPACE","\n\n            ",354],["T_VARIABLE","$product",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","setImages",356],"(",["T_WHITESPACE","\n                ",356],["T_NEW","new",357],["T_WHITESPACE"," ",357],["T_NS_SEPARATOR","\\",357],["T_STRING","Magento",357],["T_NS_SEPARATOR","\\",357],["T_STRING","Framework",357],["T_NS_SEPARATOR","\\",357],["T_STRING","DataObject",357],"(",["T_WHITESPACE","\n                    ",357],"[",["T_CONSTANT_ENCAPSED_STRING","'collection'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$imagesCollection",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'title'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$product",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getName",358],"(",")",",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$thumbnail",358],"]",["T_WHITESPACE","\n                ",358],")",["T_WHITESPACE","\n            ",359],")",";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n\n    ",362],["T_DOC_COMMENT","\/**\n     * Get all product images\n     *\n     * @param \\Magento\\Framework\\DataObject $product\n     * @param int $storeId\n     * @return array\n     *\/",364],["T_WHITESPACE","\n    ",370],["T_PROTECTED","protected",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","_getAllProductImages",371],"(",["T_VARIABLE","$product",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$storeId",371],")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$product",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","setStoreId",373],"(",["T_VARIABLE","$storeId",373],")",";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$gallery",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","mediaGalleryResourceModel",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","loadProductGalleryByAttributeId",374],"(",["T_WHITESPACE","\n            ",374],["T_VARIABLE","$product",375],",",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","mediaGalleryReadHandler",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getAttribute",376],"(",")",["T_OBJECT_OPERATOR","->",376],["T_STRING","getId",376],"(",")",["T_WHITESPACE","\n        ",376],")",";",["T_WHITESPACE","\n\n        ",377],["T_VARIABLE","$imagesCollection",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],"[","]",";",["T_WHITESPACE","\n        ",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$gallery",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n            ",380],["T_VARIABLE","$productMediaPath",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_getMediaConfig",381],"(",")",["T_OBJECT_OPERATOR","->",381],["T_STRING","getBaseMediaUrlAddition",381],"(",")",";",["T_WHITESPACE","\n            ",381],["T_FOREACH","foreach",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$gallery",382],["T_WHITESPACE"," ",382],["T_AS","as",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$image",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n                ",382],["T_VARIABLE","$imagesCollection",383],"[","]",["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_NEW","new",383],["T_WHITESPACE"," ",383],["T_NS_SEPARATOR","\\",383],["T_STRING","Magento",383],["T_NS_SEPARATOR","\\",383],["T_STRING","Framework",383],["T_NS_SEPARATOR","\\",383],["T_STRING","DataObject",383],"(",["T_WHITESPACE","\n                    ",383],"[",["T_WHITESPACE","\n                        ",384],["T_CONSTANT_ENCAPSED_STRING","'url'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$productMediaPath",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_VARIABLE","$image",385],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",385],"]",",",["T_WHITESPACE","\n                        ",385],["T_CONSTANT_ENCAPSED_STRING","'caption'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$image",386],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",386],"]",["T_WHITESPACE"," ",386],"?",["T_WHITESPACE"," ",386],["T_VARIABLE","$image",386],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",386],"]",["T_WHITESPACE"," ",386],":",["T_WHITESPACE"," ",386],["T_VARIABLE","$image",386],"[",["T_CONSTANT_ENCAPSED_STRING","'label_default'",386],"]",",",["T_WHITESPACE","\n                    ",386],"]",["T_WHITESPACE","\n                ",387],")",";",["T_WHITESPACE","\n            ",388],"}",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n\n        ",390],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$imagesCollection",392],";",["T_WHITESPACE","\n    ",392],"}",["T_WHITESPACE","\n\n    ",393],["T_DOC_COMMENT","\/**\n     * Get media config\n     *\n     * @return \\Magento\\Catalog\\Model\\Product\\Media\\Config\n     *\/",395],["T_WHITESPACE","\n    ",399],["T_PROTECTED","protected",400],["T_WHITESPACE"," ",400],["T_FUNCTION","function",400],["T_WHITESPACE"," ",400],["T_STRING","_getMediaConfig",400],"(",")",["T_WHITESPACE","\n    ",400],"{",["T_WHITESPACE","\n        ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_mediaConfig",402],";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n",403],"}",["T_WHITESPACE","\n",404]]