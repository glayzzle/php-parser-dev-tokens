[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","SalesRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","RulesApplierTest",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PHPUnit_Framework_TestCase",9],["T_WHITESPACE","\n",9],"{",["T_WHITESPACE","\n    ",10],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\SalesRule\\Model\\RulesApplier\n     *\/",11],["T_WHITESPACE","\n    ",13],["T_PROTECTED","protected",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$rulesApplier",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\SalesRule\\Model\\Rule\\Action\\Discount\\CalculatorFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$calculatorFactory",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Event\\Manager|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$eventManager",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\SalesRule\\Model\\Utility|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$validatorUtility",29],";",["T_WHITESPACE","\n\n    ",29],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","calculatorFactory",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getMock",33],"(",["T_WHITESPACE","\n            ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","SalesRule",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Rule",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Action",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Discount",34],["T_NS_SEPARATOR","\\",34],["T_STRING","CalculatorFactory",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],",",["T_WHITESPACE","\n            ",34],"[","]",",",["T_WHITESPACE","\n            ",35],"[","]",",",["T_WHITESPACE","\n            ",36],["T_CONSTANT_ENCAPSED_STRING","''",37],",",["T_WHITESPACE","\n            ",37],["T_STRING","false",38],["T_WHITESPACE","\n        ",38],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","eventManager",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getMock",40],"(",["T_WHITESPACE","\n            ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Event",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Manager",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],",",["T_WHITESPACE","\n            ",41],"[",["T_CONSTANT_ENCAPSED_STRING","'dispatch'",42],"]",",",["T_WHITESPACE","\n            ",42],"[","]",",",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","''",44],",",["T_WHITESPACE","\n            ",44],["T_STRING","false",45],["T_WHITESPACE","\n        ",45],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","validatorUtility",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMock",47],"(",["T_WHITESPACE","\n            ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","SalesRule",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Utility",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],",",["T_WHITESPACE","\n            ",48],"[",["T_CONSTANT_ENCAPSED_STRING","'canProcessRule'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'minFix'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'deltaRoundingFix'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'getItemQty'",49],"]",",",["T_WHITESPACE","\n            ",49],"[","]",",",["T_WHITESPACE","\n            ",50],["T_CONSTANT_ENCAPSED_STRING","''",51],",",["T_WHITESPACE","\n            ",51],["T_STRING","false",52],["T_WHITESPACE","\n        ",52],")",";",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","rulesApplier",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","SalesRule",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","RulesApplier",55],"(",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","calculatorFactory",56],",",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","eventManager",57],",",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","validatorUtility",58],["T_WHITESPACE","\n        ",58],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @param bool $isChildren\n     * @param bool $isContinue\n     *\n     * @dataProvider dataProviderChildren\n     *\/",62],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","testApplyRulesWhenRuleWithStopRulesProcessingIsUsed",68],"(",["T_VARIABLE","$isChildren",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$isContinue",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$positivePrice",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_LNUMBER","1",70],";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$skipValidation",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","false",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$item",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getPreparedItem",72],"(",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$couponCode",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_LNUMBER","111",73],";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$ruleId",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$appliedRuleIds",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[",["T_VARIABLE","$ruleId",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$ruleId",76],"]",";",["T_WHITESPACE","\n\n        ",76],["T_DOC_COMMENT","\/**\n         * @var \\Magento\\SalesRule\\Model\\Rule|\\PHPUnit_Framework_MockObject_MockObject $ruleWithStopFurtherProcessing\n         *\/",78],["T_WHITESPACE","\n        ",80],["T_VARIABLE","$ruleWithStopFurtherProcessing",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getMock",81],"(",["T_WHITESPACE","\n            ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","SalesRule",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Rule",82],["T_DOUBLE_COLON","::",82],["T_CLASS","class",82],",",["T_WHITESPACE","\n            ",82],"[",["T_CONSTANT_ENCAPSED_STRING","'getStoreLabel'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'getCouponType'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'getActions'",83],"]",",",["T_WHITESPACE","\n            ",83],"[","]",",",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","''",85],",",["T_WHITESPACE","\n            ",85],["T_STRING","false",86],["T_WHITESPACE","\n        ",86],")",";",["T_WHITESPACE","\n        ",87],["T_DOC_COMMENT","\/** @var \\Magento\\SalesRule\\Model\\Rule|\\PHPUnit_Framework_MockObject_MockObject $ruleThatShouldNotBeRun *\/",88],["T_WHITESPACE","\n        ",88],["T_VARIABLE","$ruleThatShouldNotBeRun",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMock",89],"(",["T_WHITESPACE","\n            ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","SalesRule",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Model",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Rule",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],",",["T_WHITESPACE","\n            ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'getStopRulesProcessing'",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",91],"]",",",["T_WHITESPACE","\n            ",91],"[","]",",",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","''",93],",",["T_WHITESPACE","\n            ",93],["T_STRING","false",94],["T_WHITESPACE","\n        ",94],")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$actionMock",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMock",97],"(",["T_WHITESPACE","\n            ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Rule",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Action",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Collection",98],["T_DOUBLE_COLON","::",98],["T_CLASS","class",98],",",["T_WHITESPACE","\n            ",98],"[",["T_CONSTANT_ENCAPSED_STRING","'validate'",99],"]",",",["T_WHITESPACE","\n            ",99],"[","]",",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","''",101],",",["T_WHITESPACE","\n            ",101],["T_STRING","false",102],["T_WHITESPACE","\n        ",102],")",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$ruleWithStopFurtherProcessing",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","setName",105],"(",["T_CONSTANT_ENCAPSED_STRING","'ruleWithStopFurtherProcessing'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$ruleThatShouldNotBeRun",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setName",106],"(",["T_CONSTANT_ENCAPSED_STRING","'ruleThatShouldNotBeRun'",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$rules",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],"[",["T_VARIABLE","$ruleWithStopFurtherProcessing",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$ruleThatShouldNotBeRun",107],"]",";",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$item",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","setDiscountCalculationPrice",109],"(",["T_VARIABLE","$positivePrice",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$item",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setData",110],"(",["T_CONSTANT_ENCAPSED_STRING","'calculation_price'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$positivePrice",110],")",";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","validatorUtility",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","expects",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","atLeastOnce",112],"(",")",")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","method",113],"(",["T_CONSTANT_ENCAPSED_STRING","'canProcessRule'",113],")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","will",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","returnValue",114],"(",["T_STRING","true",114],")",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$ruleWithStopFurtherProcessing",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","expects",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","atLeastOnce",116],"(",")",")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","method",117],"(",["T_CONSTANT_ENCAPSED_STRING","'getActions'",117],")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","willReturn",118],"(",["T_VARIABLE","$actionMock",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$actionMock",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","expects",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","at",119],"(",["T_LNUMBER","0",119],")",")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","method",120],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",120],")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","with",121],"(",["T_VARIABLE","$item",121],")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","willReturn",122],"(","!",["T_VARIABLE","$isChildren",122],")",";",["T_WHITESPACE","\n\n        ",122],["T_COMMENT","\/\/ if there are child elements, check them\n",124],["T_WHITESPACE","        ",125],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$isChildren",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$item",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","expects",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","atLeastOnce",126],"(",")",")",["T_WHITESPACE","\n                ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","method",127],"(",["T_CONSTANT_ENCAPSED_STRING","'getChildren'",127],")",["T_WHITESPACE","\n                ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","willReturn",128],"(","[",["T_VARIABLE","$item",128],"]",")",";",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$actionMock",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","at",129],"(",["T_LNUMBER","1",129],")",")",["T_WHITESPACE","\n                ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",130],")",["T_WHITESPACE","\n                ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","with",131],"(",["T_VARIABLE","$item",131],")",["T_WHITESPACE","\n                ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","willReturn",132],"(","!",["T_VARIABLE","$isContinue",132],")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_COMMENT","\/\/\n",135],["T_WHITESPACE","        ",136],["T_IF","if",136],["T_WHITESPACE"," ",136],"(","!",["T_VARIABLE","$isContinue",136],["T_WHITESPACE"," ",136],["T_BOOLEAN_OR","||",136],["T_WHITESPACE"," ",136],"!",["T_VARIABLE","$isChildren",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$ruleWithStopFurtherProcessing",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","expects",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","any",137],"(",")",")",["T_WHITESPACE","\n                ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","method",138],"(",["T_CONSTANT_ENCAPSED_STRING","'getRuleId'",138],")",["T_WHITESPACE","\n                ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","will",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","returnValue",139],"(",["T_VARIABLE","$ruleId",139],")",")",";",["T_WHITESPACE","\n\n            ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","applyRule",141],"(",["T_VARIABLE","$item",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$ruleWithStopFurtherProcessing",141],")",";",["T_WHITESPACE","\n\n            ",141],["T_VARIABLE","$ruleWithStopFurtherProcessing",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setStopRulesProcessing",143],"(",["T_STRING","true",143],")",";",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$ruleThatShouldNotBeRun",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","expects",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","never",144],"(",")",")",["T_WHITESPACE","\n                ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","method",145],"(",["T_CONSTANT_ENCAPSED_STRING","'getStopRulesProcessing'",145],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$result",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","rulesApplier",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","applyRules",148],"(",["T_VARIABLE","$item",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$rules",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$skipValidation",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$couponCode",148],")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEquals",149],"(",["T_VARIABLE","$appliedRuleIds",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$result",149],")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","dataProviderChildren",152],"(",")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],"[",["T_WHITESPACE","\n            ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'isChildren'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_STRING","true",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'isContinue'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_STRING","false",155],"]",",",["T_WHITESPACE","\n            ",155],"[",["T_CONSTANT_ENCAPSED_STRING","'isChildren'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_STRING","false",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'isContinue'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_STRING","true",156],"]",",",["T_WHITESPACE","\n        ",156],"]",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",160],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","getPreparedItem",163],"(",")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Address|\\PHPUnit_Framework_MockObject_MockObject $address *\/",165],["T_WHITESPACE","\n        ",165],["T_VARIABLE","$address",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getMock",166],"(",["T_WHITESPACE","\n            ",166],["T_NS_SEPARATOR","\\",167],["T_STRING","Magento",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Quote",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Model",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Quote",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Address",167],["T_DOUBLE_COLON","::",167],["T_CLASS","class",167],",",["T_WHITESPACE","\n            ",167],"[",["T_WHITESPACE","\n                ",168],["T_CONSTANT_ENCAPSED_STRING","'getQuote'",169],",",["T_WHITESPACE","\n                ",169],["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",170],",",["T_WHITESPACE","\n                ",170],["T_CONSTANT_ENCAPSED_STRING","'setAppliedRuleIds'",171],",",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",172],["T_WHITESPACE","\n            ",172],"]",",",["T_WHITESPACE","\n            ",173],"[","]",",",["T_WHITESPACE","\n            ",174],["T_CONSTANT_ENCAPSED_STRING","''",175],",",["T_WHITESPACE","\n            ",175],["T_STRING","false",176],["T_WHITESPACE","\n        ",176],")",";",["T_WHITESPACE","\n        ",177],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem|\\PHPUnit_Framework_MockObject_MockObject $item *\/",178],["T_WHITESPACE","\n        ",178],["T_VARIABLE","$item",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getMock",179],"(",["T_WHITESPACE","\n            ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Quote",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Model",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Quote",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Item",180],["T_DOUBLE_COLON","::",180],["T_CLASS","class",180],",",["T_WHITESPACE","\n            ",180],"[",["T_WHITESPACE","\n                ",181],["T_CONSTANT_ENCAPSED_STRING","'setDiscountAmount'",182],",",["T_WHITESPACE","\n                ",182],["T_CONSTANT_ENCAPSED_STRING","'setBaseDiscountAmount'",183],",",["T_WHITESPACE","\n                ",183],["T_CONSTANT_ENCAPSED_STRING","'setDiscountPercent'",184],",",["T_WHITESPACE","\n                ",184],["T_CONSTANT_ENCAPSED_STRING","'getAddress'",185],",",["T_WHITESPACE","\n                ",185],["T_CONSTANT_ENCAPSED_STRING","'setAppliedRuleIds'",186],",",["T_WHITESPACE","\n                ",186],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",187],",",["T_WHITESPACE","\n                ",187],["T_CONSTANT_ENCAPSED_STRING","'getChildren'",188],["T_WHITESPACE","\n            ",188],"]",",",["T_WHITESPACE","\n            ",189],"[","]",",",["T_WHITESPACE","\n            ",190],["T_CONSTANT_ENCAPSED_STRING","''",191],",",["T_WHITESPACE","\n            ",191],["T_STRING","false",192],["T_WHITESPACE","\n        ",192],")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$quote",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getMock",194],"(",["T_NS_SEPARATOR","\\",194],["T_STRING","Magento",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Quote",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Model",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Quote",194],["T_DOUBLE_COLON","::",194],["T_CLASS","class",194],",",["T_WHITESPACE"," ",194],"[",["T_CONSTANT_ENCAPSED_STRING","'getStore'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'__wakeUp'",194],"]",",",["T_WHITESPACE"," ",194],"[","]",",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","''",194],",",["T_WHITESPACE"," ",194],["T_STRING","false",194],")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$item",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","expects",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","any",195],"(",")",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","method",195],"(",["T_CONSTANT_ENCAPSED_STRING","'getAddress'",195],")",["T_OBJECT_OPERATOR","->",195],["T_STRING","will",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","returnValue",195],"(",["T_VARIABLE","$address",195],")",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$address",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","expects",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","any",196],"(",")",")",["T_WHITESPACE","\n            ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","method",197],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",197],")",["T_WHITESPACE","\n            ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","will",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","returnValue",198],"(",["T_VARIABLE","$quote",198],")",")",";",["T_WHITESPACE","\n\n        ",198],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$item",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_PROTECTED","protected",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","applyRule",203],"(",["T_VARIABLE","$item",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$rule",203],")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$qty",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_LNUMBER","2",205],";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$discountCalc",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getMock",206],"(",["T_WHITESPACE","\n            ",206],["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","SalesRule",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Model",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Rule",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Action",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Discount",207],["T_DOUBLE_COLON","::",207],["T_CLASS","class",207],",",["T_WHITESPACE","\n            ",207],"[",["T_CONSTANT_ENCAPSED_STRING","'fixQuantity'",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'calculate'",208],"]",",",["T_WHITESPACE","\n            ",208],"[","]",",",["T_WHITESPACE","\n            ",209],["T_CONSTANT_ENCAPSED_STRING","''",210],",",["T_WHITESPACE","\n            ",210],["T_STRING","false",211],["T_WHITESPACE","\n        ",211],")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$discountData",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getMock",213],"(",["T_WHITESPACE","\n            ",213],["T_NS_SEPARATOR","\\",214],["T_STRING","Magento",214],["T_NS_SEPARATOR","\\",214],["T_STRING","SalesRule",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Model",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Rule",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Action",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Discount",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Data",214],["T_DOUBLE_COLON","::",214],["T_CLASS","class",214],",",["T_WHITESPACE","\n            ",214],"[","]",",",["T_WHITESPACE","\n            ",215],"[",["T_WHITESPACE","\n                ",216],["T_CONSTANT_ENCAPSED_STRING","'amount'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_LNUMBER","30",217],",",["T_WHITESPACE","\n                ",217],["T_CONSTANT_ENCAPSED_STRING","'baseAmount'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_LNUMBER","30",218],",",["T_WHITESPACE","\n                ",218],["T_CONSTANT_ENCAPSED_STRING","'originalAmount'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_LNUMBER","30",219],",",["T_WHITESPACE","\n                ",219],["T_CONSTANT_ENCAPSED_STRING","'baseOriginalAmount'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_LNUMBER","30",220],["T_WHITESPACE","\n            ",220],"]",",",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","''",222],",",["T_WHITESPACE","\n            ",222],["T_STRING","false",223],["T_WHITESPACE","\n        ",223],")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","validatorUtility",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","expects",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","any",225],"(",")",")",["T_WHITESPACE","\n            ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","method",226],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemQty'",226],")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","with",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","anything",227],"(",")",",",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","anything",227],"(",")",")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","will",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","returnValue",228],"(",["T_VARIABLE","$qty",228],")",")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$discountCalc",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","expects",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","any",229],"(",")",")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","method",230],"(",["T_CONSTANT_ENCAPSED_STRING","'fixQuantity'",230],")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","with",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","equalTo",231],"(",["T_VARIABLE","$qty",231],")",",",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","equalTo",231],"(",["T_VARIABLE","$rule",231],")",")",["T_WHITESPACE","\n            ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","will",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","returnValue",232],"(",["T_VARIABLE","$qty",232],")",")",";",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$discountCalc",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","expects",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","any",234],"(",")",")",["T_WHITESPACE","\n            ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","method",235],"(",["T_CONSTANT_ENCAPSED_STRING","'calculate'",235],")",["T_WHITESPACE","\n            ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","with",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","equalTo",236],"(",["T_VARIABLE","$rule",236],")",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","equalTo",236],"(",["T_VARIABLE","$item",236],")",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","equalTo",236],"(",["T_VARIABLE","$qty",236],")",")",["T_WHITESPACE","\n            ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","will",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","returnValue",237],"(",["T_VARIABLE","$discountData",237],")",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","calculatorFactory",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","expects",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","any",238],"(",")",")",["T_WHITESPACE","\n            ",238],["T_OBJECT_OPERATOR","->",239],["T_STRING","method",239],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",239],")",["T_WHITESPACE","\n            ",239],["T_OBJECT_OPERATOR","->",240],["T_STRING","with",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","anything",240],"(",")",")",["T_WHITESPACE","\n            ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","will",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","returnValue",241],"(",["T_VARIABLE","$discountCalc",241],")",")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n",242],"}",["T_WHITESPACE","\n",243]]