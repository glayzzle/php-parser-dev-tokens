[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SalesRule",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AttributeValueFactory",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ExtensionAttributesFactory",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Address",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Shopping Cart Rule data model\n *\n * @method \\Magento\\SalesRule\\Model\\ResourceModel\\Rule _getResource()\n * @method \\Magento\\SalesRule\\Model\\ResourceModel\\Rule getResource()\n * @method string getName()\n * @method \\Magento\\SalesRule\\Model\\Rule setName(string $value)\n * @method string getDescription()\n * @method \\Magento\\SalesRule\\Model\\Rule setDescription(string $value)\n * @method \\Magento\\SalesRule\\Model\\Rule setFromDate(string $value)\n * @method \\Magento\\SalesRule\\Model\\Rule setToDate(string $value)\n * @method int getUsesPerCustomer()\n * @method \\Magento\\SalesRule\\Model\\Rule setUsesPerCustomer(int $value)\n * @method int getUsesPerCoupon()\n * @method \\Magento\\SalesRule\\Model\\Rule setUsesPerCoupon(int $value)\n * @method \\Magento\\SalesRule\\Model\\Rule setCustomerGroupIds(string $value)\n * @method int getIsActive()\n * @method \\Magento\\SalesRule\\Model\\Rule setIsActive(int $value)\n * @method string getConditionsSerialized()\n * @method \\Magento\\SalesRule\\Model\\Rule setConditionsSerialized(string $value)\n * @method string getActionsSerialized()\n * @method \\Magento\\SalesRule\\Model\\Rule setActionsSerialized(string $value)\n * @method int getStopRulesProcessing()\n * @method \\Magento\\SalesRule\\Model\\Rule setStopRulesProcessing(int $value)\n * @method int getIsAdvanced()\n * @method \\Magento\\SalesRule\\Model\\Rule setIsAdvanced(int $value)\n * @method string getProductIds()\n * @method \\Magento\\SalesRule\\Model\\Rule setProductIds(string $value)\n * @method int getSortOrder()\n * @method \\Magento\\SalesRule\\Model\\Rule setSortOrder(int $value)\n * @method string getSimpleAction()\n * @method \\Magento\\SalesRule\\Model\\Rule setSimpleAction(string $value)\n * @method float getDiscountAmount()\n * @method \\Magento\\SalesRule\\Model\\Rule setDiscountAmount(float $value)\n * @method float getDiscountQty()\n * @method \\Magento\\SalesRule\\Model\\Rule setDiscountQty(float $value)\n * @method int getDiscountStep()\n * @method \\Magento\\SalesRule\\Model\\Rule setDiscountStep(int $value)\n * @method int getApplyToShipping()\n * @method \\Magento\\SalesRule\\Model\\Rule setApplyToShipping(int $value)\n * @method int getTimesUsed()\n * @method \\Magento\\SalesRule\\Model\\Rule setTimesUsed(int $value)\n * @method int getIsRss()\n * @method \\Magento\\SalesRule\\Model\\Rule setIsRss(int $value)\n * @method string getWebsiteIds()\n * @method \\Magento\\SalesRule\\Model\\Rule setWebsiteIds(string $value)\n * @method int getCouponType()\n * @method \\Magento\\SalesRule\\Model\\Rule setCouponType(int $value)\n * @method int getUseAutoGeneration()\n * @method \\Magento\\SalesRule\\Model\\Rule setUseAutoGeneration(int $value)\n * @method string getCouponCode()\n * @method \\Magento\\SalesRule\\Model\\Rule setCouponCode(string $value)\n * @method int getRuleId()\n * @method \\Magento\\SalesRule\\Model\\Rule setRuleId(int $ruleId)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",67],["T_CLASS","class",68],["T_WHITESPACE"," ",68],["T_STRING","Rule",68],["T_WHITESPACE"," ",68],["T_EXTENDS","extends",68],["T_WHITESPACE"," ",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Rule",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Model",68],["T_NS_SEPARATOR","\\",68],["T_STRING","AbstractModel",68],["T_WHITESPACE","\n",68],"{",["T_WHITESPACE","\n    ",69],["T_DOC_COMMENT","\/**\n     * Coupon types\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_CONST","const",73],["T_WHITESPACE"," ",73],["T_STRING","COUPON_TYPE_NO_COUPON",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_LNUMBER","1",73],";",["T_WHITESPACE","\n\n    ",73],["T_CONST","const",75],["T_WHITESPACE"," ",75],["T_STRING","COUPON_TYPE_SPECIFIC",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_LNUMBER","2",75],";",["T_WHITESPACE","\n\n    ",75],["T_CONST","const",77],["T_WHITESPACE"," ",77],["T_STRING","COUPON_TYPE_AUTO",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_LNUMBER","3",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Rule type actions\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_CONST","const",82],["T_WHITESPACE"," ",82],["T_STRING","TO_PERCENT_ACTION",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'to_percent'",82],";",["T_WHITESPACE","\n\n    ",82],["T_CONST","const",84],["T_WHITESPACE"," ",84],["T_STRING","BY_PERCENT_ACTION",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'by_percent'",84],";",["T_WHITESPACE","\n\n    ",84],["T_CONST","const",86],["T_WHITESPACE"," ",86],["T_STRING","TO_FIXED_ACTION",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'to_fixed'",86],";",["T_WHITESPACE","\n\n    ",86],["T_CONST","const",88],["T_WHITESPACE"," ",88],["T_STRING","BY_FIXED_ACTION",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'by_fixed'",88],";",["T_WHITESPACE","\n\n    ",88],["T_CONST","const",90],["T_WHITESPACE"," ",90],["T_STRING","CART_FIXED_ACTION",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'cart_fixed'",90],";",["T_WHITESPACE","\n\n    ",90],["T_CONST","const",92],["T_WHITESPACE"," ",92],["T_STRING","BUY_X_GET_Y_ACTION",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'buy_x_get_y'",92],";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Store coupon code generator instance\n     *\n     * @var \\Magento\\SalesRule\\Model\\Coupon\\CodegeneratorInterface\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_couponCodeGenerator",99],";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Prefix of model events names\n     *\n     * @var string\n     *\/",101],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$_eventPrefix",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'salesrule_rule'",106],";",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Parameter name in event\n     *\n     * In observe method you can use $observer->getEvent()->getRule() in this case\n     *\n     * @var string\n     *\/",108],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$_eventObject",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'rule'",115],";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Rule's primary coupon\n     *\n     * @var \\Magento\\SalesRule\\Model\\Coupon\n     *\/",117],["T_WHITESPACE","\n    ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$_primaryCoupon",122],";",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Rule's subordinate coupons\n     *\n     * @var \\Magento\\SalesRule\\Model\\Coupon[]\n     *\/",124],["T_WHITESPACE","\n    ",128],["T_PROTECTED","protected",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$_coupons",129],";",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Coupon types cache for lazy getter\n     *\n     * @var array\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$_couponTypes",136],";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Store already validated addresses and validation results\n     *\n     * @var array\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$_validatedAddresses",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[","]",";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\SalesRule\\Model\\CouponFactory\n     *\/",145],["T_WHITESPACE","\n    ",147],["T_PROTECTED","protected",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$_couponFactory",148],";",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\SalesRule\\Model\\Coupon\\CodegeneratorFactory\n     *\/",150],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$_codegenFactory",153],";",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\SalesRule\\Model\\Rule\\Condition\\CombineFactory\n     *\/",155],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$_condCombineFactory",158],";",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\SalesRule\\Model\\Rule\\Condition\\Product\\CombineFactory\n     *\/",160],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$_condProdCombineF",163],";",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\SalesRule\\Model\\ResourceModel\\Coupon\\Collection\n     *\/",165],["T_WHITESPACE","\n    ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$_couponCollection",168],";",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",170],["T_WHITESPACE","\n    ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$_storeManager",173],";",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Rule constructor\n     *\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Data\\FormFactory $formFactory\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param CouponFactory $couponFactory\n     * @param Coupon\\CodegeneratorFactory $codegenFactory\n     * @param Rule\\Condition\\CombineFactory $condCombineFactory\n     * @param Rule\\Condition\\Product\\CombineFactory $condProdCombineF\n     * @param ResourceModel\\Coupon\\Collection $couponCollection\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource|null $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb|null $resourceCollection\n     * @param array $data\n     * @param ExtensionAttributesFactory|null $extensionFactory\n     * @param AttributeValueFactory|null $customAttributeFactory\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",175],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","__construct",196],"(",["T_WHITESPACE","\n        ",196],["T_NS_SEPARATOR","\\",197],["T_STRING","Magento",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Framework",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Model",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Context",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$context",197],",",["T_WHITESPACE","\n        ",197],["T_NS_SEPARATOR","\\",198],["T_STRING","Magento",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Framework",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Registry",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$registry",198],",",["T_WHITESPACE","\n        ",198],["T_NS_SEPARATOR","\\",199],["T_STRING","Magento",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Framework",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Data",199],["T_NS_SEPARATOR","\\",199],["T_STRING","FormFactory",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$formFactory",199],",",["T_WHITESPACE","\n        ",199],["T_NS_SEPARATOR","\\",200],["T_STRING","Magento",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Framework",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Stdlib",200],["T_NS_SEPARATOR","\\",200],["T_STRING","DateTime",200],["T_NS_SEPARATOR","\\",200],["T_STRING","TimezoneInterface",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$localeDate",200],",",["T_WHITESPACE","\n        ",200],["T_NS_SEPARATOR","\\",201],["T_STRING","Magento",201],["T_NS_SEPARATOR","\\",201],["T_STRING","SalesRule",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Model",201],["T_NS_SEPARATOR","\\",201],["T_STRING","CouponFactory",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$couponFactory",201],",",["T_WHITESPACE","\n        ",201],["T_NS_SEPARATOR","\\",202],["T_STRING","Magento",202],["T_NS_SEPARATOR","\\",202],["T_STRING","SalesRule",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Model",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Coupon",202],["T_NS_SEPARATOR","\\",202],["T_STRING","CodegeneratorFactory",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$codegenFactory",202],",",["T_WHITESPACE","\n        ",202],["T_NS_SEPARATOR","\\",203],["T_STRING","Magento",203],["T_NS_SEPARATOR","\\",203],["T_STRING","SalesRule",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Model",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Rule",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Condition",203],["T_NS_SEPARATOR","\\",203],["T_STRING","CombineFactory",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$condCombineFactory",203],",",["T_WHITESPACE","\n        ",203],["T_NS_SEPARATOR","\\",204],["T_STRING","Magento",204],["T_NS_SEPARATOR","\\",204],["T_STRING","SalesRule",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Model",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Rule",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Condition",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Product",204],["T_NS_SEPARATOR","\\",204],["T_STRING","CombineFactory",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$condProdCombineF",204],",",["T_WHITESPACE","\n        ",204],["T_NS_SEPARATOR","\\",205],["T_STRING","Magento",205],["T_NS_SEPARATOR","\\",205],["T_STRING","SalesRule",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Model",205],["T_NS_SEPARATOR","\\",205],["T_STRING","ResourceModel",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Coupon",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Collection",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$couponCollection",205],",",["T_WHITESPACE","\n        ",205],["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Store",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Model",206],["T_NS_SEPARATOR","\\",206],["T_STRING","StoreManagerInterface",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$storeManager",206],",",["T_WHITESPACE","\n        ",206],["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Framework",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Model",207],["T_NS_SEPARATOR","\\",207],["T_STRING","ResourceModel",207],["T_NS_SEPARATOR","\\",207],["T_STRING","AbstractResource",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$resource",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","null",207],",",["T_WHITESPACE","\n        ",207],["T_NS_SEPARATOR","\\",208],["T_STRING","Magento",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Framework",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Data",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Collection",208],["T_NS_SEPARATOR","\\",208],["T_STRING","AbstractDb",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$resourceCollection",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","null",208],",",["T_WHITESPACE","\n        ",208],["T_ARRAY","array",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$data",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],"[","]",",",["T_WHITESPACE","\n        ",209],["T_STRING","ExtensionAttributesFactory",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$extensionFactory",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","null",210],",",["T_WHITESPACE","\n        ",210],["T_STRING","AttributeValueFactory",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$customAttributeFactory",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","null",211],["T_WHITESPACE","\n    ",211],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_couponFactory",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$couponFactory",213],";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_codegenFactory",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$codegenFactory",214],";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_condCombineFactory",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$condCombineFactory",215],";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_condProdCombineF",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$condProdCombineF",216],";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_couponCollection",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$couponCollection",217],";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_storeManager",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$storeManager",218],";",["T_WHITESPACE","\n        ",218],["T_STRING","parent",219],["T_DOUBLE_COLON","::",219],["T_STRING","__construct",219],"(",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$context",220],",",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$registry",221],",",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$formFactory",222],",",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$localeDate",223],",",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$resource",224],",",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$resourceCollection",225],",",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$data",226],",",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$extensionFactory",227],",",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$customAttributeFactory",228],["T_WHITESPACE","\n        ",228],")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Set resource model and Id field name\n     *\n     * @return void\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","_construct",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_STRING","parent",239],["T_DOUBLE_COLON","::",239],["T_STRING","_construct",239],"(",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_init",240],"(",["T_NS_SEPARATOR","\\",240],["T_STRING","Magento",240],["T_NS_SEPARATOR","\\",240],["T_STRING","SalesRule",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Model",240],["T_NS_SEPARATOR","\\",240],["T_STRING","ResourceModel",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Rule",240],["T_DOUBLE_COLON","::",240],["T_CLASS","class",240],")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","setIdFieldName",241],"(",["T_CONSTANT_ENCAPSED_STRING","'rule_id'",241],")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Set coupon code and uses per coupon\n     *\n     * @return $this\n     *\/",244],["T_WHITESPACE","\n    ",248],["T_PROTECTED","protected",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","_afterLoad",249],"(",")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","loadRelations",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_STRING","parent",252],["T_DOUBLE_COLON","::",252],["T_STRING","_afterLoad",252],"(",")",";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Load all relative data\n     *\n     * @return void\n     *\/",255],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","loadRelations",260],"(",")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","loadCouponCode",262],"(",")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Load coupon code\n     *\n     * @return void\n     *\/",265],["T_WHITESPACE","\n    ",269],["T_PUBLIC","public",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","loadCouponCode",270],"(",")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","setCouponCode",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getPrimaryCoupon",272],"(",")",["T_OBJECT_OPERATOR","->",272],["T_STRING","getCode",272],"(",")",")",";",["T_WHITESPACE","\n        ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getUsesPerCoupon",273],"(",")",["T_WHITESPACE"," ",273],["T_IS_EQUAL","==",273],["T_WHITESPACE"," ",273],["T_STRING","null",273],["T_WHITESPACE"," ",273],["T_BOOLEAN_AND","&&",273],["T_WHITESPACE"," ",273],"!",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getUseAutoGeneration",273],"(",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","setUsesPerCoupon",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getPrimaryCoupon",274],"(",")",["T_OBJECT_OPERATOR","->",274],["T_STRING","getUsageLimit",274],"(",")",")",";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * Save\/delete coupon\n     *\n     * @return $this\n     *\/",278],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","afterSave",283],"(",")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$couponCode",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","trim",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getCouponCode",285],"(",")",")",";",["T_WHITESPACE","\n        ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_STRING","strlen",286],"(",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$couponCode",287],["T_WHITESPACE","\n        ",287],")",["T_WHITESPACE"," ",288],["T_BOOLEAN_AND","&&",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getCouponType",288],"(",")",["T_WHITESPACE"," ",288],["T_IS_EQUAL","==",288],["T_WHITESPACE"," ",288],["T_STRING","self",288],["T_DOUBLE_COLON","::",288],["T_STRING","COUPON_TYPE_SPECIFIC",288],["T_WHITESPACE"," ",288],["T_BOOLEAN_AND","&&",288],["T_WHITESPACE"," ",288],"!",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getUseAutoGeneration",288],"(",")",["T_WHITESPACE","\n        ",288],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getPrimaryCoupon",290],"(",")",["T_OBJECT_OPERATOR","->",290],["T_STRING","setCode",290],"(",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$couponCode",291],["T_WHITESPACE","\n            ",291],")",["T_OBJECT_OPERATOR","->",292],["T_STRING","setUsageLimit",292],"(",["T_WHITESPACE","\n                ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getUsesPerCoupon",293],"(",")",["T_WHITESPACE"," ",293],"?",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getUsesPerCoupon",293],"(",")",["T_WHITESPACE"," ",293],":",["T_WHITESPACE"," ",293],["T_STRING","null",293],["T_WHITESPACE","\n            ",293],")",["T_OBJECT_OPERATOR","->",294],["T_STRING","setUsagePerCustomer",294],"(",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getUsesPerCustomer",295],"(",")",["T_WHITESPACE"," ",295],"?",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getUsesPerCustomer",295],"(",")",["T_WHITESPACE"," ",295],":",["T_WHITESPACE"," ",295],["T_STRING","null",295],["T_WHITESPACE","\n            ",295],")",["T_OBJECT_OPERATOR","->",296],["T_STRING","setExpirationDate",296],"(",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getToDate",297],"(",")",["T_WHITESPACE","\n            ",297],")",["T_OBJECT_OPERATOR","->",298],["T_STRING","save",298],"(",")",";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE"," ",299],["T_ELSE","else",299],["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getPrimaryCoupon",300],"(",")",["T_OBJECT_OPERATOR","->",300],["T_STRING","delete",300],"(",")",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n\n        ",301],["T_STRING","parent",303],["T_DOUBLE_COLON","::",303],["T_STRING","afterSave",303],"(",")",";",["T_WHITESPACE","\n        ",303],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Initialize rule model data from array.\n     * Set store labels if applicable.\n     *\n     * @param array $data\n     * @return $this\n     *\/",307],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","loadPost",314],"(",["T_ARRAY","array",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$data",314],")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_STRING","parent",316],["T_DOUBLE_COLON","::",316],["T_STRING","loadPost",316],"(",["T_VARIABLE","$data",316],")",";",["T_WHITESPACE","\n\n        ",316],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_ISSET","isset",318],"(",["T_VARIABLE","$data",318],"[",["T_CONSTANT_ENCAPSED_STRING","'store_labels'",318],"]",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","setStoreLabels",319],"(",["T_VARIABLE","$data",319],"[",["T_CONSTANT_ENCAPSED_STRING","'store_labels'",319],"]",")",";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n\n        ",320],["T_RETURN","return",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],";",["T_WHITESPACE","\n    ",322],"}",["T_WHITESPACE","\n\n    ",323],["T_DOC_COMMENT","\/**\n     * Get rule condition combine model instance\n     *\n     * @return \\Magento\\SalesRule\\Model\\Rule\\Condition\\Combine\n     *\/",325],["T_WHITESPACE","\n    ",329],["T_PUBLIC","public",330],["T_WHITESPACE"," ",330],["T_FUNCTION","function",330],["T_WHITESPACE"," ",330],["T_STRING","getConditionsInstance",330],"(",")",["T_WHITESPACE","\n    ",330],"{",["T_WHITESPACE","\n        ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_condCombineFactory",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","create",332],"(",")",";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Get rule condition product combine model instance\n     *\n     * @return \\Magento\\SalesRule\\Model\\Rule\\Condition\\Product\\Combine\n     *\/",335],["T_WHITESPACE","\n    ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","getActionsInstance",340],"(",")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_condProdCombineF",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","create",342],"(",")",";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Returns code generator instance for auto generated coupons\n     *\n     * @return \\Magento\\SalesRule\\Model\\Coupon\\CodegeneratorInterface\n     *\/",345],["T_WHITESPACE","\n    ",349],["T_PUBLIC","public",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","getCouponCodeGenerator",350],"(",")",["T_WHITESPACE","\n    ",350],"{",["T_WHITESPACE","\n        ",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(","!",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_couponCodeGenerator",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_codegenFactory",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","create",353],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_LNUMBER","16",353],"]","]",")",";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_couponCodeGenerator",355],";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Set code generator instance for auto generated coupons\n     *\n     * @param \\Magento\\SalesRule\\Model\\Coupon\\CodegeneratorInterface $codeGenerator\n     * @return void\n     *\/",358],["T_WHITESPACE","\n    ",363],["T_PUBLIC","public",364],["T_WHITESPACE"," ",364],["T_FUNCTION","function",364],["T_WHITESPACE"," ",364],["T_STRING","setCouponCodeGenerator",364],"(",["T_NS_SEPARATOR","\\",364],["T_STRING","Magento",364],["T_NS_SEPARATOR","\\",364],["T_STRING","SalesRule",364],["T_NS_SEPARATOR","\\",364],["T_STRING","Model",364],["T_NS_SEPARATOR","\\",364],["T_STRING","Coupon",364],["T_NS_SEPARATOR","\\",364],["T_STRING","CodegeneratorInterface",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$codeGenerator",364],")",["T_WHITESPACE","\n    ",364],"{",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_couponCodeGenerator",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$codeGenerator",366],";",["T_WHITESPACE","\n    ",366],"}",["T_WHITESPACE","\n\n    ",367],["T_DOC_COMMENT","\/**\n     * Retrieve rule's primary coupon\n     *\n     * @return \\Magento\\SalesRule\\Model\\Coupon\n     *\/",369],["T_WHITESPACE","\n    ",373],["T_PUBLIC","public",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","getPrimaryCoupon",374],"(",")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_primaryCoupon",376],["T_WHITESPACE"," ",376],["T_IS_IDENTICAL","===",376],["T_WHITESPACE"," ",376],["T_STRING","null",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_primaryCoupon",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_couponFactory",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","create",377],"(",")",";",["T_WHITESPACE","\n            ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_primaryCoupon",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","loadPrimaryByRule",378],"(",["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getId",378],"(",")",")",";",["T_WHITESPACE","\n            ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_primaryCoupon",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","setRule",379],"(",["T_VARIABLE","$this",379],")",["T_OBJECT_OPERATOR","->",379],["T_STRING","setIsPrimary",379],"(",["T_STRING","true",379],")",";",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n        ",380],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_primaryCoupon",381],";",["T_WHITESPACE","\n    ",381],"}",["T_WHITESPACE","\n\n    ",382],["T_DOC_COMMENT","\/**\n     * Get sales rule customer group Ids\n     *\n     * @return array\n     *\/",384],["T_WHITESPACE","\n    ",388],["T_PUBLIC","public",389],["T_WHITESPACE"," ",389],["T_FUNCTION","function",389],["T_WHITESPACE"," ",389],["T_STRING","getCustomerGroupIds",389],"(",")",["T_WHITESPACE","\n    ",389],"{",["T_WHITESPACE","\n        ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(","!",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","hasCustomerGroupIds",391],"(",")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$customerGroupIds",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_getResource",392],"(",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","getCustomerGroupIds",392],"(",["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getId",392],"(",")",")",";",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","setData",393],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_ids'",393],",",["T_WHITESPACE"," ",393],["T_ARRAY_CAST","(array)",393],["T_VARIABLE","$customerGroupIds",393],")",";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n        ",394],["T_RETURN","return",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_getData",395],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_ids'",395],")",";",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n\n    ",396],["T_DOC_COMMENT","\/**\n     * Get Rule label by specified store\n     *\n     * @param \\Magento\\Store\\Model\\Store|int|bool|null $store\n     * @return string|bool\n     *\/",398],["T_WHITESPACE","\n    ",403],["T_PUBLIC","public",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","getStoreLabel",404],"(",["T_VARIABLE","$store",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_STRING","null",404],")",["T_WHITESPACE","\n    ",404],"{",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$storeId",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_storeManager",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getStore",406],"(",["T_VARIABLE","$store",406],")",["T_OBJECT_OPERATOR","->",406],["T_STRING","getId",406],"(",")",";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$labels",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_ARRAY_CAST","(array)",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getStoreLabels",407],"(",")",";",["T_WHITESPACE","\n\n        ",407],["T_IF","if",409],["T_WHITESPACE"," ",409],"(",["T_ISSET","isset",409],"(",["T_VARIABLE","$labels",409],"[",["T_VARIABLE","$storeId",409],"]",")",")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n            ",409],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$labels",410],"[",["T_VARIABLE","$storeId",410],"]",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE"," ",411],["T_ELSEIF","elseif",411],["T_WHITESPACE"," ",411],"(",["T_ISSET","isset",411],"(",["T_VARIABLE","$labels",411],"[",["T_LNUMBER","0",411],"]",")",["T_WHITESPACE"," ",411],["T_BOOLEAN_AND","&&",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$labels",411],"[",["T_LNUMBER","0",411],"]",")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$labels",412],"[",["T_LNUMBER","0",412],"]",";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n\n        ",413],["T_RETURN","return",415],["T_WHITESPACE"," ",415],["T_STRING","false",415],";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n\n    ",416],["T_DOC_COMMENT","\/**\n     * Set if not yet and retrieve rule store labels\n     *\n     * @return array\n     *\/",418],["T_WHITESPACE","\n    ",422],["T_PUBLIC","public",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","getStoreLabels",423],"(",")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_IF","if",425],["T_WHITESPACE"," ",425],"(","!",["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","hasStoreLabels",425],"(",")",")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$labels",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_getResource",426],"(",")",["T_OBJECT_OPERATOR","->",426],["T_STRING","getStoreLabels",426],"(",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getId",426],"(",")",")",";",["T_WHITESPACE","\n            ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","setStoreLabels",427],"(",["T_VARIABLE","$labels",427],")",";",["T_WHITESPACE","\n        ",427],"}",["T_WHITESPACE","\n\n        ",428],["T_RETURN","return",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_getData",430],"(",["T_CONSTANT_ENCAPSED_STRING","'store_labels'",430],")",";",["T_WHITESPACE","\n    ",430],"}",["T_WHITESPACE","\n\n    ",431],["T_DOC_COMMENT","\/**\n     * Retrieve subordinate coupons\n     *\n     * @return \\Magento\\SalesRule\\Model\\Coupon[]\n     *\/",433],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","getCoupons",438],"(",")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_IF","if",440],["T_WHITESPACE"," ",440],"(",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_coupons",440],["T_WHITESPACE"," ",440],["T_IS_IDENTICAL","===",440],["T_WHITESPACE"," ",440],["T_STRING","null",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n            ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_couponCollection",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","addRuleToFilter",441],"(",["T_VARIABLE","$this",441],")",";",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_coupons",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_couponCollection",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getItems",442],"(",")",";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE","\n        ",443],["T_RETURN","return",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_coupons",444],";",["T_WHITESPACE","\n    ",444],"}",["T_WHITESPACE","\n\n    ",445],["T_DOC_COMMENT","\/**\n     * Retrieve coupon types\n     *\n     * @return array\n     *\/",447],["T_WHITESPACE","\n    ",451],["T_PUBLIC","public",452],["T_WHITESPACE"," ",452],["T_FUNCTION","function",452],["T_WHITESPACE"," ",452],["T_STRING","getCouponTypes",452],"(",")",["T_WHITESPACE","\n    ",452],"{",["T_WHITESPACE","\n        ",453],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","_couponTypes",454],["T_WHITESPACE"," ",454],["T_IS_IDENTICAL","===",454],["T_WHITESPACE"," ",454],["T_STRING","null",454],")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n            ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_couponTypes",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],"[",["T_WHITESPACE","\n                ",455],["T_NS_SEPARATOR","\\",456],["T_STRING","Magento",456],["T_NS_SEPARATOR","\\",456],["T_STRING","SalesRule",456],["T_NS_SEPARATOR","\\",456],["T_STRING","Model",456],["T_NS_SEPARATOR","\\",456],["T_STRING","Rule",456],["T_DOUBLE_COLON","::",456],["T_STRING","COUPON_TYPE_NO_COUPON",456],["T_WHITESPACE"," ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],["T_STRING","__",456],"(",["T_CONSTANT_ENCAPSED_STRING","'No Coupon'",456],")",",",["T_WHITESPACE","\n                ",456],["T_NS_SEPARATOR","\\",457],["T_STRING","Magento",457],["T_NS_SEPARATOR","\\",457],["T_STRING","SalesRule",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Model",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Rule",457],["T_DOUBLE_COLON","::",457],["T_STRING","COUPON_TYPE_SPECIFIC",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_STRING","__",457],"(",["T_CONSTANT_ENCAPSED_STRING","'Specific Coupon'",457],")",",",["T_WHITESPACE","\n            ",457],"]",";",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$transport",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_NEW","new",459],["T_WHITESPACE"," ",459],["T_NS_SEPARATOR","\\",459],["T_STRING","Magento",459],["T_NS_SEPARATOR","\\",459],["T_STRING","Framework",459],["T_NS_SEPARATOR","\\",459],["T_STRING","DataObject",459],"(",["T_WHITESPACE","\n                ",459],"[",["T_CONSTANT_ENCAPSED_STRING","'coupon_types'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_couponTypes",460],",",["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","'is_coupon_type_auto_visible'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_STRING","false",460],"]",["T_WHITESPACE","\n            ",460],")",";",["T_WHITESPACE","\n            ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_eventManager",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","dispatch",462],"(",["T_CONSTANT_ENCAPSED_STRING","'salesrule_rule_get_coupon_types'",462],",",["T_WHITESPACE"," ",462],"[",["T_CONSTANT_ENCAPSED_STRING","'transport'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$transport",462],"]",")",";",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_couponTypes",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$transport",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getCouponTypes",463],"(",")",";",["T_WHITESPACE","\n            ",463],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$transport",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","getIsCouponTypeAutoVisible",464],"(",")",")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n                ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","_couponTypes",465],"[",["T_NS_SEPARATOR","\\",465],["T_STRING","Magento",465],["T_NS_SEPARATOR","\\",465],["T_STRING","SalesRule",465],["T_NS_SEPARATOR","\\",465],["T_STRING","Model",465],["T_NS_SEPARATOR","\\",465],["T_STRING","Rule",465],["T_DOUBLE_COLON","::",465],["T_STRING","COUPON_TYPE_AUTO",465],"]",["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_STRING","__",465],"(",["T_CONSTANT_ENCAPSED_STRING","'Auto'",465],")",";",["T_WHITESPACE","\n            ",465],"}",["T_WHITESPACE","\n        ",466],"}",["T_WHITESPACE","\n        ",467],["T_RETURN","return",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_couponTypes",468],";",["T_WHITESPACE","\n    ",468],"}",["T_WHITESPACE","\n\n    ",469],["T_DOC_COMMENT","\/**\n     * Acquire coupon instance\n     *\n     * @param bool $saveNewlyCreated Whether or not to save newly created coupon\n     * @param int $saveAttemptCount Number of attempts to save newly created coupon\n     * @return \\Magento\\SalesRule\\Model\\Coupon|null\n     * @throws \\Exception|\\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",471],["T_WHITESPACE","\n    ",480],["T_PUBLIC","public",481],["T_WHITESPACE"," ",481],["T_FUNCTION","function",481],["T_WHITESPACE"," ",481],["T_STRING","acquireCoupon",481],"(",["T_VARIABLE","$saveNewlyCreated",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_STRING","true",481],",",["T_WHITESPACE"," ",481],["T_VARIABLE","$saveAttemptCount",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_LNUMBER","10",481],")",["T_WHITESPACE","\n    ",481],"{",["T_WHITESPACE","\n        ",482],["T_IF","if",483],["T_WHITESPACE"," ",483],"(",["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getCouponType",483],"(",")",["T_WHITESPACE"," ",483],["T_IS_EQUAL","==",483],["T_WHITESPACE"," ",483],["T_STRING","self",483],["T_DOUBLE_COLON","::",483],["T_STRING","COUPON_TYPE_NO_COUPON",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n            ",483],["T_RETURN","return",484],["T_WHITESPACE"," ",484],["T_STRING","null",484],";",["T_WHITESPACE","\n        ",484],"}",["T_WHITESPACE","\n        ",485],["T_IF","if",486],["T_WHITESPACE"," ",486],"(",["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getCouponType",486],"(",")",["T_WHITESPACE"," ",486],["T_IS_EQUAL","==",486],["T_WHITESPACE"," ",486],["T_STRING","self",486],["T_DOUBLE_COLON","::",486],["T_STRING","COUPON_TYPE_SPECIFIC",486],")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n            ",486],["T_RETURN","return",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","getPrimaryCoupon",487],"(",")",";",["T_WHITESPACE","\n        ",487],"}",["T_WHITESPACE","\n        ",488],["T_DOC_COMMENT","\/** @var \\Magento\\SalesRule\\Model\\Coupon $coupon *\/",489],["T_WHITESPACE","\n        ",489],["T_VARIABLE","$coupon",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","_couponFactory",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","create",490],"(",")",";",["T_WHITESPACE","\n        ",490],["T_VARIABLE","$coupon",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","setRule",491],"(",["T_WHITESPACE","\n            ",491],["T_VARIABLE","$this",492],["T_WHITESPACE","\n        ",492],")",["T_OBJECT_OPERATOR","->",493],["T_STRING","setIsPrimary",493],"(",["T_WHITESPACE","\n            ",493],["T_STRING","false",494],["T_WHITESPACE","\n        ",494],")",["T_OBJECT_OPERATOR","->",495],["T_STRING","setUsageLimit",495],"(",["T_WHITESPACE","\n            ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getUsesPerCoupon",496],"(",")",["T_WHITESPACE"," ",496],"?",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getUsesPerCoupon",496],"(",")",["T_WHITESPACE"," ",496],":",["T_WHITESPACE"," ",496],["T_STRING","null",496],["T_WHITESPACE","\n        ",496],")",["T_OBJECT_OPERATOR","->",497],["T_STRING","setUsagePerCustomer",497],"(",["T_WHITESPACE","\n            ",497],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","getUsesPerCustomer",498],"(",")",["T_WHITESPACE"," ",498],"?",["T_WHITESPACE"," ",498],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","getUsesPerCustomer",498],"(",")",["T_WHITESPACE"," ",498],":",["T_WHITESPACE"," ",498],["T_STRING","null",498],["T_WHITESPACE","\n        ",498],")",["T_OBJECT_OPERATOR","->",499],["T_STRING","setExpirationDate",499],"(",["T_WHITESPACE","\n            ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getToDate",500],"(",")",["T_WHITESPACE","\n        ",500],")",";",["T_WHITESPACE","\n\n        ",501],["T_VARIABLE","$couponCode",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_STRING","self",503],["T_DOUBLE_COLON","::",503],["T_STRING","getCouponCodeGenerator",503],"(",")",["T_OBJECT_OPERATOR","->",503],["T_STRING","generateCode",503],"(",")",";",["T_WHITESPACE","\n        ",503],["T_VARIABLE","$coupon",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","setCode",504],"(",["T_VARIABLE","$couponCode",504],")",";",["T_WHITESPACE","\n\n        ",504],["T_VARIABLE","$ok",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_STRING","false",506],";",["T_WHITESPACE","\n        ",506],["T_IF","if",507],["T_WHITESPACE"," ",507],"(","!",["T_VARIABLE","$saveNewlyCreated",507],")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n            ",507],["T_VARIABLE","$ok",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_STRING","true",508],";",["T_WHITESPACE","\n        ",508],"}",["T_WHITESPACE"," ",509],["T_ELSE","else",509],["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n            ",509],["T_IF","if",510],["T_WHITESPACE"," ",510],"(",["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getId",510],"(",")",")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n                ",510],["T_FOR","for",511],["T_WHITESPACE"," ",511],"(",["T_VARIABLE","$attemptNum",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_LNUMBER","0",511],";",["T_WHITESPACE"," ",511],["T_VARIABLE","$attemptNum",511],["T_WHITESPACE"," ",511],"<",["T_WHITESPACE"," ",511],["T_VARIABLE","$saveAttemptCount",511],";",["T_WHITESPACE"," ",511],["T_VARIABLE","$attemptNum",511],["T_INC","++",511],")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n                    ",511],["T_TRY","try",512],["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n                        ",512],["T_VARIABLE","$coupon",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","save",513],"(",")",";",["T_WHITESPACE","\n                    ",513],"}",["T_WHITESPACE"," ",514],["T_CATCH","catch",514],["T_WHITESPACE"," ",514],"(",["T_NS_SEPARATOR","\\",514],["T_STRING","Exception",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$e",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n                        ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(",["T_VARIABLE","$e",515],["T_WHITESPACE"," ",515],["T_INSTANCEOF","instanceof",515],["T_WHITESPACE"," ",515],["T_NS_SEPARATOR","\\",515],["T_STRING","Magento",515],["T_NS_SEPARATOR","\\",515],["T_STRING","Framework",515],["T_NS_SEPARATOR","\\",515],["T_STRING","Exception",515],["T_NS_SEPARATOR","\\",515],["T_STRING","LocalizedException",515],["T_WHITESPACE"," ",515],["T_BOOLEAN_OR","||",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$coupon",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getId",515],"(",")",")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n                            ",515],["T_THROW","throw",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$e",516],";",["T_WHITESPACE","\n                        ",516],"}",["T_WHITESPACE","\n                        ",517],["T_VARIABLE","$coupon",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","setCode",518],"(",["T_WHITESPACE","\n                            ",518],["T_VARIABLE","$couponCode",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_STRING","self",519],["T_DOUBLE_COLON","::",519],["T_STRING","getCouponCodeGenerator",519],"(",")",["T_OBJECT_OPERATOR","->",519],["T_STRING","getDelimiter",519],"(",")",["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_STRING","sprintf",519],"(",["T_WHITESPACE","\n                                ",519],["T_CONSTANT_ENCAPSED_STRING","'%04u'",520],",",["T_WHITESPACE","\n                                ",520],["T_STRING","rand",521],"(",["T_LNUMBER","0",521],",",["T_WHITESPACE"," ",521],["T_LNUMBER","9999",521],")",["T_WHITESPACE","\n                            ",521],")",["T_WHITESPACE","\n                        ",522],")",";",["T_WHITESPACE","\n                        ",523],["T_CONTINUE","continue",524],";",["T_WHITESPACE","\n                    ",524],"}",["T_WHITESPACE","\n                    ",525],["T_VARIABLE","$ok",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_STRING","true",526],";",["T_WHITESPACE","\n                    ",526],["T_BREAK","break",527],";",["T_WHITESPACE","\n                ",527],"}",["T_WHITESPACE","\n            ",528],"}",["T_WHITESPACE","\n        ",529],"}",["T_WHITESPACE","\n        ",530],["T_IF","if",531],["T_WHITESPACE"," ",531],"(","!",["T_VARIABLE","$ok",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n            ",531],["T_THROW","throw",532],["T_WHITESPACE"," ",532],["T_NEW","new",532],["T_WHITESPACE"," ",532],["T_NS_SEPARATOR","\\",532],["T_STRING","Magento",532],["T_NS_SEPARATOR","\\",532],["T_STRING","Framework",532],["T_NS_SEPARATOR","\\",532],["T_STRING","Exception",532],["T_NS_SEPARATOR","\\",532],["T_STRING","LocalizedException",532],"(",["T_STRING","__",532],"(",["T_CONSTANT_ENCAPSED_STRING","'Can\\'t acquire coupon.'",532],")",")",";",["T_WHITESPACE","\n        ",532],"}",["T_WHITESPACE","\n\n        ",533],["T_RETURN","return",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$coupon",535],";",["T_WHITESPACE","\n    ",535],"}",["T_WHITESPACE","\n\n    ",536],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",538],["T_WHITESPACE","\n    ",540],["T_PUBLIC","public",541],["T_WHITESPACE"," ",541],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","getFromDate",541],"(",")",["T_WHITESPACE","\n    ",541],"{",["T_WHITESPACE","\n        ",542],["T_RETURN","return",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","getData",543],"(",["T_CONSTANT_ENCAPSED_STRING","'from_date'",543],")",";",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n\n    ",544],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",546],["T_WHITESPACE","\n    ",548],["T_PUBLIC","public",549],["T_WHITESPACE"," ",549],["T_FUNCTION","function",549],["T_WHITESPACE"," ",549],["T_STRING","getToDate",549],"(",")",["T_WHITESPACE","\n    ",549],"{",["T_WHITESPACE","\n        ",550],["T_RETURN","return",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getData",551],"(",["T_CONSTANT_ENCAPSED_STRING","'to_date'",551],")",";",["T_WHITESPACE","\n    ",551],"}",["T_WHITESPACE","\n\n    ",552],["T_DOC_COMMENT","\/**\n     * Check cached validation result for specific address\n     *\n     * @param Address $address\n     * @return bool\n     *\/",554],["T_WHITESPACE","\n    ",559],["T_PUBLIC","public",560],["T_WHITESPACE"," ",560],["T_FUNCTION","function",560],["T_WHITESPACE"," ",560],["T_STRING","hasIsValidForAddress",560],"(",["T_VARIABLE","$address",560],")",["T_WHITESPACE","\n    ",560],"{",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$addressId",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","_getAddressId",562],"(",["T_VARIABLE","$address",562],")",";",["T_WHITESPACE","\n        ",562],["T_RETURN","return",563],["T_WHITESPACE"," ",563],["T_ISSET","isset",563],"(",["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","_validatedAddresses",563],"[",["T_VARIABLE","$addressId",563],"]",")",["T_WHITESPACE"," ",563],"?",["T_WHITESPACE"," ",563],["T_STRING","true",563],["T_WHITESPACE"," ",563],":",["T_WHITESPACE"," ",563],["T_STRING","false",563],";",["T_WHITESPACE","\n    ",563],"}",["T_WHITESPACE","\n\n    ",564],["T_DOC_COMMENT","\/**\n     * Set validation result for specific address to results cache\n     *\n     * @param Address $address\n     * @param bool $validationResult\n     * @return $this\n     *\/",566],["T_WHITESPACE","\n    ",572],["T_PUBLIC","public",573],["T_WHITESPACE"," ",573],["T_FUNCTION","function",573],["T_WHITESPACE"," ",573],["T_STRING","setIsValidForAddress",573],"(",["T_VARIABLE","$address",573],",",["T_WHITESPACE"," ",573],["T_VARIABLE","$validationResult",573],")",["T_WHITESPACE","\n    ",573],"{",["T_WHITESPACE","\n        ",574],["T_VARIABLE","$addressId",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_getAddressId",575],"(",["T_VARIABLE","$address",575],")",";",["T_WHITESPACE","\n        ",575],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","_validatedAddresses",576],"[",["T_VARIABLE","$addressId",576],"]",["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],["T_VARIABLE","$validationResult",576],";",["T_WHITESPACE","\n        ",576],["T_RETURN","return",577],["T_WHITESPACE"," ",577],["T_VARIABLE","$this",577],";",["T_WHITESPACE","\n    ",577],"}",["T_WHITESPACE","\n\n    ",578],["T_DOC_COMMENT","\/**\n     * Get cached validation result for specific address\n     *\n     * @param Address $address\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",580],["T_WHITESPACE","\n    ",586],["T_PUBLIC","public",587],["T_WHITESPACE"," ",587],["T_FUNCTION","function",587],["T_WHITESPACE"," ",587],["T_STRING","getIsValidForAddress",587],"(",["T_VARIABLE","$address",587],")",["T_WHITESPACE","\n    ",587],"{",["T_WHITESPACE","\n        ",588],["T_VARIABLE","$addressId",589],["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_getAddressId",589],"(",["T_VARIABLE","$address",589],")",";",["T_WHITESPACE","\n        ",589],["T_RETURN","return",590],["T_WHITESPACE"," ",590],["T_ISSET","isset",590],"(",["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","_validatedAddresses",590],"[",["T_VARIABLE","$addressId",590],"]",")",["T_WHITESPACE"," ",590],"?",["T_WHITESPACE"," ",590],["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","_validatedAddresses",590],"[",["T_VARIABLE","$addressId",590],"]",["T_WHITESPACE"," ",590],":",["T_WHITESPACE"," ",590],["T_STRING","false",590],";",["T_WHITESPACE","\n    ",590],"}",["T_WHITESPACE","\n\n    ",591],["T_DOC_COMMENT","\/**\n     * Return id for address\n     *\n     * @param Address $address\n     * @return string\n     *\/",593],["T_WHITESPACE","\n    ",598],["T_PRIVATE","private",599],["T_WHITESPACE"," ",599],["T_FUNCTION","function",599],["T_WHITESPACE"," ",599],["T_STRING","_getAddressId",599],"(",["T_VARIABLE","$address",599],")",["T_WHITESPACE","\n    ",599],"{",["T_WHITESPACE","\n        ",600],["T_IF","if",601],["T_WHITESPACE"," ",601],"(",["T_VARIABLE","$address",601],["T_WHITESPACE"," ",601],["T_INSTANCEOF","instanceof",601],["T_WHITESPACE"," ",601],["T_STRING","Address",601],")",["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n            ",601],["T_RETURN","return",602],["T_WHITESPACE"," ",602],["T_VARIABLE","$address",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getId",602],"(",")",";",["T_WHITESPACE","\n        ",602],"}",["T_WHITESPACE","\n        ",603],["T_RETURN","return",604],["T_WHITESPACE"," ",604],["T_VARIABLE","$address",604],";",["T_WHITESPACE","\n    ",604],"}",["T_WHITESPACE","\n\n    ",605],["T_DOC_COMMENT","\/**\n     * @param string $formName\n     * @return string\n     *\/",607],["T_WHITESPACE","\n    ",610],["T_PUBLIC","public",611],["T_WHITESPACE"," ",611],["T_FUNCTION","function",611],["T_WHITESPACE"," ",611],["T_STRING","getConditionsFieldSetId",611],"(",["T_VARIABLE","$formName",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","''",611],")",["T_WHITESPACE","\n    ",611],"{",["T_WHITESPACE","\n        ",612],["T_RETURN","return",613],["T_WHITESPACE"," ",613],["T_VARIABLE","$formName",613],["T_WHITESPACE"," ",613],".",["T_WHITESPACE"," ",613],["T_CONSTANT_ENCAPSED_STRING","'rule_conditions_fieldset_'",613],["T_WHITESPACE"," ",613],".",["T_WHITESPACE"," ",613],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","getId",613],"(",")",";",["T_WHITESPACE","\n    ",613],"}",["T_WHITESPACE","\n\n    ",614],["T_DOC_COMMENT","\/**\n     * @param string $formName\n     * @return string\n     *\/",616],["T_WHITESPACE","\n    ",619],["T_PUBLIC","public",620],["T_WHITESPACE"," ",620],["T_FUNCTION","function",620],["T_WHITESPACE"," ",620],["T_STRING","getActionsFieldSetId",620],"(",["T_VARIABLE","$formName",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_CONSTANT_ENCAPSED_STRING","''",620],")",["T_WHITESPACE","\n    ",620],"{",["T_WHITESPACE","\n        ",621],["T_RETURN","return",622],["T_WHITESPACE"," ",622],["T_VARIABLE","$formName",622],["T_WHITESPACE"," ",622],".",["T_WHITESPACE"," ",622],["T_CONSTANT_ENCAPSED_STRING","'rule_actions_fieldset_'",622],["T_WHITESPACE"," ",622],".",["T_WHITESPACE"," ",622],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","getId",622],"(",")",";",["T_WHITESPACE","\n    ",622],"}",["T_WHITESPACE","\n",623],"}",["T_WHITESPACE","\n",624]]