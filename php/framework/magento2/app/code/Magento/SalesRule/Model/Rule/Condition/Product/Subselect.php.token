[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SalesRule",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Rule",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Condition",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","Subselect",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","SalesRule",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Rule",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Condition",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Combine",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Rule\\Model\\Condition\\Context $context\n     * @param \\Magento\\SalesRule\\Model\\Rule\\Condition\\Product $ruleConditionProduct\n     * @param array $data\n     *\/",10],["T_WHITESPACE","\n    ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","__construct",15],"(",["T_WHITESPACE","\n        ",15],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Rule",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Condition",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Context",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$context",16],",",["T_WHITESPACE","\n        ",16],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","SalesRule",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Rule",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Condition",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Product",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$ruleConditionProduct",17],",",["T_WHITESPACE","\n        ",17],["T_ARRAY","array",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$data",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],"[","]",["T_WHITESPACE","\n    ",18],")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n        ",19],["T_STRING","parent",20],["T_DOUBLE_COLON","::",20],["T_STRING","__construct",20],"(",["T_VARIABLE","$context",20],",",["T_WHITESPACE"," ",20],["T_VARIABLE","$ruleConditionProduct",20],",",["T_WHITESPACE"," ",20],["T_VARIABLE","$data",20],")",";",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","setType",21],"(",["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","SalesRule",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Rule",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Condition",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Product",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Subselect",21],["T_DOUBLE_COLON","::",21],["T_CLASS","class",21],")",["T_OBJECT_OPERATOR","->",21],["T_STRING","setValue",21],"(",["T_STRING","null",21],")",";",["T_WHITESPACE","\n    ",21],"}",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Load array\n     *\n     * @param array $arr\n     * @param string $key\n     * @return $this\n     *\/",24],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","loadArray",31],"(",["T_VARIABLE","$arr",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$key",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'conditions'",31],")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","setAttribute",33],"(",["T_VARIABLE","$arr",33],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",33],"]",")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","setOperator",34],"(",["T_VARIABLE","$arr",34],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",34],"]",")",";",["T_WHITESPACE","\n        ",34],["T_STRING","parent",35],["T_DOUBLE_COLON","::",35],["T_STRING","loadArray",35],"(",["T_VARIABLE","$arr",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$key",35],")",";",["T_WHITESPACE","\n        ",35],["T_RETURN","return",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Return as xml\n     *\n     * @param string $containerKey\n     * @param string $itemKey\n     * @return string\n     *\/",39],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","asXml",46],"(",["T_VARIABLE","$containerKey",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'conditions'",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$itemKey",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'condition'",46],")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$xml",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'<attribute>'",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getAttribute",49],"(",")",["T_WHITESPACE"," ",49],".",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'<\/attribute>'",50],["T_WHITESPACE"," ",50],".",["T_WHITESPACE","\n            ",50],["T_CONSTANT_ENCAPSED_STRING","'<operator>'",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getOperator",52],"(",")",["T_WHITESPACE"," ",52],".",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'<\/operator>'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE","\n            ",53],["T_STRING","parent",54],["T_DOUBLE_COLON","::",54],["T_STRING","asXml",54],"(",["T_WHITESPACE","\n                ",54],["T_VARIABLE","$containerKey",55],",",["T_WHITESPACE","\n                ",55],["T_VARIABLE","$itemKey",56],["T_WHITESPACE","\n            ",56],")",";",["T_WHITESPACE","\n        ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$xml",58],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Load attribute options\n     *\n     * @return $this\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","loadAttributeOptions",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setAttributeOption",68],"(","[",["T_CONSTANT_ENCAPSED_STRING","'qty'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","__",68],"(",["T_CONSTANT_ENCAPSED_STRING","'total quantity'",68],")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'base_row_total'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","__",68],"(",["T_CONSTANT_ENCAPSED_STRING","'total amount'",68],")","]",")",";",["T_WHITESPACE","\n        ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Load value options\n     *\n     * @return $this\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","loadValueOptions",77],"(",")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Load operator options\n     *\n     * @return $this\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","loadOperatorOptions",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setOperatorOption",89],"(",["T_WHITESPACE","\n            ",89],"[",["T_WHITESPACE","\n                ",90],["T_CONSTANT_ENCAPSED_STRING","'=='",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_STRING","__",91],"(",["T_CONSTANT_ENCAPSED_STRING","'is'",91],")",",",["T_WHITESPACE","\n                ",91],["T_CONSTANT_ENCAPSED_STRING","'!='",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_STRING","__",92],"(",["T_CONSTANT_ENCAPSED_STRING","'is not'",92],")",",",["T_WHITESPACE","\n                ",92],["T_CONSTANT_ENCAPSED_STRING","'>='",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","__",93],"(",["T_CONSTANT_ENCAPSED_STRING","'equals or greater than'",93],")",",",["T_WHITESPACE","\n                ",93],["T_CONSTANT_ENCAPSED_STRING","'<='",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","__",94],"(",["T_CONSTANT_ENCAPSED_STRING","'equals or less than'",94],")",",",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'>'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","__",95],"(",["T_CONSTANT_ENCAPSED_STRING","'greater than'",95],")",",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'<'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","__",96],"(",["T_CONSTANT_ENCAPSED_STRING","'less than'",96],")",",",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'()'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_STRING","__",97],"(",["T_CONSTANT_ENCAPSED_STRING","'is one of'",97],")",",",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'!()'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","__",98],"(",["T_CONSTANT_ENCAPSED_STRING","'is not one of'",98],")",",",["T_WHITESPACE","\n            ",98],"]",["T_WHITESPACE","\n        ",99],")",";",["T_WHITESPACE","\n        ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Get value element type\n     *\n     * @return string\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","getValueElementType",109],"(",")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'text'",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Return as html\n     *\n     * @return string\n     *\/",114],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","asHtml",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$html",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getTypeElement",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","getHtml",121],"(",")",["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_STRING","__",121],"(",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","\"If %1 %2 %3 for a subselection of items in cart matching %4 of these conditions:\"",122],",",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getAttributeElement",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","getHtml",123],"(",")",",",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getOperatorElement",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","getHtml",124],"(",")",",",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getValueElement",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getHtml",125],"(",")",",",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getAggregatorElement",126],"(",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","getHtml",126],"(",")",["T_WHITESPACE","\n        ",126],")",";",["T_WHITESPACE","\n        ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getId",128],"(",")",["T_WHITESPACE"," ",128],["T_IS_NOT_EQUAL","!=",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'1'",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$html",129],["T_WHITESPACE"," ",129],["T_CONCAT_EQUAL",".=",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getRemoveLinkHtml",129],"(",")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$html",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Validate\n     *\n     * @param \\Magento\\Framework\\Model\\AbstractModel $model\n     * @return bool\n     *\/",134],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","validate",140],"(",["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Framework",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Model",140],["T_NS_SEPARATOR","\\",140],["T_STRING","AbstractModel",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$model",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(","!",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getConditions",142],"(",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_STRING","false",143],";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$attr",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getAttribute",145],"(",")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$total",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_LNUMBER","0",146],";",["T_WHITESPACE","\n        ",146],["T_FOREACH","foreach",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$model",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getQuote",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getAllVisibleItems",147],"(",")",["T_WHITESPACE"," ",147],["T_AS","as",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$item",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_STRING","parent",148],["T_DOUBLE_COLON","::",148],["T_STRING","validate",148],"(",["T_VARIABLE","$item",148],")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$total",149],["T_WHITESPACE"," ",149],["T_PLUS_EQUAL","+=",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$item",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getData",149],"(",["T_VARIABLE","$attr",149],")",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","validateAttribute",152],"(",["T_VARIABLE","$total",152],")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n",153],"}",["T_WHITESPACE","\n",154]]