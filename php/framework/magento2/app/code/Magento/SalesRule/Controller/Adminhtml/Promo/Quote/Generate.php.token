[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","SalesRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Promo",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Quote",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","Generate",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","SalesRule",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Controller",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Adminhtml",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Promo",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_WHITESPACE","\n",9],"{",["T_WHITESPACE","\n    ",10],["T_DOC_COMMENT","\/**\n     * Generate Coupons action\n     *\n     * @return void\n     *\/",11],["T_WHITESPACE","\n    ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","execute",16],"(",")",["T_WHITESPACE","\n    ",16],"{",["T_WHITESPACE","\n        ",17],["T_IF","if",18],["T_WHITESPACE"," ",18],"(","!",["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","getRequest",18],"(",")",["T_OBJECT_OPERATOR","->",18],["T_STRING","isAjax",18],"(",")",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n            ",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","_forward",19],"(",["T_CONSTANT_ENCAPSED_STRING","'noroute'",19],")",";",["T_WHITESPACE","\n            ",19],["T_RETURN","return",20],";",["T_WHITESPACE","\n        ",20],"}",["T_WHITESPACE","\n        ",21],["T_VARIABLE","$result",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],"[","]",";",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","_initRule",23],"(",")",";",["T_WHITESPACE","\n\n        ",23],["T_DOC_COMMENT","\/** @var $rule \\Magento\\SalesRule\\Model\\Rule *\/",25],["T_WHITESPACE","\n        ",25],["T_VARIABLE","$rule",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","_coreRegistry",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","registry",26],"(",["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","SalesRule",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Model",26],["T_NS_SEPARATOR","\\",26],["T_STRING","RegistryConstants",26],["T_DOUBLE_COLON","::",26],["T_STRING","CURRENT_SALES_RULE",26],")",";",["T_WHITESPACE","\n\n        ",26],["T_IF","if",28],["T_WHITESPACE"," ",28],"(","!",["T_VARIABLE","$rule",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getId",28],"(",")",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n            ",28],["T_VARIABLE","$result",29],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",29],"]",["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","__",29],"(",["T_CONSTANT_ENCAPSED_STRING","'Rule is not defined'",29],")",";",["T_WHITESPACE","\n        ",29],"}",["T_WHITESPACE"," ",30],["T_ELSE","else",30],["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n            ",30],["T_TRY","try",31],["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n                ",31],["T_VARIABLE","$data",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getRequest",32],"(",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","getParams",32],"(",")",";",["T_WHITESPACE","\n                ",32],["T_IF","if",33],["T_WHITESPACE"," ",33],"(","!",["T_EMPTY","empty",33],"(",["T_VARIABLE","$data",33],"[",["T_CONSTANT_ENCAPSED_STRING","'to_date'",33],"]",")",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n                    ",33],["T_VARIABLE","$inputFilter",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Zend_Filter_Input",34],"(","[",["T_CONSTANT_ENCAPSED_STRING","'to_date'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","_dateFilter",34],"]",",",["T_WHITESPACE"," ",34],"[","]",",",["T_WHITESPACE"," ",34],["T_VARIABLE","$data",34],")",";",["T_WHITESPACE","\n                    ",34],["T_VARIABLE","$data",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$inputFilter",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getUnescaped",35],"(",")",";",["T_WHITESPACE","\n                ",35],"}",["T_WHITESPACE","\n\n                ",36],["T_DOC_COMMENT","\/** @var $generator \\Magento\\SalesRule\\Model\\Coupon\\Massgenerator *\/",38],["T_WHITESPACE","\n                ",38],["T_VARIABLE","$generator",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_objectManager",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","get",39],"(",["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","SalesRule",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Coupon",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Massgenerator",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],")",";",["T_WHITESPACE","\n                ",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(","!",["T_VARIABLE","$generator",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","validateData",40],"(",["T_VARIABLE","$data",40],")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n                    ",40],["T_VARIABLE","$result",41],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","__",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid data provided'",41],")",";",["T_WHITESPACE","\n                ",41],"}",["T_WHITESPACE"," ",42],["T_ELSE","else",42],["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n                    ",42],["T_VARIABLE","$generator",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setData",43],"(",["T_VARIABLE","$data",43],")",";",["T_WHITESPACE","\n                    ",43],["T_VARIABLE","$generator",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","generatePool",44],"(",")",";",["T_WHITESPACE","\n                    ",44],["T_VARIABLE","$generated",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$generator",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getGeneratedCount",45],"(",")",";",["T_WHITESPACE","\n                    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","messageManager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","addSuccess",46],"(",["T_STRING","__",46],"(",["T_CONSTANT_ENCAPSED_STRING","'%1 coupon(s) have been generated.'",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$generated",46],")",")",";",["T_WHITESPACE","\n                    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_view",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getLayout",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","initMessages",47],"(",")",";",["T_WHITESPACE","\n                    ",47],["T_VARIABLE","$result",48],"[",["T_CONSTANT_ENCAPSED_STRING","'messages'",48],"]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_view",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getLayout",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getMessagesBlock",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getGroupedHtml",48],"(",")",";",["T_WHITESPACE","\n                ",48],"}",["T_WHITESPACE","\n            ",49],"}",["T_WHITESPACE"," ",50],["T_CATCH","catch",50],["T_WHITESPACE"," ",50],"(",["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Exception",50],["T_NS_SEPARATOR","\\",50],["T_STRING","LocalizedException",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$e",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n                ",50],["T_VARIABLE","$result",51],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$e",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMessage",51],"(",")",";",["T_WHITESPACE","\n            ",51],"}",["T_WHITESPACE"," ",52],["T_CATCH","catch",52],["T_WHITESPACE"," ",52],"(",["T_NS_SEPARATOR","\\",52],["T_STRING","Exception",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$e",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$result",53],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","__",53],"(",["T_WHITESPACE","\n                    ",53],["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while generating coupons. Please review the log and try again.'",54],["T_WHITESPACE","\n                ",54],")",";",["T_WHITESPACE","\n                ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_objectManager",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_NS_SEPARATOR","\\",56],["T_STRING","Psr",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Log",56],["T_NS_SEPARATOR","\\",56],["T_STRING","LoggerInterface",56],["T_DOUBLE_COLON","::",56],["T_CLASS","class",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","critical",56],"(",["T_VARIABLE","$e",56],")",";",["T_WHITESPACE","\n            ",56],"}",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getResponse",59],"(",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","representJson",59],"(",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_objectManager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Framework",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Json",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Helper",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Data",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","jsonEncode",60],"(",["T_VARIABLE","$result",60],")",["T_WHITESPACE","\n        ",60],")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n",62],"}",["T_WHITESPACE","\n",63]]