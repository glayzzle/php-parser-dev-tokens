[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EncryptionKey",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Controller",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Adminhtml",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Crypt",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Key",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Encryption Key Save Controller\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Save",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EncryptionKey",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Controller",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Adminhtml",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Crypt",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Key",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Encryption\\EncryptorInterface\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$encryptor",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\EncryptionKey\\Model\\ResourceModel\\Key\\Change\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$change",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\CacheInterface\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$cache",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\App\\Action\\Context $context\n     * @param \\Magento\\Framework\\Encryption\\EncryptorInterface $encryptor\n     * @param \\Magento\\EncryptionKey\\Model\\ResourceModel\\Key\\Change $change\n     * @param \\Magento\\Framework\\App\\CacheInterface $cache\n     *\/",30],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Backend",37],["T_NS_SEPARATOR","\\",37],["T_STRING","App",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Action",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Context",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$context",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Encryption",38],["T_NS_SEPARATOR","\\",38],["T_STRING","EncryptorInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$encryptor",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","EncryptionKey",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","ResourceModel",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Key",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Change",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$change",39],",",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","App",40],["T_NS_SEPARATOR","\\",40],["T_STRING","CacheInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$cache",40],["T_WHITESPACE","\n    ",40],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","encryptor",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$encryptor",42],";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","change",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$change",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","cache",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$cache",44],";",["T_WHITESPACE","\n        ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","__construct",45],"(",["T_VARIABLE","$context",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Process saving new encryption key\n     *\n     * @return void\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","execute",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_TRY","try",55],["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$key",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","null",56],";",["T_WHITESPACE","\n\n            ",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_LNUMBER","0",58],["T_WHITESPACE"," ",58],["T_IS_EQUAL","==",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getRequest",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getPost",58],"(",["T_CONSTANT_ENCAPSED_STRING","'generate_random'",58],")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$key",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getRequest",59],"(",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","getPost",59],"(",["T_CONSTANT_ENCAPSED_STRING","'crypt_key'",59],")",";",["T_WHITESPACE","\n                ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_EMPTY","empty",60],"(",["T_VARIABLE","$key",60],")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                    ",60],["T_THROW","throw",61],["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Exception",61],"(",["T_STRING","__",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter an encryption key.'",61],")",")",";",["T_WHITESPACE","\n                ",61],"}",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","encryptor",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","validateKey",63],"(",["T_VARIABLE","$key",63],")",";",["T_WHITESPACE","\n            ",63],"}",["T_WHITESPACE","\n\n            ",64],["T_VARIABLE","$newKey",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","change",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","changeEncryptionKey",66],"(",["T_VARIABLE","$key",66],")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","messageManager",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","addSuccessMessage",67],"(",["T_STRING","__",67],"(",["T_CONSTANT_ENCAPSED_STRING","'The encryption key has been changed.'",67],")",")",";",["T_WHITESPACE","\n\n            ",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_VARIABLE","$key",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","messageManager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","addNoticeMessage",70],"(",["T_WHITESPACE","\n                    ",70],["T_STRING","__",71],"(",["T_WHITESPACE","\n                        ",71],["T_CONSTANT_ENCAPSED_STRING","'This is your new encryption key: %1. '",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE","\n                        ",72],["T_CONSTANT_ENCAPSED_STRING","'Be sure to write it down and take good care of it!'",73],",",["T_WHITESPACE","\n                        ",73],["T_VARIABLE","$newKey",74],["T_WHITESPACE","\n                    ",74],")",["T_WHITESPACE","\n                ",75],")",";",["T_WHITESPACE","\n            ",76],"}",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","cache",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","clean",78],"(",")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE"," ",79],["T_CATCH","catch",79],["T_WHITESPACE"," ",79],"(",["T_NS_SEPARATOR","\\",79],["T_STRING","Exception",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$e",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","messageManager",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","addErrorMessage",80],"(",["T_VARIABLE","$e",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMessage",80],"(",")",")",";",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_session",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setFormData",81],"(","[",["T_CONSTANT_ENCAPSED_STRING","'crypt_key'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$key",81],"]",")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_redirect",83],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/*\/'",83],")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n",84],"}",["T_WHITESPACE","\n",85]]