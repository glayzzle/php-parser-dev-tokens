[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Widget",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Widget model for different purposes\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",8],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","Widget",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Widget\\Model\\Config\\Data\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$dataStorage",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Cache\\Type\\Config\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$configCacheType",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Asset\\Repository\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$assetRepo",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Asset\\Source\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$assetSource",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\FileSystem\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$viewFileSystem",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Escaper\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$escaper",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$widgetsArray",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[","]",";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Widget\\Helper\\Conditions\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$conditionsHelper",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Math\\Random\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PRIVATE","private",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$mathRandom",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Escaper $escaper\n     * @param \\Magento\\Widget\\Model\\Config\\Data $dataStorage\n     * @param \\Magento\\Framework\\View\\Asset\\Repository $assetRepo\n     * @param \\Magento\\Framework\\View\\Asset\\Source $assetSource\n     * @param \\Magento\\Framework\\View\\FileSystem $viewFileSystem\n     * @param \\Magento\\Widget\\Helper\\Conditions $conditionsHelper\n     *\/",59],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","__construct",67],"(",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Escaper",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$escaper",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Widget",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Model",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Config",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Data",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$dataStorage",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","View",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Asset",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Repository",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$assetRepo",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","View",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Asset",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Source",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$assetSource",71],",",["T_WHITESPACE","\n        ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Framework",72],["T_NS_SEPARATOR","\\",72],["T_STRING","View",72],["T_NS_SEPARATOR","\\",72],["T_STRING","FileSystem",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$viewFileSystem",72],",",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Widget",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Helper",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Conditions",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$conditionsHelper",73],["T_WHITESPACE","\n    ",73],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","escaper",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$escaper",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","dataStorage",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$dataStorage",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assetRepo",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$assetRepo",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assetSource",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$assetSource",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","viewFileSystem",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$viewFileSystem",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","conditionsHelper",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$conditionsHelper",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Framework\\Math\\Random\n     *\n     * @deprecated\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PRIVATE","private",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","getMathRandom",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","mathRandom",90],["T_WHITESPACE"," ",90],["T_IS_IDENTICAL","===",90],["T_WHITESPACE"," ",90],["T_STRING","null",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","mathRandom",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","App",91],["T_NS_SEPARATOR","\\",91],["T_STRING","ObjectManager",91],["T_DOUBLE_COLON","::",91],["T_STRING","getInstance",91],"(",")",["T_WHITESPACE","\n                ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","get",92],"(",["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Framework",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Math",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Random",92],["T_DOUBLE_COLON","::",92],["T_CLASS","class",92],")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","mathRandom",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Return widget config based on its class type\n     *\n     * @param string $type Widget type\n     * @return null|array\n     * @api\n     *\/",97],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getWidgetByClassType",104],"(",["T_VARIABLE","$type",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$widgets",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getWidgets",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_DOC_COMMENT","\/** @var array $widget *\/",107],["T_WHITESPACE","\n        ",107],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$widgets",108],["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$widget",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_ISSET","isset",109],"(",["T_VARIABLE","$widget",109],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",109],"]",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_ISSET","isset",110],"(",["T_VARIABLE","$widget",110],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",110],"]",")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                    ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$type",111],["T_WHITESPACE"," ",111],["T_IS_IDENTICAL","===",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$widget",111],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",111],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",111],"]",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$widget",112],";",["T_WHITESPACE","\n                    ",112],"}",["T_WHITESPACE","\n                ",113],"}",["T_WHITESPACE","\n            ",114],"}",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_STRING","null",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Return widget XML configuration as \\Magento\\Framework\\DataObject and makes some data preparations\n     *\n     * @param string $type Widget type\n     * @return null|\\Magento\\Framework\\Simplexml\\Element\n     *\/",120],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","getConfigAsXml",126],"(",["T_VARIABLE","$type",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getXmlElementByType",128],"(",["T_VARIABLE","$type",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Return widget XML configuration as \\Magento\\Framework\\DataObject and makes some data preparations\n     *\n     * @param string $type Widget type\n     * @return \\Magento\\Framework\\DataObject\n     *\/",131],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getConfigAsObject",137],"(",["T_VARIABLE","$type",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$widget",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getWidgetByClassType",139],"(",["T_VARIABLE","$type",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$object",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Framework",141],["T_NS_SEPARATOR","\\",141],["T_STRING","DataObject",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$widget",142],["T_WHITESPACE"," ",142],["T_IS_IDENTICAL","===",142],["T_WHITESPACE"," ",142],["T_STRING","null",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$object",143],";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$widget",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getAsCanonicalArray",145],"(",["T_VARIABLE","$widget",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_COMMENT","\/\/ Save all nodes to object data\n",147],["T_WHITESPACE","        ",148],["T_VARIABLE","$object",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setType",148],"(",["T_VARIABLE","$type",148],")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$object",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","setData",149],"(",["T_VARIABLE","$widget",149],")",";",["T_WHITESPACE","\n\n        ",149],["T_COMMENT","\/\/ Correct widget parameters and convert its data to objects\n",151],["T_WHITESPACE","        ",152],["T_VARIABLE","$newParams",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","prepareWidgetParameters",152],"(",["T_VARIABLE","$object",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$object",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setData",153],"(",["T_CONSTANT_ENCAPSED_STRING","'parameters'",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$newParams",153],")",";",["T_WHITESPACE","\n\n        ",153],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$object",155],";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Prepare widget parameters\n     *\n     * @param \\Magento\\Framework\\DataObject $object\n     * @return array\n     *\/",158],["T_WHITESPACE","\n    ",163],["T_PROTECTED","protected",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","prepareWidgetParameters",164],"(",["T_NS_SEPARATOR","\\",164],["T_STRING","Magento",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Framework",164],["T_NS_SEPARATOR","\\",164],["T_STRING","DataObject",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$object",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$params",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$object",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getData",166],"(",["T_CONSTANT_ENCAPSED_STRING","'parameters'",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$newParams",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],"[","]",";",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_STRING","is_array",168],"(",["T_VARIABLE","$params",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$sortOrder",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_LNUMBER","0",169],";",["T_WHITESPACE","\n            ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$params",170],["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$key",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$data",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_STRING","is_array",171],"(",["T_VARIABLE","$data",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                    ",171],["T_VARIABLE","$data",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","prepareDropDownValues",172],"(",["T_VARIABLE","$data",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$key",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$sortOrder",172],")",";",["T_WHITESPACE","\n                    ",172],["T_VARIABLE","$data",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","prepareHelperBlock",173],"(",["T_VARIABLE","$data",173],")",";",["T_WHITESPACE","\n\n                    ",173],["T_VARIABLE","$newParams",175],"[",["T_VARIABLE","$key",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_NEW","new",175],["T_WHITESPACE"," ",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Framework",175],["T_NS_SEPARATOR","\\",175],["T_STRING","DataObject",175],"(",["T_VARIABLE","$data",175],")",";",["T_WHITESPACE","\n                    ",175],["T_VARIABLE","$sortOrder",176],["T_INC","++",176],";",["T_WHITESPACE","\n                ",176],"}",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n        ",179],["T_STRING","uasort",180],"(",["T_VARIABLE","$newParams",180],",",["T_WHITESPACE"," ",180],"[",["T_VARIABLE","$this",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'sortParameters'",180],"]",")",";",["T_WHITESPACE","\n\n        ",180],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$newParams",182],";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Prepare drop-down values\n     *\n     * @param array $data\n     * @param string $key\n     * @param int $sortOrder\n     * @return array\n     *\/",185],["T_WHITESPACE","\n    ",192],["T_PROTECTED","protected",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","prepareDropDownValues",193],"(",["T_ARRAY","array",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$data",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$key",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$sortOrder",193],")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$data",195],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",195],"]",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$key",195],";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$data",196],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_ISSET","isset",196],"(",["T_VARIABLE","$data",196],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",196],"]",")",["T_WHITESPACE"," ",196],"?",["T_WHITESPACE"," ",196],["T_INT_CAST","(int)",196],["T_VARIABLE","$data",196],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",196],"]",["T_WHITESPACE"," ",196],":",["T_WHITESPACE"," ",196],["T_VARIABLE","$sortOrder",196],";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$values",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[","]",";",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_ISSET","isset",199],"(",["T_VARIABLE","$data",199],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",199],"]",")",["T_WHITESPACE"," ",199],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE"," ",199],["T_STRING","is_array",199],"(",["T_VARIABLE","$data",199],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",199],"]",")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$data",200],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",200],"]",["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$value",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_ISSET","isset",201],"(",["T_VARIABLE","$value",201],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",201],"]",")",["T_WHITESPACE"," ",201],["T_BOOLEAN_AND","&&",201],["T_WHITESPACE"," ",201],["T_ISSET","isset",201],"(",["T_VARIABLE","$value",201],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",201],"]",")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                    ",201],["T_VARIABLE","$values",202],"[","]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$value",202],";",["T_WHITESPACE","\n                ",202],"}",["T_WHITESPACE","\n            ",203],"}",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$data",206],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$values",206],";",["T_WHITESPACE","\n\n        ",206],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$data",208],";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Prepare helper block\n     *\n     * @param array $data\n     * @return array\n     *\/",211],["T_WHITESPACE","\n    ",216],["T_PROTECTED","protected",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","prepareHelperBlock",217],"(",["T_ARRAY","array",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$data",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_ISSET","isset",219],"(",["T_VARIABLE","$data",219],"[",["T_CONSTANT_ENCAPSED_STRING","'helper_block'",219],"]",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$helper",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Magento",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Framework",220],["T_NS_SEPARATOR","\\",220],["T_STRING","DataObject",220],"(",")",";",["T_WHITESPACE","\n            ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_ISSET","isset",221],"(",["T_VARIABLE","$data",221],"[",["T_CONSTANT_ENCAPSED_STRING","'helper_block'",221],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",221],"]",")",["T_WHITESPACE"," ",221],["T_BOOLEAN_AND","&&",221],["T_WHITESPACE"," ",221],["T_STRING","is_array",221],"(",["T_VARIABLE","$data",221],"[",["T_CONSTANT_ENCAPSED_STRING","'helper_block'",221],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",221],"]",")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                ",221],["T_VARIABLE","$helper",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","addData",222],"(",["T_VARIABLE","$data",222],"[",["T_CONSTANT_ENCAPSED_STRING","'helper_block'",222],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",222],"]",")",";",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE","\n            ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_ISSET","isset",224],"(",["T_VARIABLE","$data",224],"[",["T_CONSTANT_ENCAPSED_STRING","'helper_block'",224],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",224],"]",")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$helper",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","setType",225],"(",["T_VARIABLE","$data",225],"[",["T_CONSTANT_ENCAPSED_STRING","'helper_block'",225],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",225],"]",")",";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$data",227],"[",["T_CONSTANT_ENCAPSED_STRING","'helper_block'",227],"]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$helper",227],";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n\n        ",228],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$data",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Return filtered list of widgets\n     *\n     * @param array $filters Key-value array of filters for widget node properties\n     * @return array\n     * @api\n     *\/",233],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","getWidgets",240],"(",["T_VARIABLE","$filters",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"[","]",")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$widgets",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","dataStorage",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","get",242],"(",")",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$result",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$widgets",243],";",["T_WHITESPACE","\n\n        ",243],["T_COMMENT","\/\/ filter widgets by params\n",245],["T_WHITESPACE","        ",246],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_STRING","is_array",246],"(",["T_VARIABLE","$filters",246],")",["T_WHITESPACE"," ",246],["T_BOOLEAN_AND","&&",246],["T_WHITESPACE"," ",246],["T_STRING","count",246],"(",["T_VARIABLE","$filters",246],")",["T_WHITESPACE"," ",246],">",["T_WHITESPACE"," ",246],["T_LNUMBER","0",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_FOREACH","foreach",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$widgets",247],["T_WHITESPACE"," ",247],["T_AS","as",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$code",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$widget",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                ",247],["T_TRY","try",248],["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                    ",248],["T_FOREACH","foreach",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$filters",249],["T_WHITESPACE"," ",249],["T_AS","as",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$field",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$value",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                        ",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!",["T_ISSET","isset",250],"(",["T_VARIABLE","$widget",250],"[",["T_VARIABLE","$field",250],"]",")",["T_WHITESPACE"," ",250],["T_BOOLEAN_OR","||",250],["T_WHITESPACE"," ",250],["T_STRING_CAST","(string)",250],["T_VARIABLE","$widget",250],"[",["T_VARIABLE","$field",250],"]",["T_WHITESPACE"," ",250],["T_IS_NOT_EQUAL","!=",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$value",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n                            ",250],["T_THROW","throw",251],["T_WHITESPACE"," ",251],["T_NEW","new",251],["T_WHITESPACE"," ",251],["T_NS_SEPARATOR","\\",251],["T_STRING","Exception",251],"(",")",";",["T_WHITESPACE","\n                        ",251],"}",["T_WHITESPACE","\n                    ",252],"}",["T_WHITESPACE","\n                ",253],"}",["T_WHITESPACE"," ",254],["T_CATCH","catch",254],["T_WHITESPACE"," ",254],"(",["T_NS_SEPARATOR","\\",254],["T_STRING","Exception",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$e",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                    ",254],["T_UNSET","unset",255],"(",["T_VARIABLE","$result",255],"[",["T_VARIABLE","$code",255],"]",")",";",["T_WHITESPACE","\n                    ",255],["T_CONTINUE","continue",256],";",["T_WHITESPACE","\n                ",256],"}",["T_WHITESPACE","\n            ",257],"}",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n\n        ",259],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$result",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Return list of widgets as array\n     *\n     * @param array $filters Key-value array of filters for widget node properties\n     * @return array\n     * @api\n     *\/",264],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","getWidgetsArray",271],"(",["T_VARIABLE","$filters",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],"[","]",")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_EMPTY","empty",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","widgetsArray",273],")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$result",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],"[","]",";",["T_WHITESPACE","\n            ",274],["T_FOREACH","foreach",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getWidgets",275],"(",["T_VARIABLE","$filters",275],")",["T_WHITESPACE"," ",275],["T_AS","as",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$code",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$widget",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                ",275],["T_VARIABLE","$result",276],"[",["T_VARIABLE","$widget",276],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",276],"]","]",["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],"[",["T_WHITESPACE","\n                    ",276],["T_CONSTANT_ENCAPSED_STRING","'name'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_STRING","__",277],"(",["T_STRING_CAST","(string)",277],["T_VARIABLE","$widget",277],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",277],"]",")",",",["T_WHITESPACE","\n                    ",277],["T_CONSTANT_ENCAPSED_STRING","'code'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$code",278],",",["T_WHITESPACE","\n                    ",278],["T_CONSTANT_ENCAPSED_STRING","'type'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$widget",279],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",279],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",279],"]",",",["T_WHITESPACE","\n                    ",279],["T_CONSTANT_ENCAPSED_STRING","'description'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_STRING","__",280],"(",["T_STRING_CAST","(string)",280],["T_VARIABLE","$widget",280],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",280],"]",")",",",["T_WHITESPACE","\n                ",280],"]",";",["T_WHITESPACE","\n            ",281],"}",["T_WHITESPACE","\n            ",282],["T_STRING","usort",283],"(",["T_VARIABLE","$result",283],",",["T_WHITESPACE"," ",283],"[",["T_VARIABLE","$this",283],",",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","\"sortWidgets\"",283],"]",")",";",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","widgetsArray",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$result",284],";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","widgetsArray",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Return widget presentation code in WYSIWYG editor\n     *\n     * @param string $type Widget Type\n     * @param array $params Pre-configured Widget Params\n     * @param bool $asIs Return result as widget directive(true) or as placeholder image(false)\n     * @return string Widget directive ready to parse\n     * @api\n     *\/",289],["T_WHITESPACE","\n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","getWidgetDeclaration",298],"(",["T_VARIABLE","$type",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$params",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],"[","]",",",["T_WHITESPACE"," ",298],["T_VARIABLE","$asIs",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","true",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$directive",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'{{widget type=\"'",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_VARIABLE","$type",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'\"'",300],";",["T_WHITESPACE","\n\n        ",300],["T_FOREACH","foreach",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$params",302],["T_WHITESPACE"," ",302],["T_AS","as",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$name",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$value",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_COMMENT","\/\/ Retrieve default option value if pre-configured\n",303],["T_WHITESPACE","            ",304],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$name",304],["T_WHITESPACE"," ",304],["T_IS_EQUAL","==",304],["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'conditions'",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$name",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'conditions_encoded'",305],";",["T_WHITESPACE","\n                ",305],["T_VARIABLE","$value",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","conditionsHelper",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","encode",306],"(",["T_VARIABLE","$value",306],")",";",["T_WHITESPACE","\n            ",306],"}",["T_WHITESPACE"," ",307],["T_ELSEIF","elseif",307],["T_WHITESPACE"," ",307],"(",["T_STRING","is_array",307],"(",["T_VARIABLE","$value",307],")",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n                ",307],["T_VARIABLE","$value",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","implode",308],"(",["T_CONSTANT_ENCAPSED_STRING","','",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$value",308],")",";",["T_WHITESPACE","\n            ",308],"}",["T_WHITESPACE"," ",309],["T_ELSEIF","elseif",309],["T_WHITESPACE"," ",309],"(",["T_STRING","trim",309],"(",["T_VARIABLE","$value",309],")",["T_WHITESPACE"," ",309],["T_IS_EQUAL","==",309],["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","''",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                ",309],["T_VARIABLE","$widget",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getConfigAsObject",310],"(",["T_VARIABLE","$type",310],")",";",["T_WHITESPACE","\n                ",310],["T_VARIABLE","$parameters",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$widget",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getParameters",311],"(",")",";",["T_WHITESPACE","\n                ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_ISSET","isset",312],"(",["T_VARIABLE","$parameters",312],"[",["T_VARIABLE","$name",312],"]",")",["T_WHITESPACE"," ",312],["T_BOOLEAN_AND","&&",312],["T_WHITESPACE"," ",312],["T_STRING","is_object",312],"(",["T_VARIABLE","$parameters",312],"[",["T_VARIABLE","$name",312],"]",")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                    ",312],["T_VARIABLE","$value",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$parameters",313],"[",["T_VARIABLE","$name",313],"]",["T_OBJECT_OPERATOR","->",313],["T_STRING","getValue",313],"(",")",";",["T_WHITESPACE","\n                ",313],"}",["T_WHITESPACE","\n            ",314],"}",["T_WHITESPACE","\n            ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_ISSET","isset",316],"(",["T_VARIABLE","$value",316],")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                ",316],["T_VARIABLE","$directive",317],["T_WHITESPACE"," ",317],["T_CONCAT_EQUAL",".=",317],["T_WHITESPACE"," ",317],["T_STRING","sprintf",317],"(",["T_CONSTANT_ENCAPSED_STRING","' %s=\"%s\"'",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$name",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","escaper",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","escapeQuote",317],"(",["T_VARIABLE","$value",317],")",")",";",["T_WHITESPACE","\n            ",317],"}",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n\n        ",319],["T_VARIABLE","$directive",321],["T_WHITESPACE"," ",321],["T_CONCAT_EQUAL",".=",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getWidgetPageVarName",321],"(",["T_VARIABLE","$params",321],")",";",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$directive",322],["T_WHITESPACE"," ",322],["T_CONCAT_EQUAL",".=",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'}}'",322],";",["T_WHITESPACE","\n\n        ",322],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$asIs",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$directive",325],";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$html",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","sprintf",328],"(",["T_WHITESPACE","\n            ",328],["T_CONSTANT_ENCAPSED_STRING","'<img id=\"%s\" src=\"%s\" title=\"%s\">'",329],",",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","idEncode",330],"(",["T_VARIABLE","$directive",330],")",",",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getPlaceholderImageUrl",331],"(",["T_VARIABLE","$type",331],")",",",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","escaper",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","escapeUrl",332],"(",["T_VARIABLE","$directive",332],")",["T_WHITESPACE","\n        ",332],")",";",["T_WHITESPACE","\n        ",333],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$html",334],";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * @param array $params\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",337],["T_WHITESPACE","\n    ",341],["T_PRIVATE","private",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","getWidgetPageVarName",342],"(",["T_VARIABLE","$params",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],"[","]",")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$pageVarName",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","''",344],";",["T_WHITESPACE","\n        ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(",["T_STRING","array_key_exists",345],"(",["T_CONSTANT_ENCAPSED_STRING","'show_pager'",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$params",345],")",["T_WHITESPACE"," ",345],["T_BOOLEAN_AND","&&",345],["T_WHITESPACE"," ",345],["T_BOOL_CAST","(bool)",345],["T_VARIABLE","$params",345],"[",["T_CONSTANT_ENCAPSED_STRING","'show_pager'",345],"]",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$pageVarName",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","sprintf",346],"(",["T_WHITESPACE","\n                ",346],["T_CONSTANT_ENCAPSED_STRING","' %s=\"%s\"'",347],",",["T_WHITESPACE","\n                ",347],["T_CONSTANT_ENCAPSED_STRING","'page_var_name'",348],",",["T_WHITESPACE","\n                ",348],["T_CONSTANT_ENCAPSED_STRING","'p'",349],["T_WHITESPACE"," ",349],".",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getMathRandom",349],"(",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","getRandomString",349],"(",["T_LNUMBER","5",349],",",["T_WHITESPACE"," ",349],["T_NS_SEPARATOR","\\",349],["T_STRING","Magento",349],["T_NS_SEPARATOR","\\",349],["T_STRING","Framework",349],["T_NS_SEPARATOR","\\",349],["T_STRING","Math",349],["T_NS_SEPARATOR","\\",349],["T_STRING","Random",349],["T_DOUBLE_COLON","::",349],["T_STRING","CHARS_LOWERS",349],")",["T_WHITESPACE","\n            ",349],")",";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n        ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$pageVarName",352],";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_DOC_COMMENT","\/**\n     * Get image URL of WYSIWYG placeholder image\n     *\n     * @param string $type\n     * @return string\n     *\/",355],["T_WHITESPACE","\n    ",360],["T_PUBLIC","public",361],["T_WHITESPACE"," ",361],["T_FUNCTION","function",361],["T_WHITESPACE"," ",361],["T_STRING","getPlaceholderImageUrl",361],"(",["T_VARIABLE","$type",361],")",["T_WHITESPACE","\n    ",361],"{",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$placeholder",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_STRING","false",363],";",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$widget",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getWidgetByClassType",364],"(",["T_VARIABLE","$type",364],")",";",["T_WHITESPACE","\n        ",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_STRING","is_array",365],"(",["T_VARIABLE","$widget",365],")",["T_WHITESPACE"," ",365],["T_BOOLEAN_AND","&&",365],["T_WHITESPACE"," ",365],["T_ISSET","isset",365],"(",["T_VARIABLE","$widget",365],"[",["T_CONSTANT_ENCAPSED_STRING","'placeholder_image'",365],"]",")",")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$placeholder",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_STRING_CAST","(string)",366],["T_VARIABLE","$widget",366],"[",["T_CONSTANT_ENCAPSED_STRING","'placeholder_image'",366],"]",";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n        ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$placeholder",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n            ",368],["T_VARIABLE","$asset",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","assetRepo",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","createAsset",369],"(",["T_VARIABLE","$placeholder",369],")",";",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$placeholder",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assetSource",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getFile",370],"(",["T_VARIABLE","$asset",370],")",";",["T_WHITESPACE","\n            ",370],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_VARIABLE","$placeholder",371],")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n                ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$asset",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getUrl",372],"(",")",";",["T_WHITESPACE","\n            ",372],"}",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n        ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","assetRepo",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getUrl",375],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Widget::placeholder.gif'",375],")",";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Get a list of URLs of WYSIWYG placeholder images\n     *\n     * Returns array(<type> => <url>)\n     *\n     * @return array\n     *\/",378],["T_WHITESPACE","\n    ",384],["T_PUBLIC","public",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","getPlaceholderImageUrls",385],"(",")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$result",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],"[","]",";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$widgets",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getWidgets",388],"(",")",";",["T_WHITESPACE","\n        ",388],["T_DOC_COMMENT","\/** @var array $widget *\/",389],["T_WHITESPACE","\n        ",389],["T_FOREACH","foreach",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$widgets",390],["T_WHITESPACE"," ",390],["T_AS","as",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$widget",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n            ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_ISSET","isset",391],"(",["T_VARIABLE","$widget",391],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",391],"]",")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n                ",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_ISSET","isset",392],"(",["T_VARIABLE","$widget",392],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",392],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",392],"]",")",")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n                    ",392],["T_VARIABLE","$type",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$widget",393],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",393],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",393],"]",";",["T_WHITESPACE","\n                    ",393],["T_VARIABLE","$result",394],"[",["T_VARIABLE","$type",394],"]",["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","getPlaceholderImageUrl",394],"(",["T_VARIABLE","$type",394],")",";",["T_WHITESPACE","\n                ",394],"}",["T_WHITESPACE","\n            ",395],"}",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n        ",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$result",398],";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Remove attributes from widget array and emulate work of \\Magento\\Framework\\Simplexml\\Element::asCanonicalArray\n     *\n     * @param array $inputArray\n     * @return array\n     *\/",401],["T_WHITESPACE","\n    ",406],["T_PROTECTED","protected",407],["T_WHITESPACE"," ",407],["T_FUNCTION","function",407],["T_WHITESPACE"," ",407],["T_STRING","getAsCanonicalArray",407],"(",["T_VARIABLE","$inputArray",407],")",["T_WHITESPACE","\n    ",407],"{",["T_WHITESPACE","\n        ",408],["T_IF","if",409],["T_WHITESPACE"," ",409],"(",["T_STRING","array_key_exists",409],"(",["T_CONSTANT_ENCAPSED_STRING","'@'",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$inputArray",409],")",")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n            ",409],["T_UNSET","unset",410],"(",["T_VARIABLE","$inputArray",410],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",410],"]",")",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n        ",411],["T_FOREACH","foreach",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$inputArray",412],["T_WHITESPACE"," ",412],["T_AS","as",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$key",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$value",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_IF","if",413],["T_WHITESPACE"," ",413],"(","!",["T_STRING","is_array",413],"(",["T_VARIABLE","$value",413],")",")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n                ",413],["T_CONTINUE","continue",414],";",["T_WHITESPACE","\n            ",414],"}",["T_WHITESPACE","\n            ",415],["T_VARIABLE","$inputArray",416],"[",["T_VARIABLE","$key",416],"]",["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getAsCanonicalArray",416],"(",["T_VARIABLE","$value",416],")",";",["T_WHITESPACE","\n        ",416],"}",["T_WHITESPACE","\n        ",417],["T_RETURN","return",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$inputArray",418],";",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_DOC_COMMENT","\/**\n     * Encode string to valid HTML id element, based on base64 encoding\n     *\n     * @param string $string\n     * @return string\n     *\/",421],["T_WHITESPACE","\n    ",426],["T_PROTECTED","protected",427],["T_WHITESPACE"," ",427],["T_FUNCTION","function",427],["T_WHITESPACE"," ",427],["T_STRING","idEncode",427],"(",["T_VARIABLE","$string",427],")",["T_WHITESPACE","\n    ",427],"{",["T_WHITESPACE","\n        ",428],["T_RETURN","return",429],["T_WHITESPACE"," ",429],["T_STRING","strtr",429],"(",["T_STRING","base64_encode",429],"(",["T_VARIABLE","$string",429],")",",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'+\/='",429],",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","':_-'",429],")",";",["T_WHITESPACE","\n    ",429],"}",["T_WHITESPACE","\n\n    ",430],["T_DOC_COMMENT","\/**\n     * User-defined widgets sorting by Name\n     *\n     * @param array $firstElement\n     * @param array $secondElement\n     * @return bool\n     *\/",432],["T_WHITESPACE","\n    ",438],["T_PROTECTED","protected",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","sortWidgets",439],"(",["T_VARIABLE","$firstElement",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$secondElement",439],")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_RETURN","return",441],["T_WHITESPACE"," ",441],["T_STRING","strcmp",441],"(",["T_VARIABLE","$firstElement",441],"[",["T_CONSTANT_ENCAPSED_STRING","\"name\"",441],"]",",",["T_WHITESPACE"," ",441],["T_VARIABLE","$secondElement",441],"[",["T_CONSTANT_ENCAPSED_STRING","\"name\"",441],"]",")",";",["T_WHITESPACE","\n    ",441],"}",["T_WHITESPACE","\n\n    ",442],["T_DOC_COMMENT","\/**\n     * Widget parameters sort callback\n     *\n     * @param \\Magento\\Framework\\DataObject $firstElement\n     * @param \\Magento\\Framework\\DataObject $secondElement\n     * @return int\n     *\/",444],["T_WHITESPACE","\n    ",450],["T_PROTECTED","protected",451],["T_WHITESPACE"," ",451],["T_FUNCTION","function",451],["T_WHITESPACE"," ",451],["T_STRING","sortParameters",451],"(",["T_VARIABLE","$firstElement",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$secondElement",451],")",["T_WHITESPACE","\n    ",451],"{",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$aOrder",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_INT_CAST","(int)",453],["T_VARIABLE","$firstElement",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getData",453],"(",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",453],")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$bOrder",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_INT_CAST","(int)",454],["T_VARIABLE","$secondElement",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getData",454],"(",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",454],")",";",["T_WHITESPACE","\n        ",454],["T_RETURN","return",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$aOrder",455],["T_WHITESPACE"," ",455],"<",["T_WHITESPACE"," ",455],["T_VARIABLE","$bOrder",455],["T_WHITESPACE"," ",455],"?",["T_WHITESPACE"," ",455],"-",["T_LNUMBER","1",455],["T_WHITESPACE"," ",455],":",["T_WHITESPACE"," ",455],"(",["T_VARIABLE","$aOrder",455],["T_WHITESPACE"," ",455],">",["T_WHITESPACE"," ",455],["T_VARIABLE","$bOrder",455],["T_WHITESPACE"," ",455],"?",["T_WHITESPACE"," ",455],["T_LNUMBER","1",455],["T_WHITESPACE"," ",455],":",["T_WHITESPACE"," ",455],["T_LNUMBER","0",455],")",";",["T_WHITESPACE","\n    ",455],"}",["T_WHITESPACE","\n",456],"}",["T_WHITESPACE","\n",457]]