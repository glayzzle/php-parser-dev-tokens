[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Widget",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Layout",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Link",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Layout update collection model\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Collection",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceModel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Db",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Collection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractCollection",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$dateTime",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Data\\Collection\\Db\\FetchStrategyInterface $fetchStrategy\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param mixed $connection\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\AbstractDb $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\EntityFactory $entityFactory\n     *\/",18],["T_WHITESPACE","\n    ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","__construct",27],"(",["T_WHITESPACE","\n        ",27],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Data",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Collection",28],["T_NS_SEPARATOR","\\",28],["T_STRING","EntityFactory",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$entityFactory",28],",",["T_WHITESPACE","\n        ",28],["T_NS_SEPARATOR","\\",29],["T_STRING","Psr",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Log",29],["T_NS_SEPARATOR","\\",29],["T_STRING","LoggerInterface",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$logger",29],",",["T_WHITESPACE","\n        ",29],["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Framework",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Data",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Collection",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Db",30],["T_NS_SEPARATOR","\\",30],["T_STRING","FetchStrategyInterface",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$fetchStrategy",30],",",["T_WHITESPACE","\n        ",30],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Framework",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Event",31],["T_NS_SEPARATOR","\\",31],["T_STRING","ManagerInterface",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$eventManager",31],",",["T_WHITESPACE","\n        ",31],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Framework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Stdlib",32],["T_NS_SEPARATOR","\\",32],["T_STRING","DateTime",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$dateTime",32],",",["T_WHITESPACE","\n        ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Framework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","DB",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Adapter",33],["T_NS_SEPARATOR","\\",33],["T_STRING","AdapterInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$connection",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","null",33],",",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","ResourceModel",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Db",34],["T_NS_SEPARATOR","\\",34],["T_STRING","AbstractDb",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$resource",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","null",34],["T_WHITESPACE","\n    ",34],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","dateTime",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$dateTime",36],";",["T_WHITESPACE","\n        ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","__construct",37],"(",["T_VARIABLE","$entityFactory",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$logger",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$fetchStrategy",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$eventManager",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$connection",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$resource",37],")",";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Define resource model\n     *\n     * @return void\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","_construct",45],"(",")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_STRING","parent",47],["T_DOUBLE_COLON","::",47],["T_STRING","_construct",47],"(",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_init",48],"(",["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Widget",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Layout",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Link",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],",",["T_WHITESPACE"," ",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Widget",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","ResourceModel",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Layout",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Link",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Add filter by theme id\n     *\n     * @param int $themeId\n     * @return $this\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","addThemeFilter",57],"(",["T_VARIABLE","$themeId",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","addFieldToFilter",59],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_id'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$themeId",59],")",";",["T_WHITESPACE","\n        ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Join with layout update table\n     *\n     * @param array $fields\n     * @return $this\n     *\/",63],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","_joinWithUpdate",69],"(",["T_VARIABLE","$fields",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[","]",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$flagName",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'joined_with_update_table'",71],";",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(","!",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getFlag",72],"(",["T_VARIABLE","$flagName",72],")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getSelect",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","join",73],"(",["T_WHITESPACE","\n                ",73],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getTable",74],"(",["T_CONSTANT_ENCAPSED_STRING","'layout_update'",74],")","]",",",["T_WHITESPACE","\n                ",74],["T_CONSTANT_ENCAPSED_STRING","'update.layout_update_id = main_table.layout_update_id'",75],",",["T_WHITESPACE","\n                ",75],"[",["T_VARIABLE","$fields",76],"]",["T_WHITESPACE","\n            ",76],")",";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setFlag",78],"(",["T_VARIABLE","$flagName",78],",",["T_WHITESPACE"," ",78],["T_STRING","true",78],")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Filter by temporary flag\n     *\n     * @param bool $isTemporary\n     * @return $this\n     *\/",84],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","addTemporaryFilter",90],"(",["T_VARIABLE","$isTemporary",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","addFieldToFilter",92],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.is_temporary'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$isTemporary",92],["T_WHITESPACE"," ",92],"?",["T_WHITESPACE"," ",92],["T_LNUMBER","1",92],["T_WHITESPACE"," ",92],":",["T_WHITESPACE"," ",92],["T_LNUMBER","0",92],")",";",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Get links for layouts that are older than specified number of days\n     *\n     * @param string $days\n     * @return $this\n     *\/",96],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","addUpdatedDaysBeforeFilter",102],"(",["T_VARIABLE","$days",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$datetime",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","DateTime",104],"(",["T_CONSTANT_ENCAPSED_STRING","'now'",104],",",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","DateTimeZone",104],"(",["T_CONSTANT_ENCAPSED_STRING","'UTC'",104],")",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$storeInterval",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","DateInterval",105],"(",["T_CONSTANT_ENCAPSED_STRING","'P'",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$days",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'D'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$datetime",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","sub",106],"(",["T_VARIABLE","$storeInterval",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$formattedDate",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","dateTime",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","formatDate",107],"(",["T_VARIABLE","$datetime",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getTimestamp",107],"(",")",")",";",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_joinWithUpdate",109],"(",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","addFieldToFilter",110],"(",["T_WHITESPACE","\n            ",110],["T_CONSTANT_ENCAPSED_STRING","'update.updated_at'",111],",",["T_WHITESPACE","\n            ",111],"[",["T_CONSTANT_ENCAPSED_STRING","'notnull'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","true",112],"]",["T_WHITESPACE","\n        ",112],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","addFieldToFilter",113],"(",["T_WHITESPACE","\n            ",113],["T_CONSTANT_ENCAPSED_STRING","'update.updated_at'",114],",",["T_WHITESPACE","\n            ",114],"[",["T_CONSTANT_ENCAPSED_STRING","'lt'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$formattedDate",115],"]",["T_WHITESPACE","\n        ",115],")",";",["T_WHITESPACE","\n\n        ",116],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n",119],"}",["T_WHITESPACE","\n",120]]