[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Widget",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Layout",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Update",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","CollectionTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Widget",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceModel",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Layout",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AbstractTestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * Retrieve layout update collection instance\n     *\n     * @param \\Magento\\Framework\\DB\\Select $select\n     * @return \\Magento\\Widget\\Model\\ResourceModel\\Layout\\Update\\Collection\n     *\/",10],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","_getCollection",16],"(",["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DB",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Select",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$select",16],")",["T_WHITESPACE","\n    ",16],"{",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$eventManager",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","getMock",18],"(",["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Event",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ManagerInterface",18],["T_DOUBLE_COLON","::",18],["T_CLASS","class",18],",",["T_WHITESPACE"," ",18],"[","]",",",["T_WHITESPACE"," ",18],"[","]",",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","''",18],",",["T_WHITESPACE"," ",18],["T_STRING","false",18],")",";",["T_WHITESPACE","\n\n        ",18],["T_RETURN","return",20],["T_WHITESPACE"," ",20],["T_NEW","new",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Widget",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ResourceModel",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Layout",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Update",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Collection",20],"(",["T_WHITESPACE","\n            ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","getMock",21],"(",["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Data",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Collection",21],["T_NS_SEPARATOR","\\",21],["T_STRING","EntityFactory",21],["T_DOUBLE_COLON","::",21],["T_CLASS","class",21],",",["T_WHITESPACE"," ",21],"[","]",",",["T_WHITESPACE"," ",21],"[","]",",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","''",21],",",["T_WHITESPACE"," ",21],["T_STRING","false",21],")",",",["T_WHITESPACE","\n            ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","getMock",22],"(",["T_NS_SEPARATOR","\\",22],["T_STRING","Psr",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Log",22],["T_NS_SEPARATOR","\\",22],["T_STRING","LoggerInterface",22],["T_DOUBLE_COLON","::",22],["T_CLASS","class",22],")",",",["T_WHITESPACE","\n            ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getMockForAbstractClass",23],"(",["T_NS_SEPARATOR","\\",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Framework",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Data",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Collection",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Db",23],["T_NS_SEPARATOR","\\",23],["T_STRING","FetchStrategyInterface",23],["T_DOUBLE_COLON","::",23],["T_CLASS","class",23],")",",",["T_WHITESPACE","\n            ",23],["T_VARIABLE","$eventManager",24],",",["T_WHITESPACE","\n            ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getMock",25],"(",["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Framework",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Stdlib",25],["T_NS_SEPARATOR","\\",25],["T_STRING","DateTime",25],["T_DOUBLE_COLON","::",25],["T_CLASS","class",25],",",["T_WHITESPACE"," ",25],["T_STRING","null",25],",",["T_WHITESPACE"," ",25],"[","]",",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","''",25],",",["T_WHITESPACE"," ",25],["T_STRING","true",25],")",",",["T_WHITESPACE","\n            ",25],["T_STRING","null",26],",",["T_WHITESPACE","\n            ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","_getResource",27],"(",["T_VARIABLE","$select",27],")",["T_WHITESPACE","\n        ",27],")",";",["T_WHITESPACE","\n    ",28],"}",["T_WHITESPACE","\n\n    ",29],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testAddThemeFilter",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$themeId",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_LNUMBER","1",33],";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$select",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMock",34],"(",["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","DB",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Select",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],",",["T_WHITESPACE"," ",34],"[","]",",",["T_WHITESPACE"," ",34],"[","]",",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","''",34],",",["T_WHITESPACE"," ",34],["T_STRING","false",34],")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$select",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","expects",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","once",35],"(",")",")",["T_OBJECT_OPERATOR","->",35],["T_STRING","method",35],"(",["T_CONSTANT_ENCAPSED_STRING","'where'",35],")",["T_OBJECT_OPERATOR","->",35],["T_STRING","with",35],"(",["T_CONSTANT_ENCAPSED_STRING","'link.theme_id = ?'",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$themeId",35],")",";",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$collection",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","_getCollection",37],"(",["T_VARIABLE","$select",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$collection",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","addThemeFilter",38],"(",["T_VARIABLE","$themeId",38],")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testAddStoreFilter",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$storeId",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","1",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$select",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMock",44],"(",["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","DB",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Select",44],["T_DOUBLE_COLON","::",44],["T_CLASS","class",44],",",["T_WHITESPACE"," ",44],"[","]",",",["T_WHITESPACE"," ",44],"[","]",",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","''",44],",",["T_WHITESPACE"," ",44],["T_STRING","false",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$select",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","expects",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","once",45],"(",")",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","method",45],"(",["T_CONSTANT_ENCAPSED_STRING","'where'",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","with",45],"(",["T_CONSTANT_ENCAPSED_STRING","'link.store_id = ?'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$storeId",45],")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$collection",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_getCollection",47],"(",["T_VARIABLE","$select",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$collection",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","addStoreFilter",48],"(",["T_VARIABLE","$storeId",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Widget\\Model\\ResourceModel\\Layout\\Update\\Collection::_joinWithLink\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","testJoinWithLink",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$select",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getMock",56],"(",["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Framework",56],["T_NS_SEPARATOR","\\",56],["T_STRING","DB",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Select",56],["T_DOUBLE_COLON","::",56],["T_CLASS","class",56],",",["T_WHITESPACE"," ",56],"[","]",",",["T_WHITESPACE"," ",56],"[","]",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","''",56],",",["T_WHITESPACE"," ",56],["T_STRING","false",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$select",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","expects",57],"(",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","once",58],"(",")",["T_WHITESPACE","\n        ",58],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","method",59],"(",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","'join'",60],["T_WHITESPACE","\n        ",60],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","with",61],"(",["T_WHITESPACE","\n            ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'link'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'layout_link'",62],"]",",",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'link.layout_update_id = main_table.layout_update_id'",63],",",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","isType",64],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",64],")",["T_WHITESPACE","\n        ",64],")",";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$collection",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_getCollection",67],"(",["T_VARIABLE","$select",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$collection",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","addStoreFilter",68],"(",["T_LNUMBER","1",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$collection",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","addThemeFilter",69],"(",["T_LNUMBER","1",69],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","testAddNoLinksFilter",72],"(",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$select",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMock",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Framework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","DB",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Select",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],",",["T_WHITESPACE"," ",74],"[","]",",",["T_WHITESPACE"," ",74],"[","]",",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","''",74],",",["T_WHITESPACE"," ",74],["T_STRING","false",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$select",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","expects",75],"(",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","once",76],"(",")",["T_WHITESPACE","\n        ",76],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","method",77],"(",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'joinLeft'",78],["T_WHITESPACE","\n        ",78],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","with",79],"(",["T_WHITESPACE","\n            ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'link'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'layout_link'",80],"]",",",["T_WHITESPACE","\n            ",80],["T_CONSTANT_ENCAPSED_STRING","'link.layout_update_id = main_table.layout_update_id'",81],",",["T_WHITESPACE","\n            ",81],"[","[","]","]",["T_WHITESPACE","\n        ",82],")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$select",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","expects",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","once",84],"(",")",")",["T_OBJECT_OPERATOR","->",84],["T_STRING","method",84],"(",["T_CONSTANT_ENCAPSED_STRING","'where'",84],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","with",84],"(",["T_STRING","self",84],["T_DOUBLE_COLON","::",84],["T_STRING","TEST_WHERE_CONDITION",84],")",";",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$collection",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_getCollection",86],"(",["T_VARIABLE","$select",86],")",";",["T_WHITESPACE","\n\n        ",86],["T_DOC_COMMENT","\/** @var $connection \\PHPUnit_Framework_MockObject_MockObject *\/",88],["T_WHITESPACE","\n        ",88],["T_VARIABLE","$connection",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$collection",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getResource",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getConnection",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$connection",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","expects",90],"(",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","once",91],"(",")",["T_WHITESPACE","\n        ",91],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","method",92],"(",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'prepareSqlCondition'",93],["T_WHITESPACE","\n        ",93],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","with",94],"(",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'link.layout_update_id'",95],",",["T_WHITESPACE","\n            ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","true",96],"]",["T_WHITESPACE","\n        ",96],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","will",97],"(",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","returnValue",98],"(",["T_STRING","self",98],["T_DOUBLE_COLON","::",98],["T_STRING","TEST_WHERE_CONDITION",98],")",["T_WHITESPACE","\n        ",98],")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$collection",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","addNoLinksFilter",101],"(",")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n",102],"}",["T_WHITESPACE","\n",103]]