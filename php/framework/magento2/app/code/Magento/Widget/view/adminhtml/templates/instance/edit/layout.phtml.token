[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_DOC_COMMENT","\/** @var \\Magento\\Widget\\Block\\Adminhtml\\Widget\\Instance\\Edit\\Tab\\Main\\Layout $block *\/",9],["T_WHITESPACE","\n\n",9],["T_CLOSE_TAG","?>\n",11],["T_INLINE_HTML","<fieldset class=\"fieldset\">\n    <legend class=\"legend\"><span>",12],["T_OPEN_TAG","<?php ",13],["T_ECHO","echo",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$block",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","escapeHtml",13],"(",["T_STRING","__",13],"(",["T_CONSTANT_ENCAPSED_STRING","'Layout Updates'",13],")",")",";",["T_WHITESPACE"," ",13],["T_CLOSE_TAG","?>",13],["T_INLINE_HTML","<\/span><\/legend>\n    <br \/>\n    <div class=\"widget-layout-updates\">\n        <div id=\"page_group_container\"><\/div>\n        <div class=\"actions\">",13],["T_OPEN_TAG","<?php ",17],["T_ECHO","echo",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$block",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","getAddLayoutButtonHtml",17],"(",")",["T_WHITESPACE"," ",17],["T_CLOSE_TAG","?>",17],["T_INLINE_HTML","<\/div>\n    <\/div>\n<\/fieldset>\n<script id=\"ie-deferred-loader\" defer=\"defer\" src=\"\/\/:\"><\/script>\n<script>\nrequire([\n    'jquery',\n    'mage\/template',\n    'Magento_Ui\/js\/modal\/alert',\n    \"prototype\",\n    \"extjs\/ext-tree-checkbox\"\n], function (jQuery, mageTemplate, alert) {\n\n\/\/<![CDATA[\n\nvar pageGroupTemplate = '<div class=\"fieldset-wrapper page_group_container\" id=\"page_group_container_<%- data.id %>\">'+\n    '<div class=\"fieldset-wrapper-title\">'+\n        '<label for=\"widget_instance[<%- data.id %>][page_group]\">Display on <span class=\"required\">*<\/span><\/label>'+\n        '",17],["T_OPEN_TAG","<?php ",35],["T_ECHO","echo",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$block",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getDisplayOnSelectHtml",35],"(",")",";",["T_WHITESPACE"," ",35],["T_CLOSE_TAG","?>",35],["T_INLINE_HTML","'+\n        '<div class=\"actions\">'+\n        ",35],["T_OPEN_TAG","<?php ",37],["T_COMMENT","\/* @noEscape *\/",37],["T_WHITESPACE"," ",37],["T_ECHO","echo",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","helper",37],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento\\Framework\\Json\\Helper\\Data'",37],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","jsonEncode",37],"(",["T_VARIABLE","$block",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getRemoveLayoutButtonHtml",37],"(",")",")",["T_WHITESPACE"," ",37],["T_CLOSE_TAG","?>",37],["T_INLINE_HTML"," +\n        '<\/div>'+\n    '<\/div>'+\n    '<div class=\"fieldset-wrapper-content\">'+\n",37],["T_OPEN_TAG","<?php ",41],["T_FOREACH","foreach",41],["T_WHITESPACE"," ",41],"(",["T_VARIABLE","$block",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getDisplayOnContainers",41],"(",")",["T_WHITESPACE"," ",41],["T_AS","as",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$container",41],")",":",["T_WHITESPACE"," ",41],["T_CLOSE_TAG","?>\n",41],["T_INLINE_HTML","    '<div class=\"no-display ",42],["T_OPEN_TAG","<?php ",42],["T_ECHO","echo",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$block",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escapeJs",42],"(",["T_VARIABLE","$container",42],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",42],"]",")",["T_WHITESPACE"," ",42],["T_CLOSE_TAG","?>",42],["T_INLINE_HTML"," group_container\" id=\"",42],["T_OPEN_TAG","<?php ",42],["T_ECHO","echo",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$block",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","escapeJs",42],"(",["T_VARIABLE","$container",42],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",42],"]",")",["T_WHITESPACE"," ",42],["T_CLOSE_TAG","?>",42],["T_INLINE_HTML","_<%- data.id %>\">'+\n        '<input disabled=\"disabled\" type=\"hidden\" class=\"container_name\" name=\"__[container_name]\" value=\"widget_instance[<%- data.id %>][",42],["T_OPEN_TAG","<?php ",43],["T_ECHO","echo",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$block",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","escapeJs",43],"(",["T_VARIABLE","$container",43],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",43],"]",")",["T_WHITESPACE"," ",43],["T_CLOSE_TAG","?>",43],["T_INLINE_HTML","]\" \/>'+\n        '<input disabled=\"disabled\" type=\"hidden\" name=\"widget_instance[<%- data.id %>][",43],["T_OPEN_TAG","<?php ",44],["T_ECHO","echo",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$block",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","escapeJs",44],"(",["T_VARIABLE","$container",44],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",44],"]",")",["T_WHITESPACE"," ",44],["T_CLOSE_TAG","?>",44],["T_INLINE_HTML","][page_id]\" value=\"<%- data.page_id %>\" \/>'+\n        '<input disabled=\"disabled\" type=\"hidden\" class=\"layout_handle_pattern\" name=\"widget_instance[<%- data.id %>][",44],["T_OPEN_TAG","<?php ",45],["T_ECHO","echo",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$block",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","escapeJs",45],"(",["T_VARIABLE","$container",45],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",45],"]",")",["T_WHITESPACE"," ",45],["T_CLOSE_TAG","?>",45],["T_INLINE_HTML","][layout_handle]\" value=\"",45],["T_OPEN_TAG","<?php ",45],["T_ECHO","echo",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$block",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","escapeJs",45],"(",["T_VARIABLE","$container",45],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",45],"]",")",["T_WHITESPACE"," ",45],["T_CLOSE_TAG","?>",45],["T_INLINE_HTML","\" \/>'+\n        '<table class=\"data-table\">'+\n            '<col width=\"200\" \/>'+\n            '<thead>'+\n                '<tr>'+\n                    '<th><label>",45],["T_OPEN_TAG","<?php ",50],["T_ECHO","echo",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$block",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","escapeJs",50],"(",["T_STRING","__",50],"(",["T_CONSTANT_ENCAPSED_STRING","'%1'",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$container",50],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",50],"]",")",")",["T_WHITESPACE"," ",50],["T_CLOSE_TAG","?>",50],["T_INLINE_HTML","<\/label><\/th>'+\n                    '<th><label>",50],["T_OPEN_TAG","<?php ",51],["T_ECHO","echo",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$block",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","escapeJs",51],"(",["T_STRING","__",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Container'",51],")",")",["T_WHITESPACE"," ",51],["T_CLOSE_TAG","?>",51],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                    '<th><label>",51],["T_OPEN_TAG","<?php ",52],["T_ECHO","echo",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$block",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","escapeJs",52],"(",["T_STRING","__",52],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",52],")",")",["T_WHITESPACE"," ",52],["T_CLOSE_TAG","?>",52],["T_INLINE_HTML","<\/label><\/th>'+\n                '<\/tr>'+\n            '<\/thead>'+\n            '<tbody>'+\n                '<tr>'+\n                    '<td>'+\n                        '<input disabled=\"disabled\" type=\"radio\" class=\"radio for_all\" id=\"all_",52],["T_OPEN_TAG","<?php ",58],["T_ECHO","echo",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$block",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","escapeJs",58],"(",["T_VARIABLE","$container",58],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",58],"]",")",["T_WHITESPACE"," ",58],["T_CLOSE_TAG","?>",58],["T_INLINE_HTML","_<%- data.id %>\" name=\"widget_instance[<%- data.id %>][",58],["T_OPEN_TAG","<?php ",58],["T_ECHO","echo",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$block",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","escapeJs",58],"(",["T_VARIABLE","$container",58],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",58],"]",")",["T_WHITESPACE"," ",58],["T_CLOSE_TAG","?>",58],["T_INLINE_HTML","][for]\" value=\"all\" onclick=\"WidgetInstance.togglePageGroupChooser(this)\" checked=\"checked\" \/>&nbsp;'+\n                        '<label for=\"all_",58],["T_OPEN_TAG","<?php ",59],["T_ECHO","echo",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$block",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","escapeJs",59],"(",["T_VARIABLE","$container",59],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",59],"]",")",["T_WHITESPACE"," ",59],["T_CLOSE_TAG","?>",59],["T_INLINE_HTML","_<%- data.id %>\">",59],["T_OPEN_TAG","<?php ",59],["T_ECHO","echo",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$block",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","escapeJs",59],"(",["T_STRING","__",59],"(",["T_CONSTANT_ENCAPSED_STRING","'All'",59],")",")",["T_WHITESPACE"," ",59],["T_CLOSE_TAG","?>",59],["T_INLINE_HTML","<\/label><br \/>'+\n                        '<input disabled=\"disabled\" type=\"radio\" class=\"radio for_specific\" id=\"specific_",59],["T_OPEN_TAG","<?php ",60],["T_ECHO","echo",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$block",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","escapeJs",60],"(",["T_VARIABLE","$container",60],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",60],"]",")",["T_WHITESPACE"," ",60],["T_CLOSE_TAG","?>",60],["T_INLINE_HTML","_<%- data.id %>\" name=\"widget_instance[<%- data.id %>][",60],["T_OPEN_TAG","<?php ",60],["T_ECHO","echo",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$block",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","escapeJs",60],"(",["T_VARIABLE","$container",60],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",60],"]",")",["T_WHITESPACE"," ",60],["T_CLOSE_TAG","?>",60],["T_INLINE_HTML","][for]\" value=\"specific\" onclick=\"WidgetInstance.togglePageGroupChooser(this)\" \/>&nbsp;'+\n                        '<label for=\"specific_",60],["T_OPEN_TAG","<?php ",61],["T_ECHO","echo",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$block",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","escapeJs",61],"(",["T_VARIABLE","$container",61],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",61],"]",")",["T_WHITESPACE"," ",61],["T_CLOSE_TAG","?>",61],["T_INLINE_HTML","_<%- data.id %>\">",61],["T_OPEN_TAG","<?php ",61],["T_ECHO","echo",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$block",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","escapeJs",61],"(",["T_STRING","__",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Specific %1'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$container",61],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",61],"]",")",")",["T_WHITESPACE"," ",61],["T_CLOSE_TAG","?>",61],["T_INLINE_HTML","<\/label>'+\n                    '<\/td>'+\n                    '<td>'+\n                        '<div class=\"block_reference_container\">'+\n                            '<div class=\"block_reference\"><\/div>'+\n                        '<\/div>'+\n                    '<\/td>'+\n                    '<td>'+\n                        '<div class=\"block_template_container\">'+\n                            '<div class=\"block_template\"><\/div>'+\n                        '<\/div>'+\n                    '<\/td>'+\n                '<\/tr>'+\n            '<\/tbody>'+\n        '<\/table>'+\n        '<div class=\"no-display chooser_container\" id=\"",61],["T_OPEN_TAG","<?php ",76],["T_ECHO","echo",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$block",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","escapeJs",76],"(",["T_VARIABLE","$container",76],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",76],"]",")",["T_WHITESPACE"," ",76],["T_CLOSE_TAG","?>",76],["T_INLINE_HTML","_ids_<%- data.id %>\">'+\n            '<input disabled=\"disabled\" type=\"hidden\" class=\"is_anchor_only\" name=\"widget_instance[<%- data.id %>][",76],["T_OPEN_TAG","<?php ",77],["T_ECHO","echo",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$block",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","escapeJs",77],"(",["T_VARIABLE","$container",77],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",77],"]",")",["T_WHITESPACE"," ",77],["T_CLOSE_TAG","?>",77],["T_INLINE_HTML","][is_anchor_only]\" value=\"",77],["T_OPEN_TAG","<?php ",77],["T_ECHO","echo",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$block",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","escapeJs",77],"(",["T_VARIABLE","$container",77],"[",["T_CONSTANT_ENCAPSED_STRING","'is_anchor_only'",77],"]",")",["T_WHITESPACE"," ",77],["T_CLOSE_TAG","?>",77],["T_INLINE_HTML","\" \/>'+\n            '<input disabled=\"disabled\" type=\"hidden\" class=\"product_type_id\" name=\"widget_instance[<%- data.id %>][",77],["T_OPEN_TAG","<?php ",78],["T_ECHO","echo",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$block",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escapeJs",78],"(",["T_VARIABLE","$container",78],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",78],"]",")",["T_WHITESPACE"," ",78],["T_CLOSE_TAG","?>",78],["T_INLINE_HTML","][product_type_id]\" value=\"",78],["T_OPEN_TAG","<?php ",78],["T_ECHO","echo",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$block",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","escapeJs",78],"(",["T_VARIABLE","$container",78],"[",["T_CONSTANT_ENCAPSED_STRING","'product_type_id'",78],"]",")",["T_WHITESPACE"," ",78],["T_CLOSE_TAG","?>",78],["T_INLINE_HTML","\" \/>'+\n            '<p>' +\n                '<input disabled=\"disabled\" type=\"text\" class=\"input-text entities\" name=\"widget_instance[<%- data.id %>][",78],["T_OPEN_TAG","<?php ",80],["T_ECHO","echo",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$block",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","escapeJs",80],"(",["T_VARIABLE","$container",80],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",80],"]",")",["T_WHITESPACE"," ",80],["T_CLOSE_TAG","?>",80],["T_INLINE_HTML","][entities]\" value=\"<%- data.",80],["T_OPEN_TAG","<?php ",80],["T_ECHO","echo",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$block",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","escapeJs",80],"(",["T_VARIABLE","$container",80],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",80],"]",")",["T_WHITESPACE"," ",80],["T_CLOSE_TAG","?>",80],["T_INLINE_HTML","_entities %>\" readonly=\"readonly\" \/>&nbsp;' +\n                '<a class=\"widget-option-chooser\" href=\"javascript:void(0)\" onclick=\"WidgetInstance.displayEntityChooser(\\'",80],["T_OPEN_TAG","<?php ",81],["T_ECHO","echo",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$block",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","escapeJs",81],"(",["T_VARIABLE","$container",81],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",81],"]",")",["T_WHITESPACE"," ",81],["T_CLOSE_TAG","?>",81],["T_INLINE_HTML","\\', \\'",81],["T_OPEN_TAG","<?php ",81],["T_ECHO","echo",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$block",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","escapeJs",81],"(",["T_VARIABLE","$container",81],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",81],"]",")",["T_WHITESPACE"," ",81],["T_CLOSE_TAG","?>",81],["T_INLINE_HTML","_ids_<%- data.id %>\\')\"  title=\"",81],["T_OPEN_TAG","<?php ",81],["T_ECHO","echo",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$block",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","escapeJs",81],"(",["T_STRING","__",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Open Chooser'",81],")",")",["T_WHITESPACE"," ",81],["T_CLOSE_TAG","?>",81],["T_INLINE_HTML","\">' +\n                    '<img src=\"",81],["T_OPEN_TAG","<?php ",82],["T_ECHO","echo",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$block",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","escapeUrl",82],"(",["T_VARIABLE","$block",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getViewFileUrl",82],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/rule_chooser_trigger.gif'",82],")",")",["T_WHITESPACE"," ",82],["T_CLOSE_TAG","?>",82],["T_INLINE_HTML","\" alt=\"",82],["T_OPEN_TAG","<?php ",82],["T_ECHO","echo",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$block",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","escapeJs",82],"(",["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Open Chooser'",82],")",")",";",["T_WHITESPACE"," ",82],["T_CLOSE_TAG","?>",82],["T_INLINE_HTML","\" \/>' +\n                '<\/a>&nbsp;' +\n                '<a href=\"javascript:void(0)\" onclick=\"WidgetInstance.hideEntityChooser(\\'",82],["T_OPEN_TAG","<?php ",84],["T_ECHO","echo",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$block",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","escapeJs",84],"(",["T_VARIABLE","$container",84],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",84],"]",")",["T_WHITESPACE"," ",84],["T_CLOSE_TAG","?>",84],["T_INLINE_HTML","_ids_<%- data.id %>\\')\" title=\"",84],["T_OPEN_TAG","<?php ",84],["T_ECHO","echo",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$block",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","escapeJs",84],"(",["T_STRING","__",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",84],")",")",";",["T_WHITESPACE"," ",84],["T_CLOSE_TAG","?>",84],["T_INLINE_HTML","\">' +\n                    '<img src=\"",84],["T_OPEN_TAG","<?php ",85],["T_ECHO","echo",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$block",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","escapeUrl",85],"(",["T_VARIABLE","$block",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getViewFileUrl",85],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/rule_component_apply.gif'",85],")",")",["T_WHITESPACE"," ",85],["T_CLOSE_TAG","?>",85],["T_INLINE_HTML","\" alt=\"",85],["T_OPEN_TAG","<?php ",85],["T_ECHO","echo",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$block",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","escapeJs",85],"(",["T_STRING","__",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply'",85],")",")",";",["T_WHITESPACE"," ",85],["T_CLOSE_TAG","?>",85],["T_INLINE_HTML","\" \/>' +\n                '<\/a>' +\n            '<\/p>'+\n            '<div class=\"chooser\"><\/div>'+\n        '<\/div>'+\n    '<\/div>'+\n",85],["T_OPEN_TAG","<?php ",91],["T_ENDFOREACH","endforeach",91],";",["T_WHITESPACE"," ",91],["T_CLOSE_TAG","?>\n",91],["T_INLINE_HTML","'<div class=\"no-display all_pages group_container\" id=\"all_pages_<%- data.id %>\">'+\n    '<input disabled=\"disabled\" type=\"hidden\" class=\"container_name\" name=\"__[container_name]\" value=\"widget_instance[<%- data.id %>][all_pages]\" \/>'+\n    '<input disabled=\"disabled\" type=\"hidden\" name=\"widget_instance[<%- data.id %>][all_pages][page_id]\" value=\"<%- data.page_id %>\" \/>'+\n    '<input disabled=\"disabled\" type=\"hidden\" class=\"layout_handle_pattern\" name=\"widget_instance[<%- data.id %>][all_pages][layout_handle]\" value=\"default\" \/>'+\n    '<input disabled=\"disabled\" type=\"hidden\" class=\"for_all\" name=\"widget_instance[<%- data.id %>][all_pages][for]\" value=\"all\" \/>'+\n    '<table class=\"data-table\">'+\n        '<col width=\"200\" \/>'+\n        '<thead>'+\n            '<tr>'+\n                '<th><label>",92],["T_OPEN_TAG","<?php ",101],["T_ECHO","echo",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$block",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","escapeJs",101],"(",["T_STRING","__",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Container'",101],")",")",["T_WHITESPACE"," ",101],["T_CLOSE_TAG","?>",101],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                '<th><label>",101],["T_OPEN_TAG","<?php ",102],["T_ECHO","echo",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$block",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","escapeJs",102],"(",["T_STRING","__",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",102],")",")",["T_WHITESPACE"," ",102],["T_CLOSE_TAG","?>",102],["T_INLINE_HTML","<\/label><\/th>'+\n                '<th>&nbsp;<\/th>'+\n            '<\/tr>'+\n        '<\/thead>'+\n        '<tbody>'+\n            '<tr>'+\n                '<td>'+\n                    '<div class=\"block_reference_container\">'+\n                        '<div class=\"block_reference\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>'+\n                    '<div class=\"block_template_container\">'+\n                        '<div class=\"block_template\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>&nbsp;<\/td>'+\n            '<\/tr>'+\n        '<\/tbody>'+\n    '<\/table>'+\n'<\/div>'+\n'<div class=\"no-display ignore-validate pages group_container\" id=\"pages_<%- data.id %>\">'+\n    '<input disabled=\"disabled\" type=\"hidden\" class=\"container_name\" name=\"__[container_name]\" value=\"widget_instance[<%- data.id %>][pages]\" \/>'+\n    '<input disabled=\"disabled\" type=\"hidden\" name=\"widget_instance[<%- data.id %>][pages][page_id]\" value=\"<%- data.page_id %>\" \/>'+\n    '<input disabled=\"disabled\" type=\"hidden\" class=\"for_all\" name=\"widget_instance[<%- data.id %>][pages][for]\" value=\"all\" \/>'+\n    '<table class=\"data-table\">'+\n        '<col width=\"200\" \/>'+\n        '<thead>'+\n            '<tr>'+\n                '<th><label>",102],["T_OPEN_TAG","<?php ",131],["T_ECHO","echo",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$block",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","escapeJs",131],"(",["T_STRING","__",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Page'",131],")",")",["T_WHITESPACE"," ",131],["T_CLOSE_TAG","?>",131],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                '<th><label>",131],["T_OPEN_TAG","<?php ",132],["T_ECHO","echo",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$block",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","escapeJs",132],"(",["T_STRING","__",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Container'",132],")",")",["T_WHITESPACE"," ",132],["T_CLOSE_TAG","?>",132],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                '<th><label>",132],["T_OPEN_TAG","<?php ",133],["T_ECHO","echo",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$block",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","escapeJs",133],"(",["T_STRING","__",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",133],")",")",["T_WHITESPACE"," ",133],["T_CLOSE_TAG","?>",133],["T_INLINE_HTML","<\/label><\/th>'+\n            '<\/tr>'+\n        '<\/thead>'+\n        '<tbody>'+\n            '<tr>'+\n                '<td>",133],["T_OPEN_TAG","<?php ",138],["T_COMMENT","\/* @noEscape *\/",138],["T_WHITESPACE"," ",138],["T_ECHO","echo",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$block",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getLayoutsChooser",138],"(",")",["T_WHITESPACE"," ",138],["T_CLOSE_TAG","?>",138],["T_INLINE_HTML","<\/td>'+\n                '<td>'+\n                    '<div class=\"block_reference_container\">'+\n                        '<div class=\"block_reference\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>'+\n                    '<div class=\"block_template_container\">'+\n                        '<div class=\"block_template\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>&nbsp;<\/td>'+\n            '<\/tr>'+\n        '<\/tbody>'+\n    '<\/table>'+\n'<\/div>'+\n'<div class=\"no-display ignore-validate pages group_container\" id=\"page_layouts_<%- data.id %>\">'+\n    '<input disabled=\"disabled\" type=\"hidden\" class=\"container_name\" name=\"__[container_name]\" value=\"widget_instance[<%- data.id %>][page_layouts]\" \/>'+\n    '<input disabled=\"disabled\" type=\"hidden\" name=\"widget_instance[<%- data.id %>][page_layouts][page_id]\" value=\"<%- data.page_id %>\" \/>'+\n    '<input disabled=\"disabled\" type=\"hidden\" class=\"for_all\" name=\"widget_instance[<%- data.id %>][page_layouts][for]\" value=\"all\" \/>'+\n    '<table class=\"data-table\">'+\n        '<col width=\"200\" \/>'+\n        '<thead>'+\n            '<tr>'+\n                '<th><label>",138],["T_OPEN_TAG","<?php ",162],["T_ECHO","echo",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$block",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","escapeJs",162],"(",["T_STRING","__",162],"(",["T_CONSTANT_ENCAPSED_STRING","'Page'",162],")",")",["T_WHITESPACE"," ",162],["T_CLOSE_TAG","?>",162],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                '<th><label>",162],["T_OPEN_TAG","<?php ",163],["T_ECHO","echo",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$block",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","escapeJs",163],"(",["T_STRING","__",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Container'",163],")",")",["T_WHITESPACE"," ",163],["T_CLOSE_TAG","?>",163],["T_INLINE_HTML"," <span class=\"required\">*<\/span><\/label><\/th>'+\n                '<th><label>",163],["T_OPEN_TAG","<?php ",164],["T_ECHO","echo",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$block",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","escapeJs",164],"(",["T_STRING","__",164],"(",["T_CONSTANT_ENCAPSED_STRING","'Template'",164],")",")",["T_WHITESPACE"," ",164],["T_CLOSE_TAG","?>",164],["T_INLINE_HTML","<\/label><\/th>'+\n            '<\/tr>'+\n        '<\/thead>'+\n        '<tbody>'+\n            '<tr>'+\n                '<td>",164],["T_OPEN_TAG","<?php ",169],["T_COMMENT","\/* @noEscape *\/",169],["T_WHITESPACE"," ",169],["T_ECHO","echo",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$block",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getPageLayoutsPageChooser",169],"(",")",["T_WHITESPACE"," ",169],["T_CLOSE_TAG","?>",169],["T_INLINE_HTML","<\/td>'+\n                '<td>'+\n                    '<div class=\"block_reference_container\">'+\n                        '<div class=\"block_reference\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>'+\n                    '<div class=\"block_template_container\">'+\n                        '<div class=\"block_template\"><\/div>'+\n                    '<\/div>'+\n                '<\/td>'+\n                '<td>&nbsp;<\/td>'+\n            '<\/tr>'+\n        '<\/tbody>'+\n    '<\/table>'+\n'<\/div>'+\n'<\/div>'+\n'<\/div>';\n\nwindow.pageGroupTemplate = pageGroupTemplate;\n\nvar WidgetInstance = {\n    pageGroupTemplate    : pageGroupTemplate,\n    pageGroupContainerId : 'page_group_container',\n    count : 0,\n    activePageGroups : $H({}),\n    selectedItems : {},\n\n    addPageGroup : function(data) {\n        if (this.pageGroupTemplate && (pageGroupContainer = $(this.pageGroupContainerId))) {\n            if (!data.page_id) {\n                data = {};\n                data.page_id = 0;\n                data.entities = '';\n            }\n            data.id = this.count++;\n            if (data[data.group + '_entities']) {\n                var selected_entities = data[data.group + '_entities'].split(',');\n                if (selected_entities.length > 0) {\n                    for (var i = 0; i < selected_entities.length; i++) {\n                        this.addProductItemToSelection(data.group + '_ids_' + data.id, selected_entities[i]);\n                    }\n                }\n            }\n            pageGroupTemplateObj = mageTemplate(this.pageGroupTemplate);\n                Element.insert(pageGroupContainer, {\n                    'bottom': pageGroupTemplateObj({\n                        data: data\n                    })\n                });\n                if (data.group) {\n                pageGroup = $(data.group+'_'+data.id);\n                additional = {};\n                additional.selectedLayoutHandle = data.layout_handle;\n                additional.selectedBlock = data.block;\n                additional.selectedTemplate = data.template;\n                additional.position = data.position;\n                additional.for_value = data.for_value;\n                additional.template = '';\n                if (data.group == 'pages' || data.group == 'page_layouts') {\n                    layoutSelect = pageGroup.down('select#layout_handle');\n                    if (layoutSelect) {\n                        for (var i = 0; i < layoutSelect.options.length; i++) {\n                            if (layoutSelect.options[i].value == data.layout_handle) {\n                                layoutSelect.options[i].selected = true;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if ($(this.pageGroupContainerId+'_'+data.id)) {\n                    selectGroupElm = $(this.pageGroupContainerId+'_'+data.id).down('select.page_group_select');\n                    for (var i = 0; i < selectGroupElm.options.length; i++) {\n                        if (selectGroupElm.options[i].value == data.group) {\n                            selectGroupElm.options[i].selected = true;\n                            break;\n                        }\n                    }\n                }\n                forElm = pageGroup.down('input.for_'+data.for_value);\n                if (forElm) {\n                    \/**\n                     * IE browsers fix: remove default checked attribute in radio form element\n                     * to check others radio form elements in future\n                     *\/\n                    pageGroup.down('input.for_all').defaultChecked = false;\n                    forElm.defaultChecked = true;\n                    forElm.checked = true;\n                    this.togglePageGroupChooser(forElm);\n                }\n                this.displayPageGroup(pageGroup, additional);\n            }\n        }\n    },\n    removePageGroup : function(element) {\n        container = element.up('div.page_group_container');\n        if (container) {\n            container.remove();\n        }\n    },\n    addProductItemToSelection: function(groupId, item) {\n        if (undefined == this.selectedItems[groupId]) {\n            this.selectedItems[groupId] = $H({});\n        }\n        if (!isNaN(parseInt(item))) {\n            this.selectedItems[groupId].set(item, 1);\n        }\n    },\n    removeProductItemFromSelection: function(groupId, item) {\n        if (undefined !== this.selectedItems[groupId]) {\n            this.selectedItems[groupId].unset(item);\n        }\n    },\n    showBlockContainer : function(container) {\n        container = $(container);\n        if (container) {\n            container.removeClassName('no-display');\n            container.removeClassName('ignore-validate');\n            container.up('.fieldset-wrapper').addClassName('opened');\n            container.select('input', 'select').each(function(element) {\n                $(element).removeAttribute('disabled');\n            });\n            container.show();\n        }\n    },\n    hideBlockContainer : function(container) {\n        container = $(container);\n        if (container) {\n            container.addClassName('no-display');\n            container.addClassName('ignore-validate');\n            container.select('input', 'select').each(function(element) {\n                $(element).writeAttribute('disabled', 'disabled');\n            });\n            container.hide();\n        }\n    },\n    displayPageGroup : function(container, additional) {\n        container = $(container);\n        if (!container) {\n\/\/            if (activePageGroupId = this.activePageGroups.get(container.up('div.page_group_container').id)) {\n\/\/                this.hideBlockContainer(activePageGroupId);\n\/\/            }\n        }\n        if (!additional) {\n            additional = {};\n        }\n        if (activePageGroupId = this.activePageGroups.get(container.up('div.page_group_container').id)) {\n            this.hideBlockContainer(activePageGroupId);\n        }\n        this.activePageGroups.set(container.up('div.page_group_container').id, container.id);\n        this.showBlockContainer(container);\n        blockContainer = container.down('div.block_reference');\n        if (blockContainer && blockContainer.innerHTML == '') {\n            layoutHandle = '';\n            if (layoutHandleField = container.down('input.layout_handle_pattern')) {\n                layoutHandle = layoutHandleField.value;\n            } else if (additional.selectedLayoutHandle) {\n                layoutHandle = additional.selectedLayoutHandle;\n            }\n            this.loadSelectBoxByType('block_reference', container, layoutHandle, additional);\n        }\n        this.loadSelectBoxByType('block_template', container, additional.selectedBlock, additional);\n    },\n    displayEntityChooser : function(type, chooser, additional) {\n        if (!additional) {\n            additional = {};\n        }\n        if (type == 'categories') {\n            additional.url = '",169],["T_OPEN_TAG","<?php ",337],["T_ECHO","echo",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$block",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","escapeUrl",337],"(",["T_VARIABLE","$block",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getCategoriesChooserUrl",337],"(",")",")",["T_WHITESPACE"," ",337],["T_CLOSE_TAG","?>",337],["T_INLINE_HTML","';\n            additional.post_parameters = $H({'is_anchor_only':$(chooser).down('input.is_anchor_only').value});\n        } else if (type == 'products') {\n            additional.url = '",337],["T_OPEN_TAG","<?php ",340],["T_ECHO","echo",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$block",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","escapeUrl",340],"(",["T_VARIABLE","$block",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getProductsChooserUrl",340],"(",")",")",["T_WHITESPACE"," ",340],["T_CLOSE_TAG","?>",340],["T_INLINE_HTML","';\n            additional.post_parameters = $H({'product_type_id':$(chooser).down('input.product_type_id').value});\n        }\n        if (chooser && additional) {\n            this.displayChooser(chooser, additional);\n        }\n    },\n    hideEntityChooser : function(chooser) {\n        chooser = $(chooser).down('div.chooser');\n        if (chooser) {\n            chooser.addClassName('no-display');\n            chooser.hide();\n        }\n    },\n    displayChooser : function(chooser, additional) {\n        chooser = $(chooser).down('div.chooser');\n        entities = chooser.up('div.chooser_container').down('input[type=\"text\"].entities').value;\n        postParameters = $H({selected:entities});\n        url = '';\n        if (additional) {\n            if (additional.url) url = additional.url;\n            if (additional.post_parameters) {\n                additional.post_parameters.each(function(pair){\n                    postParameters.set(pair.key,pair.value);\n                });\n            }\n        }\n        if (chooser && url) {\n            if (chooser.innerHTML == '') {\n                new Ajax.Request(url, {\n                    method: 'post',\n                    parameters: postParameters,\n                    onSuccess: function(transport) {\n                        try {\n                            if (transport.responseText) {\n                                Element.insert(chooser, transport.responseText);\n                                chooser.removeClassName('no-display');\n                                chooser.show();\n                            }\n                        } catch (e) {\n                            alert({\n                                content: 'Error occurs during loading chooser.'\n                            });\n                        }\n                    }\n                });\n            } else {\n                chooser.removeClassName('no-display');\n                chooser.show();\n            }\n        }\n    },\n    checkProduct : function(event) {\n        var elm = event.memo.element,\n            container = event.target.up('div.chooser').up('div.chooser_container'),\n            selectionId = container.id,\n            entitiesElm = container.down('input[type=\"text\"].entities');\n        if (elm.checked) {\n            this.addProductItemToSelection(selectionId, elm.value);\n        } else {\n            this.removeProductItemFromSelection(selectionId, elm.value);\n        }\n        if (entitiesElm) {\n            entitiesElm.value = this.selectedItems[selectionId].keys().join(',');\n        }\n    },\n    checkCategory : function(event) {\n        node = event.memo.node;\n        container = event.target.up('div.chooser_container');\n        value = container.down('input[type=\"text\"].entities').value.strip();\n        if (node.attributes.checked) {\n            if (value) ids = value.split(',');\n            else ids = [];\n            if (-1 == ids.indexOf(node.id)) {\n                ids.push(node.id);\n                container.down('input[type=\"text\"].entities').value = ids.join(',');\n            }\n        } else {\n            ids = value.split(',');\n            while (-1 != ids.indexOf(node.id)) {\n                ids.splice(ids.indexOf(node.id), 1);\n                container.down('input[type=\"text\"].entities').value = ids.join(',');\n            }\n        }\n    },\n    togglePageGroupChooser : function(element) {\n        element = $(element);\n        if (element && (chooser = element.up('div.group_container').down('div.chooser_container'))) {\n            if (element.value == 'all') {\n                chooser.addClassName('no-display');\n                chooser.hide();\n            } else {\n                chooser.removeClassName('no-display');\n                chooser.show();\n            }\n        }\n    },\n    loadSelectBoxByType : function (type, element, value, additional) {\n        if (!additional) {\n            additional = {};\n        }\n        if (element && (containerElm = element.down('div.'+type))) {\n            url = '';\n            selected = '';\n            parameters = {};\n            if (type == 'block_reference') {\n                url = '",340],["T_OPEN_TAG","<?php ",446],["T_ECHO","echo",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$block",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","escapeUrl",446],"(",["T_VARIABLE","$block",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getBlockChooserUrl",446],"(",")",")",["T_WHITESPACE"," ",446],["T_CLOSE_TAG","?>",446],["T_INLINE_HTML","';\n                if (additional.selectedBlock) {\n                    selected = additional.selectedBlock;\n                }\n                parameters.layout = value;\n            } else if (type == 'block_template') {\n                url = '",446],["T_OPEN_TAG","<?php ",452],["T_ECHO","echo",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$block",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","escapeUrl",452],"(",["T_VARIABLE","$block",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getTemplateChooserUrl",452],"(",")",")",["T_WHITESPACE"," ",452],["T_CLOSE_TAG","?>",452],["T_INLINE_HTML","';\n                if (additional.selectedTemplate) {\n                    selected = additional.selectedTemplate;\n                }\n                parameters.block = value;\n            }\n            parameters.selected = selected;\n            if (url) {\n                new Ajax.Request(url, {\n                    method: 'post',\n                    parameters: parameters,\n                    containerElm: containerElm,\n                    onSuccess: function(transport) {\n                        containerElm = transport.request.options.containerElm;\n                        try {\n                            if (transport.responseText) {\n                                containerElm.update(transport.responseText);\n                                formElm = containerElm.down('select, input[type=\"hidden\"]');\n                                if (formElm) {\n                                    formElm.name = element.down('input.container_name').value+'['+formElm.name+']';\n                                }\n                            }\n                        } catch (e) {\n                            alert({\n                                content: 'Error occurs during loading chooser.'\n                            });\n                        }\n                    }\n                });\n            }\n        }\n    }\n};\n\nwindow.WidgetInstance = WidgetInstance;\n\njQuery(function(){\n    ",452],["T_OPEN_TAG","<?php ",489],["T_FOREACH","foreach",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$block",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getPageGroups",489],"(",")",["T_WHITESPACE"," ",489],["T_AS","as",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$pageGroup",489],")",":",["T_WHITESPACE"," ",489],["T_CLOSE_TAG","?>\n",489],["T_INLINE_HTML","        WidgetInstance.addPageGroup(",490],["T_OPEN_TAG","<?php ",490],["T_COMMENT","\/* @noEscape *\/",490],["T_WHITESPACE"," ",490],["T_ECHO","echo",490],["T_WHITESPACE"," ",490],["T_STRING","Zend_Json",490],["T_DOUBLE_COLON","::",490],["T_STRING","encode",490],"(",["T_VARIABLE","$pageGroup",490],")",["T_WHITESPACE"," ",490],["T_CLOSE_TAG","?>",490],["T_INLINE_HTML",");\n    ",490],["T_OPEN_TAG","<?php ",491],["T_ENDFOREACH","endforeach",491],";",["T_WHITESPACE"," ",491],["T_CLOSE_TAG","?>\n",491],["T_INLINE_HTML","    Event.observe(document, 'product:changed', function(event){\n        WidgetInstance.checkProduct(event);\n    });\n    Event.observe(document, 'node:changed', function(event){\n        WidgetInstance.checkCategory(event);\n    });\n    Event.observe(document, 'category:beforeLoad', function(event) {\n        container = event.target.up('div.chooser_container');\n        value = container.down('input[type=\"text\"].entities').value.strip();\n        event.memo.treeLoader.baseParams.selected = value;\n    });\n});\n\/\/]]>\n\n});\n<\/script>\n",492]]