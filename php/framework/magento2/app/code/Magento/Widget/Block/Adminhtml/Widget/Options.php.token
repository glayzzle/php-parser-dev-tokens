[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * WYSIWYG widget options form\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Widget",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Block",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adminhtml",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Widget",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Options",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Backend",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Block",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Widget",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Generic",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Element type used by default if configuration is omitted\n     * @var string\n     *\/",16],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_defaultElementType",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'text'",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Widget\\Model\\Widget\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_widget",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Option\\ArrayPool\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_sourceModelPool",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Data\\FormFactory $formFactory\n     * @param \\Magento\\Framework\\Option\\ArrayPool $sourceModelPool\n     * @param \\Magento\\Widget\\Model\\Widget $widget\n     * @param array $data\n     *\/",32],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Backend",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Block",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Template",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Context",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$context",41],",",["T_WHITESPACE","\n        ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Framework",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Registry",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$registry",42],",",["T_WHITESPACE","\n        ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Framework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Data",43],["T_NS_SEPARATOR","\\",43],["T_STRING","FormFactory",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$formFactory",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Option",44],["T_NS_SEPARATOR","\\",44],["T_STRING","ArrayPool",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$sourceModelPool",44],",",["T_WHITESPACE","\n        ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Widget",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Model",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Widget",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$widget",45],",",["T_WHITESPACE","\n        ",45],["T_ARRAY","array",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$data",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[","]",["T_WHITESPACE","\n    ",46],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_sourceModelPool",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$sourceModelPool",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_widget",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$widget",49],";",["T_WHITESPACE","\n        ",49],["T_STRING","parent",50],["T_DOUBLE_COLON","::",50],["T_STRING","__construct",50],"(",["T_VARIABLE","$context",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$registry",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$formFactory",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$data",50],")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Prepare Widget Options Form and values according to specified type\n     *\n     * The widget_type must be set in data before\n     * widget_values may be set before to render element values\n     *\n     * @return $this\n     *\/",53],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","_prepareForm",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getForm",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","setUseContainer",63],"(",["T_STRING","false",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","addFields",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Form getter\/instantiation\n     *\n     * @return \\Magento\\Framework\\Data\\Form\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","getForm",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_form",75],["T_WHITESPACE"," ",75],["T_INSTANCEOF","instanceof",75],["T_WHITESPACE"," ",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Framework",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Data",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Form",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_form",76],";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n        ",77],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Data\\Form $form *\/",78],["T_WHITESPACE","\n        ",78],["T_VARIABLE","$form",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_formFactory",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","create",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setForm",80],"(",["T_VARIABLE","$form",80],")",";",["T_WHITESPACE","\n        ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$form",81],";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Fieldset getter\/instantiation\n     *\n     * @return \\Magento\\Framework\\Data\\Form\\Element\\Fieldset\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","getMainFieldset",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_getData",91],"(",["T_CONSTANT_ENCAPSED_STRING","'main_fieldset'",91],")",["T_WHITESPACE"," ",91],["T_INSTANCEOF","instanceof",91],["T_WHITESPACE"," ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Data",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Form",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Element",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Fieldset",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_getData",92],"(",["T_CONSTANT_ENCAPSED_STRING","'main_fieldset'",92],")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$mainFieldsetHtmlId",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'options_fieldset'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_STRING","md5",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getWidgetType",94],"(",")",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","setMainFieldsetHtmlId",95],"(",["T_VARIABLE","$mainFieldsetHtmlId",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$fieldset",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getForm",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","addFieldset",96],"(",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$mainFieldsetHtmlId",97],",",["T_WHITESPACE","\n            ",97],"[",["T_CONSTANT_ENCAPSED_STRING","'legend'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","__",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget Options'",98],")",",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'class'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'fieldset-wide fieldset-widget-options'",98],"]",["T_WHITESPACE","\n        ",98],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","setData",100],"(",["T_CONSTANT_ENCAPSED_STRING","'main_fieldset'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$fieldset",100],")",";",["T_WHITESPACE","\n\n        ",100],["T_COMMENT","\/\/ add dependence javascript block\n",102],["T_WHITESPACE","        ",103],["T_VARIABLE","$block",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getLayout",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","createBlock",103],"(",["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Backend",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Block",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Widget",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Form",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Element",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Dependence",103],["T_DOUBLE_COLON","::",103],["T_CLASS","class",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","setChild",104],"(",["T_CONSTANT_ENCAPSED_STRING","'form_after'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$block",104],")",";",["T_WHITESPACE","\n\n        ",104],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$fieldset",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Add fields to main fieldset based on specified widget type\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return $this\n     *\/",109],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","addFields",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_COMMENT","\/\/ get configuration node and translation helper\n",117],["T_WHITESPACE","        ",118],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getWidgetType",118],"(",")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_THROW","throw",119],["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Framework",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Exception",119],["T_NS_SEPARATOR","\\",119],["T_STRING","LocalizedException",119],"(",["T_STRING","__",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Please specify a Widget Type.'",119],")",")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$config",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_widget",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getConfigAsObject",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getWidgetType",121],"(",")",")",";",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_VARIABLE","$config",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getParameters",122],"(",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n        ",124],["T_FOREACH","foreach",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$config",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getParameters",125],"(",")",["T_WHITESPACE"," ",125],["T_AS","as",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$parameter",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_addField",126],"(",["T_VARIABLE","$parameter",126],")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Add field to Options form based on parameter configuration\n     *\n     * @param \\Magento\\Framework\\DataObject $parameter\n     * @return \\Magento\\Framework\\Data\\Form\\Element\\AbstractElement\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",132],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","_addField",140],"(",["T_VARIABLE","$parameter",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$form",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getForm",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$fieldset",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getMainFieldset",143],"(",")",";",["T_WHITESPACE","\n        ",143],["T_COMMENT","\/\/$form->getElement('options_fieldset');\n",144],["T_WHITESPACE","\n        ",145],["T_COMMENT","\/\/ prepare element data with values (either from request of from default values)\n",146],["T_WHITESPACE","        ",147],["T_VARIABLE","$fieldName",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$parameter",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getKey",147],"(",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$data",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],"[",["T_WHITESPACE","\n            ",148],["T_CONSTANT_ENCAPSED_STRING","'name'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$form",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","addSuffixToName",149],"(",["T_VARIABLE","$fieldName",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'parameters'",149],")",",",["T_WHITESPACE","\n            ",149],["T_CONSTANT_ENCAPSED_STRING","'label'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_STRING","__",150],"(",["T_VARIABLE","$parameter",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getLabel",150],"(",")",")",",",["T_WHITESPACE","\n            ",150],["T_CONSTANT_ENCAPSED_STRING","'required'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$parameter",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getRequired",151],"(",")",",",["T_WHITESPACE","\n            ",151],["T_CONSTANT_ENCAPSED_STRING","'class'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'widget-option'",152],",",["T_WHITESPACE","\n            ",152],["T_CONSTANT_ENCAPSED_STRING","'note'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","__",153],"(",["T_VARIABLE","$parameter",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getDescription",153],"(",")",")",",",["T_WHITESPACE","\n        ",153],"]",";",["T_WHITESPACE","\n\n        ",154],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$values",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getWidgetValues",156],"(",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$data",157],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_ISSET","isset",157],"(",["T_VARIABLE","$values",157],"[",["T_VARIABLE","$fieldName",157],"]",")",["T_WHITESPACE"," ",157],"?",["T_WHITESPACE"," ",157],["T_VARIABLE","$values",157],"[",["T_VARIABLE","$fieldName",157],"]",["T_WHITESPACE"," ",157],":",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","''",157],";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE"," ",158],["T_ELSE","else",158],["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$data",159],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$parameter",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getValue",159],"(",")",";",["T_WHITESPACE","\n            ",159],["T_COMMENT","\/\/prepare unique id value\n",160],["T_WHITESPACE","            ",161],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$fieldName",161],["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'unique_id'",161],["T_WHITESPACE"," ",161],["T_BOOLEAN_AND","&&",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$data",161],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",161],"]",["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","''",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$data",162],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",162],"]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","md5",162],"(",["T_STRING","microtime",162],"(",["T_LNUMBER","1",162],")",")",";",["T_WHITESPACE","\n            ",162],"}",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_COMMENT","\/\/ prepare element dropdown values\n",166],["T_WHITESPACE","        ",167],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$values",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$parameter",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getValues",167],"(",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_COMMENT","\/\/ dropdown options are specified in configuration\n",168],["T_WHITESPACE","            ",169],["T_VARIABLE","$data",169],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],"[","]",";",["T_WHITESPACE","\n            ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$values",170],["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$option",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$data",171],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",171],"]","[","]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_STRING","__",171],"(",["T_VARIABLE","$option",171],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",171],"]",")",",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'value'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$option",171],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",171],"]","]",";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE","\n            ",172],["T_COMMENT","\/\/ otherwise, a source model is specified\n",173],["T_WHITESPACE","        ",174],"}",["T_WHITESPACE"," ",174],["T_ELSEIF","elseif",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$sourceModel",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$parameter",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getSourceModel",174],"(",")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$data",175],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_sourceModelPool",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","get",175],"(",["T_VARIABLE","$sourceModel",175],")",["T_OBJECT_OPERATOR","->",175],["T_STRING","toOptionArray",175],"(",")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n\n        ",176],["T_COMMENT","\/\/ prepare field type or renderer\n",178],["T_WHITESPACE","        ",179],["T_VARIABLE","$fieldRenderer",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","null",179],";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$fieldType",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$parameter",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getType",180],"(",")",";",["T_WHITESPACE","\n        ",180],["T_COMMENT","\/\/ hidden element\n",181],["T_WHITESPACE","        ",182],["T_IF","if",182],["T_WHITESPACE"," ",182],"(","!",["T_VARIABLE","$parameter",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getVisible",182],"(",")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$fieldType",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'hidden'",183],";",["T_WHITESPACE","\n            ",183],["T_COMMENT","\/\/ just an element renderer\n",184],["T_WHITESPACE","        ",185],"}",["T_WHITESPACE"," ",185],["T_ELSEIF","elseif",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$fieldType",185],["T_WHITESPACE"," ",185],["T_BOOLEAN_AND","&&",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_isClassName",185],"(",["T_VARIABLE","$fieldType",185],")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$fieldRenderer",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getLayout",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","createBlock",186],"(",["T_VARIABLE","$fieldType",186],")",";",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$fieldType",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_defaultElementType",187],";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_COMMENT","\/\/ instantiate field and render html\n",190],["T_WHITESPACE","        ",191],["T_VARIABLE","$field",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$fieldset",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","addField",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getMainFieldsetHtmlId",191],"(",")",["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'_'",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$fieldName",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$fieldType",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$data",191],")",";",["T_WHITESPACE","\n        ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$fieldRenderer",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$field",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","setRenderer",193],"(",["T_VARIABLE","$fieldRenderer",193],")",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n        ",194],["T_COMMENT","\/\/ extra html preparations\n",196],["T_WHITESPACE","        ",197],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$helper",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$parameter",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getHelperBlock",197],"(",")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$helperBlock",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getLayout",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","createBlock",198],"(",["T_WHITESPACE","\n                ",198],["T_VARIABLE","$helper",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getType",199],"(",")",",",["T_WHITESPACE","\n                ",199],["T_CONSTANT_ENCAPSED_STRING","''",200],",",["T_WHITESPACE","\n                ",200],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$helper",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getData",201],"(",")","]",["T_WHITESPACE","\n            ",201],")",";",["T_WHITESPACE","\n            ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$helperBlock",203],["T_WHITESPACE"," ",203],["T_INSTANCEOF","instanceof",203],["T_WHITESPACE"," ",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Magento",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Framework",203],["T_NS_SEPARATOR","\\",203],["T_STRING","DataObject",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                ",203],["T_VARIABLE","$helperBlock",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setConfig",204],"(",["T_WHITESPACE","\n                    ",204],["T_VARIABLE","$helper",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getData",205],"(",")",["T_WHITESPACE","\n                ",205],")",["T_OBJECT_OPERATOR","->",206],["T_STRING","setFieldsetId",206],"(",["T_WHITESPACE","\n                    ",206],["T_VARIABLE","$fieldset",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getId",207],"(",")",["T_WHITESPACE","\n                ",207],")",["T_OBJECT_OPERATOR","->",208],["T_STRING","prepareElementHtml",208],"(",["T_WHITESPACE","\n                    ",208],["T_VARIABLE","$field",209],["T_WHITESPACE","\n                ",209],")",";",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n\n        ",212],["T_COMMENT","\/\/ dependencies from other fields\n",214],["T_WHITESPACE","        ",215],["T_VARIABLE","$dependenceBlock",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getChildBlock",215],"(",["T_CONSTANT_ENCAPSED_STRING","'form_after'",215],")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$dependenceBlock",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","addFieldMap",216],"(",["T_VARIABLE","$field",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getId",216],"(",")",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$fieldName",216],")",";",["T_WHITESPACE","\n        ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$parameter",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getDepends",217],"(",")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_FOREACH","foreach",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$parameter",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getDepends",218],"(",")",["T_WHITESPACE"," ",218],["T_AS","as",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$from",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$row",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                ",218],["T_VARIABLE","$values",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_ISSET","isset",219],"(",["T_VARIABLE","$row",219],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",219],"]",")",["T_WHITESPACE"," ",219],"?",["T_WHITESPACE"," ",219],["T_STRING","array_values",219],"(",["T_VARIABLE","$row",219],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",219],"]",")",["T_WHITESPACE"," ",219],":",["T_WHITESPACE"," ",219],["T_STRING_CAST","(string)",219],["T_VARIABLE","$row",219],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",219],"]",";",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$dependenceBlock",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","addFieldDependence",220],"(",["T_VARIABLE","$fieldName",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$from",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$values",220],")",";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n\n        ",222],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$field",224],";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Checks whether $fieldType is a class name of custom renderer, and not just a type of input element\n     *\n     * @param string $fieldType\n     * @return bool\n     *\/",227],["T_WHITESPACE","\n    ",232],["T_PROTECTED","protected",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","_isClassName",233],"(",["T_VARIABLE","$fieldType",233],")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_STRING","preg_match",235],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[A-Z]\/'",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$fieldType",235],")",["T_WHITESPACE"," ",235],">",["T_WHITESPACE"," ",235],["T_LNUMBER","0",235],";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n",236],"}",["T_WHITESPACE","\n",237]]