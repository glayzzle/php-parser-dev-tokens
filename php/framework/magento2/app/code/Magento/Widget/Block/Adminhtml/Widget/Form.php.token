[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * WYSIWYG widget plugin form\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Widget",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Block",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adminhtml",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Widget",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Form",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Backend",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Block",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Widget",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Generic",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Widget\\Model\\WidgetFactory\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$_widgetFactory",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Data\\FormFactory $formFactory\n     * @param \\Magento\\Widget\\Model\\WidgetFactory $widgetFactory\n     * @param array $data\n     *\/",21],["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","__construct",28],"(",["T_WHITESPACE","\n        ",28],["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Backend",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Block",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Template",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Context",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$context",29],",",["T_WHITESPACE","\n        ",29],["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Framework",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Registry",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$registry",30],",",["T_WHITESPACE","\n        ",30],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Framework",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Data",31],["T_NS_SEPARATOR","\\",31],["T_STRING","FormFactory",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$formFactory",31],",",["T_WHITESPACE","\n        ",31],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Widget",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","WidgetFactory",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$widgetFactory",32],",",["T_WHITESPACE","\n        ",32],["T_ARRAY","array",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$data",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"[","]",["T_WHITESPACE","\n    ",33],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","_widgetFactory",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$widgetFactory",35],";",["T_WHITESPACE","\n        ",35],["T_STRING","parent",36],["T_DOUBLE_COLON","::",36],["T_STRING","__construct",36],"(",["T_VARIABLE","$context",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$registry",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$formFactory",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$data",36],")",";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Form with widget to select\n     *\n     * @return void\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","_prepareForm",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Data\\Form $form *\/",46],["T_WHITESPACE","\n        ",46],["T_VARIABLE","$form",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_formFactory",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","create",47],"(",")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$fieldset",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$form",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","addFieldset",49],"(",["T_CONSTANT_ENCAPSED_STRING","'base_fieldset'",49],",",["T_WHITESPACE"," ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'legend'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","__",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget'",49],")","]",")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$fieldset",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","addField",51],"(",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'select_widget_type'",52],",",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'select'",53],",",["T_WHITESPACE","\n            ",53],"[",["T_WHITESPACE","\n                ",54],["T_CONSTANT_ENCAPSED_STRING","'label'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","__",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget Type'",55],")",",",["T_WHITESPACE","\n                ",55],["T_CONSTANT_ENCAPSED_STRING","'title'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","__",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Widget Type'",56],")",",",["T_WHITESPACE","\n                ",56],["T_CONSTANT_ENCAPSED_STRING","'name'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'widget_type'",57],",",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'required'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","true",58],",",["T_WHITESPACE","\n                ",58],["T_CONSTANT_ENCAPSED_STRING","'onchange'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\"wWidget.validateField()\"",59],",",["T_WHITESPACE","\n                ",59],["T_CONSTANT_ENCAPSED_STRING","'options'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_getWidgetSelectOptions",60],"(",")",",",["T_WHITESPACE","\n                ",60],["T_CONSTANT_ENCAPSED_STRING","'after_element_html'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_getWidgetSelectAfterHtml",61],"(",")",["T_WHITESPACE","\n            ",61],"]",["T_WHITESPACE","\n        ",62],")",";",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$form",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setUseContainer",65],"(",["T_STRING","true",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$form",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setId",66],"(",["T_CONSTANT_ENCAPSED_STRING","'widget_options_form'",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$form",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","setMethod",67],"(",["T_CONSTANT_ENCAPSED_STRING","'post'",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$form",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setAction",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getUrl",68],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/*\/buildWidget'",68],")",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setForm",69],"(",["T_VARIABLE","$form",69],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Prepare options for widgets HTML select\n     *\n     * @return array\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","_getWidgetSelectOptions",77],"(",")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_getAvailableWidgets",79],"(",["T_STRING","true",79],")",["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$data",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$options",80],"[",["T_VARIABLE","$data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",80],"]","]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",80],"]",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$options",82],";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Prepare widgets select after element HTML\n     *\n     * @return string\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","_getWidgetSelectAfterHtml",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$html",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'<p class=\"nm\"><small><\/small><\/p>'",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$i",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_LNUMBER","0",93],";",["T_WHITESPACE","\n        ",93],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_getAvailableWidgets",94],"(",["T_STRING","true",94],")",["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$data",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$html",95],["T_WHITESPACE"," ",95],["T_CONCAT_EQUAL",".=",95],["T_WHITESPACE"," ",95],["T_STRING","sprintf",95],"(",["T_CONSTANT_ENCAPSED_STRING","'<div id=\"widget-description-%s\" class=\"no-display\">%s<\/div>'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$i",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$data",95],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",95],"]",")",";",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$i",96],["T_INC","++",96],";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$html",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Return array of available widgets based on configuration\n     *\n     * @param bool $withEmptyElement\n     * @return array\n     *\/",101],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","_getAvailableWidgets",107],"(",["T_VARIABLE","$withEmptyElement",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","false",107],")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","hasData",109],"(",["T_CONSTANT_ENCAPSED_STRING","'available_widgets'",109],")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$result",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],"[","]",";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$allWidgets",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_widgetFactory",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","create",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","getWidgetsArray",111],"(",")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$skipped",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_getSkippedWidgets",112],"(",")",";",["T_WHITESPACE","\n            ",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$allWidgets",113],["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$widget",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n                ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_STRING","is_array",114],"(",["T_VARIABLE","$skipped",114],")",["T_WHITESPACE"," ",114],["T_BOOLEAN_AND","&&",114],["T_WHITESPACE"," ",114],["T_STRING","in_array",114],"(",["T_VARIABLE","$widget",114],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",114],"]",",",["T_WHITESPACE"," ",114],["T_VARIABLE","$skipped",114],")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n                    ",114],["T_CONTINUE","continue",115],";",["T_WHITESPACE","\n                ",115],"}",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$result",117],"[","]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$widget",117],";",["T_WHITESPACE","\n            ",117],"}",["T_WHITESPACE","\n            ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$withEmptyElement",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                ",119],["T_STRING","array_unshift",120],"(",["T_VARIABLE","$result",120],",",["T_WHITESPACE"," ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'name'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_STRING","__",120],"(",["T_CONSTANT_ENCAPSED_STRING","'-- Please Select --'",120],")",",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'description'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],"]",")",";",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setData",122],"(",["T_CONSTANT_ENCAPSED_STRING","'available_widgets'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$result",122],")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_getData",125],"(",["T_CONSTANT_ENCAPSED_STRING","'available_widgets'",125],")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Return array of widgets disabled for selection\n     *\n     * @return string[]\n     *\/",128],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","_getSkippedWidgets",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_coreRegistry",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","registry",135],"(",["T_CONSTANT_ENCAPSED_STRING","'skip_widgets'",135],")",";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n",136],"}",["T_WHITESPACE","\n",137]]