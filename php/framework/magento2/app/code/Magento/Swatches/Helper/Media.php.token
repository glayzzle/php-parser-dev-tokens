[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Swatches",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Area",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Image",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Helper to move images from tmp to catalog directory\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Media",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","App",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Helper",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractHelper",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Swatch area inside media folder\n     *\n     *\/",19],["T_WHITESPACE","\n    ",22],["T_CONST","const",23],["T_WHITESPACE","  ",23],["T_STRING","SWATCH_MEDIA_PATH",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'attribute\/swatch'",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Media\\Config\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$mediaConfig",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\WriteInterface\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$mediaDirectory",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Core file storage database\n     *\n     * @var \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$fileStorageDb",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","null",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$storeManager",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Image\\Factory\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$imageFactory",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Theme\\Model\\ResourceModel\\Theme\\Collection\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$themeCollection",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\ConfigInterface\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$viewConfig",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$swatchImageTypes",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"[",["T_CONSTANT_ENCAPSED_STRING","'swatch_image'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'swatch_thumb'",67],"]",";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product\\Media\\Config $mediaConfig\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database $fileStorageDb\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Image\\Factory $imageFactory\n     * @param \\Magento\\Theme\\Model\\ResourceModel\\Theme\\Collection $themeCollection\n     * @param \\Magento\\Framework\\View\\ConfigInterface $configInterface\n     *\/",69],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","__construct",78],"(",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Catalog",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Product",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Media",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Config",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$mediaConfig",79],",",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Framework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Filesystem",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$filesystem",80],",",["T_WHITESPACE","\n        ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","MediaStorage",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Helper",81],["T_NS_SEPARATOR","\\",81],["T_STRING","File",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Storage",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Database",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$fileStorageDb",81],",",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Store",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","StoreManagerInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$storeManager",82],",",["T_WHITESPACE","\n        ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Framework",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Image",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Factory",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$imageFactory",83],",",["T_WHITESPACE","\n        ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Theme",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Model",84],["T_NS_SEPARATOR","\\",84],["T_STRING","ResourceModel",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Theme",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Collection",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$themeCollection",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Framework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","View",85],["T_NS_SEPARATOR","\\",85],["T_STRING","ConfigInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$configInterface",85],["T_WHITESPACE","\n    ",85],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","mediaConfig",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$mediaConfig",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","fileStorageDb",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$fileStorageDb",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","mediaDirectory",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$filesystem",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getDirectoryWrite",89],"(",["T_STRING","DirectoryList",89],["T_DOUBLE_COLON","::",89],["T_STRING","MEDIA",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","storeManager",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$storeManager",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","imageFactory",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$imageFactory",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","themeCollection",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$themeCollection",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","viewConfig",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$configInterface",93],";",["T_WHITESPACE","\n\n    ",93],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * @param string $swatchType\n     * @param string $file\n     * @return string\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","getSwatchAttributeImage",102],"(",["T_VARIABLE","$swatchType",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$file",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$generationPath",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$swatchType",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'\/'",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getFolderNameSize",104],"(",["T_VARIABLE","$swatchType",104],")",".",["T_WHITESPACE"," ",104],["T_VARIABLE","$file",104],";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$absoluteImagePath",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","mediaDirectory",105],["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","getAbsolutePath",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getSwatchMediaPath",106],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'\/'",106],".",["T_VARIABLE","$generationPath",106],")",";",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_STRING","file_exists",107],"(",["T_VARIABLE","$absoluteImagePath",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","generateSwatchVariations",108],"(",["T_VARIABLE","$file",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getSwatchMediaUrl",110],"(",")",["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'\/'",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_VARIABLE","$generationPath",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * move image from tmp to catalog dir\n     *\n     * @param string $file\n     * @return string path\n     *\/",113],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","moveImageFromTmp",119],"(",["T_VARIABLE","$file",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_STRING","strrpos",121],"(",["T_VARIABLE","$file",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'.tmp'",121],")",["T_WHITESPACE"," ",121],["T_IS_EQUAL","==",121],["T_WHITESPACE"," ",121],["T_STRING","strlen",121],"(",["T_VARIABLE","$file",121],")",["T_WHITESPACE"," ",121],"-",["T_WHITESPACE"," ",121],["T_LNUMBER","4",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$file",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","substr",122],"(",["T_VARIABLE","$file",122],",",["T_WHITESPACE"," ",122],["T_LNUMBER","0",122],",",["T_WHITESPACE"," ",122],["T_STRING","strlen",122],"(",["T_VARIABLE","$file",122],")",["T_WHITESPACE"," ",122],"-",["T_WHITESPACE"," ",122],["T_LNUMBER","4",122],")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$destinationFile",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getUniqueFileName",124],"(",["T_VARIABLE","$file",124],")",";",["T_WHITESPACE","\n\n        ",124],["T_DOC_COMMENT","\/** @var $storageHelper \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database *\/",126],["T_WHITESPACE","\n        ",126],["T_VARIABLE","$storageHelper",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","fileStorageDb",127],";",["T_WHITESPACE","\n\n        ",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$storageHelper",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","checkDbUsage",129],"(",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$storageHelper",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","renameFile",130],"(",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","mediaConfig",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getTmpMediaShortUrl",131],"(",["T_VARIABLE","$file",131],")",",",["T_WHITESPACE","\n                ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","mediaConfig",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getMediaShortUrl",132],"(",["T_VARIABLE","$destinationFile",132],")",["T_WHITESPACE","\n            ",132],")",";",["T_WHITESPACE","\n\n            ",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","mediaDirectory",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","delete",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","mediaConfig",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTmpMediaPath",135],"(",["T_VARIABLE","$file",135],")",")",";",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","mediaDirectory",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","delete",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getAttributeSwatchPath",136],"(",["T_VARIABLE","$destinationFile",136],")",")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","mediaDirectory",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","renameFile",138],"(",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","mediaConfig",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getTmpMediaPath",139],"(",["T_VARIABLE","$file",139],")",",",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getAttributeSwatchPath",140],"(",["T_VARIABLE","$destinationFile",140],")",["T_WHITESPACE","\n            ",140],")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_STRING","str_replace",144],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\/'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$destinationFile",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Check whether file to move exists. Getting unique name\n     *\n     * @param <type> $file\n     * @return string\n     *\/",147],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","getUniqueFileName",153],"(",["T_VARIABLE","$file",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","fileStorageDb",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","checkDbUsage",155],"(",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$destFile",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","fileStorageDb",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getUniqueFilename",156],"(",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","mediaConfig",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getBaseMediaUrlAddition",157],"(",")",",",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$file",158],["T_WHITESPACE","\n            ",158],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE"," ",160],["T_ELSE","else",160],["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$destFile",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","dirname",161],"(",["T_VARIABLE","$file",161],")",["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'\/'",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","MediaStorage",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Model",161],["T_NS_SEPARATOR","\\",161],["T_STRING","File",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Uploader",161],["T_DOUBLE_COLON","::",161],["T_STRING","getNewFileName",161],"(",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","mediaDirectory",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getAbsolutePath",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getAttributeSwatchPath",162],"(",["T_VARIABLE","$file",162],")",")",["T_WHITESPACE","\n            ",162],")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$destFile",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Generate swatch thumb and small swatch image\n     *\n     * @param string $imageUrl\n     * @return $this\n     *\/",169],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","generateSwatchVariations",175],"(",["T_VARIABLE","$imageUrl",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$absoluteImagePath",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","mediaDirectory",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getAbsolutePath",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getAttributeSwatchPath",177],"(",["T_VARIABLE","$imageUrl",177],")",")",";",["T_WHITESPACE","\n        ",177],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","swatchImageTypes",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$swatchType",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$imageConfig",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getImageConfig",179],"(",")",";",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$swatchNamePath",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","generateNamePath",180],"(",["T_VARIABLE","$imageConfig",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$imageUrl",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$swatchType",180],")",";",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$image",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","imageFactory",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","create",181],"(",["T_VARIABLE","$absoluteImagePath",181],")",";",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","setupImageProperties",182],"(",["T_VARIABLE","$image",182],")",";",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$image",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","resize",183],"(",["T_VARIABLE","$imageConfig",183],"[",["T_VARIABLE","$swatchType",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",183],"]",",",["T_WHITESPACE"," ",183],["T_VARIABLE","$imageConfig",183],"[",["T_VARIABLE","$swatchType",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",183],"]",")",";",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setupImageProperties",184],"(",["T_VARIABLE","$image",184],",",["T_WHITESPACE"," ",184],["T_STRING","true",184],")",";",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$image",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","save",185],"(",["T_VARIABLE","$swatchNamePath",185],"[",["T_CONSTANT_ENCAPSED_STRING","'path_for_save'",185],"]",",",["T_WHITESPACE"," ",185],["T_VARIABLE","$swatchNamePath",185],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",185],"]",")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n        ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Setup base image properties for resize\n     *\n     * @param \\Magento\\Framework\\Image $image\n     * @param bool $isSwatch\n     * @return $this\n     *\/",190],["T_WHITESPACE","\n    ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","setupImageProperties",197],"(",["T_NS_SEPARATOR","\\",197],["T_STRING","Magento",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Framework",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Image",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$image",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$isSwatch",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","false",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$image",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","quality",199],"(",["T_LNUMBER","100",199],")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$image",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","constrainOnly",200],"(",["T_STRING","true",200],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$image",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","keepAspectRatio",201],"(",["T_STRING","true",201],")",";",["T_WHITESPACE","\n        ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$isSwatch",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$image",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","keepFrame",203],"(",["T_STRING","true",203],")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$image",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","keepTransparency",204],"(",["T_STRING","true",204],")",";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$image",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","backgroundColor",205],"(",["T_CONSTANT_ENCAPSED_STRING","'#FFF'",205],")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Generate swatch path and name for saving\n     *\n     * @param array $imageConfig\n     * @param string $imageUrl\n     * @param string $swatchType\n     * @return array\n     *\/",210],["T_WHITESPACE","\n    ",217],["T_PROTECTED","protected",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","generateNamePath",218],"(",["T_VARIABLE","$imageConfig",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$imageUrl",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$swatchType",218],")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$fileName",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","prepareFileName",220],"(",["T_VARIABLE","$imageUrl",220],")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$absolutePath",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","mediaDirectory",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getAbsolutePath",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getSwatchCachePath",221],"(",["T_VARIABLE","$swatchType",221],")",")",";",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],"[",["T_WHITESPACE","\n            ",222],["T_CONSTANT_ENCAPSED_STRING","'path_for_save'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$absolutePath",223],["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getFolderNameSize",223],"(",["T_VARIABLE","$swatchType",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$imageConfig",223],")",["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_VARIABLE","$fileName",223],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",223],"]",",",["T_WHITESPACE","\n            ",223],["T_CONSTANT_ENCAPSED_STRING","'name'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$fileName",224],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",224],"]",["T_WHITESPACE","\n        ",224],"]",";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Generate folder name WIDTHxHEIGHT based on config in view.xml\n     *\n     * @param string $swatchType\n     * @param null $imageConfig\n     * @return string\n     *\/",228],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","getFolderNameSize",235],"(",["T_VARIABLE","$swatchType",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$imageConfig",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","null",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$imageConfig",237],["T_WHITESPACE"," ",237],["T_IS_IDENTICAL","===",237],["T_WHITESPACE"," ",237],["T_STRING","null",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$imageConfig",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getImageConfig",238],"(",")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$imageConfig",240],"[",["T_VARIABLE","$swatchType",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",240],"]",["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'x'",240],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_VARIABLE","$imageConfig",240],"[",["T_VARIABLE","$swatchType",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",240],"]",";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Merged config from view.xml\n     *\n     * @return array\n     *\/",243],["T_WHITESPACE","\n    ",247],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","getImageConfig",248],"(",")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$imageConfig",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],"[","]",";",["T_WHITESPACE","\n        ",250],["T_FOREACH","foreach",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","themeCollection",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","loadRegisteredThemes",251],"(",")",["T_WHITESPACE"," ",251],["T_AS","as",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$theme",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$config",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","viewConfig",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getViewConfig",252],"(","[",["T_WHITESPACE","\n                ",252],["T_CONSTANT_ENCAPSED_STRING","'area'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_STRING","Area",253],["T_DOUBLE_COLON","::",253],["T_STRING","AREA_FRONTEND",253],",",["T_WHITESPACE","\n                ",253],["T_CONSTANT_ENCAPSED_STRING","'themeModel'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$theme",254],",",["T_WHITESPACE","\n            ",254],"]",")",";",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$imageConfig",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","array_merge",256],"(",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$imageConfig",257],",",["T_WHITESPACE","\n                ",257],["T_VARIABLE","$config",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getMediaEntities",258],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog'",258],",",["T_WHITESPACE"," ",258],["T_STRING","Image",258],["T_DOUBLE_COLON","::",258],["T_STRING","MEDIA_TYPE_CONFIG_NODE",258],")",["T_WHITESPACE","\n            ",258],")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$imageConfig",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Image url \/m\/a\/magento.png return ['name' => 'magento.png', 'path => '\/m\/a']\n     *\n     * @param string $imageUrl\n     * @return array\n     *\/",264],["T_WHITESPACE","\n    ",269],["T_PROTECTED","protected",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","prepareFileName",270],"(",["T_VARIABLE","$imageUrl",270],")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$fileArray",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","explode",272],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$imageUrl",272],")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$fileName",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","array_pop",273],"(",["T_VARIABLE","$fileArray",273],")",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$filePath",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","implode",274],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$fileArray",274],")",";",["T_WHITESPACE","\n        ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$fileName",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'path'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$filePath",275],"]",";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * Url type http:\/\/url\/pub\/media\/attribute\/swatch\/\n     *\n     * @return string\n     *\/",278],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","getSwatchMediaUrl",283],"(",")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","storeManager",285],["T_WHITESPACE","\n            ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","getStore",286],"(",")",["T_WHITESPACE","\n            ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","getBaseUrl",287],"(",["T_NS_SEPARATOR","\\",287],["T_STRING","Magento",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Framework",287],["T_NS_SEPARATOR","\\",287],["T_STRING","UrlInterface",287],["T_DOUBLE_COLON","::",287],["T_STRING","URL_TYPE_MEDIA",287],")",["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getSwatchMediaPath",287],"(",")",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Return example: attribute\/swatch\/m\/a\/magento.jpg\n     *\n     * @param string $file\n     * @return string\n     *\/",290],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","getAttributeSwatchPath",296],"(",["T_VARIABLE","$file",296],")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getSwatchMediaPath",298],"(",")",["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'\/'",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","prepareFile",298],"(",["T_VARIABLE","$file",298],")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Media swatch path\n     *\n     * @return string\n     *\/",301],["T_WHITESPACE","\n    ",305],["T_PUBLIC","public",306],["T_WHITESPACE"," ",306],["T_FUNCTION","function",306],["T_WHITESPACE"," ",306],["T_STRING","getSwatchMediaPath",306],"(",")",["T_WHITESPACE","\n    ",306],"{",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_STRING","self",308],["T_DOUBLE_COLON","::",308],["T_STRING","SWATCH_MEDIA_PATH",308],";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Media path with swatch_image or swatch_thumb folder\n     *\n     * @param string $swatchType\n     * @return string\n     *\/",311],["T_WHITESPACE","\n    ",316],["T_PUBLIC","public",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","getSwatchCachePath",317],"(",["T_VARIABLE","$swatchType",317],")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_STRING","self",319],["T_DOUBLE_COLON","::",319],["T_STRING","SWATCH_MEDIA_PATH",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'\/'",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_VARIABLE","$swatchType",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'\/'",319],";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Prepare file for saving\n     *\n     * @param string $file\n     * @return string\n     *\/",322],["T_WHITESPACE","\n    ",327],["T_PROTECTED","protected",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","prepareFile",328],"(",["T_VARIABLE","$file",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_STRING","ltrim",330],"(",["T_STRING","str_replace",330],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'\/'",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$file",330],")",",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'\/'",330],")",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n",331],"}",["T_WHITESPACE","\n",332]]