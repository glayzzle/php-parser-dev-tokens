[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Swatches",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Renderer",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Block",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Context",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","CatalogProduct",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConfigurableProduct",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigurableProduct",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigurableAttributeData",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Session",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CurrentCustomer",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Json",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EncoderInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Pricing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PriceCurrencyInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Catalog",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Product",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Stdlib",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ArrayUtils",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Store",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ScopeInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Swatches",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Helper",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Data",18],["T_WHITESPACE"," ",18],["T_AS","as",18],["T_WHITESPACE"," ",18],["T_STRING","SwatchData",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Swatches",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Helper",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Media",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Swatches",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Swatch",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Swatch renderer block\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",22],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","Configurable",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","ConfigurableProduct",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Block",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Product",27],["T_NS_SEPARATOR","\\",27],["T_STRING","View",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Type",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Configurable",27],["T_WHITESPACE"," ",27],["T_IMPLEMENTS","implements",27],["T_WHITESPACE","\n    ",27],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","DataObject",28],["T_NS_SEPARATOR","\\",28],["T_STRING","IdentityInterface",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_DOC_COMMENT","\/**\n     * Path to template file with Swatch renderer.\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","SWATCH_RENDERER_TEMPLATE",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'Magento_Swatches::product\/view\/renderer.phtml'",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Path to default template file with standard Configurable renderer.\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","CONFIGURABLE_RENDERER_TEMPLATE",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'Magento_ConfigurableProduct::product\/view\/type\/options\/configurable.phtml'",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Action name for ajax request\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","MEDIA_CALLBACK_ACTION",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'swatches\/ajax\/media'",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var Product\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$product",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var SwatchData\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$swatchHelper",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var Media\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$swatchMediaHelper",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Indicate if product has one or more Swatch attributes\n     *\n     * @var boolean\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$isProductHasSwatchAttribute",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @param Context $context\n     * @param ArrayUtils $arrayUtils\n     * @param EncoderInterface $jsonEncoder\n     * @param Data $helper\n     * @param CatalogProduct $catalogProduct\n     * @param CurrentCustomer $currentCustomer\n     * @param PriceCurrencyInterface $priceCurrency\n     * @param ConfigurableAttributeData $configurableAttributeData\n     * @param SwatchData $swatchHelper\n     * @param Media $swatchMediaHelper\n     * @param array $data other data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",67],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",["T_WHITESPACE","\n        ",81],["T_STRING","Context",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$context",82],",",["T_WHITESPACE","\n        ",82],["T_STRING","ArrayUtils",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$arrayUtils",83],",",["T_WHITESPACE","\n        ",83],["T_STRING","EncoderInterface",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$jsonEncoder",84],",",["T_WHITESPACE","\n        ",84],["T_STRING","Data",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$helper",85],",",["T_WHITESPACE","\n        ",85],["T_STRING","CatalogProduct",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$catalogProduct",86],",",["T_WHITESPACE","\n        ",86],["T_STRING","CurrentCustomer",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$currentCustomer",87],",",["T_WHITESPACE","\n        ",87],["T_STRING","PriceCurrencyInterface",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$priceCurrency",88],",",["T_WHITESPACE","\n        ",88],["T_STRING","ConfigurableAttributeData",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$configurableAttributeData",89],",",["T_WHITESPACE","\n        ",89],["T_STRING","SwatchData",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$swatchHelper",90],",",["T_WHITESPACE","\n        ",90],["T_STRING","Media",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$swatchMediaHelper",91],",",["T_WHITESPACE","\n        ",91],["T_ARRAY","array",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$data",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[","]",["T_WHITESPACE","\n    ",92],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","swatchHelper",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$swatchHelper",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","swatchMediaHelper",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$swatchMediaHelper",95],";",["T_WHITESPACE","\n\n        ",95],["T_STRING","parent",97],["T_DOUBLE_COLON","::",97],["T_STRING","__construct",97],"(",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$context",98],",",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$arrayUtils",99],",",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$jsonEncoder",100],",",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$helper",101],",",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$catalogProduct",102],",",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$currentCustomer",103],",",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$priceCurrency",104],",",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$configurableAttributeData",105],",",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$data",106],["T_WHITESPACE","\n        ",106],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Get Key for caching block content\n     *\n     * @return string\n     *\/",110],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getCacheKey",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_STRING","parent",117],["T_DOUBLE_COLON","::",117],["T_STRING","getCacheKey",117],"(",")",["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'-'",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getProduct",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getId",117],"(",")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Get block cache life time\n     *\n     * @return int\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","getCacheLifetime",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_STRING","parent",127],["T_DOUBLE_COLON","::",127],["T_STRING","hasCacheLifetime",127],"(",")",["T_WHITESPACE"," ",127],"?",["T_WHITESPACE"," ",127],["T_STRING","parent",127],["T_DOUBLE_COLON","::",127],["T_STRING","getCacheLifetime",127],"(",")",["T_WHITESPACE"," ",127],":",["T_WHITESPACE"," ",127],["T_LNUMBER","3600",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Get Swatch config data\n     *\n     * @return string\n     *\/",130],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getJsonSwatchConfig",135],"(",")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$attributesData",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getSwatchAttributesData",137],"(",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$allOptionIds",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getConfigurableOptionsIds",138],"(",["T_VARIABLE","$attributesData",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$swatchesData",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","swatchHelper",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getSwatchesByOptionsId",139],"(",["T_VARIABLE","$allOptionIds",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$config",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[","]",";",["T_WHITESPACE","\n        ",141],["T_FOREACH","foreach",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$attributesData",142],["T_WHITESPACE"," ",142],["T_AS","as",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$attributeId",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$attributeDataArray",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_ISSET","isset",143],"(",["T_VARIABLE","$attributeDataArray",143],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",143],"]",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$config",144],"[",["T_VARIABLE","$attributeId",144],"]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","addSwatchDataForAttribute",144],"(",["T_WHITESPACE","\n                    ",144],["T_VARIABLE","$attributeDataArray",145],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",145],"]",",",["T_WHITESPACE","\n                    ",145],["T_VARIABLE","$swatchesData",146],",",["T_WHITESPACE","\n                    ",146],["T_VARIABLE","$attributeDataArray",147],["T_WHITESPACE","\n                ",147],")",";",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n\n        ",150],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","jsonEncoder",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","encode",152],"(",["T_VARIABLE","$config",152],")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Get number of swatches from config to show on product listing.\n     * Other swatches can be shown after click button 'Show more'\n     *\n     * @return string\n     *\/",155],["T_WHITESPACE","\n    ",160],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","getNumberSwatchesPerProduct",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_scopeConfig",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getValue",163],"(",["T_WHITESPACE","\n            ",163],["T_CONSTANT_ENCAPSED_STRING","'catalog\/frontend\/swatches_per_product'",164],",",["T_WHITESPACE","\n            ",164],["T_STRING","ScopeInterface",165],["T_DOUBLE_COLON","::",165],["T_STRING","SCOPE_STORE",165],["T_WHITESPACE","\n        ",165],")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Set product to block\n     *\n     * @param Product $product\n     * @return $this\n     *\/",169],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","setProduct",175],"(",["T_STRING","Product",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$product",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","product",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$product",177],";",["T_WHITESPACE","\n        ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Override parent function\n     *\n     * @return Product\n     *\/",181],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getProduct",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","product",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","product",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","parent",189],["T_DOUBLE_COLON","::",189],["T_STRING","getProduct",189],"(",")",";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n\n        ",190],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","product",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",195],["T_WHITESPACE","\n    ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getSwatchAttributesData",198],"(",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","swatchHelper",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getSwatchAttributesAsArray",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getProduct",200],"(",")",")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * @codeCoverageIgnore\n     * @return void\n     *\/",203],["T_WHITESPACE","\n    ",206],["T_PROTECTED","protected",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","initIsProductHasSwatchAttribute",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","isProductHasSwatchAttribute",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","swatchHelper",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","isProductHasSwatch",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getProduct",209],"(",")",")",";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * Add Swatch Data for attribute\n     *\n     * @param array $options\n     * @param array $swatchesCollectionArray\n     * @param array $attributeDataArray\n     * @return array\n     *\/",212],["T_WHITESPACE","\n    ",219],["T_PROTECTED","protected",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","addSwatchDataForAttribute",220],"(",["T_WHITESPACE","\n        ",220],["T_ARRAY","array",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$options",221],",",["T_WHITESPACE","\n        ",221],["T_ARRAY","array",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$swatchesCollectionArray",222],",",["T_WHITESPACE","\n        ",222],["T_ARRAY","array",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$attributeDataArray",223],["T_WHITESPACE","\n    ",223],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$result",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],"[","]",";",["T_WHITESPACE","\n        ",225],["T_FOREACH","foreach",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$options",226],["T_WHITESPACE"," ",226],["T_AS","as",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$optionId",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$label",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_ISSET","isset",227],"(",["T_VARIABLE","$swatchesCollectionArray",227],"[",["T_VARIABLE","$optionId",227],"]",")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                ",227],["T_VARIABLE","$result",228],"[",["T_VARIABLE","$optionId",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","extractNecessarySwatchData",228],"(",["T_VARIABLE","$swatchesCollectionArray",228],"[",["T_VARIABLE","$optionId",228],"]",")",";",["T_WHITESPACE","\n                ",228],["T_VARIABLE","$result",229],"[",["T_VARIABLE","$optionId",229],"]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","addAdditionalMediaData",229],"(",["T_VARIABLE","$result",229],"[",["T_VARIABLE","$optionId",229],"]",",",["T_WHITESPACE"," ",229],["T_VARIABLE","$optionId",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$attributeDataArray",229],")",";",["T_WHITESPACE","\n                ",229],["T_VARIABLE","$result",230],"[",["T_VARIABLE","$optionId",230],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",230],"]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$label",230],";",["T_WHITESPACE","\n            ",230],"}",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$result",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Add media from variation\n     *\n     * @param array $swatch\n     * @param integer $optionId\n     * @param array $attributeDataArray\n     * @return array\n     *\/",237],["T_WHITESPACE","\n    ",244],["T_PROTECTED","protected",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","addAdditionalMediaData",245],"(",["T_ARRAY","array",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$swatch",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$optionId",245],",",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$attributeDataArray",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_WHITESPACE","\n            ",247],["T_ISSET","isset",248],"(",["T_VARIABLE","$attributeDataArray",248],"[",["T_CONSTANT_ENCAPSED_STRING","'use_product_image_for_swatch'",248],"]",")",["T_WHITESPACE","\n            ",248],["T_BOOLEAN_AND","&&",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$attributeDataArray",249],"[",["T_CONSTANT_ENCAPSED_STRING","'use_product_image_for_swatch'",249],"]",["T_WHITESPACE","\n        ",249],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_VARIABLE","$variationMedia",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getVariationMedia",251],"(",["T_VARIABLE","$attributeDataArray",251],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",251],"]",",",["T_WHITESPACE"," ",251],["T_VARIABLE","$optionId",251],")",";",["T_WHITESPACE","\n            ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(","!",["T_WHITESPACE"," ",252],["T_EMPTY","empty",252],"(",["T_VARIABLE","$variationMedia",252],")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$swatch",253],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",253],"]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","Swatch",253],["T_DOUBLE_COLON","::",253],["T_STRING","SWATCH_TYPE_VISUAL_IMAGE",253],";",["T_WHITESPACE","\n                ",253],["T_VARIABLE","$swatch",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","array_merge",254],"(",["T_VARIABLE","$swatch",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$variationMedia",254],")",";",["T_WHITESPACE","\n            ",254],"}",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n        ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$swatch",257],";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Retrieve Swatch data for config\n     *\n     * @param array $swatchDataArray\n     * @return array\n     *\/",260],["T_WHITESPACE","\n    ",265],["T_PROTECTED","protected",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","extractNecessarySwatchData",266],"(",["T_ARRAY","array",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$swatchDataArray",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$result",268],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",268],"]",["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$swatchDataArray",268],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",268],"]",";",["T_WHITESPACE","\n\n        ",268],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$result",270],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",270],"]",["T_WHITESPACE"," ",270],["T_IS_EQUAL","==",270],["T_WHITESPACE"," ",270],["T_STRING","Swatch",270],["T_DOUBLE_COLON","::",270],["T_STRING","SWATCH_TYPE_VISUAL_IMAGE",270],["T_WHITESPACE"," ",270],["T_BOOLEAN_AND","&&",270],["T_WHITESPACE"," ",270],"!",["T_EMPTY","empty",270],"(",["T_VARIABLE","$swatchDataArray",270],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",270],"]",")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$result",271],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",271],"]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","swatchMediaHelper",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getSwatchAttributeImage",271],"(",["T_WHITESPACE","\n                ",271],["T_STRING","Swatch",272],["T_DOUBLE_COLON","::",272],["T_STRING","SWATCH_IMAGE_NAME",272],",",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$swatchDataArray",273],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",273],"]",["T_WHITESPACE","\n            ",273],")",";",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$result",275],"[",["T_CONSTANT_ENCAPSED_STRING","'thumb'",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","swatchMediaHelper",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getSwatchAttributeImage",275],"(",["T_WHITESPACE","\n                ",275],["T_STRING","Swatch",276],["T_DOUBLE_COLON","::",276],["T_STRING","SWATCH_THUMBNAIL_NAME",276],",",["T_WHITESPACE","\n                ",276],["T_VARIABLE","$swatchDataArray",277],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",277],"]",["T_WHITESPACE","\n            ",277],")",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE"," ",279],["T_ELSE","else",279],["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$result",280],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",280],"]",["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$swatchDataArray",280],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",280],"]",";",["T_WHITESPACE","\n        ",280],"}",["T_WHITESPACE","\n\n        ",281],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$result",283],";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n\n    ",284],["T_DOC_COMMENT","\/**\n     * Generate Product Media array\n     *\n     * @param string $attributeCode\n     * @param integer $optionId\n     * @return array\n     *\/",286],["T_WHITESPACE","\n    ",292],["T_PROTECTED","protected",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","getVariationMedia",293],"(",["T_VARIABLE","$attributeCode",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$optionId",293],")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$variationProduct",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","swatchHelper",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","loadFirstVariationWithSwatchImage",295],"(",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getProduct",296],"(",")",",",["T_WHITESPACE","\n            ",296],"[",["T_VARIABLE","$attributeCode",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$optionId",297],"]",["T_WHITESPACE","\n        ",297],")",";",["T_WHITESPACE","\n\n        ",298],["T_IF","if",300],["T_WHITESPACE"," ",300],"(","!",["T_VARIABLE","$variationProduct",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$variationProduct",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","swatchHelper",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","loadFirstVariationWithImage",301],"(",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getProduct",302],"(",")",",",["T_WHITESPACE","\n                ",302],"[",["T_VARIABLE","$attributeCode",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$optionId",303],"]",["T_WHITESPACE","\n            ",303],")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$variationMediaArray",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],"[","]",";",["T_WHITESPACE","\n        ",307],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$variationProduct",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$variationMediaArray",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],"[",["T_WHITESPACE","\n                ",309],["T_CONSTANT_ENCAPSED_STRING","'value'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getSwatchProductImage",310],"(",["T_VARIABLE","$variationProduct",310],",",["T_WHITESPACE"," ",310],["T_STRING","Swatch",310],["T_DOUBLE_COLON","::",310],["T_STRING","SWATCH_IMAGE_NAME",310],")",",",["T_WHITESPACE","\n                ",310],["T_CONSTANT_ENCAPSED_STRING","'thumb'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getSwatchProductImage",311],"(",["T_VARIABLE","$variationProduct",311],",",["T_WHITESPACE"," ",311],["T_STRING","Swatch",311],["T_DOUBLE_COLON","::",311],["T_STRING","SWATCH_THUMBNAIL_NAME",311],")",",",["T_WHITESPACE","\n            ",311],"]",";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n\n        ",313],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$variationMediaArray",315],";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * @param Product $childProduct\n     * @param string $imageType\n     * @return string\n     *\/",318],["T_WHITESPACE","\n    ",322],["T_PROTECTED","protected",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","getSwatchProductImage",323],"(",["T_STRING","Product",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$childProduct",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$imageType",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","isProductHasImage",325],"(",["T_VARIABLE","$childProduct",325],",",["T_WHITESPACE"," ",325],["T_STRING","Swatch",325],["T_DOUBLE_COLON","::",325],["T_STRING","SWATCH_IMAGE_NAME",325],")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$swatchImageId",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$imageType",326],";",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$imageAttributes",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_STRING","Swatch",327],["T_DOUBLE_COLON","::",327],["T_STRING","SWATCH_IMAGE_NAME",327],"]",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE"," ",328],["T_ELSEIF","elseif",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","isProductHasImage",328],"(",["T_VARIABLE","$childProduct",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'image'",328],")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$swatchImageId",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$imageType",329],["T_WHITESPACE"," ",329],["T_IS_EQUAL","==",329],["T_WHITESPACE"," ",329],["T_STRING","Swatch",329],["T_DOUBLE_COLON","::",329],["T_STRING","SWATCH_IMAGE_NAME",329],["T_WHITESPACE"," ",329],"?",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'swatch_image_base'",329],["T_WHITESPACE"," ",329],":",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'swatch_thumb_base'",329],";",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$imageAttributes",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'image'",330],"]",";",["T_WHITESPACE","\n        ",330],"}",["T_WHITESPACE","\n        ",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_ISSET","isset",332],"(",["T_VARIABLE","$swatchImageId",332],")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n            ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_imageHelper",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","init",333],"(",["T_VARIABLE","$childProduct",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$swatchImageId",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$imageAttributes",333],")",["T_OBJECT_OPERATOR","->",333],["T_STRING","getUrl",333],"(",")",";",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * @param Product $product\n     * @param string $imageType\n     * @return bool\n     *\/",337],["T_WHITESPACE","\n    ",341],["T_PROTECTED","protected",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","isProductHasImage",342],"(",["T_STRING","Product",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$product",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$imageType",342],")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$product",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getData",344],"(",["T_VARIABLE","$imageType",344],")",["T_WHITESPACE"," ",344],["T_IS_NOT_IDENTICAL","!==",344],["T_WHITESPACE"," ",344],["T_STRING","null",344],["T_WHITESPACE"," ",344],["T_BOOLEAN_AND","&&",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$product",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getData",344],"(",["T_VARIABLE","$imageType",344],")",["T_WHITESPACE"," ",344],["T_IS_NOT_EQUAL","!=",344],["T_WHITESPACE"," ",344],["T_STRING","SwatchData",344],["T_DOUBLE_COLON","::",344],["T_STRING","EMPTY_IMAGE_VALUE",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * @param array $attributeData\n     * @return array\n     *\/",347],["T_WHITESPACE","\n    ",350],["T_PROTECTED","protected",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","getConfigurableOptionsIds",351],"(",["T_ARRAY","array",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$attributeData",351],")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$ids",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],"[","]",";",["T_WHITESPACE","\n        ",353],["T_FOREACH","foreach",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getAllowProducts",354],"(",")",["T_WHITESPACE"," ",354],["T_AS","as",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$product",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_DOC_COMMENT","\/** @var \\Magento\\ConfigurableProduct\\Model\\Product\\Type\\Configurable\\Attribute $attribute *\/",355],["T_WHITESPACE","\n            ",355],["T_FOREACH","foreach",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","helper",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getAllowAttributes",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getProduct",356],"(",")",")",["T_WHITESPACE"," ",356],["T_AS","as",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$attribute",356],")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n                ",356],["T_VARIABLE","$productAttribute",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$attribute",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getProductAttribute",357],"(",")",";",["T_WHITESPACE","\n                ",357],["T_VARIABLE","$productAttributeId",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$productAttribute",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getId",358],"(",")",";",["T_WHITESPACE","\n                ",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_ISSET","isset",359],"(",["T_VARIABLE","$attributeData",359],"[",["T_VARIABLE","$productAttributeId",359],"]",")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n                    ",359],["T_VARIABLE","$ids",360],"[",["T_VARIABLE","$product",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getData",360],"(",["T_VARIABLE","$productAttribute",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getAttributeCode",360],"(",")",")","]",["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_LNUMBER","1",360],";",["T_WHITESPACE","\n                ",360],"}",["T_WHITESPACE","\n            ",361],"}",["T_WHITESPACE","\n        ",362],"}",["T_WHITESPACE","\n        ",363],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_STRING","array_keys",364],"(",["T_VARIABLE","$ids",364],")",";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * Produce and return block's html output\n     *\n     * @codeCoverageIgnore\n     * @return string\n     *\/",367],["T_WHITESPACE","\n    ",372],["T_PUBLIC","public",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","toHtml",373],"(",")",["T_WHITESPACE","\n    ",373],"{",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","initIsProductHasSwatchAttribute",375],"(",")",";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","setTemplate",376],"(",["T_WHITESPACE","\n            ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getRendererTemplate",377],"(",")",["T_WHITESPACE","\n        ",377],")",";",["T_WHITESPACE","\n\n        ",378],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_STRING","parent",380],["T_DOUBLE_COLON","::",380],["T_STRING","toHtml",380],"(",")",";",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n\n    ",381],["T_DOC_COMMENT","\/**\n     * Return HTML code\n     *\n     * @codeCoverageIgnore\n     * @return string\n     *\/",383],["T_WHITESPACE","\n    ",388],["T_PROTECTED","protected",389],["T_WHITESPACE"," ",389],["T_FUNCTION","function",389],["T_WHITESPACE"," ",389],["T_STRING","_toHtml",389],"(",")",["T_WHITESPACE","\n    ",389],"{",["T_WHITESPACE","\n        ",390],["T_RETURN","return",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getHtmlOutput",391],"(",")",";",["T_WHITESPACE","\n    ",391],"}",["T_WHITESPACE","\n\n    ",392],["T_DOC_COMMENT","\/**\n     * @codeCoverageIgnore\n     * @return string\n     *\/",394],["T_WHITESPACE","\n    ",397],["T_PROTECTED","protected",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","getRendererTemplate",398],"(",")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","isProductHasSwatchAttribute",400],["T_WHITESPACE"," ",400],"?",["T_WHITESPACE","\n            ",400],["T_STRING","self",401],["T_DOUBLE_COLON","::",401],["T_STRING","SWATCH_RENDERER_TEMPLATE",401],["T_WHITESPACE"," ",401],":",["T_WHITESPACE"," ",401],["T_STRING","self",401],["T_DOUBLE_COLON","::",401],["T_STRING","CONFIGURABLE_RENDERER_TEMPLATE",401],";",["T_WHITESPACE","\n    ",401],"}",["T_WHITESPACE","\n\n    ",402],["T_DOC_COMMENT","\/**\n     * @codeCoverageIgnore\n     * @return string\n     *\/",404],["T_WHITESPACE","\n    ",407],["T_PROTECTED","protected",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","getHtmlOutput",408],"(",")",["T_WHITESPACE","\n    ",408],"{",["T_WHITESPACE","\n        ",409],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_STRING","parent",410],["T_DOUBLE_COLON","::",410],["T_STRING","_toHtml",410],"(",")",";",["T_WHITESPACE","\n    ",410],"}",["T_WHITESPACE","\n\n    ",411],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",413],["T_WHITESPACE","\n    ",415],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","getMediaCallback",416],"(",")",["T_WHITESPACE","\n    ",416],"{",["T_WHITESPACE","\n        ",417],["T_RETURN","return",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getUrl",418],"(",["T_STRING","self",418],["T_DOUBLE_COLON","::",418],["T_STRING","MEDIA_CALLBACK_ACTION",418],",",["T_WHITESPACE"," ",418],"[",["T_CONSTANT_ENCAPSED_STRING","'_secure'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getRequest",418],"(",")",["T_OBJECT_OPERATOR","->",418],["T_STRING","isSecure",418],"(",")","]",")",";",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_DOC_COMMENT","\/**\n     * Return unique ID(s) for each object in system\n     *\n     * @return string[]\n     *\/",421],["T_WHITESPACE","\n    ",425],["T_PUBLIC","public",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","getIdentities",426],"(",")",["T_WHITESPACE","\n    ",426],"{",["T_WHITESPACE","\n        ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","product",428],["T_WHITESPACE"," ",428],["T_INSTANCEOF","instanceof",428],["T_WHITESPACE"," ",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Magento",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Framework",428],["T_NS_SEPARATOR","\\",428],["T_STRING","DataObject",428],["T_NS_SEPARATOR","\\",428],["T_STRING","IdentityInterface",428],")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_RETURN","return",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","product",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getIdentities",429],"(",")",";",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE"," ",430],["T_ELSE","else",430],["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n            ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],"[","]",";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n    ",432],"}",["T_WHITESPACE","\n",433],"}",["T_WHITESPACE","\n",434]]