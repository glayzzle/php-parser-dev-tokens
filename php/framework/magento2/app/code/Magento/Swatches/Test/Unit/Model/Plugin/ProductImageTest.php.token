[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Swatches",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Class ProductImage replace original configurable product with first child\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","ProductImageTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PHPUnit_Framework_TestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/** @var \\Magento\\Swatches\\Helper\\Data|\\PHPUnit_Framework_MockObject_MockObject *\/",13],["T_WHITESPACE","\n    ",13],["T_PROTECTED","protected",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$swatchesHelperMock",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\AttributeFactory|\\PHPUnit_Framework_MockObject_MockObject *\/",16],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$attributeFactoryMock",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/** @var \\Magento\\Eav\\Model\\Config|\\PHPUnit_Framework_MockObject_MockObject *\/",19],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$eavConfigMock",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute|\\PHPUnit_Framework_MockObject_MockObject *\/",22],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$attributeMock",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Request\\Http|\\PHPUnit_Framework_MockObject_MockObject *\/",25],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$requestMock",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product|\\PHPUnit_Framework_MockObject_MockObject *\/",28],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$productMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/** @var \\Magento\\Swatches\\Model\\Plugin\\ProductImage|\\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager *\/",31],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$pluginModel",32],";",["T_WHITESPACE","\n\n    ",32],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","setUp",34],"(",")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","swatchesHelperMock",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getMock",36],"(",["T_WHITESPACE","\n            ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Swatches",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Helper",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Data",37],["T_DOUBLE_COLON","::",37],["T_CLASS","class",37],",",["T_WHITESPACE","\n            ",37],"[",["T_CONSTANT_ENCAPSED_STRING","'loadVariationByFallback'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'isSwatchAttribute'",38],"]",",",["T_WHITESPACE","\n            ",38],"[","]",",",["T_WHITESPACE","\n            ",39],["T_CONSTANT_ENCAPSED_STRING","''",40],",",["T_WHITESPACE","\n            ",40],["T_STRING","false",41],["T_WHITESPACE","\n        ",41],")",";",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","attributeFactoryMock",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMock",44],"(",["T_WHITESPACE","\n            ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Catalog",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Model",45],["T_NS_SEPARATOR","\\",45],["T_STRING","ResourceModel",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Eav",45],["T_NS_SEPARATOR","\\",45],["T_STRING","AttributeFactory",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],",",["T_WHITESPACE","\n            ",45],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",46],"]",",",["T_WHITESPACE","\n            ",46],"[","]",",",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","''",48],",",["T_WHITESPACE","\n            ",48],["T_STRING","false",49],["T_WHITESPACE","\n        ",49],")",";",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","eavConfigMock",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getMock",52],"(",["T_WHITESPACE","\n            ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Eav",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Config",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],",",["T_WHITESPACE","\n            ",53],"[","]",",",["T_WHITESPACE","\n            ",54],"[","]",",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","''",56],",",["T_WHITESPACE","\n            ",56],["T_STRING","false",57],["T_WHITESPACE","\n        ",57],")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","attributeMock",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",["T_WHITESPACE","\n            ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Catalog",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Model",61],["T_NS_SEPARATOR","\\",61],["T_STRING","ResourceModel",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Eav",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Attribute",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],",",["T_WHITESPACE","\n            ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'loadByCode'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'getId'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'getData'",62],"]",",",["T_WHITESPACE","\n            ",62],"[","]",",",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","''",64],",",["T_WHITESPACE","\n            ",64],["T_STRING","false",65],["T_WHITESPACE","\n        ",65],")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","requestMock",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMock",68],"(",["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","App",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Request",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Http",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],",",["T_WHITESPACE"," ",68],"[",["T_CONSTANT_ENCAPSED_STRING","'getParams'",68],"]",",",["T_WHITESPACE"," ",68],"[","]",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","''",68],",",["T_WHITESPACE"," ",68],["T_STRING","false",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","productMock",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMock",69],"(",["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Catalog",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Model",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Product",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],",",["T_WHITESPACE"," ",69],"[","]",",",["T_WHITESPACE"," ",69],"[","]",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","''",69],",",["T_WHITESPACE"," ",69],["T_STRING","false",69],")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$objectManager",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","TestFramework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Unit",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Helper",71],["T_NS_SEPARATOR","\\",71],["T_STRING","ObjectManager",71],"(",["T_VARIABLE","$this",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","pluginModel",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$objectManager",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getObject",73],"(",["T_WHITESPACE","\n            ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Swatches",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Plugin",74],["T_NS_SEPARATOR","\\",74],["T_STRING","ProductImage",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],",",["T_WHITESPACE","\n            ",74],"[",["T_WHITESPACE","\n                ",75],["T_CONSTANT_ENCAPSED_STRING","'swatchesHelperData'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","swatchesHelperMock",76],",",["T_WHITESPACE","\n                ",76],["T_CONSTANT_ENCAPSED_STRING","'eavConfig'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","eavConfigMock",77],",",["T_WHITESPACE","\n                ",77],["T_CONSTANT_ENCAPSED_STRING","'request'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","requestMock",78],",",["T_WHITESPACE","\n            ",78],"]",["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @dataProvider dataForTest\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testBeforeGetImage",86],"(",["T_VARIABLE","$expected",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","productMock",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","expects",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","once",88],"(",")",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","method",88],"(",["T_CONSTANT_ENCAPSED_STRING","'getTypeId'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","willReturn",88],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable'",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","requestMock",90],["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","expects",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","once",91],"(",")",")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","method",92],"(",["T_CONSTANT_ENCAPSED_STRING","'getParams'",92],")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","willReturn",93],"(",["T_VARIABLE","$expected",93],"[",["T_CONSTANT_ENCAPSED_STRING","'getParams'",93],"]",")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getFilterArray",95],"(",["T_VARIABLE","$expected",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","canReplaceImageWithSwatch",96],"(",["T_VARIABLE","$expected",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","swatchesHelperMock",97],["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","expects",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","exactly",98],"(",["T_VARIABLE","$expected",98],"[",["T_CONSTANT_ENCAPSED_STRING","'loadVariationByFallback_count'",98],"]",")",")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","method",99],"(",["T_CONSTANT_ENCAPSED_STRING","'loadVariationByFallback'",99],")",["T_WHITESPACE","\n            ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","willReturn",100],"(",["T_VARIABLE","$expected",100],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",100],"]",")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$productImageMock",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getMock",102],"(",["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Catalog",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Block",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Product",102],["T_NS_SEPARATOR","\\",102],["T_STRING","AbstractProduct",102],["T_DOUBLE_COLON","::",102],["T_CLASS","class",102],",",["T_WHITESPACE"," ",102],"[","]",",",["T_WHITESPACE"," ",102],"[","]",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE"," ",102],["T_STRING","false",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$result",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","pluginModel",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","beforeGetImage",104],"(",["T_VARIABLE","$productImageMock",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","productMock",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$expected",104],"[",["T_CONSTANT_ENCAPSED_STRING","'page_handle'",104],"]",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEquals",105],"(","[",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","productMock",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$expected",105],"[",["T_CONSTANT_ENCAPSED_STRING","'page_handle'",105],"]",",",["T_WHITESPACE"," ",105],"[","]","]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$result",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","getFilterArray",108],"(",["T_VARIABLE","$expected",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","eavConfigMock",110],["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","method",111],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityAttributeCodes'",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","with",112],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",112],")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","willReturn",113],"(",["T_VARIABLE","$expected",113],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_codes_array'",113],"]",")",";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","eavConfigMock",115],["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","method",116],"(",["T_CONSTANT_ENCAPSED_STRING","'getAttribute'",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","with",117],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$expected",117],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",117],"]",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","willReturn",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","attributeMock",118],")",";",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","attributeMock",120],["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","expects",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","exactly",121],"(",["T_VARIABLE","$expected",121],"[",["T_CONSTANT_ENCAPSED_STRING","'getId_count'",121],"]",")",")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","willReturn",123],"(",["T_VARIABLE","$expected",123],"[",["T_CONSTANT_ENCAPSED_STRING","'getId'",123],"]",")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","canReplaceImageWithSwatch",126],"(",["T_VARIABLE","$expected",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","swatchesHelperMock",128],["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","once",129],"(",")",")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'isSwatchAttribute'",130],")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","with",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","attributeMock",131],")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","willReturn",132],"(",["T_VARIABLE","$expected",132],"[",["T_CONSTANT_ENCAPSED_STRING","'isSwatchAttribute'",132],"]",")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","attributeMock",134],["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","expects",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","exactly",135],"(",["T_VARIABLE","$expected",135],"[",["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing_count'",135],"]",")",")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","method",136],"(",["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing'",136],")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","willReturn",137],"(",["T_VARIABLE","$expected",137],"[",["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing'",137],"]",")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","attributeMock",139],["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","expects",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","exactly",140],"(",["T_VARIABLE","$expected",140],"[",["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable_count'",140],"]",")",")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","method",141],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable'",141],")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","willReturn",142],"(",["T_VARIABLE","$expected",142],"[",["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable'",142],"]",")",";",["T_WHITESPACE","\n\n        ",142],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$expected",144],"[",["T_CONSTANT_ENCAPSED_STRING","'update_product_preview_image__count'",144],"]",["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_LNUMBER","1",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","attributeMock",145],["T_WHITESPACE","\n                ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","method",146],"(",["T_CONSTANT_ENCAPSED_STRING","'getData'",146],")",["T_WHITESPACE","\n                ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","with",147],"(",["T_CONSTANT_ENCAPSED_STRING","'update_product_preview_image'",147],")",["T_WHITESPACE","\n                ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","willReturn",148],"(",["T_VARIABLE","$expected",148],"[",["T_CONSTANT_ENCAPSED_STRING","'update_product_preview_image'",148],"]",")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * @return array\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",152],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","dataForTest",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$productMock",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getMock",158],"(",["T_NS_SEPARATOR","\\",158],["T_STRING","Magento",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Catalog",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Model",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Product",158],["T_DOUBLE_COLON","::",158],["T_CLASS","class",158],",",["T_WHITESPACE"," ",158],"[","]",",",["T_WHITESPACE"," ",158],"[","]",",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","''",158],",",["T_WHITESPACE"," ",158],["T_STRING","false",158],")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$productMock",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","expects",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","any",159],"(",")",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","method",159],"(",["T_CONSTANT_ENCAPSED_STRING","'getImage'",159],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","willReturn",159],"(",["T_STRING","false",159],")",";",["T_WHITESPACE","\n\n        ",159],["T_RETURN","return",161],["T_WHITESPACE"," ",161],"[",["T_WHITESPACE","\n            ",161],"[",["T_WHITESPACE","\n                ",162],"[",["T_WHITESPACE","\n                    ",163],["T_CONSTANT_ENCAPSED_STRING","'page_handle'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'category_page_grid'",164],",",["T_WHITESPACE","\n                    ",164],["T_CONSTANT_ENCAPSED_STRING","'getParams'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],"[",["T_CONSTANT_ENCAPSED_STRING","'color'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_LNUMBER","31",165],"]",",",["T_WHITESPACE","\n                    ",165],["T_CONSTANT_ENCAPSED_STRING","'attribute_codes_array'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],"[",["T_CONSTANT_ENCAPSED_STRING","'color'",166],"]",",",["T_WHITESPACE","\n                    ",166],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'color'",167],",",["T_WHITESPACE","\n                    ",167],["T_CONSTANT_ENCAPSED_STRING","'getId_count'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_LNUMBER","1",168],",",["T_WHITESPACE","\n                    ",168],["T_CONSTANT_ENCAPSED_STRING","'getId'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_LNUMBER","332",169],",",["T_WHITESPACE","\n                    ",169],["T_CONSTANT_ENCAPSED_STRING","'isSwatchAttribute'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_STRING","false",170],",",["T_WHITESPACE","\n                    ",170],["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_STRING","true",171],",",["T_WHITESPACE","\n                    ",171],["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing_count'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_LNUMBER","1",172],",",["T_WHITESPACE","\n                    ",172],["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_STRING","true",173],",",["T_WHITESPACE","\n                    ",173],["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable_count'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_LNUMBER","1",174],",",["T_WHITESPACE","\n                    ",174],["T_CONSTANT_ENCAPSED_STRING","'update_product_preview_image'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_STRING","true",175],",",["T_WHITESPACE","\n                    ",175],["T_CONSTANT_ENCAPSED_STRING","'update_product_preview_image__count'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_LNUMBER","1",176],",",["T_WHITESPACE","\n                    ",176],["T_CONSTANT_ENCAPSED_STRING","'loadVariationByFallback_count'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_LNUMBER","0",177],",",["T_WHITESPACE","\n                    ",177],["T_CONSTANT_ENCAPSED_STRING","'product'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$productMock",178],",",["T_WHITESPACE","\n                ",178],"]",",",["T_WHITESPACE","\n            ",179],"]",",",["T_WHITESPACE","\n            ",180],"[",["T_WHITESPACE","\n                ",181],"[",["T_WHITESPACE","\n                    ",182],["T_CONSTANT_ENCAPSED_STRING","'page_handle'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'category_page_grid'",183],",",["T_WHITESPACE","\n                    ",183],["T_CONSTANT_ENCAPSED_STRING","'getParams'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],"[",["T_CONSTANT_ENCAPSED_STRING","'color'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_LNUMBER","31",184],"]",",",["T_WHITESPACE","\n                    ",184],["T_CONSTANT_ENCAPSED_STRING","'attribute_codes_array'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],"[",["T_CONSTANT_ENCAPSED_STRING","'color'",185],"]",",",["T_WHITESPACE","\n                    ",185],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'color'",186],",",["T_WHITESPACE","\n                    ",186],["T_CONSTANT_ENCAPSED_STRING","'getId_count'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_LNUMBER","1",187],",",["T_WHITESPACE","\n                    ",187],["T_CONSTANT_ENCAPSED_STRING","'getId'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_LNUMBER","332",188],",",["T_WHITESPACE","\n                    ",188],["T_CONSTANT_ENCAPSED_STRING","'isSwatchAttribute'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_STRING","true",189],",",["T_WHITESPACE","\n                    ",189],["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_STRING","true",190],",",["T_WHITESPACE","\n                    ",190],["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing_count'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_LNUMBER","1",191],",",["T_WHITESPACE","\n                    ",191],["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_STRING","true",192],",",["T_WHITESPACE","\n                    ",192],["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable_count'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_LNUMBER","1",193],",",["T_WHITESPACE","\n                    ",193],["T_CONSTANT_ENCAPSED_STRING","'update_product_preview_image'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_STRING","true",194],",",["T_WHITESPACE","\n                    ",194],["T_CONSTANT_ENCAPSED_STRING","'update_product_preview_image__count'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_LNUMBER","1",195],",",["T_WHITESPACE","\n                    ",195],["T_CONSTANT_ENCAPSED_STRING","'loadVariationByFallback_count'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_LNUMBER","1",196],",",["T_WHITESPACE","\n                    ",196],["T_CONSTANT_ENCAPSED_STRING","'product'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$productMock",197],",",["T_WHITESPACE","\n                ",197],"]",",",["T_WHITESPACE","\n            ",198],"]",",",["T_WHITESPACE","\n            ",199],"[",["T_WHITESPACE","\n                ",200],"[",["T_WHITESPACE","\n                    ",201],["T_CONSTANT_ENCAPSED_STRING","'page_handle'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'category_page_grid'",202],",",["T_WHITESPACE","\n                    ",202],["T_CONSTANT_ENCAPSED_STRING","'getParams'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],"[",["T_CONSTANT_ENCAPSED_STRING","'color'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_LNUMBER","31",203],"]",",",["T_WHITESPACE","\n                    ",203],["T_CONSTANT_ENCAPSED_STRING","'attribute_codes_array'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],"[",["T_CONSTANT_ENCAPSED_STRING","'color'",204],"]",",",["T_WHITESPACE","\n                    ",204],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'color'",205],",",["T_WHITESPACE","\n                    ",205],["T_CONSTANT_ENCAPSED_STRING","'getId_count'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_LNUMBER","1",206],",",["T_WHITESPACE","\n                    ",206],["T_CONSTANT_ENCAPSED_STRING","'getId'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_LNUMBER","332",207],",",["T_WHITESPACE","\n                    ",207],["T_CONSTANT_ENCAPSED_STRING","'isSwatchAttribute'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_STRING","true",208],",",["T_WHITESPACE","\n                    ",208],["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_STRING","true",209],",",["T_WHITESPACE","\n                    ",209],["T_CONSTANT_ENCAPSED_STRING","'getUsedInProductListing_count'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_LNUMBER","1",210],",",["T_WHITESPACE","\n                    ",210],["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_STRING","true",211],",",["T_WHITESPACE","\n                    ",211],["T_CONSTANT_ENCAPSED_STRING","'getIsFilterable_count'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_LNUMBER","1",212],",",["T_WHITESPACE","\n                    ",212],["T_CONSTANT_ENCAPSED_STRING","'update_product_preview_image'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_STRING","false",213],",",["T_WHITESPACE","\n                    ",213],["T_CONSTANT_ENCAPSED_STRING","'update_product_preview_image__count'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_LNUMBER","1",214],",",["T_WHITESPACE","\n                    ",214],["T_CONSTANT_ENCAPSED_STRING","'loadVariationByFallback_count'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_LNUMBER","0",215],",",["T_WHITESPACE","\n                    ",215],["T_CONSTANT_ENCAPSED_STRING","'product'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$productMock",216],",",["T_WHITESPACE","\n                ",216],"]",",",["T_WHITESPACE","\n            ",217],"]",",",["T_WHITESPACE","\n        ",218],"]",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n",220],"}",["T_WHITESPACE","\n",221]]