[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogUrlRewrite",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CategoryRepositoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Category",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","CategoryUrlPathGenerator",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Minimal category level that can be considered for generate path\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","MINIMAL_CATEGORY_LEVEL_FOR_PROCESSING",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_LNUMBER","3",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * XML path for category url suffix\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","XML_PATH_CATEGORY_URL_SUFFIX",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'catalog\/seo\/category_url_suffix'",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Cache for category rewrite suffix\n     *\n     * @var array\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$categoryUrlSuffix",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"[","]",";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface *\/",30],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$scopeConfig",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\StoreManagerInterface *\/",33],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$storeManager",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var CategoryRepositoryInterface\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$categoryRepository",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param CategoryRepositoryInterface $categoryRepository\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","__construct",46],"(",["T_WHITESPACE","\n        ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Store",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Model",47],["T_NS_SEPARATOR","\\",47],["T_STRING","StoreManagerInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$storeManager",47],",",["T_WHITESPACE","\n        ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Framework",48],["T_NS_SEPARATOR","\\",48],["T_STRING","App",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Config",48],["T_NS_SEPARATOR","\\",48],["T_STRING","ScopeConfigInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$scopeConfig",48],",",["T_WHITESPACE","\n        ",48],["T_STRING","CategoryRepositoryInterface",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$categoryRepository",49],["T_WHITESPACE","\n    ",49],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","storeManager",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$storeManager",51],";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","scopeConfig",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$scopeConfig",52],";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","categoryRepository",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$categoryRepository",53],";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Build category URL path\n     *\n     * @param \\Magento\\Catalog\\Api\\Data\\CategoryInterface|\\Magento\\Framework\\Model\\AbstractModel $category\n     * @return string\n     *\/",56],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","getUrlPath",62],"(",["T_VARIABLE","$category",62],")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_STRING","in_array",64],"(",["T_VARIABLE","$category",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getParentId",64],"(",")",",",["T_WHITESPACE"," ",64],"[",["T_STRING","Category",64],["T_DOUBLE_COLON","::",64],["T_STRING","ROOT_CATEGORY_ID",64],",",["T_WHITESPACE"," ",64],["T_STRING","Category",64],["T_DOUBLE_COLON","::",64],["T_STRING","TREE_ROOT_ID",64],"]",")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","''",65],";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$path",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$category",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getUrlPath",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$path",68],["T_WHITESPACE"," ",68],["T_IS_NOT_IDENTICAL","!==",68],["T_WHITESPACE"," ",68],["T_STRING","null",68],["T_WHITESPACE"," ",68],["T_BOOLEAN_AND","&&",68],["T_WHITESPACE"," ",68],"!",["T_VARIABLE","$category",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","dataHasChangedFor",68],"(",["T_CONSTANT_ENCAPSED_STRING","'url_key'",68],")",["T_WHITESPACE"," ",68],["T_BOOLEAN_AND","&&",68],["T_WHITESPACE"," ",68],"!",["T_VARIABLE","$category",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","dataHasChangedFor",68],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",68],")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$path",69],";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$path",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$category",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getUrlKey",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$path",72],["T_WHITESPACE"," ",72],["T_IS_IDENTICAL","===",72],["T_WHITESPACE"," ",72],["T_STRING","false",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$category",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getUrlPath",73],"(",")",";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n        ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","isNeedToGenerateUrlPathForParent",75],"(",["T_VARIABLE","$category",75],")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$parentPath",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getUrlPath",76],"(",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","categoryRepository",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_VARIABLE","$category",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getParentId",77],"(",")",",",["T_WHITESPACE"," ",77],["T_VARIABLE","$category",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getStoreId",77],"(",")",")",["T_WHITESPACE","\n            ",77],")",";",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$path",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$parentPath",79],["T_WHITESPACE"," ",79],["T_IS_IDENTICAL","===",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","''",79],["T_WHITESPACE"," ",79],"?",["T_WHITESPACE"," ",79],["T_VARIABLE","$path",79],["T_WHITESPACE"," ",79],":",["T_WHITESPACE"," ",79],["T_VARIABLE","$parentPath",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'\/'",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_VARIABLE","$path",79],";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n        ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$path",81],";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Category $category\n     * @return bool\n     *\/",84],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","isNeedToGenerateUrlPathForParent",88],"(",["T_VARIABLE","$category",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$category",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","isObjectNew",90],"(",")",["T_WHITESPACE"," ",90],["T_BOOLEAN_OR","||",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$category",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getLevel",90],"(",")",["T_WHITESPACE"," ",90],["T_IS_GREATER_OR_EQUAL",">=",90],["T_WHITESPACE"," ",90],["T_STRING","self",90],["T_DOUBLE_COLON","::",90],["T_STRING","MINIMAL_CATEGORY_LEVEL_FOR_PROCESSING",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Get category url path\n     *\n     * @param \\Magento\\Catalog\\Model\\Category $category\n     * @param int $storeId\n     * @return string\n     *\/",93],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getUrlPathWithSuffix",100],"(",["T_VARIABLE","$category",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$storeId",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","null",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$storeId",102],["T_WHITESPACE"," ",102],["T_IS_IDENTICAL","===",102],["T_WHITESPACE"," ",102],["T_STRING","null",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$storeId",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$category",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getStoreId",103],"(",")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getUrlPath",105],"(",["T_VARIABLE","$category",105],")",["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getCategoryUrlSuffix",105],"(",["T_VARIABLE","$storeId",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Retrieve category rewrite suffix for store\n     *\n     * @param int $storeId\n     * @return string\n     *\/",108],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","getCategoryUrlSuffix",114],"(",["T_VARIABLE","$storeId",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","null",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$storeId",116],["T_WHITESPACE"," ",116],["T_IS_IDENTICAL","===",116],["T_WHITESPACE"," ",116],["T_STRING","null",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$storeId",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","storeManager",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getStore",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getId",117],"(",")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_ISSET","isset",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","categoryUrlSuffix",119],"[",["T_VARIABLE","$storeId",119],"]",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","categoryUrlSuffix",120],"[",["T_VARIABLE","$storeId",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","scopeConfig",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getValue",120],"(",["T_WHITESPACE","\n                ",120],["T_STRING","self",121],["T_DOUBLE_COLON","::",121],["T_STRING","XML_PATH_CATEGORY_URL_SUFFIX",121],",",["T_WHITESPACE","\n                ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Store",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Model",122],["T_NS_SEPARATOR","\\",122],["T_STRING","ScopeInterface",122],["T_DOUBLE_COLON","::",122],["T_STRING","SCOPE_STORE",122],",",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$storeId",123],["T_WHITESPACE","\n            ",123],")",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","categoryUrlSuffix",126],"[",["T_VARIABLE","$storeId",126],"]",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Get canonical category url\n     *\n     * @param \\Magento\\Catalog\\Model\\Category $category\n     * @return string\n     *\/",129],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getCanonicalUrlPath",135],"(",["T_VARIABLE","$category",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'catalog\/category\/view\/id\/'",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$category",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getId",137],"(",")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Generate category url key\n     *\n     * @param \\Magento\\Catalog\\Model\\Category $category\n     * @return string\n     *\/",140],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","getUrlKey",146],"(",["T_VARIABLE","$category",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$urlKey",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$category",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getUrlKey",148],"(",")",";",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$category",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","formatUrlKey",149],"(",["T_VARIABLE","$urlKey",149],["T_WHITESPACE"," ",149],["T_IS_IDENTICAL","===",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","''",149],["T_WHITESPACE"," ",149],["T_BOOLEAN_OR","||",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$urlKey",149],["T_WHITESPACE"," ",149],["T_IS_IDENTICAL","===",149],["T_WHITESPACE"," ",149],["T_STRING","null",149],["T_WHITESPACE"," ",149],"?",["T_WHITESPACE"," ",149],["T_VARIABLE","$category",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getName",149],"(",")",["T_WHITESPACE"," ",149],":",["T_WHITESPACE"," ",149],["T_VARIABLE","$urlKey",149],")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n",150],"}",["T_WHITESPACE","\n",151]]