[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogUrlRewrite",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Observer",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Category",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogImportExport",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Import",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","ImportProduct",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CatalogUrlRewrite",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ProductUrlRewriteGenerator",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Event",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Observer",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResourceConnection",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ImportExport",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Import",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","ImportExport",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Store",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Store",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","UrlRewrite",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","UrlPersistInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","UrlRewrite",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Service",17],["T_NS_SEPARATOR","\\",17],["T_STRING","V1",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Data",17],["T_NS_SEPARATOR","\\",17],["T_STRING","UrlRewrite",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","UrlRewrite",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Service",18],["T_NS_SEPARATOR","\\",18],["T_STRING","V1",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Data",18],["T_NS_SEPARATOR","\\",18],["T_STRING","UrlRewriteFactory",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","UrlRewrite",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","OptionProvider",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","UrlRewrite",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","UrlFinderInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Event",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ObserverInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Catalog",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Product",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Visibility",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Framework",23],["T_NS_SEPARATOR","\\",23],["T_STRING","App",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ObjectManager",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","UrlRewrite",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","MergeDataProviderFactory",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Class AfterImportDataObserver\n *\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",26],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","AfterImportDataObserver",32],["T_WHITESPACE"," ",32],["T_IMPLEMENTS","implements",32],["T_WHITESPACE"," ",32],["T_STRING","ObserverInterface",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_DOC_COMMENT","\/**\n     * Url Key Attribute\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","URL_KEY_ATTRIBUTE_CODE",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'url_key'",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogUrlRewrite\\Service\\V1\\StoreViewService *\/",39],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$storeViewService",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product *\/",42],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$product",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/** @var array *\/",45],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$productsWithStores",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/** @var array *\/",48],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$products",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[","]",";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogUrlRewrite\\Model\\ObjectRegistryFactory *\/",51],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$objectRegistryFactory",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogUrlRewrite\\Model\\ObjectRegistry *\/",54],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$productCategories",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/** @var UrlFinderInterface *\/",57],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$urlFinder",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\StoreManagerInterface *\/",60],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$storeManager",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/** @var UrlPersistInterface *\/",63],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$urlPersist",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/** @var UrlRewriteFactory *\/",66],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$urlRewriteFactory",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogImportExport\\Model\\Import\\Product *\/",69],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$import",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ProductFactory $catalogProductFactory *\/",72],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$catalogProductFactory",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/** @var array *\/",75],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$acceptableCategories",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogUrlRewrite\\Model\\ProductUrlPathGenerator *\/",78],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$productUrlPathGenerator",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/** @var array *\/",81],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$websitesToStoreIds",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/** @var array *\/",84],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$storesCache",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],"[","]",";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/** @var array *\/",87],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$categoryCache",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[","]",";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/** @var array *\/",90],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$websiteCache",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[","]",";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/** @var array *\/",93],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$vitalForGenerationFields",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'sku'",95],",",["T_WHITESPACE","\n        ",95],["T_CONSTANT_ENCAPSED_STRING","'url_key'",96],",",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'url_path'",97],",",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'name'",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'visibility'",99],",",["T_WHITESPACE","\n    ",99],"]",";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/** @var \\Magento\\UrlRewrite\\Model\\MergeDataProvider *\/",102],["T_WHITESPACE","\n    ",102],["T_PRIVATE","private",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$mergeDataProviderPrototype",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\ProductFactory $catalogProductFactory\n     * @param \\Magento\\CatalogUrlRewrite\\Model\\ObjectRegistryFactory $objectRegistryFactory\n     * @param \\Magento\\CatalogUrlRewrite\\Model\\ProductUrlPathGenerator $productUrlPathGenerator\n     * @param \\Magento\\CatalogUrlRewrite\\Service\\V1\\StoreViewService $storeViewService\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param UrlPersistInterface $urlPersist\n     * @param UrlRewriteFactory $urlRewriteFactory\n     * @param UrlFinderInterface $urlFinder\n     * @param \\Magento\\UrlRewrite\\Model\\MergeDataProviderFactory|null $mergeDataProviderFactory\n     * @throws \\InvalidArgumentException\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",105],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","__construct",118],"(",["T_WHITESPACE","\n        ",118],["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Catalog",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Model",119],["T_NS_SEPARATOR","\\",119],["T_STRING","ProductFactory",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$catalogProductFactory",119],",",["T_WHITESPACE","\n        ",119],["T_NS_SEPARATOR","\\",120],["T_STRING","Magento",120],["T_NS_SEPARATOR","\\",120],["T_STRING","CatalogUrlRewrite",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Model",120],["T_NS_SEPARATOR","\\",120],["T_STRING","ObjectRegistryFactory",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$objectRegistryFactory",120],",",["T_WHITESPACE","\n        ",120],["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","CatalogUrlRewrite",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Model",121],["T_NS_SEPARATOR","\\",121],["T_STRING","ProductUrlPathGenerator",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$productUrlPathGenerator",121],",",["T_WHITESPACE","\n        ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","CatalogUrlRewrite",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Service",122],["T_NS_SEPARATOR","\\",122],["T_STRING","V1",122],["T_NS_SEPARATOR","\\",122],["T_STRING","StoreViewService",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$storeViewService",122],",",["T_WHITESPACE","\n        ",122],["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Store",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Model",123],["T_NS_SEPARATOR","\\",123],["T_STRING","StoreManagerInterface",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$storeManager",123],",",["T_WHITESPACE","\n        ",123],["T_STRING","UrlPersistInterface",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$urlPersist",124],",",["T_WHITESPACE","\n        ",124],["T_STRING","UrlRewriteFactory",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$urlRewriteFactory",125],",",["T_WHITESPACE","\n        ",125],["T_STRING","UrlFinderInterface",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$urlFinder",126],",",["T_WHITESPACE","\n        ",126],["T_STRING","MergeDataProviderFactory",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$mergeDataProviderFactory",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","null",127],["T_WHITESPACE","\n    ",127],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","urlPersist",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$urlPersist",129],";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","catalogProductFactory",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$catalogProductFactory",130],";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","objectRegistryFactory",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$objectRegistryFactory",131],";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","productUrlPathGenerator",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$productUrlPathGenerator",132],";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","storeViewService",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$storeViewService",133],";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","storeManager",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$storeManager",134],";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","urlRewriteFactory",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$urlRewriteFactory",135],";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","urlFinder",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$urlFinder",136],";",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(","!",["T_ISSET","isset",137],"(",["T_VARIABLE","$mergeDataProviderFactory",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$mergeDataProviderFactory",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","ObjectManager",138],["T_DOUBLE_COLON","::",138],["T_STRING","getInstance",138],"(",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","get",138],"(",["T_STRING","MergeDataProviderFactory",138],["T_DOUBLE_COLON","::",138],["T_CLASS","class",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","mergeDataProviderPrototype",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$mergeDataProviderFactory",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","create",140],"(",")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Action after data import.\n     * Save new url rewrites and remove old if exist.\n     *\n     * @param Observer $observer\n     *\n     * @return void\n     *\/",143],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","execute",151],"(",["T_STRING","Observer",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$observer",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","import",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$observer",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getEvent",153],"(",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","getAdapter",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$products",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$observer",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getEvent",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","getBunch",154],"(",")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_FOREACH","foreach",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$products",155],["T_WHITESPACE"," ",155],["T_AS","as",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$product",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_populateForUrlGeneration",156],"(",["T_VARIABLE","$product",156],")",";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$productUrls",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","generateUrls",158],"(",")",";",["T_WHITESPACE","\n            ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$productUrls",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","urlPersist",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","replace",160],"(",["T_VARIABLE","$productUrls",160],")",";",["T_WHITESPACE","\n            ",160],"}",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Create product model from imported data for URL rewrite purposes.\n     *\n     * @param array $rowData\n     *\n     * @return ImportExport\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",165],["T_WHITESPACE","\n    ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","_populateForUrlGeneration",173],"(",["T_VARIABLE","$rowData",173],")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$newSku",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","import",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getNewSku",175],"(",["T_VARIABLE","$rowData",175],"[",["T_STRING","ImportProduct",175],["T_DOUBLE_COLON","::",175],["T_STRING","COL_SKU",175],"]",")",";",["T_WHITESPACE","\n        ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_EMPTY","empty",176],"(",["T_VARIABLE","$newSku",176],")",["T_WHITESPACE"," ",176],["T_BOOLEAN_OR","||",176],["T_WHITESPACE"," ",176],"!",["T_ISSET","isset",176],"(",["T_VARIABLE","$newSku",176],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",176],"]",")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_STRING","null",177],";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","import",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getRowScope",179],"(",["T_VARIABLE","$rowData",179],")",["T_WHITESPACE"," ",179],["T_IS_EQUAL","==",179],["T_WHITESPACE"," ",179],["T_STRING","ImportProduct",179],["T_DOUBLE_COLON","::",179],["T_STRING","SCOPE_STORE",179],["T_WHITESPACE","\n            ",179],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],["T_EMPTY","empty",180],"(",["T_VARIABLE","$rowData",180],"[",["T_STRING","self",180],["T_DOUBLE_COLON","::",180],["T_STRING","URL_KEY_ATTRIBUTE_CODE",180],"]",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_STRING","null",181],";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$rowData",183],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",183],"]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$newSku",183],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",183],"]",";",["T_WHITESPACE","\n\n        ",183],["T_VARIABLE","$product",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","catalogProductFactory",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","create",185],"(",")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$product",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","setId",186],"(",["T_VARIABLE","$rowData",186],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",186],"]",")",";",["T_WHITESPACE","\n\n        ",186],["T_FOREACH","foreach",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","vitalForGenerationFields",188],["T_WHITESPACE"," ",188],["T_AS","as",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$field",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_ISSET","isset",189],"(",["T_VARIABLE","$rowData",189],"[",["T_VARIABLE","$field",189],"]",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$product",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","setData",190],"(",["T_VARIABLE","$field",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$rowData",190],"[",["T_VARIABLE","$field",190],"]",")",";",["T_WHITESPACE","\n            ",190],"}",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n\n        ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","categoryCache",194],"[",["T_VARIABLE","$rowData",194],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",194],"]","]",["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","import",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getProductCategories",194],"(",["T_VARIABLE","$rowData",194],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",194],"]",")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","websiteCache",195],"[",["T_VARIABLE","$rowData",195],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",195],"]","]",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","import",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getProductWebsites",195],"(",["T_VARIABLE","$rowData",195],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",195],"]",")",";",["T_WHITESPACE","\n        ",195],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","websiteCache",196],"[",["T_VARIABLE","$rowData",196],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",196],"]","]",["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$websiteId",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(","!",["T_ISSET","isset",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","websitesToStoreIds",197],"[",["T_VARIABLE","$websiteId",197],"]",")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","websitesToStoreIds",198],"[",["T_VARIABLE","$websiteId",198],"]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","storeManager",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getWebsite",198],"(",["T_VARIABLE","$websiteId",198],")",["T_OBJECT_OPERATOR","->",198],["T_STRING","getStoreIds",198],"(",")",";",["T_WHITESPACE","\n            ",198],"}",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n\n        ",200],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","setStoreToProduct",202],"(",["T_VARIABLE","$product",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$rowData",202],")",";",["T_WHITESPACE","\n\n        ",202],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","isGlobalScope",204],"(",["T_VARIABLE","$product",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getStoreId",204],"(",")",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","populateGlobalProduct",205],"(",["T_VARIABLE","$product",205],")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE"," ",206],["T_ELSE","else",206],["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","addProductToImport",207],"(",["T_VARIABLE","$product",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$product",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getStoreId",207],"(",")",")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n        ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param array $rowData\n     * @return void\n     *\/",212],["T_WHITESPACE","\n    ",216],["T_PROTECTED","protected",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","setStoreToProduct",217],"(",["T_NS_SEPARATOR","\\",217],["T_STRING","Magento",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Catalog",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Model",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Product",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$product",217],",",["T_WHITESPACE"," ",217],["T_ARRAY","array",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$rowData",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_EMPTY","empty",219],"(",["T_VARIABLE","$rowData",219],"[",["T_STRING","ImportProduct",219],["T_DOUBLE_COLON","::",219],["T_STRING","COL_STORE",219],"]",")",["T_WHITESPACE","\n            ",219],["T_BOOLEAN_AND","&&",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$storeId",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","import",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getStoreIdByCode",220],"(",["T_VARIABLE","$rowData",220],"[",["T_STRING","ImportProduct",220],["T_DOUBLE_COLON","::",220],["T_STRING","COL_STORE",220],"]",")",")",["T_WHITESPACE","\n        ",220],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$product",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","setStoreId",222],"(",["T_VARIABLE","$storeId",222],")",";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE"," ",223],["T_ELSEIF","elseif",223],["T_WHITESPACE"," ",223],"(","!",["T_VARIABLE","$product",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","hasData",223],"(",["T_NS_SEPARATOR","\\",223],["T_STRING","Magento",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Catalog",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Model",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Product",223],["T_DOUBLE_COLON","::",223],["T_STRING","STORE_ID",223],")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$product",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","setStoreId",224],"(",["T_STRING","Store",224],["T_DOUBLE_COLON","::",224],["T_STRING","DEFAULT_STORE_ID",224],")",";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Add product to import\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param string $storeId\n     * @return $this\n     *\/",228],["T_WHITESPACE","\n    ",234],["T_PROTECTED","protected",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","addProductToImport",235],"(",["T_VARIABLE","$product",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$storeId",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$product",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getVisibility",237],"(",")",["T_WHITESPACE"," ",237],["T_IS_EQUAL","==",237],["T_WHITESPACE"," ",237],["T_STRING_CAST","(string)",237],["T_STRING","Visibility",237],["T_DOUBLE_COLON","::",237],["T_STRING","getOptionArray",237],"(",")","[",["T_STRING","Visibility",237],["T_DOUBLE_COLON","::",237],["T_STRING","VISIBILITY_NOT_VISIBLE",237],"]",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(","!",["T_ISSET","isset",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","products",240],"[",["T_VARIABLE","$product",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getId",240],"(",")","]",")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","products",241],"[",["T_VARIABLE","$product",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getId",241],"(",")","]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],"[","]",";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","products",243],"[",["T_VARIABLE","$product",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getId",243],"(",")","]","[",["T_VARIABLE","$storeId",243],"]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$product",243],";",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Populate global product\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     *\/",247],["T_WHITESPACE","\n    ",252],["T_PROTECTED","protected",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","populateGlobalProduct",253],"(",["T_VARIABLE","$product",253],")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_FOREACH","foreach",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","import",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getProductWebsites",255],"(",["T_VARIABLE","$product",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getSku",255],"(",")",")",["T_WHITESPACE"," ",255],["T_AS","as",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$websiteId",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_FOREACH","foreach",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","websitesToStoreIds",256],"[",["T_VARIABLE","$websiteId",256],"]",["T_WHITESPACE"," ",256],["T_AS","as",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$storeId",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","storesCache",257],"[",["T_VARIABLE","$storeId",257],"]",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","true",257],";",["T_WHITESPACE","\n                ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(","!",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","isGlobalScope",258],"(",["T_VARIABLE","$storeId",258],")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","addProductToImport",259],"(",["T_VARIABLE","$product",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$storeId",259],")",";",["T_WHITESPACE","\n                ",259],"}",["T_WHITESPACE","\n            ",260],"}",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n        ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],";",["T_WHITESPACE","\n    ",263],"}",["T_WHITESPACE","\n\n    ",264],["T_DOC_COMMENT","\/**\n     * Generate product url rewrites\n     *\n     * @return \\Magento\\UrlRewrite\\Service\\V1\\Data\\UrlRewrite[]\n     *\/",266],["T_WHITESPACE","\n    ",270],["T_PROTECTED","protected",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","generateUrls",271],"(",")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$mergeDataProvider",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_CLONE","clone",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","mergeDataProviderPrototype",273],";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$mergeDataProvider",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","merge",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","canonicalUrlRewriteGenerate",274],"(",")",")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$mergeDataProvider",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","merge",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","categoriesUrlRewriteGenerate",275],"(",")",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$mergeDataProvider",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","merge",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","currentUrlRewritesRegenerate",276],"(",")",")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","productCategories",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","null",277],";",["T_WHITESPACE","\n\n        ",277],["T_UNSET","unset",279],"(",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","products",279],")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","products",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],"[","]",";",["T_WHITESPACE","\n\n        ",280],["T_RETURN","return",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$mergeDataProvider",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getData",282],"(",")",";",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_DOC_COMMENT","\/**\n     * Check is global scope\n     *\n     * @param int|null $storeId\n     * @return bool\n     *\/",285],["T_WHITESPACE","\n    ",290],["T_PROTECTED","protected",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","isGlobalScope",291],"(",["T_VARIABLE","$storeId",291],")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_STRING","null",293],["T_WHITESPACE"," ",293],["T_IS_IDENTICAL","===",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$storeId",293],["T_WHITESPACE"," ",293],["T_BOOLEAN_OR","||",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$storeId",293],["T_WHITESPACE"," ",293],["T_IS_EQUAL","==",293],["T_WHITESPACE"," ",293],["T_STRING","Store",293],["T_DOUBLE_COLON","::",293],["T_STRING","DEFAULT_STORE_ID",293],";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Generate list based on store view\n     *\n     * @return UrlRewrite[]\n     *\/",296],["T_WHITESPACE","\n    ",300],["T_PROTECTED","protected",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","canonicalUrlRewriteGenerate",301],"(",")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$urls",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],"[","]",";",["T_WHITESPACE","\n        ",303],["T_FOREACH","foreach",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","products",304],["T_WHITESPACE"," ",304],["T_AS","as",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$productId",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$productsByStores",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_FOREACH","foreach",305],["T_WHITESPACE"," ",305],"(",["T_VARIABLE","$productsByStores",305],["T_WHITESPACE"," ",305],["T_AS","as",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$storeId",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$product",305],")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n                ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","productUrlPathGenerator",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getUrlPath",306],"(",["T_VARIABLE","$product",306],")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                    ",306],["T_VARIABLE","$urls",307],"[","]",["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","urlRewriteFactory",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","create",307],"(",")",["T_WHITESPACE","\n                        ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","setEntityType",308],"(",["T_STRING","ProductUrlRewriteGenerator",308],["T_DOUBLE_COLON","::",308],["T_STRING","ENTITY_TYPE",308],")",["T_WHITESPACE","\n                        ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","setEntityId",309],"(",["T_VARIABLE","$productId",309],")",["T_WHITESPACE","\n                        ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","setRequestPath",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","productUrlPathGenerator",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getUrlPathWithSuffix",310],"(",["T_VARIABLE","$product",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$storeId",310],")",")",["T_WHITESPACE","\n                        ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","setTargetPath",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","productUrlPathGenerator",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getCanonicalUrlPath",311],"(",["T_VARIABLE","$product",311],")",")",["T_WHITESPACE","\n                        ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","setStoreId",312],"(",["T_VARIABLE","$storeId",312],")",";",["T_WHITESPACE","\n                ",312],"}",["T_WHITESPACE","\n            ",313],"}",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n\n        ",315],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$urls",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Generate list based on categories\n     *\n     * @return UrlRewrite[]\n     *\/",320],["T_WHITESPACE","\n    ",324],["T_PROTECTED","protected",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","categoriesUrlRewriteGenerate",325],"(",")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$urls",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],"[","]",";",["T_WHITESPACE","\n        ",327],["T_FOREACH","foreach",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","products",328],["T_WHITESPACE"," ",328],["T_AS","as",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$productId",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$productsByStores",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_FOREACH","foreach",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$productsByStores",329],["T_WHITESPACE"," ",329],["T_AS","as",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$storeId",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$product",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n                ",329],["T_FOREACH","foreach",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","categoryCache",330],"[",["T_VARIABLE","$productId",330],"]",["T_WHITESPACE"," ",330],["T_AS","as",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$categoryId",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                    ",330],["T_VARIABLE","$category",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","import",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getCategoryProcessor",331],"(",")",["T_OBJECT_OPERATOR","->",331],["T_STRING","getCategoryById",331],"(",["T_VARIABLE","$categoryId",331],")",";",["T_WHITESPACE","\n                    ",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$category",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getParentId",332],"(",")",["T_WHITESPACE"," ",332],["T_IS_EQUAL","==",332],["T_WHITESPACE"," ",332],["T_STRING","Category",332],["T_DOUBLE_COLON","::",332],["T_STRING","TREE_ROOT_ID",332],")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n                        ",332],["T_CONTINUE","continue",333],";",["T_WHITESPACE","\n                    ",333],"}",["T_WHITESPACE","\n                    ",334],["T_VARIABLE","$requestPath",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","productUrlPathGenerator",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getUrlPathWithSuffix",335],"(",["T_VARIABLE","$product",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$storeId",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$category",335],")",";",["T_WHITESPACE","\n                    ",335],["T_VARIABLE","$urls",336],"[","]",["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","urlRewriteFactory",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","create",336],"(",")",["T_WHITESPACE","\n                        ",336],["T_OBJECT_OPERATOR","->",337],["T_STRING","setEntityType",337],"(",["T_STRING","ProductUrlRewriteGenerator",337],["T_DOUBLE_COLON","::",337],["T_STRING","ENTITY_TYPE",337],")",["T_WHITESPACE","\n                        ",337],["T_OBJECT_OPERATOR","->",338],["T_STRING","setEntityId",338],"(",["T_VARIABLE","$productId",338],")",["T_WHITESPACE","\n                        ",338],["T_OBJECT_OPERATOR","->",339],["T_STRING","setRequestPath",339],"(",["T_VARIABLE","$requestPath",339],")",["T_WHITESPACE","\n                        ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","setTargetPath",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","productUrlPathGenerator",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getCanonicalUrlPath",340],"(",["T_VARIABLE","$product",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$category",340],")",")",["T_WHITESPACE","\n                        ",340],["T_OBJECT_OPERATOR","->",341],["T_STRING","setStoreId",341],"(",["T_VARIABLE","$storeId",341],")",["T_WHITESPACE","\n                        ",341],["T_OBJECT_OPERATOR","->",342],["T_STRING","setMetadata",342],"(","[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$category",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getId",342],"(",")","]",")",";",["T_WHITESPACE","\n                ",342],"}",["T_WHITESPACE","\n            ",343],"}",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE","\n        ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$urls",346],";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Generate list based on current rewrites\n     *\n     * @return UrlRewrite[]\n     *\/",349],["T_WHITESPACE","\n    ",353],["T_PROTECTED","protected",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","currentUrlRewritesRegenerate",354],"(",")",["T_WHITESPACE","\n    ",354],"{",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$currentUrlRewrites",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","urlFinder",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","findAllByData",356],"(",["T_WHITESPACE","\n            ",356],"[",["T_WHITESPACE","\n                ",357],["T_STRING","UrlRewrite",358],["T_DOUBLE_COLON","::",358],["T_STRING","STORE_ID",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_STRING","array_keys",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","storesCache",358],")",",",["T_WHITESPACE","\n                ",358],["T_STRING","UrlRewrite",359],["T_DOUBLE_COLON","::",359],["T_STRING","ENTITY_ID",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_STRING","array_keys",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","products",359],")",",",["T_WHITESPACE","\n                ",359],["T_STRING","UrlRewrite",360],["T_DOUBLE_COLON","::",360],["T_STRING","ENTITY_TYPE",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_STRING","ProductUrlRewriteGenerator",360],["T_DOUBLE_COLON","::",360],["T_STRING","ENTITY_TYPE",360],",",["T_WHITESPACE","\n            ",360],"]",["T_WHITESPACE","\n        ",361],")",";",["T_WHITESPACE","\n\n        ",362],["T_VARIABLE","$urlRewrites",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],"[","]",";",["T_WHITESPACE","\n        ",364],["T_FOREACH","foreach",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$currentUrlRewrites",365],["T_WHITESPACE"," ",365],["T_AS","as",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$currentUrlRewrite",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$category",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","retrieveCategoryFromMetadata",366],"(",["T_VARIABLE","$currentUrlRewrite",366],")",";",["T_WHITESPACE","\n            ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_VARIABLE","$category",367],["T_WHITESPACE"," ",367],["T_IS_IDENTICAL","===",367],["T_WHITESPACE"," ",367],["T_STRING","false",367],")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n                ",367],["T_CONTINUE","continue",368],";",["T_WHITESPACE","\n            ",368],"}",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$url",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$currentUrlRewrite",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getIsAutogenerated",370],"(",")",["T_WHITESPACE","\n                ",370],"?",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","generateForAutogenerated",371],"(",["T_VARIABLE","$currentUrlRewrite",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$category",371],")",["T_WHITESPACE","\n                ",371],":",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","generateForCustom",372],"(",["T_VARIABLE","$currentUrlRewrite",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$category",372],")",";",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$urlRewrites",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","array_merge",373],"(",["T_VARIABLE","$urlRewrites",373],",",["T_WHITESPACE"," ",373],["T_VARIABLE","$url",373],")",";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n\n        ",374],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","product",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_STRING","null",376],";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","productCategories",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","null",377],";",["T_WHITESPACE","\n        ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$urlRewrites",378],";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * @param UrlRewrite $url\n     * @param Category $category\n     * @return array\n     *\/",381],["T_WHITESPACE","\n    ",385],["T_PROTECTED","protected",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","generateForAutogenerated",386],"(",["T_VARIABLE","$url",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$category",386],")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$storeId",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$url",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getStoreId",388],"(",")",";",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$productId",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$url",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getEntityId",389],"(",")",";",["T_WHITESPACE","\n        ",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_ISSET","isset",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","products",390],"[",["T_VARIABLE","$productId",390],"]","[",["T_VARIABLE","$storeId",390],"]",")",")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n            ",390],["T_VARIABLE","$product",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","products",391],"[",["T_VARIABLE","$productId",391],"]","[",["T_VARIABLE","$storeId",391],"]",";",["T_WHITESPACE","\n            ",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(","!",["T_VARIABLE","$product",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getData",392],"(",["T_CONSTANT_ENCAPSED_STRING","'save_rewrites_history'",392],")",")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n                ",392],["T_RETURN","return",393],["T_WHITESPACE"," ",393],"[","]",";",["T_WHITESPACE","\n            ",393],"}",["T_WHITESPACE","\n            ",394],["T_VARIABLE","$targetPath",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","productUrlPathGenerator",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getUrlPathWithSuffix",395],"(",["T_VARIABLE","$product",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$storeId",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$category",395],")",";",["T_WHITESPACE","\n            ",395],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_VARIABLE","$url",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","getRequestPath",396],"(",")",["T_WHITESPACE"," ",396],["T_IS_IDENTICAL","===",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$targetPath",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n                ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],"[","]",";",["T_WHITESPACE","\n            ",397],"}",["T_WHITESPACE","\n            ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],"[",["T_WHITESPACE","\n                ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","urlRewriteFactory",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","create",400],"(",")",["T_WHITESPACE","\n                    ",400],["T_OBJECT_OPERATOR","->",401],["T_STRING","setEntityType",401],"(",["T_STRING","ProductUrlRewriteGenerator",401],["T_DOUBLE_COLON","::",401],["T_STRING","ENTITY_TYPE",401],")",["T_WHITESPACE","\n                    ",401],["T_OBJECT_OPERATOR","->",402],["T_STRING","setEntityId",402],"(",["T_VARIABLE","$productId",402],")",["T_WHITESPACE","\n                    ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","setRequestPath",403],"(",["T_VARIABLE","$url",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getRequestPath",403],"(",")",")",["T_WHITESPACE","\n                    ",403],["T_OBJECT_OPERATOR","->",404],["T_STRING","setTargetPath",404],"(",["T_VARIABLE","$targetPath",404],")",["T_WHITESPACE","\n                    ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","setRedirectType",405],"(",["T_STRING","OptionProvider",405],["T_DOUBLE_COLON","::",405],["T_STRING","PERMANENT",405],")",["T_WHITESPACE","\n                    ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","setStoreId",406],"(",["T_VARIABLE","$storeId",406],")",["T_WHITESPACE","\n                    ",406],["T_OBJECT_OPERATOR","->",407],["T_STRING","setDescription",407],"(",["T_VARIABLE","$url",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getDescription",407],"(",")",")",["T_WHITESPACE","\n                    ",407],["T_OBJECT_OPERATOR","->",408],["T_STRING","setIsAutogenerated",408],"(",["T_LNUMBER","0",408],")",["T_WHITESPACE","\n                    ",408],["T_OBJECT_OPERATOR","->",409],["T_STRING","setMetadata",409],"(",["T_VARIABLE","$url",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getMetadata",409],"(",")",")",["T_WHITESPACE","\n            ",409],"]",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n        ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],"[","]",";",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n\n    ",413],["T_DOC_COMMENT","\/**\n     * @param UrlRewrite $url\n     * @param Category $category\n     * @return array\n     *\/",415],["T_WHITESPACE","\n    ",419],["T_PROTECTED","protected",420],["T_WHITESPACE"," ",420],["T_FUNCTION","function",420],["T_WHITESPACE"," ",420],["T_STRING","generateForCustom",420],"(",["T_VARIABLE","$url",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$category",420],")",["T_WHITESPACE","\n    ",420],"{",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$storeId",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$url",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getStoreId",422],"(",")",";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$productId",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$url",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getEntityId",423],"(",")",";",["T_WHITESPACE","\n        ",423],["T_IF","if",424],["T_WHITESPACE"," ",424],"(",["T_ISSET","isset",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","products",424],"[",["T_VARIABLE","$productId",424],"]","[",["T_VARIABLE","$storeId",424],"]",")",")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n            ",424],["T_VARIABLE","$product",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","products",425],"[",["T_VARIABLE","$productId",425],"]","[",["T_VARIABLE","$storeId",425],"]",";",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$targetPath",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$url",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getRedirectType",426],"(",")",["T_WHITESPACE","\n                ",426],"?",["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","productUrlPathGenerator",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getUrlPathWithSuffix",427],"(",["T_VARIABLE","$product",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$storeId",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$category",427],")",["T_WHITESPACE","\n                ",427],":",["T_WHITESPACE"," ",428],["T_VARIABLE","$url",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getTargetPath",428],"(",")",";",["T_WHITESPACE","\n            ",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_VARIABLE","$url",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getRequestPath",429],"(",")",["T_WHITESPACE"," ",429],["T_IS_IDENTICAL","===",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$targetPath",429],")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                ",429],["T_RETURN","return",430],["T_WHITESPACE"," ",430],"[","]",";",["T_WHITESPACE","\n            ",430],"}",["T_WHITESPACE","\n            ",431],["T_RETURN","return",432],["T_WHITESPACE"," ",432],"[",["T_WHITESPACE","\n                ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","urlRewriteFactory",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","create",433],"(",")",["T_WHITESPACE","\n                    ",433],["T_OBJECT_OPERATOR","->",434],["T_STRING","setEntityType",434],"(",["T_STRING","ProductUrlRewriteGenerator",434],["T_DOUBLE_COLON","::",434],["T_STRING","ENTITY_TYPE",434],")",["T_WHITESPACE","\n                    ",434],["T_OBJECT_OPERATOR","->",435],["T_STRING","setEntityId",435],"(",["T_VARIABLE","$productId",435],")",["T_WHITESPACE","\n                    ",435],["T_OBJECT_OPERATOR","->",436],["T_STRING","setRequestPath",436],"(",["T_VARIABLE","$url",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getRequestPath",436],"(",")",")",["T_WHITESPACE","\n                    ",436],["T_OBJECT_OPERATOR","->",437],["T_STRING","setTargetPath",437],"(",["T_VARIABLE","$targetPath",437],")",["T_WHITESPACE","\n                    ",437],["T_OBJECT_OPERATOR","->",438],["T_STRING","setRedirectType",438],"(",["T_VARIABLE","$url",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getRedirectType",438],"(",")",")",["T_WHITESPACE","\n                    ",438],["T_OBJECT_OPERATOR","->",439],["T_STRING","setStoreId",439],"(",["T_VARIABLE","$storeId",439],")",["T_WHITESPACE","\n                    ",439],["T_OBJECT_OPERATOR","->",440],["T_STRING","setDescription",440],"(",["T_VARIABLE","$url",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getDescription",440],"(",")",")",["T_WHITESPACE","\n                    ",440],["T_OBJECT_OPERATOR","->",441],["T_STRING","setIsAutogenerated",441],"(",["T_LNUMBER","0",441],")",["T_WHITESPACE","\n                    ",441],["T_OBJECT_OPERATOR","->",442],["T_STRING","setMetadata",442],"(",["T_VARIABLE","$url",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getMetadata",442],"(",")",")",["T_WHITESPACE","\n            ",442],"]",";",["T_WHITESPACE","\n        ",443],"}",["T_WHITESPACE","\n        ",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],"[","]",";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n\n    ",446],["T_DOC_COMMENT","\/**\n     * @param UrlRewrite $url\n     * @return Category|null|bool\n     *\/",448],["T_WHITESPACE","\n    ",451],["T_PROTECTED","protected",452],["T_WHITESPACE"," ",452],["T_FUNCTION","function",452],["T_WHITESPACE"," ",452],["T_STRING","retrieveCategoryFromMetadata",452],"(",["T_VARIABLE","$url",452],")",["T_WHITESPACE","\n    ",452],"{",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$metadata",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$url",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getMetadata",454],"(",")",";",["T_WHITESPACE","\n        ",454],["T_IF","if",455],["T_WHITESPACE"," ",455],"(",["T_ISSET","isset",455],"(",["T_VARIABLE","$metadata",455],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",455],"]",")",")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n            ",455],["T_VARIABLE","$category",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","import",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","getCategoryProcessor",456],"(",")",["T_OBJECT_OPERATOR","->",456],["T_STRING","getCategoryById",456],"(",["T_VARIABLE","$metadata",456],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",456],"]",")",";",["T_WHITESPACE","\n            ",456],["T_RETURN","return",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$category",457],["T_WHITESPACE"," ",457],["T_IS_IDENTICAL","===",457],["T_WHITESPACE"," ",457],["T_STRING","null",457],["T_WHITESPACE"," ",457],"?",["T_WHITESPACE"," ",457],["T_STRING","false",457],["T_WHITESPACE"," ",457],":",["T_WHITESPACE"," ",457],["T_VARIABLE","$category",457],";",["T_WHITESPACE","\n        ",457],"}",["T_WHITESPACE","\n        ",458],["T_RETURN","return",459],["T_WHITESPACE"," ",459],["T_STRING","null",459],";",["T_WHITESPACE","\n    ",459],"}",["T_WHITESPACE","\n\n    ",460],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Category $category\n     * @param int $storeId\n     * @return bool\n     *\/",462],["T_WHITESPACE","\n    ",466],["T_PROTECTED","protected",467],["T_WHITESPACE"," ",467],["T_FUNCTION","function",467],["T_WHITESPACE"," ",467],["T_STRING","isCategoryProperForGenerating",467],"(",["T_VARIABLE","$category",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$storeId",467],")",["T_WHITESPACE","\n    ",467],"{",["T_WHITESPACE","\n        ",468],["T_IF","if",469],["T_WHITESPACE"," ",469],"(",["T_ISSET","isset",469],"(",["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","acceptableCategories",469],"[",["T_VARIABLE","$storeId",469],"]",")",["T_WHITESPACE"," ",469],["T_BOOLEAN_AND","&&",469],["T_WHITESPACE","\n            ",469],["T_ISSET","isset",470],"(",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","acceptableCategories",470],"[",["T_VARIABLE","$storeId",470],"]","[",["T_VARIABLE","$category",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getId",470],"(",")","]",")",")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n            ",470],["T_RETURN","return",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","acceptableCategories",471],"[",["T_VARIABLE","$storeId",471],"]","[",["T_VARIABLE","$category",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getId",471],"(",")","]",";",["T_WHITESPACE","\n        ",471],"}",["T_WHITESPACE","\n        ",472],["T_VARIABLE","$acceptable",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_STRING","false",473],";",["T_WHITESPACE","\n        ",473],["T_IF","if",474],["T_WHITESPACE"," ",474],"(",["T_VARIABLE","$category",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getParentId",474],"(",")",["T_WHITESPACE"," ",474],["T_IS_NOT_EQUAL","!=",474],["T_WHITESPACE"," ",474],["T_NS_SEPARATOR","\\",474],["T_STRING","Magento",474],["T_NS_SEPARATOR","\\",474],["T_STRING","Catalog",474],["T_NS_SEPARATOR","\\",474],["T_STRING","Model",474],["T_NS_SEPARATOR","\\",474],["T_STRING","Category",474],["T_DOUBLE_COLON","::",474],["T_STRING","TREE_ROOT_ID",474],")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n            ",474],["T_LIST","list",475],"(",",",["T_WHITESPACE"," ",475],["T_VARIABLE","$rootCategoryId",475],")",["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$category",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getParentIds",475],"(",")",";",["T_WHITESPACE","\n            ",475],["T_VARIABLE","$acceptable",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],"(",["T_VARIABLE","$rootCategoryId",476],["T_WHITESPACE"," ",476],["T_IS_EQUAL","==",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","storeManager",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getStore",476],"(",["T_VARIABLE","$storeId",476],")",["T_OBJECT_OPERATOR","->",476],["T_STRING","getRootCategoryId",476],"(",")",")",";",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE","\n        ",477],["T_IF","if",478],["T_WHITESPACE"," ",478],"(","!",["T_ISSET","isset",478],"(",["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","acceptableCategories",478],"[",["T_VARIABLE","$storeId",478],"]",")",")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n            ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","acceptableCategories",479],"[",["T_VARIABLE","$storeId",479],"]",["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],"[","]",";",["T_WHITESPACE","\n        ",479],"}",["T_WHITESPACE","\n        ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","acceptableCategories",481],"[",["T_VARIABLE","$storeId",481],"]","[",["T_VARIABLE","$category",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","getId",481],"(",")","]",["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$acceptable",481],";",["T_WHITESPACE","\n        ",481],["T_RETURN","return",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$acceptable",482],";",["T_WHITESPACE","\n    ",482],"}",["T_WHITESPACE","\n",483],"}",["T_WHITESPACE","\n",484]]