[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Reports",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Block",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Backend report grid block\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Grid",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Backend",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Block",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Widget",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Grid",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Should Store Switcher block be visible\n     *\n     * @var bool\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_storeSwitcherVisibility",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","true",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Should Date Filter block be visible\n     *\n     * @var bool\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_dateFilterVisibility",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","true",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Filters array\n     *\n     * @var array\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_filters",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],"[","]",";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Default filters values\n     *\n     * @var array\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_defaultFilters",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'report_from'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","''",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'report_to'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","''",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'report_period'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'day'",42],"]",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Sub-report rows count\n     *\n     * @var int\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_subReportSize",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","5",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Errors messages aggregated array\n     *\n     * @var array\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_errors",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],"[","]",";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Block template file name\n     *\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_template",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Magento_Reports::grid.phtml'",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Filter values array\n     *\n     * @var array\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_filterValues",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Apply sorting and filtering to collection\n     *\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",72],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","_prepareCollection",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$filter",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getParam",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getVarNameFilter",80],"(",")",",",["T_WHITESPACE"," ",80],["T_STRING","null",80],")",";",["T_WHITESPACE","\n\n        ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_STRING","null",82],["T_WHITESPACE"," ",82],["T_IS_IDENTICAL","===",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$filter",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$filter",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_defaultFilter",83],";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n\n        ",84],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","is_string",86],"(",["T_VARIABLE","$filter",86],")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$data",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],"[","]",";",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$filter",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","base64_decode",88],"(",["T_VARIABLE","$filter",88],")",";",["T_WHITESPACE","\n            ",88],["T_STRING","parse_str",89],"(",["T_STRING","urldecode",89],"(",["T_VARIABLE","$filter",89],")",",",["T_WHITESPACE"," ",89],["T_VARIABLE","$data",89],")",";",["T_WHITESPACE","\n\n            ",89],["T_IF","if",91],["T_WHITESPACE"," ",91],"(","!",["T_ISSET","isset",91],"(",["T_VARIABLE","$data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'report_from'",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_COMMENT","\/\/ getting all reports from 2001 year\n",92],["T_WHITESPACE","                ",93],["T_VARIABLE","$date",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],"(",["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","DateTime",93],"(",")",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","setTimestamp",93],"(",["T_STRING","mktime",93],"(",["T_LNUMBER","0",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","0",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","0",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","1",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","1",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","2001",93],")",")",";",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$data",94],"[",["T_CONSTANT_ENCAPSED_STRING","'report_from'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_localeDate",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","formatDateTime",94],"(",["T_WHITESPACE","\n                    ",94],["T_VARIABLE","$date",95],",",["T_WHITESPACE","\n                    ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","IntlDateFormatter",96],["T_DOUBLE_COLON","::",96],["T_STRING","SHORT",96],",",["T_WHITESPACE","\n                    ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","IntlDateFormatter",97],["T_DOUBLE_COLON","::",97],["T_STRING","NONE",97],["T_WHITESPACE","\n                ",97],")",";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n\n            ",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_ISSET","isset",101],"(",["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'report_to'",101],"]",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_COMMENT","\/\/ getting all reports from 2001 year\n",102],["T_WHITESPACE","                ",103],["T_VARIABLE","$date",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_NS_SEPARATOR","\\",103],["T_STRING","DateTime",103],"(",")",";",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'report_to'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_localeDate",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","formatDateTime",104],"(",["T_WHITESPACE","\n                    ",104],["T_VARIABLE","$date",105],",",["T_WHITESPACE","\n                    ",105],["T_NS_SEPARATOR","\\",106],["T_STRING","IntlDateFormatter",106],["T_DOUBLE_COLON","::",106],["T_STRING","SHORT",106],",",["T_WHITESPACE","\n                    ",106],["T_NS_SEPARATOR","\\",107],["T_STRING","IntlDateFormatter",107],["T_DOUBLE_COLON","::",107],["T_STRING","NONE",107],["T_WHITESPACE","\n                ",107],")",";",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n\n            ",109],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_setFilterValues",111],"(",["T_VARIABLE","$data",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE"," ",112],["T_ELSEIF","elseif",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$filter",112],["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],["T_STRING","is_array",112],"(",["T_VARIABLE","$filter",112],")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_setFilterValues",113],"(",["T_VARIABLE","$filter",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE"," ",114],["T_ELSEIF","elseif",114],["T_WHITESPACE"," ",114],"(",["T_LNUMBER","0",114],["T_WHITESPACE"," ",114],["T_IS_NOT_IDENTICAL","!==",114],["T_WHITESPACE"," ",114],["T_STRING","sizeof",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_defaultFilter",114],")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_setFilterValues",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_defaultFilter",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_DOC_COMMENT","\/** @var $collection \\Magento\\Reports\\Model\\ResourceModel\\Report\\Collection *\/",118],["T_WHITESPACE","\n        ",118],["T_VARIABLE","$collection",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getCollection",119],"(",")",";",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$collection",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$collection",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setPeriod",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getFilter",121],"(",["T_CONSTANT_ENCAPSED_STRING","'report_period'",121],")",")",";",["T_WHITESPACE","\n\n            ",121],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getFilter",123],"(",["T_CONSTANT_ENCAPSED_STRING","'report_from'",123],")",["T_WHITESPACE"," ",123],["T_BOOLEAN_AND","&&",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getFilter",123],"(",["T_CONSTANT_ENCAPSED_STRING","'report_to'",123],")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_DOC_COMMENT","\/**\n                 * Validate from and to date\n                 *\/",124],["T_WHITESPACE","\n                ",126],["T_TRY","try",127],["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                    ",127],["T_VARIABLE","$from",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_localeDate",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","scopeDate",128],"(",["T_STRING","null",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getFilter",128],"(",["T_CONSTANT_ENCAPSED_STRING","'report_from'",128],")",",",["T_WHITESPACE"," ",128],["T_STRING","false",128],")",";",["T_WHITESPACE","\n                    ",128],["T_VARIABLE","$to",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_localeDate",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","scopeDate",129],"(",["T_STRING","null",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getFilter",129],"(",["T_CONSTANT_ENCAPSED_STRING","'report_to'",129],")",",",["T_WHITESPACE"," ",129],["T_STRING","false",129],")",";",["T_WHITESPACE","\n\n                    ",129],["T_VARIABLE","$collection",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setInterval",131],"(",["T_VARIABLE","$from",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$to",131],")",";",["T_WHITESPACE","\n                ",131],"}",["T_WHITESPACE"," ",132],["T_CATCH","catch",132],["T_WHITESPACE"," ",132],"(",["T_NS_SEPARATOR","\\",132],["T_STRING","Exception",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$e",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_errors",133],"[","]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","__",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid date specified'",133],")",";",["T_WHITESPACE","\n                ",133],"}",["T_WHITESPACE","\n            ",134],"}",["T_WHITESPACE","\n\n            ",135],["T_VARIABLE","$collection",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setStoreIds",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_getAllowedStoreIds",137],"(",")",")",";",["T_WHITESPACE","\n\n            ",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getSubReportSize",139],"(",")",["T_WHITESPACE"," ",139],["T_IS_NOT_IDENTICAL","!==",139],["T_WHITESPACE"," ",139],["T_STRING","null",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$collection",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setPageSize",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getSubReportSize",140],"(",")",")",";",["T_WHITESPACE","\n            ",140],"}",["T_WHITESPACE","\n\n            ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_eventManager",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","dispatch",143],"(",["T_WHITESPACE","\n                ",143],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_widget_grid_filter_collection'",144],",",["T_WHITESPACE","\n                ",144],"[",["T_CONSTANT_ENCAPSED_STRING","'collection'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getCollection",145],"(",")",",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'filter_values'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_filterValues",145],"]",["T_WHITESPACE","\n            ",145],")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Get allowed stores\n     *\n     * @return array|\\int[]\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","_getAllowedStoreIds",157],"(",")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_DOC_COMMENT","\/**\n         * Getting and saving store ids for website & group\n         *\/",159],["T_WHITESPACE","\n        ",161],["T_VARIABLE","$storeIds",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[","]",";",["T_WHITESPACE","\n        ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getRequest",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getParam",163],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$storeIds",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],"[",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getParam",164],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",164],")","]",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE"," ",165],["T_ELSEIF","elseif",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getRequest",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","getParam",165],"(",["T_CONSTANT_ENCAPSED_STRING","'website'",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$storeIds",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_storeManager",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getWebsite",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getRequest",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getParam",166],"(",["T_CONSTANT_ENCAPSED_STRING","'website'",166],")",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getStoreIds",166],"(",")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE"," ",167],["T_ELSEIF","elseif",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getRequest",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","getParam",167],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$storeIds",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$storeIds",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_storeManager",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getGroup",168],"(",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getRequest",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getParam",169],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",169],")",["T_WHITESPACE","\n            ",169],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","getStoreIds",170],"(",")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n\n        ",171],["T_COMMENT","\/\/ By default storeIds array contains only allowed stores\n",173],["T_WHITESPACE","        ",174],["T_VARIABLE","$allowedStoreIds",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","array_keys",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_storeManager",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getStores",174],"(",")",")",";",["T_WHITESPACE","\n        ",174],["T_COMMENT","\/\/ And then array_intersect with post data for prevent unauthorized stores reports\n",175],["T_WHITESPACE","        ",176],["T_VARIABLE","$storeIds",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","array_intersect",176],"(",["T_VARIABLE","$allowedStoreIds",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$storeIds",176],")",";",["T_WHITESPACE","\n        ",176],["T_COMMENT","\/\/ If selected all websites or unauthorized stores use only allowed\n",177],["T_WHITESPACE","        ",178],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_EMPTY","empty",178],"(",["T_VARIABLE","$storeIds",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$storeIds",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$allowedStoreIds",179],";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n        ",180],["T_COMMENT","\/\/ reset array keys\n",181],["T_WHITESPACE","        ",182],["T_VARIABLE","$storeIds",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","array_values",182],"(",["T_VARIABLE","$storeIds",182],")",";",["T_WHITESPACE","\n\n        ",182],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$storeIds",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Set filter values\n     *\n     * @param array $data\n     * @return $this\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",187],["T_WHITESPACE","\n    ",193],["T_PROTECTED","protected",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","_setFilterValues",194],"(",["T_VARIABLE","$data",194],")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$data",196],["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$name",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$value",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setFilter",197],"(",["T_VARIABLE","$name",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$data",197],"[",["T_VARIABLE","$name",197],"]",")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Set visibility of store switcher\n     *\n     * @param bool $visible\n     * @codeCoverageIgnore\n     * @return void\n     *\/",202],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","setStoreSwitcherVisibility",209],"(",["T_VARIABLE","$visible",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","true",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_storeSwitcherVisibility",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$visible",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Return visibility of store switcher\n     * @codeCoverageIgnore\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",214],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","getStoreSwitcherVisibility",221],"(",")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_storeSwitcherVisibility",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Return store switcher html\n     * @codeCoverageIgnore\n     *\n     * @return string\n     *\/",226],["T_WHITESPACE","\n    ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","getStoreSwitcherHtml",232],"(",")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getChildHtml",234],"(",["T_CONSTANT_ENCAPSED_STRING","'store_switcher'",234],")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Set visibility of date filter\n     *\n     * @param bool $visible\n     * @return void\n     * @codeCoverageIgnore\n     *\/",237],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","setDateFilterVisibility",244],"(",["T_VARIABLE","$visible",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","true",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_dateFilterVisibility",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$visible",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Return visibility of date filter\n     * @codeCoverageIgnore\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",249],["T_WHITESPACE","\n    ",255],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","getDateFilterVisibility",256],"(",")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_dateFilterVisibility",258],";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Return date filter html\n     * @codeCoverageIgnore\n     *\n     * @return string\n     *\/",261],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","getDateFilterHtml",267],"(",")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getChildHtml",269],"(",["T_CONSTANT_ENCAPSED_STRING","'date_filter'",269],")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Get periods\n     *\n     * @return mixed\n     *\/",272],["T_WHITESPACE","\n    ",276],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","getPeriods",277],"(",")",["T_WHITESPACE","\n    ",277],"{",["T_WHITESPACE","\n        ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getCollection",279],"(",")",["T_OBJECT_OPERATOR","->",279],["T_STRING","getPeriods",279],"(",")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Get date format according the locale\n     *\n     * @return string\n     *\/",282],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","getDateFormat",287],"(",")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_localeDate",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getDateFormat",289],"(",["T_NS_SEPARATOR","\\",289],["T_STRING","IntlDateFormatter",289],["T_DOUBLE_COLON","::",289],["T_STRING","SHORT",289],")",";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * Return refresh button html\n     * @codeCoverageIgnore\n     *\n     * @return string\n     *\/",292],["T_WHITESPACE","\n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","getRefreshButtonHtml",298],"(",")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getChildHtml",300],"(",["T_CONSTANT_ENCAPSED_STRING","'refresh_button'",300],")",";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_DOC_COMMENT","\/**\n     * Set filter\n     *\n     * @param string $name\n     * @param string $value\n     * @return void\n     * @codeCoverageIgnore\n     *\/",303],["T_WHITESPACE","\n    ",310],["T_PUBLIC","public",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","setFilter",311],"(",["T_VARIABLE","$name",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$value",311],")",["T_WHITESPACE","\n    ",311],"{",["T_WHITESPACE","\n        ",312],["T_IF","if",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$name",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_filters",314],"[",["T_VARIABLE","$name",314],"]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$value",314],";",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * Get filter by key\n     *\n     * @param string $name\n     * @return string\n     *\/",318],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","getFilter",324],"(",["T_VARIABLE","$name",324],")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(",["T_ISSET","isset",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_filters",326],"[",["T_VARIABLE","$name",326],"]",")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_filters",327],"[",["T_VARIABLE","$name",327],"]",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE"," ",328],["T_ELSE","else",328],["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getRequest",329],"(",")",["T_OBJECT_OPERATOR","->",329],["T_STRING","getParam",329],"(",["T_VARIABLE","$name",329],")",["T_WHITESPACE"," ",329],"?",["T_WHITESPACE"," ",329],["T_STRING","htmlspecialchars",329],"(",["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getRequest",329],"(",")",["T_OBJECT_OPERATOR","->",329],["T_STRING","getParam",329],"(",["T_VARIABLE","$name",329],")",")",["T_WHITESPACE"," ",329],":",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","''",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Set sub-report rows count\n     *\n     * @param int $size\n     * @return void\n     * @codeCoverageIgnore\n     *\/",333],["T_WHITESPACE","\n    ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","setSubReportSize",340],"(",["T_VARIABLE","$size",340],")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_subReportSize",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$size",342],";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Return sub-report rows count\n     * @codeCoverageIgnore\n     *\n     * @return int\n     *\/",345],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","getSubReportSize",351],"(",")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_subReportSize",353],";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n\n    ",354],["T_DOC_COMMENT","\/**\n     * Retrieve errors\n     *\n     * @return array\n     * @codeCoverageIgnore\n     *\/",356],["T_WHITESPACE","\n    ",361],["T_PUBLIC","public",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","getErrors",362],"(",")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_errors",364],";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * Prepare grid filter buttons\n     *\n     * @return void\n     *\/",367],["T_WHITESPACE","\n    ",371],["T_PROTECTED","protected",372],["T_WHITESPACE"," ",372],["T_FUNCTION","function",372],["T_WHITESPACE"," ",372],["T_STRING","_prepareFilterButtons",372],"(",")",["T_WHITESPACE","\n    ",372],"{",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","addChild",374],"(",["T_WHITESPACE","\n            ",374],["T_CONSTANT_ENCAPSED_STRING","'refresh_button'",375],",",["T_WHITESPACE","\n            ",375],["T_NS_SEPARATOR","\\",376],["T_STRING","Magento",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Backend",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Block",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Widget",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Button",376],["T_DOUBLE_COLON","::",376],["T_CLASS","class",376],",",["T_WHITESPACE","\n            ",376],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_STRING","__",377],"(",["T_CONSTANT_ENCAPSED_STRING","'Refresh'",377],")",",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'onclick'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],"\"",["T_CURLY_OPEN","{",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getJsObjectName",377],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",".doFilter();",377],"\"",",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'class'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'task'",377],"]",["T_WHITESPACE","\n        ",377],")",";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n",379],"}",["T_WHITESPACE","\n",380]]