[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Reports",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Grid",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","AbstractGrid",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Backend",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Block",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Widget",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Grid",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Extended",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_PROTECTED","protected",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$_resourceCollectionName",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","''",13],";",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * @var null\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_currentCurrencyCode",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_STRING","null",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_storeIds",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[","]",";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var null\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_aggregatedColumns",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","null",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Reports data\n     *\n     * @var \\Magento\\Reports\\Helper\\Data\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_reportsData",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","null",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Reports grouped collection factory\n     *\n     * @var \\Magento\\Reports\\Model\\Grouped\\CollectionFactory\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_collectionFactory",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Resource collection factory\n     *\n     * @var \\Magento\\Reports\\Model\\ResourceModel\\Report\\Collection\\Factory\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_resourceFactory",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param \\Magento\\Backend\\Helper\\Data $backendHelper\n     * @param \\Magento\\Reports\\Model\\ResourceModel\\Report\\Collection\\Factory $resourceFactory\n     * @param \\Magento\\Reports\\Model\\Grouped\\CollectionFactory $collectionFactory\n     * @param \\Magento\\Reports\\Helper\\Data $reportsData\n     * @param array $data\n     *\/",51],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","__construct",59],"(",["T_WHITESPACE","\n        ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Backend",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Block",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Template",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Context",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$context",60],",",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Backend",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Helper",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Data",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$backendHelper",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Reports",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Model",62],["T_NS_SEPARATOR","\\",62],["T_STRING","ResourceModel",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Report",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Collection",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Factory",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$resourceFactory",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Reports",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Model",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Grouped",63],["T_NS_SEPARATOR","\\",63],["T_STRING","CollectionFactory",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$collectionFactory",63],",",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Reports",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Helper",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Data",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$reportsData",64],",",["T_WHITESPACE","\n        ",64],["T_ARRAY","array",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$data",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[","]",["T_WHITESPACE","\n    ",65],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_resourceFactory",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$resourceFactory",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_collectionFactory",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$collectionFactory",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_reportsData",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$reportsData",69],";",["T_WHITESPACE","\n        ",69],["T_STRING","parent",70],["T_DOUBLE_COLON","::",70],["T_STRING","__construct",70],"(",["T_VARIABLE","$context",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$backendHelper",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$data",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Pseudo constructor\n     *\n     * @return void\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","_construct",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_STRING","parent",80],["T_DOUBLE_COLON","::",80],["T_STRING","_construct",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setFilterVisibility",81],"(",["T_STRING","false",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","setPagerVisibility",82],"(",["T_STRING","false",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setUseAjax",83],"(",["T_STRING","false",83],")",";",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_ISSET","isset",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_columnGroupBy",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","isColumnGrouped",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_columnGroupBy",85],",",["T_WHITESPACE"," ",85],["T_STRING","true",85],")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setEmptyCellLabel",87],"(",["T_STRING","__",87],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t find records for this period.'",87],")",")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Get resource collection name\n     *\n     * @codeCoverageIgnore\n     *\n     * @return string\n     *\/",90],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getResourceCollectionName",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_resourceCollectionName",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Framework\\Data\\Collection\n     *\/",102],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getCollection",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_collection",107],["T_WHITESPACE"," ",107],["T_IS_IDENTICAL","===",107],["T_WHITESPACE"," ",107],["T_STRING","null",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setCollection",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_collectionFactory",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","create",108],"(",")",")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_collection",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",113],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","_getAggregatedColumns",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_aggregatedColumns",118],["T_WHITESPACE"," ",118],["T_IS_IDENTICAL","===",118],["T_WHITESPACE"," ",118],["T_STRING","null",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_FOREACH","foreach",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getColumns",119],"(",")",["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$column",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_STRING","is_array",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_aggregatedColumns",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_aggregatedColumns",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],"[","]",";",["T_WHITESPACE","\n                ",121],"}",["T_WHITESPACE","\n                ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$column",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","hasTotal",123],"(",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_aggregatedColumns",124],"[",["T_VARIABLE","$column",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getId",124],"(",")","]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],"\"",["T_CURLY_OPEN","{",124],["T_VARIABLE","$column",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getTotal",124],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","(",124],["T_CURLY_OPEN","{",124],["T_VARIABLE","$column",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getIndex",124],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",")",124],"\"",";",["T_WHITESPACE","\n                ",124],"}",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_aggregatedColumns",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Add column to grid\n     * Overridden to add support for visibility_filter column option\n     * It stands for conditional visibility of the column depending on filter field values\n     * Value of visibility_filter supports (filter_field_name => filter_field_value) pairs\n     *\n     * @param string $columnId\n     * @param array $column\n     * @return $this\n     *\/",131],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","addColumn",141],"(",["T_VARIABLE","$columnId",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$column",141],")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_STRING","is_array",143],"(",["T_VARIABLE","$column",143],")",["T_WHITESPACE"," ",143],["T_BOOLEAN_AND","&&",143],["T_WHITESPACE"," ",143],["T_STRING","array_key_exists",143],"(",["T_CONSTANT_ENCAPSED_STRING","'visibility_filter'",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$column",143],")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$filterData",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getFilterData",144],"(",")",";",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$visibilityFilter",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$column",145],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility_filter'",145],"]",";",["T_WHITESPACE","\n            ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(","!",["T_STRING","is_array",146],"(",["T_VARIABLE","$visibilityFilter",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$visibilityFilter",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],"[",["T_VARIABLE","$visibilityFilter",147],"]",";",["T_WHITESPACE","\n            ",147],"}",["T_WHITESPACE","\n            ",148],["T_FOREACH","foreach",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$visibilityFilter",149],["T_WHITESPACE"," ",149],["T_AS","as",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$k",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$v",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_STRING","is_int",150],"(",["T_VARIABLE","$k",150],")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n                    ",150],["T_VARIABLE","$filterFieldId",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$v",151],";",["T_WHITESPACE","\n                    ",151],["T_VARIABLE","$filterFieldValue",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","true",152],";",["T_WHITESPACE","\n                ",152],"}",["T_WHITESPACE"," ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$filterFieldId",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$k",154],";",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$filterFieldValue",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$v",155],";",["T_WHITESPACE","\n                ",155],"}",["T_WHITESPACE","\n                ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","!",["T_VARIABLE","$filterData",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","hasData",157],"(",["T_VARIABLE","$filterFieldId",157],")",["T_WHITESPACE"," ",157],["T_BOOLEAN_OR","||",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$filterData",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getData",157],"(",["T_VARIABLE","$filterFieldId",157],")",["T_WHITESPACE"," ",157],["T_IS_NOT_EQUAL","!=",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$filterFieldValue",157],["T_WHITESPACE","\n                ",157],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                    ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],";",["T_WHITESPACE","  ",159],["T_COMMENT","\/\/ don't add column\n",159],["T_WHITESPACE","                ",160],"}",["T_WHITESPACE","\n            ",160],"}",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","parent",163],["T_DOUBLE_COLON","::",163],["T_STRING","addColumn",163],"(",["T_VARIABLE","$columnId",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$column",163],")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Get allowed store ids array intersected with selected scope in store switcher\n     *\n     * @return array\n     *\/",166],["T_WHITESPACE","\n    ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","_getStoreIds",171],"(",")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$filterData",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getFilterData",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$filterData",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$storeIds",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","explode",175],"(",["T_CONSTANT_ENCAPSED_STRING","','",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$filterData",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getData",175],"(",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",175],")",")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE"," ",176],["T_ELSE","else",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$storeIds",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],"[","]",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_COMMENT","\/\/ By default storeIds array contains only allowed stores\n",179],["T_WHITESPACE","        ",180],["T_VARIABLE","$allowedStoreIds",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","array_keys",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_storeManager",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getStores",180],"(",")",")",";",["T_WHITESPACE","\n        ",180],["T_COMMENT","\/\/ And then array_intersect with post data for prevent unauthorized stores reports\n",181],["T_WHITESPACE","        ",182],["T_VARIABLE","$storeIds",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","array_intersect",182],"(",["T_VARIABLE","$allowedStoreIds",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$storeIds",182],")",";",["T_WHITESPACE","\n        ",182],["T_COMMENT","\/\/ If selected all websites or unauthorized stores use only allowed\n",183],["T_WHITESPACE","        ",184],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_EMPTY","empty",184],"(",["T_VARIABLE","$storeIds",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$storeIds",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$allowedStoreIds",185],";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n        ",186],["T_COMMENT","\/\/ reset array keys\n",187],["T_WHITESPACE","        ",188],["T_VARIABLE","$storeIds",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","array_values",188],"(",["T_VARIABLE","$storeIds",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$storeIds",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * @return $this|\\Magento\\Backend\\Block\\Widget\\Grid\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",193],["T_WHITESPACE","\n    ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","_prepareCollection",198],"(",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$filterData",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getFilterData",200],"(",")",";",["T_WHITESPACE","\n\n        ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$filterData",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getData",202],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",202],")",["T_WHITESPACE"," ",202],["T_IS_EQUAL","==",202],["T_WHITESPACE"," ",202],["T_STRING","null",202],["T_WHITESPACE"," ",202],["T_BOOLEAN_OR","||",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$filterData",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getData",202],"(",["T_CONSTANT_ENCAPSED_STRING","'to'",202],")",["T_WHITESPACE"," ",202],["T_IS_EQUAL","==",202],["T_WHITESPACE"," ",202],["T_STRING","null",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","setCountTotals",203],"(",["T_STRING","false",203],")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setCountSubTotals",204],"(",["T_STRING","false",204],")",";",["T_WHITESPACE","\n            ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_STRING","parent",205],["T_DOUBLE_COLON","::",205],["T_STRING","_prepareCollection",205],"(",")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n\n        ",206],["T_VARIABLE","$storeIds",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_getStoreIds",208],"(",")",";",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$orderStatuses",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$filterData",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getData",210],"(",["T_CONSTANT_ENCAPSED_STRING","'order_statuses'",210],")",";",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_STRING","is_array",211],"(",["T_VARIABLE","$orderStatuses",211],")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_STRING","count",212],"(",["T_VARIABLE","$orderStatuses",212],")",["T_WHITESPACE"," ",212],["T_IS_EQUAL","==",212],["T_WHITESPACE"," ",212],["T_LNUMBER","1",212],["T_WHITESPACE"," ",212],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],["T_STRING","strpos",212],"(",["T_VARIABLE","$orderStatuses",212],"[",["T_LNUMBER","0",212],"]",",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","','",212],")",["T_WHITESPACE"," ",212],["T_IS_NOT_IDENTICAL","!==",212],["T_WHITESPACE"," ",212],["T_STRING","false",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$filterData",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","setData",213],"(",["T_CONSTANT_ENCAPSED_STRING","'order_statuses'",213],",",["T_WHITESPACE"," ",213],["T_STRING","explode",213],"(",["T_CONSTANT_ENCAPSED_STRING","','",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$orderStatuses",213],"[",["T_LNUMBER","0",213],"]",")",")",";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n\n        ",215],["T_VARIABLE","$resourceCollection",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_resourceFactory",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","create",217],"(",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getResourceCollectionName",218],"(",")",["T_WHITESPACE","\n        ",218],")",["T_OBJECT_OPERATOR","->",219],["T_STRING","setPeriod",219],"(",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$filterData",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getData",220],"(",["T_CONSTANT_ENCAPSED_STRING","'period_type'",220],")",["T_WHITESPACE","\n        ",220],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","setDateRange",221],"(",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$filterData",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getData",222],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",222],",",["T_WHITESPACE"," ",222],["T_STRING","null",222],")",",",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$filterData",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getData",223],"(",["T_CONSTANT_ENCAPSED_STRING","'to'",223],",",["T_WHITESPACE"," ",223],["T_STRING","null",223],")",["T_WHITESPACE","\n        ",223],")",["T_OBJECT_OPERATOR","->",224],["T_STRING","addStoreFilter",224],"(",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$storeIds",225],["T_WHITESPACE","\n        ",225],")",["T_OBJECT_OPERATOR","->",226],["T_STRING","setAggregatedColumns",226],"(",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_getAggregatedColumns",227],"(",")",["T_WHITESPACE","\n        ",227],")",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_addOrderStatusFilter",230],"(",["T_VARIABLE","$resourceCollection",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$filterData",230],")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_addCustomFilter",231],"(",["T_VARIABLE","$resourceCollection",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$filterData",231],")",";",["T_WHITESPACE","\n\n        ",231],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_isExport",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","setCollection",234],"(",["T_VARIABLE","$resourceCollection",234],")",";",["T_WHITESPACE","\n            ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n\n        ",236],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$filterData",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getData",238],"(",["T_CONSTANT_ENCAPSED_STRING","'show_empty_rows'",238],",",["T_WHITESPACE"," ",238],["T_STRING","false",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_reportsData",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","prepareIntervalsCollection",239],"(",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getCollection",240],"(",")",",",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$filterData",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getData",241],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",241],",",["T_WHITESPACE"," ",241],["T_STRING","null",241],")",",",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$filterData",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getData",242],"(",["T_CONSTANT_ENCAPSED_STRING","'to'",242],",",["T_WHITESPACE"," ",242],["T_STRING","null",242],")",",",["T_WHITESPACE","\n                ",242],["T_VARIABLE","$filterData",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getData",243],"(",["T_CONSTANT_ENCAPSED_STRING","'period_type'",243],")",["T_WHITESPACE","\n            ",243],")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n\n        ",245],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getCountSubTotals",247],"(",")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getSubTotals",248],"(",")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getCountTotals",251],"(",")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$totalsCollection",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_resourceFactory",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","create",252],"(",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getResourceCollectionName",253],"(",")",["T_WHITESPACE","\n            ",253],")",["T_OBJECT_OPERATOR","->",254],["T_STRING","setPeriod",254],"(",["T_WHITESPACE","\n                ",254],["T_VARIABLE","$filterData",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getData",255],"(",["T_CONSTANT_ENCAPSED_STRING","'period_type'",255],")",["T_WHITESPACE","\n            ",255],")",["T_OBJECT_OPERATOR","->",256],["T_STRING","setDateRange",256],"(",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$filterData",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getData",257],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",257],",",["T_WHITESPACE"," ",257],["T_STRING","null",257],")",",",["T_WHITESPACE","\n                ",257],["T_VARIABLE","$filterData",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getData",258],"(",["T_CONSTANT_ENCAPSED_STRING","'to'",258],",",["T_WHITESPACE"," ",258],["T_STRING","null",258],")",["T_WHITESPACE","\n            ",258],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","addStoreFilter",259],"(",["T_WHITESPACE","\n                ",259],["T_VARIABLE","$storeIds",260],["T_WHITESPACE","\n            ",260],")",["T_OBJECT_OPERATOR","->",261],["T_STRING","setAggregatedColumns",261],"(",["T_WHITESPACE","\n                ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_getAggregatedColumns",262],"(",")",["T_WHITESPACE","\n            ",262],")",["T_OBJECT_OPERATOR","->",263],["T_STRING","isTotals",263],"(",["T_WHITESPACE","\n                ",263],["T_STRING","true",264],["T_WHITESPACE","\n            ",264],")",";",["T_WHITESPACE","\n\n            ",265],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_addOrderStatusFilter",267],"(",["T_VARIABLE","$totalsCollection",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$filterData",267],")",";",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_addCustomFilter",268],"(",["T_VARIABLE","$totalsCollection",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$filterData",268],")",";",["T_WHITESPACE","\n\n            ",268],["T_FOREACH","foreach",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$totalsCollection",270],["T_WHITESPACE"," ",270],["T_AS","as",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$item",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","setTotals",271],"(",["T_VARIABLE","$item",271],")",";",["T_WHITESPACE","\n                ",271],["T_BREAK","break",272],";",["T_WHITESPACE","\n            ",272],"}",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n\n        ",274],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getCollection",276],"(",")",["T_OBJECT_OPERATOR","->",276],["T_STRING","setColumnGroupBy",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_columnGroupBy",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getCollection",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","setResourceCollection",277],"(",["T_VARIABLE","$resourceCollection",277],")",";",["T_WHITESPACE","\n\n        ",277],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_STRING","parent",279],["T_DOUBLE_COLON","::",279],["T_STRING","_prepareCollection",279],"(",")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",282],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","getCountTotals",285],"(",")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(","!",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getTotals",287],"(",")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_VARIABLE","$filterData",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getFilterData",288],"(",")",";",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$totalsCollection",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_resourceFactory",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","create",289],"(",["T_WHITESPACE","\n                ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getResourceCollectionName",290],"(",")",["T_WHITESPACE","\n            ",290],")",["T_OBJECT_OPERATOR","->",291],["T_STRING","setPeriod",291],"(",["T_WHITESPACE","\n                ",291],["T_VARIABLE","$filterData",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getData",292],"(",["T_CONSTANT_ENCAPSED_STRING","'period_type'",292],")",["T_WHITESPACE","\n            ",292],")",["T_OBJECT_OPERATOR","->",293],["T_STRING","setDateRange",293],"(",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$filterData",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getData",294],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",294],",",["T_WHITESPACE"," ",294],["T_STRING","null",294],")",",",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$filterData",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getData",295],"(",["T_CONSTANT_ENCAPSED_STRING","'to'",295],",",["T_WHITESPACE"," ",295],["T_STRING","null",295],")",["T_WHITESPACE","\n            ",295],")",["T_OBJECT_OPERATOR","->",296],["T_STRING","addStoreFilter",296],"(",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_getStoreIds",297],"(",")",["T_WHITESPACE","\n            ",297],")",["T_OBJECT_OPERATOR","->",298],["T_STRING","setAggregatedColumns",298],"(",["T_WHITESPACE","\n                ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_getAggregatedColumns",299],"(",")",["T_WHITESPACE","\n            ",299],")",["T_OBJECT_OPERATOR","->",300],["T_STRING","isTotals",300],"(",["T_WHITESPACE","\n                ",300],["T_STRING","true",301],["T_WHITESPACE","\n            ",301],")",";",["T_WHITESPACE","\n\n            ",302],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_addOrderStatusFilter",304],"(",["T_VARIABLE","$totalsCollection",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$filterData",304],")",";",["T_WHITESPACE","\n\n            ",304],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$totalsCollection",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","load",306],"(",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","getSize",306],"(",")",["T_WHITESPACE"," ",306],"<",["T_WHITESPACE"," ",306],["T_LNUMBER","1",306],["T_WHITESPACE"," ",306],["T_BOOLEAN_OR","||",306],["T_WHITESPACE"," ",306],"!",["T_VARIABLE","$filterData",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getData",306],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",306],")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","setTotals",307],"(",["T_NEW","new",307],["T_WHITESPACE"," ",307],["T_NS_SEPARATOR","\\",307],["T_STRING","Magento",307],["T_NS_SEPARATOR","\\",307],["T_STRING","Framework",307],["T_NS_SEPARATOR","\\",307],["T_STRING","DataObject",307],"(",")",")",";",["T_WHITESPACE","\n                ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","setCountTotals",308],"(",["T_STRING","false",308],")",";",["T_WHITESPACE","\n            ",308],"}",["T_WHITESPACE"," ",309],["T_ELSE","else",309],["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                ",309],["T_FOREACH","foreach",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$totalsCollection",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getItems",310],"(",")",["T_WHITESPACE"," ",310],["T_AS","as",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$item",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n                    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","setTotals",311],"(",["T_VARIABLE","$item",311],")",";",["T_WHITESPACE","\n                    ",311],["T_BREAK","break",312],";",["T_WHITESPACE","\n                ",312],"}",["T_WHITESPACE","\n            ",313],"}",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_STRING","parent",316],["T_DOUBLE_COLON","::",316],["T_STRING","getCountTotals",316],"(",")",";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",319],["T_WHITESPACE","\n    ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","getSubTotals",322],"(",")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$filterData",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getFilterData",324],"(",")",";",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$subTotalsCollection",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_resourceFactory",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","create",325],"(",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getResourceCollectionName",326],"(",")",["T_WHITESPACE","\n        ",326],")",["T_OBJECT_OPERATOR","->",327],["T_STRING","setPeriod",327],"(",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$filterData",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getData",328],"(",["T_CONSTANT_ENCAPSED_STRING","'period_type'",328],")",["T_WHITESPACE","\n        ",328],")",["T_OBJECT_OPERATOR","->",329],["T_STRING","setDateRange",329],"(",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$filterData",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getData",330],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",330],",",["T_WHITESPACE"," ",330],["T_STRING","null",330],")",",",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$filterData",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getData",331],"(",["T_CONSTANT_ENCAPSED_STRING","'to'",331],",",["T_WHITESPACE"," ",331],["T_STRING","null",331],")",["T_WHITESPACE","\n        ",331],")",["T_OBJECT_OPERATOR","->",332],["T_STRING","addStoreFilter",332],"(",["T_WHITESPACE","\n            ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_getStoreIds",333],"(",")",["T_WHITESPACE","\n        ",333],")",["T_OBJECT_OPERATOR","->",334],["T_STRING","setAggregatedColumns",334],"(",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_getAggregatedColumns",335],"(",")",["T_WHITESPACE","\n        ",335],")",["T_OBJECT_OPERATOR","->",336],["T_STRING","setIsSubTotals",336],"(",["T_WHITESPACE","\n            ",336],["T_STRING","true",337],["T_WHITESPACE","\n        ",337],")",";",["T_WHITESPACE","\n\n        ",338],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_addOrderStatusFilter",340],"(",["T_VARIABLE","$subTotalsCollection",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$filterData",340],")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_addCustomFilter",341],"(",["T_VARIABLE","$subTotalsCollection",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$filterData",341],")",";",["T_WHITESPACE","\n\n        ",341],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","setSubTotals",343],"(",["T_VARIABLE","$subTotalsCollection",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getItems",343],"(",")",")",";",["T_WHITESPACE","\n        ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_STRING","parent",344],["T_DOUBLE_COLON","::",344],["T_STRING","getSubTotals",344],"(",")",";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * StoreIds setter\n     *\n     * @param array $storeIds\n     * @return $this\n     * @codeCoverageIgnore\n     *\/",347],["T_WHITESPACE","\n    ",353],["T_PUBLIC","public",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","setStoreIds",354],"(",["T_VARIABLE","$storeIds",354],")",["T_WHITESPACE","\n    ",354],"{",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_storeIds",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$storeIds",356],";",["T_WHITESPACE","\n        ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * @return string|\\Magento\\Directory\\Model\\Currency $currencyCode\n     *\/",360],["T_WHITESPACE","\n    ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","getCurrentCurrencyCode",363],"(",")",["T_WHITESPACE","\n    ",363],"{",["T_WHITESPACE","\n        ",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","_currentCurrencyCode",365],["T_WHITESPACE"," ",365],["T_IS_IDENTICAL","===",365],["T_WHITESPACE"," ",365],["T_STRING","null",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_currentCurrencyCode",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_STRING","count",366],"(",["T_WHITESPACE","\n                ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_storeIds",367],["T_WHITESPACE","\n            ",367],")",["T_WHITESPACE"," ",368],">",["T_WHITESPACE"," ",368],["T_LNUMBER","0",368],["T_WHITESPACE"," ",368],"?",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_storeManager",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getStore",368],"(",["T_WHITESPACE","\n                ",368],["T_STRING","array_shift",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_storeIds",369],")",["T_WHITESPACE","\n            ",369],")",["T_OBJECT_OPERATOR","->",370],["T_STRING","getBaseCurrencyCode",370],"(",")",["T_WHITESPACE"," ",370],":",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_storeManager",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getStore",370],"(",")",["T_OBJECT_OPERATOR","->",370],["T_STRING","getBaseCurrencyCode",370],"(",")",";",["T_WHITESPACE","\n        ",370],"}",["T_WHITESPACE","\n        ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_currentCurrencyCode",372],";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * Get currency rate (base to given currency)\n     *\n     * @param string|\\Magento\\Directory\\Model\\Currency $toCurrency\n     * @return float\n     *\/",375],["T_WHITESPACE","\n    ",380],["T_PUBLIC","public",381],["T_WHITESPACE"," ",381],["T_FUNCTION","function",381],["T_WHITESPACE"," ",381],["T_STRING","getRate",381],"(",["T_VARIABLE","$toCurrency",381],")",["T_WHITESPACE","\n    ",381],"{",["T_WHITESPACE","\n        ",382],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_storeManager",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getStore",383],"(",")",["T_OBJECT_OPERATOR","->",383],["T_STRING","getBaseCurrency",383],"(",")",["T_OBJECT_OPERATOR","->",383],["T_STRING","getRate",383],"(",["T_VARIABLE","$toCurrency",383],")",";",["T_WHITESPACE","\n    ",383],"}",["T_WHITESPACE","\n\n    ",384],["T_DOC_COMMENT","\/**\n     * Add order status filter\n     *\n     * @param \\Magento\\Reports\\Model\\ResourceModel\\Report\\Collection\\AbstractCollection $collection\n     * @param \\Magento\\Framework\\DataObject $filterData\n     * @return $this\n     *\/",386],["T_WHITESPACE","\n    ",392],["T_PROTECTED","protected",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","_addOrderStatusFilter",393],"(",["T_VARIABLE","$collection",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$filterData",393],")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$collection",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","addOrderStatusFilter",395],"(",["T_VARIABLE","$filterData",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getData",395],"(",["T_CONSTANT_ENCAPSED_STRING","'order_statuses'",395],")",")",";",["T_WHITESPACE","\n        ",395],["T_RETURN","return",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],";",["T_WHITESPACE","\n    ",396],"}",["T_WHITESPACE","\n\n    ",397],["T_DOC_COMMENT","\/**\n     * Adds custom filter to resource collection\n     * Can be overridden in child classes if custom filter needed\n     *\n     * @param \\Magento\\Reports\\Model\\ResourceModel\\Report\\Collection\\AbstractCollection $collection\n     * @param \\Magento\\Framework\\DataObject $filterData\n     * @return $this\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @codeCoverageIgnore\n     *\/",399],["T_WHITESPACE","\n    ",408],["T_PROTECTED","protected",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","_addCustomFilter",409],"(",["T_VARIABLE","$collection",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$filterData",409],")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$this",411],";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n",412],"}",["T_WHITESPACE","\n",413]]