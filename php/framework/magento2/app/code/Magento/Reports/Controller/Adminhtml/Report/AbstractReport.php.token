[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Admin abstract reports controller\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Reports",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Controller",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adminhtml",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Report",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Stdlib",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DateTime",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TimezoneInterface",14],";",["T_WHITESPACE","\n\n",14],["T_ABSTRACT","abstract",16],["T_WHITESPACE"," ",16],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","AbstractReport",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Backend",16],["T_NS_SEPARATOR","\\",16],["T_STRING","App",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Action",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Response\\Http\\FileFactory\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_fileFactory",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\Filter\\Date\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_dateFilter",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var TimezoneInterface\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$timezone",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\App\\Action\\Context $context\n     * @param \\Magento\\Framework\\App\\Response\\Http\\FileFactory $fileFactory\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\Filter\\Date $dateFilter\n     * @param TimezoneInterface $timezone\n     *\/",33],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Backend",40],["T_NS_SEPARATOR","\\",40],["T_STRING","App",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Action",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Context",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$context",40],",",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","App",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Response",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Http",41],["T_NS_SEPARATOR","\\",41],["T_STRING","FileFactory",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$fileFactory",41],",",["T_WHITESPACE","\n        ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Framework",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Stdlib",42],["T_NS_SEPARATOR","\\",42],["T_STRING","DateTime",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Filter",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Date",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$dateFilter",42],",",["T_WHITESPACE","\n        ",42],["T_STRING","TimezoneInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$timezone",43],["T_WHITESPACE","\n    ",43],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n        ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","__construct",45],"(",["T_VARIABLE","$context",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_fileFactory",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$fileFactory",46],";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_dateFilter",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$dateFilter",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","timezone",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$timezone",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Admin session model\n     *\n     * @var null|\\Magento\\Backend\\Model\\Auth\\Session\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_adminSession",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","null",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Retrieve admin session model\n     *\n     * @return \\Magento\\Backend\\Model\\Auth\\Session\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","_getSession",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_adminSession",65],["T_WHITESPACE"," ",65],["T_IS_IDENTICAL","===",65],["T_WHITESPACE"," ",65],["T_STRING","null",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_adminSession",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_objectManager",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","get",66],"(",["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Backend",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Auth",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Session",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_adminSession",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Add report breadcrumbs\n     *\n     * @return $this\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","_initAction",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_view",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","loadLayout",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_addBreadcrumb",79],"(",["T_STRING","__",79],"(",["T_CONSTANT_ENCAPSED_STRING","'Reports'",79],")",",",["T_WHITESPACE"," ",79],["T_STRING","__",79],"(",["T_CONSTANT_ENCAPSED_STRING","'Reports'",79],")",")",";",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Report action init operations\n     *\n     * @param array|\\Magento\\Framework\\DataObject $blocks\n     * @return $this\n     *\/",83],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","_initReportAction",89],"(",["T_VARIABLE","$blocks",89],")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(","!",["T_STRING","is_array",91],"(",["T_VARIABLE","$blocks",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$blocks",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[",["T_VARIABLE","$blocks",92],"]",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$requestData",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_objectManager",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","get",95],"(",["T_WHITESPACE","\n            ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Backend",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Helper",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Data",96],["T_DOUBLE_COLON","::",96],["T_CLASS","class",96],["T_WHITESPACE","\n        ",96],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","prepareFilterString",97],"(",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getRequest",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getParam",98],"(",["T_CONSTANT_ENCAPSED_STRING","'filter'",98],")",["T_WHITESPACE","\n        ",98],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$inputFilter",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Zend_Filter_Input",100],"(",["T_WHITESPACE","\n            ",100],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_dateFilter",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'to'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_dateFilter",101],"]",",",["T_WHITESPACE","\n            ",101],"[","]",",",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$requestData",103],["T_WHITESPACE","\n        ",103],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$requestData",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$inputFilter",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getUnescaped",105],"(",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$requestData",106],"[",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getRequest",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getParam",106],"(",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$params",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","DataObject",107],"(",")",";",["T_WHITESPACE","\n\n        ",107],["T_FOREACH","foreach",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$requestData",109],["T_WHITESPACE"," ",109],["T_AS","as",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$key",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$value",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(","!",["T_EMPTY","empty",110],"(",["T_VARIABLE","$value",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_VARIABLE","$params",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setData",111],"(",["T_VARIABLE","$key",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$value",111],")",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_FOREACH","foreach",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$blocks",115],["T_WHITESPACE"," ",115],["T_AS","as",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$block",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$block",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$block",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setPeriodType",117],"(",["T_VARIABLE","$params",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getData",117],"(",["T_CONSTANT_ENCAPSED_STRING","'period_type'",117],")",")",";",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$block",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","setFilterData",118],"(",["T_VARIABLE","$params",118],")",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Add refresh statistics links\n     *\n     * @param string $flagCode\n     * @param string $refreshCode\n     * @return $this\n     *\/",125],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","_showLastExecutionTime",132],"(",["T_VARIABLE","$flagCode",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$refreshCode",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$flag",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_objectManager",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","create",134],"(",["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Reports",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Model",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Flag",134],["T_DOUBLE_COLON","::",134],["T_CLASS","class",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","setReportFlagCode",135],"(",["T_VARIABLE","$flagCode",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","loadSelf",136],"(",")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$updatedAt",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'undefined'",137],";",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$flag",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","hasData",138],"(",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$updatedAt",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE","  ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","timezone",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","formatDate",139],"(",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$flag",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getLastUpdate",140],"(",")",",",["T_WHITESPACE","\n                ",140],["T_NS_SEPARATOR","\\",141],["T_STRING","IntlDateFormatter",141],["T_DOUBLE_COLON","::",141],["T_STRING","MEDIUM",141],",",["T_WHITESPACE","\n                ",141],["T_STRING","true",142],["T_WHITESPACE","\n            ",142],")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$refreshStatsLink",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getUrl",146],"(",["T_CONSTANT_ENCAPSED_STRING","'reports\/report_statistics'",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$directRefreshLink",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getUrl",147],"(",["T_CONSTANT_ENCAPSED_STRING","'reports\/report_statistics\/refreshRecent'",147],",",["T_WHITESPACE"," ",147],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$refreshCode",147],"]",")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","messageManager",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","addNotice",149],"(",["T_WHITESPACE","\n            ",149],["T_STRING","__",150],"(",["T_WHITESPACE","\n                ",150],["T_CONSTANT_ENCAPSED_STRING","'Last updated: %1. To refresh last day\\'s <a href=\"%2\">statistics<\/a>, '",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE","\n                ",151],["T_CONSTANT_ENCAPSED_STRING","'click <a href=\"%3\">here<\/a>.'",152],",",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$updatedAt",153],",",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$refreshStatsLink",154],",",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$directRefreshLink",155],["T_WHITESPACE","\n            ",155],")",["T_WHITESPACE","\n        ",156],")",";",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n",159],"}",["T_WHITESPACE","\n",160]]