[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Reports data helper\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Reports",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Collection",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Stdlib",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DateTime",13],";",["T_WHITESPACE","\n\n",13],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Data",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","App",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Helper",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractHelper",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","REPORT_PERIOD_TYPE_DAY",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'day'",17],";",["T_WHITESPACE","\n\n    ",17],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","REPORT_PERIOD_TYPE_MONTH",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'month'",19],";",["T_WHITESPACE","\n\n    ",19],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","REPORT_PERIOD_TYPE_YEAR",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'year'",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Item factory\n     *\n     * @var \\Magento\\Reports\\Model\\ItemFactory\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_itemFactory",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Framework\\App\\Helper\\Context $context\n     * @param \\Magento\\Reports\\Model\\ItemFactory $itemFactory\n     *\/",30],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Framework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","App",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Helper",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Context",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$context",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Reports",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Model",38],["T_NS_SEPARATOR","\\",38],["T_STRING","ItemFactory",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$itemFactory",38],["T_WHITESPACE","\n    ",38],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n        ",39],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","__construct",40],"(",["T_VARIABLE","$context",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_itemFactory",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$itemFactory",41],";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Retrieve array of intervals\n     *\n     * @param string $from\n     * @param string $to\n     * @param string $period\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",44],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","getIntervals",53],"(",["T_VARIABLE","$from",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$to",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$period",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","self",53],["T_DOUBLE_COLON","::",53],["T_STRING","REPORT_PERIOD_TYPE_DAY",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$intervals",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[","]",";",["T_WHITESPACE","\n        ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(","!",["T_VARIABLE","$from",56],["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],"!",["T_VARIABLE","$to",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$intervals",57],";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$dateStart",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_NS_SEPARATOR","\\",60],["T_STRING","DateTime",60],"(",["T_VARIABLE","$from",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$dateEnd",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","DateTime",61],"(",["T_VARIABLE","$to",61],")",";",["T_WHITESPACE","\n        ",61],["T_WHILE","while",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$dateStart",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","diff",62],"(",["T_VARIABLE","$dateEnd",62],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","invert",62],["T_WHITESPACE"," ",62],["T_IS_EQUAL","==",62],["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_SWITCH","switch",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$period",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                ",63],["T_CASE","case",64],["T_WHITESPACE"," ",64],["T_STRING","self",64],["T_DOUBLE_COLON","::",64],["T_STRING","REPORT_PERIOD_TYPE_DAY",64],":",["T_WHITESPACE","\n                    ",64],["T_VARIABLE","$intervals",65],"[","]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$dateStart",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","format",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",65],")",";",["T_WHITESPACE","\n                    ",65],["T_VARIABLE","$dateStart",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","add",66],"(",["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_NS_SEPARATOR","\\",66],["T_STRING","DateInterval",66],"(",["T_CONSTANT_ENCAPSED_STRING","'P1D'",66],")",")",";",["T_WHITESPACE","\n                    ",66],["T_BREAK","break",67],";",["T_WHITESPACE","\n                ",67],["T_CASE","case",68],["T_WHITESPACE"," ",68],["T_STRING","self",68],["T_DOUBLE_COLON","::",68],["T_STRING","REPORT_PERIOD_TYPE_MONTH",68],":",["T_WHITESPACE","\n                    ",68],["T_VARIABLE","$intervals",69],"[","]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$dateStart",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","format",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m'",69],")",";",["T_WHITESPACE","\n                    ",69],["T_VARIABLE","$dateStart",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","add",70],"(",["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","DateInterval",70],"(",["T_CONSTANT_ENCAPSED_STRING","'P1M'",70],")",")",";",["T_WHITESPACE","\n                    ",70],["T_BREAK","break",71],";",["T_WHITESPACE","\n                ",71],["T_CASE","case",72],["T_WHITESPACE"," ",72],["T_STRING","self",72],["T_DOUBLE_COLON","::",72],["T_STRING","REPORT_PERIOD_TYPE_YEAR",72],":",["T_WHITESPACE","\n                    ",72],["T_VARIABLE","$intervals",73],"[","]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$dateStart",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","format",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Y'",73],")",";",["T_WHITESPACE","\n                    ",73],["T_VARIABLE","$dateStart",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","add",74],"(",["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","DateInterval",74],"(",["T_CONSTANT_ENCAPSED_STRING","'P1Y'",74],")",")",";",["T_WHITESPACE","\n                    ",74],["T_BREAK","break",75],";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$intervals",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Add items to interval collection\n     *\n     * @param Collection $collection\n     * @param string $from\n     * @param string $to\n     * @param string $periodType\n     * @return void\n     *\/",81],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","prepareIntervalsCollection",90],"(",["T_VARIABLE","$collection",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$from",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$to",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$periodType",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","self",90],["T_DOUBLE_COLON","::",90],["T_STRING","REPORT_PERIOD_TYPE_DAY",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$intervals",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getIntervals",92],"(",["T_VARIABLE","$from",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$to",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$periodType",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$intervals",94],["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$interval",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$item",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_itemFactory",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","create",95],"(",")",";",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$item",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setPeriod",96],"(",["T_VARIABLE","$interval",96],")",";",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$item",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setIsEmpty",97],"(",")",";",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$collection",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","addItem",98],"(",["T_VARIABLE","$item",98],")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n",100],"}",["T_WHITESPACE","\n",101]]