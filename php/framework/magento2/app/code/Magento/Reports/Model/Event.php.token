[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Reports",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Events model\n *\n * @method \\Magento\\Reports\\Model\\ResourceModel\\Event _getResource()\n * @method \\Magento\\Reports\\Model\\ResourceModel\\Event getResource()\n * @method string getLoggedAt()\n * @method \\Magento\\Reports\\Model\\Event setLoggedAt(string $value)\n * @method int getEventTypeId()\n * @method \\Magento\\Reports\\Model\\Event setEventTypeId(int $value)\n * @method int getObjectId()\n * @method \\Magento\\Reports\\Model\\Event setObjectId(int $value)\n * @method int getSubjectId()\n * @method \\Magento\\Reports\\Model\\Event setSubjectId(int $value)\n * @method int getSubtype()\n * @method \\Magento\\Reports\\Model\\Event setSubtype(int $value)\n * @method int getStoreId()\n * @method \\Magento\\Reports\\Model\\Event setStoreId(int $value)\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",8],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Event",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Model",28],["T_NS_SEPARATOR","\\",28],["T_STRING","AbstractModel",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","EVENT_PRODUCT_VIEW",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_LNUMBER","1",30],";",["T_WHITESPACE","\n\n    ",30],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","EVENT_PRODUCT_SEND",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_LNUMBER","2",32],";",["T_WHITESPACE","\n\n    ",32],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","EVENT_PRODUCT_COMPARE",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_LNUMBER","3",34],";",["T_WHITESPACE","\n\n    ",34],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","EVENT_PRODUCT_TO_CART",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_LNUMBER","4",36],";",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","EVENT_PRODUCT_TO_WISHLIST",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_LNUMBER","5",38],";",["T_WHITESPACE","\n\n    ",38],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","EVENT_WISHLIST_SHARE",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","6",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTimeFactory\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_dateFactory",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Reports\\Model\\Event\\TypeFactory\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_eventTypeFactory",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTimeFactory $dateFactory\n     * @param \\Magento\\Reports\\Model\\Event\\TypeFactory $eventTypeFactory\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     *\/",52],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","__construct",61],"(",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Model",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Context",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$context",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Framework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Registry",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$registry",63],",",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Framework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Stdlib",64],["T_NS_SEPARATOR","\\",64],["T_STRING","DateTime",64],["T_NS_SEPARATOR","\\",64],["T_STRING","DateTimeFactory",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$dateFactory",64],",",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Reports",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Event",65],["T_NS_SEPARATOR","\\",65],["T_STRING","TypeFactory",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$eventTypeFactory",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","ResourceModel",66],["T_NS_SEPARATOR","\\",66],["T_STRING","AbstractResource",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$resource",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","null",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Data",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Collection",67],["T_NS_SEPARATOR","\\",67],["T_STRING","AbstractDb",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$resourceCollection",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","null",67],",",["T_WHITESPACE","\n        ",67],["T_ARRAY","array",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$data",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"[","]",["T_WHITESPACE","\n    ",68],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n        ",69],["T_STRING","parent",70],["T_DOUBLE_COLON","::",70],["T_STRING","__construct",70],"(",["T_VARIABLE","$context",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$registry",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$resource",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$resourceCollection",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$data",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_dateFactory",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$dateFactory",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_eventTypeFactory",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$eventTypeFactory",72],";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Initialize resource\n     *\n     * @return void\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","_construct",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_init",82],"(",["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Reports",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","ResourceModel",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Event",82],["T_DOUBLE_COLON","::",82],["T_CLASS","class",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Before Event save process\n     *\n     * @return $this\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","beforeSave",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$date",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_dateFactory",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","create",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setLoggedAt",93],"(",["T_VARIABLE","$date",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","gmtDate",93],"(",")",")",";",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_STRING","parent",94],["T_DOUBLE_COLON","::",94],["T_STRING","beforeSave",94],"(",")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Update customer type after customer login\n     *\n     * @param int $visitorId\n     * @param int $customerId\n     * @param array $types\n     * @return $this\n     *\/",97],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","updateCustomerType",105],"(",["T_VARIABLE","$visitorId",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$customerId",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$types",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","null",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$types",107],["T_WHITESPACE"," ",107],["T_IS_IDENTICAL","===",107],["T_WHITESPACE"," ",107],["T_STRING","null",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$types",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"[","]",";",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$typesCollection",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_eventTypeFactory",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","create",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getCollection",109],"(",")",";",["T_WHITESPACE","\n            ",109],["T_FOREACH","foreach",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$typesCollection",110],["T_WHITESPACE"," ",110],["T_AS","as",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$eventType",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$eventType",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getCustomerLogin",111],"(",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                    ",111],["T_VARIABLE","$types",112],"[",["T_VARIABLE","$eventType",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getId",112],"(",")","]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$eventType",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getId",112],"(",")",";",["T_WHITESPACE","\n                ",112],"}",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getResource",116],"(",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","updateCustomerType",116],"(",["T_VARIABLE","$this",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$visitorId",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$customerId",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$types",116],")",";",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Clean events (visitors)\n     *\n     * @return $this\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","clean",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getResource",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","clean",127],"(",["T_VARIABLE","$this",127],")",";",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n",129],"}",["T_WHITESPACE","\n",130]]