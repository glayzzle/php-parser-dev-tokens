[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Product Low Stock Report Collection\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Reports",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResourceModel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Lowstock",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Collection",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Reports",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ResourceModel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Product",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Collection",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Flag about is joined CatalogInventory Stock Item\n     *\n     * @var bool\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_inventoryItemJoined",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","false",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Alias for CatalogInventory Stock Item Table\n     *\n     * @var string\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_inventoryItemTableAlias",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'lowstock_inventory_item'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Api\\StockRegistryInterface\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$stockRegistry",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$stockConfiguration",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Model\\ResourceModel\\Stock\\Item\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_itemResource",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Collection constructor.\n     * @param \\Magento\\Framework\\Data\\Collection\\EntityFactory $entityFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Data\\Collection\\Db\\FetchStrategyInterface $fetchStrategy\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param \\Magento\\Eav\\Model\\EntityFactory $eavEntityFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Helper $resourceHelper\n     * @param \\Magento\\Framework\\Validator\\UniversalFactory $universalFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Module\\Manager $moduleManager\n     * @param \\Magento\\Catalog\\Model\\Indexer\\Product\\Flat\\State $catalogProductFlatState\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Catalog\\Model\\Product\\OptionFactory $productOptionFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Url $catalogUrl\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param \\Magento\\Customer\\Api\\GroupManagementInterface $groupManagement\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product $product\n     * @param \\Magento\\Reports\\Model\\Event\\TypeFactory $eventTypeFactory\n     * @param \\Magento\\Catalog\\Model\\Product\\Type $productType\n     * @param \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Collection $quoteResource\n     * @param \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry\n     * @param \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface $stockConfiguration\n     * @param \\Magento\\CatalogInventory\\Model\\ResourceModel\\Stock\\Item $itemResource\n     * @param \\Magento\\Framework\\DB\\Adapter\\AdapterInterface|null $connection\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",48],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","__construct",80],"(",["T_WHITESPACE","\n        ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Data",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Collection",81],["T_NS_SEPARATOR","\\",81],["T_STRING","EntityFactory",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$entityFactory",81],",",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Psr",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Log",82],["T_NS_SEPARATOR","\\",82],["T_STRING","LoggerInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$logger",82],",",["T_WHITESPACE","\n        ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Framework",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Data",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Collection",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Db",83],["T_NS_SEPARATOR","\\",83],["T_STRING","FetchStrategyInterface",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$fetchStrategy",83],",",["T_WHITESPACE","\n        ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Framework",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Event",84],["T_NS_SEPARATOR","\\",84],["T_STRING","ManagerInterface",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$eventManager",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Eav",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Model",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Config",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$eavConfig",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","App",86],["T_NS_SEPARATOR","\\",86],["T_STRING","ResourceConnection",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$resource",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Eav",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Model",87],["T_NS_SEPARATOR","\\",87],["T_STRING","EntityFactory",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$eavEntityFactory",87],",",["T_WHITESPACE","\n        ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Catalog",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","ResourceModel",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Helper",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$resourceHelper",88],",",["T_WHITESPACE","\n        ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Framework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Validator",89],["T_NS_SEPARATOR","\\",89],["T_STRING","UniversalFactory",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$universalFactory",89],",",["T_WHITESPACE","\n        ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Store",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Model",90],["T_NS_SEPARATOR","\\",90],["T_STRING","StoreManagerInterface",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$storeManager",90],",",["T_WHITESPACE","\n        ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Module",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Manager",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$moduleManager",91],",",["T_WHITESPACE","\n        ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Catalog",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Model",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Indexer",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Product",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Flat",92],["T_NS_SEPARATOR","\\",92],["T_STRING","State",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$catalogProductFlatState",92],",",["T_WHITESPACE","\n        ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Framework",93],["T_NS_SEPARATOR","\\",93],["T_STRING","App",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Config",93],["T_NS_SEPARATOR","\\",93],["T_STRING","ScopeConfigInterface",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$scopeConfig",93],",",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Catalog",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Product",94],["T_NS_SEPARATOR","\\",94],["T_STRING","OptionFactory",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$productOptionFactory",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Catalog",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Model",95],["T_NS_SEPARATOR","\\",95],["T_STRING","ResourceModel",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Url",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$catalogUrl",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Framework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Stdlib",96],["T_NS_SEPARATOR","\\",96],["T_STRING","DateTime",96],["T_NS_SEPARATOR","\\",96],["T_STRING","TimezoneInterface",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$localeDate",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Customer",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Session",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$customerSession",97],",",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Framework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Stdlib",98],["T_NS_SEPARATOR","\\",98],["T_STRING","DateTime",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$dateTime",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Customer",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Api",99],["T_NS_SEPARATOR","\\",99],["T_STRING","GroupManagementInterface",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$groupManagement",99],",",["T_WHITESPACE","\n        ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Catalog",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Model",100],["T_NS_SEPARATOR","\\",100],["T_STRING","ResourceModel",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Product",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$product",100],",",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Reports",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Event",101],["T_NS_SEPARATOR","\\",101],["T_STRING","TypeFactory",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$eventTypeFactory",101],",",["T_WHITESPACE","\n        ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Catalog",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Model",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Product",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Type",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$productType",102],",",["T_WHITESPACE","\n        ",102],["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Quote",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Model",103],["T_NS_SEPARATOR","\\",103],["T_STRING","ResourceModel",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Quote",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Collection",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$quoteResource",103],",",["T_WHITESPACE","\n        ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","CatalogInventory",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Api",104],["T_NS_SEPARATOR","\\",104],["T_STRING","StockRegistryInterface",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$stockRegistry",104],",",["T_WHITESPACE","\n        ",104],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","CatalogInventory",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Api",105],["T_NS_SEPARATOR","\\",105],["T_STRING","StockConfigurationInterface",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$stockConfiguration",105],",",["T_WHITESPACE","\n        ",105],["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","CatalogInventory",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Model",106],["T_NS_SEPARATOR","\\",106],["T_STRING","ResourceModel",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Stock",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Item",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$itemResource",106],",",["T_WHITESPACE","\n        ",106],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","DB",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Adapter",107],["T_NS_SEPARATOR","\\",107],["T_STRING","AdapterInterface",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$connection",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","null",107],["T_WHITESPACE","\n    ",107],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n        ",108],["T_STRING","parent",109],["T_DOUBLE_COLON","::",109],["T_STRING","__construct",109],"(",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$entityFactory",110],",",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$logger",111],",",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$fetchStrategy",112],",",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$eventManager",113],",",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$eavConfig",114],",",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$resource",115],",",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$eavEntityFactory",116],",",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$resourceHelper",117],",",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$universalFactory",118],",",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$storeManager",119],",",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$moduleManager",120],",",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$catalogProductFlatState",121],",",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$scopeConfig",122],",",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$productOptionFactory",123],",",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$catalogUrl",124],",",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$localeDate",125],",",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$customerSession",126],",",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$dateTime",127],",",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$groupManagement",128],",",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$product",129],",",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$eventTypeFactory",130],",",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$productType",131],",",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$quoteResource",132],",",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$connection",133],["T_WHITESPACE","\n        ",133],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","stockRegistry",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$stockRegistry",135],";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","stockConfiguration",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$stockConfiguration",136],";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_itemResource",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$itemResource",137],";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Retrieve CatalogInventory Stock Item Table\n     *\n     * @return string\n     *\/",140],["T_WHITESPACE","\n    ",144],["T_PROTECTED","protected",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","_getInventoryItemTable",145],"(",")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_itemResource",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getMainTable",147],"(",")",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Retrieve CatalogInventory Stock Item Table Id field name\n     *\n     * @return string\n     *\/",150],["T_WHITESPACE","\n    ",154],["T_PROTECTED","protected",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","_getInventoryItemIdField",155],"(",")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_itemResource",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getIdFieldName",157],"(",")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Retrieve alias for CatalogInventory Stock Item Table\n     *\n     * @return string\n     *\/",160],["T_WHITESPACE","\n    ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","_getInventoryItemTableAlias",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_inventoryItemTableAlias",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Add catalog inventory stock item field to select\n     *\n     * @param string $field\n     * @param string $alias\n     * @return $this\n     *\/",170],["T_WHITESPACE","\n    ",176],["T_PROTECTED","protected",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","_addInventoryItemFieldToSelect",177],"(",["T_VARIABLE","$field",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$alias",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","null",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_EMPTY","empty",179],"(",["T_VARIABLE","$alias",179],")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$alias",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$field",180],";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n\n        ",181],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_ISSET","isset",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_joinFields",183],"[",["T_VARIABLE","$alias",183],"]",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_joinFields",187],"[",["T_VARIABLE","$alias",187],"]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_getInventoryItemTableAlias",187],"(",")",",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'field'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$field",187],"]",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getSelect",189],"(",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","columns",189],"(","[",["T_VARIABLE","$alias",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$field",189],"]",",",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_getInventoryItemTableAlias",189],"(",")",")",";",["T_WHITESPACE","\n        ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Retrieve catalog inventory stock item field correlation name\n     *\n     * @param string $field\n     * @return string\n     *\/",193],["T_WHITESPACE","\n    ",198],["T_PROTECTED","protected",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","_getInventoryItemField",199],"(",["T_VARIABLE","$field",199],")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_STRING","sprintf",201],"(",["T_CONSTANT_ENCAPSED_STRING","'%s.%s'",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_getInventoryItemTableAlias",201],"(",")",",",["T_WHITESPACE"," ",201],["T_VARIABLE","$field",201],")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Join catalog inventory stock item table for further stock_item values filters\n     *\n     * @param array $fields\n     * @return $this\n     *\/",204],["T_WHITESPACE","\n    ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","joinInventoryItem",210],"(",["T_VARIABLE","$fields",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],"[","]",")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(","!",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_inventoryItemJoined",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getSelect",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","join",213],"(",["T_WHITESPACE","\n                ",213],"[",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_getInventoryItemTableAlias",214],"(",")",["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_getInventoryItemTable",214],"(",")","]",",",["T_WHITESPACE","\n                ",214],["T_STRING","sprintf",215],"(",["T_WHITESPACE","\n                    ",215],["T_CONSTANT_ENCAPSED_STRING","'e.%s = %s.product_id'",216],",",["T_WHITESPACE","\n                    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getEntity",217],"(",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","getEntityIdField",217],"(",")",",",["T_WHITESPACE","\n                    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_getInventoryItemTableAlias",218],"(",")",["T_WHITESPACE","\n                ",218],")",",",["T_WHITESPACE","\n                ",219],"[","]",["T_WHITESPACE","\n            ",220],")",";",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_inventoryItemJoined",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","true",222],";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n\n        ",223],["T_IF","if",225],["T_WHITESPACE"," ",225],"(","!",["T_STRING","is_array",225],"(",["T_VARIABLE","$fields",225],")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_EMPTY","empty",226],"(",["T_VARIABLE","$fields",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_VARIABLE","$fields",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"[","]",";",["T_WHITESPACE","\n            ",227],"}",["T_WHITESPACE"," ",228],["T_ELSE","else",228],["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                ",228],["T_VARIABLE","$fields",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],"[",["T_VARIABLE","$fields",229],"]",";",["T_WHITESPACE","\n            ",229],"}",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE","\n\n        ",231],["T_FOREACH","foreach",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$fields",233],["T_WHITESPACE"," ",233],["T_AS","as",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$alias",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$field",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_IF","if",234],["T_WHITESPACE"," ",234],"(","!",["T_STRING","is_string",234],"(",["T_VARIABLE","$alias",234],")",")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n                ",234],["T_VARIABLE","$alias",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","null",235],";",["T_WHITESPACE","\n            ",235],"}",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_addInventoryItemFieldToSelect",237],"(",["T_VARIABLE","$field",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$alias",237],")",";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n\n        ",238],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Add filter by product type(s)\n     *\n     * @param array|string $typeFilter\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return $this\n     *\/",243],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","filterByProductType",250],"(",["T_VARIABLE","$typeFilter",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(","!",["T_STRING","is_string",252],"(",["T_VARIABLE","$typeFilter",252],")",["T_WHITESPACE"," ",252],["T_BOOLEAN_AND","&&",252],["T_WHITESPACE"," ",252],"!",["T_STRING","is_array",252],"(",["T_VARIABLE","$typeFilter",252],")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_THROW","throw",253],["T_WHITESPACE"," ",253],["T_NEW","new",253],["T_WHITESPACE"," ",253],["T_NS_SEPARATOR","\\",253],["T_STRING","Magento",253],["T_NS_SEPARATOR","\\",253],["T_STRING","Framework",253],["T_NS_SEPARATOR","\\",253],["T_STRING","Exception",253],["T_NS_SEPARATOR","\\",253],["T_STRING","LocalizedException",253],"(",["T_STRING","__",253],"(",["T_CONSTANT_ENCAPSED_STRING","'The product type filter specified is incorrect.'",253],")",")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","addAttributeToFilter",255],"(",["T_CONSTANT_ENCAPSED_STRING","'type_id'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$typeFilter",255],")",";",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Add filter by product types from config - only types which have QTY parameter\n     *\n     * @return $this\n     *\/",259],["T_WHITESPACE","\n    ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","filterByIsQtyProductTypes",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","filterByProductType",266],"(",["T_STRING","array_keys",266],"(",["T_STRING","array_filter",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","stockConfiguration",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getIsQtyTypeIds",266],"(",")",")",")",")",";",["T_WHITESPACE","\n        ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Add Use Manage Stock Condition to collection\n     *\n     * @param null|int $storeId\n     * @return $this\n     *\/",270],["T_WHITESPACE","\n    ",275],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","useManageStockFilter",276],"(",["T_VARIABLE","$storeId",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","null",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","joinInventoryItem",278],"(",")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$manageStockExpr",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getConnection",279],"(",")",["T_OBJECT_OPERATOR","->",279],["T_STRING","getCheckSql",279],"(",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_getInventoryItemField",280],"(",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",280],")",["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","' = 1'",280],",",["T_WHITESPACE","\n            ",280],["T_INT_CAST","(int)",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","stockConfiguration",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getManageStock",281],"(",["T_VARIABLE","$storeId",281],")",",",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_getInventoryItemField",282],"(",["T_CONSTANT_ENCAPSED_STRING","'manage_stock'",282],")",["T_WHITESPACE","\n        ",282],")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getSelect",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","where",284],"(",["T_VARIABLE","$manageStockExpr",284],["T_WHITESPACE"," ",284],".",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","' = ?'",284],",",["T_WHITESPACE"," ",284],["T_LNUMBER","1",284],")",";",["T_WHITESPACE","\n        ",284],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Add Notify Stock Qty Condition to collection\n     *\n     * @param null|int $storeId\n     * @return $this\n     *\/",288],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","useNotifyStockQtyFilter",294],"(",["T_VARIABLE","$storeId",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","null",294],")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","joinInventoryItem",296],"(","[",["T_CONSTANT_ENCAPSED_STRING","'qty'",296],"]",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$notifyStockExpr",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getConnection",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","getCheckSql",297],"(",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_getInventoryItemField",298],"(",["T_CONSTANT_ENCAPSED_STRING","'use_config_notify_stock_qty'",298],")",["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","' = 1'",298],",",["T_WHITESPACE","\n            ",298],["T_INT_CAST","(int)",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","stockConfiguration",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getNotifyStockQty",299],"(",["T_VARIABLE","$storeId",299],")",",",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_getInventoryItemField",300],"(",["T_CONSTANT_ENCAPSED_STRING","'notify_stock_qty'",300],")",["T_WHITESPACE","\n        ",300],")",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getSelect",302],"(",")",["T_OBJECT_OPERATOR","->",302],["T_STRING","where",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_getInventoryItemField",302],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",302],")",["T_WHITESPACE"," ",302],".",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","' < ?'",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$notifyStockExpr",302],")",";",["T_WHITESPACE","\n        ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n",304],"}",["T_WHITESPACE","\n",305]]