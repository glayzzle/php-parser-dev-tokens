[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Products Report collection\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Reports",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResourceModel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Collection",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Catalog",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ResourceModel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Product",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Collection",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","SELECT_COUNT_SQL_TYPE_CART",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_LNUMBER","1",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Product entity identifier\n     *\n     * @var int\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_productEntityId",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Product entity table name\n     *\n     * @var string\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_productEntityTableName",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Product entity attribute set identifier\n     *\n     * @var int\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_productEntityAttributeSetId",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Select count\n     *\n     * @var int\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_selectCountSqlType",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_LNUMBER","0",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Reports\\Model\\Event\\TypeFactory\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_eventTypeFactory",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Type\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_productType",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Collection\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$quoteResource",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Collection constructor.\n     * @param \\Magento\\Framework\\Data\\Collection\\EntityFactory $entityFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Data\\Collection\\Db\\FetchStrategyInterface $fetchStrategy\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param \\Magento\\Eav\\Model\\EntityFactory $eavEntityFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Helper $resourceHelper\n     * @param \\Magento\\Framework\\Validator\\UniversalFactory $universalFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Module\\Manager $moduleManager\n     * @param \\Magento\\Catalog\\Model\\Indexer\\Product\\Flat\\State $catalogProductFlatState\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Catalog\\Model\\Product\\OptionFactory $productOptionFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Url $catalogUrl\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param \\Magento\\Customer\\Api\\GroupManagementInterface $groupManagement\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product $product\n     * @param \\Magento\\Reports\\Model\\Event\\TypeFactory $eventTypeFactory\n     * @param \\Magento\\Catalog\\Model\\Product\\Type $productType\n     * @param \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Collection $quoteResource\n     * @param mixed $connection\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",64],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","__construct",93],"(",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Data",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Collection",94],["T_NS_SEPARATOR","\\",94],["T_STRING","EntityFactory",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$entityFactory",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Psr",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Log",95],["T_NS_SEPARATOR","\\",95],["T_STRING","LoggerInterface",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$logger",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Framework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Data",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Collection",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Db",96],["T_NS_SEPARATOR","\\",96],["T_STRING","FetchStrategyInterface",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$fetchStrategy",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Event",97],["T_NS_SEPARATOR","\\",97],["T_STRING","ManagerInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$eventManager",97],",",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Eav",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Config",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$eavConfig",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Framework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","App",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ResourceConnection",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$resource",99],",",["T_WHITESPACE","\n        ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Eav",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Model",100],["T_NS_SEPARATOR","\\",100],["T_STRING","EntityFactory",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$eavEntityFactory",100],",",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Catalog",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","ResourceModel",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Helper",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$resourceHelper",101],",",["T_WHITESPACE","\n        ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Validator",102],["T_NS_SEPARATOR","\\",102],["T_STRING","UniversalFactory",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$universalFactory",102],",",["T_WHITESPACE","\n        ",102],["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Store",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Model",103],["T_NS_SEPARATOR","\\",103],["T_STRING","StoreManagerInterface",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$storeManager",103],",",["T_WHITESPACE","\n        ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Framework",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Module",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Manager",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$moduleManager",104],",",["T_WHITESPACE","\n        ",104],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Catalog",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Model",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Indexer",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Product",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Flat",105],["T_NS_SEPARATOR","\\",105],["T_STRING","State",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$catalogProductFlatState",105],",",["T_WHITESPACE","\n        ",105],["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Framework",106],["T_NS_SEPARATOR","\\",106],["T_STRING","App",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Config",106],["T_NS_SEPARATOR","\\",106],["T_STRING","ScopeConfigInterface",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$scopeConfig",106],",",["T_WHITESPACE","\n        ",106],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Catalog",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Model",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Product",107],["T_NS_SEPARATOR","\\",107],["T_STRING","OptionFactory",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$productOptionFactory",107],",",["T_WHITESPACE","\n        ",107],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Catalog",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Model",108],["T_NS_SEPARATOR","\\",108],["T_STRING","ResourceModel",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Url",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$catalogUrl",108],",",["T_WHITESPACE","\n        ",108],["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Framework",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Stdlib",109],["T_NS_SEPARATOR","\\",109],["T_STRING","DateTime",109],["T_NS_SEPARATOR","\\",109],["T_STRING","TimezoneInterface",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$localeDate",109],",",["T_WHITESPACE","\n        ",109],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Customer",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Session",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$customerSession",110],",",["T_WHITESPACE","\n        ",110],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Framework",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Stdlib",111],["T_NS_SEPARATOR","\\",111],["T_STRING","DateTime",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$dateTime",111],",",["T_WHITESPACE","\n        ",111],["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Customer",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Api",112],["T_NS_SEPARATOR","\\",112],["T_STRING","GroupManagementInterface",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$groupManagement",112],",",["T_WHITESPACE","\n        ",112],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Catalog",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","ResourceModel",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Product",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$product",113],",",["T_WHITESPACE","\n        ",113],["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Reports",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Model",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Event",114],["T_NS_SEPARATOR","\\",114],["T_STRING","TypeFactory",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$eventTypeFactory",114],",",["T_WHITESPACE","\n        ",114],["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Catalog",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Model",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Product",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Type",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$productType",115],",",["T_WHITESPACE","\n        ",115],["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Quote",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Model",116],["T_NS_SEPARATOR","\\",116],["T_STRING","ResourceModel",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Quote",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Collection",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$quoteResource",116],",",["T_WHITESPACE","\n        ",116],["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Framework",117],["T_NS_SEPARATOR","\\",117],["T_STRING","DB",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Adapter",117],["T_NS_SEPARATOR","\\",117],["T_STRING","AdapterInterface",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$connection",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","null",117],["T_WHITESPACE","\n    ",117],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setProductEntityId",119],"(",["T_VARIABLE","$product",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getEntityIdField",119],"(",")",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setProductEntityTableName",120],"(",["T_VARIABLE","$product",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getEntityTable",120],"(",")",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setProductAttributeSetId",121],"(",["T_VARIABLE","$product",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getEntityType",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","getDefaultAttributeSetId",121],"(",")",")",";",["T_WHITESPACE","\n        ",121],["T_STRING","parent",122],["T_DOUBLE_COLON","::",122],["T_STRING","__construct",122],"(",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$entityFactory",123],",",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$logger",124],",",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$fetchStrategy",125],",",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$eventManager",126],",",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$eavConfig",127],",",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$resource",128],",",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$eavEntityFactory",129],",",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$resourceHelper",130],",",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$universalFactory",131],",",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$storeManager",132],",",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$moduleManager",133],",",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$catalogProductFlatState",134],",",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$scopeConfig",135],",",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$productOptionFactory",136],",",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$catalogUrl",137],",",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$localeDate",138],",",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$customerSession",139],",",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$dateTime",140],",",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$groupManagement",141],",",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$connection",142],["T_WHITESPACE","\n        ",142],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_eventTypeFactory",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$eventTypeFactory",144],";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_productType",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$productType",145],";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","quoteResource",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$quoteResource",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Set Type for COUNT SQL Select\n     * @codeCoverageIgnore\n     *\n     * @param int $type\n     * @return $this\n     *\/",149],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","setSelectCountSqlType",156],"(",["T_VARIABLE","$type",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_selectCountSqlType",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$type",158],";",["T_WHITESPACE","\n        ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Set product entity id\n     * @codeCoverageIgnore\n     *\n     * @param string $entityId\n     * @return $this\n     *\/",162],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","setProductEntityId",169],"(",["T_VARIABLE","$entityId",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_productEntityId",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_INT_CAST","(int)",171],["T_VARIABLE","$entityId",171],";",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Get product entity id\n     * @codeCoverageIgnore\n     *\n     * @return int\n     *\/",175],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getProductEntityId",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_productEntityId",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Set product entity table name\n     * @codeCoverageIgnore\n     *\n     * @param string $value\n     * @return $this\n     *\/",186],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","setProductEntityTableName",193],"(",["T_VARIABLE","$value",193],")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_productEntityTableName",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$value",195],";",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Get product entity table name\n     * @codeCoverageIgnore\n     *\n     * @return string\n     *\/",199],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","getProductEntityTableName",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_productEntityTableName",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Get product attribute set  id\n     * @codeCoverageIgnore\n     *\n     * @return int\n     *\/",210],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","getProductAttributeSetId",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_productEntityAttributeSetId",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Set product attribute set id\n     * @codeCoverageIgnore\n     *\n     * @param int $value\n     * @return $this\n     *\/",221],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","setProductAttributeSetId",228],"(",["T_VARIABLE","$value",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_productEntityAttributeSetId",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$value",230],";",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Join fields\n     *\n     * @return $this\n     *\/",234],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","_joinFields",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_totals",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Magento",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Framework",241],["T_NS_SEPARATOR","\\",241],["T_STRING","DataObject",241],"(",")",";",["T_WHITESPACE","\n\n        ",241],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","addAttributeToSelect",243],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",243],")",["T_OBJECT_OPERATOR","->",243],["T_STRING","addAttributeToSelect",243],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",243],")",["T_OBJECT_OPERATOR","->",243],["T_STRING","addAttributeToSelect",243],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",243],")",";",["T_WHITESPACE","\n\n        ",243],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Get select count sql\n     *\n     * @return \\Magento\\Framework\\DB\\Select\n     *\/",248],["T_WHITESPACE","\n    ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","getSelectCountSql",253],"(",")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_selectCountSqlType",255],["T_WHITESPACE"," ",255],["T_IS_EQUAL","==",255],["T_WHITESPACE"," ",255],["T_STRING","self",255],["T_DOUBLE_COLON","::",255],["T_STRING","SELECT_COUNT_SQL_TYPE_CART",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$countSelect",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_CLONE","clone",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","quoteResource",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getSelect",256],"(",")",";",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$countSelect",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","reset",257],"(",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","from",257],"(",["T_WHITESPACE","\n                ",257],"[",["T_CONSTANT_ENCAPSED_STRING","'quote_item_table'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getTable",258],"(",["T_CONSTANT_ENCAPSED_STRING","'quote_item'",258],")","]",",",["T_WHITESPACE","\n                ",258],"[",["T_CONSTANT_ENCAPSED_STRING","'COUNT(DISTINCT quote_item_table.product_id)'",259],"]",["T_WHITESPACE","\n            ",259],")",["T_OBJECT_OPERATOR","->",260],["T_STRING","join",260],"(",["T_WHITESPACE","\n                ",260],"[",["T_CONSTANT_ENCAPSED_STRING","'quote_table'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getTable",261],"(",["T_CONSTANT_ENCAPSED_STRING","'quote'",261],")","]",",",["T_WHITESPACE","\n                ",261],["T_CONSTANT_ENCAPSED_STRING","'quote_table.entity_id = quote_item_table.quote_id AND quote_table.is_active = 1'",262],",",["T_WHITESPACE","\n                ",262],"[","]",["T_WHITESPACE","\n            ",263],")",";",["T_WHITESPACE","\n            ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$countSelect",265],";",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE","\n\n        ",266],["T_VARIABLE","$countSelect",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_CLONE","clone",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getSelect",268],"(",")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$countSelect",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","reset",269],"(",["T_NS_SEPARATOR","\\",269],["T_STRING","Magento",269],["T_NS_SEPARATOR","\\",269],["T_STRING","Framework",269],["T_NS_SEPARATOR","\\",269],["T_STRING","DB",269],["T_NS_SEPARATOR","\\",269],["T_STRING","Select",269],["T_DOUBLE_COLON","::",269],["T_STRING","ORDER",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$countSelect",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","reset",270],"(",["T_NS_SEPARATOR","\\",270],["T_STRING","Magento",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Framework",270],["T_NS_SEPARATOR","\\",270],["T_STRING","DB",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Select",270],["T_DOUBLE_COLON","::",270],["T_STRING","LIMIT_COUNT",270],")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$countSelect",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","reset",271],"(",["T_NS_SEPARATOR","\\",271],["T_STRING","Magento",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Framework",271],["T_NS_SEPARATOR","\\",271],["T_STRING","DB",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Select",271],["T_DOUBLE_COLON","::",271],["T_STRING","LIMIT_OFFSET",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$countSelect",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","reset",272],"(",["T_NS_SEPARATOR","\\",272],["T_STRING","Magento",272],["T_NS_SEPARATOR","\\",272],["T_STRING","Framework",272],["T_NS_SEPARATOR","\\",272],["T_STRING","DB",272],["T_NS_SEPARATOR","\\",272],["T_STRING","Select",272],["T_DOUBLE_COLON","::",272],["T_STRING","COLUMNS",272],")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$countSelect",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","reset",273],"(",["T_NS_SEPARATOR","\\",273],["T_STRING","Magento",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Framework",273],["T_NS_SEPARATOR","\\",273],["T_STRING","DB",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Select",273],["T_DOUBLE_COLON","::",273],["T_STRING","GROUP",273],")",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$countSelect",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","reset",274],"(",["T_NS_SEPARATOR","\\",274],["T_STRING","Magento",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Framework",274],["T_NS_SEPARATOR","\\",274],["T_STRING","DB",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Select",274],["T_DOUBLE_COLON","::",274],["T_STRING","HAVING",274],")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$countSelect",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","columns",275],"(",["T_CONSTANT_ENCAPSED_STRING","\"count(DISTINCT e.entity_id)\"",275],")",";",["T_WHITESPACE","\n\n        ",275],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$countSelect",277],";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Set order\n     *\n     * @param string $attribute\n     * @param string $dir\n     * @return $this\n     *\/",280],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","setOrder",287],"(",["T_VARIABLE","$attribute",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$dir",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","self",287],["T_DOUBLE_COLON","::",287],["T_STRING","SORT_ORDER_DESC",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_STRING","in_array",289],"(",["T_VARIABLE","$attribute",289],",",["T_WHITESPACE"," ",289],"[",["T_CONSTANT_ENCAPSED_STRING","'carts'",289],"]",")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getSelect",290],"(",")",["T_OBJECT_OPERATOR","->",290],["T_STRING","order",290],"(",["T_VARIABLE","$attribute",290],["T_WHITESPACE"," ",290],".",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","' '",290],["T_WHITESPACE"," ",290],".",["T_WHITESPACE"," ",290],["T_VARIABLE","$dir",290],")",";",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE"," ",291],["T_ELSE","else",291],["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n            ",291],["T_STRING","parent",292],["T_DOUBLE_COLON","::",292],["T_STRING","setOrder",292],"(",["T_VARIABLE","$attribute",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$dir",292],")",";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n\n        ",293],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_DOC_COMMENT","\/**\n     * Add views count\n     *\n     * @param string $from\n     * @param string $to\n     * @return $this\n     *\/",298],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","addViewsCount",305],"(",["T_VARIABLE","$from",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","''",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$to",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","''",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_DOC_COMMENT","\/**\n         * Getting event type id for catalog_product_view event\n         *\/",307],["T_WHITESPACE","\n        ",309],["T_VARIABLE","$eventTypes",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_eventTypeFactory",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","create",310],"(",")",["T_OBJECT_OPERATOR","->",310],["T_STRING","getCollection",310],"(",")",";",["T_WHITESPACE","\n        ",310],["T_FOREACH","foreach",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$eventTypes",311],["T_WHITESPACE"," ",311],["T_AS","as",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$eventType",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n            ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$eventType",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getEventName",312],"(",")",["T_WHITESPACE"," ",312],["T_IS_EQUAL","==",312],["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'catalog_product_view'",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                ",312],["T_VARIABLE","$productViewEvent",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_INT_CAST","(int)",313],["T_VARIABLE","$eventType",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getId",313],"(",")",";",["T_WHITESPACE","\n                ",313],["T_BREAK","break",314],";",["T_WHITESPACE","\n            ",314],"}",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n\n        ",316],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getSelect",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","reset",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","from",318],"(",["T_WHITESPACE","\n            ",318],"[",["T_CONSTANT_ENCAPSED_STRING","'report_table_views'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getTable",319],"(",["T_CONSTANT_ENCAPSED_STRING","'report_event'",319],")","]",",",["T_WHITESPACE","\n            ",319],"[",["T_CONSTANT_ENCAPSED_STRING","'views'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'COUNT(report_table_views.event_id)'",320],"]",["T_WHITESPACE","\n        ",320],")",["T_OBJECT_OPERATOR","->",321],["T_STRING","join",321],"(",["T_WHITESPACE","\n            ",321],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getProductEntityTableName",322],"(",")","]",",",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getConnection",323],"(",")",["T_OBJECT_OPERATOR","->",323],["T_STRING","quoteInto",323],"(",["T_WHITESPACE","\n                ",323],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id = report_table_views.object_id AND e.attribute_set_id = ?'",324],",",["T_WHITESPACE","\n                ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getProductAttributeSetId",325],"(",")",["T_WHITESPACE","\n            ",325],")",["T_WHITESPACE","\n        ",326],")",["T_OBJECT_OPERATOR","->",327],["T_STRING","where",327],"(",["T_WHITESPACE","\n            ",327],["T_CONSTANT_ENCAPSED_STRING","'report_table_views.event_type_id = ?'",328],",",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$productViewEvent",329],["T_WHITESPACE","\n        ",329],")",["T_OBJECT_OPERATOR","->",330],["T_STRING","group",330],"(",["T_WHITESPACE","\n            ",330],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id'",331],["T_WHITESPACE","\n        ",331],")",["T_OBJECT_OPERATOR","->",332],["T_STRING","order",332],"(",["T_WHITESPACE","\n            ",332],["T_CONSTANT_ENCAPSED_STRING","'views '",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_STRING","self",333],["T_DOUBLE_COLON","::",333],["T_STRING","SORT_ORDER_DESC",333],["T_WHITESPACE","\n        ",333],")",["T_OBJECT_OPERATOR","->",334],["T_STRING","having",334],"(",["T_WHITESPACE","\n            ",334],["T_CONSTANT_ENCAPSED_STRING","'COUNT(report_table_views.event_id) > ?'",335],",",["T_WHITESPACE","\n            ",335],["T_LNUMBER","0",336],["T_WHITESPACE","\n        ",336],")",";",["T_WHITESPACE","\n\n        ",337],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$from",339],["T_WHITESPACE"," ",339],["T_IS_NOT_EQUAL","!=",339],["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","''",339],["T_WHITESPACE"," ",339],["T_BOOLEAN_AND","&&",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$to",339],["T_WHITESPACE"," ",339],["T_IS_NOT_EQUAL","!=",339],["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","''",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getSelect",340],"(",")",["T_OBJECT_OPERATOR","->",340],["T_STRING","where",340],"(",["T_CONSTANT_ENCAPSED_STRING","'logged_at >= ?'",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$from",340],")",["T_OBJECT_OPERATOR","->",340],["T_STRING","where",340],"(",["T_CONSTANT_ENCAPSED_STRING","'logged_at <= ?'",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$to",340],")",";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n        ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Prepare between sql\n     *\n     * @param string $fieldName Field name with table suffix ('created_at' or 'main_table.created_at')\n     * @param string $from\n     * @param string $to\n     * @return string Formatted sql string\n     *\/",345],["T_WHITESPACE","\n    ",352],["T_PROTECTED","protected",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","_prepareBetweenSql",353],"(",["T_VARIABLE","$fieldName",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$from",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$to",353],")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_STRING","sprintf",355],"(",["T_WHITESPACE","\n            ",355],["T_CONSTANT_ENCAPSED_STRING","'(%s BETWEEN %s AND %s)'",356],",",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$fieldName",357],",",["T_WHITESPACE","\n            ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getConnection",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","quote",358],"(",["T_VARIABLE","$from",358],")",",",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getConnection",359],"(",")",["T_OBJECT_OPERATOR","->",359],["T_STRING","quote",359],"(",["T_VARIABLE","$to",359],")",["T_WHITESPACE","\n        ",359],")",";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Add store restrictions to product collection\n     *\n     * @param array $storeIds\n     * @param array $websiteIds\n     * @return $this\n     *\/",363],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","addStoreRestrictions",370],"(",["T_VARIABLE","$storeIds",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$websiteIds",370],")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_IF","if",372],["T_WHITESPACE"," ",372],"(","!",["T_STRING","is_array",372],"(",["T_VARIABLE","$storeIds",372],")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$storeIds",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],"[",["T_VARIABLE","$storeIds",373],"]",";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n        ",374],["T_IF","if",375],["T_WHITESPACE"," ",375],"(","!",["T_STRING","is_array",375],"(",["T_VARIABLE","$websiteIds",375],")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$websiteIds",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],"[",["T_VARIABLE","$websiteIds",376],"]",";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n\n        ",377],["T_VARIABLE","$filters",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_productLimitationFilters",379],";",["T_WHITESPACE","\n        ",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_ISSET","isset",380],"(",["T_VARIABLE","$filters",380],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",380],"]",")",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n            ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","!",["T_STRING","in_array",381],"(",["T_VARIABLE","$filters",381],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",381],"]",",",["T_WHITESPACE"," ",381],["T_VARIABLE","$storeIds",381],")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","addStoreFilter",382],"(",["T_VARIABLE","$filters",382],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",382],"]",")",";",["T_WHITESPACE","\n            ",382],"}",["T_WHITESPACE"," ",383],["T_ELSE","else",383],["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","addStoreFilter",384],"(",["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getStoreId",384],"(",")",")",";",["T_WHITESPACE","\n            ",384],"}",["T_WHITESPACE","\n        ",385],"}",["T_WHITESPACE"," ",386],["T_ELSE","else",386],["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n            ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","addWebsiteFilter",387],"(",["T_VARIABLE","$websiteIds",387],")",";",["T_WHITESPACE","\n        ",387],"}",["T_WHITESPACE","\n\n        ",388],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n",391],"}",["T_WHITESPACE","\n",392]]