[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Webapi",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Integration",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Integration",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","ManagerTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PHPUnit_Framework_TestCase",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * Integration service mock\n     *\n     * @var \\Magento\\Integration\\Api\\IntegrationServiceInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",12],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$integrationServiceMock",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * Authorization service mock\n     *\n     * @var \\Magento\\Integration\\Api\\AuthorizationServiceInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$integrationAuthorizationServiceMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * API setup plugin\n     *\n     * @var \\Magento\\Webapi\\Model\\Plugin\\Manager\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$apiSetupPlugin",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Model\\ConfigBasedIntegrationManager|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$subjectMock",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Model\\IntegrationConfig|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$integrationConfigMock",41],";",["T_WHITESPACE","\n\n    ",41],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","setUp",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","integrationServiceMock",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMockBuilder",45],"(",["T_WHITESPACE","\n            ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Integration",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Api",46],["T_NS_SEPARATOR","\\",46],["T_STRING","IntegrationServiceInterface",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],["T_WHITESPACE","\n        ",46],")",["T_OBJECT_OPERATOR","->",47],["T_STRING","disableOriginalConstructor",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","setMethods",47],"(",["T_WHITESPACE","\n            ",47],"[",["T_WHITESPACE","\n                ",48],["T_CONSTANT_ENCAPSED_STRING","'findByName'",49],",",["T_WHITESPACE","\n                ",49],["T_CONSTANT_ENCAPSED_STRING","'update'",50],",",["T_WHITESPACE","\n                ",50],["T_CONSTANT_ENCAPSED_STRING","'create'",51],",",["T_WHITESPACE","\n                ",51],["T_CONSTANT_ENCAPSED_STRING","'get'",52],",",["T_WHITESPACE","\n                ",52],["T_CONSTANT_ENCAPSED_STRING","'findByConsumerId'",53],",",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'findActiveIntegrationByConsumerId'",54],",",["T_WHITESPACE","\n                ",54],["T_CONSTANT_ENCAPSED_STRING","'delete'",55],",",["T_WHITESPACE","\n                ",55],["T_CONSTANT_ENCAPSED_STRING","'getSelectedResources'",56],["T_WHITESPACE","\n            ",56],"]",["T_WHITESPACE","\n        ",57],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getMock",58],"(",")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","integrationAuthorizationServiceMock",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMockBuilder",60],"(",["T_WHITESPACE","\n            ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Integration",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Api",61],["T_NS_SEPARATOR","\\",61],["T_STRING","AuthorizationServiceInterface",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],["T_WHITESPACE","\n        ",61],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","disableOriginalConstructor",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","setMethods",62],"(",["T_WHITESPACE","\n            ",62],"[",["T_WHITESPACE","\n                ",63],["T_CONSTANT_ENCAPSED_STRING","'grantPermissions'",64],",",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'grantAllPermissions'",65],",",["T_WHITESPACE","\n                ",65],["T_CONSTANT_ENCAPSED_STRING","'removePermissions'",66],["T_WHITESPACE","\n            ",66],"]",["T_WHITESPACE","\n        ",67],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getMock",68],"(",")",";",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","subjectMock",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMock",70],"(",["T_WHITESPACE","\n            ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Integration",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Model",71],["T_NS_SEPARATOR","\\",71],["T_STRING","ConfigBasedIntegrationManager",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],",",["T_WHITESPACE","\n            ",71],"[","]",",",["T_WHITESPACE","\n            ",72],"[","]",",",["T_WHITESPACE","\n            ",73],["T_CONSTANT_ENCAPSED_STRING","''",74],",",["T_WHITESPACE","\n            ",74],["T_STRING","false",75],["T_WHITESPACE","\n        ",75],")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","integrationConfigMock",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMockBuilder",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Integration",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Model",78],["T_NS_SEPARATOR","\\",78],["T_STRING","IntegrationConfig",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],")",["T_WHITESPACE","\n            ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","disableOriginalConstructor",79],"(",")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","setMethods",80],"(","[","]",")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","getMock",81],"(",")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","apiSetupPlugin",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Webapi",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Model",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Plugin",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Manager",83],"(",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","integrationAuthorizationServiceMock",84],",",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","integrationServiceMock",85],",",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","integrationConfigMock",86],["T_WHITESPACE","\n        ",86],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","testAfterProcessIntegrationConfigNoIntegrations",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","integrationConfigMock",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","expects",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","never",92],"(",")",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","method",92],"(",["T_CONSTANT_ENCAPSED_STRING","'getIntegrations'",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","integrationServiceMock",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","expects",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","never",93],"(",")",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","method",93],"(",["T_CONSTANT_ENCAPSED_STRING","'findByName'",93],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","apiSetupPlugin",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","afterProcessIntegrationConfig",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","subjectMock",94],",",["T_WHITESPACE"," ",94],"[","]",")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * @return void\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",97],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","testAfterProcessIntegrationConfigSuccess",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$testIntegration1Resource",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[",["T_WHITESPACE","\n            ",103],["T_CONSTANT_ENCAPSED_STRING","'Magento_Customer::manage'",104],",",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","'Magento_Customer::online'",105],",",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'Magento_Sales::create'",106],",",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","'Magento_SalesRule::quote'",107],",",["T_WHITESPACE","\n        ",107],"]",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$testIntegration2Resource",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],"[",["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog::product_read'",109],"]",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","integrationConfigMock",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","expects",110],"(",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","once",111],"(",")",["T_WHITESPACE","\n        ",111],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","method",112],"(",["T_WHITESPACE","\n            ",112],["T_CONSTANT_ENCAPSED_STRING","'getIntegrations'",113],["T_WHITESPACE","\n        ",113],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","will",114],"(",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","returnValue",115],"(",["T_WHITESPACE","\n                ",115],"[",["T_WHITESPACE","\n                    ",116],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration1'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],"[",["T_CONSTANT_ENCAPSED_STRING","'resource'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$testIntegration1Resource",117],"]",",",["T_WHITESPACE","\n                    ",117],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration2'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],"[",["T_CONSTANT_ENCAPSED_STRING","'resource'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$testIntegration2Resource",118],"]",",",["T_WHITESPACE","\n                ",118],"]",["T_WHITESPACE","\n            ",119],")",["T_WHITESPACE","\n        ",120],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$firstInegrationId",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_LNUMBER","1",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$integrationsData1",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Framework",123],["T_NS_SEPARATOR","\\",123],["T_STRING","DataObject",123],"(",["T_WHITESPACE","\n            ",123],"[",["T_WHITESPACE","\n                ",124],["T_CONSTANT_ENCAPSED_STRING","'id'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$firstInegrationId",125],",",["T_WHITESPACE","\n                ",125],["T_STRING","Integration",126],["T_DOUBLE_COLON","::",126],["T_STRING","NAME",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration1'",126],",",["T_WHITESPACE","\n                ",126],["T_STRING","Integration",127],["T_DOUBLE_COLON","::",127],["T_STRING","EMAIL",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'test-integration1@magento.com'",127],",",["T_WHITESPACE","\n                ",127],["T_STRING","Integration",128],["T_DOUBLE_COLON","::",128],["T_STRING","ENDPOINT",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/endpoint.com'",128],",",["T_WHITESPACE","\n                ",128],["T_STRING","Integration",129],["T_DOUBLE_COLON","::",129],["T_STRING","SETUP_TYPE",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_LNUMBER","1",129],",",["T_WHITESPACE","\n            ",129],"]",["T_WHITESPACE","\n        ",130],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$secondIntegrationId",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_LNUMBER","2",132],";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$integrationsData2",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Framework",133],["T_NS_SEPARATOR","\\",133],["T_STRING","DataObject",133],"(",["T_WHITESPACE","\n            ",133],"[",["T_WHITESPACE","\n                ",134],["T_CONSTANT_ENCAPSED_STRING","'id'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$secondIntegrationId",135],",",["T_WHITESPACE","\n                ",135],["T_STRING","Integration",136],["T_DOUBLE_COLON","::",136],["T_STRING","NAME",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration2'",136],",",["T_WHITESPACE","\n                ",136],["T_STRING","Integration",137],["T_DOUBLE_COLON","::",137],["T_STRING","EMAIL",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'test-integration2@magento.com'",137],",",["T_WHITESPACE","\n                ",137],["T_STRING","Integration",138],["T_DOUBLE_COLON","::",138],["T_STRING","SETUP_TYPE",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_LNUMBER","1",138],",",["T_WHITESPACE","\n            ",138],"]",["T_WHITESPACE","\n        ",139],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","integrationServiceMock",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","expects",141],"(",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","at",142],"(",["T_LNUMBER","0",142],")",["T_WHITESPACE","\n        ",142],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_WHITESPACE","\n            ",143],["T_CONSTANT_ENCAPSED_STRING","'findByName'",144],["T_WHITESPACE","\n        ",144],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","with",145],"(",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration1'",146],["T_WHITESPACE","\n        ",146],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","will",147],"(",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","returnValue",148],"(",["T_VARIABLE","$integrationsData1",148],")",["T_WHITESPACE","\n        ",148],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","integrationServiceMock",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","expects",150],"(",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","at",151],"(",["T_LNUMBER","1",151],")",["T_WHITESPACE","\n        ",151],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","method",152],"(",["T_WHITESPACE","\n            ",152],["T_CONSTANT_ENCAPSED_STRING","'findByName'",153],["T_WHITESPACE","\n        ",153],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","with",154],"(",["T_WHITESPACE","\n            ",154],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration2'",155],["T_WHITESPACE","\n        ",155],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","will",156],"(",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","returnValue",157],"(",["T_VARIABLE","$integrationsData2",157],")",["T_WHITESPACE","\n        ",157],")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","apiSetupPlugin",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","afterProcessIntegrationConfig",159],"(",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","subjectMock",160],",",["T_WHITESPACE","\n            ",160],"[",["T_CONSTANT_ENCAPSED_STRING","'TestIntegration1'",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration2'",161],"]",["T_WHITESPACE","\n        ",161],")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","testAfterProcessConfigBasedIntegrationsNoIntegrations",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","integrationServiceMock",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","expects",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","never",167],"(",")",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","method",167],"(",["T_CONSTANT_ENCAPSED_STRING","'findByName'",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","apiSetupPlugin",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","afterProcessConfigBasedIntegrations",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","subjectMock",168],",",["T_WHITESPACE"," ",168],"[","]",")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * @return void\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",171],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","testAfterProcessConfigBasedIntegrationsSuccess",175],"(",")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$firstInegrationId",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_LNUMBER","1",177],";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$integrationsData1",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],"[",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'id'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$firstInegrationId",179],",",["T_WHITESPACE","\n            ",179],["T_STRING","Integration",180],["T_DOUBLE_COLON","::",180],["T_STRING","NAME",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration1'",180],",",["T_WHITESPACE","\n            ",180],["T_STRING","Integration",181],["T_DOUBLE_COLON","::",181],["T_STRING","EMAIL",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'test-integration1@magento.com'",181],",",["T_WHITESPACE","\n            ",181],["T_STRING","Integration",182],["T_DOUBLE_COLON","::",182],["T_STRING","ENDPOINT",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/endpoint.com'",182],",",["T_WHITESPACE","\n            ",182],["T_STRING","Integration",183],["T_DOUBLE_COLON","::",183],["T_STRING","SETUP_TYPE",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_LNUMBER","1",183],",",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","'resource'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],"[",["T_WHITESPACE","\n                ",184],["T_CONSTANT_ENCAPSED_STRING","'Magento_Customer::manage'",185],",",["T_WHITESPACE","\n                ",185],["T_CONSTANT_ENCAPSED_STRING","'Magento_Customer::online'",186],",",["T_WHITESPACE","\n                ",186],["T_CONSTANT_ENCAPSED_STRING","'Magento_Sales::create'",187],",",["T_WHITESPACE","\n                ",187],["T_CONSTANT_ENCAPSED_STRING","'Magento_SalesRule::quote'",188],",",["T_WHITESPACE","\n            ",188],"]",["T_WHITESPACE","\n        ",189],"]",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$integrationsData1Object",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_NEW","new",191],["T_WHITESPACE"," ",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Framework",191],["T_NS_SEPARATOR","\\",191],["T_STRING","DataObject",191],"(",["T_VARIABLE","$integrationsData1",191],")",";",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$secondIntegrationId",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_LNUMBER","2",193],";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$integrationsData2",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],"[",["T_WHITESPACE","\n            ",194],["T_CONSTANT_ENCAPSED_STRING","'id'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$secondIntegrationId",195],",",["T_WHITESPACE","\n            ",195],["T_STRING","Integration",196],["T_DOUBLE_COLON","::",196],["T_STRING","NAME",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration2'",196],",",["T_WHITESPACE","\n            ",196],["T_STRING","Integration",197],["T_DOUBLE_COLON","::",197],["T_STRING","EMAIL",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'test-integration2@magento.com'",197],",",["T_WHITESPACE","\n            ",197],["T_STRING","Integration",198],["T_DOUBLE_COLON","::",198],["T_STRING","SETUP_TYPE",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_LNUMBER","1",198],",",["T_WHITESPACE","\n            ",198],["T_CONSTANT_ENCAPSED_STRING","'resource'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],"[",["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog::product_read'",199],"]",["T_WHITESPACE","\n        ",199],"]",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$integrationsData2Object",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_NEW","new",201],["T_WHITESPACE"," ",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Magento",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Framework",201],["T_NS_SEPARATOR","\\",201],["T_STRING","DataObject",201],"(",["T_VARIABLE","$integrationsData2",201],")",";",["T_WHITESPACE","\n\n        ",201],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","integrationServiceMock",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","expects",203],"(",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","at",204],"(",["T_LNUMBER","0",204],")",["T_WHITESPACE","\n        ",204],")",["T_OBJECT_OPERATOR","->",205],["T_STRING","method",205],"(",["T_WHITESPACE","\n            ",205],["T_CONSTANT_ENCAPSED_STRING","'findByName'",206],["T_WHITESPACE","\n        ",206],")",["T_OBJECT_OPERATOR","->",207],["T_STRING","with",207],"(",["T_WHITESPACE","\n            ",207],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration1'",208],["T_WHITESPACE","\n        ",208],")",["T_OBJECT_OPERATOR","->",209],["T_STRING","will",209],"(",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","returnValue",210],"(",["T_VARIABLE","$integrationsData1Object",210],")",["T_WHITESPACE","\n        ",210],")",";",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","integrationServiceMock",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","expects",213],"(",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","at",214],"(",["T_LNUMBER","1",214],")",["T_WHITESPACE","\n        ",214],")",["T_OBJECT_OPERATOR","->",215],["T_STRING","method",215],"(",["T_WHITESPACE","\n            ",215],["T_CONSTANT_ENCAPSED_STRING","'findByName'",216],["T_WHITESPACE","\n        ",216],")",["T_OBJECT_OPERATOR","->",217],["T_STRING","with",217],"(",["T_WHITESPACE","\n            ",217],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration2'",218],["T_WHITESPACE","\n        ",218],")",["T_OBJECT_OPERATOR","->",219],["T_STRING","will",219],"(",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","returnValue",220],"(",["T_VARIABLE","$integrationsData2Object",220],")",["T_WHITESPACE","\n        ",220],")",";",["T_WHITESPACE","\n\n        ",221],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","apiSetupPlugin",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","afterProcessConfigBasedIntegrations",223],"(",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","subjectMock",224],",",["T_WHITESPACE","\n            ",224],"[",["T_CONSTANT_ENCAPSED_STRING","'TestIntegration1'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$integrationsData1",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'TestIntegration2'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$integrationsData2",225],"]",["T_WHITESPACE","\n        ",225],")",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n",227],"}",["T_WHITESPACE","\n",228]]