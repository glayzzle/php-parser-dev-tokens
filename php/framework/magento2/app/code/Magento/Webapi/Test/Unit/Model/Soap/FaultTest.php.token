[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Webapi",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Soap",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Webapi",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Soap",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Fault",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Test SOAP fault model.\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","FaultTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_CONST","const",15],["T_WHITESPACE"," ",15],["T_STRING","WSDL_URL",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/host.com\/?wsdl&services=customerV1'",15],";",["T_WHITESPACE","\n\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_requestMock",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/** @var \\Magento\\Webapi\\Model\\Soap\\Server *\/",22],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_soapServerMock",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/** @var \\Magento\\Webapi\\Model\\Soap\\Fault *\/",25],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_soapFault",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/** @var \\PHPUnit_Framework_MockObject_MockObject *\/",28],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_localeResolverMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_appStateMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","setUp",36],"(",")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","_requestMock",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getMock",38],"(",["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","App",38],["T_NS_SEPARATOR","\\",38],["T_STRING","RequestInterface",38],["T_DOUBLE_COLON","::",38],["T_CLASS","class",38],")",";",["T_WHITESPACE","\n        ",38],["T_DOC_COMMENT","\/** Initialize SUT. *\/",39],["T_WHITESPACE","\n        ",39],["T_VARIABLE","$details",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],"[",["T_CONSTANT_ENCAPSED_STRING","'param1'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'value1'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'param2'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_LNUMBER","2",40],"]",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$code",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_LNUMBER","111",41],";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$webapiException",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Framework",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Webapi",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Exception",42],"(",["T_WHITESPACE","\n            ",42],["T_STRING","__",43],"(",["T_CONSTANT_ENCAPSED_STRING","'Soap fault reason.'",43],")",",",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$code",44],",",["T_WHITESPACE","\n            ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Framework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Webapi",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Exception",45],["T_DOUBLE_COLON","::",45],["T_STRING","HTTP_INTERNAL_ERROR",45],",",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$details",46],["T_WHITESPACE","\n        ",46],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_soapServerMock",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMockBuilder",48],"(",["T_WHITESPACE","\n            ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Webapi",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Soap",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Server",49],["T_DOUBLE_COLON","::",49],["T_CLASS","class",49],["T_WHITESPACE","\n        ",49],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","disableOriginalConstructor",50],"(",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","getMock",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_soapServerMock",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","expects",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","any",51],"(",")",")",["T_OBJECT_OPERATOR","->",51],["T_STRING","method",51],"(",["T_CONSTANT_ENCAPSED_STRING","'generateUri'",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","will",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","returnValue",51],"(",["T_STRING","self",51],["T_DOUBLE_COLON","::",51],["T_STRING","WSDL_URL",51],")",")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_localeResolverMock",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMockBuilder",53],"(",["T_WHITESPACE","\n            ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Locale",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Resolver",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],["T_WHITESPACE","\n        ",54],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","disableOriginalConstructor",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getMock",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_localeResolverMock",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","expects",56],"(",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","any",57],"(",")",["T_WHITESPACE","\n        ",57],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","method",58],"(",["T_WHITESPACE","\n            ",58],["T_CONSTANT_ENCAPSED_STRING","'getLocale'",59],["T_WHITESPACE","\n        ",59],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","will",60],"(",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","returnValue",61],"(",["T_CONSTANT_ENCAPSED_STRING","'en_US'",61],")",["T_WHITESPACE","\n        ",61],")",";",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_appStateMock",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMock",64],"(",["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Framework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","App",64],["T_NS_SEPARATOR","\\",64],["T_STRING","State",64],["T_DOUBLE_COLON","::",64],["T_CLASS","class",64],",",["T_WHITESPACE"," ",64],"[","]",",",["T_WHITESPACE"," ",64],"[","]",",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","''",64],",",["T_WHITESPACE"," ",64],["T_STRING","false",64],")",";",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_soapFault",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Webapi",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Soap",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Fault",66],"(",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_requestMock",67],",",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_soapServerMock",68],",",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$webapiException",69],",",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_localeResolverMock",70],",",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_appStateMock",71],["T_WHITESPACE","\n        ",71],")",";",["T_WHITESPACE","\n        ",72],["T_STRING","parent",73],["T_DOUBLE_COLON","::",73],["T_STRING","setUp",73],"(",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","tearDown",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_UNSET","unset",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_soapFault",78],")",";",["T_WHITESPACE","\n        ",78],["T_UNSET","unset",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_requestMock",79],")",";",["T_WHITESPACE","\n        ",79],["T_STRING","parent",80],["T_DOUBLE_COLON","::",80],["T_STRING","tearDown",80],"(",")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","testToXmlDeveloperModeOff",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_appStateMock",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","expects",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","any",85],"(",")",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","method",85],"(",["T_CONSTANT_ENCAPSED_STRING","'getMode'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","will",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","returnValue",85],"(",["T_CONSTANT_ENCAPSED_STRING","'production'",85],")",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$wsdlUrl",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","urlencode",86],"(",["T_STRING","self",86],["T_DOUBLE_COLON","::",86],["T_STRING","WSDL_URL",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$expectedResult",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_START_HEREDOC","<<<XML\n",87],["T_ENCAPSED_AND_WHITESPACE","<?xml version=\"1.0\" encoding=\"utf-8\" ?>\n<env:Envelope xmlns:env=\"http:\/\/www.w3.org\/2003\/05\/soap-envelope\" xmlns:m=\"",88],["T_CURLY_OPEN","{",89],["T_VARIABLE","$wsdlUrl",89],"}",["T_ENCAPSED_AND_WHITESPACE","\">\n    <env:Body>\n        <env:Fault>\n            <env:Code>\n                <env:Value>env:Receiver<\/env:Value>\n            <\/env:Code>\n            <env:Reason>\n                <env:Text xml:lang=\"en\">Soap fault reason.<\/env:Text>\n            <\/env:Reason>\n            <env:Detail>\n                <m:GenericFault>\n                    <m:Parameters>\n                        <m:GenericFaultParameter>\n                            <m:key>param1<\/m:key>\n                            <m:value>value1<\/m:value>\n                        <\/m:GenericFaultParameter>\n                        <m:GenericFaultParameter>\n                            <m:key>param2<\/m:key>\n                            <m:value>2<\/m:value>\n                        <\/m:GenericFaultParameter>\n                    <\/m:Parameters>\n                <\/m:GenericFault>\n            <\/env:Detail>\n        <\/env:Fault>\n    <\/env:Body>\n<\/env:Envelope>\n",89],["T_END_HEREDOC","XML",115],";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$actualXml",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_soapFault",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","toXml",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertEquals",118],"(",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_sanitizeXML",119],"(",["T_VARIABLE","$expectedResult",119],")",",",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_sanitizeXML",120],"(",["T_VARIABLE","$actualXml",120],")",",",["T_WHITESPACE","\n            ",120],["T_CONSTANT_ENCAPSED_STRING","'Wrong SOAP fault message with default parameters.'",121],["T_WHITESPACE","\n        ",121],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","testToXmlDeveloperModeOn",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_appStateMock",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","expects",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","any",127],"(",")",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","method",127],"(",["T_CONSTANT_ENCAPSED_STRING","'getMode'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","will",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","returnValue",127],"(",["T_CONSTANT_ENCAPSED_STRING","'developer'",127],")",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$actualXml",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_soapFault",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","toXml",128],"(",["T_STRING","true",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertContains",129],"(",["T_CONSTANT_ENCAPSED_STRING","'<m:Trace>'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$actualXml",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Exception trace is not found in XML.'",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Test getSoapFaultMessage method.\n     *\n     * @dataProvider dataProviderForGetSoapFaultMessageTest\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","testGetSoapFaultMessage",137],"(",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$faultReason",138],",",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$faultCode",139],",",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$additionalParameters",140],",",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$expectedResult",141],",",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$assertMessage",142],["T_WHITESPACE","\n    ",142],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$actualResult",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_soapFault",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getSoapFaultMessage",144],"(",["T_VARIABLE","$faultReason",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$faultCode",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$additionalParameters",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$wsdlUrl",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","urlencode",145],"(",["T_STRING","self",145],["T_DOUBLE_COLON","::",145],["T_STRING","WSDL_URL",145],")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEquals",146],"(",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_sanitizeXML",147],"(",["T_STRING","str_replace",147],"(",["T_CONSTANT_ENCAPSED_STRING","'{wsdl_url}'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$wsdlUrl",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$expectedResult",147],")",")",",",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_sanitizeXML",148],"(",["T_VARIABLE","$actualResult",148],")",",",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$assertMessage",149],["T_WHITESPACE","\n        ",149],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Data provider for GetSoapFaultMessage test.\n     *\n     * @return array\n     *\/",153],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","dataProviderForGetSoapFaultMessageTest",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_DOC_COMMENT","\/** Include file with all expected SOAP fault XMLs. *\/",160],["T_WHITESPACE","\n        ",160],["T_VARIABLE","$expectedXmls",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_INCLUDE","include",161],["T_WHITESPACE"," ",161],["T_DIR","__DIR__",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/_files\/soap_fault\/soap_fault_expected_xmls.php'",161],";",["T_WHITESPACE","\n\n        ",161],["T_COMMENT","\/\/Each array contains data for SOAP Fault Message, Expected XML, and Assert Message.\n",163],["T_WHITESPACE","        ",164],["T_RETURN","return",164],["T_WHITESPACE"," ",164],"[",["T_WHITESPACE","\n            ",164],["T_CONSTANT_ENCAPSED_STRING","'ArrayDataDetails'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],"[",["T_WHITESPACE","\n                ",165],["T_CONSTANT_ENCAPSED_STRING","'Fault reason'",166],",",["T_WHITESPACE","\n                ",166],["T_CONSTANT_ENCAPSED_STRING","'Sender'",167],",",["T_WHITESPACE","\n                ",167],"[",["T_WHITESPACE","\n                    ",168],["T_STRING","Fault",169],["T_DOUBLE_COLON","::",169],["T_STRING","NODE_DETAIL_PARAMETERS",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],"[",["T_CONSTANT_ENCAPSED_STRING","'key1'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'value1'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'key2'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'value2'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'value3'",169],"]",",",["T_WHITESPACE","\n                    ",169],["T_STRING","Fault",170],["T_DOUBLE_COLON","::",170],["T_STRING","NODE_DETAIL_TRACE",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'Trace'",170],",",["T_WHITESPACE","\n                    ",170],["T_CONSTANT_ENCAPSED_STRING","'Invalid'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'This node should be skipped'",171],["T_WHITESPACE","\n                ",171],"]",",",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$expectedXmls",173],"[",["T_CONSTANT_ENCAPSED_STRING","'expectedResultArrayDataDetails'",173],"]",",",["T_WHITESPACE","\n                ",173],["T_CONSTANT_ENCAPSED_STRING","'SOAP fault message with associated array data details is invalid.'",174],",",["T_WHITESPACE","\n            ",174],"]",",",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'IndexArrayDetails'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],"[",["T_WHITESPACE","\n                ",176],["T_CONSTANT_ENCAPSED_STRING","'Fault reason'",177],",",["T_WHITESPACE","\n                ",177],["T_CONSTANT_ENCAPSED_STRING","'Sender'",178],",",["T_WHITESPACE","\n                ",178],"[",["T_CONSTANT_ENCAPSED_STRING","'value1'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'value2'",179],"]",",",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$expectedXmls",180],"[",["T_CONSTANT_ENCAPSED_STRING","'expectedResultIndexArrayDetails'",180],"]",",",["T_WHITESPACE","\n                ",180],["T_CONSTANT_ENCAPSED_STRING","'SOAP fault message with index array data details is invalid.'",181],",",["T_WHITESPACE","\n            ",181],"]",",",["T_WHITESPACE","\n            ",182],["T_CONSTANT_ENCAPSED_STRING","'EmptyArrayDetails'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],"[",["T_WHITESPACE","\n                ",183],["T_CONSTANT_ENCAPSED_STRING","'Fault reason'",184],",",["T_WHITESPACE","\n                ",184],["T_CONSTANT_ENCAPSED_STRING","'Sender'",185],",",["T_WHITESPACE","\n                ",185],"[","]",",",["T_WHITESPACE","\n                ",186],["T_VARIABLE","$expectedXmls",187],"[",["T_CONSTANT_ENCAPSED_STRING","'expectedResultEmptyArrayDetails'",187],"]",",",["T_WHITESPACE","\n                ",187],["T_CONSTANT_ENCAPSED_STRING","'SOAP fault message with empty array data details is invalid.'",188],",",["T_WHITESPACE","\n            ",188],"]",",",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'ObjectDetails'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],"[",["T_WHITESPACE","\n                ",190],["T_CONSTANT_ENCAPSED_STRING","'Fault reason'",191],",",["T_WHITESPACE","\n                ",191],["T_CONSTANT_ENCAPSED_STRING","'Sender'",192],",",["T_WHITESPACE","\n                ",192],["T_OBJECT_CAST","(object)",193],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'value'",193],"]",",",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$expectedXmls",194],"[",["T_CONSTANT_ENCAPSED_STRING","'expectedResultObjectDetails'",194],"]",",",["T_WHITESPACE","\n                ",194],["T_CONSTANT_ENCAPSED_STRING","'SOAP fault message with object data details is invalid.'",195],",",["T_WHITESPACE","\n            ",195],"]",",",["T_WHITESPACE","\n            ",196],["T_CONSTANT_ENCAPSED_STRING","'ComplexDataDetails'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],"[",["T_WHITESPACE","\n                ",197],["T_CONSTANT_ENCAPSED_STRING","'Fault reason'",198],",",["T_WHITESPACE","\n                ",198],["T_CONSTANT_ENCAPSED_STRING","'Sender'",199],",",["T_WHITESPACE","\n                ",199],"[",["T_STRING","Fault",200],["T_DOUBLE_COLON","::",200],["T_STRING","NODE_DETAIL_PARAMETERS",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],"[",["T_CONSTANT_ENCAPSED_STRING","'sub_key'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'value'",200],"]","]","]",",",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$expectedXmls",201],"[",["T_CONSTANT_ENCAPSED_STRING","'expectedResultComplexDataDetails'",201],"]",",",["T_WHITESPACE","\n                ",201],["T_CONSTANT_ENCAPSED_STRING","'SOAP fault message with complex data details is invalid.'",202],",",["T_WHITESPACE","\n            ",202],"]",["T_WHITESPACE","\n        ",203],"]",";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","testConstructor",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$message",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","\"Soap fault reason.\"",209],";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$details",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],"[",["T_CONSTANT_ENCAPSED_STRING","'param1'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'value1'",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'param2'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_LNUMBER","2",210],"]",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$code",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_LNUMBER","111",211],";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$webapiException",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_NEW","new",212],["T_WHITESPACE"," ",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Magento",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Framework",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Webapi",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Exception",212],"(",["T_WHITESPACE","\n            ",212],["T_STRING","__",213],"(",["T_CONSTANT_ENCAPSED_STRING","'Soap fault reason.'",213],")",",",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$code",214],",",["T_WHITESPACE","\n            ",214],["T_NS_SEPARATOR","\\",215],["T_STRING","Magento",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Framework",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Webapi",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Exception",215],["T_DOUBLE_COLON","::",215],["T_STRING","HTTP_INTERNAL_ERROR",215],",",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$details",216],["T_WHITESPACE","\n        ",216],")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$soapFault",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_NEW","new",218],["T_WHITESPACE"," ",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Magento",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Webapi",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Model",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Soap",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Fault",218],"(",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_requestMock",219],",",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_soapServerMock",220],",",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$webapiException",221],",",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_localeResolverMock",222],",",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_appStateMock",223],["T_WHITESPACE","\n        ",223],")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$actualXml",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$soapFault",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","toXml",225],"(",")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$wsdlUrl",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","urlencode",226],"(",["T_STRING","self",226],["T_DOUBLE_COLON","::",226],["T_STRING","WSDL_URL",226],")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$expectedXml",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_START_HEREDOC","<<<FAULT_XML\n",227],["T_ENCAPSED_AND_WHITESPACE","<?xml version=\"1.0\" encoding=\"utf-8\" ?>\n<env:Envelope xmlns:env=\"http:\/\/www.w3.org\/2003\/05\/soap-envelope\" xmlns:m=\"",228],["T_CURLY_OPEN","{",229],["T_VARIABLE","$wsdlUrl",229],"}",["T_ENCAPSED_AND_WHITESPACE","\">\n    <env:Body>\n        <env:Fault>\n            <env:Code>\n                <env:Value>env:Receiver<\/env:Value>\n            <\/env:Code>\n            <env:Reason>\n                <env:Text xml:lang=\"en\">",229],["T_CURLY_OPEN","{",236],["T_VARIABLE","$message",236],"}",["T_ENCAPSED_AND_WHITESPACE","<\/env:Text>\n            <\/env:Reason>\n            <env:Detail>\n                <m:GenericFault>\n                    <m:Parameters>\n                        <m:GenericFaultParameter>\n                            <m:key>param1<\/m:key>\n                            <m:value>value1<\/m:value>\n                        <\/m:GenericFaultParameter>\n                        <m:GenericFaultParameter>\n                            <m:key>param2<\/m:key>\n                            <m:value>2<\/m:value>\n                        <\/m:GenericFaultParameter>\n                    <\/m:Parameters>\n                <\/m:GenericFault>\n            <\/env:Detail>\n        <\/env:Fault>\n    <\/env:Body>\n<\/env:Envelope>\n",236],["T_END_HEREDOC","FAULT_XML",255],";",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertEquals",257],"(",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_sanitizeXML",258],"(",["T_VARIABLE","$expectedXml",258],")",",",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_sanitizeXML",259],"(",["T_VARIABLE","$actualXml",259],")",",",["T_WHITESPACE","\n            ",259],["T_CONSTANT_ENCAPSED_STRING","\"Soap fault is invalid.\"",260],["T_WHITESPACE","\n        ",260],")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Convert XML to string.\n     *\n     * @param string $xmlString\n     * @return string\n     *\/",264],["T_WHITESPACE","\n    ",269],["T_PROTECTED","protected",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","_sanitizeXML",270],"(",["T_VARIABLE","$xmlString",270],")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$dom",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_NEW","new",272],["T_WHITESPACE"," ",272],["T_NS_SEPARATOR","\\",272],["T_STRING","DOMDocument",272],"(",["T_DNUMBER","1.0",272],")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$dom",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","preserveWhiteSpace",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","false",273],";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$dom",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","formatOutput",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","false",274],";",["T_WHITESPACE","\n        ",274],["T_COMMENT","\/\/ Only useful for \"pretty\" output with saveXML()\n",275],["T_WHITESPACE","        ",276],["T_VARIABLE","$dom",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","loadXML",276],"(",["T_VARIABLE","$xmlString",276],")",";",["T_WHITESPACE","\n        ",276],["T_COMMENT","\/\/ Must be done AFTER preserveWhiteSpace and formatOutput are set\n",277],["T_WHITESPACE","        ",278],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$dom",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","saveXML",278],"(",")",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n",279],"}",["T_WHITESPACE","\n",280]]