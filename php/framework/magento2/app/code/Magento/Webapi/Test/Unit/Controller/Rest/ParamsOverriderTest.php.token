[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Webapi",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Rest",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Authorization",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","UserContextInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Test Magento\\Webapi\\Controller\\Rest\\ParamsOverrider\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ParamsOverriderTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @param array $requestData Data from the request\n     * @param array $parameters Data from config about which parameters to override\n     * @param array $expectedOverriddenParams Result of overriding $requestData when applying rules from $parameters\n     * @param int $userId The id of the user invoking the request\n     * @param int $userType The type of user invoking the request\n     *\n     * @dataProvider overrideParamsDataProvider\n     *\/",16],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","testOverrideParams",25],"(",["T_VARIABLE","$requestData",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$parameters",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$expectedOverriddenParams",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$userId",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$userType",25],")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$objectManager",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_NEW","new",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Framework",27],["T_NS_SEPARATOR","\\",27],["T_STRING","TestFramework",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Unit",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Helper",27],["T_NS_SEPARATOR","\\",27],["T_STRING","ObjectManager",27],"(",["T_VARIABLE","$this",27],")",";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$userContextMock",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getMockBuilder",29],"(",["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Authorization",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Model",29],["T_NS_SEPARATOR","\\",29],["T_STRING","UserContextInterface",29],["T_DOUBLE_COLON","::",29],["T_CLASS","class",29],")",["T_WHITESPACE","\n            ",29],["T_OBJECT_OPERATOR","->",30],["T_STRING","disableOriginalConstructor",30],"(",")",["T_OBJECT_OPERATOR","->",30],["T_STRING","setMethods",30],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'getUserType'",30],"]",")",["T_OBJECT_OPERATOR","->",30],["T_STRING","getMockForAbstractClass",30],"(",")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$userContextMock",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","expects",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","any",31],"(",")",")",["T_OBJECT_OPERATOR","->",31],["T_STRING","method",31],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",31],")",["T_OBJECT_OPERATOR","->",31],["T_STRING","will",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","returnValue",31],"(",["T_VARIABLE","$userId",31],")",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$userContextMock",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","expects",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","any",32],"(",")",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","method",32],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserType'",32],")",["T_OBJECT_OPERATOR","->",32],["T_STRING","will",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","returnValue",32],"(",["T_VARIABLE","$userType",32],")",")",";",["T_WHITESPACE","\n\n        ",32],["T_VARIABLE","$paramOverriderCustomerId",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$objectManager",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getObject",34],"(",["T_WHITESPACE","\n            ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Webapi",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Controller",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Rest",35],["T_NS_SEPARATOR","\\",35],["T_STRING","ParamOverriderCustomerId",35],["T_DOUBLE_COLON","::",35],["T_CLASS","class",35],",",["T_WHITESPACE","\n            ",35],"[",["T_CONSTANT_ENCAPSED_STRING","'userContext'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$userContextMock",36],"]",["T_WHITESPACE","\n        ",36],")",";",["T_WHITESPACE","\n\n        ",37],["T_DOC_COMMENT","\/** @var \\Magento\\Webapi\\Controller\\Rest\\ParamsOverrider $paramsOverrider *\/",39],["T_WHITESPACE","\n        ",39],["T_VARIABLE","$paramsOverrider",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$objectManager",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getObject",40],"(",["T_WHITESPACE","\n            ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Webapi",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Controller",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Rest",41],["T_NS_SEPARATOR","\\",41],["T_STRING","ParamsOverrider",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],",",["T_WHITESPACE","\n            ",41],"[",["T_CONSTANT_ENCAPSED_STRING","'paramOverriders'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'%customer_id%'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$paramOverriderCustomerId",42],["T_WHITESPACE"," ",42],"]","]",["T_WHITESPACE","\n        ",42],")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEquals",45],"(",["T_VARIABLE","$expectedOverriddenParams",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$paramsOverrider",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","override",45],"(",["T_VARIABLE","$requestData",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$parameters",45],")",")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","overrideParamsDataProvider",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'force false, value present'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],"[",["T_WHITESPACE","\n                ",54],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'valueIn'",55],"]",",",["T_WHITESPACE","\n                ",55],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","false",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'value'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'valueOverride'",56],"]","]",",",["T_WHITESPACE","\n                ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'valueIn'",57],"]",",",["T_WHITESPACE","\n                ",57],["T_LNUMBER","1",58],",",["T_WHITESPACE","\n                ",58],["T_STRING","UserContextInterface",59],["T_DOUBLE_COLON","::",59],["T_STRING","USER_TYPE_INTEGRATION",59],",",["T_WHITESPACE","\n            ",59],"]",",",["T_WHITESPACE","\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'force true, value present'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],"[",["T_WHITESPACE","\n                ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'valueIn'",62],"]",",",["T_WHITESPACE","\n                ",62],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_STRING","true",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'value'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'valueOverride'",63],"]","]",",",["T_WHITESPACE","\n                ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'valueOverride'",64],"]",",",["T_WHITESPACE","\n                ",64],["T_LNUMBER","1",65],",",["T_WHITESPACE","\n                ",65],["T_STRING","UserContextInterface",66],["T_DOUBLE_COLON","::",66],["T_STRING","USER_TYPE_INTEGRATION",66],",",["T_WHITESPACE","\n            ",66],"]",",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'force true, value not present'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],"[",["T_WHITESPACE","\n                ",68],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'valueIn'",69],"]",",",["T_WHITESPACE","\n                ",69],"[",["T_CONSTANT_ENCAPSED_STRING","'Name2'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","true",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'value'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'valueOverride'",70],"]","]",",",["T_WHITESPACE","\n                ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'valueIn'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Name2'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'valueOverride'",71],"]",",",["T_WHITESPACE","\n                ",71],["T_LNUMBER","1",72],",",["T_WHITESPACE","\n                ",72],["T_STRING","UserContextInterface",73],["T_DOUBLE_COLON","::",73],["T_STRING","USER_TYPE_INTEGRATION",73],",",["T_WHITESPACE","\n            ",73],"]",",",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'force false, value not present'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],"[",["T_WHITESPACE","\n                ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'valueIn'",76],"]",",",["T_WHITESPACE","\n                ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'Name2'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_STRING","false",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'value'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'valueOverride'",77],"]","]",",",["T_WHITESPACE","\n                ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'valueIn'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Name2'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'valueOverride'",78],"]",",",["T_WHITESPACE","\n                ",78],["T_LNUMBER","1",79],",",["T_WHITESPACE","\n                ",79],["T_STRING","UserContextInterface",80],["T_DOUBLE_COLON","::",80],["T_STRING","USER_TYPE_INTEGRATION",80],",",["T_WHITESPACE","\n            ",80],"]",",",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'force true, value present, override value is %customer_id%'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],"[",["T_WHITESPACE","\n                ",82],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'valueIn'",83],"]",",",["T_WHITESPACE","\n                ",83],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","true",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'value'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'%customer_id%'",84],"]","]",",",["T_WHITESPACE","\n                ",84],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'1234'",85],"]",",",["T_WHITESPACE","\n                ",85],["T_LNUMBER","1234",86],",",["T_WHITESPACE","\n                ",86],["T_STRING","UserContextInterface",87],["T_DOUBLE_COLON","::",87],["T_STRING","USER_TYPE_CUSTOMER",87],",",["T_WHITESPACE","\n            ",87],"]",",",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'force true, value present, override value is %customer_id%, not a customer'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],"[",["T_WHITESPACE","\n                ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'valueIn'",90],"]",",",["T_WHITESPACE","\n                ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_STRING","true",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'value'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'%customer_id%'",91],"]","]",",",["T_WHITESPACE","\n                ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'Name1'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_STRING","null",92],"]",",",["T_WHITESPACE","\n                ",92],["T_LNUMBER","1234",93],",",["T_WHITESPACE","\n                ",93],["T_STRING","UserContextInterface",94],["T_DOUBLE_COLON","::",94],["T_STRING","USER_TYPE_INTEGRATION",94],",",["T_WHITESPACE","\n            ",94],"]",",",["T_WHITESPACE","\n        ",95],"]",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n",97],"}",["T_WHITESPACE","\n",98]]