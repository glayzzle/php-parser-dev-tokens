[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Create",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Giftmessage",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Form",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Element",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Fieldset",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Adminhtml order creating gift message item form\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",10],["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.DepthOfInheritance)\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","Form",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Backend",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Block",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Widget",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Form",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Generic",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Entity for editing of gift message\n     *\n     * @var \\Magento\\Eav\\Model\\Entity\\AbstractEntity\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_entity",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Giftmessage object\n     *\n     * @var \\Magento\\GiftMessage\\Model\\Message\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_giftMessage",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Session quote\n     *\n     * @var \\Magento\\Backend\\Model\\Session\\Quote\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_sessionQuote",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Message helper\n     *\n     * @var \\Magento\\GiftMessage\\Helper\\Message\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_messageHelper",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\CustomerRepositoryInterface\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$customerRepository",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Helper\\View\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_customerViewHelper",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Data\\FormFactory $formFactory\n     * @param \\Magento\\Backend\\Model\\Session\\Quote $sessionQuote\n     * @param \\Magento\\GiftMessage\\Helper\\Message $messageHelper\n     * @param \\Magento\\Customer\\Api\\CustomerRepositoryInterface $customerRepository\n     * @param \\Magento\\Customer\\Helper\\View $customerViewHelper\n     * @param array $data\n     *\/",59],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","__construct",71],"(",["T_WHITESPACE","\n        ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Backend",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Block",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Template",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Context",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$context",72],",",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Registry",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$registry",73],",",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Framework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Data",74],["T_NS_SEPARATOR","\\",74],["T_STRING","FormFactory",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$formFactory",74],",",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Backend",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Model",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Session",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Quote",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$sessionQuote",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","GiftMessage",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Helper",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Message",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$messageHelper",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Customer",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Api",77],["T_NS_SEPARATOR","\\",77],["T_STRING","CustomerRepositoryInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$customerRepository",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Customer",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Helper",78],["T_NS_SEPARATOR","\\",78],["T_STRING","View",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$customerViewHelper",78],",",["T_WHITESPACE","\n        ",78],["T_ARRAY","array",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$data",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],"[","]",["T_WHITESPACE","\n    ",79],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_messageHelper",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$messageHelper",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_sessionQuote",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$sessionQuote",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","customerRepository",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$customerRepository",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_customerViewHelper",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$customerViewHelper",84],";",["T_WHITESPACE","\n        ",84],["T_STRING","parent",85],["T_DOUBLE_COLON","::",85],["T_STRING","__construct",85],"(",["T_VARIABLE","$context",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$registry",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$formFactory",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$data",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Set entity for form\n     *\n     * @param \\Magento\\Framework\\DataObject $entity\n     * @return $this\n     *\/",88],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","setEntity",94],"(",["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","DataObject",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$entity",94],")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_entity",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$entity",96],";",["T_WHITESPACE","\n        ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Retrieve entity for form\n     *\n     * @return \\Magento\\Framework\\DataObject\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getEntity",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_entity",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Backend\\Model\\Session\\Quote\n     *\/",110],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","_getSession",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_sessionQuote",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Retrieve default value for giftmessage sender\n     *\n     * @return string\n     *\/",118],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getDefaultSender",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(","!",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getEntity",125],"(",")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","''",126],";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_getSession",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","hasCustomerId",129],"(",")",["T_WHITESPACE"," ",129],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_getSession",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getCustomerId",129],"(",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_COMMENT","\/\/ TODO to change email on id\n",130],["T_WHITESPACE","            ",131],["T_VARIABLE","$customer",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","customerRepository",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getById",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_getSession",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","getCustomerId",131],"(",")",")",";",["T_WHITESPACE","\n            ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_customerViewHelper",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getCustomerName",132],"(",["T_VARIABLE","$customer",132],")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$object",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getEntity",135],"(",")",";",["T_WHITESPACE","\n\n        ",135],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getEntity",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getQuote",137],"(",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$object",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getEntity",138],"(",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","getQuote",138],"(",")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$object",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getBillingAddress",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","getName",141],"(",")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Retrieve default value for giftmessage recipient\n     *\n     * @return string\n     *\/",144],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","getDefaultRecipient",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(","!",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getEntity",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$object",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getEntity",155],"(",")",";",["T_WHITESPACE","\n\n        ",155],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getEntity",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","getOrder",157],"(",")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$object",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getEntity",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getOrder",158],"(",")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE"," ",159],["T_ELSEIF","elseif",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getEntity",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","getQuote",159],"(",")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$object",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getEntity",160],"(",")",["T_OBJECT_OPERATOR","->",160],["T_STRING","getQuote",160],"(",")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$object",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getShippingAddress",163],"(",")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$object",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getShippingAddress",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","getName",164],"(",")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE"," ",165],["T_ELSEIF","elseif",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$object",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getBillingAddress",165],"(",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$object",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getBillingAddress",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getName",166],"(",")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n\n        ",167],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","''",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Prepares form\n     *\n     * @return $this\n     *\/",172],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","_prepareForm",177],"(",")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$form",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_formFactory",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","create",179],"(",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$fieldset",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$form",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","addFieldset",180],"(",["T_CONSTANT_ENCAPSED_STRING","'main'",180],",",["T_WHITESPACE"," ",180],"[",["T_CONSTANT_ENCAPSED_STRING","'no_container'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_STRING","true",180],"]",")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$fieldset",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","addField",181],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'hidden'",181],",",["T_WHITESPACE"," ",181],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_getFieldName",181],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",181],")","]",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$form",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","setHtmlIdPrefix",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_getFieldIdPrefix",182],"(",")",")",";",["T_WHITESPACE","\n\n        ",182],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getEntityType",184],"(",")",["T_WHITESPACE"," ",184],["T_IS_EQUAL","==",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'item'",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_prepareHiddenFields",185],"(",["T_VARIABLE","$fieldset",185],")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE"," ",186],["T_ELSE","else",186],["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_prepareVisibleFields",187],"(",["T_VARIABLE","$fieldset",187],")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_COMMENT","\/\/ Set default sender and recipient from billing and shipping adresses\n",190],["T_WHITESPACE","        ",191],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","!",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getMessage",191],"(",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","getSender",191],"(",")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getMessage",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","setSender",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getDefaultSender",192],"(",")",")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n\n        ",193],["T_IF","if",195],["T_WHITESPACE"," ",195],"(","!",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getMessage",195],"(",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","getRecipient",195],"(",")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getMessage",196],"(",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","setRecipient",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getDefaultRecipient",196],"(",")",")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getMessage",199],"(",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","setType",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getEntityType",199],"(",")",")",";",["T_WHITESPACE","\n\n        ",199],["T_COMMENT","\/\/ Overridden default data with edited when block reloads througth Ajax\n",201],["T_WHITESPACE","        ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_applyPostData",202],"(",")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$form",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","setValues",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getMessage",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getData",203],"(",")",")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setForm",204],"(",["T_VARIABLE","$form",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Prepare form fieldset\n     * All fields are hidden\n     *\n     * @param Fieldset $fieldset\n     * @return $this\n     *\/",209],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","_prepareHiddenFields",216],"(",["T_STRING","Fieldset",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$fieldset",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$fieldset",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","addField",218],"(",["T_CONSTANT_ENCAPSED_STRING","'sender'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'hidden'",218],",",["T_WHITESPACE"," ",218],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_getFieldName",218],"(",["T_CONSTANT_ENCAPSED_STRING","'sender'",218],")","]",")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$fieldset",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","addField",219],"(",["T_CONSTANT_ENCAPSED_STRING","'recipient'",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'hidden'",219],",",["T_WHITESPACE"," ",219],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_getFieldName",219],"(",["T_CONSTANT_ENCAPSED_STRING","'recipient'",219],")","]",")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$fieldset",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","addField",220],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'hidden'",220],",",["T_WHITESPACE"," ",220],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_getFieldName",220],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",220],")","]",")",";",["T_WHITESPACE","\n\n        ",220],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Prepare form fieldset\n     * All fields are visible\n     *\n     * @param Fieldset $fieldset\n     * @return $this\n     *\/",225],["T_WHITESPACE","\n    ",231],["T_PROTECTED","protected",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","_prepareVisibleFields",232],"(",["T_STRING","Fieldset",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$fieldset",232],")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$fieldset",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","addField",234],"(",["T_WHITESPACE","\n            ",234],["T_CONSTANT_ENCAPSED_STRING","'sender'",235],",",["T_WHITESPACE","\n            ",235],["T_CONSTANT_ENCAPSED_STRING","'text'",236],",",["T_WHITESPACE","\n            ",236],"[",["T_WHITESPACE","\n                ",237],["T_CONSTANT_ENCAPSED_STRING","'name'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_getFieldName",238],"(",["T_CONSTANT_ENCAPSED_STRING","'sender'",238],")",",",["T_WHITESPACE","\n                ",238],["T_CONSTANT_ENCAPSED_STRING","'label'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_STRING","__",239],"(",["T_CONSTANT_ENCAPSED_STRING","'From'",239],")",",",["T_WHITESPACE","\n                ",239],["T_CONSTANT_ENCAPSED_STRING","'required'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getMessage",240],"(",")",["T_OBJECT_OPERATOR","->",240],["T_STRING","getMessage",240],"(",")",["T_WHITESPACE"," ",240],"?",["T_WHITESPACE"," ",240],["T_STRING","true",240],["T_WHITESPACE"," ",240],":",["T_WHITESPACE"," ",240],["T_STRING","false",240],["T_WHITESPACE","\n            ",240],"]",["T_WHITESPACE","\n        ",241],")",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$fieldset",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","addField",243],"(",["T_WHITESPACE","\n            ",243],["T_CONSTANT_ENCAPSED_STRING","'recipient'",244],",",["T_WHITESPACE","\n            ",244],["T_CONSTANT_ENCAPSED_STRING","'text'",245],",",["T_WHITESPACE","\n            ",245],"[",["T_WHITESPACE","\n                ",246],["T_CONSTANT_ENCAPSED_STRING","'name'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_getFieldName",247],"(",["T_CONSTANT_ENCAPSED_STRING","'recipient'",247],")",",",["T_WHITESPACE","\n                ",247],["T_CONSTANT_ENCAPSED_STRING","'label'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_STRING","__",248],"(",["T_CONSTANT_ENCAPSED_STRING","'To'",248],")",",",["T_WHITESPACE","\n                ",248],["T_CONSTANT_ENCAPSED_STRING","'required'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getMessage",249],"(",")",["T_OBJECT_OPERATOR","->",249],["T_STRING","getMessage",249],"(",")",["T_WHITESPACE"," ",249],"?",["T_WHITESPACE"," ",249],["T_STRING","true",249],["T_WHITESPACE"," ",249],":",["T_WHITESPACE"," ",249],["T_STRING","false",249],["T_WHITESPACE","\n            ",249],"]",["T_WHITESPACE","\n        ",250],")",";",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$fieldset",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","addField",253],"(",["T_WHITESPACE","\n            ",253],["T_CONSTANT_ENCAPSED_STRING","'message'",254],",",["T_WHITESPACE","\n            ",254],["T_CONSTANT_ENCAPSED_STRING","'textarea'",255],",",["T_WHITESPACE","\n            ",255],"[",["T_WHITESPACE","\n                ",256],["T_CONSTANT_ENCAPSED_STRING","'name'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_getFieldName",257],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",257],")",",",["T_WHITESPACE","\n                ",257],["T_CONSTANT_ENCAPSED_STRING","'label'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_STRING","__",258],"(",["T_CONSTANT_ENCAPSED_STRING","'Message'",258],")",",",["T_WHITESPACE","\n                ",258],["T_CONSTANT_ENCAPSED_STRING","'class'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'admin__control-textarea'",259],["T_WHITESPACE","\n            ",259],"]",["T_WHITESPACE","\n        ",260],")",";",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Initialize gift message for entity\n     *\n     * @return $this\n     *\/",265],["T_WHITESPACE","\n    ",269],["T_PROTECTED","protected",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","_initMessage",270],"(",")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_giftMessage",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_messageHelper",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getGiftMessage",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getEntity",272],"(",")",["T_OBJECT_OPERATOR","->",272],["T_STRING","getGiftMessageId",272],"(",")",")",";",["T_WHITESPACE","\n        ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Retrieve gift message for entity\n     *\n     * @return \\Magento\\GiftMessage\\Model\\Message\n     *\/",276],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","getMessage",281],"(",")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_giftMessage",283],["T_WHITESPACE"," ",283],["T_IS_IDENTICAL","===",283],["T_WHITESPACE"," ",283],["T_STRING","null",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_initMessage",284],"(",")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_giftMessage",287],";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Retrieve real name for field\n     *\n     * @param string $name\n     * @return string\n     *\/",290],["T_WHITESPACE","\n    ",295],["T_PROTECTED","protected",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","_getFieldName",296],"(",["T_VARIABLE","$name",296],")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'giftmessage['",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getEntity",298],"(",")",["T_OBJECT_OPERATOR","->",298],["T_STRING","getId",298],"(",")",["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","']['",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_VARIABLE","$name",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","']'",298],";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Retrieve real html id for field\n     *\n     * @param string $id\n     * @return string\n     *\/",301],["T_WHITESPACE","\n    ",306],["T_PROTECTED","protected",307],["T_WHITESPACE"," ",307],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","_getFieldId",307],"(",["T_VARIABLE","$id",307],")",["T_WHITESPACE","\n    ",307],"{",["T_WHITESPACE","\n        ",308],["T_RETURN","return",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_getFieldIdPrefix",309],"(",")",["T_WHITESPACE"," ",309],".",["T_WHITESPACE"," ",309],["T_VARIABLE","$id",309],";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * Retrieve field html id prefix\n     *\n     * @return string\n     *\/",312],["T_WHITESPACE","\n    ",316],["T_PROTECTED","protected",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","_getFieldIdPrefix",317],"(",")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'giftmessage_'",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getEntity",319],"(",")",["T_OBJECT_OPERATOR","->",319],["T_STRING","getId",319],"(",")",["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'_'",319],";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Applies posted data to gift message\n     *\n     * @return $this\n     *\/",322],["T_WHITESPACE","\n    ",326],["T_PROTECTED","protected",327],["T_WHITESPACE"," ",327],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","_applyPostData",327],"(",")",["T_WHITESPACE","\n    ",327],"{",["T_WHITESPACE","\n        ",328],["T_IF","if",329],["T_WHITESPACE"," ",329],"(",["T_STRING","is_array",329],"(",["T_VARIABLE","$giftmessages",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getRequest",329],"(",")",["T_OBJECT_OPERATOR","->",329],["T_STRING","getParam",329],"(",["T_CONSTANT_ENCAPSED_STRING","'giftmessage'",329],")",")",["T_WHITESPACE","\n            ",329],["T_BOOLEAN_AND","&&",330],["T_WHITESPACE"," ",330],["T_ISSET","isset",330],"(",["T_VARIABLE","$giftmessages",330],"[",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getEntity",330],"(",")",["T_OBJECT_OPERATOR","->",330],["T_STRING","getId",330],"(",")","]",")",["T_WHITESPACE","\n        ",330],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getMessage",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","addData",332],"(",["T_VARIABLE","$giftmessages",332],"[",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getEntity",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","getId",332],"(",")","]",")",";",["T_WHITESPACE","\n        ",332],"}",["T_WHITESPACE","\n\n        ",333],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],";",["T_WHITESPACE","\n    ",335],"}",["T_WHITESPACE","\n",336],"}",["T_WHITESPACE","\n",337]]