[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Order history block\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","History",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Backend",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Block",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Template",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_coreRegistry",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_STRING","null",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Sales data\n     *\n     * @var \\Magento\\Sales\\Helper\\Data\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_salesData",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","null",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Helper\\Admin\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$adminHelper",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param \\Magento\\Sales\\Helper\\Data $salesData\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Sales\\Helper\\Admin $adminHelper\n     * @param array $data\n     *\/",34],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","__construct",41],"(",["T_WHITESPACE","\n        ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Backend",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Block",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Template",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Context",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$context",42],",",["T_WHITESPACE","\n        ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Sales",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Helper",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Data",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$salesData",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Registry",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$registry",44],",",["T_WHITESPACE","\n        ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Sales",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Helper",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Admin",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$adminHelper",45],",",["T_WHITESPACE","\n        ",45],["T_ARRAY","array",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$data",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[","]",["T_WHITESPACE","\n    ",46],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_coreRegistry",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$registry",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_salesData",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$salesData",49],";",["T_WHITESPACE","\n        ",49],["T_STRING","parent",50],["T_DOUBLE_COLON","::",50],["T_STRING","__construct",50],"(",["T_VARIABLE","$context",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$data",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","adminHelper",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$adminHelper",51],";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Preparing global layout\n     *\n     * @return $this\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","_prepareLayout",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$onclick",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\"submitAndReloadArea($('order_history_block').parentNode, '\"",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getSubmitUrl",61],"(",")",["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","\"')\"",61],";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$button",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getLayout",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","createBlock",62],"(",["T_WHITESPACE","\n            ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Backend",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Block",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Widget",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Button",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],["T_WHITESPACE","\n        ",63],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","setData",64],"(",["T_WHITESPACE","\n            ",64],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","__",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Submit Comment'",65],")",",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'class'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'action-save action-secondary'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'onclick'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$onclick",65],"]",["T_WHITESPACE","\n        ",65],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","setChild",67],"(",["T_CONSTANT_ENCAPSED_STRING","'submit_button'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$button",67],")",";",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_STRING","parent",68],["T_DOUBLE_COLON","::",68],["T_STRING","_prepareLayout",68],"(",")",";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Get stat uses\n     *\n     * @return array\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","getStatuses",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$state",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getOrder",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","getState",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$statuses",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getOrder",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getConfig",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getStateStatuses",79],"(",["T_VARIABLE","$state",79],")",";",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$statuses",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Check allow to send order comment email\n     *\n     * @return bool\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","canSendCommentEmail",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_salesData",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","canSendOrderCommentEmail",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getOrder",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getStore",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getId",90],"(",")",")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Retrieve order model\n     *\n     * @return \\Magento\\Sales\\Model\\Order\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getOrder",98],"(",")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_coreRegistry",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","registry",100],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",100],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Check allow to add comment\n     *\n     * @return bool\n     *\/",103],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","canAddComment",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_authorization",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","isAllowed",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Sales::comment'",110],")",["T_WHITESPACE"," ",110],["T_BOOLEAN_AND","&&",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getOrder",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","canComment",110],"(",")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Submit URL getter\n     *\n     * @return string\n     *\/",113],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","getSubmitUrl",118],"(",")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getUrl",120],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/*\/addComment'",120],",",["T_WHITESPACE"," ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getOrder",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","getId",120],"(",")","]",")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Customer Notification Applicable check method\n     *\n     * @param  \\Magento\\Sales\\Model\\Order\\Status\\History $history\n     * @return bool\n     *\/",123],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","isCustomerNotificationNotApplicable",129],"(",["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Sales",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Model",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Order",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Status",129],["T_NS_SEPARATOR","\\",129],["T_STRING","History",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$history",129],")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$history",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","isCustomerNotificationNotApplicable",131],"(",")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Replace links in string\n     *\n     * @param array|string $data\n     * @param null|array $allowedTags\n     * @return string\n     *\/",134],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","escapeHtml",141],"(",["T_VARIABLE","$data",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$allowedTags",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","null",141],")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","adminHelper",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","escapeHtmlWithLinks",143],"(",["T_VARIABLE","$data",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$allowedTags",143],")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n",144],"}",["T_WHITESPACE","\n",145]]