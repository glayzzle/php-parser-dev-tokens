[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","Comments",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","View",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Element",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Template",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\ResourceModel\\Order\\Invoice\\Comment\\CollectionFactory\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_PROTECTED","protected",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$_invoiceCollectionFactory",13],";",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\ResourceModel\\Order\\Creditmemo\\Comment\\CollectionFactory\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_memoCollectionFactory",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\ResourceModel\\Order\\Shipment\\Comment\\CollectionFactory\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_shipmentCollectionFactory",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Current entity (model instance) with getCommentsCollection() method\n     *\n     * @var \\Magento\\Sales\\Model\\AbstractModel\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_entity",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Current comments collection\n     *\n     * @var \\Magento\\Sales\\Model\\ResourceModel\\Order\\Comment\\Collection\\AbstractCollection\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_commentCollection",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\View\\Element\\Template\\Context $context\n     * @param \\Magento\\Sales\\Model\\ResourceModel\\Order\\Invoice\\Comment\\CollectionFactory $invoiceCollectionFactory\n     * @param \\Magento\\Sales\\Model\\ResourceModel\\Order\\Creditmemo\\Comment\\CollectionFactory $memoCollectionFactory\n     * @param \\Magento\\Sales\\Model\\ResourceModel\\Order\\Shipment\\Comment\\CollectionFactory $shipmentCollectionFactory\n     * @param array $data\n     *\/",39],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","__construct",46],"(",["T_WHITESPACE","\n        ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Framework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","View",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Element",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Template",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Context",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$context",47],",",["T_WHITESPACE","\n        ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Sales",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","ResourceModel",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Order",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Invoice",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Comment",48],["T_NS_SEPARATOR","\\",48],["T_STRING","CollectionFactory",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$invoiceCollectionFactory",48],",",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Sales",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","ResourceModel",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Order",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Creditmemo",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Comment",49],["T_NS_SEPARATOR","\\",49],["T_STRING","CollectionFactory",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$memoCollectionFactory",49],",",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Sales",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","ResourceModel",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Order",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Shipment",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Comment",50],["T_NS_SEPARATOR","\\",50],["T_STRING","CollectionFactory",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$shipmentCollectionFactory",50],",",["T_WHITESPACE","\n        ",50],["T_ARRAY","array",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$data",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",["T_WHITESPACE","\n    ",51],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n        ",52],["T_STRING","parent",53],["T_DOUBLE_COLON","::",53],["T_STRING","__construct",53],"(",["T_VARIABLE","$context",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$data",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_invoiceCollectionFactory",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$invoiceCollectionFactory",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_memoCollectionFactory",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$memoCollectionFactory",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_shipmentCollectionFactory",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$shipmentCollectionFactory",56],";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Sets comments parent model instance\n     *\n     * @param \\Magento\\Sales\\Model\\AbstractModel $entity\n     * @return $this\n     *\/",59],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","setEntity",65],"(",["T_VARIABLE","$entity",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_entity",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$entity",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_commentCollection",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],";",["T_WHITESPACE","\n        ",68],["T_COMMENT","\/\/ Changing model and resource model can lead to change of comment collection\n",69],["T_WHITESPACE","        ",70],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Gets comments parent model instance\n     *\n     * @return \\Magento\\Sales\\Model\\AbstractModel\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","getEntity",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_entity",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Initialize model comments and return comment collection\n     *\n     * @return \\Magento\\Sales\\Model\\ResourceModel\\Order\\Comment\\Collection\\AbstractCollection\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",83],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","getComments",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_commentCollection",91],["T_WHITESPACE"," ",91],["T_IS_IDENTICAL","===",91],["T_WHITESPACE"," ",91],["T_STRING","null",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$entity",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getEntity",92],"(",")",";",["T_WHITESPACE","\n            ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$entity",93],["T_WHITESPACE"," ",93],["T_INSTANCEOF","instanceof",93],["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Sales",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Model",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Order",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Invoice",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_commentCollection",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_invoiceCollectionFactory",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","create",94],"(",")",";",["T_WHITESPACE","\n            ",94],"}",["T_WHITESPACE"," ",95],["T_ELSEIF","elseif",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$entity",95],["T_WHITESPACE"," ",95],["T_INSTANCEOF","instanceof",95],["T_WHITESPACE"," ",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Sales",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Model",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Order",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Creditmemo",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_commentCollection",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_memoCollectionFactory",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","create",96],"(",")",";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE"," ",97],["T_ELSEIF","elseif",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$entity",97],["T_WHITESPACE"," ",97],["T_INSTANCEOF","instanceof",97],["T_WHITESPACE"," ",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Sales",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Order",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Shipment",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_commentCollection",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_shipmentCollectionFactory",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","create",98],"(",")",";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE"," ",99],["T_ELSE","else",99],["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_THROW","throw",100],["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Framework",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Exception",100],["T_NS_SEPARATOR","\\",100],["T_STRING","LocalizedException",100],"(",["T_STRING","__",100],"(",["T_CONSTANT_ENCAPSED_STRING","'We found an invalid entity model.'",100],")",")",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n\n            ",101],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_commentCollection",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","setParentFilter",103],"(",["T_VARIABLE","$entity",103],")",["T_OBJECT_OPERATOR","->",103],["T_STRING","setCreatedAtOrder",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","addVisibleOnFrontFilter",103],"(",")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n\n        ",104],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_commentCollection",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Returns whether there are comments to show on frontend\n     *\n     * @return bool\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","hasComments",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getComments",116],"(",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","count",116],"(",")",["T_WHITESPACE"," ",116],">",["T_WHITESPACE"," ",116],["T_LNUMBER","0",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n",117],"}",["T_WHITESPACE","\n",118]]