[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Sales",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Order",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","Totals",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","View",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Element",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Template",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * Associated array of totals\n     * array(\n     *  $totalCode => $totalObject\n     * )\n     *\n     * @var array\n     *\/",12],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_totals",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var Order|null\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_order",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","null",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_coreRegistry",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","null",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\View\\Element\\Template\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param array $data\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","View",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Element",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Template",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Context",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$context",40],",",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Registry",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$registry",41],",",["T_WHITESPACE","\n        ",41],["T_ARRAY","array",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$data",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[","]",["T_WHITESPACE","\n    ",42],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_coreRegistry",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$registry",44],";",["T_WHITESPACE","\n        ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","__construct",45],"(",["T_VARIABLE","$context",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$data",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Initialize self totals and children blocks totals before html building\n     *\n     * @return $this\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","_beforeToHtml",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_initTotals",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_FOREACH","foreach",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getLayout",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","getChildBlocks",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getNameInLayout",56],"(",")",")",["T_WHITESPACE"," ",56],["T_AS","as",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$child",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_STRING","method_exists",57],"(",["T_VARIABLE","$child",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'initTotals'",57],")",["T_WHITESPACE"," ",57],["T_BOOLEAN_AND","&&",57],["T_WHITESPACE"," ",57],["T_STRING","is_callable",57],"(","[",["T_VARIABLE","$child",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'initTotals'",57],"]",")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n                ",57],["T_VARIABLE","$child",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","initTotals",58],"(",")",";",["T_WHITESPACE","\n            ",58],"}",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n        ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_STRING","parent",61],["T_DOUBLE_COLON","::",61],["T_STRING","_beforeToHtml",61],"(",")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Get order object\n     *\n     * @return Order\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","getOrder",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_order",71],["T_WHITESPACE"," ",71],["T_IS_IDENTICAL","===",71],["T_WHITESPACE"," ",71],["T_STRING","null",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","hasData",72],"(",["T_CONSTANT_ENCAPSED_STRING","'order'",72],")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_order",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_getData",73],"(",["T_CONSTANT_ENCAPSED_STRING","'order'",73],")",";",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE"," ",74],["T_ELSEIF","elseif",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_coreRegistry",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","registry",74],"(",["T_CONSTANT_ENCAPSED_STRING","'current_order'",74],")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_order",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_coreRegistry",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","registry",75],"(",["T_CONSTANT_ENCAPSED_STRING","'current_order'",75],")",";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE"," ",76],["T_ELSEIF","elseif",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getParentBlock",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getOrder",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_order",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getParentBlock",77],"(",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getOrder",77],"(",")",";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_order",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @param Order $order\n     * @return $this\n     *\/",83],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","setOrder",87],"(",["T_VARIABLE","$order",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_order",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$order",89],";",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Get totals source object\n     *\n     * @return Order\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getSource",98],"(",")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getOrder",100],"(",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Initialize order totals array\n     *\n     * @return $this\n     *\/",103],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","_initTotals",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$source",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getSource",110],"(",")",";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_totals",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"[","]",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_totals",113],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Framework",113],["T_NS_SEPARATOR","\\",113],["T_STRING","DataObject",113],"(",["T_WHITESPACE","\n            ",113],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'value'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$source",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getSubtotal",114],"(",")",",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'label'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_STRING","__",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Subtotal'",114],")","]",["T_WHITESPACE","\n        ",114],")",";",["T_WHITESPACE","\n\n        ",115],["T_DOC_COMMENT","\/**\n         * Add shipping\n         *\/",117],["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_VARIABLE","$source",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getIsVirtual",120],"(",")",["T_WHITESPACE"," ",120],["T_BOOLEAN_AND","&&",120],["T_WHITESPACE"," ",120],"(",["T_DOUBLE_CAST","(double)",120],["T_VARIABLE","$source",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getShippingAmount",120],"(",")",["T_WHITESPACE"," ",120],["T_BOOLEAN_OR","||",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$source",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getShippingDescription",120],"(",")",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_totals",121],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping'",121],"]",["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Framework",121],["T_NS_SEPARATOR","\\",121],["T_STRING","DataObject",121],"(",["T_WHITESPACE","\n                ",121],"[",["T_WHITESPACE","\n                    ",122],["T_CONSTANT_ENCAPSED_STRING","'code'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'shipping'",123],",",["T_WHITESPACE","\n                    ",123],["T_CONSTANT_ENCAPSED_STRING","'field'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'shipping_amount'",124],",",["T_WHITESPACE","\n                    ",124],["T_CONSTANT_ENCAPSED_STRING","'value'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getSource",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getShippingAmount",125],"(",")",",",["T_WHITESPACE","\n                    ",125],["T_CONSTANT_ENCAPSED_STRING","'label'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_STRING","__",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipping & Handling'",126],")",",",["T_WHITESPACE","\n                ",126],"]",["T_WHITESPACE","\n            ",127],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_DOC_COMMENT","\/**\n         * Add discount\n         *\/",131],["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_DOUBLE_CAST","(double)",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getSource",134],"(",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","getDiscountAmount",134],"(",")",["T_WHITESPACE"," ",134],["T_IS_NOT_EQUAL","!=",134],["T_WHITESPACE"," ",134],["T_LNUMBER","0",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getSource",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","getDiscountDescription",135],"(",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$discountLabel",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","__",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Discount (%1)'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$source",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getDiscountDescription",136],"(",")",")",";",["T_WHITESPACE","\n            ",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$discountLabel",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","__",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Discount'",138],")",";",["T_WHITESPACE","\n            ",138],"}",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_totals",140],"[",["T_CONSTANT_ENCAPSED_STRING","'discount'",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_NEW","new",140],["T_WHITESPACE"," ",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Framework",140],["T_NS_SEPARATOR","\\",140],["T_STRING","DataObject",140],"(",["T_WHITESPACE","\n                ",140],"[",["T_WHITESPACE","\n                    ",141],["T_CONSTANT_ENCAPSED_STRING","'code'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'discount'",142],",",["T_WHITESPACE","\n                    ",142],["T_CONSTANT_ENCAPSED_STRING","'field'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",143],",",["T_WHITESPACE","\n                    ",143],["T_CONSTANT_ENCAPSED_STRING","'value'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$source",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getDiscountAmount",144],"(",")",",",["T_WHITESPACE","\n                    ",144],["T_CONSTANT_ENCAPSED_STRING","'label'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$discountLabel",145],",",["T_WHITESPACE","\n                ",145],"]",["T_WHITESPACE","\n            ",146],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_totals",150],"[",["T_CONSTANT_ENCAPSED_STRING","'grand_total'",150],"]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_NEW","new",150],["T_WHITESPACE"," ",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Magento",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Framework",150],["T_NS_SEPARATOR","\\",150],["T_STRING","DataObject",150],"(",["T_WHITESPACE","\n            ",150],"[",["T_WHITESPACE","\n                ",151],["T_CONSTANT_ENCAPSED_STRING","'code'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",152],",",["T_WHITESPACE","\n                ",152],["T_CONSTANT_ENCAPSED_STRING","'field'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",153],",",["T_WHITESPACE","\n                ",153],["T_CONSTANT_ENCAPSED_STRING","'strong'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_STRING","true",154],",",["T_WHITESPACE","\n                ",154],["T_CONSTANT_ENCAPSED_STRING","'value'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$source",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getGrandTotal",155],"(",")",",",["T_WHITESPACE","\n                ",155],["T_CONSTANT_ENCAPSED_STRING","'label'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_STRING","__",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Grand Total'",156],")",",",["T_WHITESPACE","\n            ",156],"]",["T_WHITESPACE","\n        ",157],")",";",["T_WHITESPACE","\n\n        ",158],["T_DOC_COMMENT","\/**\n         * Base grandtotal\n         *\/",160],["T_WHITESPACE","\n        ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getOrder",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","isCurrencyDifferent",163],"(",")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_totals",164],"[",["T_CONSTANT_ENCAPSED_STRING","'base_grandtotal'",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_NEW","new",164],["T_WHITESPACE"," ",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Magento",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Framework",164],["T_NS_SEPARATOR","\\",164],["T_STRING","DataObject",164],"(",["T_WHITESPACE","\n                ",164],"[",["T_WHITESPACE","\n                    ",165],["T_CONSTANT_ENCAPSED_STRING","'code'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'base_grandtotal'",166],",",["T_WHITESPACE","\n                    ",166],["T_CONSTANT_ENCAPSED_STRING","'value'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getOrder",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","formatBasePrice",167],"(",["T_VARIABLE","$source",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getBaseGrandTotal",167],"(",")",")",",",["T_WHITESPACE","\n                    ",167],["T_CONSTANT_ENCAPSED_STRING","'label'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","__",168],"(",["T_CONSTANT_ENCAPSED_STRING","'Grand Total to be Charged'",168],")",",",["T_WHITESPACE","\n                    ",168],["T_CONSTANT_ENCAPSED_STRING","'is_formated'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_STRING","true",169],",",["T_WHITESPACE","\n                ",169],"]",["T_WHITESPACE","\n            ",170],")",";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Add new total to totals array after specific total or before last total by default\n     *\n     * @param   \\Magento\\Framework\\DataObject $total\n     * @param   null|string $after\n     * @return  $this\n     *\/",176],["T_WHITESPACE","\n    ",182],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","addTotal",183],"(",["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Framework",183],["T_NS_SEPARATOR","\\",183],["T_STRING","DataObject",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$total",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$after",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","null",183],")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$after",185],["T_WHITESPACE"," ",185],["T_IS_NOT_IDENTICAL","!==",185],["T_WHITESPACE"," ",185],["T_STRING","null",185],["T_WHITESPACE"," ",185],["T_BOOLEAN_AND","&&",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$after",185],["T_WHITESPACE"," ",185],["T_IS_NOT_EQUAL","!=",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'last'",185],["T_WHITESPACE"," ",185],["T_BOOLEAN_AND","&&",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$after",185],["T_WHITESPACE"," ",185],["T_IS_NOT_EQUAL","!=",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'first'",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$totals",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],"[","]",";",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$added",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","false",187],";",["T_WHITESPACE","\n            ",187],["T_FOREACH","foreach",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_totals",188],["T_WHITESPACE"," ",188],["T_AS","as",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$code",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$item",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                ",188],["T_VARIABLE","$totals",189],"[",["T_VARIABLE","$code",189],"]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$item",189],";",["T_WHITESPACE","\n                ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$code",190],["T_WHITESPACE"," ",190],["T_IS_EQUAL","==",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$after",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$added",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","true",191],";",["T_WHITESPACE","\n                    ",191],["T_VARIABLE","$totals",192],"[",["T_VARIABLE","$total",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getCode",192],"(",")","]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$total",192],";",["T_WHITESPACE","\n                ",192],"}",["T_WHITESPACE","\n            ",193],"}",["T_WHITESPACE","\n            ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(","!",["T_VARIABLE","$added",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                ",195],["T_VARIABLE","$last",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","array_pop",196],"(",["T_VARIABLE","$totals",196],")",";",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$totals",197],"[",["T_VARIABLE","$total",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getCode",197],"(",")","]",["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$total",197],";",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$totals",198],"[",["T_VARIABLE","$last",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getCode",198],"(",")","]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$last",198],";",["T_WHITESPACE","\n            ",198],"}",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_totals",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$totals",200],";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE"," ",201],["T_ELSEIF","elseif",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$after",201],["T_WHITESPACE"," ",201],["T_IS_EQUAL","==",201],["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'last'",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_totals",202],"[",["T_VARIABLE","$total",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getCode",202],"(",")","]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$total",202],";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE"," ",203],["T_ELSEIF","elseif",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$after",203],["T_WHITESPACE"," ",203],["T_IS_EQUAL","==",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'first'",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$totals",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],"[",["T_VARIABLE","$total",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getCode",204],"(",")",["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$total",204],"]",";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_totals",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","array_merge",205],"(",["T_VARIABLE","$totals",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_totals",205],")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE"," ",206],["T_ELSE","else",206],["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$last",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","array_pop",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_totals",207],")",";",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_totals",208],"[",["T_VARIABLE","$total",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getCode",208],"(",")","]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$total",208],";",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_totals",209],"[",["T_VARIABLE","$last",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getCode",209],"(",")","]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$last",209],";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Add new total to totals array before specific total or after first total by default\n     *\n     * @param   \\Magento\\Framework\\DataObject $total\n     * @param   null|string $before\n     * @return  $this\n     *\/",214],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","addTotalBefore",221],"(",["T_NS_SEPARATOR","\\",221],["T_STRING","Magento",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Framework",221],["T_NS_SEPARATOR","\\",221],["T_STRING","DataObject",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$total",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$before",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","null",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$before",223],["T_WHITESPACE"," ",223],["T_IS_NOT_IDENTICAL","!==",223],["T_WHITESPACE"," ",223],["T_STRING","null",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(","!",["T_STRING","is_array",224],"(",["T_VARIABLE","$before",224],")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$before",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],"[",["T_VARIABLE","$before",225],"]",";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n            ",226],["T_FOREACH","foreach",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$before",227],["T_WHITESPACE"," ",227],["T_AS","as",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$beforeTotals",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_ISSET","isset",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_totals",228],"[",["T_VARIABLE","$beforeTotals",228],"]",")",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                    ",228],["T_VARIABLE","$totals",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],"[","]",";",["T_WHITESPACE","\n                    ",229],["T_FOREACH","foreach",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_totals",230],["T_WHITESPACE"," ",230],["T_AS","as",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$code",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$item",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                        ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$code",231],["T_WHITESPACE"," ",231],["T_IS_EQUAL","==",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$beforeTotals",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                            ",231],["T_VARIABLE","$totals",232],"[",["T_VARIABLE","$total",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getCode",232],"(",")","]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$total",232],";",["T_WHITESPACE","\n                        ",232],"}",["T_WHITESPACE","\n                        ",233],["T_VARIABLE","$totals",234],"[",["T_VARIABLE","$code",234],"]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$item",234],";",["T_WHITESPACE","\n                    ",234],"}",["T_WHITESPACE","\n                    ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_totals",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$totals",236],";",["T_WHITESPACE","\n                    ",236],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],";",["T_WHITESPACE","\n                ",237],"}",["T_WHITESPACE","\n            ",238],"}",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$totals",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],"[","]",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$first",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","array_shift",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_totals",242],")",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$totals",243],"[",["T_VARIABLE","$first",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getCode",243],"(",")","]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$first",243],";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$totals",244],"[",["T_VARIABLE","$total",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getCode",244],"(",")","]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$total",244],";",["T_WHITESPACE","\n        ",244],["T_FOREACH","foreach",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_totals",245],["T_WHITESPACE"," ",245],["T_AS","as",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$code",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$item",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$totals",246],"[",["T_VARIABLE","$code",246],"]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$item",246],";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_totals",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$totals",248],";",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Get Total object by code\n     *\n     * @param string $code\n     * @return mixed\n     *\/",252],["T_WHITESPACE","\n    ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","getTotal",258],"(",["T_VARIABLE","$code",258],")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_ISSET","isset",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_totals",260],"[",["T_VARIABLE","$code",260],"]",")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n            ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_totals",261],"[",["T_VARIABLE","$code",261],"]",";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n        ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_STRING","false",263],";",["T_WHITESPACE","\n    ",263],"}",["T_WHITESPACE","\n\n    ",264],["T_DOC_COMMENT","\/**\n     * Delete total by specific\n     *\n     * @param   string $code\n     * @return  $this\n     *\/",266],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","removeTotal",272],"(",["T_VARIABLE","$code",272],")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_UNSET","unset",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_totals",274],"[",["T_VARIABLE","$code",274],"]",")",";",["T_WHITESPACE","\n        ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * Apply sort orders to totals array.\n     * Array should have next structure\n     * array(\n     *  $totalCode => $totalSortOrder\n     * )\n     *\n     *\n     * @param   array $order\n     * @return  $this\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",278],["T_WHITESPACE","\n    ",289],["T_PUBLIC","public",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","applySortOrder",290],"(",["T_VARIABLE","$order",290],")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_DOC_COMMENT","\/**\n     * get totals array for visualization\n     *\n     * @param array|null $area\n     * @return array\n     *\/",295],["T_WHITESPACE","\n    ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","getTotals",301],"(",["T_VARIABLE","$area",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","null",301],")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$totals",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],"[","]",";",["T_WHITESPACE","\n        ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$area",304],["T_WHITESPACE"," ",304],["T_IS_IDENTICAL","===",304],["T_WHITESPACE"," ",304],["T_STRING","null",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$totals",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_totals",305],";",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE"," ",306],["T_ELSE","else",306],["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$area",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING_CAST","(string)",307],["T_VARIABLE","$area",307],";",["T_WHITESPACE","\n            ",307],["T_FOREACH","foreach",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_totals",308],["T_WHITESPACE"," ",308],["T_AS","as",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$total",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                ",308],["T_VARIABLE","$totalArea",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING_CAST","(string)",309],["T_VARIABLE","$total",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getArea",309],"(",")",";",["T_WHITESPACE","\n                ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$totalArea",310],["T_WHITESPACE"," ",310],["T_IS_EQUAL","==",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$area",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n                    ",310],["T_VARIABLE","$totals",311],"[","]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$total",311],";",["T_WHITESPACE","\n                ",311],"}",["T_WHITESPACE","\n            ",312],"}",["T_WHITESPACE","\n        ",313],"}",["T_WHITESPACE","\n        ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$totals",315],";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * Format total value based on order currency\n     *\n     * @param   \\Magento\\Framework\\DataObject $total\n     * @return  string\n     *\/",318],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","formatValue",324],"(",["T_VARIABLE","$total",324],")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(","!",["T_VARIABLE","$total",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getIsFormated",326],"(",")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getOrder",327],"(",")",["T_OBJECT_OPERATOR","->",327],["T_STRING","formatPrice",327],"(",["T_VARIABLE","$total",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getValue",327],"(",")",")",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n        ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$total",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getValue",329],"(",")",";",["T_WHITESPACE","\n    ",329],"}",["T_WHITESPACE","\n",330],"}",["T_WHITESPACE","\n",331]]