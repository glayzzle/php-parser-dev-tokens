[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Eav",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AttributeDataFactory",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","NoSuchEntityException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sales",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Order",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Address",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Order history block\n * Class Info\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Info",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Sales",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Block",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Adminhtml",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Order",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractOrder",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Customer service\n     *\n     * @var \\Magento\\Customer\\Api\\CustomerMetadataInterface\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$metadata",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Group service\n     *\n     * @var \\Magento\\Customer\\Api\\GroupRepositoryInterface\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$groupRepository",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Metadata element factory\n     *\n     * @var \\Magento\\Customer\\Model\\Metadata\\ElementFactory\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_metadataElementFactory",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var Address\\Renderer\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$addressRenderer",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Sales\\Helper\\Admin $adminHelper\n     * @param \\Magento\\Customer\\Api\\GroupRepositoryInterface $groupRepository\n     * @param \\Magento\\Customer\\Api\\CustomerMetadataInterface $metadata\n     * @param \\Magento\\Customer\\Model\\Metadata\\ElementFactory $elementFactory\n     * @param \\Magento\\Sales\\Model\\Order\\Address\\Renderer $addressRenderer\n     * @param array $data\n     *\/",45],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",["T_WHITESPACE","\n        ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Backend",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Block",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Template",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Context",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$context",58],",",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Framework",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Registry",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$registry",59],",",["T_WHITESPACE","\n        ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Sales",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Helper",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Admin",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$adminHelper",60],",",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Customer",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Api",61],["T_NS_SEPARATOR","\\",61],["T_STRING","GroupRepositoryInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$groupRepository",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Customer",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Api",62],["T_NS_SEPARATOR","\\",62],["T_STRING","CustomerMetadataInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$metadata",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Customer",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Model",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Metadata",63],["T_NS_SEPARATOR","\\",63],["T_STRING","ElementFactory",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$elementFactory",63],",",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Sales",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Model",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Order",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Address",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Renderer",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$addressRenderer",64],",",["T_WHITESPACE","\n        ",64],["T_ARRAY","array",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$data",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[","]",["T_WHITESPACE","\n    ",65],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","groupRepository",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$groupRepository",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","metadata",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$metadata",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_metadataElementFactory",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$elementFactory",69],";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","addressRenderer",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$addressRenderer",70],";",["T_WHITESPACE","\n        ",70],["T_STRING","parent",71],["T_DOUBLE_COLON","::",71],["T_STRING","__construct",71],"(",["T_VARIABLE","$context",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$registry",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$adminHelper",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$data",71],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Retrieve required options from parent\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return void\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","_beforeToHtml",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(","!",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getParentBlock",82],"(",")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_THROW","throw",83],["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Framework",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Exception",83],["T_NS_SEPARATOR","\\",83],["T_STRING","LocalizedException",83],"(",["T_WHITESPACE","\n                ",83],["T_STRING","__",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Please correct the parent block for this block.'",84],")",["T_WHITESPACE","\n            ",84],")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setOrder",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getParentBlock",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","getOrder",87],"(",")",")",";",["T_WHITESPACE","\n\n        ",87],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getParentBlock",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getOrderInfoData",89],"(",")",["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$key",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$value",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setDataUsingMethod",90],"(",["T_VARIABLE","$key",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$value",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_STRING","parent",93],["T_DOUBLE_COLON","::",93],["T_STRING","_beforeToHtml",93],"(",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Get order store name\n     *\n     * @return null|string\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","getOrderStoreName",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getOrder",103],"(",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$storeId",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getOrder",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getStoreId",104],"(",")",";",["T_WHITESPACE","\n            ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$storeId",105],["T_WHITESPACE"," ",105],["T_IS_IDENTICAL","===",105],["T_WHITESPACE"," ",105],["T_STRING","null",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$deleted",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","__",106],"(",["T_CONSTANT_ENCAPSED_STRING","' [deleted]'",106],")",";",["T_WHITESPACE","\n                ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_STRING","nl2br",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getOrder",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getStoreName",107],"(",")",")",["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$deleted",107],";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$store",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_storeManager",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getStore",109],"(",["T_VARIABLE","$storeId",109],")",";",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$name",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],"[",["T_VARIABLE","$store",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getWebsite",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getName",110],"(",")",",",["T_WHITESPACE"," ",110],["T_VARIABLE","$store",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getGroup",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getName",110],"(",")",",",["T_WHITESPACE"," ",110],["T_VARIABLE","$store",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getName",110],"(",")","]",";",["T_WHITESPACE","\n            ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_STRING","implode",111],"(",["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$name",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n\n        ",112],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_STRING","null",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Return name of the customer group.\n     *\n     * @return string\n     *\/",117],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","getCustomerGroupName",122],"(",")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getOrder",124],"(",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$customerGroupId",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getOrder",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getCustomerGroupId",125],"(",")",";",["T_WHITESPACE","\n            ",125],["T_TRY","try",126],["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$customerGroupId",127],["T_WHITESPACE"," ",127],["T_IS_NOT_IDENTICAL","!==",127],["T_WHITESPACE"," ",127],["T_STRING","null",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                    ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","groupRepository",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getById",128],"(",["T_VARIABLE","$customerGroupId",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getCode",128],"(",")",";",["T_WHITESPACE","\n                ",128],"}",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE"," ",130],["T_CATCH","catch",130],["T_WHITESPACE"," ",130],"(",["T_STRING","NoSuchEntityException",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$e",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","''",131],";",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","''",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Get URL to edit the customer.\n     *\n     * @return string\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","getCustomerViewUrl",143],"(",")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getOrder",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getCustomerIsGuest",145],"(",")",["T_WHITESPACE"," ",145],["T_BOOLEAN_OR","||",145],["T_WHITESPACE"," ",145],"!",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getOrder",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getCustomerId",145],"(",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","''",146],";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getUrl",149],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/index\/edit'",149],",",["T_WHITESPACE"," ",149],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getOrder",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getCustomerId",149],"(",")","]",")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Get order view URL.\n     *\n     * @param int $orderId\n     * @return string\n     *\/",152],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","getViewUrl",158],"(",["T_VARIABLE","$orderId",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getUrl",160],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order\/view'",160],",",["T_WHITESPACE"," ",160],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$orderId",160],"]",")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Find sort order for account data\n     * Sort Order used as array key\n     *\n     * @param array $data\n     * @param int $sortOrder\n     * @return int\n     *\/",163],["T_WHITESPACE","\n    ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","_prepareAccountDataSortOrder",171],"(",["T_ARRAY","array",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$data",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$sortOrder",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_ISSET","isset",173],"(",["T_VARIABLE","$data",173],"[",["T_VARIABLE","$sortOrder",173],"]",")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_prepareAccountDataSortOrder",174],"(",["T_VARIABLE","$data",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$sortOrder",174],["T_WHITESPACE"," ",174],"+",["T_WHITESPACE"," ",174],["T_LNUMBER","1",174],")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$sortOrder",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Return array of additional account data\n     * Value is option style array\n     *\n     * @return array\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getCustomerAccountData",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$accountData",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],"[","]",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$entityType",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'customer'",189],";",["T_WHITESPACE","\n\n        ",189],["T_COMMENT","\/* @var \\Magento\\Customer\\Api\\Data\\AttributeMetadataInterface $attribute *\/",191],["T_WHITESPACE","\n        ",191],["T_FOREACH","foreach",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","metadata",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getAllAttributesMetadata",192],"(",["T_VARIABLE","$entityType",192],")",["T_WHITESPACE"," ",192],["T_AS","as",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$attribute",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(","!",["T_VARIABLE","$attribute",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","isVisible",193],"(",")",["T_WHITESPACE"," ",193],["T_BOOLEAN_OR","||",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$attribute",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","isSystem",193],"(",")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n                ",193],["T_CONTINUE","continue",194],";",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$orderKey",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","sprintf",196],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_%s'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$attribute",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getAttributeCode",196],"(",")",")",";",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$orderValue",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getOrder",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","getData",197],"(",["T_VARIABLE","$orderKey",197],")",";",["T_WHITESPACE","\n            ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$orderValue",198],["T_WHITESPACE"," ",198],["T_IS_NOT_EQUAL","!=",198],["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","''",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                ",198],["T_VARIABLE","$metadataElement",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_metadataElementFactory",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","create",199],"(",["T_VARIABLE","$attribute",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$orderValue",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$entityType",199],")",";",["T_WHITESPACE","\n                ",199],["T_VARIABLE","$value",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$metadataElement",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","outputValue",200],"(",["T_STRING","AttributeDataFactory",200],["T_DOUBLE_COLON","::",200],["T_STRING","OUTPUT_FORMAT_HTML",200],")",";",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$sortOrder",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$attribute",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getSortOrder",201],"(",")",["T_WHITESPACE"," ",201],"+",["T_WHITESPACE"," ",201],["T_VARIABLE","$attribute",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","isUserDefined",201],"(",")",["T_WHITESPACE"," ",201],"?",["T_WHITESPACE"," ",201],["T_LNUMBER","200",201],["T_WHITESPACE"," ",201],":",["T_WHITESPACE"," ",201],["T_LNUMBER","0",201],";",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$sortOrder",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_prepareAccountDataSortOrder",202],"(",["T_VARIABLE","$accountData",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$sortOrder",202],")",";",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$accountData",203],"[",["T_VARIABLE","$sortOrder",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],"[",["T_WHITESPACE","\n                    ",203],["T_CONSTANT_ENCAPSED_STRING","'label'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$attribute",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getFrontendLabel",204],"(",")",",",["T_WHITESPACE","\n                    ",204],["T_CONSTANT_ENCAPSED_STRING","'value'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","escapeHtml",205],"(",["T_VARIABLE","$value",205],",",["T_WHITESPACE"," ",205],"[",["T_CONSTANT_ENCAPSED_STRING","'br'",205],"]",")",",",["T_WHITESPACE","\n                ",205],"]",";",["T_WHITESPACE","\n            ",206],"}",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n        ",208],["T_STRING","ksort",209],"(",["T_VARIABLE","$accountData",209],",",["T_WHITESPACE"," ",209],["T_STRING","SORT_NUMERIC",209],")",";",["T_WHITESPACE","\n\n        ",209],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$accountData",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Get link to edit order address page\n     *\n     * @param \\Magento\\Sales\\Model\\Order\\Address $address\n     * @param string $label\n     * @return string\n     *\/",214],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","getAddressEditLink",221],"(",["T_VARIABLE","$address",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$label",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","''",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_authorization",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","isAllowed",223],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Sales::actions_edit'",223],")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_EMPTY","empty",224],"(",["T_VARIABLE","$label",224],")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$label",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","__",225],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit'",225],")",";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$url",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getUrl",227],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order\/address'",227],",",["T_WHITESPACE"," ",227],"[",["T_CONSTANT_ENCAPSED_STRING","'address_id'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$address",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getId",227],"(",")","]",")",";",["T_WHITESPACE","\n            ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'<a href=\"'",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE"," ",228],["T_VARIABLE","$url",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'\">'",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE"," ",228],["T_VARIABLE","$label",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'<\/a>'",228],";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","''",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Whether Customer IP address should be displayed on sales documents\n     *\n     * @return bool\n     *\/",234],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","shouldDisplayCustomerIp",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],"!",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_scopeConfig",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","isSetFlag",241],"(",["T_WHITESPACE","\n            ",241],["T_CONSTANT_ENCAPSED_STRING","'sales\/general\/hide_customer_ip'",242],",",["T_WHITESPACE","\n            ",242],["T_NS_SEPARATOR","\\",243],["T_STRING","Magento",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Store",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Model",243],["T_NS_SEPARATOR","\\",243],["T_STRING","ScopeInterface",243],["T_DOUBLE_COLON","::",243],["T_STRING","SCOPE_STORE",243],",",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getOrder",244],"(",")",["T_OBJECT_OPERATOR","->",244],["T_STRING","getStoreId",244],"(",")",["T_WHITESPACE","\n        ",244],")",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Check if is single store mode\n     *\n     * @return bool\n     *\/",248],["T_WHITESPACE","\n    ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","isSingleStoreMode",253],"(",")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_storeManager",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","isSingleStoreMode",255],"(",")",";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * Get object created at date affected with object store timezone\n     *\n     * @param mixed $store\n     * @param string $createdAt\n     * @return \\DateTime\n     *\/",258],["T_WHITESPACE","\n    ",264],["T_PUBLIC","public",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","getCreatedAtStoreDate",265],"(",["T_VARIABLE","$store",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$createdAt",265],")",["T_WHITESPACE","\n    ",265],"{",["T_WHITESPACE","\n        ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_localeDate",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","scopeDate",267],"(",["T_VARIABLE","$store",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$createdAt",267],",",["T_WHITESPACE"," ",267],["T_STRING","true",267],")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Get timezone for store\n     *\n     * @param mixed $store\n     * @return string\n     *\/",270],["T_WHITESPACE","\n    ",275],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","getTimezoneForStore",276],"(",["T_VARIABLE","$store",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_localeDate",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getConfigTimezone",278],"(",["T_WHITESPACE","\n            ",278],["T_NS_SEPARATOR","\\",279],["T_STRING","Magento",279],["T_NS_SEPARATOR","\\",279],["T_STRING","Store",279],["T_NS_SEPARATOR","\\",279],["T_STRING","Model",279],["T_NS_SEPARATOR","\\",279],["T_STRING","ScopeInterface",279],["T_DOUBLE_COLON","::",279],["T_STRING","SCOPE_STORE",279],",",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$store",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getCode",280],"(",")",["T_WHITESPACE","\n        ",280],")",";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Get object created at date\n     *\n     * @param string $createdAt\n     * @return \\DateTime\n     *\/",284],["T_WHITESPACE","\n    ",289],["T_PUBLIC","public",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","getOrderAdminDate",290],"(",["T_VARIABLE","$createdAt",290],")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","_localeDate",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","date",292],"(",["T_NEW","new",292],["T_WHITESPACE"," ",292],["T_NS_SEPARATOR","\\",292],["T_STRING","DateTime",292],"(",["T_VARIABLE","$createdAt",292],")",")",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_DOC_COMMENT","\/**\n     * Returns string with formatted address\n     *\n     * @param Address $address\n     * @return null|string\n     *\/",295],["T_WHITESPACE","\n    ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","getFormattedAddress",301],"(",["T_STRING","Address",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$address",301],")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","addressRenderer",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","format",303],"(",["T_VARIABLE","$address",303],",",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'html'",303],")",";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n",304],"}",["T_WHITESPACE","\n",305]]