[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Creditmemo",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Create",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Adminhtml credit memo items grid\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Items",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Sales",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Block",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Adminhtml",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Items",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractItems",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$_canReturnToStock",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * Sales data\n     *\n     * @var \\Magento\\Sales\\Helper\\Data\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_salesData",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry\n     * @param \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface $stockConfiguration\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Sales\\Helper\\Data $salesData\n     * @param array $data\n     *\/",25],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Backend",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Block",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Template",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Context",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$context",34],",",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","CatalogInventory",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Api",35],["T_NS_SEPARATOR","\\",35],["T_STRING","StockRegistryInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$stockRegistry",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","CatalogInventory",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Api",36],["T_NS_SEPARATOR","\\",36],["T_STRING","StockConfigurationInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$stockConfiguration",36],",",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Framework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Registry",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$registry",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Sales",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Helper",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Data",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$salesData",38],",",["T_WHITESPACE","\n        ",38],["T_ARRAY","array",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$data",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],"[","]",["T_WHITESPACE","\n    ",39],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_salesData",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$salesData",41],";",["T_WHITESPACE","\n        ",41],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","__construct",42],"(",["T_VARIABLE","$context",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$stockRegistry",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$stockConfiguration",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$registry",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$data",42],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Prepare child blocks\n     *\n     * @return $this\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","_prepareLayout",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$onclick",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","\"submitAndReloadArea($('creditmemo_item_container'),'\"",52],["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getUpdateUrl",52],"(",")",["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","\"')\"",52],";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","addChild",53],"(",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'update_button'",54],",",["T_WHITESPACE","\n            ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Backend",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Block",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Widget",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Button",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],",",["T_WHITESPACE","\n            ",55],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","__",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Update Qty\\'s'",56],")",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'class'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'update-button'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'onclick'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$onclick",56],"]",["T_WHITESPACE","\n        ",56],")",";",["T_WHITESPACE","\n\n        ",57],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getCreditmemo",59],"(",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","canRefund",59],"(",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getCreditmemo",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getInvoice",60],"(",")",["T_WHITESPACE"," ",60],["T_BOOLEAN_AND","&&",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getCreditmemo",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getInvoice",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getTransactionId",60],"(",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","addChild",61],"(",["T_WHITESPACE","\n                    ",61],["T_CONSTANT_ENCAPSED_STRING","'submit_button'",62],",",["T_WHITESPACE","\n                    ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Backend",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Block",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Widget",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Button",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],",",["T_WHITESPACE","\n                    ",63],"[",["T_WHITESPACE","\n                        ",64],["T_CONSTANT_ENCAPSED_STRING","'label'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","__",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Refund'",65],")",",",["T_WHITESPACE","\n                        ",65],["T_CONSTANT_ENCAPSED_STRING","'class'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'save submit-button refund primary'",66],",",["T_WHITESPACE","\n                        ",66],["T_CONSTANT_ENCAPSED_STRING","'onclick'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'disableElements(\\'submit-button\\');submitCreditMemo()'",67],["T_WHITESPACE","\n                    ",67],"]",["T_WHITESPACE","\n                ",68],")",";",["T_WHITESPACE","\n            ",69],"}",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","addChild",71],"(",["T_WHITESPACE","\n                ",71],["T_CONSTANT_ENCAPSED_STRING","'submit_offline'",72],",",["T_WHITESPACE","\n                ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Backend",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Block",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Widget",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Button",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],",",["T_WHITESPACE","\n                ",73],"[",["T_WHITESPACE","\n                    ",74],["T_CONSTANT_ENCAPSED_STRING","'label'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","__",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Refund Offline'",75],")",",",["T_WHITESPACE","\n                    ",75],["T_CONSTANT_ENCAPSED_STRING","'class'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'save submit-button primary'",76],",",["T_WHITESPACE","\n                    ",76],["T_CONSTANT_ENCAPSED_STRING","'onclick'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'disableElements(\\'submit-button\\');submitCreditMemoOffline()'",77],["T_WHITESPACE","\n                ",77],"]",["T_WHITESPACE","\n            ",78],")",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE"," ",80],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","addChild",81],"(",["T_WHITESPACE","\n                ",81],["T_CONSTANT_ENCAPSED_STRING","'submit_button'",82],",",["T_WHITESPACE","\n                ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Backend",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Block",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Widget",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Button",83],["T_DOUBLE_COLON","::",83],["T_CLASS","class",83],",",["T_WHITESPACE","\n                ",83],"[",["T_WHITESPACE","\n                    ",84],["T_CONSTANT_ENCAPSED_STRING","'label'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_STRING","__",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Refund Offline'",85],")",",",["T_WHITESPACE","\n                    ",85],["T_CONSTANT_ENCAPSED_STRING","'class'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'save submit-button primary'",86],",",["T_WHITESPACE","\n                    ",86],["T_CONSTANT_ENCAPSED_STRING","'onclick'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'disableElements(\\'submit-button\\');submitCreditMemoOffline()'",87],["T_WHITESPACE","\n                ",87],"]",["T_WHITESPACE","\n            ",88],")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n\n        ",90],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_STRING","parent",92],["T_DOUBLE_COLON","::",92],["T_STRING","_prepareLayout",92],"(",")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Retrieve invoice order\n     *\n     * @return \\Magento\\Sales\\Model\\Order\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getOrder",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getCreditmemo",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getOrder",102],"(",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Retrieve source\n     *\n     * @return \\Magento\\Sales\\Model\\Order\\Creditmemo\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","getSource",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getCreditmemo",112],"(",")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Retrieve order totals block settings\n     *\n     * @return array\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getOrderTotalData",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],"[","]",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Retrieve order total bar block data\n     *\n     * @return array\n     *\/",125],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getOrderTotalbarData",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setPriceDataObject",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getOrder",132],"(",")",")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$totalBarData",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],"[","]",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$totalBarData",135],"[","]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],"[",["T_STRING","__",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Paid Amount'",135],")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","displayPriceAttribute",135],"(",["T_CONSTANT_ENCAPSED_STRING","'total_invoiced'",135],")",",",["T_WHITESPACE"," ",135],["T_STRING","false",135],"]",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$totalBarData",136],"[","]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],"[",["T_STRING","__",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Refund Amount'",136],")",",",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","displayPriceAttribute",136],"(",["T_CONSTANT_ENCAPSED_STRING","'total_refunded'",136],")",",",["T_WHITESPACE"," ",136],["T_STRING","false",136],"]",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$totalBarData",137],"[","]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"[",["T_STRING","__",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipping Amount'",137],")",",",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","displayPriceAttribute",137],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_invoiced'",137],")",",",["T_WHITESPACE"," ",137],["T_STRING","false",137],"]",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$totalBarData",138],"[","]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"[",["T_STRING","__",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipping Refund'",138],")",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","displayPriceAttribute",138],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_refunded'",138],")",",",["T_WHITESPACE"," ",138],["T_STRING","false",138],"]",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$totalBarData",139],"[","]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],"[",["T_STRING","__",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Order Grand Total'",139],")",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","displayPriceAttribute",139],"(",["T_CONSTANT_ENCAPSED_STRING","'grand_total'",139],")",",",["T_WHITESPACE"," ",139],["T_STRING","true",139],"]",";",["T_WHITESPACE","\n        ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$totalBarData",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Retrieve credit memo model instance\n     *\n     * @return \\Magento\\Sales\\Model\\Order\\Creditmemo\n     *\/",143],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","getCreditmemo",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_coreRegistry",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","registry",150],"(",["T_CONSTANT_ENCAPSED_STRING","'current_creditmemo'",150],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Check if allow to edit qty\n     *\n     * @return bool\n     *\/",153],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","canEditQty",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getCreditmemo",160],"(",")",["T_OBJECT_OPERATOR","->",160],["T_STRING","getOrder",160],"(",")",["T_OBJECT_OPERATOR","->",160],["T_STRING","getPayment",160],"(",")",["T_OBJECT_OPERATOR","->",160],["T_STRING","canRefund",160],"(",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getCreditmemo",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getOrder",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getPayment",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","canRefundPartialPerInvoice",161],"(",")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","true",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Get update button html\n     *\n     * @return string\n     *\/",166],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","getUpdateButtonHtml",171],"(",")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getChildHtml",173],"(",["T_CONSTANT_ENCAPSED_STRING","'update_button'",173],")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Get update url\n     *\n     * @return string\n     *\/",176],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getUpdateUrl",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getUrl",183],"(",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","'sales\/*\/updateQty'",184],",",["T_WHITESPACE","\n            ",184],"[",["T_WHITESPACE","\n                ",185],["T_CONSTANT_ENCAPSED_STRING","'order_id'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getCreditmemo",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getOrderId",186],"(",")",",",["T_WHITESPACE","\n                ",186],["T_CONSTANT_ENCAPSED_STRING","'invoice_id'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getRequest",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","getParam",187],"(",["T_CONSTANT_ENCAPSED_STRING","'invoice_id'",187],",",["T_WHITESPACE"," ",187],["T_STRING","null",187],")",["T_WHITESPACE","\n            ",187],"]",["T_WHITESPACE","\n        ",188],")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Whether to show 'Return to stock' column in creaditmemo grid\n     *\n     * @return bool\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","canReturnItemsToStock",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_canReturnToStock",199],["T_WHITESPACE"," ",199],["T_IS_IDENTICAL","===",199],["T_WHITESPACE"," ",199],["T_STRING","null",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_canReturnToStock",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","canReturnToStock",200],"(",")",";",["T_WHITESPACE","\n            ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_canReturnToStock",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$canReturnToStock",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","false",202],";",["T_WHITESPACE","\n                ",202],["T_FOREACH","foreach",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getCreditmemo",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getAllItems",203],"(",")",["T_WHITESPACE"," ",203],["T_AS","as",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$item",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                    ",203],["T_VARIABLE","$productId",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$item",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getOrderItem",204],"(",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","getProductId",204],"(",")",";",["T_WHITESPACE","\n                    ",204],["T_VARIABLE","$stockItem",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","stockRegistry",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getStockItem",205],"(",["T_WHITESPACE","\n                        ",205],["T_VARIABLE","$productId",206],",",["T_WHITESPACE","\n                        ",206],["T_VARIABLE","$item",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getOrderItem",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getStore",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getWebsiteId",207],"(",")",["T_WHITESPACE","\n                    ",207],")",";",["T_WHITESPACE","\n                    ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$stockItem",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getManageStock",209],"(",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                        ",209],["T_VARIABLE","$canReturnToStock",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","true",210],";",["T_WHITESPACE","\n                        ",210],["T_VARIABLE","$item",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setCanReturnToStock",211],"(",["T_VARIABLE","$canReturnToStock",211],")",";",["T_WHITESPACE","\n                    ",211],"}",["T_WHITESPACE"," ",212],["T_ELSE","else",212],["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                        ",212],["T_VARIABLE","$item",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","setCanReturnToStock",213],"(",["T_STRING","false",213],")",";",["T_WHITESPACE","\n                    ",213],"}",["T_WHITESPACE","\n                ",214],"}",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_canReturnToStock",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$canReturnToStock",216],";",["T_WHITESPACE","\n                ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getCreditmemo",217],"(",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","getOrder",217],"(",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","setCanReturnToStock",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_canReturnToStock",217],")",";",["T_WHITESPACE","\n            ",217],"}",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n        ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_canReturnToStock",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Check allow to send new credit memo email\n     *\n     * @return bool\n     *\/",223],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","canSendCreditmemoEmail",228],"(",")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_salesData",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","canSendNewCreditmemoEmail",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getOrder",230],"(",")",["T_OBJECT_OPERATOR","->",230],["T_STRING","getStore",230],"(",")",["T_OBJECT_OPERATOR","->",230],["T_STRING","getId",230],"(",")",")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n",231],"}",["T_WHITESPACE","\n",232]]