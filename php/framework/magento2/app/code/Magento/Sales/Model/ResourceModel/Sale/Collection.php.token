[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sale",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Collection",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityFactory",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Store",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","StoreManagerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Collection",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Db",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FetchStrategyInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Event",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ManagerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Psr",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Log",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LoggerInterface",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","Logger",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Sales Collection\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Collection",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ResourceModel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Db",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Collection",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractCollection",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Totals data\n     *\n     * @var array\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_totals",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_LNUMBER","0",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'base_lifetime'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_LNUMBER","0",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'base_avgsale'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_LNUMBER","0",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'num_orders'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_LNUMBER","0",24],"]",";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Customer Id\n     *\n     * @var int\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_customerId",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Order state value\n     *\n     * @var null|string|array\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_state",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","null",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Order state condition\n     *\n     * @var string\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_orderStateCondition",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","null",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\ResourceModel\\Store\\CollectionFactory\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_storeCollectionFactory",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var StoreManagerInterface\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_storeManager",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @param EntityFactory $entityFactory\n     * @param Logger $logger\n     * @param FetchStrategyInterface $fetchStrategy\n     * @param ManagerInterface $eventManager\n     * @param \\Magento\\Store\\Model\\ResourceModel\\Store\\CollectionFactory $storeCollectionFactory\n     * @param StoreManagerInterface $storeManager\n     *\/",57],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","__construct",65],"(",["T_WHITESPACE","\n        ",65],["T_STRING","EntityFactory",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$entityFactory",66],",",["T_WHITESPACE","\n        ",66],["T_STRING","Logger",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$logger",67],",",["T_WHITESPACE","\n        ",67],["T_STRING","FetchStrategyInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$fetchStrategy",68],",",["T_WHITESPACE","\n        ",68],["T_STRING","ManagerInterface",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$eventManager",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Store",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Model",70],["T_NS_SEPARATOR","\\",70],["T_STRING","ResourceModel",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Store",70],["T_NS_SEPARATOR","\\",70],["T_STRING","CollectionFactory",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$storeCollectionFactory",70],",",["T_WHITESPACE","\n        ",70],["T_STRING","StoreManagerInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$storeManager",71],["T_WHITESPACE","\n    ",71],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_storeCollectionFactory",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$storeCollectionFactory",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_storeManager",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$storeManager",74],";",["T_WHITESPACE","\n        ",74],["T_STRING","parent",75],["T_DOUBLE_COLON","::",75],["T_STRING","__construct",75],"(",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$entityFactory",76],",",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$logger",77],",",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$fetchStrategy",78],",",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$eventManager",79],["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","_construct",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_STRING","parent",88],["T_DOUBLE_COLON","::",88],["T_STRING","_construct",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_init",89],"(",["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Sales",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Model",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Order",89],["T_DOUBLE_COLON","::",89],["T_CLASS","class",89],",",["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Sales",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Model",89],["T_NS_SEPARATOR","\\",89],["T_STRING","ResourceModel",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Order",89],["T_DOUBLE_COLON","::",89],["T_CLASS","class",89],")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Set filter by customer Id\n     *\n     * @param int $customerId\n     * @return $this\n     *\/",92],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","setCustomerIdFilter",98],"(",["T_VARIABLE","$customerId",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_customerId",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_INT_CAST","(int)",100],["T_VARIABLE","$customerId",100],";",["T_WHITESPACE","\n        ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Add filter by stores\n     *\n     * @param array $storeIds\n     * @return $this\n     *\/",104],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","addStoreFilter",110],"(",["T_VARIABLE","$storeIds",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","addFieldToFilter",112],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",112],",",["T_WHITESPACE"," ",112],"[",["T_CONSTANT_ENCAPSED_STRING","'in'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$storeIds",112],"]",")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Set filter by order state\n     *\n     * @param string|array $state\n     * @param bool $exclude\n     * @return $this\n     *\/",115],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","setOrderStateFilter",122],"(",["T_VARIABLE","$state",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$exclude",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","false",122],")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_orderStateCondition",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$exclude",124],["T_WHITESPACE"," ",124],"?",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'NOT IN'",124],["T_WHITESPACE"," ",124],":",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'IN'",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_state",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"!",["T_STRING","is_array",125],"(",["T_VARIABLE","$state",125],")",["T_WHITESPACE"," ",125],"?",["T_WHITESPACE"," ",125],"[",["T_VARIABLE","$state",125],"]",["T_WHITESPACE"," ",125],":",["T_WHITESPACE"," ",125],["T_VARIABLE","$state",125],";",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Before load action\n     *\n     * @return $this\n     *\/",129],["T_WHITESPACE","\n    ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","_beforeLoad",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getSelect",136],"(",")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","columns",137],"(",["T_WHITESPACE","\n                ",137],"[",["T_WHITESPACE","\n                    ",138],["T_CONSTANT_ENCAPSED_STRING","'store_id'",139],",",["T_WHITESPACE","\n                    ",139],["T_CONSTANT_ENCAPSED_STRING","'lifetime'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_NEW","new",140],["T_WHITESPACE"," ",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Zend_Db_Expr",140],"(",["T_CONSTANT_ENCAPSED_STRING","'SUM(base_grand_total)'",140],")",",",["T_WHITESPACE","\n                    ",140],["T_CONSTANT_ENCAPSED_STRING","'base_lifetime'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Zend_Db_Expr",141],"(",["T_CONSTANT_ENCAPSED_STRING","'SUM(base_grand_total * base_to_global_rate)'",141],")",",",["T_WHITESPACE","\n                    ",141],["T_CONSTANT_ENCAPSED_STRING","'avgsale'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_NEW","new",142],["T_WHITESPACE"," ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Zend_Db_Expr",142],"(",["T_CONSTANT_ENCAPSED_STRING","'AVG(base_grand_total)'",142],")",",",["T_WHITESPACE","\n                    ",142],["T_CONSTANT_ENCAPSED_STRING","'base_avgsale'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Zend_Db_Expr",143],"(",["T_CONSTANT_ENCAPSED_STRING","'AVG(base_grand_total * base_to_global_rate)'",143],")",",",["T_WHITESPACE","\n                    ",143],["T_CONSTANT_ENCAPSED_STRING","'num_orders'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_NEW","new",144],["T_WHITESPACE"," ",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Zend_Db_Expr",144],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(base_grand_total)'",144],")",["T_WHITESPACE","\n                ",144],"]",["T_WHITESPACE","\n            ",145],")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","group",147],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",147],")",";",["T_WHITESPACE","\n\n        ",147],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_customerId",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","addFieldToFilter",150],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_customerId",150],")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_state",153],["T_WHITESPACE"," ",153],["T_IS_NOT_IDENTICAL","!==",153],["T_WHITESPACE"," ",153],["T_STRING","null",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$condition",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],";",["T_WHITESPACE","\n            ",154],["T_SWITCH","switch",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_orderStateCondition",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_CASE","case",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'IN'",156],":",["T_WHITESPACE","\n                    ",156],["T_VARIABLE","$condition",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'in'",157],";",["T_WHITESPACE","\n                    ",157],["T_BREAK","break",158],";",["T_WHITESPACE","\n                ",158],["T_CASE","case",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'NOT IN'",159],":",["T_WHITESPACE","\n                    ",159],["T_VARIABLE","$condition",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'nin'",160],";",["T_WHITESPACE","\n                    ",160],["T_BREAK","break",161],";",["T_WHITESPACE","\n            ",161],"}",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","addFieldToFilter",163],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",163],",",["T_WHITESPACE"," ",163],"[",["T_VARIABLE","$condition",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_state",163],"]",")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_eventManager",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","dispatch",166],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_sale_collection_query_before'",166],",",["T_WHITESPACE"," ",166],"[",["T_CONSTANT_ENCAPSED_STRING","'collection'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],"]",")",";",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Load data\n     *\n     * @param bool $printQuery\n     * @param bool $logQuery\n     * @return $this\n     *\/",170],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","load",177],"(",["T_VARIABLE","$printQuery",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","false",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$logQuery",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","false",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","isLoaded",179],"(",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_beforeLoad",183],"(",")",";",["T_WHITESPACE","\n\n        ",183],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_renderFilters",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","_renderOrders",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","_renderLimit",185],"(",")",";",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","printLogQuery",187],"(",["T_VARIABLE","$printQuery",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$logQuery",187],")",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$data",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getData",189],"(",")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","resetData",190],"(",")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$stores",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_storeCollectionFactory",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","create",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","setWithoutDefaultFilter",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","load",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","toOptionHash",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_items",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],"[","]",";",["T_WHITESPACE","\n        ",193],["T_FOREACH","foreach",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$data",194],["T_WHITESPACE"," ",194],["T_AS","as",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$v",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$storeObject",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Framework",195],["T_NS_SEPARATOR","\\",195],["T_STRING","DataObject",195],"(",["T_VARIABLE","$v",195],")",";",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$storeId",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$v",196],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",196],"]",";",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$storeName",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_ISSET","isset",197],"(",["T_VARIABLE","$stores",197],"[",["T_VARIABLE","$storeId",197],"]",")",["T_WHITESPACE"," ",197],"?",["T_WHITESPACE"," ",197],["T_VARIABLE","$stores",197],"[",["T_VARIABLE","$storeId",197],"]",["T_WHITESPACE"," ",197],":",["T_WHITESPACE"," ",197],["T_STRING","null",197],";",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$storeObject",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","setStoreName",198],"(",["T_WHITESPACE","\n                ",198],["T_VARIABLE","$storeName",199],["T_WHITESPACE","\n            ",199],")",["T_OBJECT_OPERATOR","->",200],["T_STRING","setWebsiteId",200],"(",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_storeManager",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getStore",201],"(",["T_VARIABLE","$storeId",201],")",["T_OBJECT_OPERATOR","->",201],["T_STRING","getWebsiteId",201],"(",")",["T_WHITESPACE","\n            ",201],")",["T_OBJECT_OPERATOR","->",202],["T_STRING","setAvgNormalized",202],"(",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$v",203],"[",["T_CONSTANT_ENCAPSED_STRING","'avgsale'",203],"]",["T_WHITESPACE"," ",203],"*",["T_WHITESPACE"," ",203],["T_VARIABLE","$v",203],"[",["T_CONSTANT_ENCAPSED_STRING","'num_orders'",203],"]",["T_WHITESPACE","\n            ",203],")",";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_items",205],"[",["T_VARIABLE","$storeId",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$storeObject",205],";",["T_WHITESPACE","\n            ",205],["T_FOREACH","foreach",206],["T_WHITESPACE"," ",206],"(",["T_STRING","array_keys",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_totals",206],")",["T_WHITESPACE"," ",206],["T_AS","as",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$key",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_totals",207],"[",["T_VARIABLE","$key",207],"]",["T_WHITESPACE"," ",207],["T_PLUS_EQUAL","+=",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$storeObject",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getData",207],"(",["T_VARIABLE","$key",207],")",";",["T_WHITESPACE","\n            ",207],"}",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n\n        ",209],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_totals",211],"[",["T_CONSTANT_ENCAPSED_STRING","'num_orders'",211],"]",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_totals",212],"[",["T_CONSTANT_ENCAPSED_STRING","'avgsale'",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_totals",212],"[",["T_CONSTANT_ENCAPSED_STRING","'base_lifetime'",212],"]",["T_WHITESPACE"," ",212],"\/",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_totals",212],"[",["T_CONSTANT_ENCAPSED_STRING","'num_orders'",212],"]",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_setIsLoaded",215],"(",")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_afterLoad",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Retrieve totals data converted into \\Magento\\Framework\\DataObject\n     *\n     * @return \\Magento\\Framework\\DataObject\n     *\/",220],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","getTotals",225],"(",")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_NEW","new",227],["T_WHITESPACE"," ",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Magento",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Framework",227],["T_NS_SEPARATOR","\\",227],["T_STRING","DataObject",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_totals",227],")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n",228],"}",["T_WHITESPACE","\n",229]]