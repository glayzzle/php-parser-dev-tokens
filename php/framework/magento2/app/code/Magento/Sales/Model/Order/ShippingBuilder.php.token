[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Sales",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ShippingInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ShippingInterfaceFactory",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sales",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TotalInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Sales",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TotalInterfaceFactory",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Sales",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Order",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sales",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","OrderFactory",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Class ShippingBuilder\n * @package Magento\\Sales\\Model\\Order\n *\/",15],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ShippingBuilder",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var int|null\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$orderId",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","null",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var Order\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$order",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var OrderFactory\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$orderFactory",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var ShippingInterfaceFactory\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$shippingFactory",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var TotalInterfaceFactory\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$totalFactory",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * ShippingBuilder constructor.\n     *\n     * @param OrderFactory $orderFactory\n     * @param ShippingInterfaceFactory $shippingFactory\n     * @param TotalInterfaceFactory $totalFactory\n     *\/",46],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","__construct",53],"(",["T_WHITESPACE","\n        ",53],["T_STRING","OrderFactory",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$orderFactory",54],",",["T_WHITESPACE","\n        ",54],["T_STRING","ShippingInterfaceFactory",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$shippingFactory",55],",",["T_WHITESPACE","\n        ",55],["T_STRING","TotalInterfaceFactory",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$totalFactory",56],["T_WHITESPACE","\n    ",56],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","orderFactory",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$orderFactory",58],";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","shippingFactory",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$shippingFactory",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","totalFactory",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$totalFactory",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @param int $orderId\n     * @return void\n     *\/",63],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","setOrderId",67],"(",["T_VARIABLE","$orderId",67],")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","orderId",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$orderId",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @return ShippingInterface|null\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","create",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$shipping",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","null",77],";",["T_WHITESPACE","\n        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getOrderId",78],"(",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","order",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","orderFactory",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","create",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","load",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getOrderId",79],"(",")",")",";",["T_WHITESPACE","\n            ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","order",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getEntityId",80],"(",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_DOC_COMMENT","\/** @var ShippingInterface $shipping *\/",81],["T_WHITESPACE","\n                ",81],["T_VARIABLE","$shipping",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","shippingFactory",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","create",82],"(",")",";",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$shippingAddress",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","order",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getShippingAddress",83],"(",")",";",["T_WHITESPACE","\n                ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$shippingAddress",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                    ",84],["T_VARIABLE","$shipping",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","setAddress",85],"(",["T_VARIABLE","$shippingAddress",85],")",";",["T_WHITESPACE","\n                ",85],"}",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$shipping",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setMethod",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","order",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getShippingMethod",87],"(",")",")",";",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$shipping",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setTotal",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getTotal",88],"(",")",")",";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$shipping",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * @return int|null\n     *\/",94],["T_WHITESPACE","\n    ",96],["T_PRIVATE","private",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getOrderId",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","orderId",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * @return TotalInterface\n     *\/",102],["T_WHITESPACE","\n    ",104],["T_PRIVATE","private",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getTotal",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_DOC_COMMENT","\/** @var TotalInterface $total *\/",107],["T_WHITESPACE","\n        ",107],["T_VARIABLE","$total",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","totalFactory",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","create",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$total",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","setBaseShippingAmount",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","order",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getBaseShippingAmount",109],"(",")",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$total",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setBaseShippingCanceled",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","order",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getBaseShippingCanceled",110],"(",")",")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$total",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setBaseShippingDiscountAmount",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","order",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getBaseShippingDiscountAmount",111],"(",")",")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$total",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setBaseShippingDiscountTaxCompensationAmnt",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","order",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getBaseShippingDiscountTaxCompensationAmnt",112],"(",")",")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$total",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setBaseShippingInclTax",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","order",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getBaseShippingInclTax",113],"(",")",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$total",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","setBaseShippingInvoiced",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","order",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getBaseShippingInvoiced",114],"(",")",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$total",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setBaseShippingRefunded",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","order",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getBaseShippingRefunded",115],"(",")",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$total",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","setBaseShippingTaxAmount",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","order",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getBaseShippingTaxAmount",116],"(",")",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$total",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setBaseShippingTaxRefunded",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","order",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getBaseShippingTaxRefunded",117],"(",")",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$total",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","setShippingAmount",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","order",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getShippingAmount",118],"(",")",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$total",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setShippingCanceled",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","order",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getShippingCanceled",119],"(",")",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$total",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setShippingDiscountAmount",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","order",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getShippingDiscountAmount",120],"(",")",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$total",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setShippingDiscountTaxCompensationAmount",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","order",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getShippingDiscountTaxCompensationAmount",121],"(",")",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$total",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setShippingInclTax",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","order",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getShippingInclTax",122],"(",")",")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$total",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setShippingInvoiced",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","order",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getShippingInvoiced",123],"(",")",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$total",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","setShippingRefunded",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","order",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getShippingRefunded",124],"(",")",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$total",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","setShippingTaxAmount",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","order",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getShippingTaxAmount",125],"(",")",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$total",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","setShippingTaxRefunded",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","order",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getShippingTaxRefunded",126],"(",")",")",";",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$total",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n",128],"}",["T_WHITESPACE","\n",129]]