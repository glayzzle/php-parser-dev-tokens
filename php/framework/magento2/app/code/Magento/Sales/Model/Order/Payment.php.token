[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Order",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ObjectManager",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Pricing",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PriceCurrencyInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sales",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Api",13],["T_NS_SEPARATOR","\\",13],["T_STRING","OrderRepositoryInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Sales",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Order",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Payment",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Info",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Sales",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Data",15],["T_NS_SEPARATOR","\\",15],["T_STRING","OrderPaymentInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Sales",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Order",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Sales",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Order",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Payment",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Transaction",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Sales",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Order",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Payment",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Transaction",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ManagerInterface",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Order payment information\n *\n * @method \\Magento\\Sales\\Model\\ResourceModel\\Order\\Payment _getResource()\n * @method \\Magento\\Sales\\Model\\ResourceModel\\Order\\Payment getResource()\n * @SuppressWarnings(PHPMD.ExcessivePublicCount)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",20],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","Payment",29],["T_WHITESPACE"," ",29],["T_EXTENDS","extends",29],["T_WHITESPACE"," ",29],["T_STRING","Info",29],["T_WHITESPACE"," ",29],["T_IMPLEMENTS","implements",29],["T_WHITESPACE"," ",29],["T_STRING","OrderPaymentInterface",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_DOC_COMMENT","\/**\n     * Actions for payment when it triggered review state\n     *\n     * @var string\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","REVIEW_ACTION_ACCEPT",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'accept'",36],";",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","REVIEW_ACTION_DENY",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'deny'",38],";",["T_WHITESPACE","\n\n    ",38],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","REVIEW_ACTION_UPDATE",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'update'",40],";",["T_WHITESPACE","\n\n    ",40],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","PARENT_TXN_ID",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'parent_transaction_id'",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Order model object\n     *\n     * @var Order\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_order",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Whether can void\n     * @var string\n     *\/",51],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_canVoidLookup",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","null",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_eventPrefix",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'sales_order_payment'",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_eventObject",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'payment'",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Transaction additional information container\n     *\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$transactionAdditionalInfo",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[","]",";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\CreditmemoFactory\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$creditmemoFactory",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * @var PriceCurrencyInterface\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$priceCurrency",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\TransactionRepositoryInterface\n     *\/",84],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$transactionRepository",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Payment\\Transaction\\ManagerInterface\n     *\/",89],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$transactionManager",92],";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Payment\\Transaction\\BuilderInterface\n     *\/",94],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$transactionBuilder",97],";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * @var Payment\\Processor\n     *\/",99],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$orderPaymentProcessor",102],";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * @var OrderRepositoryInterface\n     *\/",104],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$orderRepository",107],";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * @var OrderStateResolverInterface\n     *\/",109],["T_WHITESPACE","\n    ",111],["T_PRIVATE","private",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$orderStateResolver",112],";",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Api\\ExtensionAttributesFactory $extensionFactory\n     * @param \\Magento\\Framework\\Api\\AttributeValueFactory $customAttributeFactory\n     * @param \\Magento\\Payment\\Helper\\Data $paymentData\n     * @param \\Magento\\Framework\\Encryption\\EncryptorInterface $encryptor\n     * @param \\Magento\\Sales\\Model\\Order\\CreditmemoFactory $creditmemoFactory\n     * @param PriceCurrencyInterface $priceCurrency\n     * @param \\Magento\\Sales\\Api\\TransactionRepositoryInterface $transactionRepository\n     * @param \\Magento\\Sales\\Model\\Order\\Payment\\Transaction\\ManagerInterface $transactionManager\n     * @param Transaction\\BuilderInterface $transactionBuilder\n     * @param Payment\\Processor $paymentProcessor\n     * @param OrderRepositoryInterface $orderRepository\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",114],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","__construct",133],"(",["T_WHITESPACE","\n        ",133],["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Framework",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Model",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Context",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$context",134],",",["T_WHITESPACE","\n        ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Framework",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Registry",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$registry",135],",",["T_WHITESPACE","\n        ",135],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Api",136],["T_NS_SEPARATOR","\\",136],["T_STRING","ExtensionAttributesFactory",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$extensionFactory",136],",",["T_WHITESPACE","\n        ",136],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Framework",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Api",137],["T_NS_SEPARATOR","\\",137],["T_STRING","AttributeValueFactory",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$customAttributeFactory",137],",",["T_WHITESPACE","\n        ",137],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Payment",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Helper",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Data",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$paymentData",138],",",["T_WHITESPACE","\n        ",138],["T_NS_SEPARATOR","\\",139],["T_STRING","Magento",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Framework",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Encryption",139],["T_NS_SEPARATOR","\\",139],["T_STRING","EncryptorInterface",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$encryptor",139],",",["T_WHITESPACE","\n        ",139],["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Sales",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Model",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Order",140],["T_NS_SEPARATOR","\\",140],["T_STRING","CreditmemoFactory",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$creditmemoFactory",140],",",["T_WHITESPACE","\n        ",140],["T_STRING","PriceCurrencyInterface",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$priceCurrency",141],",",["T_WHITESPACE","\n        ",141],["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Sales",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Api",142],["T_NS_SEPARATOR","\\",142],["T_STRING","TransactionRepositoryInterface",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$transactionRepository",142],",",["T_WHITESPACE","\n        ",142],["T_STRING","ManagerInterface",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$transactionManager",143],",",["T_WHITESPACE","\n        ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Sales",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Model",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Order",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Payment",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Transaction",144],["T_NS_SEPARATOR","\\",144],["T_STRING","BuilderInterface",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$transactionBuilder",144],",",["T_WHITESPACE","\n        ",144],["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Sales",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Model",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Order",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Payment",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Processor",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$paymentProcessor",145],",",["T_WHITESPACE","\n        ",145],["T_STRING","OrderRepositoryInterface",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$orderRepository",146],",",["T_WHITESPACE","\n        ",146],["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Framework",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Model",147],["T_NS_SEPARATOR","\\",147],["T_STRING","ResourceModel",147],["T_NS_SEPARATOR","\\",147],["T_STRING","AbstractResource",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$resource",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","null",147],",",["T_WHITESPACE","\n        ",147],["T_NS_SEPARATOR","\\",148],["T_STRING","Magento",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Framework",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Data",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Collection",148],["T_NS_SEPARATOR","\\",148],["T_STRING","AbstractDb",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$resourceCollection",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","null",148],",",["T_WHITESPACE","\n        ",148],["T_ARRAY","array",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$data",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"[","]",["T_WHITESPACE","\n    ",149],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","priceCurrency",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$priceCurrency",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","creditmemoFactory",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$creditmemoFactory",152],";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","transactionRepository",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$transactionRepository",153],";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","transactionManager",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$transactionManager",154],";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","transactionBuilder",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$transactionBuilder",155],";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","orderPaymentProcessor",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$paymentProcessor",156],";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","orderRepository",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$orderRepository",157],";",["T_WHITESPACE","\n        ",157],["T_STRING","parent",158],["T_DOUBLE_COLON","::",158],["T_STRING","__construct",158],"(",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$context",159],",",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$registry",160],",",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$extensionFactory",161],",",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$customAttributeFactory",162],",",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$paymentData",163],",",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$encryptor",164],",",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$resource",165],",",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$resourceCollection",166],",",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$data",167],["T_WHITESPACE","\n        ",167],")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\n     * @return void\n     *\/",171],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","_construct",176],"(",")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_init",178],"(",["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Sales",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Model",178],["T_NS_SEPARATOR","\\",178],["T_STRING","ResourceModel",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Order",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Payment",178],["T_DOUBLE_COLON","::",178],["T_CLASS","class",178],")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Declare order model object\n     *\n     * @codeCoverageIgnore\n     *\n     * @param Order $order\n     * @return $this\n     *\/",181],["T_WHITESPACE","\n    ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","setOrder",189],"(",["T_STRING","Order",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$order",189],")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_order",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$order",191],";",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Retrieve order model object\n     *\n     * @codeCoverageIgnore\n     * @return Order\n     *\/",195],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","getOrder",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(","!",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_order",203],["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getParentId",203],"(",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_order",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","orderRepository",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","get",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getParentId",204],"(",")",")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_order",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Sets transaction id for current payment\n     *\n     * @param string $transactionId\n     * @return $this\n     *\/",210],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","setTransactionId",216],"(",["T_VARIABLE","$transactionId",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","setData",218],"(",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$transactionId",218],")",";",["T_WHITESPACE","\n        ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Return transaction id\n     *\n     * @return int\n     *\/",222],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","getTransactionId",227],"(",")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getData",229],"(",["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",229],")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Sets transaction close flag\n     *\n     * @param bool $isClosed\n     * @return $this\n     *\/",232],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","setIsTransactionClosed",238],"(",["T_VARIABLE","$isClosed",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","setData",240],"(",["T_CONSTANT_ENCAPSED_STRING","'is_transaction_closed'",240],",",["T_WHITESPACE"," ",240],["T_BOOL_CAST","(bool)",240],["T_VARIABLE","$isClosed",240],")",";",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Returns transaction parent\n     *\n     * @return string\n     *\/",244],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","getParentTransactionId",249],"(",")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getData",251],"(",["T_STRING","self",251],["T_DOUBLE_COLON","::",251],["T_STRING","PARENT_TXN_ID",251],")",";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Returns transaction parent\n     *\n     * @return string\n     *\/",254],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","setParentTransactionId",259],"(",["T_VARIABLE","$txnId",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","setData",261],"(",["T_STRING","self",261],["T_DOUBLE_COLON","::",261],["T_STRING","PARENT_TXN_ID",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$txnId",261],")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Check order payment capture action availability\n     *\n     * @return bool\n     *\/",264],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","canCapture",269],"(",")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(","!",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getMethodInstance",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","canCapture",271],"(",")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_STRING","false",272],";",["T_WHITESPACE","\n        ",272],"}",["T_WHITESPACE","\n        ",273],["T_COMMENT","\/\/ Check Authorization transaction state\n",274],["T_WHITESPACE","        ",275],["T_VARIABLE","$authTransaction",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getAuthorizationTransaction",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$authTransaction",276],["T_WHITESPACE"," ",276],["T_BOOLEAN_AND","&&",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$authTransaction",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getIsClosed",276],"(",")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$orderTransaction",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","transactionRepository",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getByTransactionType",277],"(",["T_WHITESPACE","\n                ",277],["T_STRING","Transaction",278],["T_DOUBLE_COLON","::",278],["T_STRING","TYPE_ORDER",278],",",["T_WHITESPACE","\n                ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getId",279],"(",")",",",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getOrder",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","getId",280],"(",")",["T_WHITESPACE","\n            ",280],")",";",["T_WHITESPACE","\n            ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(","!",["T_VARIABLE","$orderTransaction",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_STRING","false",283],";",["T_WHITESPACE","\n            ",283],"}",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_STRING","true",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * @return bool\n     *\/",289],["T_WHITESPACE","\n    ",291],["T_PUBLIC","public",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","canRefund",292],"(",")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getMethodInstance",294],"(",")",["T_OBJECT_OPERATOR","->",294],["T_STRING","canRefund",294],"(",")",";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * @return bool\n     *\/",297],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","canRefundPartialPerInvoice",300],"(",")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getMethodInstance",302],"(",")",["T_OBJECT_OPERATOR","->",302],["T_STRING","canRefundPartialPerInvoice",302],"(",")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * @return bool\n     *\/",305],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","canCapturePartial",308],"(",")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getMethodInstance",310],"(",")",["T_OBJECT_OPERATOR","->",310],["T_STRING","canCapturePartial",310],"(",")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Authorize or authorize and capture payment on gateway, if applicable\n     * This method is supposed to be called only when order is placed\n     *\n     * @return $this\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",313],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","place",321],"(",")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_eventManager",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","dispatch",323],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_payment_place_start'",323],",",["T_WHITESPACE"," ",323],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],"]",")",";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$order",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getOrder",324],"(",")",";",["T_WHITESPACE","\n\n        ",324],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","setAmountOrdered",326],"(",["T_VARIABLE","$order",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getTotalDue",326],"(",")",")",";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","setBaseAmountOrdered",327],"(",["T_VARIABLE","$order",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getBaseTotalDue",327],"(",")",")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setShippingAmount",328],"(",["T_VARIABLE","$order",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getShippingAmount",328],"(",")",")",";",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","setBaseShippingAmount",329],"(",["T_VARIABLE","$order",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getBaseShippingAmount",329],"(",")",")",";",["T_WHITESPACE","\n\n        ",329],["T_VARIABLE","$methodInstance",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getMethodInstance",331],"(",")",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$methodInstance",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","setStore",332],"(",["T_VARIABLE","$order",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getStoreId",332],"(",")",")",";",["T_WHITESPACE","\n\n        ",332],["T_VARIABLE","$orderState",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","Order",334],["T_DOUBLE_COLON","::",334],["T_STRING","STATE_NEW",334],";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$orderStatus",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$methodInstance",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getConfigData",335],"(",["T_CONSTANT_ENCAPSED_STRING","'order_status'",335],")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$isCustomerNotified",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$order",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getCustomerNoteNotify",336],"(",")",";",["T_WHITESPACE","\n\n        ",336],["T_COMMENT","\/\/ Do order payment validation on payment method level\n",338],["T_WHITESPACE","        ",339],["T_VARIABLE","$methodInstance",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","validate",339],"(",")",";",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$action",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$methodInstance",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getConfigPaymentAction",340],"(",")",";",["T_WHITESPACE","\n\n        ",340],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_VARIABLE","$action",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_IF","if",343],["T_WHITESPACE"," ",343],"(",["T_VARIABLE","$methodInstance",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","isInitializeNeeded",343],"(",")",")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$stateObject",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_NEW","new",344],["T_WHITESPACE"," ",344],["T_NS_SEPARATOR","\\",344],["T_STRING","Magento",344],["T_NS_SEPARATOR","\\",344],["T_STRING","Framework",344],["T_NS_SEPARATOR","\\",344],["T_STRING","DataObject",344],"(",")",";",["T_WHITESPACE","\n                ",344],["T_COMMENT","\/\/ For method initialization we have to use original config value for payment action\n",345],["T_WHITESPACE","                ",346],["T_VARIABLE","$methodInstance",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","initialize",346],"(",["T_VARIABLE","$methodInstance",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getConfigData",346],"(",["T_CONSTANT_ENCAPSED_STRING","'payment_action'",346],")",",",["T_WHITESPACE"," ",346],["T_VARIABLE","$stateObject",346],")",";",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$orderState",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$stateObject",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getData",347],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",347],")",["T_WHITESPACE"," ",347],"?",":",["T_WHITESPACE"," ",347],["T_VARIABLE","$orderState",347],";",["T_WHITESPACE","\n                ",347],["T_VARIABLE","$orderStatus",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$stateObject",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getData",348],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",348],")",["T_WHITESPACE"," ",348],"?",":",["T_WHITESPACE"," ",348],["T_VARIABLE","$orderStatus",348],";",["T_WHITESPACE","\n                ",348],["T_VARIABLE","$isCustomerNotified",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$stateObject",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","hasData",349],"(",["T_CONSTANT_ENCAPSED_STRING","'is_notified'",349],")",["T_WHITESPACE","\n                    ",349],"?",["T_WHITESPACE"," ",350],["T_VARIABLE","$stateObject",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getData",350],"(",["T_CONSTANT_ENCAPSED_STRING","'is_notified'",350],")",["T_WHITESPACE","\n                    ",350],":",["T_WHITESPACE"," ",351],["T_VARIABLE","$isCustomerNotified",351],";",["T_WHITESPACE","\n            ",351],"}",["T_WHITESPACE"," ",352],["T_ELSE","else",352],["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n                ",352],["T_VARIABLE","$orderState",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","Order",353],["T_DOUBLE_COLON","::",353],["T_STRING","STATE_PROCESSING",353],";",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","processAction",354],"(",["T_VARIABLE","$action",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$order",354],")",";",["T_WHITESPACE","\n                ",354],["T_VARIABLE","$orderState",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$order",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getState",355],"(",")",["T_WHITESPACE"," ",355],"?",["T_WHITESPACE"," ",355],["T_VARIABLE","$order",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getState",355],"(",")",["T_WHITESPACE"," ",355],":",["T_WHITESPACE"," ",355],["T_VARIABLE","$orderState",355],";",["T_WHITESPACE","\n                ",355],["T_VARIABLE","$orderStatus",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$order",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getStatus",356],"(",")",["T_WHITESPACE"," ",356],"?",["T_WHITESPACE"," ",356],["T_VARIABLE","$order",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getStatus",356],"(",")",["T_WHITESPACE"," ",356],":",["T_WHITESPACE"," ",356],["T_VARIABLE","$orderStatus",356],";",["T_WHITESPACE","\n            ",356],"}",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE"," ",358],["T_ELSE","else",358],["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$order",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","setState",359],"(",["T_VARIABLE","$orderState",359],")",["T_WHITESPACE","\n                ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","setStatus",360],"(",["T_VARIABLE","$orderStatus",360],")",";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n\n        ",361],["T_VARIABLE","$isCustomerNotified",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$isCustomerNotified",363],["T_WHITESPACE"," ",363],"?",":",["T_WHITESPACE"," ",363],["T_VARIABLE","$order",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getCustomerNoteNotify",363],"(",")",";",["T_WHITESPACE","\n\n        ",363],["T_IF","if",365],["T_WHITESPACE"," ",365],"(","!",["T_STRING","array_key_exists",365],"(",["T_VARIABLE","$orderStatus",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$order",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getConfig",365],"(",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","getStateStatuses",365],"(",["T_VARIABLE","$orderState",365],")",")",")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$orderStatus",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$order",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getConfig",366],"(",")",["T_OBJECT_OPERATOR","->",366],["T_STRING","getStateDefaultStatus",366],"(",["T_VARIABLE","$orderState",366],")",";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n\n        ",367],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","updateOrder",369],"(",["T_VARIABLE","$order",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$orderState",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$orderStatus",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$isCustomerNotified",369],")",";",["T_WHITESPACE","\n\n        ",369],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_eventManager",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","dispatch",371],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_payment_place_end'",371],",",["T_WHITESPACE"," ",371],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],"]",")",";",["T_WHITESPACE","\n\n        ",371],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],";",["T_WHITESPACE","\n    ",373],"}",["T_WHITESPACE","\n\n    ",374],["T_DOC_COMMENT","\/**\n     * Set appropriate state to order or add status to order history\n     *\n     * @param Order $order\n     * @param string $orderState\n     * @param string $orderStatus\n     * @param bool $isCustomerNotified\n     * @return void\n     *\/",376],["T_WHITESPACE","\n    ",384],["T_PROTECTED","protected",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","updateOrder",385],"(",["T_STRING","Order",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$order",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$orderState",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$orderStatus",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$isCustomerNotified",385],")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_COMMENT","\/\/ add message if order was put into review during authorization or capture\n",387],["T_WHITESPACE","        ",388],["T_VARIABLE","$message",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$order",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getCustomerNote",388],"(",")",";",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$originalOrderState",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$order",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getState",389],"(",")",";",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$originalOrderStatus",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$order",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getStatus",390],"(",")",";",["T_WHITESPACE","\n\n        ",390],["T_SWITCH","switch",392],["T_WHITESPACE"," ",392],"(",["T_STRING","true",392],")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n            ",392],["T_CASE","case",393],["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$message",393],["T_WHITESPACE"," ",393],["T_BOOLEAN_AND","&&",393],["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$originalOrderState",393],["T_WHITESPACE"," ",393],["T_IS_EQUAL","==",393],["T_WHITESPACE"," ",393],["T_STRING","Order",393],["T_DOUBLE_COLON","::",393],["T_STRING","STATE_PAYMENT_REVIEW",393],")",")",":",["T_WHITESPACE","\n                ",393],["T_VARIABLE","$order",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","addStatusToHistory",394],"(",["T_VARIABLE","$originalOrderStatus",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$message",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$isCustomerNotified",394],")",";",["T_WHITESPACE","\n                ",394],["T_BREAK","break",395],";",["T_WHITESPACE","\n            ",395],["T_CASE","case",396],["T_WHITESPACE"," ",396],"(",["T_VARIABLE","$message",396],")",":",["T_WHITESPACE","\n            ",396],["T_CASE","case",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$originalOrderState",397],["T_WHITESPACE"," ",397],["T_BOOLEAN_AND","&&",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$message",397],")",":",["T_WHITESPACE","\n            ",397],["T_CASE","case",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$originalOrderState",398],["T_WHITESPACE"," ",398],["T_IS_NOT_EQUAL","!=",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$orderState",398],")",":",["T_WHITESPACE","\n            ",398],["T_CASE","case",399],["T_WHITESPACE"," ",399],"(",["T_VARIABLE","$originalOrderStatus",399],["T_WHITESPACE"," ",399],["T_IS_NOT_EQUAL","!=",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$orderStatus",399],")",":",["T_WHITESPACE","\n                ",399],["T_VARIABLE","$order",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","setState",400],"(",["T_VARIABLE","$orderState",400],")",["T_WHITESPACE","\n                    ",400],["T_OBJECT_OPERATOR","->",401],["T_STRING","setStatus",401],"(",["T_VARIABLE","$orderStatus",401],")",["T_WHITESPACE","\n                    ",401],["T_OBJECT_OPERATOR","->",402],["T_STRING","addStatusHistoryComment",402],"(",["T_VARIABLE","$message",402],")",["T_WHITESPACE","\n                    ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","setIsCustomerNotified",403],"(",["T_VARIABLE","$isCustomerNotified",403],")",";",["T_WHITESPACE","\n                ",403],["T_BREAK","break",404],";",["T_WHITESPACE","\n            ",404],["T_DEFAULT","default",405],":",["T_WHITESPACE","\n                ",405],["T_BREAK","break",406],";",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE","\n    ",407],"}",["T_WHITESPACE","\n\n    ",408],["T_DOC_COMMENT","\/**\n     * Perform actions based on passed action name\n     *\n     * @param string $action\n     * @param Order $order\n     * @return void\n     *\/",410],["T_WHITESPACE","\n    ",416],["T_PROTECTED","protected",417],["T_WHITESPACE"," ",417],["T_FUNCTION","function",417],["T_WHITESPACE"," ",417],["T_STRING","processAction",417],"(",["T_VARIABLE","$action",417],",",["T_WHITESPACE"," ",417],["T_STRING","Order",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$order",417],")",["T_WHITESPACE","\n    ",417],"{",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$totalDue",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$order",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getTotalDue",419],"(",")",";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$baseTotalDue",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$order",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getBaseTotalDue",420],"(",")",";",["T_WHITESPACE","\n\n        ",420],["T_SWITCH","switch",422],["T_WHITESPACE"," ",422],"(",["T_VARIABLE","$action",422],")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n            ",422],["T_CASE","case",423],["T_WHITESPACE"," ",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Magento",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Payment",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Model",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Method",423],["T_NS_SEPARATOR","\\",423],["T_STRING","AbstractMethod",423],["T_DOUBLE_COLON","::",423],["T_STRING","ACTION_ORDER",423],":",["T_WHITESPACE","\n                ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_order",424],"(",["T_VARIABLE","$baseTotalDue",424],")",";",["T_WHITESPACE","\n                ",424],["T_BREAK","break",425],";",["T_WHITESPACE","\n            ",425],["T_CASE","case",426],["T_WHITESPACE"," ",426],["T_NS_SEPARATOR","\\",426],["T_STRING","Magento",426],["T_NS_SEPARATOR","\\",426],["T_STRING","Payment",426],["T_NS_SEPARATOR","\\",426],["T_STRING","Model",426],["T_NS_SEPARATOR","\\",426],["T_STRING","Method",426],["T_NS_SEPARATOR","\\",426],["T_STRING","AbstractMethod",426],["T_DOUBLE_COLON","::",426],["T_STRING","ACTION_AUTHORIZE",426],":",["T_WHITESPACE","\n                ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","authorize",427],"(",["T_STRING","true",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$baseTotalDue",427],")",";",["T_WHITESPACE","\n                ",427],["T_COMMENT","\/\/ base amount will be set inside\n",428],["T_WHITESPACE","                ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","setAmountAuthorized",429],"(",["T_VARIABLE","$totalDue",429],")",";",["T_WHITESPACE","\n                ",429],["T_BREAK","break",430],";",["T_WHITESPACE","\n            ",430],["T_CASE","case",431],["T_WHITESPACE"," ",431],["T_NS_SEPARATOR","\\",431],["T_STRING","Magento",431],["T_NS_SEPARATOR","\\",431],["T_STRING","Payment",431],["T_NS_SEPARATOR","\\",431],["T_STRING","Model",431],["T_NS_SEPARATOR","\\",431],["T_STRING","Method",431],["T_NS_SEPARATOR","\\",431],["T_STRING","AbstractMethod",431],["T_DOUBLE_COLON","::",431],["T_STRING","ACTION_AUTHORIZE_CAPTURE",431],":",["T_WHITESPACE","\n                ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","setAmountAuthorized",432],"(",["T_VARIABLE","$totalDue",432],")",";",["T_WHITESPACE","\n                ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","setBaseAmountAuthorized",433],"(",["T_VARIABLE","$baseTotalDue",433],")",";",["T_WHITESPACE","\n                ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","capture",434],"(",["T_STRING","null",434],")",";",["T_WHITESPACE","\n                ",434],["T_BREAK","break",435],";",["T_WHITESPACE","\n            ",435],["T_DEFAULT","default",436],":",["T_WHITESPACE","\n                ",436],["T_BREAK","break",437],";",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n    ",438],"}",["T_WHITESPACE","\n\n    ",439],["T_DOC_COMMENT","\/**\n     * Capture the payment online\n     * Requires an invoice. If there is no invoice specified, will automatically prepare an invoice for order\n     * Updates transactions hierarchy, if required\n     * Updates payment totals, updates order status and adds proper comments\n     *\n     * @param null|Invoice $invoice\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return $this\n     *\/",441],["T_WHITESPACE","\n    ",450],["T_PUBLIC","public",451],["T_WHITESPACE"," ",451],["T_FUNCTION","function",451],["T_WHITESPACE"," ",451],["T_STRING","capture",451],"(",["T_VARIABLE","$invoice",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","null",451],")",["T_WHITESPACE","\n    ",451],"{",["T_WHITESPACE","\n        ",452],["T_RETURN","return",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","orderPaymentProcessor",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","capture",453],"(",["T_VARIABLE","$this",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$invoice",453],")",";",["T_WHITESPACE","\n    ",453],"}",["T_WHITESPACE","\n\n    ",454],["T_DOC_COMMENT","\/**\n     * Process a capture notification from a payment gateway for specified amount\n     * Creates an invoice automatically if the amount covers the order base grand total completely\n     * Updates transactions hierarchy, if required\n     * Prevents transaction double processing\n     * Updates payment totals, updates order status and adds proper comments\n     *\n     * @param float $amount\n     * @param bool $skipFraudDetection\n     * @return $this\n     *\/",456],["T_WHITESPACE","\n    ",466],["T_PUBLIC","public",467],["T_WHITESPACE"," ",467],["T_FUNCTION","function",467],["T_WHITESPACE"," ",467],["T_STRING","registerCaptureNotification",467],"(",["T_VARIABLE","$amount",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$skipFraudDetection",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","false",467],")",["T_WHITESPACE","\n    ",467],"{",["T_WHITESPACE","\n        ",468],["T_RETURN","return",469],["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","orderPaymentProcessor",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","registerCaptureNotification",469],"(",["T_VARIABLE","$this",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$amount",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$skipFraudDetection",469],")",";",["T_WHITESPACE","\n    ",469],"}",["T_WHITESPACE","\n\n    ",470],["T_DOC_COMMENT","\/**\n     * Process authorization notification\n     *\n     * @param float $amount\n     * @return $this\n     * @see self::_authorize()\n     *\/",472],["T_WHITESPACE","\n    ",478],["T_PUBLIC","public",479],["T_WHITESPACE"," ",479],["T_FUNCTION","function",479],["T_WHITESPACE"," ",479],["T_STRING","registerAuthorizationNotification",479],"(",["T_VARIABLE","$amount",479],")",["T_WHITESPACE","\n    ",479],"{",["T_WHITESPACE","\n        ",480],["T_RETURN","return",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","checkIfTransactionExists",481],"(",")",["T_WHITESPACE"," ",481],"?",["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_WHITESPACE"," ",481],":",["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","authorize",481],"(",["T_STRING","false",481],",",["T_WHITESPACE"," ",481],["T_VARIABLE","$amount",481],")",";",["T_WHITESPACE","\n    ",481],"}",["T_WHITESPACE","\n\n    ",482],["T_DOC_COMMENT","\/**\n     * Register payment fact: update self totals from the invoice\n     *\n     * @param Invoice $invoice\n     * @return $this\n     *\/",484],["T_WHITESPACE","\n    ",489],["T_PUBLIC","public",490],["T_WHITESPACE"," ",490],["T_FUNCTION","function",490],["T_WHITESPACE"," ",490],["T_STRING","pay",490],"(",["T_VARIABLE","$invoice",490],")",["T_WHITESPACE","\n    ",490],"{",["T_WHITESPACE","\n        ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","_updateTotals",492],"(",["T_WHITESPACE","\n            ",492],"[",["T_WHITESPACE","\n                ",493],["T_CONSTANT_ENCAPSED_STRING","'amount_paid'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$invoice",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getGrandTotal",494],"(",")",",",["T_WHITESPACE","\n                ",494],["T_CONSTANT_ENCAPSED_STRING","'base_amount_paid'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$invoice",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getBaseGrandTotal",495],"(",")",",",["T_WHITESPACE","\n                ",495],["T_CONSTANT_ENCAPSED_STRING","'shipping_captured'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$invoice",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getShippingAmount",496],"(",")",",",["T_WHITESPACE","\n                ",496],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_captured'",497],["T_WHITESPACE"," ",497],["T_DOUBLE_ARROW","=>",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$invoice",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","getBaseShippingAmount",497],"(",")",",",["T_WHITESPACE","\n            ",497],"]",["T_WHITESPACE","\n        ",498],")",";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_eventManager",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","dispatch",500],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_payment_pay'",500],",",["T_WHITESPACE"," ",500],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],",",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'invoice'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$invoice",500],"]",")",";",["T_WHITESPACE","\n        ",500],["T_RETURN","return",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n\n    ",502],["T_DOC_COMMENT","\/**\n     * Cancel specified invoice: update self totals from it\n     *\n     * @param Invoice $invoice\n     * @return $this\n     *\/",504],["T_WHITESPACE","\n    ",509],["T_PUBLIC","public",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","cancelInvoice",510],"(",["T_VARIABLE","$invoice",510],")",["T_WHITESPACE","\n    ",510],"{",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","_updateTotals",512],"(",["T_WHITESPACE","\n            ",512],"[",["T_WHITESPACE","\n                ",513],["T_CONSTANT_ENCAPSED_STRING","'amount_paid'",514],["T_WHITESPACE"," ",514],["T_DOUBLE_ARROW","=>",514],["T_WHITESPACE"," ",514],"-",["T_LNUMBER","1",514],["T_WHITESPACE"," ",514],"*",["T_WHITESPACE"," ",514],["T_VARIABLE","$invoice",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getGrandTotal",514],"(",")",",",["T_WHITESPACE","\n                ",514],["T_CONSTANT_ENCAPSED_STRING","'base_amount_paid'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],"-",["T_LNUMBER","1",515],["T_WHITESPACE"," ",515],"*",["T_WHITESPACE"," ",515],["T_VARIABLE","$invoice",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getBaseGrandTotal",515],"(",")",",",["T_WHITESPACE","\n                ",515],["T_CONSTANT_ENCAPSED_STRING","'shipping_captured'",516],["T_WHITESPACE"," ",516],["T_DOUBLE_ARROW","=>",516],["T_WHITESPACE"," ",516],"-",["T_LNUMBER","1",516],["T_WHITESPACE"," ",516],"*",["T_WHITESPACE"," ",516],["T_VARIABLE","$invoice",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getShippingAmount",516],"(",")",",",["T_WHITESPACE","\n                ",516],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_captured'",517],["T_WHITESPACE"," ",517],["T_DOUBLE_ARROW","=>",517],["T_WHITESPACE"," ",517],"-",["T_LNUMBER","1",517],["T_WHITESPACE"," ",517],"*",["T_WHITESPACE"," ",517],["T_VARIABLE","$invoice",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getBaseShippingAmount",517],"(",")",",",["T_WHITESPACE","\n            ",517],"]",["T_WHITESPACE","\n        ",518],")",";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_eventManager",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","dispatch",520],"(",["T_WHITESPACE","\n            ",520],["T_CONSTANT_ENCAPSED_STRING","'sales_order_payment_cancel_invoice'",521],",",["T_WHITESPACE","\n            ",521],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],",",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'invoice'",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$invoice",522],"]",["T_WHITESPACE","\n        ",522],")",";",["T_WHITESPACE","\n        ",523],["T_RETURN","return",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],";",["T_WHITESPACE","\n    ",524],"}",["T_WHITESPACE","\n\n    ",525],["T_DOC_COMMENT","\/**\n     * Create new invoice with maximum qty for invoice for each item\n     * register this invoice and capture\n     *\n     * @return Invoice\n     *\/",527],["T_WHITESPACE","\n    ",532],["T_PROTECTED","protected",533],["T_WHITESPACE"," ",533],["T_FUNCTION","function",533],["T_WHITESPACE"," ",533],["T_STRING","_invoice",533],"(",")",["T_WHITESPACE","\n    ",533],"{",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$invoice",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getOrder",535],"(",")",["T_OBJECT_OPERATOR","->",535],["T_STRING","prepareInvoice",535],"(",")",";",["T_WHITESPACE","\n\n        ",535],["T_VARIABLE","$invoice",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","register",537],"(",")",";",["T_WHITESPACE","\n        ",537],["T_IF","if",538],["T_WHITESPACE"," ",538],"(",["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","getMethodInstance",538],"(",")",["T_OBJECT_OPERATOR","->",538],["T_STRING","canCapture",538],"(",")",")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$invoice",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","capture",539],"(",")",";",["T_WHITESPACE","\n        ",539],"}",["T_WHITESPACE","\n\n        ",540],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getOrder",542],"(",")",["T_OBJECT_OPERATOR","->",542],["T_STRING","addRelatedObject",542],"(",["T_VARIABLE","$invoice",542],")",";",["T_WHITESPACE","\n        ",542],["T_RETURN","return",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$invoice",543],";",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n\n    ",544],["T_DOC_COMMENT","\/**\n     * Check order payment void availability\n     *\n     * @return bool\n     *\/",546],["T_WHITESPACE","\n    ",550],["T_PUBLIC","public",551],["T_WHITESPACE"," ",551],["T_FUNCTION","function",551],["T_WHITESPACE"," ",551],["T_STRING","canVoid",551],"(",")",["T_WHITESPACE","\n    ",551],"{",["T_WHITESPACE","\n        ",552],["T_IF","if",553],["T_WHITESPACE"," ",553],"(",["T_STRING","null",553],["T_WHITESPACE"," ",553],["T_IS_IDENTICAL","===",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","_canVoidLookup",553],")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n            ",553],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","_canVoidLookup",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_BOOL_CAST","(bool)",554],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","getMethodInstance",554],"(",")",["T_OBJECT_OPERATOR","->",554],["T_STRING","canVoid",554],"(",")",";",["T_WHITESPACE","\n            ",554],["T_IF","if",555],["T_WHITESPACE"," ",555],"(",["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","_canVoidLookup",555],")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n                ",555],["T_VARIABLE","$authTransaction",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getAuthorizationTransaction",556],"(",")",";",["T_WHITESPACE","\n                ",556],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","_canVoidLookup",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_BOOL_CAST","(bool)",557],["T_VARIABLE","$authTransaction",557],["T_WHITESPACE"," ",557],["T_BOOLEAN_AND","&&",557],["T_WHITESPACE"," ",557],"!",["T_INT_CAST","(int)",557],["T_VARIABLE","$authTransaction",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","getIsClosed",557],"(",")",";",["T_WHITESPACE","\n            ",557],"}",["T_WHITESPACE","\n        ",558],"}",["T_WHITESPACE","\n        ",559],["T_RETURN","return",560],["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","_canVoidLookup",560],";",["T_WHITESPACE","\n    ",560],"}",["T_WHITESPACE","\n\n    ",561],["T_DOC_COMMENT","\/**\n     * Void payment online\n     *\n     * @param \\Magento\\Framework\\DataObject $document\n     * @return $this\n     * @see self::_void()\n     *\/",563],["T_WHITESPACE","\n    ",569],["T_PUBLIC","public",570],["T_WHITESPACE"," ",570],["T_FUNCTION","function",570],["T_WHITESPACE"," ",570],["T_STRING","void",570],"(",["T_NS_SEPARATOR","\\",570],["T_STRING","Magento",570],["T_NS_SEPARATOR","\\",570],["T_STRING","Framework",570],["T_NS_SEPARATOR","\\",570],["T_STRING","DataObject",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$document",570],")",["T_WHITESPACE","\n    ",570],"{",["T_WHITESPACE","\n        ",571],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","_void",572],"(",["T_STRING","true",572],")",";",["T_WHITESPACE","\n        ",572],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","_eventManager",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","dispatch",573],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_payment_void'",573],",",["T_WHITESPACE"," ",573],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$this",573],",",["T_WHITESPACE"," ",573],["T_CONSTANT_ENCAPSED_STRING","'invoice'",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$document",573],"]",")",";",["T_WHITESPACE","\n        ",573],["T_RETURN","return",574],["T_WHITESPACE"," ",574],["T_VARIABLE","$this",574],";",["T_WHITESPACE","\n    ",574],"}",["T_WHITESPACE","\n\n    ",575],["T_DOC_COMMENT","\/**\n     * Process void notification\n     *\n     * @param float $amount\n     * @return $this\n     * @see self::_void()\n     *\/",577],["T_WHITESPACE","\n    ",583],["T_PUBLIC","public",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","registerVoidNotification",584],"(",["T_VARIABLE","$amount",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_STRING","null",584],")",["T_WHITESPACE","\n    ",584],"{",["T_WHITESPACE","\n        ",585],["T_IF","if",586],["T_WHITESPACE"," ",586],"(","!",["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","hasMessage",586],"(",")",")",["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n            ",586],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","setMessage",587],"(",["T_STRING","__",587],"(",["T_CONSTANT_ENCAPSED_STRING","'Registered a Void notification.'",587],")",")",";",["T_WHITESPACE","\n        ",587],"}",["T_WHITESPACE","\n        ",588],["T_RETURN","return",589],["T_WHITESPACE"," ",589],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_void",589],"(",["T_STRING","false",589],",",["T_WHITESPACE"," ",589],["T_VARIABLE","$amount",589],")",";",["T_WHITESPACE","\n    ",589],"}",["T_WHITESPACE","\n\n    ",590],["T_DOC_COMMENT","\/**\n     * Sets creditmemo for current payment\n     *\n     * @param Creditmemo $creditmemo\n     * @return $this\n     *\/",592],["T_WHITESPACE","\n    ",597],["T_PUBLIC","public",598],["T_WHITESPACE"," ",598],["T_FUNCTION","function",598],["T_WHITESPACE"," ",598],["T_STRING","setCreditmemo",598],"(",["T_STRING","Creditmemo",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$creditmemo",598],")",["T_WHITESPACE","\n    ",598],"{",["T_WHITESPACE","\n        ",599],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","setData",600],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$creditmemo",600],")",";",["T_WHITESPACE","\n        ",600],["T_RETURN","return",601],["T_WHITESPACE"," ",601],["T_VARIABLE","$this",601],";",["T_WHITESPACE","\n    ",601],"}",["T_WHITESPACE","\n\n    ",602],["T_DOC_COMMENT","\/**\n     * Returns Creditmemo assigned for this payment\n     *\n     * @return Creditmemo|null\n     *\/",604],["T_WHITESPACE","\n    ",608],["T_PUBLIC","public",609],["T_WHITESPACE"," ",609],["T_FUNCTION","function",609],["T_WHITESPACE"," ",609],["T_STRING","getCreditmemo",609],"(",")",["T_WHITESPACE","\n    ",609],"{",["T_WHITESPACE","\n        ",610],["T_RETURN","return",611],["T_WHITESPACE"," ",611],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","getData",611],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",611],")",["T_WHITESPACE"," ",611],["T_INSTANCEOF","instanceof",611],["T_WHITESPACE"," ",611],["T_STRING","Creditmemo",611],["T_WHITESPACE","\n            ",611],"?",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","getData",612],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",612],")",["T_WHITESPACE","\n            ",612],":",["T_WHITESPACE"," ",613],["T_STRING","null",613],";",["T_WHITESPACE","\n    ",613],"}",["T_WHITESPACE","\n\n    ",614],["T_DOC_COMMENT","\/**\n     * Refund payment online or offline, depending on whether there is invoice set in the creditmemo instance\n     * Updates transactions hierarchy, if required\n     * Updates payment totals, updates order status and adds proper comments\n     *\n     * @param Creditmemo $creditmemo\n     * @return $this\n     * @throws \\Exception\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",616],["T_WHITESPACE","\n    ",627],["T_PUBLIC","public",628],["T_WHITESPACE"," ",628],["T_FUNCTION","function",628],["T_WHITESPACE"," ",628],["T_STRING","refund",628],"(",["T_VARIABLE","$creditmemo",628],")",["T_WHITESPACE","\n    ",628],"{",["T_WHITESPACE","\n        ",629],["T_VARIABLE","$baseAmountToRefund",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","formatAmount",630],"(",["T_VARIABLE","$creditmemo",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","getBaseGrandTotal",630],"(",")",")",";",["T_WHITESPACE","\n        ",630],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","setTransactionId",631],"(",["T_WHITESPACE","\n            ",631],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","transactionManager",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","generateTransactionId",632],"(",["T_VARIABLE","$this",632],",",["T_WHITESPACE"," ",632],["T_STRING","Transaction",632],["T_DOUBLE_COLON","::",632],["T_STRING","TYPE_REFUND",632],")",["T_WHITESPACE","\n        ",632],")",";",["T_WHITESPACE","\n\n        ",633],["T_VARIABLE","$isOnline",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_STRING","false",635],";",["T_WHITESPACE","\n        ",635],["T_VARIABLE","$gateway",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","getMethodInstance",636],"(",")",";",["T_WHITESPACE","\n        ",636],["T_VARIABLE","$invoice",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_STRING","null",637],";",["T_WHITESPACE","\n        ",637],["T_IF","if",638],["T_WHITESPACE"," ",638],"(",["T_VARIABLE","$gateway",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","canRefund",638],"(",")",")",["T_WHITESPACE"," ",638],"{",["T_WHITESPACE","\n            ",638],["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","setCreditmemo",639],"(",["T_VARIABLE","$creditmemo",639],")",";",["T_WHITESPACE","\n            ",639],["T_IF","if",640],["T_WHITESPACE"," ",640],"(",["T_VARIABLE","$creditmemo",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","getDoTransaction",640],"(",")",")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n                ",640],["T_VARIABLE","$invoice",641],["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_VARIABLE","$creditmemo",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","getInvoice",641],"(",")",";",["T_WHITESPACE","\n                ",641],["T_IF","if",642],["T_WHITESPACE"," ",642],"(",["T_VARIABLE","$invoice",642],")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n                    ",642],["T_VARIABLE","$isOnline",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_STRING","true",643],";",["T_WHITESPACE","\n                    ",643],["T_VARIABLE","$captureTxn",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","transactionRepository",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","getByTransactionId",644],"(",["T_WHITESPACE","\n                        ",644],["T_VARIABLE","$invoice",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getTransactionId",645],"(",")",",",["T_WHITESPACE","\n                        ",645],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getId",646],"(",")",",",["T_WHITESPACE","\n                        ",646],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","getOrder",647],"(",")",["T_OBJECT_OPERATOR","->",647],["T_STRING","getId",647],"(",")",["T_WHITESPACE","\n                    ",647],")",";",["T_WHITESPACE","\n                    ",648],["T_IF","if",649],["T_WHITESPACE"," ",649],"(",["T_VARIABLE","$captureTxn",649],")",["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n                        ",649],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","setTransactionIdsForRefund",650],"(",["T_VARIABLE","$captureTxn",650],")",";",["T_WHITESPACE","\n                    ",650],"}",["T_WHITESPACE","\n                    ",651],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","setShouldCloseParentTransaction",652],"(",["T_STRING","true",652],")",";",["T_WHITESPACE","\n                    ",652],["T_COMMENT","\/\/ TODO: implement multiple refunds per capture\n",653],["T_WHITESPACE","                    ",654],["T_TRY","try",654],["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n                        ",654],["T_VARIABLE","$gateway",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","setStore",655],"(",["T_WHITESPACE","\n                            ",655],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","getOrder",656],"(",")",["T_OBJECT_OPERATOR","->",656],["T_STRING","getStoreId",656],"(",")",["T_WHITESPACE","\n                        ",656],")",";",["T_WHITESPACE","\n                        ",657],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","setRefundTransactionId",658],"(",["T_VARIABLE","$invoice",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","getTransactionId",658],"(",")",")",";",["T_WHITESPACE","\n                        ",658],["T_VARIABLE","$gateway",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","refund",659],"(",["T_VARIABLE","$this",659],",",["T_WHITESPACE"," ",659],["T_VARIABLE","$baseAmountToRefund",659],")",";",["T_WHITESPACE","\n\n                        ",659],["T_VARIABLE","$creditmemo",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","setTransactionId",661],"(",["T_VARIABLE","$this",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","getLastTransId",661],"(",")",")",";",["T_WHITESPACE","\n                    ",661],"}",["T_WHITESPACE"," ",662],["T_CATCH","catch",662],["T_WHITESPACE"," ",662],"(",["T_NS_SEPARATOR","\\",662],["T_STRING","Magento",662],["T_NS_SEPARATOR","\\",662],["T_STRING","Framework",662],["T_NS_SEPARATOR","\\",662],["T_STRING","Exception",662],["T_NS_SEPARATOR","\\",662],["T_STRING","LocalizedException",662],["T_WHITESPACE"," ",662],["T_VARIABLE","$e",662],")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n                        ",662],["T_IF","if",663],["T_WHITESPACE"," ",663],"(","!",["T_VARIABLE","$captureTxn",663],")",["T_WHITESPACE"," ",663],"{",["T_WHITESPACE","\n                            ",663],["T_THROW","throw",664],["T_WHITESPACE"," ",664],["T_NEW","new",664],["T_WHITESPACE"," ",664],["T_NS_SEPARATOR","\\",664],["T_STRING","Magento",664],["T_NS_SEPARATOR","\\",664],["T_STRING","Framework",664],["T_NS_SEPARATOR","\\",664],["T_STRING","Exception",664],["T_NS_SEPARATOR","\\",664],["T_STRING","LocalizedException",664],"(",["T_WHITESPACE","\n                                ",664],["T_STRING","__",665],"(",["T_CONSTANT_ENCAPSED_STRING","'If the invoice was created offline, try creating an offline credit memo.'",665],")",",",["T_WHITESPACE","\n                                ",665],["T_VARIABLE","$e",666],["T_WHITESPACE","\n                            ",666],")",";",["T_WHITESPACE","\n                        ",667],"}",["T_WHITESPACE","\n                        ",668],["T_THROW","throw",669],["T_WHITESPACE"," ",669],["T_VARIABLE","$e",669],";",["T_WHITESPACE","\n                    ",669],"}",["T_WHITESPACE","\n                ",670],"}",["T_WHITESPACE","\n            ",671],"}",["T_WHITESPACE"," ",672],["T_ELSE","else",672],["T_WHITESPACE"," ",672],["T_IF","if",672],["T_WHITESPACE"," ",672],"(",["T_VARIABLE","$gateway",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","isOffline",672],"(",")",")",["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n                ",672],["T_VARIABLE","$gateway",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","setStore",673],"(",["T_WHITESPACE","\n                    ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getOrder",674],"(",")",["T_OBJECT_OPERATOR","->",674],["T_STRING","getStoreId",674],"(",")",["T_WHITESPACE","\n                ",674],")",";",["T_WHITESPACE","\n                ",675],["T_VARIABLE","$gateway",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","refund",676],"(",["T_VARIABLE","$this",676],",",["T_WHITESPACE"," ",676],["T_VARIABLE","$baseAmountToRefund",676],")",";",["T_WHITESPACE","\n            ",676],"}",["T_WHITESPACE","\n        ",677],"}",["T_WHITESPACE","\n\n        ",678],["T_COMMENT","\/\/ update self totals from creditmemo\n",680],["T_WHITESPACE","        ",681],["T_VARIABLE","$this",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","_updateTotals",681],"(",["T_WHITESPACE","\n            ",681],"[",["T_WHITESPACE","\n                ",682],["T_CONSTANT_ENCAPSED_STRING","'amount_refunded'",683],["T_WHITESPACE"," ",683],["T_DOUBLE_ARROW","=>",683],["T_WHITESPACE"," ",683],["T_VARIABLE","$creditmemo",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","getGrandTotal",683],"(",")",",",["T_WHITESPACE","\n                ",683],["T_CONSTANT_ENCAPSED_STRING","'base_amount_refunded'",684],["T_WHITESPACE"," ",684],["T_DOUBLE_ARROW","=>",684],["T_WHITESPACE"," ",684],["T_VARIABLE","$baseAmountToRefund",684],",",["T_WHITESPACE","\n                ",684],["T_CONSTANT_ENCAPSED_STRING","'base_amount_refunded_online'",685],["T_WHITESPACE"," ",685],["T_DOUBLE_ARROW","=>",685],["T_WHITESPACE"," ",685],["T_VARIABLE","$isOnline",685],["T_WHITESPACE"," ",685],"?",["T_WHITESPACE"," ",685],["T_VARIABLE","$baseAmountToRefund",685],["T_WHITESPACE"," ",685],":",["T_WHITESPACE"," ",685],["T_STRING","null",685],",",["T_WHITESPACE","\n                ",685],["T_CONSTANT_ENCAPSED_STRING","'shipping_refunded'",686],["T_WHITESPACE"," ",686],["T_DOUBLE_ARROW","=>",686],["T_WHITESPACE"," ",686],["T_VARIABLE","$creditmemo",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","getShippingAmount",686],"(",")",",",["T_WHITESPACE","\n                ",686],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_refunded'",687],["T_WHITESPACE"," ",687],["T_DOUBLE_ARROW","=>",687],["T_WHITESPACE"," ",687],["T_VARIABLE","$creditmemo",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","getBaseShippingAmount",687],"(",")",",",["T_WHITESPACE","\n            ",687],"]",["T_WHITESPACE","\n        ",688],")",";",["T_WHITESPACE","\n\n        ",689],["T_COMMENT","\/\/ update transactions and order state\n",691],["T_WHITESPACE","        ",692],["T_VARIABLE","$transaction",692],["T_WHITESPACE"," ",692],"=",["T_WHITESPACE"," ",692],["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","addTransaction",692],"(",["T_WHITESPACE","\n            ",692],["T_STRING","Transaction",693],["T_DOUBLE_COLON","::",693],["T_STRING","TYPE_REFUND",693],",",["T_WHITESPACE","\n            ",693],["T_VARIABLE","$creditmemo",694],",",["T_WHITESPACE","\n            ",694],["T_VARIABLE","$isOnline",695],["T_WHITESPACE","\n        ",695],")",";",["T_WHITESPACE","\n        ",696],["T_IF","if",697],["T_WHITESPACE"," ",697],"(",["T_VARIABLE","$invoice",697],")",["T_WHITESPACE"," ",697],"{",["T_WHITESPACE","\n            ",697],["T_VARIABLE","$message",698],["T_WHITESPACE"," ",698],"=",["T_WHITESPACE"," ",698],["T_STRING","__",698],"(",["T_CONSTANT_ENCAPSED_STRING","'We refunded %1 online.'",698],",",["T_WHITESPACE"," ",698],["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","formatPrice",698],"(",["T_VARIABLE","$baseAmountToRefund",698],")",")",";",["T_WHITESPACE","\n        ",698],"}",["T_WHITESPACE"," ",699],["T_ELSE","else",699],["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n            ",699],["T_VARIABLE","$message",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","hasMessage",700],"(",")",["T_WHITESPACE"," ",700],"?",["T_WHITESPACE"," ",700],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","getMessage",700],"(",")",["T_WHITESPACE"," ",700],":",["T_WHITESPACE"," ",700],["T_STRING","__",700],"(",["T_WHITESPACE","\n                ",700],["T_CONSTANT_ENCAPSED_STRING","'We refunded %1 offline.'",701],",",["T_WHITESPACE","\n                ",701],["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","formatPrice",702],"(",["T_VARIABLE","$baseAmountToRefund",702],")",["T_WHITESPACE","\n            ",702],")",";",["T_WHITESPACE","\n        ",703],"}",["T_WHITESPACE","\n        ",704],["T_VARIABLE","$message",705],["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],["T_VARIABLE","$message",705],["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","prependMessage",705],"(",["T_VARIABLE","$message",705],")",";",["T_WHITESPACE","\n        ",705],["T_VARIABLE","$message",706],["T_WHITESPACE"," ",706],"=",["T_WHITESPACE"," ",706],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","_appendTransactionToMessage",706],"(",["T_VARIABLE","$transaction",706],",",["T_WHITESPACE"," ",706],["T_VARIABLE","$message",706],")",";",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$orderState",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","getOrderStateResolver",707],"(",")",["T_OBJECT_OPERATOR","->",707],["T_STRING","getStateForOrder",707],"(",["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","getOrder",707],"(",")",")",";",["T_WHITESPACE","\n        ",707],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","getOrder",708],"(",")",["T_WHITESPACE","\n            ",708],["T_OBJECT_OPERATOR","->",709],["T_STRING","addStatusHistoryComment",709],"(",["T_WHITESPACE","\n                ",709],["T_VARIABLE","$message",710],",",["T_WHITESPACE","\n                ",710],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","getOrder",711],"(",")",["T_OBJECT_OPERATOR","->",711],["T_STRING","getConfig",711],"(",")",["T_OBJECT_OPERATOR","->",711],["T_STRING","getStateDefaultStatus",711],"(",["T_VARIABLE","$orderState",711],")",["T_WHITESPACE","\n            ",711],")",["T_OBJECT_OPERATOR","->",712],["T_STRING","setIsCustomerNotified",712],"(",["T_VARIABLE","$creditmemo",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","getOrder",712],"(",")",["T_OBJECT_OPERATOR","->",712],["T_STRING","getCustomerNoteNotify",712],"(",")",")",";",["T_WHITESPACE","\n        ",712],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","_eventManager",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","dispatch",713],"(",["T_WHITESPACE","\n            ",713],["T_CONSTANT_ENCAPSED_STRING","'sales_order_payment_refund'",714],",",["T_WHITESPACE","\n            ",714],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",715],["T_WHITESPACE"," ",715],["T_DOUBLE_ARROW","=>",715],["T_WHITESPACE"," ",715],["T_VARIABLE","$this",715],",",["T_WHITESPACE"," ",715],["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",715],["T_WHITESPACE"," ",715],["T_DOUBLE_ARROW","=>",715],["T_WHITESPACE"," ",715],["T_VARIABLE","$creditmemo",715],"]",["T_WHITESPACE","\n        ",715],")",";",["T_WHITESPACE","\n        ",716],["T_RETURN","return",717],["T_WHITESPACE"," ",717],["T_VARIABLE","$this",717],";",["T_WHITESPACE","\n    ",717],"}",["T_WHITESPACE","\n\n    ",718],["T_DOC_COMMENT","\/**\n     * Process payment refund notification\n     * Updates transactions hierarchy, if required\n     * Prevents transaction double processing\n     * Updates payment totals, updates order status and adds proper comments\n     * TODO: potentially a full capture can be refunded. In this case if there was only one invoice for that transaction\n     *       then we should create a creditmemo from invoice and also refund it offline\n     * TODO: implement logic of chargebacks reimbursements (via negative amount)\n     *\n     * @param float $amount\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",720],["T_WHITESPACE","\n    ",732],["T_PUBLIC","public",733],["T_WHITESPACE"," ",733],["T_FUNCTION","function",733],["T_WHITESPACE"," ",733],["T_STRING","registerRefundNotification",733],"(",["T_VARIABLE","$amount",733],")",["T_WHITESPACE","\n    ",733],"{",["T_WHITESPACE","\n        ",734],["T_VARIABLE","$notificationAmount",735],["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_VARIABLE","$amount",735],";",["T_WHITESPACE","\n        ",735],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","setTransactionId",736],"(",["T_WHITESPACE","\n            ",736],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","transactionManager",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","generateTransactionId",737],"(",["T_WHITESPACE","\n                ",737],["T_VARIABLE","$this",738],",",["T_WHITESPACE","\n                ",738],["T_STRING","Transaction",739],["T_DOUBLE_COLON","::",739],["T_STRING","TYPE_REFUND",739],",",["T_WHITESPACE","\n                ",739],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","transactionRepository",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","getByTransactionId",740],"(",["T_WHITESPACE","\n                    ",740],["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","getParentTransactionId",741],"(",")",",",["T_WHITESPACE","\n                    ",741],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","getId",742],"(",")",",",["T_WHITESPACE","\n                    ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","getOrder",743],"(",")",["T_OBJECT_OPERATOR","->",743],["T_STRING","getId",743],"(",")",["T_WHITESPACE","\n                ",743],")",["T_WHITESPACE","\n            ",744],")",["T_WHITESPACE","\n        ",745],")",";",["T_WHITESPACE","\n        ",746],["T_IF","if",747],["T_WHITESPACE"," ",747],"(",["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","checkIfTransactionExists",747],"(",")",")",["T_WHITESPACE"," ",747],"{",["T_WHITESPACE","\n            ",747],["T_RETURN","return",748],["T_WHITESPACE"," ",748],["T_VARIABLE","$this",748],";",["T_WHITESPACE","\n        ",748],"}",["T_WHITESPACE","\n        ",749],["T_VARIABLE","$order",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","getOrder",750],"(",")",";",["T_WHITESPACE","\n        ",750],["T_VARIABLE","$invoice",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","_getInvoiceForTransactionId",751],"(",["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","getParentTransactionId",751],"(",")",")",";",["T_WHITESPACE","\n\n        ",751],["T_COMMENT","\/\/choose where we get totals\n",753],["T_WHITESPACE","        ",754],["T_VARIABLE","$salesEntity",754],["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_VARIABLE","$invoice",754],["T_WHITESPACE"," ",754],"?",":",["T_WHITESPACE"," ",754],["T_VARIABLE","$order",754],";",["T_WHITESPACE","\n        ",754],["T_VARIABLE","$baseGrandTotal",755],["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_VARIABLE","$salesEntity",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","getBaseGrandTotal",755],"(",")",";",["T_WHITESPACE","\n        ",755],["T_VARIABLE","$amountRefundLeft",756],["T_WHITESPACE"," ",756],"=",["T_WHITESPACE"," ",756],["T_VARIABLE","$baseGrandTotal",756],["T_WHITESPACE"," ",756],"-",["T_WHITESPACE"," ",756],["T_VARIABLE","$salesEntity",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","getBaseTotalRefunded",756],"(",")",";",["T_WHITESPACE","\n\n        ",756],["T_IF","if",758],["T_WHITESPACE"," ",758],"(",["T_VARIABLE","$amountRefundLeft",758],["T_WHITESPACE"," ",758],"<",["T_WHITESPACE"," ",758],["T_VARIABLE","$amount",758],")",["T_WHITESPACE"," ",758],"{",["T_WHITESPACE","\n            ",758],["T_VARIABLE","$amount",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_VARIABLE","$amountRefundLeft",759],";",["T_WHITESPACE","\n        ",759],"}",["T_WHITESPACE","\n\n        ",760],["T_IF","if",762],["T_WHITESPACE"," ",762],"(",["T_VARIABLE","$amount",762],["T_WHITESPACE"," ",762],["T_IS_NOT_EQUAL","!=",762],["T_WHITESPACE"," ",762],["T_VARIABLE","$baseGrandTotal",762],")",["T_WHITESPACE"," ",762],"{",["T_WHITESPACE","\n            ",762],["T_VARIABLE","$order",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","addStatusHistoryComment",763],"(",["T_WHITESPACE","\n                ",763],["T_STRING","__",764],"(",["T_WHITESPACE","\n                    ",764],["T_CONSTANT_ENCAPSED_STRING","'IPN \"Refunded\". Refund issued by merchant. Registered notification about refunded amount of %1. Transaction ID: \"%2\". Credit Memo has not been created. Please create offline Credit Memo.'",765],",",["T_WHITESPACE","\n                    ",765],["T_VARIABLE","$this",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","formatPrice",766],"(",["T_VARIABLE","$notificationAmount",766],")",",",["T_WHITESPACE","\n                    ",766],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","getTransactionId",767],"(",")",["T_WHITESPACE","\n                ",767],")",",",["T_WHITESPACE","\n                ",768],["T_STRING","false",769],["T_WHITESPACE","\n            ",769],")",";",["T_WHITESPACE","\n            ",770],["T_RETURN","return",771],["T_WHITESPACE"," ",771],["T_VARIABLE","$this",771],";",["T_WHITESPACE","\n        ",771],"}",["T_WHITESPACE","\n\n        ",772],["T_VARIABLE","$creditmemo",774],["T_WHITESPACE"," ",774],"=",["T_WHITESPACE"," ",774],["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","prepareCreditMemo",774],"(",["T_VARIABLE","$amount",774],",",["T_WHITESPACE"," ",774],["T_VARIABLE","$baseGrandTotal",774],",",["T_WHITESPACE"," ",774],["T_VARIABLE","$invoice",774],")",";",["T_WHITESPACE","\n        ",774],["T_VARIABLE","$creditmemo",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","setPaymentRefundDisallowed",775],"(",["T_WHITESPACE","\n            ",775],["T_STRING","true",776],["T_WHITESPACE","\n        ",776],")",["T_OBJECT_OPERATOR","->",777],["T_STRING","setAutomaticallyCreated",777],"(",["T_WHITESPACE","\n            ",777],["T_STRING","true",778],["T_WHITESPACE","\n        ",778],")",["T_OBJECT_OPERATOR","->",779],["T_STRING","addComment",779],"(",["T_WHITESPACE","\n            ",779],["T_STRING","__",780],"(",["T_CONSTANT_ENCAPSED_STRING","'The credit memo has been created automatically.'",780],")",["T_WHITESPACE","\n        ",780],")",";",["T_WHITESPACE","\n        ",781],["T_VARIABLE","$creditmemo",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","save",782],"(",")",";",["T_WHITESPACE","\n\n        ",782],["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","_updateTotals",784],"(",["T_WHITESPACE","\n            ",784],"[",["T_CONSTANT_ENCAPSED_STRING","'amount_refunded'",785],["T_WHITESPACE"," ",785],["T_DOUBLE_ARROW","=>",785],["T_WHITESPACE"," ",785],["T_VARIABLE","$creditmemo",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","getGrandTotal",785],"(",")",",",["T_WHITESPACE"," ",785],["T_CONSTANT_ENCAPSED_STRING","'base_amount_refunded_online'",785],["T_WHITESPACE"," ",785],["T_DOUBLE_ARROW","=>",785],["T_WHITESPACE"," ",785],["T_VARIABLE","$amount",785],"]",["T_WHITESPACE","\n        ",785],")",";",["T_WHITESPACE","\n\n        ",786],["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","setCreatedCreditmemo",788],"(",["T_VARIABLE","$creditmemo",788],")",";",["T_WHITESPACE","\n        ",788],["T_COMMENT","\/\/ update transactions and order state\n",789],["T_WHITESPACE","        ",790],["T_VARIABLE","$transaction",790],["T_WHITESPACE"," ",790],"=",["T_WHITESPACE"," ",790],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","addTransaction",790],"(",["T_WHITESPACE","\n            ",790],["T_STRING","Transaction",791],["T_DOUBLE_COLON","::",791],["T_STRING","TYPE_REFUND",791],",",["T_WHITESPACE","\n            ",791],["T_VARIABLE","$creditmemo",792],["T_WHITESPACE","\n        ",792],")",";",["T_WHITESPACE","\n        ",793],["T_VARIABLE","$message",794],["T_WHITESPACE"," ",794],"=",["T_WHITESPACE"," ",794],["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","prependMessage",794],"(",["T_WHITESPACE","\n            ",794],["T_STRING","__",795],"(",["T_CONSTANT_ENCAPSED_STRING","'Registered notification about refunded amount of %1.'",795],",",["T_WHITESPACE"," ",795],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","formatPrice",795],"(",["T_VARIABLE","$amount",795],")",")",["T_WHITESPACE","\n        ",795],")",";",["T_WHITESPACE","\n        ",796],["T_VARIABLE","$message",797],["T_WHITESPACE"," ",797],"=",["T_WHITESPACE"," ",797],["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","_appendTransactionToMessage",797],"(",["T_VARIABLE","$transaction",797],",",["T_WHITESPACE"," ",797],["T_VARIABLE","$message",797],")",";",["T_WHITESPACE","\n        ",797],["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","setOrderStateProcessing",798],"(",["T_VARIABLE","$message",798],")",";",["T_WHITESPACE","\n        ",798],["T_RETURN","return",799],["T_WHITESPACE"," ",799],["T_VARIABLE","$this",799],";",["T_WHITESPACE","\n    ",799],"}",["T_WHITESPACE","\n\n    ",800],["T_DOC_COMMENT","\/**\n     * Cancel a creditmemo: substract its totals from the payment\n     *\n     * @param Creditmemo $creditmemo\n     * @return $this\n     *\/",802],["T_WHITESPACE","\n    ",807],["T_PUBLIC","public",808],["T_WHITESPACE"," ",808],["T_FUNCTION","function",808],["T_WHITESPACE"," ",808],["T_STRING","cancelCreditmemo",808],"(",["T_VARIABLE","$creditmemo",808],")",["T_WHITESPACE","\n    ",808],"{",["T_WHITESPACE","\n        ",809],["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","_updateTotals",810],"(",["T_WHITESPACE","\n            ",810],"[",["T_WHITESPACE","\n                ",811],["T_CONSTANT_ENCAPSED_STRING","'amount_refunded'",812],["T_WHITESPACE"," ",812],["T_DOUBLE_ARROW","=>",812],["T_WHITESPACE"," ",812],"-",["T_LNUMBER","1",812],["T_WHITESPACE"," ",812],"*",["T_WHITESPACE"," ",812],["T_VARIABLE","$creditmemo",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","getGrandTotal",812],"(",")",",",["T_WHITESPACE","\n                ",812],["T_CONSTANT_ENCAPSED_STRING","'base_amount_refunded'",813],["T_WHITESPACE"," ",813],["T_DOUBLE_ARROW","=>",813],["T_WHITESPACE"," ",813],"-",["T_LNUMBER","1",813],["T_WHITESPACE"," ",813],"*",["T_WHITESPACE"," ",813],["T_VARIABLE","$creditmemo",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","getBaseGrandTotal",813],"(",")",",",["T_WHITESPACE","\n                ",813],["T_CONSTANT_ENCAPSED_STRING","'shipping_refunded'",814],["T_WHITESPACE"," ",814],["T_DOUBLE_ARROW","=>",814],["T_WHITESPACE"," ",814],"-",["T_LNUMBER","1",814],["T_WHITESPACE"," ",814],"*",["T_WHITESPACE"," ",814],["T_VARIABLE","$creditmemo",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","getShippingAmount",814],"(",")",",",["T_WHITESPACE","\n                ",814],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_refunded'",815],["T_WHITESPACE"," ",815],["T_DOUBLE_ARROW","=>",815],["T_WHITESPACE"," ",815],"-",["T_LNUMBER","1",815],["T_WHITESPACE"," ",815],"*",["T_WHITESPACE"," ",815],["T_VARIABLE","$creditmemo",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","getBaseShippingAmount",815],"(",")",",",["T_WHITESPACE","\n            ",815],"]",["T_WHITESPACE","\n        ",816],")",";",["T_WHITESPACE","\n        ",817],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","_eventManager",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","dispatch",818],"(",["T_WHITESPACE","\n            ",818],["T_CONSTANT_ENCAPSED_STRING","'sales_order_payment_cancel_creditmemo'",819],",",["T_WHITESPACE","\n            ",819],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",820],["T_WHITESPACE"," ",820],["T_DOUBLE_ARROW","=>",820],["T_WHITESPACE"," ",820],["T_VARIABLE","$this",820],",",["T_WHITESPACE"," ",820],["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",820],["T_WHITESPACE"," ",820],["T_DOUBLE_ARROW","=>",820],["T_WHITESPACE"," ",820],["T_VARIABLE","$creditmemo",820],"]",["T_WHITESPACE","\n        ",820],")",";",["T_WHITESPACE","\n        ",821],["T_RETURN","return",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$this",822],";",["T_WHITESPACE","\n    ",822],"}",["T_WHITESPACE","\n\n    ",823],["T_DOC_COMMENT","\/**\n     * Order cancellation hook for payment method instance\n     * Adds void transaction if needed\n     *\n     * @return $this\n     *\/",825],["T_WHITESPACE","\n    ",830],["T_PUBLIC","public",831],["T_WHITESPACE"," ",831],["T_FUNCTION","function",831],["T_WHITESPACE"," ",831],["T_STRING","cancel",831],"(",")",["T_WHITESPACE","\n    ",831],"{",["T_WHITESPACE","\n        ",832],["T_VARIABLE","$isOnline",833],["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_STRING","true",833],";",["T_WHITESPACE","\n        ",833],["T_IF","if",834],["T_WHITESPACE"," ",834],"(","!",["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","canVoid",834],"(",")",")",["T_WHITESPACE"," ",834],"{",["T_WHITESPACE","\n            ",834],["T_VARIABLE","$isOnline",835],["T_WHITESPACE"," ",835],"=",["T_WHITESPACE"," ",835],["T_STRING","false",835],";",["T_WHITESPACE","\n        ",835],"}",["T_WHITESPACE","\n\n        ",836],["T_IF","if",838],["T_WHITESPACE"," ",838],"(","!",["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","hasMessage",838],"(",")",")",["T_WHITESPACE"," ",838],"{",["T_WHITESPACE","\n            ",838],["T_VARIABLE","$this",839],["T_OBJECT_OPERATOR","->",839],["T_STRING","setMessage",839],"(",["T_VARIABLE","$isOnline",839],["T_WHITESPACE"," ",839],"?",["T_WHITESPACE"," ",839],["T_STRING","__",839],"(",["T_CONSTANT_ENCAPSED_STRING","'Canceled order online'",839],")",["T_WHITESPACE"," ",839],":",["T_WHITESPACE"," ",839],["T_STRING","__",839],"(",["T_CONSTANT_ENCAPSED_STRING","'Canceled order offline'",839],")",")",";",["T_WHITESPACE","\n        ",839],"}",["T_WHITESPACE","\n\n        ",840],["T_IF","if",842],["T_WHITESPACE"," ",842],"(",["T_VARIABLE","$isOnline",842],")",["T_WHITESPACE"," ",842],"{",["T_WHITESPACE","\n            ",842],["T_VARIABLE","$this",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","_void",843],"(",["T_VARIABLE","$isOnline",843],",",["T_WHITESPACE"," ",843],["T_STRING","null",843],",",["T_WHITESPACE"," ",843],["T_CONSTANT_ENCAPSED_STRING","'cancel'",843],")",";",["T_WHITESPACE","\n        ",843],"}",["T_WHITESPACE","\n\n        ",844],["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","_eventManager",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","dispatch",846],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_payment_cancel'",846],",",["T_WHITESPACE"," ",846],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",846],["T_WHITESPACE"," ",846],["T_DOUBLE_ARROW","=>",846],["T_WHITESPACE"," ",846],["T_VARIABLE","$this",846],"]",")",";",["T_WHITESPACE","\n\n        ",846],["T_RETURN","return",848],["T_WHITESPACE"," ",848],["T_VARIABLE","$this",848],";",["T_WHITESPACE","\n    ",848],"}",["T_WHITESPACE","\n\n    ",849],["T_DOC_COMMENT","\/**\n     * Check order payment review availability\n     *\n     * @return bool\n     *\/",851],["T_WHITESPACE","\n    ",855],["T_PUBLIC","public",856],["T_WHITESPACE"," ",856],["T_FUNCTION","function",856],["T_WHITESPACE"," ",856],["T_STRING","canReviewPayment",856],"(",")",["T_WHITESPACE","\n    ",856],"{",["T_WHITESPACE","\n        ",857],["T_RETURN","return",858],["T_WHITESPACE"," ",858],["T_BOOL_CAST","(bool)",858],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","getMethodInstance",858],"(",")",["T_OBJECT_OPERATOR","->",858],["T_STRING","canReviewPayment",858],"(",")",";",["T_WHITESPACE","\n    ",858],"}",["T_WHITESPACE","\n\n    ",859],["T_DOC_COMMENT","\/**\n     * @return bool\n     *\/",861],["T_WHITESPACE","\n    ",863],["T_PUBLIC","public",864],["T_WHITESPACE"," ",864],["T_FUNCTION","function",864],["T_WHITESPACE"," ",864],["T_STRING","canFetchTransactionInfo",864],"(",")",["T_WHITESPACE","\n    ",864],"{",["T_WHITESPACE","\n        ",865],["T_RETURN","return",866],["T_WHITESPACE"," ",866],["T_BOOL_CAST","(bool)",866],["T_VARIABLE","$this",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","getMethodInstance",866],"(",")",["T_OBJECT_OPERATOR","->",866],["T_STRING","canFetchTransactionInfo",866],"(",")",";",["T_WHITESPACE","\n    ",866],"}",["T_WHITESPACE","\n\n    ",867],["T_DOC_COMMENT","\/**\n     * Accept online a payment that is in review state\n     *\n     * @return $this\n     *\/",869],["T_WHITESPACE","\n    ",873],["T_PUBLIC","public",874],["T_WHITESPACE"," ",874],["T_FUNCTION","function",874],["T_WHITESPACE"," ",874],["T_STRING","accept",874],"(",")",["T_WHITESPACE","\n    ",874],"{",["T_WHITESPACE","\n        ",875],["T_VARIABLE","$transactionId",876],["T_WHITESPACE"," ",876],"=",["T_WHITESPACE"," ",876],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","getLastTransId",876],"(",")",";",["T_WHITESPACE","\n\n        ",876],["T_DOC_COMMENT","\/** @var \\Magento\\Payment\\Model\\Method\\AbstractMethod $method *\/",878],["T_WHITESPACE","\n        ",878],["T_VARIABLE","$method",879],["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","getMethodInstance",879],"(",")",";",["T_WHITESPACE","\n        ",879],["T_VARIABLE","$method",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","setStore",880],"(",["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","getOrder",880],"(",")",["T_OBJECT_OPERATOR","->",880],["T_STRING","getStoreId",880],"(",")",")",";",["T_WHITESPACE","\n        ",880],["T_IF","if",881],["T_WHITESPACE"," ",881],"(",["T_VARIABLE","$method",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","acceptPayment",881],"(",["T_VARIABLE","$this",881],")",")",["T_WHITESPACE"," ",881],"{",["T_WHITESPACE","\n            ",881],["T_VARIABLE","$invoice",882],["T_WHITESPACE"," ",882],"=",["T_WHITESPACE"," ",882],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","_getInvoiceForTransactionId",882],"(",["T_VARIABLE","$transactionId",882],")",";",["T_WHITESPACE","\n            ",882],["T_VARIABLE","$message",883],["T_WHITESPACE"," ",883],"=",["T_WHITESPACE"," ",883],["T_VARIABLE","$this",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","_appendTransactionToMessage",883],"(",["T_WHITESPACE","\n                ",883],["T_VARIABLE","$transactionId",884],",",["T_WHITESPACE","\n                ",884],["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","prependMessage",885],"(",["T_STRING","__",885],"(",["T_CONSTANT_ENCAPSED_STRING","'Approved the payment online.'",885],")",")",["T_WHITESPACE","\n            ",885],")",";",["T_WHITESPACE","\n            ",886],["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","updateBaseAmountPaidOnlineTotal",887],"(",["T_VARIABLE","$invoice",887],")",";",["T_WHITESPACE","\n            ",887],["T_VARIABLE","$this",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","setOrderStateProcessing",888],"(",["T_VARIABLE","$message",888],")",";",["T_WHITESPACE","\n        ",888],"}",["T_WHITESPACE"," ",889],["T_ELSE","else",889],["T_WHITESPACE"," ",889],"{",["T_WHITESPACE","\n            ",889],["T_VARIABLE","$message",890],["T_WHITESPACE"," ",890],"=",["T_WHITESPACE"," ",890],["T_VARIABLE","$this",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","_appendTransactionToMessage",890],"(",["T_WHITESPACE","\n                ",890],["T_VARIABLE","$transactionId",891],",",["T_WHITESPACE","\n                ",891],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","prependMessage",892],"(",["T_STRING","__",892],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no need to approve this payment.'",892],")",")",["T_WHITESPACE","\n            ",892],")",";",["T_WHITESPACE","\n            ",893],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","setOrderStatePaymentReview",894],"(",["T_VARIABLE","$message",894],",",["T_WHITESPACE"," ",894],["T_VARIABLE","$transactionId",894],")",";",["T_WHITESPACE","\n        ",894],"}",["T_WHITESPACE","\n        ",895],["T_RETURN","return",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$this",896],";",["T_WHITESPACE","\n    ",896],"}",["T_WHITESPACE","\n\n    ",897],["T_DOC_COMMENT","\/**\n     * Accept order with payment method instance\n     *\n     * @param bool $isOnline\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",899],["T_WHITESPACE","\n    ",905],["T_PUBLIC","public",906],["T_WHITESPACE"," ",906],["T_FUNCTION","function",906],["T_WHITESPACE"," ",906],["T_STRING","deny",906],"(",["T_VARIABLE","$isOnline",906],["T_WHITESPACE"," ",906],"=",["T_WHITESPACE"," ",906],["T_STRING","true",906],")",["T_WHITESPACE","\n    ",906],"{",["T_WHITESPACE","\n        ",907],["T_VARIABLE","$transactionId",908],["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],["T_VARIABLE","$isOnline",908],["T_WHITESPACE"," ",908],"?",["T_WHITESPACE"," ",908],["T_VARIABLE","$this",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","getLastTransId",908],"(",")",["T_WHITESPACE"," ",908],":",["T_WHITESPACE"," ",908],["T_VARIABLE","$this",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","getTransactionId",908],"(",")",";",["T_WHITESPACE","\n\n        ",908],["T_IF","if",910],["T_WHITESPACE"," ",910],"(",["T_VARIABLE","$isOnline",910],")",["T_WHITESPACE"," ",910],"{",["T_WHITESPACE","\n            ",910],["T_DOC_COMMENT","\/** @var \\Magento\\Payment\\Model\\Method\\AbstractMethod $method *\/",911],["T_WHITESPACE","\n            ",911],["T_VARIABLE","$method",912],["T_WHITESPACE"," ",912],"=",["T_WHITESPACE"," ",912],["T_VARIABLE","$this",912],["T_OBJECT_OPERATOR","->",912],["T_STRING","getMethodInstance",912],"(",")",";",["T_WHITESPACE","\n            ",912],["T_VARIABLE","$method",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","setStore",913],"(",["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","getOrder",913],"(",")",["T_OBJECT_OPERATOR","->",913],["T_STRING","getStoreId",913],"(",")",")",";",["T_WHITESPACE","\n\n            ",913],["T_VARIABLE","$result",915],["T_WHITESPACE"," ",915],"=",["T_WHITESPACE"," ",915],["T_VARIABLE","$method",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","denyPayment",915],"(",["T_VARIABLE","$this",915],")",";",["T_WHITESPACE","\n        ",915],"}",["T_WHITESPACE"," ",916],["T_ELSE","else",916],["T_WHITESPACE"," ",916],"{",["T_WHITESPACE","\n            ",916],["T_VARIABLE","$result",917],["T_WHITESPACE"," ",917],"=",["T_WHITESPACE"," ",917],["T_BOOL_CAST","(bool)",917],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","getNotificationResult",917],"(",")",";",["T_WHITESPACE","\n        ",917],"}",["T_WHITESPACE","\n\n        ",918],["T_IF","if",920],["T_WHITESPACE"," ",920],"(",["T_VARIABLE","$result",920],")",["T_WHITESPACE"," ",920],"{",["T_WHITESPACE","\n            ",920],["T_VARIABLE","$invoice",921],["T_WHITESPACE"," ",921],"=",["T_WHITESPACE"," ",921],["T_VARIABLE","$this",921],["T_OBJECT_OPERATOR","->",921],["T_STRING","_getInvoiceForTransactionId",921],"(",["T_VARIABLE","$transactionId",921],")",";",["T_WHITESPACE","\n            ",921],["T_VARIABLE","$message",922],["T_WHITESPACE"," ",922],"=",["T_WHITESPACE"," ",922],["T_VARIABLE","$this",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","_appendTransactionToMessage",922],"(",["T_WHITESPACE","\n                ",922],["T_VARIABLE","$transactionId",923],",",["T_WHITESPACE","\n                ",923],["T_VARIABLE","$this",924],["T_OBJECT_OPERATOR","->",924],["T_STRING","prependMessage",924],"(",["T_STRING","__",924],"(",["T_CONSTANT_ENCAPSED_STRING","'Denied the payment online'",924],")",")",["T_WHITESPACE","\n            ",924],")",";",["T_WHITESPACE","\n            ",925],["T_VARIABLE","$this",926],["T_OBJECT_OPERATOR","->",926],["T_STRING","cancelInvoiceAndRegisterCancellation",926],"(",["T_VARIABLE","$invoice",926],",",["T_WHITESPACE"," ",926],["T_VARIABLE","$message",926],")",";",["T_WHITESPACE","\n        ",926],"}",["T_WHITESPACE"," ",927],["T_ELSE","else",927],["T_WHITESPACE"," ",927],"{",["T_WHITESPACE","\n            ",927],["T_VARIABLE","$txt",928],["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],["T_VARIABLE","$isOnline",928],["T_WHITESPACE"," ",928],"?",["T_WHITESPACE","\n                ",928],["T_CONSTANT_ENCAPSED_STRING","'There is no need to deny this payment.'",929],["T_WHITESPACE"," ",929],":",["T_WHITESPACE"," ",929],["T_CONSTANT_ENCAPSED_STRING","'Registered notification about denied payment.'",929],";",["T_WHITESPACE","\n            ",929],["T_VARIABLE","$message",930],["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_VARIABLE","$this",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","_appendTransactionToMessage",930],"(",["T_WHITESPACE","\n                ",930],["T_VARIABLE","$transactionId",931],",",["T_WHITESPACE","\n                ",931],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","prependMessage",932],"(",["T_STRING","__",932],"(",["T_VARIABLE","$txt",932],")",")",["T_WHITESPACE","\n            ",932],")",";",["T_WHITESPACE","\n            ",933],["T_VARIABLE","$this",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","setOrderStatePaymentReview",934],"(",["T_VARIABLE","$message",934],",",["T_WHITESPACE"," ",934],["T_VARIABLE","$transactionId",934],")",";",["T_WHITESPACE","\n        ",934],"}",["T_WHITESPACE","\n        ",935],["T_RETURN","return",936],["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],";",["T_WHITESPACE","\n    ",936],"}",["T_WHITESPACE","\n\n    ",937],["T_DOC_COMMENT","\/**\n     * Performs registered payment update.\n     *\n     * @param bool $isOnline\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",939],["T_WHITESPACE","\n    ",945],["T_PUBLIC","public",946],["T_WHITESPACE"," ",946],["T_FUNCTION","function",946],["T_WHITESPACE"," ",946],["T_STRING","update",946],"(",["T_VARIABLE","$isOnline",946],["T_WHITESPACE"," ",946],"=",["T_WHITESPACE"," ",946],["T_STRING","true",946],")",["T_WHITESPACE","\n    ",946],"{",["T_WHITESPACE","\n        ",947],["T_VARIABLE","$transactionId",948],["T_WHITESPACE"," ",948],"=",["T_WHITESPACE"," ",948],["T_VARIABLE","$isOnline",948],["T_WHITESPACE"," ",948],"?",["T_WHITESPACE"," ",948],["T_VARIABLE","$this",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","getLastTransId",948],"(",")",["T_WHITESPACE"," ",948],":",["T_WHITESPACE"," ",948],["T_VARIABLE","$this",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","getTransactionId",948],"(",")",";",["T_WHITESPACE","\n        ",948],["T_VARIABLE","$invoice",949],["T_WHITESPACE"," ",949],"=",["T_WHITESPACE"," ",949],["T_VARIABLE","$this",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","_getInvoiceForTransactionId",949],"(",["T_VARIABLE","$transactionId",949],")",";",["T_WHITESPACE","\n\n        ",949],["T_IF","if",951],["T_WHITESPACE"," ",951],"(",["T_VARIABLE","$isOnline",951],")",["T_WHITESPACE"," ",951],"{",["T_WHITESPACE","\n            ",951],["T_VARIABLE","$method",952],["T_WHITESPACE"," ",952],"=",["T_WHITESPACE"," ",952],["T_VARIABLE","$this",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","getMethodInstance",952],"(",")",";",["T_WHITESPACE","\n            ",952],["T_VARIABLE","$method",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","setStore",953],"(",["T_VARIABLE","$this",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","getOrder",953],"(",")",["T_OBJECT_OPERATOR","->",953],["T_STRING","getStoreId",953],"(",")",")",";",["T_WHITESPACE","\n            ",953],["T_VARIABLE","$method",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","fetchTransactionInfo",954],"(",["T_VARIABLE","$this",954],",",["T_WHITESPACE"," ",954],["T_VARIABLE","$transactionId",954],")",";",["T_WHITESPACE","\n        ",954],"}",["T_WHITESPACE","\n\n        ",955],["T_IF","if",957],["T_WHITESPACE"," ",957],"(",["T_VARIABLE","$this",957],["T_OBJECT_OPERATOR","->",957],["T_STRING","getIsTransactionApproved",957],"(",")",")",["T_WHITESPACE"," ",957],"{",["T_WHITESPACE","\n            ",957],["T_VARIABLE","$message",958],["T_WHITESPACE"," ",958],"=",["T_WHITESPACE"," ",958],["T_VARIABLE","$this",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","_appendTransactionToMessage",958],"(",["T_WHITESPACE","\n                ",958],["T_VARIABLE","$transactionId",959],",",["T_WHITESPACE","\n                ",959],["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","prependMessage",960],"(",["T_STRING","__",960],"(",["T_CONSTANT_ENCAPSED_STRING","'Registered update about approved payment.'",960],")",")",["T_WHITESPACE","\n            ",960],")",";",["T_WHITESPACE","\n            ",961],["T_VARIABLE","$this",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","updateBaseAmountPaidOnlineTotal",962],"(",["T_VARIABLE","$invoice",962],")",";",["T_WHITESPACE","\n            ",962],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","setOrderStateProcessing",963],"(",["T_VARIABLE","$message",963],")",";",["T_WHITESPACE","\n        ",963],"}",["T_WHITESPACE"," ",964],["T_ELSEIF","elseif",964],["T_WHITESPACE"," ",964],"(",["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","getIsTransactionDenied",964],"(",")",")",["T_WHITESPACE"," ",964],"{",["T_WHITESPACE","\n            ",964],["T_VARIABLE","$message",965],["T_WHITESPACE"," ",965],"=",["T_WHITESPACE"," ",965],["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","_appendTransactionToMessage",965],"(",["T_WHITESPACE","\n                ",965],["T_VARIABLE","$transactionId",966],",",["T_WHITESPACE","\n                ",966],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","prependMessage",967],"(",["T_STRING","__",967],"(",["T_CONSTANT_ENCAPSED_STRING","'Registered update about denied payment.'",967],")",")",["T_WHITESPACE","\n            ",967],")",";",["T_WHITESPACE","\n            ",968],["T_VARIABLE","$this",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","cancelInvoiceAndRegisterCancellation",969],"(",["T_VARIABLE","$invoice",969],",",["T_WHITESPACE"," ",969],["T_VARIABLE","$message",969],")",";",["T_WHITESPACE","\n        ",969],"}",["T_WHITESPACE"," ",970],["T_ELSE","else",970],["T_WHITESPACE"," ",970],"{",["T_WHITESPACE","\n            ",970],["T_VARIABLE","$message",971],["T_WHITESPACE"," ",971],"=",["T_WHITESPACE"," ",971],["T_VARIABLE","$this",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","_appendTransactionToMessage",971],"(",["T_WHITESPACE","\n                ",971],["T_VARIABLE","$transactionId",972],",",["T_WHITESPACE","\n                ",972],["T_VARIABLE","$this",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","prependMessage",973],"(",["T_STRING","__",973],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no update for the payment.'",973],")",")",["T_WHITESPACE","\n            ",973],")",";",["T_WHITESPACE","\n            ",974],["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","setOrderStatePaymentReview",975],"(",["T_VARIABLE","$message",975],",",["T_WHITESPACE"," ",975],["T_VARIABLE","$transactionId",975],")",";",["T_WHITESPACE","\n        ",975],"}",["T_WHITESPACE","\n\n        ",976],["T_RETURN","return",978],["T_WHITESPACE"," ",978],["T_VARIABLE","$this",978],";",["T_WHITESPACE","\n    ",978],"}",["T_WHITESPACE","\n\n    ",979],["T_DOC_COMMENT","\/**\n     * Triggers invoice pay and updates base_amount_paid_online total.\n     *\n     * @param \\Magento\\Sales\\Model\\Order\\Invoice|false $invoice\n     *\/",981],["T_WHITESPACE","\n    ",985],["T_PROTECTED","protected",986],["T_WHITESPACE"," ",986],["T_FUNCTION","function",986],["T_WHITESPACE"," ",986],["T_STRING","updateBaseAmountPaidOnlineTotal",986],"(",["T_VARIABLE","$invoice",986],")",["T_WHITESPACE","\n    ",986],"{",["T_WHITESPACE","\n        ",987],["T_IF","if",988],["T_WHITESPACE"," ",988],"(",["T_VARIABLE","$invoice",988],["T_WHITESPACE"," ",988],["T_INSTANCEOF","instanceof",988],["T_WHITESPACE"," ",988],["T_STRING","Invoice",988],")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n            ",988],["T_VARIABLE","$invoice",989],["T_OBJECT_OPERATOR","->",989],["T_STRING","pay",989],"(",")",";",["T_WHITESPACE","\n            ",989],["T_VARIABLE","$this",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","_updateTotals",990],"(","[",["T_CONSTANT_ENCAPSED_STRING","'base_amount_paid_online'",990],["T_WHITESPACE"," ",990],["T_DOUBLE_ARROW","=>",990],["T_WHITESPACE"," ",990],["T_VARIABLE","$invoice",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","getBaseGrandTotal",990],"(",")","]",")",";",["T_WHITESPACE","\n            ",990],["T_VARIABLE","$this",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","getOrder",991],"(",")",["T_OBJECT_OPERATOR","->",991],["T_STRING","addRelatedObject",991],"(",["T_VARIABLE","$invoice",991],")",";",["T_WHITESPACE","\n        ",991],"}",["T_WHITESPACE","\n    ",992],"}",["T_WHITESPACE","\n\n    ",993],["T_DOC_COMMENT","\/**\n     * Sets order state to 'processing' with appropriate message\n     *\n     * @param \\Magento\\Framework\\Phrase|string $message\n     *\/",995],["T_WHITESPACE","\n    ",999],["T_PROTECTED","protected",1000],["T_WHITESPACE"," ",1000],["T_FUNCTION","function",1000],["T_WHITESPACE"," ",1000],["T_STRING","setOrderStateProcessing",1000],"(",["T_VARIABLE","$message",1000],")",["T_WHITESPACE","\n    ",1000],"{",["T_WHITESPACE","\n        ",1001],["T_VARIABLE","$this",1002],["T_OBJECT_OPERATOR","->",1002],["T_STRING","getOrder",1002],"(",")",["T_OBJECT_OPERATOR","->",1002],["T_STRING","setState",1002],"(",["T_STRING","Order",1002],["T_DOUBLE_COLON","::",1002],["T_STRING","STATE_PROCESSING",1002],")",["T_WHITESPACE","\n            ",1002],["T_OBJECT_OPERATOR","->",1003],["T_STRING","setStatus",1003],"(",["T_VARIABLE","$this",1003],["T_OBJECT_OPERATOR","->",1003],["T_STRING","getOrder",1003],"(",")",["T_OBJECT_OPERATOR","->",1003],["T_STRING","getConfig",1003],"(",")",["T_OBJECT_OPERATOR","->",1003],["T_STRING","getStateDefaultStatus",1003],"(",["T_STRING","Order",1003],["T_DOUBLE_COLON","::",1003],["T_STRING","STATE_PROCESSING",1003],")",")",["T_WHITESPACE","\n            ",1003],["T_OBJECT_OPERATOR","->",1004],["T_STRING","addStatusHistoryComment",1004],"(",["T_VARIABLE","$message",1004],")",";",["T_WHITESPACE","\n    ",1004],"}",["T_WHITESPACE","\n\n    ",1005],["T_DOC_COMMENT","\/**\n     * Cancel invoice and register order cancellation\n     *\n     * @param Invoice|false $invoice\n     * @param string $message\n     *\/",1007],["T_WHITESPACE","\n    ",1012],["T_PROTECTED","protected",1013],["T_WHITESPACE"," ",1013],["T_FUNCTION","function",1013],["T_WHITESPACE"," ",1013],["T_STRING","cancelInvoiceAndRegisterCancellation",1013],"(",["T_VARIABLE","$invoice",1013],",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$message",1013],")",["T_WHITESPACE","\n    ",1013],"{",["T_WHITESPACE","\n        ",1014],["T_IF","if",1015],["T_WHITESPACE"," ",1015],"(",["T_VARIABLE","$invoice",1015],["T_WHITESPACE"," ",1015],["T_INSTANCEOF","instanceof",1015],["T_WHITESPACE"," ",1015],["T_STRING","Invoice",1015],")",["T_WHITESPACE"," ",1015],"{",["T_WHITESPACE","\n            ",1015],["T_VARIABLE","$invoice",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","cancel",1016],"(",")",";",["T_WHITESPACE","\n            ",1016],["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","getOrder",1017],"(",")",["T_OBJECT_OPERATOR","->",1017],["T_STRING","addRelatedObject",1017],"(",["T_VARIABLE","$invoice",1017],")",";",["T_WHITESPACE","\n        ",1017],"}",["T_WHITESPACE","\n        ",1018],["T_VARIABLE","$this",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","getOrder",1019],"(",")",["T_OBJECT_OPERATOR","->",1019],["T_STRING","registerCancellation",1019],"(",["T_VARIABLE","$message",1019],",",["T_WHITESPACE"," ",1019],["T_STRING","false",1019],")",";",["T_WHITESPACE","\n    ",1019],"}",["T_WHITESPACE","\n\n    ",1020],["T_DOC_COMMENT","\/**\n     * Sets order state status to 'payment_review' with appropriate message\n     *\n     * @param string $message\n     * @param int|null $transactionId\n     *\/",1022],["T_WHITESPACE","\n    ",1027],["T_PROTECTED","protected",1028],["T_WHITESPACE"," ",1028],["T_FUNCTION","function",1028],["T_WHITESPACE"," ",1028],["T_STRING","setOrderStatePaymentReview",1028],"(",["T_VARIABLE","$message",1028],",",["T_WHITESPACE"," ",1028],["T_VARIABLE","$transactionId",1028],")",["T_WHITESPACE","\n    ",1028],"{",["T_WHITESPACE","\n        ",1029],["T_IF","if",1030],["T_WHITESPACE"," ",1030],"(",["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","getOrder",1030],"(",")",["T_OBJECT_OPERATOR","->",1030],["T_STRING","getState",1030],"(",")",["T_WHITESPACE"," ",1030],["T_IS_NOT_EQUAL","!=",1030],["T_WHITESPACE"," ",1030],["T_STRING","Order",1030],["T_DOUBLE_COLON","::",1030],["T_STRING","STATE_PAYMENT_REVIEW",1030],")",["T_WHITESPACE"," ",1030],"{",["T_WHITESPACE","\n            ",1030],["T_VARIABLE","$this",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","getOrder",1031],"(",")",["T_OBJECT_OPERATOR","->",1031],["T_STRING","setState",1031],"(",["T_STRING","Order",1031],["T_DOUBLE_COLON","::",1031],["T_STRING","STATE_PAYMENT_REVIEW",1031],")",["T_WHITESPACE","\n                ",1031],["T_OBJECT_OPERATOR","->",1032],["T_STRING","addStatusHistoryComment",1032],"(",["T_VARIABLE","$message",1032],")",";",["T_WHITESPACE","\n            ",1032],["T_IF","if",1033],["T_WHITESPACE"," ",1033],"(",["T_VARIABLE","$this",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","getIsFraudDetected",1033],"(",")",")",["T_WHITESPACE"," ",1033],"{",["T_WHITESPACE","\n                ",1033],["T_VARIABLE","$this",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","getOrder",1034],"(",")",["T_OBJECT_OPERATOR","->",1034],["T_STRING","setStatus",1034],"(",["T_STRING","Order",1034],["T_DOUBLE_COLON","::",1034],["T_STRING","STATUS_FRAUD",1034],")",";",["T_WHITESPACE","\n            ",1034],"}",["T_WHITESPACE","\n            ",1035],["T_IF","if",1036],["T_WHITESPACE"," ",1036],"(",["T_VARIABLE","$transactionId",1036],")",["T_WHITESPACE"," ",1036],"{",["T_WHITESPACE","\n                ",1036],["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","setLastTransId",1037],"(",["T_VARIABLE","$transactionId",1037],")",";",["T_WHITESPACE","\n            ",1037],"}",["T_WHITESPACE","\n        ",1038],"}",["T_WHITESPACE"," ",1039],["T_ELSE","else",1039],["T_WHITESPACE"," ",1039],"{",["T_WHITESPACE","\n            ",1039],["T_VARIABLE","$this",1040],["T_OBJECT_OPERATOR","->",1040],["T_STRING","getOrder",1040],"(",")",["T_OBJECT_OPERATOR","->",1040],["T_STRING","addStatusHistoryComment",1040],"(",["T_VARIABLE","$message",1040],")",";",["T_WHITESPACE","\n        ",1040],"}",["T_WHITESPACE","\n    ",1041],"}",["T_WHITESPACE","\n\n    ",1042],["T_DOC_COMMENT","\/**\n     * Order payment either online\n     * Updates transactions hierarchy, if required\n     * Prevents transaction double processing\n     * Updates payment totals, updates order status and adds proper comments\n     *\n     * @param float $amount\n     * @return $this\n     *\/",1044],["T_WHITESPACE","\n    ",1052],["T_PROTECTED","protected",1053],["T_WHITESPACE"," ",1053],["T_FUNCTION","function",1053],["T_WHITESPACE"," ",1053],["T_STRING","_order",1053],"(",["T_VARIABLE","$amount",1053],")",["T_WHITESPACE","\n    ",1053],"{",["T_WHITESPACE","\n        ",1054],["T_RETURN","return",1055],["T_WHITESPACE"," ",1055],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","orderPaymentProcessor",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","order",1055],"(",["T_VARIABLE","$this",1055],",",["T_WHITESPACE"," ",1055],["T_VARIABLE","$amount",1055],")",";",["T_WHITESPACE","\n    ",1055],"}",["T_WHITESPACE","\n\n    ",1056],["T_DOC_COMMENT","\/**\n     * Authorize payment either online or offline (process auth notification)\n     * Updates transactions hierarchy, if required\n     * Prevents transaction double processing\n     * Updates payment totals, updates order status and adds proper comments\n     *\n     * @param bool $isOnline\n     * @param float $amount\n     *\n     * @return $this\n     *\/",1058],["T_WHITESPACE","\n    ",1068],["T_PUBLIC","public",1069],["T_WHITESPACE"," ",1069],["T_FUNCTION","function",1069],["T_WHITESPACE"," ",1069],["T_STRING","authorize",1069],"(",["T_VARIABLE","$isOnline",1069],",",["T_WHITESPACE"," ",1069],["T_VARIABLE","$amount",1069],")",["T_WHITESPACE","\n    ",1069],"{",["T_WHITESPACE","\n        ",1070],["T_RETURN","return",1071],["T_WHITESPACE"," ",1071],["T_VARIABLE","$this",1071],["T_OBJECT_OPERATOR","->",1071],["T_STRING","orderPaymentProcessor",1071],["T_OBJECT_OPERATOR","->",1071],["T_STRING","authorize",1071],"(",["T_VARIABLE","$this",1071],",",["T_WHITESPACE"," ",1071],["T_VARIABLE","$isOnline",1071],",",["T_WHITESPACE"," ",1071],["T_VARIABLE","$amount",1071],")",";",["T_WHITESPACE","\n    ",1071],"}",["T_WHITESPACE","\n\n    ",1072],["T_DOC_COMMENT","\/**\n     * Void payment either online or offline (process void notification)\n     * NOTE: that in some cases authorization can be voided after a capture. In such case it makes sense to use\n     *       the amount void amount, for informational purposes.\n     * Updates payment totals, updates order status and adds proper comments\n     *\n     * @param bool $isOnline\n     * @param float $amount\n     * @param string $gatewayCallback\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",1074],["T_WHITESPACE","\n    ",1086],["T_PROTECTED","protected",1087],["T_WHITESPACE"," ",1087],["T_FUNCTION","function",1087],["T_WHITESPACE"," ",1087],["T_STRING","_void",1087],"(",["T_VARIABLE","$isOnline",1087],",",["T_WHITESPACE"," ",1087],["T_VARIABLE","$amount",1087],["T_WHITESPACE"," ",1087],"=",["T_WHITESPACE"," ",1087],["T_STRING","null",1087],",",["T_WHITESPACE"," ",1087],["T_VARIABLE","$gatewayCallback",1087],["T_WHITESPACE"," ",1087],"=",["T_WHITESPACE"," ",1087],["T_CONSTANT_ENCAPSED_STRING","'void'",1087],")",["T_WHITESPACE","\n    ",1087],"{",["T_WHITESPACE","\n        ",1088],["T_VARIABLE","$order",1089],["T_WHITESPACE"," ",1089],"=",["T_WHITESPACE"," ",1089],["T_VARIABLE","$this",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","getOrder",1089],"(",")",";",["T_WHITESPACE","\n        ",1089],["T_VARIABLE","$authTransaction",1090],["T_WHITESPACE"," ",1090],"=",["T_WHITESPACE"," ",1090],["T_VARIABLE","$this",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","getAuthorizationTransaction",1090],"(",")",";",["T_WHITESPACE","\n        ",1090],["T_VARIABLE","$this",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","setTransactionId",1091],"(",["T_WHITESPACE","\n            ",1091],["T_VARIABLE","$this",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","transactionManager",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","generateTransactionId",1092],"(",["T_VARIABLE","$this",1092],",",["T_WHITESPACE"," ",1092],["T_STRING","Transaction",1092],["T_DOUBLE_COLON","::",1092],["T_STRING","TYPE_VOID",1092],",",["T_WHITESPACE"," ",1092],["T_VARIABLE","$authTransaction",1092],")",["T_WHITESPACE","\n        ",1092],")",";",["T_WHITESPACE","\n        ",1093],["T_VARIABLE","$this",1094],["T_OBJECT_OPERATOR","->",1094],["T_STRING","setShouldCloseParentTransaction",1094],"(",["T_STRING","true",1094],")",";",["T_WHITESPACE","\n\n        ",1094],["T_COMMENT","\/\/ attempt to void\n",1096],["T_WHITESPACE","        ",1097],["T_IF","if",1097],["T_WHITESPACE"," ",1097],"(",["T_VARIABLE","$isOnline",1097],")",["T_WHITESPACE"," ",1097],"{",["T_WHITESPACE","\n            ",1097],["T_VARIABLE","$method",1098],["T_WHITESPACE"," ",1098],"=",["T_WHITESPACE"," ",1098],["T_VARIABLE","$this",1098],["T_OBJECT_OPERATOR","->",1098],["T_STRING","getMethodInstance",1098],"(",")",";",["T_WHITESPACE","\n            ",1098],["T_VARIABLE","$method",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","setStore",1099],"(",["T_VARIABLE","$order",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","getStoreId",1099],"(",")",")",";",["T_WHITESPACE","\n            ",1099],["T_VARIABLE","$method",1100],["T_OBJECT_OPERATOR","->",1100],"{",["T_VARIABLE","$gatewayCallback",1100],"}","(",["T_VARIABLE","$this",1100],")",";",["T_WHITESPACE","\n        ",1100],"}",["T_WHITESPACE","\n        ",1101],["T_IF","if",1102],["T_WHITESPACE"," ",1102],"(",["T_VARIABLE","$this",1102],["T_OBJECT_OPERATOR","->",1102],["T_STRING","checkIfTransactionExists",1102],"(",")",")",["T_WHITESPACE"," ",1102],"{",["T_WHITESPACE","\n            ",1102],["T_RETURN","return",1103],["T_WHITESPACE"," ",1103],["T_VARIABLE","$this",1103],";",["T_WHITESPACE","\n        ",1103],"}",["T_WHITESPACE","\n\n        ",1104],["T_COMMENT","\/\/ if the authorization was untouched, we may assume voided amount = order grand total\n",1106],["T_WHITESPACE","        ",1107],["T_COMMENT","\/\/ but only if the payment auth amount equals to order grand total\n",1107],["T_WHITESPACE","        ",1108],["T_IF","if",1108],["T_WHITESPACE"," ",1108],"(",["T_VARIABLE","$authTransaction",1108],["T_WHITESPACE"," ",1108],["T_BOOLEAN_AND","&&",1108],["T_WHITESPACE","\n            ",1108],["T_VARIABLE","$order",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","getBaseGrandTotal",1109],"(",")",["T_WHITESPACE"," ",1109],["T_IS_EQUAL","==",1109],["T_WHITESPACE"," ",1109],["T_VARIABLE","$this",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","getBaseAmountAuthorized",1109],"(",")",["T_WHITESPACE"," ",1109],["T_BOOLEAN_AND","&&",1109],["T_WHITESPACE","\n            ",1109],["T_LNUMBER","0",1110],["T_WHITESPACE"," ",1110],["T_IS_EQUAL","==",1110],["T_WHITESPACE"," ",1110],["T_VARIABLE","$this",1110],["T_OBJECT_OPERATOR","->",1110],["T_STRING","getBaseAmountCanceled",1110],"(",")",["T_WHITESPACE","\n        ",1110],")",["T_WHITESPACE"," ",1111],"{",["T_WHITESPACE","\n            ",1111],["T_IF","if",1112],["T_WHITESPACE"," ",1112],"(",["T_VARIABLE","$authTransaction",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","canVoidAuthorizationCompletely",1112],"(",")",")",["T_WHITESPACE"," ",1112],"{",["T_WHITESPACE","\n                ",1112],["T_VARIABLE","$amount",1113],["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_DOUBLE_CAST","(double)",1113],["T_VARIABLE","$order",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","getBaseGrandTotal",1113],"(",")",";",["T_WHITESPACE","\n            ",1113],"}",["T_WHITESPACE","\n        ",1114],"}",["T_WHITESPACE","\n\n        ",1115],["T_IF","if",1117],["T_WHITESPACE"," ",1117],"(",["T_VARIABLE","$amount",1117],")",["T_WHITESPACE"," ",1117],"{",["T_WHITESPACE","\n            ",1117],["T_VARIABLE","$amount",1118],["T_WHITESPACE"," ",1118],"=",["T_WHITESPACE"," ",1118],["T_VARIABLE","$this",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","formatAmount",1118],"(",["T_VARIABLE","$amount",1118],")",";",["T_WHITESPACE","\n        ",1118],"}",["T_WHITESPACE","\n\n        ",1119],["T_COMMENT","\/\/ update transactions, order state and add comments\n",1121],["T_WHITESPACE","        ",1122],["T_VARIABLE","$transaction",1122],["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_VARIABLE","$this",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","addTransaction",1122],"(",["T_STRING","Transaction",1122],["T_DOUBLE_COLON","::",1122],["T_STRING","TYPE_VOID",1122],",",["T_WHITESPACE"," ",1122],["T_STRING","null",1122],",",["T_WHITESPACE"," ",1122],["T_STRING","true",1122],")",";",["T_WHITESPACE","\n        ",1122],["T_VARIABLE","$message",1123],["T_WHITESPACE"," ",1123],"=",["T_WHITESPACE"," ",1123],["T_VARIABLE","$this",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","hasMessage",1123],"(",")",["T_WHITESPACE"," ",1123],"?",["T_WHITESPACE"," ",1123],["T_VARIABLE","$this",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","getMessage",1123],"(",")",["T_WHITESPACE"," ",1123],":",["T_WHITESPACE"," ",1123],["T_STRING","__",1123],"(",["T_CONSTANT_ENCAPSED_STRING","'Voided authorization.'",1123],")",";",["T_WHITESPACE","\n        ",1123],["T_VARIABLE","$message",1124],["T_WHITESPACE"," ",1124],"=",["T_WHITESPACE"," ",1124],["T_VARIABLE","$this",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","prependMessage",1124],"(",["T_VARIABLE","$message",1124],")",";",["T_WHITESPACE","\n        ",1124],["T_IF","if",1125],["T_WHITESPACE"," ",1125],"(",["T_VARIABLE","$amount",1125],")",["T_WHITESPACE"," ",1125],"{",["T_WHITESPACE","\n            ",1125],["T_VARIABLE","$message",1126],["T_WHITESPACE"," ",1126],["T_CONCAT_EQUAL",".=",1126],["T_WHITESPACE"," ",1126],["T_CONSTANT_ENCAPSED_STRING","' '",1126],["T_WHITESPACE"," ",1126],".",["T_WHITESPACE"," ",1126],["T_STRING","__",1126],"(",["T_CONSTANT_ENCAPSED_STRING","'Amount: %1.'",1126],",",["T_WHITESPACE"," ",1126],["T_VARIABLE","$this",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","formatPrice",1126],"(",["T_VARIABLE","$amount",1126],")",")",";",["T_WHITESPACE","\n        ",1126],"}",["T_WHITESPACE","\n        ",1127],["T_VARIABLE","$message",1128],["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],["T_VARIABLE","$this",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","_appendTransactionToMessage",1128],"(",["T_VARIABLE","$transaction",1128],",",["T_WHITESPACE"," ",1128],["T_VARIABLE","$message",1128],")",";",["T_WHITESPACE","\n        ",1128],["T_VARIABLE","$this",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","setOrderStateProcessing",1129],"(",["T_VARIABLE","$message",1129],")",";",["T_WHITESPACE","\n        ",1129],["T_VARIABLE","$order",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","setDataChanges",1130],"(",["T_STRING","true",1130],")",";",["T_WHITESPACE","\n        ",1130],["T_RETURN","return",1131],["T_WHITESPACE"," ",1131],["T_VARIABLE","$this",1131],";",["T_WHITESPACE","\n    ",1131],"}",["T_WHITESPACE","\n\n    ",1132],["T_DOC_COMMENT","\/**\n     * Public access to _addTransaction method\n     *\n     * @param string $type\n     * @param \\Magento\\Sales\\Model\\AbstractModel $salesDocument\n     * @param bool $failSafe\n     * @return null|Transaction\n     *\/",1134],["T_WHITESPACE","\n    ",1141],["T_PUBLIC","public",1142],["T_WHITESPACE"," ",1142],["T_FUNCTION","function",1142],["T_WHITESPACE"," ",1142],["T_STRING","addTransaction",1142],"(",["T_VARIABLE","$type",1142],",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$salesDocument",1142],["T_WHITESPACE"," ",1142],"=",["T_WHITESPACE"," ",1142],["T_STRING","null",1142],",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$failSafe",1142],["T_WHITESPACE"," ",1142],"=",["T_WHITESPACE"," ",1142],["T_STRING","false",1142],")",["T_WHITESPACE","\n    ",1142],"{",["T_WHITESPACE","\n        ",1143],["T_VARIABLE","$builder",1144],["T_WHITESPACE"," ",1144],"=",["T_WHITESPACE"," ",1144],["T_VARIABLE","$this",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","transactionBuilder",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","setPayment",1144],"(",["T_VARIABLE","$this",1144],")",["T_WHITESPACE","\n            ",1144],["T_OBJECT_OPERATOR","->",1145],["T_STRING","setOrder",1145],"(",["T_VARIABLE","$this",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","getOrder",1145],"(",")",")",["T_WHITESPACE","\n            ",1145],["T_OBJECT_OPERATOR","->",1146],["T_STRING","setFailSafe",1146],"(",["T_VARIABLE","$failSafe",1146],")",["T_WHITESPACE","\n            ",1146],["T_OBJECT_OPERATOR","->",1147],["T_STRING","setTransactionId",1147],"(",["T_VARIABLE","$this",1147],["T_OBJECT_OPERATOR","->",1147],["T_STRING","getTransactionId",1147],"(",")",")",["T_WHITESPACE","\n            ",1147],["T_OBJECT_OPERATOR","->",1148],["T_STRING","setAdditionalInformation",1148],"(",["T_VARIABLE","$this",1148],["T_OBJECT_OPERATOR","->",1148],["T_STRING","transactionAdditionalInfo",1148],")",";",["T_WHITESPACE","\n        ",1148],["T_IF","if",1149],["T_WHITESPACE"," ",1149],"(",["T_VARIABLE","$salesDocument",1149],")",["T_WHITESPACE"," ",1149],"{",["T_WHITESPACE","\n            ",1149],["T_VARIABLE","$builder",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","setSalesDocument",1150],"(",["T_VARIABLE","$salesDocument",1150],")",";",["T_WHITESPACE","\n        ",1150],"}",["T_WHITESPACE","\n        ",1151],["T_RETURN","return",1152],["T_WHITESPACE"," ",1152],["T_VARIABLE","$builder",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","build",1152],"(",["T_VARIABLE","$type",1152],")",";",["T_WHITESPACE","\n    ",1152],"}",["T_WHITESPACE","\n\n    ",1153],["T_PUBLIC","public",1155],["T_WHITESPACE"," ",1155],["T_FUNCTION","function",1155],["T_WHITESPACE"," ",1155],["T_STRING","addTransactionCommentsToOrder",1155],"(",["T_VARIABLE","$transaction",1155],",",["T_WHITESPACE"," ",1155],["T_VARIABLE","$message",1155],")",["T_WHITESPACE","\n    ",1155],"{",["T_WHITESPACE","\n        ",1156],["T_VARIABLE","$order",1157],["T_WHITESPACE"," ",1157],"=",["T_WHITESPACE"," ",1157],["T_VARIABLE","$this",1157],["T_OBJECT_OPERATOR","->",1157],["T_STRING","getOrder",1157],"(",")",";",["T_WHITESPACE","\n        ",1157],["T_VARIABLE","$message",1158],["T_WHITESPACE"," ",1158],"=",["T_WHITESPACE"," ",1158],["T_VARIABLE","$this",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","_appendTransactionToMessage",1158],"(",["T_VARIABLE","$transaction",1158],",",["T_WHITESPACE"," ",1158],["T_VARIABLE","$message",1158],")",";",["T_WHITESPACE","\n        ",1158],["T_VARIABLE","$order",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","addStatusHistoryComment",1159],"(",["T_VARIABLE","$message",1159],")",";",["T_WHITESPACE","\n    ",1159],"}",["T_WHITESPACE","\n\n    ",1160],["T_DOC_COMMENT","\/**\n     * Import details data of specified transaction\n     *\n     * @param Transaction $transactionTo\n     * @return $this\n     *\/",1162],["T_WHITESPACE","\n    ",1167],["T_PUBLIC","public",1168],["T_WHITESPACE"," ",1168],["T_FUNCTION","function",1168],["T_WHITESPACE"," ",1168],["T_STRING","importTransactionInfo",1168],"(",["T_STRING","Transaction",1168],["T_WHITESPACE"," ",1168],["T_VARIABLE","$transactionTo",1168],")",["T_WHITESPACE","\n    ",1168],"{",["T_WHITESPACE","\n        ",1169],["T_VARIABLE","$method",1170],["T_WHITESPACE"," ",1170],"=",["T_WHITESPACE"," ",1170],["T_VARIABLE","$this",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","getMethodInstance",1170],"(",")",";",["T_WHITESPACE","\n        ",1170],["T_VARIABLE","$method",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","setStore",1171],"(",["T_WHITESPACE","\n            ",1171],["T_VARIABLE","$this",1172],["T_OBJECT_OPERATOR","->",1172],["T_STRING","getOrder",1172],"(",")",["T_OBJECT_OPERATOR","->",1172],["T_STRING","getStoreId",1172],"(",")",["T_WHITESPACE","\n        ",1172],")",";",["T_WHITESPACE","\n        ",1173],["T_VARIABLE","$data",1174],["T_WHITESPACE"," ",1174],"=",["T_WHITESPACE"," ",1174],["T_VARIABLE","$method",1174],["T_OBJECT_OPERATOR","->",1174],["T_STRING","fetchTransactionInfo",1174],"(",["T_WHITESPACE","\n            ",1174],["T_VARIABLE","$this",1175],",",["T_WHITESPACE","\n            ",1175],["T_VARIABLE","$transactionTo",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","getTxnId",1176],"(",")",["T_WHITESPACE","\n        ",1176],")",";",["T_WHITESPACE","\n        ",1177],["T_IF","if",1178],["T_WHITESPACE"," ",1178],"(",["T_VARIABLE","$data",1178],")",["T_WHITESPACE"," ",1178],"{",["T_WHITESPACE","\n            ",1178],["T_VARIABLE","$transactionTo",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","setAdditionalInformation",1179],"(",["T_WHITESPACE","\n                ",1179],["T_STRING","Transaction",1180],["T_DOUBLE_COLON","::",1180],["T_STRING","RAW_DETAILS",1180],",",["T_WHITESPACE","\n                ",1180],["T_VARIABLE","$data",1181],["T_WHITESPACE","\n            ",1181],")",";",["T_WHITESPACE","\n        ",1182],"}",["T_WHITESPACE","\n        ",1183],["T_RETURN","return",1184],["T_WHITESPACE"," ",1184],["T_VARIABLE","$this",1184],";",["T_WHITESPACE","\n    ",1184],"}",["T_WHITESPACE","\n\n    ",1185],["T_DOC_COMMENT","\/**\n     * Totals updater utility method\n     * Updates self totals by keys in data array('key' => $delta)\n     *\n     * @param array $data\n     * @return void\n     *\/",1187],["T_WHITESPACE","\n    ",1193],["T_PROTECTED","protected",1194],["T_WHITESPACE"," ",1194],["T_FUNCTION","function",1194],["T_WHITESPACE"," ",1194],["T_STRING","_updateTotals",1194],"(",["T_VARIABLE","$data",1194],")",["T_WHITESPACE","\n    ",1194],"{",["T_WHITESPACE","\n        ",1195],["T_FOREACH","foreach",1196],["T_WHITESPACE"," ",1196],"(",["T_VARIABLE","$data",1196],["T_WHITESPACE"," ",1196],["T_AS","as",1196],["T_WHITESPACE"," ",1196],["T_VARIABLE","$key",1196],["T_WHITESPACE"," ",1196],["T_DOUBLE_ARROW","=>",1196],["T_WHITESPACE"," ",1196],["T_VARIABLE","$amount",1196],")",["T_WHITESPACE"," ",1196],"{",["T_WHITESPACE","\n            ",1196],["T_IF","if",1197],["T_WHITESPACE"," ",1197],"(",["T_STRING","null",1197],["T_WHITESPACE"," ",1197],["T_IS_NOT_IDENTICAL","!==",1197],["T_WHITESPACE"," ",1197],["T_VARIABLE","$amount",1197],")",["T_WHITESPACE"," ",1197],"{",["T_WHITESPACE","\n                ",1197],["T_VARIABLE","$was",1198],["T_WHITESPACE"," ",1198],"=",["T_WHITESPACE"," ",1198],["T_VARIABLE","$this",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","getDataUsingMethod",1198],"(",["T_VARIABLE","$key",1198],")",";",["T_WHITESPACE","\n                ",1198],["T_VARIABLE","$this",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","setDataUsingMethod",1199],"(",["T_VARIABLE","$key",1199],",",["T_WHITESPACE"," ",1199],["T_VARIABLE","$was",1199],["T_WHITESPACE"," ",1199],"+",["T_WHITESPACE"," ",1199],["T_VARIABLE","$amount",1199],")",";",["T_WHITESPACE","\n            ",1199],"}",["T_WHITESPACE","\n        ",1200],"}",["T_WHITESPACE","\n    ",1201],"}",["T_WHITESPACE","\n\n    ",1202],["T_DOC_COMMENT","\/**\n     * Append transaction ID (if any) message to the specified message\n     *\n     * @param Transaction|null $transaction\n     * @param string $message\n     * @return string\n     *\/",1204],["T_WHITESPACE","\n    ",1210],["T_PROTECTED","protected",1211],["T_WHITESPACE"," ",1211],["T_FUNCTION","function",1211],["T_WHITESPACE"," ",1211],["T_STRING","_appendTransactionToMessage",1211],"(",["T_VARIABLE","$transaction",1211],",",["T_WHITESPACE"," ",1211],["T_VARIABLE","$message",1211],")",["T_WHITESPACE","\n    ",1211],"{",["T_WHITESPACE","\n        ",1212],["T_IF","if",1213],["T_WHITESPACE"," ",1213],"(",["T_VARIABLE","$transaction",1213],")",["T_WHITESPACE"," ",1213],"{",["T_WHITESPACE","\n            ",1213],["T_VARIABLE","$txnId",1214],["T_WHITESPACE"," ",1214],"=",["T_WHITESPACE"," ",1214],["T_STRING","is_object",1214],"(",["T_VARIABLE","$transaction",1214],")",["T_WHITESPACE"," ",1214],"?",["T_WHITESPACE"," ",1214],["T_VARIABLE","$transaction",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","getHtmlTxnId",1214],"(",")",["T_WHITESPACE"," ",1214],":",["T_WHITESPACE"," ",1214],["T_VARIABLE","$transaction",1214],";",["T_WHITESPACE","\n            ",1214],["T_VARIABLE","$message",1215],["T_WHITESPACE"," ",1215],["T_CONCAT_EQUAL",".=",1215],["T_WHITESPACE"," ",1215],["T_CONSTANT_ENCAPSED_STRING","' '",1215],["T_WHITESPACE"," ",1215],".",["T_WHITESPACE"," ",1215],["T_STRING","__",1215],"(",["T_CONSTANT_ENCAPSED_STRING","'Transaction ID: \"%1\"'",1215],",",["T_WHITESPACE"," ",1215],["T_VARIABLE","$txnId",1215],")",";",["T_WHITESPACE","\n        ",1215],"}",["T_WHITESPACE","\n        ",1216],["T_RETURN","return",1217],["T_WHITESPACE"," ",1217],["T_VARIABLE","$message",1217],";",["T_WHITESPACE","\n    ",1217],"}",["T_WHITESPACE","\n\n    ",1218],["T_DOC_COMMENT","\/**\n     * Prepend a \"prepared_message\" that may be set to the payment instance before, to the specified message\n     * Prepends value to the specified string or to the comment of specified order status history item instance\n     *\n     * @param string|\\Magento\\Sales\\Model\\Order\\Status\\History $messagePrependTo\n     * @return string|\\Magento\\Sales\\Model\\Order\\Status\\History\n     *\/",1220],["T_WHITESPACE","\n    ",1226],["T_PUBLIC","public",1227],["T_WHITESPACE"," ",1227],["T_FUNCTION","function",1227],["T_WHITESPACE"," ",1227],["T_STRING","prependMessage",1227],"(",["T_VARIABLE","$messagePrependTo",1227],")",["T_WHITESPACE","\n    ",1227],"{",["T_WHITESPACE","\n        ",1228],["T_VARIABLE","$preparedMessage",1229],["T_WHITESPACE"," ",1229],"=",["T_WHITESPACE"," ",1229],["T_VARIABLE","$this",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","getPreparedMessage",1229],"(",")",";",["T_WHITESPACE","\n        ",1229],["T_IF","if",1230],["T_WHITESPACE"," ",1230],"(",["T_VARIABLE","$preparedMessage",1230],")",["T_WHITESPACE"," ",1230],"{",["T_WHITESPACE","\n            ",1230],["T_IF","if",1231],["T_WHITESPACE"," ",1231],"(",["T_WHITESPACE","\n                ",1231],["T_STRING","is_string",1232],"(",["T_VARIABLE","$preparedMessage",1232],")",["T_WHITESPACE","\n                ",1232],["T_BOOLEAN_OR","||",1233],["T_WHITESPACE"," ",1233],["T_VARIABLE","$preparedMessage",1233],["T_WHITESPACE"," ",1233],["T_INSTANCEOF","instanceof",1233],["T_WHITESPACE"," ",1233],["T_NS_SEPARATOR","\\",1233],["T_STRING","Magento",1233],["T_NS_SEPARATOR","\\",1233],["T_STRING","Framework",1233],["T_NS_SEPARATOR","\\",1233],["T_STRING","Phrase",1233],["T_WHITESPACE","\n            ",1233],")",["T_WHITESPACE"," ",1234],"{",["T_WHITESPACE","\n                ",1234],["T_RETURN","return",1235],["T_WHITESPACE"," ",1235],["T_VARIABLE","$preparedMessage",1235],["T_WHITESPACE"," ",1235],".",["T_WHITESPACE"," ",1235],["T_CONSTANT_ENCAPSED_STRING","' '",1235],["T_WHITESPACE"," ",1235],".",["T_WHITESPACE"," ",1235],["T_VARIABLE","$messagePrependTo",1235],";",["T_WHITESPACE","\n            ",1235],"}",["T_WHITESPACE"," ",1236],["T_ELSEIF","elseif",1236],["T_WHITESPACE"," ",1236],"(",["T_STRING","is_object",1236],"(",["T_WHITESPACE","\n                    ",1236],["T_VARIABLE","$preparedMessage",1237],["T_WHITESPACE","\n                ",1237],")",["T_WHITESPACE"," ",1238],["T_BOOLEAN_AND","&&",1238],["T_WHITESPACE"," ",1238],["T_VARIABLE","$preparedMessage",1238],["T_WHITESPACE"," ",1238],["T_INSTANCEOF","instanceof",1238],["T_WHITESPACE"," ",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","Magento",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","Sales",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","Model",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","Order",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","Status",1238],["T_NS_SEPARATOR","\\",1238],["T_STRING","History",1238],["T_WHITESPACE","\n            ",1238],")",["T_WHITESPACE"," ",1239],"{",["T_WHITESPACE","\n                ",1239],["T_VARIABLE","$comment",1240],["T_WHITESPACE"," ",1240],"=",["T_WHITESPACE"," ",1240],["T_VARIABLE","$preparedMessage",1240],["T_OBJECT_OPERATOR","->",1240],["T_STRING","getComment",1240],"(",")",["T_WHITESPACE"," ",1240],".",["T_WHITESPACE"," ",1240],["T_CONSTANT_ENCAPSED_STRING","' '",1240],["T_WHITESPACE"," ",1240],".",["T_WHITESPACE"," ",1240],["T_VARIABLE","$messagePrependTo",1240],";",["T_WHITESPACE","\n                ",1240],["T_VARIABLE","$preparedMessage",1241],["T_OBJECT_OPERATOR","->",1241],["T_STRING","setComment",1241],"(",["T_VARIABLE","$comment",1241],")",";",["T_WHITESPACE","\n                ",1241],["T_RETURN","return",1242],["T_WHITESPACE"," ",1242],["T_VARIABLE","$comment",1242],";",["T_WHITESPACE","\n            ",1242],"}",["T_WHITESPACE","\n        ",1243],"}",["T_WHITESPACE","\n        ",1244],["T_RETURN","return",1245],["T_WHITESPACE"," ",1245],["T_VARIABLE","$messagePrependTo",1245],";",["T_WHITESPACE","\n    ",1245],"}",["T_WHITESPACE","\n\n    ",1246],["T_DOC_COMMENT","\/**\n     * Round up and cast specified amount to float or string\n     *\n     * @param string|float $amount\n     * @param bool $asFloat\n     * @return string|float\n     *\/",1248],["T_WHITESPACE","\n    ",1254],["T_PUBLIC","public",1255],["T_WHITESPACE"," ",1255],["T_FUNCTION","function",1255],["T_WHITESPACE"," ",1255],["T_STRING","formatAmount",1255],"(",["T_VARIABLE","$amount",1255],",",["T_WHITESPACE"," ",1255],["T_VARIABLE","$asFloat",1255],["T_WHITESPACE"," ",1255],"=",["T_WHITESPACE"," ",1255],["T_STRING","false",1255],")",["T_WHITESPACE","\n    ",1255],"{",["T_WHITESPACE","\n        ",1256],["T_VARIABLE","$amount",1257],["T_WHITESPACE"," ",1257],"=",["T_WHITESPACE"," ",1257],["T_VARIABLE","$this",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","priceCurrency",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","round",1257],"(",["T_VARIABLE","$amount",1257],")",";",["T_WHITESPACE","\n        ",1257],["T_RETURN","return",1258],["T_WHITESPACE"," ",1258],"!",["T_VARIABLE","$asFloat",1258],["T_WHITESPACE"," ",1258],"?",["T_WHITESPACE"," ",1258],["T_STRING_CAST","(string)",1258],["T_VARIABLE","$amount",1258],["T_WHITESPACE"," ",1258],":",["T_WHITESPACE"," ",1258],["T_VARIABLE","$amount",1258],";",["T_WHITESPACE","\n    ",1258],"}",["T_WHITESPACE","\n\n    ",1259],["T_DOC_COMMENT","\/**\n     * Format price with currency sign\n     * @param float $amount\n     * @return string\n     *\/",1261],["T_WHITESPACE","\n    ",1265],["T_PUBLIC","public",1266],["T_WHITESPACE"," ",1266],["T_FUNCTION","function",1266],["T_WHITESPACE"," ",1266],["T_STRING","formatPrice",1266],"(",["T_VARIABLE","$amount",1266],")",["T_WHITESPACE","\n    ",1266],"{",["T_WHITESPACE","\n        ",1267],["T_RETURN","return",1268],["T_WHITESPACE"," ",1268],["T_VARIABLE","$this",1268],["T_OBJECT_OPERATOR","->",1268],["T_STRING","getOrder",1268],"(",")",["T_OBJECT_OPERATOR","->",1268],["T_STRING","getBaseCurrency",1268],"(",")",["T_OBJECT_OPERATOR","->",1268],["T_STRING","formatTxt",1268],"(",["T_VARIABLE","$amount",1268],")",";",["T_WHITESPACE","\n    ",1268],"}",["T_WHITESPACE","\n\n    ",1269],["T_DOC_COMMENT","\/**\n     * Lookup an authorization transaction using parent transaction id, if set\n     * @return Transaction|false\n     *\/",1271],["T_WHITESPACE","\n    ",1274],["T_PUBLIC","public",1275],["T_WHITESPACE"," ",1275],["T_FUNCTION","function",1275],["T_WHITESPACE"," ",1275],["T_STRING","getAuthorizationTransaction",1275],"(",")",["T_WHITESPACE","\n    ",1275],"{",["T_WHITESPACE","\n        ",1276],["T_RETURN","return",1277],["T_WHITESPACE"," ",1277],["T_VARIABLE","$this",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","transactionManager",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","getAuthorizationTransaction",1277],"(",["T_WHITESPACE","\n            ",1277],["T_VARIABLE","$this",1278],["T_OBJECT_OPERATOR","->",1278],["T_STRING","getParentTransactionId",1278],"(",")",",",["T_WHITESPACE","\n            ",1278],["T_VARIABLE","$this",1279],["T_OBJECT_OPERATOR","->",1279],["T_STRING","getId",1279],"(",")",",",["T_WHITESPACE","\n            ",1279],["T_VARIABLE","$this",1280],["T_OBJECT_OPERATOR","->",1280],["T_STRING","getOrder",1280],"(",")",["T_OBJECT_OPERATOR","->",1280],["T_STRING","getId",1280],"(",")",["T_WHITESPACE","\n        ",1280],")",";",["T_WHITESPACE","\n    ",1281],"}",["T_WHITESPACE","\n\n    ",1282],["T_DOC_COMMENT","\/**\n     * Decide whether authorization transaction may close (if the amount to capture will cover entire order)\n     *\n     * @param float $amountToCapture\n     * @return bool\n     *\/",1284],["T_WHITESPACE","\n    ",1289],["T_PUBLIC","public",1290],["T_WHITESPACE"," ",1290],["T_FUNCTION","function",1290],["T_WHITESPACE"," ",1290],["T_STRING","isCaptureFinal",1290],"(",["T_VARIABLE","$amountToCapture",1290],")",["T_WHITESPACE","\n    ",1290],"{",["T_WHITESPACE","\n        ",1291],["T_VARIABLE","$total",1292],["T_WHITESPACE"," ",1292],"=",["T_WHITESPACE"," ",1292],["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","getOrder",1292],"(",")",["T_OBJECT_OPERATOR","->",1292],["T_STRING","getBaseTotalDue",1292],"(",")",";",["T_WHITESPACE","\n        ",1292],["T_RETURN","return",1293],["T_WHITESPACE"," ",1293],["T_VARIABLE","$this",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","formatAmount",1293],"(",["T_VARIABLE","$total",1293],",",["T_WHITESPACE"," ",1293],["T_STRING","true",1293],")",["T_WHITESPACE"," ",1293],["T_IS_EQUAL","==",1293],["T_WHITESPACE"," ",1293],["T_VARIABLE","$this",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","formatAmount",1293],"(",["T_VARIABLE","$amountToCapture",1293],",",["T_WHITESPACE"," ",1293],["T_STRING","true",1293],")",";",["T_WHITESPACE","\n    ",1293],"}",["T_WHITESPACE","\n\n    ",1294],["T_DOC_COMMENT","\/**\n     * Check whether payment currency corresponds to order currency\n     *\n     * @return bool\n     *\/",1296],["T_WHITESPACE","\n    ",1300],["T_PUBLIC","public",1301],["T_WHITESPACE"," ",1301],["T_FUNCTION","function",1301],["T_WHITESPACE"," ",1301],["T_STRING","isSameCurrency",1301],"(",")",["T_WHITESPACE","\n    ",1301],"{",["T_WHITESPACE","\n        ",1302],["T_RETURN","return",1303],["T_WHITESPACE"," ",1303],"!",["T_VARIABLE","$this",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","getCurrencyCode",1303],"(",")",["T_WHITESPACE"," ",1303],["T_BOOLEAN_OR","||",1303],["T_WHITESPACE"," ",1303],["T_VARIABLE","$this",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","getCurrencyCode",1303],"(",")",["T_WHITESPACE"," ",1303],["T_IS_EQUAL","==",1303],["T_WHITESPACE"," ",1303],["T_VARIABLE","$this",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","getOrder",1303],"(",")",["T_OBJECT_OPERATOR","->",1303],["T_STRING","getBaseCurrencyCode",1303],"(",")",";",["T_WHITESPACE","\n    ",1303],"}",["T_WHITESPACE","\n\n    ",1304],["T_DOC_COMMENT","\/**\n     * Additional transaction info setter\n     *\n     * @param string $key\n     * @param string $value\n     * @return void\n     *\/",1306],["T_WHITESPACE","\n    ",1312],["T_PUBLIC","public",1313],["T_WHITESPACE"," ",1313],["T_FUNCTION","function",1313],["T_WHITESPACE"," ",1313],["T_STRING","setTransactionAdditionalInfo",1313],"(",["T_VARIABLE","$key",1313],",",["T_WHITESPACE"," ",1313],["T_VARIABLE","$value",1313],")",["T_WHITESPACE","\n    ",1313],"{",["T_WHITESPACE","\n        ",1314],["T_VARIABLE","$this",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","transactionAdditionalInfo",1315],"[",["T_VARIABLE","$key",1315],"]",["T_WHITESPACE"," ",1315],"=",["T_WHITESPACE"," ",1315],["T_VARIABLE","$value",1315],";",["T_WHITESPACE","\n    ",1315],"}",["T_WHITESPACE","\n\n    ",1316],["T_DOC_COMMENT","\/**\n     * Additional transaction info setter\n     *\n     * @return array\n     *\/",1318],["T_WHITESPACE","\n    ",1322],["T_PUBLIC","public",1323],["T_WHITESPACE"," ",1323],["T_FUNCTION","function",1323],["T_WHITESPACE"," ",1323],["T_STRING","getTransactionAdditionalInfo",1323],"(",")",["T_WHITESPACE","\n    ",1323],"{",["T_WHITESPACE","\n        ",1324],["T_RETURN","return",1325],["T_WHITESPACE"," ",1325],["T_VARIABLE","$this",1325],["T_OBJECT_OPERATOR","->",1325],["T_STRING","transactionAdditionalInfo",1325],";",["T_WHITESPACE","\n    ",1325],"}",["T_WHITESPACE","\n\n    ",1326],["T_DOC_COMMENT","\/**\n     * Reset transaction additional info property\n     *\n     * @return $this\n     *\/",1328],["T_WHITESPACE","\n    ",1332],["T_PUBLIC","public",1333],["T_WHITESPACE"," ",1333],["T_FUNCTION","function",1333],["T_WHITESPACE"," ",1333],["T_STRING","resetTransactionAdditionalInfo",1333],"(",")",["T_WHITESPACE","\n    ",1333],"{",["T_WHITESPACE","\n        ",1334],["T_VARIABLE","$this",1335],["T_OBJECT_OPERATOR","->",1335],["T_STRING","transactionAdditionalInfo",1335],["T_WHITESPACE"," ",1335],"=",["T_WHITESPACE"," ",1335],"[","]",";",["T_WHITESPACE","\n        ",1335],["T_RETURN","return",1336],["T_WHITESPACE"," ",1336],["T_VARIABLE","$this",1336],";",["T_WHITESPACE","\n    ",1336],"}",["T_WHITESPACE","\n\n    ",1337],["T_DOC_COMMENT","\/**\n     * Prepare credit memo\n     *\n     * @param $amount\n     * @param $baseGrandTotal\n     * @param false|Invoice $invoice\n     * @return mixed\n     *\/",1339],["T_WHITESPACE","\n    ",1346],["T_PROTECTED","protected",1347],["T_WHITESPACE"," ",1347],["T_FUNCTION","function",1347],["T_WHITESPACE"," ",1347],["T_STRING","prepareCreditMemo",1347],"(",["T_VARIABLE","$amount",1347],",",["T_WHITESPACE"," ",1347],["T_VARIABLE","$baseGrandTotal",1347],",",["T_WHITESPACE"," ",1347],["T_VARIABLE","$invoice",1347],")",["T_WHITESPACE","\n    ",1347],"{",["T_WHITESPACE","\n        ",1348],["T_VARIABLE","$entity",1349],["T_WHITESPACE"," ",1349],"=",["T_WHITESPACE"," ",1349],["T_VARIABLE","$invoice",1349],["T_WHITESPACE"," ",1349],"?",":",["T_WHITESPACE"," ",1349],["T_VARIABLE","$this",1349],["T_OBJECT_OPERATOR","->",1349],["T_STRING","getOrder",1349],"(",")",";",["T_WHITESPACE","\n        ",1349],["T_IF","if",1350],["T_WHITESPACE"," ",1350],"(",["T_VARIABLE","$entity",1350],["T_OBJECT_OPERATOR","->",1350],["T_STRING","getBaseTotalRefunded",1350],"(",")",["T_WHITESPACE"," ",1350],">",["T_WHITESPACE"," ",1350],["T_LNUMBER","0",1350],")",["T_WHITESPACE"," ",1350],"{",["T_WHITESPACE","\n            ",1350],["T_VARIABLE","$adjustment",1351],["T_WHITESPACE"," ",1351],"=",["T_WHITESPACE"," ",1351],"[",["T_CONSTANT_ENCAPSED_STRING","'adjustment_positive'",1351],["T_WHITESPACE"," ",1351],["T_DOUBLE_ARROW","=>",1351],["T_WHITESPACE"," ",1351],["T_VARIABLE","$amount",1351],"]",";",["T_WHITESPACE","\n        ",1351],"}",["T_WHITESPACE"," ",1352],["T_ELSE","else",1352],["T_WHITESPACE"," ",1352],"{",["T_WHITESPACE","\n            ",1352],["T_VARIABLE","$adjustment",1353],["T_WHITESPACE"," ",1353],"=",["T_WHITESPACE"," ",1353],"[",["T_CONSTANT_ENCAPSED_STRING","'adjustment_negative'",1353],["T_WHITESPACE"," ",1353],["T_DOUBLE_ARROW","=>",1353],["T_WHITESPACE"," ",1353],["T_VARIABLE","$baseGrandTotal",1353],["T_WHITESPACE"," ",1353],"-",["T_WHITESPACE"," ",1353],["T_VARIABLE","$amount",1353],"]",";",["T_WHITESPACE","\n        ",1353],"}",["T_WHITESPACE","\n        ",1354],["T_IF","if",1355],["T_WHITESPACE"," ",1355],"(",["T_VARIABLE","$invoice",1355],")",["T_WHITESPACE"," ",1355],"{",["T_WHITESPACE","\n            ",1355],["T_VARIABLE","$creditMemo",1356],["T_WHITESPACE"," ",1356],"=",["T_WHITESPACE"," ",1356],["T_VARIABLE","$this",1356],["T_OBJECT_OPERATOR","->",1356],["T_STRING","creditmemoFactory",1356],["T_OBJECT_OPERATOR","->",1356],["T_STRING","createByInvoice",1356],"(",["T_VARIABLE","$invoice",1356],",",["T_WHITESPACE"," ",1356],["T_VARIABLE","$adjustment",1356],")",";",["T_WHITESPACE","\n        ",1356],"}",["T_WHITESPACE"," ",1357],["T_ELSE","else",1357],["T_WHITESPACE"," ",1357],"{",["T_WHITESPACE","\n            ",1357],["T_VARIABLE","$creditMemo",1358],["T_WHITESPACE"," ",1358],"=",["T_WHITESPACE"," ",1358],["T_VARIABLE","$this",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","creditmemoFactory",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","createByOrder",1358],"(",["T_VARIABLE","$this",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","getOrder",1358],"(",")",",",["T_WHITESPACE"," ",1358],["T_VARIABLE","$adjustment",1358],")",";",["T_WHITESPACE","\n        ",1358],"}",["T_WHITESPACE","\n        ",1359],["T_IF","if",1360],["T_WHITESPACE"," ",1360],"(",["T_VARIABLE","$creditMemo",1360],")",["T_WHITESPACE"," ",1360],"{",["T_WHITESPACE","\n            ",1360],["T_VARIABLE","$totalRefunded",1361],["T_WHITESPACE"," ",1361],"=",["T_WHITESPACE"," ",1361],["T_VARIABLE","$entity",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","getBaseTotalRefunded",1361],"(",")",["T_WHITESPACE"," ",1361],"+",["T_WHITESPACE"," ",1361],["T_VARIABLE","$creditMemo",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","getBaseGrandTotal",1361],"(",")",";",["T_WHITESPACE","\n            ",1361],["T_VARIABLE","$this",1362],["T_OBJECT_OPERATOR","->",1362],["T_STRING","setShouldCloseParentTransaction",1362],"(",["T_VARIABLE","$entity",1362],["T_OBJECT_OPERATOR","->",1362],["T_STRING","getBaseGrandTotal",1362],"(",")",["T_WHITESPACE"," ",1362],["T_IS_SMALLER_OR_EQUAL","<=",1362],["T_WHITESPACE"," ",1362],["T_VARIABLE","$totalRefunded",1362],")",";",["T_WHITESPACE","\n        ",1362],"}",["T_WHITESPACE","\n\n        ",1363],["T_RETURN","return",1365],["T_WHITESPACE"," ",1365],["T_VARIABLE","$creditMemo",1365],";",["T_WHITESPACE","\n    ",1365],"}",["T_WHITESPACE","\n\n    ",1366],["T_DOC_COMMENT","\/**\n     * Checks if transaction exists\n     *\n     * @return bool\n     *\/",1368],["T_WHITESPACE","\n    ",1372],["T_PROTECTED","protected",1373],["T_WHITESPACE"," ",1373],["T_FUNCTION","function",1373],["T_WHITESPACE"," ",1373],["T_STRING","checkIfTransactionExists",1373],"(",")",["T_WHITESPACE","\n    ",1373],"{",["T_WHITESPACE","\n        ",1374],["T_RETURN","return",1375],["T_WHITESPACE"," ",1375],["T_VARIABLE","$this",1375],["T_OBJECT_OPERATOR","->",1375],["T_STRING","transactionManager",1375],["T_OBJECT_OPERATOR","->",1375],["T_STRING","isTransactionExists",1375],"(",["T_WHITESPACE","\n            ",1375],["T_VARIABLE","$this",1376],["T_OBJECT_OPERATOR","->",1376],["T_STRING","getTransactionId",1376],"(",")",",",["T_WHITESPACE","\n            ",1376],["T_VARIABLE","$this",1377],["T_OBJECT_OPERATOR","->",1377],["T_STRING","getId",1377],"(",")",",",["T_WHITESPACE","\n            ",1377],["T_VARIABLE","$this",1378],["T_OBJECT_OPERATOR","->",1378],["T_STRING","getOrder",1378],"(",")",["T_OBJECT_OPERATOR","->",1378],["T_STRING","getId",1378],"(",")",")",";",["T_WHITESPACE","\n    ",1378],"}",["T_WHITESPACE","\n\n    ",1379],["T_DOC_COMMENT","\/**\n     * Return invoice model for transaction\n     *\n     * @param string $transactionId\n     * @return Invoice|false\n     *\/",1381],["T_WHITESPACE","\n    ",1386],["T_PROTECTED","protected",1387],["T_WHITESPACE"," ",1387],["T_FUNCTION","function",1387],["T_WHITESPACE"," ",1387],["T_STRING","_getInvoiceForTransactionId",1387],"(",["T_VARIABLE","$transactionId",1387],")",["T_WHITESPACE","\n    ",1387],"{",["T_WHITESPACE","\n        ",1388],["T_FOREACH","foreach",1389],["T_WHITESPACE"," ",1389],"(",["T_VARIABLE","$this",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","getOrder",1389],"(",")",["T_OBJECT_OPERATOR","->",1389],["T_STRING","getInvoiceCollection",1389],"(",")",["T_WHITESPACE"," ",1389],["T_AS","as",1389],["T_WHITESPACE"," ",1389],["T_VARIABLE","$invoice",1389],")",["T_WHITESPACE"," ",1389],"{",["T_WHITESPACE","\n            ",1389],["T_IF","if",1390],["T_WHITESPACE"," ",1390],"(",["T_VARIABLE","$invoice",1390],["T_OBJECT_OPERATOR","->",1390],["T_STRING","getTransactionId",1390],"(",")",["T_WHITESPACE"," ",1390],["T_IS_EQUAL","==",1390],["T_WHITESPACE"," ",1390],["T_VARIABLE","$transactionId",1390],")",["T_WHITESPACE"," ",1390],"{",["T_WHITESPACE","\n                ",1390],["T_VARIABLE","$invoice",1391],["T_OBJECT_OPERATOR","->",1391],["T_STRING","load",1391],"(",["T_VARIABLE","$invoice",1391],["T_OBJECT_OPERATOR","->",1391],["T_STRING","getId",1391],"(",")",")",";",["T_WHITESPACE","\n                ",1391],["T_COMMENT","\/\/ to make sure all data will properly load (maybe not required)\n",1392],["T_WHITESPACE","                ",1393],["T_RETURN","return",1393],["T_WHITESPACE"," ",1393],["T_VARIABLE","$invoice",1393],";",["T_WHITESPACE","\n            ",1393],"}",["T_WHITESPACE","\n        ",1394],"}",["T_WHITESPACE","\n        ",1395],["T_FOREACH","foreach",1396],["T_WHITESPACE"," ",1396],"(",["T_VARIABLE","$this",1396],["T_OBJECT_OPERATOR","->",1396],["T_STRING","getOrder",1396],"(",")",["T_OBJECT_OPERATOR","->",1396],["T_STRING","getInvoiceCollection",1396],"(",")",["T_WHITESPACE"," ",1396],["T_AS","as",1396],["T_WHITESPACE"," ",1396],["T_VARIABLE","$invoice",1396],")",["T_WHITESPACE"," ",1396],"{",["T_WHITESPACE","\n            ",1396],["T_IF","if",1397],["T_WHITESPACE"," ",1397],"(",["T_VARIABLE","$invoice",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","getState",1397],"(",")",["T_WHITESPACE"," ",1397],["T_IS_EQUAL","==",1397],["T_WHITESPACE"," ",1397],["T_NS_SEPARATOR","\\",1397],["T_STRING","Magento",1397],["T_NS_SEPARATOR","\\",1397],["T_STRING","Sales",1397],["T_NS_SEPARATOR","\\",1397],["T_STRING","Model",1397],["T_NS_SEPARATOR","\\",1397],["T_STRING","Order",1397],["T_NS_SEPARATOR","\\",1397],["T_STRING","Invoice",1397],["T_DOUBLE_COLON","::",1397],["T_STRING","STATE_OPEN",1397],["T_WHITESPACE"," ",1397],["T_BOOLEAN_AND","&&",1397],["T_WHITESPACE"," ",1397],["T_VARIABLE","$invoice",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","load",1397],"(",["T_WHITESPACE","\n                    ",1397],["T_VARIABLE","$invoice",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","getId",1398],"(",")",["T_WHITESPACE","\n                ",1398],")",["T_WHITESPACE","\n            ",1399],")",["T_WHITESPACE"," ",1400],"{",["T_WHITESPACE","\n                ",1400],["T_VARIABLE","$invoice",1401],["T_OBJECT_OPERATOR","->",1401],["T_STRING","setTransactionId",1401],"(",["T_VARIABLE","$transactionId",1401],")",";",["T_WHITESPACE","\n                ",1401],["T_RETURN","return",1402],["T_WHITESPACE"," ",1402],["T_VARIABLE","$invoice",1402],";",["T_WHITESPACE","\n            ",1402],"}",["T_WHITESPACE","\n        ",1403],"}",["T_WHITESPACE","\n        ",1404],["T_RETURN","return",1405],["T_WHITESPACE"," ",1405],["T_STRING","false",1405],";",["T_WHITESPACE","\n    ",1405],"}",["T_WHITESPACE","\n\n    ",1406],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return OrderStateResolverInterface\n     *\/",1408],["T_WHITESPACE","\n    ",1411],["T_PRIVATE","private",1412],["T_WHITESPACE"," ",1412],["T_FUNCTION","function",1412],["T_WHITESPACE"," ",1412],["T_STRING","getOrderStateResolver",1412],"(",")",["T_WHITESPACE","\n    ",1412],"{",["T_WHITESPACE","\n        ",1413],["T_IF","if",1414],["T_WHITESPACE"," ",1414],"(",["T_VARIABLE","$this",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","orderStateResolver",1414],["T_WHITESPACE"," ",1414],["T_IS_IDENTICAL","===",1414],["T_WHITESPACE"," ",1414],["T_STRING","null",1414],")",["T_WHITESPACE"," ",1414],"{",["T_WHITESPACE","\n            ",1414],["T_VARIABLE","$this",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","orderStateResolver",1415],["T_WHITESPACE"," ",1415],"=",["T_WHITESPACE"," ",1415],["T_STRING","ObjectManager",1415],["T_DOUBLE_COLON","::",1415],["T_STRING","getInstance",1415],"(",")",["T_OBJECT_OPERATOR","->",1415],["T_STRING","get",1415],"(",["T_STRING","OrderStateResolverInterface",1415],["T_DOUBLE_COLON","::",1415],["T_CLASS","class",1415],")",";",["T_WHITESPACE","\n        ",1415],"}",["T_WHITESPACE","\n\n        ",1416],["T_RETURN","return",1418],["T_VARIABLE","$this",1418],["T_OBJECT_OPERATOR","->",1418],["T_STRING","orderStateResolver",1418],";",["T_WHITESPACE","\n    ",1418],"}",["T_WHITESPACE","\n\n    ",1419],["T_COMMENT","\/\/@codeCoverageIgnoreStart\n",1421],["T_WHITESPACE","    ",1422],["T_DOC_COMMENT","\/**\n     * Returns account_status\n     *\n     * @return string\n     *\/",1422],["T_WHITESPACE","\n    ",1426],["T_PUBLIC","public",1427],["T_WHITESPACE"," ",1427],["T_FUNCTION","function",1427],["T_WHITESPACE"," ",1427],["T_STRING","getAccountStatus",1427],"(",")",["T_WHITESPACE","\n    ",1427],"{",["T_WHITESPACE","\n        ",1428],["T_RETURN","return",1429],["T_WHITESPACE"," ",1429],["T_VARIABLE","$this",1429],["T_OBJECT_OPERATOR","->",1429],["T_STRING","getData",1429],"(",["T_STRING","OrderPaymentInterface",1429],["T_DOUBLE_COLON","::",1429],["T_STRING","ACCOUNT_STATUS",1429],")",";",["T_WHITESPACE","\n    ",1429],"}",["T_WHITESPACE","\n\n    ",1430],["T_DOC_COMMENT","\/**\n     * Returns additional_data\n     *\n     * @return string\n     *\/",1432],["T_WHITESPACE","\n    ",1436],["T_PUBLIC","public",1437],["T_WHITESPACE"," ",1437],["T_FUNCTION","function",1437],["T_WHITESPACE"," ",1437],["T_STRING","getAdditionalData",1437],"(",")",["T_WHITESPACE","\n    ",1437],"{",["T_WHITESPACE","\n        ",1438],["T_RETURN","return",1439],["T_WHITESPACE"," ",1439],["T_VARIABLE","$this",1439],["T_OBJECT_OPERATOR","->",1439],["T_STRING","getData",1439],"(",["T_STRING","OrderPaymentInterface",1439],["T_DOUBLE_COLON","::",1439],["T_STRING","ADDITIONAL_DATA",1439],")",";",["T_WHITESPACE","\n    ",1439],"}",["T_WHITESPACE","\n\n    ",1440],["T_DOC_COMMENT","\/**\n     * Returns address_status\n     *\n     * @return string\n     *\/",1442],["T_WHITESPACE","\n    ",1446],["T_PUBLIC","public",1447],["T_WHITESPACE"," ",1447],["T_FUNCTION","function",1447],["T_WHITESPACE"," ",1447],["T_STRING","getAddressStatus",1447],"(",")",["T_WHITESPACE","\n    ",1447],"{",["T_WHITESPACE","\n        ",1448],["T_RETURN","return",1449],["T_WHITESPACE"," ",1449],["T_VARIABLE","$this",1449],["T_OBJECT_OPERATOR","->",1449],["T_STRING","getData",1449],"(",["T_STRING","OrderPaymentInterface",1449],["T_DOUBLE_COLON","::",1449],["T_STRING","ADDRESS_STATUS",1449],")",";",["T_WHITESPACE","\n    ",1449],"}",["T_WHITESPACE","\n\n    ",1450],["T_DOC_COMMENT","\/**\n     * Returns amount_authorized\n     *\n     * @return float\n     *\/",1452],["T_WHITESPACE","\n    ",1456],["T_PUBLIC","public",1457],["T_WHITESPACE"," ",1457],["T_FUNCTION","function",1457],["T_WHITESPACE"," ",1457],["T_STRING","getAmountAuthorized",1457],"(",")",["T_WHITESPACE","\n    ",1457],"{",["T_WHITESPACE","\n        ",1458],["T_RETURN","return",1459],["T_WHITESPACE"," ",1459],["T_VARIABLE","$this",1459],["T_OBJECT_OPERATOR","->",1459],["T_STRING","getData",1459],"(",["T_STRING","OrderPaymentInterface",1459],["T_DOUBLE_COLON","::",1459],["T_STRING","AMOUNT_AUTHORIZED",1459],")",";",["T_WHITESPACE","\n    ",1459],"}",["T_WHITESPACE","\n\n    ",1460],["T_DOC_COMMENT","\/**\n     * Returns amount_canceled\n     *\n     * @return float\n     *\/",1462],["T_WHITESPACE","\n    ",1466],["T_PUBLIC","public",1467],["T_WHITESPACE"," ",1467],["T_FUNCTION","function",1467],["T_WHITESPACE"," ",1467],["T_STRING","getAmountCanceled",1467],"(",")",["T_WHITESPACE","\n    ",1467],"{",["T_WHITESPACE","\n        ",1468],["T_RETURN","return",1469],["T_WHITESPACE"," ",1469],["T_VARIABLE","$this",1469],["T_OBJECT_OPERATOR","->",1469],["T_STRING","getData",1469],"(",["T_STRING","OrderPaymentInterface",1469],["T_DOUBLE_COLON","::",1469],["T_STRING","AMOUNT_CANCELED",1469],")",";",["T_WHITESPACE","\n    ",1469],"}",["T_WHITESPACE","\n\n    ",1470],["T_DOC_COMMENT","\/**\n     * Returns amount_ordered\n     *\n     * @return float\n     *\/",1472],["T_WHITESPACE","\n    ",1476],["T_PUBLIC","public",1477],["T_WHITESPACE"," ",1477],["T_FUNCTION","function",1477],["T_WHITESPACE"," ",1477],["T_STRING","getAmountOrdered",1477],"(",")",["T_WHITESPACE","\n    ",1477],"{",["T_WHITESPACE","\n        ",1478],["T_RETURN","return",1479],["T_WHITESPACE"," ",1479],["T_VARIABLE","$this",1479],["T_OBJECT_OPERATOR","->",1479],["T_STRING","getData",1479],"(",["T_STRING","OrderPaymentInterface",1479],["T_DOUBLE_COLON","::",1479],["T_STRING","AMOUNT_ORDERED",1479],")",";",["T_WHITESPACE","\n    ",1479],"}",["T_WHITESPACE","\n\n    ",1480],["T_DOC_COMMENT","\/**\n     * Returns amount_paid\n     *\n     * @return float\n     *\/",1482],["T_WHITESPACE","\n    ",1486],["T_PUBLIC","public",1487],["T_WHITESPACE"," ",1487],["T_FUNCTION","function",1487],["T_WHITESPACE"," ",1487],["T_STRING","getAmountPaid",1487],"(",")",["T_WHITESPACE","\n    ",1487],"{",["T_WHITESPACE","\n        ",1488],["T_RETURN","return",1489],["T_WHITESPACE"," ",1489],["T_VARIABLE","$this",1489],["T_OBJECT_OPERATOR","->",1489],["T_STRING","getData",1489],"(",["T_STRING","OrderPaymentInterface",1489],["T_DOUBLE_COLON","::",1489],["T_STRING","AMOUNT_PAID",1489],")",";",["T_WHITESPACE","\n    ",1489],"}",["T_WHITESPACE","\n\n    ",1490],["T_DOC_COMMENT","\/**\n     * Returns amount_refunded\n     *\n     * @return float\n     *\/",1492],["T_WHITESPACE","\n    ",1496],["T_PUBLIC","public",1497],["T_WHITESPACE"," ",1497],["T_FUNCTION","function",1497],["T_WHITESPACE"," ",1497],["T_STRING","getAmountRefunded",1497],"(",")",["T_WHITESPACE","\n    ",1497],"{",["T_WHITESPACE","\n        ",1498],["T_RETURN","return",1499],["T_WHITESPACE"," ",1499],["T_VARIABLE","$this",1499],["T_OBJECT_OPERATOR","->",1499],["T_STRING","getData",1499],"(",["T_STRING","OrderPaymentInterface",1499],["T_DOUBLE_COLON","::",1499],["T_STRING","AMOUNT_REFUNDED",1499],")",";",["T_WHITESPACE","\n    ",1499],"}",["T_WHITESPACE","\n\n    ",1500],["T_DOC_COMMENT","\/**\n     * Returns anet_trans_method\n     *\n     * @return string\n     *\/",1502],["T_WHITESPACE","\n    ",1506],["T_PUBLIC","public",1507],["T_WHITESPACE"," ",1507],["T_FUNCTION","function",1507],["T_WHITESPACE"," ",1507],["T_STRING","getAnetTransMethod",1507],"(",")",["T_WHITESPACE","\n    ",1507],"{",["T_WHITESPACE","\n        ",1508],["T_RETURN","return",1509],["T_WHITESPACE"," ",1509],["T_VARIABLE","$this",1509],["T_OBJECT_OPERATOR","->",1509],["T_STRING","getData",1509],"(",["T_STRING","OrderPaymentInterface",1509],["T_DOUBLE_COLON","::",1509],["T_STRING","ANET_TRANS_METHOD",1509],")",";",["T_WHITESPACE","\n    ",1509],"}",["T_WHITESPACE","\n\n    ",1510],["T_DOC_COMMENT","\/**\n     * Returns base_amount_authorized\n     *\n     * @return float\n     *\/",1512],["T_WHITESPACE","\n    ",1516],["T_PUBLIC","public",1517],["T_WHITESPACE"," ",1517],["T_FUNCTION","function",1517],["T_WHITESPACE"," ",1517],["T_STRING","getBaseAmountAuthorized",1517],"(",")",["T_WHITESPACE","\n    ",1517],"{",["T_WHITESPACE","\n        ",1518],["T_RETURN","return",1519],["T_WHITESPACE"," ",1519],["T_VARIABLE","$this",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","getData",1519],"(",["T_STRING","OrderPaymentInterface",1519],["T_DOUBLE_COLON","::",1519],["T_STRING","BASE_AMOUNT_AUTHORIZED",1519],")",";",["T_WHITESPACE","\n    ",1519],"}",["T_WHITESPACE","\n\n    ",1520],["T_DOC_COMMENT","\/**\n     * Returns base_amount_canceled\n     *\n     * @return float\n     *\/",1522],["T_WHITESPACE","\n    ",1526],["T_PUBLIC","public",1527],["T_WHITESPACE"," ",1527],["T_FUNCTION","function",1527],["T_WHITESPACE"," ",1527],["T_STRING","getBaseAmountCanceled",1527],"(",")",["T_WHITESPACE","\n    ",1527],"{",["T_WHITESPACE","\n        ",1528],["T_RETURN","return",1529],["T_WHITESPACE"," ",1529],["T_VARIABLE","$this",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","getData",1529],"(",["T_STRING","OrderPaymentInterface",1529],["T_DOUBLE_COLON","::",1529],["T_STRING","BASE_AMOUNT_CANCELED",1529],")",";",["T_WHITESPACE","\n    ",1529],"}",["T_WHITESPACE","\n\n    ",1530],["T_DOC_COMMENT","\/**\n     * Returns base_amount_ordered\n     *\n     * @return float\n     *\/",1532],["T_WHITESPACE","\n    ",1536],["T_PUBLIC","public",1537],["T_WHITESPACE"," ",1537],["T_FUNCTION","function",1537],["T_WHITESPACE"," ",1537],["T_STRING","getBaseAmountOrdered",1537],"(",")",["T_WHITESPACE","\n    ",1537],"{",["T_WHITESPACE","\n        ",1538],["T_RETURN","return",1539],["T_WHITESPACE"," ",1539],["T_VARIABLE","$this",1539],["T_OBJECT_OPERATOR","->",1539],["T_STRING","getData",1539],"(",["T_STRING","OrderPaymentInterface",1539],["T_DOUBLE_COLON","::",1539],["T_STRING","BASE_AMOUNT_ORDERED",1539],")",";",["T_WHITESPACE","\n    ",1539],"}",["T_WHITESPACE","\n\n    ",1540],["T_DOC_COMMENT","\/**\n     * Returns base_amount_paid\n     *\n     * @return float\n     *\/",1542],["T_WHITESPACE","\n    ",1546],["T_PUBLIC","public",1547],["T_WHITESPACE"," ",1547],["T_FUNCTION","function",1547],["T_WHITESPACE"," ",1547],["T_STRING","getBaseAmountPaid",1547],"(",")",["T_WHITESPACE","\n    ",1547],"{",["T_WHITESPACE","\n        ",1548],["T_RETURN","return",1549],["T_WHITESPACE"," ",1549],["T_VARIABLE","$this",1549],["T_OBJECT_OPERATOR","->",1549],["T_STRING","getData",1549],"(",["T_STRING","OrderPaymentInterface",1549],["T_DOUBLE_COLON","::",1549],["T_STRING","BASE_AMOUNT_PAID",1549],")",";",["T_WHITESPACE","\n    ",1549],"}",["T_WHITESPACE","\n\n    ",1550],["T_DOC_COMMENT","\/**\n     * Returns base_amount_paid_online\n     *\n     * @return float\n     *\/",1552],["T_WHITESPACE","\n    ",1556],["T_PUBLIC","public",1557],["T_WHITESPACE"," ",1557],["T_FUNCTION","function",1557],["T_WHITESPACE"," ",1557],["T_STRING","getBaseAmountPaidOnline",1557],"(",")",["T_WHITESPACE","\n    ",1557],"{",["T_WHITESPACE","\n        ",1558],["T_RETURN","return",1559],["T_WHITESPACE"," ",1559],["T_VARIABLE","$this",1559],["T_OBJECT_OPERATOR","->",1559],["T_STRING","getData",1559],"(",["T_STRING","OrderPaymentInterface",1559],["T_DOUBLE_COLON","::",1559],["T_STRING","BASE_AMOUNT_PAID_ONLINE",1559],")",";",["T_WHITESPACE","\n    ",1559],"}",["T_WHITESPACE","\n\n    ",1560],["T_DOC_COMMENT","\/**\n     * Returns base_amount_refunded\n     *\n     * @return float\n     *\/",1562],["T_WHITESPACE","\n    ",1566],["T_PUBLIC","public",1567],["T_WHITESPACE"," ",1567],["T_FUNCTION","function",1567],["T_WHITESPACE"," ",1567],["T_STRING","getBaseAmountRefunded",1567],"(",")",["T_WHITESPACE","\n    ",1567],"{",["T_WHITESPACE","\n        ",1568],["T_RETURN","return",1569],["T_WHITESPACE"," ",1569],["T_VARIABLE","$this",1569],["T_OBJECT_OPERATOR","->",1569],["T_STRING","getData",1569],"(",["T_STRING","OrderPaymentInterface",1569],["T_DOUBLE_COLON","::",1569],["T_STRING","BASE_AMOUNT_REFUNDED",1569],")",";",["T_WHITESPACE","\n    ",1569],"}",["T_WHITESPACE","\n\n    ",1570],["T_DOC_COMMENT","\/**\n     * Returns base_amount_refunded_online\n     *\n     * @return float\n     *\/",1572],["T_WHITESPACE","\n    ",1576],["T_PUBLIC","public",1577],["T_WHITESPACE"," ",1577],["T_FUNCTION","function",1577],["T_WHITESPACE"," ",1577],["T_STRING","getBaseAmountRefundedOnline",1577],"(",")",["T_WHITESPACE","\n    ",1577],"{",["T_WHITESPACE","\n        ",1578],["T_RETURN","return",1579],["T_WHITESPACE"," ",1579],["T_VARIABLE","$this",1579],["T_OBJECT_OPERATOR","->",1579],["T_STRING","getData",1579],"(",["T_STRING","OrderPaymentInterface",1579],["T_DOUBLE_COLON","::",1579],["T_STRING","BASE_AMOUNT_REFUNDED_ONLINE",1579],")",";",["T_WHITESPACE","\n    ",1579],"}",["T_WHITESPACE","\n\n    ",1580],["T_DOC_COMMENT","\/**\n     * Returns base_shipping_amount\n     *\n     * @return float\n     *\/",1582],["T_WHITESPACE","\n    ",1586],["T_PUBLIC","public",1587],["T_WHITESPACE"," ",1587],["T_FUNCTION","function",1587],["T_WHITESPACE"," ",1587],["T_STRING","getBaseShippingAmount",1587],"(",")",["T_WHITESPACE","\n    ",1587],"{",["T_WHITESPACE","\n        ",1588],["T_RETURN","return",1589],["T_WHITESPACE"," ",1589],["T_VARIABLE","$this",1589],["T_OBJECT_OPERATOR","->",1589],["T_STRING","getData",1589],"(",["T_STRING","OrderPaymentInterface",1589],["T_DOUBLE_COLON","::",1589],["T_STRING","BASE_SHIPPING_AMOUNT",1589],")",";",["T_WHITESPACE","\n    ",1589],"}",["T_WHITESPACE","\n\n    ",1590],["T_DOC_COMMENT","\/**\n     * Returns base_shipping_captured\n     *\n     * @return float\n     *\/",1592],["T_WHITESPACE","\n    ",1596],["T_PUBLIC","public",1597],["T_WHITESPACE"," ",1597],["T_FUNCTION","function",1597],["T_WHITESPACE"," ",1597],["T_STRING","getBaseShippingCaptured",1597],"(",")",["T_WHITESPACE","\n    ",1597],"{",["T_WHITESPACE","\n        ",1598],["T_RETURN","return",1599],["T_WHITESPACE"," ",1599],["T_VARIABLE","$this",1599],["T_OBJECT_OPERATOR","->",1599],["T_STRING","getData",1599],"(",["T_STRING","OrderPaymentInterface",1599],["T_DOUBLE_COLON","::",1599],["T_STRING","BASE_SHIPPING_CAPTURED",1599],")",";",["T_WHITESPACE","\n    ",1599],"}",["T_WHITESPACE","\n\n    ",1600],["T_DOC_COMMENT","\/**\n     * Returns base_shipping_refunded\n     *\n     * @return float\n     *\/",1602],["T_WHITESPACE","\n    ",1606],["T_PUBLIC","public",1607],["T_WHITESPACE"," ",1607],["T_FUNCTION","function",1607],["T_WHITESPACE"," ",1607],["T_STRING","getBaseShippingRefunded",1607],"(",")",["T_WHITESPACE","\n    ",1607],"{",["T_WHITESPACE","\n        ",1608],["T_RETURN","return",1609],["T_WHITESPACE"," ",1609],["T_VARIABLE","$this",1609],["T_OBJECT_OPERATOR","->",1609],["T_STRING","getData",1609],"(",["T_STRING","OrderPaymentInterface",1609],["T_DOUBLE_COLON","::",1609],["T_STRING","BASE_SHIPPING_REFUNDED",1609],")",";",["T_WHITESPACE","\n    ",1609],"}",["T_WHITESPACE","\n\n    ",1610],["T_DOC_COMMENT","\/**\n     * Returns cc_approval\n     *\n     * @return string\n     *\/",1612],["T_WHITESPACE","\n    ",1616],["T_PUBLIC","public",1617],["T_WHITESPACE"," ",1617],["T_FUNCTION","function",1617],["T_WHITESPACE"," ",1617],["T_STRING","getCcApproval",1617],"(",")",["T_WHITESPACE","\n    ",1617],"{",["T_WHITESPACE","\n        ",1618],["T_RETURN","return",1619],["T_WHITESPACE"," ",1619],["T_VARIABLE","$this",1619],["T_OBJECT_OPERATOR","->",1619],["T_STRING","getData",1619],"(",["T_STRING","OrderPaymentInterface",1619],["T_DOUBLE_COLON","::",1619],["T_STRING","CC_APPROVAL",1619],")",";",["T_WHITESPACE","\n    ",1619],"}",["T_WHITESPACE","\n\n    ",1620],["T_DOC_COMMENT","\/**\n     * Returns cc_avs_status\n     *\n     * @return string\n     *\/",1622],["T_WHITESPACE","\n    ",1626],["T_PUBLIC","public",1627],["T_WHITESPACE"," ",1627],["T_FUNCTION","function",1627],["T_WHITESPACE"," ",1627],["T_STRING","getCcAvsStatus",1627],"(",")",["T_WHITESPACE","\n    ",1627],"{",["T_WHITESPACE","\n        ",1628],["T_RETURN","return",1629],["T_WHITESPACE"," ",1629],["T_VARIABLE","$this",1629],["T_OBJECT_OPERATOR","->",1629],["T_STRING","getData",1629],"(",["T_STRING","OrderPaymentInterface",1629],["T_DOUBLE_COLON","::",1629],["T_STRING","CC_AVS_STATUS",1629],")",";",["T_WHITESPACE","\n    ",1629],"}",["T_WHITESPACE","\n\n    ",1630],["T_DOC_COMMENT","\/**\n     * Returns cc_cid_status\n     *\n     * @return string\n     *\/",1632],["T_WHITESPACE","\n    ",1636],["T_PUBLIC","public",1637],["T_WHITESPACE"," ",1637],["T_FUNCTION","function",1637],["T_WHITESPACE"," ",1637],["T_STRING","getCcCidStatus",1637],"(",")",["T_WHITESPACE","\n    ",1637],"{",["T_WHITESPACE","\n        ",1638],["T_RETURN","return",1639],["T_WHITESPACE"," ",1639],["T_VARIABLE","$this",1639],["T_OBJECT_OPERATOR","->",1639],["T_STRING","getData",1639],"(",["T_STRING","OrderPaymentInterface",1639],["T_DOUBLE_COLON","::",1639],["T_STRING","CC_CID_STATUS",1639],")",";",["T_WHITESPACE","\n    ",1639],"}",["T_WHITESPACE","\n\n    ",1640],["T_DOC_COMMENT","\/**\n     * Returns cc_debug_request_body\n     *\n     * @return string\n     *\/",1642],["T_WHITESPACE","\n    ",1646],["T_PUBLIC","public",1647],["T_WHITESPACE"," ",1647],["T_FUNCTION","function",1647],["T_WHITESPACE"," ",1647],["T_STRING","getCcDebugRequestBody",1647],"(",")",["T_WHITESPACE","\n    ",1647],"{",["T_WHITESPACE","\n        ",1648],["T_RETURN","return",1649],["T_WHITESPACE"," ",1649],["T_VARIABLE","$this",1649],["T_OBJECT_OPERATOR","->",1649],["T_STRING","getData",1649],"(",["T_STRING","OrderPaymentInterface",1649],["T_DOUBLE_COLON","::",1649],["T_STRING","CC_DEBUG_REQUEST_BODY",1649],")",";",["T_WHITESPACE","\n    ",1649],"}",["T_WHITESPACE","\n\n    ",1650],["T_DOC_COMMENT","\/**\n     * Returns cc_debug_response_body\n     *\n     * @return string\n     *\/",1652],["T_WHITESPACE","\n    ",1656],["T_PUBLIC","public",1657],["T_WHITESPACE"," ",1657],["T_FUNCTION","function",1657],["T_WHITESPACE"," ",1657],["T_STRING","getCcDebugResponseBody",1657],"(",")",["T_WHITESPACE","\n    ",1657],"{",["T_WHITESPACE","\n        ",1658],["T_RETURN","return",1659],["T_WHITESPACE"," ",1659],["T_VARIABLE","$this",1659],["T_OBJECT_OPERATOR","->",1659],["T_STRING","getData",1659],"(",["T_STRING","OrderPaymentInterface",1659],["T_DOUBLE_COLON","::",1659],["T_STRING","CC_DEBUG_RESPONSE_BODY",1659],")",";",["T_WHITESPACE","\n    ",1659],"}",["T_WHITESPACE","\n\n    ",1660],["T_DOC_COMMENT","\/**\n     * Returns cc_debug_response_serialized\n     *\n     * @return string\n     *\/",1662],["T_WHITESPACE","\n    ",1666],["T_PUBLIC","public",1667],["T_WHITESPACE"," ",1667],["T_FUNCTION","function",1667],["T_WHITESPACE"," ",1667],["T_STRING","getCcDebugResponseSerialized",1667],"(",")",["T_WHITESPACE","\n    ",1667],"{",["T_WHITESPACE","\n        ",1668],["T_RETURN","return",1669],["T_WHITESPACE"," ",1669],["T_VARIABLE","$this",1669],["T_OBJECT_OPERATOR","->",1669],["T_STRING","getData",1669],"(",["T_STRING","OrderPaymentInterface",1669],["T_DOUBLE_COLON","::",1669],["T_STRING","CC_DEBUG_RESPONSE_SERIALIZED",1669],")",";",["T_WHITESPACE","\n    ",1669],"}",["T_WHITESPACE","\n\n    ",1670],["T_DOC_COMMENT","\/**\n     * Returns cc_exp_month\n     *\n     * @return string\n     *\/",1672],["T_WHITESPACE","\n    ",1676],["T_PUBLIC","public",1677],["T_WHITESPACE"," ",1677],["T_FUNCTION","function",1677],["T_WHITESPACE"," ",1677],["T_STRING","getCcExpMonth",1677],"(",")",["T_WHITESPACE","\n    ",1677],"{",["T_WHITESPACE","\n        ",1678],["T_RETURN","return",1679],["T_WHITESPACE"," ",1679],["T_VARIABLE","$this",1679],["T_OBJECT_OPERATOR","->",1679],["T_STRING","getData",1679],"(",["T_STRING","OrderPaymentInterface",1679],["T_DOUBLE_COLON","::",1679],["T_STRING","CC_EXP_MONTH",1679],")",";",["T_WHITESPACE","\n    ",1679],"}",["T_WHITESPACE","\n\n    ",1680],["T_DOC_COMMENT","\/**\n     * Returns cc_exp_year\n     *\n     * @return string\n     *\/",1682],["T_WHITESPACE","\n    ",1686],["T_PUBLIC","public",1687],["T_WHITESPACE"," ",1687],["T_FUNCTION","function",1687],["T_WHITESPACE"," ",1687],["T_STRING","getCcExpYear",1687],"(",")",["T_WHITESPACE","\n    ",1687],"{",["T_WHITESPACE","\n        ",1688],["T_RETURN","return",1689],["T_WHITESPACE"," ",1689],["T_VARIABLE","$this",1689],["T_OBJECT_OPERATOR","->",1689],["T_STRING","getData",1689],"(",["T_STRING","OrderPaymentInterface",1689],["T_DOUBLE_COLON","::",1689],["T_STRING","CC_EXP_YEAR",1689],")",";",["T_WHITESPACE","\n    ",1689],"}",["T_WHITESPACE","\n\n    ",1690],["T_DOC_COMMENT","\/**\n     * Returns cc_last_4\n     *\n     * @return string\n     *\/",1692],["T_WHITESPACE","\n    ",1696],["T_PUBLIC","public",1697],["T_WHITESPACE"," ",1697],["T_FUNCTION","function",1697],["T_WHITESPACE"," ",1697],["T_STRING","getCcLast4",1697],"(",")",["T_WHITESPACE","\n    ",1697],"{",["T_WHITESPACE","\n        ",1698],["T_RETURN","return",1699],["T_WHITESPACE"," ",1699],["T_VARIABLE","$this",1699],["T_OBJECT_OPERATOR","->",1699],["T_STRING","getData",1699],"(",["T_STRING","OrderPaymentInterface",1699],["T_DOUBLE_COLON","::",1699],["T_STRING","CC_LAST_4",1699],")",";",["T_WHITESPACE","\n    ",1699],"}",["T_WHITESPACE","\n\n    ",1700],["T_DOC_COMMENT","\/**\n     * Returns cc_number_enc\n     *\n     * @return string\n     *\/",1702],["T_WHITESPACE","\n    ",1706],["T_PUBLIC","public",1707],["T_WHITESPACE"," ",1707],["T_FUNCTION","function",1707],["T_WHITESPACE"," ",1707],["T_STRING","getCcNumberEnc",1707],"(",")",["T_WHITESPACE","\n    ",1707],"{",["T_WHITESPACE","\n        ",1708],["T_RETURN","return",1709],["T_WHITESPACE"," ",1709],["T_VARIABLE","$this",1709],["T_OBJECT_OPERATOR","->",1709],["T_STRING","getData",1709],"(",["T_STRING","OrderPaymentInterface",1709],["T_DOUBLE_COLON","::",1709],["T_STRING","CC_NUMBER_ENC",1709],")",";",["T_WHITESPACE","\n    ",1709],"}",["T_WHITESPACE","\n\n    ",1710],["T_DOC_COMMENT","\/**\n     * Returns cc_owner\n     *\n     * @return string\n     *\/",1712],["T_WHITESPACE","\n    ",1716],["T_PUBLIC","public",1717],["T_WHITESPACE"," ",1717],["T_FUNCTION","function",1717],["T_WHITESPACE"," ",1717],["T_STRING","getCcOwner",1717],"(",")",["T_WHITESPACE","\n    ",1717],"{",["T_WHITESPACE","\n        ",1718],["T_RETURN","return",1719],["T_WHITESPACE"," ",1719],["T_VARIABLE","$this",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","getData",1719],"(",["T_STRING","OrderPaymentInterface",1719],["T_DOUBLE_COLON","::",1719],["T_STRING","CC_OWNER",1719],")",";",["T_WHITESPACE","\n    ",1719],"}",["T_WHITESPACE","\n\n    ",1720],["T_DOC_COMMENT","\/**\n     * Returns cc_secure_verify\n     *\n     * @return string\n     *\/",1722],["T_WHITESPACE","\n    ",1726],["T_PUBLIC","public",1727],["T_WHITESPACE"," ",1727],["T_FUNCTION","function",1727],["T_WHITESPACE"," ",1727],["T_STRING","getCcSecureVerify",1727],"(",")",["T_WHITESPACE","\n    ",1727],"{",["T_WHITESPACE","\n        ",1728],["T_RETURN","return",1729],["T_WHITESPACE"," ",1729],["T_VARIABLE","$this",1729],["T_OBJECT_OPERATOR","->",1729],["T_STRING","getData",1729],"(",["T_STRING","OrderPaymentInterface",1729],["T_DOUBLE_COLON","::",1729],["T_STRING","CC_SECURE_VERIFY",1729],")",";",["T_WHITESPACE","\n    ",1729],"}",["T_WHITESPACE","\n\n    ",1730],["T_DOC_COMMENT","\/**\n     * Returns cc_ss_issue\n     *\n     * @return string\n     * @deprecated unused\n     *\/",1732],["T_WHITESPACE","\n    ",1737],["T_PUBLIC","public",1738],["T_WHITESPACE"," ",1738],["T_FUNCTION","function",1738],["T_WHITESPACE"," ",1738],["T_STRING","getCcSsIssue",1738],"(",")",["T_WHITESPACE","\n    ",1738],"{",["T_WHITESPACE","\n        ",1739],["T_RETURN","return",1740],["T_WHITESPACE"," ",1740],["T_VARIABLE","$this",1740],["T_OBJECT_OPERATOR","->",1740],["T_STRING","getData",1740],"(",["T_STRING","OrderPaymentInterface",1740],["T_DOUBLE_COLON","::",1740],["T_STRING","CC_SS_ISSUE",1740],")",";",["T_WHITESPACE","\n    ",1740],"}",["T_WHITESPACE","\n\n    ",1741],["T_DOC_COMMENT","\/**\n     * Returns cc_ss_start_month\n     *\n     * @return string\n     * @deprecated unused\n     *\/",1743],["T_WHITESPACE","\n    ",1748],["T_PUBLIC","public",1749],["T_WHITESPACE"," ",1749],["T_FUNCTION","function",1749],["T_WHITESPACE"," ",1749],["T_STRING","getCcSsStartMonth",1749],"(",")",["T_WHITESPACE","\n    ",1749],"{",["T_WHITESPACE","\n        ",1750],["T_RETURN","return",1751],["T_WHITESPACE"," ",1751],["T_VARIABLE","$this",1751],["T_OBJECT_OPERATOR","->",1751],["T_STRING","getData",1751],"(",["T_STRING","OrderPaymentInterface",1751],["T_DOUBLE_COLON","::",1751],["T_STRING","CC_SS_START_MONTH",1751],")",";",["T_WHITESPACE","\n    ",1751],"}",["T_WHITESPACE","\n\n    ",1752],["T_DOC_COMMENT","\/**\n     * Returns cc_ss_start_year\n     *\n     * @return string\n     * @deprecated unused\n     *\/",1754],["T_WHITESPACE","\n    ",1759],["T_PUBLIC","public",1760],["T_WHITESPACE"," ",1760],["T_FUNCTION","function",1760],["T_WHITESPACE"," ",1760],["T_STRING","getCcSsStartYear",1760],"(",")",["T_WHITESPACE","\n    ",1760],"{",["T_WHITESPACE","\n        ",1761],["T_RETURN","return",1762],["T_WHITESPACE"," ",1762],["T_VARIABLE","$this",1762],["T_OBJECT_OPERATOR","->",1762],["T_STRING","getData",1762],"(",["T_STRING","OrderPaymentInterface",1762],["T_DOUBLE_COLON","::",1762],["T_STRING","CC_SS_START_YEAR",1762],")",";",["T_WHITESPACE","\n    ",1762],"}",["T_WHITESPACE","\n\n    ",1763],["T_DOC_COMMENT","\/**\n     * Returns cc_status\n     *\n     * @return string\n     *\/",1765],["T_WHITESPACE","\n    ",1769],["T_PUBLIC","public",1770],["T_WHITESPACE"," ",1770],["T_FUNCTION","function",1770],["T_WHITESPACE"," ",1770],["T_STRING","getCcStatus",1770],"(",")",["T_WHITESPACE","\n    ",1770],"{",["T_WHITESPACE","\n        ",1771],["T_RETURN","return",1772],["T_WHITESPACE"," ",1772],["T_VARIABLE","$this",1772],["T_OBJECT_OPERATOR","->",1772],["T_STRING","getData",1772],"(",["T_STRING","OrderPaymentInterface",1772],["T_DOUBLE_COLON","::",1772],["T_STRING","CC_STATUS",1772],")",";",["T_WHITESPACE","\n    ",1772],"}",["T_WHITESPACE","\n\n    ",1773],["T_DOC_COMMENT","\/**\n     * Returns cc_status_description\n     *\n     * @return string\n     *\/",1775],["T_WHITESPACE","\n    ",1779],["T_PUBLIC","public",1780],["T_WHITESPACE"," ",1780],["T_FUNCTION","function",1780],["T_WHITESPACE"," ",1780],["T_STRING","getCcStatusDescription",1780],"(",")",["T_WHITESPACE","\n    ",1780],"{",["T_WHITESPACE","\n        ",1781],["T_RETURN","return",1782],["T_WHITESPACE"," ",1782],["T_VARIABLE","$this",1782],["T_OBJECT_OPERATOR","->",1782],["T_STRING","getData",1782],"(",["T_STRING","OrderPaymentInterface",1782],["T_DOUBLE_COLON","::",1782],["T_STRING","CC_STATUS_DESCRIPTION",1782],")",";",["T_WHITESPACE","\n    ",1782],"}",["T_WHITESPACE","\n\n    ",1783],["T_DOC_COMMENT","\/**\n     * Returns cc_trans_id\n     *\n     * @return string\n     *\/",1785],["T_WHITESPACE","\n    ",1789],["T_PUBLIC","public",1790],["T_WHITESPACE"," ",1790],["T_FUNCTION","function",1790],["T_WHITESPACE"," ",1790],["T_STRING","getCcTransId",1790],"(",")",["T_WHITESPACE","\n    ",1790],"{",["T_WHITESPACE","\n        ",1791],["T_RETURN","return",1792],["T_WHITESPACE"," ",1792],["T_VARIABLE","$this",1792],["T_OBJECT_OPERATOR","->",1792],["T_STRING","getData",1792],"(",["T_STRING","OrderPaymentInterface",1792],["T_DOUBLE_COLON","::",1792],["T_STRING","CC_TRANS_ID",1792],")",";",["T_WHITESPACE","\n    ",1792],"}",["T_WHITESPACE","\n\n    ",1793],["T_DOC_COMMENT","\/**\n     * Returns cc_type\n     *\n     * @return string\n     *\/",1795],["T_WHITESPACE","\n    ",1799],["T_PUBLIC","public",1800],["T_WHITESPACE"," ",1800],["T_FUNCTION","function",1800],["T_WHITESPACE"," ",1800],["T_STRING","getCcType",1800],"(",")",["T_WHITESPACE","\n    ",1800],"{",["T_WHITESPACE","\n        ",1801],["T_RETURN","return",1802],["T_WHITESPACE"," ",1802],["T_VARIABLE","$this",1802],["T_OBJECT_OPERATOR","->",1802],["T_STRING","getData",1802],"(",["T_STRING","OrderPaymentInterface",1802],["T_DOUBLE_COLON","::",1802],["T_STRING","CC_TYPE",1802],")",";",["T_WHITESPACE","\n    ",1802],"}",["T_WHITESPACE","\n\n    ",1803],["T_DOC_COMMENT","\/**\n     * Returns echeck_account_name\n     *\n     * @return string\n     *\/",1805],["T_WHITESPACE","\n    ",1809],["T_PUBLIC","public",1810],["T_WHITESPACE"," ",1810],["T_FUNCTION","function",1810],["T_WHITESPACE"," ",1810],["T_STRING","getEcheckAccountName",1810],"(",")",["T_WHITESPACE","\n    ",1810],"{",["T_WHITESPACE","\n        ",1811],["T_RETURN","return",1812],["T_WHITESPACE"," ",1812],["T_VARIABLE","$this",1812],["T_OBJECT_OPERATOR","->",1812],["T_STRING","getData",1812],"(",["T_STRING","OrderPaymentInterface",1812],["T_DOUBLE_COLON","::",1812],["T_STRING","ECHECK_ACCOUNT_NAME",1812],")",";",["T_WHITESPACE","\n    ",1812],"}",["T_WHITESPACE","\n\n    ",1813],["T_DOC_COMMENT","\/**\n     * Returns echeck_account_type\n     *\n     * @return string\n     *\/",1815],["T_WHITESPACE","\n    ",1819],["T_PUBLIC","public",1820],["T_WHITESPACE"," ",1820],["T_FUNCTION","function",1820],["T_WHITESPACE"," ",1820],["T_STRING","getEcheckAccountType",1820],"(",")",["T_WHITESPACE","\n    ",1820],"{",["T_WHITESPACE","\n        ",1821],["T_RETURN","return",1822],["T_WHITESPACE"," ",1822],["T_VARIABLE","$this",1822],["T_OBJECT_OPERATOR","->",1822],["T_STRING","getData",1822],"(",["T_STRING","OrderPaymentInterface",1822],["T_DOUBLE_COLON","::",1822],["T_STRING","ECHECK_ACCOUNT_TYPE",1822],")",";",["T_WHITESPACE","\n    ",1822],"}",["T_WHITESPACE","\n\n    ",1823],["T_DOC_COMMENT","\/**\n     * Returns echeck_bank_name\n     *\n     * @return string\n     *\/",1825],["T_WHITESPACE","\n    ",1829],["T_PUBLIC","public",1830],["T_WHITESPACE"," ",1830],["T_FUNCTION","function",1830],["T_WHITESPACE"," ",1830],["T_STRING","getEcheckBankName",1830],"(",")",["T_WHITESPACE","\n    ",1830],"{",["T_WHITESPACE","\n        ",1831],["T_RETURN","return",1832],["T_WHITESPACE"," ",1832],["T_VARIABLE","$this",1832],["T_OBJECT_OPERATOR","->",1832],["T_STRING","getData",1832],"(",["T_STRING","OrderPaymentInterface",1832],["T_DOUBLE_COLON","::",1832],["T_STRING","ECHECK_BANK_NAME",1832],")",";",["T_WHITESPACE","\n    ",1832],"}",["T_WHITESPACE","\n\n    ",1833],["T_DOC_COMMENT","\/**\n     * Returns echeck_routing_number\n     *\n     * @return string\n     *\/",1835],["T_WHITESPACE","\n    ",1839],["T_PUBLIC","public",1840],["T_WHITESPACE"," ",1840],["T_FUNCTION","function",1840],["T_WHITESPACE"," ",1840],["T_STRING","getEcheckRoutingNumber",1840],"(",")",["T_WHITESPACE","\n    ",1840],"{",["T_WHITESPACE","\n        ",1841],["T_RETURN","return",1842],["T_WHITESPACE"," ",1842],["T_VARIABLE","$this",1842],["T_OBJECT_OPERATOR","->",1842],["T_STRING","getData",1842],"(",["T_STRING","OrderPaymentInterface",1842],["T_DOUBLE_COLON","::",1842],["T_STRING","ECHECK_ROUTING_NUMBER",1842],")",";",["T_WHITESPACE","\n    ",1842],"}",["T_WHITESPACE","\n\n    ",1843],["T_DOC_COMMENT","\/**\n     * Returns echeck_type\n     *\n     * @return string\n     *\/",1845],["T_WHITESPACE","\n    ",1849],["T_PUBLIC","public",1850],["T_WHITESPACE"," ",1850],["T_FUNCTION","function",1850],["T_WHITESPACE"," ",1850],["T_STRING","getEcheckType",1850],"(",")",["T_WHITESPACE","\n    ",1850],"{",["T_WHITESPACE","\n        ",1851],["T_RETURN","return",1852],["T_WHITESPACE"," ",1852],["T_VARIABLE","$this",1852],["T_OBJECT_OPERATOR","->",1852],["T_STRING","getData",1852],"(",["T_STRING","OrderPaymentInterface",1852],["T_DOUBLE_COLON","::",1852],["T_STRING","ECHECK_TYPE",1852],")",";",["T_WHITESPACE","\n    ",1852],"}",["T_WHITESPACE","\n\n    ",1853],["T_DOC_COMMENT","\/**\n     * Returns last_trans_id\n     *\n     * @return string\n     *\/",1855],["T_WHITESPACE","\n    ",1859],["T_PUBLIC","public",1860],["T_WHITESPACE"," ",1860],["T_FUNCTION","function",1860],["T_WHITESPACE"," ",1860],["T_STRING","getLastTransId",1860],"(",")",["T_WHITESPACE","\n    ",1860],"{",["T_WHITESPACE","\n        ",1861],["T_RETURN","return",1862],["T_WHITESPACE"," ",1862],["T_VARIABLE","$this",1862],["T_OBJECT_OPERATOR","->",1862],["T_STRING","getData",1862],"(",["T_STRING","OrderPaymentInterface",1862],["T_DOUBLE_COLON","::",1862],["T_STRING","LAST_TRANS_ID",1862],")",";",["T_WHITESPACE","\n    ",1862],"}",["T_WHITESPACE","\n\n    ",1863],["T_DOC_COMMENT","\/**\n     * Returns method\n     *\n     * @return string\n     *\/",1865],["T_WHITESPACE","\n    ",1869],["T_PUBLIC","public",1870],["T_WHITESPACE"," ",1870],["T_FUNCTION","function",1870],["T_WHITESPACE"," ",1870],["T_STRING","getMethod",1870],"(",")",["T_WHITESPACE","\n    ",1870],"{",["T_WHITESPACE","\n        ",1871],["T_RETURN","return",1872],["T_WHITESPACE"," ",1872],["T_VARIABLE","$this",1872],["T_OBJECT_OPERATOR","->",1872],["T_STRING","getData",1872],"(",["T_STRING","OrderPaymentInterface",1872],["T_DOUBLE_COLON","::",1872],["T_STRING","METHOD",1872],")",";",["T_WHITESPACE","\n    ",1872],"}",["T_WHITESPACE","\n\n    ",1873],["T_DOC_COMMENT","\/**\n     * Returns parent_id\n     *\n     * @return int\n     *\/",1875],["T_WHITESPACE","\n    ",1879],["T_PUBLIC","public",1880],["T_WHITESPACE"," ",1880],["T_FUNCTION","function",1880],["T_WHITESPACE"," ",1880],["T_STRING","getParentId",1880],"(",")",["T_WHITESPACE","\n    ",1880],"{",["T_WHITESPACE","\n        ",1881],["T_RETURN","return",1882],["T_WHITESPACE"," ",1882],["T_VARIABLE","$this",1882],["T_OBJECT_OPERATOR","->",1882],["T_STRING","getData",1882],"(",["T_STRING","OrderPaymentInterface",1882],["T_DOUBLE_COLON","::",1882],["T_STRING","PARENT_ID",1882],")",";",["T_WHITESPACE","\n    ",1882],"}",["T_WHITESPACE","\n\n    ",1883],["T_DOC_COMMENT","\/**\n     * Returns po_number\n     *\n     * @return string\n     *\/",1885],["T_WHITESPACE","\n    ",1889],["T_PUBLIC","public",1890],["T_WHITESPACE"," ",1890],["T_FUNCTION","function",1890],["T_WHITESPACE"," ",1890],["T_STRING","getPoNumber",1890],"(",")",["T_WHITESPACE","\n    ",1890],"{",["T_WHITESPACE","\n        ",1891],["T_RETURN","return",1892],["T_WHITESPACE"," ",1892],["T_VARIABLE","$this",1892],["T_OBJECT_OPERATOR","->",1892],["T_STRING","getData",1892],"(",["T_STRING","OrderPaymentInterface",1892],["T_DOUBLE_COLON","::",1892],["T_STRING","PO_NUMBER",1892],")",";",["T_WHITESPACE","\n    ",1892],"}",["T_WHITESPACE","\n\n    ",1893],["T_DOC_COMMENT","\/**\n     * Returns protection_eligibility\n     *\n     * @return string\n     *\/",1895],["T_WHITESPACE","\n    ",1899],["T_PUBLIC","public",1900],["T_WHITESPACE"," ",1900],["T_FUNCTION","function",1900],["T_WHITESPACE"," ",1900],["T_STRING","getProtectionEligibility",1900],"(",")",["T_WHITESPACE","\n    ",1900],"{",["T_WHITESPACE","\n        ",1901],["T_RETURN","return",1902],["T_WHITESPACE"," ",1902],["T_VARIABLE","$this",1902],["T_OBJECT_OPERATOR","->",1902],["T_STRING","getData",1902],"(",["T_STRING","OrderPaymentInterface",1902],["T_DOUBLE_COLON","::",1902],["T_STRING","PROTECTION_ELIGIBILITY",1902],")",";",["T_WHITESPACE","\n    ",1902],"}",["T_WHITESPACE","\n\n    ",1903],["T_DOC_COMMENT","\/**\n     * Returns quote_payment_id\n     *\n     * @return int\n     *\/",1905],["T_WHITESPACE","\n    ",1909],["T_PUBLIC","public",1910],["T_WHITESPACE"," ",1910],["T_FUNCTION","function",1910],["T_WHITESPACE"," ",1910],["T_STRING","getQuotePaymentId",1910],"(",")",["T_WHITESPACE","\n    ",1910],"{",["T_WHITESPACE","\n        ",1911],["T_RETURN","return",1912],["T_WHITESPACE"," ",1912],["T_VARIABLE","$this",1912],["T_OBJECT_OPERATOR","->",1912],["T_STRING","getData",1912],"(",["T_STRING","OrderPaymentInterface",1912],["T_DOUBLE_COLON","::",1912],["T_STRING","QUOTE_PAYMENT_ID",1912],")",";",["T_WHITESPACE","\n    ",1912],"}",["T_WHITESPACE","\n\n    ",1913],["T_DOC_COMMENT","\/**\n     * Returns shipping_amount\n     *\n     * @return float\n     *\/",1915],["T_WHITESPACE","\n    ",1919],["T_PUBLIC","public",1920],["T_WHITESPACE"," ",1920],["T_FUNCTION","function",1920],["T_WHITESPACE"," ",1920],["T_STRING","getShippingAmount",1920],"(",")",["T_WHITESPACE","\n    ",1920],"{",["T_WHITESPACE","\n        ",1921],["T_RETURN","return",1922],["T_WHITESPACE"," ",1922],["T_VARIABLE","$this",1922],["T_OBJECT_OPERATOR","->",1922],["T_STRING","getData",1922],"(",["T_STRING","OrderPaymentInterface",1922],["T_DOUBLE_COLON","::",1922],["T_STRING","SHIPPING_AMOUNT",1922],")",";",["T_WHITESPACE","\n    ",1922],"}",["T_WHITESPACE","\n\n    ",1923],["T_DOC_COMMENT","\/**\n     * Returns shipping_captured\n     *\n     * @return float\n     *\/",1925],["T_WHITESPACE","\n    ",1929],["T_PUBLIC","public",1930],["T_WHITESPACE"," ",1930],["T_FUNCTION","function",1930],["T_WHITESPACE"," ",1930],["T_STRING","getShippingCaptured",1930],"(",")",["T_WHITESPACE","\n    ",1930],"{",["T_WHITESPACE","\n        ",1931],["T_RETURN","return",1932],["T_WHITESPACE"," ",1932],["T_VARIABLE","$this",1932],["T_OBJECT_OPERATOR","->",1932],["T_STRING","getData",1932],"(",["T_STRING","OrderPaymentInterface",1932],["T_DOUBLE_COLON","::",1932],["T_STRING","SHIPPING_CAPTURED",1932],")",";",["T_WHITESPACE","\n    ",1932],"}",["T_WHITESPACE","\n\n    ",1933],["T_DOC_COMMENT","\/**\n     * Returns shipping_refunded\n     *\n     * @return float\n     *\/",1935],["T_WHITESPACE","\n    ",1939],["T_PUBLIC","public",1940],["T_WHITESPACE"," ",1940],["T_FUNCTION","function",1940],["T_WHITESPACE"," ",1940],["T_STRING","getShippingRefunded",1940],"(",")",["T_WHITESPACE","\n    ",1940],"{",["T_WHITESPACE","\n        ",1941],["T_RETURN","return",1942],["T_WHITESPACE"," ",1942],["T_VARIABLE","$this",1942],["T_OBJECT_OPERATOR","->",1942],["T_STRING","getData",1942],"(",["T_STRING","OrderPaymentInterface",1942],["T_DOUBLE_COLON","::",1942],["T_STRING","SHIPPING_REFUNDED",1942],")",";",["T_WHITESPACE","\n    ",1942],"}",["T_WHITESPACE","\n\n    ",1943],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",1945],["T_WHITESPACE","\n    ",1947],["T_PUBLIC","public",1948],["T_WHITESPACE"," ",1948],["T_FUNCTION","function",1948],["T_WHITESPACE"," ",1948],["T_STRING","setParentId",1948],"(",["T_VARIABLE","$id",1948],")",["T_WHITESPACE","\n    ",1948],"{",["T_WHITESPACE","\n        ",1949],["T_RETURN","return",1950],["T_WHITESPACE"," ",1950],["T_VARIABLE","$this",1950],["T_OBJECT_OPERATOR","->",1950],["T_STRING","setData",1950],"(",["T_STRING","OrderPaymentInterface",1950],["T_DOUBLE_COLON","::",1950],["T_STRING","PARENT_ID",1950],",",["T_WHITESPACE"," ",1950],["T_VARIABLE","$id",1950],")",";",["T_WHITESPACE","\n    ",1950],"}",["T_WHITESPACE","\n\n    ",1951],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",1953],["T_WHITESPACE","\n    ",1955],["T_PUBLIC","public",1956],["T_WHITESPACE"," ",1956],["T_FUNCTION","function",1956],["T_WHITESPACE"," ",1956],["T_STRING","setBaseShippingCaptured",1956],"(",["T_VARIABLE","$baseShippingCaptured",1956],")",["T_WHITESPACE","\n    ",1956],"{",["T_WHITESPACE","\n        ",1957],["T_RETURN","return",1958],["T_WHITESPACE"," ",1958],["T_VARIABLE","$this",1958],["T_OBJECT_OPERATOR","->",1958],["T_STRING","setData",1958],"(",["T_STRING","OrderPaymentInterface",1958],["T_DOUBLE_COLON","::",1958],["T_STRING","BASE_SHIPPING_CAPTURED",1958],",",["T_WHITESPACE"," ",1958],["T_VARIABLE","$baseShippingCaptured",1958],")",";",["T_WHITESPACE","\n    ",1958],"}",["T_WHITESPACE","\n\n    ",1959],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",1961],["T_WHITESPACE","\n    ",1963],["T_PUBLIC","public",1964],["T_WHITESPACE"," ",1964],["T_FUNCTION","function",1964],["T_WHITESPACE"," ",1964],["T_STRING","setShippingCaptured",1964],"(",["T_VARIABLE","$shippingCaptured",1964],")",["T_WHITESPACE","\n    ",1964],"{",["T_WHITESPACE","\n        ",1965],["T_RETURN","return",1966],["T_WHITESPACE"," ",1966],["T_VARIABLE","$this",1966],["T_OBJECT_OPERATOR","->",1966],["T_STRING","setData",1966],"(",["T_STRING","OrderPaymentInterface",1966],["T_DOUBLE_COLON","::",1966],["T_STRING","SHIPPING_CAPTURED",1966],",",["T_WHITESPACE"," ",1966],["T_VARIABLE","$shippingCaptured",1966],")",";",["T_WHITESPACE","\n    ",1966],"}",["T_WHITESPACE","\n\n    ",1967],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",1969],["T_WHITESPACE","\n    ",1971],["T_PUBLIC","public",1972],["T_WHITESPACE"," ",1972],["T_FUNCTION","function",1972],["T_WHITESPACE"," ",1972],["T_STRING","setAmountRefunded",1972],"(",["T_VARIABLE","$amountRefunded",1972],")",["T_WHITESPACE","\n    ",1972],"{",["T_WHITESPACE","\n        ",1973],["T_RETURN","return",1974],["T_WHITESPACE"," ",1974],["T_VARIABLE","$this",1974],["T_OBJECT_OPERATOR","->",1974],["T_STRING","setData",1974],"(",["T_STRING","OrderPaymentInterface",1974],["T_DOUBLE_COLON","::",1974],["T_STRING","AMOUNT_REFUNDED",1974],",",["T_WHITESPACE"," ",1974],["T_VARIABLE","$amountRefunded",1974],")",";",["T_WHITESPACE","\n    ",1974],"}",["T_WHITESPACE","\n\n    ",1975],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",1977],["T_WHITESPACE","\n    ",1979],["T_PUBLIC","public",1980],["T_WHITESPACE"," ",1980],["T_FUNCTION","function",1980],["T_WHITESPACE"," ",1980],["T_STRING","setBaseAmountPaid",1980],"(",["T_VARIABLE","$baseAmountPaid",1980],")",["T_WHITESPACE","\n    ",1980],"{",["T_WHITESPACE","\n        ",1981],["T_RETURN","return",1982],["T_WHITESPACE"," ",1982],["T_VARIABLE","$this",1982],["T_OBJECT_OPERATOR","->",1982],["T_STRING","setData",1982],"(",["T_STRING","OrderPaymentInterface",1982],["T_DOUBLE_COLON","::",1982],["T_STRING","BASE_AMOUNT_PAID",1982],",",["T_WHITESPACE"," ",1982],["T_VARIABLE","$baseAmountPaid",1982],")",";",["T_WHITESPACE","\n    ",1982],"}",["T_WHITESPACE","\n\n    ",1983],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",1985],["T_WHITESPACE","\n    ",1987],["T_PUBLIC","public",1988],["T_WHITESPACE"," ",1988],["T_FUNCTION","function",1988],["T_WHITESPACE"," ",1988],["T_STRING","setAmountCanceled",1988],"(",["T_VARIABLE","$amountCanceled",1988],")",["T_WHITESPACE","\n    ",1988],"{",["T_WHITESPACE","\n        ",1989],["T_RETURN","return",1990],["T_WHITESPACE"," ",1990],["T_VARIABLE","$this",1990],["T_OBJECT_OPERATOR","->",1990],["T_STRING","setData",1990],"(",["T_STRING","OrderPaymentInterface",1990],["T_DOUBLE_COLON","::",1990],["T_STRING","AMOUNT_CANCELED",1990],",",["T_WHITESPACE"," ",1990],["T_VARIABLE","$amountCanceled",1990],")",";",["T_WHITESPACE","\n    ",1990],"}",["T_WHITESPACE","\n\n    ",1991],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",1993],["T_WHITESPACE","\n    ",1995],["T_PUBLIC","public",1996],["T_WHITESPACE"," ",1996],["T_FUNCTION","function",1996],["T_WHITESPACE"," ",1996],["T_STRING","setBaseAmountAuthorized",1996],"(",["T_VARIABLE","$baseAmountAuthorized",1996],")",["T_WHITESPACE","\n    ",1996],"{",["T_WHITESPACE","\n        ",1997],["T_RETURN","return",1998],["T_WHITESPACE"," ",1998],["T_VARIABLE","$this",1998],["T_OBJECT_OPERATOR","->",1998],["T_STRING","setData",1998],"(",["T_STRING","OrderPaymentInterface",1998],["T_DOUBLE_COLON","::",1998],["T_STRING","BASE_AMOUNT_AUTHORIZED",1998],",",["T_WHITESPACE"," ",1998],["T_VARIABLE","$baseAmountAuthorized",1998],")",";",["T_WHITESPACE","\n    ",1998],"}",["T_WHITESPACE","\n\n    ",1999],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2001],["T_WHITESPACE","\n    ",2003],["T_PUBLIC","public",2004],["T_WHITESPACE"," ",2004],["T_FUNCTION","function",2004],["T_WHITESPACE"," ",2004],["T_STRING","setBaseAmountPaidOnline",2004],"(",["T_VARIABLE","$baseAmountPaidOnline",2004],")",["T_WHITESPACE","\n    ",2004],"{",["T_WHITESPACE","\n        ",2005],["T_RETURN","return",2006],["T_WHITESPACE"," ",2006],["T_VARIABLE","$this",2006],["T_OBJECT_OPERATOR","->",2006],["T_STRING","setData",2006],"(",["T_STRING","OrderPaymentInterface",2006],["T_DOUBLE_COLON","::",2006],["T_STRING","BASE_AMOUNT_PAID_ONLINE",2006],",",["T_WHITESPACE"," ",2006],["T_VARIABLE","$baseAmountPaidOnline",2006],")",";",["T_WHITESPACE","\n    ",2006],"}",["T_WHITESPACE","\n\n    ",2007],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2009],["T_WHITESPACE","\n    ",2011],["T_PUBLIC","public",2012],["T_WHITESPACE"," ",2012],["T_FUNCTION","function",2012],["T_WHITESPACE"," ",2012],["T_STRING","setBaseAmountRefundedOnline",2012],"(",["T_VARIABLE","$baseAmountRefundedOnline",2012],")",["T_WHITESPACE","\n    ",2012],"{",["T_WHITESPACE","\n        ",2013],["T_RETURN","return",2014],["T_WHITESPACE"," ",2014],["T_VARIABLE","$this",2014],["T_OBJECT_OPERATOR","->",2014],["T_STRING","setData",2014],"(",["T_STRING","OrderPaymentInterface",2014],["T_DOUBLE_COLON","::",2014],["T_STRING","BASE_AMOUNT_REFUNDED_ONLINE",2014],",",["T_WHITESPACE"," ",2014],["T_VARIABLE","$baseAmountRefundedOnline",2014],")",";",["T_WHITESPACE","\n    ",2014],"}",["T_WHITESPACE","\n\n    ",2015],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2017],["T_WHITESPACE","\n    ",2019],["T_PUBLIC","public",2020],["T_WHITESPACE"," ",2020],["T_FUNCTION","function",2020],["T_WHITESPACE"," ",2020],["T_STRING","setBaseShippingAmount",2020],"(",["T_VARIABLE","$amount",2020],")",["T_WHITESPACE","\n    ",2020],"{",["T_WHITESPACE","\n        ",2021],["T_RETURN","return",2022],["T_WHITESPACE"," ",2022],["T_VARIABLE","$this",2022],["T_OBJECT_OPERATOR","->",2022],["T_STRING","setData",2022],"(",["T_STRING","OrderPaymentInterface",2022],["T_DOUBLE_COLON","::",2022],["T_STRING","BASE_SHIPPING_AMOUNT",2022],",",["T_WHITESPACE"," ",2022],["T_VARIABLE","$amount",2022],")",";",["T_WHITESPACE","\n    ",2022],"}",["T_WHITESPACE","\n\n    ",2023],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2025],["T_WHITESPACE","\n    ",2027],["T_PUBLIC","public",2028],["T_WHITESPACE"," ",2028],["T_FUNCTION","function",2028],["T_WHITESPACE"," ",2028],["T_STRING","setShippingAmount",2028],"(",["T_VARIABLE","$amount",2028],")",["T_WHITESPACE","\n    ",2028],"{",["T_WHITESPACE","\n        ",2029],["T_RETURN","return",2030],["T_WHITESPACE"," ",2030],["T_VARIABLE","$this",2030],["T_OBJECT_OPERATOR","->",2030],["T_STRING","setData",2030],"(",["T_STRING","OrderPaymentInterface",2030],["T_DOUBLE_COLON","::",2030],["T_STRING","SHIPPING_AMOUNT",2030],",",["T_WHITESPACE"," ",2030],["T_VARIABLE","$amount",2030],")",";",["T_WHITESPACE","\n    ",2030],"}",["T_WHITESPACE","\n\n    ",2031],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2033],["T_WHITESPACE","\n    ",2035],["T_PUBLIC","public",2036],["T_WHITESPACE"," ",2036],["T_FUNCTION","function",2036],["T_WHITESPACE"," ",2036],["T_STRING","setAmountPaid",2036],"(",["T_VARIABLE","$amountPaid",2036],")",["T_WHITESPACE","\n    ",2036],"{",["T_WHITESPACE","\n        ",2037],["T_RETURN","return",2038],["T_WHITESPACE"," ",2038],["T_VARIABLE","$this",2038],["T_OBJECT_OPERATOR","->",2038],["T_STRING","setData",2038],"(",["T_STRING","OrderPaymentInterface",2038],["T_DOUBLE_COLON","::",2038],["T_STRING","AMOUNT_PAID",2038],",",["T_WHITESPACE"," ",2038],["T_VARIABLE","$amountPaid",2038],")",";",["T_WHITESPACE","\n    ",2038],"}",["T_WHITESPACE","\n\n    ",2039],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2041],["T_WHITESPACE","\n    ",2043],["T_PUBLIC","public",2044],["T_WHITESPACE"," ",2044],["T_FUNCTION","function",2044],["T_WHITESPACE"," ",2044],["T_STRING","setAmountAuthorized",2044],"(",["T_VARIABLE","$amountAuthorized",2044],")",["T_WHITESPACE","\n    ",2044],"{",["T_WHITESPACE","\n        ",2045],["T_RETURN","return",2046],["T_WHITESPACE"," ",2046],["T_VARIABLE","$this",2046],["T_OBJECT_OPERATOR","->",2046],["T_STRING","setData",2046],"(",["T_STRING","OrderPaymentInterface",2046],["T_DOUBLE_COLON","::",2046],["T_STRING","AMOUNT_AUTHORIZED",2046],",",["T_WHITESPACE"," ",2046],["T_VARIABLE","$amountAuthorized",2046],")",";",["T_WHITESPACE","\n    ",2046],"}",["T_WHITESPACE","\n\n    ",2047],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2049],["T_WHITESPACE","\n    ",2051],["T_PUBLIC","public",2052],["T_WHITESPACE"," ",2052],["T_FUNCTION","function",2052],["T_WHITESPACE"," ",2052],["T_STRING","setBaseAmountOrdered",2052],"(",["T_VARIABLE","$baseAmountOrdered",2052],")",["T_WHITESPACE","\n    ",2052],"{",["T_WHITESPACE","\n        ",2053],["T_RETURN","return",2054],["T_WHITESPACE"," ",2054],["T_VARIABLE","$this",2054],["T_OBJECT_OPERATOR","->",2054],["T_STRING","setData",2054],"(",["T_STRING","OrderPaymentInterface",2054],["T_DOUBLE_COLON","::",2054],["T_STRING","BASE_AMOUNT_ORDERED",2054],",",["T_WHITESPACE"," ",2054],["T_VARIABLE","$baseAmountOrdered",2054],")",";",["T_WHITESPACE","\n    ",2054],"}",["T_WHITESPACE","\n\n    ",2055],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2057],["T_WHITESPACE","\n    ",2059],["T_PUBLIC","public",2060],["T_WHITESPACE"," ",2060],["T_FUNCTION","function",2060],["T_WHITESPACE"," ",2060],["T_STRING","setBaseShippingRefunded",2060],"(",["T_VARIABLE","$baseShippingRefunded",2060],")",["T_WHITESPACE","\n    ",2060],"{",["T_WHITESPACE","\n        ",2061],["T_RETURN","return",2062],["T_WHITESPACE"," ",2062],["T_VARIABLE","$this",2062],["T_OBJECT_OPERATOR","->",2062],["T_STRING","setData",2062],"(",["T_STRING","OrderPaymentInterface",2062],["T_DOUBLE_COLON","::",2062],["T_STRING","BASE_SHIPPING_REFUNDED",2062],",",["T_WHITESPACE"," ",2062],["T_VARIABLE","$baseShippingRefunded",2062],")",";",["T_WHITESPACE","\n    ",2062],"}",["T_WHITESPACE","\n\n    ",2063],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2065],["T_WHITESPACE","\n    ",2067],["T_PUBLIC","public",2068],["T_WHITESPACE"," ",2068],["T_FUNCTION","function",2068],["T_WHITESPACE"," ",2068],["T_STRING","setShippingRefunded",2068],"(",["T_VARIABLE","$shippingRefunded",2068],")",["T_WHITESPACE","\n    ",2068],"{",["T_WHITESPACE","\n        ",2069],["T_RETURN","return",2070],["T_WHITESPACE"," ",2070],["T_VARIABLE","$this",2070],["T_OBJECT_OPERATOR","->",2070],["T_STRING","setData",2070],"(",["T_STRING","OrderPaymentInterface",2070],["T_DOUBLE_COLON","::",2070],["T_STRING","SHIPPING_REFUNDED",2070],",",["T_WHITESPACE"," ",2070],["T_VARIABLE","$shippingRefunded",2070],")",";",["T_WHITESPACE","\n    ",2070],"}",["T_WHITESPACE","\n\n    ",2071],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2073],["T_WHITESPACE","\n    ",2075],["T_PUBLIC","public",2076],["T_WHITESPACE"," ",2076],["T_FUNCTION","function",2076],["T_WHITESPACE"," ",2076],["T_STRING","setBaseAmountRefunded",2076],"(",["T_VARIABLE","$baseAmountRefunded",2076],")",["T_WHITESPACE","\n    ",2076],"{",["T_WHITESPACE","\n        ",2077],["T_RETURN","return",2078],["T_WHITESPACE"," ",2078],["T_VARIABLE","$this",2078],["T_OBJECT_OPERATOR","->",2078],["T_STRING","setData",2078],"(",["T_STRING","OrderPaymentInterface",2078],["T_DOUBLE_COLON","::",2078],["T_STRING","BASE_AMOUNT_REFUNDED",2078],",",["T_WHITESPACE"," ",2078],["T_VARIABLE","$baseAmountRefunded",2078],")",";",["T_WHITESPACE","\n    ",2078],"}",["T_WHITESPACE","\n\n    ",2079],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2081],["T_WHITESPACE","\n    ",2083],["T_PUBLIC","public",2084],["T_WHITESPACE"," ",2084],["T_FUNCTION","function",2084],["T_WHITESPACE"," ",2084],["T_STRING","setAmountOrdered",2084],"(",["T_VARIABLE","$amountOrdered",2084],")",["T_WHITESPACE","\n    ",2084],"{",["T_WHITESPACE","\n        ",2085],["T_RETURN","return",2086],["T_WHITESPACE"," ",2086],["T_VARIABLE","$this",2086],["T_OBJECT_OPERATOR","->",2086],["T_STRING","setData",2086],"(",["T_STRING","OrderPaymentInterface",2086],["T_DOUBLE_COLON","::",2086],["T_STRING","AMOUNT_ORDERED",2086],",",["T_WHITESPACE"," ",2086],["T_VARIABLE","$amountOrdered",2086],")",";",["T_WHITESPACE","\n    ",2086],"}",["T_WHITESPACE","\n\n    ",2087],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2089],["T_WHITESPACE","\n    ",2091],["T_PUBLIC","public",2092],["T_WHITESPACE"," ",2092],["T_FUNCTION","function",2092],["T_WHITESPACE"," ",2092],["T_STRING","setBaseAmountCanceled",2092],"(",["T_VARIABLE","$baseAmountCanceled",2092],")",["T_WHITESPACE","\n    ",2092],"{",["T_WHITESPACE","\n        ",2093],["T_RETURN","return",2094],["T_WHITESPACE"," ",2094],["T_VARIABLE","$this",2094],["T_OBJECT_OPERATOR","->",2094],["T_STRING","setData",2094],"(",["T_STRING","OrderPaymentInterface",2094],["T_DOUBLE_COLON","::",2094],["T_STRING","BASE_AMOUNT_CANCELED",2094],",",["T_WHITESPACE"," ",2094],["T_VARIABLE","$baseAmountCanceled",2094],")",";",["T_WHITESPACE","\n    ",2094],"}",["T_WHITESPACE","\n\n    ",2095],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2097],["T_WHITESPACE","\n    ",2099],["T_PUBLIC","public",2100],["T_WHITESPACE"," ",2100],["T_FUNCTION","function",2100],["T_WHITESPACE"," ",2100],["T_STRING","setQuotePaymentId",2100],"(",["T_VARIABLE","$id",2100],")",["T_WHITESPACE","\n    ",2100],"{",["T_WHITESPACE","\n        ",2101],["T_RETURN","return",2102],["T_WHITESPACE"," ",2102],["T_VARIABLE","$this",2102],["T_OBJECT_OPERATOR","->",2102],["T_STRING","setData",2102],"(",["T_STRING","OrderPaymentInterface",2102],["T_DOUBLE_COLON","::",2102],["T_STRING","QUOTE_PAYMENT_ID",2102],",",["T_WHITESPACE"," ",2102],["T_VARIABLE","$id",2102],")",";",["T_WHITESPACE","\n    ",2102],"}",["T_WHITESPACE","\n\n    ",2103],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2105],["T_WHITESPACE","\n    ",2107],["T_PUBLIC","public",2108],["T_WHITESPACE"," ",2108],["T_FUNCTION","function",2108],["T_WHITESPACE"," ",2108],["T_STRING","setAdditionalData",2108],"(",["T_VARIABLE","$additionalData",2108],")",["T_WHITESPACE","\n    ",2108],"{",["T_WHITESPACE","\n        ",2109],["T_RETURN","return",2110],["T_WHITESPACE"," ",2110],["T_VARIABLE","$this",2110],["T_OBJECT_OPERATOR","->",2110],["T_STRING","setData",2110],"(",["T_STRING","OrderPaymentInterface",2110],["T_DOUBLE_COLON","::",2110],["T_STRING","ADDITIONAL_DATA",2110],",",["T_WHITESPACE"," ",2110],["T_VARIABLE","$additionalData",2110],")",";",["T_WHITESPACE","\n    ",2110],"}",["T_WHITESPACE","\n\n    ",2111],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2113],["T_WHITESPACE","\n    ",2115],["T_PUBLIC","public",2116],["T_WHITESPACE"," ",2116],["T_FUNCTION","function",2116],["T_WHITESPACE"," ",2116],["T_STRING","setCcExpMonth",2116],"(",["T_VARIABLE","$ccExpMonth",2116],")",["T_WHITESPACE","\n    ",2116],"{",["T_WHITESPACE","\n        ",2117],["T_RETURN","return",2118],["T_WHITESPACE"," ",2118],["T_VARIABLE","$this",2118],["T_OBJECT_OPERATOR","->",2118],["T_STRING","setData",2118],"(",["T_STRING","OrderPaymentInterface",2118],["T_DOUBLE_COLON","::",2118],["T_STRING","CC_EXP_MONTH",2118],",",["T_WHITESPACE"," ",2118],["T_VARIABLE","$ccExpMonth",2118],")",";",["T_WHITESPACE","\n    ",2118],"}",["T_WHITESPACE","\n\n    ",2119],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     * @deprecated unused\n     *\/",2121],["T_WHITESPACE","\n    ",2124],["T_PUBLIC","public",2125],["T_WHITESPACE"," ",2125],["T_FUNCTION","function",2125],["T_WHITESPACE"," ",2125],["T_STRING","setCcSsStartYear",2125],"(",["T_VARIABLE","$ccSsStartYear",2125],")",["T_WHITESPACE","\n    ",2125],"{",["T_WHITESPACE","\n        ",2126],["T_RETURN","return",2127],["T_WHITESPACE"," ",2127],["T_VARIABLE","$this",2127],["T_OBJECT_OPERATOR","->",2127],["T_STRING","setData",2127],"(",["T_STRING","OrderPaymentInterface",2127],["T_DOUBLE_COLON","::",2127],["T_STRING","CC_SS_START_YEAR",2127],",",["T_WHITESPACE"," ",2127],["T_VARIABLE","$ccSsStartYear",2127],")",";",["T_WHITESPACE","\n    ",2127],"}",["T_WHITESPACE","\n\n    ",2128],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2130],["T_WHITESPACE","\n    ",2132],["T_PUBLIC","public",2133],["T_WHITESPACE"," ",2133],["T_FUNCTION","function",2133],["T_WHITESPACE"," ",2133],["T_STRING","setEcheckBankName",2133],"(",["T_VARIABLE","$echeckBankName",2133],")",["T_WHITESPACE","\n    ",2133],"{",["T_WHITESPACE","\n        ",2134],["T_RETURN","return",2135],["T_WHITESPACE"," ",2135],["T_VARIABLE","$this",2135],["T_OBJECT_OPERATOR","->",2135],["T_STRING","setData",2135],"(",["T_STRING","OrderPaymentInterface",2135],["T_DOUBLE_COLON","::",2135],["T_STRING","ECHECK_BANK_NAME",2135],",",["T_WHITESPACE"," ",2135],["T_VARIABLE","$echeckBankName",2135],")",";",["T_WHITESPACE","\n    ",2135],"}",["T_WHITESPACE","\n\n    ",2136],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2138],["T_WHITESPACE","\n    ",2140],["T_PUBLIC","public",2141],["T_WHITESPACE"," ",2141],["T_FUNCTION","function",2141],["T_WHITESPACE"," ",2141],["T_STRING","setMethod",2141],"(",["T_VARIABLE","$method",2141],")",["T_WHITESPACE","\n    ",2141],"{",["T_WHITESPACE","\n        ",2142],["T_RETURN","return",2143],["T_WHITESPACE"," ",2143],["T_VARIABLE","$this",2143],["T_OBJECT_OPERATOR","->",2143],["T_STRING","setData",2143],"(",["T_STRING","OrderPaymentInterface",2143],["T_DOUBLE_COLON","::",2143],["T_STRING","METHOD",2143],",",["T_WHITESPACE"," ",2143],["T_VARIABLE","$method",2143],")",";",["T_WHITESPACE","\n    ",2143],"}",["T_WHITESPACE","\n\n    ",2144],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2146],["T_WHITESPACE","\n    ",2148],["T_PUBLIC","public",2149],["T_WHITESPACE"," ",2149],["T_FUNCTION","function",2149],["T_WHITESPACE"," ",2149],["T_STRING","setCcDebugRequestBody",2149],"(",["T_VARIABLE","$ccDebugRequestBody",2149],")",["T_WHITESPACE","\n    ",2149],"{",["T_WHITESPACE","\n        ",2150],["T_RETURN","return",2151],["T_WHITESPACE"," ",2151],["T_VARIABLE","$this",2151],["T_OBJECT_OPERATOR","->",2151],["T_STRING","setData",2151],"(",["T_STRING","OrderPaymentInterface",2151],["T_DOUBLE_COLON","::",2151],["T_STRING","CC_DEBUG_REQUEST_BODY",2151],",",["T_WHITESPACE"," ",2151],["T_VARIABLE","$ccDebugRequestBody",2151],")",";",["T_WHITESPACE","\n    ",2151],"}",["T_WHITESPACE","\n\n    ",2152],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2154],["T_WHITESPACE","\n    ",2156],["T_PUBLIC","public",2157],["T_WHITESPACE"," ",2157],["T_FUNCTION","function",2157],["T_WHITESPACE"," ",2157],["T_STRING","setCcSecureVerify",2157],"(",["T_VARIABLE","$ccSecureVerify",2157],")",["T_WHITESPACE","\n    ",2157],"{",["T_WHITESPACE","\n        ",2158],["T_RETURN","return",2159],["T_WHITESPACE"," ",2159],["T_VARIABLE","$this",2159],["T_OBJECT_OPERATOR","->",2159],["T_STRING","setData",2159],"(",["T_STRING","OrderPaymentInterface",2159],["T_DOUBLE_COLON","::",2159],["T_STRING","CC_SECURE_VERIFY",2159],",",["T_WHITESPACE"," ",2159],["T_VARIABLE","$ccSecureVerify",2159],")",";",["T_WHITESPACE","\n    ",2159],"}",["T_WHITESPACE","\n\n    ",2160],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2162],["T_WHITESPACE","\n    ",2164],["T_PUBLIC","public",2165],["T_WHITESPACE"," ",2165],["T_FUNCTION","function",2165],["T_WHITESPACE"," ",2165],["T_STRING","setProtectionEligibility",2165],"(",["T_VARIABLE","$protectionEligibility",2165],")",["T_WHITESPACE","\n    ",2165],"{",["T_WHITESPACE","\n        ",2166],["T_RETURN","return",2167],["T_WHITESPACE"," ",2167],["T_VARIABLE","$this",2167],["T_OBJECT_OPERATOR","->",2167],["T_STRING","setData",2167],"(",["T_STRING","OrderPaymentInterface",2167],["T_DOUBLE_COLON","::",2167],["T_STRING","PROTECTION_ELIGIBILITY",2167],",",["T_WHITESPACE"," ",2167],["T_VARIABLE","$protectionEligibility",2167],")",";",["T_WHITESPACE","\n    ",2167],"}",["T_WHITESPACE","\n\n    ",2168],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2170],["T_WHITESPACE","\n    ",2172],["T_PUBLIC","public",2173],["T_WHITESPACE"," ",2173],["T_FUNCTION","function",2173],["T_WHITESPACE"," ",2173],["T_STRING","setCcApproval",2173],"(",["T_VARIABLE","$ccApproval",2173],")",["T_WHITESPACE","\n    ",2173],"{",["T_WHITESPACE","\n        ",2174],["T_RETURN","return",2175],["T_WHITESPACE"," ",2175],["T_VARIABLE","$this",2175],["T_OBJECT_OPERATOR","->",2175],["T_STRING","setData",2175],"(",["T_STRING","OrderPaymentInterface",2175],["T_DOUBLE_COLON","::",2175],["T_STRING","CC_APPROVAL",2175],",",["T_WHITESPACE"," ",2175],["T_VARIABLE","$ccApproval",2175],")",";",["T_WHITESPACE","\n    ",2175],"}",["T_WHITESPACE","\n\n    ",2176],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2178],["T_WHITESPACE","\n    ",2180],["T_PUBLIC","public",2181],["T_WHITESPACE"," ",2181],["T_FUNCTION","function",2181],["T_WHITESPACE"," ",2181],["T_STRING","setCcLast4",2181],"(",["T_VARIABLE","$ccLast4",2181],")",["T_WHITESPACE","\n    ",2181],"{",["T_WHITESPACE","\n        ",2182],["T_RETURN","return",2183],["T_WHITESPACE"," ",2183],["T_VARIABLE","$this",2183],["T_OBJECT_OPERATOR","->",2183],["T_STRING","setData",2183],"(",["T_STRING","OrderPaymentInterface",2183],["T_DOUBLE_COLON","::",2183],["T_STRING","CC_LAST_4",2183],",",["T_WHITESPACE"," ",2183],["T_VARIABLE","$ccLast4",2183],")",";",["T_WHITESPACE","\n    ",2183],"}",["T_WHITESPACE","\n\n    ",2184],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2186],["T_WHITESPACE","\n    ",2188],["T_PUBLIC","public",2189],["T_WHITESPACE"," ",2189],["T_FUNCTION","function",2189],["T_WHITESPACE"," ",2189],["T_STRING","setCcStatusDescription",2189],"(",["T_VARIABLE","$description",2189],")",["T_WHITESPACE","\n    ",2189],"{",["T_WHITESPACE","\n        ",2190],["T_RETURN","return",2191],["T_WHITESPACE"," ",2191],["T_VARIABLE","$this",2191],["T_OBJECT_OPERATOR","->",2191],["T_STRING","setData",2191],"(",["T_STRING","OrderPaymentInterface",2191],["T_DOUBLE_COLON","::",2191],["T_STRING","CC_STATUS_DESCRIPTION",2191],",",["T_WHITESPACE"," ",2191],["T_VARIABLE","$description",2191],")",";",["T_WHITESPACE","\n    ",2191],"}",["T_WHITESPACE","\n\n    ",2192],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2194],["T_WHITESPACE","\n    ",2196],["T_PUBLIC","public",2197],["T_WHITESPACE"," ",2197],["T_FUNCTION","function",2197],["T_WHITESPACE"," ",2197],["T_STRING","setEcheckType",2197],"(",["T_VARIABLE","$echeckType",2197],")",["T_WHITESPACE","\n    ",2197],"{",["T_WHITESPACE","\n        ",2198],["T_RETURN","return",2199],["T_WHITESPACE"," ",2199],["T_VARIABLE","$this",2199],["T_OBJECT_OPERATOR","->",2199],["T_STRING","setData",2199],"(",["T_STRING","OrderPaymentInterface",2199],["T_DOUBLE_COLON","::",2199],["T_STRING","ECHECK_TYPE",2199],",",["T_WHITESPACE"," ",2199],["T_VARIABLE","$echeckType",2199],")",";",["T_WHITESPACE","\n    ",2199],"}",["T_WHITESPACE","\n\n    ",2200],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2202],["T_WHITESPACE","\n    ",2204],["T_PUBLIC","public",2205],["T_WHITESPACE"," ",2205],["T_FUNCTION","function",2205],["T_WHITESPACE"," ",2205],["T_STRING","setCcDebugResponseSerialized",2205],"(",["T_VARIABLE","$ccDebugResponseSerialized",2205],")",["T_WHITESPACE","\n    ",2205],"{",["T_WHITESPACE","\n        ",2206],["T_RETURN","return",2207],["T_WHITESPACE"," ",2207],["T_VARIABLE","$this",2207],["T_OBJECT_OPERATOR","->",2207],["T_STRING","setData",2207],"(",["T_STRING","OrderPaymentInterface",2207],["T_DOUBLE_COLON","::",2207],["T_STRING","CC_DEBUG_RESPONSE_SERIALIZED",2207],",",["T_WHITESPACE"," ",2207],["T_VARIABLE","$ccDebugResponseSerialized",2207],")",";",["T_WHITESPACE","\n    ",2207],"}",["T_WHITESPACE","\n\n    ",2208],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     * @deprecated unused\n     *\/",2210],["T_WHITESPACE","\n    ",2213],["T_PUBLIC","public",2214],["T_WHITESPACE"," ",2214],["T_FUNCTION","function",2214],["T_WHITESPACE"," ",2214],["T_STRING","setCcSsStartMonth",2214],"(",["T_VARIABLE","$ccSsStartMonth",2214],")",["T_WHITESPACE","\n    ",2214],"{",["T_WHITESPACE","\n        ",2215],["T_RETURN","return",2216],["T_WHITESPACE"," ",2216],["T_VARIABLE","$this",2216],["T_OBJECT_OPERATOR","->",2216],["T_STRING","setData",2216],"(",["T_STRING","OrderPaymentInterface",2216],["T_DOUBLE_COLON","::",2216],["T_STRING","CC_SS_START_MONTH",2216],",",["T_WHITESPACE"," ",2216],["T_VARIABLE","$ccSsStartMonth",2216],")",";",["T_WHITESPACE","\n    ",2216],"}",["T_WHITESPACE","\n\n    ",2217],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2219],["T_WHITESPACE","\n    ",2221],["T_PUBLIC","public",2222],["T_WHITESPACE"," ",2222],["T_FUNCTION","function",2222],["T_WHITESPACE"," ",2222],["T_STRING","setEcheckAccountType",2222],"(",["T_VARIABLE","$echeckAccountType",2222],")",["T_WHITESPACE","\n    ",2222],"{",["T_WHITESPACE","\n        ",2223],["T_RETURN","return",2224],["T_WHITESPACE"," ",2224],["T_VARIABLE","$this",2224],["T_OBJECT_OPERATOR","->",2224],["T_STRING","setData",2224],"(",["T_STRING","OrderPaymentInterface",2224],["T_DOUBLE_COLON","::",2224],["T_STRING","ECHECK_ACCOUNT_TYPE",2224],",",["T_WHITESPACE"," ",2224],["T_VARIABLE","$echeckAccountType",2224],")",";",["T_WHITESPACE","\n    ",2224],"}",["T_WHITESPACE","\n\n    ",2225],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2227],["T_WHITESPACE","\n    ",2229],["T_PUBLIC","public",2230],["T_WHITESPACE"," ",2230],["T_FUNCTION","function",2230],["T_WHITESPACE"," ",2230],["T_STRING","setLastTransId",2230],"(",["T_VARIABLE","$id",2230],")",["T_WHITESPACE","\n    ",2230],"{",["T_WHITESPACE","\n        ",2231],["T_RETURN","return",2232],["T_WHITESPACE"," ",2232],["T_VARIABLE","$this",2232],["T_OBJECT_OPERATOR","->",2232],["T_STRING","setData",2232],"(",["T_STRING","OrderPaymentInterface",2232],["T_DOUBLE_COLON","::",2232],["T_STRING","LAST_TRANS_ID",2232],",",["T_WHITESPACE"," ",2232],["T_VARIABLE","$id",2232],")",";",["T_WHITESPACE","\n    ",2232],"}",["T_WHITESPACE","\n\n    ",2233],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2235],["T_WHITESPACE","\n    ",2237],["T_PUBLIC","public",2238],["T_WHITESPACE"," ",2238],["T_FUNCTION","function",2238],["T_WHITESPACE"," ",2238],["T_STRING","setCcCidStatus",2238],"(",["T_VARIABLE","$ccCidStatus",2238],")",["T_WHITESPACE","\n    ",2238],"{",["T_WHITESPACE","\n        ",2239],["T_RETURN","return",2240],["T_WHITESPACE"," ",2240],["T_VARIABLE","$this",2240],["T_OBJECT_OPERATOR","->",2240],["T_STRING","setData",2240],"(",["T_STRING","OrderPaymentInterface",2240],["T_DOUBLE_COLON","::",2240],["T_STRING","CC_CID_STATUS",2240],",",["T_WHITESPACE"," ",2240],["T_VARIABLE","$ccCidStatus",2240],")",";",["T_WHITESPACE","\n    ",2240],"}",["T_WHITESPACE","\n\n    ",2241],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2243],["T_WHITESPACE","\n    ",2245],["T_PUBLIC","public",2246],["T_WHITESPACE"," ",2246],["T_FUNCTION","function",2246],["T_WHITESPACE"," ",2246],["T_STRING","setCcOwner",2246],"(",["T_VARIABLE","$ccOwner",2246],")",["T_WHITESPACE","\n    ",2246],"{",["T_WHITESPACE","\n        ",2247],["T_RETURN","return",2248],["T_WHITESPACE"," ",2248],["T_VARIABLE","$this",2248],["T_OBJECT_OPERATOR","->",2248],["T_STRING","setData",2248],"(",["T_STRING","OrderPaymentInterface",2248],["T_DOUBLE_COLON","::",2248],["T_STRING","CC_OWNER",2248],",",["T_WHITESPACE"," ",2248],["T_VARIABLE","$ccOwner",2248],")",";",["T_WHITESPACE","\n    ",2248],"}",["T_WHITESPACE","\n\n    ",2249],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2251],["T_WHITESPACE","\n    ",2253],["T_PUBLIC","public",2254],["T_WHITESPACE"," ",2254],["T_FUNCTION","function",2254],["T_WHITESPACE"," ",2254],["T_STRING","setCcType",2254],"(",["T_VARIABLE","$ccType",2254],")",["T_WHITESPACE","\n    ",2254],"{",["T_WHITESPACE","\n        ",2255],["T_RETURN","return",2256],["T_WHITESPACE"," ",2256],["T_VARIABLE","$this",2256],["T_OBJECT_OPERATOR","->",2256],["T_STRING","setData",2256],"(",["T_STRING","OrderPaymentInterface",2256],["T_DOUBLE_COLON","::",2256],["T_STRING","CC_TYPE",2256],",",["T_WHITESPACE"," ",2256],["T_VARIABLE","$ccType",2256],")",";",["T_WHITESPACE","\n    ",2256],"}",["T_WHITESPACE","\n\n    ",2257],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2259],["T_WHITESPACE","\n    ",2261],["T_PUBLIC","public",2262],["T_WHITESPACE"," ",2262],["T_FUNCTION","function",2262],["T_WHITESPACE"," ",2262],["T_STRING","setPoNumber",2262],"(",["T_VARIABLE","$poNumber",2262],")",["T_WHITESPACE","\n    ",2262],"{",["T_WHITESPACE","\n        ",2263],["T_RETURN","return",2264],["T_WHITESPACE"," ",2264],["T_VARIABLE","$this",2264],["T_OBJECT_OPERATOR","->",2264],["T_STRING","setData",2264],"(",["T_STRING","OrderPaymentInterface",2264],["T_DOUBLE_COLON","::",2264],["T_STRING","PO_NUMBER",2264],",",["T_WHITESPACE"," ",2264],["T_VARIABLE","$poNumber",2264],")",";",["T_WHITESPACE","\n    ",2264],"}",["T_WHITESPACE","\n\n    ",2265],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2267],["T_WHITESPACE","\n    ",2269],["T_PUBLIC","public",2270],["T_WHITESPACE"," ",2270],["T_FUNCTION","function",2270],["T_WHITESPACE"," ",2270],["T_STRING","setCcExpYear",2270],"(",["T_VARIABLE","$ccExpYear",2270],")",["T_WHITESPACE","\n    ",2270],"{",["T_WHITESPACE","\n        ",2271],["T_RETURN","return",2272],["T_WHITESPACE"," ",2272],["T_VARIABLE","$this",2272],["T_OBJECT_OPERATOR","->",2272],["T_STRING","setData",2272],"(",["T_STRING","OrderPaymentInterface",2272],["T_DOUBLE_COLON","::",2272],["T_STRING","CC_EXP_YEAR",2272],",",["T_WHITESPACE"," ",2272],["T_VARIABLE","$ccExpYear",2272],")",";",["T_WHITESPACE","\n    ",2272],"}",["T_WHITESPACE","\n\n    ",2273],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2275],["T_WHITESPACE","\n    ",2277],["T_PUBLIC","public",2278],["T_WHITESPACE"," ",2278],["T_FUNCTION","function",2278],["T_WHITESPACE"," ",2278],["T_STRING","setCcStatus",2278],"(",["T_VARIABLE","$ccStatus",2278],")",["T_WHITESPACE","\n    ",2278],"{",["T_WHITESPACE","\n        ",2279],["T_RETURN","return",2280],["T_WHITESPACE"," ",2280],["T_VARIABLE","$this",2280],["T_OBJECT_OPERATOR","->",2280],["T_STRING","setData",2280],"(",["T_STRING","OrderPaymentInterface",2280],["T_DOUBLE_COLON","::",2280],["T_STRING","CC_STATUS",2280],",",["T_WHITESPACE"," ",2280],["T_VARIABLE","$ccStatus",2280],")",";",["T_WHITESPACE","\n    ",2280],"}",["T_WHITESPACE","\n\n    ",2281],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2283],["T_WHITESPACE","\n    ",2285],["T_PUBLIC","public",2286],["T_WHITESPACE"," ",2286],["T_FUNCTION","function",2286],["T_WHITESPACE"," ",2286],["T_STRING","setEcheckRoutingNumber",2286],"(",["T_VARIABLE","$echeckRoutingNumber",2286],")",["T_WHITESPACE","\n    ",2286],"{",["T_WHITESPACE","\n        ",2287],["T_RETURN","return",2288],["T_WHITESPACE"," ",2288],["T_VARIABLE","$this",2288],["T_OBJECT_OPERATOR","->",2288],["T_STRING","setData",2288],"(",["T_STRING","OrderPaymentInterface",2288],["T_DOUBLE_COLON","::",2288],["T_STRING","ECHECK_ROUTING_NUMBER",2288],",",["T_WHITESPACE"," ",2288],["T_VARIABLE","$echeckRoutingNumber",2288],")",";",["T_WHITESPACE","\n    ",2288],"}",["T_WHITESPACE","\n\n    ",2289],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2291],["T_WHITESPACE","\n    ",2293],["T_PUBLIC","public",2294],["T_WHITESPACE"," ",2294],["T_FUNCTION","function",2294],["T_WHITESPACE"," ",2294],["T_STRING","setAccountStatus",2294],"(",["T_VARIABLE","$accountStatus",2294],")",["T_WHITESPACE","\n    ",2294],"{",["T_WHITESPACE","\n        ",2295],["T_RETURN","return",2296],["T_WHITESPACE"," ",2296],["T_VARIABLE","$this",2296],["T_OBJECT_OPERATOR","->",2296],["T_STRING","setData",2296],"(",["T_STRING","OrderPaymentInterface",2296],["T_DOUBLE_COLON","::",2296],["T_STRING","ACCOUNT_STATUS",2296],",",["T_WHITESPACE"," ",2296],["T_VARIABLE","$accountStatus",2296],")",";",["T_WHITESPACE","\n    ",2296],"}",["T_WHITESPACE","\n\n    ",2297],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2299],["T_WHITESPACE","\n    ",2301],["T_PUBLIC","public",2302],["T_WHITESPACE"," ",2302],["T_FUNCTION","function",2302],["T_WHITESPACE"," ",2302],["T_STRING","setAnetTransMethod",2302],"(",["T_VARIABLE","$anetTransMethod",2302],")",["T_WHITESPACE","\n    ",2302],"{",["T_WHITESPACE","\n        ",2303],["T_RETURN","return",2304],["T_WHITESPACE"," ",2304],["T_VARIABLE","$this",2304],["T_OBJECT_OPERATOR","->",2304],["T_STRING","setData",2304],"(",["T_STRING","OrderPaymentInterface",2304],["T_DOUBLE_COLON","::",2304],["T_STRING","ANET_TRANS_METHOD",2304],",",["T_WHITESPACE"," ",2304],["T_VARIABLE","$anetTransMethod",2304],")",";",["T_WHITESPACE","\n    ",2304],"}",["T_WHITESPACE","\n\n    ",2305],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2307],["T_WHITESPACE","\n    ",2309],["T_PUBLIC","public",2310],["T_WHITESPACE"," ",2310],["T_FUNCTION","function",2310],["T_WHITESPACE"," ",2310],["T_STRING","setCcDebugResponseBody",2310],"(",["T_VARIABLE","$ccDebugResponseBody",2310],")",["T_WHITESPACE","\n    ",2310],"{",["T_WHITESPACE","\n        ",2311],["T_RETURN","return",2312],["T_WHITESPACE"," ",2312],["T_VARIABLE","$this",2312],["T_OBJECT_OPERATOR","->",2312],["T_STRING","setData",2312],"(",["T_STRING","OrderPaymentInterface",2312],["T_DOUBLE_COLON","::",2312],["T_STRING","CC_DEBUG_RESPONSE_BODY",2312],",",["T_WHITESPACE"," ",2312],["T_VARIABLE","$ccDebugResponseBody",2312],")",";",["T_WHITESPACE","\n    ",2312],"}",["T_WHITESPACE","\n\n    ",2313],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     * @deprecated unused\n     *\/",2315],["T_WHITESPACE","\n    ",2318],["T_PUBLIC","public",2319],["T_WHITESPACE"," ",2319],["T_FUNCTION","function",2319],["T_WHITESPACE"," ",2319],["T_STRING","setCcSsIssue",2319],"(",["T_VARIABLE","$ccSsIssue",2319],")",["T_WHITESPACE","\n    ",2319],"{",["T_WHITESPACE","\n        ",2320],["T_RETURN","return",2321],["T_WHITESPACE"," ",2321],["T_VARIABLE","$this",2321],["T_OBJECT_OPERATOR","->",2321],["T_STRING","setData",2321],"(",["T_STRING","OrderPaymentInterface",2321],["T_DOUBLE_COLON","::",2321],["T_STRING","CC_SS_ISSUE",2321],",",["T_WHITESPACE"," ",2321],["T_VARIABLE","$ccSsIssue",2321],")",";",["T_WHITESPACE","\n    ",2321],"}",["T_WHITESPACE","\n\n    ",2322],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2324],["T_WHITESPACE","\n    ",2326],["T_PUBLIC","public",2327],["T_WHITESPACE"," ",2327],["T_FUNCTION","function",2327],["T_WHITESPACE"," ",2327],["T_STRING","setEcheckAccountName",2327],"(",["T_VARIABLE","$echeckAccountName",2327],")",["T_WHITESPACE","\n    ",2327],"{",["T_WHITESPACE","\n        ",2328],["T_RETURN","return",2329],["T_WHITESPACE"," ",2329],["T_VARIABLE","$this",2329],["T_OBJECT_OPERATOR","->",2329],["T_STRING","setData",2329],"(",["T_STRING","OrderPaymentInterface",2329],["T_DOUBLE_COLON","::",2329],["T_STRING","ECHECK_ACCOUNT_NAME",2329],",",["T_WHITESPACE"," ",2329],["T_VARIABLE","$echeckAccountName",2329],")",";",["T_WHITESPACE","\n    ",2329],"}",["T_WHITESPACE","\n\n    ",2330],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2332],["T_WHITESPACE","\n    ",2334],["T_PUBLIC","public",2335],["T_WHITESPACE"," ",2335],["T_FUNCTION","function",2335],["T_WHITESPACE"," ",2335],["T_STRING","setCcAvsStatus",2335],"(",["T_VARIABLE","$ccAvsStatus",2335],")",["T_WHITESPACE","\n    ",2335],"{",["T_WHITESPACE","\n        ",2336],["T_RETURN","return",2337],["T_WHITESPACE"," ",2337],["T_VARIABLE","$this",2337],["T_OBJECT_OPERATOR","->",2337],["T_STRING","setData",2337],"(",["T_STRING","OrderPaymentInterface",2337],["T_DOUBLE_COLON","::",2337],["T_STRING","CC_AVS_STATUS",2337],",",["T_WHITESPACE"," ",2337],["T_VARIABLE","$ccAvsStatus",2337],")",";",["T_WHITESPACE","\n    ",2337],"}",["T_WHITESPACE","\n\n    ",2338],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2340],["T_WHITESPACE","\n    ",2342],["T_PUBLIC","public",2343],["T_WHITESPACE"," ",2343],["T_FUNCTION","function",2343],["T_WHITESPACE"," ",2343],["T_STRING","setCcNumberEnc",2343],"(",["T_VARIABLE","$ccNumberEnc",2343],")",["T_WHITESPACE","\n    ",2343],"{",["T_WHITESPACE","\n        ",2344],["T_RETURN","return",2345],["T_WHITESPACE"," ",2345],["T_VARIABLE","$this",2345],["T_OBJECT_OPERATOR","->",2345],["T_STRING","setData",2345],"(",["T_STRING","OrderPaymentInterface",2345],["T_DOUBLE_COLON","::",2345],["T_STRING","CC_NUMBER_ENC",2345],",",["T_WHITESPACE"," ",2345],["T_VARIABLE","$ccNumberEnc",2345],")",";",["T_WHITESPACE","\n    ",2345],"}",["T_WHITESPACE","\n\n    ",2346],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2348],["T_WHITESPACE","\n    ",2350],["T_PUBLIC","public",2351],["T_WHITESPACE"," ",2351],["T_FUNCTION","function",2351],["T_WHITESPACE"," ",2351],["T_STRING","setCcTransId",2351],"(",["T_VARIABLE","$id",2351],")",["T_WHITESPACE","\n    ",2351],"{",["T_WHITESPACE","\n        ",2352],["T_RETURN","return",2353],["T_WHITESPACE"," ",2353],["T_VARIABLE","$this",2353],["T_OBJECT_OPERATOR","->",2353],["T_STRING","setData",2353],"(",["T_STRING","OrderPaymentInterface",2353],["T_DOUBLE_COLON","::",2353],["T_STRING","CC_TRANS_ID",2353],",",["T_WHITESPACE"," ",2353],["T_VARIABLE","$id",2353],")",";",["T_WHITESPACE","\n    ",2353],"}",["T_WHITESPACE","\n\n    ",2354],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",2356],["T_WHITESPACE","\n    ",2358],["T_PUBLIC","public",2359],["T_WHITESPACE"," ",2359],["T_FUNCTION","function",2359],["T_WHITESPACE"," ",2359],["T_STRING","setAddressStatus",2359],"(",["T_VARIABLE","$addressStatus",2359],")",["T_WHITESPACE","\n    ",2359],"{",["T_WHITESPACE","\n        ",2360],["T_RETURN","return",2361],["T_WHITESPACE"," ",2361],["T_VARIABLE","$this",2361],["T_OBJECT_OPERATOR","->",2361],["T_STRING","setData",2361],"(",["T_STRING","OrderPaymentInterface",2361],["T_DOUBLE_COLON","::",2361],["T_STRING","ADDRESS_STATUS",2361],",",["T_WHITESPACE"," ",2361],["T_VARIABLE","$addressStatus",2361],")",";",["T_WHITESPACE","\n    ",2361],"}",["T_WHITESPACE","\n\n    ",2362],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @return \\Magento\\Sales\\Api\\Data\\OrderPaymentExtensionInterface|null\n     *\/",2364],["T_WHITESPACE","\n    ",2368],["T_PUBLIC","public",2369],["T_WHITESPACE"," ",2369],["T_FUNCTION","function",2369],["T_WHITESPACE"," ",2369],["T_STRING","getExtensionAttributes",2369],"(",")",["T_WHITESPACE","\n    ",2369],"{",["T_WHITESPACE","\n        ",2370],["T_RETURN","return",2371],["T_WHITESPACE"," ",2371],["T_VARIABLE","$this",2371],["T_OBJECT_OPERATOR","->",2371],["T_STRING","_getExtensionAttributes",2371],"(",")",";",["T_WHITESPACE","\n    ",2371],"}",["T_WHITESPACE","\n\n    ",2372],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @param \\Magento\\Sales\\Api\\Data\\OrderPaymentExtensionInterface $extensionAttributes\n     * @return $this\n     *\/",2374],["T_WHITESPACE","\n    ",2379],["T_PUBLIC","public",2380],["T_WHITESPACE"," ",2380],["T_FUNCTION","function",2380],["T_WHITESPACE"," ",2380],["T_STRING","setExtensionAttributes",2380],"(",["T_NS_SEPARATOR","\\",2380],["T_STRING","Magento",2380],["T_NS_SEPARATOR","\\",2380],["T_STRING","Sales",2380],["T_NS_SEPARATOR","\\",2380],["T_STRING","Api",2380],["T_NS_SEPARATOR","\\",2380],["T_STRING","Data",2380],["T_NS_SEPARATOR","\\",2380],["T_STRING","OrderPaymentExtensionInterface",2380],["T_WHITESPACE"," ",2380],["T_VARIABLE","$extensionAttributes",2380],")",["T_WHITESPACE","\n    ",2380],"{",["T_WHITESPACE","\n        ",2381],["T_RETURN","return",2382],["T_WHITESPACE"," ",2382],["T_VARIABLE","$this",2382],["T_OBJECT_OPERATOR","->",2382],["T_STRING","_setExtensionAttributes",2382],"(",["T_VARIABLE","$extensionAttributes",2382],")",";",["T_WHITESPACE","\n    ",2382],"}",["T_WHITESPACE","\n\n    ",2383],["T_DOC_COMMENT","\/**\n     * Sets whether transaction is pending\n     *\n     * @param bool|int $flag\n     * @return $this\n     *\/",2385],["T_WHITESPACE","\n    ",2390],["T_PUBLIC","public",2391],["T_WHITESPACE"," ",2391],["T_FUNCTION","function",2391],["T_WHITESPACE"," ",2391],["T_STRING","setIsTransactionPending",2391],"(",["T_VARIABLE","$flag",2391],")",["T_WHITESPACE","\n    ",2391],"{",["T_WHITESPACE","\n        ",2392],["T_VARIABLE","$this",2393],["T_OBJECT_OPERATOR","->",2393],["T_STRING","setData",2393],"(",["T_CONSTANT_ENCAPSED_STRING","'is_transaction_pending'",2393],",",["T_WHITESPACE"," ",2393],["T_BOOL_CAST","(bool)",2393],["T_VARIABLE","$flag",2393],")",";",["T_WHITESPACE","\n        ",2393],["T_RETURN","return",2394],["T_WHITESPACE"," ",2394],["T_VARIABLE","$this",2394],";",["T_WHITESPACE","\n    ",2394],"}",["T_WHITESPACE","\n\n    ",2395],["T_DOC_COMMENT","\/**\n     * Whether transaction is pending\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",2397],["T_WHITESPACE","\n    ",2402],["T_PUBLIC","public",2403],["T_WHITESPACE"," ",2403],["T_FUNCTION","function",2403],["T_WHITESPACE"," ",2403],["T_STRING","getIsTransactionPending",2403],"(",")",["T_WHITESPACE","\n    ",2403],"{",["T_WHITESPACE","\n        ",2404],["T_RETURN","return",2405],["T_WHITESPACE"," ",2405],["T_BOOL_CAST","(bool)",2405],["T_VARIABLE","$this",2405],["T_OBJECT_OPERATOR","->",2405],["T_STRING","getData",2405],"(",["T_CONSTANT_ENCAPSED_STRING","'is_transaction_pending'",2405],")",";",["T_WHITESPACE","\n    ",2405],"}",["T_WHITESPACE","\n\n    ",2406],["T_DOC_COMMENT","\/**\n     * Sets whether fraud was detected\n     *\n     * @param bool|int $flag\n     * @return $this\n     *\/",2408],["T_WHITESPACE","\n    ",2413],["T_PUBLIC","public",2414],["T_WHITESPACE"," ",2414],["T_FUNCTION","function",2414],["T_WHITESPACE"," ",2414],["T_STRING","setIsFraudDetected",2414],"(",["T_VARIABLE","$flag",2414],")",["T_WHITESPACE","\n    ",2414],"{",["T_WHITESPACE","\n        ",2415],["T_VARIABLE","$this",2416],["T_OBJECT_OPERATOR","->",2416],["T_STRING","setData",2416],"(",["T_CONSTANT_ENCAPSED_STRING","'is_fraud_detected'",2416],",",["T_WHITESPACE"," ",2416],["T_BOOL_CAST","(bool)",2416],["T_VARIABLE","$flag",2416],")",";",["T_WHITESPACE","\n        ",2416],["T_RETURN","return",2417],["T_WHITESPACE"," ",2417],["T_VARIABLE","$this",2417],";",["T_WHITESPACE","\n    ",2417],"}",["T_WHITESPACE","\n\n    ",2418],["T_DOC_COMMENT","\/**\n     * Whether fraud was detected\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",2420],["T_WHITESPACE","\n    ",2425],["T_PUBLIC","public",2426],["T_WHITESPACE"," ",2426],["T_FUNCTION","function",2426],["T_WHITESPACE"," ",2426],["T_STRING","getIsFraudDetected",2426],"(",")",["T_WHITESPACE","\n    ",2426],"{",["T_WHITESPACE","\n        ",2427],["T_RETURN","return",2428],["T_WHITESPACE"," ",2428],["T_BOOL_CAST","(bool)",2428],["T_VARIABLE","$this",2428],["T_OBJECT_OPERATOR","->",2428],["T_STRING","getData",2428],"(",["T_CONSTANT_ENCAPSED_STRING","'is_fraud_detected'",2428],")",";",["T_WHITESPACE","\n    ",2428],"}",["T_WHITESPACE","\n\n    ",2429],["T_DOC_COMMENT","\/**\n     * Sets whether should close parent transaction\n     *\n     * @param int|bool $flag\n     * @return $this\n     *\/",2431],["T_WHITESPACE","\n    ",2436],["T_PUBLIC","public",2437],["T_WHITESPACE"," ",2437],["T_FUNCTION","function",2437],["T_WHITESPACE"," ",2437],["T_STRING","setShouldCloseParentTransaction",2437],"(",["T_VARIABLE","$flag",2437],")",["T_WHITESPACE","\n    ",2437],"{",["T_WHITESPACE","\n        ",2438],["T_VARIABLE","$this",2439],["T_OBJECT_OPERATOR","->",2439],["T_STRING","setData",2439],"(",["T_CONSTANT_ENCAPSED_STRING","'should_close_parent_transaction'",2439],",",["T_WHITESPACE"," ",2439],["T_BOOL_CAST","(bool)",2439],["T_VARIABLE","$flag",2439],")",";",["T_WHITESPACE","\n        ",2439],["T_RETURN","return",2440],["T_WHITESPACE"," ",2440],["T_VARIABLE","$this",2440],";",["T_WHITESPACE","\n    ",2440],"}",["T_WHITESPACE","\n\n    ",2441],["T_DOC_COMMENT","\/**\n     * Whether should close parent transaction\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",2443],["T_WHITESPACE","\n    ",2448],["T_PUBLIC","public",2449],["T_WHITESPACE"," ",2449],["T_FUNCTION","function",2449],["T_WHITESPACE"," ",2449],["T_STRING","getShouldCloseParentTransaction",2449],"(",")",["T_WHITESPACE","\n    ",2449],"{",["T_WHITESPACE","\n        ",2450],["T_RETURN","return",2451],["T_WHITESPACE"," ",2451],["T_BOOL_CAST","(bool)",2451],["T_VARIABLE","$this",2451],["T_OBJECT_OPERATOR","->",2451],["T_STRING","getData",2451],"(",["T_CONSTANT_ENCAPSED_STRING","'should_close_parent_transaction'",2451],")",";",["T_WHITESPACE","\n    ",2451],"}",["T_WHITESPACE","\n\n    ",2452],["T_DOC_COMMENT","\/**\n     * Set payment parent transaction id and current transaction id if it not set\n     * @param Transaction $transaction\n     * @return void\n     *\/",2454],["T_WHITESPACE","\n    ",2458],["T_PRIVATE","private",2459],["T_WHITESPACE"," ",2459],["T_FUNCTION","function",2459],["T_WHITESPACE"," ",2459],["T_STRING","setTransactionIdsForRefund",2459],"(",["T_STRING","Transaction",2459],["T_WHITESPACE"," ",2459],["T_VARIABLE","$transaction",2459],")",["T_WHITESPACE","\n    ",2459],"{",["T_WHITESPACE","\n        ",2460],["T_IF","if",2461],["T_WHITESPACE"," ",2461],"(","!",["T_VARIABLE","$this",2461],["T_OBJECT_OPERATOR","->",2461],["T_STRING","getTransactionId",2461],"(",")",")",["T_WHITESPACE"," ",2461],"{",["T_WHITESPACE","\n            ",2461],["T_VARIABLE","$this",2462],["T_OBJECT_OPERATOR","->",2462],["T_STRING","setTransactionId",2462],"(",["T_WHITESPACE","\n                ",2462],["T_VARIABLE","$this",2463],["T_OBJECT_OPERATOR","->",2463],["T_STRING","transactionManager",2463],["T_OBJECT_OPERATOR","->",2463],["T_STRING","generateTransactionId",2463],"(",["T_WHITESPACE","\n                    ",2463],["T_VARIABLE","$this",2464],",",["T_WHITESPACE","\n                    ",2464],["T_STRING","Transaction",2465],["T_DOUBLE_COLON","::",2465],["T_STRING","TYPE_REFUND",2465],",",["T_WHITESPACE","\n                    ",2465],["T_VARIABLE","$transaction",2466],["T_WHITESPACE","\n                ",2466],")",["T_WHITESPACE","\n            ",2467],")",";",["T_WHITESPACE","\n        ",2468],"}",["T_WHITESPACE","\n        ",2469],["T_VARIABLE","$this",2470],["T_OBJECT_OPERATOR","->",2470],["T_STRING","setParentTransactionId",2470],"(",["T_VARIABLE","$transaction",2470],["T_OBJECT_OPERATOR","->",2470],["T_STRING","getTxnId",2470],"(",")",")",";",["T_WHITESPACE","\n    ",2470],"}",["T_WHITESPACE","\n\n    ",2471],["T_COMMENT","\/\/@codeCoverageIgnoreEnd\n",2473],"}",["T_WHITESPACE","\n",2474]]