[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Creditmemo",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Sales",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CreditmemoInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","OrderInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sales",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Order",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Creditmemo",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","RefundOperation",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Event\\ManagerInterface\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PRIVATE","private",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$eventManager",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Pricing\\PriceCurrencyInterface\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$priceCurrency",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Pricing\\PriceCurrencyInterface $priceCurrency\n     *\/",24],["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","__construct",28],"(",["T_WHITESPACE","\n        ",28],["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Framework",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Model",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Context",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$context",29],",",["T_WHITESPACE","\n        ",29],["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Framework",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Pricing",30],["T_NS_SEPARATOR","\\",30],["T_STRING","PriceCurrencyInterface",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$priceCurrency",30],["T_WHITESPACE","\n    ",30],")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","eventManager",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$context",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getEventDispatcher",32],"(",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","priceCurrency",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$priceCurrency",33],";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @param CreditmemoInterface $creditmemo\n     * @param OrderInterface $order\n     * @param bool $online\n     * @return OrderInterface\n     *\/",36],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","execute",42],"(",["T_STRING","CreditmemoInterface",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$creditmemo",42],",",["T_WHITESPACE"," ",42],["T_STRING","OrderInterface",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$order",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$online",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","false",42],")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$creditmemo",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getState",44],"(",")",["T_WHITESPACE"," ",44],["T_IS_EQUAL","==",44],["T_WHITESPACE"," ",44],["T_STRING","Creditmemo",44],["T_DOUBLE_COLON","::",44],["T_STRING","STATE_REFUNDED",44],["T_WHITESPACE","\n            ",44],["T_BOOLEAN_AND","&&",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$creditmemo",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getOrderId",45],"(",")",["T_WHITESPACE"," ",45],["T_IS_EQUAL","==",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$order",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getEntityId",45],"(",")",["T_WHITESPACE","\n        ",45],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n            ",46],["T_FOREACH","foreach",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$creditmemo",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getItems",47],"(",")",["T_WHITESPACE"," ",47],["T_AS","as",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$item",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n                ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$item",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","isDeleted",48],"(",")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n                    ",48],["T_CONTINUE","continue",49],";",["T_WHITESPACE","\n                ",49],"}",["T_WHITESPACE","\n                ",50],["T_VARIABLE","$item",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","setCreditMemo",51],"(",["T_VARIABLE","$creditmemo",51],")",";",["T_WHITESPACE","\n                ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$item",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getQty",52],"(",")",["T_WHITESPACE"," ",52],">",["T_WHITESPACE"," ",52],["T_LNUMBER","0",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                    ",52],["T_VARIABLE","$item",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","register",53],"(",")",";",["T_WHITESPACE","\n                ",53],"}",["T_WHITESPACE"," ",54],["T_ELSE","else",54],["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n                    ",54],["T_VARIABLE","$item",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","isDeleted",55],"(",["T_STRING","true",55],")",";",["T_WHITESPACE","\n                ",55],"}",["T_WHITESPACE","\n            ",56],"}",["T_WHITESPACE","\n\n            ",57],["T_VARIABLE","$baseOrderRefund",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","priceCurrency",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","round",59],"(",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$order",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getBaseTotalRefunded",60],"(",")",["T_WHITESPACE"," ",60],"+",["T_WHITESPACE"," ",60],["T_VARIABLE","$creditmemo",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getBaseGrandTotal",60],"(",")",["T_WHITESPACE","\n            ",60],")",";",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$orderRefund",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","priceCurrency",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","round",62],"(",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$order",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getTotalRefunded",63],"(",")",["T_WHITESPACE"," ",63],"+",["T_WHITESPACE"," ",63],["T_VARIABLE","$creditmemo",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getGrandTotal",63],"(",")",["T_WHITESPACE","\n            ",63],")",";",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$order",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setBaseTotalRefunded",65],"(",["T_VARIABLE","$baseOrderRefund",65],")",";",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$order",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setTotalRefunded",66],"(",["T_VARIABLE","$orderRefund",66],")",";",["T_WHITESPACE","\n\n            ",66],["T_VARIABLE","$order",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setBaseSubtotalRefunded",68],"(",["T_VARIABLE","$order",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getBaseSubtotalRefunded",68],"(",")",["T_WHITESPACE"," ",68],"+",["T_WHITESPACE"," ",68],["T_VARIABLE","$creditmemo",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getBaseSubtotal",68],"(",")",")",";",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$order",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setSubtotalRefunded",69],"(",["T_VARIABLE","$order",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getSubtotalRefunded",69],"(",")",["T_WHITESPACE"," ",69],"+",["T_WHITESPACE"," ",69],["T_VARIABLE","$creditmemo",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getSubtotal",69],"(",")",")",";",["T_WHITESPACE","\n\n            ",69],["T_VARIABLE","$order",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setBaseTaxRefunded",71],"(",["T_VARIABLE","$order",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getBaseTaxRefunded",71],"(",")",["T_WHITESPACE"," ",71],"+",["T_WHITESPACE"," ",71],["T_VARIABLE","$creditmemo",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getBaseTaxAmount",71],"(",")",")",";",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$order",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","setTaxRefunded",72],"(",["T_VARIABLE","$order",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getTaxRefunded",72],"(",")",["T_WHITESPACE"," ",72],"+",["T_WHITESPACE"," ",72],["T_VARIABLE","$creditmemo",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getTaxAmount",72],"(",")",")",";",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$order",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setBaseDiscountTaxCompensationRefunded",73],"(",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$order",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getBaseDiscountTaxCompensationRefunded",74],"(",")",["T_WHITESPACE"," ",74],"+",["T_WHITESPACE"," ",74],["T_VARIABLE","$creditmemo",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getBaseDiscountTaxCompensationAmount",74],"(",")",["T_WHITESPACE","\n            ",74],")",";",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$order",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","setDiscountTaxCompensationRefunded",76],"(",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$order",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getDiscountTaxCompensationRefunded",77],"(",")",["T_WHITESPACE"," ",77],"+",["T_WHITESPACE"," ",77],["T_VARIABLE","$creditmemo",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getDiscountTaxCompensationAmount",77],"(",")",["T_WHITESPACE","\n            ",77],")",";",["T_WHITESPACE","\n\n            ",78],["T_VARIABLE","$order",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setBaseShippingRefunded",80],"(",["T_VARIABLE","$order",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getBaseShippingRefunded",80],"(",")",["T_WHITESPACE"," ",80],"+",["T_WHITESPACE"," ",80],["T_VARIABLE","$creditmemo",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getBaseShippingAmount",80],"(",")",")",";",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$order",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setShippingRefunded",81],"(",["T_VARIABLE","$order",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getShippingRefunded",81],"(",")",["T_WHITESPACE"," ",81],"+",["T_WHITESPACE"," ",81],["T_VARIABLE","$creditmemo",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getShippingAmount",81],"(",")",")",";",["T_WHITESPACE","\n\n            ",81],["T_VARIABLE","$order",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setBaseShippingTaxRefunded",83],"(",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$order",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getBaseShippingTaxRefunded",84],"(",")",["T_WHITESPACE"," ",84],"+",["T_WHITESPACE"," ",84],["T_VARIABLE","$creditmemo",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getBaseShippingTaxAmount",84],"(",")",["T_WHITESPACE","\n            ",84],")",";",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$order",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setShippingTaxRefunded",86],"(",["T_VARIABLE","$order",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getShippingTaxRefunded",86],"(",")",["T_WHITESPACE"," ",86],"+",["T_WHITESPACE"," ",86],["T_VARIABLE","$creditmemo",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getShippingTaxAmount",86],"(",")",")",";",["T_WHITESPACE","\n\n            ",86],["T_VARIABLE","$order",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setAdjustmentPositive",88],"(",["T_VARIABLE","$order",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getAdjustmentPositive",88],"(",")",["T_WHITESPACE"," ",88],"+",["T_WHITESPACE"," ",88],["T_VARIABLE","$creditmemo",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getAdjustmentPositive",88],"(",")",")",";",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$order",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setBaseAdjustmentPositive",89],"(",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$order",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getBaseAdjustmentPositive",90],"(",")",["T_WHITESPACE"," ",90],"+",["T_WHITESPACE"," ",90],["T_VARIABLE","$creditmemo",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getBaseAdjustmentPositive",90],"(",")",["T_WHITESPACE","\n            ",90],")",";",["T_WHITESPACE","\n\n            ",91],["T_VARIABLE","$order",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setAdjustmentNegative",93],"(",["T_VARIABLE","$order",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getAdjustmentNegative",93],"(",")",["T_WHITESPACE"," ",93],"+",["T_WHITESPACE"," ",93],["T_VARIABLE","$creditmemo",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getAdjustmentNegative",93],"(",")",")",";",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$order",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","setBaseAdjustmentNegative",94],"(",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$order",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getBaseAdjustmentNegative",95],"(",")",["T_WHITESPACE"," ",95],"+",["T_WHITESPACE"," ",95],["T_VARIABLE","$creditmemo",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getBaseAdjustmentNegative",95],"(",")",["T_WHITESPACE","\n            ",95],")",";",["T_WHITESPACE","\n\n            ",96],["T_VARIABLE","$order",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setDiscountRefunded",98],"(",["T_VARIABLE","$order",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getDiscountRefunded",98],"(",")",["T_WHITESPACE"," ",98],"+",["T_WHITESPACE"," ",98],["T_VARIABLE","$creditmemo",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getDiscountAmount",98],"(",")",")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$order",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setBaseDiscountRefunded",99],"(",["T_VARIABLE","$order",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getBaseDiscountRefunded",99],"(",")",["T_WHITESPACE"," ",99],"+",["T_WHITESPACE"," ",99],["T_VARIABLE","$creditmemo",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getBaseDiscountAmount",99],"(",")",")",";",["T_WHITESPACE","\n\n            ",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$online",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$order",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","setTotalOnlineRefunded",102],"(",["T_VARIABLE","$order",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getTotalOnlineRefunded",102],"(",")",["T_WHITESPACE"," ",102],"+",["T_WHITESPACE"," ",102],["T_VARIABLE","$creditmemo",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getGrandTotal",102],"(",")",")",";",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$order",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","setBaseTotalOnlineRefunded",103],"(",["T_WHITESPACE","\n                    ",103],["T_VARIABLE","$order",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getBaseTotalOnlineRefunded",104],"(",")",["T_WHITESPACE"," ",104],"+",["T_WHITESPACE"," ",104],["T_VARIABLE","$creditmemo",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getBaseGrandTotal",104],"(",")",["T_WHITESPACE","\n                ",104],")",";",["T_WHITESPACE","\n            ",105],"}",["T_WHITESPACE"," ",106],["T_ELSE","else",106],["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$order",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","setTotalOfflineRefunded",107],"(",["T_VARIABLE","$order",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getTotalOfflineRefunded",107],"(",")",["T_WHITESPACE"," ",107],"+",["T_WHITESPACE"," ",107],["T_VARIABLE","$creditmemo",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getGrandTotal",107],"(",")",")",";",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$order",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setBaseTotalOfflineRefunded",108],"(",["T_WHITESPACE","\n                    ",108],["T_VARIABLE","$order",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getBaseTotalOfflineRefunded",109],"(",")",["T_WHITESPACE"," ",109],"+",["T_WHITESPACE"," ",109],["T_VARIABLE","$creditmemo",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getBaseGrandTotal",109],"(",")",["T_WHITESPACE","\n                ",109],")",";",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE","\n\n            ",111],["T_VARIABLE","$order",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setBaseTotalInvoicedCost",113],"(",["T_WHITESPACE","\n                ",113],["T_VARIABLE","$order",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getBaseTotalInvoicedCost",114],"(",")",["T_WHITESPACE"," ",114],"-",["T_WHITESPACE"," ",114],["T_VARIABLE","$creditmemo",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getBaseCost",114],"(",")",["T_WHITESPACE","\n            ",114],")",";",["T_WHITESPACE","\n\n            ",115],["T_VARIABLE","$creditmemo",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setDoTransaction",117],"(",["T_VARIABLE","$online",117],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$order",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getPayment",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","refund",118],"(",["T_VARIABLE","$creditmemo",118],")",";",["T_WHITESPACE","\n\n            ",118],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","eventManager",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","dispatch",120],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_creditmemo_refund'",120],",",["T_WHITESPACE"," ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$creditmemo",120],"]",")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n\n        ",121],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$order",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n",124],"}",["T_WHITESPACE","\n",125]]