[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Rss",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceConnection",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Order Rss Resource Model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","OrderStatus",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var Resource\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_resource",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @param ResourceConnection $resource\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","__construct",25],"(",["T_STRING","ResourceConnection",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$resource",25],")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","_resource",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$resource",27],";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Retrieve order comments\n     *\n     * @param int $orderId\n     * @return array\n     *\/",30],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","getAllCommentCollection",36],"(",["T_VARIABLE","$orderId",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_DOC_COMMENT","\/** @var $resource \\Magento\\Framework\\App\\ResourceConnection *\/",38],["T_WHITESPACE","\n        ",38],["T_VARIABLE","$resource",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_resource",39],";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$read",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$resource",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getConnection",40],"(",")",";",["T_WHITESPACE","\n\n        ",40],["T_VARIABLE","$fields",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'notified'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'is_customer_notified'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'comment'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'created_at'",42],"]",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$commentSelects",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"[","]",";",["T_WHITESPACE","\n        ",43],["T_FOREACH","foreach",44],["T_WHITESPACE"," ",44],"(","[",["T_CONSTANT_ENCAPSED_STRING","'invoice'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'shipment'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",44],"]",["T_WHITESPACE"," ",44],["T_AS","as",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$entityTypeCode",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$mainTable",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$resource",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getTableName",45],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_'",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_VARIABLE","$entityTypeCode",45],")",";",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$slaveTable",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$resource",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getTableName",46],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_'",46],["T_WHITESPACE"," ",46],".",["T_WHITESPACE"," ",46],["T_VARIABLE","$entityTypeCode",46],["T_WHITESPACE"," ",46],".",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'_comment'",46],")",";",["T_WHITESPACE","\n            ",46],["T_VARIABLE","$select",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$read",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","select",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","from",47],"(",["T_WHITESPACE","\n                ",47],"[",["T_CONSTANT_ENCAPSED_STRING","'main'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$mainTable",48],"]",",",["T_WHITESPACE","\n                ",48],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'order_id'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'entity_type_code'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Zend_Db_Expr",49],"(","\"",["T_ENCAPSED_AND_WHITESPACE","'",49],["T_CURLY_OPEN","{",49],["T_VARIABLE","$entityTypeCode",49],"}",["T_ENCAPSED_AND_WHITESPACE","'",49],"\"",")","]",["T_WHITESPACE","\n            ",49],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","join",50],"(",["T_WHITESPACE","\n                ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'slave'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$slaveTable",51],"]",",",["T_WHITESPACE","\n                ",51],["T_CONSTANT_ENCAPSED_STRING","'main.entity_id = slave.parent_id'",52],",",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$fields",53],["T_WHITESPACE","\n            ",53],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","where",54],"(",["T_WHITESPACE","\n                ",54],["T_CONSTANT_ENCAPSED_STRING","'main.order_id = ?'",55],",",["T_WHITESPACE","\n                ",55],["T_VARIABLE","$orderId",56],["T_WHITESPACE","\n            ",56],")",";",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$commentSelects",58],"[","]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'('",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_VARIABLE","$select",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","')'",58],";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$select",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$read",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","select",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","from",60],"(",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$resource",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getTableName",61],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_status_history'",61],")",",",["T_WHITESPACE","\n            ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'entity_type_code'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Zend_Db_Expr",62],"(",["T_CONSTANT_ENCAPSED_STRING","\"'order'\"",62],")","]",["T_WHITESPACE"," ",62],"+",["T_WHITESPACE"," ",62],["T_VARIABLE","$fields",62],["T_WHITESPACE","\n        ",62],")",["T_OBJECT_OPERATOR","->",63],["T_STRING","where",63],"(",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'parent_id = ?'",64],",",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$orderId",65],["T_WHITESPACE","\n        ",65],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","where",66],"(",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","'is_visible_on_front > 0'",67],["T_WHITESPACE","\n        ",67],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$commentSelects",69],"[","]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'('",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_VARIABLE","$select",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","')'",69],";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$commentSelect",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$read",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","select",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","union",71],"(",["T_VARIABLE","$commentSelects",71],",",["T_WHITESPACE"," ",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","DB",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Select",71],["T_DOUBLE_COLON","::",71],["T_STRING","SQL_UNION_ALL",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$select",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$read",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","select",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","from",73],"(",["T_WHITESPACE","\n            ",73],"[",["T_CONSTANT_ENCAPSED_STRING","'orders'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$resource",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getTableName",74],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",74],")","]",",",["T_WHITESPACE","\n            ",74],"[",["T_CONSTANT_ENCAPSED_STRING","'increment_id'",75],"]",["T_WHITESPACE","\n        ",75],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","join",76],"(",["T_WHITESPACE","\n            ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'t'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$commentSelect",77],"]",",",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'t.entity_id = orders.entity_id'",78],["T_WHITESPACE","\n        ",78],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","order",79],"(",["T_WHITESPACE","\n            ",79],["T_CONSTANT_ENCAPSED_STRING","'orders.created_at desc'",80],["T_WHITESPACE","\n        ",80],")",";",["T_WHITESPACE","\n\n        ",81],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$read",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","fetchAll",83],"(",["T_VARIABLE","$select",83],")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n",84],"}",["T_WHITESPACE","\n",85]]