[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Invoice",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Invoice pay operation.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","PayOperation",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Event\\ManagerInterface\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PRIVATE","private",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$eventManager",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","__construct",21],"(",["T_WHITESPACE","\n        ",21],["T_NS_SEPARATOR","\\",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Framework",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Context",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$context",22],["T_WHITESPACE","\n    ",22],")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n        ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","eventManager",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$context",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","getEventDispatcher",24],"(",")",";",["T_WHITESPACE","\n    ",24],"}",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Sales\\Api\\Data\\OrderInterface $order\n     * @param \\Magento\\Sales\\Api\\Data\\InvoiceInterface $invoice\n     * @param bool $capture\n     *\n     * @return \\Magento\\Sales\\Api\\Data\\OrderInterface\n     *\/",27],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","execute",34],"(",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Sales",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Api",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Data",35],["T_NS_SEPARATOR","\\",35],["T_STRING","OrderInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$order",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Sales",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Api",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Data",36],["T_NS_SEPARATOR","\\",36],["T_STRING","InvoiceInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$invoice",36],",",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$capture",37],["T_WHITESPACE","\n    ",37],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","calculateOrderItemsTotals",39],"(",["T_WHITESPACE","\n            ",39],["T_VARIABLE","$invoice",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getItems",40],"(",")",["T_WHITESPACE","\n        ",40],")",";",["T_WHITESPACE","\n\n        ",41],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","canCapture",43],"(",["T_VARIABLE","$order",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$invoice",43],")",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$capture",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n                ",44],["T_VARIABLE","$invoice",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","capture",45],"(",")",";",["T_WHITESPACE","\n            ",45],"}",["T_WHITESPACE"," ",46],["T_ELSE","else",46],["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n                ",46],["T_VARIABLE","$invoice",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setCanVoidFlag",47],"(",["T_STRING","false",47],")",";",["T_WHITESPACE","\n\n                ",47],["T_VARIABLE","$invoice",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","pay",49],"(",")",";",["T_WHITESPACE","\n            ",49],"}",["T_WHITESPACE","\n        ",50],"}",["T_WHITESPACE"," ",51],["T_ELSEIF","elseif",51],["T_WHITESPACE"," ",51],"(","!",["T_VARIABLE","$order",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getPayment",51],"(",")",["T_OBJECT_OPERATOR","->",51],["T_STRING","getMethodInstance",51],"(",")",["T_OBJECT_OPERATOR","->",51],["T_STRING","isGateway",51],"(",")",["T_WHITESPACE"," ",51],["T_BOOLEAN_OR","||",51],["T_WHITESPACE"," ",51],"!",["T_VARIABLE","$capture",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(","!",["T_VARIABLE","$order",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getPayment",52],"(",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","getIsTransactionPending",52],"(",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$invoice",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","setCanVoidFlag",53],"(",["T_STRING","false",53],")",";",["T_WHITESPACE","\n\n                ",53],["T_VARIABLE","$invoice",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","pay",55],"(",")",";",["T_WHITESPACE","\n            ",55],"}",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","calculateOrderTotals",59],"(",["T_VARIABLE","$order",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$invoice",59],")",";",["T_WHITESPACE","\n\n        ",59],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_STRING","null",61],["T_WHITESPACE"," ",61],["T_IS_IDENTICAL","===",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$invoice",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getState",61],"(",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$invoice",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setState",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Sales",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Model",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Order",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Invoice",62],["T_DOUBLE_COLON","::",62],["T_STRING","STATE_OPEN",62],")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","eventManager",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","dispatch",65],"(",["T_WHITESPACE","\n            ",65],["T_CONSTANT_ENCAPSED_STRING","'sales_order_invoice_register'",66],",",["T_WHITESPACE","\n            ",66],"[",["T_CONSTANT_ENCAPSED_STRING","'invoice'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$invoice",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'order'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$order",67],"]",["T_WHITESPACE","\n        ",67],")",";",["T_WHITESPACE","\n\n        ",68],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$order",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Calculates totals of Order Items according to given Invoice Items.\n     *\n     * @param \\Magento\\Sales\\Api\\Data\\InvoiceItemInterface[] $items\n     *\n     * @return void\n     *\/",73],["T_WHITESPACE","\n    ",79],["T_PRIVATE","private",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","calculateOrderItemsTotals",80],"(",["T_VARIABLE","$items",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_FOREACH","foreach",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$items",82],["T_WHITESPACE"," ",82],["T_AS","as",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$item",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$item",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isDeleted",83],"(",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                ",83],["T_CONTINUE","continue",84],";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n\n            ",85],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$item",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getQty",87],"(",")",["T_WHITESPACE"," ",87],">",["T_WHITESPACE"," ",87],["T_LNUMBER","0",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$item",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","register",88],"(",")",";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE"," ",89],["T_ELSE","else",89],["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$item",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","isDeleted",90],"(",["T_STRING","true",90],")",";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Checks Invoice capture action availability.\n     *\n     * @param \\Magento\\Sales\\Api\\Data\\OrderInterface $order\n     * @param \\Magento\\Sales\\Api\\Data\\InvoiceInterface $invoice\n     *\n     * @return bool\n     *\/",95],["T_WHITESPACE","\n    ",102],["T_PRIVATE","private",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","canCapture",103],"(",["T_WHITESPACE","\n        ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Sales",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Api",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Data",104],["T_NS_SEPARATOR","\\",104],["T_STRING","OrderInterface",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$order",104],",",["T_WHITESPACE","\n        ",104],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Sales",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Api",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Data",105],["T_NS_SEPARATOR","\\",105],["T_STRING","InvoiceInterface",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$invoice",105],["T_WHITESPACE","\n    ",105],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$invoice",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getState",107],"(",")",["T_WHITESPACE"," ",107],["T_IS_NOT_EQUAL","!=",107],["T_WHITESPACE"," ",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Sales",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Model",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Order",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Invoice",107],["T_DOUBLE_COLON","::",107],["T_STRING","STATE_CANCELED",107],["T_WHITESPACE"," ",107],["T_BOOLEAN_AND","&&",107],["T_WHITESPACE","\n        ",107],["T_VARIABLE","$invoice",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getState",108],"(",")",["T_WHITESPACE"," ",108],["T_IS_NOT_EQUAL","!=",108],["T_WHITESPACE"," ",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Sales",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Model",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Order",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Invoice",108],["T_DOUBLE_COLON","::",108],["T_STRING","STATE_PAID",108],["T_WHITESPACE"," ",108],["T_BOOLEAN_AND","&&",108],["T_WHITESPACE","\n        ",108],["T_VARIABLE","$order",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getPayment",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","canCapture",109],"(",")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Calculates Order totals according to given Invoice.\n     *\n     * @param \\Magento\\Sales\\Api\\Data\\OrderInterface $order\n     * @param \\Magento\\Sales\\Api\\Data\\InvoiceInterface $invoice\n     *\n     * @return void\n     *\/",112],["T_WHITESPACE","\n    ",119],["T_PRIVATE","private",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","calculateOrderTotals",120],"(",["T_WHITESPACE","\n        ",120],["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Sales",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Api",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Data",121],["T_NS_SEPARATOR","\\",121],["T_STRING","OrderInterface",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$order",121],",",["T_WHITESPACE","\n        ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Sales",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Api",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Data",122],["T_NS_SEPARATOR","\\",122],["T_STRING","InvoiceInterface",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$invoice",122],["T_WHITESPACE","\n    ",122],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$order",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","setTotalInvoiced",124],"(",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$order",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getTotalInvoiced",125],"(",")",["T_WHITESPACE"," ",125],"+",["T_WHITESPACE"," ",125],["T_VARIABLE","$invoice",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getGrandTotal",125],"(",")",["T_WHITESPACE","\n        ",125],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$order",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","setBaseTotalInvoiced",127],"(",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$order",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getBaseTotalInvoiced",128],"(",")",["T_WHITESPACE"," ",128],"+",["T_WHITESPACE"," ",128],["T_VARIABLE","$invoice",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getBaseGrandTotal",128],"(",")",["T_WHITESPACE","\n        ",128],")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$order",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setSubtotalInvoiced",131],"(",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$order",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getSubtotalInvoiced",132],"(",")",["T_WHITESPACE"," ",132],"+",["T_WHITESPACE"," ",132],["T_VARIABLE","$invoice",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getSubtotal",132],"(",")",["T_WHITESPACE","\n        ",132],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$order",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setBaseSubtotalInvoiced",134],"(",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$order",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getBaseSubtotalInvoiced",135],"(",")",["T_WHITESPACE"," ",135],"+",["T_WHITESPACE"," ",135],["T_VARIABLE","$invoice",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getBaseSubtotal",135],"(",")",["T_WHITESPACE","\n        ",135],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$order",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setTaxInvoiced",138],"(",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$order",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getTaxInvoiced",139],"(",")",["T_WHITESPACE"," ",139],"+",["T_WHITESPACE"," ",139],["T_VARIABLE","$invoice",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getTaxAmount",139],"(",")",["T_WHITESPACE","\n        ",139],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$order",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setBaseTaxInvoiced",141],"(",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$order",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getBaseTaxInvoiced",142],"(",")",["T_WHITESPACE"," ",142],"+",["T_WHITESPACE"," ",142],["T_VARIABLE","$invoice",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getBaseTaxAmount",142],"(",")",["T_WHITESPACE","\n        ",142],")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$order",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setDiscountTaxCompensationInvoiced",145],"(",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$order",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getDiscountTaxCompensationInvoiced",146],"(",")",["T_WHITESPACE"," ",146],"+",["T_WHITESPACE"," ",146],["T_VARIABLE","$invoice",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getDiscountTaxCompensationAmount",146],"(",")",["T_WHITESPACE","\n        ",146],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$order",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setBaseDiscountTaxCompensationInvoiced",148],"(",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$order",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getBaseDiscountTaxCompensationInvoiced",149],"(",")",["T_WHITESPACE"," ",149],"+",["T_WHITESPACE"," ",149],["T_VARIABLE","$invoice",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getBaseDiscountTaxCompensationAmount",149],"(",")",["T_WHITESPACE","\n        ",149],")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$order",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setShippingTaxInvoiced",152],"(",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$order",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getShippingTaxInvoiced",153],"(",")",["T_WHITESPACE"," ",153],"+",["T_WHITESPACE"," ",153],["T_VARIABLE","$invoice",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getShippingTaxAmount",153],"(",")",["T_WHITESPACE","\n        ",153],")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$order",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setBaseShippingTaxInvoiced",155],"(",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$order",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getBaseShippingTaxInvoiced",156],"(",")",["T_WHITESPACE"," ",156],"+",["T_WHITESPACE"," ",156],["T_VARIABLE","$invoice",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getBaseShippingTaxAmount",156],"(",")",["T_WHITESPACE","\n        ",156],")",";",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$order",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","setShippingInvoiced",159],"(",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$order",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getShippingInvoiced",160],"(",")",["T_WHITESPACE"," ",160],"+",["T_WHITESPACE"," ",160],["T_VARIABLE","$invoice",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getShippingAmount",160],"(",")",["T_WHITESPACE","\n        ",160],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$order",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","setBaseShippingInvoiced",162],"(",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$order",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getBaseShippingInvoiced",163],"(",")",["T_WHITESPACE"," ",163],"+",["T_WHITESPACE"," ",163],["T_VARIABLE","$invoice",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getBaseShippingAmount",163],"(",")",["T_WHITESPACE","\n        ",163],")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$order",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setDiscountInvoiced",166],"(",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$order",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getDiscountInvoiced",167],"(",")",["T_WHITESPACE"," ",167],"+",["T_WHITESPACE"," ",167],["T_VARIABLE","$invoice",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getDiscountAmount",167],"(",")",["T_WHITESPACE","\n        ",167],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$order",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setBaseDiscountInvoiced",169],"(",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$order",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getBaseDiscountInvoiced",170],"(",")",["T_WHITESPACE"," ",170],"+",["T_WHITESPACE"," ",170],["T_VARIABLE","$invoice",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getBaseDiscountAmount",170],"(",")",["T_WHITESPACE","\n        ",170],")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$order",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","setBaseTotalInvoicedCost",173],"(",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$order",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getBaseTotalInvoicedCost",174],"(",")",["T_WHITESPACE"," ",174],"+",["T_WHITESPACE"," ",174],["T_VARIABLE","$invoice",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getBaseCost",174],"(",")",["T_WHITESPACE","\n        ",174],")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n",176],"}",["T_WHITESPACE","\n",177]]