[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LocalizedException",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Class Status\n *\n * @method string getStatus()\n * @method string getLabel()\n *\/",10],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Status",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Sales",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractModel",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_storeManager",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Api\\ExtensionAttributesFactory $extensionFactory\n     * @param \\Magento\\Framework\\Api\\AttributeValueFactory $customAttributeFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     *\/",23],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Context",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$context",34],",",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Registry",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$registry",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Api",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ExtensionAttributesFactory",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$extensionFactory",36],",",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Framework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Api",37],["T_NS_SEPARATOR","\\",37],["T_STRING","AttributeValueFactory",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$customAttributeFactory",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Store",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Model",38],["T_NS_SEPARATOR","\\",38],["T_STRING","StoreManagerInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$storeManager",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","ResourceModel",39],["T_NS_SEPARATOR","\\",39],["T_STRING","AbstractResource",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$resource",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],",",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Data",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Collection",40],["T_NS_SEPARATOR","\\",40],["T_STRING","AbstractDb",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$resourceCollection",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","null",40],",",["T_WHITESPACE","\n        ",40],["T_ARRAY","array",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$data",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[","]",["T_WHITESPACE","\n    ",41],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n        ",42],["T_STRING","parent",43],["T_DOUBLE_COLON","::",43],["T_STRING","__construct",43],"(",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$context",44],",",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$registry",45],",",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$extensionFactory",46],",",["T_WHITESPACE","\n            ",46],["T_VARIABLE","$customAttributeFactory",47],",",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$resource",48],",",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$resourceCollection",49],",",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$data",50],["T_WHITESPACE","\n        ",50],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_storeManager",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$storeManager",52],";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","_construct",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_init",60],"(",["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Sales",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Model",60],["T_NS_SEPARATOR","\\",60],["T_STRING","ResourceModel",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Order",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Status",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Assign order status to particular state\n     *\n     * @param string $state\n     * @param bool $isDefault make the status as default one for state\n     * @param bool $visibleOnFront\n     * @return $this\n     * @throws \\Exception\n     *\/",63],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","assignState",72],"(",["T_VARIABLE","$state",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$isDefault",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","false",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$visibleOnFront",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","false",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\ResourceModel\\Order\\Status $resource *\/",74],["T_WHITESPACE","\n        ",74],["T_VARIABLE","$resource",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_getResource",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$resource",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","beginTransaction",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_TRY","try",77],["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$resource",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assignState",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getStatus",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$state",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$isDefault",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$visibleOnFront",78],")",";",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$resource",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","commit",79],"(",")",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE"," ",80],["T_CATCH","catch",80],["T_WHITESPACE"," ",80],"(",["T_NS_SEPARATOR","\\",80],["T_STRING","Exception",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$e",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$resource",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","rollBack",81],"(",")",";",["T_WHITESPACE","\n            ",81],["T_THROW","throw",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$e",82],";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * @param string $state\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","validateBeforeUnassign",92],"(",["T_VARIABLE","$state",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getResource",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","checkIsStateLast",94],"(",["T_VARIABLE","$state",94],")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_THROW","throw",95],["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","LocalizedException",95],"(",["T_STRING","__",95],"(",["T_CONSTANT_ENCAPSED_STRING","'The last status can\\'t be unassigned from its current state.'",95],")",")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getResource",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","checkIsStatusUsed",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getStatus",97],"(",")",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_THROW","throw",98],["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","LocalizedException",98],"(",["T_STRING","__",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Status can\\'t be unassigned, because it is used by existing order(s).'",98],")",")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Unassigns order status from particular state\n     *\n     * @param string $state\n     * @return $this\n     * @throws \\Exception\n     *\/",102],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","unassignState",109],"(",["T_VARIABLE","$state",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","validateBeforeUnassign",111],"(",["T_VARIABLE","$state",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getResource",112],"(",")",["T_OBJECT_OPERATOR","->",112],["T_STRING","unassignState",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getStatus",112],"(",")",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$state",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_eventManager",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","dispatch",113],"(",["T_WHITESPACE","\n            ",113],["T_CONSTANT_ENCAPSED_STRING","'sales_order_status_unassign'",114],",",["T_WHITESPACE","\n            ",114],"[",["T_WHITESPACE","\n                ",115],["T_CONSTANT_ENCAPSED_STRING","'status'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getStatus",116],"(",")",",",["T_WHITESPACE","\n                ",116],["T_CONSTANT_ENCAPSED_STRING","'state'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$state",117],["T_WHITESPACE","\n            ",117],"]",["T_WHITESPACE","\n        ",118],")",";",["T_WHITESPACE","\n        ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Getter for status labels per store\n     *\n     * @return array\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","getStoreLabels",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","hasData",130],"(",["T_CONSTANT_ENCAPSED_STRING","'store_labels'",130],")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_getData",131],"(",["T_CONSTANT_ENCAPSED_STRING","'store_labels'",131],")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$labels",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_getResource",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getStoreLabels",133],"(",["T_VARIABLE","$this",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setData",134],"(",["T_CONSTANT_ENCAPSED_STRING","'store_labels'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$labels",134],")",";",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$labels",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Get status label by store\n     *\n     * @param null|string|bool|int|\\Magento\\Store\\Model\\Store $store\n     * @return \\Magento\\Framework\\Phrase|string\n     *\/",138],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","getStoreLabel",144],"(",["T_VARIABLE","$store",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","null",144],")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$store",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_storeManager",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getStore",146],"(",["T_VARIABLE","$store",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$labels",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getStoreLabels",147],"(",")",";",["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_ISSET","isset",148],"(",["T_VARIABLE","$labels",148],"[",["T_VARIABLE","$store",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")","]",")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$labels",149],"[",["T_VARIABLE","$store",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getId",149],"(",")","]",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE"," ",150],["T_ELSE","else",150],["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_STRING","__",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getLabel",151],"(",")",")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Load default status per state\n     *\n     * @param string $state\n     * @return $this\n     *\/",155],["T_WHITESPACE","\n    ",160],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","loadDefaultByState",161],"(",["T_VARIABLE","$state",161],")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","load",163],"(",["T_VARIABLE","$state",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'default_state'",163],")",";",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n",165],"}",["T_WHITESPACE","\n",166]]