[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Service",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Sales",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","InvoiceManagementInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Order",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Class InvoiceService\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","InvoiceService",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_STRING","InvoiceManagementInterface",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Repository\n     *\n     * @var \\Magento\\Sales\\Api\\InvoiceRepositoryInterface\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$repository",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Repository\n     *\n     * @var \\Magento\\Sales\\Api\\InvoiceCommentRepositoryInterface\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$commentRepository",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Search Criteria Builder\n     *\n     * @var \\Magento\\Framework\\Api\\SearchCriteriaBuilder\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$criteriaBuilder",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Filter Builder\n     *\n     * @var \\Magento\\Framework\\Api\\FilterBuilder\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$filterBuilder",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Invoice Notifier\n     *\n     * @var \\Magento\\Sales\\Model\\Order\\InvoiceNotifier\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$invoiceNotifier",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\OrderRepositoryInterface\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$orderRepository",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Convert\\Order\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$orderConverter",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Sales\\Api\\InvoiceRepositoryInterface $repository\n     * @param \\Magento\\Sales\\Api\\InvoiceCommentRepositoryInterface $commentRepository\n     * @param \\Magento\\Framework\\Api\\SearchCriteriaBuilder $criteriaBuilder\n     * @param \\Magento\\Framework\\Api\\FilterBuilder $filterBuilder\n     * @param \\Magento\\Sales\\Model\\Order\\InvoiceNotifier $notifier\n     * @param \\Magento\\Sales\\Api\\OrderRepositoryInterface $orderRepository\n     * @param \\Magento\\Sales\\Model\\Convert\\Order $orderConverter\n     *\/",61],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","__construct",72],"(",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Sales",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Api",73],["T_NS_SEPARATOR","\\",73],["T_STRING","InvoiceRepositoryInterface",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$repository",73],",",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Sales",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Api",74],["T_NS_SEPARATOR","\\",74],["T_STRING","InvoiceCommentRepositoryInterface",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$commentRepository",74],",",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Framework",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Api",75],["T_NS_SEPARATOR","\\",75],["T_STRING","SearchCriteriaBuilder",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$criteriaBuilder",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Framework",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Api",76],["T_NS_SEPARATOR","\\",76],["T_STRING","FilterBuilder",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$filterBuilder",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Sales",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Model",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Order",77],["T_NS_SEPARATOR","\\",77],["T_STRING","InvoiceNotifier",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$notifier",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Sales",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Api",78],["T_NS_SEPARATOR","\\",78],["T_STRING","OrderRepositoryInterface",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$orderRepository",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Sales",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Convert",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Order",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$orderConverter",79],["T_WHITESPACE","\n    ",79],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","repository",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$repository",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","commentRepository",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$commentRepository",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","criteriaBuilder",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$criteriaBuilder",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","filterBuilder",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$filterBuilder",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","invoiceNotifier",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$notifier",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","orderRepository",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$orderRepository",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","orderConverter",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$orderConverter",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","setCapture",93],"(",["T_VARIABLE","$id",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_BOOL_CAST","(bool)",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","repository",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","get",95],"(",["T_VARIABLE","$id",95],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","capture",95],"(",")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",98],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","getCommentsList",101],"(",["T_VARIABLE","$id",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","criteriaBuilder",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","addFilters",103],"(",["T_WHITESPACE","\n            ",103],"[",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","filterBuilder",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","setField",104],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","setValue",104],"(",["T_VARIABLE","$id",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","setConditionType",104],"(",["T_CONSTANT_ENCAPSED_STRING","'eq'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","create",104],"(",")","]",["T_WHITESPACE","\n        ",104],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$searchCriteria",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","criteriaBuilder",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","create",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","commentRepository",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getList",107],"(",["T_VARIABLE","$searchCriteria",107],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",110],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","notify",113],"(",["T_VARIABLE","$id",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$invoice",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","repository",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","get",115],"(",["T_VARIABLE","$id",115],")",";",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","invoiceNotifier",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","notify",116],"(",["T_VARIABLE","$invoice",116],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",119],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","setVoid",122],"(",["T_VARIABLE","$id",122],")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_BOOL_CAST","(bool)",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","repository",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","get",124],"(",["T_VARIABLE","$id",124],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","void",124],"(",")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * @param Order $order\n     * @param array $qtys\n     * @return \\Magento\\Sales\\Model\\Order\\Invoice\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","prepareInvoice",133],"(",["T_STRING","Order",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$order",133],",",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$qtys",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],"[","]",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$invoice",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","orderConverter",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","toInvoice",135],"(",["T_VARIABLE","$order",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$totalQty",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_LNUMBER","0",136],";",["T_WHITESPACE","\n        ",136],["T_FOREACH","foreach",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$order",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getAllItems",137],"(",")",["T_WHITESPACE"," ",137],["T_AS","as",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$orderItem",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(","!",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_canInvoiceItem",138],"(",["T_VARIABLE","$orderItem",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                ",138],["T_CONTINUE","continue",139],";",["T_WHITESPACE","\n            ",139],"}",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$item",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","orderConverter",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","itemToInvoiceItem",141],"(",["T_VARIABLE","$orderItem",141],")",";",["T_WHITESPACE","\n            ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$orderItem",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","isDummy",142],"(",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$qty",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$orderItem",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getQtyOrdered",143],"(",")",["T_WHITESPACE"," ",143],"?",["T_WHITESPACE"," ",143],["T_VARIABLE","$orderItem",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getQtyOrdered",143],"(",")",["T_WHITESPACE"," ",143],":",["T_WHITESPACE"," ",143],["T_LNUMBER","1",143],";",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE"," ",144],["T_ELSEIF","elseif",144],["T_WHITESPACE"," ",144],"(",["T_ISSET","isset",144],"(",["T_VARIABLE","$qtys",144],"[",["T_VARIABLE","$orderItem",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getId",144],"(",")","]",")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$qty",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_DOUBLE_CAST","(double)",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$qtys",145],"[",["T_VARIABLE","$orderItem",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getId",145],"(",")","]",";",["T_WHITESPACE","\n            ",145],"}",["T_WHITESPACE"," ",146],["T_ELSEIF","elseif",146],["T_WHITESPACE"," ",146],"(",["T_EMPTY","empty",146],"(",["T_VARIABLE","$qtys",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$qty",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$orderItem",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getQtyToInvoice",147],"(",")",";",["T_WHITESPACE","\n            ",147],"}",["T_WHITESPACE"," ",148],["T_ELSE","else",148],["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$qty",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_LNUMBER","0",149],";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$totalQty",151],["T_WHITESPACE"," ",151],["T_PLUS_EQUAL","+=",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$qty",151],";",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setInvoiceItemQuantity",152],"(",["T_VARIABLE","$item",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$qty",152],")",";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$invoice",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","addItem",153],"(",["T_VARIABLE","$item",153],")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$invoice",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setTotalQty",155],"(",["T_VARIABLE","$totalQty",155],")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$invoice",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","collectTotals",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$order",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getInvoiceCollection",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","addItem",157],"(",["T_VARIABLE","$invoice",157],")",";",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$invoice",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Check if order item can be invoiced. Dummy item can be invoiced or with his children or\n     * with parent item which is included to invoice\n     *\n     * @param \\Magento\\Sales\\Api\\Data\\OrderItemInterface $item\n     * @return bool\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",161],["T_WHITESPACE","\n    ",168],["T_PROTECTED","protected",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","_canInvoiceItem",169],"(",["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Sales",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Api",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Data",169],["T_NS_SEPARATOR","\\",169],["T_STRING","OrderItemInterface",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$item",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$qtys",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],"[","]",";",["T_WHITESPACE","\n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$item",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getLockedDoInvoice",172],"(",")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_STRING","false",173],";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$item",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","isDummy",175],"(",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$item",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getHasChildren",176],"(",")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_FOREACH","foreach",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$item",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getChildrenItems",177],"(",")",["T_WHITESPACE"," ",177],["T_AS","as",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$child",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                    ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_EMPTY","empty",178],"(",["T_VARIABLE","$qtys",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                        ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$child",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getQtyToInvoice",179],"(",")",["T_WHITESPACE"," ",179],">",["T_WHITESPACE"," ",179],["T_LNUMBER","0",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                            ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_STRING","true",180],";",["T_WHITESPACE","\n                        ",180],"}",["T_WHITESPACE","\n                    ",181],"}",["T_WHITESPACE"," ",182],["T_ELSE","else",182],["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_ISSET","isset",183],"(",["T_VARIABLE","$qtys",183],"[",["T_VARIABLE","$child",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getId",183],"(",")","]",")",["T_WHITESPACE"," ",183],["T_BOOLEAN_AND","&&",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$qtys",183],"[",["T_VARIABLE","$child",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getId",183],"(",")","]",["T_WHITESPACE"," ",183],">",["T_WHITESPACE"," ",183],["T_LNUMBER","0",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                            ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_STRING","true",184],";",["T_WHITESPACE","\n                        ",184],"}",["T_WHITESPACE","\n                    ",185],"}",["T_WHITESPACE","\n                ",186],"}",["T_WHITESPACE","\n                ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_STRING","false",188],";",["T_WHITESPACE","\n            ",188],"}",["T_WHITESPACE"," ",189],["T_ELSEIF","elseif",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$item",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getParentItem",189],"(",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$parent",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$item",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getParentItem",190],"(",")",";",["T_WHITESPACE","\n                ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_EMPTY","empty",191],"(",["T_VARIABLE","$qtys",191],")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                    ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$parent",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getQtyToInvoice",192],"(",")",["T_WHITESPACE"," ",192],">",["T_WHITESPACE"," ",192],["T_LNUMBER","0",192],";",["T_WHITESPACE","\n                ",192],"}",["T_WHITESPACE"," ",193],["T_ELSE","else",193],["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n                    ",193],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_ISSET","isset",194],"(",["T_VARIABLE","$qtys",194],"[",["T_VARIABLE","$parent",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getId",194],"(",")","]",")",["T_WHITESPACE"," ",194],["T_BOOLEAN_AND","&&",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$qtys",194],"[",["T_VARIABLE","$parent",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getId",194],"(",")","]",["T_WHITESPACE"," ",194],">",["T_WHITESPACE"," ",194],["T_LNUMBER","0",194],";",["T_WHITESPACE","\n                ",194],"}",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE"," ",197],["T_ELSE","else",197],["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$item",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getQtyToInvoice",198],"(",")",["T_WHITESPACE"," ",198],">",["T_WHITESPACE"," ",198],["T_LNUMBER","0",198],";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Set quantity to invoice item\n     *\n     * @param \\Magento\\Sales\\Api\\Data\\InvoiceItemInterface $item\n     * @param float $qty\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",202],["T_WHITESPACE","\n    ",209],["T_PROTECTED","protected",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","setInvoiceItemQuantity",210],"(",["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Sales",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Api",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Data",210],["T_NS_SEPARATOR","\\",210],["T_STRING","InvoiceItemInterface",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$item",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$qty",210],")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$qty",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$item",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getOrderItem",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","getIsQtyDecimal",212],"(",")",")",["T_WHITESPACE"," ",212],"?",["T_WHITESPACE"," ",212],["T_DOUBLE_CAST","(double)",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$qty",212],["T_WHITESPACE"," ",212],":",["T_WHITESPACE"," ",212],["T_INT_CAST","(int)",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$qty",212],";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$qty",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$qty",213],["T_WHITESPACE"," ",213],">",["T_WHITESPACE"," ",213],["T_LNUMBER","0",213],["T_WHITESPACE"," ",213],"?",["T_WHITESPACE"," ",213],["T_VARIABLE","$qty",213],["T_WHITESPACE"," ",213],":",["T_WHITESPACE"," ",213],["T_LNUMBER","0",213],";",["T_WHITESPACE","\n\n        ",213],["T_DOC_COMMENT","\/**\n         * Check qty availability\n         *\/",215],["T_WHITESPACE","\n        ",217],["T_VARIABLE","$qtyToInvoice",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","sprintf",218],"(",["T_CONSTANT_ENCAPSED_STRING","\"%F\"",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$item",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getOrderItem",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getQtyToInvoice",218],"(",")",")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$qty",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","sprintf",219],"(",["T_CONSTANT_ENCAPSED_STRING","\"%F\"",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$qty",219],")",";",["T_WHITESPACE","\n        ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$qty",220],["T_WHITESPACE"," ",220],">",["T_WHITESPACE"," ",220],["T_VARIABLE","$qtyToInvoice",220],["T_WHITESPACE"," ",220],["T_BOOLEAN_AND","&&",220],["T_WHITESPACE"," ",220],"!",["T_VARIABLE","$item",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getOrderItem",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","isDummy",220],"(",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_THROW","throw",221],["T_WHITESPACE"," ",221],["T_NEW","new",221],["T_WHITESPACE"," ",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Magento",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Framework",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Exception",221],["T_NS_SEPARATOR","\\",221],["T_STRING","LocalizedException",221],"(",["T_WHITESPACE","\n                ",221],["T_STRING","__",222],"(",["T_CONSTANT_ENCAPSED_STRING","'We found an invalid quantity to invoice item \"%1\".'",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$item",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getName",222],"(",")",")",["T_WHITESPACE","\n            ",222],")",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$item",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","setQty",226],"(",["T_VARIABLE","$qty",226],")",";",["T_WHITESPACE","\n\n        ",226],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n",229],"}",["T_WHITESPACE","\n",230]]