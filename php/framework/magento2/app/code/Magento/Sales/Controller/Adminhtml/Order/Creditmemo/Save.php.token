[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Creditmemo",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Backend",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Action",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Order",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sales",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Order",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Email",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sender",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CreditmemoSender",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","Save",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Backend",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Action",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Authorization level of a basic admin session\n     *\n     * @see _isAllowed()\n     *\/",14],["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","ADMIN_RESOURCE",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'Magento_Sales::sales_creditmemo'",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Controller\\Adminhtml\\Order\\CreditmemoLoader\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$creditmemoLoader",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var CreditmemoSender\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$creditmemoSender",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\View\\Result\\ForwardFactory\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$resultForwardFactory",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @param Action\\Context $context\n     * @param \\Magento\\Sales\\Controller\\Adminhtml\\Order\\CreditmemoLoader $creditmemoLoader\n     * @param CreditmemoSender $creditmemoSender\n     * @param \\Magento\\Backend\\Model\\View\\Result\\ForwardFactory $resultForwardFactory\n     *\/",36],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","__construct",42],"(",["T_WHITESPACE","\n        ",42],["T_STRING","Action",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Context",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$context",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Sales",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Controller",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Adminhtml",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Order",44],["T_NS_SEPARATOR","\\",44],["T_STRING","CreditmemoLoader",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$creditmemoLoader",44],",",["T_WHITESPACE","\n        ",44],["T_STRING","CreditmemoSender",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$creditmemoSender",45],",",["T_WHITESPACE","\n        ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Backend",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","View",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Result",46],["T_NS_SEPARATOR","\\",46],["T_STRING","ForwardFactory",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$resultForwardFactory",46],["T_WHITESPACE","\n    ",46],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","creditmemoLoader",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$creditmemoLoader",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","creditmemoSender",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$creditmemoSender",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","resultForwardFactory",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$resultForwardFactory",50],";",["T_WHITESPACE","\n        ",50],["T_STRING","parent",51],["T_DOUBLE_COLON","::",51],["T_STRING","__construct",51],"(",["T_VARIABLE","$context",51],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Save creditmemo\n     * We can save only new creditmemo. Existing creditmemos are not editable\n     *\n     * @return \\Magento\\Backend\\Model\\View\\Result\\Redirect|\\Magento\\Backend\\Model\\View\\Result\\Forward\n     *\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",54],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","execute",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$resultRedirect",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","resultRedirectFactory",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","create",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$data",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getRequest",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getPost",66],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",66],")",";",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","!",["T_EMPTY","empty",67],"(",["T_VARIABLE","$data",67],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_text'",67],"]",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_getSession",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","setCommentText",68],"(",["T_VARIABLE","$data",68],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_text'",68],"]",")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_TRY","try",70],["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","creditmemoLoader",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setOrderId",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getRequest",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getParam",71],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",71],")",")",";",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","creditmemoLoader",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","setCreditmemoId",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getRequest",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getParam",72],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemo_id'",72],")",")",";",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","creditmemoLoader",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setCreditmemo",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getRequest",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getParam",73],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",73],")",")",";",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","creditmemoLoader",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setInvoiceId",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getRequest",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getParam",74],"(",["T_CONSTANT_ENCAPSED_STRING","'invoice_id'",74],")",")",";",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$creditmemo",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","creditmemoLoader",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","load",75],"(",")",";",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$creditmemo",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_VARIABLE","$creditmemo",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","isValidGrandTotal",77],"(",")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n                    ",77],["T_THROW","throw",78],["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Exception",78],["T_NS_SEPARATOR","\\",78],["T_STRING","LocalizedException",78],"(",["T_WHITESPACE","\n                        ",78],["T_STRING","__",79],"(",["T_CONSTANT_ENCAPSED_STRING","'The credit memo\\'s total must be positive.'",79],")",["T_WHITESPACE","\n                    ",79],")",";",["T_WHITESPACE","\n                ",80],"}",["T_WHITESPACE","\n\n                ",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_EMPTY","empty",83],"(",["T_VARIABLE","$data",83],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_text'",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                    ",83],["T_VARIABLE","$creditmemo",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","addComment",84],"(",["T_WHITESPACE","\n                        ",84],["T_VARIABLE","$data",85],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_text'",85],"]",",",["T_WHITESPACE","\n                        ",85],["T_ISSET","isset",86],"(",["T_VARIABLE","$data",86],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_customer_notify'",86],"]",")",",",["T_WHITESPACE","\n                        ",86],["T_ISSET","isset",87],"(",["T_VARIABLE","$data",87],"[",["T_CONSTANT_ENCAPSED_STRING","'is_visible_on_front'",87],"]",")",["T_WHITESPACE","\n                    ",87],")",";",["T_WHITESPACE","\n\n                    ",88],["T_VARIABLE","$creditmemo",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setCustomerNote",90],"(",["T_VARIABLE","$data",90],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_text'",90],"]",")",";",["T_WHITESPACE","\n                    ",90],["T_VARIABLE","$creditmemo",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setCustomerNoteNotify",91],"(",["T_ISSET","isset",91],"(",["T_VARIABLE","$data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'comment_customer_notify'",91],"]",")",")",";",["T_WHITESPACE","\n                ",91],"}",["T_WHITESPACE","\n\n                ",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$data",94],"[",["T_CONSTANT_ENCAPSED_STRING","'do_offline'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                    ",94],["T_COMMENT","\/\/do not allow online refund for Refund to Store Credit\n",95],["T_WHITESPACE","                    ",96],["T_IF","if",96],["T_WHITESPACE"," ",96],"(","!",["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'do_offline'",96],"]",["T_WHITESPACE"," ",96],["T_BOOLEAN_AND","&&",96],["T_WHITESPACE"," ",96],"!",["T_EMPTY","empty",96],"(",["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'refund_customerbalance_return_enable'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                        ",96],["T_THROW","throw",97],["T_WHITESPACE"," ",97],["T_NEW","new",97],["T_WHITESPACE"," ",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Exception",97],["T_NS_SEPARATOR","\\",97],["T_STRING","LocalizedException",97],"(",["T_WHITESPACE","\n                            ",97],["T_STRING","__",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot create online refund for Refund to Store Credit.'",98],")",["T_WHITESPACE","\n                        ",98],")",";",["T_WHITESPACE","\n                    ",99],"}",["T_WHITESPACE","\n                ",100],"}",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$creditmemoManagement",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_objectManager",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","create",102],"(",["T_WHITESPACE","\n                    ",102],["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Sales",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Api",103],["T_NS_SEPARATOR","\\",103],["T_STRING","CreditmemoManagementInterface",103],["T_DOUBLE_COLON","::",103],["T_CLASS","class",103],["T_WHITESPACE","\n                ",103],")",";",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$creditmemo",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getOrder",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","setCustomerNoteNotify",105],"(","!",["T_EMPTY","empty",105],"(",["T_VARIABLE","$data",105],"[",["T_CONSTANT_ENCAPSED_STRING","'send_email'",105],"]",")",")",";",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$creditmemoManagement",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","refund",106],"(",["T_VARIABLE","$creditmemo",106],",",["T_WHITESPACE"," ",106],["T_BOOL_CAST","(bool)",106],["T_VARIABLE","$data",106],"[",["T_CONSTANT_ENCAPSED_STRING","'do_offline'",106],"]",")",";",["T_WHITESPACE","\n\n                ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_EMPTY","empty",108],"(",["T_VARIABLE","$data",108],"[",["T_CONSTANT_ENCAPSED_STRING","'send_email'",108],"]",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","creditmemoSender",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","send",109],"(",["T_VARIABLE","$creditmemo",109],")",";",["T_WHITESPACE","\n                ",109],"}",["T_WHITESPACE","\n\n                ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","messageManager",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","addSuccess",112],"(",["T_STRING","__",112],"(",["T_CONSTANT_ENCAPSED_STRING","'You created the credit memo.'",112],")",")",";",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_getSession",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getCommentText",113],"(",["T_STRING","true",113],")",";",["T_WHITESPACE","\n                ",113],["T_VARIABLE","$resultRedirect",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","setPath",114],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order\/view'",114],",",["T_WHITESPACE"," ",114],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$creditmemo",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getOrderId",114],"(",")","]",")",";",["T_WHITESPACE","\n                ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$resultRedirect",115],";",["T_WHITESPACE","\n            ",115],"}",["T_WHITESPACE"," ",116],["T_ELSE","else",116],["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$resultForward",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","resultForwardFactory",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","create",117],"(",")",";",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$resultForward",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","forward",118],"(",["T_CONSTANT_ENCAPSED_STRING","'noroute'",118],")",";",["T_WHITESPACE","\n                ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$resultForward",119],";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE"," ",121],["T_CATCH","catch",121],["T_WHITESPACE"," ",121],"(",["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Framework",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Exception",121],["T_NS_SEPARATOR","\\",121],["T_STRING","LocalizedException",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$e",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","messageManager",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","addError",122],"(",["T_VARIABLE","$e",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getMessage",122],"(",")",")",";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_getSession",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","setFormData",123],"(",["T_VARIABLE","$data",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE"," ",124],["T_CATCH","catch",124],["T_WHITESPACE"," ",124],"(",["T_NS_SEPARATOR","\\",124],["T_STRING","Exception",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$e",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_objectManager",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","get",125],"(",["T_NS_SEPARATOR","\\",125],["T_STRING","Psr",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Log",125],["T_NS_SEPARATOR","\\",125],["T_STRING","LoggerInterface",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","critical",125],"(",["T_VARIABLE","$e",125],")",";",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","messageManager",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","addError",126],"(",["T_STRING","__",126],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t save the credit memo right now.'",126],")",")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$resultRedirect",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","setPath",128],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/*\/new'",128],",",["T_WHITESPACE"," ",128],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_STRING","true",128],"]",")",";",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$resultRedirect",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n",130],"}",["T_WHITESPACE","\n",131]]