[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Sales",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Order",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Payment",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Transaction",7],";",["T_WHITESPACE","\n\n\n",7],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sales",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Order",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payment",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Transaction",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Class ManagerTest\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ManagerTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PHPUnit_Framework_TestCase",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Payment\\Transaction\\Manager\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PRIVATE","private",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$manager",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Payment\\Transaction\\Repository | \\PHPUnit_Framework_MockObject_MockObject\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PRIVATE","private",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$repositoryMock",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Init\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$objectManager",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Framework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","TestFramework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Unit",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Helper",32],["T_NS_SEPARATOR","\\",32],["T_STRING","ObjectManager",32],"(",["T_VARIABLE","$this",32],")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","repositoryMock",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getMock",33],"(",["T_WHITESPACE","\n            ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Sales",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Order",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Payment",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Transaction",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Repository",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],",",["T_WHITESPACE","\n            ",34],"[","]",",",["T_WHITESPACE","\n            ",35],"[","]",",",["T_WHITESPACE","\n            ",36],["T_CONSTANT_ENCAPSED_STRING","''",37],",",["T_WHITESPACE","\n            ",37],["T_STRING","false",38],["T_WHITESPACE","\n        ",38],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","manager",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$objectManager",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getObject",40],"(",["T_WHITESPACE","\n            ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Sales",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Model",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Order",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Payment",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Transaction",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Manager",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],",",["T_WHITESPACE","\n            ",41],"[",["T_CONSTANT_ENCAPSED_STRING","'transactionRepository'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","repositoryMock",42],"]",["T_WHITESPACE","\n        ",42],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @dataProvider getAuthorizationDataProvider\n     * @param $parentTransactionId\n     * @param $paymentId\n     * @param $orderId\n     *\/",46],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testGetAuthorizationTransaction",52],"(",["T_VARIABLE","$parentTransactionId",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$paymentId",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$orderId",52],")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$transaction",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getMock",54],"(",["T_WHITESPACE","\n            ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Sales",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Order",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Payment",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Transaction",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],",",["T_WHITESPACE","\n            ",55],"[","]",",",["T_WHITESPACE","\n            ",56],"[","]",",",["T_WHITESPACE","\n            ",57],["T_CONSTANT_ENCAPSED_STRING","''",58],",",["T_WHITESPACE","\n            ",58],["T_STRING","false",59],["T_WHITESPACE","\n        ",59],")",";",["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$parentTransactionId",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","repositoryMock",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","expects",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","once",62],"(",")",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","method",62],"(",["T_CONSTANT_ENCAPSED_STRING","'getByTransactionId'",62],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","with",62],"(",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$parentTransactionId",63],",",["T_WHITESPACE","\n                ",63],["T_VARIABLE","$paymentId",64],",",["T_WHITESPACE","\n                ",64],["T_VARIABLE","$orderId",65],["T_WHITESPACE","\n            ",65],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","willReturn",66],"(",["T_VARIABLE","$transaction",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE"," ",67],["T_ELSE","else",67],["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","repositoryMock",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","expects",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","once",68],"(",")",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","method",68],"(",["T_CONSTANT_ENCAPSED_STRING","'getByTransactionType'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","with",68],"(",["T_WHITESPACE","\n                ",68],["T_STRING","Transaction",69],["T_DOUBLE_COLON","::",69],["T_STRING","TYPE_AUTH",69],",",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$paymentId",70],",",["T_WHITESPACE","\n                ",70],["T_VARIABLE","$orderId",71],["T_WHITESPACE","\n            ",71],")",["T_OBJECT_OPERATOR","->",72],["T_STRING","willReturn",72],"(",["T_VARIABLE","$transaction",72],")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertEquals",74],"(",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$transaction",75],",",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","manager",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getAuthorizationTransaction",76],"(",["T_VARIABLE","$parentTransactionId",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$paymentId",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$orderId",76],")",["T_WHITESPACE","\n        ",76],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @dataProvider isTransactionExistsDataProvider\n     * @param string|null $transactionId\n     * @param bool $isRepositoryReturnTransaction\n     * @param bool $expectedResult\n     *\/",80],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testIsTransactionExists",86],"(",["T_VARIABLE","$transactionId",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$isRepositoryReturnTransaction",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$expectedResult",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$paymentId",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_LNUMBER","1",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$orderId",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_LNUMBER","9",89],";",["T_WHITESPACE","\n\n        ",89],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$transactionId",91],["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$isRepositoryReturnTransaction",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$transaction",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getMock",92],"(",["T_WHITESPACE","\n                ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Sales",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Model",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Order",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Payment",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Transaction",93],["T_DOUBLE_COLON","::",93],["T_CLASS","class",93],",",["T_WHITESPACE","\n                ",93],"[","]",",",["T_WHITESPACE","\n                ",94],"[","]",",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","''",96],",",["T_WHITESPACE","\n                ",96],["T_STRING","false",97],["T_WHITESPACE","\n            ",97],")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","repositoryMock",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","expects",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","once",99],"(",")",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","method",99],"(",["T_CONSTANT_ENCAPSED_STRING","'getByTransactionId'",99],")",["T_OBJECT_OPERATOR","->",99],["T_STRING","willReturn",99],"(",["T_VARIABLE","$transaction",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEquals",102],"(",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$expectedResult",103],",",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","manager",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","isTransactionExists",104],"(",["T_VARIABLE","$transactionId",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$paymentId",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$orderId",104],")",["T_WHITESPACE","\n        ",104],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * @dataProvider generateTransactionIdDataProvider\n     * @param string|null $transactionId\n     * @param string|null $parentTransactionId\n     * @param string|null $transactionBasedTxnId\n     * @param string $type\n     * @param string|null $expectedResult\n     *\/",108],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","testGenerateTransactionId",116],"(",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$transactionId",117],",",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$parentTransactionId",118],",",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$transactionBasedTxnId",119],",",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$type",120],",",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$expectedResult",121],["T_WHITESPACE","\n    ",121],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$transactionBasedOn",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","false",123],";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$payment",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getMock",125],"(",["T_WHITESPACE","\n            ",125],["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Sales",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Model",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Order",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Payment",126],["T_DOUBLE_COLON","::",126],["T_CLASS","class",126],",",["T_WHITESPACE","\n            ",126],"[",["T_CONSTANT_ENCAPSED_STRING","\"setParentTransactionId\"",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","\"getParentTransactionId\"",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","\"getTransactionId\"",127],"]",",",["T_WHITESPACE","\n            ",127],"[","]",",",["T_WHITESPACE","\n            ",128],["T_CONSTANT_ENCAPSED_STRING","''",129],",",["T_WHITESPACE","\n            ",129],["T_STRING","false",130],["T_WHITESPACE","\n        ",130],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$payment",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","expects",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","atLeastOnce",132],"(",")",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","method",132],"(",["T_CONSTANT_ENCAPSED_STRING","'getTransactionId'",132],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","willReturn",132],"(",["T_VARIABLE","$transactionId",132],")",";",["T_WHITESPACE","\n\n        ",132],["T_IF","if",134],["T_WHITESPACE"," ",134],"(","!",["T_VARIABLE","$parentTransactionId",134],["T_WHITESPACE"," ",134],["T_BOOLEAN_AND","&&",134],["T_WHITESPACE"," ",134],"!",["T_VARIABLE","$transactionId",134],["T_WHITESPACE"," ",134],["T_BOOLEAN_AND","&&",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$transactionBasedTxnId",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$transactionBasedOn",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getMock",135],"(",["T_WHITESPACE","\n                ",135],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Sales",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Model",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Order",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Payment",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Transaction",136],["T_DOUBLE_COLON","::",136],["T_CLASS","class",136],",",["T_WHITESPACE","\n                ",136],"[","]",",",["T_WHITESPACE","\n                ",137],"[","]",",",["T_WHITESPACE","\n                ",138],["T_CONSTANT_ENCAPSED_STRING","''",139],",",["T_WHITESPACE","\n                ",139],["T_STRING","false",140],["T_WHITESPACE","\n            ",140],")",";",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$transactionBasedOn",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","expects",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","once",142],"(",")",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","method",142],"(",["T_CONSTANT_ENCAPSED_STRING","'getTxnId'",142],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","willReturn",142],"(",["T_VARIABLE","$transactionBasedTxnId",142],")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$payment",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","expects",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","once",143],"(",")",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","\"setParentTransactionId\"",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","with",143],"(",["T_VARIABLE","$transactionBasedTxnId",143],")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$payment",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","expects",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","exactly",145],"(",["T_LNUMBER","2",145],")",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","method",145],"(",["T_CONSTANT_ENCAPSED_STRING","'getParentTransactionId'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","willReturnOnConsecutiveCalls",145],"(",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$parentTransactionId",146],",",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$transactionBasedOn",147],["T_WHITESPACE"," ",147],"?",["T_WHITESPACE"," ",147],["T_VARIABLE","$transactionBasedTxnId",147],["T_WHITESPACE"," ",147],":",["T_WHITESPACE"," ",147],["T_VARIABLE","$parentTransactionId",147],["T_WHITESPACE","\n        ",147],")",";",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEquals",150],"(",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$expectedResult",151],",",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","manager",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","generateTransactionId",152],"(",["T_VARIABLE","$payment",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$type",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$transactionBasedOn",152],")",["T_WHITESPACE","\n        ",152],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * @return array$transactionId, $parentTransactionId, $transactionBasedTxnId\n     *\/",156],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","generateTransactionIdDataProvider",159],"(",")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],"[",["T_WHITESPACE","\n            ",161],["T_CONSTANT_ENCAPSED_STRING","'withoutTransactionId'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],"[",["T_WHITESPACE","\n                ",162],["T_CONSTANT_ENCAPSED_STRING","'transactionId'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_STRING","null",163],",",["T_WHITESPACE","\n                ",163],["T_CONSTANT_ENCAPSED_STRING","'parentTransactionId'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_LNUMBER","2",164],",",["T_WHITESPACE","\n                ",164],["T_CONSTANT_ENCAPSED_STRING","'transactionBasedOnId'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_LNUMBER","1",165],",",["T_WHITESPACE","\n                ",165],["T_CONSTANT_ENCAPSED_STRING","'type'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_STRING","Transaction",166],["T_DOUBLE_COLON","::",166],["T_STRING","TYPE_REFUND",166],",",["T_WHITESPACE","\n                ",166],["T_CONSTANT_ENCAPSED_STRING","'expectedResult'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","\"2-\"",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_STRING","Transaction",167],["T_DOUBLE_COLON","::",167],["T_STRING","TYPE_REFUND",167],["T_WHITESPACE","\n            ",167],"]",",",["T_WHITESPACE","\n            ",168],["T_CONSTANT_ENCAPSED_STRING","'withTransactionId'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],"[",["T_WHITESPACE","\n                ",169],["T_CONSTANT_ENCAPSED_STRING","'transactionId'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_LNUMBER","33",170],",",["T_WHITESPACE","\n                ",170],["T_CONSTANT_ENCAPSED_STRING","'parentTransactionId'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_LNUMBER","2",171],",",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'transactionBasedOnId'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_LNUMBER","1",172],",",["T_WHITESPACE","\n                ",172],["T_CONSTANT_ENCAPSED_STRING","'type'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_STRING","Transaction",173],["T_DOUBLE_COLON","::",173],["T_STRING","TYPE_REFUND",173],",",["T_WHITESPACE","\n                ",173],["T_CONSTANT_ENCAPSED_STRING","'expectedResult'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_LNUMBER","33",174],["T_WHITESPACE","\n            ",174],"]",",",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'withBasedTransactionId'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],"[",["T_WHITESPACE","\n                ",176],["T_CONSTANT_ENCAPSED_STRING","'transactionId'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_STRING","null",177],",",["T_WHITESPACE","\n                ",177],["T_CONSTANT_ENCAPSED_STRING","'parentTransactionId'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_STRING","null",178],",",["T_WHITESPACE","\n                ",178],["T_CONSTANT_ENCAPSED_STRING","'transactionBasedOnId'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_LNUMBER","4",179],",",["T_WHITESPACE","\n                ",179],["T_CONSTANT_ENCAPSED_STRING","'type'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_STRING","Transaction",180],["T_DOUBLE_COLON","::",180],["T_STRING","TYPE_REFUND",180],",",["T_WHITESPACE","\n                ",180],["T_CONSTANT_ENCAPSED_STRING","'expectedResult'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","\"4-\"",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_STRING","Transaction",181],["T_DOUBLE_COLON","::",181],["T_STRING","TYPE_REFUND",181],["T_WHITESPACE","\n            ",181],"]",",",["T_WHITESPACE","\n        ",182],"]",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","isTransactionExistsDataProvider",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],"[",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","'withTransactionIdAndTransaction'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],"[",["T_CONSTANT_ENCAPSED_STRING","\"100-refund\"",189],",",["T_WHITESPACE"," ",189],["T_STRING","true",189],",",["T_WHITESPACE"," ",189],["T_STRING","true",189],"]",",",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'withoutTransactionIdAndWithTransaction'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],"[",["T_STRING","null",190],",",["T_WHITESPACE"," ",190],["T_STRING","true",190],",",["T_WHITESPACE"," ",190],["T_STRING","false",190],"]",",",["T_WHITESPACE","\n            ",190],["T_CONSTANT_ENCAPSED_STRING","'withTransactionIdAndWithoutTransaction'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],"[",["T_CONSTANT_ENCAPSED_STRING","\"100-refund\"",191],",",["T_WHITESPACE"," ",191],["T_STRING","false",191],",",["T_WHITESPACE"," ",191],["T_STRING","false",191],"]",",",["T_WHITESPACE","\n            ",191],["T_CONSTANT_ENCAPSED_STRING","'withoutTransactionIdAndWithoutTransaction'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],"[",["T_STRING","null",192],",",["T_WHITESPACE"," ",192],["T_STRING","false",192],",",["T_WHITESPACE"," ",192],["T_STRING","false",192],"]",",",["T_WHITESPACE","\n        ",192],"]",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","getAuthorizationDataProvider",196],"(",")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],"[",["T_WHITESPACE","\n            ",198],["T_CONSTANT_ENCAPSED_STRING","'withParentId'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],"[",["T_STRING","false",199],",",["T_WHITESPACE"," ",199],["T_LNUMBER","1",199],",",["T_WHITESPACE"," ",199],["T_LNUMBER","1",199],"]",",",["T_WHITESPACE","\n            ",199],["T_CONSTANT_ENCAPSED_STRING","'withoutParentId'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],"[",["T_LNUMBER","1",200],",",["T_WHITESPACE"," ",200],["T_LNUMBER","2",200],",",["T_WHITESPACE"," ",200],["T_LNUMBER","1",200],"]",["T_WHITESPACE","\n        ",200],"]",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n",202],"}",["T_WHITESPACE","\n",203]]