[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Order",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Invoice",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Total",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ShippingTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Retrieve new invoice collection from an array of invoices' data\n     *\n     * @param array $invoicesData\n     * @return \\Magento\\Framework\\Data\\Collection\n     *\/",16],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","_getInvoiceCollection",22],"(",["T_ARRAY","array",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$invoicesData",22],")",["T_WHITESPACE","\n    ",22],"{",["T_WHITESPACE","\n        ",23],["T_VARIABLE","$className",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Sales",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Order",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Invoice",24],["T_DOUBLE_COLON","::",24],["T_CLASS","class",24],";",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$result",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_NEW","new",25],["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Framework",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Data",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Collection",25],"(",["T_WHITESPACE","\n            ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","getMock",26],"(",["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Framework",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Data",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Collection",26],["T_NS_SEPARATOR","\\",26],["T_STRING","EntityFactory",26],["T_DOUBLE_COLON","::",26],["T_CLASS","class",26],",",["T_WHITESPACE"," ",26],"[","]",",",["T_WHITESPACE"," ",26],"[","]",",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","''",26],",",["T_WHITESPACE"," ",26],["T_STRING","false",26],")",["T_WHITESPACE","\n        ",26],")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$objectManagerHelper",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_NEW","new",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","TestFramework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Unit",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Helper",28],["T_NS_SEPARATOR","\\",28],["T_STRING","ObjectManager",28],"(",["T_VARIABLE","$this",28],")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$arguments",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],"[",["T_WHITESPACE","\n            ",29],["T_CONSTANT_ENCAPSED_STRING","'orderFactory'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getMock",30],"(",["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Sales",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Model",30],["T_NS_SEPARATOR","\\",30],["T_STRING","OrderFactory",30],["T_DOUBLE_COLON","::",30],["T_CLASS","class",30],",",["T_WHITESPACE"," ",30],"[","]",",",["T_WHITESPACE"," ",30],"[","]",",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","''",30],",",["T_WHITESPACE"," ",30],["T_STRING","false",30],")",",",["T_WHITESPACE","\n            ",30],["T_CONSTANT_ENCAPSED_STRING","'orderResourceFactory'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getMock",31],"(",["T_WHITESPACE","\n                ",31],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Sales",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","ResourceModel",32],["T_NS_SEPARATOR","\\",32],["T_STRING","OrderFactory",32],["T_DOUBLE_COLON","::",32],["T_CLASS","class",32],",",["T_WHITESPACE","\n                ",32],"[","]",",",["T_WHITESPACE","\n                ",33],"[","]",",",["T_WHITESPACE","\n                ",34],["T_CONSTANT_ENCAPSED_STRING","''",35],",",["T_WHITESPACE","\n                ",35],["T_STRING","false",36],["T_WHITESPACE","\n            ",36],")",",",["T_WHITESPACE","\n            ",37],["T_CONSTANT_ENCAPSED_STRING","'calculatorFactory'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getMock",38],"(",["T_WHITESPACE","\n                ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Math",39],["T_NS_SEPARATOR","\\",39],["T_STRING","CalculatorFactory",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],",",["T_WHITESPACE","\n                    ",39],"[","]",",",["T_WHITESPACE","\n                    ",40],"[","]",",",["T_WHITESPACE","\n                    ",41],["T_CONSTANT_ENCAPSED_STRING","''",42],",",["T_WHITESPACE","\n                    ",42],["T_STRING","false",43],["T_WHITESPACE","\n                ",43],")",",",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","'invoiceItemCollectionFactory'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMock",45],"(",["T_WHITESPACE","\n                ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Sales",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","ResourceModel",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Order",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Invoice",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Item",46],["T_NS_SEPARATOR","\\",46],["T_STRING","CollectionFactory",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],",",["T_WHITESPACE","\n                ",46],"[","]",",",["T_WHITESPACE","\n                ",47],"[","]",",",["T_WHITESPACE","\n                ",48],["T_CONSTANT_ENCAPSED_STRING","''",49],",",["T_WHITESPACE","\n                ",49],["T_STRING","false",50],["T_WHITESPACE","\n            ",50],")",",",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'invoiceCommentFactory'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getMock",52],"(",["T_WHITESPACE","\n                ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Sales",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Order",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Invoice",53],["T_NS_SEPARATOR","\\",53],["T_STRING","CommentFactory",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],",",["T_WHITESPACE","\n                ",53],"[","]",",",["T_WHITESPACE","\n                ",54],"[","]",",",["T_WHITESPACE","\n                ",55],["T_CONSTANT_ENCAPSED_STRING","''",56],",",["T_WHITESPACE","\n                ",56],["T_STRING","false",57],["T_WHITESPACE","\n            ",57],")",",",["T_WHITESPACE","\n            ",58],["T_CONSTANT_ENCAPSED_STRING","'commentCollectionFactory'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getMock",59],"(",["T_WHITESPACE","\n                ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Sales",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Model",60],["T_NS_SEPARATOR","\\",60],["T_STRING","ResourceModel",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Order",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Invoice",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Comment",60],["T_NS_SEPARATOR","\\",60],["T_STRING","CollectionFactory",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],",",["T_WHITESPACE","\n                ",60],"[","]",",",["T_WHITESPACE","\n                ",61],"[","]",",",["T_WHITESPACE","\n                ",62],["T_CONSTANT_ENCAPSED_STRING","''",63],",",["T_WHITESPACE","\n                ",63],["T_STRING","false",64],["T_WHITESPACE","\n            ",64],")",",",["T_WHITESPACE","\n        ",65],"]",";",["T_WHITESPACE","\n        ",66],["T_FOREACH","foreach",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$invoicesData",67],["T_WHITESPACE"," ",67],["T_AS","as",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$oneInvoiceData",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$arguments",68],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$oneInvoiceData",68],";",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$arguments",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$objectManagerHelper",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getConstructArguments",69],"(",["T_VARIABLE","$className",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$arguments",69],")",";",["T_WHITESPACE","\n            ",69],["T_DOC_COMMENT","\/** @var $prevInvoice \\Magento\\Sales\\Model\\Order\\Invoice *\/",70],["T_WHITESPACE","\n            ",70],["T_VARIABLE","$prevInvoice",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",["T_VARIABLE","$className",71],",",["T_WHITESPACE"," ",71],"[",["T_CONSTANT_ENCAPSED_STRING","'_init'",71],"]",",",["T_WHITESPACE"," ",71],["T_VARIABLE","$arguments",71],")",";",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$result",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","addItem",72],"(",["T_VARIABLE","$prevInvoice",72],")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$result",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @dataProvider collectDataProvider\n     * @param array $prevInvoicesData\n     * @param float $orderShipping\n     * @param float $invoiceShipping\n     * @param float $expectedShipping\n     *\/",77],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","testCollect",84],"(",["T_ARRAY","array",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$prevInvoicesData",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$orderShipping",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$invoiceShipping",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$expectedShipping",84],")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$objectManager",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","TestFramework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Unit",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Helper",86],["T_NS_SEPARATOR","\\",86],["T_STRING","ObjectManager",86],"(",["T_VARIABLE","$this",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$arguments",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],"[",["T_WHITESPACE","\n            ",87],["T_CONSTANT_ENCAPSED_STRING","'productFactory'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMock",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Catalog",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","ProductFactory",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],",",["T_WHITESPACE"," ",88],"[","]",",",["T_WHITESPACE"," ",88],"[","]",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","''",88],",",["T_WHITESPACE"," ",88],["T_STRING","false",88],")",",",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'orderItemCollectionFactory'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMock",89],"(",["T_WHITESPACE","\n                ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Sales",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Model",90],["T_NS_SEPARATOR","\\",90],["T_STRING","ResourceModel",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Order",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Item",90],["T_NS_SEPARATOR","\\",90],["T_STRING","CollectionFactory",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],",",["T_WHITESPACE","\n                ",90],"[","]",",",["T_WHITESPACE","\n                ",91],"[","]",",",["T_WHITESPACE","\n                ",92],["T_CONSTANT_ENCAPSED_STRING","''",93],",",["T_WHITESPACE","\n                ",93],["T_STRING","false",94],["T_WHITESPACE","\n            ",94],")",",",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'serviceOrderFactory'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMock",96],"(",["T_WHITESPACE","\n                ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Sales",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Service",97],["T_NS_SEPARATOR","\\",97],["T_STRING","OrderFactory",97],["T_DOUBLE_COLON","::",97],["T_CLASS","class",97],",",["T_WHITESPACE","\n                ",97],"[","]",",",["T_WHITESPACE","\n                ",98],"[","]",",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","''",100],",",["T_WHITESPACE","\n                ",100],["T_STRING","false",101],["T_WHITESPACE","\n            ",101],")",",",["T_WHITESPACE","\n            ",102],["T_CONSTANT_ENCAPSED_STRING","'currencyFactory'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMock",103],"(",["T_WHITESPACE","\n                ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Directory",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Model",104],["T_NS_SEPARATOR","\\",104],["T_STRING","CurrencyFactory",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],",",["T_WHITESPACE","\n                ",104],"[","]",",",["T_WHITESPACE","\n                ",105],"[","]",",",["T_WHITESPACE","\n                ",106],["T_CONSTANT_ENCAPSED_STRING","''",107],",",["T_WHITESPACE","\n                ",107],["T_STRING","false",108],["T_WHITESPACE","\n            ",108],")",",",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'orderHistoryFactory'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMock",110],"(",["T_WHITESPACE","\n                ",110],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Sales",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Model",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Order",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Status",111],["T_NS_SEPARATOR","\\",111],["T_STRING","HistoryFactory",111],["T_DOUBLE_COLON","::",111],["T_CLASS","class",111],",",["T_WHITESPACE","\n                ",111],"[","]",",",["T_WHITESPACE","\n                ",112],"[","]",",",["T_WHITESPACE","\n                ",113],["T_CONSTANT_ENCAPSED_STRING","''",114],",",["T_WHITESPACE","\n                ",114],["T_STRING","false",115],["T_WHITESPACE","\n            ",115],")",",",["T_WHITESPACE","\n            ",116],["T_CONSTANT_ENCAPSED_STRING","'orderTaxCollectionFactory'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMock",117],"(",["T_WHITESPACE","\n                ",117],["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Tax",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Model",118],["T_NS_SEPARATOR","\\",118],["T_STRING","ResourceModel",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Sales",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Order",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Tax",118],["T_NS_SEPARATOR","\\",118],["T_STRING","CollectionFactory",118],["T_DOUBLE_COLON","::",118],["T_CLASS","class",118],",",["T_WHITESPACE","\n                ",118],"[","]",",",["T_WHITESPACE","\n                ",119],"[","]",",",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","''",121],",",["T_WHITESPACE","\n                ",121],["T_STRING","false",122],["T_WHITESPACE","\n            ",122],")",",",["T_WHITESPACE","\n        ",123],"]",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$orderConstructorArgs",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$objectManager",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getConstructArguments",125],"(",["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Sales",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Model",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Order",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$arguments",125],")",";",["T_WHITESPACE","\n        ",125],["T_DOC_COMMENT","\/** @var $order \\Magento\\Sales\\Model\\Order|PHPUnit_Framework_MockObject_MockObject *\/",126],["T_WHITESPACE","\n        ",126],["T_VARIABLE","$order",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getMock",127],"(",["T_WHITESPACE","\n            ",127],["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Sales",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Model",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Order",128],["T_DOUBLE_COLON","::",128],["T_CLASS","class",128],",",["T_WHITESPACE","\n            ",128],"[",["T_CONSTANT_ENCAPSED_STRING","'_init'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'getInvoiceCollection'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",129],"]",",",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$orderConstructorArgs",130],",",["T_WHITESPACE","\n            ",130],["T_CONSTANT_ENCAPSED_STRING","''",131],",",["T_WHITESPACE","\n            ",131],["T_STRING","false",132],["T_WHITESPACE","\n        ",132],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$order",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setData",134],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_amount'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$orderShipping",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$order",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","expects",135],"(",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","any",136],"(",")",["T_WHITESPACE","\n        ",136],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","method",137],"(",["T_WHITESPACE","\n            ",137],["T_CONSTANT_ENCAPSED_STRING","'getInvoiceCollection'",138],["T_WHITESPACE","\n        ",138],")",["T_OBJECT_OPERATOR","->",139],["T_STRING","will",139],"(",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","returnValue",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_getInvoiceCollection",140],"(",["T_VARIABLE","$prevInvoicesData",140],")",")",["T_WHITESPACE","\n        ",140],")",";",["T_WHITESPACE","\n        ",141],["T_DOC_COMMENT","\/** @var $invoice \\Magento\\Sales\\Model\\Order\\Invoice|PHPUnit_Framework_MockObject_MockObject *\/",142],["T_WHITESPACE","\n        ",142],["T_VARIABLE","$invoice",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getMock",143],"(",["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Sales",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Model",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Order",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Invoice",143],["T_DOUBLE_COLON","::",143],["T_CLASS","class",143],",",["T_WHITESPACE"," ",143],"[",["T_CONSTANT_ENCAPSED_STRING","'_init'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",143],"]",",",["T_WHITESPACE"," ",143],"[","]",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","''",143],",",["T_WHITESPACE"," ",143],["T_STRING","false",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$invoice",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setData",144],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_amount'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$invoiceShipping",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$invoice",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setOrder",145],"(",["T_VARIABLE","$order",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$total",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_NEW","new",147],["T_WHITESPACE"," ",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Sales",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Model",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Order",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Invoice",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Total",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Shipping",147],"(",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$total",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","collect",148],"(",["T_VARIABLE","$invoice",148],")",";",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEquals",150],"(",["T_VARIABLE","$expectedShipping",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$invoice",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getShippingAmount",150],"(",")",")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_STATIC","static",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","collectDataProvider",153],"(",")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_RETURN","return",155],["T_WHITESPACE"," ",155],"[",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'no previous invoices'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],"[",["T_WHITESPACE","\n                ",156],["T_CONSTANT_ENCAPSED_STRING","'prevInvoicesData'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],"[","[","]","]",",",["T_WHITESPACE","\n                ",157],["T_CONSTANT_ENCAPSED_STRING","'orderShipping'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_DNUMBER","10.00",158],",",["T_WHITESPACE","\n                ",158],["T_CONSTANT_ENCAPSED_STRING","'invoiceShipping'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_DNUMBER","5.00",159],",",["T_WHITESPACE","\n                ",159],["T_CONSTANT_ENCAPSED_STRING","'expectedShipping'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_DNUMBER","10.00",160],",",["T_WHITESPACE","\n            ",160],"]",",",["T_WHITESPACE","\n            ",161],["T_CONSTANT_ENCAPSED_STRING","'zero shipping in previous invoices'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],"[",["T_WHITESPACE","\n                ",162],["T_CONSTANT_ENCAPSED_STRING","'prevInvoicesData'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],"[","[",["T_CONSTANT_ENCAPSED_STRING","'shipping_amount'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'0.0000'",163],"]","]",",",["T_WHITESPACE","\n                ",163],["T_CONSTANT_ENCAPSED_STRING","'orderShipping'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_DNUMBER","10.00",164],",",["T_WHITESPACE","\n                ",164],["T_CONSTANT_ENCAPSED_STRING","'invoiceShipping'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_DNUMBER","5.00",165],",",["T_WHITESPACE","\n                ",165],["T_CONSTANT_ENCAPSED_STRING","'expectedShipping'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_DNUMBER","10.00",166],",",["T_WHITESPACE","\n            ",166],"]",",",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'non-zero shipping in previous invoices'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],"[",["T_WHITESPACE","\n                ",168],["T_CONSTANT_ENCAPSED_STRING","'prevInvoicesData'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],"[","[",["T_CONSTANT_ENCAPSED_STRING","'shipping_amount'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'10.000'",169],"]","]",",",["T_WHITESPACE","\n                ",169],["T_CONSTANT_ENCAPSED_STRING","'orderShipping'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_DNUMBER","10.00",170],",",["T_WHITESPACE","\n                ",170],["T_CONSTANT_ENCAPSED_STRING","'invoiceShipping'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_DNUMBER","5.00",171],",",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'expectedShipping'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_LNUMBER","0",172],",",["T_WHITESPACE","\n            ",172],"]",["T_WHITESPACE","\n        ",173],"]",";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n",175],"}",["T_WHITESPACE","\n",176]]