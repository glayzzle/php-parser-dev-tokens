[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Order",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Sales",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Order",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Invoice",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Sales",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResourceModel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","OrderFactory",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Class InvoiceTest\n *\n * @package Magento\\Sales\\Model\\Order\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","InvoiceTest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PHPUnit_Framework_TestCase",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Invoice\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$model",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Same as $model but Order was not set\n     * @var \\Magento\\Sales\\Model\\Order\\Invoice\n     *\/",27],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$modelWithoutOrder",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$entityType",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'invoice'",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var OrderFactory |\\PHPUnit_Framework_MockObject_MockObject\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$orderFactory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Sales\\Model\\Order\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$orderMock",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Sales\\Model\\Order\\Payment\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$paymentMock",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Framework\\Event\\ManagerInterface\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$eventManagerMock",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$helperManager",61],";",["T_WHITESPACE","\n\n    ",61],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","setUp",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","helperManager",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Framework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","TestFramework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Unit",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Helper",65],["T_NS_SEPARATOR","\\",65],["T_STRING","ObjectManager",65],"(",["T_VARIABLE","$this",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","orderMock",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getMockBuilder",66],"(",["T_WHITESPACE","\n            ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Sales",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Model",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Order",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],["T_WHITESPACE","\n        ",67],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","disableOriginalConstructor",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","setMethods",68],"(",["T_WHITESPACE","\n            ",68],"[",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'getPayment'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'load'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'setHistoryEntityName'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'getStore'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'getBillingAddress'",70],",",["T_WHITESPACE","\n                ",70],["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",71],["T_WHITESPACE","\n            ",71],"]",["T_WHITESPACE","\n        ",72],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getMock",73],"(",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","orderMock",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","expects",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","any",74],"(",")",")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","method",75],"(",["T_CONSTANT_ENCAPSED_STRING","'setHistoryEntityName'",75],")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","with",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","entityType",76],")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","will",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","returnSelf",77],"(",")",")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","paymentMock",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getMockBuilder",79],"(",["T_WHITESPACE","\n            ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Sales",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Model",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Order",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Payment",80],["T_DOUBLE_COLON","::",80],["T_CLASS","class",80],["T_WHITESPACE","\n        ",80],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","disableOriginalConstructor",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","setMethods",81],"(",["T_WHITESPACE","\n            ",81],"[",["T_CONSTANT_ENCAPSED_STRING","'canVoid'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'canCapture'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'capture'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'pay'",82],"]",["T_WHITESPACE","\n        ",82],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","getMock",83],"(",")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","orderFactory",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getMock",85],"(",["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Sales",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Model",85],["T_NS_SEPARATOR","\\",85],["T_STRING","OrderFactory",85],["T_DOUBLE_COLON","::",85],["T_CLASS","class",85],",",["T_WHITESPACE"," ",85],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",85],"]",",",["T_WHITESPACE"," ",85],"[","]",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","''",85],",",["T_WHITESPACE"," ",85],["T_STRING","false",85],")",";",["T_WHITESPACE","\n\n        ",85],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","eventManagerMock",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Event",87],["T_NS_SEPARATOR","\\",87],["T_STRING","ManagerInterface",87],["T_DOUBLE_COLON","::",87],["T_CLASS","class",87],",",["T_WHITESPACE"," ",87],"[","]",",",["T_WHITESPACE"," ",87],"[","]",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","''",87],",",["T_WHITESPACE"," ",87],["T_STRING","false",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$contextMock",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMock",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Context",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],",",["T_WHITESPACE"," ",88],"[","]",",",["T_WHITESPACE"," ",88],"[","]",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","''",88],",",["T_WHITESPACE"," ",88],["T_STRING","false",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$contextMock",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","expects",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","any",89],"(",")",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","method",90],"(",["T_CONSTANT_ENCAPSED_STRING","'getEventDispatcher'",90],")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","willReturn",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","eventManagerMock",91],")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$arguments",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'context'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$contextMock",94],",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'orderFactory'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","orderFactory",95],",",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'orderResourceFactory'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMock",96],"(",["T_WHITESPACE","\n                ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Sales",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","ResourceModel",97],["T_NS_SEPARATOR","\\",97],["T_STRING","OrderFactory",97],["T_DOUBLE_COLON","::",97],["T_CLASS","class",97],",",["T_WHITESPACE","\n                ",97],"[","]",",",["T_WHITESPACE","\n                ",98],"[","]",",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","''",100],",",["T_WHITESPACE","\n                ",100],["T_STRING","false",101],["T_WHITESPACE","\n            ",101],")",",",["T_WHITESPACE","\n            ",102],["T_CONSTANT_ENCAPSED_STRING","'calculatorFactory'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMock",103],"(",["T_WHITESPACE","\n                ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Framework",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Math",104],["T_NS_SEPARATOR","\\",104],["T_STRING","CalculatorFactory",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],",",["T_WHITESPACE","\n                    ",104],"[","]",",",["T_WHITESPACE","\n                    ",105],"[","]",",",["T_WHITESPACE","\n                    ",106],["T_CONSTANT_ENCAPSED_STRING","''",107],",",["T_WHITESPACE","\n                    ",107],["T_STRING","false",108],["T_WHITESPACE","\n                ",108],")",",",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'invoiceItemCollectionFactory'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMock",110],"(",["T_WHITESPACE","\n                ",110],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Sales",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Model",111],["T_NS_SEPARATOR","\\",111],["T_STRING","ResourceModel",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Order",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Invoice",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Item",111],["T_NS_SEPARATOR","\\",111],["T_STRING","CollectionFactory",111],["T_DOUBLE_COLON","::",111],["T_CLASS","class",111],",",["T_WHITESPACE","\n                ",111],"[","]",",",["T_WHITESPACE","\n                ",112],"[","]",",",["T_WHITESPACE","\n                ",113],["T_CONSTANT_ENCAPSED_STRING","''",114],",",["T_WHITESPACE","\n                ",114],["T_STRING","false",115],["T_WHITESPACE","\n            ",115],")",",",["T_WHITESPACE","\n            ",116],["T_CONSTANT_ENCAPSED_STRING","'invoiceCommentFactory'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMock",117],"(",["T_WHITESPACE","\n                ",117],["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Sales",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Model",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Order",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Invoice",118],["T_NS_SEPARATOR","\\",118],["T_STRING","CommentFactory",118],["T_DOUBLE_COLON","::",118],["T_CLASS","class",118],",",["T_WHITESPACE","\n                ",118],"[","]",",",["T_WHITESPACE","\n                ",119],"[","]",",",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","''",121],",",["T_WHITESPACE","\n                ",121],["T_STRING","false",122],["T_WHITESPACE","\n            ",122],")",",",["T_WHITESPACE","\n            ",123],["T_CONSTANT_ENCAPSED_STRING","'commentCollectionFactory'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMock",124],"(",["T_WHITESPACE","\n                ",124],["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Sales",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Model",125],["T_NS_SEPARATOR","\\",125],["T_STRING","ResourceModel",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Order",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Invoice",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Comment",125],["T_NS_SEPARATOR","\\",125],["T_STRING","CollectionFactory",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],",",["T_WHITESPACE","\n                ",125],"[","]",",",["T_WHITESPACE","\n                ",126],"[","]",",",["T_WHITESPACE","\n                ",127],["T_CONSTANT_ENCAPSED_STRING","''",128],",",["T_WHITESPACE","\n                ",128],["T_STRING","false",129],["T_WHITESPACE","\n            ",129],")",",",["T_WHITESPACE","\n        ",130],"]",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","model",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","helperManager",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getObject",132],"(",["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Sales",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Model",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Order",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Invoice",132],["T_DOUBLE_COLON","::",132],["T_CLASS","class",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$arguments",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","model",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","setOrder",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","orderMock",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","modelWithoutOrder",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","helperManager",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getObject",134],"(",["T_WHITESPACE","\n            ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Sales",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Model",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Order",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Invoice",135],["T_DOUBLE_COLON","::",135],["T_CLASS","class",135],",",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$arguments",136],["T_WHITESPACE","\n        ",136],")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * @dataProvider canVoidDataProvider\n     * @param bool $canVoid\n     *\/",140],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","testCanVoid",144],"(",["T_VARIABLE","$canVoid",144],")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","orderMock",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","expects",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","once",146],"(",")",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","method",146],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",146],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","willReturn",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","paymentMock",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","paymentMock",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","expects",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","once",147],"(",")",")",["T_WHITESPACE","\n            ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","method",148],"(",["T_CONSTANT_ENCAPSED_STRING","'canVoid'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",148],")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","willReturn",149],"(",["T_VARIABLE","$canVoid",149],")",";",["T_WHITESPACE","\n\n        ",149],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","model",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","setState",151],"(",["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Sales",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Model",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Order",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Invoice",151],["T_DOUBLE_COLON","::",151],["T_STRING","STATE_PAID",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertEquals",152],"(",["T_VARIABLE","$canVoid",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","model",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","canVoid",152],"(",")",")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * @dataProvider canVoidDataProvider\n     * @param bool $canVoid\n     *\/",155],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","testDefaultCanVoid",159],"(",["T_VARIABLE","$canVoid",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","model",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setState",161],"(",["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Sales",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Model",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Order",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Invoice",161],["T_DOUBLE_COLON","::",161],["T_STRING","STATE_PAID",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","model",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","setCanVoidFlag",162],"(",["T_VARIABLE","$canVoid",162],")",";",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertEquals",164],"(",["T_VARIABLE","$canVoid",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","model",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","canVoid",164],"(",")",")",";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","canVoidDataProvider",167],"(",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],"[","[",["T_STRING","true",169],"]",",",["T_WHITESPACE"," ",169],"[",["T_STRING","false",169],"]","]",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","testGetOrder",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","orderMock",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","expects",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","once",174],"(",")",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","method",175],"(",["T_CONSTANT_ENCAPSED_STRING","'setHistoryEntityName'",175],")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","with",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","entityType",176],")",["T_WHITESPACE","\n            ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","will",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","returnSelf",177],"(",")",")",";",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertEquals",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","orderMock",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","model",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getOrder",179],"(",")",")",";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","testGetOrderLoadedById",182],"(",")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$orderId",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_LNUMBER","100000041",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","modelWithoutOrder",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","setOrderId",185],"(",["T_VARIABLE","$orderId",185],")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","orderMock",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","expects",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","once",186],"(",")",")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","method",187],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",187],")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","with",188],"(",["T_VARIABLE","$orderId",188],")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","willReturnSelf",189],"(",")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","orderMock",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","once",190],"(",")",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","method",191],"(",["T_CONSTANT_ENCAPSED_STRING","'setHistoryEntityName'",191],")",["T_WHITESPACE","\n            ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","with",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","entityType",192],")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","willReturnSelf",193],"(",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","orderFactory",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","expects",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","once",194],"(",")",")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","method",195],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",195],")",["T_WHITESPACE","\n            ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","willReturn",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","orderMock",196],")",";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertEquals",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","orderMock",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","modelWithoutOrder",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getOrder",198],"(",")",")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","testGetEntityType",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertEquals",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","entityType",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","model",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getEntityType",203],"(",")",")",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","testGetIncrementId",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","model",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","setIncrementId",208],"(",["T_CONSTANT_ENCAPSED_STRING","'test_increment_id'",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertEquals",209],"(",["T_CONSTANT_ENCAPSED_STRING","'test_increment_id'",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","model",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getIncrementId",209],"(",")",")",";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","testSetOrder",212],"(",")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$orderId",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_LNUMBER","1111",214],";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$storeId",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_LNUMBER","2221",215],";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","orderMock",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","setId",216],"(",["T_VARIABLE","$orderId",216],")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","orderMock",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setStoreId",217],"(",["T_VARIABLE","$storeId",217],")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertNull",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","model",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getOrderId",218],"(",")",")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertNull",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","model",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getStoreId",219],"(",")",")",";",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertEquals",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","model",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","model",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","setOrder",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","orderMock",221],")",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEquals",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","orderMock",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","model",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getOrder",222],"(",")",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertEquals",223],"(",["T_VARIABLE","$orderId",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","model",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getOrderId",223],"(",")",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertEquals",224],"(",["T_VARIABLE","$storeId",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","model",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getStoreId",224],"(",")",")",";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","testGetStore",227],"(",")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$store",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","helperManager",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getObject",229],"(",["T_NS_SEPARATOR","\\",229],["T_STRING","Magento",229],["T_NS_SEPARATOR","\\",229],["T_STRING","Store",229],["T_NS_SEPARATOR","\\",229],["T_STRING","Model",229],["T_NS_SEPARATOR","\\",229],["T_STRING","Store",229],["T_DOUBLE_COLON","::",229],["T_CLASS","class",229],",",["T_WHITESPACE"," ",229],"[","]",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","orderMock",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","expects",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","once",230],"(",")",")",["T_OBJECT_OPERATOR","->",230],["T_STRING","method",230],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",230],")",["T_OBJECT_OPERATOR","->",230],["T_STRING","willReturn",230],"(",["T_VARIABLE","$store",230],")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertEquals",231],"(",["T_VARIABLE","$store",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","model",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getStore",231],"(",")",")",";",["T_WHITESPACE","\n\n    ",231],"}",["T_WHITESPACE","\n\n    ",233],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","testGetShippingAddress",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$address",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","helperManager",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getObject",237],"(",["T_NS_SEPARATOR","\\",237],["T_STRING","Magento",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Sales",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Model",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Order",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Address",237],["T_DOUBLE_COLON","::",237],["T_CLASS","class",237],",",["T_WHITESPACE"," ",237],"[","]",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","orderMock",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","expects",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","once",238],"(",")",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","method",238],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",238],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","willReturn",238],"(",["T_VARIABLE","$address",238],")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertEquals",239],"(",["T_VARIABLE","$address",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","model",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getShippingAddress",239],"(",")",")",";",["T_WHITESPACE","\n\n    ",239],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * @dataProvider canCaptureDataProvider\n     * @param string $state\n     * @param bool|null $canPaymentCapture\n     * @param bool $expectedResult\n     *\/",243],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","testCanCapture",249],"(",["T_VARIABLE","$state",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$canPaymentCapture",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$expectedResult",249],")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","model",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","setState",251],"(",["T_VARIABLE","$state",251],")",";",["T_WHITESPACE","\n        ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_STRING","null",252],["T_WHITESPACE"," ",252],["T_IS_NOT_IDENTICAL","!==",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$canPaymentCapture",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","orderMock",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","expects",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","once",253],"(",")",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","method",253],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",253],")",["T_OBJECT_OPERATOR","->",253],["T_STRING","willReturn",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","paymentMock",253],")",";",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","paymentMock",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","expects",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","once",254],"(",")",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","method",254],"(",["T_CONSTANT_ENCAPSED_STRING","'canCapture'",254],")",["T_OBJECT_OPERATOR","->",254],["T_STRING","willReturn",254],"(",["T_VARIABLE","$canPaymentCapture",254],")",";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE"," ",255],["T_ELSE","else",255],["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","orderMock",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","expects",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","never",256],"(",")",")",["T_OBJECT_OPERATOR","->",256],["T_STRING","method",256],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",256],")",";",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","paymentMock",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","expects",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","never",257],"(",")",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","method",257],"(",["T_CONSTANT_ENCAPSED_STRING","'canCapture'",257],")",";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertEquals",259],"(",["T_VARIABLE","$expectedResult",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","model",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","canCapture",259],"(",")",")",";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Data provider for testCanCapture\n     *\n     * @return array\n     *\/",262],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","canCaptureDataProvider",267],"(",")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],"[",["T_WHITESPACE","\n            ",269],"[",["T_STRING","Invoice",270],["T_DOUBLE_COLON","::",270],["T_STRING","STATE_OPEN",270],",",["T_WHITESPACE"," ",270],["T_STRING","true",270],",",["T_WHITESPACE"," ",270],["T_STRING","true",270],"]",",",["T_WHITESPACE","\n            ",270],"[",["T_STRING","Invoice",271],["T_DOUBLE_COLON","::",271],["T_STRING","STATE_OPEN",271],",",["T_WHITESPACE"," ",271],["T_STRING","false",271],",",["T_WHITESPACE"," ",271],["T_STRING","false",271],"]",",",["T_WHITESPACE","\n            ",271],"[",["T_STRING","Invoice",272],["T_DOUBLE_COLON","::",272],["T_STRING","STATE_CANCELED",272],",",["T_WHITESPACE"," ",272],["T_STRING","null",272],",",["T_WHITESPACE"," ",272],["T_STRING","false",272],"]",",",["T_WHITESPACE","\n            ",272],"[",["T_STRING","Invoice",273],["T_DOUBLE_COLON","::",273],["T_STRING","STATE_CANCELED",273],",",["T_WHITESPACE"," ",273],["T_STRING","null",273],",",["T_WHITESPACE"," ",273],["T_STRING","false",273],"]",",",["T_WHITESPACE","\n            ",273],"[",["T_STRING","Invoice",274],["T_DOUBLE_COLON","::",274],["T_STRING","STATE_PAID",274],",",["T_WHITESPACE"," ",274],["T_STRING","null",274],",",["T_WHITESPACE"," ",274],["T_STRING","false",274],"]",",",["T_WHITESPACE","\n            ",274],"[",["T_STRING","Invoice",275],["T_DOUBLE_COLON","::",275],["T_STRING","STATE_PAID",275],",",["T_WHITESPACE"," ",275],["T_STRING","null",275],",",["T_WHITESPACE"," ",275],["T_STRING","false",275],"]",["T_WHITESPACE","\n        ",275],"]",";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * @dataProvider canCancelDataProvider\n     * @param string $state\n     * @param bool $expectedResult\n     *\/",279],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","testCanCancel",284],"(",["T_VARIABLE","$state",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$expectedResult",284],")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","model",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","setState",286],"(",["T_VARIABLE","$state",286],")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","assertEquals",287],"(",["T_VARIABLE","$expectedResult",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","model",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","canCancel",287],"(",")",")",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Data provider for testCanCancel\n     *\n     * @return array\n     *\/",290],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","canCancelDataProvider",295],"(",")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_RETURN","return",297],["T_WHITESPACE"," ",297],"[",["T_WHITESPACE","\n            ",297],"[",["T_STRING","Invoice",298],["T_DOUBLE_COLON","::",298],["T_STRING","STATE_OPEN",298],",",["T_WHITESPACE"," ",298],["T_STRING","true",298],"]",",",["T_WHITESPACE","\n            ",298],"[",["T_STRING","Invoice",299],["T_DOUBLE_COLON","::",299],["T_STRING","STATE_CANCELED",299],",",["T_WHITESPACE"," ",299],["T_STRING","false",299],"]",",",["T_WHITESPACE","\n            ",299],"[",["T_STRING","Invoice",300],["T_DOUBLE_COLON","::",300],["T_STRING","STATE_PAID",300],",",["T_WHITESPACE"," ",300],["T_STRING","false",300],"]",["T_WHITESPACE","\n        ",300],"]",";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * @dataProvider canRefundDataProvider\n     * @param string $state\n     * @param float $baseGrandTotal\n     * @param float $baseTotalRefunded\n     * @param bool $expectedResult\n     *\/",304],["T_WHITESPACE","\n    ",310],["T_PUBLIC","public",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","testCanRefund",311],"(",["T_VARIABLE","$state",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$baseGrandTotal",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$baseTotalRefunded",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$expectedResult",311],")",["T_WHITESPACE","\n    ",311],"{",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","model",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","setState",313],"(",["T_VARIABLE","$state",313],")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","model",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","setBaseGrandTotal",314],"(",["T_VARIABLE","$baseGrandTotal",314],")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","model",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","setBaseTotalRefunded",315],"(",["T_VARIABLE","$baseTotalRefunded",315],")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertEquals",316],"(",["T_VARIABLE","$expectedResult",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","model",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","canRefund",316],"(",")",")",";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * Data provider for testCanRefund\n     *\n     * @return array\n     *\/",319],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","canRefundDataProvider",324],"(",")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],"[",["T_WHITESPACE","\n            ",326],"[",["T_STRING","Invoice",327],["T_DOUBLE_COLON","::",327],["T_STRING","STATE_OPEN",327],",",["T_WHITESPACE"," ",327],["T_DNUMBER","0.00",327],",",["T_WHITESPACE"," ",327],["T_DNUMBER","0.00",327],",",["T_WHITESPACE"," ",327],["T_STRING","false",327],"]",",",["T_WHITESPACE","\n            ",327],"[",["T_STRING","Invoice",328],["T_DOUBLE_COLON","::",328],["T_STRING","STATE_CANCELED",328],",",["T_WHITESPACE"," ",328],["T_DNUMBER","1.00",328],",",["T_WHITESPACE"," ",328],["T_DNUMBER","0.01",328],",",["T_WHITESPACE"," ",328],["T_STRING","false",328],"]",",",["T_WHITESPACE","\n            ",328],"[",["T_STRING","Invoice",329],["T_DOUBLE_COLON","::",329],["T_STRING","STATE_PAID",329],",",["T_WHITESPACE"," ",329],["T_DNUMBER","1.00",329],",",["T_WHITESPACE"," ",329],["T_DNUMBER","0.00",329],",",["T_WHITESPACE"," ",329],["T_STRING","true",329],"]",",",["T_WHITESPACE","\n            ",329],["T_COMMENT","\/\/[Invoice::STATE_PAID, 1.00, 1.00, false]\n",330],["T_WHITESPACE","            ",331],"[",["T_STRING","Invoice",331],["T_DOUBLE_COLON","::",331],["T_STRING","STATE_PAID",331],",",["T_WHITESPACE"," ",331],["T_DNUMBER","1.000101",331],",",["T_WHITESPACE"," ",331],["T_DNUMBER","1.0000",331],",",["T_WHITESPACE"," ",331],["T_STRING","true",331],"]",",",["T_WHITESPACE","\n            ",331],"[",["T_STRING","Invoice",332],["T_DOUBLE_COLON","::",332],["T_STRING","STATE_PAID",332],",",["T_WHITESPACE"," ",332],["T_DNUMBER","1.0001",332],",",["T_WHITESPACE"," ",332],["T_DNUMBER","1.00",332],",",["T_WHITESPACE"," ",332],["T_STRING","false",332],"]",",",["T_WHITESPACE","\n            ",332],"[",["T_STRING","Invoice",333],["T_DOUBLE_COLON","::",333],["T_STRING","STATE_PAID",333],",",["T_WHITESPACE"," ",333],["T_DNUMBER","1.00",333],",",["T_WHITESPACE"," ",333],["T_DNUMBER","1.0001",333],",",["T_WHITESPACE"," ",333],["T_STRING","false",333],"]",",",["T_WHITESPACE","\n        ",333],"]",";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_PUBLIC","public",337],["T_WHITESPACE"," ",337],["T_FUNCTION","function",337],["T_WHITESPACE"," ",337],["T_STRING","testCaptureNotPaid",337],"(",")",["T_WHITESPACE","\n    ",337],"{",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","model",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","setIsPaid",339],"(",["T_STRING","false",339],")",";",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","orderMock",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","expects",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","once",340],"(",")",")",["T_OBJECT_OPERATOR","->",340],["T_STRING","method",340],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",340],")",["T_OBJECT_OPERATOR","->",340],["T_STRING","willReturn",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","paymentMock",340],")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","paymentMock",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","expects",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","once",341],"(",")",")",["T_OBJECT_OPERATOR","->",341],["T_STRING","method",341],"(",["T_CONSTANT_ENCAPSED_STRING","'capture'",341],")",["T_OBJECT_OPERATOR","->",341],["T_STRING","with",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","model",341],")",["T_OBJECT_OPERATOR","->",341],["T_STRING","willReturnSelf",341],"(",")",";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","paymentMock",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","expects",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","never",342],"(",")",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","method",342],"(",["T_CONSTANT_ENCAPSED_STRING","'pay'",342],")",";",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","assertEquals",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","model",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","model",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","capture",343],"(",")",")",";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_PUBLIC","public",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","testCapturePaid",346],"(",")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","model",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","setIsPaid",348],"(",["T_STRING","true",348],")",";",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","orderMock",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","expects",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","any",349],"(",")",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","method",349],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",349],")",["T_OBJECT_OPERATOR","->",349],["T_STRING","willReturn",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","paymentMock",349],")",";",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","paymentMock",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","expects",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","any",350],"(",")",")",["T_OBJECT_OPERATOR","->",350],["T_STRING","method",350],"(",["T_CONSTANT_ENCAPSED_STRING","'capture'",350],")",["T_OBJECT_OPERATOR","->",350],["T_STRING","with",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","model",350],")",["T_OBJECT_OPERATOR","->",350],["T_STRING","willReturnSelf",350],"(",")",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","mockPay",351],"(",")",";",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","assertEquals",352],"(",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","model",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","model",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","capture",352],"(",")",")",";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","mockPay",355],"(",")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","orderMock",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","expects",357],"(",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","any",357],"(",")",")",["T_OBJECT_OPERATOR","->",357],["T_STRING","method",357],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",357],")",["T_OBJECT_OPERATOR","->",357],["T_STRING","willReturn",357],"(",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","paymentMock",357],")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","paymentMock",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","expects",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","once",358],"(",")",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","method",358],"(",["T_CONSTANT_ENCAPSED_STRING","'pay'",358],")",["T_OBJECT_OPERATOR","->",358],["T_STRING","with",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","model",358],")",["T_OBJECT_OPERATOR","->",358],["T_STRING","willReturnSelf",358],"(",")",";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","eventManagerMock",359],["T_WHITESPACE","\n            ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","expects",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","once",360],"(",")",")",["T_WHITESPACE","\n            ",360],["T_OBJECT_OPERATOR","->",361],["T_STRING","method",361],"(",["T_CONSTANT_ENCAPSED_STRING","'dispatch'",361],")",["T_WHITESPACE","\n            ",361],["T_OBJECT_OPERATOR","->",362],["T_STRING","with",362],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_invoice_pay'",362],")",";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * @dataProvider payDataProvider\n     * @param float $orderTotalPaid\n     * @param float $orderBaseTotalPaid\n     * @param float $grandTotal\n     * @param float $baseGrandTotal\n     * @param float $expectedState\n     *\/",365],["T_WHITESPACE","\n    ",372],["T_PUBLIC","public",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","testPay",373],"(",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$orderTotalPaid",374],",",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$orderBaseTotalPaid",375],",",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$grandTotal",376],",",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$baseGrandTotal",377],",",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$expectedState",378],["T_WHITESPACE","\n    ",378],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","mockPay",380],"(",")",";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","model",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","setGrandTotal",381],"(",["T_VARIABLE","$grandTotal",381],")",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","model",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","setBaseGrandTotal",382],"(",["T_VARIABLE","$baseGrandTotal",382],")",";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","orderMock",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","setTotalPaid",383],"(",["T_VARIABLE","$orderTotalPaid",383],")",";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","orderMock",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","setBaseTotalPaid",384],"(",["T_VARIABLE","$orderBaseTotalPaid",384],")",";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","assertFalse",385],"(",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","model",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","wasPayCalled",385],"(",")",")",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","assertEquals",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","model",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","model",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","pay",386],"(",")",")",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","assertTrue",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","model",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","wasPayCalled",387],"(",")",")",";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","assertEquals",388],"(",["T_VARIABLE","$expectedState",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","model",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getState",388],"(",")",")",";",["T_WHITESPACE","\n        ",388],["T_COMMENT","#second call of pay() method must do nothing\n",389],["T_WHITESPACE","        ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","model",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","pay",390],"(",")",";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","payDataProvider",393],"(",")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_COMMENT","\/\/ToDo: fill data provider and uncomment assertings totals in testPay\n",395],["T_WHITESPACE","        ",396],["T_RETURN","return",396],["T_WHITESPACE"," ",396],"[",["T_WHITESPACE","\n            ",396],"[",["T_DNUMBER","10.99",397],",",["T_WHITESPACE"," ",397],["T_DNUMBER","1.00",397],",",["T_WHITESPACE"," ",397],["T_DNUMBER","10.99",397],",",["T_WHITESPACE"," ",397],["T_DNUMBER","1.00",397],",",["T_WHITESPACE"," ",397],["T_STRING","Invoice",397],["T_DOUBLE_COLON","::",397],["T_STRING","STATE_PAID",397],"]",["T_WHITESPACE","\n        ",397],"]",";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n",399],"}",["T_WHITESPACE","\n",400]]