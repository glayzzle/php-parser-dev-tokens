[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Service",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Sales",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Order",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Class CreditmemoServiceTest\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",10],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","CreditmemoServiceTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\CreditmemoRepositoryInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$creditmemoRepositoryMock",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\CreditmemoCommentRepositoryInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$creditmemoCommentRepositoryMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\SearchCriteriaBuilder|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$searchCriteriaBuilderMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\FilterBuilder|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$filterBuilderMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\CreditmemoNotifier|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$creditmemoNotifierMock",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Pricing\\PriceCurrencyInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$priceCurrencyMock",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Service\\CreditmemoService\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$creditmemoService",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$objectManagerHelper",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * SetUp\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","setUp",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","creditmemoRepositoryMock",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getMockForAbstractClass",61],"(",["T_WHITESPACE","\n            ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Sales",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Api",62],["T_NS_SEPARATOR","\\",62],["T_STRING","CreditmemoRepositoryInterface",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],",",["T_WHITESPACE","\n            ",62],"[",["T_CONSTANT_ENCAPSED_STRING","'get'",63],"]",",",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","''",64],",",["T_WHITESPACE","\n            ",64],["T_STRING","false",65],["T_WHITESPACE","\n        ",65],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","creditmemoCommentRepositoryMock",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockForAbstractClass",67],"(",["T_WHITESPACE","\n            ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Sales",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Api",68],["T_NS_SEPARATOR","\\",68],["T_STRING","CreditmemoCommentRepositoryInterface",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],",",["T_WHITESPACE","\n            ",68],"[","]",",",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","''",70],",",["T_WHITESPACE","\n            ",70],["T_STRING","false",71],["T_WHITESPACE","\n        ",71],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","searchCriteriaBuilderMock",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getMock",73],"(",["T_WHITESPACE","\n            ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Framework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Api",74],["T_NS_SEPARATOR","\\",74],["T_STRING","SearchCriteriaBuilder",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],",",["T_WHITESPACE","\n            ",74],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'addFilters'",75],"]",",",["T_WHITESPACE","\n            ",75],"[","]",",",["T_WHITESPACE","\n            ",76],["T_CONSTANT_ENCAPSED_STRING","''",77],",",["T_WHITESPACE","\n            ",77],["T_STRING","false",78],["T_WHITESPACE","\n        ",78],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","filterBuilderMock",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMock",80],"(",["T_WHITESPACE","\n            ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Api",81],["T_NS_SEPARATOR","\\",81],["T_STRING","FilterBuilder",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],",",["T_WHITESPACE","\n            ",81],"[",["T_CONSTANT_ENCAPSED_STRING","'setField'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'setValue'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'setConditionType'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'create'",82],"]",",",["T_WHITESPACE","\n            ",82],"[","]",",",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","''",84],",",["T_WHITESPACE","\n            ",84],["T_STRING","false",85],["T_WHITESPACE","\n        ",85],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","creditmemoNotifierMock",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",["T_WHITESPACE","\n            ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Sales",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Order",88],["T_NS_SEPARATOR","\\",88],["T_STRING","CreditmemoNotifier",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],",",["T_WHITESPACE","\n            ",88],"[","]",",",["T_WHITESPACE","\n            ",89],"[","]",",",["T_WHITESPACE","\n            ",90],["T_CONSTANT_ENCAPSED_STRING","''",91],",",["T_WHITESPACE","\n            ",91],["T_STRING","false",92],["T_WHITESPACE","\n        ",92],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","priceCurrencyMock",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getMockBuilder",94],"(",["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Pricing",94],["T_NS_SEPARATOR","\\",94],["T_STRING","PriceCurrencyInterface",94],["T_DOUBLE_COLON","::",94],["T_CLASS","class",94],")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMockForAbstractClass",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","objectManagerHelper",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Framework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","TestFramework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Unit",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Helper",96],["T_NS_SEPARATOR","\\",96],["T_STRING","ObjectManager",96],"(",["T_VARIABLE","$this",96],")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","creditmemoService",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","objectManagerHelper",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getObject",98],"(",["T_WHITESPACE","\n            ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Sales",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Model",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Service",99],["T_NS_SEPARATOR","\\",99],["T_STRING","CreditmemoService",99],["T_DOUBLE_COLON","::",99],["T_CLASS","class",99],",",["T_WHITESPACE","\n            ",99],"[",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'creditmemoRepository'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","creditmemoRepositoryMock",101],",",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'creditmemoCommentRepository'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","creditmemoCommentRepositoryMock",102],",",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'searchCriteriaBuilder'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","searchCriteriaBuilderMock",103],",",["T_WHITESPACE","\n                ",103],["T_CONSTANT_ENCAPSED_STRING","'filterBuilder'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","filterBuilderMock",104],",",["T_WHITESPACE","\n                ",104],["T_CONSTANT_ENCAPSED_STRING","'creditmemoNotifier'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","creditmemoNotifierMock",105],",",["T_WHITESPACE","\n                ",105],["T_CONSTANT_ENCAPSED_STRING","'priceCurrency'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","priceCurrencyMock",106],",",["T_WHITESPACE","\n            ",106],"]",["T_WHITESPACE","\n        ",107],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Run test cancel method\n     * @expectedExceptionMessage You can not cancel Credit Memo\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",111],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","testCancel",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertTrue",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","creditmemoService",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","cancel",118],"(",["T_LNUMBER","1",118],")",")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Run test getCommentsList method\n     *\/",121],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","testGetCommentsList",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$id",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_LNUMBER","25",126],";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$returnValue",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'return-value'",127],";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$filterMock",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getMock",129],"(",["T_WHITESPACE","\n            ",129],["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Framework",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Api",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Filter",130],["T_DOUBLE_COLON","::",130],["T_CLASS","class",130],",",["T_WHITESPACE","\n            ",130],"[","]",",",["T_WHITESPACE","\n            ",131],"[","]",",",["T_WHITESPACE","\n            ",132],["T_CONSTANT_ENCAPSED_STRING","''",133],",",["T_WHITESPACE","\n            ",133],["T_STRING","false",134],["T_WHITESPACE","\n        ",134],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$searchCriteriaMock",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getMock",136],"(",["T_WHITESPACE","\n            ",136],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Framework",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Api",137],["T_NS_SEPARATOR","\\",137],["T_STRING","SearchCriteria",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],",",["T_WHITESPACE","\n            ",137],"[","]",",",["T_WHITESPACE","\n            ",138],"[","]",",",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","''",140],",",["T_WHITESPACE","\n            ",140],["T_STRING","false",141],["T_WHITESPACE","\n        ",141],")",";",["T_WHITESPACE","\n\n        ",142],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","filterBuilderMock",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","expects",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","once",144],"(",")",")",["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","method",145],"(",["T_CONSTANT_ENCAPSED_STRING","'setField'",145],")",["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","with",146],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",146],")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","will",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","returnSelf",147],"(",")",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","filterBuilderMock",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","expects",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","once",148],"(",")",")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","method",149],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",149],")",["T_WHITESPACE","\n            ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","with",150],"(",["T_VARIABLE","$id",150],")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","will",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","returnSelf",151],"(",")",")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","filterBuilderMock",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","expects",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","once",152],"(",")",")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","method",153],"(",["T_CONSTANT_ENCAPSED_STRING","'setConditionType'",153],")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","with",154],"(",["T_CONSTANT_ENCAPSED_STRING","'eq'",154],")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","will",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","returnSelf",155],"(",")",")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","filterBuilderMock",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","expects",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","once",156],"(",")",")",["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","method",157],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",157],")",["T_WHITESPACE","\n            ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","will",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","returnValue",158],"(",["T_VARIABLE","$filterMock",158],")",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","searchCriteriaBuilderMock",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","expects",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","once",159],"(",")",")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","method",160],"(",["T_CONSTANT_ENCAPSED_STRING","'addFilters'",160],")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","with",161],"(","[",["T_VARIABLE","$filterMock",161],"]",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","searchCriteriaBuilderMock",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","expects",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","once",162],"(",")",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","will",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","returnValue",164],"(",["T_VARIABLE","$searchCriteriaMock",164],")",")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","creditmemoCommentRepositoryMock",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","expects",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","once",165],"(",")",")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","method",166],"(",["T_CONSTANT_ENCAPSED_STRING","'getList'",166],")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","with",167],"(",["T_VARIABLE","$searchCriteriaMock",167],")",["T_WHITESPACE","\n            ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","will",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","returnValue",168],"(",["T_VARIABLE","$returnValue",168],")",")",";",["T_WHITESPACE","\n\n        ",168],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEquals",170],"(",["T_VARIABLE","$returnValue",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","creditmemoService",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getCommentsList",170],"(",["T_VARIABLE","$id",170],")",")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Run test notify method\n     *\/",173],["T_WHITESPACE","\n    ",175],["T_PUBLIC","public",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","testNotify",176],"(",")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$id",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_LNUMBER","123",178],";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$returnValue",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'return-value'",179],";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$modelMock",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getMockForAbstractClass",181],"(",["T_WHITESPACE","\n            ",181],["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Sales",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Model",182],["T_NS_SEPARATOR","\\",182],["T_STRING","AbstractModel",182],["T_DOUBLE_COLON","::",182],["T_CLASS","class",182],",",["T_WHITESPACE","\n            ",182],"[","]",",",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","''",184],",",["T_WHITESPACE","\n            ",184],["T_STRING","false",185],["T_WHITESPACE","\n        ",185],")",";",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","creditmemoRepositoryMock",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","expects",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","once",188],"(",")",")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","method",189],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",189],")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","with",190],"(",["T_VARIABLE","$id",190],")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","will",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","returnValue",191],"(",["T_VARIABLE","$modelMock",191],")",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","creditmemoNotifierMock",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","expects",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","once",192],"(",")",")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","method",193],"(",["T_CONSTANT_ENCAPSED_STRING","'notify'",193],")",["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","with",194],"(",["T_VARIABLE","$modelMock",194],")",["T_WHITESPACE","\n        ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","will",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","returnValue",195],"(",["T_VARIABLE","$returnValue",195],")",")",";",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertEquals",197],"(",["T_VARIABLE","$returnValue",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","creditmemoService",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","notify",197],"(",["T_VARIABLE","$id",197],")",")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","testRefund",200],"(",")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$creditMemoMock",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getMockBuilder",202],"(",["T_NS_SEPARATOR","\\",202],["T_STRING","Magento",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Sales",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Api",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Data",202],["T_NS_SEPARATOR","\\",202],["T_STRING","CreditmemoInterface",202],["T_DOUBLE_COLON","::",202],["T_CLASS","class",202],")",["T_WHITESPACE","\n            ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","setMethods",203],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getId'",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'getOrder'",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'getInvoice'",203],"]",")",["T_WHITESPACE","\n            ",203],["T_OBJECT_OPERATOR","->",204],["T_STRING","disableOriginalConstructor",204],"(",")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","getMockForAbstractClass",205],"(",")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$creditMemoMock",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","expects",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","once",206],"(",")",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","method",206],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",206],")",["T_OBJECT_OPERATOR","->",206],["T_STRING","willReturn",206],"(",["T_STRING","null",206],")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$orderMock",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getMockBuilder",207],"(",["T_STRING","Order",207],["T_DOUBLE_COLON","::",207],["T_CLASS","class",207],")",["T_OBJECT_OPERATOR","->",207],["T_STRING","disableOriginalConstructor",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getMock",207],"(",")",";",["T_WHITESPACE","\n\n        ",207],["T_VARIABLE","$creditMemoMock",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","expects",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","atLeastOnce",209],"(",")",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","method",209],"(",["T_CONSTANT_ENCAPSED_STRING","'getOrder'",209],")",["T_OBJECT_OPERATOR","->",209],["T_STRING","willReturn",209],"(",["T_VARIABLE","$orderMock",209],")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$orderMock",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","expects",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","once",210],"(",")",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","method",210],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseTotalRefunded'",210],")",["T_OBJECT_OPERATOR","->",210],["T_STRING","willReturn",210],"(",["T_LNUMBER","0",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$orderMock",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","expects",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","once",211],"(",")",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","method",211],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseTotalPaid'",211],")",["T_OBJECT_OPERATOR","->",211],["T_STRING","willReturn",211],"(",["T_LNUMBER","10",211],")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$creditMemoMock",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","expects",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","once",212],"(",")",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","method",212],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseGrandTotal'",212],")",["T_OBJECT_OPERATOR","->",212],["T_STRING","willReturn",212],"(",["T_LNUMBER","10",212],")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","priceCurrencyMock",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","expects",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","any",214],"(",")",")",["T_WHITESPACE","\n            ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","method",215],"(",["T_CONSTANT_ENCAPSED_STRING","'round'",215],")",["T_WHITESPACE","\n            ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","willReturnArgument",216],"(",["T_LNUMBER","0",216],")",";",["T_WHITESPACE","\n\n        ",216],["T_COMMENT","\/\/ Set payment adapter dependency\n",218],["T_WHITESPACE","        ",219],["T_VARIABLE","$paymentAdapterMock",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getMockBuilder",219],"(",["T_NS_SEPARATOR","\\",219],["T_STRING","Magento",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Sales",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Model",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Order",219],["T_NS_SEPARATOR","\\",219],["T_STRING","PaymentAdapterInterface",219],["T_DOUBLE_COLON","::",219],["T_CLASS","class",219],")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","disableOriginalConstructor",220],"(",")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","getMockForAbstractClass",221],"(",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","objectManagerHelper",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","setBackwardCompatibleProperty",222],"(",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","creditmemoService",223],",",["T_WHITESPACE","\n            ",223],["T_CONSTANT_ENCAPSED_STRING","'paymentAdapter'",224],",",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$paymentAdapterMock",225],["T_WHITESPACE","\n        ",225],")",";",["T_WHITESPACE","\n\n        ",226],["T_COMMENT","\/\/ Set resource dependency\n",228],["T_WHITESPACE","        ",229],["T_VARIABLE","$resourceMock",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getMockBuilder",229],"(",["T_NS_SEPARATOR","\\",229],["T_STRING","Magento",229],["T_NS_SEPARATOR","\\",229],["T_STRING","Framework",229],["T_NS_SEPARATOR","\\",229],["T_STRING","App",229],["T_NS_SEPARATOR","\\",229],["T_STRING","ResourceConnection",229],["T_DOUBLE_COLON","::",229],["T_CLASS","class",229],")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","disableOriginalConstructor",230],"(",")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","getMock",231],"(",")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","objectManagerHelper",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","setBackwardCompatibleProperty",232],"(",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","creditmemoService",233],",",["T_WHITESPACE","\n            ",233],["T_CONSTANT_ENCAPSED_STRING","'resource'",234],",",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$resourceMock",235],["T_WHITESPACE","\n        ",235],")",";",["T_WHITESPACE","\n\n        ",236],["T_COMMENT","\/\/ Set order repository dependency\n",238],["T_WHITESPACE","        ",239],["T_VARIABLE","$orderRepositoryMock",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getMockBuilder",239],"(",["T_NS_SEPARATOR","\\",239],["T_STRING","Magento",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Sales",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Api",239],["T_NS_SEPARATOR","\\",239],["T_STRING","OrderRepositoryInterface",239],["T_DOUBLE_COLON","::",239],["T_CLASS","class",239],")",["T_WHITESPACE","\n            ",239],["T_OBJECT_OPERATOR","->",240],["T_STRING","disableOriginalConstructor",240],"(",")",["T_WHITESPACE","\n            ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","getMockForAbstractClass",241],"(",")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","objectManagerHelper",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","setBackwardCompatibleProperty",242],"(",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","creditmemoService",243],",",["T_WHITESPACE","\n            ",243],["T_CONSTANT_ENCAPSED_STRING","'orderRepository'",244],",",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$orderRepositoryMock",245],["T_WHITESPACE","\n        ",245],")",";",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$adapterMock",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getMockBuilder",248],"(",["T_NS_SEPARATOR","\\",248],["T_STRING","Magento",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Framework",248],["T_NS_SEPARATOR","\\",248],["T_STRING","DB",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Adapter",248],["T_NS_SEPARATOR","\\",248],["T_STRING","AdapterInterface",248],["T_DOUBLE_COLON","::",248],["T_CLASS","class",248],")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","disableOriginalConstructor",249],"(",")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","getMockForAbstractClass",250],"(",")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$resourceMock",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","expects",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","once",251],"(",")",")",["T_OBJECT_OPERATOR","->",251],["T_STRING","method",251],"(",["T_CONSTANT_ENCAPSED_STRING","'getConnection'",251],")",["T_OBJECT_OPERATOR","->",251],["T_STRING","with",251],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",251],")",["T_OBJECT_OPERATOR","->",251],["T_STRING","willReturn",251],"(",["T_VARIABLE","$adapterMock",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$adapterMock",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","expects",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","once",252],"(",")",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","method",252],"(",["T_CONSTANT_ENCAPSED_STRING","'beginTransaction'",252],")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$paymentAdapterMock",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","expects",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","once",253],"(",")",")",["T_WHITESPACE","\n            ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","method",254],"(",["T_CONSTANT_ENCAPSED_STRING","'refund'",254],")",["T_WHITESPACE","\n            ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","with",255],"(",["T_VARIABLE","$creditMemoMock",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$orderMock",255],",",["T_WHITESPACE"," ",255],["T_STRING","false",255],")",["T_WHITESPACE","\n            ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","willReturn",256],"(",["T_VARIABLE","$orderMock",256],")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$orderRepositoryMock",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","expects",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","once",257],"(",")",")",["T_WHITESPACE","\n            ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","method",258],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",258],")",["T_WHITESPACE","\n            ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","with",259],"(",["T_VARIABLE","$orderMock",259],")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$creditMemoMock",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","expects",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","once",260],"(",")",")",["T_WHITESPACE","\n            ",260],["T_OBJECT_OPERATOR","->",261],["T_STRING","method",261],"(",["T_CONSTANT_ENCAPSED_STRING","'getInvoice'",261],")",["T_WHITESPACE","\n            ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","willReturn",262],"(",["T_STRING","null",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$adapterMock",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","expects",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","once",263],"(",")",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","method",263],"(",["T_CONSTANT_ENCAPSED_STRING","'commit'",263],")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","creditmemoRepositoryMock",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","expects",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","once",264],"(",")",")",["T_WHITESPACE","\n            ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","method",265],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",265],")",";",["T_WHITESPACE","\n\n        ",265],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertSame",267],"(",["T_VARIABLE","$creditMemoMock",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","creditmemoService",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","refund",267],"(",["T_VARIABLE","$creditMemoMock",267],",",["T_WHITESPACE"," ",267],["T_STRING","true",267],")",")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * @expectedExceptionMessage The most money available to refund is 1.\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",270],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","testRefundExpectsMoneyAvailableToReturn",274],"(",")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$baseGrandTotal",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_LNUMBER","10",276],";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$baseTotalRefunded",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_LNUMBER","9",277],";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$baseTotalPaid",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_LNUMBER","10",278],";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$creditMemoMock",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getMockBuilder",279],"(",["T_NS_SEPARATOR","\\",279],["T_STRING","Magento",279],["T_NS_SEPARATOR","\\",279],["T_STRING","Sales",279],["T_NS_SEPARATOR","\\",279],["T_STRING","Api",279],["T_NS_SEPARATOR","\\",279],["T_STRING","Data",279],["T_NS_SEPARATOR","\\",279],["T_STRING","CreditmemoInterface",279],["T_DOUBLE_COLON","::",279],["T_CLASS","class",279],")",["T_WHITESPACE","\n            ",279],["T_OBJECT_OPERATOR","->",280],["T_STRING","setMethods",280],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getId'",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'getOrder'",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'formatBasePrice'",280],"]",")",["T_WHITESPACE","\n            ",280],["T_OBJECT_OPERATOR","->",281],["T_STRING","getMockForAbstractClass",281],"(",")",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$creditMemoMock",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","expects",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","once",282],"(",")",")",["T_OBJECT_OPERATOR","->",282],["T_STRING","method",282],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",282],")",["T_OBJECT_OPERATOR","->",282],["T_STRING","willReturn",282],"(",["T_STRING","null",282],")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$orderMock",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getMockBuilder",283],"(",["T_STRING","Order",283],["T_DOUBLE_COLON","::",283],["T_CLASS","class",283],")",["T_OBJECT_OPERATOR","->",283],["T_STRING","disableOriginalConstructor",283],"(",")",["T_OBJECT_OPERATOR","->",283],["T_STRING","getMock",283],"(",")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$creditMemoMock",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","expects",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","atLeastOnce",284],"(",")",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","method",284],"(",["T_CONSTANT_ENCAPSED_STRING","'getOrder'",284],")",["T_OBJECT_OPERATOR","->",284],["T_STRING","willReturn",284],"(",["T_VARIABLE","$orderMock",284],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$creditMemoMock",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","expects",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","once",285],"(",")",")",["T_OBJECT_OPERATOR","->",285],["T_STRING","method",285],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseGrandTotal'",285],")",["T_OBJECT_OPERATOR","->",285],["T_STRING","willReturn",285],"(",["T_VARIABLE","$baseGrandTotal",285],")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$orderMock",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","expects",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","atLeastOnce",286],"(",")",")",["T_OBJECT_OPERATOR","->",286],["T_STRING","method",286],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseTotalRefunded'",286],")",["T_OBJECT_OPERATOR","->",286],["T_STRING","willReturn",286],"(",["T_VARIABLE","$baseTotalRefunded",286],")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","priceCurrencyMock",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","expects",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","exactly",287],"(",["T_LNUMBER","2",287],")",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","method",287],"(",["T_CONSTANT_ENCAPSED_STRING","'round'",287],")",["T_OBJECT_OPERATOR","->",287],["T_STRING","withConsecutive",287],"(",["T_WHITESPACE","\n            ",287],"[",["T_VARIABLE","$baseTotalRefunded",288],["T_WHITESPACE"," ",288],"+",["T_WHITESPACE"," ",288],["T_VARIABLE","$baseGrandTotal",288],"]",",",["T_WHITESPACE","\n            ",288],"[",["T_VARIABLE","$baseTotalPaid",289],"]",["T_WHITESPACE","\n        ",289],")",["T_OBJECT_OPERATOR","->",290],["T_STRING","willReturnOnConsecutiveCalls",290],"(",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$baseTotalRefunded",291],["T_WHITESPACE"," ",291],"+",["T_WHITESPACE"," ",291],["T_VARIABLE","$baseGrandTotal",291],",",["T_WHITESPACE","\n            ",291],["T_VARIABLE","$baseTotalPaid",292],["T_WHITESPACE","\n        ",292],")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$orderMock",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","expects",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","atLeastOnce",294],"(",")",")",["T_OBJECT_OPERATOR","->",294],["T_STRING","method",294],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseTotalPaid'",294],")",["T_OBJECT_OPERATOR","->",294],["T_STRING","willReturn",294],"(",["T_VARIABLE","$baseTotalPaid",294],")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$baseAvailableRefund",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$baseTotalPaid",295],["T_WHITESPACE"," ",295],"-",["T_WHITESPACE"," ",295],["T_VARIABLE","$baseTotalRefunded",295],";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$orderMock",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","expects",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","once",296],"(",")",")",["T_OBJECT_OPERATOR","->",296],["T_STRING","method",296],"(",["T_CONSTANT_ENCAPSED_STRING","'formatBasePrice'",296],")",["T_OBJECT_OPERATOR","->",296],["T_STRING","with",296],"(",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$baseAvailableRefund",297],["T_WHITESPACE","\n        ",297],")",["T_OBJECT_OPERATOR","->",298],["T_STRING","willReturn",298],"(",["T_VARIABLE","$baseAvailableRefund",298],")",";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","creditmemoService",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","refund",299],"(",["T_VARIABLE","$creditMemoMock",299],",",["T_WHITESPACE"," ",299],["T_STRING","true",299],")",";",["T_WHITESPACE","\n    ",299],"}",["T_WHITESPACE","\n\n    ",300],["T_DOC_COMMENT","\/**\n     * @expectedExceptionMessage We cannot register an existing credit memo.\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",302],["T_WHITESPACE","\n    ",305],["T_PUBLIC","public",306],["T_WHITESPACE"," ",306],["T_FUNCTION","function",306],["T_WHITESPACE"," ",306],["T_STRING","testRefundDoNotExpectsId",306],"(",")",["T_WHITESPACE","\n    ",306],"{",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$creditMemoMock",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getMockBuilder",308],"(",["T_NS_SEPARATOR","\\",308],["T_STRING","Magento",308],["T_NS_SEPARATOR","\\",308],["T_STRING","Sales",308],["T_NS_SEPARATOR","\\",308],["T_STRING","Api",308],["T_NS_SEPARATOR","\\",308],["T_STRING","Data",308],["T_NS_SEPARATOR","\\",308],["T_STRING","CreditmemoInterface",308],["T_DOUBLE_COLON","::",308],["T_CLASS","class",308],")",["T_WHITESPACE","\n            ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","setMethods",309],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getId'",309],"]",")",["T_WHITESPACE","\n            ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","getMockForAbstractClass",310],"(",")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$creditMemoMock",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","expects",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","once",311],"(",")",")",["T_OBJECT_OPERATOR","->",311],["T_STRING","method",311],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",311],")",["T_OBJECT_OPERATOR","->",311],["T_STRING","willReturn",311],"(",["T_LNUMBER","444",311],")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","creditmemoService",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","refund",312],"(",["T_VARIABLE","$creditMemoMock",312],",",["T_WHITESPACE"," ",312],["T_STRING","true",312],")",";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n",313],"}",["T_WHITESPACE","\n",314]]