[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Sales\\Block\\Adminhtml\\Order\\Totals\\TaxTest\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sales",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Unit",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Block",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adminhtml",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Order",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Totals",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","TaxTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/** @var  \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Sales\\Block\\Adminhtml\\Order\\Totals\\Tax *\/",14],["T_WHITESPACE","\n    ",14],["T_PRIVATE","private",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$taxMock",15],";",["T_WHITESPACE","\n\n    ",15],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","setUp",17],"(",")",["T_WHITESPACE","\n    ",17],"{",["T_WHITESPACE","\n        ",18],["T_VARIABLE","$getCalculatedTax",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[",["T_WHITESPACE","\n            ",19],["T_CONSTANT_ENCAPSED_STRING","'tax'",20],["T_WHITESPACE"," ",20],["T_DOUBLE_ARROW","=>",20],["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'tax'",20],",",["T_WHITESPACE","\n            ",20],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax'",21],["T_WHITESPACE"," ",21],["T_DOUBLE_ARROW","=>",21],["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax'",21],",",["T_WHITESPACE","\n        ",21],"]",";",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$taxHelperMock",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getMockBuilder",23],"(",["T_NS_SEPARATOR","\\",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Tax",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Helper",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Data",23],["T_DOUBLE_COLON","::",23],["T_CLASS","class",23],")",["T_WHITESPACE","\n            ",23],["T_OBJECT_OPERATOR","->",24],["T_STRING","setMethods",24],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getCalculatedTaxes'",24],"]",")",["T_WHITESPACE","\n            ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","disableOriginalConstructor",25],"(",")",["T_WHITESPACE","\n            ",25],["T_OBJECT_OPERATOR","->",26],["T_STRING","getMock",26],"(",")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$taxHelperMock",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","expects",27],"(",["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","any",27],"(",")",")",["T_WHITESPACE","\n            ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","method",28],"(",["T_CONSTANT_ENCAPSED_STRING","'getCalculatedTaxes'",28],")",["T_WHITESPACE","\n            ",28],["T_OBJECT_OPERATOR","->",29],["T_STRING","will",29],"(",["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","returnValue",29],"(",["T_VARIABLE","$getCalculatedTax",29],")",")",";",["T_WHITESPACE","\n\n        ",29],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","taxMock",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getMockBuilder",31],"(",["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Sales",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Block",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Adminhtml",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Order",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Totals",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Tax",31],["T_DOUBLE_COLON","::",31],["T_CLASS","class",31],")",["T_WHITESPACE","\n            ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","setConstructorArgs",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","_getConstructArguments",32],"(",["T_VARIABLE","$taxHelperMock",32],")",")",["T_WHITESPACE","\n            ",32],["T_OBJECT_OPERATOR","->",33],["T_STRING","setMethods",33],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getOrder'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'getSource'",33],"]",")",["T_WHITESPACE","\n            ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMock",34],"(",")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Test method for getFullTaxInfo\n     *\n     * @param \\Magento\\Sales\\Model\\Order $source\n     * @param array $getCalculatedTax\n     * @param array $getShippingTax\n     * @param array $expectedResult\n     *\n     * @dataProvider getFullTaxInfoDataProvider\n     *\/",37],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testGetFullTaxInfo",47],"(",["T_VARIABLE","$source",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$expectedResult",47],")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","taxMock",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","expects",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","once",49],"(",")",")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","method",50],"(",["T_CONSTANT_ENCAPSED_STRING","'getOrder'",50],")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","will",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","returnValue",51],"(",["T_VARIABLE","$source",51],")",")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$actualResult",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","taxMock",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getFullTaxInfo",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertSame",54],"(",["T_VARIABLE","$expectedResult",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$actualResult",54],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Test method for getFullTaxInfo with invoice or creditmemo\n     *\n     * @param \\Magento\\Sales\\Model\\Order\\Invoice|\\Magento\\Sales\\Model\\Order\\Creditmemo $source\n     * @param array $expectedResult\n     *\n     * @dataProvider getCreditAndInvoiceFullTaxInfoDataProvider\n     *\/",57],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testGetFullTaxInfoWithCreditAndInvoice",65],"(",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$source",66],",",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$expectedResult",67],["T_WHITESPACE","\n    ",67],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","taxMock",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","expects",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","once",69],"(",")",")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","method",70],"(",["T_CONSTANT_ENCAPSED_STRING","'getSource'",70],")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","will",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","returnValue",71],"(",["T_VARIABLE","$source",71],")",")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$actualResult",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","taxMock",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getFullTaxInfo",73],"(",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertSame",74],"(",["T_VARIABLE","$expectedResult",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$actualResult",74],")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Provide the tax helper mock as a constructor argument\n     *\n     * @param $taxHelperMock\n     * @return array\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","_getConstructArguments",83],"(",["T_VARIABLE","$taxHelperMock",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$objectManagerHelper",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Framework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","TestFramework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Unit",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Helper",85],["T_NS_SEPARATOR","\\",85],["T_STRING","ObjectManager",85],"(",["T_VARIABLE","$this",85],")",";",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$objectManagerHelper",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getConstructArguments",86],"(",["T_WHITESPACE","\n            ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Sales",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Block",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Adminhtml",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Order",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Totals",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Tax",87],["T_DOUBLE_COLON","::",87],["T_CLASS","class",87],",",["T_WHITESPACE","\n            ",87],"[",["T_CONSTANT_ENCAPSED_STRING","'taxHelper'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$taxHelperMock",88],"]",["T_WHITESPACE","\n        ",88],")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Data provider.\n     * 1st Case : $source is not an instance of \\Magento\\Sales\\Model\\Order\n     * 2nd Case : getCalculatedTaxes and getShippingTax return value\n     *\n     * @return array\n     *\/",92],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","getFullTaxInfoDataProvider",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$salesModelOrderMock",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getMockBuilder",101],"(",["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Sales",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Order",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","disableOriginalConstructor",102],"(",")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMock",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],"[",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","'source is not an instance of \\Magento\\Sales\\Model\\Order'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],"[",["T_STRING","null",105],",",["T_WHITESPACE"," ",105],"[","]","]",",",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'source is an instance of \\Magento\\Sales\\Model\\Order and has reasonable data'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],"[",["T_WHITESPACE","\n                    ",106],["T_VARIABLE","$salesModelOrderMock",107],",",["T_WHITESPACE","\n                    ",107],"[",["T_WHITESPACE","\n                        ",108],["T_CONSTANT_ENCAPSED_STRING","'tax'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'tax'",109],",",["T_WHITESPACE","\n                        ",109],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax'",110],",",["T_WHITESPACE","\n                    ",110],"]",",",["T_WHITESPACE","\n                ",111],"]",["T_WHITESPACE","\n        ",112],"]",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Data provider.\n     * 1st Case : $current an instance of \\Magento\\Sales\\Model\\Invoice\n     * 2nd Case : $current an instance of \\Magento\\Sales\\Model\\Creditmemo\n     *\n     * @return array\n     *\/",116],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getCreditAndInvoiceFullTaxInfoDataProvider",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$invoiceMock",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getMockBuilder",125],"(",["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Sales",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Model",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Order",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Invoice",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","disableOriginalConstructor",126],"(",")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","setMethods",127],"(","[",["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",127],"]",")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMock",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$creditMemoMock",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getMockBuilder",129],"(",["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Sales",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Model",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Order",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Creditmemo",129],["T_DOUBLE_COLON","::",129],["T_CLASS","class",129],")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","disableOriginalConstructor",130],"(",")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","setMethods",131],"(","[",["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",131],"]",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","getMock",132],"(",")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$expected",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],"[",["T_WHITESPACE","\n            ",134],["T_CONSTANT_ENCAPSED_STRING","'tax'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'tax'",135],",",["T_WHITESPACE","\n            ",135],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax'",136],",",["T_WHITESPACE","\n        ",136],"]",";",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],"[",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'invoice'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],"[",["T_VARIABLE","$invoiceMock",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$expected",139],"]",",",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","'creditMemo'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],"[",["T_VARIABLE","$creditMemoMock",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$expected",140],"]",["T_WHITESPACE","\n        ",140],"]",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n",142],"}",["T_WHITESPACE","\n",143]]