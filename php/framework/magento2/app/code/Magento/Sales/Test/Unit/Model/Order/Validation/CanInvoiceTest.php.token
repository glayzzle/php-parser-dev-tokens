[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Sales",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Order",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Validation",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Order",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Test for \\Magento\\Sales\\Model\\Order\\OrderValidator class\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","CanInvoiceTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Validation\\CanInvoice|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$model",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$objectManager",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\Data\\OrderInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$orderMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\Data\\OrderItemInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$orderItemMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","setUp",36],"(",")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","objectManager",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_NEW","new",38],["T_WHITESPACE"," ",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","TestFramework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Unit",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Helper",38],["T_NS_SEPARATOR","\\",38],["T_STRING","ObjectManager",38],"(",["T_VARIABLE","$this",38],")",";",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","orderMock",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getMockBuilder",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Sales",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Api",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Data",40],["T_NS_SEPARATOR","\\",40],["T_STRING","OrderInterface",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],")",["T_WHITESPACE","\n            ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","disableOriginalConstructor",41],"(",")",["T_WHITESPACE","\n            ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","setMethods",42],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getStatus'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'getItems'",42],"]",")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","getMockForAbstractClass",43],"(",")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","orderItemMock",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMockBuilder",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Sales",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Api",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Data",45],["T_NS_SEPARATOR","\\",45],["T_STRING","OrderItemInterface",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","disableOriginalConstructor",46],"(",")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","setMethods",47],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getQtyToInvoice'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'getLockedDoInvoice'",47],"]",")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMockForAbstractClass",48],"(",")",";",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","model",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Sales",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Order",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Validation",50],["T_NS_SEPARATOR","\\",50],["T_STRING","CanInvoice",50],"(",")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @param string $state\n     *\n     * @dataProvider canInvoiceWrongStateDataProvider\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","testCanInvoiceWrongState",58],"(",["T_VARIABLE","$state",58],")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","orderMock",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","expects",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","any",60],"(",")",")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","method",61],"(",["T_CONSTANT_ENCAPSED_STRING","'getState'",61],")",["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","willReturn",62],"(",["T_VARIABLE","$state",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","orderMock",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","expects",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","never",63],"(",")",")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","method",64],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","orderMock",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","expects",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","once",65],"(",")",")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","method",66],"(",["T_CONSTANT_ENCAPSED_STRING","'getStatus'",66],")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","willReturn",67],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertEquals",68],"(",["T_WHITESPACE","\n            ",68],"[",["T_STRING","__",69],"(",["T_CONSTANT_ENCAPSED_STRING","'An invoice cannot be created when an order has a status of %1'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'status'",69],")","]",",",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","model",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","validate",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","orderMock",70],")",["T_WHITESPACE","\n        ",70],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Data provider for testCanInvoiceWrongState\n     * @return array\n     *\/",74],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","canInvoiceWrongStateDataProvider",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n            ",80],"[",["T_STRING","Order",81],["T_DOUBLE_COLON","::",81],["T_STRING","STATE_PAYMENT_REVIEW",81],"]",",",["T_WHITESPACE","\n            ",81],"[",["T_STRING","Order",82],["T_DOUBLE_COLON","::",82],["T_STRING","STATE_HOLDED",82],"]",",",["T_WHITESPACE","\n            ",82],"[",["T_STRING","Order",83],["T_DOUBLE_COLON","::",83],["T_STRING","STATE_CANCELED",83],"]",",",["T_WHITESPACE","\n            ",83],"[",["T_STRING","Order",84],["T_DOUBLE_COLON","::",84],["T_STRING","STATE_COMPLETE",84],"]",",",["T_WHITESPACE","\n            ",84],"[",["T_STRING","Order",85],["T_DOUBLE_COLON","::",85],["T_STRING","STATE_CLOSED",85],"]",",",["T_WHITESPACE","\n        ",85],"]",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","testCanInvoiceNoItems",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","orderMock",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","expects",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","any",91],"(",")",")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","method",92],"(",["T_CONSTANT_ENCAPSED_STRING","'getState'",92],")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","willReturn",93],"(",["T_STRING","Order",93],["T_DOUBLE_COLON","::",93],["T_STRING","STATE_PROCESSING",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","orderMock",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","expects",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","once",95],"(",")",")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","method",96],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",96],")",["T_WHITESPACE","\n            ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","willReturn",97],"(","[","]",")",";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertNotEmpty",99],"(",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","model",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","validate",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","orderMock",100],")",["T_WHITESPACE","\n        ",100],")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * @param float $qtyToInvoice\n     * @param bool|null $itemLockedDoInvoice\n     * @param bool $expectedResult\n     *\n     * @dataProvider canInvoiceDataProvider\n     *\/",104],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","testCanInvoice",111],"(",["T_VARIABLE","$qtyToInvoice",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$itemLockedDoInvoice",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$expectedResult",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","orderMock",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","expects",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","any",113],"(",")",")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","method",114],"(",["T_CONSTANT_ENCAPSED_STRING","'getState'",114],")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","willReturn",115],"(",["T_STRING","Order",115],["T_DOUBLE_COLON","::",115],["T_STRING","STATE_PROCESSING",115],")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$items",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],"[",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","orderItemMock",117],"]",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","orderMock",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","expects",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","once",118],"(",")",")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","method",119],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",119],")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","willReturn",120],"(",["T_VARIABLE","$items",120],")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","orderItemMock",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","expects",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","any",121],"(",")",")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'getQtyToInvoice'",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","willReturn",123],"(",["T_VARIABLE","$qtyToInvoice",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","orderItemMock",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","expects",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","any",124],"(",")",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","method",125],"(",["T_CONSTANT_ENCAPSED_STRING","'getLockedDoInvoice'",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","willReturn",126],"(",["T_VARIABLE","$itemLockedDoInvoice",126],")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertEquals",128],"(",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$expectedResult",129],",",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","model",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","validate",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","orderMock",130],")",["T_WHITESPACE","\n        ",130],")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Data provider for testCanInvoice\n     *\n     * @return array\n     *\/",134],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","canInvoiceDataProvider",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],"[",["T_WHITESPACE","\n            ",141],"[",["T_LNUMBER","0",142],",",["T_WHITESPACE"," ",142],["T_STRING","null",142],",",["T_WHITESPACE"," ",142],"[",["T_STRING","__",142],"(",["T_CONSTANT_ENCAPSED_STRING","'The order does not allow an invoice to be created.'",142],")","]","]",",",["T_WHITESPACE","\n            ",142],"[","-",["T_LNUMBER","1",143],",",["T_WHITESPACE"," ",143],["T_STRING","null",143],",",["T_WHITESPACE"," ",143],"[",["T_STRING","__",143],"(",["T_CONSTANT_ENCAPSED_STRING","'The order does not allow an invoice to be created.'",143],")","]","]",",",["T_WHITESPACE","\n            ",143],"[",["T_LNUMBER","1",144],",",["T_WHITESPACE"," ",144],["T_STRING","true",144],",",["T_WHITESPACE"," ",144],"[",["T_STRING","__",144],"(",["T_CONSTANT_ENCAPSED_STRING","'The order does not allow an invoice to be created.'",144],")","]","]",",",["T_WHITESPACE","\n            ",144],"[",["T_DNUMBER","0.5",145],",",["T_WHITESPACE"," ",145],["T_STRING","false",145],",",["T_WHITESPACE"," ",145],"[","]","]",",",["T_WHITESPACE","\n        ",145],"]",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n",147],"}",["T_WHITESPACE","\n",148]]