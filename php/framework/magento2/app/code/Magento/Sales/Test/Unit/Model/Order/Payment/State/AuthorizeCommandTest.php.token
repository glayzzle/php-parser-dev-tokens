[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Payment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","State",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Directory",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Currency",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Order",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sales",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Order",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Sales",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Order",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payment",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Sales",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Order",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","State",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AuthorizeCommand",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","PHPUnit_Framework_MockObject_MockObject",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","MockObject",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Class AuthorizeCommandTest\n * @see \\Magento\\Sales\\Model\\Order\\Payment\\State\\AuthorizeCommand\n *\/",15],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","AuthorizeCommandTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var Payment|MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$payment",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var Order|MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$order",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var Currency|MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$currency",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var Config|MockObject\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$config",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var AuthorizeCommand\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$command",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$amount",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","45",49],";",["T_WHITESPACE","\n\n    ",49],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","setUp",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","currency",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMockBuilder",53],"(",["T_STRING","Currency",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","disableOriginalConstructor",54],"(",")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","setMethods",55],"(","[",["T_CONSTANT_ENCAPSED_STRING","'formatTxt'",55],"]",")",["T_WHITESPACE","\n            ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","getMock",56],"(",")",";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","config",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMockBuilder",58],"(",["T_STRING","Config",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],")",["T_WHITESPACE","\n            ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","disableOriginalConstructor",59],"(",")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","setMethods",60],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getStateDefaultStatus'",60],"]",")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","getMock",61],"(",")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","payment",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMockBuilder",63],"(",["T_STRING","Payment",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","disableOriginalConstructor",64],"(",")",["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","setMethods",65],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",65],"]",")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","getMock",66],"(",")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","order",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockBuilder",67],"(",["T_STRING","Order",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],")",["T_WHITESPACE","\n            ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","disableOriginalConstructor",68],"(",")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","setMethods",69],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getBaseCurrency'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'getConfig'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'setState'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'setStatus'",69],"]",")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMock",70],"(",")",";",["T_WHITESPACE","\n\n        ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","order",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","expects",72],"(",["T_STATIC","static",72],["T_DOUBLE_COLON","::",72],["T_STRING","once",72],"(",")",")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","method",73],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseCurrency'",73],")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","willReturn",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","currency",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","currency",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","expects",75],"(",["T_STATIC","static",75],["T_DOUBLE_COLON","::",75],["T_STRING","once",75],"(",")",")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","method",76],"(",["T_CONSTANT_ENCAPSED_STRING","'formatTxt'",76],")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","with",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","amount",77],")",["T_WHITESPACE","\n            ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","willReturn",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","amount",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","command",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","AuthorizeCommand",80],"(",")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Sales\\Model\\Order\\Payment\\State\\AuthorizeCommand::execute\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testExecute",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$message",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","__",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Authorized amount of %1.'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","amount",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","payment",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","expects",90],"(",["T_STATIC","static",90],["T_DOUBLE_COLON","::",90],["T_STRING","once",90],"(",")",")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","method",91],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",91],")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","willReturn",92],"(",["T_STRING","false",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","payment",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","expects",93],"(",["T_STATIC","static",93],["T_DOUBLE_COLON","::",93],["T_STRING","once",93],"(",")",")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","method",94],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",94],")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","willReturn",95],"(",["T_STRING","false",95],")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","order",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","expects",97],"(",["T_STATIC","static",97],["T_DOUBLE_COLON","::",97],["T_STRING","once",97],"(",")",")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","method",98],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfig'",98],")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","willReturn",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","config",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","config",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","expects",100],"(",["T_STATIC","static",100],["T_DOUBLE_COLON","::",100],["T_STRING","once",100],"(",")",")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","method",101],"(",["T_CONSTANT_ENCAPSED_STRING","'getStateDefaultStatus'",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","with",102],"(",["T_STRING","Order",102],["T_DOUBLE_COLON","::",102],["T_STRING","STATE_PROCESSING",102],")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","willReturn",103],"(",["T_STRING","Order",103],["T_DOUBLE_COLON","::",103],["T_STRING","STATE_PROCESSING",103],")",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","order",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","expects",105],"(",["T_STATIC","static",105],["T_DOUBLE_COLON","::",105],["T_STRING","once",105],"(",")",")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","method",106],"(",["T_CONSTANT_ENCAPSED_STRING","'setState'",106],")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","with",107],"(",["T_STRING","Order",107],["T_DOUBLE_COLON","::",107],["T_STRING","STATE_PROCESSING",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","willReturnSelf",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","order",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","expects",109],"(",["T_STATIC","static",109],["T_DOUBLE_COLON","::",109],["T_STRING","once",109],"(",")",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","method",110],"(",["T_CONSTANT_ENCAPSED_STRING","'setStatus'",110],")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","with",111],"(",["T_STRING","Order",111],["T_DOUBLE_COLON","::",111],["T_STRING","STATE_PROCESSING",111],")",";",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$actual",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","command",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","execute",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","payment",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","amount",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","order",113],")",";",["T_WHITESPACE","\n        ",113],["T_STATIC","static",114],["T_DOUBLE_COLON","::",114],["T_STRING","assertEquals",114],"(",["T_VARIABLE","$message",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$actual",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Sales\\Model\\Order\\Payment\\State\\AuthorizeCommand::execute\n     *\/",117],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","testExecutePendingTransaction",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$message",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","__",122],"(",["T_CONSTANT_ENCAPSED_STRING","'We will authorize %1 after the payment is approved at the payment gateway.'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","amount",122],")",";",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","payment",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","expects",124],"(",["T_STATIC","static",124],["T_DOUBLE_COLON","::",124],["T_STRING","once",124],"(",")",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","method",125],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","willReturn",126],"(",["T_STRING","true",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","payment",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","expects",127],"(",["T_STATIC","static",127],["T_DOUBLE_COLON","::",127],["T_STRING","once",127],"(",")",")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","method",128],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",128],")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","willReturn",129],"(",["T_STRING","false",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","order",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","expects",131],"(",["T_STATIC","static",131],["T_DOUBLE_COLON","::",131],["T_STRING","once",131],"(",")",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","method",132],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfig'",132],")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","willReturn",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","config",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","config",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","expects",134],"(",["T_STATIC","static",134],["T_DOUBLE_COLON","::",134],["T_STRING","once",134],"(",")",")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","method",135],"(",["T_CONSTANT_ENCAPSED_STRING","'getStateDefaultStatus'",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","with",136],"(",["T_STRING","Order",136],["T_DOUBLE_COLON","::",136],["T_STRING","STATE_PAYMENT_REVIEW",136],")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","willReturn",137],"(",["T_STRING","Order",137],["T_DOUBLE_COLON","::",137],["T_STRING","STATE_PAYMENT_REVIEW",137],")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","order",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","expects",139],"(",["T_STATIC","static",139],["T_DOUBLE_COLON","::",139],["T_STRING","once",139],"(",")",")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","method",140],"(",["T_CONSTANT_ENCAPSED_STRING","'setState'",140],")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","with",141],"(",["T_STRING","Order",141],["T_DOUBLE_COLON","::",141],["T_STRING","STATE_PAYMENT_REVIEW",141],")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","willReturnSelf",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","order",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","expects",143],"(",["T_STATIC","static",143],["T_DOUBLE_COLON","::",143],["T_STRING","once",143],"(",")",")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","method",144],"(",["T_CONSTANT_ENCAPSED_STRING","'setStatus'",144],")",["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","with",145],"(",["T_STRING","Order",145],["T_DOUBLE_COLON","::",145],["T_STRING","STATE_PAYMENT_REVIEW",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$actual",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","command",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","execute",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","payment",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","amount",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","order",147],")",";",["T_WHITESPACE","\n        ",147],["T_STATIC","static",148],["T_DOUBLE_COLON","::",148],["T_STRING","assertEquals",148],"(",["T_VARIABLE","$message",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$actual",148],")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Sales\\Model\\Order\\Payment\\State\\AuthorizeCommand::execute\n     *\/",151],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","testExecutePendingTransactionFraud",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$expectedMessage",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'We will authorize %1 after the payment is approved at the payment gateway. '",156],";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$expectedMessage",157],["T_WHITESPACE"," ",157],["T_CONCAT_EQUAL",".=",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'Order is suspended as its authorizing amount %1 is suspected to be fraudulent.'",157],";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$message",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","__",158],"(",["T_VARIABLE","$expectedMessage",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","amount",158],")",";",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","payment",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","expects",160],"(",["T_STATIC","static",160],["T_DOUBLE_COLON","::",160],["T_STRING","once",160],"(",")",")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","method",161],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",161],")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","willReturn",162],"(",["T_STRING","true",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","payment",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","expects",163],"(",["T_STATIC","static",163],["T_DOUBLE_COLON","::",163],["T_STRING","once",163],"(",")",")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","method",164],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",164],")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","willReturn",165],"(",["T_STRING","true",165],")",";",["T_WHITESPACE","\n\n        ",165],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","order",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","expects",167],"(",["T_STATIC","static",167],["T_DOUBLE_COLON","::",167],["T_STRING","never",167],"(",")",")",["T_WHITESPACE","\n            ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","method",168],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfig'",168],")",";",["T_WHITESPACE","\n\n        ",168],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","order",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","expects",170],"(",["T_STATIC","static",170],["T_DOUBLE_COLON","::",170],["T_STRING","once",170],"(",")",")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","method",171],"(",["T_CONSTANT_ENCAPSED_STRING","'setState'",171],")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","with",172],"(",["T_STRING","Order",172],["T_DOUBLE_COLON","::",172],["T_STRING","STATE_PAYMENT_REVIEW",172],")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","willReturnSelf",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","order",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","expects",174],"(",["T_STATIC","static",174],["T_DOUBLE_COLON","::",174],["T_STRING","once",174],"(",")",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","method",175],"(",["T_CONSTANT_ENCAPSED_STRING","'setStatus'",175],")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","with",176],"(",["T_STRING","Order",176],["T_DOUBLE_COLON","::",176],["T_STRING","STATUS_FRAUD",176],")",";",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$actual",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","command",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","execute",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","payment",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","amount",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","order",178],")",";",["T_WHITESPACE","\n        ",178],["T_STATIC","static",179],["T_DOUBLE_COLON","::",179],["T_STRING","assertEquals",179],"(",["T_VARIABLE","$message",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$actual",179],")",";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Sales\\Model\\Order\\Payment\\State\\AuthorizeCommand::execute\n     *\/",182],["T_WHITESPACE","\n    ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","testExecuteFraud",185],"(",")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$message",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","__",187],"(",["T_WHITESPACE","\n            ",187],["T_CONSTANT_ENCAPSED_STRING","'Authorized amount of %1. Order is suspended as its authorizing amount %1 is suspected to be fraudulent.'",188],",",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","amount",189],["T_WHITESPACE","\n        ",189],")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","payment",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","expects",192],"(",["T_STATIC","static",192],["T_DOUBLE_COLON","::",192],["T_STRING","once",192],"(",")",")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","method",193],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",193],")",["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","willReturn",194],"(",["T_STRING","false",194],")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","payment",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","expects",195],"(",["T_STATIC","static",195],["T_DOUBLE_COLON","::",195],["T_STRING","once",195],"(",")",")",["T_WHITESPACE","\n            ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","method",196],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",196],")",["T_WHITESPACE","\n            ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","willReturn",197],"(",["T_STRING","true",197],")",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","order",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","expects",199],"(",["T_STATIC","static",199],["T_DOUBLE_COLON","::",199],["T_STRING","never",199],"(",")",")",["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","method",200],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfig'",200],")",";",["T_WHITESPACE","\n\n        ",200],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","order",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","expects",202],"(",["T_STATIC","static",202],["T_DOUBLE_COLON","::",202],["T_STRING","once",202],"(",")",")",["T_WHITESPACE","\n            ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","method",203],"(",["T_CONSTANT_ENCAPSED_STRING","'setState'",203],")",["T_WHITESPACE","\n            ",203],["T_OBJECT_OPERATOR","->",204],["T_STRING","with",204],"(",["T_STRING","Order",204],["T_DOUBLE_COLON","::",204],["T_STRING","STATE_PAYMENT_REVIEW",204],")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","willReturnSelf",205],"(",")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","order",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","expects",206],"(",["T_STATIC","static",206],["T_DOUBLE_COLON","::",206],["T_STRING","once",206],"(",")",")",["T_WHITESPACE","\n            ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","method",207],"(",["T_CONSTANT_ENCAPSED_STRING","'setStatus'",207],")",["T_WHITESPACE","\n            ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","with",208],"(",["T_STRING","Order",208],["T_DOUBLE_COLON","::",208],["T_STRING","STATUS_FRAUD",208],")",";",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$actual",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","command",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","execute",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","payment",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","amount",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","order",210],")",";",["T_WHITESPACE","\n        ",210],["T_STATIC","static",211],["T_DOUBLE_COLON","::",211],["T_STRING","assertEquals",211],"(",["T_VARIABLE","$message",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$actual",211],")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n",212],"}",["T_WHITESPACE","\n",213]]