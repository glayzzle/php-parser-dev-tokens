[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Sales",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Order",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Payment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","State",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Directory",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Currency",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Order",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sales",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Order",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Sales",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Order",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payment",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Sales",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Order",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","State",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CaptureCommand",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","PHPUnit_Framework_MockObject_MockObject",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","MockObject",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Class CaptureCommandTest\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","CaptureCommandTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PHPUnit_Framework_TestCase",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var Payment|MockObject\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$payment",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var Order|MockObject\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$order",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var Currency|MockObject\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$currency",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var Config|MockObject\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$config",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var CaptureCommand\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$command",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PRIVATE","private",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$amount",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","45",48],";",["T_WHITESPACE","\n\n    ",48],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","setUp",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","currency",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getMockBuilder",52],"(",["T_STRING","Currency",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],")",["T_WHITESPACE","\n            ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","disableOriginalConstructor",53],"(",")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","setMethods",54],"(","[",["T_CONSTANT_ENCAPSED_STRING","'formatTxt'",54],"]",")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","getMock",55],"(",")",";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","config",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getMockBuilder",57],"(",["T_STRING","Config",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","disableOriginalConstructor",58],"(",")",["T_WHITESPACE","\n            ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","setMethods",59],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getStateDefaultStatus'",59],"]",")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",")",";",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","payment",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMockBuilder",62],"(",["T_STRING","Payment",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","disableOriginalConstructor",63],"(",")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","setMethods",64],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",64],"]",")",["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","getMock",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","order",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getMockBuilder",66],"(",["T_STRING","Order",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","disableOriginalConstructor",67],"(",")",["T_WHITESPACE","\n            ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","setMethods",68],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getBaseCurrency'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'getConfig'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'setState'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'setStatus'",68],"]",")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMock",69],"(",")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","order",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","expects",71],"(",["T_STATIC","static",71],["T_DOUBLE_COLON","::",71],["T_STRING","once",71],"(",")",")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","method",72],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseCurrency'",72],")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","willReturn",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","currency",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","currency",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","expects",74],"(",["T_STATIC","static",74],["T_DOUBLE_COLON","::",74],["T_STRING","once",74],"(",")",")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","method",75],"(",["T_CONSTANT_ENCAPSED_STRING","'formatTxt'",75],")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","with",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","amount",76],")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","willReturn",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","amount",77],")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","command",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","CaptureCommand",79],"(",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Sales\\Model\\Order\\Payment\\State\\CaptureCommand::execute\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testExecute",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$message",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","__",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Captured amount of %1 online.'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","amount",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","payment",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","expects",89],"(",["T_STATIC","static",89],["T_DOUBLE_COLON","::",89],["T_STRING","once",89],"(",")",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","method",90],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",90],")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","willReturn",91],"(",["T_STRING","false",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","payment",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","expects",92],"(",["T_STATIC","static",92],["T_DOUBLE_COLON","::",92],["T_STRING","once",92],"(",")",")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","method",93],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",93],")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","willReturn",94],"(",["T_STRING","false",94],")",";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","order",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","expects",96],"(",["T_STATIC","static",96],["T_DOUBLE_COLON","::",96],["T_STRING","once",96],"(",")",")",["T_WHITESPACE","\n            ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","method",97],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfig'",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","willReturn",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","config",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","config",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","expects",99],"(",["T_STATIC","static",99],["T_DOUBLE_COLON","::",99],["T_STRING","once",99],"(",")",")",["T_WHITESPACE","\n            ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","method",100],"(",["T_CONSTANT_ENCAPSED_STRING","'getStateDefaultStatus'",100],")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","with",101],"(",["T_STRING","Order",101],["T_DOUBLE_COLON","::",101],["T_STRING","STATE_PROCESSING",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","willReturn",102],"(",["T_STRING","Order",102],["T_DOUBLE_COLON","::",102],["T_STRING","STATE_PROCESSING",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","order",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","expects",104],"(",["T_STATIC","static",104],["T_DOUBLE_COLON","::",104],["T_STRING","once",104],"(",")",")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","method",105],"(",["T_CONSTANT_ENCAPSED_STRING","'setState'",105],")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","with",106],"(",["T_STRING","Order",106],["T_DOUBLE_COLON","::",106],["T_STRING","STATE_PROCESSING",106],")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","willReturnSelf",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","order",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","expects",108],"(",["T_STATIC","static",108],["T_DOUBLE_COLON","::",108],["T_STRING","once",108],"(",")",")",["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","method",109],"(",["T_CONSTANT_ENCAPSED_STRING","'setStatus'",109],")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","with",110],"(",["T_STRING","Order",110],["T_DOUBLE_COLON","::",110],["T_STRING","STATE_PROCESSING",110],")",";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$actual",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","command",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","execute",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","payment",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","amount",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","order",112],")",";",["T_WHITESPACE","\n        ",112],["T_STATIC","static",113],["T_DOUBLE_COLON","::",113],["T_STRING","assertEquals",113],"(",["T_VARIABLE","$message",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$actual",113],")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Sales\\Model\\Order\\Payment\\State\\CaptureCommand::execute\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testExecutePendingTransaction",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$message",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","__",121],"(",["T_CONSTANT_ENCAPSED_STRING","'An amount of %1 will be captured after being approved at the payment gateway.'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","amount",121],")",";",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","payment",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","expects",123],"(",["T_STATIC","static",123],["T_DOUBLE_COLON","::",123],["T_STRING","once",123],"(",")",")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","method",124],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",124],")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","willReturn",125],"(",["T_STRING","true",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","payment",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","expects",126],"(",["T_STATIC","static",126],["T_DOUBLE_COLON","::",126],["T_STRING","once",126],"(",")",")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","method",127],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","willReturn",128],"(",["T_STRING","false",128],")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","order",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","expects",130],"(",["T_STATIC","static",130],["T_DOUBLE_COLON","::",130],["T_STRING","once",130],"(",")",")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","method",131],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfig'",131],")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","willReturn",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","config",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","config",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","expects",133],"(",["T_STATIC","static",133],["T_DOUBLE_COLON","::",133],["T_STRING","once",133],"(",")",")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'getStateDefaultStatus'",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","with",135],"(",["T_STRING","Order",135],["T_DOUBLE_COLON","::",135],["T_STRING","STATE_PAYMENT_REVIEW",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","willReturn",136],"(",["T_STRING","Order",136],["T_DOUBLE_COLON","::",136],["T_STRING","STATE_PAYMENT_REVIEW",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","order",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","expects",138],"(",["T_STATIC","static",138],["T_DOUBLE_COLON","::",138],["T_STRING","once",138],"(",")",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","method",139],"(",["T_CONSTANT_ENCAPSED_STRING","'setState'",139],")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","with",140],"(",["T_STRING","Order",140],["T_DOUBLE_COLON","::",140],["T_STRING","STATE_PAYMENT_REVIEW",140],")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","willReturnSelf",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","order",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","expects",142],"(",["T_STATIC","static",142],["T_DOUBLE_COLON","::",142],["T_STRING","once",142],"(",")",")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","'setStatus'",143],")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","with",144],"(",["T_STRING","Order",144],["T_DOUBLE_COLON","::",144],["T_STRING","STATE_PAYMENT_REVIEW",144],")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$actual",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","command",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","execute",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","payment",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","amount",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","order",146],")",";",["T_WHITESPACE","\n        ",146],["T_STATIC","static",147],["T_DOUBLE_COLON","::",147],["T_STRING","assertEquals",147],"(",["T_VARIABLE","$message",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$actual",147],")",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Sales\\Model\\Order\\Payment\\State\\CaptureCommand::execute\n     *\/",150],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","testExecutePendingTransactionFraud",153],"(",")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$expectedMessage",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'An amount of %1 will be captured after being approved at the payment gateway. '",155],";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$expectedMessage",156],["T_WHITESPACE"," ",156],["T_CONCAT_EQUAL",".=",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'Order is suspended as its capturing amount %1 is suspected to be fraudulent.'",156],";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$message",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","__",157],"(",["T_VARIABLE","$expectedMessage",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","amount",157],")",";",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","payment",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","expects",159],"(",["T_STATIC","static",159],["T_DOUBLE_COLON","::",159],["T_STRING","once",159],"(",")",")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","method",160],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",160],")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","willReturn",161],"(",["T_STRING","true",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","payment",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","expects",162],"(",["T_STATIC","static",162],["T_DOUBLE_COLON","::",162],["T_STRING","once",162],"(",")",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","willReturn",164],"(",["T_STRING","true",164],")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","order",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","expects",166],"(",["T_STATIC","static",166],["T_DOUBLE_COLON","::",166],["T_STRING","never",166],"(",")",")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","method",167],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfig'",167],")",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","order",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","expects",169],"(",["T_STATIC","static",169],["T_DOUBLE_COLON","::",169],["T_STRING","once",169],"(",")",")",["T_WHITESPACE","\n            ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","method",170],"(",["T_CONSTANT_ENCAPSED_STRING","'setState'",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","with",171],"(",["T_STRING","Order",171],["T_DOUBLE_COLON","::",171],["T_STRING","STATE_PAYMENT_REVIEW",171],")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","willReturnSelf",172],"(",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","order",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","expects",173],"(",["T_STATIC","static",173],["T_DOUBLE_COLON","::",173],["T_STRING","once",173],"(",")",")",["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","method",174],"(",["T_CONSTANT_ENCAPSED_STRING","'setStatus'",174],")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","with",175],"(",["T_STRING","Order",175],["T_DOUBLE_COLON","::",175],["T_STRING","STATUS_FRAUD",175],")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$actual",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","command",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","execute",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","payment",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","amount",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","order",177],")",";",["T_WHITESPACE","\n        ",177],["T_STATIC","static",178],["T_DOUBLE_COLON","::",178],["T_STRING","assertEquals",178],"(",["T_VARIABLE","$message",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$actual",178],")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Sales\\Model\\Order\\Payment\\State\\CaptureCommand::execute\n     *\/",181],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","testExecuteFraud",184],"(",")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$expectedMessage",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'Captured amount of %1 online. '",186],";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$expectedMessage",187],["T_WHITESPACE"," ",187],["T_CONCAT_EQUAL",".=",187],["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'Order is suspended as its capturing amount %1 is suspected to be fraudulent.'",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$message",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","__",188],"(",["T_VARIABLE","$expectedMessage",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","amount",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","payment",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_STATIC","static",190],["T_DOUBLE_COLON","::",190],["T_STRING","once",190],"(",")",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","method",191],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsTransactionPending'",191],")",["T_WHITESPACE","\n            ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","willReturn",192],"(",["T_STRING","false",192],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","payment",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","expects",193],"(",["T_STATIC","static",193],["T_DOUBLE_COLON","::",193],["T_STRING","once",193],"(",")",")",["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","method",194],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsFraudDetected'",194],")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","willReturn",195],"(",["T_STRING","true",195],")",";",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","order",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","expects",197],"(",["T_STATIC","static",197],["T_DOUBLE_COLON","::",197],["T_STRING","never",197],"(",")",")",["T_WHITESPACE","\n            ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","method",198],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfig'",198],")",";",["T_WHITESPACE","\n\n        ",198],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","order",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","expects",200],"(",["T_STATIC","static",200],["T_DOUBLE_COLON","::",200],["T_STRING","once",200],"(",")",")",["T_WHITESPACE","\n            ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","method",201],"(",["T_CONSTANT_ENCAPSED_STRING","'setState'",201],")",["T_WHITESPACE","\n            ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","with",202],"(",["T_STRING","Order",202],["T_DOUBLE_COLON","::",202],["T_STRING","STATE_PAYMENT_REVIEW",202],")",["T_WHITESPACE","\n            ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","willReturnSelf",203],"(",")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","order",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","expects",204],"(",["T_STATIC","static",204],["T_DOUBLE_COLON","::",204],["T_STRING","once",204],"(",")",")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","method",205],"(",["T_CONSTANT_ENCAPSED_STRING","'setStatus'",205],")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","with",206],"(",["T_STRING","Order",206],["T_DOUBLE_COLON","::",206],["T_STRING","STATUS_FRAUD",206],")",";",["T_WHITESPACE","\n\n        ",206],["T_VARIABLE","$actual",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","command",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","execute",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","payment",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","amount",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","order",208],")",";",["T_WHITESPACE","\n        ",208],["T_STATIC","static",209],["T_DOUBLE_COLON","::",209],["T_STRING","assertEquals",209],"(",["T_VARIABLE","$message",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$actual",209],")",";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n",210],"}",["T_WHITESPACE","\n",211]]