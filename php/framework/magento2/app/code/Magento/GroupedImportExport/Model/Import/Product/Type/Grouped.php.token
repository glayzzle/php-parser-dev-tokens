[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Import entity of grouped product type\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","GroupedImportExport",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Import",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Type",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogImportExport",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Import",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ImportExport",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Import",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Grouped",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CatalogImportExport",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Import",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Product",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Type",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractType",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Default delimiter for sku and qty.\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","SKU_QTY_DELIMITER",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'='",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * Column names that holds values with particular meaning.\n     *\n     * @var array\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_specialAttributes",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[",["T_CONSTANT_ENCAPSED_STRING","'_associated_sku'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'_associated_default_qty'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'_associated_position'",25],"]",";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var Grouped\\Links\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$links",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Product entity identifier field\n     *\n     * @var string\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$productEntityIdentifierField",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\CollectionFactory $attrSetColFac\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\CollectionFactory $prodAttrColFac\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param array $params\n     * @param Grouped\\Links $links\n     *\/",39],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","__construct",46],"(",["T_WHITESPACE","\n        ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Eav",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Model",47],["T_NS_SEPARATOR","\\",47],["T_STRING","ResourceModel",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Entity",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Attribute",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Set",47],["T_NS_SEPARATOR","\\",47],["T_STRING","CollectionFactory",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$attrSetColFac",47],",",["T_WHITESPACE","\n        ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Catalog",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","ResourceModel",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Product",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Attribute",48],["T_NS_SEPARATOR","\\",48],["T_STRING","CollectionFactory",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$prodAttrColFac",48],",",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Framework",49],["T_NS_SEPARATOR","\\",49],["T_STRING","App",49],["T_NS_SEPARATOR","\\",49],["T_STRING","ResourceConnection",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$resource",49],",",["T_WHITESPACE","\n        ",49],["T_ARRAY","array",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$params",50],",",["T_WHITESPACE","\n        ",50],["T_STRING","Grouped",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Links",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$links",51],["T_WHITESPACE","\n    ",51],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","links",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$links",53],";",["T_WHITESPACE","\n        ",53],["T_STRING","parent",54],["T_DOUBLE_COLON","::",54],["T_STRING","__construct",54],"(",["T_VARIABLE","$attrSetColFac",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$prodAttrColFac",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$resource",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$params",54],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Save product type specific data.\n     *\n     * @return \\Magento\\CatalogImportExport\\Model\\Import\\Product\\Type\\AbstractType\n     *\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",57],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","saveData",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$newSku",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_entityModel",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getNewSku",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$oldSku",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_entityModel",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getOldSku",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$attributes",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","links",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getAttributes",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$productData",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],"[","]",";",["T_WHITESPACE","\n        ",70],["T_WHILE","while",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$bunch",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_entityModel",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getNextBunch",71],"(",")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$linksData",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n                ",72],["T_CONSTANT_ENCAPSED_STRING","'product_ids'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],"[","]",",",["T_WHITESPACE","\n                ",73],["T_CONSTANT_ENCAPSED_STRING","'attr_product_ids'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],"[","]",",",["T_WHITESPACE","\n                ",74],["T_CONSTANT_ENCAPSED_STRING","'position'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],"[","]",",",["T_WHITESPACE","\n                ",75],["T_CONSTANT_ENCAPSED_STRING","'qty'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],"[","]",",",["T_WHITESPACE","\n                ",76],["T_CONSTANT_ENCAPSED_STRING","'relation'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],"[","]",["T_WHITESPACE","\n            ",77],"]",";",["T_WHITESPACE","\n            ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$bunch",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$rowNum",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$rowData",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_type",80],["T_WHITESPACE"," ",80],["T_IS_NOT_EQUAL","!=",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$rowData",80],"[",["T_STRING","Product",80],["T_DOUBLE_COLON","::",80],["T_STRING","COL_TYPE",80],"]",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                    ",80],["T_CONTINUE","continue",81],";",["T_WHITESPACE","\n                ",81],"}",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$associatedSkusQty",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ISSET","isset",83],"(",["T_VARIABLE","$rowData",83],"[",["T_CONSTANT_ENCAPSED_STRING","'associated_skus'",83],"]",")",["T_WHITESPACE"," ",83],"?",["T_WHITESPACE"," ",83],["T_VARIABLE","$rowData",83],"[",["T_CONSTANT_ENCAPSED_STRING","'associated_skus'",83],"]",["T_WHITESPACE"," ",83],":",["T_WHITESPACE"," ",83],["T_STRING","null",83],";",["T_WHITESPACE","\n                ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_entityModel",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","isRowAllowedToImport",84],"(",["T_VARIABLE","$rowData",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$rowNum",84],")",["T_WHITESPACE"," ",84],["T_BOOLEAN_OR","||",84],["T_WHITESPACE"," ",84],["T_EMPTY","empty",84],"(",["T_VARIABLE","$associatedSkusQty",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                    ",84],["T_CONTINUE","continue",85],";",["T_WHITESPACE","\n                ",85],"}",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$associatedSkusAndQtyPairs",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","explode",87],"(",["T_STRING","Import",87],["T_DOUBLE_COLON","::",87],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$associatedSkusQty",87],")",";",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$position",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_LNUMBER","0",88],";",["T_WHITESPACE","\n                ",88],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$associatedSkusAndQtyPairs",89],["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$associatedSkuAndQty",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                    ",89],["T_INC","++",90],["T_VARIABLE","$position",90],";",["T_WHITESPACE","\n                    ",90],["T_VARIABLE","$associatedSkuAndQty",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","explode",91],"(",["T_STRING","self",91],["T_DOUBLE_COLON","::",91],["T_STRING","SKU_QTY_DELIMITER",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$associatedSkuAndQty",91],")",";",["T_WHITESPACE","\n                    ",91],["T_VARIABLE","$associatedSku",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ISSET","isset",92],"(",["T_VARIABLE","$associatedSkuAndQty",92],"[",["T_LNUMBER","0",92],"]",")",["T_WHITESPACE"," ",92],"?",["T_WHITESPACE"," ",92],["T_STRING","trim",92],"(",["T_VARIABLE","$associatedSkuAndQty",92],"[",["T_LNUMBER","0",92],"]",")",["T_WHITESPACE"," ",92],":",["T_WHITESPACE"," ",92],["T_STRING","null",92],";",["T_WHITESPACE","\n                    ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_ISSET","isset",93],"(",["T_VARIABLE","$newSku",93],"[",["T_VARIABLE","$associatedSku",93],"]",")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                        ",93],["T_VARIABLE","$linkedProductId",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$newSku",94],"[",["T_VARIABLE","$associatedSku",94],"]","[",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getProductEntityIdentifierField",94],"(",")","]",";",["T_WHITESPACE","\n                    ",94],"}",["T_WHITESPACE"," ",95],["T_ELSEIF","elseif",95],["T_WHITESPACE"," ",95],"(",["T_ISSET","isset",95],"(",["T_VARIABLE","$oldSku",95],"[",["T_VARIABLE","$associatedSku",95],"]",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                        ",95],["T_VARIABLE","$linkedProductId",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$oldSku",96],"[",["T_VARIABLE","$associatedSku",96],"]","[",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getProductEntityIdentifierField",96],"(",")","]",";",["T_WHITESPACE","\n                    ",96],"}",["T_WHITESPACE"," ",97],["T_ELSE","else",97],["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                        ",97],["T_CONTINUE","continue",98],";",["T_WHITESPACE","\n                    ",98],"}",["T_WHITESPACE","\n                    ",99],["T_VARIABLE","$scope",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_entityModel",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getRowScope",100],"(",["T_VARIABLE","$rowData",100],")",";",["T_WHITESPACE","\n                    ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_STRING","Product",101],["T_DOUBLE_COLON","::",101],["T_STRING","SCOPE_DEFAULT",101],["T_WHITESPACE"," ",101],["T_IS_EQUAL","==",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$scope",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                        ",101],["T_VARIABLE","$productData",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$newSku",102],"[",["T_VARIABLE","$rowData",102],"[",["T_STRING","Product",102],["T_DOUBLE_COLON","::",102],["T_STRING","COL_SKU",102],"]","]",";",["T_WHITESPACE","\n                    ",102],"}",["T_WHITESPACE"," ",103],["T_ELSE","else",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                        ",103],["T_VARIABLE","$colAttrSet",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","Product",104],["T_DOUBLE_COLON","::",104],["T_STRING","COL_ATTR_SET",104],";",["T_WHITESPACE","\n                        ",104],["T_VARIABLE","$rowData",105],"[",["T_VARIABLE","$colAttrSet",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$productData",105],"[",["T_CONSTANT_ENCAPSED_STRING","'attr_set_code'",105],"]",";",["T_WHITESPACE","\n                        ",105],["T_VARIABLE","$rowData",106],"[",["T_STRING","Product",106],["T_DOUBLE_COLON","::",106],["T_STRING","COL_TYPE",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$productData",106],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",106],"]",";",["T_WHITESPACE","\n                    ",106],"}",["T_WHITESPACE","\n                    ",107],["T_VARIABLE","$productId",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$productData",108],"[",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getProductEntityLinkField",108],"(",")","]",";",["T_WHITESPACE","\n\n                    ",108],["T_VARIABLE","$linksData",110],"[",["T_CONSTANT_ENCAPSED_STRING","'product_ids'",110],"]","[",["T_VARIABLE","$productId",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","true",110],";",["T_WHITESPACE","\n                    ",110],["T_VARIABLE","$linksData",111],"[",["T_CONSTANT_ENCAPSED_STRING","'relation'",111],"]","[","]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$productId",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'child_id'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$linkedProductId",111],"]",";",["T_WHITESPACE","\n                    ",111],["T_VARIABLE","$qty",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_EMPTY","empty",112],"(",["T_VARIABLE","$associatedSkuAndQty",112],"[",["T_LNUMBER","1",112],"]",")",["T_WHITESPACE"," ",112],"?",["T_WHITESPACE"," ",112],["T_LNUMBER","0",112],["T_WHITESPACE"," ",112],":",["T_WHITESPACE"," ",112],["T_STRING","trim",112],"(",["T_VARIABLE","$associatedSkuAndQty",112],"[",["T_LNUMBER","1",112],"]",")",";",["T_WHITESPACE","\n                    ",112],["T_VARIABLE","$linksData",113],"[",["T_CONSTANT_ENCAPSED_STRING","'attr_product_ids'",113],"]","[",["T_VARIABLE","$productId",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","true",113],";",["T_WHITESPACE","\n                    ",113],["T_VARIABLE","$linksData",114],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",114],"]","[","\"",["T_CURLY_OPEN","{",114],["T_VARIABLE","$productId",114],"}",["T_ENCAPSED_AND_WHITESPACE"," ",114],["T_CURLY_OPEN","{",114],["T_VARIABLE","$linkedProductId",114],"}","\"","]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],"[",["T_WHITESPACE","\n                        ",114],["T_CONSTANT_ENCAPSED_STRING","'product_link_attribute_id'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$attributes",115],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",115],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",115],"]",",",["T_WHITESPACE","\n                        ",115],["T_CONSTANT_ENCAPSED_STRING","'value'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$position",116],["T_WHITESPACE","\n                    ",116],"]",";",["T_WHITESPACE","\n                    ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$qty",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                        ",118],["T_VARIABLE","$linksData",119],"[",["T_CONSTANT_ENCAPSED_STRING","'attr_product_ids'",119],"]","[",["T_VARIABLE","$productId",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","true",119],";",["T_WHITESPACE","\n                        ",119],["T_VARIABLE","$linksData",120],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",120],"]","[","\"",["T_CURLY_OPEN","{",120],["T_VARIABLE","$productId",120],"}",["T_ENCAPSED_AND_WHITESPACE"," ",120],["T_CURLY_OPEN","{",120],["T_VARIABLE","$linkedProductId",120],"}","\"","]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[",["T_WHITESPACE","\n                            ",120],["T_CONSTANT_ENCAPSED_STRING","'product_link_attribute_id'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$attributes",121],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",121],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",121],"]",",",["T_WHITESPACE","\n                            ",121],["T_CONSTANT_ENCAPSED_STRING","'value'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$qty",122],["T_WHITESPACE","\n                        ",122],"]",";",["T_WHITESPACE","\n                    ",123],"}",["T_WHITESPACE","\n                ",124],"}",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","links",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","saveLinksData",127],"(",["T_VARIABLE","$linksData",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Get product entity identifier field\n     *\n     * @return string\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PRIVATE","private",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getProductEntityIdentifierField",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","productEntityIdentifierField",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","productEntityIdentifierField",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getMetadataPool",140],"(",")",["T_WHITESPACE","\n                ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","getMetadata",141],"(",["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Catalog",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Api",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Data",141],["T_NS_SEPARATOR","\\",141],["T_STRING","ProductInterface",141],["T_DOUBLE_COLON","::",141],["T_CLASS","class",141],")",["T_WHITESPACE","\n                ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","getIdentifierField",142],"(",")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","productEntityIdentifierField",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n",145],"}",["T_WHITESPACE","\n",146]]