[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Weee",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Condition",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ConditionInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Wee tax resource model\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Tax",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ResourceModel",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Db",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractDb",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$dateTime",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param string $connectionName\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","__construct",26],"(",["T_WHITESPACE","\n        ",26],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Framework",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Model",27],["T_NS_SEPARATOR","\\",27],["T_STRING","ResourceModel",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Db",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Context",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$context",27],",",["T_WHITESPACE","\n        ",27],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Stdlib",28],["T_NS_SEPARATOR","\\",28],["T_STRING","DateTime",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$dateTime",28],",",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$connectionName",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","null",29],["T_WHITESPACE","\n    ",29],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","dateTime",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$dateTime",31],";",["T_WHITESPACE","\n        ",31],["T_STRING","parent",32],["T_DOUBLE_COLON","::",32],["T_STRING","__construct",32],"(",["T_VARIABLE","$context",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$connectionName",32],")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Resource initialization\n     *\n     * @return void\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","_construct",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_init",42],"(",["T_CONSTANT_ENCAPSED_STRING","'weee_tax'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'value_id'",42],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Fetch one\n     *\n     * @param \\Magento\\Framework\\DB\\Select|string $select\n     * @return string\n     *\/",45],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","fetchOne",51],"(",["T_VARIABLE","$select",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getConnection",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","fetchOne",53],"(",["T_VARIABLE","$select",53],")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @param int $countryId\n     * @param int $regionId\n     * @param int $websiteId\n     * @return boolean\n     *\/",56],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","isWeeeInLocation",62],"(",["T_VARIABLE","$countryId",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$regionId",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$websiteId",62],")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_COMMENT","\/\/ Check if there is a weee_tax for the country and region\n",64],["T_WHITESPACE","        ",65],["T_VARIABLE","$attributeSelect",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getConnection",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","select",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$attributeSelect",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","from",66],"(",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getTable",67],"(",["T_CONSTANT_ENCAPSED_STRING","'weee_tax'",67],")",",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'value'",68],["T_WHITESPACE","\n        ",68],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","where",69],"(",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'website_id IN(?)'",70],",",["T_WHITESPACE","\n            ",70],"[",["T_VARIABLE","$websiteId",71],",",["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],"]",["T_WHITESPACE","\n        ",71],")",["T_OBJECT_OPERATOR","->",72],["T_STRING","where",72],"(",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","'country = ?'",73],",",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$countryId",74],["T_WHITESPACE","\n        ",74],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","where",75],"(",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","'state = ?'",76],",",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$regionId",77],["T_WHITESPACE","\n        ",77],")",["T_OBJECT_OPERATOR","->",78],["T_STRING","limit",78],"(",["T_WHITESPACE","\n            ",78],["T_LNUMBER","1",79],["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$value",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getConnection",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","fetchOne",82],"(",["T_VARIABLE","$attributeSelect",82],")",";",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$value",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","true",84],";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","false",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @param int $countryId\n     * @param int $regionId\n     * @param int $websiteId\n     * @param int $storeId\n     * @param int $entityId\n     * @return array[]\n     *\/",90],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","fetchWeeeTaxCalculationsByEntity",98],"(",["T_VARIABLE","$countryId",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$regionId",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$websiteId",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$storeId",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$entityId",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$attributeSelect",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getConnection",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","select",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$attributeSelect",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","from",101],"(",["T_WHITESPACE","\n            ",101],"[",["T_CONSTANT_ENCAPSED_STRING","'eavTable'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getTable",102],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",102],")","]",",",["T_WHITESPACE","\n            ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'eavTable.attribute_code'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'eavTable.attribute_id'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'eavTable.frontend_label'",103],"]",["T_WHITESPACE","\n        ",103],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","joinLeft",104],"(",["T_WHITESPACE","\n            ",104],"[",["T_CONSTANT_ENCAPSED_STRING","'eavLabel'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getTable",105],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_label'",105],")","]",",",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'eavLabel.attribute_id = eavTable.attribute_id and eavLabel.store_id = '",106],["T_WHITESPACE"," ",106],".","(",["T_INT_CAST","(int)",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$storeId",106],")",",",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","'eavLabel.value as label_value'",107],["T_WHITESPACE","\n        ",107],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","joinInner",108],"(",["T_WHITESPACE","\n            ",108],"[",["T_CONSTANT_ENCAPSED_STRING","'weeeTax'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getTable",109],"(",["T_CONSTANT_ENCAPSED_STRING","'weee_tax'",109],")","]",",",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'weeeTax.attribute_id = eavTable.attribute_id'",110],",",["T_WHITESPACE","\n            ",110],["T_CONSTANT_ENCAPSED_STRING","'weeeTax.value as weee_value'",111],["T_WHITESPACE","\n        ",111],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","where",112],"(",["T_WHITESPACE","\n            ",112],["T_CONSTANT_ENCAPSED_STRING","'eavTable.frontend_input = ?'",113],",",["T_WHITESPACE","\n            ",113],["T_CONSTANT_ENCAPSED_STRING","'weee'",114],["T_WHITESPACE","\n        ",114],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","where",115],"(",["T_WHITESPACE","\n            ",115],["T_CONSTANT_ENCAPSED_STRING","'weeeTax.website_id IN(?)'",116],",",["T_WHITESPACE","\n            ",116],"[",["T_VARIABLE","$websiteId",117],",",["T_WHITESPACE"," ",117],["T_LNUMBER","0",117],"]",["T_WHITESPACE","\n        ",117],")",["T_OBJECT_OPERATOR","->",118],["T_STRING","where",118],"(",["T_WHITESPACE","\n            ",118],["T_CONSTANT_ENCAPSED_STRING","'weeeTax.country = ?'",119],",",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$countryId",120],["T_WHITESPACE","\n        ",120],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","where",121],"(",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","'weeeTax.state IN(?)'",122],",",["T_WHITESPACE","\n            ",122],"[",["T_VARIABLE","$regionId",123],",",["T_WHITESPACE"," ",123],["T_LNUMBER","0",123],"]",["T_WHITESPACE","\n        ",123],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","where",124],"(",["T_WHITESPACE","\n            ",124],["T_CONSTANT_ENCAPSED_STRING","'weeeTax.entity_id = ?'",125],",",["T_WHITESPACE","\n            ",125],["T_INT_CAST","(int)",126],["T_VARIABLE","$entityId",126],["T_WHITESPACE","\n        ",126],")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$order",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],"[",["T_CONSTANT_ENCAPSED_STRING","'weeeTax.state '",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Framework",129],["T_NS_SEPARATOR","\\",129],["T_STRING","DB",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Select",129],["T_DOUBLE_COLON","::",129],["T_STRING","SQL_DESC",129],",",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'weeeTax.website_id '",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Framework",130],["T_NS_SEPARATOR","\\",130],["T_STRING","DB",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Select",130],["T_DOUBLE_COLON","::",130],["T_STRING","SQL_DESC",130],"]",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$attributeSelect",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","order",131],"(",["T_VARIABLE","$order",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$values",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getConnection",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","fetchAll",133],"(",["T_VARIABLE","$attributeSelect",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$values",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$values",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_RETURN","return",139],["T_WHITESPACE"," ",139],"[","]",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n",140],"}",["T_WHITESPACE","\n",141]]