[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Weee",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Total",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Pricing",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PriceCurrencyInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Address",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Total",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AbstractTotal",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Store",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Store",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Tax",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Sales",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Total",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Quote",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CommonTaxCollector",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Weee",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","AbstractTotal",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Constant for weee item code prefix\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","ITEM_CODE_WEEE_PREFIX",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'weee'",21],";",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Constant for weee item type\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","ITEM_TYPE",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'weee'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Weee\\Helper\\Data\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$weeeData",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\Store\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_store",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Counter\n     *\n     * @var int\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$counter",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_LNUMBER","0",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Array to keep track of weee taxable item code to quote item\n     *\n     * @var array\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$weeeCodeToItemMap",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Accumulates totals for Weee excluding tax\n     *\n     * @var int\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$weeeTotalExclTax",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Accumulates totals for Weee base excluding tax\n     *\n     * @var int\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$weeeBaseTotalExclTax",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @var PriceCurrencyInterface\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$priceCurrency",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Weee\\Helper\\Data $weeeData\n     * @param PriceCurrencyInterface $priceCurrency\n     *\/",70],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","__construct",74],"(",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Weee",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Helper",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Data",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$weeeData",75],",",["T_WHITESPACE","\n        ",75],["T_STRING","PriceCurrencyInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$priceCurrency",76],["T_WHITESPACE","\n    ",76],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","priceCurrency",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$priceCurrency",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","weeeData",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$weeeData",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setCode",80],"(",["T_CONSTANT_ENCAPSED_STRING","'weee'",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","weeeCodeToItemMap",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[","]",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Collect Weee amounts for the quote \/ order\n     *\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @param \\Magento\\Quote\\Api\\Data\\ShippingAssignmentInterface $shippingAssignment\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\Total $total\n     * @return $this\n     *\/",84],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","collect",92],"(",["T_WHITESPACE","\n        ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Quote",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Model",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Quote",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$quote",93],",",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Quote",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Api",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Data",94],["T_NS_SEPARATOR","\\",94],["T_STRING","ShippingAssignmentInterface",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$shippingAssignment",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Quote",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Model",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Quote",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Address",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Total",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$total",95],["T_WHITESPACE","\n    ",95],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n        ",96],["T_STRING","AbstractTotal",97],["T_DOUBLE_COLON","::",97],["T_STRING","collect",97],"(",["T_VARIABLE","$quote",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$shippingAssignment",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$total",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_store",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$quote",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getStore",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(","!",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","weeeData",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","isEnabled",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_store",99],")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n\n        ",101],["T_VARIABLE","$address",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$shippingAssignment",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getShipping",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","getAddress",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$items",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$shippingAssignment",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getItems",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_STRING","count",105],"(",["T_VARIABLE","$items",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","weeeTotalExclTax",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_LNUMBER","0",109],";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","weeeBaseTotalExclTax",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_LNUMBER","0",110],";",["T_WHITESPACE","\n        ",110],["T_FOREACH","foreach",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$items",111],["T_WHITESPACE"," ",111],["T_AS","as",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$item",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$item",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getParentItem",112],"(",")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_CONTINUE","continue",113],";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","resetItemData",115],"(",["T_VARIABLE","$item",115],")",";",["T_WHITESPACE","\n            ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$item",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getHasChildren",116],"(",")",["T_WHITESPACE"," ",116],["T_BOOLEAN_AND","&&",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$item",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","isChildrenCalculated",116],"(",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$item",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getChildren",117],"(",")",["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$child",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","resetItemData",118],"(",["T_VARIABLE","$child",118],")",";",["T_WHITESPACE","\n                    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","process",119],"(",["T_VARIABLE","$address",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$total",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$child",119],")",";",["T_WHITESPACE","\n                ",119],"}",["T_WHITESPACE","\n                ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","recalculateParent",121],"(",["T_VARIABLE","$item",121],")",";",["T_WHITESPACE","\n            ",121],"}",["T_WHITESPACE"," ",122],["T_ELSE","else",122],["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","process",123],"(",["T_VARIABLE","$address",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$total",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$item",123],")",";",["T_WHITESPACE","\n            ",123],"}",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$total",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","setWeeeCodeToItemMap",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","weeeCodeToItemMap",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$total",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","setWeeeTotalExclTax",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","weeeTotalExclTax",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$total",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","setWeeeBaseTotalExclTax",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","weeeBaseTotalExclTax",128],")",";",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Calculate item fixed tax and prepare information for discount and regular taxation\n     *\n     * @param   \\Magento\\Quote\\Model\\Quote\\Address $address\n     * @param   \\Magento\\Quote\\Model\\Quote\\Address\\Total $total\n     * @param   \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem $item\n     * @return  void|$this\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",132],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","process",142],"(",["T_WHITESPACE","\n        ",142],["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Quote",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Model",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Quote",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Address",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$address",143],",",["T_WHITESPACE","\n        ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Quote",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Model",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Quote",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Address",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Total",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$total",144],",",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$item",145],["T_WHITESPACE","\n    ",145],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$attributes",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","weeeData",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getProductWeeeAttributes",147],"(",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$item",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getProduct",148],"(",")",",",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$address",149],",",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$address",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getQuote",150],"(",")",["T_OBJECT_OPERATOR","->",150],["T_STRING","getBillingAddress",150],"(",")",",",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_store",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getWebsiteId",151],"(",")",["T_WHITESPACE","\n        ",151],")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$productTaxes",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],"[","]",";",["T_WHITESPACE","\n\n        ",154],["T_VARIABLE","$totalValueInclTax",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_LNUMBER","0",156],";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$baseTotalValueInclTax",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_LNUMBER","0",157],";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$totalRowValueInclTax",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_LNUMBER","0",158],";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$baseTotalRowValueInclTax",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_LNUMBER","0",159],";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$totalValueExclTax",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_LNUMBER","0",161],";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$baseTotalValueExclTax",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_LNUMBER","0",162],";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$totalRowValueExclTax",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_LNUMBER","0",163],";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$baseTotalRowValueExclTax",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_LNUMBER","0",164],";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$associatedTaxables",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$item",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getAssociatedTaxables",166],"(",")",";",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_VARIABLE","$associatedTaxables",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$associatedTaxables",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],"[","]",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE"," ",169],["T_ELSE","else",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_COMMENT","\/\/ remove existing weee associated taxables\n",170],["T_WHITESPACE","            ",171],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$associatedTaxables",171],["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$iTaxable",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$taxable",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$taxable",172],"[",["T_STRING","CommonTaxCollector",172],["T_DOUBLE_COLON","::",172],["T_STRING","KEY_ASSOCIATED_TAXABLE_TYPE",172],"]",["T_WHITESPACE"," ",172],["T_IS_EQUAL","==",172],["T_WHITESPACE"," ",172],["T_STRING","self",172],["T_DOUBLE_COLON","::",172],["T_STRING","ITEM_TYPE",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                    ",172],["T_UNSET","unset",173],"(",["T_VARIABLE","$associatedTaxables",173],"[",["T_VARIABLE","$iTaxable",173],"]",")",";",["T_WHITESPACE","\n                ",173],"}",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n\n        ",176],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$attributes",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$key",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$attribute",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$title",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$attribute",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getName",179],"(",")",";",["T_WHITESPACE","\n\n            ",179],["T_VARIABLE","$baseValueExclTax",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$baseValueInclTax",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$attribute",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getAmount",181],"(",")",";",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$valueExclTax",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$valueInclTax",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","priceCurrency",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","round",182],"(",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","priceCurrency",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","convert",183],"(",["T_VARIABLE","$baseValueExclTax",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_store",183],")",["T_WHITESPACE","\n            ",183],")",";",["T_WHITESPACE","\n\n            ",184],["T_VARIABLE","$rowValueInclTax",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$rowValueExclTax",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","priceCurrency",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","round",186],"(",["T_VARIABLE","$valueInclTax",186],["T_WHITESPACE"," ",186],"*",["T_WHITESPACE"," ",186],["T_VARIABLE","$item",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getTotalQty",186],"(",")",")",";",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$baseRowValueInclTax",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","priceCurrency",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","round",187],"(",["T_VARIABLE","$baseValueInclTax",187],["T_WHITESPACE"," ",187],"*",["T_WHITESPACE"," ",187],["T_VARIABLE","$item",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getTotalQty",187],"(",")",")",";",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$baseRowValueExclTax",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$baseRowValueInclTax",188],";",["T_WHITESPACE","\n\n            ",188],["T_VARIABLE","$totalValueInclTax",190],["T_WHITESPACE"," ",190],["T_PLUS_EQUAL","+=",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$valueInclTax",190],";",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$baseTotalValueInclTax",191],["T_WHITESPACE"," ",191],["T_PLUS_EQUAL","+=",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$baseValueInclTax",191],";",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$totalRowValueInclTax",192],["T_WHITESPACE"," ",192],["T_PLUS_EQUAL","+=",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$rowValueInclTax",192],";",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$baseTotalRowValueInclTax",193],["T_WHITESPACE"," ",193],["T_PLUS_EQUAL","+=",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$baseRowValueInclTax",193],";",["T_WHITESPACE","\n\n            ",193],["T_VARIABLE","$totalValueExclTax",195],["T_WHITESPACE"," ",195],["T_PLUS_EQUAL","+=",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$valueExclTax",195],";",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$baseTotalValueExclTax",196],["T_WHITESPACE"," ",196],["T_PLUS_EQUAL","+=",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$baseValueExclTax",196],";",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$totalRowValueExclTax",197],["T_WHITESPACE"," ",197],["T_PLUS_EQUAL","+=",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$rowValueExclTax",197],";",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$baseTotalRowValueExclTax",198],["T_WHITESPACE"," ",198],["T_PLUS_EQUAL","+=",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$baseRowValueExclTax",198],";",["T_WHITESPACE","\n\n            ",198],["T_VARIABLE","$productTaxes",200],"[","]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"[",["T_WHITESPACE","\n                ",200],["T_CONSTANT_ENCAPSED_STRING","'title'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$title",201],",",["T_WHITESPACE","\n                ",201],["T_CONSTANT_ENCAPSED_STRING","'base_amount'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$baseValueExclTax",202],",",["T_WHITESPACE","\n                ",202],["T_CONSTANT_ENCAPSED_STRING","'amount'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$valueExclTax",203],",",["T_WHITESPACE","\n                ",203],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$rowValueExclTax",204],",",["T_WHITESPACE","\n                ",204],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$baseRowValueExclTax",205],",",["T_WHITESPACE","\n                ",205],["T_CONSTANT_ENCAPSED_STRING","'base_amount_incl_tax'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$baseValueInclTax",206],",",["T_WHITESPACE","\n                ",206],["T_CONSTANT_ENCAPSED_STRING","'amount_incl_tax'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$valueInclTax",207],",",["T_WHITESPACE","\n                ",207],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$rowValueInclTax",208],",",["T_WHITESPACE","\n                ",208],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$baseRowValueInclTax",209],",",["T_WHITESPACE","\n            ",209],"]",";",["T_WHITESPACE","\n\n            ",210],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","weeeData",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","isTaxable",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_store",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$weeeItemCode",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","self",213],["T_DOUBLE_COLON","::",213],["T_STRING","ITEM_CODE_WEEE_PREFIX",213],["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getNextIncrement",213],"(",")",";",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$weeeItemCode",214],["T_WHITESPACE"," ",214],["T_CONCAT_EQUAL",".=",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'-'",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$title",214],";",["T_WHITESPACE","\n\n                ",214],["T_VARIABLE","$associatedTaxables",216],"[","]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],"[",["T_WHITESPACE","\n                    ",216],["T_STRING","CommonTaxCollector",217],["T_DOUBLE_COLON","::",217],["T_STRING","KEY_ASSOCIATED_TAXABLE_TYPE",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_STRING","self",217],["T_DOUBLE_COLON","::",217],["T_STRING","ITEM_TYPE",217],",",["T_WHITESPACE","\n                    ",217],["T_STRING","CommonTaxCollector",218],["T_DOUBLE_COLON","::",218],["T_STRING","KEY_ASSOCIATED_TAXABLE_CODE",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$weeeItemCode",218],",",["T_WHITESPACE","\n                    ",218],["T_STRING","CommonTaxCollector",219],["T_DOUBLE_COLON","::",219],["T_STRING","KEY_ASSOCIATED_TAXABLE_UNIT_PRICE",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$valueExclTax",219],",",["T_WHITESPACE","\n                    ",219],["T_STRING","CommonTaxCollector",220],["T_DOUBLE_COLON","::",220],["T_STRING","KEY_ASSOCIATED_TAXABLE_BASE_UNIT_PRICE",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$baseValueExclTax",220],",",["T_WHITESPACE","\n                    ",220],["T_STRING","CommonTaxCollector",221],["T_DOUBLE_COLON","::",221],["T_STRING","KEY_ASSOCIATED_TAXABLE_QUANTITY",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$item",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getTotalQty",221],"(",")",",",["T_WHITESPACE","\n                    ",221],["T_STRING","CommonTaxCollector",222],["T_DOUBLE_COLON","::",222],["T_STRING","KEY_ASSOCIATED_TAXABLE_TAX_CLASS_ID",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$item",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getProduct",222],"(",")",["T_OBJECT_OPERATOR","->",222],["T_STRING","getTaxClassId",222],"(",")",",",["T_WHITESPACE","\n                ",222],"]",";",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","weeeCodeToItemMap",224],"[",["T_VARIABLE","$weeeItemCode",224],"]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$item",224],";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$item",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","setAssociatedTaxables",227],"(",["T_VARIABLE","$associatedTaxables",227],")",";",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$item",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","setWeeeTaxAppliedAmount",229],"(",["T_VARIABLE","$totalValueExclTax",229],")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","setBaseWeeeTaxAppliedAmount",230],"(",["T_VARIABLE","$baseTotalValueExclTax",230],")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","setWeeeTaxAppliedRowAmount",231],"(",["T_VARIABLE","$totalRowValueExclTax",231],")",["T_WHITESPACE","\n            ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","setBaseWeeeTaxAppliedRowAmnt",232],"(",["T_VARIABLE","$baseTotalRowValueExclTax",232],")",";",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$item",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","setWeeeTaxAppliedAmountInclTax",234],"(",["T_VARIABLE","$totalValueInclTax",234],")",["T_WHITESPACE","\n            ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","setBaseWeeeTaxAppliedAmountInclTax",235],"(",["T_VARIABLE","$baseTotalValueInclTax",235],")",["T_WHITESPACE","\n            ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","setWeeeTaxAppliedRowAmountInclTax",236],"(",["T_VARIABLE","$totalRowValueInclTax",236],")",["T_WHITESPACE","\n            ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","setBaseWeeeTaxAppliedRowAmntInclTax",237],"(",["T_VARIABLE","$baseTotalRowValueInclTax",237],")",";",["T_WHITESPACE","\n\n        ",237],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","processTotalAmount",239],"(",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$total",240],",",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$totalRowValueExclTax",241],",",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$baseTotalRowValueExclTax",242],",",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$totalRowValueInclTax",243],",",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$baseTotalRowValueInclTax",244],["T_WHITESPACE","\n        ",244],")",";",["T_WHITESPACE","\n\n        ",245],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","weeeData",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setApplied",247],"(",["T_VARIABLE","$item",247],",",["T_WHITESPACE"," ",247],["T_STRING","array_merge",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","weeeData",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getApplied",247],"(",["T_VARIABLE","$item",247],")",",",["T_WHITESPACE"," ",247],["T_VARIABLE","$productTaxes",247],")",")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Process row amount based on FPT total amount configuration setting\n     *\n     * @param   \\Magento\\Quote\\Model\\Quote\\Address\\Total $total\n     * @param   float $rowValueExclTax\n     * @param   float $baseRowValueExclTax\n     * @param   float $rowValueInclTax\n     * @param   float $baseRowValueInclTax\n     * @return  $this\n     *\/",250],["T_WHITESPACE","\n    ",259],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","processTotalAmount",260],"(",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$total",261],",",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$rowValueExclTax",262],",",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$baseRowValueExclTax",263],",",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$rowValueInclTax",264],",",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$baseRowValueInclTax",265],["T_WHITESPACE","\n    ",265],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n        ",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(","!",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","weeeData",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","isTaxable",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_store",267],")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_COMMENT","\/\/Accumulate the values.  Will be used later in the 'weee tax' collector\n",268],["T_WHITESPACE","            ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","weeeTotalExclTax",269],["T_WHITESPACE"," ",269],["T_PLUS_EQUAL","+=",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","priceCurrency",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","round",269],"(",["T_VARIABLE","$rowValueExclTax",269],")",";",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","weeeBaseTotalExclTax",270],["T_WHITESPACE"," ",270],["T_PLUS_EQUAL","+=",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","priceCurrency",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","round",270],"(",["T_VARIABLE","$baseRowValueExclTax",270],")",";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n\n        ",271],["T_COMMENT","\/\/This value is used to calculate shipping cost; it will be overridden by tax collector\n",273],["T_WHITESPACE","        ",274],["T_VARIABLE","$total",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","setSubtotalInclTax",274],"(",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$total",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getSubtotalInclTax",275],"(",")",["T_WHITESPACE"," ",275],"+",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","priceCurrency",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","round",275],"(",["T_VARIABLE","$rowValueInclTax",275],")",["T_WHITESPACE","\n        ",275],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$total",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","setBaseSubtotalInclTax",277],"(",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$total",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getBaseSubtotalInclTax",278],"(",")",["T_WHITESPACE"," ",278],"+",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","priceCurrency",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","round",278],"(",["T_VARIABLE","$baseRowValueInclTax",278],")",["T_WHITESPACE","\n        ",278],")",";",["T_WHITESPACE","\n        ",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Increment and return counter. This function is intended to be used to generate temporary\n     * id for an item.\n     *\n     * @return int\n     *\/",283],["T_WHITESPACE","\n    ",288],["T_PROTECTED","protected",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","getNextIncrement",289],"(",")",["T_WHITESPACE","\n    ",289],"{",["T_WHITESPACE","\n        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_INC","++",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","counter",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Recalculate parent item amounts based on children results\n     *\n     * @param   \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem $item\n     * @return  void\n     *\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",294],["T_WHITESPACE","\n    ",301],["T_PROTECTED","protected",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","recalculateParent",302],"(",["T_NS_SEPARATOR","\\",302],["T_STRING","Magento",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Quote",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Model",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Quote",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Item",302],["T_NS_SEPARATOR","\\",302],["T_STRING","AbstractItem",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$item",302],")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$associatedTaxables",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],"[","]",";",["T_WHITESPACE","\n        ",304],["T_FOREACH","foreach",305],["T_WHITESPACE"," ",305],"(",["T_VARIABLE","$item",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getChildren",305],"(",")",["T_WHITESPACE"," ",305],["T_AS","as",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$child",305],")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_VARIABLE","$associatedTaxables",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_STRING","array_merge",306],"(",["T_VARIABLE","$associatedTaxables",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$child",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getAssociatedTaxables",306],"(",")",")",";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$item",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","setAssociatedTaxables",308],"(",["T_VARIABLE","$associatedTaxables",308],")",";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Reset information about Tax and Wee on FPT for shopping cart item\n     *\n     * @param   \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem $item\n     * @return  void\n     *\/",311],["T_WHITESPACE","\n    ",316],["T_PROTECTED","protected",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","resetItemData",317],"(",["T_VARIABLE","$item",317],")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","weeeData",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","setApplied",319],"(",["T_VARIABLE","$item",319],",",["T_WHITESPACE"," ",319],"[","]",")",";",["T_WHITESPACE","\n\n        ",319],["T_VARIABLE","$item",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","setAssociatedTaxables",321],"(","[","]",")",";",["T_WHITESPACE","\n\n        ",321],["T_VARIABLE","$item",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","setBaseWeeeTaxDisposition",323],"(",["T_LNUMBER","0",323],")",";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$item",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","setWeeeTaxDisposition",324],"(",["T_LNUMBER","0",324],")",";",["T_WHITESPACE","\n\n        ",324],["T_VARIABLE","$item",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","setBaseWeeeTaxRowDisposition",326],"(",["T_LNUMBER","0",326],")",";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$item",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","setWeeeTaxRowDisposition",327],"(",["T_LNUMBER","0",327],")",";",["T_WHITESPACE","\n\n        ",327],["T_VARIABLE","$item",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","setBaseWeeeTaxAppliedAmount",329],"(",["T_LNUMBER","0",329],")",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$item",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","setBaseWeeeTaxAppliedRowAmnt",330],"(",["T_LNUMBER","0",330],")",";",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$item",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","setWeeeTaxAppliedAmount",332],"(",["T_LNUMBER","0",332],")",";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$item",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","setWeeeTaxAppliedRowAmount",333],"(",["T_LNUMBER","0",333],")",";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\Total $total\n     * @return array|null\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",336],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","fetch",342],"(",["T_NS_SEPARATOR","\\",342],["T_STRING","Magento",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Quote",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Model",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Quote",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$quote",342],",",["T_WHITESPACE"," ",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Magento",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Quote",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Model",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Quote",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Address",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Total",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$total",342],")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_STRING","null",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Process model configuration array.\n     * This method can be used for changing totals collect sort order\n     *\n     * @param   array $config\n     * @param   Store $store\n     * @return  array\n     *\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",347],["T_WHITESPACE","\n    ",356],["T_PUBLIC","public",357],["T_WHITESPACE"," ",357],["T_FUNCTION","function",357],["T_WHITESPACE"," ",357],["T_STRING","processConfigArray",357],"(",["T_VARIABLE","$config",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$store",357],")",["T_WHITESPACE","\n    ",357],"{",["T_WHITESPACE","\n        ",358],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$config",359],";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * No aggregated label for fixed product tax\n     *\n     * TODO: fix\n     * @return string\n     *\/",362],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","getLabel",368],"(",")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","''",370],";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n",371],"}",["T_WHITESPACE","\n",372]]