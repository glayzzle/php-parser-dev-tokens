[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Weee",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","App",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Action",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Class ContextPlugin\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",9],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ContextPlugin",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$customerSession",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Http\\Context\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$httpContext",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Tax\\Helper\\Data\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$taxHelper",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Weee\\Helper\\Data\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$weeeHelper",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Module\\Manager\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$moduleManager",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Weee\\Model\\Tax\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$weeeTax",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\PageCache\\Model\\Config\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$cacheConfig",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$storeManager",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$scopeConfig",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Framework\\App\\Http\\Context $httpContext\n     * @param \\Magento\\Weee\\Model\\Tax $weeeTax\n     * @param \\Magento\\Tax\\Helper\\Data $taxHelper\n     * @param \\Magento\\Weee\\Helper\\Data $weeeHelper\n     * @param \\Magento\\Framework\\Module\\Manager $moduleManager\n     * @param \\Magento\\PageCache\\Model\\Config $cacheConfig\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     *\/",60],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","__construct",71],"(",["T_WHITESPACE","\n        ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Customer",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Model",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Session",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$customerSession",72],",",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","App",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Http",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Context",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$httpContext",73],",",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Weee",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Tax",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$weeeTax",74],",",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Tax",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Helper",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Data",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$taxHelper",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Weee",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Helper",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Data",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$weeeHelper",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Framework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Module",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Manager",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$moduleManager",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","PageCache",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Model",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Config",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$cacheConfig",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Store",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","StoreManagerInterface",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$storeManager",79],",",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Framework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","App",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Config",80],["T_NS_SEPARATOR","\\",80],["T_STRING","ScopeConfigInterface",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$scopeConfig",80],["T_WHITESPACE","\n    ",80],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","customerSession",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$customerSession",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","httpContext",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$httpContext",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","weeeTax",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$weeeTax",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","taxHelper",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$taxHelper",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","weeeHelper",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$weeeHelper",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","moduleManager",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$moduleManager",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","cacheConfig",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$cacheConfig",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","storeManager",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$storeManager",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","scopeConfig",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$scopeConfig",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\ActionInterface $subject\n     * @param \\Magento\\Framework\\App\\RequestInterface $request\n     * @return void\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",93],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","beforeDispatch",102],"(",["T_WHITESPACE","\n        ",102],["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Framework",103],["T_NS_SEPARATOR","\\",103],["T_STRING","App",103],["T_NS_SEPARATOR","\\",103],["T_STRING","ActionInterface",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$subject",103],",",["T_WHITESPACE","\n        ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Framework",104],["T_NS_SEPARATOR","\\",104],["T_STRING","App",104],["T_NS_SEPARATOR","\\",104],["T_STRING","RequestInterface",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$request",104],["T_WHITESPACE","\n    ",104],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(","!",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","weeeHelper",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","isEnabled",106],"(",")",["T_WHITESPACE"," ",106],["T_BOOLEAN_OR","||",106],["T_WHITESPACE","\n            ",106],"!",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","customerSession",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","isLoggedIn",107],"(",")",["T_WHITESPACE"," ",107],["T_BOOLEAN_OR","||",107],["T_WHITESPACE","\n            ",107],"!",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","moduleManager",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","isEnabled",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_PageCache'",108],")",["T_WHITESPACE"," ",108],["T_BOOLEAN_OR","||",108],["T_WHITESPACE","\n            ",108],"!",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","cacheConfig",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","isEnabled",109],"(",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_RETURN","return",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$basedOn",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","taxHelper",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getTaxBasedOn",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$basedOn",114],["T_WHITESPACE"," ",114],["T_IS_NOT_EQUAL","!=",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'shipping'",114],["T_WHITESPACE"," ",114],["T_BOOLEAN_AND","&&",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$basedOn",114],["T_WHITESPACE"," ",114],["T_IS_NOT_EQUAL","!=",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'billing'",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_RETURN","return",115],";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$weeeTaxRegion",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getWeeeTaxRegion",118],"(",["T_VARIABLE","$basedOn",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$websiteId",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","storeManager",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getStore",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getWebsiteId",119],"(",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$countryId",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$weeeTaxRegion",120],"[",["T_CONSTANT_ENCAPSED_STRING","'countryId'",120],"]",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$regionId",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$weeeTaxRegion",121],"[",["T_CONSTANT_ENCAPSED_STRING","'regionId'",121],"]",";",["T_WHITESPACE","\n\n        ",121],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_VARIABLE","$countryId",123],["T_WHITESPACE"," ",123],["T_BOOLEAN_AND","&&",123],["T_WHITESPACE"," ",123],"!",["T_VARIABLE","$regionId",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_COMMENT","\/\/ country and region does not exist\n",124],["T_WHITESPACE","            ",125],["T_RETURN","return",125],";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE"," ",126],["T_ELSE","else",126],["T_WHITESPACE"," ",126],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$countryId",126],["T_WHITESPACE"," ",126],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],"!",["T_VARIABLE","$regionId",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_COMMENT","\/\/ country exist and region does not exist\n",127],["T_WHITESPACE","            ",128],["T_VARIABLE","$regionId",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_LNUMBER","0",128],";",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$exist",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","weeeTax",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","isWeeeInLocation",129],"(",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$countryId",130],",",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$regionId",131],",",["T_WHITESPACE","\n                ",131],["T_VARIABLE","$websiteId",132],["T_WHITESPACE","\n            ",132],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE"," ",134],["T_ELSE","else",134],["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_COMMENT","\/\/ country and region exist\n",135],["T_WHITESPACE","            ",136],["T_VARIABLE","$exist",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","weeeTax",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","isWeeeInLocation",136],"(",["T_WHITESPACE","\n                ",136],["T_VARIABLE","$countryId",137],",",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$regionId",138],",",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$websiteId",139],["T_WHITESPACE","\n            ",139],")",";",["T_WHITESPACE","\n            ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(","!",["T_VARIABLE","$exist",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                ",141],["T_COMMENT","\/\/ just check the country for weee\n",142],["T_WHITESPACE","                ",143],["T_VARIABLE","$regionId",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_LNUMBER","0",143],";",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$exist",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","weeeTax",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","isWeeeInLocation",144],"(",["T_WHITESPACE","\n                    ",144],["T_VARIABLE","$countryId",145],",",["T_WHITESPACE","\n                    ",145],["T_VARIABLE","$regionId",146],",",["T_WHITESPACE","\n                    ",146],["T_VARIABLE","$websiteId",147],["T_WHITESPACE","\n                ",147],")",";",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n\n        ",150],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$exist",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","httpContext",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setValue",153],"(",["T_WHITESPACE","\n                ",153],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_region'",154],",",["T_WHITESPACE","\n                ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'countryId'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$countryId",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'regionId'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$regionId",155],"]",",",["T_WHITESPACE","\n                ",155],["T_LNUMBER","0",156],["T_WHITESPACE","\n            ",156],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * @param string $basedOn\n     * @return array\n     *\/",161],["T_WHITESPACE","\n    ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","getWeeeTaxRegion",165],"(",["T_VARIABLE","$basedOn",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$countryId",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","null",167],";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$regionId",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","null",168],";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$defaultCountryId",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","scopeConfig",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getValue",169],"(",["T_WHITESPACE","\n            ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Tax",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Model",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Config",170],["T_DOUBLE_COLON","::",170],["T_STRING","CONFIG_XML_PATH_DEFAULT_COUNTRY",170],",",["T_WHITESPACE","\n            ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Store",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Model",171],["T_NS_SEPARATOR","\\",171],["T_STRING","ScopeInterface",171],["T_DOUBLE_COLON","::",171],["T_STRING","SCOPE_STORE",171],",",["T_WHITESPACE","\n            ",171],["T_STRING","null",172],["T_WHITESPACE","\n        ",172],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$defaultRegionId",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","scopeConfig",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getValue",174],"(",["T_WHITESPACE","\n            ",174],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Tax",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Model",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Config",175],["T_DOUBLE_COLON","::",175],["T_STRING","CONFIG_XML_PATH_DEFAULT_REGION",175],",",["T_WHITESPACE","\n            ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Store",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Model",176],["T_NS_SEPARATOR","\\",176],["T_STRING","ScopeInterface",176],["T_DOUBLE_COLON","::",176],["T_STRING","SCOPE_STORE",176],",",["T_WHITESPACE","\n            ",176],["T_STRING","null",177],["T_WHITESPACE","\n        ",177],")",";",["T_WHITESPACE","\n\n        ",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$basedOn",180],["T_WHITESPACE"," ",180],["T_IS_EQUAL","==",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'shipping'",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$defaultShippingAddress",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","customerSession",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getDefaultTaxShippingAddress",181],"(",")",";",["T_WHITESPACE","\n            ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_EMPTY","empty",182],"(",["T_VARIABLE","$defaultShippingAddress",182],")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$countryId",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$defaultCountryId",183],";",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$regionId",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$defaultRegionId",184],";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$countryId",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$defaultShippingAddress",186],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",186],"]",";",["T_WHITESPACE","\n                ",186],["T_VARIABLE","$regionId",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$defaultShippingAddress",187],"[",["T_CONSTANT_ENCAPSED_STRING","'region_id'",187],"]",";",["T_WHITESPACE","\n            ",187],"}",["T_WHITESPACE","\n\n        ",188],"}",["T_WHITESPACE"," ",190],["T_ELSE","else",190],["T_WHITESPACE"," ",190],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$basedOn",190],["T_WHITESPACE"," ",190],["T_IS_EQUAL","==",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'billing'",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$defaultBillingAddress",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","customerSession",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getDefaultTaxBillingAddress",191],"(",")",";",["T_WHITESPACE","\n            ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_EMPTY","empty",192],"(",["T_VARIABLE","$defaultBillingAddress",192],")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$countryId",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$defaultCountryId",193],";",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$regionId",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$defaultRegionId",194],";",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE"," ",195],["T_ELSE","else",195],["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                ",195],["T_VARIABLE","$countryId",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$defaultBillingAddress",196],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",196],"]",";",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$regionId",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$defaultBillingAddress",197],"[",["T_CONSTANT_ENCAPSED_STRING","'region_id'",197],"]",";",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],"[",["T_CONSTANT_ENCAPSED_STRING","'countryId'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$countryId",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'regionId'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$regionId",200],"]",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n",201],"}",["T_WHITESPACE","\n",202]]